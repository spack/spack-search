{
    "matches": {
        "/tmp/vanessa/spack-stage/spack-stage-help2man-1.47.11-eq5s66xrnypk6tnhx4cmp7gewwudsoa6/spack-src/configure.ac": "dnl Process this file with autoconf to produce a configure script.\n\n# Copyright (C) 2012, 2014 Free Software Foundation, Inc.\n\n# Copying and distribution of this file, with or without modification,\n# are permitted in any medium without royalty provided the copyright\n# notice and this notice are preserved.  This file is offered as-is,\n# without any warranty.\n\ndnl Written by Brendan O'Dea <bod@debian.org>\n\nAC_INIT([GNU help2man], m4_esyscmd_s([./help2man.PL --version]),\n\t[bug-help2man@gnu.org])\n\nAC_CONFIG_SRCDIR(help2man.PL)\nAC_CONFIG_AUX_DIR([build-aux])\nAC_SUBST(auxdir, $ac_aux_dir)\n\nLOCAL_PROG_PERL(5.008)\ntest -z \"$PERL\" && AC_MSG_ERROR([perl 5.8 required])\n\nLOCAL_PERL_MODULE(Locale::gettext)\nAC_PATH_PROG(MSGFMT, msgfmt)\n\nAC_PROG_CC\nAC_SEARCH_LIBS(dlsym, dl)\nAC_SEARCH_LIBS(bindtextdomain, intl)\n\nnls_default=yes\ntest \"x$ac_cv_module_Locale__gettext\" = xno && nls_default=no\ntest -z \"$MSGFMT\" && nls_default=no\ntest \"x$ac_cv_search_dlsym\" = xno && nls_default=no\ntest \"x$ac_cv_search_bindtextdomain\" = xno && nls_default=no\n\nAC_ARG_ENABLE([nls], AC_HELP_STRING([--enable-nls],\n\t[enable support for generating localised pages]),\n\t[ac_cv_enable_nls=$enableval], [ac_cv_enable_nls=$nls_default])\n\nAC_SUBST(extra_make_all, '')\nAC_SUBST(extra_make_install, '')\nAC_SUBST(extra_extract_args, '')\nif test \"$ac_cv_enable_nls\" = yes\nthen\n    # note: the following tests should match what is used to set nls_default above\n    test \"x$ac_cv_module_Locale__gettext\" = xno &&\n\tAC_MSG_ERROR([perl module Locale::gettext required])\n\n    test -z \"$MSGFMT\" && AC_MSG_ERROR([gettext required])\n\n    test \"x$ac_cv_search_dlsym\" = xno &&\n\tAC_MSG_ERROR([dlsym() required])\n\n    test \"x$ac_cv_search_bindtextdomain\" = xno &&\n\tAC_MSG_ERROR([bindtextdomain() required])\n\n    extra_make_all='preload man_l10n info_l10n'\n    extra_make_install='install_preload install_l10n'\n    extra_extract_args='--with-gettext'\nfi\n\nAC_PROG_INSTALL\nLOCAL_PROG_OR_MISSING(makeinfo)\nLOCAL_PROG_OR_MISSING(install-info)\nLOCAL_PROG_OR_MISSING(msgmerge)\nLOCAL_PROG_OR_MISSING(xgettext)\nLOCAL_PROG_OR_MISSING(po4a-updatepo)\nLOCAL_PROG_OR_MISSING(po4a-translate)\n\nAC_CONFIG_FILES([Makefile])\nAC_OUTPUT\n",
        "/tmp/vanessa/spack-stage/spack-stage-help2man-1.47.11-eq5s66xrnypk6tnhx4cmp7gewwudsoa6/spack-src/bindtextdomain.c": "/*\n * Nasty preload hack to allow message catalogs to be read from the build tree.\n *\n * export LD_PRELOAD=/usr/lib/help2man/bindtextdomain.so\n * export TEXTDOMAIN=program\n * export LOCALEDIR=${DESTDIR}/usr/share/locale\n *\n * Copyright (C) 2012 Free Software Foundation, Inc.\n *\n * Copying and distribution of this file, with or without modification,\n * are permitted in any medium without royalty provided the copyright\n * notice and this notice are preserved.  This file is offered as-is,\n * without any warranty.\n *\n * Written by Brendan O'Dea <bod@debian.org>\n */\n\n#define _GNU_SOURCE\n\n#include <stdio.h>\n#include <stdlib.h>\n#include <string.h>\n#include <dlfcn.h>\n\n#define PRELOAD \"bindtextdomain.so\"\n\nstatic void die(char const *msg)\n{\n    fprintf(stderr, PRELOAD \": %s\\n\", msg);\n    exit(1);\n}\n\nstatic char *e_textdomain = 0;\nstatic char *e_localedir = 0;\nstatic char *(*r_textdomain)(char const *) = 0;\nstatic char *(*r_bindtextdomain)(char const *, char const *) = 0;\nstatic char *(*r_bind_textdomain_codeset)(char const *, char const *) = 0;\n\nvoid setup()\n{\n    static int done = 0;\n    if (done++)\n        return;\n\n    if (!(e_textdomain = getenv(\"TEXTDOMAIN\")))\n\tdie(\"TEXTDOMAIN not set\");\n\n    if (!(e_localedir = getenv(\"LOCALEDIR\")))\n\tdie(\"LOCALEDIR not set\");\n\n    if (!(r_textdomain = dlsym(RTLD_NEXT, \"textdomain\")))\n\tdie(\"can't find symbol \\\"textdomain\\\"\");\n\n    if (!(r_bindtextdomain = dlsym(RTLD_NEXT, \"bindtextdomain\")))\n\tdie(\"can't find symbol \\\"bindtextdomain\\\"\");\n\n    if (!(r_bind_textdomain_codeset = dlsym(RTLD_NEXT,\n    \t\t\t\t\t    \"bind_textdomain_codeset\")))\n\tdie(\"can't find symbol \\\"bind_textdomain_codeset\\\"\");\n}\n\nchar *textdomain(char const *domainname)\n{\n    char *r;\n    setup();\n    r = r_textdomain(domainname);\n    if (domainname && !strcmp(domainname, e_textdomain))\n        r_bindtextdomain(domainname, e_localedir);\n\n    return r;\n}\n\nchar *bindtextdomain(char const *domainname, char const *dirname)\n{\n    char const *dir = dirname;\n    setup();\n    if (domainname && !strcmp(domainname, e_textdomain))\n        dir = e_localedir;\n\n    return r_bindtextdomain(domainname, dir);\n}\n\nchar *bind_textdomain_codeset(char const *domainname, char const *codeset)\n{\n    char *r;\n    setup();\n    r = r_bind_textdomain_codeset(domainname, codeset);\n    if (domainname && !strcmp(domainname, e_textdomain))\n        r_bindtextdomain(domainname, e_localedir);\n\n    return r;\n}\n"
    },
    "skipped": [
        "/tmp/vanessa/spack-stage/spack-stage-help2man-1.47.11-eq5s66xrnypk6tnhx4cmp7gewwudsoa6/spack-src/po/sr.gmo",
        "/tmp/vanessa/spack-stage/spack-stage-help2man-1.47.11-eq5s66xrnypk6tnhx4cmp7gewwudsoa6/spack-src/po/fi.gmo",
        "/tmp/vanessa/spack-stage/spack-stage-help2man-1.47.11-eq5s66xrnypk6tnhx4cmp7gewwudsoa6/spack-src/po/sv.gmo",
        "/tmp/vanessa/spack-stage/spack-stage-help2man-1.47.11-eq5s66xrnypk6tnhx4cmp7gewwudsoa6/spack-src/po/hr.gmo",
        "/tmp/vanessa/spack-stage/spack-stage-help2man-1.47.11-eq5s66xrnypk6tnhx4cmp7gewwudsoa6/spack-src/po/uk.gmo",
        "/tmp/vanessa/spack-stage/spack-stage-help2man-1.47.11-eq5s66xrnypk6tnhx4cmp7gewwudsoa6/spack-src/po/pt_BR.gmo",
        "/tmp/vanessa/spack-stage/spack-stage-help2man-1.47.11-eq5s66xrnypk6tnhx4cmp7gewwudsoa6/spack-src/po/ja.gmo",
        "/tmp/vanessa/spack-stage/spack-stage-help2man-1.47.11-eq5s66xrnypk6tnhx4cmp7gewwudsoa6/spack-src/po/fr.gmo",
        "/tmp/vanessa/spack-stage/spack-stage-help2man-1.47.11-eq5s66xrnypk6tnhx4cmp7gewwudsoa6/spack-src/po/de.gmo",
        "/tmp/vanessa/spack-stage/spack-stage-help2man-1.47.11-eq5s66xrnypk6tnhx4cmp7gewwudsoa6/spack-src/po/ta.gmo",
        "/tmp/vanessa/spack-stage/spack-stage-help2man-1.47.11-eq5s66xrnypk6tnhx4cmp7gewwudsoa6/spack-src/po/eo.gmo",
        "/tmp/vanessa/spack-stage/spack-stage-help2man-1.47.11-eq5s66xrnypk6tnhx4cmp7gewwudsoa6/spack-src/po/hu.gmo",
        "/tmp/vanessa/spack-stage/spack-stage-help2man-1.47.11-eq5s66xrnypk6tnhx4cmp7gewwudsoa6/spack-src/po/nb.gmo",
        "/tmp/vanessa/spack-stage/spack-stage-help2man-1.47.11-eq5s66xrnypk6tnhx4cmp7gewwudsoa6/spack-src/po/pl.gmo",
        "/tmp/vanessa/spack-stage/spack-stage-help2man-1.47.11-eq5s66xrnypk6tnhx4cmp7gewwudsoa6/spack-src/po/vi.gmo",
        "/tmp/vanessa/spack-stage/spack-stage-help2man-1.47.11-eq5s66xrnypk6tnhx4cmp7gewwudsoa6/spack-src/po/zh_CN.gmo",
        "/tmp/vanessa/spack-stage/spack-stage-help2man-1.47.11-eq5s66xrnypk6tnhx4cmp7gewwudsoa6/spack-src/po/el.gmo",
        "/tmp/vanessa/spack-stage/spack-stage-help2man-1.47.11-eq5s66xrnypk6tnhx4cmp7gewwudsoa6/spack-src/po/da.gmo",
        "/tmp/vanessa/spack-stage/spack-stage-help2man-1.47.11-eq5s66xrnypk6tnhx4cmp7gewwudsoa6/spack-src/po/es.gmo",
        "/tmp/vanessa/spack-stage/spack-stage-help2man-1.47.11-eq5s66xrnypk6tnhx4cmp7gewwudsoa6/spack-src/po/it.gmo",
        "/tmp/vanessa/spack-stage/spack-stage-help2man-1.47.11-eq5s66xrnypk6tnhx4cmp7gewwudsoa6/spack-src/po/ru.gmo"
    ],
    "total_files": 91
}