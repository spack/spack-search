{
    "matches": {
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/ChangeLog.2": "2017-09-11  Eli Zaretskii  <eliz@gnu.org>\n\n\t* etc/NEWS: Document the vulnerability and its resolution.\n\tInclude a workaround.  Suggested by Charles A. Roelli\n\t<charles@aurox.ch>.\n\n\t* lisp/gnus/mm-view.el (mm-inline-text): Disable decoding of\n\t\"enriched\" and \"richtext\" MIME objects.  Suggested by Lars\n\tIngebrigtsen <larsi@gnus.org>.\n\n\t* lisp/textmodes/enriched.el (enriched-decode-display-prop):\n\tDon't produce 'display' properties.  (Bug#28350)\n\n\n2017-04-20  Nicolas Petton  <nicolas@petton.fr>\n\n\t* Version 25.2 released.\n\n2017-04-18  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix a typo in indexing the user manual\n\n\t* doc/emacs/cmdargs.texi (General Variables): Fix a horrible typo.\n\n2017-04-12  Eli Zaretskii  <eliz@gnu.org>\n\n\t* lisp/menu-bar.el (kill-this-buffer): Doc fix.  (Bug#26466)\n\n2017-04-11  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument 'line-pixel-height'\n\n\t* doc/lispref/display.texi (Size of Displayed Text): Document\n\tline-pixel-height.  Suggested by Tak Kunihiro\n\t<tkk@misasa.okayama-u.ac.jp>.  (Bug#26379)\n\n2017-04-07  Hong Xu  <hong@topbug.net>\n\n\t* src/search.c (Fre_search_forward, Fre_search_backward): Improve doc (Bug#25193).\n\n2017-04-07  Noam Postavsky  <npostavs@gmail.com>\n\n\tMention that processes start in default-directory (Bug#18515)\n\n\t* doc/lispref/processes.texi (Synchronous Processes):\n\t(Asynchronous Processes):\n\t* lisp/subr.el (start-process):\n\t* src/callproc.c (call-process): Mention that the subprocess starts in\n\t`default-directory' when local, suggest `start-file-process' and\n\t`process-file' otherwise.\n\n2017-04-07  Noam Postavsky  <npostavs@gmail.com>\n\n\t* src/xdisp.c (vmessage, message): Clarify commentary.\n\n2017-04-02  Glenn Morris  <rgm@gnu.org>\n\n\tBelated fixes for admin.el's M-x make-manuals-dist\n\n\t* admin/admin.el (make-manuals-dist-output-variables): Additions.\n\t(make-manuals-dist--1): Also copy docstyle.texi.\n\n2017-03-31  Tino Calancha  <tino.calancha@gmail.com>\n\n\tdefault-directory: Remark that it must be a directory name\n\n\t* src/buffer.c (default-directory): Update docstring (Bug#26272).\n\n2017-03-31  Tino Calancha  <tino.calancha@gmail.com>\n\n\tDelete confuse statement in manual\n\n\t* doc/misc/cl.texi (For Clauses): Delete confuse statement\n\tand its example (Bug#23550).\n\n2017-03-31  Noam Postavsky  <npostavs@gmail.com>\n\n\tImprove packaging documentation\n\n\t* doc/lispref/package.texi (Packaging Basics):\n\t* doc/lispref/tips.texi (Library Headers): Clarify some header\n\tformats, relation between file headers and package\n\tattributes (Bug#13281).\n\n2017-03-27  Eric Abrahamsen  <eric@ericabrahamsen.net>\n\n\tExpand manual section on quitting windows\n\n\t* doc/lispref/windows.texi (Quitting Windows): Provide more\n\t  information about the elements of the quit-restore window parameter,\n\t  and how they affect the behavior of quit-restore-window.\n\n2017-03-26  Noam Postavsky  <npostavs@gmail.com>\n\n\tFix docstring of dabbrev-abbrev-char-regexp\n\n\t* lisp/dabbrev.el (dabbrev-abbrev-char-regexp): Using a value of nil\n\tis equivalent to \"\\\\sw\\\\|\\\\s_\", and has no special behavior.  If the\n\tprevious character doesn't match, we search backwards for one that\n\tdoes, not throw an error.  Replace Lisp example with C based one to\n\tmake it clear that \"symbol\" means a sequence of word and symbol\n\tconstituent characters, not a Lisp symbol (Bug#358).\n\n2017-03-26  Johan Claesson  <johanclaesson@bredband.net>  (tiny change)\n\n\t* doc/misc/cl.texi (Iteration Clauses): Clarify example (Bug#19515).\n\n2017-03-25  Eli Zaretskii  <eliz@gnu.org>\n\n\t;* doc/misc/info.texi (Choose menu subtopic): Improve indexing.  (Bug#26236)\n\n2017-03-21  Noam Postavsky  <npostavs@gmail.com>\n\n\tNarrow scope of modification hook renabling in org-src fontification\n\n\tModification hooks should be enabled while modifying text in the\n\torg-src temp buffer, but in 2017-01-29 \"Call modification hooks in\n\torg-src fontify buffers\" the hooks were enabled also for modifications\n\tto the original org buffer.  This causes fontification errors when\n\tcombined with certain packages, as reported in\n\thttps://lists.gnu.org/r/emacs-orgmode/2017-03/msg00420.html.\n\n\t* lisp/org/org-src.el (org-src-font-lock-fontify-block): Reduce scope\n\tof inhibit-modification-hooks let-binding.\n\n2017-03-17  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of interactive \"r\".\n\n\t* doc/lispref/commands.texi (Interactive Codes): Mention that mark\n\tmust be set for \"r\" to work.\n\n2017-03-17  Thien-Thi Nguyen  <ttn@gnu.org>\n\n\tFix bug: Range-check integer \u2018alpha\u2019 frame parm value\n\n\tTypo introduced 2013-04-01, \"Prefer < to >\n\tin range checks such as 0 <= i && i < N\".\n\n\t* src/frame.c (x_set_alpha): Use \u2018ialpha\u2019, not \u2018alpha\u2019.\n\n2017-03-17  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* etc/PROBLEMS: Say that HP-UX cc doesn't work.\n\n2017-03-14  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix duplicate wording in Emacs manual\n\n\t* doc/emacs/programs.texi (Which Function): Delete duplicate\n\twording.  (Bug#26098)\n\n2017-03-14  Hong Xu  <hong@topbug.net>\n\n\t* lisp/paren.el (show-paren--default, show-paren-function): Add docstring.\n\n2017-03-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix wording in Emacs manual\n\n\t* doc/emacs/text.texi (Paragraphs): Fix a garbled sentence.\n\t(Bug#26086)\n\n2017-03-11  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument how to customize input methods\n\n\t* doc/emacs/mule.texi (Input Methods): Document how to customize\n\tinput methods.\n\n2017-03-11  Eli Zaretskii  <eliz@gnu.org>\n\n\t* lisp/net/eww.el (eww-reload): Doc fix.  (Bug#25981)\n\n2017-03-06  Noam Postavsky  <npostavs@gmail.com>\n\n\tFix warning message about native completion (Bug#25984)\n\n\t* lisp/progmodes/python.el (python-shell-completion-native-turn-on-maybe):\n\tThe relevant variable is `python-shell-completion-native-enable'.\n\n2017-03-04  Eli Zaretskii  <eliz@gnu.org>\n\n\tClarify documentation of 'raise' and 'height' display specs\n\n\t* doc/lispref/display.texi (Other Display Specs): Clarify the\n\teffect of 'height' display spec on the following 'raise'.\n\t(Bug#25824)\n\n2017-03-04  Eli Zaretskii  <eliz@gnu.org>\n\n\tMention problems with GPaste in PROBLEMS\n\n\t* etc/PROBLEMS (GPaste): Mention the problem in yanking caused by\n\tGPaste, and its solution.  (Bug#25902)\n\n2017-02-25  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix doc strings in info.el\n\n\t* lisp/info.el (Info-selection-hook, Info-mode-hook)\n\t(Info-edit-mode-hook): Doc fixes.  (Bug#25794)\n\n2017-02-25  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix doc string of 'posn-at-point'\n\n\t* src/keyboard.c (Fposn_at_point): Clarify the doc string.\n\t(Bug#25796)\n\n2017-02-24  Tino Calancha  <tino.calancha@gmail.com>\n\n\tDocumentation fix in elisp reference manual\n\n\t* doc/lispref/macros.texi (Defining Macros): Drop redundant mention\n\ton 'declare' forms (Bug#25846).\n\n2017-02-18  Noam Postavsky  <npostavs@gmail.com>\n\n\t* lisp/woman.el (woman): Fix docstring prefix arg description.\n\n2017-02-18  Eli Zaretskii  <eliz@gnu.org>\n\n\tMention \"editor\" in Emacs man page header\n\n\t* doc/man/emacs.1.in: Mention \"editor\" in the header line.\n\t(Bug#25771, Bug#25779)\n\n2017-02-18  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument problems with nerd-fonts\n\n\t* etc/PROBLEMS (fonts): Describe the potential problems with\n\tnerd-fonts that cause slow display.  (Bug#25697)\n\n2017-02-13  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* doc/lispref/modes.texi (Derived Modes): Make example more idiomatic\n\n2017-02-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tClarify what is the \"cursor\"\n\n\t* doc/lispref/windows.texi (Window Point): Clarify the notion of\n\t\"cursor\".\n\n2017-02-10  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove commentary in lisp.h\n\n\t* src/lisp.h: Explain in the comment why enlarging a Lisp_Misc\n\tobject is discouraged.\n\n2017-02-08  Noam Postavsky  <npostavs@gmail.com>\n\n\tDisable native completion for ipython (Bug#25067)\n\n\t* lisp/progmodes/python.el:\n\t(python-shell-completion-native-disabled-interpreters): Add \"ipython\".\n\n2017-02-07  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix a typo in ada-mode manual\n\n\t* doc/misc/ada-mode.texi (Project file variables): Add a missing\n\tright bracket.  Reported by Jean-Christophe Helary\n\t<jean.christophe.helary@gmail.com>.\n\n2017-02-05  Eli Zaretskii  <eliz@gnu.org>\n\n\tClarify documentation of 'bufferpos-to-filepos' and 'filepos-to-bufferpos'\n\n\t* doc/lispref/nonascii.texi (Text Representations): Clarify that\n\t'exact' value of QUALITY argument to 'bufferpos-to-filepos' and\n\t'filepos-to-bufferpos' can lead to expensive and slow processing.\n\n\t* lisp/international/mule-util.el (filepos-to-bufferpos)\n\t(bufferpos-to-filepos): Doc fix.  (Bug#25626)\n\n2017-02-03  Nicolas Petton  <nicolas@petton.fr>\n\n\tBump Emacs version to 25.2 RC1\n\n\t* README:\n\t* configure.ac:\n\t* msdos/sed2v2.inp:\n\t* nt/README.W32: Bump Emacs version.\n\t* lisp/ldefs-boot.el: Update.\n\n2017-02-03  Nicolas Petton  <nicolas@petton.fr>\n\n\t* admin/make-tarball.txt: Add documentation regarding the release banner.\n\n2017-02-03  Tino Calancha  <tino.calancha@gmail.com>\n\n\t* CONTRIBUTE (Documenting your changes): Index new vars/commands in manual.\n\n2017-01-31  Eli Zaretskii  <eliz@gnu.org>\n\n\tIndex byte-compile-debug\n\n\t* doc/lispref/compile.texi (Compilation Functions): Index\n\tbyte-compile-debug.\n\n2017-01-31  Philipp Stephani  <phst@google.com>\n\n\tDocument `byte-compile-debug' in the ELisp manual\n\n\t* doc/lispref/compile.texi: Document variable `byte-compile-debug'.\n\n2017-01-31  Philipp Stephani  <phst@google.com>\n\n\tDocument variable `byte-compile-debug'\n\n\t* lisp/emacs-lisp/bytecomp.el (byte-compile-debug): Document variable.\n\n2017-01-31  Noam Postavsky  <npostavs@gmail.com>\n\n\tFix call to debugger on assertion failure\n\n\t* lisp/emacs-lisp/cl-preloaded.el (cl--assertion-failed): The first\n\targument must be `error', and the second is a list of arguments for\n\t`signal'.\n\n2017-01-29  Noam Postavsky  <npostavs@gmail.com>\n\n\tCall modification hooks in org-src fontify buffers\n\n\t* lisp/org/org-src.el (org-src-font-lock-fontify-block): Let-bind\n\t`inhibit-modification-hooks' to nil, since this function can be called\n\tfrom jit-lock-function which binds that variable to t (Bug#25132).\n\n2017-01-28  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of 'format' conversions\n\n\t* src/editfns.c (Fformat): More accurate description of %g and\n\teffects of the various flags on it.  More accurate description of\n\tinteger conversions.\n\n\t* doc/lispref/strings.texi (Formatting Strings): More accurate\n\tdescription of %g and effects of the various flags on it.  More\n\taccurate description of integer conversions.  (Bug#25557)\n\n2017-01-27  Vladimir Panteleev  <git@thecybershadow.net>  (tiny change)\n\n\tRemove stale functions from ert manual\n\n\t* doc/misc/ert.texi (Useful Techniques when Writing Tests):\n\tReplace ert--mismatch references with its cl-lib replacement,\n\tcl-mismatch.\n\n2017-01-27  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix a typo in Eshell manual\n\n\t* doc/misc/eshell.texi (History): Fix a typo.  Reported by Mak\n\tKolybabi <mak@kolybabi.com>.\n\n2017-01-20  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of hooks related to saving buffers\n\n\t* lisp/files.el (write-file-functions, write-contents-functions)\n\t(before-save-hook, after-save-hook): Note that these are only used\n\tby save-buffer.\n\n\t* doc/lispref/backups.texi (Auto-Saving):\n\t* doc/lispref/files.texi (Saving Buffers): Mention that\n\tsave-related hooks are not run by auto-saving.  (Bug#25460)\n\n2017-01-20  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of auto-save-visited-file-name\n\n\t* doc/emacs/files.texi (Auto Save Files): Mention subtle\n\tdifferences between saving the buffer and auto-saving with\n\tauto-save-visited-file-name set non-nil.  (Bug#25478)\n\n2017-01-18  Tom Tromey  <tom@tromey.com>\n\n\tfix typo in mailcap-mime-extensions\n\n\t* lisp/gnus/mailcap.el (mailcap-mime-extensions): Use \"text/x-patch\",\n\tnot \"test/x-patch\".  (Bug#25472)\n\n2017-01-18  Lele Gaifax  <lele@metapensiero.it>  (tiny change)\n\n\tFix typos in flymake.el\n\n\t* lisp/progmodes/flymake.el (flymake-check-patch-master-file-buffer):\n\tSpelling fixes in the doc string.\n\n2017-01-17  Glenn Morris  <rgm@gnu.org>\n\n\tMore NEWS checking for admin.el's set-version\n\n\t* admin/admin.el (set-version): Warn if temporary NEWS markup\n\tstill present in release candidates.\n\n2017-01-17  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix auto-save-file-name problem in Tramp on MS Windows. Do not merge\n\n\t* lisp/net/tramp.el (tramp-handle-make-auto-save-file-name):\n\tFix a problem when running on MS Windows.\n\n2017-01-16  Ian Dunn  <dunni@gnu.org>  (tiny change)\n\n\t* lisp/net/eww.el (eww-tag-meta): Handle single quoted URLs (Bug#25445).\n\n2017-01-14  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/progmodes/sql.el (sql-product-alist): Doc tweak\n\n\t`:sqli-comint-func' does not have to be a symbol.\n\n2017-01-14  Eli Zaretskii  <eliz@gnu.org>\n\n\t* lisp/progmodes/sql.el (sql-product-alist): Doc fix.  (Bug#25440)\n\n2017-01-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of dabbrevs\n\n\t* doc/emacs/abbrevs.texi (Dynamic Abbrevs): Add a cross reference\n\tto \"Dabbrev Customization\".\n\t(Dabbrev Customization): More details about the default value of\n\tdabbrev-abbrev-char-regexp and use cases when it might not be good\n\tenough.  (Bug#25432)\n\n2017-01-12  Noam Postavsky  <npostavs@gmail.com>\n\n\tClarify that easy-menu-add is a nop (Bug#25382)\n\n\t* lisp/emacs-lisp/easymenu.el (easy-menu-add): Make it into an alias of\n\t`ignore', like `easy-menu-remove'.\n\n2017-01-12  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/textmodes/rst.el (rst-package-emacs-version-alist): Fix entry.\n\n2017-01-11  Eli Zaretskii  <eliz@gnu.org>\n\n\tRevert \"Add DNS keywords and remove duplications\"\n\n\tThis reverts commit 1cb9aa5b14867983d0013a61709b4d0af18364ff.\n\n2017-01-11  Alexander Kuleshov  <kuleshovmail@gmail.com>\n\n\tAdd DNS keywords and remove duplications\n\n\t* lisp/textmodes/dns-mode.el (dns-mode-types): Add two TLSA and\n\tNSEC\" DNS related keywords and remove duplication of \"NSAP\".\n\n2017-01-10  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of coding-systems\n\n\t* doc/lispref/nonascii.texi (Coding System Basics): Mention\n\t'prefer-utf-8'.  Index it and 'undecided'.\n\t(Encoding and I/O): Fix a typo.\n\t(User-Chosen Coding Systems): Improve the documentation of\n\tACCEPT-DEFAULT-P argument to select-safe-coding-system.  Document\n\tselect-safe-coding-system-function.\n\t(Specifying Coding Systems): Document coding-system-require-warning.\n\n2017-01-09  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove definition of 'variable-pitch' face on MS-Windows\n\n\t* lisp/faces.el (variable-pitch): Don't specify too many\n\tattributes of the font, otherwise faces that request different\n\tweight or slant or size will not get them.\n\n2017-01-09  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix an error message in python.el\n\n\t* lisp/progmodes/python.el (python-shell-get-process-or-error):\n\tDon't repeat the same key binding twice.  (Bug#25405)\n\n2017-01-07  Noam Postavsky  <npostavs@gmail.com>\n\n\tClarify major mode switching\n\n\t* doc/emacs/modes.texi (Major Modes):\n\t* doc/lispref/modes.texi (Modes, Major Modes): Explictly say that each\n\tbuffer has exactly one major mode and can't be \"turned off\", only\n\tswitched away from (Bug#25357).\n\n2017-01-07  Noam Postavsky  <npostavs@gmail.com>\n\n\tAdd helpful comment to compile-command's docstring\n\n\t* lisp/progmodes/compile.el (compile-command): Mention trailing space in\n\tdocstring (Bug#25337).\n\n2017-01-06  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix ':version' of 'select-enable-primary'\n\n\t* lisp/select.el (select-enable-primary): Fix a typo in\n\t':version'.  (Bug#25375)\n\n2017-01-04  Glenn Morris  <rgm@gnu.org>\n\n\tUpdate remaining copyright years with admin.el M-x set-copyright\n\n\t* etc/refcards/ru-refcard.tex (cyear): Set to 2017.\n\n2017-01-04  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/ffap.el (ffap-lax-url): Bump :version after recent change.\n\n2017-01-03  Philipp Stephani  <phst@google.com>\n\n\tDocument that functions in 'ffap-alist' can use the match data\n\n\t* lisp/ffap.el (ffap-alist): Document that ffap sets the match data\n\twhile walking 'ffap-alist'.\n\n2017-01-01  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix copyright years by hand\n\n\tThese are dates that admin/update-copyright did not update, or\n\tupdated incorrectly.\n\n2017-01-01  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tUpdate copyright year to 2017\n\n\tRun admin/update-copyright.\n\n2016-12-30  Nicolas Petton  <nicolas@petton.fr>\n\n\tBump Emacs version to 25.1.91\n\n\t* README:\n\t* configure.ac:\n\t* msdos/sed2v2.inp:\n\t* nt/README.W32: Bump Emacs version.\n\t* lisp/ldefs-boot.el: Update.\n\n2016-12-30  Alan Mackenzie  <acm@muc.de>\n\n\tBackport: Remove an ambiguity from defvar's doc string.  Fixes bug #25292.\n\n\tThe ambiguity was whether INITVALUE is evaluated when it's not going to be\n\tused to set SYMBOL's value.\n\n\t* src/eval.c (defvar): Rewrite a paragraph of the doc string.\n\n\t(cherry picked from commit 8295e97f18490a535d1188a3daf0b0fd1bf4fa0d)\n\n2016-12-28  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/inline.el: Fix apply-conversion (bug#25280)\n\n\t(inline--dont-quote): Quote the function with #' when passing it to `apply'.\n\tCherry picked from commit e6161f648903d821865b9610b3b6aa0f82a5dcb7.\n\n2016-12-26  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument 'default-toplevel-value' and 'set-default-toplevel-value'\n\n\t* doc/lispref/variables.texi (Default Value): Document\n\t'default-toplevel-value' and 'set-default-toplevel-value'.\n\n2016-12-25  Leo Liu  <sdl.web@gmail.com>\n\n\tDon't modify minibuffer variables globally\n\n\t* lisp/files.el (cd): Use setq-local instead.  (Bug#25260)\n\n2016-12-24  Eli Zaretskii  <eliz@gnu.org>\n\n\tRevert to pre-25.1 behavior in ffap\n\n\t* lisp/ffap.el (ffap-lax-url): Change the default to t, to produce\n\tthe same behavior as in Emacs 24.x.  (Bug#25264)\n\tExplain the trade-offs of customizing this in the doc string.\n\n2016-12-24  Noam Postavsky  <npostavs@gmail.com>\n\n\t* lisp/ffap.el: Fix obsolete comment referencing ffap-bug.\n\n2016-12-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tAttempt to fix 64-bit AIX build\n\n\t* src/unexaix.c (make_hdr, copy_text_and_data, write_segment): Fix\n\ttype-casts that assumed 32-bit pointers.  (Bug#25141)\n\n2016-12-23  Philipp Stephani  <phst@google.com>\n\n\tClarify usage of 'ediff-cleanup-hook' (Bug#24675)\n\n\t* doc/misc/ediff.texi (Hooks): Clarify usage of 'ediff-cleanup-hook'\n\n2016-12-23  Philipp Stephani  <phst@google.com>\n\n\tDocument that variable binding order is unspecified\n\n\t* doc/lispref/variables.texi (Local Variables):\n\t* doc/misc/cl.texi (Modify Macros): Document that binding order in 'let' and\n\t'cl-letf' is unspecified.\n\n2016-12-23  Eli Zaretskii  <eliz@gnu.org>\n\n\t* lisp/desktop.el (desktop-buffers-not-to-save): Doc fix.\n\n2016-12-23  Stefan Monnier  <monnier@IRO.UMontreal.CA>\n\n\tFix M-x hints on Mac port\n\n\t* lisp/simple.el (execute-extended-command--shorter): Call\n\tinput-pending-p to trigger input processing on some systems, such\n\tas Mac port.  (Bug#23002)\n\n2016-12-22  Martin Rudalics  <rudalics@gmx.at>\n\n\tWork around reporting a dpi change in apply_xft_settings\n\n\t* src/xsettings.c (apply_xft_settings): Don't report a change\n\twhen dpi settings do not differ substantially.\n\n2016-12-20  Alan Mackenzie  <acm@muc.de>\n\n\tAmend the version number of CC Mode 5.33 -> 5.32.99.  Don't merge to trunk.\n\n\tlisp/progmodes/cc-defs.el: Amend the version number.\n\tetc/NEWS: Add an item explaining the change.\n\n2016-12-20  Noam Postavsky  <npostavs@gmail.com>\n\n\tImprove skeleton docstrings\n\n\t* lisp/skeleton.el (skeleton-end-newline): Remove mention of\n\t`skeleton-end-hook', its default code was moved into `skeleton-insert'.\n\t(skeleton-insert): Mention `skeleton-end-newline' and move reference to\n\t`skeleton-end-hook' above the explanation of skeleton syntax.\n\n2016-12-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of 'w32-scroll-lock-modifier'\n\n\t* doc/emacs/msdos.texi (Windows Keyboard): Document how to set up\n\tw32-scroll-lock-modifier so that Scroll Lock toggles the LED.\n\n\t* src/w32fns.c (syms_of_w32fns) <w32-scroll-lock-modifier>: Doc\n\tfix.  (Bug#25204)\n\n2016-12-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument 'describe-fontset'\n\n\t* doc/emacs/mule.texi (Fontsets): Document 'describe-fontset'.\n\t(Bug#25216)\n\n2016-12-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument 'describe-fontset'\n\n\t* doc/emacs/mule.texi (Fontsets): Document 'describe-fontset'.\n\t(Bug#25216)\n\n2016-12-17  Eli Zaretskii  <eliz@gnu.org>\n\n\tRepair desktop restoration on text terminals\n\n\t* lisp/desktop.el (desktop-restoring-frameset-p): Test for the GUI\n\tframe here, instead of in desktop-restoring-frameset.  That's\n\tbecause desktop-read wants to know whether frameset will actually\n\tbe restored, and has fallback procedures up its sleeve when it\n\twon't be; these fallbacks need to be invoked when the frameset is\n\tnot going to be restored.  (Bug#24298)\n\n2016-12-17  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tIgnore forward-sexp-function in js-mode indentation code\n\n\t* lisp/progmodes/js.el (js--multi-line-declaration-indentation)\n\t(js--maybe-goto-declaration-keyword-end):\n\tBind forward-sexp-function to nil (bug#25215).\n\n2016-12-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of 'define-coding-system'\n\n\t* lisp/international/mule.el (define-coding-system): Warn against\n\tpossible infinite recursion in pre-write-conversion and\n\tpost-read-conversion functions.  (Bug#25203)\n\n2016-12-11  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix Bug#25162\n\n\t* doc/emacs/files.texi (Reverting): Document\n\tauto-revert-remote-files and auto-revert-verbose.\n\n\t* lisp/autorevert.el (auto-revert-verbose, auto-revert-mode)\n\t(auto-revert-tail-mode, global-auto-revert-mode): Fix docstring.\n\n2016-12-11  Glenn Morris  <rgm@gnu.org>\n\n\tFix a typo in define-abbrev-table\n\n\t* lisp/abbrev.el (define-abbrev-table): Fix typo in docstring handling.\n\n2016-12-11  Glenn Morris  <rgm@gnu.org>\n\n\tBump makeinfo requirement from 4.7 to 4.13\n\n\t* configure.ac: Bump makeinfo version requirement from 4.7 to 4.13.\n\tWe need at least 4.8, and that may be buggy, so go for the last\n\tof the 4 series, which is 8 years old.  (Bug#25108)\n\n2016-12-11  Glenn Morris  <rgm@gnu.org>\n\n\tFixes related to select-enable-clipboard\n\n\t* lisp/menu-bar.el (clipboard-yank, clipboard-kill-ring-save)\n\t(clipboard-kill-region):\n\t* lisp/eshell/esh-io.el (eshell-virtual-targets)\n\t(eshell-clipboard-append):\n\tReplace option gui-select-enable-clipboard with\n\tselect-enable-clipboard; renamed October 2014.  (Bug#25145)\n\n2016-12-10  Noam Postavsky  <npostavs@gmail.com>\n\n\tDefine struct predicate before acccesors\n\n\tThe accessor functions use the predicate function, which causes problems\n\twhen reloading after unload-feature: the compiler-macro property is\n\tstill present on the predicate symbol, and the compiler fails to find\n\tthe definition when trying to inline it into the accessor\n\tfunction (Bug#25088).\n\n\t* lisp/emacs-lisp/cl-macs.el (cl-defstruct): Move predicate definition\n\tbefore field accessor definitions.\n\n2016-12-08  Glenn Morris  <rgm@gnu.org>\n\n\tDoc fix for vc-git\n\n\t* lisp/vc/vc-git.el (vc-git-region-history): Add a doc string.\n\n2016-12-08  Glenn Morris  <rgm@gnu.org>\n\n\tFurther improve make-dist checking\n\n\t* make-dist: Print status messages when checking.\n\n2016-12-08  Glenn Morris  <rgm@gnu.org>\n\n\tImprove previous make-dist change\n\n\t* make-dist: Let make check the info files more thoroughly.\n\n2016-12-08  Glenn Morris  <rgm@gnu.org>\n\n\tMake make-dist --snapshot do some sanity checks\n\n\t* make-dist: Snapshot mode no longer disables checks.\n\tChecks now includes checks for freshness.  (Bug#25084)\n\tChecks now exits with an error if problems were found.\n\n2016-12-07  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix minor quoting problems in doc strings\n\n2016-12-07  Philipp Stephani  <p.stephani2@gmail.com>\n\n\t* lisp/emacs-lisp/easy-mmode.el (define-minor-mode): Fix docstring\n\n\tso that it matches the actual implementation.\n\tSee https://lists.gnu.org/r/help-gnu-emacs/2016-04/msg00071.html\n\n2016-12-07  Noam Postavsky  <npostavs@gmail.com>\n\n\tDon't assume window-point and point are the same\n\n\tThe function `cursor-sensor--detect' calls `bobp' to decide whether to\n\tcheck properties at (1- (window-point)).  However, (window-point) may be\n\tat beginning of buffer, even if (point) is not.  In this case an\n\t`args-out-of-range' error will be signaled (Bug#25104).\n\n\t* lisp/emacs-lisp/cursor-sensor.el (cursor-sensor--detect): Check the\n\tvalue of (window-point) against (point-min), rather than (bobp) to\n\tdecide if (1- (window-point)) is accessible.\n\n2016-12-02  Nicolas Petton  <nicolas@petton.fr>\n\n\tFix bug#25087\n\n\t* etc/themes/manoj-dark-theme.el: Fix two typos.\n\n\t(cherry picked from commit 66d6e7e9ecf5e481f8c2c3a4f88411f66c869a6e)\n\n2016-12-02  Eli Zaretskii  <eliz@gnu.org>\n\n\t* lisp/vc/ediff-util.el (ediff-janitor): Doc fix.  (Bug#25046)\n\n2016-12-02  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove indexing of 'man'\n\n\t* doc/emacs/programs.texi (Man Page): Index 'man', not\n\t'manual-entry', as the latter is an alias for the former.\n\tSuggested by Hong Xu <hong@topbug.net>.  (Bug#25033)\n\n2016-12-02  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort to Sun C 5.14\n\n\tBackport from master.  Sun C 5.14 supports C11 but not GCC\n\textensions, and so refuses to compile Emacs without this patch.\n\t* src/alloc.c (lmalloc, lrealloc): Don't use INT_ADD_WRAPV on\n\tsize_t, as in general this macro is restricted to signed types.\n\n2016-12-02  Richard Stallman  <rms@gnu.org>\n\n\tFix mail-combine-fields\n\n\t* lisp/mail/sendmail.el (mail-combine-fields): Call `save-excursion' to\n\tavoid losing our place in the search loop.\n\n\t(cherry picked from commit 5fbba6cceaf843cfca449eb000a0a65243b61808)\n\n2016-12-01  Martin Rudalics  <rudalics@gmx.at>\n\n\tFix documentation of `window-combination-resize'\n\n\t* src/window.c (Vwindow_combination_resize): Fix doc-string.\n\t* doc/lispref/windows.texi (Recombining Windows): Fix\n\tdocumentation of `window-combination-resize'.\n\n2016-11-29  Bogdan Creanga  <bogdan.creanga@gmail.com>  (tiny change)\n\n\tTypo fixes in elisp manual\n\n\t* doc/lispref/sequences.texi: Add missing '4' in result (Bug#25047).\n\t* doc/lispref/strings.texi (Text Comparison): Avoid duplicate\n\tdefinitions of 'string-prefix-p' and 'string-suffix-p'.\n\t* doc/lispref/symbols.texi (Definitions): Pluralize 'definitions'.\n\n2016-11-28  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix 'expand-file-name' during startup on MS-Windows\n\n\t* src/w32.c (w32_init_file_name_codepage): New function, resets\n\tfile_name_codepage and w32_ansi_code_page to undo the values\n\trecorded during dumping.\n\t(codepage_for_filenames): Fix an embarrassing typo.  Ignore the\n\tcached value of file-name encoding if it is nil, i.e. not\n\tinitialized yet.  Actually cache the last used file-name encoding\n\tto avoid calling APIs when not necessary.\n\n\t* src/w32.h (w32_init_file_name_codepage): Add prototype.\n\n\t* src/w32term.c (syms_of_w32term): Set the value of\n\tw32_unicode_filenames according to the OS version.  This avoids\n\tresetting it during startup, which then causes temacs to run with\n\tthe incorrect value.\n\n\t* src/emacs.c (main): Call w32_init_file_name_codepage early\n\tduring the startup.\n\n\t* src/fileio.c (Fexpand_file_name) [WINDOWSNT]: Update 'newdir'\n\tafter converting $HOME to a UTF-8 string, so that 'newdirlim' is\n\tconsistent with it.  (Bug#25038)\n\n\t* lisp/international/mule-cmds.el (set-locale-environment): Set\n\t'default-file-name-coding-system' to the ANSI codepage even in\n\tnon-interactive sessions.\n\n\t* lisp/files.el (directory-abbrev-alist, abbreviated-home-dir):\n\tDoc fix.\n\t(abbreviate-file-name): Decode 'abbreviated-home-dir' if it is a\n\tunibyte string.\n\n\t* doc/lispref/files.texi (Directory Names): Index\n\t'directory-abbrev-alist'.\n\n2016-11-28  Nicolas Petton  <nicolas@petton.fr>\n\n\t* admin/authors.el (authors-renamed-files-alist): Addition.\n\n2016-11-28  Glenn Morris  <rgm@gnu.org>\n\n\tTweak refcard note about documentation location\n\n\t* etc/refcards/calccard.tex, etc/refcards/cs-dired-ref.tex:\n\t* etc/refcards/cs-refcard.tex, etc/refcards/cs-survival.tex:\n\t* etc/refcards/de-refcard.tex, etc/refcards/dired-ref.tex:\n\t* etc/refcards/fr-dired-ref.tex, etc/refcards/fr-refcard.tex:\n\t* etc/refcards/fr-survival.tex, etc/refcards/gnus-refcard.tex:\n\t* etc/refcards/orgcard.tex, etc/refcards/pl-refcard.tex:\n\t* etc/refcards/pt-br-refcard.tex, etc/refcards/refcard.tex:\n\t* etc/refcards/ru-refcard.tex, etc/refcards/sk-dired-ref.tex:\n\t* etc/refcards/sk-refcard.tex, etc/refcards/sk-survival.tex:\n\t* etc/refcards/survival.tex, etc/refcards/vipcard.tex:\n\t* etc/refcards/viperCard.tex: Tweak documentation url.\n\n2016-11-28  Glenn Morris  <rgm@gnu.org>\n\n\tImprove treatment of Fortran's \"class is\"\n\n\t* lisp/progmodes/f90.el (f90-start-block-re, f90-no-block-limit):\n\tHandle \"class is\".  (Bug#25039)\n\t* test/automated/f90.el (f90-test-bug25039): New test.\n\n2016-11-28  Nicolas Petton  <nicolas@petton.fr>\n\n\tBump Emacs version to 25.1.90\n\n\t* README:\n\t* configure.ac:\n\t* msdos/sed2v2.inp:\n\t* nt/README.W32: Bump Emacs version to 25.1.90\n\n2016-11-27  Nicolas Petton  <nicolas@petton.fr>\n\n\tBump Emacs version\n\n\t* README:\n\t* configure.ac:\n\t* etc/NEWS:\n\t* msdos/sed2v2.inp:\n\t* nt/README.W32: Bump Emacs version to 25.2.90\n\n2016-11-26  Karl Fogel  <kfogel@red-bean.com>\n\n\tHandle TeX comments when making new paragraph\n\n\t* lisp/textmodes/tex-mode.el (tex-handle-newline): New function.\n\t  Handle comment case directly, and dispatch to `tex-terminate-paragraph'\n\t  for original behavior in non-comment case.\n\t  (tex-mode-map): Bind above to C-j, replacing `tex-terminate-paragraph'.\n\n2016-11-25  Eli Zaretskii  <eliz@gnu.org>\n\n\tRestore keystroke echo in 'C-q'\n\n\t* lisp/simple.el (read-quoted-char): Use 'read-event' instead of\n\t'read-key', to avoid losing the keystroke echo in 'C-q'.  (Bug#24635)\n\n2016-11-25  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of 'current-word'\n\n\t* lisp/simple.el (current-word): Clarify and improve the doc\n\tstring.  (Bug#24979)\n\n2016-11-25  Chunyang Xu  <mail@xuchunyang.me>\n\n\tFix a typo in an Eshell defcustom\n\n\t* lisp/eshell/esh-mode.el (eshell-scroll-to-bottom-on-output): Fix\n\ta typo in the 'others' standard value.  (Bug#24983)\n\n2016-11-24  Hong Xu  <hong@topbug.net>  (tiny change)\n\n\tMinor copyedits of electric-pair-mode\n\n\t* doc/emacs/programs.texi (Matching): Add index entries.  Fix\n\ttypos.  (Bug#25012)\n\n2016-11-24  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix documentation of 'invocation-directory'\n\n\t* doc/lispref/os.texi (System Environment): Fix wording of the\n\tdescription of 'invocation-directory'.  (Bug#24999)\n\n2016-11-23  Glenn Morris  <rgm@gnu.org>\n\n\t* admin/authors.el (authors-aliases): Add an entry.\n\n2016-11-22  Philipp Stephani  <phst@google.com>\n\n\tGuard terminal parameter in XTerm mouse mode\n\n\tIt has been observed (in the HTerm terminal emulator) that the\n\tevent stored in the 'xterm-mouse-last-down' terminal parameter gets\n\toverwritten during a mouse drag operation, causing Emacs to attempt to\n\tsynthesize the non-existing <drag-mouse-0> event.  Copy the event into\n\tthe terminal parameter to protect against such modifications.\n\n\t* lisp/xt-mouse.el (xterm-mouse-translate-1): Guard against modification\n\tof input event list.\n\n2016-11-21  Nicolas Petton  <nicolas@petton.fr>\n\n\t* etc/AUTHORS: Regenerate the AUTHORS file\n\n2016-11-21  Nicolas Petton  <nicolas@petton.fr>\n\n\tUpdate ChangeLog files and authors.el\n\n\t* admin/authors.el (authors-renamed-files-alist): Add entries for\n\t  obsolete files.\n\t* ChangeLog.2: Update.\n\n2016-11-21  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix menu bindings of Dired 'A' and 'Q' commands\n\n\t* lisp/dired.el (dired-mode-map): Rebind \"Search Files\" and \"Query\n\tReplace in Files\" menu items to 'dired-do-find-regexp' and\n\t'dired-do-find-regexp-and-replace', respectively.  (Bug#24977)\n\n2016-11-20  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid errors in shr-pixel-column due to dedicated windows\n\n\t* lisp/net/shr.el (shr-pixel-column): If we are switching to\n\tanother buffer in the selected window, make that window\n\ttemporarily non-dedicated.  (Bug#24950)\n\n2016-11-20  Tino Calancha  <tino.calancha@gmail.com>\n\n\tUpdate format-time-string documentation\n\n\t* doc/lispref/os.texi (Time Parsing):\n\tDocument %F, %g, %G, %u and %V.\n\n2016-11-19  Eli Zaretskii  <eliz@gnu.org>\n\n\t* admin/release-process: Update versions and blocking bug numbers.\n\n2016-11-18  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of functions that accept time values\n\n\t* doc/lispref/os.texi (Time Calculations): Mention the meaning of\n\t'nil' or a scalar number as the time-value argument.  Add a\n\tcross-reference to 'float-time' for computing a time difference as\n\ta scalar number of seconds.\n\n\t* src/editfns.c (Fformat_time_string, Ftime_less_p)\n\t(Ftime_subtract, Ftime_add, Fdecode_time, Fcurrent_time_string)\n\t(Fcurrent_time_zone): Mention in the doc strings the meaning of\n\tnil argument and the fact that a time value can be a scalar number\n\tof seconds since the epoch.\n\t(Ftime_subtract): Mention 'float-time'.\n\n2016-11-18  Daniel Colascione  <dancol@dancol.org>\n\n\tSpeed up initialization by preferring /dev/urandom to GnuTLS\n\n\t* src/sysdep.c (init_random): Try /dev/urandom before GnuTLS.\n\n\t(cherry picked from commit a37eba849eddc41375ad73974f6fcb1258aa8eba)\n\n2016-11-18  Glenn Morris  <rgm@gnu.org>\n\n\tAdd a comment in generated refcards about the source\n\n\t* etc/refcards/calccard.tex, etc/refcards/cs-dired-ref.tex:\n\t* etc/refcards/cs-refcard.tex, etc/refcards/cs-survival.tex:\n\t* etc/refcards/de-refcard.tex, etc/refcards/dired-ref.tex:\n\t* etc/refcards/fr-dired-ref.tex, etc/refcards/fr-refcard.tex:\n\t* etc/refcards/fr-survival.tex, etc/refcards/gnus-refcard.tex:\n\t* etc/refcards/orgcard.tex, etc/refcards/pl-refcard.tex:\n\t* etc/refcards/pt-br-refcard.tex, etc/refcards/refcard.tex:\n\t* etc/refcards/ru-refcard.tex, etc/refcards/sk-dired-ref.tex:\n\t* etc/refcards/sk-refcard.tex, etc/refcards/sk-survival.tex:\n\t* etc/refcards/survival.tex, etc/refcards/vipcard.tex:\n\t* etc/refcards/viperCard.tex: Add comment about the source.\n\n2016-11-17  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tjs-mode: Fix indent problem after a regexp\n\n\t* lisp/progmodes/js.el (js--looking-at-operator-p): Check that the\n\tslash is not ending a regexp (bug#24854).\n\n2016-11-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix sluggish display of symbols in UTF-8 language environment\n\n\t* lisp/international/fontset.el (setup-default-fontset): Make sure\n\tSymbola and FreeMono are set up in the default fontset as belonging\n\tto the \"iso10646-1\" registry.  In the UTF-8 locale, this avoids a\n\tlong and futile search for a suitable font, whose side effect is a\n\tlot of consing, which then hits the font-cache compacting issue,\n\tand causes very sluggish redisplay of characters displayed by\n\tthese fonts.  All this happens because the default for the\n\tregistry is \"iso8859-1\".  (Bug#24953)\n\n2016-11-16  Glenn Morris  <rgm@gnu.org>\n\n\tDon't confuse how Texinfo outputs @var with the input\n\n\t* doc/emacs/rmail.texi (Movemail):\n\t* doc/lispref/control.texi (Pattern matching case statement):\n\t* doc/lispref/frames.texi (Size and Position):\n\t* doc/lispref/processes.texi (Asynchronous Processes):\n\t* doc/lispref/text.texi (Document Object Model):\n\t* doc/lispref/windows.texi (Coordinates and Windows):\n\tDo not upper-case the argument of @var.\n\n2016-11-16  Glenn Morris  <rgm@gnu.org>\n\n\t* doc/lispref/display.texi (Scroll Bars):\n\t* doc/lispref/frames.texi (Size and Position):\n\t* doc/lispref/windows.texi (Window Sizes): Fix arglist typos.\n\n\t* doc/emacs/cmdargs.texi (Initial Options): Copyedit for --daemon.\n\n2016-11-15  Eli Zaretskii  <eliz@gnu.org>\n\n\tMore fixes in copyright notices in etc/refcards/\n\n\t* etc/refcards/calccard.tex:\n\t* etc/refcards/cs-dired-ref.tex:\n\t* etc/refcards/cs-refcard.tex:\n\t* etc/refcards/cs-survival.tex:\n\t* etc/refcards/de-refcard.tex:\n\t* etc/refcards/dired-ref.tex:\n\t* etc/refcards/fr-dired-ref.tex:\n\t* etc/refcards/fr-refcard.tex:\n\t* etc/refcards/fr-survival.tex:\n\t* etc/refcards/orgcard.tex:\n\t* etc/refcards/pl-refcard.tex:\n\t* etc/refcards/pt-br-refcard.tex:\n\t* etc/refcards/refcard.tex:\n\t* etc/refcards/ru-refcard.tex:\n\t* etc/refcards/sk-dired-ref.tex:\n\t* etc/refcards/sk-refcard.tex:\n\t* etc/refcards/sk-survival.tex:\n\t* etc/refcards/survival.tex:\n\t* etc/refcards/vipcard.tex:\n\t* etc/refcards/viperCard.tex: Change \"GNU Emacs\" to \"this\n\tdocument\" in copyright notices.  (Bug#24520)\n\n2016-11-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tUpdate copyright text in refcards\n\n\t* etc/refcards/viperCard.tex:\n\t* etc/refcards/vipcard.tex:\n\t* etc/refcards/survival.tex:\n\t* etc/refcards/sk-survival.tex:\n\t* etc/refcards/sk-dired-ref.tex:\n\t* etc/refcards/sk-refcard.tex:\n\t* etc/refcards/ru-refcard.tex:\n\t* etc/refcards/refcard.tex:\n\t* etc/refcards/pt-br-refcard.tex:\n\t* etc/refcards/pl-refcard.tex:\n\t* etc/refcards/orgcard.tex:\n\t* etc/refcards/gnus-refcard.tex:\n\t* etc/refcards/fr-survival.tex:\n\t* etc/refcards/fr-refcard.tex:\n\t* etc/refcards/fr-dired-ref.tex:\n\t* etc/refcards/dired-ref.tex:\n\t* etc/refcards/de-refcard.tex:\n\t* etc/refcards/cs-survival.tex:\n\t* etc/refcards/cs-refcard.tex:\n\t* etc/refcards/cs-dired-ref.tex:\n\t* etc/refcards/calccard.tex: Update the copyright blurb.  (Bug#24520)\n\n2016-11-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix Outline command names\n\n\t* doc/emacs/text.texi (Foldout): Use the outline-* names instead\n\tof the obsolete aliases.  (Bug#24890)\n\n2016-11-10  Philipp Stephani  <phst@google.com>\n\n\tSend text received by bracketed paste to process\n\n\tSee Bug#24639.\n\n\t* lisp/term.el (term--xterm-paste): New function.\n\t(term-raw-map): Use it.\n\t(xterm--pasted-text): Declare function from xterm.el.\n\n2016-11-10  Alan Mackenzie  <acm@muc.de>\n\n\tCorrect the statement about programming modes always running prog-mode-hook.\n\n\t* doc/emacs/modes.texi (Major Modes): Amend the statement about programming\n\tmodes running prog-mode-hook to say that it applies to many (not all) such\n\tmodes, and specifying exactly which modes.\n\n2016-11-10  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of 'occur'\n\n\t* doc/emacs/search.texi (Other Repeating Search): Clarify how to\n\tuse Occur with search strings from last Isearch.  (Bug#24890)\n\n2016-11-09  Noam Postavsky  <npostavs@gmail.com>\n\n\tDo call debugger on failed cl-assert\n\n\t\"Don't call debug on failed cl-assert...\" removed the call to `debug' in\n\tcl--assertion-failed because `debug' calls `kill-emacs' in batch mode,\n\tthus messing up ert test runs.  However, calling the debugger is useful\n\tbecause it allows catching failed assertions even inside\n\t`condition-case' calls.  The problem with ert can be avoided by calling\n\t`debugger' instead of `debug' directly, since ert installs its own\n\tdebugger while running tests.\n\n\t* lisp/emacs-lisp/cl-preloaded.el (cl--assertion-failed): Call\n\t`debugger' if `debug-on-error' is non-nil.\n\n2016-11-09  Daniel Colascione  <dancol@dancol.org>\n\n\tAvoid infloop in python\n\n\tFix bug#24905\n\n\t* lisp/progmodes/python.el (python-info-docstring-p): Improve\n\tinfloop avoidance: replace (bobp) with generic test for\n\tforward progress.\n\t* test/automated/python-tests.el (python-bob-infloop-avoid): Add\n\ttest for bug#24905\n\n2016-11-07  Eli Zaretskii  <eliz@gnu.org>\n\n\tDon't refer to obsolete FEATURE-unload-hook\n\n\t* doc/lispref/tips.texi (Coding Conventions): Refer to\n\tFEATURE-unload-function rather than its obsolete variant\n\tFEATURE-unload-hook.  (Bug#24890)\n\n2016-11-07  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of dabbrevs\n\n\t* lisp/dabbrev.el (dabbrev-expand): Doc fix.  (Bug#24890)\n\n\t* doc/emacs/abbrevs.texi (Dynamic Abbrevs): Mention\n\t'dabbrev-check-all-buffers', 'dabbrev-check-other-buffers', and\n\t'dabbrev-ignored-buffer-names' and their purpose.  (Bug#24890)\n\n2016-11-07  Eli Zaretskii  <eliz@gnu.org>\n\n\t* lisp/chistory.el (list-command-history): Doc fix.  (Bug#24890)\n\n\t* lisp/simple.el (set-mark-command): Doc fix.  (Bug#24890)\n\n2016-11-07  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of some Help commands\n\n\t* doc/emacs/help.texi (Help Mode): Fix mistake in key sequences.\n\tMention the 'l' and 'r' keys.\n\t(Misc Help): Mention that 'C-h m' describes key bindings.\n\t(Bug#24890)\n\n2016-11-07  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix documentation of yes-or-no prompts\n\n\t* doc/emacs/mini.texi (Yes or No Prompts): Fix mistakes in key\n\tsequences.  (Bug#24890)\n\n2016-11-07  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix documentation of partial completion style\n\n\t* doc/emacs/mini.texi (Completion Styles): Fix the description of\n\tthe wildcard '*'.  (Bug#24890)\n\n2016-11-07  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix documentation of the mode line on emacsclient frames\n\n\t* doc/emacs/screen.texi (Mode Line): Document the '@' indicator on\n\temacsclient frames.\n\n2016-11-07  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix description of 'C-z' in User manual\n\n\t* doc/emacs/entering.texi (Exiting): 'C-z' is bound to\n\t'suspend-frame'.  (Bug#24890)\n\n2016-11-07  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove and clarify documentation of Outline Mode\n\n\t* doc/emacs/text.texi (Outline Visibility): Use the outline-*\n\tnames instead of the obsolete aliases.  (Bug#24890)\n\n\t* lisp/outline.el (outline-hide-sublevels, outline-hide-other)\n\t(outline-hide-body): Doc fixes.  (Bug#24890)\n\n2016-11-06  Eli Zaretskii  <eliz@gnu.org>\n\n\tAdd Emacs version number to nt/README.W32\n\n\t* nt/README.W32: Include the version number of the latest Emacs\n\trelease.\n\n\t* admin/admin.el (set-version): Update the version in nt/README.W32.\n\n2016-11-06  Noam Postavsky  <npostavs@gmail.com>\n\n\tFix python-mode hideshow regexp\n\n\t2015-02-07 \"Fix hideshow integration[...]\" changed the regexp added to\n\t`hs-special-modes-alist' so that it worked when not searching from the\n\tbeginning of the line.  However, this allows matching tokens ending in\n\t\"def\" or \"class\", not just those keywords.  This results in an infinite\n\tloop in hs-hide-all (Bug #24815).\n\n\t* lisp/progmodes/python.el (python-mode): Add symbol boundaries around\n\tthe def|class matching part of the regexp added to\n\ths-special-modes-alist.\n\n2016-11-06  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tModernize usage of 'macOS' in doc and comments\n\n\tApple changed the spelling of its operating system again, to \"macOS\",\n\teffective with macOS 10.12 Sierra (2016-09-20).  Change Emacs\n\tdocumentation and comments to match this.  Stick with older OS\n\tspellings (\"OS X\", \"Mac OS X\") when talking about older releases where\n\tthe older names are more correct.\n\n2016-11-06  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPrefer comments /* like this */ in C code\n\n\tEmacs C code assumes C99 features, but has long used traditional\n\tcomments /* like this */ instead of C99-style comments // like this.\n\tStick with traditional comments for now, partly for style, partly as\n\tit may be safer with compilers that are not fully in C99 mode.\n\n2016-11-05  Noam Postavsky  <npostavs@gmail.com>\n\n\t* doc/lispref/loading.texi (Autoload): Better link (Bug#24845).\n\n2016-11-05  Eli Zaretskii  <eliz@gnu.org>\n\n\tClarify documentation of face attribute functions\n\n\t* doc/lispref/display.texi (Attribute Functions): Make sure to\n\tdocument that an omitted FRAME argument means the same as nil.\n\t(Bug#24879)\n\n2016-11-05  Noam Postavsky  <npostavs@gmail.com>\n\n\tDon't call debug on failed cl-assert\n\n\tDoing this causes problems when running ert tests, for\n\tinstance (Bug#24778).  The call to `debug` when `debug-on-error' is\n\tnon-nil was introduced in 2015-02-14 \"* lisp/emacs-lisp/cl*.el: Use\n\tdefine-inline and move some code...\".\n\n\t* lisp/emacs-lisp/cl-preloaded.el (cl--assertion-failed): Don't call\n\t`debug' directly.\n\n2016-11-04  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\tUpdate README for precompiled windows Emacs.\n\n\t * nt/README.W32: Describe 64 and 32-bit downloads, optional\n\t   dependencies bundle. Remove old material on sourcing dependencies.\n\t   Remove references to Windows 95. Update GUI references to recent\n\t   Windows. Remove references to Usenet.\n\n2016-11-04  Hong Xu  <hong@topbug.net>\n\n\tClarify documentation of 'vc-responsible-backend' wrt symlinks\n\n\t* lisp/vc/vc.el (vc-responsible-backend): Clarify that symlinks\n\tare not resolved when the VC backend is reported.\n\n\t* doc/lispref/files.texi (Truenames): Document\n\t'vc-responsible-backend'.  (Bug#23436)\n\t* doc/emacs/maintaining.texi (Version Control Systems): Fix a\n\ttypo.\n\n2016-11-04  Eli Zaretskii  <eliz@gnu.org>\n\n\tClarify doc string of 'transpose-sexps'\n\n\t* lisp/simple.el (transpose-sexps): Clarify the conditions for\n\ttransposing sexps that are lists or strings.  Mention the effect\n\tof the prefix argument.  (Bug#24860)\n\n2016-11-04  Tibor Cs\u00f6g\u00f6r  <tibi@tiborius.net>  (tiny change)\n\n\tFix docstring of 'browse-url-firefox-new-window-is-tab'\n\n\t* lisp/net/browse-url.el (browse-url-firefox-new-window-is-tab):\n\tRemove obsolete note from docstring (obsoleted by previous commits).\n\t(Bug#24843)\n\n2016-11-04  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of 'font-lock-remove-keywords'\n\n\t* doc/lispref/modes.texi (Customizing Keywords): Clarify the\n\t'keywords' argument of 'font-lock-remove-keywords'.  Suggested by\n\tHong Xu <hong@topbug.net>.  (Bug#24830)\n\n2016-11-04  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix documentation of the command summary key\n\n\t* doc/misc/info.texi (Help-^L, Help-Xref, Top): Emacs Info uses\n\t'?' for the summary of commands, whereas the stand-alone reader\n\tuses 'H'.  (Bug#24825)\n\n2016-11-04  Eli Zaretskii  <eliz@gnu.org>\n\n\tMark relocation workarounds with REL_ALLOC\n\n\t* src/search.c (boyer_moore): Mark workarounds for ralloc.c\n\trelocation of buffer text with \"#ifdef REL_ALLOC\".\n\n2016-11-02  Thomas Fitzsimmons  <fitzsim@fitzsim.org>\n\n\tFix documentation for 'eudc-options-file'\n\n\t* doc/misc/eudc.texi (The Server Hotlist): Update the default\n\tvalue of 'eudc-options-file'.\n\n\tBackport:\n\n\t(cherry picked from commit 0575fd95d0b92a9a0ebff8df183a449190f74dbc)\n\n2016-11-02  Tibor Cs\u00f6g\u00f6r  <tibi@tiborius.net>\n\n\tFix documentation of 'eudc-inline-expansion-format'\n\n\t* doc/misc/eudc.texi (Inline Query Expansion): Fix the default value of\n\t'eudc-inline-expansion-format'. (Bug#24840)\n\n\tBackport:\n\n\t(cherry picked from commit 1fef1387c387d80f8ece326621539b89a6965702)\n\n2016-10-31  Cl\u00e9ment Pit--Claudel  <clement.pitclaudel@live.com>\n\n\tpython.el: Fix detection of native completion in Python 3 (bug #24401)\n\n\tWith Python 3.5, (python-shell-completion-native-get-completions ... \"\")\n\twould return an empty list, causing python.el to think that native\n\tcompletion was unavailable (the difference between Python 2 and Python 3\n\tis due to https://bugs.python.org/issue25660).\n\n\t* lisp/progmodes/python.el (python-shell-completion-native-try): Use \"_\"\n\t  to check whether native completion is available instead of \"\".\n\n2016-10-26  Glenn Morris  <rgm@gnu.org>\n\n\t* Makefile.in (install-arch-indep): Skip etc/refcards/emacsver.tex.in.\n\n2016-10-26  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/subr.el (set-transient-map): Exit for unbound events (bug#24755).\n\n2016-10-26  Eli Zaretskii  <eliz@gnu.org>\n\n\tUpdate category-table for Chinese characters\n\n\t* lisp/international/characters.el (standard-category-table):\n\tUpdate the ranges of Han and Chinese characters.  (Bug#24798)\n\n2016-10-26  Noam Postavsky  <npostavs@gmail.com>\n\n\tInhibit buffer relocation during regex searches\n\n\t* src/search.c (looking_at_1, fast_looking_at, search_buffer): Prevent\n\trelocation of buffer contents during calls to re_search_2.  This ensures\n\tthe pointers into buffer text won't be invalidated by\n\tr_alloc_sbrk (called from malloc with configurations where\n\tREL_ALLOC=yes).\n\n2016-10-26  Noam Postavsky  <npostavs@gmail.com>\n\n\tRevert fixes to allocation of regex matching\n\n\tThe fix was not complete, and completing it was proving too complicated.\n\n\t- Revert \"* src/regex.c (re_search_2): Make new code safe for\n\t          -Wjump-misses-init.\"\n\t  This reverts commit c2a17924a57483d14692c8913edbe8ad24b5ffbb.\n\t- Revert \"Port to GCC 6.2.1 + --enable-gcc-warnings\"\n\t  This reverts commit f6134bbda259c115c06d4a9a3ab5c39340a15949.\n\t- Revert \"Fix handling of allocation in regex matching\"\n\t  This reverts commit ad66b3fadb7ae22a4cbb82bb1507c39ceadf3897.\n\t- Revert \"Fix handling of buffer relocation in regex.c functions\"\n\t  This reverts commit ee04aedc723b035eedaf975422d4eb242894121b.\n\n2016-10-25  Eli Zaretskii  <eliz@gnu.org>\n\n\tComment for bug#24793\n\n\t* lisp/info.el (Info-mode-font-lock-keywords): Add a comment\n\texplaining why `..' quoting is not fontified using the\n\t'Info-quoted' face.  (Bug#24793)\n\n2016-10-25  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDefault REL_ALLOC to 'no'\n\n\tThis should make ralloc-related bugs less likely on GNU/Linux\n\tsystems with bleeding-edge glibc.  See the email thread containing:\n\thttps://lists.gnu.org/r/emacs-devel/2016-10/msg00801.html\n\tDo not merge to master.\n\t* configure.ac (REL_ALLOC): Default to 'no' on all platforms, not\n\tmerely on platforms with Doug Lea malloc.  Although bleeding-edge\n\tglibc no longer exports __malloc_initialize_hook and so longer\n\tpasses the configure-time test for Doug Lea malloc, ralloc tickles\n\tlongstanding bugs like Bug#24358 and Bug#24764 and Emacs is likely\n\tto be more reliable without it.  This patch is not needed on\n\tmaster, which uses hybrid malloc in this situation.\n\n2016-10-24  Eli Zaretskii  <eliz@gnu.org>\n\n\tYet another fix for using pointers into buffer text\n\n\t* src/search.c (boyer_moore): Update pointers to buffer text\n\tafter call to set_search_regs.  (Bug#24358)\n\n2016-10-24  Eli Zaretskii  <eliz@gnu.org>\n\n\tAnother fix for using pointer to buffer text\n\n\t* src/search.c (Freplace_match): Move the call to BYTE_POS_ADDR\n\tafter the call to xpalloc, to avoid the danger of buffer text\n\trelocation after its address was taken.  (Bug#24358)\n\n2016-10-24  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix Bug#24478\n\n\t* lisp/net/tramp-sh.el (tramp-histfile-override): Change default value\n\tto \"~/.tramp_history\".\n\t(tramp-open-shell): Check proper HISTFILE setting.\n\t(tramp-maybe-open-connection): Cleanup also for errors.  (Bug#24478)\n\n2016-10-24  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort --enable-gcc-warnings to bleeding-edge glibc\n\n\tBleeding-edge glibc sets emacs_cv_var_doug_lea_malloc to 'no'.\n\tDo not merge to master.\n\t* configure.ac: Check for valloc decl when compiling gmalloc.c.\n\t* src/gmalloc.c (emacs_abort) [emacs]: Adjust decl to match\n\twhat is in lisp.h.  Remove duplicate decl.\n\t(aligned_alloc): #undef before defining.\n\t(aligned_alloc, memalign) [!MSDOS]: Declare.\n\t(valloc) [HAVE_DECL_VALLOC]: Remove duplicate decl.\n\n2016-10-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix handling of buffer relocation in regex.c functions\n\n\t* src/search.c (search_buffer): Updated the base pointer to buffer\n\ttext after the call to re_search_2.  (Bug#24358)\n\n2016-10-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid relocating buffers while libxml2 reads its text\n\n\t* src/xml.c (parse_region) [REL_ALLOC]: Freeze the ralloc arena\n\twhile libxml2 reads the current buffer's text.  (Bug#24764)\n\n2016-10-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tAttempt to catch reads from a buffer that is relocated\n\n\t* src/xml.c (parse_region): Add assertion to ensure buffer text is\n\tnot relocated while libxml2 is reading it.  (Bug#24764)\n\n2016-10-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tRevert \"* lisp/simple.el (process-menu-mode, list-processes--refresh):\"\n\n\tThis reverts commit a4285bcb1114e29200001f33af9b4802167d6140.\n\tDo not merge to master!\n\n2016-10-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tRevert \"* lisp/ibuf-ext.el (ibuffer-do-shell-command-file):\"\n\n\tThis reverts commit b0c447e4668116cecfda91d0203cb7cac2486d92.\n\tDo not merge to master!\n\n2016-10-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tRevert \"* lisp/ibuffer.el (ibuffer): Improve 'other-window' case.  (Bug#23617)\"\n\n\tThis reverts commit cf3c19b0298236293d9c56d5ba425af4f42c1f8e.\n\tDo not merge to master!\n\n2016-10-23  Eli Zaretskii  <eliz@gnu.org>\n\n\t;* src/w32heap.c: Fix typo and wording of the comments.\n\n2016-10-23  Paul Eggert  <eggert@cs.ucla.edu>\n\n\telectric-quote mode no longer worries about coding\n\n\t* doc/emacs/text.texi (Quotation Marks), etc/NEWS: Document this.\n\t* lisp/electric.el (electric--insertable-p): Remove.\n\tAll uses removed (Bug#24759).\n\n2016-10-23  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* src/regex.c (re_search_2): Make new code safe for -Wjump-misses-init.\n\n2016-10-23  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort to GCC 6.2.1 + --enable-gcc-warnings\n\n\t* src/regex.c (ENSURE_FAIL_STACK, re_search_2):\n\tRedo recent regex changes to avoid complaints from GCC 6.2.1 when\n\tEmacs is configured with --enable-gcc-warnings.  Also, work around\n\tGCC bug 78081, which was uncovered by this new code.\n\n2016-10-22  Noam Postavsky  <npostavs@gmail.com>\n\n\tExplain how to debug emacsclient lisp errors\n\n\t* doc/lispref/debugging.texi (Error Debugging): Mention that\n\tdebug-on-signal is useful for getting backtraces from\n\temacsclient (Bug#24616).\n\n2016-10-22  Noam Postavsky  <npostavs@gmail.com>\n\n\tLet describe-function work for lambda again\n\n\tSince commit \"* lisp/help-fns.el (describe-function): More type\n\tchecking[...]\", `describe-function' throws a user-error when given a\n\tnon-symbol.  This prevents the [back] button in a *Help* buffer from\n\tworking when the page it goes back to describes an anonymous\n\tfunction (e.g., the result of `describe-key' on a key which is bound to\n\ta lambda form).\n\n\t* lisp/help-fns.el (describe-function): Move the checks on FUNCTION\n\tbeing an fbound symbol into the `interactive' form.  This allows\n\tnon-interactive calls to pass an anonymous function (Bug #24221).  Note\n\tthat passing a non-bound symbol non-interactively will still trigger a\n\t`void-function' error from `describe-function-1'.\n\n2016-10-22  Noam Postavsky  <npostavs@gmail.com>\n\n\tFix kill-line's docstring\n\n\t* lisp/simple.el (kill-line): The effect of show-trailing-whitespace is\n\timportant lines with *no* nonblanks (Bug #16654).\n\n2016-10-22  Noam Postavsky  <npostavs@gmail.com>\n\n\tFix handling of allocation in regex matching\n\n\t`re_match_2_internal' uses pointers to the lisp objects that it\n\tsearches.  Since it may call malloc when growing the \"fail stack\", these\n\tpointers may be invalidated while searching, resulting in memory\n\tcurruption (Bug #24358).\n\n\tTo fix this, we check the pointer that the lisp object (as specified by\n\tre_match_object) points to before and after growing the stack, and\n\tupdate existing pointers accordingly.\n\n\t* src/regex.c (STR_BASE_PTR): New macro.\n\t(ENSURE_FAIL_STACK, re_search_2): Use it to convert pointers into\n\toffsets before possible malloc call, and back into pointers again\n\tafterwards.\n\t(POS_AS_IN_BUFFER): Add explanatory comment about punning trick.\n\t* src/search.c (search_buffer): Instead of storing search location as\n\tpointers, store them as pointers and recompute the corresponding address\n\tfor each call to `re_search_2'.\n\t(string_match_1, fast_string_match_internal, fast_looking_at):\n\t* src/dired.c (directory_files_internal): Set `re_match_object' to Qnil\n\tafter calling `re_search' or `re_match_2'.\n\t* src/regex.h (re_match_object): Mention new usage in commentary.\n\n2016-10-21  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* lisp/electric.el (electric-quote-mode): Improve doc (Bug#24759).\n\n2016-10-20  Tino Calancha  <tino.calancha@gmail.com>\n\n\tvc-region-history: Search just on lines intersecting the region\n\n\t* lisp/vc/vc.el (vc-region-history): If region ends in the beginning\n\tof a line, then exclude that line from the search (Bug#24725).\n\n2016-10-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix documentation of 'alist-get'\n\n\t* doc/lispref/lists.texi (Association Lists): Fix the signature of\n\t'alist-get'.  Fix the markup, the wording, and the punctuation in\n\tthe description. (Bug#24740)\n\n2016-10-19  Eli Zaretskii  <eliz@gnu.org>\n\n\t* src/regex.h (re_match_object): Improve commentary.\n\n2016-10-19  Alan Third  <alan@idiocy.org>\n\n\tFix cursor at bottom left of rectangle (bug#24364)\n\n\t* lisp/rect.el (rectangle--col-pos): Don't assume point at EOL doesn't\n\trequire rectangle--point-crutches to be set.\n\n2016-10-19  Michael Albinus  <michael.albinus@gmx.de>\n\n\tChange Tramp version to \"2.2.13.25.2\"\n\n\t* doc/misc/trampver.texi:\n\t* lisp/net/trampver.el: Change version to \"2.2.13.25.2\".\n\n2016-10-19  Eli Zaretskii  <eliz@gnu.org>\n\n\t* lisp/emacs-lisp/autoload.el (update-directory-autoloads): Fix last change.\n\n2016-10-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tDon't scan compiled module files for autoloads\n\n\t* lisp/emacs-lisp/autoload.el (update-directory-autoloads): Ignore\n\tcompiled module files.  Make sure the extension really ends the\n\tfile name.\n\n2016-10-18  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix Bug#24698\n\n\t* lisp/net/tramp-sh.el (tramp-open-connection-setup-interactive-shell):\n\tDon't send \"stty tab0\" to *BSD and Darwin machines.  (Bug#24698)\n\n2016-10-18  Eli Zaretskii  <eliz@gnu.org>\n\n\t* lisp/subr.el (start-process): Doc fix.  (Bug#24693)\n\n2016-10-18  G\u00f6ktu\u011f Kayaalp  <self@gkayaalp.com>\n\n\tFix display of vc-dir CVS file statuses in subdirectories\n\n\t* lisp/vc/vc-cvs.el (vc-cvs-dir-status-files): Use 'cvs update'\n\tinstead of 'cvs status'.  It's faster, easier to parse, and\n\trelieves us of the need to use vc-expand-dirs.  (Bug#24082)\n\t(vc-cvs-after-dir-status): Parse its output.\n\n2016-10-17  Eli Zaretskii  <eliz@gnu.org>\n\n\tUpdate URL of MS-Windows optional DLLs\n\n\t* nt/README.W32:\n\t* nt/INSTALL: Update the URL of the MS-Windows binaries of the\n\toptional libraries built with MSYS2/MinGW64 project tools.\n\n2016-10-17  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix time-related data types in 2 editfns.c functions\n\n\t* src/editfns.c (format_time_string, Fcurrent_time_zone): Pass a\n\tpointer to time_t value to emacs_localtime_rz and gmtime_r,\n\tinstead of relying on struct timespec's tv_sec member to be of\n\tcompatible type.\n\n2016-10-17  Tino Calancha  <f92capac@gmail.com>\n\n\t* lisp/simple.el (process-menu-mode, list-processes--refresh):\n\tInclude PID.  (Bug#21725)\n\n\t(cherry picked from commit b7adc2f23787eb72015cd705b873e229db6a5049)\n\n2016-10-17  Tino Calancha  <f92capac@gmail.com>\n\n\t* lisp/ibuf-ext.el (ibuffer-do-shell-command-file):\n\tFix non-file-visiting-buffer case.  (Bug#22678)\n\n\t(cherry picked from commit 738738259ba77fe17e433c64e0758ea59ab5bc75)\n\n2016-10-17  Tino Calancha  <f92capac@gmail.com>\n\n\t* lisp/ibuffer.el (ibuffer): Improve 'other-window' case.  (Bug#23617)\n\n\t(cherry picked from commit f4ef1a1fea15aa58fbb5e7a59bff260720658e49)\n\n2016-10-17  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort to Ubuntu 16.10, which needs gcc -nopie\n\n\t* configure.ac (emacs_cv_prog_cc_no_pie): Rename from\n\temacs_cv_prog_cc_nopie.  All usages changed.  Check for -no-pie in\n\tpreference to -nopie (Bug#24682).  Backport from master.\n\n2016-10-17  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/cus-start.el (exec-path): Handle nil elements.  (Bug#24471)\n\n2016-10-16  Andreas Politz  <politza@hochschule-trier.de>\n\n\tCatch the imenu-unavailable error in sh-mode completion table\n\n\t* lisp/progmodes/sh-script.el (sh--cmd-completion-table):\n\tCatch the imenu-unavailable error (bug#24238).\n\n2016-10-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tMore char-width fixes\n\n\t* lisp/international/characters.el (char-width-table): More fixes\n\taccording to the latest EastAsianWidth.txt.  (Bug#24705)\n\n2016-10-15  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix char-width-table values for some Emoji\n\n\t* lisp/international/characters.el (char-width-table): Add missing\n\trange U+1F400..U+1F43E.  (Bug#24699)\n\n\t* admin/notes/unicode: Mention the need to verify char-width-table\n\tsetting against data in EastAsianWidth.txt.\n\n2016-10-15  Eli Zaretskii  <eliz@gnu.org>\n\n\tKeep point when switching from and to *terminal* buffer\n\n\t* lisp/term.el (term-reset-size): Don't reset the size if it\n\tdidn't change.  If the size did change, restore point after\n\tadjusting the size.  (Bug#24465)\n\n2016-10-15  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* INSTALL: Use correct Emacs release number 25.\n\n2016-10-14  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid crashes due to objects read with the #n=object form\n\n\t* src/lread.c (read1): Use Fcons for 'placeholder', not AUTO_CONS,\n\tbecause elements of the list in 'read_objects' cannot be allocated\n\toff the stack.  (Bug#24640)\n\n2016-10-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove doc string of 'completion-at-point-functions'\n\n\t* lisp/minibuffer.el (completion-at-point-functions): Doc fix.\n\t(Bug#24663)\n\n2016-10-13  Philipp Stephani  <phst@google.com>\n\n\tFix crash in evaluating functions\n\n\tSee Bug#24673\n\n\t* src/eval.c (funcall_lambda): Fix crash for bogus functions such\n\tas (closure).\n\n2016-10-13  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* src/filelock.c (current_lock_owner): Update comment.\n\n2016-10-12  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort --enable-gcc-warnings to GCC 6.2.1\n\n\tBackport from master.\n\t* src/conf_post.h (GNUC_PREREQ): New macro.\n\t* src/keyboard.c: Use it to work around GCC bug 54561.\n\t* src/process.c (would_block): New function.\n\t(server_accept_connection, wait_reading_process_output, send_process):\n\tUse it.\n\n2016-10-12  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tWork around Samba bug with ':' in symlink contents\n\n\t* src/filelock.c (current_lock_owner): When reading the contents\n\tof a lock, treat the UTF-8 for U+F022 as if it were ':' (Bug#24656).\n\tBackport from master.\n\n2016-10-12  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort last_marked change to full-program optimizers\n\n\t* src/alloc.c (last_marked): Now EXTERNALLY_VISIBLE.\n\n2016-10-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tAdapt GDB scripts to '--enable-check-lisp-object-type' builds\n\n\t* etc/emacs-buffer.gdb <$qnil>: New variable.\n\t(ybuffer-list, yset-buffer): Use $qnil for comparing against\n\t'nil', as direct comparison with Qnil doesn't work in a build with\n\t'--enable-check-lisp-object-type'.\n\n\t* src/.gdbinit: Adapt commands of the temporary breakpoint in\n\tinit_sys_modes to a build with '--enable-check-lisp-object-type'.\n\n2016-10-11  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid optimizing out the last_marked[] array\n\n\t* src/alloc.c <last_marked>: No longer 'static', to avoid having\n\tit optimized out in optimized builds, which then makes debugging\n\tGC problems harder.\n\n2016-10-09  Alan Mackenzie  <acm@muc.de>\n\n\tCC Mode manual: remove reference to former Emacs variable last-command-char\n\n\t* doc/misc/cc-mode.texi (Hanging Semicolons and Commas): Replace reference to\n\tvariable last-command-char by one to macro c-last-command-char.\n\n2016-10-08  Eli Zaretskii  <eliz@gnu.org>\n\n\tAllow to disable compaction of font caches\n\n\t* src/font.c (syms_of_font) <inhibit-compacting-font-caches>: New\n\tboolean variable.\n\t* src/alloc.c (compact_font_caches): Use it to bypass the call to\n\tcompact_font_cache_entry.  (Bug#24634)  (Bug#24565)\n\n\t* etc/NEWS: Mention the new variable.\n\n2016-10-08  Eli Zaretskii  <eliz@gnu.org>\n\n\tAllow selection of font for symbols as in Emacs 24.x\n\n\t* src/fontset.c (syms_of_fontset) <use-default-font-for-symbols>:\n\tNew boolean variable.\n\t(face_for_char): Use it to fall back to pre-Emacs 25.1 behavior\n\twhen selecting fonts for displaying symbol and punctuation\n\tcharacters.  (Bug#24644)\n\n\t* etc/NEWS: Mention the new variable.\n\n2016-10-08  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix horizontal scrolling during Isearch\n\n\t* lisp/isearch.el (isearch-update): Compute the window's body\n\twidth in a way that is correct when there are no fringes.\n\t(Bug#24584)\n\n2016-10-08  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix infloop in redisplay due to truncated lines and invisible text\n\n\t* src/xdisp.c (forward_to_next_line_start): Don't call\n\t'get_next_display_element' after finding the end of line.  This\n\tavoids setting the row's end position to the wrong value when the\n\tnext screen line begins with invisible text; that wrong value\n\tcaused set_cursor_from_row position the cursor in the wrong screen\n\tline, and eventually triggered bug#24109.\n\n2016-10-07  David Engster  <deng@randomsample.de>\n\n\tgitmerge: Add cherry pick to gitmerge-skip-regexp\n\n\t* admin/gitmerge.el (gitmerge-skip-regexp): Add \"cherry picked\n\tfrom commit\", which is the string appended by 'git cherry-pick\n\t-x'.\n\n\t(cherry picked from commit f648e4866981b142fca788372e1fd9013a0bb16a)\n\n2016-10-06  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of 'menu-bar-open'\n\n\t* lisp/term/w32-win.el (w32-menu-bar-open): Clarify that sometimes\n\ttwo ESC keypresses are needed to exit the menu.\n\n\t* doc/emacs/screen.texi (Menu Bar): Qualify the description of how\n\tto exit menus.  (Bug#24596)\n\n2016-10-06  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix compilation with MinGW runtime 3.22.2 and w32api 3.18.2\n\n\t* nt/inc/ms-w32.h (_WIN32_WINNT) [!MINGW_W64]: Undefine before\n\tdefining to avoid redefinition warnings.\n\n\t* nt/inc/sys/stat.h (_SYS_STAT_H, _INC_STAT_H): Define, to avoid\n\tinclusion of sys/stat.h from the system headers, which could then\n\tlead to compilation errors due to redefinition of 'struct stat'\n\tetc.  This is needed because latest versions of MinGW runtime\n\tinclude sys/stat.h from wchar.h.\n\n\t* src/image.c (__MINGW_MAJOR_VERSION) [WINDOWSNT]: Temporarily\n\tredefine to 4 to avoid conflict between 2 definitions of\n\tMemoryBarrier.  (Bug#24613)\n\n\tDo not merge to master!\n\n2016-10-05  John Wiegley  <johnw@newartisans.com>\n\n\tAdd documentation note from Alex\n\n2016-10-05  Aurelien Aptel  <aaptel@suse.com>\n\n\t* src/alloc.c: call only non-null finalizers\n\n2016-10-04  Karl Fogel  <kfogel@red-bean.com>\n\n\tClarify that doc fixes are okay in feature freeze\n\n\t* CONTRIBUTE (branches): Explain that doc fixes are always safe, even\n\ton a release branch in feature freeze.  Tweak wording of paragraph\n\tafter that to avoid a misleading contrast.\n\n2016-10-04  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid crashes when setting the cursor\n\n\t* src/xdisp.c (display_and_set_cursor): Don't index glyphs of a\n\tglyph row if hpos is out of valid bounds.  This avoids crashes in\n\tsome rare cases.  (Bug#24614)\n\n2016-10-04  Philippe Vaucher  <philippe.vaucher@gmail.com>\n\n\tRestore 'command-debug-status' functionality\n\n\t* src/callint.c (Fcall_interactively): Bind command-debug-status\n\tto nil.  This restores functionality inadvertently removed in\n\tEmacs 25.1.  (Bug#24555)\n\n\t* lisp/subr.el (command-debug-status): Declare obsolete.\n\n\t* doc/lispref/debugging.texi (Internals of Debugger): Document\n\tthat 'command-debug-status' is obsolete.\n\n2016-10-03  Karl Fogel  <kfogel@red-bean.com>\n\n\tDocument yank behavior in the right place\n\n\t* lisp/simple.el (yank): Document the handling of the\n\t`yank-handled-properties' and `yank-excluded-properties' variables,\n\tand the `yank-handler' text property.\n\t(yank-pop): Refer to `yank' now (bug#286)\n\n\t* lisp/subr.el (insert-for-yank): Refer to `yank' now.\n\t(insert-for-yank-1): Refer to `insert-for-yank' now.\n\n\tSee this thread for discussion:\n\n\t  https://lists.gnu.org/r/emacs-devel/2016-09/threads.html#00329\n\t  From: Karl Fogel\n\t  To: Emacs Devel\n\t  Subject: Question about intended behavior of 'insert-for-yank-1'.\n\t  Date: Mon, 12 Sep 2016 00:17:14 -0500\n\t  Message-ID: <874m5lr92d.fsf@red-bean.com>\n\n2016-10-03  Philipp Stephani  <phst@google.com>\n\n\tDocument nil args of compare-buffer-substrings\n\n\t* src/editfns.c (Fcompare_buffer_substrings): Document behavior when\n\tthe arguments are nil.\n\n2016-10-03  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\t* doc/misc/message.texi (Bcc Warning): Fix markup.\n\n\t* doc/misc/message.texi (Bcc Warning):\n\tDocument mml-secure-safe-bcc-list.\n\n2016-10-02  Noam Postavsky  <npostavs@gmail.com>\n\n\tDon't require isearch-update before isearch-done\n\n\tIt is useful to be able to call `isearch-done' unconditionally to\n\tensure a non-isearching state.\n\n\t* lisp/isearch.el (isearch-done): Check that `isearch--current-buffer'\n\tis a live buffer before using it (Bug #21091).\n\t* test/automated/isearch-tests.el (isearch--test-done): Test it.\n\n\t(cherry picked from commit 68f4b5292781bc331b040105c4079902b993835c)\n\n2016-10-02  Peder O. Klingenberg  <peder@klingenberg.no>\n\n\tAvoid error in icalendar--read-element\n\n\t* lisp/calendar/icalendar.el (icalendar--read-element): Avoid a regex\n\tstack overflow by not using regex to extract values from calendar\n\tevents. (Bug#24315)\n\n\t(cherry picked from commit 55dde6c1a21a792d3d75c19e612c74dd054aaf1e)\n\n2016-10-02  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMake a menu less ambiguous\n\n\t* doc/emacs/custom.texi (Key Bindings): The Modifier Keys node\n\tis about using modifier keys, not binding them (bug#10942).\n\n\t(cherry picked from commit 214f85a0a68b96a552ca605d601b33f6eef5c4ca)\n\n2016-10-02  Devon Sean McCullough  <Emacs-Hacker2012@jovi.net>\n\n\tDoc fix for url-http\n\n\t* lisp/url/url-http.el (url-http): Document better return values\n\t  (bug#13187) (tiny change)\n\n\t(cherry picked from commit 344303c8d9cb03d4778a73940e80e966280aa694)\n\n2016-10-01  Eli Zaretskii  <eliz@gnu.org>\n\n\t* lisp/frame.el (blink-cursor-delay): Doc fix.  (Bug#24372)\n\n2016-09-30  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\t* lisp/gnus/gnus-art.el (gnus-button-handle-library): Fix typo.\n\n2016-09-27  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRegexp Functions doc minor fixes\n\n\t* doc/lispref/searching.texi (Regexp Functions):\n\tFix misspelling of \u201cmatching\u201d.  Use @table for table.\n\tReformat code example to fit into info file width (Bug#17862).\n\n2016-09-27  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\tBackport mm-convert-shr-links fix from master (bug#23964)\n\n\t* lisp/gnus/mm-decode.el (mm-convert-shr-links):\n\tPreserve key bindings that shr adds (bug#23964).\n\n2016-09-26  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of 'expand-abbrev' and wrapper hooks\n\n\t* lisp/simple.el (filter-buffer-substring-functions)\n\t(buffer-substring--filter): Add a link to 'with-wrapper-hook' as\n\tthe place to look for documentation of wrapper hooks.\n\t* lisp/minibuffer.el (completion-in-region-functions)\n\t(completion--in-region): Add a link to 'with-wrapper-hook' as the\n\tplace to look for documentation of wrapper hooks.\n\t* lisp/abbrev.el (expand-abbrev, abbrev--default-expand): Clarify\n\tthe doc strings.  (Bug#24540)\n\n\t* doc/lispref/text.texi (Buffer Contents): Mention\n\t'with-wrapper-hook's doc string as the place to learn about that\n\tobsolete facility.\n\n2016-09-25  Eli Zaretskii  <eliz@gnu.org>\n\n\tMinor copyedits of MS-Windows installation instructions\n\n\t* nt/INSTALL:\n\t* nt/README.W32: Add URL of Emacs dependencies on alpha.gnu.org.\n\n2016-09-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix display of cursor when 'blink-cursor-delay' has small value\n\n\t* lisp/frame.el (blink-cursor-check, blink-cursor-mode):\n\tProtect ourselves against too small values of blink-cursor-delay.\n\tThis avoids erratic display of the cursor, or even failure to\n\tdisplay it, when user types text at high speed or leans on a key\n\tto invoke the keyboard auto-repeat feature.  (Bug#24372)\n\n2016-09-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove the doc string of 'format'\n\n\t* src/editfns.c (Fformat): Fix ambiguity in the doc string's usage\n\tof a literal period.  (Bug#24407)\n\n\tThis was backported from master\n\t(cherry picked from commit 7123896626b06c26c4e37839ab41e41980c8f433)\n\n2016-09-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove doc strings in whitespace.el\n\n\t* lisp/whitespace.el (whitespace-mode, whitespace-newline-mode)\n\t(global-whitespace-mode, global-whitespace-newline-mode): Improve\n\tthe doc strings.  (Bug#24413)\n\n\tThis was backported from master\n\t(cherry picked from commit 3462fe73351f3da5bc3ebf8296ee44dd2e6b1dbc)\n\n2016-09-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove detectability of 'next-logical-line' and 'previous-logical-line'\n\n\t* lisp/simple.el (next-line, previous-line): Mention\n\t'next-logical-line' and 'previous-logical-line' in the doc\n\tstrings.  (Bug#24443)\n\n\tThis was backported from master\n\t(cherry picked from commit e95d0d15bb1534803b0adb3c3a927c8beb7d4e79)\n\n2016-09-23  Martin Rudalics  <rudalics@gmx.at>\n\n\tFix (next-frame nil t) crash (Bug#24281)\n\n\t* src/frame.c (candidate_frame): Check minibuf argument before\n\tcomparing it to zero (Bug#24281).\n\n\tThis was backported from master\n\t(cherry picked from commit dc491c3df305a73908fe8de20b7c428a5b38c846)\n\n2016-09-23  Noam Postavsky  <npostavs@gmail.com>\n\n\tFix debugging of string-match-p errors\n\n\t* src/eval.c (call_debugger): Bind inhibit-changing-match-data to nil so\n\tthat debugger code that needs to do regexp match won't break\n\t(Bug #23949, Bug #24166, Bug#16294).\n\n\tThis was backported from master\n\t(cherry picked from commit 7fb75680b38fe0805c2ff7e9cca3bec8121ba984)\n\n2016-09-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix region display while dragging mouse\n\n\t* lisp/mouse.el (mouse-drag-track): Reset deactivate-mark in the\n\tbuffer of the drag event, to allow mark to be set and the region\n\tbe shown as we drag the mouse.  (Bug#24030)\n\n\tThis was backported from master\n\t(cherry picked from commit 7d58b02f363ab02961faa950d1ba727df96f2f19)\n\n2016-09-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix 'vertical-motion' and 'posn-at-point' under 'visual-line-mode'\n\n\t* src/xdisp.c (move_it_in_display_line_to): Don't assume we can\n\twrap on a whitespace character if it's followed by another\n\twhitespace character.  When returning under WORD_WRAP for a screen\n\tline that is continued, restore to wrap point when atpos/atx\n\tposition would be displayed on the next screen line due to\n\tline-wrap.  (Bug#23570)\n\n\tThis is backported from master\n\t(cherry picked from commit 99848b37d2c3e14c0af45fc6da437a806aa58a80)\n\n2016-09-23  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tImprove display of tex-verbatim and Info quoted\n\n\tProblem reported by Glenn Morris (Bug#19889).\n\t* doc/emacs/display.texi (Standard Faces):\n\t* doc/lispref/display.texi (Basic Faces):\n\t* etc/NEWS: Mention fixed-pitch-serif.\n\t* lisp/faces.el (face-font-family-alternatives):\n\tNew family alias Monospace Serif.\n\t(fixed-pitch-serif): New face, which uses the new family.\n\t* lisp/info.el (Info-quoted):\n\t* lisp/textmodes/tex-mode.el (tex-verbatim): Use the new face.\n\t* test/automated/font-parse-tests.el (font-parse-tests--data):\n\tAdd test case for Monospace Serif.\n\n\tThis is backport from master\n\t(cherry picked from commit 36906806ccfc0e53f1d8c365ab0d7151288b7833)\n\n2016-09-23  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDocument how to check for ImageMagick support\n\n\t* doc/lispref/display.texi (ImageMagick Images): Say how to\n\tcheck for ImageMagick support, which isn't quite obvious\n\t(bug#20702).\n\n\tThis is backport from master\n\t(cherry picked from commit faf07d646575c78d6d956ce91820ebbf38308553)\n\n2016-09-23  Tino Calancha  <f92capac@gmail.com>\n\n\tRun find-function-after-hook after finding a symbol\n\n\t* lisp/emacs-lisp/find-func.el (find-library):\n\t* lisp/help-mode.el (help-function-def, help-variable-def):\n\tRun `find-function-after-hook' inside the help-function of the\n\tbuttons (bug#22583).\n\t* etc/NEWS: Mention the change.\n\n\tThis is a backport from master.\n\t(cherry picked from commit f069d854508946bcc03e4c77ceb430748e3ab6d7)\n\n2016-09-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument 'timerp'\n\n\t* doc/lispref/os.texi (Timers): Document 'timerp'.  (Bug#24511)\n\tImprove indexing.\n\n2016-09-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of overlay priorities\n\n\t* doc/lispref/display.texi (Overlay Properties): Minor copyedits.\n\tBy popular demand, mention the '(PRIMNARY . SECONDARY)' form of\n\toverlay properties used for the region.  (Bug#20253)\n\n2016-09-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix 'dired-compress-files'\n\n\t* lisp/dired-aux.el (dired-do-compress-to): Make sure the archive\n\tfile name is fully expanded by running it through\n\t'expand-file-name'.  Suggested by Drew Adams <drew.adams@oracle.com>.\n\t(Bug#24486)  Doc fix.\n\t* lisp/dired.el: Regenerated changes in autoloads.\n\n2016-09-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tUpdate commentary of STRING_CHAR and FETCH_MULTIBYTE_CHAR\n\n\t* src/character.h (STRING_CHAR):\n\t* src/buffer.h (FETCH_MULTIBYTE_CHAR): Update commentary: these\n\ttwo macros no longer do any character unification, so the caveats\n\tin those comments are no longer pertinent.\n\n2016-09-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tIncrement Emacs version to 25.1.50\n\n\t* README:\n\t* configure.ac:\n\t* etc/NEWS:\n\t* msdos/sed2v2.inp: Bump the version to 25.1.50.\n\n2016-09-21  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument the optional zlib library in MS-Windows builds\n\n\t* nt/README.W32:\n\t* nt/INSTALL.W64:\n\t* nt/INSTALL: Mention the optional text decompression support and\n\tthe zlib library.\n\n2016-09-21  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix tagging of DEFUN by etags\n\n\t* lib-src/etags.c (C_entries): Tag DEFUN twice: once with its C\n\tname, and then again with its Lisp name.  This restores the\n\tability to find Lisp primitives by their C name, which was lost\n\twhen the etags back-end was switched to a more strict search\n\tcriteria.\n\n\t* test/etags/ETAGS.good_1:\n\t* test/etags/ETAGS.good_2:\n\t* test/etags/ETAGS.good_3:\n\t* test/etags/ETAGS.good_4:\n\t* test/etags/ETAGS.good_5:\n\t* test/etags/ETAGS.good_6:\n\t* test/etags/CTAGS.good: Adapt to the changes in etags.c wrt\n\ttagging DEFUN.\n\n2016-09-21  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid resetting track-mouse by mouse clicks\n\n\t* lisp/mouse.el (mouse-drag-line, mouse-drag-track): Don't assume\n\tthe previous value of track-mouse is nil; instead, save and\n\trestore the previous value.  (Bug#24480)\n\n2016-09-20  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove nt/README.W32 instructions\n\n\t* nt/README.W32: Add instructions for installing 64-bit builds of\n\toptional libraries.  (Bug#24470)\n\n2016-09-17  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument that desktop file overrides frame parameters\n\n\t* doc/emacs/misc.texi (Saving Emacs Sessions):\n\t* doc/emacs/frames.texi (Frame Parameters): Document that frame\n\tparameters restored by desktop.el take precedence over the\n\tcustomizations in the init file, and explain how to countermand\n\tthat.  For the details of the issue, see\n\thttps://lists.gnu.org/r/emacs-devel/2016-09/msg00318.html.\n\n2016-09-15  Nicolas Petton  <nicolas@petton.fr>\n\n\t* etc/AUTHORS: Regenerate the AUTHORS file\n\n2016-09-16  Nicolas Petton  <nicolas@petton.fr>\n\n\t* Version 25.1 released.\n\n2016-09-15  Nicolas Petton  <nicolas@petton.fr>\n\n\t* etc/AUTHORS: Regenerate the AUTHORS file\n\n2016-09-15  Eli Zaretskii  <eliz@gnu.org>\n\n\tUpdate admin/authors.el\n\n\t* admin/authors.el (authors-fixed-entries): Add an entry for Bob\n\tWeiner.\n\n2016-09-14  Eli Zaretskii  <eliz@gnu.org>\n\n\tUpdate Antinews in ELisp manual\n\n\t* doc/lispref/anti.texi (Antinews): Update for Emacs 25.1.\n\t* doc/lispref/elisp.texi (Top): Update the main menu entry for\n\tAntinews.\n\n2016-09-11  Noam Postavsky  <npostavs@gmail.com>\n\n\tFix comments on window height macros\n\n\t* src/window.h (WINDOW_MODE_LINE_HEIGHT, WINDOW_HEADER_LINE_HEIGHT): Fix\n\tconfusing claim that \"height is in pixels and in lines\"; in fact it's in\n\tpixels.\n\n2016-09-10  Toke H\u00f8iland-J\u00f8rgensen  <toke@toke.dk>  (tiny change)\n\n\tFix 'url-http-create-request' when cookies are used\n\n\t* lisp/url/url-http.el (url-http-create-request): Make sure the\n\tcookie headers are a unibyte string.  For the details, see\n\thttps://lists.gnu.org/r/emacs-devel/2016-09/msg00202.html.\n\n2016-09-08  Martin Rudalics  <rudalics@gmx.at>\n\n\tFix cross reference in frames.texi\n\n\t* doc/lispref/frames.texi (Minibuffers and Frames): Fix cross\n\treference.\n\n2016-09-04  immerrr  <immerrr@gmail.com>\n\n\tFix regexp-opt documentation (bug #17862)\n\n\t* lisp/emacs-lisp/regexp-opt.el (regexp-opt):\n\t* doc/lispref/searching.texi (Regexp Functions): Update PAREN doc.\n\n2016-08-31  Nicolas Richard  <youngfrog@members.fsf.org>\n\n\t* lisp/emacs-lisp/gv.el (gv-ref): Fix example of PLACE in docstring.\n\n2016-08-27  Noam Postavsky  <npostavs@gmail.com>\n\n\tFix tags-query-replace docstring\n\n\t* lisp/progmodes/etags.el (tags-query-replace): Remove incorrect info\n\tregarding non-existent parameters.\n\n2016-08-26  Eli Zaretskii  <eliz@gnu.org>\n\n\tClarify documentation of precision in format specs\n\n\t* doc/lispref/strings.texi (Formatting Strings): Be less\n\tdefinitive wrt what precision means in format specs other than\n\tfloating-point, %s and %S.  (Bug#24314)\n\n2016-08-24  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove and clarify documentation of subprocesses\n\n\t* doc/lispref/processes.texi (Subprocess Creation, Shell Arguments):\n\tMention 'make-process' rather than 'start-process'.  Update wrt\n\tstandard destinations of standard output/error streams and due to\n\tdifferent formats of arguments accepted by 'make-process'.\n\t(Processes): Mention process objects that represent connections.\n\t(Synchronous Processes): Minor clarifications.\n\t(Asynchronous Processes): Describe 'make-process' and\n\t'make-pipe-process' before 'start-process'.  Update and expand the\n\tdocumentation.\n\t(Deleting Processes, Process Information, Input to Processes)\n\t(Signals to Processes, Query Before Exit, Network): Update and\n\texpand the documentation, especially wrt process objects that\n\trepresent connections.\n\t(Output from Processes): Mention the possibility of separating\n\tstderr via 'make-process'.\n\t(Filter Functions): Mention that stderr by default arrives at the\n\tfilter function together with stdout.  (Bug#24287)\n\n\t* src/process.c (Fprocess_id, Fprocess_command)\n\t(Fprocess_contact, Fprocess_type, Fstop_process): Doc fixes for\n\tprocess objects that represent connections.\n\n2016-08-23  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* etc/PROBLEMS: Mention gnutls-cli 3.5.3 (Bug#24247).\n\n2016-08-21  Nicolas Petton  <nicolas@petton.fr>\n\n\t* etc/AUTHORS: Update the AUTHORS file\n\n2016-08-20  Philipp Stephani  <phst@google.com>\n\n\tSome assorted documentation clarifications\n\n\t* src/fileio.c (Fwrite_region): Clarify that END is ignored if\n\tSTART is nil.\n\t* src/editfns.c (Fbuffer_size): Add short discussion about\n\tnarrowing.\n\t* src/callproc.c (Fcall_process_region): Discuss behavior when\n\tSTART and END are not buffer positions.\n\n2016-08-18  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove commentary in src/character.h\n\n\t* src/character.h (BYTES_BY_CHAR_HEAD, MULTIBYTE_LENGTH)\n\t(MULTIBYTE_LENGTH_NO_CHECK, STRING_CHAR_AND_LENGTH): Remove stale\n\tinfo from commentary and improve it.\n\n2016-08-17  Dmitry Gutov  <dgutov@yandex.ru>\n\n\t* etc/NEWS: Mention the change in json-encode-string.\n\n\tThe change was made to fix bug#20154, and came up again in bug#24239.\n\n2016-08-16  Eli Zaretskii  <eliz@gnu.org>\n\n\t* src/doc.c (Fsubstitute_command_keys): Another fix for smart quotes.\n\n\t(Bug#24206)\n\n2016-08-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid segfaults due to quoting in 'substitute-command-keys'\n\n\t* src/doc.c (Fsubstitute_command_keys): Correct character counts\n\twhen the input string is unibyte.  (Bug#24206)\n\n2016-08-16  Martin Rudalics  <rudalics@gmx.at>\n\n\tIn NEWS describe new handling of window margins (Bug#24193)\n\n\t* etc/NEWS: Describe new handling of margins when splitting or\n\tresizing windows (Bug#24193).\n\n2016-08-16  Martin Rudalics  <rudalics@gmx.at>\n\n\tFacultatively ignore margins when splitting and resizing windows (Bug#24193)\n\n\tProvide a new window parameter 'min-margins' which allows to\n\tignore the actual widths of a window's margins when splitting or\n\tresizing that window horizontally.  This should serve as a\n\tworkaround for handling the problems raised by Bug#24193.\n\n\t* lisp/window.el (window--min-size-1): Handle new window\n\tparameter 'min-margins'.\n\t(split-window): Fix text of error messages.\n\t* doc/lispref/windows.texi (Window Parameters): Describe new\n\tparameter 'min-margins'.\n\n2016-08-14  Noam Postavsky  <npostavs@gmail.com>\n\n\tDocument CATEGORY arg to modify-category-entry\n\n\t* src/category.c (Fmodify_category_entry): Document CATEGORY argument.\n\n2016-08-13  Noam Postavsky  <npostavs@gmail.com>\n\n\tDocument char-script-table's effect on word motion\n\n\t* doc/lispref/positions.texi (Word Motion): Talk about\n\tchar-script-table (Bug #10494).\n\n2016-08-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tFurther fix for 'url-http-create-request' and multibyte strings\n\n\t* lisp/url/url-http.el (url-http-create-request): Run\n\turl-mime-charset-string through url-http--encode-string.\n\t(Bug#24117)\n\n2016-08-13  Noam Postavsky  <npostavs@gmail.com>\n\n\tFix docstring of eval-expression\n\n\t* lisp/simple.el (eval-expression): Fix the docstring to reflect the\n\tfact that the prefix argument does not affect formatting for\n\tintegers (Bug #20691).\n\n2016-08-11  Eli Zaretskii  <eliz@gnu.org>\n\n\tClarify when 'cursor' property is in effect\n\n\t* doc/lispref/text.texi (Special Properties): Minor copyedits.\n\t(Bug#24179)\n\n2016-08-11  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tConvert the remaining strings to unibyte before concatenating\n\n\t* lisp/url/url-http.el (url-http--encode-string): New function.\n\t(url-http-create-request): Use it to convert ASCII to unibyte.\n\t(Bug#24117)\n\n2016-08-11  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix bug with handling the bidi cache\n\n\t* src/xdisp.c (redisplay_window): Save and restore the state of\n\tthe bidi cache before reusing the iterator after calls to\n\ttry_window and try_window_reusing_current_matrix.\n\n2016-08-10  Eli Zaretskii  <eliz@gnu.org>\n\n\t* doc/lispref/text.texi (Change Hooks): Minor copyedits.\n\n2016-08-09  Eli Zaretskii  <eliz@gnu.org>\n\n\tClarify documentation of before/after-change-functions\n\n\t* doc/lispref/text.texi (Change Hooks): Clarify that the hooks are\n\tnot called in balanced pairs.\n\n2016-08-06  Noam Postavsky  <npostavs@gmail.com>\n\n\tDocument use of vectors in keymaps\n\n\t* doc/lispref/keymaps.texi (Format of Keymaps): Mention vector\n\tformat (Bug #14797).\n\n2016-08-03  Alan Third  <alan@idiocy.org>\n\n\tPost AppDefined events from the main thread ONLY (bug#23934)\n\n\t* src/nsterm.h: Make nextappdefined var not just GNUStep.\n\t* src/nsterm.m (ns_send_appdefined, sendFromMainThread): Remove GNUStep\n\n2016-08-03  John Wiegley  <johnw@newartisans.com>\n\n\tUpdate to the AUTHORS file for Bob Weiner\n\n\t\t* etc/AUTHORS: Update the packages attributed to Bob Weiner\n\n2016-08-02  John Wiegley  <johnw@newartisans.com>\n\n\tRevert \"Fix local printer set to left aligned string formatter.\"\n\n\tThis reverts commit 8a38e948b039516e70176ebe20c5349e2ade6ac5.\n\n2016-08-02  John Wiegley  <johnw@newartisans.com>\n\n\tRevert \"Fix ses-delete-blanks to delete only blanks + documentation.\"\n\n\tThis reverts commit 3c97b0f7589e06aeb1ab0147f0ee32974c32926d.\n\n2016-08-02  John Wiegley  <johnw@newartisans.com>\n\n\tRevert \"Fix English.\"\n\n\tThis reverts commit b275cc76f0c5ab49e81445fcc3420c8772aefd42.\n\n2016-08-01  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove doc strings of 'gud-gdb' and 'gdb'\n\n\t* lisp/progmodes/gdb-mi.el (gdb):\n\t* lisp/progmodes/gud.el (gud-gdb): Doc fix.  (Bug#24125)\n\n2016-08-01  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix doc string of 'minibuffer-message-timeout'\n\n\t* src/keyboard.c (syms_of_keyboard) <minibuffer-message-timeout>:\n\tDoc fix.  (Bug#24123)\n\n2016-07-29  Vincent Bela\u00efche  <vincentb1@users.sourceforge.net>\n\n\tFix English.\n\n\t* doc/misc/ses.texi (Nonrelocatable references): Fix grammatically\n\t  incorrect English.\n\n2016-07-29  Vincent Bela\u00efche  <vincentb1@users.sourceforge.net>\n\n\tFix ses-delete-blanks to delete only blanks + documentation.\n\n\t* doc/misc/ses.texi (Quick Tutorial): Mention the '!'\n\t'ses-range' modifier as an alternative to 'ses+'.\n\t(Advanced Features): Add a refernce to node 'Nonrelocatable\n\treferences' concerning function 'ses-rename-cell'.\n\t(Standard formula functions): Mention the '!' 'ses-range'\n\tmodifier as an alternative to 'ses-delete-blanks'.\n\t(More on cell printing): Fix fallback printer\n\tdefinition.  Minor editorial formatting changes.\n\t(Nonrelocatable references): Document the use of\n\t'ses-rename-cell' as a better way to make cell reference\n\tnon-relocatable.\n\t(The data area): Document the presence of local printer\n\tdefinitions in the data area.\n\n\t* lisp/ses.el (ses-delete-blanks): Do not remove\n\t*error*.  Any error in an argument should propagate into the\n\tusing formula rather than being silently hidden !\n\n2016-07-29  Noam Postavsky  <npostavs@gmail.com>\n\n\tprofiler: document prefix arg for tree expansion\n\n\t* doc/lispref/debugging.texi (Profiling):\n\t* lisp/profiler.el (profiler-report-toggle-entry): Document use of\n\tprefix argument to expand whole call trees.\n\n2016-07-29  Noam Postavsky  <npostavs@gmail.com>\n\n\tClarify usage of eshell-visual-options\n\n\t* lisp/eshell/em-term.el (eshell-visual-options): Add second option to\n\texample usage (Bug #19627).\n\n2016-07-29  Noam Postavsky  <npostavs@gmail.com>\n\n\tFix comment in files-in-below-directory\n\n\t* doc/lispintro/emacs-lisp-intro.texi (Files List): Comment should not\n\tsay append, since the code is adding to front of list (Bug #21589).\n\n2016-07-28  Vincent Bela\u00efche  <vincentb1@users.sourceforge.net>\n\n\tFix local printer set to left aligned string formatter.\n\n\t* lisp/ses.el (ses-local-printer-compile): Add missing case\n\tfor left-aligned string formatter.\n\n2016-07-24  Nicolas Petton  <nicolas@petton.fr>\n\n\tBump Emacs version to 25.1 for the first RC\n\n\t* README:\n\t* configure.ac:\n\t* lisp/ldefs-boot.el:\n\t* msdos/sed2v2.inp: Bump Emacs version to 25.1.\n\n2016-07-24  Nicolas Petton  <nicolas@petton.fr>\n\n\t* etc/AUTHORS: Update the AUTHORS file\n\n\t;; * ChangeLog.2: ChangeLog update.\n\n2016-07-24  Nicolas Petton  <nicolas@petton.fr>\n\n\t* admin/authors.el (authors-valid-file-names): Addition.\n\n2016-07-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tWarn about Cairo-related problems\n\n\t* etc/NEWS: Warn about known problems in the Cairo build.\n\t(Bug#23925)\n\n2016-07-23  Paul Pogonyshev  <pogonyshev@gmail.com>\n\n\tDon't let completion break `declare' handling\n\n\t* lisp/progmodes/elisp-mode.el (elisp-completion-at-point): Fix to not alter\n\t`defun-declarations-alist' by side effect (Bug #23648).\n\n2016-07-23  Noam Postavsky  <npostavs@gmail.com>\n\n\tAdjust match data before calling after-change-funs\n\n\tIt's important to adjust the match data in between calling\n\tbefore-change-functions and after-change-functions, so that buffer\n\tchange hooks will always see match-data consistent with buffer content.\n\t(Bug #23917)\n\n\t* src/insdel.c (replace_range): Add new parameter ADJUST_MATCH_DATA, if\n\ttrue call update_search_regs.  Update all callers (except\n\tFreplace_match) to pass 0 for the new parameter.\n\t* src/search.c (update_search_regs): New function, extracted from\n\tFreplace_match.\n\t(Freplace_match): Remove match data adjustment code, pass 1 for\n\tADJUST_MATCH_DATA to replace_range instead.\n\n2016-07-21  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tDo not show string-rectangle preview if minibuffer is empty\n\n\t* lisp/rect.el (rectangle--string-preview): Remove condition that sets\n\tpreview string to the default replacement string.\n\n2016-07-21  Achim Gratz  <Stromeko@nexgo.de>\n\n\t* etc/PROBLEMS: Add entry about selection problems under Plasma 5.\n\n\tBug#24013\n\n2016-07-21  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort to glibc 2.24 (pre-release) + ppc64\n\n\tBackport from master (Bug#24033).\n\tInspired by a suggestion by Florian Weimer in:\n\thttps://sourceware.org/ml/libc-alpha/2016-07/msg00425.html\n\t* src/emacs.c (main) [__PPC64__]:\n\tSpecial case for __PPC64__, which needs ASLR disabled in\n\tdumped Emacs too.\n\n2016-07-21  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\t* lisp/net/shr.el (shr-fill-line): Withdraw the last commit (4157159).\n\n\t* lisp/net/shr.el (shr-fill-line):\n\tPreserve text properties in folded lines (bug#24034).\n\n2016-07-17  Robert Cochran  <robert-git@cochranmail.com>  (tiny change)\n\n\tExpand FIXME near definition of fboundp\n\n\tThis expansion of the FIXME is so that future developers are aware of\n\tthe potential problems of aliasing fboundp to symbol-function without\n\ttaking backwards compatibility into account.\n\n\t* src/data.c (fboundp): Note potential backwards compatibility issues in\n\tFIXME.\n\n2016-07-17  Noam Postavsky  <npostavs@gmail.com>\n\n\tkill-rectangle should mention killed-rectangle\n\n\t* lisp/rect.el (kill-rectangle): Mention `killed-rectangle' in docstring\n\tand warning message, rather than kill ring (Bug#19773).\n\n2016-07-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid assertion violations in nhexl-mode\n\n\t* src/bidi.c (bidi_resolve_neutral): Convert an assertion to real\n\tcode executed in all builds.  (Bug#24001)\n\n2016-07-15  Fredrik Bergroth  <fbergroth@gmail.com>  (tiny change)\n\n\tUse memmove instead of memcpy on overlapping regions\n\n\t* src/editfns.c (Ftranspose_regions): Regions may overlap, so\n\tuse memmove instead of memcpy (bug#19213).\n\n\n\tThis is a backport from trunk.\n\t(cherry picked from commit 354f9f0fc6cc05ed98883447f9b2f37943d79160)\n\n2016-07-15  Noam Postavsky  <npostavs@gmail.com>\n\n\tDocument buffer-swap-text+save-excursion interaction\n\n\t* doc/lispref/buffers.texi (Swapping Text):\n\t* src/buffer.c (Fbuffer_swap_text): Add warning about interaction of\n\t`buffer-swap-text' and `save-excursion' (Bug #4655).\n\n2016-07-14  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tFix eieio vs cl-generic incompatibilities found in Rudel (bug#23947)\n\n\t* lisp/emacs-lisp/cl-generic.el (cl-generic-apply): New function.\n\t* lisp/emacs-lisp/eieio-compat.el (eieio--defmethod): Fix incorrect\n\tmapping between cl-no-applicable-method and EIEIO's no-applicable-method.\n\t* lisp/emacs-lisp/eieio-core.el (eieio--class-precedence-c3):\n\t`class' is not a symbol but a class object.\n\n2016-07-14  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tInclude cl-generic in package--builtin-versions (bug#22817)\n\n\t* lisp/emacs-lisp/cl-generic.el (package--builtin-versions):\n\tAdd ourselves manually.  Don't merge since there's a better fix on master.\n\n2016-07-14  Michael Albinus  <michael.albinus@gmx.de>\n\n\tImprove timing in `tramp-test29-environment-variables'\n\n\t* test/automated/tramp-tests.el\n\t(tramp-test--shell-command-to-string-asynchronously):\n\tAdd additional `accept-process-output' call.\n\t(tramp-test29-environment-variables): Remove additional sleep calls.\n\n2016-07-14  Michael Albinus  <michael.albinus@gmx.de>\n\n\tAdd test for handling environment variables in Tramp\n\n\t* test/automated/tramp-tests.el\n\t(tramp-test--shell-command-to-string-asynchronously): New defun.\n\t(tramp-test29-environment-variables): New test.\n\t(tramp-test30-vc-registered)\n\t(tramp-test31-make-auto-save-file-name)\n\t(tramp-test32-special-characters)\n\t(tramp-test32-special-characters-with-stat)\n\t(tramp-test32-special-characters-with-perl)\n\t(tramp-test32-special-characters-with-ls, tramp-test33-utf8)\n\t(tramp-test33-utf8-with-stat, tramp-test33-utf8-with-perl)\n\t(tramp-test33-utf8-with-ls)\n\t(tramp-test34-asynchronous-requests)\n\t(tramp-test35-recursive-load, tramp-test36-unload): Rename.\n\n2016-07-13  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/emacs-lisp/package.el (describe-package-1)\n\t(package-status-external): Fix face references.  (Bug#23927)\n\n2016-07-12  Stephen Berman  <stephen.berman@gmx.net>\n\n\tImprove documentation of search functions\n\n\tMake the documentation of the search functions more accurate,\n\tcomplete, and uniform; in particular, extend the description of\n\tthe effect when the 'count' parameter is a negative number to all\n\tof these functions.\n\n\t* src/search.c (Fsearch_backward, Fsearch_forward)\n\t(Fre_search_backward, Fre_search_forward)\n\t(Fposix_search_backward, Fposix_search_forward):\n\t* lisp/isearch.el (word-search-backward, word-search-forward)\n\t(word-search-backward-lax, word-search-forward-lax): Improve doc\n\tstrings as described above.\n\n\t* doc/lispref/searching.texi (String Search, Regexp Search)\n\t(POSIX Regexps): Use 'count' instead of 'repeat' as the name of\n\tthe fourth parameter of the *-search-{forward,backward} functions\n\tand improve documentation as described above.\n\n2016-07-12  Michael Albinus  <michael.albinus@gmx.de>\n\n\tDelete environment variables in Tramp when needed\n\n\t* lisp/net/tramp-sh.el (tramp-get-env-with-u-option): New defun.\n\t(tramp-sh-handle-start-file-process)\n\t(tramp-sh-handle-process-file, ): Use it.  (Bug#23952)\n\n2016-07-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tAdd \"New in Emacs 25\" section to the FAQ\n\n\t* doc/misc/efaq.texi (Latest version of Emacs): Update for later\n\tversions.\n\t(New in Emacs 25): New node.\n\t(Status of Emacs): Add it to the menu.\n\n2016-07-10  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix 'vertical-motion' in non-interactive sessions\n\n\t* src/indent.c (Fvertical_motion): Don't return uninitialized\n\tvalue in non-interactive session.  This fixes random errors in\n\tbatch mode, see\n\thttps://lists.gnu.org/r/emacs-devel/2016-06/msg00609.html\n\tand\n\thttps://lists.gnu.org/r/emacs-devel/2016-07/msg00500.html\n\tfor the details.\n\n2016-07-10  Andreas Schwab  <schwab@linux-m68k.org>\n\n\tFix memory leak in imagemagick-types\n\n\t* src/image.c (Fimagemagick_types): Use AcquireExceptionInfo to\n\tavoid memory leak.\n\n2016-07-10  Eli Zaretskii  <eliz@gnu.org>\n\n\tUpdate ELisp manual to match 'string-collate-equalp' doc string\n\n\t* doc/lispref/strings.texi (Text Comparison): Remove reference to\n\tsorting from the description of 'string-collate-equalp'.  (Bug#23902)\n\n2016-07-09  Noam Postavsky  <npostavs@gmail.com>\n\n\tClarify docstring of find-feature-regexp\n\n\t* lisp/emacs-lisp/find-func.el (find-feature-regexp): Explain that `%s'\n\tis optional (Bug #23520).\n\n2016-07-09  Noam Postavsky  <npostavs@gmail.com>\n\n\tAdd details to cl-lib defining macros' docstrings\n\n\t* lisp/emacs-lisp/cl-macs.el (cl-defun, cl-defmacro): Add terse summary\n\tof supported arglist forms (Bug #22462).\n\n2016-07-09  Eli Zaretskii  <eliz@gnu.org>\n\n\tClarify doc string of 'save-buffer'\n\n\t* lisp/files.el (save-buffer): Clarify that backups might not be\n\tmade even if this command is invoked with 2 or 3 \"C-u\"s.\n\t(Bug#3702)\n\n2016-07-08  Eli Zaretskii  <eliz@gnu.org>\n\n\tUn-confuse doc string of 'string-collate-equalp'\n\n\t* src/fns.c (Fstring_collate_equalp): Remove confusing text from\n\tdoc string.  (Bug#23902)\n\n2016-07-07  Eli Zaretskii  <eliz@gnu.org>\n\n\tClarify documentation of 'mouse-on-link-p'\n\n\t* lisp/mouse.el (mouse-on-link-p): Clarify the form of the POS\n\targument.  (Bug#23899)\n\n2016-07-06  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\tFix missing undo-boundary on revert-buffer.\n\n\t* lisp/simple.el (undo-auto--undoable-change-no-timer): New function.\n\t* src/fileio.c (insert-buffer-contents): Call\n\t  undo-auto--undoably-changed-buffers before changes.\n\n\tAddresses Bug#23785.\n\n\tDo not merge to master as c98bc98 also addresses the same bug.\n\n2016-07-06  Martin Rudalics  <rudalics@gmx.at>\n\n\tAmend last addition to etc/PROBLEMS\n\n\t* etc/PROBLEMS: Mention GTK+ problem with unexpected frame widenings\n\n2016-07-06  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix open-network-stream responsiveness\n\n\tProblem reported by Christer Ekholm (Bug#23864).\n\tBackport from master.\n\t* src/process.c (wait_reading_process_output):\n\tFix typo introduced in 2015-07-06T02:19:13Z!eggert@cs.ucla.edu\n\twhen wait == INFINITY and got_output_end_time is invalid.\n\tIn this case the code should break, not continue.\n\n2016-07-05  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\tFix missing point information in undo\n\n\t* src/undo.c (record_insert): Use record_point instead of\n\t  prepare_record, and do so unconditionally.\n\t  (prepare_record): Do not record first change.\n\t  (record_point): Now conditional on state before the last command.\n\t  (record_delete): Call record_point unconditionally.\n\t  (record_property_change): Use prepare_record.\n\t  (record_marker_adjustments): Use prepare_record.\n\n\tAddresses Bug# 21722\n\n2016-07-04  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid crashes when buffer modification hooks clobber match data\n\n\t* src/search.c (Freplace_match): Error out if buffer modification\n\thooks triggered by buffer changes in replace_range, upcase-region,\n\tand upcase-initials-region clobber the match data needed to be\n\tadjusted for the replacement.  (Bug#23869)\n\n2016-07-03  Noam Postavsky  <npostavs@gmail.com>\n\n\tNote combine-and-quote-strings doesn't shell quote\n\n\t* doc/lispref/processes.texi (Shell Arguments):\n\t* lisp/subr.el (combine-and-quote-strings): Add a note that\n\tcombine-and-quote-strings doesn't protect arguments against shell\n\tevaluation (Bug #20333).\n\n2016-07-03  Noam Postavsky  <npostavs@gmail.com>\n\n\tExplain when package-initialize isn't called\n\n\t* doc/lispref/os.texi (Startup Summary): Explain that package-initialize\n\tis not called when options -q, -Q, or --batch were passed (Bug #19151).\n\n2016-07-03  Noam Postavsky  <npostavs@gmail.com>\n\n\tFix escaping in sh-indent-after-continuation docstr\n\n\t* lisp/progmodes/sh-script.el (sh-indent-after-continuation): Properly\n\tescape backslashes in docstring (Bug#23046).\n\n2016-07-02  Eli Zaretskii  <eliz@gnu.org>\n\n\tClarify the documentation of back-references in replacements\n\n\t* doc/emacs/search.texi (Regexp Replace): Clarify that \\D starts\n\twith \\1, not \\0.\n\n\t* lisp/replace.el (query-replace-regexp)\n\t(query-replace-regexp-eval, replace-regexp): Doc fix (Bug#23884)\n\n2016-07-01  Noam Postavsky  <npostavs@gmail.com>\n\n\tClarify lexical binding with symbol args behavior\n\n\t* doc/lispref/variables.texi (Lexical Binding): Clarify that symbol\n\targuments always refer to dynamic values (Bug #23781).  Remove mention\n\tof obsolete restriction regarding lexical binding for defun and\n\tdefmacro, this no longer applies since 61b108cc 2012-05-29 \"*\n\tlisp/emacs-lisp/byte-run.el (defmacro, defun): Move from C...\".\n\n2016-06-30  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* lisp/net/tramp-sh.el (tramp-remote-path): Doc fix.\n\n2016-06-29  Eli Zaretskii  <eliz@gnu.org>\n\n\t* lisp/net/tramp-sh.el (tramp-remote-path): Doc fix.  (Bug#23865)\n\n2016-06-29  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid assertion violations when rendering some fonts\n\n\t* src/dispextern.h (FONT_TOO_HIGH): Don't consider a font \"too\n\thigh\" if its pixel_size value is zero.  This avoids assertion\n\tviolations at the end of x_produce_glyphs.\n\n2016-06-28  Noam Postavsky  <npostavs@gmail.com>\n\n\tDocument more details of package activation\n\n\t* doc/emacs/package.texi (Package Installation): Explain that package\n\tactivation adds to load-path (Bug #21704).\n\n2016-06-28  Noam Postavsky  <npostavs@gmail.com>\n\n\tFixup warning message regarding HOME a bit more\n\n\t* src/w32.c (init_environment): The manual section title is \"Windows\n\tHOME\" (Bug #11612).  Move newline so warning fits in 80 character lines.\n\n2016-06-27  Eli Zaretskii  <eliz@gnu.org>\n\n\t* lisp/leim/quail/indian.el (\"bengali-probhat\"): Change indicator to BngPB.\n\n2016-06-27  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix input method \"probhat\" for Bengali\n\n\tAuthor: \u0989\u09ce\u09b8\u09ac \u09b0\u09be\u09df <uroybd@gmail.com>\n\n\t* lisp/leim/quail/indian.el (\"bengali-probhat\"): Fix entry.\n\n2016-06-27  Noam Postavsky  <npostavs@gmail.com>\n\n\tAdd to elisp-completion-at-point's docstring\n\n\t* lisp/progmodes/elisp-mode.el (elisp-completion-at-point): Document\n\tposition dependent behavior (Bug #19854).\n\n2016-06-27  Noam Postavsky  <npostavs@gmail.com>\n\t    Eli Zaretskii  <eliz@gnu.org>\n\n\tGive more helpful warning about setting HOME\n\n\t* src/w32.c (init_environment): Improve warning message that pops when\n\tEmacs sets HOME according to existence of C:\\.emacs (Bug #11612).\n\n2016-06-26  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix slow redisplay in term-mode\n\n\t* lisp/term.el (term-mode): Move the setting of\n\tbidi-paragraph-direction from 'ansi-term' to here, since term-mode\n\tis also affected.  Do not merge to master, since there the problem\n\tis solved in bidi.c by changing the regexps that delimit a\n\tparagraph.  (Bug#23801)\n\n2016-06-26  \u0989\u09ce\u09b8\u09ac \u09b0\u09be\u09df  <uroybd@gmail.com>\n\n\tNew input method \"probhat\" for Bengali\n\n\t* lisp/leim/quail/indian.el (\"probhat\"): New input method.\n\t(Bug#23822)\n\n\t* etc/NEWS: Mention the new input method.\n\n2016-06-25  Noam Postavsky  <npostavs@gmail.com>\n\t    Drew Adams  <drew.adams@oracle.com>\n\n\tUpdate docs for `customize-mode'\n\n\t* lisp/cus-edit.el (customize-mode): This function works with both major\n\tand minor modes, make docstring and prompt reflect that (Bug #23649).\n\n\t* doc/lispref/modes.texi (Derived Modes): Remove note about\n\tcustomize-mode being experimental; it has been around since Emacs\n\t22 (Bug #11299).\n\n2016-06-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix documentation of 'assoc-string' and 'compare-strings'\n\n\t* src/minibuf.c (Fassoc_string): Clarify how CASE-FOLD affects the\n\tstring comparison.  (Bug#23833)\n\t* src/fns.c (Fcompare_strings): Fix the description of how\n\tIGNORE-CASE affects the comparison.\n\n\t* doc/lispref/strings.texi (Text Comparison): Clarify how\n\tCASE-FOLD affects the string comparison in 'assoc-string'.  Fix\n\tthe description of how IGNORE-CASE affects the comparison in\n\t'compare-strings'.\n\n2016-06-22  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tError on multibyte characters in HTTP request\n\n\t* lisp/url/url-http.el (url-http-create-request): Check the\n\tconstructed request in the end to verify that it does not contain\n\tmultibyte characters (bug#23750).\n\n2016-06-22  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\t* lisp/gnus/mm-decode.el (mm-convert-shr-links):\n\tMask keys that launch `widget-button-click' (bug#22157).\n\n2016-06-22  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tUnset GIT_DIR when calling Git commands\n\n\t* lisp/vc/vc-git.el (vc-git--call, vc-git-command):\n\tUnset GIT_DIR (bug#23769).\n\n2016-06-21  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\tEnsure undo-boundary after insert-file-contents.\n\n\t* src/fileio.c: Record undoable change during insert-file-contents.\n\n\tAddresses Bug #23785.\n\n2016-06-21  Eli Zaretskii  <eliz@gnu.org>\n\n\tClarify documentation of 'line-spacing' and 'line-height'\n\n\t* doc/lispref/display.texi (Line Height): Clarify how the line\n\theight is determined via variables and text properties.  (Bug#23806)\n\n2016-06-20  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix removal of variables from process-environment\n\n\t* src/callproc.c (add_env): Fix comparison of a variable with a\n\tvalue against the same variable without a value.  (Bug#23779)\n\n2016-06-20  Glenn Morris  <rgm@gnu.org>\n\n\t* admin/authors.el (authors-ignored-files, authors-valid-file-names)\n\t(authors-renamed-files-alist): Additions.\n\n\t* admin/authors.el (authors-aliases, authors-fixed-case): Additions.\n\n2016-06-18  Noam Postavsky  <npostavs@gmail.com>\n\n\tFix documentation of completion functions\n\n\tSo that the described behavior matches the code (and docstrings).\n\n\t* doc/lispref/minibuf.texi (Basic Completion): Symbol keys of hash table\n\tcollections are used like string keys, not ignored (Bug #10416).\n\n2016-06-18  Eli Zaretskii  <eliz@gnu.org>\n\n\tClarify documentation of 'font-lock-maximum-decoration'\n\n\t* doc/emacs/display.texi (Font Lock): Explain how to make the\n\tcustomization of 'font-lock-maximum-decoration' effective for an\n\texisting buffer.  (Bug#23783)\n\n2016-06-17  Glenn Morris  <rgm@gnu.org>\n\n\t* doc/misc/cl.texi (Usage): Add some more details.\n\n2016-06-17  Noam Postavsky  <npostavs@gmail.com>\n\n\tFbackward_prefix_chars: stay within buffer bounds\n\n\tThe commit 1fd3172d \"(Fbackward_prefix_chars): Set point properly while\n\tscanning\" (1998-03-18), moved the check against of the position against the\n\tbuffer beginning out the loop condition so that we might end up checking\n\tthe syntax of characters before the beginning of the buffer.  This can\n\tcause segfaults or trigger a \"Point before start of properties\" error in\n\t`update_interval' (called indirectly from `char_quoted').\n\n\t* src/syntax.c (Fbackward_prefix_chars): Stop the loop when beginning of\n\tbuffer is reached (Bug #3552, Bug #17132, Bug #19379).\n\n2016-06-16  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix ifdef-vs-if typo with RANDR13_LIBRARY\n\n\t* src/xfns.c (x_get_monitor_attributes_xrandr): Use #if, not #ifdef.\n\tThis ports to systems that predate xrandr 1.3. See Christian Lynbech in:\n\thttps://lists.gnu.org/r/emacs-devel/2016-06/msg00198.html\n\n\t(cherry picked from commit dce99f222f1ca33265cd56ddb157817be1dc078e)\n\n2016-06-16  Stephen Berman  <stephen.berman@gmx.net>\n\n\tFix last todo-mode change\n\n\t* lisp/calendar/todo-mode.el (todo-read-category): Return the\n\tkeymap in order to use its defined key bindings.\n\n2016-06-15  Stephen Berman  <stephen.berman@gmx.net>\n\n\tImprove last todo-mode fix\n\n\t* lisp/calendar/todo-mode.el (todo-read-category): Use\n\tset-keymap-parent instead of copy-keymap, and default (as\n\tpreviously) to the global binding (for rationale, see\n\thttps://lists.gnu.org/r/emacs-devel/2016-06/msg00217.html).\n\n2016-06-14  Stephen Berman  <stephen.berman@gmx.net>\n\n\tFix todo-mode use of minibuffer completion keymap (bug#23695).\n\n\t* lisp/calendar/todo-mode.el (todo-read-category): Don't\n\toverride minibuffer-local-completion-map globally (bug#23695).\n\tBind <SPC> key to self-insert-command.\n\n2016-06-14  Glenn Morris  <rgm@gnu.org>\n\n\t* src/alloc.c (ALIGN): Avoid error on DragonFly BSD.  (Bug#23764)\n\n\t* lisp/emacs-lisp/nadvice.el (advice--make-docstring):\n\tAvoid mangling autoloads with unspecified arguments.  (Bug#21299)\n\n2016-06-13  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/help-fns.el (describe-function-1): Avoid reporting advised\n\tautoloads as aliases.  (Bug#21299)\n\n2016-06-13  Stephen Berman  <stephen.berman@gmx.net>\n\n\tMinor grammar fix (bug#23746)\n\n\t* doc/lispref/processes.texi (Synchronous Processes):\n\tAnother minor grammar fix (bug#23746).\n\n2016-06-13  Stephen Berman  <stephen.berman@gmx.net>\n\n\tDoc fixes for grammar and typos (bug#23746)\n\n\t* doc/emacs/files.texi (Customize Save):\n\t* doc/emacs/frames.texi (Window Dividers):\n\t* doc/emacs/misc.texi (Printing):\n\t* doc/lispref/compile.texi (Compiler Errors):\n\t* doc/lispref/keymaps.texi (Changing Key Bindings):\n\t* doc/lispref/loading.texi (Named Features):\n\t* doc/lispref/markers.texi (Marker Insertion Types):\n\t* doc/lispref/modes.texi (Mode Hooks):\n\t* doc/lispref/text.texi (Undo):\n\t* src/floatfns.c (Fldexp):\n\t* src/xfaces.c (syms_of_xfaces):\n\tMinor doc fixes for grammar and typos (bug#23746).\n\n2016-06-13  Eli Zaretskii  <eliz@gnu.org>\n\n\t* doc/lispref/processes.texi (Process Buffers): Minor rewording.  (Bug#23446)\n\n2016-06-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tAdd cross-reference to ELisp manual\n\n\t* doc/lispref/commands.texi (Classifying Events): Add\n\tcross-reference to \"Motion Events\".  (Bug#23756)\n\n2016-06-11  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/macroexp.el (macroexp--expand-all): Fix (bug#19704)\n\n\tDon't rewrite (funcall 'f ...) to (f ...).\n\n2016-06-11  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\tRestore initial undo boundary with viper\n\n\t* lisp/emulation/viper-cmd.el (viper-adjust-undo): Add back last undo\n\t  boundary if it has been removed.\n\n\tAddresses Bug#22295.\n\n2016-06-11  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\tRevert \"Fix viper undo breakage from undo-boundary changes\"\n\n\tThis reverts commit c0139e32f1f3bb287b04e02a69a7848d6a040003.\n\n2016-06-11  Ken Brown  <kbrown@cornell.edu>\n\n\tFix dbus crash on 32-bit Cygwin\n\n\t* src/dbusbind.c (Fdbus__init_bus): Use make_save_pointer to store\n\tconnection address.  (Bug#23741)\n\t(xd_lisp_dbus_to_dbus): Use XSAVE_POINTER to retrieve connection\n\taddress.\n\n2016-06-10  Nicolas Petton  <nicolas@petton.fr>\n\n\tBump version to 25.0.95\n\n\t* README:\n\t* configure.ac:\n\t* lisp/ldefs-boot.el:\n\t* msdos/sed2v2.inp: Bump Emacs version to 25.0.95.\n\n2016-06-10  Nicolas Petton  <nicolas@petton.fr>\n\n\t* etc/AUTHORS: Update the AUTHORS file\n\n2016-06-10  Nicolas Petton  <nicolas@petton.fr>\n\n\tadd entries to authors.el\n\n\t* admin/authors.el (authors-renamed-files-alist): Add char-fold files.\n\n2016-06-10  Jules Tamagnan  <jtamagnan@gmail.com>\n\n\tFix eldoc-related freezes in python mode\n\n\t* lisp/progmodes/python.el (python-eldoc-get-doc): New defvar.\n\t(python-eldoc-function-timeout)\n\t(python-eldoc-function-timeout-permanent): New defcustoms.\n\t(python-eldoc-function): If python-eldoc--get-doc-at-point times\n\tout, effectively turn off ElDoc in current buffer.  (Bug#23609)\n\n2016-06-09  Martin Rudalics  <rudalics@gmx.at>\n\n\tHandle mouse leaving initial window in `mouse-set-region' (Bug#23707)\n\n\t* lisp/mouse.el (mouse-set-region): If the mouse ends up in\n\tanother window or on the menu bar, use `window-point' of\n\tselected window instead of `posn-point' of the event end\n\t(Bug#23707).\n\n2016-06-08  Marco Wahl  <marcowahlsoft@gmail.com>\n\n\torg.el: Fix bindings of < and > for calendar scrolling\n\n\t[This patch taken from upstream Org repo with 8b63dc9 dated\n\t2014-10-20 (Bug#23725).]\n\t* lisp/org/org.el (org-read-date-minibuffer-local-map):\n\tSwitch to the current calendar API for scrolling the calendar.\n\n2016-06-08  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\tFix undo boundary in recursive edit (Bug#23632)\n\n\t * src/keyboard.c (recursive_edit_1): specbind\n\t   undo-auto--undoably-changed-buffers.\n\t * lisp/simple.el (undo-auto--undoably-changed-buffers):\n\t   fix docstring.\n\n2016-06-07  Glenn Morris  <rgm@gnu.org>\n\n\tDoc fixes re alist-get.  (Bug#23548)\n\n\t* lisp/subr.el (alist-get): Doc fix.\n\t* doc/lispref/lists.texi (Association Lists): Improve alist-get.\n\n2016-06-07  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/progmodes/python.el (inferior-python-mode):\n\tAvoid tabs.  (Bug#23616)\n\n\t* src/syntax.c (syms_of_syntax) <comment-end-can-be-escaped>: Doc fix.\n\n2016-06-07  Tino Calancha  <f92capac@gmail.com>\n\n\t* lisp/help-fns.el (describe-function-1):\n\tFix handling of file name for aliases.  (Bug#21950)\n\n\t* lisp/emacs-lisp/cl-macs.el (cl-loop): Doc fix re \"by\".\n\n\t* doc/misc/cl.texi (Mapping over Sequences): Fix cl-notevery.\n\n2016-06-07  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix crash in syntax.c after GC\n\n\tProblem reported by Vincent Bela\u00efche (Bug#23704).\n\t* src/syntax.c (skip_chars): Recompute pointers into the\n\tbuffer after every call to update_syntax_table_forward,\n\tas it can GC.\n\n2016-06-06  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tImprove squiggly heredoc support in non-SMIE Ruby mode\n\n\t* lisp/progmodes/ruby-mode.el (ruby-parse-partial): Support\n\tsquiggly heredocs here, too (port from upstream).\n\n2016-06-06  Stephen Berman  <stephen.berman@gmx.net>\n\n\tFix doc string quoting\n\n\t* lisp/files.el (shell-quote-wildcard-pattern):\n\t* lisp/progmodes/vhdl-mode.el (vhdl-mode):\n\t* lisp/subr.el (replace-regexp-in-string):\n\t* lisp/view.el (view-mode):\n\t* src/nsfns.m (syms_of_nsfns):\n\t* src/syntax.c (Fbackward_prefix_chars):\n\tFix quoting problems in doc strings (Bug#23696).\n\n2016-06-05  Martin Rudalics  <rudalics@gmx.at>\n\n\tFix mouse dragging of vertical dividers with scroll bars on left (Bug#23690)\n\n\t* lisp/mouse.el (mouse-drag-line): With scroll bars on the left\n\tadjust trailing edge of window on the left when dragging the\n\tvertical divider of the mode line.  (Bug#23690)\n\n2016-06-04  Eli Zaretskii  <eliz@gnu.org>\n\n\t* etc/PROBLEMS: Mention the link-time problems on FreeBSD 11.\n\n\t(Bug#23641)\n\n2016-05-31  Glenn Morris  <rgm@gnu.org>\n\n\t* test/automated/viper-tests.el (viper-test-undo-kmacro):\n\tDelete temp-file at end.\n\n\t* lisp/mail/footnote.el (footnote-mode): Fix doc typo.\n\n\t* doc/misc/smtpmail.texi (Encryption): Fix 2012-12-22 typo.\n\n\t* lisp/emacs-lisp/lisp-mode.el (lisp--mode-syntax-table):\n\tFix typo.  (Bug#23654)\n\n2016-05-30  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/recentf.el (recentf-dialog-mode-map): Remove follow-link (bug#22434)\n\n2016-05-30  Bill Wohler  <wohler@newt.com>\n\n\tCorrect cl-flet usage (Bug#22317)\n\n\t* lisp/mh-e/mh-compat.el: Rename mh-cl-flet to mh-flet and convert alias to\n\tmacro using patch from Katsumi Yamaoka <yamaoka@jpl.org>.\n\t* lisp/mh-e/mh-thread.el (mh-thread-set-tables):\n\t* lisp/mh-e/mh-show.el (mh-gnus-article-highlight-citation):\n\t* lisp/mh-e/mh-mime.el (mh-display-with-external-viewer):\n\t(mh-mime-display, mh-press-button, mh-push-button):\n\t(mh-display-emphasis): Call mh-flet instead of mh-cl-flet.\n\n2016-05-30  Bill Wohler  <wohler@newt.com>\n\n\tRelease MH-E manual version 8.6\n\n\t* doc/misc/mh-e.texi (VERSION, EDITION, UPDATED, UPDATE-MONTH):\n\tUpdate for release 8.6.\n\n2016-05-30  Mike Kupfer  <m.kupfer@acm.org>\n\n\tUpdate MH-E's documentation about HTML renderers\n\n\t* doc/misc/mh-e.texi (HTML): Remove the footnote with the minimum Gnus\n\tversion (we are no longer trying to support multiple Emacs\n\treleases). Sort the table of HTML renderers by name (the previous\n\tordering was based on a 10-year-old survey). Add shr and gnus-w3m to\n\tthe table. Remove the entry for w3 (no longer available).  Update\n\texisting entries so that they are more consistent about what features\n\tare discussed, and to reflect recent testing (Debian 8). Small tweaks\n\tto existing text.\n\n2016-05-30  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tFx the we->the typo\n\n\t* doc/emacs/trouble.texi (Sending Patches):\n\tFix the typo (bug#23657).\n\n2016-05-30  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRestore frames into the current display by default\n\n\t* lisp/desktop.el (desktop-restore-in-current-display):\n\tDefault to t, not nil (Bug#23604).\n\t* etc/NEWS: Mention the change.\n\n2016-05-29  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/recentf.el (recentf-open-files-item): Quick fix for (bug#22434).\n\n\tetc/TODO: Remove out-of-place issue\n\n2016-05-29  Eli Zaretskii  <eliz@gnu.org>\n\n\tClarify doc string of 'file-name-sans-extension'\n\n\t* lisp/files.el (file-name-sans-extension, file-name-extension):\n\tClarify in the doc strings what is the extension, and which\n\tleading period doesn't count.  (Bug#23643)\n\n2016-05-28  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix the MSDOS build\n\n\t* msdos/sed1v2.inp (PAXCTL_dumped, PAXCTL_notdumped): Define to\n\tempty, and remove the lines which use them in recipes, as that\n\tcauses weird error message from Make and breaks the MSDOS build.\n\n2016-05-28  Andreas Schwab  <schwab@linux-m68k.org>\n\n\t* lisp/progmodes/elisp-mode.el (elisp-function-argstring): Call\n\tsubstitute-command-keys to undo help--docstring-quote. (Bug#23634)\n\n2016-05-27  Eli Zaretskii  <eliz@gnu.org>\n\n\t* src/dired.c (Ffile_name_all_completions): Doc fix.  (Bug#23631)\n\n2016-05-27  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix infloop in 'number-sequence'\n\n\t* lisp/subr.el (number-sequence): Avoid overflow leading to an\n\tinfloop.  (Bug#23627)\n\n\t* test/automated/subr-tests.el (number-sequence-test): New test.\n\n2016-05-26  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/emacs-lisp/find-func.el (find-function-library):\n\n\tUpdate for symbol-function no longer erroring.  (Bug#23626)\n\n2016-05-26  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/w32-fns.el (set-message-beep, w32-get-locale-info)\n\t(w32-get-valid-locale-ids): Improve declarations.\n\n2016-05-26  Vincent Bela\u00efche  <vincentb1@users.sourceforge.net>\n\n\tCorrect old cell name unbinding when renaming cell.\n\n\tBug is to unbind old cell names when renaming a cell with\n\t'makunbound'. when the old cell name is of A1 type, then\n\t'kill-local-variable' must be used instead, so that only the current\n\tspreadsheet is affected. When the old cell name is a renamed cell,\n\tthen 'ses--unbind-cell-name' must be used in order to remove the old\n\tname from the name hashmap.\n\n\t* lisp/ses.el (ses-rename-cell): check consistency of cell symbol from\n\ttext-property and from array object. Instead of 'makunbound', use\n\teither 'ses--unbind-cell-name' or 'kill-local-variable' depending on\n\twhether the cell old name is a named cell or an A1 type cell\n\n2016-05-25  Vincent Bela\u00efche  <vincentb1@users.sourceforge.net>\n\n\tDocument problem: slow screen refresh on missing font.\n\n\tSee discussion of bug#22519 for more on this.\n\n2016-05-25  Glenn Morris  <rgm@gnu.org>\n\n\t* admin/admin.el (add-release-logs): Basic check of existing ChangeLog.\n\n2016-05-25  Glenn Morris  <rgm@gnu.org>\n\n\t* build-aux/gitlog-to-emacslog: Handle empty generated ChangeLog.\n\n\tThis is relevant for M-x add-release-logs right after M-x authors.\n\n2016-05-25  Glenn Morris  <rgm@gnu.org>\n\n\t* admin/admin.el (add-release-logs): Generate ChangeLog if needed.\n\n2016-05-25  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* doc/misc/texinfo.tex: Revert previous change (Bug#23611).\n\n2016-05-25  Glenn Morris  <rgm@gnu.org>\n\n\t* admin/authors.el (authors): First update the ChangeLog.\n\n\t* admin/make-tarball.txt: Related updates.\n\n2016-05-24  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tRename vc-stay-local back to vc-cvs-stay-local\n\n\t* lisp/vc/vc-cvs.el (vc-cvs-stay-local): Rename back from\n\tvc-stay-local (bug#19548).  Improve the docstring.\n\t(vc-cvs-stay-local-p): Update accordingly.\n\n2016-05-24  Glenn Morris  <rgm@gnu.org>\n\n\t* doc/emacs/files.texi (Comparing Files):\n\t* doc/emacs/trouble.texi (Sending Patches): Fix external xrefs.\n\n\t* doc/misc/eww.texi (Advanced): Fix xref.\n\n2016-05-24  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix cross-references between manuals\n\n\t* doc/misc/viper.texi (Viper Specials):\n\t* doc/misc/url.texi (Tramp):\n\t* doc/misc/sem-user.texi (Smart Jump):\n\t* doc/lispintro/emacs-lisp-intro.texi (Finding More):\n\t* doc/misc/efaq.texi (Replacing text across multiple files): Fix\n\tcross-references between manuals.  (Bug#23612)\n\t* doc/lispintro/emacs-lisp-intro.texi (etags): Node deleted: no\n\tlonger relevant to Emacs Lisp programming.\n\n2016-05-24  Glenn Morris  <rgm@gnu.org>\n\n\t* doc/misc/vhdl-mode.texi (Sample Init File): Rename node to avoid \".\".\n\n\t* admin/admin.el (add-release-logs): Also update etc/HISTORY.\n\n2016-05-24  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid aborting due to errors in arguments of 'set-face-attribute'\n\n\t* src/xfaces.c (Finternal_set_lisp_face_attribute): Check the\n\tFRAME argument before using it.  This avoids gratuitous aborts in\n\tEmacs built with --enable-checking when the luser was unlucky\n\tenough to get the argument list in wrong order.\n\n2016-05-23  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\tAdd automated test for viper-tests.el\n\n2016-05-23  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\tFix viper undo breakage from undo-boundary changes\n\n\t* lisp/simple.el (undo-auto-disable-boundaries): New variable\n\t* lisp/emulation/viper-init.el (viper-undo-in-complex-command,\n\t  viper-undo-needs-adjustment): Rename\n\t  variable to reflect new purpose,\n\t  (viper-buffer-undo-list-mark): Remove\n\t* lisp/emulation/viper-cmd.el (viper-set-complex-command-for-undo):\n\t  Add undo using `undo-boundary', disable default undo-boundary\n\t  addition.\n\t* lisp/emulation/viper-cmd.el\n\t  (viper-complete-complex-command-for-undo,viper-adjust-undo):\n\t  Change function name, remove old undo list manipulation.\n\t* lisp/emulation/viper-cmd.el (viper-undo,viper-repeat,\n\t  viper-change-state-to-vi,viper-change-state):\n\t  Update for function name change.\n\n\tAddresses Bug #22295\n\n2016-05-22  Kaushal Modi  <kaushal.modi@gmail.com>\n\n\tFix reference to obsolete fn ps-eval-switch\n\n\tlpr-eval-switch is functionally the same as ps-eval-switch,\n\twhich was obsoleted in 2cdeb903c57126d3ad5f0cbd72e182584b76ee29.\n\tSo use that instead (Bug#19717).\n\t* lisp/printing.el (pr-switches): Use lpr-eval-switch instead of\n\tps-eval-switch.\n\n2016-05-22  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDo not trash symlinks to init file\n\n\tIf the user\u2019s init file is a symbolic link, do not break the link\n\twhen initializing the package system.  Problem reported by Jackson\n\tHamilton (Bug#23050).\n\t* lisp/emacs-lisp/package.el (package--ensure-init-file):\n\tBind find-file-visit-truename when visiting the init file, and\n\tsave and restore the buffer name the way cus-edit does in a\n\tsimilar situation (Bug#454).\n\n2016-05-22  Alan Mackenzie  <acm@muc.de>\n\n\tDon't print the \"decomposition\" line for control chars in what-cursor-position\n\n\tThis is a temporary workaround for bug #23594, where the decomposition line\n\tfor linefeed corrupted the display on a Linux virtual terminal.\n\n\t* lisp/descr-text.el (describe-char): Remove `decomposition' from the list of\n\tcharacter code properties printed for control characters.\n\n2016-05-22  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tBring back xterm pasting with middle mouse\n\n\tProblem reported by Jan Syn\u00e1\u010dek.\n\tSolution suggested by Stefan Monnier (Bug#23519).\n\t* lisp/isearch.el (isearch-mode-map): Add a binding for xterm-paste.\n\t(xterm--pasted-text): New decl.\n\t(isearch-xterm-paste): New function.\n\t* lisp/term/xterm.el (xterm--pasted-text): New function,\n\ttaken from xterm-paste internals.\n\t(xterm-paste): Use it.\n\n2016-05-22  Eli Zaretskii  <eliz@gnu.org>\n\n\tProvide workaround for xftfont rendering problem\n\n\t* src/xftfont.c (syms_of_xftfont) <xft-font-ascent-descent-override>:\n\tNew variable.\n\t(xftfont_open): Use it to work around problems with rendering some\n\tfonts.  (Bug#23360)\n\n2016-05-21  Jun Hao  <jun_hao@aol.com>\n\n\t* lisp/desktop.el: Disable restore frameset if in non-graphic display.\n\n\t(Bug#17693)\n\n2016-05-21  Eli Zaretskii  <eliz@gnu.org>\n\n\tMention GTK+ problems in etc/PROBLEMS\n\n\t* etc/PROBLEMS (GDK_SCALE, GDK_DPI_SCALE): Mention the possible\n\tproblems this could create and the workaround.  (Bug#23587)\n\n2016-05-20  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el (package-refresh-contents):\n\n\tDon't change the value of `package-check-signature'.\n\t(package-check-signature): Use `epg-find-configuration'\n\tinstead of `executable-find'.\n\n2016-05-20  Daiki Ueno  <ueno@gnu.org>\n\n\tRevert \"epg: Add a way to detect gpg1 executable for tests\"\n\n\tThis reverts commit d4ae6d7033b34e8b75c59aaf1584131e439ef2d5.\n\n2016-05-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid errors with Czech and Slovak input methods\n\n\t* lisp/leim/quail/slovak.el (slovak, slovak-prog-1, slovak-prog-2)\n\t(slovak-prog-3): Remove the kp-* key bindings, they are not needed\n\tand cause errors in \"C-u C-x =\".\n\t* lisp/leim/quail/czech.el (czech, czech-qwerty, czech-prog-1)\n\t(czech-prog-2, czech-prog-3): Remove the kp-* key bindings.\n\t(Bug#23559)\n\n2016-05-19  Daiki Ueno  <ueno@gnu.org>\n\n\tepg: Add a way to detect gpg1 executable for tests\n\n\tFixes bug#23561.\n\n\t* test/automated/epg-tests.el\n\t(epg-tests-program-alist-for-passphrase-callback): New\n\tconstant.\n\t(epg-tests-find-usable-gpg-configuration): New function,\n\trenamed from `epg-tests-gpg-usable'.  All callers changed.\n\t(epg-tests-gpg-usable): Remove.\n\n\t* lisp/epg-config.el (epg-config--program-alist): Factor out\n\tconstructor element to...\n\t(epg-config--configuration-constructor-alist): ...here.\n\t(epg-find-configuration): Rename FORCE argument to NO-CACHE,\n\tand add PROGRAM-ALIST argument.\n\n2016-05-18  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el: Fix free variable warnings.\n\n\t(package--with-response-buffer): Replace two usages of\n\t`macroexp-let2*' with `let'.\n\n2016-05-18  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el (package--with-response-buffer):\n\n\tFix some macro locals leaking into body.  (Bug#22440)\n\n\t* test/automated/package-test.el (package-test-signed):\n\tManually check all possible values of `package-check-signature'.\n\n2016-05-18  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of 'server-name'\n\n\t* doc/emacs/misc.texi (Emacs Server): Fix example of setting\n\t'server-name'.  Mention how to do that with daemon sessions.\n\t(Bug#23576)\n\n2016-05-18  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tModernize ASLR advice in etc/PROBLEMS\n\n\t* etc/PROBLEMS (Segfault during 'make'): Modernize advice for\n\tseccomp, Docker, and NetBSD (Bug#23529).\n\n2016-05-17  Juri Linkov  <juri@linkov.net>\n\n\t* lisp/char-fold.el: Rename from character-fold.el.\n\n\t* lisp/replace.el (replace-char-fold): Rename from replace-character-fold.\n\t* test/automated/char-fold-tests.el: Rename from character-fold-tests.el.\n\thttps://lists.gnu.org/r/emacs-devel/2015-12/msg00529.html\n\n2016-05-17  Nicolas Petton  <nicolas@petton.fr>\n\n\tBump version to 25.0.94\n\n\t* README:\n\t* configure.ac:\n\t* msdos/sed2v2.inp: Bump Emacs version to 25.0.94.\n\n2016-05-17  Nicolas Petton  <nicolas@petton.fr>\n\n\tetc/AUTHORS: Update the AUTHORS file\n\n2016-05-16  Alan Third  <alan@idiocy.org>\n\n\tFix bug#23462: Crash when iconifying frame on OS X.\n\n\t* src/nsterm.m (x_iconify_frame): Block input while miniaturize is\n\trunning.\n\n2016-05-16  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tAvoid shrinking windows with Gtk+ 3.20.3\n\n\tProblem reported by Matthias Clasen (Bug#23144).\n\tThis was fixed in a different way in master.\n\tDo not merge to master.\n\t* src/xterm.c (handle_one_xevent) [GTK_CHECK_VERSION (3, 20, 3)]:\n\tDo not call xg_frame_resized in the MapNotify case.\n\n2016-05-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix bug in default setting of 'ps-paper-type'\n\n\t* lisp/international/mule-cmds.el (set-locale-environment): Don't\n\tinherit the value of locale from previous examination of different\n\tenvironment variables, which didn't look at LC_PAPER, and so using\n\tthat value would effectively ignore the setting of LC_PAPER.\n\t(Bug#23544)\n\n2016-05-13  Paul Eggert  <eggert@cs.ucla.edu>  (tiny change)\n\n\tProperly reject malformed or empty package sigs\n\n\tProblem report and fix by Lizzie Dixon (Bug#23513).\n\t* lisp/emacs-lisp/package.el (package--check-signature-content):\n\tReport an error if no good signatures OR if a fatal error.  Not AND.\n\n2016-05-13  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRemove buggy non-native image scrolling\n\n\tThis never worked, and could cause infinite recursion.\n\tProblem reported by Glenn Morris (Bug#22465).\n\t* lisp/xwidget.el (xwidget-webkit-scroll-behavior): Remove.\n\tAll uses removed.\n\n2016-05-13  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* doc/misc/texinfo.tex: Sync from gnulib.\n\n2016-05-12  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/emacs-lisp/find-func.el (find-feature-regexp)\n\t(find-alias-regexp): Fix :version.\n\n2016-05-11  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tDo not mistake colon at the end of regexp for slash symbol\n\n\t* lisp/progmodes/ruby-mode.el (ruby-syntax-propertize):\n\tCheck the parse state in the \"Symbols with special characters\"\n\trule (bug#23515).\n\n2016-05-11  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tMake package-install-from-buffer not move point\n\n\t* lisp/emacs-lisp/package.el (package-install-from-buffer):\n\tUse save-excursion here (bug#22616).\n\n2016-05-11  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tRedo the fix for bug#21839\n\n\t* lisp/help.el (help-add-fundoc-usage): Undo the previous change.\n\t(help--make-usage-docstring): Escape newlines when printing.\n\n\t* lisp/emacs-lisp/cl-macs.el (cl--transform-lambda):\n\tDitto (bug#21839).\n\n2016-05-10  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tDon't treat JS spread as contination method call\n\n\t* lisp/progmodes/js.el (js--indent-operator-re):\n\tAllow only one dot (bug#23492).\n\n\t* test/indent/js.js (default): Add a corresponding example.\n\n2016-05-09  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tAllow newlines inside cl function arglists\n\n\t* lisp/help.el (help-add-fundoc-usage): Allow newlines inside\n\tARGLIST (bug#21839).\n\n2016-05-09  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tPublicize cl--generic-all-functions\n\n\t* lisp/emacs-lisp/cl-generic.el (cl-generic-all-functions):\n\tRename from cl--generic-all-functions.  Update both callers.\n\n\t* lisp/cedet/semantic/db-el.el\n\t(semanticdb-find-tags-external-children-of-type-method):\n\tAnd use it here (bug#23042).\n\n2016-05-09  Alan Mackenzie  <acm@muc.de>\n\n\tAdd some \"safe-local-variable\" declarations for compatibility with master.\n\n\tThese enable C files from the master repository to be visited in Emacs 25\n\twithout generating irritating questions about configuration variable safety.\n\n\t* lisp/progmodes/cc-vars.el: (c-string-list-p, c-string-or-string-list-p): New\n\tfunctions.\n\t(c-noise-macro-names, c-noise-macro-with-parens-names): give the\n\tsafe-local-variable property c-string-list-p.\n\t(c-macro-names-with-semicolon): give the safe-local-variable property\n\tc-string-or-string-list-p.\n\n2016-05-09  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFix doc string in `insert'\n\n\t* src/editfns.c (Finsert_and_inherit): The before-insertion\n\tmarkers do not move.\n\t(Finsert): Ditto.\n\n2016-05-08  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* doc/misc/emacs-mime.texi (time-date): Document now-builtins better.\n\n2016-05-07  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tSay 'All results processed' at the end\n\n\t* lisp/progmodes/xref.el (xref--query-replace-1):\n\tSay 'All results processed' at the end if the user hadn't\n\tcancelled the process (bug#23284).\n\n2016-05-07  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument automatic adjustment of process' logical window dimensions\n\n\t* doc/lispref/processes.texi (Process Buffers): Document\n\t'set-process-window-size' and\n\t'window-adjust-process-window-size-function'.\n\n\t* etc/NEWS: Mention the new functionality and variable.\n\n\t* src/process.c (Fset_process_window_size): Improve the doc string.\n\n2016-05-06  Michael Albinus  <michael.albinus@gmx.de>\n\n\ttramp-sh.el: Work around a stat bug (backport from master)\n\n\t* lisp/net/tramp-sh.el (tramp-get-remote-stat): Do not use\n\tstat versions which produce shell quoted output.  See also\n\tcoreutils Bug#23422.\n\n\t(cherry picked from commit 6aad36ace9953b9672b13be68416d205532d5e59)\n\n2016-05-05  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDoc fixes for fclist and grep\n\n\tA newline is needed between two fc-list calls.\n\tegrep and fgrep have been withdrawn from POSIX,\n\tso document grep -E and grep -F instead.\n\n2016-05-05  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMinor doc fixes for quoting\n\n\t* doc/lispref/control.texi (Signaling Errors):\n\t* doc/lispref/display.texi (Displaying Messages):\n\tDon\u2019t say that formats \u201cgenerate\u201d.  Try to word more clearly.\n\t* etc/NEWS: Coalesce near-duplicate entries.\n\n2016-05-05  Dmitry Gutov  <dgutov@yandex.ru>\n\n\t`nreverse' the marker pairs list\n\n\t* lisp/progmodes/xref.el (xref--buf-pairs-iterator): `nreverse'\n\tthe marker pairs list for each buffer before returning.\n\n2016-05-04  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tUse save-excursion in xref-location-marker more\n\n\t* lisp/progmodes/elisp-mode.el (xref-location-marker): Use\n\tsave-excursion, in order not to alter the value of point if the\n\tbuffer is currently open in the background (problem reported by\n\tRobert Weiner).\n\n\t* lisp/progmodes/etags.el (xref-location-marker): Same.\n\n2016-05-04  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tshell-quote-argument DIR when appropriate\n\n\t* lisp/progmodes/project.el (project-file-completion-table):\n\t`shell-quote-argument' DIR as well.\n\n\t* lisp/progmodes/xref.el (xref--rgrep-command): Pass DIR through\n\t`shell-quote-argument' (bug#23453).  Thanks for Kaushal Modi for\n\tpointing out the problem.  Assert that DIR doesn't start with `~'.\n\n2016-05-04  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tRework xref-query-replace-in-results\n\n\t* lisp/progmodes/xref.el (xref-query-replace-in-results): Collect\n\tall xrefs from the buffer first, then delegate most of the\n\tprocessing to the value returned by xref--buf-pairs-iterator.\n\t(xref--buf-pairs-iterator): New function.  Return an \"iterator\"\n\twhich partitions returned markers into buffers, and only processes\n\tmarkers from one buffer at a time.  When an xref is out of date,\n\tskip it with a message instead of signaling error (bug#23284).\n\t(xref--outdated-p): Extract from xref--buf-pairs-iterator.  Trim\n\tCR from both strings before comparing.\n\t(xref--query-replace-1): Remove the variable current-buf, no need\n\tto track it anymore.  Simplify the filter-predicate and search\n\tfunctions accordingly.  Iterate over buffer-markers pairs returned\n\tby the iterator, and call `perform-replace' for each of them.  Use\n\tmulti-query-replace-map (bug#23284).  Use `switch-to-buffer' every\n\ttime after the first, in order not to jump between windows.\n\n\t* test/automated/xref-tests.el\n\t(xref--buf-pairs-iterator-groups-markers-by-buffers-1)\n\t(xref--buf-pairs-iterator-groups-markers-by-buffers-2)\n\t(xref--buf-pairs-iterator-cleans-up-markers): New tests.\n\n2016-05-04  Juri Linkov  <juri@linkov.net>\n\n\t* lisp/replace.el (query-replace-read-from): Use minibuffer-with-setup-hook\n\n\tto set minibuffer-local value of text-property-default-nonsticky.\n\t(Bug#23418, bug#23127)\n\n2016-05-04  Stephen Berman  <stephen.berman@gmx.net>\n\n\tFix todo-mode bug involving archived items (bug#23447)\n\n\t* lisp/calendar/todo-mode.el (todo-jump-to-category): When jumping\n\tfrom Todo Categories mode to a category with only archived items\n\tand todo-skip-archived-categories is non-nil, make sure the\n\tarchive file buffer is in Todo Archive mode to prevent\n\ttodo-category-select from raising an error, and don't set\n\ttodo-current-todo-file, since that makes todo-show display the\n\tarchived category.  Remove a no-op call to kill-buffer, which is\n\talready called in todo-insert-category-line.\n\n2016-05-03  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tHandle \"empty line\" regexp in xref searches\n\n\t* lisp/progmodes/xref.el (xref--collect-matches-1): Stop after one\n\tmatch if re-search-forward doesn't move point (bug#23426).\n\n\t* test/automated/xref-tests.el\n\t(xref-collect-matches-finds-an-empty-line-regexp-match):\n\tUncomment test.\n\n2016-05-03  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tAdd tests for xref-collect-matches\n\n\t* test/automated/xref-tests.el: New file.  Add tests for\n\txref-collect-matches.\n\n2016-05-03  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tUse grep-find-ignored-directories instead of vc-directory-exclusion-list\n\n\t* lisp/dired-aux.el (dired-do-find-regexp):\n\tUse grep-find-ignored-directories instead of\n\tvc-directory-exclusion-list.  The result should be functionally\n\tsimilar (the former uses the latter as the default value), but it\n\tshould be more consistent and appropriate WRT user\n\tcustomizations.\n\t(dired-do-find-regexp-and-replace): Update the docstring.\n\n\t* lisp/dired.el: Update the corresponding autoloads.\n\n\t* doc/emacs/dired.texi (Operating on Files): Update the\n\tdocumentation accordingly.\n\n2016-05-03  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tClear buffer-undo-list when showing xrefs\n\n\t* lisp/progmodes/xref.el (xref--show-xref-buffer): Clear\n\tbuffer-undo-list and temporarily bind it to t while rendering the\n\tbuffer contents.\n\n2016-05-03  Alan Mackenzie  <acm@muc.de>\n\n\tNote the quote translation in `message' in section \"incompatible changes\".\n\n\t* etc/NEWS: Note that `message' translates quotes, that the translation\n\tcannot be disabled, and that `format' can be used to get the old\n\tbehavior back.\n\n2016-05-03  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* etc/NEWS: Mention (message \"%s\" (format ...)).\n\n2016-05-03  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\t(Common Keywords): Correct what missing :group means\n\n\t* doc/lispref/customize.texi (Common Keywords): Correct what\n\tmissing :group means.\n\n2016-05-03  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of Dired's 'A' and 'Q' commands\n\n\t* lisp/dired-aux.el (dired-do-find-regexp)\n\t(dired-do-find-regexp-and-replace): Mention\n\t'grep-find-ignored-files' and 'vc-directory-exclusion-list', and\n\talso the fact that REGEXP should be palatable by Grep.  (Bug#23426)\n\t* lisp/dired.el: Update the corresponding autoload forms.\n\n\t* doc/emacs/dired.texi (Operating on Files): Mention\n\t'grep-find-ignored-files' and 'vc-directory-exclusion-list'.\n\t(Bug#23429)\n\n2016-05-03  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDoc fixes for quoting\n\n\t* doc/emacs/text.texi, doc/lispintro/emacs-lisp-intro.texi:\n\t* doc/lispref/control.texi, doc/lispref/display.texi:\n\t* doc/lispref/help.texi, doc/lispref/strings.texi, lisp/subr.el:\n\t* src/callint.c, src/doprnt.c, src/editfns.c:\n\tDocument quoting a bit more systematically.\n\tProblem reported by Alan Mackenzie (Bug#23425).\n\n2016-05-02  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tposnp doc clarification\n\n\t* lisp/subr.el (posnp): Mention that a posn object is returned\n\tfrom `event-start' (bug#18211).\n\n2016-05-02  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMention what a missing :group does\n\n\t* doc/lispref/customize.texi (Common Keywords): Document that\n\ta missing :group reuses the group from the preceding item (bug#21601).\n\n2016-05-02  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix documentation of dired-aux search/replace commands\n\n\t* lisp/dired-aux.el (dired-do-find-regexp)\n\t(dired-do-find-regexp-and-replace): Doc fixes.  (Bug#23429)\n\t* lisp/dired.el: Update the corresponding autoload forms.\n\n2016-05-02  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix quoting problem in cc-engine debug message\n\n\t* lisp/progmodes/cc-engine.el (c-replay-parse-state-state):\n\tUse \"%s\" format to pass through \u2018'\u2019 unscathed (Bug#23425), and\n\tlikewise for \u2018`\u2019, and \u2018%\u2019.\n\n2016-05-02  Philipp Stephani  <phst@google.com>\n\n\tAdd electric-quote-string unit test\n\n\t* test/automated/electric-tests.el (electric-quote-string): New test.\n\n2016-05-02  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDon\u2019t electrically quote \u2018'\u2019 in Python\n\n\tProblem reported by Philipp Stephani (Bug#23387).\n\t* lisp/electric.el (electric-quote-post-self-insert-function):\n\tDo not requote a string starter or ender.\n\n2016-05-02  Dmitry Gutov  <dgutov@yandex.ru>\n\n\t`nreverse' Grep hits before passing them to xref--convert-hits\n\n\t* lisp/progmodes/xref.el (xref-collect-matches): `nreverse' hits\n\tbefore passing them to xref--convert-hits.  Fixes a regression\n\tfrom cc0b7132.\n\n2016-05-01  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* doc/misc/texinfo.tex: Sync from gnulib.\n\n2016-05-01  Juri Linkov  <juri@linkov.net>\n\n\t* lisp/isearch.el (isearch-forward-symbol-at-point): Add isearch-push-state.\n\n\t(Bug#23410)\n\n2016-05-01  Michael Albinus  <michael.albinus@gmx.de>\n\n\ttramp.texi: Revert last change due to backward compatibility\n\n\t(cherry picked from commit 910f9a0a936aacbffe9b9b790d7f698dfd287aac)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tcua-prefix-override-inhibit-delay doc fix\n\n\t* lisp/emulation/cua-base.el\n\t(cua-prefix-override-inhibit-delay): Typo fix in doc string\n\t(bug#23401).\n\n\t(cherry picked from commit 2b4c099822811ede787fc6e575bfbb17b3cc0681)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tglobal-eldoc-mode doc fix\n\n\t* lisp/emacs-lisp/eldoc.el (global-eldoc-mode): Be more\n\tspecific about what \"applicable\" means (bug#23071).\n\n\t(cherry picked from commit 25e95b5dd8cd92e03788e589bf99a4b399f03114)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tnormal-top-level-add-subdirs-to-load-path doc fix\n\n\t* lisp/startup.el (normal-top-level-add-subdirs-to-load-path):\n\tDoc fix (bug#21962).\n\n\t(cherry picked from commit 28aaa6d20586e3330a23b017a65e56dd6461c003)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tisearch-search-fun-function doc tweak\n\n\t* lisp/isearch.el (isearch-search-fun-function): Mention what\n\tthe STRING parameter is (bug#21552).\n\n\t(cherry picked from commit cafc2a5940cdc523cfea6dcf1cf540f48367c62a)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFill some imenu--index-alist doc lines\n\n\t* lisp/imenu.el (imenu--index-alist): Fill some doc lines (bug#21269).\n\n\t(cherry picked from commit 4b7bb8f596550628eaa83b82c0f7eabe59a84964)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFmarker_position doc string clarification\n\n\t* src/marker.c (Fmarker_position): Clarify the doc string\n\t(bug#21231).\n\n\t(cherry picked from commit eeac7c57273cec3f9408b18392dd2bafe3be4450)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFurther define-obsolete-* doc fixups\n\n\t* lisp/emacs-lisp/byte-run.el (define-obsolete-face-alias):\n\tFix up last change.\n\t(define-obsolete-variable-alias): Ditto.\n\n\t(cherry picked from commit 28e9f4390d8391c2c36be4ef515cf3a2c679a5a5)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDescribe WHEN in all the define-obsolete- macros\n\n\t* lisp/emacs-lisp/byte-run.el (define-obsolete-face-alias):\n\tSay more verbosely what WHEN is (bug#21225).\n\t(define-obsolete-function-alias): Describe the WHEN parameter.\n\t(define-obsolete-variable-alias): Ditto.\n\n\t(cherry picked from commit 247c388f160581d207e41ca5926990bbf69d4a0f)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMention with-silent-modifications in the lispref manual\n\n\t* doc/lispref/text.texi (Changing Properties): Document\n\twith-silent-modifications (bug#21171).\n\n\t(cherry picked from commit fcd0d854eef6e439d51e8f07cf734d5e34e502b3)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\twith-silent-modifications doc clarification\n\n\t* lisp/subr.el (with-silent-modifications): Rearrange the doc\n\tstring a bit so that the most pertinent information is at the\n\ttop (bug#21171).\n\n\t(cherry picked from commit e0e70f030e69d9696a963a86f5f7caaff4df06eb)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tclear-visited-file-modtime doc string fix\n\n\t* lisp/files.el (clear-visited-file-modtime): Fix possibly\n\tconfusing doc string wording (bug#21169).\n\n\t(cherry picked from commit 1aaeaf1450756a71c9254a2a5b174c72084ca67a)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDocument mode line variables\n\n\t* doc/lispref/modes.texi (Mode Line Variables): Document\n\t`mode-line-front-space, `mode-line-misc-info',\n\t`mode-line-end-spaces' (bug#21014).\n\n\t(cherry picked from commit bf7a630b0a5d3900f2afb0e7a881ce62e2b9f935)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAdd a cross ref to Optional Mode Line\n\n\t* doc/lispref/modes.texi (Mode Line Variables): Add a cross\n\treference to the Emacs mode line node that explains things\n\tlike `display-time-string' (bug#21002).\n\n\t(cherry picked from commit a3151a28789f413af73b14fbba557b2a587fca53)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAdd a doc string to display-time-string\n\n\t* lisp/time.el: Add a doc string to `display-time-string',\n\tbecause it's referred to in the manual, and is too mysterious\n\totherwise (bug#21002).\n\n\t(cherry picked from commit 45559c584e5a4ddeed1539b028b50b95baa372f8)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tcustom-buffer-style doc fix\n\n\t* lisp/cus-edit.el (custom-buffer-style): Document the `tree'\n\tvalue (bug#20724).\n\n\t(cherry picked from commit bcf0291d0cd02095b0809b1eb91f1e5c5c2ac5e3)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRearrange the doc of query-replace slightly\n\n\t* lisp/replace.el (query-replace): Move the mention of the\n\tinteractive prefix arg earlier so that users can find it\n\t(bug#20654).\n\n\t(cherry picked from commit bcc10761c3b968fa4534718116a0a601ed7da389)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tapropos-print doc fix\n\n\t* lisp/apropos.el (apropos-print): Document the undocumented\n\tparameters (bug#20520).\n\n\t(cherry picked from commit 0714d7387812a151f59993ac77c7321724ef79b1)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tcompletion-table-with-predicate doc string fix\n\n\t* lisp/minibuffer.el (completion-table-with-predicate): t ->\n\tnon-nil in the doc string (bug#20460).\n\n\t(cherry picked from commit b6a4d162208f239bc7804696d611ae52c686f138)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFill the completion-table-with-predicate doc string\n\n\t* lisp/minibuffer.el (completion-table-with-predicate): Fill\n\tthe doc string (bug#20460).\n\n\t(cherry picked from commit 207a31432c1ed8b548003a3e4af32c49aa3441e9)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\treplace-match-maybe-edit doc clarification\n\n\t* lisp/replace.el (replace-match-maybe-edit): Say what\n\tMATCH-DATA is (bug#20304).\n\n\t(cherry picked from commit 139874ba53c2e2de9868f8e5234d6ea2bcb97af8)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tadd-timeout doc fix\n\n\t* lisp/emacs-lisp/timer.el (add-timeout): Mention the return\n\tvalue (bug#20181).\n\n\t(cherry picked from commit 921b40476f597c84d7c34aa289cd43caeb389c4a)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tExtremely minor doc fix in Choosing Window\n\n\t* doc/lispref/windows.texi (Choosing Window): There's only one\n\taction alist, I think (bug#20158).\n\n\t(cherry picked from commit 6c7e7f421d02d9290d6d1d85320737371160aef7)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tTransform mentions of `eval-after-load' to `with-eval-after-load'\n\n\t* doc/lispref/loading.texi (Hooks for Loading): Update text to\n\tnot mention `eval-after-load' (bug#20038).\n\n\t(cherry picked from commit 9392193be56eebdfac702a0bbb5e954088371c7a)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tcursor-type doc fix\n\n\t* src/buffer.c (syms_of_buffer): Mention that cursor-type's\n\tWIDHT/HEIGHT can't exceed the frame char size (bug#19215).\n\n\t(cherry picked from commit 77c5f4554ebb3b7c7d49bc881e45a550f6c93987)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAdd a link from Tool Bar to Images\n\n\t* doc/lispref/keymaps.texi (Tool Bar): Add a link to the\n\tImages node (bug#19722).\n\n\t(cherry picked from commit da5d0786163a91400eced4fddba4a92b652458d1)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\t(default-mode-line-format): More explicit obsolete info\n\n\t* lisp/subr.el (default-mode-line-format): Be more explicit in\n\thow default values are now handled (bug#19424).\n\n\t(cherry picked from commit 9dc5f6d830e72420dc4d41c8f6ca1ca6b28609c0)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFcompare_buffer_substrings doc string clarification\n\n\t* src/editfns.c (Fcompare_buffer_substrings): Extremely minor\n\tdoc string clarification (bug#19255).\n\n\t(cherry picked from commit aa692acbb598a1cc8219ed7a87dde25fd7626ba5)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tinsert-file-contents-literally doc fix\n\n\t* lisp/files.el (insert-file-contents-literally): Say that the\n\tparameters are explained in the other function (bug#18317).\n\n\t(cherry picked from commit b6481b19bc9592492b1f70dfecb4de6256f537fe)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFix custom types for cursor-in-non-selected-windows\n\n\t* lisp/cus-start.el (standard): Use the same custom types for\n\tcursor-in-non-selected-windows as for cursor-type (bug#19214).\n\n\t(cherry picked from commit b66bc0cced786e0320e1c3b0758bd3c434d4e8b5)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDoc clarification to mwheel-scroll\n\n\t* lisp/mwheel.el (mwheel-scroll): Mention that the restriction\n\tdoes not apply to Windows (bug#19209).\n\n\t(cherry picked from commit 696052b5fdfbc5c25dff3c6b081aebe70f6d06c7)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tClarify the doc of eval-expression-print-format\n\n\t* lisp/simple.el (eval-expression-print-format): Doc\n\tclarification (bug#19114).\n\n\t(cherry picked from commit cd193a871f5a8e1c81ba86fc398ac382fa814383)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tExplictly explain that package-initialize loads the packages\n\n\t* lisp/emacs-lisp/package.el (package-initialize): Be explicit\n\tin saying that `package-initialize' obviates adjusting the\n\tpath or requiring the packages, as this is a question that\n\tapparently comes up now and then (bug#18829).\n\n\t(cherry picked from commit 619e0aedb2f3dbfe6821ac34e2d25b4e5c181117)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tHave the doc strings of `load-path' and `require' mention each other\n\n\t* src/fns.c (Frequire): Mention `load-path' and fill the doc\n\tstring (bug#18829).\n\n\t* src/lread.c (syms_of_lread): Mention that `require' uses\n\t`load-path'.\n\n\t(cherry picked from commit 3eca9a03816f95da0030665223c0b5262f223ba7)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDoc fix for insert-pair-alist\n\n\t* lisp/emacs-lisp/lisp.el (insert-pair-alist): Say what\n\tCOMMAND-CHAR is (bug#18809).\n\n\t(cherry picked from commit 2824c587e9749a8f350f1d3dddd65176b4561dcb)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMove doc of backup-directory-alist to the Backup node\n\n\t* doc/emacs/files.texi (Backup): Move the documentation of\n\t`backup-directory-alist' here from the \"Single or Numbered\n\tBackups\" node, because it doesn't seem to have much to do with\n\tnumbering (bug#18692).\n\n\t(cherry picked from commit e77b8d84b4161f2cf8720dec2bf44a3e50134398)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tTiny doc clarification for create-fontset-from-fontset-spec\n\n\t* lisp/international/fontset.el (create-fontset-from-fontset-spec):\n\tClarify what the optional part is (bug#18686).\n\n\t(cherry picked from commit c05d186455ce9907eeb6b21ea4227e453996c681)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFill the doc string of font-lock-keywords\n\n\t* lisp/font-lock.el (font-lock-keywords): Fill the lines and\n\treorganize some explanations (bug#21427).\n\n\t(cherry picked from commit c05716d3a26ea7518b89eacfccaf70c9d0731df7)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDoc fix for font-lock-remove-keywords\n\n\t* lisp/font-lock.el (font-lock-remove-keywords): Add a link to\n\t`font-lock-add-keywords' to describe KEYWORDS (bug#18634).\n\n\t(cherry picked from commit bc00dcf12983cd399127d0eea39647f29778eb02)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tClarify whitespace-style doc string\n\n\t* lisp/whitespace.el (whitespace-style): Doc clarification\n\t(bug#18296).\n\n\t(cherry picked from commit d96c720d0cca7c9ffbb4c712ad315bb707d6625c)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDoc fixed for next-error-buffer-p\n\n\t* lisp/simple.el (next-error-buffer-p): Clarify doc string\n\t(bug#18202).\n\n\t(cherry picked from commit a10eb168cc96db9f0dab2d75550cbd8f08be2363)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tTiny doc fix\n\n\t* src/fileio.c (Ffile_accessible_directory_p): Tiny doc fix\n\t(and fill) (bug#18201).\n\n\t(cherry picked from commit 2ef0040e2363a669d9b93df935d31c98fa130132)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDoc fix\n\n\t* src/keymap.c (Fdefine_prefix_command): Clarify doc string\n\tslightly (bug#18092).\n\n\t(cherry picked from commit 6b769c81d024f7eeb90b167e7df6f87d859614d4)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tdelsel doc touch ups\n\n\t* lisp/delsel.el (delete-selection-helper): Use non-nil\n\tinstead of t and clarify function return values (bug#18089).\n\n\t(cherry picked from commit d7a5b5be9a5869bcd233434ec3103dd1976d7df7)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDoc fixes for menu-bar.el\n\n\t* lisp/menu-bar.el (clipboard-kill-ring-save): Describe the\n\tREGION parameter (bug#18028).\n\t(clipboard-kill-region): Ditto.\n\n\t(cherry picked from commit 33d2c67bff0992ecbc0fe38556683242b9d1a4ae)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDoc fix\n\n\t* lisp/rect.el (delete-whitespace-rectangle): Doc fix (bug#18026).\n\n\t(cherry picked from commit 6baca4911ec901579749dbf7596011d90fea3781)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMinor doc clarification\n\n\t* lisp/subr.el (y-or-n-p): Document the return value from \"n\"\n\t(bug#18024).\n\n\t(cherry picked from commit 5d1f3192d484edee92caa46cd7d699da3e920259)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFill font-lock-mode doc string\n\n\t* lisp/font-core.el (font-lock-mode): Fill the text to make it\n\tnarrower (bug#18008).\n\n\t(cherry picked from commit 27abf372836532c57be2e9e3ed23413729cc07fc)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tWrap the auto-generated doc string\n\n\t* lisp/emacs-lisp/easy-mmode.el (define-minor-mode): Wrap a\n\tstring to make it less likely that we get overlong lines\n\t(bug#17999).\n\n\t(cherry picked from commit 323b69664914d687fd4b48593479cea223dfbcb4)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tClarify hi-lock-find-patterns\n\n\t* lisp/hi-lock.el (hi-lock-find-patterns): Doc clarification\n\t(bug#17989).\n\n\t(cherry picked from commit 552e90ce7dff3a7107243fdf71c4de3af443e13a)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAdd a doc string to `winner-mode'\n\n\t* lisp/winner.el (winner-mode): Add a doc string based on the\n\tcomments in the file (bug#17716).\n\n\t(cherry picked from commit 2c3ab9b6e39a3d600e7d82deacc24effaec051bb)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDoc fix for align-newline-and-indent\n\n\t* lisp/align.el (align-newline-and-indent): Mention that\n\talignment is done by `align' (bug#17707).\n\n\t(cherry picked from commit 340a224ec3e01706112a07164da9a9f3f369a5aa)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDoc fix for `kbd'\n\n\t* lisp/subr.el (kbd): Describe more fully the format of the\n\tparameter (bug#17039).\n\n\t(cherry picked from commit 3a33afe25d8518f194fa4706eaccdb2a786a0348)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDoc tweak\n\n\t* lisp/simple.el (use-empty-active-region): Doc tweak.\n\tThere's only one region (bug#16513).\n\n\t(cherry picked from commit 35fb7897f161d5e5a87e039dc1e427094640b0c8)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tLink from (emacs)Exiting to (lisp)Killing Emacs\n\n\t* doc/emacs/entering.texi (Exiting): Link to the lispref\n\tmanual for further customizations (bug#15445).\n\n\t(cherry picked from commit bc5f27aa099cdde02ca66e71501b89300685ab28)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tfind-lisp doc touchups\n\n\t* lisp/find-lisp.el (find-lisp-format): Copy over the doc\n\tstring (bug#15047).\n\t(find-lisp-find-files): Clarify doc.\n\n\t(cherry picked from commit e4c7657b0d1a31d64ca24bc64b5480cd7687e332)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDon't have the manual claim that it lists all CL incompatibilities\n\n\t* doc/misc/cl.texi (Common Lisp Compatibility): The list of\n\tincompatibilities isn't exhaustive, so don't say that it is\n\t(bug#15171).\n\n\t(cherry picked from commit fb685bc91a72508c97ce7e30f970d4157677f371)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tChange all occurrences of \"Mouse-[0-9]\" to \"mouse-[0-9]\"\n\n\t* doc/emacs/*.texi: Change all occurrences of \"Mouse-[0-9]\" to\n\t\"mouse-[0-9]\".  These are case sensitive, and the keys are lower case\n\t(bug#14554).\n\n\t(cherry picked from commit e4c26271f2c2fe08f8490e25c63a436ab2a804ca)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDoc string change to enable-recursive-minibuffers\n\n\t* src/minibuf.c (syms_of_minibuf): Mention\n\tminibuffer-depth-indicator-mode in the doc string to\n\tenable-recursive-minibuffers (bug#14147).\n\n\t(cherry picked from commit 23ba488a5e8290c4de91e0ff4161641efa364c0d)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tClarify the `interactive' doc string slightly\n\n\t* src/callint.c (Finteractive): Clarify the doc string slightly\n\t  (bug#14577).\n\n\t(cherry picked from commit cd993be60da2d12db0d390001373d486c1091c47)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tClarify some doc strings\n\n\t* lisp/emacs-lisp/syntax.el (syntax-propertize-via-font-lock):\n\tClarify doc string (bug#8693).\n\t(syntax-propertize): Clarify doc string.\n\n\t(cherry picked from commit ad3ef417f3c40f086de9c547d6272e5685595e42)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAdd some concept index entries for custom types\n\n\t* doc/lispref/customize.texi (Composite Types): Add concept\n\tindex entries for restricted-sexp, radio and choice (bug#7385).\n\n\t(cherry picked from commit 388bb723fa078158d3148de05e942f9c01e95dd8)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMention `lisp-indent-function' in the lispref manual\n\n\t* doc/lispref/macros.texi (Indenting Macros): Mention\n\t`lisp-indent-function' (bug#3393).\n\n\t(cherry picked from commit a1627691a896b2afaa264f93534178bc763564c9)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tClarify doc string of internal compilation function\n\n\t* lisp/progmodes/compile.el (compilation-get-file-structure):\n\tClarify doc string (bug#3137).\n\n\t(cherry picked from commit 123191decb7428db3b32a6c01631fa755088393a)\n\n2016-05-01  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tUse \u2018T *restrict\u2019 proto, not \u2018T[restrict]\u2019\n\n\t* src/fns.c (sort_vector_copy): Use a different way to attempt to\n\twork around GCC 3.0-and-earlier incompatibility with C99, one that\n\tdoes not have problems with modern non-GCC compilers.\n\n2016-05-01  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix documentation of 'url-retrieve-synchronously'\n\n\t* doc/misc/url.texi (Retrieving URLs): Update argument list of\n\t'url-retrieve-synchronously'.  (Bug#23411)\n\n2016-05-01  Eli Zaretskii  <eliz@gnu.org>\n\n\t* lisp/url/url.el (url-retrieve-synchronously): Doc fix.  (Bug#23411)\n\n2016-04-30  Leo Liu  <sdl.web@gmail.com>\n\n\tFix last change to isearch-update (bug#23406)\n\n\t* lisp/isearch.el (isearch-update): Remove (setq cursor-sensor-inhibit\n\t  nil) ie remove the original (unless (boundp 'cursor-sensor-inhibit)\n\t  ...) form.\n\n2016-04-30  Leo Liu  <sdl.web@gmail.com>\n\n\tAutoload cursor-sensor-inhibit (bug#23406)\n\n\t* lisp/emacs-lisp/cursor-sensor.el (cursor-sensor-inhibit): Autoload.\n\t* lisp/isearch.el (isearch-update): Remove boundp check.\n\n2016-04-30  Phillip Lord  <phillip.lord@newcastle.ac.uk>\n\n\torg-map-entries: Fix org-agenda-prepare-buffers call\n\n\t* lisp/org/org.el (org-map-entries): Check that buffer-file-name is non-nil\n\t  before passing to org-agenda-prepare-buffers.\n\n\tThis is a backport of commit 44c8cd7136e3fcd1e6bfa08895cac437b7a691fa\n\tfrom upstream org-mode. Addresses bug #23365.\n\n2016-04-30  Eli Zaretskii  <eliz@gnu.org>\n\n\tFollowup for last commit in the user manual\n\n\t* doc/emacs/basic.texi (Moving Point): Clarify that\n\tset-goal-column has buffer-local effect.  (Bug#23405)\n\n2016-04-30  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove doc string of 'set-goal-column'\n\n\t* lisp/simple.el (set-goal-column): Doc fix.  (Bug#23405)\n\n2016-04-30  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix the MSDOS build\n\n\t* config.bat:\n\t* msdos/sedlisp.inp:\n\t* msdos/sedlibmk.inp:\n\t* msdos/sedleim.inp:\n\t* msdos/sedadmin.inp:\n\t* msdos/sed6.inp:\n\t* msdos/sed3v2.inp:\n\t* msdos/sed2v2.inp:\n\t* msdos/sed1v2.inp: Adapt to Emacs 25.\n\n\t* src/process.c (remove_slash_colon): Move out of \"#ifdef\n\tsubprocesses\" block, as it its called unconditionally.  Move\n\tADD_SUBFEATURE calls into \"#ifdef subprocesses\" block, as they\n\treference variables only defined in that block.\n\t* src/msdos.h: Provide prototypes for IT_set_frame_parameters,\n\tfaccessat, msdos_fatal_signal, syms_of_msdos, pthread_sigmask,\n\tdos_keysns, dos_keyread, run_msdos_command, and\n\tsyms_of_win16select, to avoid compiler warnings.\n\t* src/msdos.c (SYS_ENVIRON): Define to either '_environ' or\n\t'environ', depending on the DJGPP version.\n\tRemove declarations of externally-visible Lisp objects, like\n\tQbackground_color and Qreverse.\n\t(run_msdos_command): First argument is not signed, not unsigned.\n\tUse SYS_ENVIRON.\n\t(sys_select): Use 'timespec_cmp' instead of 'timespec_sign', as\n\tthe latter doesn't work when 'time_t' is an unsigned data type.\n\tThis caused idle timers to behave incorrectly: they only fired\n\tafter a keyboard input event.\n\t* src/frame.c (adjust_frame_size) [MSDOS]: Account for\n\tFRAME_TOP_MARGIN that isn't counted in the frame's number of\n\tlines, but dos_set_window_size needs it to be added.\n\t* src/lread.c (INFINITY, NAN) [DJGPP < 2.05]: Provide definitions.\n\t* src/fns.c (sort_vector_copy) [__GNUC__ < 4]: Provide a prototype\n\tthat works around compilation errors with older GCC versions.\n\t* src/w16select.c: Don't declare QCLIPBOARD and QPRIMARY as Lisp\n\tObjects.\n\t* src/filelock.c [MSDOS]: Ifdef away most of the code.  Provide\n\tno-op implementations for 'lock_file' and 'unlock_file'.\n\t(Ffile_locked_p) [MSDOS]: Always return nil.  This avoids multiple\n\tifdefs in all users of filelock.c functionality.\n\t* src/conf_post.h (EOVERFLOW, SIZE_MAX) [DJGPP < 2.04]: Define.\n\t* src/emacs.c [MSDOS]: Include dosfns.h, to avoid compiler\n\twarnings.\n\t* src/dosfns.h: Provide prototypes for dos_cleanup,\n\tsyms_of_dosfns, and init_dosfns.\n\t* src/deps.mk (atimer.o): Depend on msdos.h.\n\t(emacs.o): Depend on dosfns.h.\n\t* src/atimer.c [MSDOS]: Include msdos.h, to avoid compiler\n\twarnings.\n\n\t* lisp/window.el (window--adjust-process-windows): Skip the body\n\tif 'process-list' is not available.  This avoids failure to start\n\tup on MS-DOS.\n\t* lisp/vc/diff.el (diff-no-select): Test 'make-process', not\n\t'start-process', as the latter is now available on all platforms.\n\t* lisp/textmodes/ispell.el (ispell-async-processp): Replace\n\t'start-process' with 'make-process' in a comment.\n\t* lisp/term/internal.el (IT-unicode-translations): Modify and add\n\ta few translations to display Info files with Unicode markup.  Fix\n\tan ancient off-by-one mismatch error with Unicode codepoints.\n\t* lisp/progmodes/compile.el (compilation-start): Test\n\t'make-process', not 'start-process', as the latter is now\n\tavailable on all platforms.\n\t* lisp/man.el (Man-build-man-command, Man-getpage-in-background):\n\tTest 'make-process', not 'start-process', as the latter is now\n\tavailable on all platforms.\n\t* lisp/international/mule-cmds.el (set-coding-system-map): Test\n\t'make-process', not 'start-process', as the latter is now\n\tavailable on all platforms.\n\t* lisp/eshell/esh-cmd.el (eshell-do-pipelines-synchronously): Doc\n\tfix.\n\t(eshell-execute-pipeline): Test 'make-process', not\n\t'start-process', as the latter is now available on all platforms.\n\n2016-04-30  Andreas Schwab  <schwab@linux-m68k.org>\n\n\tRemove \\= from format string (bug#18190)\n\n\t* lisp/emacs-lisp/eieio.el (defclass): Remove \\= from format\n\tstring.\n\n2016-04-30  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix variable-pitch font on MS-Windows\n\n\t* lisp/faces.el (variable-pitch) [w32]: Name a variable-pitch font\n\texplicitly, to avoid Emacs picking up a bold-italic variant on\n\tsome MS-Windows systems.  See this thread for details:\n\thttps://lists.gnu.org/r/emacs-devel/2016-04/msg00746.html.\n\n2016-04-29  Alan Mackenzie  <acm@muc.de>\n\n\tRestore follow-scroll-up/down to scrolling by the combined size of all windows\n\n\tAlso rename the current follow-scroll-up/down functions to\n\tfollow-scroll-up-window and follow-scroll-down-window.  These scroll by the\n\theight of the current window.\n\n\tThis fixes bug #23347.\n\n\t* lisp/follow.el (follow-mode): Tweak the doc string.\n\t(follow-scroll-up-arg, follow-scroll-down-arg): new functions, extracted from\n\tfollow-scroll-up/down.\n\t(follow-scroll-up-window, follow-scroll-down-window): Functions renamed from\n\tfollow-scroll-up/down.\n\t(follow-scroll-up, follow-scroll-down): Restore the historic functionality.\n\n2016-04-29  Alan Mackenzie  <acm@muc.de>\n\n\tRevert unneeded change which harms syntactic parsing.  This fixes bug #23308.\n\n\t* lisp/progmodes/cc-engine.el (c-invalidate-state-cache): User\n\tc-state-old-cpp-end as an argument to c-with-all-but-one-cpps-commented-out\n\tregardless of the value of `here'.\n\n2016-04-29  Alan Mackenzie  <acm@muc.de>\n\n\tCorrect indentation of ids in a C++ enum after a protection keyword.\n\n\tAlso correct the misfontification of the last enum identifier.\n\n\t* lisp/progmodes/cc-engine.el (c-forward-keyword-prefixed-id): setq\n\tc-last-identifier-range to nil to ensure that only types recognized by this\n\tmacro are set for fontification as types.\n\t(c-backward-typed-enum-colon): Function renamed from\n\tc-backward-colon-prefixed-type.  On finding a colon in the backward search,\n\tcheck it is preceded by an identifier rather than a keyword.\n\n2016-04-27  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/window.el (window--process-window-list): No-op if no processes.\n\n\tThis avoids an issue with save-selected-window (from walk-windows)\n\tfailing if frame.el is not loaded, eg if the terminal is resized\n\tduring startup of a -nw CANNOT_DUMP build.  (Bug#23369).\n\n2016-04-27  Paul Eggert  <eggert@penguin.cs.ucla.edu>\n\n\tPort dumping to NetBSD with PaX\n\n\tProblem reported by Thomas Klausner (Bug#23371).\n\t* configure.ac (PAXCTL_dumped, PAXCTL_notdumped): New vars.\n\tSet them to setfattr and/or paxctl commands appropriate for\n\tGNU/Linux and/or NetBSD; the latter prefers paxctl +a.  Search\n\tfor paxctl only if setfattr is not found.\n\t* src/Makefile.in (PAXCTL_dumped, PAXCTL_notdumped):\n\tNew vars, replacing PAXCTL_if_present and SETFATTR_if_present.\n\tAll uses changed.\n\n2016-04-27  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tDon't mistake `for' inside a function for a part of array comprehension\n\n\t* lisp/progmodes/js.el (js--indent-in-array-comp): Also check the\n\tdepth in parens between the bracket and `for' (bug#23391).\n\n\t* test/indent/js.js: Add a corresponding example.\n\n2016-04-27  Anders Lindgren  <andlind@gmail.com>\n\n\tFix bug#22891: wrong terminal width when a fringe width is zero.\n\n\tWhen either fringe width is zero, Emacs reserved one column for a\n\tcontinuation glyph. Terminal windows does not take this into\n\taccount when the frame is resized.\n\n\t* lisp/window.el (window-adjust-process-window-size): Use\n\t`window-max-chars-per-line' instead of `window-body-width'.\n\t* lisp/term.el (term-window-width): Remove function. (It does the\n\tsame as `window-max-chars-per-line' but without recent bug fixes.)\n\t(term-mode): Use `window-max-chars-per-line' instead of\n\t`term-window-width'.\n\n\tBackport\n\n\t(cherry picked from commit 5b5403289888efe8783ae6a405845b925f544ec1)\n\n2016-04-27  Leo Liu  <sdl.web@gmail.com>\n\n\tImprove last change to vc-git-mode-line-string\n\n\t* lisp/vc/vc-git.el (vc-git-mode-line-string): Better fix that caches\n\t  the result.\n\n2016-04-27  Stephen Berman  <stephen.berman@gmx.net>\n\n\tTodo mode doc bug fix\n\n\t* lisp/calendar/todo-mode.el (todo-show): Correct obsolete and no\n\tlonger correct information in doc string.\n\n2016-04-27  Leo Liu  <sdl.web@gmail.com>\n\n\tFix revision calculation in vc-git-mode-line-string\n\n\t* lisp/vc/vc-git.el (vc-git-mode-line-string): Use\n\t  vc-git-working-revision because vc-working-revision needs to decide\n\t  the backend and may return nil.\n\n2016-04-26  Jorgen Schaefer  <contact@jorgenschaefer.de>\n\n\tAdd Python 3.5 keyword \"await\"\n\n\t* lisp/progmodes/python.el (python-font-lock-keywords): Add await as\n\tkeyword.\n\n2016-04-26  Lele Gaifax  <lele@metapensiero.it>\n\n\tAdd new keywords of Python 3.5\n\n\tPython 3.5, released in mid September 2015, introduced a few new\n\tkeywords to better support asynchronous code, \"async\" and \"await\"\n\tin particular. See https://www.python.org/dev/peps/pep-0492/ for\n\tdetails. (Bug#21783)\n\t* lisp/progmodes/python.el (python-rx-constituents): Add async\n\tdef/for/with as block-start and async def as defun.\n\t* lisp/progmodes/python.el (python-font-lock-keywords): Add async\n\tdef/for/with as keyword.\n\t* test/automated/python-tests.el (python-indent-after-async-block-1,\n\tpython-indent-after-async-block-2, python-indent-after-async-block-3,\n\tpython-nav-beginning-of-defun-3): New tests to test indentation and\n\tnavigation for the async keyword.\n\n2016-04-26  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tPartially revert previous change.\n\n\tThis commit partially reverts 0f332848cdb2ed6d46771914a911cbca194cd51a.\n\t* lisp/rect.el (rectangle--highlight-for-redisplay): Use region face.\n\tThis function is for rectangle-mark-mode, not string-rectangle.\n\n2016-04-25  Paul Eggert  <eggert@penguin.cs.ucla.edu>\n\n\tSay why text-quoting-style is not a user option\n\n\t* doc/lispref/help.texi (Keys in Documentation):\n\t* etc/NEWS: Document why text-quoting-style is not a\n\tcustomizable variable (Bug#23372).\n\n2016-04-25  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/emacs-lisp/autoload.el (update-directory-autoloads):\n\tFuture-proof against non-time-values.\n\n2016-04-25  Eli Zaretskii  <eliz@gnu.org>\n\n\tDon't mention ~/.emacs.bmk literally in doc strings\n\n\t* lisp/bookmark.el (bookmark-save-flag, bookmark-load): Don't\n\tmention \"~/.emacs.bmk\" explicitly as the default bookmark file in\n\tthe doc strings.  (Bug#23350)\n\n2016-04-25  YAMAMOTO Mitsuharu  <mituharu@math.s.chiba-u.ac.jp>\n\n\t* etc/NEWS: Explain why multicolor font display is disabled on OS X Cocoa.\n\n2016-04-24  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort to Ubuntu 16.04 --enable-gcc-warnings\n\n\t* src/image.c (gif_load) [HAVE_GIF]: Fix pointer signedness problem.\n\n2016-04-24  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* etc/NEWS: Improve wording of vc-git-log-output-coding-system etc.\n\n2016-04-24  Tino Calancha  <f92capac@gmail.com>\n\n\tDon't kill ~/ if it's the top level directory\n\n\t* lisp/dired-aux.el (dired-kill-subdir): Don't kill ~/ if it's\n\tthe top level directory (bug#23017).\n\n2016-04-23  Tino Calancha  <f92capac@gmail.com>  (tiny change)\n\n\tdescribe-char: fix insert char documentation\n\n\t* lisp/descr-text.el (describe-char):\n\tOnly 'ucs-names' entries can be inserted by unicode name (Bug#23325).\n\n2016-04-23  Dmitry Gutov  <dgutov@yandex.ru>\n\n\t(vc-git-mode-line-string): Don't use `replace-regexp-in-string'\n\n\t* lisp/vc/vc-git.el (vc-git-mode-line-string): Use `substring'\n\tinstead of `replace-regexp-in-string', because REV can be nil\n\t(e.g. when FILE is a directory, bug#23344), and we actually know\n\twe only need the first 4 characters.\n\n2016-04-22  Nicolas Petton  <nicolas@petton.fr>\n\n\tBump version to 25.0.93\n\n\t* README:\n\t* configure.ac:\n\t* msdos/sed2v2.inp: Bump Emacs version to 25.0.93.\n\n2016-04-22  Nicolas Petton  <nicolas@petton.fr>\n\n\t* etc/AUTHORS: Update the AUTHORS file\n\n\t* admin/update_autogen: Use #!/usr/bin/env bash\n\n\t* admin/authors.el (authors-ignored-files): Additions.\n\n2016-04-22  Martin Rudalics  <rudalics@gmx.at>\n\n\tIn x_set_window_size restore do_pending_window_change calls\n\n\t* src/xterm.c (x_set_window_size):\n\t* src/w32term.c (x_set_window_size): Restore\n\tdo_pending_window_change calls after their stupid removal on\n\t2015-08-31.\n\n2016-04-21  Ilya Zakharevich  <ilya@math.berkeley.edu>\n\n\tFix Alt-modified keys on some European MS-Windows keyboards\n\n\t* src/w32fns.c (deliver_wm_chars): If the reported character is\n\tASCII, AND Meta modifier is a candidate, behave as if Meta is\n\tpresent, i.e. fall back to the legacy code.  (Bug#23251)\n\n2016-04-20  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument 'help-go-forward'\n\n\t* doc/emacs/help.texi (Help Mode): Document and index\n\t'help-go-forward'.  (Bug#23323)\n\n2016-04-20  Eli Zaretskii  <eliz@gnu.org>\n\n\tRevert \"Allow to customize names of executables used by grep.el\"\n\n\tThis reverts commit c93ae7a1e5a94541189a8f36984014344d561ffc.\n\n2016-04-20  Eli Zaretskii  <eliz@gnu.org>\n\n\tRevert \"Don't use 'find-program'\"\n\n\tThis reverts commit 10597c977d55cbf9304b51c3b364ce58199384a0.\n\n2016-04-20  Eli Zaretskii  <eliz@gnu.org>\n\n\tRevert \"Use 'grep-find-program' in check-declare.el\"\n\n\tThis reverts commit 33bef6e90bfd20609d044b8a076c1570c627684a.\n\n2016-04-20  Eli Zaretskii  <eliz@gnu.org>\n\n\tClarify documentation of 'dired-mark-files-containing-regexp'\n\n\t* doc/emacs/dired.texi (Marks vs Flags): Clarify that for files\n\tvisited in buffers, 'dired-mark-files-containing-regexp' searches\n\tthe buffer rather than the file on disk.  (Bug#22694)\n\n\t* lisp/dired.el (dired-mark-files-containing-regexp): Clarify that\n\tfor files visited in buffers, 'dired-mark-files-containing-regexp'\n\tsearches the buffer rather than the file on disk.  (Bug#22694)\n\n2016-04-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tMake tmm-menubar work in correct order again\n\n\t* lisp/tmm.el (tmm-prompt): Don't reverse 'tmm-km-list' right at the\n\tbeginning; instead, pass a reversed copy to 'tmm--completion-table'.\n\t(Bug#23309)\n\t(tmm-menubar): Fix an off-by-one error in determining the menu\n\titem when the function is called with a non-nil 'x-position'\n\targument.\n\n2016-04-18  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tRemove the Meta-CVS VC backend\n\n\t* lisp/obsolete/vc-mcvs.el: Remove the file (bug#20475).\n\n\t* lisp/vc/log-view.el (log-view-extract-comment): Remove the MCVS\n\treference.\n\n\t* doc/misc/efaq-w32.texi (Version control): Same.\n\n2016-04-18  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix Bug#23276\n\n\t* lisp/autorevert.el (auto-revert-handler): Ignore errors\n\tcoming from `revert-buffer'.  (Bug#23276)\n\n2016-04-17  Reto Zimmermann  <reto@gnu.org>\n\n\tSync with upstream vhdl mode v3.38.1.\n\n\t* lisp/progmodes/vhdl-mode.el (vhdl-version, vhdl-time-stamp): Update.\n\t(vhdl-mode): No longer set comment-padding.\n\t(vhdl-begin-p): Handle missing space between keyword and parenthesis.\n\t(vhdl-beginning-of-statement-1): Fix indentation for \"else generate\".\n\t(vhdl-template-else, vhdl-template-elsif): Support generate statement.\n\t(vhdl-re-search-forward, vhdl-re-search-backward): Save match data.\n\n2016-04-16  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tTweak configure.ac syntax in recent module patch\n\n\t* configure.ac: Use proper Autoconf parenthesization in\n\trecent HAVE_MODULES patch.  Although this doesn\u2019t fix any bugs,\n\tthe previous syntax was confusing.\n\n2016-04-16  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort to GCC 5.3.1 20160406 (Red Hat 5.3.1-6)\n\n\t* src/indent.c (Fvertical_motion): Pacify --enable-gcc-warnings\n\twhen using the April 6 Fedora patch to GCC.\n\n2016-04-16  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tMake sh-electric-here-document-mode accessible in sh-mode-hook. (Bug#3226)\n\n\t* lisp/progmodes/sh-script.el (sh-mode-hook): Add\n\tsh-electric-here-document-mode as an option and the default value.\n\t(sh-mode): Mention sh-mode-hook in docstring.\n\t(sh-mode): Remove sh-electric-here-document-mode invocation.\n\n2016-04-16  Glenn Morris  <rgm@gnu.org>\n\n\t* configure.ac (HAVE_MODULES): Exclude gnu-kfreebsd from previous.\n\n2016-04-16  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tMake use of rectangle-preview custom variable.\n\n\tlisp/rect.el (rectangle--string-preview): Only create a preview if\n\trectangle-preview is non-nil (Bug#23248).\n\n2016-04-16  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tMake use of rectangle-preview face.\n\n\t* lisp/rect.el (rectangle--string-preview):\n\t(rectangle--highlight-for-redisplay): Replace 'region with\n\t'rectangle-preview (Bug#23248).\n\n2016-04-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tUse 'grep-find-program' in check-declare.el\n\n\t* lisp/emacs-lisp/check-declare.el (check-declare-directory): Use\n\t'grep-find-program', not 'find-program'.\n\n2016-04-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove \"C-h S\" for cl-lib symbols\n\n\t* lisp/info-look.el: Add cl.info lookup to emacs-lisp-mode related\n\tmanuals.  (Bug#23289)\n\n2016-04-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix minor issues with removing left or right fringes\n\n\t* lisp/window.el (window-max-chars-per-line): Account for\n\t'left-fringe-width' and 'right-fringe-width' variables.\n\n\t* doc/lispref/windows.texi (Window Sizes): Document the effect on\n\twindow text width when setting the width of one or both fringes to\n\tzero.\n\t* doc/emacs/display.texi (Fringes): Document the effect on window\n\ttext width when setting the width of one or both fringes to zero.\n\t(Bug#22891)\n\n2016-04-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tSpeed up redisplay in ansi-term mode\n\n\t* lisp/term.el (ansi-term): Force L2R 'bidi-paragraph-direction'.\n\t(Bug#20611)\n\n2016-04-16  Philipp Stephani  <phst@google.com>\n\n\tSimplify 8-bit character handling by terminal for 'raw-text'\n\n\t* lisp/international/mule.el (set-keyboard-coding-system): Treat\n\t'raw-text' as another coding type that requires 8-bit characters.\n\t* lisp/xt-mouse.el (xterm-mouse--read-coordinate): Use 'no-conversion'\n\tinstead of 'latin-1'.\n\n2016-04-15  Glenn Morris  <rgm@gnu.org>\n\n\t* configure.ac (HAVE_MODULES): Treat gnu like gnu-linux.  (Bug#22722)\n\n2016-04-15  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix w32 memory-management problem when extending buffer text\n\n\t* src/w32heap.c (mmap_realloc): Only attempt extending a region if\n\tthe following region has the same allocation base.  Also, use the\n\toriginal allocation base and enlarged size to commit reserved\n\tmemory, to ensure that the allocation base stays at its original\n\tvalue.  This fixes several hard-to-debug problems whereby part of\n\tbuffer text was overwritten with binary nulls, because\n\tmmap_realloc copied only part of buffer text when extending it.\n\tSee\n\thttps://lists.gnu.org/r/emacs-devel/2016-04/msg00325.html\n\tand https://debbugs.gnu.org/cgi/bugreport.cgi?bug=23223#55 for two\n\texamples of the related problems.\n\n2016-04-14  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix Bug#20637.  Do not merge to master\n\n\t* lisp/vc/vc-hooks.el (vc-state, vc-working-revision):\n\tUse `vc-backend' instead of `vc-responsible-backend'.  (Bug#20637)\n\n\t* test/automated/vc-tests.el (vc-test--state)\n\t(vc-test--working-revision): Deactivate now failing checks.\n\n2016-04-14  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tsubstitute-command-keys keeps quotes\u2019 text props\n\n\tProblem reported by Cl\u00e9ment Pit--Claudel (Bug#23254).\n\t* src/doc.c: Include intervals.h.\n\t(Fsubstitute_command_keys): If the only substitutions are for\n\tquotes, copy the source string\u2019s text properties too, since no\n\tsubstring lengths have changed.\n\n2016-04-13  YAMAMOTO Mitsuharu  <mituharu@math.s.chiba-u.ac.jp>\n\n\t* src/xwidget.c (x_draw_xwidget_glyph_string): More clipping fixes.\n\n2016-04-12  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tAdd semantic-symref-filepattern-alist entry for lisp-interaction-mode\n\n\t* lisp/cedet/semantic/symref/grep.el\n\t(semantic-symref-filepattern-alist):\n\tAdd entry for lisp-interaction-mode\n\t(https://debbugs.gnu.org/cgi/bugreport.cgi?bug=23223#47)\n\n2016-04-12  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tPerform xref searches without visiting unopened files\n\n\t* lisp/progmodes/xref.el (xref-collect-references): Instead of\n\tcalling `semantic-symref-find-references-by-name', use\n\t`semantic-symref-instantiate' and `semantic-symref-perform-search'\n\tdirectly.  Ask for `line-and-text' results (bug#23223).\n\t(xref-collect-matches): Include the line text in the \"hit\"\n\tstructure.\n\t(xref--convert-hits): New function, split off from\n\t`xref-collect-references' and `xref-collect-matches', to convert\n\t\"hits\" to xref instance list.  Create a temporary buffer here, to\n\tuse it for post-processing all hit lines.\n\t(xref--collect-matches): Use a different approach for non-visited\n\tfiles.  Insert the line text into the temp buffer, apply the\n\tfile's major mode the best we can without reading its whole\n\tcontents, syntax-propertize, and search in the result.\n\t(xref--collect-matches-1): Extract, to handle the common logic\n\tbetween two cases.\n\t(xref--find-buffer-visiting): New function, a wrapper around\n\t`find-buffer-visiting' to amortize its cost.\n\n\t* lisp/cedet/semantic/symref/idutils.el\n\t(semantic-symref-idutils--line-re): New constant.\n\t(semantic-symref-parse-tool-output-one-line): Support result type\n\t`line-and-text'.\n\n\t* lisp/cedet/semantic/symref/grep.el\n\t(semantic-symref-grep--line-re)\n\t(semantic-symref-parse-tool-output-one-line): Same.\n\n\t* lisp/cedet/semantic/symref/cscope.el\n\t(semantic-symref-cscope--line-re)\n\t(semantic-symref-parse-tool-output-one-line): Same.\n\n\t* lisp/cedet/semantic/symref/global.el\n\t(semantic-symref-global--line-re)\n\t(semantic-symref-parse-tool-output-one-line): Same.\n\n2016-04-12  Phillip Lord  <phillip.lord@newcastle.ac.uk>\n\n\tRevert \"Prevent bootstrap autoload backup files\"\n\n\tThis reverts commit c23c965bb9d0a4bcc1b6158833ff99aa20fd53e9.\n\n2016-04-12  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tImprove time zone documentation\n\n\t* doc/lispref/os.texi (Time Zone Rules):\n\tNew section, mostly with material moved here from other sections.\n\t* doc/emacs/cmdargs.texi (General Variables):\n\t* doc/lispref/os.texi (Time Conversion, Time Parsing):\n\tXref new section.\n\t* etc/NEWS, etc/PROBLEMS:\n\t* lisp/org/org.el (org-timestamp-format):\n\t* src/editfns.c (Fformat_time_string, Fdecode_time)\n\t(Fencode_time, Fcurrent_time_string, Fcurrent_time_zone)\n\t(Fset_time_zone_rule):\n\tWhen documenting time zone rule strings, mention the TZ\n\tenvironment variable in preference to mentioning the\n\tsort-of-internal function set-time-zone-rule.\n\n2016-04-12  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\tPrevent bootstrap autoload backup files\n\n\t * lisp/emacs-lisp/autoload.el (autoload-find-generated-file): Suppress\n\t   backups in newly created file.\n\n\t  (autoload-ensure-default-file): Function split into two.\n\t  (autoload-ensure-file-writeable): New function from split.\n\n\t  (Bug#23203)\n\n2016-04-11  YAMAMOTO Mitsuharu  <mituharu@math.s.chiba-u.ac.jp>\n\n\tDisable multicolor fonts on OS X since they are not supported on free systems\n\n\t* src/macfont.m (macfont_list): Don't use color bitmap fonts.\n\n2016-04-11  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tCapitalize \u201cUniversal Time\u201d in documentation\n\n\tIt\u2019s a proper noun.\n\t* lisp/vc/add-log.el (add-log-time-zone-rule): Also, fix typo by\n\tmentioning \u2018format-time-string\u2019 instead of \u2018set-time-zone-rule\u2019.\n\n2016-04-11  Eli Zaretskii  <eliz@gnu.org>\n\n\tDon't use 'find-program'\n\n\t* lisp/progmodes/project.el (project-file-completion-table): Use\n\t'grep-find-program', rather than the obsolete 'find-program'.\n\n2016-04-11  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSync with gnulib\n\n\tThis is for picky compilers whose stdint.h fails our C11 tests.\n\tProblem reported for clang by Philipp Stephani (Bug#23261).\n\tThis incorporates:\n\t2016-04-11 stdint: port to strict C11 left shift\n\t* doc/misc/texinfo.tex, lib/stdint.in.h: Copy from gnulib.\n\n2016-04-11  Leo Liu  <sdl.web@gmail.com>\n\n\tFix last change on 2016-01-02\n\n\t* lisp/emacs-lisp/lisp-mode.el (lisp-el-font-lock-keywords-2): Move\n\t  `cl-errs-re' before `lisp--el-match-keyword'; don't use `prepend'\n\t  which highlights `cl-errs-re' even in comments or strings.\n\n2016-04-11  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort run-prolog EMACS to SWI-Prolog 7.2.3\n\n\t* lisp/progmodes/prolog.el (prolog-ensure-process):\n\tWork around incompatibility of SWI-Prolog 7.2.3 and earlier\n\twith the new way of dealing with the EMACS and INSIDE_EMACS\n\tenvironment variables.\n\n2016-04-10  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid crashes due to unreasonably large or small text scaling\n\n\t* lisp/face-remap.el (text-scale-min-amount)\n\t(text-scale-max-amount): New functions.\n\t(text-scale-set, text-scale-increase): Use them to limit the text\n\tscaling to a reasonable range of values.  (Bug#23259)\n\n2016-04-10  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of 'with-eval-after-load'\n\n\t* lisp/subr.el (with-eval-after-load): Doc fix.  (Bug#23258)\n\n2016-04-10  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove handling of non-ASCII characters in Git log messages\n\n\t* lisp/vc/vc-git.el (vc-git-commits-coding-system): Now a defcustom.\n\t(vc-git-log-output-coding-system): New defcustom.\n\t(vc-git-print-log, vc-git-command, vc-git--call): Use\n\t'vc-git-log-output-coding-system' for reading stuff from Git.\n\tDon't override values of 'coding-system-for-read/write' if they\n\tare bound by caller -- this allows the user to force an encoding\n\tvia \"C-x RET c\".\n\t(vc-git-checkin): On MS-Windows, pass the log message via a\n\ttemporary file, to work around the limitations on passing\n\tnon-ASCII characters via command-line arguments.  Force using the\n\t'locale-coding-system' for Git command-line arguments.  This fixes\n\tproblems with non-ASCII commit log messages on MS-Windows.\n\t(Bug#23076)\n\n\t* etc/NEWS: Mention the new vc-git related defcustoms.\n\n2016-04-09  Philipp Stephani  <phst@google.com>\n\n\tRemove undefined behavior in OS X dumper.\n\n\tFound by Address Sanitizer.\n\n\t* src/unexmacosx.c (unexec_write): Use Mach virtual memory API to\n\tavoid undefined behavior when reading arbitrary memory.\n\n2016-04-09  Joakim Verona  <joakim@verona.se>\n\n\tFix clipping of xwidgets\n\n\t* src/xwidget.c (x_draw_xwidget_glyph_string): Use window_box\n\tinstead of calculating the clipping borders manually.  Suggested\n\tby YAMAMOTO Mitsuharu <mituharu@math.s.chiba-u.ac.jp>.\n\n2016-04-09  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove Lisp-level documentation of tooltips\n\n\t* doc/lispref/display.texi (Tooltips): New section.  (Bug#23246)\n\t(Display): Update the chapter menu.\n\t* doc/lispref/text.texi (Special Properties): Make the \"tooltip\"\n\tindex entry more concrete.  Change the cross-reference to point to\n\t\"Tooltips\" in the ELisp manual.\n\t* doc/lispref/elisp.texi (Top): Update the master menu.\n\t* doc/emacs/frames.texi (Tooltips): Include more customization\n\tvariables.  Add a cross-reference to the ELisp manual.\n\n2016-04-08  Glenn Morris  <rgm@gnu.org>\n\n\tFaces names should not end in \"-face\".\n\n\t* lisp/rect.el (rectangle-preview): Rename from rectangle-preview-face.\n\t* lisp/vc/vc-hooks.el (vc-state-base): Rename from vc-state-base-face.\n\n2016-04-08  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* src/xsmfns.c (syms_of_xsmfns): Remove stray \"s in doc strings.\n\n2016-04-08  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tComint and compile no longer set EMACS\n\n\tThis mostly restores the change that I reverted on March 23,\n\tfixing most of Bug#20202.  The only part of the change that is\n\tstill reverted is the change to M-x term, where compatibility with\n\tcurrent Bash constrains us from moving too quickly (Bug#20484).\n\tProblem reported by Phillip Lord in: https://bugs.gnu.org/20484#108\n\t* etc/NEWS: Document this.\n\t* lisp/comint.el (comint-exec-1):\n\t* lisp/net/tramp-sh.el (tramp-remote-process-environment):\n\t* lisp/progmodes/compile.el (compilation-start):\n\tDon\u2019t set EMACS=t in the subsidiary process.\n\n2016-04-08  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/subr.el (read-key): Don't let the prompt linger (bug#22714)\n\n2016-04-08  Eli Zaretskii  <eliz@gnu.org>\n\n\tAllow to customize names of executables used by grep.el\n\n\t* lisp/progmodes/grep.el (grep-find-program): Renamed from\n\t'find-program', which was a variable.  All uses changed.\n\t(grep-xargs-program): Renamed from 'xargs-program', which was a\n\tvariable.  All uses changed.\n\t(grep-program): Now a defcustom rather than a simple variable.\n\t(Bug#23219)\n\n2016-04-08  Alan Third  <alan@idiocy.org>\n\n\tSet locale encoding to UTF-8 when run from OS X GUI.\n\n\t* src/nsterm.m (ns_init_locale): Append .UTF-8 when setting LANG.\n\n2016-04-08  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid signaling errors in 'M-n' at the 'C-x C-f' prompt\n\n\t* lisp/ffap.el (ffap-guess-file-name-at-point): Ignore errors\n\twhile 'ffap-guesser' runs.  (Bug#23218)\n\n2016-04-08  Marcin Borkowski  <mbork@mbork.pl>\n\n\tAvoid infinite loop in 'studlify-word'\n\n\t* lisp/play/studly.el (studlify-region): Call\n\t'forward-word-strictly' and 'backward-word-strictly' instead of\n\t'forward-word' and 'backward-word'.  (Bug#19940)\n\n2016-04-07  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDon\u2019t recommend obsolete EMACS env var\n\n\t* doc/misc/efaq.texi (Escape sequences in shell output):\n\tRemove long-obsolete (and now-confusing) notes about\n\tthe EMACS environment variable in Emacs 21.1 and earlier.\n\t* doc/misc/efaq.texi (^M in the shell buffer):\n\t* etc/PROBLEMS:\n\tRemove obsolescent recommendation to consult the EMACS environment\n\tvariable.\n\n2016-04-07  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/emacs-lisp/package.el: Change from a few days ago needs seq.\n\n\t* lisp/emacs-lisp/seq.el: Load cl-lib, not cl-extra.\n\n2016-04-07  Leo Liu  <sdl.web@gmail.com>\n\n\tFix \"Beginning of buffer\" error in forward-page\n\n\t* lisp/textmodes/page.el (forward-page): Check before move to prevent\n\t  \"Beginning of buffer\" error.\n\n2016-04-06  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tAdd a `transient' project type\n\n\t* lisp/progmodes/project.el (project-roots): Implement for the\n\t`transient' project type (bug#23224).\n\t(project-current): Instead of signaling an error, return a\n\ttransient project instance rooted in the chosen directory.\n\n2016-04-06  Lars Magne Ingebrigtsen  <larsi@gnus.org>\n\n\tRevert \"Backport HTTPS proxy fix\"\n\n\tThis reverts commit 2d1a6054b161bd1055d4feb11c8c5ac95543f5db.\n\n\tIt's too late in the Emacs 25 release cycle to add things like this to\n\tEmacs 25.1.  It's border line new feature.\n\n2016-04-06  Tao Fang  <fangtao0901@gmail.com>\n\n\tBackport HTTPS proxy fix\n\n\tCherry-picked from 3c623c26ae7d695746e05d8a2e16a67a6256b024\n\n\tBackport:\n\n2016-04-06  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix stability confusion in sort-tests\n\n\tProblem reported by Philipp Stephani (Bug#23205).\n\t* test/automated/sort-tests.el:\n\t(sort-tests--insert-words-sort-and-compare):\n\tDon\u2019t assume that reversing a sorted list is the same\n\tas sorting with the reverse predicate.  This is not true\n\tfor stable sorts when items compare equal.\n\n2016-04-05  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tAvoid describe-key error with lambdas\n\n\tProblem reported by Sho Takemori (Bug#22716).\n\t* lisp/cedet/mode-local.el (describe-mode-local-overload)\n\t(xref-mode-local-overload): Use function-overload-p instead\n\tof assuming the argument is a symbol.\n\n2016-04-04  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el (package-install-selected-packages):\n\n\tSkip unavailable packages.\n\n2016-04-04  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSync with gnulib\n\n\tThis incorporates:\n\t2016-04-03 stdint: detect good enough pre-C++11 stdint.h in C++ mode\n\t2016-04-01 stddef: support configuring with g++\n\t* doc/misc/texinfo.tex, lib/stddef.in.h, m4/stdint.m4:\n\tCopy from gnulib.\n\n2016-04-03  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix doc for Universal Time\n\n\t* doc/lispref/os.texi (Time of Day, Time Conversion):\n\tBe more careful about distinguishing UTC (which is not valid for\n\tpre-1961 time stamps) and UT (which is).\n\t(Time Parsing): Remove stray obsolete paragraph about a\n\tUNIVERSAL argument for \u2018format-time-string\u2019.\n\n2016-04-03  Michael Albinus  <michael.albinus@gmx.de>\n\n\tHandle Bug#23186\n\n\t* lisp/net/tramp.el (tramp-encoding-command-switch)\n\t(tramp-encoding-command-interactive):\n\t* lisp/net/tramp-sh.el (tramp-maybe-open-connection):\n\t`tramp-encoding-shell' could be nil.  (Bug#23186)\n\n2016-04-03  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMore format-time-string change fixups\n\n\t* lisp/net/tramp-sh.el (tramp-sh-handle-set-file-times):\n\t* lisp/org/org.el (org-timestamp-format):\n\tFix doc to match new format-time-string behavior.\n\t* lisp/org/ox-icalendar.el (org-icalendar-convert-timestamp):\n\tUse (not (not X)) to treat non-nil values of utc arg as UTC.\n\n2016-04-02  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tmake-xwidget unused arg cleanup\n\n\t* doc/lispref/display.texi (Xwidgets): Remove stray refs.\n\t* src/xwidget.c (syms_of_xwidget): Qwebkit, not Qwebkit_osr.\n\n2016-04-02  Joakim Verona  <joakim@verona.se>\n\n\tRemove unused arguments from make-xwidget\n\n\tThe arguments BEG and END were unused, and are now removed.\n\n\t* doc/emacs/display.texi (Xwidgets): Document the change\n\t* lisp/xwidget.el (make-xwidget, xwidget-insert)\n\t(xwidget-webkit-new-session): Reflect changed arguments\n\t* src/xwidget.c (Fmake_xwidget, syms_of_xwidget): Reflect changed arguments\n\n2016-04-02  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument incompatible changes in 'format-time-string'\n\n\t* etc/NEWS: Mention the incompatible change in the interpretation\n\tof the 3rd argument to 'format-time-string'.  (Bug#21943)\n\n2016-04-02  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of byte-code objects\n\n\t* doc/lispref/compile.texi (Byte-Code Objects): Document the\n\tinteger format of the argument descriptor.  (Bug#23061)\n\n2016-04-02  Eli Zaretskii  <eliz@gnu.org>\n\n\tAdapt calls to 'format-time-string' to changes in Emacs 25\n\n\t* lisp/vc/pcvs-info.el (cvs-fileinfo-from-entries): Use t as the\n\tlast argument to format-time-string.  (Bug#23128)\n\t* lisp/gnus/gmm-utils.el (gmm-format-time-string): Use t as the\n\tlast argument to format-time-string, when the TZ argument is not a\n\tnumber, per the doc string.\n\n2016-04-02  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove vc-diff with Git backend\n\n\t* lisp/vc/vc-git.el (vc-git-command): Don't override\n\tcoding-system-for-read/write if they are already bound.\n\tSuggested by joaotavora@gmail.com (Jo\u00e3o T\u00e1vora).  (Bug#20892)\n\t(vc-git-print-log): Don't override coding-system-for-read if it's\n\talready bound.\n\n2016-04-01  Dmitry Gutov  <dgutov@yandex.ru>\n\n\t(js--continued-expression-p): Special-case unary plus and minus\n\n\t* lisp/progmodes/js.el (js--continued-expression-p): Make an\n\teffort to recognize unary plus and minus, in the contexts where\n\tthey make sense (https://github.com/mooz/js2-mode/issues/322).\n\n2016-04-01  Alan Mackenzie  <acm@muc.de>\n\n\tPrevent C++ Mode wrongly fontifying some identifiers near templates as types\n\n\tThis fixes debbugs #7917.\n\n\t* lisp/progmodes/cc-engine.el (c-forward-keyword-prefixed-id): Accept 'maybe\n\t(from c-forward-type) as sufficient to record an id.  Record type id as well\n\tas ref ids.\n\t(c-forward-name): Bind c-last-identifier-range around the call to\n\tc-forward-<>-arglist to prevent it getting corrupted.  Don't automatically\n\tassume an identifier is a type when a template \">\" is followed by a \"(\".\n\t(c-forward-type): Don't automatically assume an identifier is a type when a\n\ttemplate \">\" is followed by a \"(\".\n\n\t* lisp/progmodes/cc-fonts.el (c-font-lock-<>-arglists): Don't fontify an\n\tidentifier as a type when its associated \">\" is followed by a \"(\".\n\n2016-04-01  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid crashes due to insanely large columns in tabulated-list-format\n\n\t* src/xdisp.c (append_stretch_glyph, produce_xwidget_glyph)\n\t(produce_image_glyph): Limit the pixel width of the produced glyph\n\tto SHRT_MAX.  (Bug#23178)\n\t(append_composite_glyph, append_glyph, append_glyphless_glyph):\n\tAdd assertions to verify that the pixel width of the glyph will\n\tnever overflow a 'short'.\n\t* src/term.c (append_composite_glyph): Add assertion to verify\n\tthat the pixel width of the glyph will never overflow a 'short'.\n\n2016-03-31  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tTeach M-x disassemble a default argument.\n\n\tAdopts default argument in the same way as `describe-function'.\n\t* lisp/emacs-lisp/disass.el (disassemble): Default to function at point,\n\tif any.\n\n2016-03-31  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix EOL decoding in vc-annotate with SVN back-end on MS-Windows\n\n\t* lisp/vc/vc-annotate.el (vc-annotate): Force DOS EOL decoding on\n\tMS-Windows and MS-DOS, when processing the output of \"svn annotate\".\n\n2016-03-31  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix OS X specific settings in tramp-tests\n\n\t* lisp/net/tramp-sh.el (tramp-maybe-open-connection): Use it.\n\n\t* lisp/net/tramp.el (tramp-get-local-locale): New defun.\n\n\t* test/automated/tramp-tests.el (tramp--test-darwin-p): Remove.\n\t(tramp--test-utf8): Improve settings of coding systems.\n\tDo not use `tramp--test-darwin-p' anymore.  (Bug#22145)\n\n2016-03-30  Alan Mackenzie  <acm@muc.de>\n\n\tFinish fixing a cacheing bug in CC Mode (see 2016-03-09)\n\n\t* lisp/progmodes/cc-cmds.el: (c-beginning-of-defun, c-end-of-defun): Remove\n\tsuperfluous invocations of c-self-bind-state-cache.\n\n\t* lisp/progmodes/cc-defs.el: (c-self-bind-state-cache): Copy and terminate\n\tmarkers correctly.\n\n\t* lisp/progmodes/cc-engine.el (c-record-parse-state-state): Terminate stale\n\tmarkers.\n\n2016-03-29  Xue Fuqiao  <xfq.free@gmail.com>\n\n\t* doc/lispref/text.texi (Columns): Remove a nonexistent reference.\n\n\tThe example was removed by Chong Yidong on Mar 5, 2012.\n\n2016-03-29  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* doc/man/emacsclient.1: Document +line:column option.\n\n2016-03-29  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix rare problems with echo-area display and multiple frames\n\n\t* src/xdisp.c (redisplay_window): Bind inhibit-redisplay non-nil\n\taround the call to x_consider_frame_title, to prevent\n\tresize_mini_window from undoing echo-area display.  (Bug#23124)\n\n2016-03-29  Alan Mackenzie  <acm@muc.de>\n\n\tIn M-%, avoid making buffer-local binding of text-property-default-nonsticky\n\n\tThis would happen when that variable already has a buffer local binding.  Such\n\ta binding would not be seen by read-from-minibuffer.  This fixes bug #23127.\n\n\t* lisp/replace.el (query-replace-read-from): Move the binding of\n\ttext-property-default-nonsticky to inside of a new with-current-buffer buffer\n\tform with the minibuffer as argument.\n\n2016-03-27  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tRemove prog-indentation-context\n\n\t* lisp/progmodes/prog-mode.el: (prog-indentation-context)\n\t(prog-first-column, prog-widen): Remove, as discussed in\n\thttps://lists.gnu.org/r/emacs-devel/2016-03/msg01425.html.\n\n\t* doc/lispref/text.texi (Mode-Specific Indent): Remove references\n\tto them.\n\n\t* etc/NEWS: Ditto.\n\n\t* lisp/progmodes/python.el: (prog-widen, prog-first-column):\n\tRemove the compatibility aliases and all uses.\n\n\tDo not merge to master.\n\n2016-03-27  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* src/font.c (QCuser_spec): Add missing colon to :user-spec.\n\n2016-03-27  Eli Zaretskii  <eliz@gnu.org>\n\n\tDon't start the 'midnight' timer twice\n\n\t* lisp/midnight.el (midnight-mode): Avoid starting the midnight\n\ttimer twice when activating the mode the first time.  (Bug#23123)\n\n2016-03-27  YAMAMOTO Mitsuharu  <mituharu@math.s.chiba-u.ac.jp>\n\n\t* src/xwidget.c (Fxwidget_resize): Fix inappropriate use of XFASTINT.\n\n2016-03-26  Stephen Berman  <stephen.berman@gmx.net>\n\n\tFix todo-mode category movement\n\n\t* lisp/calendar/todo-mode.el (todo-move-category): Use moved\n\tcategory's existing categories sexp instead of invoking\n\ttodo-update-categories-sexp in file moved to, in order to take\n\tarchived items into account.  If the moved category has archived\n\titems, handle the source archive buffer properly.  Remove\n\tsuperfluous code.\n\n2016-03-26  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/xt-mouse.el (xterm-mouse-utf-8): Add :version.\n\n2016-03-26  Eli Zaretskii  <eliz@gnu.org>\n\n\tIgnore non-nil. non-cons values of unread-command-events\n\n\t* src/keyboard.c (requeued_events_pending_p, read_char)\n\t(Finput_pending_p): Use CONSP instead of !NILP to see if there are\n\tunread command events to be processed.  (Bug#22976)\n\n2016-03-26  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentatuon of 'truncate-partial-width-windows'\n\n\t* src/xdisp.c (syms_of_xdisp) <truncate-partial-width-windows>:\n\tClarify in the doc string how the width of partial-width windows\n\tis computed for the purposes of truncation decision.  (Bug#4338)\n\n\t* doc/emacs/windows.texi (Split Window): Clarify how the width of\n\twindows is calculated for the purposes of truncation decision.\n\t* doc/emacs/display.texi (Line Truncation): Remove a redundant\n\tindex entry.\n\n2016-03-25  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* src/ftfont.c (ftfont_shape_by_flt): Parenthesize as per GNU style.\n\n2016-03-25  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix 'dired-goto-file' in Dired buffers produced by find-dired\n\n\t* lisp/dired.el (dired-goto-file): Try looking for the file as a\n\trelative name with leading sub-directories, before looking for the\n\tbasename alone.  (Bug#23089)\n\n2016-03-25  Nicolas Petton  <nicolas@petton.fr>\n\n\tFix map-put and map-delete for alists (Bug#23105)\n\n\t* lisp/emacs-lisp/map.el (map-put): Do not bind the evaluated place\n\texpression to a new symbol.\n\t* test/automated/map-tests.el: Add a regression test.\n\n2016-03-25  Eli Zaretskii  <eliz@gnu.org>\n\n\tMinor copyedits of documentation for temporary displays\n\n\t* doc/emacs/windows.texi (Temporary Displays): Improve indexing.\n\tMinor changes in wording.\n\t(Window Choice, Displaying Buffers, Pop Up Window): Disambiguate\n\tindex entries for 'display-buffer'.\n\n\t* etc/NEWS: Minor rewording of the entry about temporary displays.\n\n2016-03-25  Philipp Stephani  <phst@google.com>\n\n\tAdd customization option for using UTF-8 coordinates in xt-mouse\n\n\t* lisp/xt-mouse.el (xterm-mouse-utf-8): New customization option.\n\t(xterm-mouse--read-coordinate): New function to replace\n\t`xterm-mouse--read-utf8-char'; uses UTF-8 only if enabled.\n\t(xterm-mouse--read-number-from-terminal): Adapt to new name.\n\t(xterm-mouse-tracking-enable-sequence)\n\t(xterm-mouse-tracking-disable-sequence): Replace constants with\n\tfunctions, mark constants as obsolete.\n\t(xterm-mouse--tracking-sequence): New helper function.\n\t(turn-on-xterm-mouse-tracking-on-terminal): Use new functions;\n\tenable UTF-8 only if customization option says so; store UTF-8\n\tflag in terminal parameter.  (Bug#23009)\n\n\t* test/automated/xt-mouse-tests.el: Add tests for xt-mouse.el.\n\n2016-03-25  Eli Zaretskii  <eliz@gnu.org>\n\n\tMinor doc string fixes in replace.el\n\n\t* lisp/replace.el (query-replace, query-replace-regexp)\n\t(query-replace-regexp-eval, map-query-replace-regexp)\n\t(replace-string, replace-regexp): Clarify in doc strings that\n\tthese commands operate from point to the end of the buffer's\n\taccessible portion.  (Bug#23067)\n\n2016-03-25  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix scrolling upwards with 'xwidget-webkit-browse-url'\n\n\t* src/xwidget.c (Fxwidget_set_adjustment): Use CHECK_NUMBER instead\n\tof CHECK_NATNUM.  Suggested by Shayan Pirani <shayanpirani@gmail.com>.\n\t(Bug#22918)\n\n2016-03-25  K. Handa  <handa@gnu.org>\n\n\tFix display of Indic scripts\n\n\t* src/ftfont.c (ftfont_shape_by_flt): For combining characters out\n\tof the range U+300...U+36F, use the \"combining\" FLT only with\n\tnon-OTF fonts.\n\n2016-03-25  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix splash screen display at startup\n\n\t* src/frame.c (DEFAULT_ROWS): Enlarge to 36, so that the initial\n\twindow displayed by \"emacs -q\" has enough space to show the whole\n\ttext even if it includes 2 lines talking about recovering crashes\n\tsessions.  (Bug#23074)\n\n\t* lisp/startup.el (use-fancy-splash-screens-p): Fix off-by-one\n\terror when computing the window-height from frame-height.\n\n\t* etc/NEWS: Mention the change.\n\n2016-03-25  Martin Rudalics  <rudalics@gmx.at>\n\n\tDescribe temporary displays in Emacs manual\n\n\t* doc/emacs/emacs.texi (Temporary Displays): New subsubsection.\n\t* doc/emacs/windows.texi (Window Choice): Minor fixes.\n\t(Temporary Displays): New subsubsection describing display of\n\ttemporary buffers and `temp-buffer-resize-mode'.\n\n2016-03-24  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tAvoid stray As next to IDLW icons\n\n\t* lisp/progmodes/idlw-toolbar.el (idlwave-toolbar-add-everywhere):\n\tUse \"\" for empty labels, not \"a\", as the latter now displays stray\n\t\"A\"s (Bug#18997).\n\n2016-03-24  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tAvoid GTK 3 crash with icons and masks\n\n\tProblem reported by Mos\u00e8 Giordano (Bug#18997).\n\t* src/gtkutil.c (xg_get_pixbuf_from_pixmap): Remove.\n\t(xg_get_pixbuf_from_pix_and_mask): Do not use\n\txg_get_pixbuf_from_pixmap, as it is poorly documented.  Instead,\n\tinvoke XGetPixel directly.  This is slow but speed is not\n\timportant here.  Also, fail for unusual situations (not TrueColor,\n\tor images that are not 8 bits per sample) instead of displaying\n\tjunk or crashing.\n\n2016-03-24  Juri Linkov  <juri@linkov.net>\n\n\t* lisp/minibuffer.el (minibuffer-completion-help): Use fit-window-to-buffer\n\n\tinstead of shrink-window-if-larger-than-buffer.  (Bug#23092)\n\n2016-03-24  Eli Zaretskii  <eliz@gnu.org>\n\n\tDefine make_save_ptr_ptr unconditionally\n\n\t* src/alloc.c (make_save_ptr_ptr): Remove the !(defined\n\tUSE_X_TOOLKIT || defined USE_GTK) conditional.  Reported by\n\tPhilipp Stephani <phst@google.com>.  (Bug#23101)\n\n2016-03-24  Eli Zaretskii  <eliz@gnu.org>\n\n\tPreserve current buffer when popping up TTY menus\n\n\t* src/term.c (tty_menu_show): Be sure to save and restore the\n\tcurrent buffer around TTY menu pop-ups.  (Bug#23101)\n\n2016-03-24  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove font selection by family on MS-Windows\n\n\t* src/w32font.c (w32font_list_internal): Allow 'ascii-0' charset,\n\tin addition to 'iso10646-1', 'unicode-bmp', and 'unicode-sip'.\n\tThis avoids rejecting many font families whose members are shown\n\tby 'font-family-list', in particular 'courier' requested by\n\tinfo.el.  Without this change, many values of ':family' attribute\n\tof a face have no effect on MS-Windows, because they are rejected\n\tdue to bogus mismatch of the charset.\n\n2016-03-23  Paul Eggert  <eggert@penguin.cs.ucla.edu>\n\n\tComint, term, and compile now set EMACS\n\n\tThis fixes directory tracking in ansi-term, at the expense of\n\tbreaking some usages of 'configure'.  Setting EMACS is meant to be\n\ta somewhat temporary measure, until Bash 4.4 comes out and is\n\tcommon.  (Bug#20484).\n\t* etc/NEWS: Document this.\n\t* lisp/comint.el (comint-exec-1):\n\t* lisp/net/tramp-sh.el (tramp-remote-process-environment):\n\t* lisp/progmodes/compile.el (compilation-start):\n\t* lisp/term.el (term-exec-1):\n\tGo back to setting the EMACS environment variable, for backward\n\tcompatibility to Bash 4.3 and earlier.\n\n2016-03-23  Paul Eggert  <eggert@penguin.cs.ucla.edu>\n\n\tIgnore more merges when generating ChangeLog\n\n\t* build-aux/gitlog-to-emacslog: Ignore all merges from gnu.org,\n\tnot merely those from master and emacs-NN.  The ChangeLog entries\n\tthey generate are not that useful.\n\n2016-03-23  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSync with gnulib\n\n\tThis incorporates:\n\t2016-03-22 gitlog-to-changelog: suppress ignored chatter\n\t2016-03-21 sys_select: port to new Cygwin\n\t* build-aux/gitlog-to-changelog, doc/misc/texinfo.tex:\n\t* lib/sys_select.in.h: Copy from gnulib.\n\n2016-03-23  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tResurrect GNUS-NEWS autogeneration\n\n\t* doc/misc/gnus-coding.texi (Gnus Maintenance Guide): Update\n\tGNUS-NEWS section to match current file locations and procedure.\n\t* etc/GNUS-NEWS: Regenerate by using new procedure.\n\t* lisp/Makefile.in (update-gnus-news): New rule, containing a\n\tprocedure for building GNUS-NEWS.  The old procedure got lost\n\tsomehow when Gnus was merged into Emacs.\n\n2016-03-22  Anders Lindgren  <andlind@gmail.com>\n\n\tMake `toggle-frame-maximized' respect the dock on OS X (bug#22988).\n\n\t* src/nsterm.m (ns_screen_margins): New function.\n\t(ns_screen_margins_ignoring_hidden_dock): New function.\n\t(ns_menu_bar_height): Reimplement in terms of `ns_screen_margins'.\n\t([EmacsWindow zoom:]): Take all screen margins (except those\n\toriginating from a hidden dock) into account.\n\n2016-03-22  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix bug in displaying header line with a box face\n\n\t* src/xdisp.c (get_next_display_element): Handle the case when a\n\tdisplay string acquires the box face from an underlying string,\n\tnot from the buffer.  (Bug#23091)\n\n2016-03-21  Kaushal Modi  <kaushal.modi@gmail.com>\n\n\tFix an Isearch var to be a string (Bug#23038)\n\n\t* lisp/isearch.el (isearch--describe-regexp-mode): The `description' var\n\t  needs to always be a string.  Add the missing default case for the\n\t  cond form that ensures that.\n\n\tBefore this bug fix, for the events when `regexp-function' and\n\t`search-default-mode' both were nil, `description' also stayed nil.  So\n\twhen `space-before' was non-nil, the \"non-string\" `description'\n\t(with a value of nil) got passed as an argument to\n\t`replace-regexp-in-string' (where a string was expected).  That caused\n\tthe error described in Bug#23038.\n\n2016-03-21  Leo Liu  <sdl.web@gmail.com>\n\n\tFix (args-out-of-range 1) error in cursor-sensor--detect\n\n\t* lisp/emacs-lisp/cursor-sensor.el (cursor-sensor--detect): Don't\n\t  hard-code (point-min) as 1 which fails in narrowed buffers.\n\n2016-03-20  Lars Magne Ingebrigtsen  <larsi@gnus.org>\n\n\tRender empty <ul><li><ul> correctly\n\n\t* lisp/net/shr.el (shr-tag-ul): Render empty <ul><li><ul>\n\tcorrectly (bug#22964).\n\t(cherry picked from commit 4f6ea3988b66cf132c67fd0cc26d12eb9a300ba1)\n\n\tBackport:\n\n2016-03-20  Lars Magne Ingebrigtsen  <larsi@gnus.org>\n\n\tIgnore invalid base64 encoded embedded images\n\n\t* lisp/net/shr.el (shr-image-from-data): Ignore invalid base64\n\tencoded embedded images (bug#22928).\n\t(cherry picked from commit f2da80d0e1ccd121c4891e869a45aeb9c6b1795d)\n\n\tBackport:\n\n2016-03-20  Lars Magne Ingebrigtsen  <larsi@gnus.org>\n\n\tFix <p> and <div> newlines with or without <li> in shr\n\n\t* lisp/net/shr.el (shr-ensure-newline): Respect that we're in\n\ta <li>, if we are, and don't insert newlines there.\n\t(shr-ensure-paragraph): When mixing newlines and paragraph\n\tensurements, don't insert too many blank lines.\n\t(shr-tag-div): A <div> shouldn't introduce a paragraph, but a\n\tnew line.\n\t(cherry picked from commit 292921facaff2f02ac4e8602c1f7ecbdcfe7ef45)\n\n\tBackport:\n\n2016-03-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid errors in 'newline'\n\n\t* lisp/simple.el (newline): Don't barf if invoked with\n\tnon-positive argument in the middle of a line.  (Bug#22490)\n\n2016-03-19  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix Bug#23032\n\n\t* doc/misc/eshell.texi (Arguments): Mention the pipe symbol in\n\tremote file names.  (Bug#23032)\n\n2016-03-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tAdjudicate review comments in abbrevs.texi\n\n\t* doc/lispref/abbrevs.texi (Abbrev Files, Abbrev Expansion):\n\t* doc/emacs/abbrevs.texi (Dabbrev Customization): State the\n\tdefault values of variables.  Suggested by Steve Byrne\n\t<sbb@penguinis.org>.  (Bug#23016)\n\n\t* admin/release-process (Check manuals): Mark files reviewed by\n\tSteve Byrne.\n\n2016-03-18  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tFixup the \"normal\" matcher; highlight global var symbols, too\n\n\t* lisp/progmodes/ruby-mode.el (ruby-font-lock-keywords): Highlight\n\toperator name symbols with the \"normal\" matcher (it actually\n\tneeded updating).  Highlight global variable symbols, too.\n\n2016-03-18  Marcin Borkowski  <mbork@mbork.pl>\n\n\tHonor prefix arg in doc-view-next-line-or-next-page\n\n\t* lisp/doc-view.el (doc-view-next-line-or-next-page): Take the\n\tprefix argument into consideration when continuous scrolling is\n\tnot in effect (i.e., by default) (bug#19559).\n\n2016-03-18  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort to strict C99 offsetof\n\n\t* src/bidi.c (bidi_copy_it):\n\t* src/lisp.h (CHAR_TABLE_EXTRA_SLOTS):\n\tUse only a single identifier as the second argument of offsetof.\n\tFound by using clang -pedantic.\n\n2016-03-18  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort to GTK with strict C11 compiler\n\n\t* src/gtkutil.c (xg_create_frame_widgets, xg_toggle_notify_cb):\n\tCast from function type to void * where the C standard requires this.\n\tThis works around a problem in the prototypes for\n\tg_signal_handler_find and g_signal_handlers_block_by_func, which\n\tuse gpointer instead of GCallback.  Found by using gcc -pedantic.\n\n2016-03-18  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort to GTK with strict C99 compiler\n\n\t* src/emacsgtkfixed.c: Use workaround for GNOME bug 683906 only\n\tin glib 2.35.6 and earlier, since the bug is fixed in 2.35.7.\n\t* src/emacsgtkfixed.c (EmacsFixedPrivate):\n\t* src/emacsgtkfixed.h (EmacsFixedClass):\n\tRemove duplicate typedef, which strict C99 does not allow (Bug#23003).\n\n2016-03-17  Anders Lindgren  <andlind@gmail.com>\n\n\tAvoid screen artifacts with new OS X visible bell after scrolling\n\n\t* src/nsterm.m (EmacsBell): Save NSView when displaying the\n\tvisible bell and set `needsDisplay' when removed.\n\t(hide_bell): Trace.\n\t(ns_copy_bits): Trace.\n\n2016-03-17  Michael Albinus  <michael.albinus@gmx.de>\n\n\tSuppress some Tramp tests for OSX, do not merge with master\n\n\t* test/automated/tramp-tests.el (tramp--test-darwin-p): New defun.\n\t(tramp--test-utf8): Use it.  (Bug#22145)\n\n2016-03-17  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/progmodes/xref.el (xref-buffer-name, xref--window):\n\tMove definitions before use.\n\n\t* lisp/gnus/mm-decode.el (gnus-format-message): Autoload it.\n\n\t* lisp/mail/rmail.el (rmail-mime-entity-truncated): Declare.\n\n2016-03-17  Glenn Morris  <rgm@gnu.org>\n\n\tAddress compilation warnings due to 2016-01-03 mml refactoring.\n\n\t* lisp/gnus/mml-sec.el (password-cache, mm-encode): Require.\n\t(message-options-get): Autoload.\n\t(message-options-set): Declare.\n\t(mml-secure-cache-passphrase, mml-secure-passphrase-cache-expiry):\n\tSimplify default value.\n\t* lisp/gnus/mml-smime.el (message-options-set): Remove declaration.\n\t* lisp/gnus/mml1991.el, lisp/gnus/mml2015.el:\n\tNo longer a need for password-cache.\n\n2016-03-16  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/smie.el (smie-indent-keyword): Don't burp in strings\n\n\t(bug#22960).\n\n2016-03-16  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/dired-x.el (dired-omit-here-always): Correct error message\n\tfor 2016-01-25 change.\n\n\t* lisp/dired-x.el (dired-omit-here-always): Replace undefined function\n\tremoved 2016-01-30.\n\n\t* lisp/xml.el (xml-parse-tag-1): Replace undefined function.\n\n2016-03-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid segfaults due to frame image cache being absent\n\n\t* src/image.c (cache_image): If the frame doesn't have an image\n\tcache, create it.  (Bug#23028)\n\n2016-03-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of glyphless-character display\n\n\t* doc/emacs/display.texi (Text Display): Document and index the\n\t'glyphless-char' face.\n\n2016-03-16  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tSupport safe navigation operator in non-SMIE indentation code\n\n\t* lisp/progmodes/ruby-mode.el (ruby-calculate-indent):\n\tSupport safe navigation operator in non-SMIE indentation code.\n\tCherry-picked from\n\thttps://github.com/ruby/ruby/commit/68e16ddd7961b86e5013e62ae2954e88638de058.\n\n2016-03-16  Thomas Fitzsimmons  <fitzsim@fitzsim.org>\n\n\tMove xsd:base64Binary decoding fix to debbugs.el 0.9.1\n\n\t* lisp/net/soap-client.el (soap-encode-xs-basic-type): Do not\n\tassume xsd:base64Binary values are UTF-8 strings.\n\t(soap-decode-xs-basic-type): Likewise.\n\t(soap-invoke): Document xsd:base64Binary handling.\n\n2016-03-15  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tFix Ruby's operator precedence\n\n\t* lisp/progmodes/ruby-mode.el (ruby-smie-grammar):\n\tRearrange the smie-precs->prec2 form.\n\n2016-03-15  Dmitry Gutov  <dgutov@yandex.ru>\n\n\t(ruby-interpolation-inside-another-interpolation): New failing test\n\n\t* test/automated/ruby-mode-tests.el\n\t(ruby-interpolation-inside-another-interpolation):\n\tNew failing test.\n\n2016-03-15  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort to clang 3.7.0 on x86-64\n\n\t* configure.ac: Use AS_IF so that gl_WARN_ADD\u2019s prerequisites are\n\tnot done conditionally.  This helps clang, which needs\n\t-Wunknown-warning-option later when configured with warnings.\n\t* src/editfns.c (invalid_time): Now _Noreturn, since clang isn\u2019t\n\tsmart enough to figure this out on its own if warnings are enabled.\n\t(lisp_time_struct): Redo for clarity, and to pacify clang.\n\t* src/xfns.c (x_real_pos_and_offsets) [USE_XCB]: Don\u2019t use\n\tuninitialized locals.  This avoids undefined behavior and pacifies\n\tclang.\n\n2016-03-15  Glenn Morris  <rgm@gnu.org>\n\n\t* test/automated/package-test.el (package-test-signed): Tweak skip\n\tcondition, for hydra.\n\n2016-03-15  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSync with gnulib\n\n\tThis incorporates:\n\t2016-03-15 time_rz: port to clang -Wunused-const-variable\n\t2016-03-15 select: port more to Intel 2016.1.150 compiler\n\t* lib/sys_select.in.h, lib/time_rz.c: Copy from gnulib.\n\n2016-03-15  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix startup of \"emacs -nw\" on systems that CANNOT_DUMP\n\n\t* src/xdisp.c (syms_of_xdisp) <resize-mini-windows>: Initialize to\n\tnil.\n\n\t* lisp/loadup.el <resize-mini-windows>: Set to 'grow-only' after\n\tloading window.el.  (Bug#22975)\n\n2016-03-14  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tDo not tokenize a comment before continuation as ';'\n\n\t* lisp/progmodes/ruby-mode.el (ruby-smie--implicit-semi-p):\n\tAccount for a comment right after point.\n\n2016-03-14  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tDon't misindent arguments of a method call inside continuation\n\n\t* lisp/progmodes/ruby-mode.el (ruby-smie-rules):\n\tUse smie-indent-virtual instead of smie-rule-parent (bug#23015).\n\tSimplify the traversal loop.\n\n2016-03-14  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* src/keyboard.c (echo_keystrokes_p): Don't test cursor_in_echo_area\n\n\t(read_key_sequence): Test it here, as before.\n\t(bug#22825).\n\n2016-03-14  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tASCII-only etc/NEWS etc.\n\n\t* etc/NEWS, nextstep/README: Revert the recently-added curved\n\tquotes, and stick to ASCII.  This typically involves replacing\n\tcurved with straight quotes.  Since etc/NEWS is viewed so often by\n\tUTF-8-ignorant tools, rewrite its non-ASCII text to spell out\n\tUnicode, e.g., replace \u2018\u2012\u2019 with \u2018U+2012 (FIGURE DASH)\u2019.\n\n2016-03-14  Alan Mackenzie  <acm@muc.de>\n\n\tFix a cacheing bug, which led to inordinately slow c-beginning-of-defun.\n\n\t* lisp/progmodes/cc-defs.el (c-self-bind-state-cache): New macro.\n\n\t* lisp/progmodes/cc-engine.el (c-ssb-lit-begin): Always call c-parse-state\n\trather than just using the cache variable c-state-cache.\n\t(c-syntactic-skip-backward): Invoke c-self-bind-state-cache to isolate calls\n\tto c-parse-state from other uses of the parse state cache.\n\n\t* lisp/progmodes/cc-cmds.el (c-beginning-of-defun, c-end-of-defun): Invoke\n\tc-self-bind-state-cache around the processing, replacing flawed bindings of\n\tc-state-cache.\n\n2016-03-14  Alan Mackenzie  <acm@muc.de>\n\n\tFix a cacheing bug, which led to inordinately slow c-beginning-of-defun.\n\n\t* lisp/progmodes/cc-defs.el (c-self-bind-state-cache): New macro.\n\n\t* lisp/progmodes/cc-engine.el (c-ssb-lit-begin): Always call c-parse-state\n\trather than just using the cache variable c-state-cache.\n\t(c-syntactic-skip-backward): Invoke c-self-bind-state-cache to isolate calls\n\tto c-parse-state from other uses of the parse state cache.\n\n\t* lisp/progmodes/cc-cmds.el (c-beginning-of-defun, c-end-of-defun): Invoke\n\tc-self-bind-state-cache around the processing, replacing flawed bindings of\n\tc-state-cache.\n\n2016-03-14  Kaushal Modi  <kaushal.modi@gmail.com>\n\n\tFix Isearch prompt when invoked with an argument\n\n\t* lisp/isearch.el (isearch--describe-regexp-mode): With\n\t`search-default-mode' set to nil, if user does C-u C-s, the minibuffer\n\tnow displays \"Regexp I-search: \" again.  But if the user has set\n\t`search-default-mode' to t, and then does C-s, the minibuffer now\n\tdisplays \"I-search: \" because the default search mode is now regexp\n\tmode.  Comments have been added to explain the priority of conditions\n\tin the `cond' form.  (Bug#22991)\n\n2016-03-14  Cesar Quiroz  <cesar.quiroz@gmail.com>  (tiny change)\n\n\tFix a typo in the Emacs manual\n\n\t* doc/emacs/maintaining.texi (VC Directory Commands): Fix a typo\n\tin a command name.\n\n2016-03-14  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tCurved quotes in etc/NEWS etc.\n\n\t* etc/NEWS, nextstep/README: Prefer curved quotes in the\n\trecently-changed text documentation.  See:\n\thttps://lists.gnu.org/r/emacs-devel/2016-03/msg00860.html\n\n2016-03-14  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix some single quotes in documentation\n\n\t* doc/emacs/anti.texi (Antinews): Avoid confusion in info and PDF\n\twhen documenting quoting styles.\n\t* etc/NEWS, nextstep/README: In these plain text files, quote\n\t'like this' consistently, rather than also (sometimes) \u2018like this\u2019\n\tor (more often) `like this'.\n\n2016-03-13  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tMake lisp-completion-at-point's argument optional\n\n\t* lisp/progmodes/elisp-mode.el (lisp-completion-at-point): Make\n\tthe argument optional, like it was before the rename.\n\n2016-03-13  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tTweak the left precedence of '=>'\n\n\t* lisp/progmodes/ruby-mode.el (ruby-smie-grammar): Tweak the left\n\tprecedence of '=>', to improve indentation and sexp navigation.\n\n2016-03-13  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tIndent '.' relative to the first sibling expression\n\n\t* lisp/progmodes/ruby-mode.el (ruby-smie-rules):\n\tIndent '.' relative to the first sibling expression, instead of the\n\tparent token (bug#17213).\n\n2016-03-13  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tMake '.' associative, for easier sexp navigation\n\n\t* lisp/progmodes/ruby-mode.el (ruby-smie-grammar):\n\tMake '.' associative, for easier sexp navigation.\n\n2016-03-13  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\tRevert \"Simplify \"Visit New File\" to \"New File\"\"\n\n\tThis reverts commit d457fd9dc782465e1547f74021390c9d5951d6af.\n\n2016-03-12  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\tSimplify \"Visit New File\" to \"New File\"\n\n\t* doc/emacs/files.texi, lisp/menu-bar.el (menu-bar-file-menu),\n\t  lisp/startup.el(normal-mouse-start-screen,\n\t  normal-no-mouse-startup-screen): Change label \"Visit New File\" to \"New\n\t  File\".\n\n2016-03-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tUpdate Unicode notes for importing a new Unicode version\n\n\t* admin/notes/unicode: Mention the need to update otf-script-alist\n\tin fontset.el when importing data files from a new Unicode\n\tversion.\n\n2016-03-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tImport new data files from Unicode 9.0.0beta\n\n\t* admin/unidata/UnicodeData.txt:\n\t* admin/unidata/Blocks.txt:\n\t* admin/unidata/BidiMirroring.txt:\n\t* admin/unidata/BidiBrackets.txt: Update from Unicode 9.0.0beta.\n\t* admin/unidata/unidata-gen.el (unidata-gen-files): Bind\n\t'coding-system-for-read' to 'utf-8, as various Unicode data files\n\tnow actually use non-ASCII characters.\n\t(unidata-setup-list, unidata-get-name): Support the new Tangut\n\tIdeographs block.\n\n\t* lisp/international/characters.el (standard-case-table): Add new\n\tcharacters from Unicode 9.0.0.\n\t(standard-category-table): Add Arabic block u+08A0..u+08FF.  Add\n\tCyrillic Extended-C block.\n\t(char-width-table): Update ranges per Unicode 9.0.0.\n\t* lisp/international/fontset.el (script-representative-chars): Add\n\tnew scripts defined by Unicode 9.0.0.\n\t(otf-script-alist): Add new OTF script tags.\n\t* lisp/international/mule-cmds.el (ucs-names): Update ranges per\n\tUnicode 9.0.0 additions.\n\n2016-03-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid errors in forms-mode when default major mode is text\n\n\t* lisp/forms.el (forms-mode): Bind\n\tchange-major-mode-with-file-name to nil when calling\n\tset-visited-file-name.  (Bug#22982)\n\n2016-03-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid crashes at startup on systems that CANNOT_DUMP\n\n\t* src/xdisp.c (syms_of_xdisp) <redisplay--inhibit-bidi>: New\n\tboolean variable.\n\t(init_iterator, reseat_to_string)\n\t(Fcurrent_bidi_paragraph_direction)\n\t(Fbidi_find_overridden_directionality): Use\n\tredisplay--inhibit-bidi instead of purify-flag, to determine when\n\tit's safe to reorder bidirectional text.\n\n\t* lisp/loadup.el (redisplay--inhibit-bidi): Set to t at the\n\tbeginning of the file.  Reset to nil when charprop.el is\n\tsuccessfully loaded, or when we are going to dump, whichever\n\thappens last.  (Bug#22975)\n\n2016-03-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix documentation of seq.el functions\n\n\t* doc/lispref/sequences.texi (Sequence Functions): Fix typos.  Add\n\tcross-references.  Fix formatting.  (Bug#22992)\n\n2016-03-11  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tSupport Ruby 2.3.0's safe navigation operator\n\n\t* lisp/progmodes/ruby-mode.el (ruby-smie--forward-token)\n\t(ruby-smie--backward-token): Tokenize '&.' as '.'.\n\t(ruby-smie--implicit-semi-p): Check for possible '&' before '.'.\n\n\t* test/indent/ruby.rb: Add an example using safe navigation\n\toperator.  Fix a syntax error in existing example.\n\n2016-03-11  John Wiegley  <johnw@newartisans.com>\n\n\tUpdate Emacs manual section related to character folding\n\n\t* doc/emacs/search.texi: Character folding is not on by default.\n\n2016-03-11  Eli Zaretskii  <eliz@gnu.org>\n\n\tUpdate admin/notes/unicode\n\n\t* admin/notes/unicode: Update the list of files from the UCD we\n\tare using.  Mention the possible need to change 'ucs-names' when\n\timporting a new version of the Unicode Standard.\n\n2016-03-10  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tAdd symref-filepattern entries for c?perl-mode\n\n\t* lisp/cedet/semantic/symref/grep.el\n\t(semantic-symref-filepattern-alist): Add entries for perl-mode and\n\tcperl-mode.\n\n2016-03-10  Ken Raeburn  <raeburn@raeburn.org>\n\n\tDon't use XRANDR 1.3 extensions if the server doesn't support them.\n\n\t* src/xterm.h (struct x_display_info): Add fields to save XRANDR\n\tversion number.\n\t* src/xfns.c (x_get_monitor_attributes): Save the version numbers\n\tafter querying the X server.\n\t(x_get_monitor_attributes_xrandr): Don't use XRRGetOutputPrimary or\n\tXRRGetScreenResourcesCurrent if the server doesn't support at least\n\tRANDR version 1.3.  Conditionalize the code blocks on compiling\n\tagainst library version 1.3 or better, rather than feature tests for\n\teach function.\n\t* configure.ac: Stop testing for those two functions.\n\n2016-03-10  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSync with gnulib\n\n\tThis incorporates:\n\t2016-03-08 intprops: make .h file license match module\n\t2016-03-08 acl: fix missing return on Cygwin\n\t2016-03-05 extern-inline: port to PGI CC\n\t* doc/misc/texinfo.tex, lib/intprops.h, lib/set-permissions.c:\n\t* m4/extern-inline.m4:\n\tCopy from gnulib.\n\n2016-03-10  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRework C source files to avoid ^(\n\n\tWork around Bug#22884 by rewording comments and strings to avoid \u2018(\u2019\n\tat the start of a line unless it starts a function.  This change\n\tis a short-term hack; in the longer run we plan to fix cc-mode\u2019s\n\tperformance for C files that have \u2018(\u2019 at the start of a line in a\n\tcomment or string.\n\n2016-03-10  Eli Zaretskii  <eliz@gnu.org>\n\n\tBy default, etags produces unqualified Perl tag names\n\n\t* lib-src/etags.c (Perl_functions): Produce unqualified names,\n\tunless -Q was specified.\n\t(print_help): Update the description of -Q.\n\n\t* doc/man/etags.1: Update the documentation of -Q.\n\n\t* test/etags/ETAGS.good_1:\n\t* test/etags/ETAGS.good_2:\n\t* test/etags/ETAGS.good_3:\n\t* test/etags/ETAGS.good_4:\n\t* test/etags/ETAGS.good_5:\n\t* test/etags/CTAGS.good: Adapt the expected test results to the\n\tchanged Perl functionality.\n\n2016-03-10  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tIndent methods with keyword names correctly\n\n\t* lisp/progmodes/ruby-mode.el (ruby-smie--at-dot-call):\n\tRename to ruby-smie--before-method-name.  Now also check if we're\n\tafter a 'def' keyword.  Update both callers.\n\n2016-03-10  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tPropertize character literals and special global variables differently\n\n\t* lisp/progmodes/ruby-mode.el (ruby-syntax-propertize): Propertize\n\tcharacter literals and global variables with special names with\n\tprefix and symbol syntax classes, for SMIE to tokenize them\n\ttogether automatically.\n\t(ruby-font-lock-keywords): Fix an old regression in highlighting\n\tcharacter literals.\n\n2016-03-09  John Wiegley  <johnw@newartisans.com>\n\n\tChange how /etc/NEWS presents character folding\n\n\t* NEWS: Note that character folding is no longer the default.\n\n2016-03-09  John Wiegley  <johnw@newartisans.com>\n\n\tRevert \"Revert \"Backport: * lisp/isearch.el: Turn char-folding off by default\"\"\n\n\tThis reverts commit a91b4b51ddf2575d821adb8b84fdf32cff83886e.\n\n2016-03-09  Andreas Schwab  <schwab@linux-m68k.org>\n\n\tProperly handle lambda as read function (bug 22961)\n\n\t* src/lread.c (readchar): Be more strict about checking for\n\tstring in cons for read_vector.\n\t(unreadchar): Likewise.\n\n2016-03-09  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tPropertize operator symbol names with symbol syntax class\n\n\t* lisp/progmodes/ruby-mode.el (ruby-syntax-propertize):\n\tDo it here.\n\t(ruby-font-lock-keywords): Instead of handling them here.  Leave\n\thighlighting them to the \"normal\" matcher, because now we can.\n\t(ruby-smie--forward-token, ruby-smie--backward-token):\n\tLikewise, don't special-case operator symbols anymore.\n\t(ruby-smie--args-separator-p): Simplify the regexp, match operator\n\tnames with \\s_.\n\t(ruby-smie--implicit-semi-p): Handle the special cases of ? and =\n\tat EOL the same way: check if the character has been assigned the\n\tsymbol syntax class by syntax-propertize.\n\n2016-03-09  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tStop recognizing :#{} as symbol in ruby-mode\n\n\t* lisp/progmodes/ruby-mode.el (ruby-font-lock-keywords): Remove\n\tthe weird part that recognized colon followed by interpolation\n\tconstruct without quotes (e.g. ':#{abc}') as symbol, which is just a\n\tsyntax error in any modern version of Ruby.  Fix nearby bug reference.\n\n2016-03-09  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tAllow using the left shift operator without spaces on both sides\n\n\t* lisp/progmodes/ruby-mode.el (ruby-singleton-class-p): Rename to\n\truby-verify-heredoc, reverse the meaning of the return value, and\n\tshort-circuit if preceded by a symbol not separated by whitespace.\n\n\t* test/automated/ruby-mode-tests.el (ruby-no-heredoc-left-shift)\n\t(ruby-no-heredoc-class-self): New tests.\n\n2016-03-08  Andreas Schwab  <schwab@linux-m68k.org>\n\n\tProperly handle unquoting in wdired (bug 22938)\n\n\tThe recorded old names are not quoted, don't unquote them.\n\n\t* lisp/wdired.el (wdired-normalize-filename): Add argument\n\tunquotep, only unquote if non-nil.\n\t(wdired-get-filename): Don't unquote the old file name.\n\t(wdired-get-previous-link): Always unquote.\n\n2016-03-06  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tAllow splat operator before percent literal\n\n\t* lisp/progmodes/ruby-mode.el (ruby-syntax-propertize):\n\tAllow splat operator before percent literal.\n\n2016-03-06  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tDon't apply the return value of goto-char as syntax class\n\n\t* lisp/progmodes/ruby-mode.el (ruby-syntax-propertize): Don't\n\tapply the return value of goto-char as syntax class.\n\n2016-03-06  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tGuard against nested percent literals\n\n\t* lisp/progmodes/ruby-mode.el\n\t(ruby-syntax-propertize-percent-literal):\n\tDon't check the syntax status.\n\t(ruby-syntax-propertize): Check it here.  And also guard against\n\tbeing in a larger percent literal.\n\n\t* test/automated/ruby-mode-tests.el\n\t(ruby-no-nested-percent-literals): New test.\n\n2016-03-06  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tRecognize iuwu-mod after an escaped newline\n\n\t* lisp/progmodes/ruby-mode.el (ruby-smie--bosp): Check if the\n\tnewline is escaped.\n\t(ruby-smie-rules): Indent iuwu-mod after an escaped newline\n\tcorrectly.\n\n2016-03-06  Andreas Schwab  <schwab@linux-m68k.org>\n\n\tFix symbolic mode string conversion for s and t\n\n\t* lisp/files.el (file-modes-char-to-right): Fix values for ?s and\n\t?t.\n\t(file-modes-symbolic-to-number): Default to a for ts permissions.\n\n2016-03-06  Eli Zaretskii  <eliz@gnu.org>\n\n\tUpdate 'ucs-names' database\n\n\t* lisp/international/mule-cmds.el (ucs-names): Update used and\n\tunused ranges from the latest UnicodeData.txt.\n\n2016-03-06  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove doc string of 'shell-command'\n\n\t* lisp/simple.el (shell-command): Mention that COMMAND is prompted\n\tfor.  (Bug#22926)\n\n2016-03-06  Eli Zaretskii  <eliz@gnu.org>\n\n\tMake the code in movemail_strftime more general\n\n\t* lib-src/movemail.c (movemail_strftime): Transform the format\n\tstring passed by the caller instead of using a separate format\n\tstring.\n\n2016-03-06  Eli Zaretskii  <eliz@gnu.org>\n\n\tSpeed up redisplay of binary files with long series of nulls\n\n\t* src/bidi.c (bidi_resolve_weak): Avoid entering a loop searching\n\tfor a character needed for resolving the type of a series of BN\n\tand ET characters, as required by rule W5 of UAX#9, if the results\n\tof the resolution are known in advance, because we are at level\n\tzero, and the previous strong character was L.\n\t(bidi_resolve_neutral): Partially resurrect the optimization for a\n\tlong series of control characters in an otherwise strictly L2R\n\ttext.\n\t(bidi_level_of_next_char): Don't enter the loop that searches for\n\ta paragraph separator if the current character is already at base\n\tembedding level.  (Bug#22739)\n\n2016-03-05  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tRemove the highlighting support for quoting 'like this' inside Lisp docstrings\n\n\tRemove the highlighting support for quoting 'like this' inside\n\tLisp docstrings.  This part of\n\tc4151ebe15479de4c2e511b068cdf9af6a4576cf seems to have been\n\tunintentional, considering substitute-command-keys gives wrong\n\toutput for such usage.\n\t* lisp/emacs-lisp/lisp-mode.el (lisp-el-font-lock-keywords-2)\n\t(lisp-cl-font-lock-keywords-2): Do not highlight text between two\n\tstraight quotes as symbol.\n\n2016-03-05  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRestore leading space in movemail pop output\n\n\t* lib-src/movemail.c (movemail_strftime) [WINDOWSNT]: New function.\n\t(strftime) [WINDOWSNT]: New macro.\n\t(mbx_delimit_begin): Go back to previous version of this code,\n\tnow that there\u2019s a special-purpose WINDOWSNT implementation\n\tthat should do the right thing.  That way, the output continues\n\tto use leading space rather than leading zero for day of month.\n\n2016-03-05  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix bidi-paragraph-direction in Rmail view buffer\n\n\t* lisp/mail/rmail.el (rmail-show-message-1): Reset\n\tbidi-paragraph-direction to nil before formatting the message for\n\tdisplay.\n\n2016-03-05  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tDon't misindent computed property generator methods\n\n\t* lisp/progmodes/js.el (js--looking-at-operator-p):\n\tDon't misindent computed property generator methods\n\t(https://github.com/mooz/js2-mode/issues/317).\n\n2016-03-05  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix mbox files produced by movemail on MS-Windows\n\n\t* lib-src/movemail.c (mbx_delimit_begin): Use portable strftime\n\tformat specifiers, as at least the MS-Windows version of strftime\n\tdoesn't support %e and %T.\n\n2016-03-04  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tdoc string file descriptor exhaustion fix\n\n\t* src/doc.c (get_doc_string): Move newly-added check to a better\n\tlocation (Bug#22814).\n\n2016-03-04  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix Bug#22814\n\n\t* src/doc.c (get_doc_string): Raise an error in case too many\n\tfiles are open.  (Bug#22814)\n\n2016-03-04  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFix insertion of edited servers in the dribble file\n\n\t* lisp/gnus/gnus-srvr.el (gnus-server-update-server): Don't\n\tinsert explicit newlines, because they're quoted (bug#22903).\n\n\tBackport:\n\n\t(cherry picked from commit ca4e30058eba0531f38fff75f14734acffab84ea)\n\n2016-03-04  Martin Rudalics  <rudalics@gmx.at>\n\n\tFix previous fix of enlarge-/shrink-window\n\n\t* lisp/window.el (enlarge-window, shrink-window): Consistently\n\tsignal user-error instead of error.  Resize minibuffer window by\n\tdelta lines instead of pixels.  When a window cannot be resized,\n\tsignal an error only when this function was invoked by a command\n\tin the enlarge-/shrink-window group (this restores the behavior\n\tbefore the fix of bug#22723 for the non-interactive case).\n\n2016-03-03  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/isearch.el (isearch-define-mode-toggle): Fix toggling logic\n\n2016-03-03  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tComplete temperature units in calc-convert-temperature\n\n\t* lisp/calc/calc-units.el (calc-convert-temperature): Complete with\n\ttemperature units in math-standard-units.\n\n2016-03-02  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tMake sure to use case-sensitive search\n\n\t* lisp/progmodes/xref.el (xref-collect-references): Make sure to\n\tuse case-sensitive search.\n\n2016-03-02  Ulf Jasper  <ulf.jasper@web.de>\n\n\tPrevent infinite loop on not-well-formed xml. (Bug#16344)\n\n\t* lisp/xml.el (xml-parse-tag-1): Prevent inifinite loop. (Bug#16344)\n\t* test/automated/xml-parse-tests.el (xml-parse-tests--bad-data): Add\n\t  test cases for Bug#16344.\n\n2016-03-02  Alan Third  <alan@idiocy.org>\n\n\tAdd the missing test case for the previous patch\n\n\tlisp/dabbrev.el (dabbrev--substitute-expansion): Return EXPANSION after\n\tany processing.\n\tlisp/dabbrev.el (dabbrev-expand): Set EXPANSION to the return value of\n\tDABBREV--SUBSTITUTE-EXPANSION.\n\ttest/automated/dabbrev-tests.el (dabbrev-expand-test): Test for bug#1948.\n\n2016-03-02  Alan Third  <alan@idiocy.org>\n\n\tUse the correct dabbrev expansion\n\n\tlisp/dabbrev.el (dabbrev--substitute-expansion): Return EXPANSION after\n\tany processing.\n\tlisp/dabbrev.el (dabbrev-expand): Set EXPANSION to the return value of\n\tDABBREV--SUBSTITUTE-EXPANSION.\n\ttest/automated/dabbrev-tests.el (dabbrev-expand-test): Test for bug#1948.\n\n2016-03-02  Nicolas Petton  <nicolas@petton.fr>\n\n\tBump version to 25.0.92\n\n\t* README:\n\t* configure.ac:\n\t* msdos/sed2v2.inp: Bump version to 25.0.92.\n\n2016-03-02  Nicolas Petton  <nicolas@petton.fr>\n\n\t* etc/AUTHORS: Update the AUTHORS file\n\n2016-03-02  Nicolas Petton  <nicolas@petton.fr>\n\n\tauthors.el updates\n\n\t* admin/authors.el (authors-ignored-files): Addition.\n\n2016-03-02  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix Bug#22859\n\n\t* lisp/filenotify.el (file-notify-callback): Return a `deleted'\n\tevent in case of kqueue and file1 is nil.  (Bug#22859)\n\n2016-03-01  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix reordering of bidi text in an isolate inside an override\n\n\t* src/bidi.c (bidi_resolve_explicit): Override the orig_type value\n\tof FSI with either LRI or RLI, as determined by the first strong\n\tdirectional character in the isolate.  This prevents failure to\n\tisolate when the FSI...PDI text is inside a directional override.\n\t(Bug#22786)\n\n2016-03-01  Alan Mackenzie  <acm@muc.de>\n\n\tDocument c-guess-basic-syntax in the CC Mode manual.\n\n\t* doc/misc/cc-mode.texi (Syntactic Analysis): Document the function, adding\n\tpxrefs to Custom Line-Up and Other Indentation.\n\t(Custom Line-Up): Add a note on using c-guess-basic-syntax with a pxref to\n\tSyntactic Analysis.\n\n2016-03-01  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix targets in test/automated/Makefile.in\n\n\t* test/automated/Makefile.in: Use $(SELECTOR_DEFAULT) also for\n\tempty target and target all.\n\n2016-03-01  Leo Liu  <sdl.web@gmail.com>\n\n\tComment on last change to define-derived-mode\n\n\t* lisp/emacs-lisp/derived.el (define-derived-mode): Add comment.\n\n2016-03-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAllow binding `url-mime-accept-string'\n\n\t* lisp/url/url-http.el (url-http): Allow binding\n\t`url-mime-accept-string' (bug#22855).\n\n\tBackport:\n\n\t(cherry picked from commit 144bb0cf322b9756d29def3e27a42303e2edce43)\n\n2016-03-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAlso allow setting the paragraph direction to nil\n\n\t* lisp/net/eww.el (eww-toggle-paragraph-direction): Also allow\n\tsetting the paragraph direction to nil (\"auto\").\n\n2016-02-29  Anders Lindgren  <andlind@gmail.com>\n\n\tMade the new OS X visible bell more visible.\n\n\t* src/nsterm.m: (EmacsBell:init:) Scaled up the visible bell\n\t  \"caution\" image five times, as the image in its original size\n\t  was hard to see.\n\n2016-02-29  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tUse the correct background color when filling nested <divs>\n\n\t* lisp/net/shr.el (shr-face-background): Return the first\n\tbackground, because that's the one that's visible (bug#22680).\n\n\tBackport:\n\n\t(cherry picked from commit cad0bc70558f9c28c808711c5295dec9fc5ad6e5)\n\n2016-02-29  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMake <div> in <li> not insert extra newlines\n\n\t* lisp/net/shr.el (shr-tag-div): Make <div> in <li> not insert\n\textra newlines (bug#19587).\n\n\tBackport:\n\n\t(cherry picked from commit 379a846b8548dc32a9019ef0a37c02f62cd9bad1)\n\n2016-02-29  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tUncomment the next-error-function integration in xref\n\n\t* lisp/progmodes/xref.el (xref--xref-buffer-mode):\n\tUncomment the next-error-function integration\n\t(https://debbugs.gnu.org/cgi/bugreport.cgi?bug=20489#110).\n\n2016-02-29  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tRemove the word \"valid\", to avoid ambiguity\n\n\t* doc/emacs/maintaining.texi (Identifier Search)\n\t(Looking Up Identifiers): Remove the word \"valid\" (bug#22692).\n\n2016-02-28  Michael Albinus  <michael.albinus@gmx.de>\n\n\tSet auto-revert-use-notify to nil in global-auto-revert-mode.  (Bug#22814)\n\n\t* etc/NEWS:\n\t* etc/PROBLEMS: Mention this.\n\n\t* lisp/autorevert.el (global-auto-revert-mode): Set\n\t`auto-revert-use-notify' to nil.  (Bug#22814)\n\n2016-02-28  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* etc/TODO: Minor quoting and grammar fixes.\n\n2016-02-28  Friedrich Beckmann  <friedrich.beckmann@gmx.de>  (tiny change)\n\n\tFix ModelSim error parsing\n\n\t* lisp/progmodes/vhdl-mode.el (vhdl-compiler-alist): Fix\n\tModelSim error parsing (bug#5768).\n\n2016-02-28  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMake parse-time-string-chars faster\n\n\t* lisp/calendar/parse-time.el (parse-time-string-chars): Clean\n\tup the code (backport:).\n\n2016-02-28  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAdd a eww command to toggle paragraph direction\n\n\t* lisp/net/eww.el (eww-toggle-paragraph-direction): New\n\tcommand and keystroke.\n\n\t* doc/misc/eww.texi (Advanced): Mention the `D' command.\n\n2016-02-27  Glenn Morris  <rgm@gnu.org>\n\n\t* nextstep/WISHLIST: Merge into etc/TODO and remove.\n\n\t* etc/TODO: Merge in items from nextstep/WISHLIST.\n\t* nextstep/README: Update for this change.\n\n2016-02-27  Andreas Schwab  <schwab@linux-m68k.org>\n\n\tFix char signedness issue in bidi code\n\n\t* src/dispextern.h (struct bidi_t): Change type of resolved_level\n\tand isolate_level to signed char.  (Bug#22830)\n\n2016-02-27  Andreas Schwab  <schwab@linux-m68k.org>\n\n\t* lib-src/pop.c (socket_connection): Fix format string.\n\n2016-02-27  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid inflooping in thing-at-point-looking-at\n\n\t* lisp/thingatpt.el (thing-at-point-looking-at): Avoid inflooping\n\twith regular expressions whose matching doesn't move point.\n\t(Bug#22756)\n\tDescribe the argument DISTANCE in the doc string.\n\n2016-02-27  Leo Liu  <sdl.web@gmail.com>\n\n\t* lisp/emacs-lisp/derived.el (define-derived-mode): Revert indent change.\n\n2016-02-26  Michael Albinus  <michael.albinus@gmx.de>\n\n\tetc/PROBLEMS: Mention problems with using file descriptors\n\n\t* etc/PROBLEMS: Mention problems with using file descriptors\n\tof kqueue file notification library.\n\n2016-02-26  Kaushal Modi  <kaushal.modi@gmail.com>\n\n\t* lisp/apropos.el (apropos-variable): Doc fix.  (Bug#22813).\n\n2016-02-25  Eli Zaretskii  <eliz@gnu.org>\n\n\tRemove unneeded workaround in xftfont.c\n\n\t* src/xftfont.c (xftfont_open): Remove \"dirty workaround\" for\n\tXftTextExtents8 behavior, as it is no longer needed.  Suggested by\n\tFangwen Yu <yynyygy@gmail.com>.  (Bug#22383)\n\n2016-02-25  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/saveplace.el (save-place-local-mode): New minor mode\n\n\t(toggle-save-place): Define as obsolete alias.\n\t(save-place--setup-hooks): New function.\n\t(save-place-mode): Use it.\n\n2016-02-25  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix redisplay on a TTY after 'make-frame'\n\n\t* src/xdisp.c (clear_garbaged_frames): Don't clear/redraw a\n\tgarbaged TTY frame if it is not the selected frame.  (Bug#22794)\n\n2016-02-25  Alan Mackenzie  <acm@muc.de>\n\n\tMake double-click-1 work with unbalanced parens in CC Mode.  Fixes bug#5560.\n\n\t* lisp/mouse.el (mouse-start-end): check the syntax of alleged parens with\n\t`syntax-after' to ensure syntax-table text properties are respected.\n\n2016-02-25  Magnus Henoch  <magnus.henoch@gmail.com>\n\n\tInput method polish-slash should not use keyboard translation\n\n\t* lisp/leim/quail/latin-pre.el (\"polish-slash\"): Input method\n\tpolish-slash should not use keyboard translation (bug#19081).\n\n2016-02-25  Chris Feng  <chris.w.feng@gmail.com>\n\n\tFix an assertion\n\n\t* src/dispnew.c (clear_glyph_matrix_rows): Test matrix->nrows == 0 (which\n\timplies start == 0) separately.\n\n2016-02-24  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix 'toggle-save-place'\n\n\t* lisp/saveplace.el (toggle-save-place): Set up hooks necessary to\n\tsupport save-place in the buffer.  Autoload the command.\n\n2016-02-24  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* src/keyboard.c: Don't inadvertently set immediate_echo (bug#22581)\n\n\t* src/keyboard.c (read_key_sequence): Don't inadvertently set\n\timmediate_echo when we don't want any echo-keystrokes.\n\t(echo_keystrokes_p): Move earlier.\n\n2016-02-24  Chris Zheng  <chriszheng99@gmail.com>  (tiny change)\n\n\tMinor fixes in calculator.el\n\n\t* lisp/calculator.el (calculator-mode-map): Bind `E' for\n\t`calculator-exp'.\n\t(calculator-last-input): Fix a bug with pressing F1.\n\t(Bug#20764)\n\n2016-02-24  Anders Lindgren  <andlind@gmail.com>\n\n\tUpdate HISTORY section in readme for the NextStep interface.\n\n\t* nextstep/README: Update HISTORY after suggestion\n\tfrom former maintainer Adrian Robert.\n\n2016-02-24  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of 'save-place-mode'\n\n\t* lisp/saveplace.el (toggle-save-place): Update the doc string wrt\n\tturning on 'save-place-mode' globally.\n\n\t* etc/NEWS: Mention the need to call 'save-place-mode' for turning\n\ton the mode in all buffers.\n\n2016-02-24  Chris Feng  <chris.w.feng@gmail.com>  (tiny change)\n\n\tAllocate glyph matrices for the initial frame\n\n\t* src/frame.c (make_initial_frame): Allocate glyph matrices (Bug#22787).\n\n\t* src/dispnew.c (clear_glyph_matrix_rows): matrix->nrows can be 0.\n\n2016-02-24  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFix white space in last checkin\n\n2016-02-24  Dima Kogan  <gnuplot@dima.secretsauce.net>\n\n\tMake `insert-pair' always leave the cursor where documented\n\n\t* lisp/emacs-lisp/lisp.el (insert-pair): The docstring of\n\tinsert-pair states that after insertion, the point ends up\n\tafter the opening character. This was not true if the pair was\n\tinserted to surround a region (bug#16949).\n\n2016-02-24  Kaushal Modi  <kaushal.modi@gmail.com>\n\n\tetc/NEWS: Mention the new second parameter to `package-install'\n\n\t* etc/NEWS: Mention the new second parameter to\n\t`package-install' (bug#22784).\n\n2016-02-24  John F. Trudeau  <JFTrudeau@aetna.com>  (tiny change)\n\n\tHighlight assignments in Makefiles more correctly\n\n\t* lisp/progmodes/make-mode.el (makefile-macroassign-regex):\n\tHighlight assignments preceded by a TAB character correctly\n\t(bug#20787).\n\n\n\tBackport:\n\n\t(cherry picked from commit bbd86c5642bd62c43d72391669f28eaa14459fd5)\n\n2016-02-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of focus-related hooks\n\n\t* doc/lispref/commands.texi (Focus Events): Mention focus-related\n\thooks.  (Bug#21728)\n\n2016-02-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tFurther improve doc string of 'disable-point-adjustment'\n\n\t* src/keyboard.c (syms_of_keyboard): <disable-point-adjustment>\n\t<global-disable-point-adjustment>: Clarify doc strings.  (Bug#22771)\n\n2016-02-23  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFurther adaptions in file-notify-tests.el for w32notify\n\n\t* test/automated/file-notify-tests.el\n\t(file-notify--test-read-event-timeout, file-notify--test-timeout):\n\tDecrease values.\n\t(file-notify-test03-autorevert)\n\t(file-notify-test04-file-validity)\n\t(file-notify-test05-dir-validity): Run tests also for w32notify.\n\t(file-notify-test08-watched-file-in-watched-dir):\n\tAdapt expected events for w32notify.\n\n2016-02-23  Jan Tatarik  <jan.tatarik@gmail.com>\n\n\tDon't bug out on localized dates in gnus-icalendar\n\n\t* lisp/gnus/gnus-icalendar.el\n\t(gnus-icalendar-event:org-timestamp): Don't bug out on\n\tlocalized dates.\n\n2016-02-23  Drew Adams  <drew.adams@oracle.com>\n\n\t(ls-lisp-insert-directory): Make -B work\n\n\t* lisp/ls-lisp.el (ls-lisp-insert-directory): Make -B work\n\t(bug#20776).\n\n\tBackport:\n\n\t(cherry picked from commit ef52e66efd78aac4c4e5bd5e11870e5ba3b37a1e)\n\n2016-02-23  Vaidheeswaran C  <vaidheeswaran.chinnaraju@gmail.com>\n\n\tMake buttons in header lines work\n\n\t* lisp/help-mode.el (help-button-action): `help-xref-button' in\n\theader line doesn't work (bug#21024).\n\n\tBackport:\n\n\t(cherry picked from commit c11e565a6b6d09fa39d4c3ef65bef08190eaecc1)\n\n2016-02-23  Christopher Wellons  <wellons@nullprogram.com>\n\n\tMake setf for frame-height/width work again\n\n\t* lisp/emacs-lisp/cl-lib.el (frame-height): Make setf for\n\tframe-height/width work again (bug#21979).\n\n2016-02-23  \u0141ukasz Stelmach  <stlman@poczta.fm>\n\n\tEncode header strings before printing\n\n\t* lisp/ps-print.el (ps-generate-header-line): Encode the\n\theader strings to avoid problems with non-ASCII headers\n\t(bug#22611).\n\n\tBackport:\n\n\t(cherry picked from commit 3cedbdcc71ebefc12bd20ec84f74251fe99ee7d0)\n\n2016-02-23  Nicolas Richard  <youngfrog@members.fsf.org>\n\n\t(cl-union): Do not ignore :test argument when lists are equal.\n\n\t* lisp/emacs-lisp/cl-seq.el (cl-union): Do not ignore :test argument when lists are equal.\n\n\t* test/automated/cl-seq-tests.el: New file (bug#22729).\n\n2016-02-23  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAdd `isearch' to `basic-faces'\n\n\t* doc/lispref/display.texi (Basic Faces): Mention the isearch\n\tand lazy-highlight faces.\n\n\t* lisp/replace.el (match): Add `isearch' to the `basic-faces'\n\tgroup, too (bug#22760).\n\n2016-02-23  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tMake $, : and @ \"prefix characters\" in ruby-mode\n\n\t* lisp/progmodes/ruby-mode.el (ruby-mode-syntax-table): Change the\n\tsyntax classes of $, : and @ to \"prefix character\"\n\t(https://lists.gnu.org/r/emacs-devel/2016-01/msg00272.html).\n\t(ruby-syntax-propertize): Undo that specifically for colons\n\tfollowed by an opening paren or bracket.\n\t(ruby-font-lock-keyword-beg-re): Include colon character.\n\t(ruby-font-lock-keywords): Adjust the constants matcher for `:'\n\tnot being a symbol constituent anymore.\n\n2016-02-23  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tMake find-tag-default-bounds more strict\n\n\t* lisp/subr.el (find-tag-default-bounds): Delegate to\n\tbounds-of-thing-at-point (bug#22692).\n\n2016-02-22  Michael Albinus  <michael.albinus@gmx.de>\n\n\tMinor fixes in filenotify.el\n\n\t* lisp/filenotify.el (top): Require 'cl-lib.\n\t(file-notify--rm-descriptor)\n\t(file-notify--event-watched-file): Use cl-caadr.\n\t(file-notify-callback): Handle also `ignore' events from inotify.\n\n2016-02-22  Michael Albinus  <michael.albinus@gmx.de>\n\n\tAdditional fixes for file notification\n\n\t* lisp/filenotify.el (top): Require 'cl when compiling.\n\t(file-notify--event-watched-file): New defun.\n\t(file-notify--rm-descriptor, file-notify-callback):\n\tHandle case of several monitors running in parallel.\n\n\t* test/automated/file-notify-tests.el\n\t(file-notify--test-event-test): Simplify test.\n\t(file-notify--test-with-events): Get rid of outer definition.\n\tCheck also results of tests performed in callbacks.\n\t(file-notify-test02-events): No wrapping when calling\n\t`file-notify-rm-watch'.  No special checking for callback tests.\n\t(file-notify-test07-backup): Adapt expected events for gfilenotify.\n\t(file-notify-test08-watched-file-in-watched-dir): Improve.\n\n2016-02-22  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix documentation of 'global-disable-point-adjustment'\n\n\t* src/keyboard.c (syms_of_keyboard) <disable-point-adjustment>\n\t<global-disable-point-adjustment>: Doc fixes.  (Bug#22771)\n\n2016-02-22  Daiki Ueno  <ueno@gnu.org>\n\n\tSet file modes of pinentry socket for extra safety\n\n\t* lisp/net/pinentry.el: Require 'cl-lib for `cl-letf'.\n\t(pinentry-start): Change the file modes of the socket file to 0700.\n\tThis is just for extra safety since the parent directory is already\n\tprotected with `server-ensure-safe-dir'.\n\n2016-02-22  Daiki Ueno  <ueno@gnu.org>\n\n\tClarify GnuPG version compatibility chapter\n\n\t* doc/misc/epa.texi (GnuPG version compatibility): Make the gpg-agent\n\tdescription a bit clearer.\n\n2016-02-22  Daiki Ueno  <ueno@gnu.org>\n\n\tRevert \"Change the default socket location for pinentry\"\n\n\tThis reverts commit e34fbdee8aca84b98393b06b2450837d175999ca.\n\tIt turned out that the address is fixed in Pinentry itself.\n\n2016-02-21  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tKill off xref--display-history\n\n\tNow that the core workflow keeps the xref window visible, there's\n\tless value in storing this history.  And it never was\n\tcomprehensive enough to undo scrolling changes.\n\t* lisp/progmodes/xref.el (xref--display-history)\n\t(xref--save-to-history, xref-quit): Remove.\n\t(xref--show-pos-in-buf): Update accordingly.\n\t(xref--xref-buffer-mode-map): Remove xref-quit binding.\n\n2016-02-21  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tKeep the xref buffer visible until the user quits it explicitly\n\n\t* lisp/progmodes/xref.el (xref--pop-to-location):\n\tRename WINDOW argument to ACTION.\n\t(xref--with-dedicated-window): New macro.\n\t(xref--show-pos-in-buf): Rename from `xref--display-position'.\n\tAdd and handle new argument, SELECTED.  Use the above macro.\n\t(xref--show-location): Add SELECTED argument.\n\t(xref-show-location-at-point): Make an effort to avoid the\n\toriginal window when showing the location.\n\t(xref-goto-xref): Don't quit the xref window (bug#20487 and\n\thttps://lists.gnu.org/r/emacs-devel/2016-01/msg01133.html).\n\t(xref--query-replace-1): Use xref--with-dedicated-window as well.\n\t(xref--next-error-function): Call xref--show-location instead of\n\txref--pop-to-location.\n\t(xref--show-xrefs): Rename WINDOW argument to DISPLAY-ACTION.\n\tOnly pass that value to xref--pop-to-location.  Pass the current\n\tselected window to xref-show-xrefs-function as the `window'\n\tproperty.\n\t(xref--find-xrefs, xref--find-definitions): Rename WINDOW argument\n\tto DISPLAY-ACTION as well.\n\n2016-02-21  Daiki Ueno  <ueno@gnu.org>\n\n\tChange the default socket location for pinentry\n\n\t* lisp/net/pinentry.el: Require 'cl-lib for `cl-letf'.\n\t(pinentry--socket-dir): Change the default from /tmp/emacsXXX to\n\t~/.emacs.d/pinentry.\n\t(pinentry-start): Change the file modes of the socket file to 0700.\n\tThis is just for extra safety since the parent directory is already\n\tprotected with `server-ensure-safe-dir'.\n\n2016-02-21  Daiki Ueno  <ueno@gnu.org>\n\n\tMention how to enable pinentry feature\n\n\t* etc/NEWS: Mention \"gpgconf --reload gpg-agent\".\n\t* lisp/net/pinentry.el: Likewise.\n\n2016-02-21  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSync with gnulib\n\n\tThis incorporates:\n\t2016-02-10 stdalign: port to older HP and IBM cc\n\t* doc/misc/texinfo.tex, lib/stdalign.in.h: Copy from gnulib.\n\n2016-02-21  David Engster  <deng@randomsample.de>\n\n\tRemove `semanticdb-save-all-db-idle' from `auto-save-hook'\n\n\t* lisp/cedet/semantic/db-mode.el (semanticdb-hooks): Do not put\n\t  `semanticdb-save-all-db-idle' into `auto-save-hook'. The latter is\n\t  not an idle hook, so it's not appropriate to call it there. It will\n\t  already be called in the `semantic-idle-work-core-handler', which\n\t  runs when Emacs is actually idle.\n\n2016-02-21  David Engster  <deng@randomsample.de>\n\n\tRestore point when writing semantic table to disk\n\n\t* lisp/cedet/semantic/db-file.el (object-write): Wrap call to\n\t  `semantic-fetch-tags' in `save-excursion', since it might move point\n\t  in current buffer. (Bug #22287)\n\n2016-02-21  Daiki Ueno  <ueno@gnu.org>\n\n\tMention pinentry.el in epa manual\n\n\t* doc/misc/epa.texi (GnuPG version compatibility): New chapter,\n\tdescribing the differences between three GnuPG branches, and how\n\tto enable pinentry.el.\n\t(Caching Passphrases): Add xref to the compatibility chapter.\n\n2016-02-21  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix Bug#22736\n\n\t* lisp/filenotify.el (file-notify-callback): Use the proper\n\tdescriptor when calling the callback.  (Bug#22736)\n\n\t* test/automated/file-notify-tests.el\n\t(file-notify--test-event-handler): Deactivate trace.\n\t(file-notify-test08-watched-file-in-watched-dir): Bind\n\t`file-notify--test-tmpfile' temporarily in `dir-callback'.\n\n2016-02-21  Wieland Hoffmann  <themineo@gmail.com>  (tiny change)\n\n\tGrammar fix in doc string\n\n\t* lisp/custom.el (defgroup): Grammar fix in doc string.\n\n2016-02-20  Daiki Ueno  <ueno@gnu.org>\n\n\tNaming fix for consistency\n\n\t* lisp/epg-config.el (epg-find-configuration): Rename from\n\t`epg-configuration-find' to be consistent with other epg-* functions.\n\tChange all callers.\n\n2016-02-20  Daiki Ueno  <ueno@gnu.org>\n\n\tPrefer customized value for GnuPG executable\n\n\t* lisp/epg-config.el (epg-configuration-find): Don't check GPG\n\tconfiguration if it is already set with custom.  (Bug#22747)\n\n2016-02-20  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix memory reservation on MS-Windows\n\n\t* src/w32heap.c (mmap_alloc): Reserve memory in 64KB granular\n\tunits.  This avoids leaving gaps in reserved memory regions that\n\tno one can use, since memory reservation must produce 64KB-aligned\n\taddresses.  (Bug#22526)\n\n2016-02-20  Anders Lindgren  <andlind@gmail.com>\n\n\tUpdate NextStep readme and add wish list.\n\n\t* nextstep/README: Rewritten from scratch. New sections on\n\t\"History\", \"Overview of Cocoa and Objective-C\", \"Guidelines\",\n\t\"Tracing Support\", and \"GNUStep\". Expanded the \"See Also\" section.\n\t* nextstep/WISHLIST: New file containing list of issues and ideas\n\tassociated with the NS port of Emacs.\n\n2016-02-20  Michael Albinus  <michael.albinus@gmx.de>\n\n\tReport also result in `file-notify--test-event-handler'\n\n2016-02-20  Michael Albinus  <michael.albinus@gmx.de>\n\n\tImprove file-notify-test08-watched-file-in-watched-dir\n\n\t* test/automated/file-notify-tests.el (file-notify--test-desc2):\n\tNew variable.\n\t(file-notify--test-cleanup): Use it.\n\t(file-notify--test-event-handler): Enable trace.\n\t(file-notify-test08-watched-file-in-watched-dir): Tag it as\n\t:expensive-test.  Rewrite callbacks to use\n\t`file-notify--test-event-handler'.  Read events in loop.  Check\n\t`file-notify--test-results'.\n\t(file-notify-test08-watched-file-in-watched-dir): Fix docstring.\n\n2016-02-20  Stephen Berman  <stephen.berman@gmx.net>\n\n\tFix todo-mode item date editing bugs\n\n\t* lisp/calendar/todo-mode.el (todo-edit-item--header): Prevent out of\n\trange error by making sure the value of the numerical month date\n\tcomponent cannot be nil.  Prevent wrong type error on trying to edit\n\tday number in February by making sure numerical instead of string\n\tvalue of the year component is passed to todo-read-date.\n\t(todo-read-date): When using the numerical month date component make\n\tsure to use `*' for an arbitrary month instead of its numerical value.\n\n2016-02-20  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix \"[:upper:]\" for non-ASCII characters\n\n\t* src/regex.c (re_match_2_internal): Support [:upper:] and\n\t[:lower:] for non-ASCII characters.  (Bug#18150)\n\n2016-02-20  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAllow customizing the article mode cursor behavior\n\n\t* doc/misc/gnus.texi (HTML): Mention gnus-article-show-cursor.\n\n\t* lisp/gnus/gnus-art.el (gnus-article-show-cursor): New variable.\n\t(gnus-article-mode): Use it.\n\n2016-02-20  Ari Roponen  <ari.roponen@gmail.com>\n\n\tUse pop-to-buffer-same-window in woman.el\n\n\t* lisp/woman.el (woman-really-find-file): Work around going to\n\tthe wrong buffer by using `pop-to-buffer-same-window' (bug#22332).\n\t(WoMan-find-buffer): Ditto.\n\n2016-02-20  Tassilo Horn  <tsdh@gnu.org>\n\n\tNew filenotify test for bug#22736\n\n\t* test/automated/file-notify-tests.el\n\t(file-notify-test08-watched-file-in-watched-dir):\n\t(file-notify--test-desc1): New filenotify test for bug#22736\n\n2016-02-20  Marcin Borkowski  <mbork@mbork.pl>\n\n\tReport critical battery errors\n\n\t* lisp/battery.el (battery-pmset): Report critical battery\n\terrors (bug#18157).\n\n2016-02-19  Kaushal Modi  <kaushal.modi@gmail.com>  (tiny change)\n\n\tMake eww message toggling message clearer\n\n\t* lisp/net/eww.el (eww-toggle-fonts): Make the message\n\tclearer.\n\n2016-02-19  Mark Oteiza  <mvoteiza@udel.edu>\n\n\t* lisp/calc/calc-units.el (math-standard-units): Update to 2014 CODATA adjustment.\n\n2016-02-18  Martin Rudalics  <rudalics@gmx.at>\n\n\tFix bugs in window resizing code\n\n\t* lisp/window.el (adjust-window-trailing-edge): Fix mismatched\n\tparenthesis.\n\t(shrink-window, enlarge-window): Fix bug#22723 where windows\n\twith preserved size would not get resized.  Also now signal an\n\terror when the window cannot be shrunk or enlarged as requested.\n\n2016-02-17  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix decoding DOS EOL in a unibyte buffer\n\n\t* src/coding.c (decode_eol): Loop over bytes, not characters.\n\t(Bug#5251)\n\n2016-02-17  Alan Mackenzie  <acm@muc.de>\n\n\tCorrect c-parse-state cache manipulation error.\n\n\t* lisp/progmodes/cc-engine.el (c-invalidate-state-cache-1): Correct a\n\tcomparison bound.  Amend comments.\n\n2016-02-17  Daiki Ueno  <ueno@gnu.org>\n\n\tTake advantage of new GnuPG version check function\n\n\t* lisp/emacs-lisp/package.el (epg-configuration-find): Declare.\n\t(package-refresh-contents): Use `epg-configuration-find' to check if EPG\n\tis usable.\n\n2016-02-17  Daiki Ueno  <ueno@gnu.org>\n\n\tMake GnuPG version check robuster\n\n\tWe changed the default gpg program to \"gpg2\" from \"gpg\" in the commit\n\tf93d669a16bd3cb3f43f0c8cfd22fe18b627a6a1.  However, there are two\n\tmaintained branches (2.0 and 2.1) and Emacs doesn't work well with 2.0\n\tseries.  Check the actual version of \"gpg2\" at run time, and properly\n\tdivert to \"gpg\" if necessary.\n\t* lisp/epg-config.el: Require 'cl-lib for `cl-destructuring-bind'.\n\t(epg-config--program-alist): New variable.\n\t(epg--configurations): New variable.\n\t(epg-configuration-find): New function.\n\t(epg-config--make-gpg-configuration): New function.\n\t(epg-config--make-gpgsm-configuration): New function.\n\t(epg-configuration): Mark as obsolete.\n\t* lisp/epg.el (epg-context): Use `epg-configuration-find'.\n\n2016-02-17  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix x-load-color-file pointer signedness\n\n\t* src/xfaces.c (Fx_load_color_file) [!HAVE_X_WINDOWS]:\n\tFor sscanf and int *, use %d, not %u.\n\tProblem found on Ubuntu 15.10 x32, which lacks X support.\n\n2016-02-17  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* lisp/time-stamp.el (time-stamp-time-zone): Fix doc string punct.\n\n2016-02-16  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tFollow convention for greek letter constants.\n\n\t* lisp/calc/calc-units.el (math-standard-units):\n\tAdd \"sigma\" and alias \u03c3 to it.\n\n2016-02-16  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tAdd Stefan-Boltzmann constant to calc units table.\n\n\t* lisp/calc/calc-units.el (math-standard-units):\n\tAdd Stefan-Boltzmann constant.\n\n2016-02-16  Mark Oteiza  <mvoteiza@udel.edu>\n\n\t* lisp/calc/calc-units.el (math-build-units-table-buffer): Use special-mode.\n\n2016-02-16  Glenn Morris  <rgm@gnu.org>\n\n\tAvoid loading cl-lib for term/xterm.elc, eg in -Q -nw.  (Bug#22669)\n\n\t* lisp/emacs-lisp/cl-generic.el (cl--generic-dispatchers):\n\tPrefill with relevant elements for term/xterm.\n\n2016-02-16  Tassilo Horn  <tsdh@gnu.org>\n\n\tFix soffice UserInstallation-URL for Windows\n\n\t* lisp/doc-view.el (doc-view-odf->pdf-converter-soffice): Fix\n\tUserInstallation-URL when calling soffice on Windows.\n\n2016-02-16  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFix display of <pre> elements\n\n\t* lisp/net/eww.el (eww-display-html): Remove CRLF before\n\tparsing so that <pre> elements don't render with ^M at the end\n\tof the lines.\n\n2016-02-15  Eli Zaretskii  <eliz@gnu.org>\n\n\tMinor fixes in global-auto-composition-mode\n\n\t* lisp/emacs-lisp/easy-mmode.el (easy-mmode-pretty-mode-name):\n\tProduce prettier names of globalized minor modes.\n\t* lisp/composite.el (global-auto-composition-mode): Make it a\n\tglobalized mode.  (Bug#22682)\n\n2016-02-15  Alan Mackenzie  <acm@muc.de>\n\n\tAllow arithmetic operators inside C++ template constructs.\n\n\tFixes debbugs #22486.  This corrects the previous patch with this message\n\twhich was empty.\n\n\t* lisp/progmodes/cc-langs.el (c-multichar->-op-not->>-regexp): New language\n\tvariable.\n\t(c-<>-notable-chars-re): New language variable.\n\n\t* lisp/progmodes/cc-engine.el (c-forward-<>-arglist-recur): User\n\tc-<>-notable-chars-re in place of the former fixed string in searching for\n\tplaces to stop and examine.\n\tUse c-multichar->-op-not->>-regexp to check that a found \">\" is not part of a\n\tmultichar operator in place of the former c->-op-without->-cont-regexp.\n\tAdd code to skip forwards over a balanced parenthesized expression.\n\n2016-02-15  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid crashes in semi-malformed 'condition-case'\n\n\t* src/eval.c (internal_lisp_condition_case): Treat a handler\n\t'(nil)' as if it were '(nil nil)'.  (Bug#22675)\n\n2016-02-15  Alan Mackenzie  <acm@muc.de>\n\n\tAllow arithmetic operators inside C++ template constructs.\n\n\tFixes debbugs #22486.\n\n\t* lisp/progmodes/cc-langs.el (c-multichar->-op-not->>-regexp): New language\n\tvariable.\n\t(c-<>-notable-chars-re): New language variable.\n\n\t* lisp/progmodes/cc-engine.el (c-forward-<>-arglist-recur): User\n\tc-<>-notable-chars-re in place of the former fixed string in searching for\n\tplaces to stop and examine.\n\tUse c-multichar->-op-not->>-regexp to check that a found \">\" is not part of a\n\tmultichar operator in place of the former c->-op-without->-cont-regexp.\n\tAdd code to skip forwards over a balanced parenthesized expression.\n\n2016-02-15  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix regression with 'recent-keys' and keyboard macros\n\n\t* src/keyboard.c (record_char): Don't record in 'recent_keys'\n\tevents that come from executing keyboard macros.  (Bug#22674)\n\n2016-02-15  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix wording in a doc-view.el comment\n\n\t* lisp/doc-view.el (doc-view--current-cache-dir): Don't use\n\t\"illegal\" for something that is not against the law.\n\n2016-02-15  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tCONTRIBUTE cleanups and updates\n\n\t* CONTRIBUTE: Mention URLs and info nodes more consistently,\n\tavoiding possibly-confusing punctuation adjacent to a URL, and\n\tgiving full shell commands for 'info'.  Start with a brief but\n\tcomplete how-to, for people who want to get started right away.\n\tThen briefly discuss how to join the development process in the\n\ttypical order.  Omit needless words.  Update some of the\n\tnow-obsolete file names, info node names, and quoting styles.\n\tBetter document emacs-NN branches and how they are merged.\n\t* admin/notes/git-workflow: Change emacs-24 to emacs-25,\n\tand trunk to master.  This file still needs work.\n\n2016-02-14  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort USE_STACK_LISP_OBJECTS fix to Clang\n\n\t* src/lisp.h (USE_STACK_LISP_OBJECTS): Default to false for Clang.\n\tRecent versions of Clang claim to be GCC 4.2.1 but do not have\n\tthe GCC bug.\n\n2016-02-14  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort to x86 GCC 4.3.1 and earlier\n\n\tThis tries to port to x86 FreeBSD 9, where Emacs dumps core (Bug#22065).\n\t* src/lisp.h (USE_STACK_LISP_OBJECTS): Default to false\n\tfor GCC 4.3.1 and earlier.\n\n2016-02-14  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix point movement under 'scroll-conservatively'\n\n\t* src/xdisp.c (redisplay_window): Correct a typo in computing the\n\teffective number of text lines in a window.  (Bug#22637)\n\n2016-02-14  Thomas Plass  <thomas.plass@arcor.de>\n\n\tReplace colon in file name (not legal on Windows)\n\n\t* lisp/doc-view.el (doc-view--current-cache-dir): Replace colon in file\n\tname (not legal on Windows). [tiny change]\n\n2016-02-14  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix a typo in edt.texi\n\n\t* doc/misc/edt.texi: Fix a typo in an email address.  Reported by\n\t\"Herbert J. Skuhra\" <herbert@mailbox.org>.\n\n2016-02-14  Eli Zaretskii  <eliz@gnu.org>\n\n\tMake 'mmap_realloc' on MS-Windows more reliable\n\n\t* src/w32heap.c (mmap_alloc): If reserving memory succeeds, but\n\tcommitting fails, return NULL.  Don't call GetLastError twice for\n\tthe same API error.\n\t(mmap_realloc): Zero out MEMORY_BASIC_INFORMATION structures\n\tbefore calling VirtualQuery, to avoid using garbled values if the\n\tcall fails.  If committing more pages from the same block fails,\n\tfall back on mmap_alloc + CopyMemory.  Enhance debugging printouts\n\tif the call to VirtualAlloc to commit more pages fails.\n\t(Bug#22526)\n\n2016-02-14  Oscar Fuentes  <ofv@wanadoo.es>\n\n\tGrep alias `all' shall not match parent directory\n\n\t* lisp/progmodes/grep.el (grep-files-aliases): Don't match parent\n\t  directory for `all'. Fixes bug#22577\n\n2016-02-13  Nicolas Petton  <nicolas@petton.fr>\n\n\tBump version to 25.0.91\n\n\t* README:\n\t* configure.ac:\n\t* msdos/sed2v2.inp: Bump version to 25.0.91.\n\n2016-02-13  Nicolas Petton  <nicolas@petton.fr>\n\n\t* etc/AUTHORS: Update the AUTHORS file\n\n2016-02-13  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/dired-aux.el: Require cl-lib.  (Bug#22613)\n\n2016-02-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tIndex tilde characters in names of backup files\n\n\t* doc/emacs/files.texi (Backup Names): Improve indexing.\n\t(Bug#22625)\n\n2016-02-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument deprecation of hi-lock-mode's 'C-x w' bindings\n\n\t* doc/emacs/display.texi (Highlight Interactively): Deprecate the\n\t\"C-x w\" bindings of hi-lock-mode.\n\n\t* etc/NEWS: Mark the deprecation entry as documented.\n\n2016-02-13  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tAnnounce that the `C-x w' bindings are deprecated\n\n2016-02-13  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSuppress GNUstep hardening\n\n\tFedora 23 normally hardens GNUstep applications, which causes\n\t\u2018./configure --with-ns\u2019 to break Emacs\u2019s funky way of undumping.\n\tFix this by eliding the hardening options (Bug#22518).\n\t* src/Makefile.in (LIBS_GNUSTEP): Omit options like\n\t\u2018-specs=/usr/lib/rpm/redhat/redhat-hardened-ld\u2019.\n\t(GNU_OBJC_CFLAGS): Omit options like\n\t\u2018-specs=/usr/lib/rpm/redhat/redhat-hardened-cc1\u2019.\n\n2016-02-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix redisplay after a large insertion\n\n\t* src/xdisp.c (redisplay_internal): Don't accept the results of\n\t\"optimization 3\" if the cursor ends up in a partially visible\n\tglyph row.  (Bug22637)\n\n2016-02-12  Andreas Schwab  <schwab@linux-m68k.org>\n\n\tRevert \"Fix gnus-group-get-new-news-this-group on group with closed server\"\n\n\tThis reverts commit 9dc77e37aa84c6df9b3ddb4609f3c09201b0580e.\n\n\t\t* lisp/gnus/nnimap.el (nnimap-change-group): Revert last\n\t\tchange.  (Bug#22634)\n\n2016-02-11  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* lib-src/make-docfile.c: Include stdarg.h.\n\n2016-02-11  Alan Mackenzie  <acm@muc.de>\n\n\tExtend gpm-mouse-mode's doc string and doc to point out limitations.\n\n\t* lisp/t-mouse.el (gpm-mouse-mode): Extend doc string to indicate the\n\tinability to transfer text between Emacs and other programs which use GPM.\n\n\t* doc/emacs/frames.texi (Text-Only Mouse): Note the inability to transfer text\n\tbetween Emacs and other progrmas which use GPM.\n\n2016-02-11  Eli Zaretskii  <eliz@gnu.org>\n\n\tRevert \"Backport: * lisp/isearch.el: Turn char-folding off by default\"\n\n\t* lisp/isearch.el: Turn char-folding back oon by default.\n\n\tThis reverts commit 12c50e82c9b432b2fc31f8fb2215f43ceea80822.\n\n2016-02-11  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRevert \"Support integer image rotation and respect EXIF rotations\"\n\n\tThis reverts commit 0f600496050bf435f55dc81056e06fcd45992dc8.\n\n\tThis change does not work on Fedora.\n\n2016-02-11  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRevert \"Document EXIF image rotation\"\n\n\tThis reverts commit 10b8ed27ec91ff52f93eb0297dcc3abb214931aa.\n\n\tThis change does not work on Fedora, for instance.\n\n2016-02-11  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDocument OS X LANG default\n\n\t* doc/emacs/cmdargs.texi (General Variables):\n\tDocument OS X Language and Region system preference.\n\tSuggested by Alan Third.\n\n2016-02-11  Alan Third  <alan@idiocy.org>\n\n\tSet locale when run from OS X GUI\n\n\t* src/emacs.c (main): Call ns_init_locale.\n\t* src/nsterm.m (ns_init_locale): Get locale from OS and set LANG.\n\t* src/nsterm.h: Include ns_init_locale.\n\n2016-02-10  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tmake-docfile cleanup for I/O, etc.\n\n\t* lib-src/make-docfile.c (progname, generate_globals, num_globals)\n\t(num_globals_allocated, globals): Now static.\n\t(generate_globals, struct rcsoc_state, read_c_string_or_comment):\n\t(write_c_args, scan_c_stream, search_lisp_doc_at_eol, scan_lisp_file):\n\tUse bool for boolean.\n\t(verror): New function.\n\t(fatal, error): Use it.  API is now like printf.  All callers changed.\n\t(main): Remove err_count local that was always 0.\n\t(main, scan_c_stream, scan_lisp_file): Check for I/O error.\n\t(scan_file, scan_c_file, scan_c_stream, scan_lisp_file):\n\tReturn void, not 0.\n\t(put_char, scan_keyword_or_put_char, scan_c_file): Use char for byte.\n\t(scan_keyword_or_put_char): Check for missing ( and unexpected EOF.\n\t(close_emacs_globals): Use ptrdiff_t for index, not int.\n\t(scan_c_file, scan_lisp_file): Exit with failure if file cannot be\n\topened, rather than diagnosing but exiting with status 0.\n\t(search_lisp_doc_at_eol): Don't worry about ungetc of EOF; it's\n\tportable now.\n\n2016-02-10  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMemory-management cleanup in make-docfile\n\n\tI compiled it with -fsanitize=address and fixed the leaks it detected.\n\tAlso, I changed it to prefer signed to unsigned integer types,\n\tand to check for integer overflow.\n\t* lib-src/make-docfile.c:\n\tInclude <stddef.h>, <stdint.h>, <intprops.h>, <min-max.h>.\n\t(memory_exhausted): New function.\n\t(xmalloc, xrealloc): Use it.\n\t(xmalloc, xrealloc, scan_file, struct rcsoc_state, write_c_args)\n\t(uncompiled, scan_lisp_file):\n\tPrefer signed integer types to unsigned.\n\t(xstrdup): Remove.  All uses removed.\n\t(num_globals, num_globals_allocated, write_globals, scan_c_stream):\n\tUse ptrdiff_t, not int, for indexes that in theory could exceed INT_MAX.\n\t(add_global): Use const to pacify --enable-gcc-warnings.\n\tMake a copy here, rather than relying on strdup calls later.\n\t(add_global, write_globals, scan_c_stream):\n\tAvoid integer overflow when calculating sizes.\n\t(write_globals, scan_c_stream, scan_lisp_file): Avoid memory leak.\n\t(scan_c_stream): Check for add_global failure.\n\n2016-02-10  Kevin Gallagher  <Kevin.Gallagher@boeing.com>\n\n\tKevin Gallagher has new email address\n\n\t* lisp/emulation/edt.el:\n\t* lisp/emulation/edt-lk201.el:\n\t* lisp/emulation/edt-mapper.el:\n\t* lisp/emulation/edt-pc.el:\n\t* lisp/emulation/edt-vt100.el:\n\t* etc/edt-user.el:\n\t* doc/misc/edt.texi: Update Kevin Gallagher's email address.\n\n2016-02-10  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove doc strings of 'forward/backward-word-strictly'\n\n\t* lisp/simple.el (backward-word): Refer to 'backward-word-strictly'\n\tin the doc string.  Suggested by Glenn Morris <rgm@gnu.org>.\n\t* lisp/subr.el (forward-word-strictly, backward-word-strictly):\n\tMention 'subword-mode' in the doc strings.\n\n\t* src/syntax.c (Fforward_word): Refer to 'forward-word-strictly'\n\tin the doc string.  (Bug#22560)\n\n2016-02-10  Michael Albinus  <michael.albinus@gmx.de>\n\n\tDescribe Makefile test targets in test/README\n\n\t* CONTRIBUTE: Move Makefile test targets to test/README.\n\n\t* Makefile.in:\n\t* test/README: Describe Makefile test targets.\n\n2016-02-10  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\tBackport: * lisp/isearch.el: Turn char-folding off by default\n\n\t(search-default-mode): Set default value to nil.\n\n2016-02-10  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDocument EXIF image rotation\n\n\t* doc/lispref/display.texi (ImageMagick Images): Mention EXIF rotation.\n\n2016-02-10  Dima Kogan  <dima@secretsauce.net>\n\n\tSupport integer image rotation and respect EXIF rotations\n\n\t* src/image.c (imagemagick_load_image): Allow integer rotations in\n\taddition to floating point rotations (bug#22591).\n\t* src/image.c (imagemagick_load_image): Images that have an\n\torientation given in EXIF and have no explicit :rotation tag are now\n\tpre-rotated.  All information such as width/height is reported for the\n\trotated image.\n\n2016-02-10  Matthew Carter  <m@ahungry.com>\n\n\tQuote table names for postgres listings (sql-mode)\n\n\t* lisp/progmodes/sql.el (sql-postgres-completion-object): Avoid passing\n\t  unquoted table names to the completion list.\n\n2016-02-10  Juri Linkov  <juri@linkov.net>\n\n\t* lisp/replace.el (replace-match-maybe-edit): Make arg `backward' optional.\n\n\tDoc fix.\n\t(replace-search, replace-highlight): Make arg `backward' optional.\n\t(Bug#18388)\n\n2016-02-10  Juri Linkov  <juri@linkov.net>\n\n\t* lisp/simple.el (next-line-or-history-element): Reset temporary-goal-column.\n\n\t(previous-line-or-history-element): Reset temporary-goal-column.\n\tUse end-of-visual-line instead of line-end-position.  (Bug#22544)\n\n2016-02-10  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSuppress ACL ops if configured with --disable-acl\n\n\tWithout this patch, some ACL operations were suppressed, but not all.\n\t* src/fileio.c [!USE_ACL]: Do not include sys/acl.h.\n\t(Ffile_acl, Fset_file_acl) [!USE_ACL]: Return nil in this case.\n\n2016-02-09  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\tMention web bugs\n\n\t* doc/misc/emacs-mime.texi (Display Customization):\n\tMention web bugs in the mm-html-blocked-images section.\n\n2016-02-09  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\tMake mm-html-blocked-images default to \"\" again\n\n\t* lisp/gnus/mm-decode.el (mm-html-blocked-images):\n\tDefault to \"\" that blocks all external images.\n\n\t* doc/misc/emacs-mime.texi (Display Customization):\n\tMention that mm-html-blocked-images defaults to \"\".\n\n2016-02-09  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMinor alignas cleanup\n\n\t* src/lisp.h (alignas): Remove now-redundant #ifdef that was left\n\tover from the old way of doing things, before Bug#20862 was fixed.\n\n2016-02-09  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tAdd lmalloc commentary and tweak laligned\n\n\t* src/alloc.c (laligned): Help compiler in a tiny way by putting\n\tthe more-commonly-failing disjunct first.\n\n2016-02-09  Eli Zaretskii  <eliz@gnu.org>\n\n\tClarify documentation of key binding conventions\n\n\t* doc/lispref/tips.texi (Key Binding Conventions): Clarify which\n\t\"punctuation characters\" are reserved after \"C-c\".  (Bug#22604)\n\n2016-02-09  Oscar Fuentes  <ofv@wanadoo.es>\n\n\t* etc/NEWS: mention the `vc-faces' customization group\n\n2016-02-09  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSync with gnulib\n\n\tThis incorporates:\n\t2016-02-09 stdalign: port to clang 3.7.0\n\t2016-02-06 misc: port better to gcc -fsanitize=address\n\t* doc/misc/texinfo.tex, lib/stdalign.in.h, m4/acl.m4, m4/getgroups.m4:\n\tCopy from gnulib.\n\n2016-02-09  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* CONTRIBUTE: Add more examples for $(SELECTOR) make variable.\n\n2016-02-09  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\tMake mm-html-inhibit-images and mm-html-blocked-images default to nil\n\n\t* lisp/gnus/mm-decode.el (mm-html-inhibit-images)\n\t(mm-html-blocked-images): Default to nil.\n\n\t* doc/misc/emacs-mime.texi (Display Customization): Mention that\n\tmm-html-inhibit-images and mm-html-blocked-images default to nil.\n\n\t* etc/NEWS (Gnus): Document mm-html-inhibit-images and\n\tmm-html-blocked-images.\n\n2016-02-09  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tIncrease success rate of fallback lmalloc\n\n\t* src/alloc.c (lmalloc, lrealloc): Reallocate with (typically)\n\tlarger and larger sizes, to increase the probability that\n\tthe allocator will return a Lisp-aligned pointer.\n\n2016-02-09  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMake backgrounds extend to the end of the lines in shr\n\n\t* lisp/net/shr.el (shr-face-background): Faces can also be on\n\tthe form `(:background \"#fff)' (bug#22547).\n\n2016-02-09  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMake the `R' command get the correct relative <img>s\n\n\t* lisp/net/eww.el (eww-readable): Preserve the base URL so\n\tthat image expansions are fetched from the right place (bug#22605).\n\n\t(cherry picked from commit 8722e849f75ceafb82a1c17105e8ab76077a8ebc)\n\n\tBackport:\n\n2016-02-09  Mike Kupfer  <m.kupfer@acm.org>\n\n\tFix typos in emacs-mime.texi and gnus.texi\n\n\t* doc/misc/emacs-mime.texi (Display Customization):\n\t* doc/misc/gnus.texi (HTML): Fix typo.\n\n2016-02-09  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\t* doc/misc/emacs-mime.texi (Display Customization):\n\tDoc fix for mm-html-inhibit-images.\n\n2016-02-09  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFix message-cross-post-followup-to group names\n\n\t* lisp/gnus/message.el (message-cross-post-followup-to): Don't\n\tinsert group names like \"nntp+foo:zot\", because those aren't valid.\n\n2016-02-09  David Edmondson  <dme@dme.org>\n\n\tCompare recipient and keys case-insensitively\n\n\t* lisp/gnus/mml2015.el: (mml-secure-check-user-id): When comparing a\n\trecipient address with that from a key, do so in a case insensitive\n\tmanner (bug#22603).\n\n2016-02-08  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/gnus/mm-decode.el (mm-alist-to-plist): Doc fix.\n\n2016-02-08  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\tRefactor HTML images handling of Gnus and mm-* (a part of bug#21650)\n\n\t* doc/misc/emacs-mime.texi (Display Customization):\n\tRemove mm-inline-text-html-with-images; add documentations for\n\tmm-html-inhibit-images and mm-html-blocked-images.\n\n\t* lisp/gnus/gnus-art.el (gnus-article-show-images):\n\tNo need to bind mm-inline-text-html-with-images.\n\t(gnus-bind-safe-url-regexp): Rename to gnus-bind-mm-vars.\n\t(gnus-bind-mm-vars): Rename from gnus-bind-safe-url-regexp;\n\tbind mm-html-inhibit-images and mm-html-blocked-images.\n\t(gnus-mime-view-all-parts, gnus-mime-view-part-internally)\n\t(gnus-mm-display-part, gnus-mime-display-single)\n\t(gnus-mime-display-alternative): Use gnus-bind-mm-vars.\n\n\t* lisp/gnus/mm-decode.el (mm-inline-text-html-with-images): Remove.\n\t(mm-html-inhibit-images, mm-html-blocked-images): New user options.\n\t(mm-shr): Bind shr-inhibit-images and shr-blocked-images with\n\tmm-html-inhibit-images and mm-html-blocked-images respectively\n\tinstead of gnus-inhibit-images and gnus-blocked-images.\n\n\t* lisp/gnus/mm-view.el (mm-setup-w3m): Use mm-html-inhibit-images\n\tinstead of mm-inline-text-html-with-images.\n\n2016-02-08  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort to FreeBSD 11-CURRENT i386\n\n\tProblem reported by Herbert J. Skuhra in:\n\thttps://lists.gnu.org/r/emacs-devel/2016-02/msg00354.html\n\tInstead of trying\n\t* src/alloc.c (lmalloc, lrealloc, laligned): New functions.\n\t(xmalloc, xzalloc, xrealloc, lisp_malloc): Use them.\n\t(__alignof__) [!__GNUC__ && !__alignof__]: New macro.\n\t(MALLOC_IS_GC_ALIGNED): New macro.\n\t* src/lisp.h (NONPOINTER_BITS): Remove.  All uses removed.\n\tNo longer needed now that alloc.c uses lmalloc and lrealloc.\n\n2016-02-08  Michael Albinus  <michael.albinus@gmx.de>\n\n\tSome fixes in file-notify-tests.el\n\n\t* test/automated/file-notify-tests.el\n\t(file-notify--test-with-events-check)\n\t(file-notify--test-with-events-explainer): New defuns.\n\t(file-notify--test-with-events): Use it.\n\t(file-notify-test07-backup): Fix docstring.  Some of the\n\tbackends fire two `changed' events.  Backup by rename doesn't\n\twork for kqueue.\n\n2016-02-07  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix Bug#22557\n\n\t* lisp/filenotify.el (file-notify-callback): Do not send a\n\t`stopped' event in case of backup by renaming.  (Bug#22557)\n\n\t* test/automated/Makefile.in: Use $(SELECTOR_EXPENSIVE) for\n\tall targets but check and check-maybe.\n\n\t* test/automated/file-notify-tests.el\n\t(file-notify--test-read-event-timeout): New defconst.\n\t(file-notify--deftest-remote, file-notify--wait-for-events)\n\t(file-notify-test02-events)\n\t(file-notify-test04-file-validity)\n\t(file-notify-test06-many-events): Use it.\n\t(file-notify--test-cleanup): Make it more robust.  Delete also\n\tbackup file.\n\t(file-notify-test07-backup): New test.\n\n2016-02-07  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix test for dladdr\n\n\tProblem reported by Andreas Schwab in:\n\thttps://lists.gnu.org/r/emacs-devel/2016-02/msg00327.html\n\t* configure.ac (dladdr): Link with LIBMODULES when checking for\n\tthis function.\n\n2016-02-07  Andreas Schwab  <schwab@linux-m68k.org>\n\n\tFix gnus-group-get-new-news-this-group on group with closed server\n\n\t* lisp/gnus/nnimap.el (nnimap-change-group): Lookup server\n\tmethod and pass to nnimap-open-server.\n\n2016-02-07  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/comint.el (comint-prompt-read-only): Clean tabs in docstring\n\n\tWhile tabs in code are mostly fine because the Emacs sources have a\n\t.dir-locals file specifying tab-width, the same is not true of tabs in\n\tcode examples inside docstrings.  The docstring is printed on a *Help*\n\tbuffer, which can be created on any directory and won't necessarily have\n\tthe same tab-width set.\n\n2016-02-07  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDon't inloop gnus-uu-mark-thread on the last thread\n\n\t* lisp/gnus/gnus-uu.el (gnus-uu-mark-thread): Don't infloop on the\n\tfinal thread in the summary buffer (bug#16666).\n\n2016-02-06  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDisplay non-ASCII group names better in prompts\n\n\t* lisp/gnus/gnus-sum.el (gnus-articles-to-read): To decode the\n\tgroup name, we have to do that before we remove the prefix.\n\n2016-02-06  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDefault to gpg2 instead of gpg\n\n\t* lisp/epg-config.el (epg-gpg-program): Prefer gpg2 over gpg, if\n\tit exists.  This fixes many problems with using the GPG\n\tauthentication agent.\n\n2016-02-06  David Edmondson  <dme@dme.org>\n\n\tsrc/process.c Correctly convert AF_INET6 addresses\n\n\t* src/process.c (conv_lisp_to_sockaddr): AF_INET6 addresses are\n\tconverted to a list of 16 bit quantities by\n\tconv_sockaddr_to_lisp(). conv_lisp_to_sockaddr() should follow the\n\tsame scheme rather than expecting a (longer) list of 8 bit\n\tquantities.\n\n\tBackport:\n\n\t(cherry picked from commit 55ce3c30d617c38eb086d5ad4ffbd881c20c559c)\n\n2016-02-06  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/isearch.el (isearch-define-mode-toggle): Improve logic\n\n2016-02-06  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/menu-bar.el (menu-bar-options-menu): New search submenu\n\n\t(menu-bar-search-options-menu): New variable\n\n2016-02-06  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/isearch.el (search-default-mode)\n\n\t(isearch-regexp-function): Improve docstrings.\n\n2016-02-06  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/isearch.el: Rename search-default-regexp-mode to search-default-mode\n\n\t(search-default-mode): New variable.\n\t(isearch-mode, isearch-define-mode-toggle)\n\t(isearch--describe-regexp-mode): Update accordingly.\n\t* lisp/menu-bar.el (nonincremental-search-forward): Update accordingly.\n\t* etc/NEWS: Update accordingly.\n\t* doc/emacs/search.texi: Update accordingly.\n\n2016-02-06  Oscar Fuentes  <ofv@wanadoo.es>\n\n\tUse monitor's resolution for positioning tooltips\n\n\t* src/xfns.c (compute_tip_xy): Use the resolution of the monitor where\n\t  the mouse pointer is to avoid placing the tooltip over the border of\n\t  the monitor on multi-head displays. Fixes bug#22549.\n\n2016-02-06  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix file-notify-test on MS-Windows\n\n\t* test/automated/file-notify-tests.el (file-notify--test-timeout):\n\tReduce w32notify timeout to 10 sec.\n\t(file-notify-test06-many-events): Call read-event after each\n\trename, to keep the w32notify backend happy in batch mode.\n\t(Bug#22534)\n\n2016-02-06  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix issues found by auditing w32notify code\n\n\t* src/w32inevt.c (handle_file_notifications): Count the number of\n\tevents to be returned.\n\t* src/w32notify.c (send_notifications): Don't copy to the file\n\tnotification buffer more than it can hold.  (Bug#22534)\n\n2016-02-06  Eli Zaretskii  <eliz@gnu.org>\n\n\tExtend etags Ruby support for accessors\n\n\t* lib-src/etags.c (Ruby_functions): Support accessors defined with\n\tparentheses.  (Bug#22563)\n\n\t* test/etags/ruby-src/test1.ru (A::B): Add tests for accessors\n\tdefined with parentheses.\n\t* test/etags/ETAGS.good_1:\n\t* test/etags/ETAGS.good_2:\n\t* test/etags/ETAGS.good_3:\n\t* test/etags/ETAGS.good_4:\n\t* test/etags/ETAGS.good_5:\n\t* test/etags/ETAGS.good_6:\n\t* test/etags/CTAGS.good: Adapt to changes in Ruby tests.\n\n2016-02-06  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tUpdate publicsuffix.txt.\n\n\t* etc/publicsuffix.txt: Updated from\n\thttps://publicsuffix.org/list/public_suffix_list.dat.\n\n2016-02-06  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tEnsure that Gnus dribble handling allows removing entries\n\n\t* lisp/gnus/gnus-start.el (gnus-dribble-enter): Ensure that each\n\tentry is on a single line.\n\n2016-02-05  OGAWA Hirofumi  <hirofumi@mail.parknet.co.jp>  (tiny change)\n\n\tBe consistent when using encoded strings in nnimap data\n\n\t* lisp/gnus/nnimap.el (nnimap-encode-gnus-group): New function\n\t(nnimap-request-list): Use it.\n\t(nnimap-request-newgroups): Ditto.\n\n2016-02-05  OGAWA Hirofumi  <hirofumi@mail.parknet.co.jp>  (tiny change)\n\n\tDisplay the decoded Gnus group name\n\n\t* lisp/gnus/gnus-sum.el (gnus-summary-read-group-1): Use the\n\tdecoded group name in the message.\n\n2016-02-05  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tUse completion-ignore-case instead of defining command\n\n\t* lisp/erc/erc.el (erc-mode): Set completion-ignore-case so\n\tthat we get case-insensitive completion.\n\t(erc-completion-at-point): Remove.\n\n2016-02-05  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* test/automated/file-notify-tests.el (file-notify-test06-many-events):\n\n\tReduce the number of iterations to 250 in case of w32notify.\n\n2016-02-05  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix problems caused by new implementation of sub-word mode\n\n\t* lisp/subr.el (forward-word-strictly, backward-word-strictly):\n\tNew functions.\n\t(word-move-empty-char-table): New variable.\n\n\t* etc/NEWS: Mention 'forward-word-strictly' and\n\t'backward-word-strictly'.\n\n\t* doc/lispref/positions.texi (Word Motion): Document\n\t'find-word-boundary-function-table', 'forward-word-strictly', and\n\t'backward-word-strictly'.  (Bug#22560)\n\n\t* src/syntax.c (syms_of_syntax)\n\t<find-word-boundary-function-table>: Doc fix.\n\n\t* lisp/wdired.el (wdired-xcase-word):\n\t* lisp/textmodes/texnfo-upd.el (texinfo-copy-node-name)\n\t(texinfo-copy-section-title, texinfo-start-menu-description)\n\t(texinfo-copy-menu-title, texinfo-specific-section-type)\n\t(texinfo-insert-node-lines, texinfo-copy-next-section-title):\n\t* lisp/textmodes/texinfo.el (texinfo-clone-environment)\n\t(texinfo-insert-@end):\n\t* lisp/textmodes/texinfmt.el (texinfo-format-scan)\n\t(texinfo-anchor, texinfo-multitable-widths)\n\t(texinfo-multitable-item):\n\t* lisp/textmodes/tex-mode.el (latex-env-before-change):\n\t* lisp/textmodes/flyspell.el (texinfo-mode-flyspell-verify):\n\t* lisp/skeleton.el (skeleton-insert):\n\t* lisp/simple.el (count-words):\n\t* lisp/progmodes/vhdl-mode.el (vhdl-beginning-of-libunit)\n\t(vhdl-beginning-of-defun, vhdl-beginning-of-statement-1)\n\t(vhdl-update-sensitivity-list, vhdl-template-block)\n\t(vhdl-template-break, vhdl-template-case, vhdl-template-default)\n\t(vhdl-template-default-indent, vhdl-template-for-loop)\n\t(vhdl-template-if-then-use, vhdl-template-bare-loop)\n\t(vhdl-template-nature, vhdl-template-procedural)\n\t(vhdl-template-process, vhdl-template-selected-signal-asst)\n\t(vhdl-template-type, vhdl-template-variable)\n\t(vhdl-template-while-loop, vhdl-beginning-of-block)\n\t(vhdl-hooked-abbrev, vhdl-port-copy, vhdl-hs-forward-sexp-func):\n\t* lisp/progmodes/verilog-mode.el (verilog-backward-sexp)\n\t(verilog-forward-sexp, verilog-beg-of-statement)\n\t(verilog-set-auto-endcomments, verilog-backward-token)\n\t(verilog-do-indent):\n\t* lisp/progmodes/vera-mode.el (vera-guess-basic-syntax)\n\t(vera-indent-block-closing):\n\t* lisp/progmodes/simula.el (simula-context)\n\t(simula-backward-up-level, simula-forward-down-level)\n\t(simula-previous-statement, simula-next-statement)\n\t(simula-skip-comment-backward, simula-calculate-indent)\n\t(simula-find-if, simula-electric-keyword):\n\t* lisp/progmodes/sh-script.el (sh-smie--rc-newline-semi-p):\n\t* lisp/progmodes/ruby-mode.el (ruby-smie--redundant-do-p)\n\t(ruby-smie--forward-token, ruby-smie--backward-token)\n\t(ruby-singleton-class-p, ruby-calculate-indent)\n\t(ruby-forward-sexp, ruby-backward-sexp):\n\t* lisp/progmodes/ps-mode.el (ps-run-goto-error):\n\t* lisp/progmodes/perl-mode.el (perl-syntax-propertize-function)\n\t(perl-syntax-propertize-special-constructs)\n\t(perl-backward-to-start-of-continued-exp):\n\t* lisp/progmodes/pascal.el (pascal-indent-declaration):\n\t* lisp/progmodes/octave.el (octave-function-file-p):\n\t* lisp/progmodes/mantemp.el (mantemp-insert-cxx-syntax):\n\t* lisp/progmodes/js.el (js--forward-function-decl):\n\t* lisp/progmodes/idlwave.el (idlwave-show-begin-check)\n\t(idlwave-beginning-of-block, idlwave-end-of-block)\n\t(idlwave-block-jump-out, idlwave-determine-class):\n\t* lisp/progmodes/icon.el (icon-is-continuation-line)\n\t(icon-backward-to-start-of-continued-exp, end-of-icon-defun):\n\t* lisp/progmodes/hideif.el (hide-ifdef-define):\n\t* lisp/progmodes/f90.el (f90-change-keywords):\n\t* lisp/progmodes/cperl-mode.el (cperl-electric-pod)\n\t(cperl-linefeed, cperl-electric-terminator)\n\t(cperl-find-pods-heres, cperl-fix-line-spacing)\n\t(cperl-invert-if-unless):\n\t* lisp/progmodes/cc-engine.el (c-forward-<>-arglist-recur):\n\t* lisp/progmodes/cc-align.el (c-lineup-java-inher):\n\t* lisp/progmodes/ada-mode.el (ada-compile-goto-error)\n\t(ada-adjust-case-skeleton, ada-create-case-exception)\n\t(ada-create-case-exception-substring)\n\t(ada-case-read-exceptions-from-file, ada-after-keyword-p)\n\t(ada-scan-paramlist, ada-get-current-indent, ada-get-indent-end)\n\t(ada-get-indent-if, ada-get-indent-block-start)\n\t(ada-get-indent-loop, ada-get-indent-type)\n\t(ada-search-prev-end-stmt, ada-check-defun-name)\n\t(ada-goto-decl-start, ada-goto-matching-start)\n\t(ada-goto-matching-end, ada-looking-at-semi-or)\n\t(ada-looking-at-semi-private, ada-in-paramlist-p)\n\t(ada-search-ignore-complex-boolean, ada-move-to-start)\n\t(ada-move-to-end, ada-which-function, ada-gen-treat-proc):\n\t* lisp/net/quickurl.el (quickurl-grab-url):\n\t* lisp/mail/sendmail.el (mail-do-fcc):\n\t* lisp/mail/rmail.el (rmail-resend):\n\t* lisp/mail/mailabbrev.el (mail-abbrev-complete-alias):\n\t* lisp/mail/mail-extr.el (mail-extract-address-components):\n\t* lisp/json.el (json-read-keyword):\n\t* lisp/files.el (insert-directory):\n\t* lisp/emacs-lisp/checkdoc.el (checkdoc-this-string-valid-engine):\n\t* lisp/completion.el (symbol-under-point, symbol-before-point)\n\t(symbol-before-point-for-complete, next-cdabbrev)\n\t(add-completions-from-c-buffer):\n\t* lisp/cedet/semantic/texi.el (semantic-up-context)\n\t(semantic-beginning-of-context):\n\t* lisp/cedet/semantic/bovine/el.el (semantic-get-local-variables):\n\tuse 'forward-word-strictly' and 'backward-word-strictly' instead\n\tof 'forward-word' and 'backward-word'.\n\n2016-02-05  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFix doc string of tls-program\n\n\t* lisp/net/tls.el (tls-program): Document the %t parameter (bug#22559).\n\n2016-02-05  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRestore window conf in nsm\n\n\t* lisp/net/nsm.el (nsm-query-user): Restore the window configuration.\n\n\tBackport:\n\n2016-02-05  Mark Oteiza  <mvoteiza@udel.edu>\n\n\t* etc/NEWS: Document new mpc.el features\n\n2016-02-04  Leo Liu  <sdl.web@gmail.com>\n\n\t* lisp/custom.el (defface): Revert indentation change.  (Bug#22524)\n\n2016-02-04  Alan Mackenzie  <acm@muc.de>\n\n\tCorrectly fontify C++ initializations which \"look like\" functions.\n\n\tFixes bug#7579.\n\n\tlisp/progmodes/cc-engine.el (c-forward-declarator): Add extra optional\n\tparameter to enable handling of \"anonymous\" declarators in declarations.\n\n\tlisp/progmodes/cc-fonts.el (c-font-lock-declarators): Check more rigorously\n\twhether a \"(\" opens a parameter list of a function, or an initialization of a\n\tvariable.\n\n2016-02-04  Ulf Jasper  <ulf.jasper@web.de>\n\n\tImprove newsticker-treeview-selection-face\n\n\t* lisp/net/newst-treeview.el (newsticker-treeview-selection-face): Improve\n\treadability for dark background.\n\n2016-02-04  Eli Zaretskii  <eliz@gnu.org>\n\n\tMinor fix in tagging Ruby accessors by etags\n\n\t* lib-src/etags.c (Ruby_functions): Don't tag accessors whose\n\tnames are not literal symbols.  (Bug#22241)\n\n2016-02-04  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSpelling fixes\n\n2016-02-04  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tRemove 'def X' from the example\n\n\t* test/etags/ruby-src/test1.ru (A::B): Remove 'def X'\n\t(https://lists.gnu.org/r/emacs-devel/2016-02/msg00167.html).\n\t* test/etags/CTAGS.good:\n\t* test/etags/ETAGS.good_1:\n\t* test/etags/ETAGS.good_2:\n\t* test/etags/ETAGS.good_3:\n\t* test/etags/ETAGS.good_4:\n\t* test/etags/ETAGS.good_5:\n\t* test/etags/ETAGS.good_6: Adjust accordingly.\n\n2016-02-04  Vasilij Schneidermann  <v.schneidermann@gmail.com>  (tiny change)\n\n\tAllow sending empty hidden values in eww\n\n\t* lisp/net/eww.el (eww-tag-input): Allow sending empty hidden\n\tvalues (bug#22388).\n\n\t(cherry picked from commit 5898da8210af7953e638ddf7821c05260979c3f0)\n\n\tBackport:\n\n2016-02-04  David Edmondson  <dme@dme.org>\n\n\tMake erc work better when encountering unknown prefix chars\n\n\t* lisp/erc/erc.el (erc-channel-receive-names): Output a warning\n\tinstead of erroring out on unknown prefix chars (bug#22380).\n\n2016-02-04  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMake erc completion case-insensitive again\n\n\t* lisp/erc/erc.el (erc-completion-at-point): Make erc completion\n\tcase-insensitive again (bug#11360).\n\n2016-02-04  Carlos Pita  <carlosjosepita@gmail.com>  (tiny change)\n\n\tMake complection in erc use consistent casing\n\n\t* lisp/erc/erc-pcomplete.el (pcomplete-erc-all-nicks): Make\n\tcase in the complection consistent (bug#18509).\n\n2016-02-04  Francis Litterio  <flitterio@gmail.com>\n\n\tMake /QUIT in erc more robust\n\n\t* lisp/erc/erc.el (erc-kill-query-buffers): Don't bug out if we're\n\tissuing /QUIT to disconnected servers (bug#22099).\n\n2016-02-04  Kevin Brubeck Unhammer  <unhammer@fsfe.org>  (tiny change)\n\n\tMake tracking faces in Emacs work more reliably\n\n\t* lisp/erc/erc-track.el (erc-faces-in): Always return lists of\n\tfaces to avoid later ambiguity (bug#22424).\n\n2016-02-04  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMake shr not bug out on images on non-graphical displays\n\n\t* lisp/net/shr.el (shr-put-image): Don't bug out on alt-less\n\timages on non-graphical displays (bug#22327).\n\n2016-02-04  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFix bookmark display widths\n\n\t* lisp/net/eww.el (eww-list-bookmarks): Pop to the buffer before\n\tpreparing it so that the widths are computed correctly (bug#22328).\n\n2016-02-04  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFix typo in eww-make-unique-file-name\n\n\t* lisp/net/eww.el (eww-make-unique-file-name): Make this function\n\tactually work.\n\n2016-02-03  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMake it possible to TAB to input fields\n\n\t* lisp/net/eww.el (eww-tag-input): Make it possible to TAB to\n\tinput fields (bug#22540).\n\n2016-02-03  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tInsert complete alt texts when images are disabled\n\n\t* lisp/net/shr.el (shr-tag-img): When images are disabled, insert\n\tthe complete alt/title string (bug#22293).\n\n2016-02-03  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAllow eww text fields to grow\n\n\t* lisp/net/eww.el (eww-process-text-input): Allow text fields to\n\tgrow when typing in stuff that's longer than the original width.\n\n2016-02-03  Dima Kogan  <dima@secretsauce.net>\n\n\tMake erc work when subword-mode is switched on\n\n\t* lisp/erc/erc-backend.el (erc-forward-word, erc-word-at-arg-p)\n\t(erc-bounds-of-word-at-point): New functions to do word-based\n\tthings when subword-mode is switched on.\n\n\t* lisp/erc/erc-button.el (erc-button-add-nickname-buttons): Use them\n\t(bug#17558).\n\n2016-02-03  Teemu Likonen  <tlikonen@iki.fi>\n\n\tFix IMAP doc example\n\n\t* doc/misc/gnus.texi (Client-Side IMAP Splitting): Fix example.\n\n2016-02-03  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tQuoting fixes in doc strings and diagnostics\n\n\t* lisp/emacs-lisp/bytecomp.el (byte-compile-setq, byte-compile-funcall):\n\t* lisp/gnus/mml-smime.el (mml-smime-get-dns-cert)\n\t(mml-smime-get-ldap-cert):\n\tFollow user style preference when quoting diagnostics.\n\n2016-02-03  Noam Postavsky  <npostavs@gmail.com>\n\n\tFix warning message in hack-local-variables\n\n\t* lisp/files.el (hack-local-variables): use 'thisbuf' to reference\n\tthe original buffer name in the warning message.  (Bug#21681)\n\n2016-02-03  Eli Zaretskii  <eliz@gnu.org>\n\n\tEtags: yet another improvement in Ruby tags\n\n\t* lib-src/etags.c (Ruby_functions): Handle continuation lines in\n\tRuby accessor definitions.  (Bug#22241)\n\n\t* test/etags/ruby-src/test1.ru (A::B#X): Add some more tests for\n\taccessors and multiline definitions.\n\t* test/etags/ETAGS.good_1:\n\t* test/etags/ETAGS.good_2:\n\t* test/etags/ETAGS.good_3:\n\t* test/etags/ETAGS.good_4:\n\t* test/etags/ETAGS.good_5:\n\t* test/etags/ETAGS.good_6:\n\t* test/etags/CTAGS.good: Adapt to changes in Ruby tags.\n\n2016-02-03  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix x-popup-menu on TTYs without a mouse\n\n\t* src/menu.c (Fx_popup_menu): Be sure to initialize 'x' and 'y'\n\tfor the TTY case without a mouse.  (Bug#22538)\n\n2016-02-03  Nicolas Petton  <nicolas@petton.fr>\n\n\t* lisp/emacs-lisp/map.el: Improvements to the docstring of the pcase macro\n\n2016-02-02  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tUse pop-to-buffer-same-window in eww\n\n\t* lisp/net/eww.el: pop-to-buffer-same-window throughout instead of\n\tswitch-to-buffer (bug#22244).\n\n2016-02-02  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* autogen.sh: Revert all recent changes.\n\n2016-02-02  Glenn Morris  <rgm@gnu.org>\n\n\t* make-dist: Updates related to nt/.\n\n\t* make-dist: Add modules/.\n\n\t* make-dist: Update for super-special file that can't live in etc/.\n\n2016-02-02  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix failure to compile ns-win.el in parallel builds\n\n\t* src/Makefile.in ($(lispsource)/term/ns-win.elc): Add order-only\n\tdependency on $(lispsource)/international/charprop.el.\n\t(Bug#22501)\n\n2016-02-02  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix names of tags generated for Ruby accessors\n\n\t* lib-src/etags.c (Ruby_functions): Don't include the leading\n\tcolon ':' in tags for Ruby accessors and aliases.  (Bug#22241)\n\n\t* test/etags/ETAGS.good_1:\n\t* test/etags/ETAGS.good_2:\n\t* test/etags/ETAGS.good_3:\n\t* test/etags/ETAGS.good_4:\n\t* test/etags/ETAGS.good_5:\n\t* test/etags/ETAGS.good_6:\n\t* test/etags/CTAGS.good: Adapt to changes in Ruby tags.\n\n2016-02-02  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix file-name recognition in 'etags'\n\n\t* lib-src/etags.c (get_language_from_filename): If FILE includes a\n\tleading directory, compare only its basename to the known file\n\tnames in lang_names[].\n\n\t* test/etags/Makefile (RBSRC): Adapt to recent test1.ruby\n\trenaming.\n\t* test/etags/ETAGS.good_1:\n\t* test/etags/ETAGS.good_2:\n\t* test/etags/ETAGS.good_3:\n\t* test/etags/ETAGS.good_4:\n\t* test/etags/ETAGS.good_5:\n\t* test/etags/ETAGS.good_6:\n\t* test/etags/CTAGS.good: Adapt to changes in Ruby file names and\n\tto the results in Makefile due to the above etags.c fix.\n\n2016-02-02  Eli Zaretskii  <eliz@gnu.org>\n\n\tChange Ruby file names and extensions recognized by 'etags'\n\n\t* lib-src/etags.c <Ruby_filenames>: New variable, holds names\n\tof Ruby files.\n\t<Ruby_suffixes>: Treat .rb, .ru, and .rbw as Ruby extensions.\n\t<lang_names>: Add Ruby_filenames to the Ruby entry.\n\t* test/etags/ruby-src/test1.ru: Renamed from test1.ruby.\n\t(Bug#22241)\n\n2016-02-02  Eli Zaretskii  <eliz@gnu.org>\n\n\tMore improvements for Ruby support in 'etags'\n\n\t* lib-src/etags.c (Ruby_functions): Tag Ruby accessors and\n\talias_method.  Identify constants even if the assignment is not\n\tfollowed by whitespace.  (Bug#22241)\n\n\t* test/etags/ruby-src/test1.ru: Add tests for constants,\n\taccessors, and alias_method.\n\t* test/etags/ETAGS.good_1:\n\t* test/etags/ETAGS.good_2:\n\t* test/etags/ETAGS.good_3:\n\t* test/etags/ETAGS.good_4:\n\t* test/etags/ETAGS.good_5:\n\t* test/etags/ETAGS.good_6:\n\t* test/etags/CTAGS.good: Adapt to changes in Ruby tests.\n\n2016-02-02  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tAdd --git-config option to autogen.sh\n\n\t* autogen.sh: New options --git-config, --help.\n\t(git_config): New shell var.  Alter function to respect this var.\n\n2016-02-02  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFix editing undo changes in eww fields\n\n\t* eww.el (eww-tag-form): Don't overwrite initial form data in text\n\tfields.\n\t(eww-process-text-input): Make `M-t' at the end of text fields work\n\tbetter (bug#19085).\n\n2016-02-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAllow the user more control of popping up the eww window\n\n\t* eww.el (eww): Use pop-to-buffer-same-window (suggested by\n\tMichael Heerdegen) (bug#22244).\n\n2016-02-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMake eww-browse-url with new-window parameter work again\n\n\t* eww.el (eww-browse-url): Stay in the same buffer if we're\n\talready in a eww mode buffer so that eww-browse-url with a\n\tnew-window parameter works (bug#22244).\n\n2016-02-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tClean up eww code slightly\n\n\t* eww.el (eww-browse-url): Clean up code slightly.\n\n2016-02-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDon't insert nil faces in shr\n\n\t* shr.el (shr-insert-table): Don't add nil faces, because that\n\twill show up in *Messages* as \"Invalid face reference: nil [32\n\ttimes]\".\n\n2016-02-01  Glenn Morris  <rgm@gnu.org>\n\n\tImprove the custom type of some user options.\n\n\t* lisp/autoinsert.el (auto-insert-alist):\n\t* lisp/replace.el (query-replace-from-to-separator):\n\t* lisp/gnus/gnus-art.el (gnus-hidden-properties):\n\t* lisp/gnus/gnus-gravatar.el (gnus-gravatar-properties):\n\t* lisp/gnus/gnus-picon.el (gnus-picon-properties):\n\t* lisp/progmodes/prolog.el (prolog-keywords, prolog-types)\n\t(prolog-mode-specificators, prolog-determinism-specificators)\n\t(prolog-directives, prolog-program-name, prolog-program-switches)\n\t(prolog-consult-string, prolog-compile-string, prolog-eof-string)\n\t(prolog-prompt-regexp): Improve custom type.\n\n2016-02-01  Glenn Morris  <rgm@gnu.org>\n\n\tMark some risky calendar variables.\n\n\t* lisp/calendar/cal-china.el (chinese-calendar-time-zone):\n\tRemove risky setting for deleted obsolete alias.\n\t(calendar-chinese-standard-time-zone-name)\n\t(calendar-chinese-daylight-saving-start)\n\t(calendar-chinese-daylight-saving-end):\n\t* lisp/calendar/calendar.el (calendar-iso-date-display-form)\n\t(calendar-european-date-display-form)\n\t(calendar-american-date-display-form, calendar-date-display-form):\n\t* lisp/calendar/diary-lib.el (diary-remind-message)\n\t(diary-header-line-format):\n\t* lisp/calendar/solar.el (calendar-time-display-form)\n\t(calendar-location-name): Mark as risky.\n\n2016-02-01  Simen Heggest\u00f8yl  <simenheg@gmail.com>\n\n\tHighlight two additional SCSS keywords\n\n\t* lisp/textmodes/css-mode.el (css-bang-ids): New defconst holding CSS\n\tidentifiers on the form !foo.\n\t(scss-bang-ids): New defconst holding SCSS identifiers on the form\n\t!foo.\n\t(css--font-lock-keywords): Highlight the new SCSS bang identifiers in\n\t`font-lock-builtin-face'.\n\n\t* test/indent/css-mode.css: Add bang rule test case.\n\n\t* test/indent/scss-mode.scss: Add test cases for the introduced bang\n\trules.\n\n2016-02-01  Karl Fogel  <kfogel@red-bean.com>\n\n\tRecommend enabling integrity-checking in git\n\n\t* admin/notes/git-workflow:  Recommend setting transfer.fsckObjects.\n\n\tThis is related to the autogen.sh changes made by Paul Eggert in\n\tcommit d766ca8f (2016-02-01) and commit cedd7cad (2016-02-01), and to\n\tmy edits today to http://www.emacswiki.org/emacs/GitForEmacsDevs and\n\tto emacswiki.org/emacs/GitQuickStartForEmacsDevs.  See also the thread\n\t\"Recommend these .gitconfig settings for git integrity.\" at\n\thttps://lists.gnu.org/r/emacs-devel/2016-01/threads.html#01802.\n\n2016-02-01  Martin Rudalics  <rudalics@gmx.at>\n\n\tSome corrections in Elisp manual\n\n\t* doc/lispref/buffers.texi (Read Only Buffers): Describe optional\n\targument POSITION.\n\t* doc/lispref/debugging.texi (Error Debugging): `debug-on-signal'\n\tis an option.\n\t* doc/lispref/display.texi (Refresh Screen): Describe optional\n\targument FRAME of `redraw-frame'.\n\t(Attribute Functions): Describe optional argument CHARACTER of\n\t`face-font'.\n\t(Defining Images): `image-load-path' is an option.\n\t(Beeping): `ring-bell-function' is an option.\n\t* doc/lispref/frames.texi (Size and Position): The PIXELWISE\n\targument of `set-frame-size' is optional.\n\t(Raising and Lowering): The TERMINAL argument of `tty-top-frame'\n\tis optional.\n\t* doc/lispref/keymaps.texi (Controlling Active Maps): Fix doc of\n\t`set-transient-map'.\n\t* doc/lispref/minibuf.texi (Text from Minibuffer):\n\t`read-regexp-defaults-function' is an option.\n\t(Minibuffer Contents): `delete-minibuffer-contents' is a command.\n\t* doc/lispref/modes.texi (Mode Line Variables):\n\t`mode-line-position' and `mode-line-modes' are variables, not\n\toptions.\n\t* doc/lispref/strings.texi (Creating Strings): The START argument\n\tof `substring' is optional.\n\t* doc/lispref/text.texi (Buffer Contents): Describe optional\n\targument NO-PROPERTIES of `thing-at-point'.\n\t(User-Level Deletion): Both arguments of\n\t`delete-trailing-whitespace' are optional.\n\t(Margins): Use @key{RET} instead of @kbd{RET}.\n\t* doc/lispref/windows.texi (Display Action Functions): Write\n\tnon-@code{nil} instead of non-nil.\n\t(Choosing Window Options): The WINDOW arg of\n\t`split-window-sensibly' is optional.\n\t(Choosing Window Options): Write non-@code{nil} instead of\n\tnon-nil.\n\t(Window Start and End): Both args of `window-group-end' are\n\toptional.\n\n\t* src/buffer.c (Fbarf_if_buffer_read_only): Rename argument POS\n\tto POSITION to keep consisteny with doc-string.\n\n2016-02-01  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tChatter when autogen.sh changes Git configuration\n\n\t* autogen.sh (git_config): New function.  Use it instead of \u2018git config\u2019.\n\n2016-02-01  Kyle Meyer  <kyle@kyleam.com>\n\n\t* lisp/org/org-compat.el (org-font-lock-ensure): Fix bogus test (bug#22399)\n\n2016-01-31  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tOmit unnecessary history from Lisp intro\n\n\t* doc/lispintro/emacs-lisp-intro.texi (Review, Digression into C)\n\t(Conclusion): Reword so as not to talk about earlier versions\n\tof Emacs in what should be an intro.\n\n2016-01-31  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* etc/HISTORY: Add some more history, plus git tags.\n\n2016-01-31  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tImprove elisp \u201cSecurity Considerations\u201d doc\n\n\t* doc/lispref/os.texi (Security Considerations):\n\tMention call-process and rename-file as opposed to shell commands.\n\tAdd some more cross-references.\n\n2016-01-31  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tautogen.sh now arranges for git to check hashes\n\n\tSuggested by Karl Fogel in:\n\thttps://lists.gnu.org/r/emacs-devel/2016-01/msg01802.html\n\t* autogen.sh: Do \"git config transfer.fsckObjects true\".\n\n2016-01-31  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix (c & 040) typo in emergency escapes\n\n\t* src/keyboard.c (handle_interrupt): Fix recently-introduced\n\ttypo (040 should have been ~040) that silently suppressed\n\tauto-saves after emergency escapes.  Redo comparison to avoid\n\tsimilar problems.\n\n2016-01-31  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix display of overlay strings with 'display' and 'box' property\n\n\t* src/xdisp.c (get_next_display_element): Take the box face from\n\tdisplay stack level that comes from a buffer, not an overlay\n\tstring.  (Bug#22499)\n\n2016-01-31  Andreas Schwab  <schwab@linux-m68k.org>\n\n\tFix imap-starttls-open\n\n\t* lisp/net/imap.el (imap-starttls-open): Log imap process\n\toutput.  Call imap-parse-greeting.  (Bug#22500)\n\n2016-01-31  Andreas Schwab  <schwab@linux-m68k.org>\n\n\tFix return value of imap-starttls-open\n\n\t* lisp/net/imap.el (imap-starttls-open): Fix return value.\n\n2016-01-31  John Wiegley  <johnw@newartisans.com>\n\n\tCorrect reference to DARWIN_OS preprocessor symbol\n\n\t* src/alloc.c: Correct a preprocessor reference to DARWIN_OS, which may\n\t  not be defined.\n\n2016-01-30  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSpelling fix\n\n\tSpelling fixes\n\n2016-01-30  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPacify GCC on C library without glibc API\n\n\tWithout this change, with --enable-gcc-warnings GCC would complain\n\t\u201cerror: redundant redeclaration of \u2018aligned_alloc\u2019\u201d.\n\t* configure.ac: Simplify aligned_alloc testing.\n\t* src/alloc.c (aligned_alloc): Don\u2019t use if DARWIN_OS,\n\tsince the simplified configure.ac no longer checks for that.\n\tDon\u2019t declare if HAVE_ALIGNED_ALLOC.\n\tCorrect misspelling of HAVE_ALIGNED_ALLOC in ifdef.\n\n2016-01-30  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\tBackport: * lisp/files.el: Remove support for extra .dir-locals file\n\n\t(dir-locals-file-2, dir-locals--all-files): Remove.\n\t(dir-locals-collect-variables, dir-locals-file, dir-locals-find-file)\n\t(dir-locals-read-from-file, hack-dir-local-variables): Revert changes.\n\n\t* lisp/files-x.el (modify-dir-local-variable): Revert changes.\n\n\t* lisp/help-fns.el (describe-variable): Revert changes.\n\n\t* doc/emacs/custom.texi (Directory Variables): Revert changes.\n\n\t* etc/NEWS: Revert changes.\n\n2016-01-30  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/net/browse-url.el (browse-url-default-browser):\n\tLower priority of non-free Chrome.\n\n2016-01-30  Glenn Morris  <rgm@gnu.org>\n\n\tImprove the custom type of some user options.\n\n\t* lisp/desktop.el (desktop-minor-mode-table):\n\t* lisp/man.el (Man-frame-parameters):\n\t* lisp/midnight.el (midnight-delay):\n\t* lisp/speedbar.el (speedbar-select-frame-method):\n\t* lisp/tooltip.el (tooltip-frame-parameters):\n\t* lisp/tree-widget.el (tree-widget-space-width):\n\t* lisp/type-break.el (type-break-keystroke-threshold):\n\t* lisp/woman.el (woman-imenu-generic-expression):\n\t* lisp/cedet/ede.el (ede-debug-program-function):\n\t* lisp/cedet/ede/project-am.el (project-am-debug-target-function):\n\t* lisp/emulation/viper-keym.el (viper-toggle-key):\n\t* lisp/erc/erc-networks.el (erc-server-alist):\n\t* lisp/gnus/message.el (message-deletable-headers, message-signature):\n\t* lisp/mail/mailalias.el (mail-directory-stream):\n\t* lisp/play/tetris.el (tetris-x-colors):\n\t* lisp/progmodes/gud.el (gud-tooltip-modes): Improve custom type.\n\n2016-01-30  Simen Heggest\u00f8yl  <simenheg@gmail.com>\n\n\tHighlight CSS variables with variable name face\n\n\t* lisp/textmodes/css-mode.el (css-nmstart-re): Don't match variables.\n\t(css--font-lock-keywords): Highlight variables in\n\t`font-lock-variable-name-face'.\n\n2016-01-30  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/gnus/gnus-kill.el (gnus-winconf-kill-file): Not user-serviceable.\n\n2016-01-30  Glenn Morris  <rgm@gnu.org>\n\n\tMark some user options that can get evalled as risky.\n\n\t* lisp/allout.el (allout-title):\n\t* lisp/emacs-lisp/edebug.el (edebug-global-break-condition):\n\t* lisp/gnus/message.el (message-mailer-swallows-blank-line):\n\t* lisp/progmodes/gud.el (gud-tooltip-display):\n\t* lisp/vc/ediff-mult.el (ediff-default-filtering-regexp):\n\tMark as risky.\n\n2016-01-30  Eli Zaretskii  <eliz@gnu.org>\n\n\tDisable DebPrint in sys_read on MS-Windows\n\n\t* src/w32.c (sys_read): Disable a debugging print that is normal\n\twhen non-blocking reads are retried.\n\n2016-01-30  Martin Rudalics  <rudalics@gmx.at>\n\n\t;Fix ChangeLog entry\n\n2016-01-30  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix typos in Introduction to Emacs Lisp manual\n\n\t* doc/lispintro/emacs-lisp-intro.texi (Emacs Initialization)\n\t(kill-new function, Digression into C)\n\t(Complete forward-sentence, Divide and Conquer, Find a File)\n\t(lengths-list-many-files, Columns of a graph, defcustom)\n\t(recursive-count-words): Fix typos.  Reported by Daniel Bastos\n\t<dbastos@toledo.com>.\n\n2016-01-30  Nicolas Petton  <nicolas@petton.fr>\n\n\tBump version to 25.0.90\n\n\t* README:\n\t* configure.ac:\n\t* msdos/sed2v2.inp: Bump version to 25.0.90.\n\n2016-01-30  Nicolas Petton  <nicolas@petton.fr>\n\n\t* etc/AUTHORS: Update the AUTHORS file\n\n2016-01-30  Nicolas Petton  <nicolas@petton.fr>\n\n\tBump version to 25.0.90\n\n\t* README:\n\t* configure.ac:\n\t* msdos/sed2v2.inp: Bump version to 25.0.90.\n\n2016-01-30  Nicolas Petton  <nicolas@petton.fr>\n\n\t* etc/AUTHORS: Update the AUTHORS file\n\n2016-01-30  Nicolas Petton  <nicolas@petton.fr>\n\n\tauthors.el updates\n\n\t* admin/authors.el (authors-renamed-files-alist): Additions.\n\n2016-01-30  Nicolas Petton  <nicolas@petton.fr>\n\n\tMake it possible to run make change-history on emacs-25\n\n\t* Makefile.in: Check if the current branch is emacs-25 instead of\n\t  master.\n\n2016-01-30  lu4nx  <lx@shellcodes.org>\n\n\tSupport Go language in 'etags'\n\n\t* lib-src/etags.c <Ruby_help>: Fix documentation of Ruby tags.\n\t<Go_help>: New help.\n\t<Go_suffixes>: New variable.\n\t(Go_functions): New function.\n\t<lang_names>: Add entry for Go.  (Bug#22370)\n\n\t* doc/emacs/maintaining.texi (Tag Syntax): Document Go support.\n\t* doc/man/etags.1: Mention Go support.\n\n\t* etc/NEWS: Mention Go support.\n\n\t* test/etags/go-src/test.go:\n\t* test/etags/go-src/test1.go: New test files.\n\t* test/etags/Makefile (GOSRC): New variable.\n\t(SRCS): Add $(GOSRC).\n\t* test/etags/ETAGS.good_1:\n\t* test/etags/ETAGS.good_2:\n\t* test/etags/ETAGS.good_3:\n\t* test/etags/ETAGS.good_4:\n\t* test/etags/ETAGS.good_5:\n\t* test/etags/ETAGS.good_6:\n\t* test/etags/CTAGS.good: Adapt to addition of Go tests.\n\n2016-01-30  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove Ruby support in 'etags'\n\n\t* lib-src/etags.c (Ruby_functions): Tag constants.  Don't tag\n\tsingleton classes.  Remove class qualifiers from tags generated\n\tfor method and constant names.  (Bug#22241)\n\n\t* doc/emacs/maintaining.texi (Tag Syntax): Mention that constants\n\tare tagged by etags in Ruby.\n\n\t* etc/NEWS: Mention that constants are tagged by etags in Ruby.\n\n\t* test/etags/ruby-src/test1.ru: Add more tests.\n\t* test/etags/ETAGS.good_1:\n\t* test/etags/ETAGS.good_2:\n\t* test/etags/ETAGS.good_3:\n\t* test/etags/ETAGS.good_4:\n\t* test/etags/ETAGS.good_5:\n\t* test/etags/ETAGS.good_6:\n\t* test/etags/CTAGS.good: Adapt to the changes in etags and in Ruby\n\ttests.\n\n2016-01-30  Eli Zaretskii  <eliz@gnu.org>\n\n\tAdjust etags test results to changes in copyright years\n\n\t* test/etags/CTAGS.good:\n\t* test/etags/ETAGS.good_1:\n\t* test/etags/ETAGS.good_2:\n\t* test/etags/ETAGS.good_3:\n\t* test/etags/ETAGS.good_4:\n\t* test/etags/ETAGS.good_5:\n\t* test/etags/ETAGS.good_6: Adjust to shift in characters and\n\tin line numbers.\n\n2016-01-30  Andreas Schwab  <schwab@linux-m68k.org>\n\n\tRevert \"Re-enable checks in member, memql, delete to complain about non-lists\"\n\n\tThis reverts commit f524e8b7f12d9b5a8b92084e5385429fe7b085b9.\n\n2016-01-30  Nicolas Petton  <nicolas@petton.fr>\n\n\tMake it possible to run make change-history on emacs-25\n\n\t* Makefile.in: Check if the current branch is emacs-25 instead of\n\t  master.\n\n2016-01-30  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tDon't fiddle with DEFAULT\n\n\t* lisp/progmodes/project.el (project--completing-read-strict):\n\tDon't change DEFAULT, whether is has any matches in\n\tCOLLECTION, or not.\n\n2016-01-30  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument xwidget commands and functions\n\n\t* doc/lispref/display.texi (Xwidgets): New section, describes some\n\tof the xwidget primitives.\n\t* doc/lispref/display.texi (Display): Update the chapter menu.\n\t* doc/emacs/misc.texi (Embedded WebKit Widgets): New section.\n\t* doc/emacs/emacs.texi (Top): Update the master menu to include\n\tthe xwidget node.\n\n2016-01-30  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tBuild fix for shr.el\n\n\t* shr.el (seq): Require.\n\n2016-01-30  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tImprove project-find-file yet again!\n\n\t* lisp/progmodes/project.el (project--completing-read-strict):\n\tNew function.\n\t(project-find-file-in): Use it.\n\t(project-file-completion-table): Move the default\n\timplementation inside the cl-defgeneric form.\n\t(https://lists.gnu.org/r/emacs-devel/2016-01/msg01720.html)\n\n2016-01-30  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tDon't pass DIR to 'hg status'\n\n\t* lisp/vc/vc-hg.el (vc-hg-dir-status-files):\n\tDon't pass DIR to 'hg status' (bug#22481).\n\n2016-01-30  Stephen Leake  <stephen_leake@stephe-leake.org>\n\n\tFix typo in previous commits\n\n\t* lisp/progmodes/project.el (project-find-file-in):\n\t* lisp/vc/vc-mtn.el (vc-mtn-find-ignore-file): Fix typo in previous\n\tcommit.\n\n2016-01-30  Stephen Leake  <stephen_leake@stephe-leake.org>\n\n\tImprove project-find-file\n\n\t* lisp/progmodes/project.el (project-file-completion-table): New.\n\t(project-find-file, project-or-external-find-file): Default to filename\n\tat point.\n\t(project-file-completion-table): New, split out from\n\tproject--find-file-in.\n\t(project-find-file-in): Renamed from project--find-file-in, use\n\tproject-file-completion-table.\n\n\t* lisp/progmodes/xref.el (ede-minor-mode): New declaration.\n\t(xref--find-ignores-arguments): Add doc string.\n\n2016-01-30  Stephen Leake  <stephen_leake@stephe-leake.org>\n\n\tImplement vc-mtn-find-ignore-file, fix some doc strings\n\n\t* lisp/cedet/cedet-global.el (cedet-gnu-global-root): Improve doc string.\n\n\t* lisp/cedet/ede/locate.el (initialize-instance): Improve doc string.\n\n\t* lisp/vc/vc-git.el (vc-git-find-ignore-file): Fix doc string.\n\n\t* lisp/vc/vc-mtn.el (vc-mtn-find-ignore-file): New function.\n\n2016-01-29  Vincent Bela\u00efche  <vincentb1@users.sourceforge.net>\n\n\tCorrect a whole bunch of bugs coming with renamed cell relocation.\n\n\tThis is the same change as commit on master branch. See\n\thttps://git.savannah.gnu.org/cgit/emacs.git/commit/?id=badcd38aa86ed7973f2be2743c405710973a0bdd\n\n\t* lisp/ses.el (ses-localvars): rename variable\n\t`ses--renamed-cell-symb-list' into `ses--in-killing-named-cell-list'\n\tand adjust the comment about it.\n\t(ses-plist-delq): new defun.\n\t(ses--ses-buffer-list): new defvar.\n\t(ses--unbind-cell-name): new defun.\n\t(ses-relocate-symbol): Do not relocate symbol when it is a named cell.\n\t(ses-relocate-formula): Undo change of\n\t2011-12-27T19:30:39Z!vincentb1@users.sourceforge.net that was\n\tpreventing relocation for named cell --- now doing this is delegated\n\tto function `ses-relocate-symbol'.\n\t(ses-relocate-range): In docstring, undo change of\n\t2016-01-03T07:31:52Z!johnw@newartisans.com, `ses-range' must remain\n\tlower case as it is not a variable.\n\t(ses-relocate-all): Cell name relocation : 1) check that cell is a\n\trenamed cell by testing `ses-cell' property to :ses-named, rather than\n\tcomparing name to corresponding standard name. Set rowcol of renamed\n\tcell into the hashmap --- `ses-cell' property must not be used for\n\tthat as the same name can be used for different locations in different\n\tSES sheets ; 2) use `local-variable-if-set-p' rather than `boundp' and\n\t`local-variable-p' to check if cell name is already in use in this\n\tsheet or needs initialization.\n\t(ses-relocate-all): Cell value relocation : 1) like for name\n\trelocation use the `ses-cell' property rather than comparing actual\n\tname to corresponding standard name. 2) Correct bug introduced in\n\t2011-12-27T19:30:39Z!vincentb1@users.sourceforge.net, as the test was\n\tmade the other way round than the intention --- ie value relocation\n\twas disabled for standard cell, not for renamed cell as was the\n\tintention.\n\t(ses-relocate-all): Add loop for unbinding deleted renamed cells\n\tnames.\n\t(ses-killbuffer-hook): new defun.\n\t(ses-mode): Add the ses--ses-buffer-list maintenance mechanism ---\n\tkill buffer hook, plus pushing current buffer if new in list.\n\t(ses-delete-row, ses-delete-column): Collect deleted renamed cells\n\tinto `ses--in-killing-named-cell-list'.\n\t(ses-rename-cell): Remove update of variable\n\t`ses--renamed-cell-symb-list', this variable is renamed to\n\t`ses--in-killing-named-cell-list', and its setting is done in\n\tfunctions `ses-delete-row' and , `ses-delete-column' now.\n\t(ses-rename-cell): Make cell new name a buffer local variable.\n\t(ses-rename-cell): Change correction of\n\t2015-12-30T23:10:37Z!vincentb1@users.sourceforge.net concerning\n\tcomputation of the range over which `cursor-intangible' property was\n\tto be updated. This correction was ok for non spilling cells, but not\n\tfor cells spilling over following blank cells. Simply use\n\t`next-single-property-change' rather than computing the end column\n\tfrom column widths.\n\n2016-01-29  Andreas Schwab  <schwab@linux-m68k.org>\n\n\tRe-enable checks in member, memql, delete to complain about non-lists\n\n\t* src/fns.c (Fmember, Fmemql, Fdelete): Revert 2007-10-16 change.\n\n2016-01-29  Martin Rudalics  <rudalics@gmx.at>\n\n\tMinor doc(-string) tweaks\n\n\t* lisp/window.el (window-in-direction): Fix doc-string typo.\n\t* doc/lispref/frames.texi (Frame Font): Mention canonical\n\tcharacter width/height.\n\t* doc/lispref/windows.texi (Windows and Frames): Clarify\n\thandling of minibuffer window for `window-in-direction'.\n\t(Window Sizes): Minor tweaks in descriptions of\n\t`window-max-chars-per-line', `window-min-width' and\n\t`window-min-size'.\n\t(Deleting Windows): Minor tweak in `delete-window' description.\n\t(Selecting Windows): Clarify window use time description.\n\t(Cyclic Window Ordering): Minor tweak.\n\t(Switching Buffers): Clarify description of\n\t`switch-to-buffer-in-dedicated-window'.\n\n2016-01-29  Eli Zaretskii  <eliz@gnu.org>\n\n\tMinor improvements to 'pcase' documentation\n\n\t* doc/lispref/control.texi (Pattern matching case statement):\n\tImprove the documentation of 'pcase' per comments.  See two\n\tdiscussion threads on emacs-devel@gnu.org for the details:\n\thttps://lists.gnu.org/r/emacs-devel/2016-01/msg01335.html\n\thttps://lists.gnu.org/r/emacs-devel/2016-01/msg01336.html.\n\n2016-01-29  Glenn Morris  <rgm@gnu.org>\n\n\tDon't use eval to quieten prolog.el compilation.\n\n\t* lisp/progmodes/prolog.el (pltrace-on, pltrace-off): Declare.\n\t(prolog-enable-sicstus-sd, prolog-disable-sicstus-sd): Don't use eval.\n\n2016-01-29  Glenn Morris  <rgm@gnu.org>\n\n\tMark some risky prolog variables.\n\n\t* lisp/progmodes/prolog.el (prolog-system-version)\n\t(prolog-keywords, prolog-types, prolog-mode-specificators)\n\t(prolog-determinism-specificators, prolog-directives)\n\t(prolog-program-name, prolog-program-switches)\n\t(prolog-consult-string, prolog-compile-string)\n\t(prolog-eof-string, prolog-prompt-regexp, prolog-help-function):\n\tMark anything processed by prolog-find-value-by-system as risky.\n\n2016-01-28  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/custom.el (defcustom): Doc fix.\n\n\t* doc/lispref/customize.texi (Variable Definitions):\n\tDefcustom should always have a type.\n\n2016-01-28  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/cedet/semantic/db-file.el (semanticdb-persistent-path):\n\tFix :type.\n\n\t* lisp/emacs-lisp/package.el (package-load-list): Improve :type.\n\n2016-01-28  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix Bug#22452\n\n\t* lisp/net/tramp-adb.el (tramp-adb-maybe-open-connection):\n\t* lisp/net/tramp-gvfs.el (tramp-gvfs-maybe-open-connection):\n\t* lisp/net/tramp-sh.el (tramp-maybe-open-connection):\n\t* lisp/net/tramp-smb.el (tramp-smb-maybe-open-connection):\n\tMark it as connected.\n\n\t* lisp/net/tramp.el (tramp-handle-file-remote-p): Check also, if\n\tconnection property \"connected\" is set.  (Bug#22452)\n\n2016-01-27  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/xwidget.el (xwidget-query-on-exit-flag): Declare.\n\n\t* lisp/xwidget.el (xwidget-webkit-browse-url): Give explicit error\n\tif not compiled with xwidgets.\n\n2016-01-27  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tC-u C-x = example doc fix\n\n\t* doc/emacs/mule.texi (International Chars):\n\tAdjust example to match current behavior of C-u C-x =.\n\n2016-01-27  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tmalloc.h hygiene\n\n\tThis attempts to future-proof Emacs a bit against possible glibc\n\tchanges, by having Emacs use <malloc.h> declarations rather than\n\tcoding them up by hand.  Problem noted by Florian Weimer in:\n\thttps://sourceware.org/ml/libc-alpha/2016-01/msg00777.html\n\tImplement this mainly by moving malloc.h-related functions from\n\temacs.c (which does not include <malloc.h>) to alloc.c (which does).\n\t* src/alloc.c (my_heap_start) [DOUG_LEA_MALLOC || GNU_LINUX]:\n\tNew function.\n\tThe remaining changes to this file apply only if DOUG_LEA_MALLOC.\n\t(alloc_unexec_pre, alloc_unexec_post): New functions.\n\t(malloc_initialize_hook): Use my_heap_start and alloc_unexec_post.\n\t(__MALLOC_HOOK_VOLATILE): New macro, if not already defined.\n\t(__malloc_initialize_hook): Use it.\n\t(malloc_state_ptr, malloc_initialize_hook, __malloc_initialize_hook):\n\tMove here from ...\n\t* src/emacs.c: ... here.\n\t(malloc_get_state, malloc_set_state): Remove extern decls.\n\t(my_heap_start) [DOUG_LEA_MALLOC || GNU_LINUX]: Remove static var.\n\tAll uses changed to similarly-named new function.\n\t(Fdump_emacs): Use new functions alloc_unexec_pre, alloc_unexec_post.\n\t* src/lisp.h (my_heap_start, alloc_unexec_pre, alloc_unexec_post):\n\tNew decls.\n\n2016-01-26  Eli Zaretskii  <eliz@gnu.org>\n\n\t* doc/emacs/mark.texi (Using Region): Clarify wording.  (Bug#22467)\n\n2016-01-26  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRemove never-set var handle_user_signal_hook\n\n\t* src/keyboard.c, src/keyboard.h (handle_user_signal_hook):\n\tRemove never-set var.  All uses removed.\n\n2016-01-26  K. Handa  <handa@gnu.org>\n\n\tBackport:fix previous change of src/ftfont.c (ftfont_shape_by_flt)\n\n\t* src/ftfont.c (ftfont_shape_by_flt): Fix previous change.  Access the\n\tsecond glyph only when there are enough glyphs.\n\n\t(cherry picked from commit 9835757013569673854b692ccbb58bfb3c3ed1f7)\n\n2016-01-26  K. Handa  <handa@gnu.org>\n\n\tsupport rendering of wider range of combinging characters by ftfont backend\n\n\t* lisp/language/hebrew.el (hebrew-shape-gstring): If the font backend\n\tsupports rendering of combining characters, call\n\tfont-shape-gstring.\n\n\t* src/font.c (Ffont_get): Handle `combining-capability' property.\n\t(syms_of_font): New symbol \":combining-capability'.\n\n\t* src/font.h (struct font_driver): New member combining_capability.\n\n\t* src/ftfont.c: Include \"category.h\".\n\t(ftfont_driver): Initialize combining_capability to\n\tftfont_combining_capability.\n\t(ftfont_shape_by_flt): If OTF is null, try to find a suitable\n\tFLT in advance.\n\t(ftfont_combining_capability): New function.\n\n\t(cherry picked from commit 536f48e9a2251b9e654ea974bd90ff2f40218753)\n\n2016-01-26  Anders Lindgren  <andlind@gmail.com>\n\n\tFixed NextStep fullscreen issue (bug#22468)\n\n\tWhen in fullscreen mode, `[screen visibleFrame]' sometimes\n\tincludes, sometimes excludes the menu bar. This could cause\n\ta frame to be placed too low when in fullscreen mode.\n\n\t* src/nsterm.m (ns_menu_bar_should_be_hidden): Trace.\n\t(constrain_frame_rect): New parameter, isFullscreen, when true don't\n\tquery the height of the menu bar.\n\t(ns_constrain_all_frames): Pass `false' (isFullscreen) to\n\t`constrain_frame_rect'.\n\t([EmacsView initFrameFromEmacs:]): Trace.\n\t([EmacsView isFullscreen]): Trace.\n\t([EmacsWindow constrainFrameRect:toScreen:]): Pass fullscreen\n\tstate to `constrain_frame_rect'.\n\n2016-01-26  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/files.el: Use a fixed file name for the second dir-locals file\n\n\t(dir-locals-file): Revert to its original fixed value.\n\t(dir-locals-file-2): New const.\n\t(dir-locals--all-files): Don't use `file-name-all-completions'.\n\tInstead, just check for the 2 dir-locals files and return a list\n\tof the ones that exit (if any).\n\n\t* etc/NEWS: Document the change.\n\n\t* doc/emacs/custom.texi (Directory Variables): Document the change.\n\n\t* doc/lispref/variables.texi (Directory Local Variables): Update\n\taccordingly.\n\n2016-01-26  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/files-x.el (modify-dir-local-variable): Small rewrite\n\n\tChange a variable name to be more meaningful, and reorder some of\n\tthe code with no change in behavior.\n\n2016-01-26  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/files.el (dir-locals-find-file): Refactor return values\n\n\tReturning a cache remains unchanged, but the case of returning a\n\tfile (or pattern) is now changed to return the contaning\n\tdirectory.\n\n\t(dir-locals-read-from-file): Rename to `dir-locals-read-from-dir'\n\tand make obsolete.\n\t(dir-locals-read-from-dir): Simplify accordingly.\n\t(hack-dir-local-variables): Simplify accordingly and rename a\n\tvariable.\n\n2016-01-26  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/textmodes/flyspell.el (flyspell--prev-meta-tab-binding):\n\tDeclare.\n\n\t* configure.ac (USE_CAIRO): Rename to more standard HAVE_CAIRO.\n\n\t* configure.ac (--with-cairo): Say it's experimental.\n\n\t* lisp/xwidget.el (xwidget-webkit-scroll-behavior):\n\tRename using American spelling.  Update all uses.\n\n2016-01-26  Glenn Morris  <rgm@gnu.org>\n\n\tYet more xwidget doc fixes.\n\n\t* lisp/xwidget.el (xwidget-webkit-scroll-behaviour)\n\t(xwidget-insert, xwidget-webkit-browse-url)\n\t(xwidget-webkit-scroll-up, xwidget-webkit-scroll-down)\n\t(xwidget-webkit-scroll-forward, xwidget-webkit-scroll-backward)\n\t(xwidget-webkit-insert-string, xwidget-webkit-show-named-element)\n\t(xwidget-webkit-show-id-element)\n\t(xwidget-webkit-show-id-or-named-element)\n\t(xwidget-webkit-adjust-size, xwidget-webkit-current-url)\n\t(xwidget-webkit-execute-script-rv)\n\t(xwidget-webkit-copy-selection-as-kill, xwidget-get)\n\t(xwidget-put):  Doc fixes.\n\t(xwidget-webkit-insert-string, xwidget-webkit-show-named-element)\n\t(xwidget-webkit-show-id-element)\n\t(xwidget-webkit-show-id-or-named-element): Prompt fixes.\n\n2016-01-25  Ted Zlatanov  <tzz@lifelogs.com>\n\n\t* lisp/gnus/gnus-art.el (gnus-blocked-images):\n\tAdd explicit nil choice and tags.\n\n2016-01-25  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSpelling fixes\n\n2016-01-25  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t(font-lock-ensure-function): Fix bug#22399\n\n\t* lisp/font-lock.el (font-lock-ensure-function): Fix handling when\n\tfont-lock-mode is not enabled (bug#22399).\n\n2016-01-25  Alan Mackenzie  <acm@muc.de>\n\n\tExpunge \"allow\" + infinitive from source and doc, part 2.\n\n\tDo the same for \"permit\", \"enable\", \"prevent\", and (where appropriate)\n\t\"require\".\n\n\tdoc/misc/reftex.texi:\n\tdoc/misc/url.texi:\n\tlib/get-permissions.c:\n\tlib/strftime.c:\n\tlisp/org/org-element.el:\n\tlisp/org/org-mobile.el:\n\tlisp/textmodes/reftex-vars.el:\n\tsrc/bidi.c:\n\tsrc/emacs.c:\n\tsrc/xdisp.c:\n\ttest/etags/c-src/emacs/src/lisp.h:\n\n\tExpunge the likes of \"This allows to do something\" from the above files.\n\n2016-01-25  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/tabulated-list.el (tabulated-list-mode): Redundant line\n\n\t`special-mode' is already read-only.\n\n2016-01-25  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/ert.el (ert--results-move): Change error to user-error\n\n2016-01-25  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort \"$@\" to OpenIndiana ksh93\n\n\tIn https://lists.gnu.org/r/bug-autoconf/2015-12/msg00000.html\n\tPavel Raiskup reports that ${1+\"$@\"} runs afoul of a bug in /bin/sh\n\t(derived from ksh 93t+ 2010-03-05).  ${1+\"$@\"} works around an ancient\n\tbug in long-dead shells, so remove the workaround.\n\t* admin/check-doc-strings, configure.ac, lib-src/rcs2log:\n\tUse plain \"$@\" rather than ${1+\"$@\"}.\n\n2016-01-25  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* src/xwidget.c (Fxwidget_set_adjustment): Fix doc string quoting typo.\n\n2016-01-25  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tImprove wording for SMB support\n\n\t* doc/misc/tramp.texi (External methods): Improve and modernize\n\twording for discussion of smbclient.  There is no longer any\n\tneed to mention the laundry list of old MS Windows implementations\n\tof SMB and CIFS, nor to mention CIFS.  Also, give a URL for Samba.\n\n2016-01-24  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from gnulib\n\n\tThis incorporates:\n\t2016-01-24 openat_proc_name: fix last '/' overwritten on OS/2 kLIBC\n\t2016-01-24 closedir, dirfd, opendir: port to OpenSolaris 5.10\n\t2016-01-15 detect utimes() correctly on OS/2 kLIBC\n\t2016-01-15 openat_proc_name: port to OS/2 kLIBC\n\t2016-01-14 stdint: check _INTPTR_T_DECLARED for intptr_t etc.\n\t2016-01-14 opendir, closedir, dirfd, fdopendir: port to OS/2 kLIBC\n\t2016-01-14 dup, dup2, fcntl: support a directory fd on OS/2 kLIBC\n\t2016-01-14 binary-io: don't put fd in binary mode if a console on EMX\n\t2016-01-14 sig2str: list all signals on FreeBSD >= 7\n\t2016-01-13 acl-permissions: port to USE_ACL==0 platforms\n\t2016-01-12 mktime: rename macro to avoid glibc clash\n\t2016-01-12 Port \"$@\" to OpenIndiana ksh93\n\t2016-01-12 Port Universal Time settings to strict POSIX\n\t* build-aux/gitlog-to-changelog, build-aux/update-copyright:\n\t* doc/misc/texinfo.tex, lib/acl-internal.c, lib/acl-internal.h:\n\t* lib/binary-io.h, lib/dirent.in.h, lib/dirfd.c, lib/dup2.c:\n\t* lib/fcntl.c, lib/fdopendir.c, lib/mktime.c, lib/openat-proc.c:\n\t* lib/sig2str.h, lib/stdint.in.h, m4/dirfd.m4, m4/dup2.m4:\n\t* m4/fcntl.m4, m4/utimes.m4:\n\tCopy from gnulib.\n\t* m4/gnulib-comp.m4: Regenerate.\n\n2016-01-24  Alan Mackenzie  <acm@muc.de>\n\n\tExpunge \"allow\" + infinitive without direct object from source and doc.\n\n\tDo the same for \"permit\", \"enable\", and \"prevent\".\n\n\t* doc/emacs/mule.texi:\n\t* doc/lispref/control.texi:\n\t* doc/lispref/display.texi:\n\t* doc/lispref/frames.texi:\n\t* doc/lispref/functions.texi:\n\t* doc/lispref/nonascii.texi:\n\t* doc/lispref/streams.texi:\n\t* doc/lispref/windows.texi:\n\t* doc/misc/dbus.texi:\n\t* doc/misc/eww.texi:\n\t* doc/misc/flymake.texi:\n\t* doc/misc/octave-mode.texi:\n\t* doc/misc/org.texi:\n\t* doc/misc/reftex.texi:\n\t* doc/misc/tramp.texi:\n\t* doc/misc/wisent.texi:\n\t* etc/NEWS:\n\t* lisp/autorevert.el:\n\t* lisp/cedet/mode-local.el:\n\t* lisp/cedet/semantic/senator.el:\n\t* lisp/cedet/semantic/wisent.el:\n\t* lisp/dos-fns.el:\n\t* lisp/frameset.el:\n\t* lisp/gnus/gnus-agent.el:\n\t* lisp/gnus/mm-util.el:\n\t* lisp/international/characters.el:\n\t* lisp/ldefs-boot.el:\n\t* lisp/mail/mailclient.el:\n\t* lisp/man.el:\n\t* lisp/mh-e/mh-search.el:\n\t* lisp/net/tramp-cmds.el:\n\t* lisp/net/tramp-gvfs.el:\n\t* lisp/org/org-crypt.el:\n\t* lisp/org/org-element.el:\n\t* lisp/org/org-feed.el:\n\t* lisp/org/org.el:\n\t* lisp/org/ox-ascii.el:\n\t* lisp/org/ox-icalendar.el:\n\t* lisp/org/ox-publish.el:\n\t* lisp/org/ox.el:\n\t* lisp/play/gamegrid.el:\n\t* lisp/play/gomoku.el:\n\t* lisp/progmodes/antlr-mode.el:\n\t* lisp/progmodes/python.el:\n\t* lisp/progmodes/vhdl-mode.el:\n\t* lisp/strokes.el:\n\t* lisp/textmodes/ispell.el:\n\t* lisp/tree-widget.el:\n\t* lisp/vc/pcvs.el:\n\t* lisp/window.el:\n\t* src/lisp.h:\n\t* src/w32.c:\n\t* src/w32heap.c:\n\t* src/w32term.c:\n\t* src/window.c:\n\t* src/xfaces.c:\n\n\tReplace solecisms like \"This allow to do something\" with a correct\n\talternative, such as \"This allow you to do something\", \"This allows\n\tsomething to be done\" or \"This allows the doing of something\".\n\n2016-01-24  Kelvin White  <kwhite@gnu.org>\n\n\tAdd NEWS entry for asynchronous reconnect in ERC\n\n2016-01-24  Kelvin White  <kwhite@gnu.org>\n\n\tbrowse-url.el: Add 'google-chrome' to supported browsers.\n\n2016-01-24  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort Tramp manual to latest Texinfo\n\n\tOtherwise, 'make pdf' did not work (Bug#22416).\n\t* doc/misc/tramp.texi (xxx, yyy): Remove macros.\n\t(trampfn): Specialize to the case where METHOD is nonempty.\n\tThe 2nd argument is now user@host, not 2nd user and 3rd host args.\n\tAll uses changed.\n\t(trampf): New macro.\n\n2016-01-24  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\t* eww.el (eww-render): Protect against empty content-types.\n\n2016-01-24  Nicolas Petton  <nicolas@petton.fr>\n\n\tauthors.el updates\n\n\t* admin/authors.el (authors-ignored-files, authors-renamed-files-alist):\n\t  Additions.\n\n2016-01-24  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tRename xref-query-replace to xref-query-replace-in-results\n\n\t* lisp/progmodes/xref.el(xref-query-replace):\n\tRename to xref-query-replace-in-results.\n\t(https://lists.gnu.org/r/emacs-devel/2016-01/msg01240.html)\n\n\t* lisp/progmodes/xref.el (xref--xref-buffer-mode-map):\n\t* lisp/dired-aux.el (dired-do-find-regexp-and-replace):\n\t* doc/emacs/dired.texi (Operating on Files):\n\t* doc/emacs/maintaining.texi (Xref Commands)\n\t(Identifier Search, Identifier Search): Update accordingly.\n\n2016-01-24  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tUpdate cl-defgeneric and cl-defmethod docstrings\n\n\t* lisp/emacs-lisp/cl-generic.el: Remove outdated TODO item.\n\t(cl-defgeneric): Rename BODY to DEFAULT-BODY.\n\t(cl-defmethod): Mention that multiple dispatch arguments are\n\tallowed.  Document supported types.  (Bug#22336)\n\n2016-01-23  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tComment out next-error-function integration in xref\n\n\t* lisp/progmodes/xref.el (xref--xref-buffer-mode):\n\tComment out next-error-function integration\n\t(https://lists.gnu.org/r/emacs-devel/2016-01/msg01286.html).\n\n2016-01-23  John Wiegley  <johnw@newartisans.com>\n\n\tCorrect a use of \"which\" in intro.texi\n\n2016-01-23  Alan Mackenzie  <acm@muc.de>\n\n\tDistinguish the two meanings of Java's keyword \"default\".  Fixes bug #22358.\n\n\t* lisp/progmodes/cc-engine.el (c-guess-basic-syntax CASE 14): Check the\n\tcontext of case labels (including \"default\") more rigorously.\n\t(c-guess-basic-syntax CASE 15): Consequential amendment.\n\n\t* lisp/progmodes/cc-langs.el (c-modifier-kwds): Add \"default\" to Java's value.\n\n2016-01-23  Oscar Fuentes  <ofv@wanadoo.es>\n\n\tDon't operate on menu bar of nonexistent frame\n\n\t* src/xfns.c (Fx_hide_tip) [USE_LUCID]: Check that the current frame\n\tis valid before redisplaying its menu. Fixes bug#22438.\n\n2016-01-23  Anders Lindgren  <andlind@gmail.com>\n\n\tUnbreak the GNUstep build.\n\n\t* src/nsterm.m ([EmacsBell init]): In GNUstep, don't use the\n\tpredefined \"caution\" image. Add trace.\n\t(x_set_window_size): Remove unused variables `cols' and `rows'.\n\t(ns_draw_fringe_bitmap): Exclude assignment of `fromRect' when\n\tGNUstep is used.\n\t([EmacsView updateFrameSize:]): Remove unused variable `win'.\n\t([EmacsWindow zoom:]): Remove unused variable `f'.\n\n2016-01-23  Eli Zaretskii  <eliz@gnu.org>\n\t    John Wiegley  <johnw@gnu.org>\n\t    Michael Heerdegen  <michael_heerdegen@web.de>\n\n\tImprove documentation of 'pcase'\n\n\t* doc/lispref/control.texi (Pattern matching case statement):\n\tReorganize, expand, and improve wording.\n\n\t* etc/NEWS: Mention that 'pcase' changes are documented.\n\n2016-01-23  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* etc/NEWS: Say that Cairo is experimental.\n\n2016-01-23  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tReport error for PNG under Cairo\n\n\t* src/image.c (lookup_rgb_color): Signal a file error instead\n\tof dumping core when mishandling an image.\n\n2016-01-23  Arash Esbati  <esbati@gmx.de>\n\n\tDelete a spurious backquote (tiny change)\n\n\t* lisp/textmodes/reftex-ref.el (reftex-label): Delete a\n\tspurious backquote which raises an error with emacs 25.\n\n2016-01-23  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPacify --enable-gcc-warnings --with-cairo\n\n\tProblem reported by Alexander Kuleshov in:\n\thttps://lists.gnu.org/r/emacs-devel/2016-01/msg01289.html\n\t* src/gtkutil.c (xg_get_page_setup):\n\tUse switch rather than if-then-else.\n\t* src/image.c (COLOR_TABLE_SUPPORT):\n\tDefine directly rather than via #define and optional later #undef.\n\t(lookup_rgb_color) [USE_CAIRO && ENABLE_CHECKING]:\n\tCrash when the pixel is undefined, as there is a genuine bug\n\there (Bug#22442).\n\t* src/image.c (tiff_load, gif_load, svg_load_image)\n\t(x_kill_gs_process) [USE_CAIRO]:\n\t* src/xterm.c (x_draw_fringe_bitmap) [USE_CAIRO]:\n\tOmit unused locals, or move them to where they\u2019re needed.\n\t(x_clear_area1): Now ATTRIBUTE_UNUSED.\n\n2016-01-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tUpdate documentation for Dired search and replace\n\n\t* doc/emacs/dired.texi (Operating on Files): Update descriptions\n\tof 'A' and 'Q' now bound to 'dired-do-find-regexp' and\n\t'dired-do-find-regexp-and-replace'.\n\n\t* etc/NEWS: Mention xref-related changes in Dired.\n\n2016-01-23  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort recent xdisp.c fix to picky C compilers\n\n\t* src/xdisp.c (dump_glyph): Redo the call to fprintf to avoid\n\tputting #if inside the arguments to a standard function, which\n\tthe C standard says has undefined behavior.\n\n2016-01-22  Alan Mackenzie  <acm@muc.de>\n\n\tPrevent spurious recognition of K&R argument declarations.  Fixes bug #2203\n\n\t* lisp/progmodes/cc-engine.el (c-forward-declarator): New function.\n\t(c-in-knr-argdecl): Before recognizing a K&R argument declaration, check it is\n\tcontained in the preceding arg list.\n\n\t* lisp/progmodes/cc-fonts.el (c-font-lock-declarators): Use the new function\n\t`c-forward-declarator' in place of inline code.\n\n2016-01-22  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix the build with --enable-checking=glyphs\n\n\t* src/xdisp.c (dump_glyph): Don't refer to glyph->u.xwidget in a\n\tbuild without xwidget support.\n\n2016-01-22  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument cl-generic.el\n\n\t* doc/lispref/functions.texi (Generic Functions): New section.\n\t(Bug#22336)\n\t(Functions): Update the chapter menu.\n\t* doc/lispref/elisp.texi: Update the master menu.\n\n2016-01-22  Paul Eggert  <eggert@cs.ucla.edu>\n\n\txwidgets style cleanup\n\n\tAdjust the newly-added Xwidgets code so that it uses a more-typical\n\tEmacs style.  This should not affect behavior, except that in\n\ta few places it adds runtime checks that Lisp arguments are of\n\tthe proper type, and in one place it uses more-precise arithmetic.\n\t* src/buffer.c, src/dispnew.c, src/emacs.c, src/emacsgtkfixed.c:\n\t* src/emacs.c, src/print.c, src/window.c, src/xdisp.c, src/xterm.c:\n\tInclude xwidget.h unconditionally.\n\t* src/buffer.c (Fkill_buffer):\n\t* src/dispnew.c (update_window):\n\t* src/emacs.c (main):\n\t* src/print.c (print_object):\n\t* src/window.c (Fdelete_window_internal):\n\t* src/xdisp.c (handle_single_display_spec, push_it, pop_it)\n\t(get_next_element, set_iterator_to_next, next_element_from_xwidget)\n\t(dump_glyph, calc_pixel_width_or_height, BUILD_GLYPH_STRINGS_XW)\n\t(BUILD_GLYPH_STRINGS, x_produce_glyphs, get_window_cursor_type):\n\t* src/xterm.c (x_draw_glyph_string, x_draw_bar_cursor):\n\tCall xwidget functions and macros without worrying about\n\tHAVE_XWIDGETS when the code is a no-op on non-xwidget\n\tplatforms.\n\t* src/dispextern.h (XWIDGET_GLYPH, struct glyph_string.xwidget)\n\t(IT_XWIDGET, GET_FROM_XWIDGET, struct it.u.xwidget)\n\t(struct it.xwidget):\n\t* src/lisp.h (PVEC_XWIDGET, PVEC_XWIDGET_VIEW):\n\tAlways define.\n\t* src/emacsgtkfixed.h: Omit unnecessary comment.\n\t* src/keyboard.c: Fix spacing.\n\t* src/xdisp.c (BUILD_XWIDGET_GLYPH_STRING, produce_xwidget_glyph):\n\tDefine to be a no-op if not HAVE_XWIDGETS.\n\t* src/xwidget.c: Include xwidget.h first (after config.h)\n\tto make sure that it can stand by itself.\n\t(Fmake_xwidget, Fxwidget_webkit_execute_script):\n\tFix typo in doc string.\n\t(Fmake_xwidget): Check type of args.\n\t(Fmake_xwidget, offscreen_damage_event)\n\t(webkit_document_load_finished_cb, webkit_download_cb)\n\t(webkit_new_window_policy_decision_requested_cb)\n\t(webkit_navigation_policy_decision_requested_cb)\n\t(xwidget_osr_draw_cb, xwidget_osr_event_forward)\n\t(xwidget_osr_event_set_embedder, xwidget_init_view):\n\tOmit unnecessary casts.\n\t* src/xwidget.c (Fmake_xwidget, xwidget_hidden)\n\t(xwidget_show_view, xwidget_hide_view)\n\t(x_draw_xwidget_glyph_string, xwidget_start_redisplay, xwidget_touch)\n\t(xwidget_touched):\n\t* src/xwidget.h (struct xwidget.kill_without_query)\n\t(struct xwidget_view.redisplayed, struct xwidget_view.hidden):\n\tUse bool for boolean.\n\t* src/xwidget.c (store_xwidget_event_string, Fxwidget_size_request):\n\tSimplify by using list functions.\n\t(WEBKIT_FN_INIT): Omit unnecessary test for nil.\n\t(Fxwidget_resize): Check type of integer args\n\tbefore doing any work.  Check that they are nonnegative.\n\t(Fxwidget_set_adjustment): Check type of integer arg.\n\tAvoid redundant call to gtk_scrolled_window_get_vadjustment.\n\tSimplify.  Use double, not float.\n\t(Fxwidget_info, Fxwidget_view_info): Simplify by using CALLN.\n\t(valid_xwidget_spec_p): Simplify.\n\t(xwidget_spec_value): Omit unused arg FOUND.  All callers changed.\n\t* src/xwidget.h: Include lisp.h first, so that includers do\n\tnot need to worry about doing that before including this file.\n\tMake this .h file safe to include even on non-HAVE_XWIDGETS\n\tconfigurations, to simplify the includers.\n\t(x_draw_xwidget_glyph_string, syms_of_xwidget, valid_xwidget_spec_p)\n\t(xwidget_end_redisplay, lookup_xwidget)\n\t(xwidget_view_delete_all_in_window, kill_buffer_xwidgets):\n\tNow a no-op if !HAVE_XWIDGETS, to simplify callers.\n\t(struct glyph_matrix, struct glyph_string, struct xwidget)\n\t(struct xwidget_view, struct window):\n\tNew forward or incomplete decls, so that includers need not\n\tassume the corresponding .h files are already included, or that\n\tHAVE_XWIDGETS is defined.\n\t(struct xwidget_type, xwidget_from_id): Remove; unused.\n\n2016-01-22  Michael Albinus  <michael.albinus@gmx.de>\n\n\tBackport kqueue integration from master\n\n\t* configure.ac (--with-file-notification): Add kqueue.\n\t(top): Remove special test for \"${HAVE_NS}\" and\n\t${with_file_notification}, this is handled inside gfilenotify\n\ttests.  Add kqueue tests.  Use NOTIFY_CFLAGS and NOTIFY_LIBS\n\tinstead of library specific variables.  Add error message for\n\tgfile on Nextstep.\n\n\t* doc/lispref/os.texi (File Notifications): Add kqueue as backend.\n\tFix some glitches in the example.\n\n\t* etc/NEWS: Mention kqueue.\n\n\t* lisp/filenotify.el (file-notify--library)\n\t(file-notify-descriptors, file-notify-callback)\n\t(file-notify-add-watch, file-notify-rm-watch)\n\t(file-notify-valid-p): Add kqueue support.\n\t(file-notify--rm-descriptor): Remove WHAT arg.\n\n\t* src/Makefile.in: Use NOTIFY_CFLAGS and NOTIFY_LIBS.\n\n\t* src/emacs.c (main): Call globals_of_kqueue and syms_of_kqueue.\n\n\t* src/inotify.c (inotifyevent_to_event): Extract file name from\n\twatch_object if the event doesn't provide it.\n\t(Finotify_add_watch): Add file name to watch_object.\n\n\t* src/keyboard.c (make_lispy_event): Check also for HAVE_KQUEUE.\n\n\t* src/kqueue.c: New file.\n\n\t* src/lisp.h: Declare extern globals_of_kqueue and syms_of_kqueue.\n\n\t* test/automated/file-notify-tests.el\n\t(file-notify--test-expected-events): Remove.\n\t(file-notify--test-cleanup): Do not set that variable.\n\t(file-notify--test-timeout) Use different timeouts for\n\tdifferent libraries.\n\t(file-notify--test-library): New defun.\n\t(file-notify--test-event-test): Make stronger checks.\n\t(file-notify--test-with-events): EVENTS can also be a list of\n\tlists.  Flush outstanding events before running the body.\n\tMake timeout heuristically depend on the number of events.\n\t(file-notify-test01-add-watch, file-notify-test02-events)\n\t(file-notify-test04-file-validity, file-notify-test05-dir-validity):\n\tRewrite in order to call file monitors but directory monitors.\n\t(file-notify-test02-events, file-notify-test04-file-validity): Do\n\tnot skip cygwin tests.  Add additional test for file creation.\n\tAdapt expected result for different backends.\n\t(file-notify-test03-autorevert): Some of the tests don't work for\n\tw32notify.\n\t(file-notify-test06-many-events): New test.\n\n2016-01-22  John Wiegley  <johnw@newartisans.com>\n\n\tFurther corrections to the pcase docstring\n\n2016-01-22  Eli Zaretskii  <eliz@gnu.org>\n\n\t* doc/emacs/anti.texi (Antinews): Rewrite for Emacs 25.\n\n2016-01-22  Stephen Leake  <stephen_leake@stephe-leake.org>\n\n\tIn xref-collect-references, force backends to respect the 'dir' arg\n\n\t* lisp/progmodes/xref.el (xref-collect-references): Force symref backends\n\tto use `default-directory'.\n\n2016-01-22  John Wiegley  <johnw@newartisans.com>\n\n\tMinor correction to pcase docstring\n\n2016-01-22  John Wiegley  <johnw@newartisans.com>\n\n\tWrite a new docstring for the pcase macro\n\n\t* lisp/emacs-lisp/pcase.el (pcase): Write a new docstring.\n\n2016-01-21  Stephen Berman  <stephen.berman@gmx.net>\n\n\tAvoid byte-compiler warning in todo-mode (bug#21953)\n\n\t* lisp/calendar/todo-mode.el (todo-convert-legacy-files): Add limit argument\n\tto looking-back to comply with advertised-calling-convention.\n\n2016-01-21  Stephen Berman  <stephen.berman@gmx.net>\n\n\tFix desktop support in todo-mode and doc-view (bug#22377)\n\n\t* lisp/calendar/todo-mode.el (todo-restore-desktop-buffer):\n\t* lisp/doc-view.el (doc-view-restore-desktop-buffer): Return current buffer.\n\n\t* lisp/calendar/todo-mode.el (todo-modes-set-2):\n\t* lisp/doc-view.el (doc-view-mode): Set desktop-save-buffer unconditionally.\n\n2016-01-21  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tNo need to configure gobject-introspection\n\n\tIt wasn\u2019t needed for the recently-installed xwidget_mvp code; see:\n\thttps://lists.gnu.org/r/emacs-devel/2016-01/msg01154.html\n\t* configure.ac (DOES_XWIDGETS_USE_GIR, GIR_REQUIRED, GIR_MODULES):\n\t(HAVE_GIR):\n\t* src/Makefile.in (GIR_LIBS, GIR_CFLAGS):\n\tRemove.  All uses removed.\n\t* configure.ac (emacs_config_features): Don\u2019t worry about GIR.\n\n2016-01-20  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDon\u2019t export C symbols not used elsewhere\n\n\tThese were recently added, mostly as part of xwidget code.\n\t* src/emacsgtkfixed.c (emacs_fixed_get_type): Now static.\n\t(EMACS_FIXED, EMACS_FIXED_GET_CLASS):\n\tNow static functions here, not macros in emacsgtkfixed.h.\n\t* src/emacsgtkfixed.h (EMACS_TYPE_FIXED):\n\tRemove.  All uses replaced by definiens.\n\t(EMACS_FIXED, EMACS_FIXED_GET_CLASS):\n\tRemove; these are now static functions in emacsgtkfixed.c.\n\t(EMACS_FIXED_CLASS, EMACS_IS_FIXED, EMACS_IS_FIXED_CLASS):\n\tRemove; unused.\n\t(emacs_fixed_get_type): Remove decl; no longer extern.\n\t* src/xwidget.c (offscreen_damage_event)\n\t(webkit_mime_type_policy_typedecision_requested_cb)\n\t(webkit_new_window_policy_decision_requested_cb)\n\t(webkit_navigation_policy_decision_requested_cb)\n\t(xwidget_spec_value, xwidget_view_lookup)\n\t(xwidget_start_redisplay, xwidget_touch):\n\tNow static.\n\t* src/xwidget.h (xwidget_start_redisplay, xwidget_touch):\n\tRemove decls.\n\n2016-01-20  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tSupport squiggly heredocs in ruby-mode\n\n\t* lisp/progmodes/ruby-mode.el (ruby-here-doc-beg-re):\n\tSupport squiggly heredocs added in Ruby 2.3.\n\n\t* test/indent/ruby.rb: Add squiggly example.\n\n2016-01-20  Glenn Morris  <rgm@gnu.org>\n\n\t* configure.ac (emacs_config_features): Remove WEBKIT.\n\n2016-01-20  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort to platforms with gtk3 but not webkitgtk3\n\n\tI ran into this problem on my Fedora 23 installation;\n\tEmacs configured but did not build when --with-xwidgets was specified.\n\t* configure.ac (HAVE_WEBKIT, HAVE_GIR): Omit unnecessary initializations.\n\t(DOES_XWIDGETS_USE_GIR): New var.\n\tIf --with-xwidgets is specified, report an error if not\n\tdoable, to be consistent with the other --with options.\n\tRequire webkitgtk3 to use Xwidgets, as the Xwidgets code does\n\tnot work at all without webkitgtk3.  Simplify use of\n\tEMACS_CHECK_MODULES.  Output message about gobject\n\tintrospection only if xwidgets are used.\n\t* etc/NEWS: Users need webkitgtk3, not merely webkit.\n\t* src/xwidget.c (syms_of_xwidget): Don\u2019t worry about HAVE_WEBKIT_OSR,\n\tsince this file is no longer compiled if webkitgtk3 is not available.\n\n2016-01-20  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix doc string of 'isearch-search-fun-function'\n\n\t* lisp/isearch.el (isearch-search-fun-function)\n\t(isearch-search-string): Doc fixes.  (Bug#22411)\n\n2016-01-20  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/xwidget.el: Nitpicks\n\n\t* lisp/xwidget.el (xwidget-log, xwidget-webkit-callback):\n\tUse with-current-buffer rather than save-excursion + set-buffer.\n\n2016-01-20  Glenn Morris  <rgm@gnu.org>\n\n\tDon't hard-code 1 as point-min.\n\n\t* lisp/image-mode.el (image-display-size):\n\t* lisp/xwidget.el (xwidget-webkit-last-session)\n\t(xwidget-webkit-current-session): Don't hard-code 1 as point-min.\n\n2016-01-20  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/xwidget.el: Add declarations to silence non-xwidget compilation.\n\n2016-01-20  Glenn Morris  <rgm@gnu.org>\n\n\tTrivial doc copyedits.\n\n\t* src/xwidget.c (Fmake_xwidget, Fget_buffer_xwidgets)\n\t(Fxwidget_webkit_get_title, Fxwidget_resize)\n\t(Fxwidget_set_adjustment, Fxwidgetp, Fxwidget_view_p)\n\t(Fxwidget_info, Fxwidget_view_lookup)\n\t(Fset_xwidget_query_on_exit_flag): Trivial doc copyedits.\n\n2016-01-20  Glenn Morris  <rgm@gnu.org>\n\n\tAvoid advising image-display-size for xwidgets.\n\n\t* lisp/xwidget.el (xwidget-image-display-size): Remove.\n\t(image-display-size): Remove advice.\n\t* lisp/image-mode.el (xwidget-info, xwidget-at): Declare.\n\t(image-display-size): Incorporate xwidget code directly.\n\n2016-01-20  Glenn Morris  <rgm@gnu.org>\n\n\tAvoid breaking non-xwidget Emacs that happen to load xwidget.el.\n\n\t* lisp/xwidget.el (window-configuration-change-hook)\n\t(kill-buffer-query-functions): Only modify these hooks if\n\tcompiled with xwidget support.\n\n2016-01-20  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/xwidget.el (xwidget-webkit-scroll-behaviour): Fix custom spec.\n\n2016-01-19  Glenn Morris  <rgm@gnu.org>\n\n\t* configure.ac (WEBKIT, GIR, CAIRO): Use EMACS_CHECK_MODULES, not PKG_.\n\n\t* configure.ac (emacs_config_features): Add XWIDGETS, WEBKIT, GIR.\n\n\t* configure.ac (HAVE_WEBKIT_OSR): Remove broken, duplicated gtk3 test.\n\n2016-01-19  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\t* lisp/gnus/nnir.el (nnir-request-update-mark):\n\tDefault to the original mark.\n\tcf. <http://thread.gmane.org/gmane.emacs.gnus.general/86583>\n\tand <http://thread.gmane.org/gmane.emacs.gnus.general/86640>\n\n2016-01-19  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/xwidget.el (report-xwidget-bug): Remove.\n\n\t(top-level): No longer require reporter.\n\n2016-01-19  Joakim Verona  <joakim@verona.se>\n\t    Gr\u00e9goire Jadi  <daimrod@gmail.com>\n\n\tSupport for the new Xwidget feature.\n\n\t* configure.ac:\n\t(HAVE_XWIDGETS, WIDGET_OBJ, EMACS_CONFIG_FEATURES):\n\t* src/xterm.c (x_draw_glyph_string, x_draw_bar_cursor):\n\t* src/xdisp.c:\n\t(handle_display_spec, handle_single_display_spec, push_it)\n\t(pop_it, set_iterator_to_next, dump_glyph)\n\t(calc_pixel_width_or_height, fill_xwidget_glyph_string)\n\t(BUILD_XWIDGET_GLYPH_STRING, BUILD_GLYPH_STRINGS)\n\t(produce_xwidget_glyph, x_produce_glyphs)\n\t(get_window_cursor_type):\n\t* src/window.c (Fdelete_window_internal):\n\t* src/termhooks.h (e):\n\t* src/print.c (print_object):\n\t* src/lisp.h (ptrdiff_t):\n\t* src/keyboard.c (kbd_buffer_get_event, make_lispy_event)\n\t(syms_of_keyboard):\n\t* src/emacs.c (main):\n\t* src/dispnew.c (update_window, scrolling_window):\n\t* src/dispextern.h (g, i):\n\t* Makefile.in (XWIDGETS_OBJ, WEBKIT_CFLAGS, WEBKIT_LIBS)\n\t(GIR_LIBS, ALL_CFLAGS, base_obj, LIBES):\n\t* src/keyboard.c (kbd_buffer_get_event):\n\t* src/emacsgtkfixed.c (emacs_fixed_gtk_widget_size_allocate)\n\t(emacs_fixed_class_init): Add case for an xwidget view.\n\n\t* src/xwidget.c, src/xwidget.h, lisp/xwidget.el: New files for xwidgets\n\n\n\tVarious improvements to the Xwidget feature.\n\t* src/xwidget.c:\n\t* src/emacsgtkfixed.c:\n\t* lisp/xwidget.el:\n\n2016-01-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of 'alist-get'\n\n\t* doc/lispref/variables.texi (Setting Generalized Variables): Add\n\t'alist-get' to the list of functions that can appear in PLACE\n\targument of 'setf'.\n\n2016-01-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tMinor copyedits of doc/emacs/maintaining.texi\n\n\t* doc/emacs/maintaining.texi (List Identifiers): More accurate\n\tdescription of \"C-M-i\" wrt tags tables.\n\t(Tags Tables): Move the definition of \"tag\" to a footnote.\n\n2016-01-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tUnbreak the Cygwin-w32 build\n\n\t* src/w32fns.c (globals_of_w32fns): Move the initialization of\n\tresetstkoflw into a part that isn't compiled on Cygwin.\n\t(Bug#22403)\n\n2016-01-19  Lars Magne Ingebrigtsen  <larsi@gnus.org>\n\n\t* shr.el (shr-table-body): Allow tables to have text children.\n\n2016-01-19  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\tCope with multiple overlapping faces.\n\n\t* lisp/htmlfontify.el (hfy-face-to-style-i): Treat inheritance right to\n\t  left.\n\t  (hfy-face-resolve-face): Handle font specification as well as font\n\t  name. Documentation update. (Bug#21990)\n\n2016-01-19  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix spurious escapes in describe-input-method\n\n\tProblem reported by Vincent Bela\u00efche (Bug#22309).\n\t* lisp/international/mule-cmds.el (describe-language-environment):\n\t* lisp/international/quail.el (quail-help):\n\tApply substitute-command-keys to doc strings before displaying them.\n\n2016-01-19  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMinor improvements to (random t) documentation\n\n\t* doc/lispref/numbers.texi (Random Numbers):\n\t* src/fns.c (Frandom):\n\tOmit unnecessary details about randomness fallback.\n\tSay that it is a fallback.\n\n2016-01-19  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tRename methods in Ruby etags example file\n\n\t* test/etags/ruby-src/test.rb: Rename the example methods to\n\tcorrespond to the common terminology used in Ruby.\n\t* test/etags/CTAGS.good:\n\t* test/etags/ETAGS.good_1:\n\t* test/etags/ETAGS.good_2:\n\t* test/etags/ETAGS.good_3:\n\t* test/etags/ETAGS.good_4:\n\t* test/etags/ETAGS.good_5:\n\t* test/etags/ETAGS.good_6: Adjust accordingly.\n\n2016-01-19  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tPropertize backtick in 'def `(abc)' as symbol constituent\n\n\t* lisp/progmodes/ruby-mode.el (ruby-syntax-propertize):\n\tPropertize backtick in 'def `(abc)' as symbol constituent.\n\t(ruby-syntax-propertize-function):\n\tRename to ruby-syntax-propertize.\n\n2016-01-18  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix scrolling under scroll-preserve-screen-position on TTY\n\n\t* src/window.c (window_scroll_line_based): When setting point to\n\tpreserve screen coordinates, don't let cursor enter either of the\n\ttwo scroll margins.  (Bug#22395)\n\n2016-01-18  Lars Magne Ingebrigtsen  <larsi@gnus.org>\n\n\tFix shr table rendering of nested tables\n\n\t* shr.el (shr-table-body): Don't include all tbodies in nested\n\ttables in the levels above.\n\n2016-01-18  Dmitry Gutov  <dgutov@yandex.ru>\n\n\t* lisp/progmodes/project.el (project--read-regexp): Quote the identifier.\n\n2016-01-18  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tAdd xref-based replacements for Dired search commands\n\n\t* lisp/dired-aux.el (dired-do-find-regexp)\n\t(dired-do-find-regexp-and-replace): New commands.\n\thttps://lists.gnu.org/r/emacs-devel/2016-01/msg00864.html\n\n\t* lisp/dired.el (dired-mode-map): Change bindings for `A' and\n\t`Q' to the new commands.\n\n\t* lisp/progmodes/xref.el (xref-query-replace)\n\t(xref-collect-matches): Add progress reporters.\n\t(xref--find-ignores-arguments): Return nil for zero ignores.\n\t(xref--show-xrefs): Add an optional argument.\n\t(xref-collect-matches): Drop the assert.  'find' accepts a\n\tregular file in place of directory argument, too.\n\n2016-01-18  Alan Mackenzie  <acm@muc.de>\n\n\t* doc/lispref/frames.texi (Position Parameters): Say they don't exist on TTYs.\n\n2016-01-18  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove user documentation of Xref\n\n\t* doc/emacs/maintaining.texi (Xref, Find Identifiers)\n\t(Looking Up Identifiers, Identifier Search, List Identifiers):\n\tAdjudicate comments by Dmitry Gutov <dgutov@yandex.ru>.  See\n\thttps://lists.gnu.org/r/emacs-devel/2016-01/msg00650.html\n\tfor the details.\n\n2016-01-18  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix scrolling under scroll-preserve-screen-position and margins\n\n\t* src/window.c (window_scroll_pixel_based): When setting point to\n\tpreserve screen coordinates, don't let cursor enter either of the\n\ttwo scroll margins.  Fix incorrect usage of\n\tWINDOW_WANTS_HEADER_LINE_P and use WINDOW_HEADER_LINE_HEIGHT\n\tinstead of CURRENT_HEADER_LINE_HEIGHT.  (Bug#22395)\n\n2016-01-18  Eli Zaretskii  <eliz@gnu.org>\n\n\tUnbreak the MS-Windows build\n\n\t* src/sysdep.c (emacs_gnutls_global_init, gnutls_rnd): Disable for\n\tWINDOWSNT, to avoid link failure.  (Bug#22202)\n\n2016-01-18  Alan Mackenzie  <acm@muc.de>\n\n\tDesktop: protect users against inadvertant upgrading of desktop file.\n\n\tAn upgraded (version 208) desktop file cannot be read in Emacs < 25.\n\n\t* etc/NEWS: Add an entry about upgrading a desktop file.\n\n\t* lisp/desktop.el (desktop-file-version): Amend doc string.\n\t(desktop-native-file-version, desktop-io-file-version): new variables.\n\t(desktop-clear): Set desktop-io-file-version to nil.\n\t(desktop-buffer-info): make the presence of the last item on the list\n\tconditional on (>= desktop-io-file-version 208).\n\t(desktop-save): Add extra parameter VERSION to take user's C-u or C-u C-u.\n\tAmend the doc string.  Add code to determine the output file version.\n\t(desktop-create-buffer): Set desktop-io-file-version to the input file's\n\tversion.\n\n2016-01-18  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tInitialize GnuTLS before calling gnutls_rnd\n\n\t* src/gnutls.c (emacs_gnutls_global_init): Now extern.\n\tDon\u2019t set gnutls_global_initialized if gnutls_global_init fails.\n\t* src/sysdep.c: Include \"gnutls.h\", and <gnutls/crypto.h>\n\tif 2.12 or later, which has gnutls_rnd.\n\t(emacs_gnutls_global_init, gnutls_rnd): New fallback\n\tplaceholder macros if before 2.12.\n\t(init_random): Initialize gnutls globals before trying to\n\tuse gnutls_rnd.\n\n2016-01-18  Andreas Schwab  <schwab@linux-m68k.org>\n\n\tDon't use GnuTLS before it is initialized\n\n\t\t* src/sysdep.c (init_random): Don't use gnutls_rnd.\n\n2016-01-17  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort cleanup attribute to OpenBSD\n\n\tThe OpenBSD C compiler issues false alarms about strcpy, strcat, and\n\tsprintf, and this messes up 'configure' when it tests for the cleanup\n\tattribute.  Work around the problem by using __has_attribute directly.\n\tProblem reported by Joakim Jalap (Bug#22385).\n\t* configure.ac: Don\u2019t use AX_GCC_VAR_ATTRIBUTE.\n\t* m4/ax_gcc_var_attribute.m4: Remove.\n\t* src/conf_post.h (__has_attribute): Provide a substitute, for\n\tnon-GCC or older GCC compilers.  All uses changed to assume\n\tthe substitute.  Check for the cleanup attribute.\n\t* src/emacs-module.c (module_has_cleanup): Just use __has_attribute.\n\n2016-01-17  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPrefer GnuTLS when acquiring random seed\n\n\tThis attempts to improve on the fix for Bug#22202.\n\t* configure.ac (HAVE_DEV_URANDOM): Remove.\n\tCheck /dev/urandom existence at run time, not at build time,\n\tsince the device could exist in the former but not the latter.\n\t* src/sysdep.c [HAVE_GNUTLS]: Include gnutls/gnutls.h.\n\t(gnutls_rnd) [GNUTLS_VERSION_NUMBER < 0x020c00]: New fallback macro.\n\t(random_seed): New typedef.\n\t(set_random_seed): New static function.\n\t(seed_random): Use them.\n\t(init_random): Use random_seed instead of uintmax_t, so as to\n\tnot consume more entropy than needed.  Prefer gnutls_rnd if it\n\tworks; this avoids a redundant open of /dev/urandom on\n\tGNU/Linux with modern GnuTLS.\n\n2016-01-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of dynamic modules\n\n\t* doc/lispref/loading.texi (How Programs Do Loading): Update the\n\tdescription of searching for files in 'load' when Emacs was built\n\twith support for dynamic modules.\n\n2016-01-16  Eli Zaretskii  <eliz@gnu.org>\n\n\t* INSTALL: Document --with-modules.\n\n2016-01-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument 'function-put'\n\n\t* doc/lispref/symbols.texi (Symbol Plists): Document\n\t'function-put'.  Update documentation of 'function-get'.\n\n2016-01-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument 'funcall-interactively'\n\n\t* doc/lispref/commands.texi (Interactive Call): Document\n\t'funcall-interactively'.\n\t* doc/lispref/functions.texi (Calling Functions): Mention\n\t'funcall-interactively' and provide a cross-reference.\n\n2016-01-16  Eli Zaretskii  <eliz@gnu.org>\n\n\t* doc/lispref/lists.texi (Association Lists): Document 'alist-get'.\n\n\t* doc/lispref/strings.texi (Text Comparison): Document 'string-greaterp'.\n\n2016-01-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument renaming of selection-related functions\n\n\t* doc/lispref/frames.texi (Window System Selections): Rename \"x-*\"\n\tfunctions into the corresponding \"gui-*\" functions.  Make the\n\tdescription slightly less X-centric.\n\n2016-01-16  Eli Zaretskii  <eliz@gnu.org>\n\n\t* doc/lispref/macros.texi (Expansion): Document 'macroexpand-1'.\n\n2016-01-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument 'define-inline'\n\n\t* doc/lispref/functions.texi (Defining Functions): Document\n\t'define-inline' and related macros.\n\n\t* lisp/emacs-lisp/inline.el (inline-letevals): Doc fix.\n\n2016-01-16  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/files.el (dir-locals--all-files): Respect absolute file-names\n\n\t* lisp/help-fns.el (describe-variable): Fix a left-over parenthesis\n\n2016-01-16  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/dired-x.el (dired-omit-here-always): Use add-dir-local-variable\n\n\tinstead of manually writing a dir-locals file.\n\n2016-01-16  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/files.el (dir-locals--all-files): Use completion instead of wildcards\n\n\t(dir-locals-file)\n\t* lisp/files-x.el (modify-dir-local-variable)\n\t* lisp/dos-fns.el (dosified-file-name)\n\t* lisp/help-fns.el (describe-variable): Change accordingly.\n\n2016-01-16  Jussi Lahdenniemi  <jussi@aprikoodi.fi>  (tiny change)\n\n\tFix incompatbilities with MS-Windows 2000 and older\n\n\t* src/w32.c <multiByteToWideCharFlags>: New global variable.\n\t(filename_to_utf16, filename_from_ansi, check_windows_init_file):\n\tUse it instead of the literal MB_ERR_INVALID_CHARS.\n\t(maybe_load_unicows_dll): Initialize multiByteToWideCharFlags as\n\tappropriate for the underlying OS version.  For details, see\n\thttps://lists.gnu.org/r/emacs-devel/2016-01/msg00835.html.\n\t* src/w32.h: Declare multiByteToWideCharFlags.\n\t* src/w32fns.c (Fx_file_dialog, Fw32_shell_execute)\n\t(add_tray_notification): Use multiByteToWideCharFlags instead of\n\tthe literal MB_ERR_INVALID_CHARS.\n\t(_resetstkoflw_proc): New typedef.\n\t(w32_reset_stack_overflow_guard): Call _resetstkoflw via a\n\tpointer, as this function is absent in msvcrt.dll shipped with W2K\n\tand older systems.\n\n2016-01-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tMention in PROBLEMS an issue with MS-Windows NT4\n\n\t* etc/PROBLEMS (MS-Windows): Mention the problem with Shell32.dll\n\ton Windows NT4.  For the details, see\n\thttps://lists.gnu.org/r/emacs-devel/2016-01/msg00835.html.\n\n2016-01-16  Jussi Lahdenniemi  <jussi@aprikoodi.fi>  (tiny change)\n\n\tEnsure 8-byte aligned memory allocation on MS-Windows 9X\n\n\t* src/w32heap.c (init_heap): Redirect malloc, realloc, and free to\n\tspecial functions on Windows 9X.  Refuse to dump Emacs on Windows 9X.\n\t(malloc_after_dump_9x, realloc_after_dump_9x)\n\t(free_after_dump_9x): New functions.  (Bug#22379)  See also\n\thttps://lists.gnu.org/r/emacs-devel/2016-01/msg00852.html\n\tfor more details about the original problem.\n\n\t* nt/inc/ms-w32.h (malloc_after_dump_9x, realloc_after_dump_9x)\n\t(free_after_dump_9x): Add prototypes.\n\n2016-01-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix tests for active region in hideif.el\n\n\t* lisp/progmodes/hideif.el (hif-evaluate-macro, hide-ifdef-block): Use\n\t'use-region-p' to test whether to operate on region, instead of\n\ttesting 'mark-active'.\n\n2016-01-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix interactive specs in some hideif.el commands\n\n\t* lisp/progmodes/hideif.el (hif-evaluate-macro)\n\t(hide-ifdef-undef, show-ifdef-block): Don't use '(interactive \"r\")'\n\tin commands that should only act on the region if it's active.\n\n2016-01-15  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\tEnable test selector from command line\n\n\t* test/automated/Makefile.in: Change variable manipulation to avoid\n\t  over-writing selector.\n\n2016-01-15  Alan Mackenzie  <acm@muc.de>\n\n\tDon't confuse \"::\" with \":\" when trying to parse member initializers.\n\n\t* lisp/progmodes/cc-engine.el (c-back-over-member-initializers): Check\n\tmore robustly for \":\" token when searching backwards for it.\n\n\t* lisp/progmodes/cc-langs.el (c-:$-multichar-token-regexp): New language\n\tvariable.\n\n2016-01-15  Eli Zaretskii  <eliz@gnu.org>\n\n\tEnsure positive number of glyphs for margins of positive width\n\n\t* src/dispnew.c (margin_glyphs_to_reserve): Always return a\n\tpositive value when a non-zero width of the marginal area was\n\trequested.  (Bug#22356)\n\n2016-01-15  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix crashes when mini-window has non-zero margins\n\n\t* src/window.c (resize_frame_windows): Use 'new_size' to set\n\tminibuffer window's 'total_cols' value, as 'size' might be in\n\tpixels.  (Bug#22356)\n\n2016-01-15  Alan Mackenzie  <acm@muc.de>\n\n\tIn comment-dwim with style `extra-line', respect indent-tabs-mode.\n\n\tThis fixes bug #22369.\n\n\t* lisp/newcomment.el (comment-make-bol-ws): New function.\n\t(comment-make-extra-lines): Use new function instead of a crude `make-string'.\n\n2016-01-15  Eli Zaretskii  <eliz@gnu.org>\n\n\tMake 'random' seeds cryptographically secure if possible\n\n\t* configure.ac: Check for \"/dev/urandom\".\n\n\t* src/sysdep.c (init_random) [HAVE_DEV_URANDOM]: Read the stream\n\tfor the seed from \"/dev/urandom\".\n\t[WINDOWSNT]: Obtain the stream for the seed from w32 APIs.\n\t* src/fns.c (Frandom): Update the doc string to indicate that\n\tsystem entropy is used when available.\n\t* src/w32.c: Include wincrypt.h.\n\t(w32_init_crypt_random, w32_init_random): New functions, use the\n\tCryptGenRandom API.\n\t(globals_of_w32): Initialize w32_crypto_hprov handle to zero.\n\t* src/w32.h (w32_init_random): Add prototype.\n\n\t* doc/lispref/numbers.texi (Random Numbers): Document more details\n\tabout 't' as the argument to 'random'.\n\n\t* etc/NEWS: Mention that '(random t)' now uses a cryptographically\n\tstrong seed if possible.\n\n\t(Bug#22202)\n\n2016-01-15  Eli Zaretskii  <eliz@gnu.org>\n\n\tUnhide the --no-line-directive option to 'etags'\n\n\t* lib-src/etags.c (print_help): Un-undocument the --no-line-directive\n\toption.  (Bug#22306)\n\n\t* doc/man/etags.1: Document the --no-line-directive option.\n\n2016-01-15  Alan J Third  <alan@idiocy.org>  (tiny change)\n\n\tFix picture-mode wrt double-width characters\n\n\t* lisp/textmodes/picture.el (picture-insert): Check the width of\n\tthe character being replaced, not just that of the replacement.\n\t(Bug#1808)\n\n2016-01-15  Eric Abrahamsen  <eric@ericabrahamsen.net>\n\n\tHonor docstring of gnus-group-get-new-news\n\n\t* lisp/gnus/gnus-start.el (gnus-get-unread-articles): If the prefix arg is t,\n\tbut non-numeric, unconditionally consider all groups to need updating.\n\n2016-01-14  Simen Heggest\u00f8yl  <simenheg@gmail.com>\n\n\tDisallow parenthesis in non-pseudo CSS selectors\n\n\t* lisp/textmodes/css-mode.el (css--font-lock-keywords): Disallow\n\tparenthesis in selectors except for in the function notation that\n\tmight appear right after a pseudo-class.\n\t* test/indent/scss-mode.scss: Add a test for it.\n\n2016-01-14  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\t* lisp/gnus/nntp.el (nntp-request-newgroups): Simplify\n\n2016-01-14  Michael Albinus  <michael.albinus@gmx.de>\n\n\tcheck-maybe shall run only default tests\n\n\t* test/automated/Makefile.in (check, check-expensive): Depend on\n\tmostlyclean.\n\t(check-maybe): Re-run only default tests.\n\t(check-doit): Use code of check-maybe.\n\t(mostlyclean): Move *.log files away.\n\n2016-01-14  Mark Oteiza  <mvoteiza@udel.edu>\n\n\t* lisp/thingatpt.el (thing-at-point-uri-schemes): Add \"magnet:\"\n\n2016-01-14  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tUn-obsolete tags-loop-continue\n\n\t* lisp/progmodes/etags.el (tags-loop-continue): Un-obsolete.\n\thttps://lists.gnu.org/r/emacs-devel/2016-01/msg00682.html\n\n2016-01-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument obsoletion of 'intangible' and 'point-entered/left'\n\n\t* doc/lispref/text.texi (Special Properties): Document the new\n\tproperties 'cursor-intangible' and 'cursor-sensor-functions'.\n\tDocument the obsolete status of 'intangible', 'pointer-left',\n\tand 'point-entered' properties, and of 'inhibit-point-motion-hooks'.\n\t* doc/lispref/display.texi (Overlay Properties): Document that\n\t'intangible' overlay property is obsolete.\n\n\t* lisp/emacs-lisp/cursor-sensor.el (cursor-sensor-mode): Doc fix.\n\n2016-01-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tUpdater documentation of 'looking-back'\n\n\t* doc/lispref/searching.texi (Regexp Search): Update documentation\n\tof 'looking-back'.  Fix markup.\n\n2016-01-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument 'pre-redisplay-functions'\n\n\t* doc/lispref/hooks.texi (Standard Hooks):\n\t* doc/lispref/display.texi (Forcing Redisplay): Document\n\t'pre-redisplay-functions'.\n\n2016-01-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument the new deafault value of 'load-read-function'\n\n\t* doc/lispref/loading.texi (How Programs Do Loading): Document the\n\tchange in the default value of 'load-read-function'.\n\n2016-01-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument 'bufferpos-to-filepos' and 'filepos-to-bufferpos'\n\n\t* doc/lispref/nonascii.texi (Text Representations): Document\n\t'bufferpos-to-filepos' and 'filepos-to-bufferpos'.\n\n2016-01-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument the new prefix-command hooks\n\n\t* doc/lispref/hooks.texi (Standard Hooks): Document\n\t`prefix-command-echo-keystrokes-functions' and\n\t`prefix-command-preserve-state-hook'.\n\n2016-01-13  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix one more misuse of time-stamp-time-zone\n\n\t* test/etags/html-src/softwarelibero.html: Use \"UTC0\" rather\n\tthan the unportable \"GMT\" for time zone.\n\n2016-01-13  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix NNTP NEWGROUPS off-by-a-few-hours bug\n\n\t* lisp/gnus/nntp.el (nntp-request-newgroups): Format string\n\tin Universal Time, since we\u2019re telling the server \u201cGMT\u201d.\n\n2016-01-13  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tUpdate publicsuffix.txt from upstream\n\n\t* etc/publicsuffix.txt: Update from\n\thttps://publicsuffix.org/list/effective_tld_names.dat\n\tdated 2016-01-12 11:52:01 UTC.\n\n2016-01-13  Glenn Morris  <rgm@gnu.org>\n\n\tFix some declarations.\n\n\t* lisp/descr-text.el (internal-char-font):\n\t* lisp/cedet/mode-local.el (xref-item-location):\n\t* lisp/gnus/mml-smime.el (epg-key-sub-key-list)\n\t(epg-sub-key-capability, epg-sub-key-validity):\n\t* lisp/international/mule-util.el (internal-char-font):\n\tFix declarations.\n\n2016-01-13  Glenn Morris  <rgm@gnu.org>\n\n\tFix some custom types.\n\n\t* lisp/gnus/gnus-fun.el (gnus-x-face-omit-files, gnus-face-omit-files):\n\t* lisp/gnus/gnus.el (gnus-valid-select-methods):\n\t* lisp/mail/rmail.el (rmail-get-coding-function):\n\t* lisp/net/newst-treeview.el (newsticker-groups-filename):\n\t* lisp/progmodes/hideif.el (hide-ifdef-exclude-define-regexp):\n\t* lisp/textmodes/tildify.el (tildify-space-predicates):\n\t* lisp/url/url-tramp.el (url-tramp-protocols):\n\tFix custom types.\n\n2016-01-13  Glenn Morris  <rgm@gnu.org>\n\n\tAdd some missing version tags.\n\n\t* lisp/electric.el (electric-quote-comment)\n\t(electric-quote-string, electric-quote-paragraph):\n\t* lisp/epg-config.el (epg-gpgconf-program):\n\t* lisp/rect.el (rectangle-preview):\n\t* lisp/emacs-lisp/check-declare.el (check-declare-ext-errors):\n\t* lisp/emacs-lisp/package.el (package-selected-packages)\n\t(package-hidden-regexps):\n\t* lisp/erc/erc.el (erc-network-hide-list, erc-channel-hide-list):\n\t* lisp/eshell/em-term.el (eshell-destroy-buffer-when-process-dies):\n\t* lisp/gnus/mml-sec.el (mml1991-signers, mml2015-signers)\n\t(mml-smime-signers, mml1991-encrypt-to-self, mml2015-encrypt-to-self)\n\t(mml-smime-encrypt-to-self, mml2015-sign-with-sender)\n\t(mml-smime-sign-with-sender, mml2015-always-trust)\n\t(mml-secure-fail-when-key-problem, mml-secure-key-preferences):\n\t* lisp/net/browse-url.el (browse-url-conkeror-new-window-is-buffer)\n\t(browse-url-conkeror-arguments):\n\t* lisp/net/newst-reader.el (newsticker-download-logos):\n\t* lisp/progmodes/gud.el (gud-guiler-command-name):\n\t* lisp/progmodes/prog-mode.el (prettify-symbols-unprettify-at-point):\n\t* lisp/progmodes/project.el (project-vc):\n\t* lisp/progmodes/python.el (python-indent-guess-indent-offset-verbose)\n\t(python-shell-remote-exec-path, python-shell-first-prompt-hook)\n\t(python-shell-completion-native-disabled-interpreters)\n\t(python-shell-completion-native-enable)\n\t(python-shell-completion-native-output-timeout)\n\t(python-shell-completion-native-try-output-timeout):\n\t* lisp/progmodes/xref.el (xref):\n\t* lisp/term/screen.el (xterm-screen-extra-capabilities):\n\t* lisp/term/xterm.el (xterm-max-cut-length):\n\tAdd missing version tags.\n\n2016-01-13  Glenn Morris  <rgm@gnu.org>\n\n\t* test/automated/core-elisp-tests.el\n\t(core-elisp-tests-1-defvar-in-let): Add a custom type.\n\n2016-01-13  Glenn Morris  <rgm@gnu.org>\n\n\t* src/buffer.c (syms_of_buffer) <major-mode>: Doc fix.\n\n\tRemove comments that do not apply since 2005-08-09.  (Bug#22349)\n\n2016-01-12  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from gnulib\n\n\tThis mostly just changes \"UTC\" to \"UTC0\" for POSIX conformance.\n\tIt also updates to the latest version of texinfo.tex.\n\t* build-aux/gitlog-to-changelog, build-aux/move-if-change:\n\t* build-aux/update-copyright, doc/misc/texinfo.tex:\n\tUpdate from gnulib.\n\n2016-01-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tUpdate documentation of 'process-running-child-p'\n\n\t* doc/lispref/processes.texi (Input to Processes): Document the\n\tchanges in return value of 'process-running-child-p'.\n\n2016-01-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tUpdate documentation of 'deactivate-mark'.\n\n\t* doc/lispref/markers.texi (The Mark): Document that\n\t'deactivate-mark' is now buffer-local when set.\n\n2016-01-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tUpdate documentation of 'completion-table-dynamic'\n\n\t* doc/lispref/minibuf.texi (Programmed Completion): Document the\n\tnew optional argument to 'completion-table-dynamic'.\n\n2016-01-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument changes in 'read-buffer' and 'read-buffer-function'\n\n\t* doc/lispref/minibuf.texi (High-Level Completion): Document the\n\t4th argument to 'read-buffer' and 'read-buffer-function'.\n\n2016-01-12  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix time-stamp-time-zone bugs introduced in July\n\n\tThis fixes a bug introduced when the July changes to\n\tformat-time-string installed, as the changes were not\n\tcorrectly handled in this module (Bug#22302).\n\tAlso, document time stamp time zones.\n\t* lisp/time-stamp.el (time-stamp-time-zone): Document values better.\n\t(time-stamp--format): New private function.\n\t(time-stamp-string, time-stamp-string-preprocess)\n\t(time-stamp-do-number): Use it.\n\t* doc/emacs/files.texi (Time Stamps): Mention time zones.\n\t* doc/misc/autotype.texi (Timestamps): Document time-stamp-time-zone.\n\n2016-01-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tMake piping to subprocesses more robust on MS-Windows\n\n\t* src/w32.c (sys_write): Don't write to a pipe more stuff than its\n\tbuffer can hold.  Don't return -1 if something has been written to\n\tthe pipe.  Zero out 'errno' before calling '_write', to avoid\n\treturning a stale value.  (Bug#22344)\n\t* src/w32proc.c (syms_of_ntproc) <w32-pipe-buffer-size>: New variable.\n\t* src/w32.c (pipe2): Use it to request a user-defined size for the\n\tpipe being created.\n\n\t* etc/NEWS: Mention 'w32-pipe-buffer-size'.\n\n\t* doc/emacs/msdos.texi (Windows Processes): Document\n\t'w32-pipe-buffer-size'.\n\n2016-01-11  Dmitry Gutov  <dgutov@yandex.ru>\n\n\ttest/automated/vc-hg.el: Support out-of-tree build\n\n\t* test/automated/vc-hg.el\n\t(vc-hg-annotate-extract-revision-at-line-with-filename)\n\t(vc-hg-annotate-extract-revision-at-line-with-both):\n\tDon't refer to source-directory.\n\thttps://lists.gnu.org/r/emacs-devel/2016-01/msg00755.html\n\n2016-01-11  Michael Albinus  <michael.albinus@gmx.de>\n\n\tMinor change in tramp-tests.el\n\n\t* test/automated/tramp-tests.el (tramp-test29-vc-registered):\n\tUse `dired-uncache' instead of a Tramp internal function.\n\n2016-01-11  Peter Feigl  <peter.feigl@nexoid.at>\n\n\t* etc/HELLO: Add Armenian and Mongolian greetings.\n\n\t(Bug#22346)\n\n2016-01-11  Alan Mackenzie  <acm@muc.de>\n\n\tJava Mode: Fontify identifiers in the presence of annotations.\n\n\t* lisp/progmodes/cc-engine.el (c-forward-annotation): Tidy up the coding:\n\tDon't move point when the defun fails.\n\t(c-forward-decl-or-cast-1): Correct a usage of match data.\n\n\t* lisp/progmodes/cc-fonts.el (c-font-lock-maybe-decl-faces): Remove.\n\t(c-font-lock-declarations): Use the new c-maybe-decl-faces in place of the\n\tremoved variable.\n\n\t* lisp/progmodes/cc-langs.el (c-maybe-decl-faces): New language variable.\n\n2016-01-11  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid an infloop when we run out of memory\n\n\t* src/alloc.c (garbage_collect_1): Don't bother saving and\n\trestoring the echo-area message if we are GC'ing after running out\n\tof memory.  This avoids an infloop due to repeated attempts to\n\tallocate memory for the cons cell needed to save the message,\n\twhich signals the memory-full error, which attempts to save the\n\techo-area message, which signals memory-full again, etc.\n\n2016-01-11  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid unnecessary failures of auto-saving after fatal error\n\n\t* src/w32.c (map_w32_filename): Avoid non-trivial system calls for\n\tthe benefit of FAT volumes if we are called as part of shutting\n\tdown due to a fatal error, which probably means we are trying to\n\tauto-save the session.\n\t* src/lread.c (check_obarray): Don't bother making the obarray\n\tvalid if we are shutting down due to a fatal error.  This avoids\n\tinterfering with auto-saving the crashed session.\n\n2016-01-11  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSimplify HAVE_MODULES use in mark_maybe_pointer\n\n\t* src/alloc.c (HAVE_MODULES): Now a constant 0 if not defined,\n\tso that later code can use 'if' rather than '#ifdef'.\n\t(mark_maybe_pointer): Simplify based on HAVE_MODULES now\n\talways working.\n\n2016-01-11  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRevert attempt to use 'noexcept' in typedef\n\n\tThis use of 'noexcept' runs afoul of the C++11 standard.\n\tProblem reported by Philipp Stephani in:\n\thttps://lists.gnu.org/r/emacs-devel/2016-01/msg00706.html\n\t* src/emacs-module.c (emacs_finalizer_function):\n\tMove this typedef here ...\n\t* src/emacs-module.h: ... from here, and use only the C\n\tversion of the typedef.  The typedef is now private since it\n\tis never used in the .h file now and anyway it seemed to be\n\tcausing more confusion than it cured.\n\t(make_user_ptr, get_user_finalizer, set_user_finalizer):\n\tOpen-code the type instead.\n\n2016-01-10  Eli Zaretskii  <eliz@gnu.org>\n\n\tUpdate documentation of 'indirect-function'\n\n\t* doc/lispref/eval.texi (Function Indirection): Update the\n\tdocumentation of 'indirect-function'.\n\n2016-01-10  Eli Zaretskii  <eliz@gnu.org>\n\n\tUpdate documentation for obsoleting 'syntax-begin-function'\n\n\t* doc/lispref/syntax.texi (Position Parse): Undocument\n\t'syntax-begin-function' that is now obsolete.\n\n2016-01-10  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument new features if Eshell\n\n\t* doc/misc/eshell.texi (Input/Output): Document the new\n\t'#<bufname>' syntax.\n\t(Input/Output): Document 'eshell-destroy-buffer-when-process-dies'.\n\tDisable \"Key Index\" generation, as there are no @kindex entries in\n\tthis manual.\n\n2016-01-10  Michael Albinus  <michael.albinus@gmx.de>\n\n\tHandle too long commands in Tramp\n\n\t* lisp/net/tramp-sh.el (tramp-sh-handle-make-symbolic-link)\n\t(tramp-do-file-attributes-with-ls): Send sequence of commands, in\n\torder to not exceed shell command line limit.\n\n\t* test/automated/tramp-tests.el (tramp--test-darwin-p): Remove.\n\t(tramp--test-utf8): Include Arabic file name, again.\n\n2016-01-10  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* .gitattributes: *.cur and *.pif are binary files too.\n\n2016-01-10  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* src/alloc.c (mark_maybe_pointer): HAVE_MODULES may be undefined\n\n2016-01-10  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/progmodes/sh-script.el (sh-smie-sh-rules): Improve indentation inside $(...)\n\n\t* lisp/progmodes/sh-script.el (sh-smie-sh-rules): Improve indentation\n\twithin $(...).\n\t* test/indent/shell.sh: Add corresponding test.\n\n2016-01-10  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* src/alloc.c (mark_maybe_pointer): Also check wide-int's emacs_value\n\n\t(mark_memory): Simplify loop.  Don't assume a pointer-sized word can be\n\tcast to Lisp_Object.\n\n2016-01-10  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tUse short date for 'hg annotate', and output the author\n\n\t* lisp/vc/vc-hg.el (vc-hg-annotate-command):\n\tChange '-d' to '-dq'.  (Bug#21805)\n\t(vc-hg-annotate-switches): Default to \"-u\" \"--follow\".\n\t(vc-hg-annotate-re): Update to recognize the short date format\n\tand the optional username.\n\t(vc-hg-annotate-time)\n\t(vc-hg-annotate-extract-revision-at-line): Update accordingly.\n\n\t* test/automated/vc-hg.el: New file.\n\n2016-01-10  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSpelling fix\n\n2016-01-09  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument user-level functions in project.el\n\n\t* lisp/progmodes/project.el (project-find-file)\n\t(project-or-external-find-file): Add doc strings.\n\n2016-01-09  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument the user-level features of the Xref package\n\n\t* doc/emacs/maintaining.texi (Maintaining): Add a list of\n\tdescribed features.\n\t(Xref): New section, made out of thoroughly rewritten \"Tags\"\n\tsection.\n\t(Find Identifiers, Looking Up Identifiers, Xref Commands)\n\t(Identifier Search, List Identifiers): New subsections,\n\tincorporating the old tags commands and the new xref commands.\n\t(Tags Tables, Tag Syntax, Create Tags Table, Etags Regexps):\n\tSection and subsections demoted to a lower level.\n\t* doc/emacs/search.texi (Search):\n\t* doc/emacs/windows.texi (Pop Up Window):\n\t* doc/emacs/frames.texi (Creating Frames):\n\t* doc/emacs/programs.texi (Imenu, Symbol Completion):\n\t* doc/emacs/building.texi (Grep Searching):\n\t* doc/emacs/dired.texi (Operating on Files):\n\t* doc/emacs/glossary.texi (Glossary): All references to tags changed.\n\n2016-01-09  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* doc/lispref/loading.texi: Add `define-type' entry for load-history\n\n\t* doc/lispref/loading.texi (Where Defined): Remove incorrect\n\tcl-defmethod description, and add missing define-type entry.\n\n2016-01-09  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove doc strings and prompts in xref.el\n\n\t* lisp/progmodes/xref.el (xref-backend-functions)\n\t(xref-find-definitions): Doc fixes.\n\t(xref-query-replace): Doc fix.  Improve prompts for arguments.\n\n2016-01-09  Alan Mackenzie  <acm@muc.de>\n\n\tAllow the use of `font-lock-extend-region-multiline' in CC Mode.\n\n\t* lisp/progmodes/cc-mode.el (c-font-lock-init): Remove\n\t`font-lock-extend-regions-wholelines' from\n\t`font-lock-extend-region-functions' rather than setting the latter to\n\tnil.\n\n2016-01-09  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix coding system for Tramp on OS X.\n\n\t* lisp/net/tramp-compat.el: Require ucs-normalize.\n\n\t* lisp/net/tramp-sh.el (tramp-open-connection-setup-interactive-shell):\n\tSet coding system to `utf-8-hfs' for Mac OS X.\n\n\t* test/automated/tramp-tests.el (tramp-test29-vc-registered):\n\tFlush directory properties when needed.\n\t(tramp--test-utf8): Include Chinese file name, again.\n\n2016-01-09  Eli Zaretskii  <eliz@gnu.org>\n\n\tUpdate 'load-history' docs\n\n\t* doc/lispref/loading.texi (Where Defined): Update the list of\n\tforms in 'load-history' by adding the forms created for the\n\t'cl-generic' generics.  (Bug#21422)\n\n2016-01-09  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix (error ...) error\n\n\tProblem reported by Glenn Morris in:\n\thttps://lists.gnu.org/r/emacs-devel/2016-01/msg00561.html\n\t* lisp/vc/add-log.el (change-log-goto-source): Fix typos\n\tintroduced in my Aug 28 change, where I got confused by the\n\ttwo meanings of (error ...).\n\n2016-01-08  Alan Mackenzie  <acm@muc.de>\n\n\tCorrectly analyze brace arguments in templated C++ function declarations.\n\n\t* lisp/progmodes/cc-defs.el (c-go-list-forward, c-go-list-backward): add\n\tPOS and LIMIT parameters, like the other c-go-list-* functions have.\n\n\t* lisp/progmodes/cc-engine.el (c-restore-<>-properties): Check backwards\n\tfor a ?\\( rather than a ?<.  (c-looking-at-inexpr-block): Handle names\n\tfollowed by template specifiers.\n\n2016-01-08  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/cedet/mode-local.el (describe-function-orig-buffer): Declare.\n\n\t* lisp/ffap.el (ffap-latex-mode): Avoid free variable.\n\n2016-01-08  Mark Oteiza  <mvoteiza@udel.edu>\n\n\t* lisp/play/dunnet.el (dun-fix-screen): Avoid `end-of-buffer`.\n\n2016-01-08  Alan Mackenzie  <acm@muc.de>\n\n\tRespect fontification region calculated by major mode.  Fixes bug #22316.\n\n\t* lisp/font-lock.el (font-lock-extend-jit-lock-region-after-change): when a\n\tfontification region has been calculated by a function on\n\tfont-lock-extend-after-change-region-function use this region rather than\n\tchanging the end position to somewhere else.\n\n2016-01-08  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of Delete Selection mode\n\n\t* lisp/delsel.el (delete-selection-mode)\n\t(delete-selection-helper): Update and expand the doc strings.\n\t(Bug#22296)\n\n\t* doc/emacs/mark.texi (Using Region): Document the behavior of\n\tdelete commands in Delete Selection mode.  (Bug#22296)\n\n\t* doc/lispref/markers.texi (The Mark): Document how to add the\n\tsupport for Delete Selection mode to Lisp programs. (Bug#22296)\n\n2016-01-08  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tFix two project-find-file issues\n\n\t* lisp/progmodes/project.el (project--value-in-dir):\n\tTemporarily set enable-local-variables to :all.\n\t(project-find-file, project-or-external-find-file):\n\tAll autoloads.\n\t(project--find-file-in): Require xref.\n\n2016-01-08  Eli Zaretskii  <eliz@gnu.org>\n\n\tClarify doc string of 'dired-current-directory'\n\n\t* lisp/dired.el (dired-current-directory): Doc fix: clarify that\n\tthe return value might not end in a slash when called with the\n\toptional argument non-nil.  (Bug#6273)\n\n2016-01-08  Eli Zaretskii  <eliz@gnu.org>\n\n\tUse the face of preceding text for displaying the ellipsis\n\n\t* src/xdisp.c (setup_for_ellipsis): Use the face of the preceding\n\ttext in it->saved_face_id for displaying the ellipsis, and ignore\n\tthe face, if any, of the invisible text.  (Bug#22320)\n\n2016-01-08  Michael Albinus  <michael.albinus@gmx.de>\n\n\tSuppress Chinese file name test for OSX in tramp-tests.el\n\n\t* test/automated/tramp-tests.el (tramp--test-utf8):\n\tRemove instrumentation.  Suppress Chinese file name test for OSX.\n\n2016-01-08  Glenn Morris  <rgm@gnu.org>\n\n\t* admin/admin.el (set-version): Also handle the NEWS file.\n\n2016-01-08  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tapropos-library: Skip obvious duplicates; don't error on generics\n\n\t* lisp/apropos.el (apropos-library): Skip \"was an autoload\"\n\tentries, to avoid obvious duplicates.  For each cl-defmethod\n\tentry, take just its function symbol (bug#21422).\n\n2016-01-07  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tAdd project-find-file and project-or-external-find-file\n\n\t* lisp/minibuffer.el (completion-category-defaults):\n\tAdd `project-file' category.\n\n\t* lisp/progmodes/project.el (project-find-file)\n\t(project-or-external-find-file): New commands.\n\t(project--find-file-in): New private function.\n\n\t* lisp/progmodes/xref.el (xref-collect-matches): Use\n\t`expand-file-name' on DIR, to expand the tildes.\n\t(xref--find-ignores-arguments): Extract from\n\t`xref--rgrep-command'.\n\n2016-01-07  Leo Liu  <sdl.web@gmail.com>\n\n\tAdd defvar-local to lisp-imenu-generic-expression\n\n\t* lisp/emacs-lisp/lisp-mode.el (lisp-imenu-generic-expression): Add\n\t  defvar-local.\n\n2016-01-07  Leo Liu  <sdl.web@gmail.com>\n\n\tRevert commit b1e3d14845517bfa9fa5d6d3840f3ab3160306fd\n\n\t* lisp/emacs-lisp/easy-mmode.el (define-minor-mode):\n\t  Don't declare (indent 1).\n\n2016-01-07  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/emacs-lisp/autoload.el (autoload-find-destination): Doc fix.\n\n2016-01-07  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/emacs-lisp/autoload.el (autoload-find-destination):\n\n\tAvoid specifying the length of a time object (it has not been \"2\"\n\tfor some time).\n\n2016-01-06  Andreas Schwab  <schwab@linux-m68k.org>\n\n\tProperly encode/decode base64Binary data in SOAP\n\n\t\t* lisp/net/soap-client.el (soap-encode-xs-basic-type): Encode\n\t\tbase64Binary value as utf-8.\n\t\t(soap-decode-xs-basic-type): Decode base64Binary value as utf-8.\n\n2016-01-06  Eli Zaretskii  <eliz@gnu.org>\n\n\tObey coding-system-for-write when writing stdout/stderr in batch\n\n\t* src/print.c (printchar_to_stream):\n\t* src/xdisp.c (message_to_stderr): If coding-system-for-write has\n\ta non-nil value, use it to encode output in preference to\n\tlocale-coding-system.  See the discussions in\n\thttps://lists.gnu.org/r/emacs-devel/2016-01/msg00048.html\n\tfor the details.\n\n\t* doc/lispref/os.texi (Terminal Output): Document how to send\n\tnon-ASCII text via 'send-string-to-terminal'.\n\t(Batch Mode): Document how text written to standard streams is\n\tencoded.  Fix inaccuracy regarding which output streams are used\n\tby output functions in batch mode.\n\n2016-01-06  Xue Fuqiao  <xfq.free@gmail.com>\n\n\t* doc/misc/efaq.texi (Packages that do not come with Emacs):\n\tUpdate the URI of MELPA and marmalade-repo.  Reported by CHENG Gao\n\t<chenggao@royau.me> in\n\thttps://lists.gnu.org/r/emacs-devel/2016-01/msg00390.html.\n\n2016-01-06  Maksim Golubev  <maksim.golubev72@gmail.com>  (tiny change)\n\n\t* lisp/progmodes/opascal.el (opascal-mode-syntax-table):\n\n\tFix backslash.  (Bug#22224)\n\n2016-01-06  Federico Beffa  <beffa@ieee.org>  (tiny change)\n\n\t* lisp/progmodes/xscheme.el (xscheme-prompt-for-expression-exit):\n\n\tMake it actually work.  (Bug#22265)\n\n2016-01-05  Alan Mackenzie  <acm@muc.de>\n\n\tRemove function wrongly on AWK Mode value of context fontification hook.\n\n\t* lisp/progmodes/cc-langs.el (c-before-context-fontification-functions):\n\tswap order of entries so that awk's entry isn't superseded by the default.\n\n\t* lisp/progmodes/cc-mode.el (c-before-context-fl-expand-region): Correct\n\tto handle nil value of c-before-context-fontification-functions.\n\n2016-01-05  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* src/buffer.c: Stick with ASCII in doc string.\n\n2016-01-05  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tReword transient-mark-mode doc string\n\n\t* src/buffer.c (syms_of_buffer): Reword doc string to avoid confusion.\n\tThe value 'lambda (literally) can be interpreted as (quote lambda),\n\twhich is not intended here; we want just the lambda symbol.\n\n2016-01-05  Eli Zaretskii  <eliz@gnu.org>\n\n\tUpdate doc string of 'selective-display'\n\n\t* src/buffer.c (syms_of_buffer) <selective-display>: Say that\n\tusing it with the value of 't' is obsolete.  (Bug#1092)\n\n2016-01-05  Alan Mackenzie  <acm@muc.de>\n\n\tMake C++ buffers writeable when writing their initial text properties.\n\n\tThis is a correction to yesterday's CC Mode patch.\n\n\t* lisp/progmodes/cc-engine.el (c-before-change-check-<>-operators): Put\n\tc-save-buffer-state around the function rather than a mere `let'.\n\n2016-01-05  Michael Albinus  <michael.albinus@gmx.de>\n\n\tAdditional changes for \"make check-expensive\"\n\n\t* CONTRIBUTE : Encourage use of \":tags '(:expensive-test)\".\n\tExplain make target `check-expensive'.\n\n\t* etc/NEWS: Mention new make target `check-expensive'.\n\n\t* test/automated/Makefile.in (check-doit): New target.\n\t(check, check-expensive): Use it.\n\n2016-01-04  Alan Mackenzie  <acm@muc.de>\n\n\tApply text properties for <, > in new after-change function (C++ Java Modes).\n\n\tThese are category/syntax-table properties to give < and > paren syntax.\n\tAlso apply certain `c-type' text properties to the insides of <..> constructs\n\tto ensure that identifiers contained by them get fontified.  This patch fixes\n\tbug #681.\n\n\t* lisp/progmodes/cc-cmds.el (c-electric-lt-gt): Reformulate due to new\n\tafter-change action.\n\n\t* lisp/progmodes/cc-engine.el (c-before-change-check-<>-operators): Expand\n\tchange region to include <s and >s which might not be already marked as\n\tparens, rather than just when paren text properties are removed.\n\t(c-restore-<>-properties): New after-change function, which applies text\n\tproperties marking < and > with paren syntax.\n\n\t* lisp/progmodes/cc-fonts.el (c-font-lock-declarations): Ensure `c-type'\n\tproperties are applied to the interiors of <...> constructs, to ensure\n\tfontification of identifiers there.\n\n\t* lisp/progmodes/cc-langs.el (c-before-font-lock-functions): Add\n\tc-restore-<>-properties to this list for C++ and Java.\n\n\t* lisp/progmodes/cc-mode.el (c-common-init): When invoking\n\tc-before-font-lock-functions, exclude c-restore-<>-properties from the\n\tfunctions invoked.\n\t(c-before-change): Initialize c-new-BEG/END here (rather than c-after-change)\n\tto allow modification by before-change functions.\n\t(c-after-change): Amend c-new-END here, rather than initializing it and\n\tc-new-BEG.\n\n2016-01-04  Michael Albinus  <michael.albinus@gmx.de>\n\n\tIntroduce check-expensive tests.\n\n\t* Makefile.in (check-expensive):\n\t* test/automated/Makefile.in (check-expensive): New target.\n\n\t* test/automated/auto-revert-tests.el\n\t(auto-revert-test01-auto-revert-several-files):\n\t* test/automated/file-notify-tests.el (file-notify--deftest-remote):\n\t* test/automated/tramp-tests.el (tramp-test26-process-file)\n\t(tramp-test27-start-file-process, tramp-test28-shell-command)\n\t(tramp-test29-vc-registered)\n\t(tramp-test31-special-characters-with-stat)\n\t(tramp-test31-special-characters-with-perl)\n\t(tramp-test31-special-characters-with-ls)\n\t(tramp-test32-utf8-with-stat, tramp-test32-utf8-with-perl)\n\t(tramp-test32-utf8-with-ls, tramp-test33-asynchronous-requests)\n\t(tramp-test35-unload): Tag the tests as :expensive-test.\n\n2016-01-04  Lars Magne Ingebrigtsen  <larsi@gnus.org>\n\n\tshr-tag-video bug fix\n\n\t* shr.el (shr-tag-video): Protect against the `poster' being\n\tempty.\n\n2016-01-04  Michael Albinus  <michael.albinus@gmx.de>\n\n\tMinor fixes in tramp-tests.el\n\n\t* test/automated/tramp-tests.el (tramp-test26-process-file):\n\tMove point properly.\n\t(tramp-test29-vc-registered): Work with relative file names.\n\n2016-01-04  Eli Zaretskii  <eliz@gnu.org>\n\n\tEnsure redisplay when 'truncate-lines' is set\n\n\t* lisp/frame.el (redisplay--variables): Add 'truncate-lines'.\n\t(Bug#22303)\n\n2016-01-04  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix a doc string of 'transient-mark-mode'\n\n\t* src/buffer.c (syms_of_buffer) <transient-mark-mode>: Prevent\n\t\"lambda\" in doc string from becoming a link to lambda expressions.\n\n2016-01-04  Eli Zaretskii  <eliz@gnu.org>\n\n\tMS-Windows followup to latest gnulib update\n\n\t* nt/gnulib.mk (EXTRA_DIST): Add ignore-value.h.\n\n2016-01-04  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSpelling fix\n\n2016-01-04  Jens Lechtenboerger  <jens.lechtenboerger@fsfe.org>\n\n\tDo secure signed Bcc handling\n\n\t* lisp/gnus/message.el (message-send): Do secure signed Bcc handling\n\t(bug#18718).\n\n2016-01-04  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tAvoid stdio in SIGINT handler\n\n\t* admin/merge-gnulib (GNULIB_MODULES): Add ignore-value.\n\t* lib/gnulib.mk, m4/gnulib-comp.m4: Regenerate.\n\t* lib/ignore-value.h: New file, from gnulib.\n\t* src/keyboard.c: Include it.\n\t(write_stdout, read_stdin): New functions.\n\t(handle_interrupt): Use them instead of printf and getchar,\n\tand avoid fflush when handling signals.\n\n2016-01-04  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* doc/misc/texinfo.tex: Revert unwanted copyright change.\n\n2016-01-03  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/align.el (align): Simplify a lambda\n\n\t* lisp/align.el (align): Fix arg order in call to `align-region'\n\n2016-01-03  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix compilation next-error in buffers with selective-display\n\n\t* lisp/progmodes/compile.el (compilation-beginning-of-line): New\n\tfunction.\n\t(compilation-internal-error-properties)\n\t(compilation-next-error-function, compilation-set-window): Use\n\tit.  (Bug#1092)\n\n2016-01-03  Lars Magne Ingebrigtsen  <larsi@gnus.org>\n\n\t* lisp/net/nsm.el (nsm-check-protocol): Fix typo in the message.\n\n2016-01-03  Lars Magne Ingebrigtsen  <larsi@gnus.org>\n\n\tAdd SHA1 warnings for high network security settings\n\n\t* lisp/net/nsm.el (nsm-check-protocol): When using high security, warn\n\tabout SHA1 certificates, which are now believed to be open to\n\tspoofing.\n\n2016-01-03  Jens Lechtenboerger  <jens.lechtenboerger@fsfe.org>\n\n\tRefactor mml-smime.el, mml1991.el, mml2015.el\n\n\t(Maybe this is the last merge from Gnus git to Emacs git)\n\n\tCf. discussion on ding mailing list, messages in\n\t<http://thread.gmane.org/gmane.emacs.gnus.general/86228>.\n\tCommon code from the three files mml-smime.el, mml1991.el, and\n\tmml2015.el is moved to mml-sec.el.  Auxiliary functions are added\n\tto gnus-util.el.\n\n\tThe code is supported by test cases with necessary test keys.\n\n\tDocumentation in message.texi is updated.\n\n\t* doc/misc/message.texi (Security, Using S/MIME):\n\tUpdate for refactoring mml-smime.el, mml1991.el, mml2015.el.\n\t(Using OpenPGP): Rename from \"Using PGP/MIME\"; update contents.\n\t(Passphrase caching, Encrypt-to-self, Bcc Warning): New sections.\n\n\t* lisp/gnus/gnus-util.el (gnus-test-list, gnus-subsetp, gnus-setdiff):\n\tNew functions.\n\n\t* lisp/gnus/mml-sec.el: Require gnus-util and epg.\n\t(epa--select-keys): Autoload.\n\t(mml-signencrypt-style-alist, mml-secure-cache-passphrase): Doc fix.\n\t(mml-secure-openpgp-signers): New user option;\n\tmake mml1991-signers and mml2015-signers obsolete aliases to it.\n\t(mml-secure-smime-signers): New user option;\n\tmake mml-smime-signers an obsolete alias to it.\n\t(mml-secure-openpgp-encrypt-to-self): New user option;\n\tmake mml1991-encrypt-to-self and mml2015-encrypt-to-self obsolete\n\taliases to it.\n\t(mml-secure-smime-encrypt-to-self): New user option;\n\tmake mml-smime-encrypt-to-self an obsolete alias to it.\n\t(mml-secure-openpgp-sign-with-sender): New user option;\n\tmake mml2015-sign-with-sender an obsolete alias to it.\n\t(mml-secure-smime-sign-with-sender): New user option;\n\tmake mml-smime-sign-with-sender an obsolete alias to it.\n\t(mml-secure-openpgp-always-trust): New user option;\n\tmake mml2015-always-trust an obsolete alias to it.\n\t(mml-secure-fail-when-key-problem, mml-secure-key-preferences):\n\tNew user options.\n\t(mml-secure-cust-usage-lookup, mml-secure-cust-fpr-lookup)\n\t(mml-secure-cust-record-keys, mml-secure-cust-remove-keys)\n\t(mml-secure-add-secret-key-id, mml-secure-clear-secret-key-id-list)\n\t(mml-secure-cache-passphrase-p, mml-secure-cache-expiry-interval)\n\t(mml-secure-passphrase-callback, mml-secure-check-user-id)\n\t(mml-secure-secret-key-exists-p, mml-secure-check-sub-key)\n\t(mml-secure-find-usable-keys, mml-secure-select-preferred-keys)\n\t(mml-secure-fingerprint, mml-secure-filter-keys)\n\t(mml-secure-normalize-cust-name, mml-secure-select-keys)\n\t(mml-secure-select-keys-1, mml-secure-signer-names, mml-secure-signers)\n\t(mml-secure-self-recipients, mml-secure-recipients)\n\t(mml-secure-epg-encrypt, mml-secure-epg-sign): New functions.\n\n\t* lisp/gnus/mml-smime.el: Require epg;\n\trefactor declaration and autoloading of epg functions.\n\t(mml-smime-use): Doc fix.\n\t(mml-smime-cache-passphrase, mml-smime-passphrase-cache-expiry):\n\tObsolete.\n\t(mml-smime-get-dns-cert, mml-smime-get-ldap-cert):\n\tUse format instead of gnus-format-message.\n\t(mml-smime-epg-secret-key-id-list): Remove variable.\n\t(mml-smime-epg-passphrase-callback, mml-smime-epg-find-usable-key)\n\t(mml-smime-epg-find-usable-secret-key): Remove functions.\n\t(mml-smime-epg-sign, mml-smime-epg-encrypt): Refactor.\n\n\t* lisp/gnus/mml1991.el (mml1991-cache-passphrase)\n\t(mml1991-passphrase-cache-expiry): Obsolete.\n\t(mml1991-epg-secret-key-id-list): Remove variable.\n\t(mml1991-epg-passphrase-callback, mml1991-epg-find-usable-key)\n\t(mml1991-epg-find-usable-secret-key): Remove functions.\n\t(mml1991-epg-sign, mml1991-epg-encrypt): Refactor.\n\n\t* lisp/gnus/mml2015.el (mml2015-cache-passphrase)\n\t(mml2015-passphrase-cache-expiry): Obsolete.\n\t(mml2015-epg-secret-key-id-list): Remove variable.\n\t(mml2015-epg-passphrase-callback, mml2015-epg-check-user-id)\n\t(mml2015-epg-check-sub-key, mml2015-epg-find-usable-key)\n\t(mml2015-epg-find-usable-secret-key): Remove functions.\n\t(mml2015-epg-decrypt, mml2015-epg-clear-decrypt, mml2015-epg-sign)\n\t(mml2015-epg-encrypt): Refactor.\n\n2016-01-02  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/progmodes/fortran.el (fortran-make-syntax-propertize-function):\n\n\tExplicitly ignore case.  (Bug#22262)\n\n2016-01-02  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t(semantic-symref-derive-find-filepatterns): Return a list\n\n\t* lisp/cedet/semantic/symref/grep.el\n\t(semantic-symref-derive-find-filepatterns): Return a list.\n\t(semantic-symref-perform-search): Quote the result here once and for all.\n\n2016-01-02  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix xref-find-references on MS-Windows\n\n\t* lisp/cedet/semantic/symref/grep.el\n\t(semantic-symref-derive-find-filepatterns): Use\n\t'shell-quote-argument' instead of manually quoting in a way that\n\tonly works with Posix shells.  (Bug#22289)\n\n2016-01-02  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument new features of tildify-mode\n\n\t* lisp/textmodes/tildify.el (tildify-foreach-ignore-environments)\n\t(tildify-mode): Spelling fixes in doc strings.\n\n\t* etc/NEWS: Reformat the tildify-mode entry.\n\n2016-01-02  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument new features of Whitespace mode\n\n\t* doc/emacs/display.texi (Useless Whitespace): Document\n\t'whitespace-toggle-options' and the new 'big-indent' style.\n\tDocument 'whitespace-big-indent-regexp'.  Document the Global\n\tWhitespace mode.\n\n2016-01-02  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of new Hide-IfDef features\n\n\t* etc/NEWS: Expand and reword Hide-IfDef section.\n\n2016-01-02  Leo Liu  <sdl.web@gmail.com>\n\n\tFix regression in font-locking cl-assert and cl-check-type\n\n\t* lisp/emacs-lisp/lisp-mode.el (lisp-el-font-lock-keywords-2): Fix\n\t  el-errs-re.\n\n2016-01-01  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSpelling and grammar fixes\n\n2016-01-01  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix copyright years by hand\n\n\tThese are dates that admin/update-copyright did not update, or\n\tupdated incorrectly.\n\n2016-01-01  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tUpdate copyright year to 2016\n\n\tRun admin/update-copyright.\n\n2016-01-01  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from gnulib\n\n\tThis mostly just updates copyright dates of gnulib files.\n\tIt also updates to the latest version of texinfo.tex.\n\n2015-12-31  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tlisp/emacs-lisp/chart.el (chart-new-buffer): Move to silence byte compiler.\n\n2015-12-31  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tPort chart.el methods to cl-generic.\n\n\tcl-call-next-method cannot be used inside EIEIO's defmethod.\n\t* lisp/emacs-lisp/chart.el: Require cl-generic at compile time.\n\t* lisp/emacs-lisp/chart.el (initialize-instance, chart-draw):\n\t(chart-draw-title, chart-size-in-dir, chart-draw-axis):\n\t(chart-axis-draw, chart-translate-xpos, chart-translate-ypos):\n\t(chart-translate-namezone, chart-draw-data, chart-add-sequence):\n\t(chart-trim, chart-sort): Use cl-defmethod instead of defmethod.\n\n2015-12-31  Brian Burns  <bburns.km@gmail.com>\n\n\tAdd nt/INSTALL.W64 build instructions\n\n\t* nt/INSTALL.W64: New file.\n\t* nt/INSTALL: Point to INSTALL.W64 for 64-bit build instructions.\n\n2015-12-31  Joakim Jalap  <joakim.jalap@fastmail.com>\n\n\tAdd new input method 'programmer-dvorak'\n\n\t* lisp/leim/quail/programmer-dvorak.el (\"programmer-dvorak\"): New\n\tinput method.\n\n\t* etc/NEWS: Mention it.\n\n2015-12-31  Eli Zaretskii  <eliz@gnu.org>\n\n\tAllow to invoke original M-TAB binding in 'flyspell-prog-mode'\n\n\t* lisp/textmodes/flyspell.el (flyspell-prog-mode): Record the\n\toriginal M-TAB binding in a buffer-local variable.\n\t(flyspell-auto-correct-word): Invoke the original binding of M-TAB\n\tif that is recorded, when point is in a place where flyspell\n\tshould not be active (e.g., because the user turned on\n\t'flyspell-prog-mode').  (Bug#18533)\n\n2015-12-31  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix EWW rendering of long RTL lines\n\n\t* lisp/net/shr.el (shr-insert-document): Undo any previous hscroll\n\tof the selected window before filling its lines.  (Bug#22250)\n\n2015-12-31  Vincent Bela\u00efche  <vincentb1@users.sourceforge.net>\n\n\tfix  bug#21054\n\n\t* lisp/ses.el (ses-check-curcell): Call `ses-set-curcell' unconditionally\n\n2015-12-31  YAMAMOTO Mitsuharu  <mituharu@math.s.chiba-u.ac.jp>\n\n\tClean up cairo printing code\n\n\t* src/gtkutil.c (xg_get_page_setup): Use listn.\n\t* src/xfns.c (Fx_export_frames, Fx_print_frames_dialog): Doc fix.  Use\n\tdecode_window_system_frame and FRAME_VISIBLE_P.\n\t(Fx_print_frames_dialog): Use redisplay_preserve_echo_area instead\n\tof Fdisplay.\n\t* src/xterm.c (x_cr_export_frames): Use redisplay_preserve_echo_area\n\tinstead of Fdisplay.  Temporarily unblock_input around QUIT.\n\n2015-12-31  YAMAMOTO Mitsuharu  <mituharu@math.s.chiba-u.ac.jp>\n\n\tMove variables to inner loop, preparing for Mac port merge\n\n\t* src/keyboard.c (command_loop_1): Move variables `cmd',\n\t`keybuf', and `i' to inner loop.\n\n2015-12-31  YAMAMOTO Mitsuharu  <mituharu@math.s.chiba-u.ac.jp>\n\n\tAdd handle_user_signal_hook\n\n\t* src/keyboard.h (handle_user_signal_hook): New declaration.\n\t* src/keyboard.c (handle_user_signal_hook): New variable.\n\t(handle_user_signal): Call it.\n\n2015-12-31  YAMAMOTO Mitsuharu  <mituharu@math.s.chiba-u.ac.jp>\n\n\tAvoid writing to purespace\n\n\t* src/alloc.c (Fmake_string): Don't write to empty string contents.\n\t(allocate_vector): Don't write to empty vector size.\n\t* src/character.h (CHECK_CHARACTER_CAR, CHECK_CHARACTER_CDR):\n\tDon't call unnecessary XSETCAR or XSETCDR.\n\t* src/lisp.h (STRING_SET_UNIBYTE, STRING_SET_MULTIBYTE): Don't\n\twrite to empty string size_byte.\n\n2015-12-31  YAMAMOTO Mitsuharu  <mituharu@math.s.chiba-u.ac.jp>\n\n\tRemove unused variable\n\n\t* lisp/international/mule-cmds.el: Remove unused variable\n\t`mac-system-coding-system'.\n\n2015-12-31  YAMAMOTO Mitsuharu  <mituharu@math.s.chiba-u.ac.jp>\n\n\t* configure.ac: Find libxml2 headers in Xcode SDK dir on Darwin.\n\n2015-12-31  YAMAMOTO Mitsuharu  <mituharu@math.s.chiba-u.ac.jp>\n\n\tUse posix_openpt instead of openpty on Darwin\n\n\t* configure.ac (PTY_ITERATION, FIRST_PTY_LETTER, PTY_OPEN)\n\t(PTY_NAME_SPRINTF, PTY_TTY_NAME_SPRINTF): Remove\n\tDarwin-specific definitions.  Use posix_openpt instead.\n\n2015-12-30  Shakthi Kannan  <shakthimaan@gmail.com>\n\n\tDocument support for ':documentation' in Lisp mode\n\n\t* lisp/emacs-lisp/lisp-mode.el (lisp-string-in-doc-position-p)\n\t(lisp-string-after-doc-keyword-p)\n\t(lisp-font-lock-syntactic-face-function): Add doc strings.\n\n2015-12-30  Shakthi Kannan  <shakthimaan@gmail.com>\n\n\tDocument new features of TeX mode\n\n\t* doc/emacs/text.texi (TeX Print): Document\n\t'tex-print-file-extension'.\n\t* doc/emacs/programs.texi (Misc for Programs): Document support\n\tfor Prettify Symbols mode in TeX mode.\n\n2015-12-30  Eli Zaretskii  <eliz@gnu.org>\n\n\tClarify docs of hscroll in RTL text\n\n\t* doc/lispref/windows.texi (Horizontal Scrolling): Clarify the\n\tmeaning of a window's horizontal scroll amount for RTL paragraphs.\n\n2015-12-30  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix rendering of HTML pages that use character composition\n\n\t* src/indent.c (Fvertical_motion): Fix the case when point starts\n\tin the middle of a composition, as in shr-vertical-motion.\n\t(Bug#22250)\n\n2015-12-30  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid some compiler warnings in w32.c\n\n\t* src/w32.c (codepage_for_filenames, crlf_to_lf)\n\t(ansi_encode_filename, socket_to_fd, sys_write)\n\t(check_windows_init_file): Avoid compiler warnings about\n\tdifferences in pointer signedness.\n\n2015-12-30  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tUndo ill-advised change\n\n\t* lisp/progmodes/xref.el (xref-collect-matches): Undo\n\till-advised change.  The hits come in the order that `find'\n\tproduces them in, which isn't alphabetical.\n\n2015-12-30  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tUnbreak completion in python-mode buffers\n\n\t* lisp/progmodes/python.el (python-shell-completion-at-point):\n\tUnbreak in python-mode buffers.\n\n2015-12-29  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix typos in CC Mode manual\n\n\t* doc/misc/cc-mode.texi (c-offsets-alist, Style Variables): Fix\n\ttypos.  (Bug#22267)\n\n2015-12-29  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid assertion violations in compact_font_cache_entry\n\n\t* src/alloc.c (compact_font_cache_entry): Don't use VECTORP to\n\tavoid assertion violation in ASIZE.  (Bug#22263)\n\n2015-12-29  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix filling text with bidirectional characters in shr.el\n\n\t* lisp/net/shr.el (shr-insert-document): Bind\n\tbidi-display-reordering to nil while filling lines.  This is\n\trequired for when a line includes characters whose bidi\n\tdirectionality is opposite to the base paragraph direction,\n\tbecause columns are counted in the logical order.  (Bug#22250)\n\n2015-12-29  Martin Rudalics  <rudalics@gmx.at>\n\n\t* src/xfns.c (x_create_tip_frame): Process alpha parameter.\n\n2015-12-29  Michael Albinus  <michael.albinus@gmx.de>\n\n\tSync with Tramp 2.2.13\n\n\t* doc/misc/trampver.texi: Change version to \"2.2.13.25.1\".\n\n\t* lisp/net/tramp-compat.el (tramp-compat-delete-dups):\n\tUse `tramp-compat-funcall'.\n\n\t* lisp/net/tramp-gvfs.el (tramp-gvfs-parse-device-names):\n\tMake `split-string' call compatible with older Emacsen.\n\n\t* lisp/net/trampver.el: Change version to \"2.2.13.25.1\".\n\n2015-12-29  Lambda Coder  <sjLambda@gmail.com>\n\n\t* doc/misc/tramp.texi: Editorial revisions to the Tramp manual\n\n2015-12-29  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMention that tls.el is secure by default, and will fail\n\n2015-12-29  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMake tls.el use trustfiles by default\n\n\t* lisp/net/tls.el (tls-program): Add a certfile by default (bug#21227).\n\t(open-tls-stream): Insert the trustfile by looking at\n\t`gnutls-trustfiles'.\n\n2015-12-29  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRefactor out gnutls-trustfiles\n\n\t* lisp/net/gnutls.el (gnutls-trustfiles): Refactor out for reuse by tls.el.\n\n2015-12-29  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRemove --insecure from gnutls-cli invocation\n\n\t* tls.el (tls-program): Default to using secure TLS\n\tconnections (bug#19284).\n\n2015-12-29  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSpelling fix\n\n2015-12-29  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort report-emacs-bug to deterministic builds\n\n\t* lisp/mail/emacsbug.el (report-emacs-bug): Future-proof the\n\trecent \"built on\" change to deterministic builds where\n\temacs-build-system will be nil.  See:\n\thttps://lists.gnu.org/r/emacs-devel/2015-12/msg01369.html\n\n2015-12-29  Jose A. Ortega Ruiz  <jao@gnu.org>  (tiny change)\n\n\tFix URL auth error message\n\n\t* lisp/url/url-http.el (url-http-handle-authentication): Make the error\n\tmessage more correct (bug#20069).\n\n2015-12-28  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tshr link traversal fixup\n\n\t* shr.el (shr-next-link): Don't bug out on adjacent links.\n\n\tBackport:\n\n\t(cherry picked from commit 1efc5f8b09273c359683ce13be95fb5df7a84311)\n\n2015-12-28  Tom Tromey  <tom@tromey.com>\n\n\tset :safe on css-indent-offset\n\n\t* lisp/textmodes/css-mode.el (css-indent-offset): Add :safe 'integerp.\n\n2015-12-28  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\t* eww.el (eww-mode): Remove superfluous bidi reset.\n\n2015-12-28  James Stout  <james.wolf.stout@gmail.com>  (tiny change)\n\n\tMake chunked encoding trailer detection more compliant\n\n\t* lisp/url/url-http.el\n\t(url-http-chunked-encoding-after-change-function): Make\n\ttrailer detection more compliant (bug#16345).\n\n2015-12-28  Martin Rudalics  <rudalics@gmx.at>\n\n\tFix Bug#10873 in `report-emacs-bug'\n\n\t* lisp/mail/emacsbug.el (report-emacs-bug): If\n\t`report-emacs-bug-no-explanations' is nil, make sure we can show\n\tmail and warnings buffer on this frame (Bug#10873).\n\n2015-12-28  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAlways reset the bidi direction\n\n\t* eww.el (eww-display-html): Always reset the bidi direction\n\tto `left-to-right' (bug#22257).\n\n2015-12-28  Alan Mackenzie  <acm@muc.de>\n\n\tAllow line comments ending with escaped NL to be continued to the next line.\n\n\tUse this in C, C++, and Objective C Modes.  Fixes bug#22246\n\n\t* src/syntax.c (comment-end-can-be-escaped): New buffer local variable.\n\t(forw-comment, back-comment): On encountering an end of comment character,\n\ttest whether it is escaped when `comment-end-can-be-escaped' is non-nil.\n\n\t* doc/lispref/syntax.texi (Control Parsing): Describe\n\t`comment-end-can-be-escaped'.\n\n\t* etc/NEWS (Lisp Changes): Describe `comment-end-can-be-escaped'.\n\n\t* lisp/progmodes/cc-langs.el: New c-lang-setvar `comment-end-can-be-escaped'.\n\n2015-12-28  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tRename project-library-roots to project-external-roots\n\n\t* lisp/progmodes/project.el (project-library-roots): Rename to\n\tproject-external-roots.\n\t(project-library-roots-function): Rename to\n\tproject-vc-external-roots-function.  Only use it in the VC\n\tbackend, for now.  Update project-external-roots accordingly.\n\t(project-vc-library-roots): Remove.\n\t(project-or-libraries-find-regexp):\n\tRename to project-or-external-find-regexp.\n\n\t* lisp/progmodes/elisp-mode.el (elisp-library-roots):\n\tRename to elisp-load-path-roots.\n\n\t* lisp/progmodes/etags.el (etags-library-roots): Remove.  Use\n\tan anonymous function for the default value of\n\tproject-vc-external-roots-function.\n\n2015-12-27  Deniz Dogan  <deniz@dogan.se>\n\n\tClear erc user list upon disconnection\n\n\t* lisp/erc/erc-backend.el (erc-process-sentinel): Clear channel user\n\tlists upon disconnection.  This prevents invalid channel\n\tuser lists when reconnecting (bug#10947).\n\n2015-12-27  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDon't bug out in erc after waking from sleep\n\n\t* lisp/erc/erc-backend.el (erc-server-send-ping): If the server has\n\tclosed connection, this may already have been detected and\n\t`erc-server-last-received-time' has been set to nil (bug#13608).\n\n2015-12-27  David Edmondson  <dme@dme.org>\n\n\tProxy error in erc with multiple clients\n\n\t* lisp/erc/erc.el (erc-channel-receive-names): Fix errors\n\tgenerated when multiple IRC clients talk to a single IRC proxy\n\t(bug#19034).\n\n\tBackport:\n\n\t(cherry picked from commit 507e98a54d1aa37823c64993d6b59257a82fe8f4)\n\n2015-12-27  Dima Kogan  <dima@secretsauce.net>\n\n\tEnsure that we don't have several timers in erc\n\n\t* lisp/erc/erc-backend.el (erc-server-setup-periodical-ping): Checks\n\tfor existing timers in the alist before adding new ones.  If a\n\ttimer already exists, it is cancelled and\n\toverwritten. (bug#19292).\n\n2015-12-27  Jens Lechtenboerger  <jens.lechtenboerger@fsfe.org>\n\n\tFix mml-sec build warnings\n\n\t* lisp/gnus/mml-sec.el: Fix warnings by adding autoloads\n\t(bug#18718).\n\n\tBackport:\n\n\t(cherry picked from commit 3603097f62f5f4aa5451716e9ac380161f6829e2)\n\n2015-12-27  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDon't insert erc logs at the end\n\n\t* lisp/erc/erc-log.el (erc-log-setup-logging): Insert the previous log\n\tat the start of the buffer, not at the end (bug#20496).\n\n2015-12-27  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\t(eww-setup-buffer): Restore left-to-right defaults\n\n\t* eww.el (eww-setup-buffer): Restore left-to-right defaults.\n\n\tBackport:\n\n\t(cherry picked from commit 96c874b96b617c124d500a94de761a61f2a08685)\n\n2015-12-27  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDon't join erc channels doubly\n\n\t* lisp/erc/erc-join.el (erc-autojoin-channels): Don't join channels\n\tmore than once (if you have several nicks) (bug#20695).\n\n2015-12-27  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid leaving \"ghost\" of mouse pointer on MS-Windows\n\n\t* src/w32term.c (frame_set_mouse_pixel_position):\n\t* src/w32fns.c (Fw32_mouse_absolute_pixel_position): Momentarily\n\tdisable \"mouse trails\" when moving the mouse pointer.  (Bug#22247)\n\t* src/w32term.c (frame_set_mouse_pixel_position): Include\n\tw32common.h.\n\n2015-12-27  Krzysztof Jurewicz  <krzysztof.jurewicz@gmail.com>  (tiny change)\n\n\tFix auth source lookups from erc with port numbers\n\n\t* lisp/erc/erc.el (erc-open): `auth-source' wants strings, not port\n\tnumbers (bug#20541).\n\n2015-12-27  Fran Litterio  <flitterio@gmail.com>\n\n\tRun erc-kill-channel-hook always on exit\n\n\t* lisp/erc/erc.el (erc-kill-buffer-function): Run erc-kill-channel-hook\n\twhen erc-kill-queries-on-quit is set (bug#21187).\n\n2015-12-27  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSpelling fix\n\n\t* test/automated/url-parse-tests.el:\n\t(url-generic-parse-url/same-document-reference):\n\tRename from url-generic-parse-url/same-decument-reference.\n\n2015-12-27  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tReword initial *scratch* for brevity, appearance\n\n\t* lisp/startup.el (initial-scratch-message):\n\tReword to avoid apostrophes, and to make it shorter.\n\tSee the thread starting in:\n\thttps://lists.gnu.org/r/emacs-devel/2015-12/msg01241.html\n\n2015-12-26  Leo Liu  <sdl.web@gmail.com>\n\n\tAdd ert-deftest to lisp-mode.el\n\n\t* lisp/emacs-lisp/lisp-mode.el (lisp-imenu-generic-expression,\n\t  lisp-el-font-lock-keywords-1): Add ert-deftest.\n\n2015-12-26  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMark imap changes as not needing doc changes\n\n\t* lisp/net/imap.el (imap-ssl-open): Remove\n\n2015-12-26  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tUse built-in encryption in imap.el\n\n\t* lisp/net/imap.el (imap-ssl-program): Remove (bug#21134).\n\t(imap-starttls-open): Use open-network-stream instead of starttls.el.\n\t(imap-tls-open): Use open-network-stream instead of tls.el.\n\n2015-12-26  Eli Zaretskii  <eliz@gnu.org>\n\n\tDon't try using /bin/sh in artist.el on MS-Windows\n\n\t* lisp/textmodes/artist.el (artist-figlet-get-font-list-windows):\n\tNew function.\n\t(artist-figlet-choose-font): Use it on MS-Windows and MS-DOS.\n\t(Bug#20167)\n\n2015-12-26  Wolfgang Jenkner  <wjenkner@inode.at>\n\n\tAlways define gmalloc etc. in src/gmalloc.c\n\n\tThis is a work-around to prevent the compiler from using semantic\n\tknowledge about malloc for optimization purposes.  E.g., gcc 5.2\n\twith -O2 replaces most of calloc's definition by a call to calloc;\n\tsee Bug#22085.\n\t* src/gmalloc.c [!HYBRID_MALLOC] (malloc, realloc, calloc)\n\t(aligned_alloc, free): Do not undef.  Instead, define these as\n\tfunctions (perhaps renamed to gmalloc etc.) in terms of gmalloc etc.\n\n2015-12-26  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix documentation of browse-url browser-related functions\n\n\t* lisp/net/browse-url.el (browse-url)\n\t(browse-url-default-browser, browse-url-default-windows-browser)\n\t(browse-url-default-macosx-browser, browse-url-chromium)\n\t(browse-url-kde, browse-url-text-xterm): Clarify the usage of ARGS\n\tand NEW-WINDOW arguments in these functions.  (Bug#19421)\n\n2015-12-26  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPropagate Bug#14412 fix to backtrace_eval_unrewind\n\n\t* src/eval.c (unbind_to): Redo so that the FALLTHROUGH!! comment\n\tbecomes accurate again. This shouldn\u2019t affect behavior.\n\t(backtrace_eval_unrewind): Apply the recent unbind_to fix here, too.\n\n2015-12-26  Eli Zaretskii  <eliz@gnu.org>\n\n\tDon't produce non-ASCII characters in *scratch*\n\n\t* lisp/startup.el (initial-scratch-message): Quote apostrophes to\n\tavoid producing non-ASCII characters in the *scratch* buffer's\n\tcommentary.\n\n2015-12-26  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument changes in 'compare-windows'\n\n\t* lisp/vc/compare-w.el (compare-windows-removed)\n\t(compare-windows-added): Doc fix.\n\n\t* doc/emacs/files.texi (Comparing Files): Document the changes in\n\twindow selection by 'compare-windows'.\n\n2015-12-26  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument 'vc-annotate-background-mode'\n\n\t* doc/emacs/maintaining.texi (Old Revisions): Document\n\t'vc-annotate-background-mode'.\n\n2015-12-26  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument 'vc-region-history'\n\n\t* doc/emacs/maintaining.texi (VC Change Log): Document\n\t'vc-region-history'.\n\n2015-12-26  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of 'vc-push'\n\n\t* doc/emacs/maintaining.texi (Pulling / Pushing): Expand and\n\timprove the documentation of 'vc-push'.\n\n\t* lisp/vc/vc.el (vc-pull, vc-push): Doc fix.\n\n2015-12-26  Alain Schneble  <a.s@realize.ch>\n\n\tInclude the tests for the URL parsing fixes\n\n2015-12-26  Alain Schneble  <a.s@realize.ch>\n\n\tMake relative URL parsing and resolution consistent with RFC 3986 (bug#22044)\n\n\t* test/automated/url-parse-tests.el: Add tests covering url-generic-parse-url.\n\t* test/automated/url-expand-tests.el: Add tests covering url-expand-file-name.\n\t* lisp/url/url-parse.el (url-generic-parse-url): Keep empty fragment\n\tinformation in URL-struct.\n\t* lisp/url/url-parse.el (url-path-and-query): Do not artificially turn empty\n\tpath and query into nil path and query, respectively.\n\t* lisp/url/url-expand.el (url-expander-remove-relative-links): Do not turn\n\tempty path into an absolute (\"/\") path.\n\t* lisp/url/url-expand.el (url-expand-file-name): Properly resolve\n\tfragment-only URIs. Do not just return them unchanged.\n\t* lisp/url/url-expand.el (url-default-expander): An empty path in the relative\n\treference URI should not drop the last segment.\n\n\tBackport:\n\n\t(cherry picked from commit b792ecea1715e080ad8e232d3d154b8a25d2edfb)\n\n2015-12-26  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument 'url-user-agent'.\n\n\t* lisp/url/url-http.el (url-user-agent): Move from here...\n\t* lisp/url/url-vars.el (url-user-agent): ...to here.  This is to\n\tkeep all the URL defcustoms in one place, and also have it defined\n\twhenever the URL library is loaded.\n\n\t* doc/misc/url.texi (Customization): Document 'url-user-agent'.\n\n2015-12-26  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument protocols supported by URL library via Tramp\n\n\t* doc/misc/url.texi (Tramp): New node, describes the URL schemes\n\tsupported via Tramp.\n\t(Supported URL Types, file/ftp, rlogin/telnet/tn3270): Mention\n\tTramp.\n\n2015-12-26  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument changes in Shell-script mode\n\n\t* lisp/progmodes/sh-script.el (sh-mode, sh-set-shell): Document\n\tthe 'sh-shell' file-local variable.\n\t(top level): Add an auto-load form to avoid byte-compiler warning\n\tabout 'comint-send-string'.\n\n2015-12-26  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix documentation of 'ses-define-local-printer'\n\n\t* doc/misc/ses.texi (Printer functions): Fix whitespace between\n\tsentences and punctuation.  Add an index entry for\n\t'ses-define-local-printer'.\n\n2015-12-26  Shakthi Kannan  <shakthimaan@gmail.com>\n\n\tDocument 'ert-summarize-tests-batch-and-exit'\n\n\t* doc/misc/ert.texi (Running Tests in Batch Mode): Document\n\t'ert-summarize-tests-batch-and-exit'.\n\n2015-12-26  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid assertion violation in unbind_to\n\n\t* src/eval.c (unbind_to) <SPECPDL_LET>: Avoid assertion violation\n\tif we get here with an object that is not a symbol.  (Bug#14412)\n\n2015-12-25  Andreas Schwab  <schwab@linux-m68k.org>\n\n\tDon't treat /foo/bar:mumble as ange-ftp address\n\n\t\t* lisp/net/browse-url.el (browse-url-filename-alist): Match colons\n\t\tonly in the first component.  (bug#5362)\n\n2015-12-25  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFollow <meta> redirects in eww\n\n\tMerge conflict, but I think I resolved it.\n\n\t    Follow meta refresh tags in eww\n\n\t    * eww.el (eww-tag-meta): Follow meta refresh tags (bug#22234).\n\n\tBackport:\n\n2015-12-25  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAllow http://user:pass@foo/ URLs again\n\n\t* lisp/url/url-auth.el (url-basic-auth): Allow explicit\n\tuser/passwords in URLs (bug#19046).\n\n\tBackport:\n\n\t(cherry picked from commit b563715a2db265517d5a77f165a42afa1e233fdd)\n\n2015-12-25  Samer Masterson  <samer@samertm.com>\n\n\tAutoload url-insert-buffer-contents\n\n\t* lisp/url/url-handlers.el: Add autoload cookie so that\n\t`package-list-packages' doesn't bug out (bug#21927) (tiny change)\n\n\tBackport:\n\n\t(cherry picked from commit 7a7b5b492ff9929eecd90c4564db6fbf3b192323)\n\n2015-12-25  Eli Zaretskii  <eliz@gnu.org>\n\n\tMake sure *scratch* etc. use forward slashes in its default-directory\n\n\t* lisp/startup.el (normal-top-level): On MS-Windows, convert\n\tbackslashes to forward slashes while decoding default-directory\n\tof the initially-created buffers.\n\n2015-12-25  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMore eww file name coding fixes\n\n\t* eww.el (eww-decode-url-file-name): Use the base coding\n\tsystem to check for encodability.\n\n\tBackport:\n\n\t(cherry picked from commit a8627008abe4ab339df19b417776da28b3ce0fc7)\n\n2015-12-25  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAlways save eww history\n\n\t* eww.el (eww-setup-buffer): Always save history, even when\n\tcalled from outside the eww buffer (bug#19638).\n\n\tBackport:\n\n\t(cherry picked from commit 2a0f18d9b6ce0ccce3d9c4a4a3b5743bae71b41e)\n\n2015-12-25  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDefault web pages to right-to-left\n\n\t* eww.el (eww-mode): Most web pages are left-to-right, so make\n\tthat the default (bug#19801).\n\n\t* shr.el (shr-tag-html): Respect \"dir\" attributes\n\t(left-to-right, right-to-left).\n\n\tBackport:\n\n\t(cherry picked from commit 9e089ec8a380ec3758fcf1564c5f86dc92c68c2a)\n\n2015-12-25  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMake toggling checkboxes work again\n\n\t* eww.el (eww-update-field): Make toggling checkboxes work\n\tagain (bug#21881).\n\n\tBackport:\n\n\t(cherry picked from commit 5e56f606952e5e81b4d3a93ea70e791b74b33041)\n\n2015-12-25  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDon't store cookies with empty names\n\n\t* lisp/url/url-cookie.el (url-cookie-store): Refuse to store\n\tcookies with empty names (bug#21936).\n\n\tBackport:\n\n\t(cherry picked from commit 9f0fd7cb1aec3eb9e2e0f7b8854c30870286d96c)\n\n2015-12-25  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tStop rendering HTML before specdlr exhaustion\n\n\tFixes: 22117\n\n\t* shr.el (shr-descend): Stop rendering before we run out of\n\tspecpdl room (bug#22117).\n\n\tBackport:\n\n\t(cherry picked from commit 248da292fe46224b0b5a79b632c89cf4de2c2081)\n\n2015-12-25  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tUse cl-reduce, not reduce.\n\n\tBackport:\n\n\t(cherry picked from commit fe4606f93b91ff3d046aee0cf21ecc277af7a786)\n\n2015-12-25  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAllow several <tbody> tags in shr\n\n\t* shr.el (shr-table-body): New function to find the real body\n\tof a table.\n\t(shr-tag-table): Use it to render several <tbody> tags in a\n\ttable (bug#22170).\n\n\tBackport:\n\n\t(cherry picked from commit cdaf33029d6620073833876d76056045ecfbc7c4)\n\n2015-12-25  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMake prettier unique file names in eww\n\n\t(eww-make-unique-file-name): Make unique file names by making\n\tfiles like foo(2).jpg instead of foo(1)(2).jpg.\n\n\tBackport:\n\n\t(cherry picked from commit edfdd0a6cbdfa9e5e4bd0553e2b489401ca39266)\n\n2015-12-25  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDecode hex-encoded URLs before using them as file names\n\n\t* eww.el (eww-decode-url-file-name): New function.\n\t(eww-download-callback): Use it to decode file names before\n\tsaving them.\n\n\tBackport:\n\n\t(cherry picked from commit af22a010d87516c2a646572fb27512c03057784f)\n\n2015-12-25  Ashish SHUKLA  <ashish.is@lostca.se>\n\n\tAdd FreeBSD cert bundle\n\n\t* doc/misc/emacs-gnutls.texi (Help For Users): Document\n\tFreeBSD bundle.\n\n\t* lisp/net/gnutls.el (gnutls-trustfiles): Add FreeBSD cert bundle.\n\n\tBackport:\n\n\t(cherry picked from commit 60c0f1a18ad88d6dc1a8f4ee5d9d18940eaeb6f7)\n\n2015-12-25  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tIgnore invalid SVG images\n\n\t* shr.el (shr-tag-svg): Ignore SVG images that have no width\n\tor height, because these can't be displayed by ImageMagick,\n\tanyway.\n\n\tBackport:\n\n\t(cherry picked from commit 821107d53c2e390240d25c036b99ebbf9b4a93b6)\n\n2015-12-25  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tshr table rendering fix\n\n\t* shr.el (shr-tag-table): Allow rendering body-less tables\n\tthat have headers.\n\n\tBackport:\n\n\t(cherry picked from commit b05471e42c17e02c56c87d7599ada0c124a5fe09)\n\n2015-12-25  Eli Zaretskii  <eliz@gnu.org>\n\n\tRestore info about the build host in bug reports\n\n\t* lisp/mail/emacsbug.el (report-emacs-bug): Report the system on\n\twhich Emacs was built.  This is important information for\n\tinvestigating bug reports reported by users who don't build their\n\tEmacs.\n\n2015-12-25  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix bootstrap broken by changes related to OS X file-name encoding\n\n\t* lisp/international/ucs-normalize.el (eval-when-compile): Make\n\tsure char-code-property-alist includes elements that allow access\n\tto 'decomposition' and 'canonical-combining-class' Unicode\n\tproperties, as compiling ucs-normalize.el requires that.\n\t* lisp/loadup.el (featurep 'ns): Load ucs-normalize and ns-win\n\tonly of charprop.el was already loaded.\n\n\t* src/Makefile.in ($(lispsource)/international/ucs-normalize.elc):\n\tNew order-only dependency.\n\n2015-12-25  Leo Liu  <sdl.web@gmail.com>\n\n\t* lisp/ido.el (ido-add-virtual-buffers-to-list): Use bookmark-get-filename.\n\n2015-12-25  Michael Albinus  <michael.albinus@gmx.de>\n\n\tMake tramp-test29-vc-registered more robust\n\n\t* test/automated/tramp-tests.el (tramp-test29-vc-registered):\n\tMove `bzr' case down.  Skip test when `vc-create-repo' fails.\n\tRemove instrumentation.\n\n2015-12-24  YAMAMOTO Mitsuharu  <mituharu@math.s.chiba-u.ac.jp>\n\n\t* lisp/term/x-win.el (x-gtk-stock-map): Fix typo.\n\n2015-12-24  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\tFix `gnus-union' so as to behave like `cl-union'\n\n\t* lisp/gnus/gnus-group.el (gnus-group-prepare-flat):\n\tMake gnus-union use `equal' to compare items in lists.\n\n\t* lisp/gnus/gnus-util.el (gnus-union):\n\tMake it behave like cl-union partially.\n\n2015-12-23  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix dired.c typo with ptrdiff_t vs Lisp_Object\n\n\t* src/dired.c (file_name_completion): Don't assume Lisp_Object is\n\tan integer type, fixing a problem introduced in the recent fix for\n\tBug#22169.\n\n2015-12-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument default process sentinel more prominently\n\n\t* doc/lispref/processes.texi (Asynchronous Processes): Mention the\n\tdefaults for process filter and sentinel.  Provide cross-references.\n\t(Process Information): Provide cross-references to where filters\n\tand sentinels are described.\n\t(Filter Functions): Add an index entry for \"default filter\".\n\t(Sentinels): Add a few status messages not documented previously.\n\tResolve the \"killed\" confusion.  Document and describe the default\n\tsentinel.  (Bug#22220)\n\n2015-12-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix file-name completion on OS X\n\n\t* src/dired.c (file_name_completion): Reject false matches due to\n\tfile-name-coding-systems that decompose characters when encoding\n\tfile names, by comparing decoded file names as well.  (Bug#22169)\n\t(syms_of_dired) <Qdecomposed_characters>: New DEFSYM.\n\n\t* lisp/international/ucs-normalize.el (utf-8-hfs): Give it a\n\tnon-nil 'decomposed-characters' property.\n\n2015-12-23  Anders Lindgren  <andlind@gmail.com>\n\n\tFile-name completion of non-ASCII characters on OS X (bug#22169)\n\n\tThe coding system `utf-8-nfd', locally defined in ns-win.el,\n\tdidn't provide a :pre-write-conversion method, causing file name\n\tcompletion of non-ASCII characters to fail.  Solved by using the\n\t`utf-8-hfs' coding system provided by `ucs-normalize'.\n\n\t* lisp/loadup.el: Load international/ucs-normalize (when building\n\tfor ns).\n\n\t* lisp/term/ns-win.el (utf-8-nfd): Made `utf-8-nfd' as alias for\n\t`utf-8-hfs' and removed the old implementation.  Set `utf-8-hfs'\n\tas the file name coding system.\n\n\t* src/nsfns.m (ns-convert-utf8-nfd-to-nfc): Removed.\n\n2015-12-23  Tom Tromey  <tom@tromey.com>\n\n\tFix bug #18588 by making bug-reference-bug-regexp more lenient\n\n\t* lisp/progmodes/bug-reference.el (bug-reference-bug-regexp): Accept\n\t\"bug NNNN\".  (Bug #18588)\n\n2015-12-23  Tom Tromey  <tom@tromey.com>\n\n\tadd some cl-* aliases to lisp-mode imenu\n\n\t* (lisp-imenu-generic-expression): Add cl-define-compiler-macro,\n\tcl-defgeneric, and cl-defmethod.\n\n2015-12-22  Tom Tromey  <tom@tromey.com>\n\n\tMake a variable buffer-local\n\n\t* lisp/generic-x.el (generic-rul-mode-setup-function): Make\n\tfont-lock-syntax-table buffer-local.  (Bug #21627)\n\n2015-12-22  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix decoding of text in URLs retrieved by EWW\n\n\t* lisp/net/eww.el (eww-render): Pass 'charset' to\n\t'eww-display-raw'.  Use the value of 'last-coding-system-used', if\n\tnon-nil, to set 'buffer-file-coding-system' of the buffer where we\n\tshow the URL.\n\t(eww-display-html, eww-display-raw): Decode the text correctly,\n\tusing the charset found in the headers, and defaulting to UTF-8.\n\tIf the user told us to use a specific encoding, override the\n\tcharset from the headers.  (Bug#22222)\n\n2015-12-22  Alan Mackenzie  <acm@muc.de>\n\n\tFix a coding error in c-forward-<>-arglist-recur.  Fixes bug#22156\n\n\t* lisp/progmodes/cc-engine.el (c-forward-<>-arglist-recur): Remove unused\n\tvariable `tmp'.\n\tAfter a failed search for a matching \">\", restore point before continuing.\n\n2015-12-22  Michael Albinus  <michael.albinus@gmx.de>\n\n\tInstrument Tramp tests\n\n\t* test/automated/tramp-tests.el (tramp-test29-vc-registered)\n\t(tramp--test-utf8): Instrument tests.\n\n2015-12-22  Martin Rudalics  <rudalics@gmx.at>\n\n\tFix `display-buffer' call in `display-message-or-buffer' (Bug#22221)\n\n\t* lisp/simple.el (display-message-or-buffer): Call\n\t`display-buffer' with ACTION instead of NOT-THIS-WINDOW\n\t(Bug#22221).\n\n2015-12-22  Juri Linkov  <juri@linkov.net>\n\n\t* lisp/saveplace.el (toggle-save-place, save-place-to-alist)\n\n\t(save-places-to-alist, save-place-dired-hook):\n\tCheck for dired-subdir-alist.  (Bug#19851)\n\n2015-12-21  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tAdd FIXME comment re stack overflow and modules\n\n2015-12-21  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRevert some recent emacs-module commentary\n\n\tMost of the recently-added commentary was incorrect, due to the\n\tpossibility of stack overflow.\n\n2015-12-21  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSpelling fix: prefer \"cooperate\" to \"co-operate\"\n\n2015-12-21  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort undo fixes to -fno-common\n\n\tPort recent fix for Bug#21968 to platforms like 'gcc -fno-common'.\n\t* src/keyboard.c, src/keyboard.h (point_before_last_command_or_undo)\n\t(buffer_before_last_command_or_undo):\n\tDeclare in keyboard.h, and define in keyboard.c,\n\tinstead of assuming the traditional Unix relaxed ref-def linkage.\n\n2015-12-20  Philipp Stephani  <phst@google.com>\n\n\tImprove commentary for emacs-module.c\n\n\t* src/lisp.h: Document emacs-module.c assumptions about EQ and NILP.\n\t* src/emacs-module.c (module_non_local_exit_get): Document that we\n\tcannot use the current implementation.\n\t(module_is_not_nil, module_eq): Document assumptions about EQ and\n\tNILP.\n\n2015-12-20  Michael Albinus  <michael.albinus@gmx.de>\n\n\tSuppress test on Mac OS X\n\n\t* test/automated/tramp-tests.el (tramp--test-darwin-p): New defun.\n\t(tramp--test-utf8): Use it.\n\n2015-12-20  Alan Mackenzie  <acm@muc.de>\n\n\tMerge branch 'scratch/follow' into emacs-25\n\n\tThis allows Isearch, etc., to work well when Follow Mode is active.\n\n2015-12-19  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* lisp/net/tramp-sh.el (tramp-get-ls-command-with-w-option): Improve check.\n\n2015-12-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix last commit\n\n\t* doc/emacs/rmail.texi (Rmail Deletion): Document new behavior of 'u'\n\twith numeric argument.\n\n2015-12-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument new features of Rmail\n\n\t* doc/emacs/rmail.texi (Rmail Summary Edit, Rmail Deletion):\n\tDocument new behavior of 'd' and 'C-d' with numeric argument.\n\t(Rmail Display): Document the rendering of HTML MIME parts.\n\n2015-12-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of new cl-lib functions\n\n\t* doc/misc/cl.texi (Predicates on Numbers, Numerical Functions):\n\tFix wording.\n\n2015-12-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument the new feature of 'minibuffer-with-setup-hook'\n\n\t* lisp/files.el (minibuffer-with-setup-hook): Clarify how FUN is\n\tadded to `minibuffer-setup-hook'.\n\n2015-12-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument new features of Font Lock\n\n\t* doc/lispref/modes.texi (Other Font Lock Variables): Document\n\t'font-lock-flush-function' and 'font-lock-ensure-function'.\n\t(Font Lock Basics): Document the basic fontification functions\n\treferenced in \"Other Font Lock Variables\".\n\n\t* lisp/font-lock.el (font-lock-flush, font-lock-ensure): Doc fix.\n\n2015-12-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument new features of Rectangle mode\n\n\t* doc/emacs/killing.texi (Rectangles): Document \"C-x C-x\" in\n\trectangle-mark-mode.\n\n2015-12-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tManual followup to last change\n\n\t* doc/lispref/display.texi (Displaying Messages): Sync with the\n\tdoc string.  (Bug#22210)\n\n2015-12-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tClarify doc string of 'display-message-or-buffer'\n\n\t* lisp/simple.el (display-message-or-buffer): Doc fix.  Suggested\n\tby Sebastian Wiesner <swiesner@lunaryorn.com>.  (Bug#22210)\n\n2015-12-19  Eli Zaretskii  <eliz@gnu.org>\n\n\t* doc/emacs/emacs.texi (Top): Update top-level menus.\n\n\t* doc/lispref/elisp.texi (Top): Update top-level menus.\n\n2015-12-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument how to avoid file-local variables that aren't\n\n\t* doc/emacs/custom.texi (Specifying File Variables): Describe how\n\tto prevent Emacs from interpreting unrelated text as file-local\n\tvariables.  (Bug#22166)\n\n2015-12-19  Dave Thomas  <dave@pragprog.org>  (tiny change)\n\n\tFix a typo in eterm-color's termcap entry\n\n\t* lisp/term.el (term-termcap-format): Fix a typo in the \"ue=\"\n\tentry.  (Bug#22184)\n\n2015-12-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tAllow 'browse-url-emacs' visit non-existent URLs\n\n\t* lisp/url/url-handlers.el (url-insert-file-contents): Don't\n\tsignal an error if VISIT is non-nil, to more faithfully emulate\n\tthe behavior of 'insert-file-contents'.  (Bug#22160)\n\n2015-12-19  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRemove SunOS 4.x cruft\n\n\tSupport for SunOS 4.x was removed in Emacs 23 but some cruft was left behind.\n\t* lib-src/pop.c [sun]: Remove no-longer-needed include.\n\t* lwlib/xlwmenu.c (SUNSO41): Remove.\n\n2015-12-19  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from gnulib\n\n\tThis mostly commentary fixes.\n\t* doc/misc/texinfo.tex, lib/intprops.h: Copy from gnulib.\n\t* lib/gnulib.mk: Regenerate with new gnulib-tool.\n\n2015-12-18  Michael Albinus  <michael.albinus@gmx.de>\n\n\tMinor fixes in Tramp\n\n\t* lisp/net/tramp-sh.el (tramp-do-file-attributes-with-ls):\n\tReorder ls arguments.\n\n\t* lisp/net/tramp.el (tramp-dissect-file-name): Fix docstring.\n\n2015-12-18  Michael Albinus  <michael.albinus@gmx.de>\n\n\tMake tramp a built-in package\n\n\t* lisp/finder.el (finder-compile-keywords): Update\n\t`package--builtins' also when Version: keyword is available.\n\n\t* lisp/net/trampver.el: Add Version: keyword.\n\t(tramp-version): Change it to \"2.2.13.25.1\", in order to be\n\tcompatible with `version-to-list'.\n\n2015-12-18  Lele Gaifax  <lele@metapensiero.it>\n\n\t* etc/tutorials/TUTORIAL.it: Update and fix typos.\n\n2015-12-18  Alan Mackenzie  <acm@muc.de>\n\n\tRename `recenter-group' to `recenter-window-group'\n\n\t* doc/lispref/windows.texi (Textual Scrolling)\n\t* lisp/window.el (top level, recenter-group)\n\t* lisp/follow.el (follow-mode)\n\t* lisp/isearch.el (isearch-back-into-window): Rename `recenter-group' to\n\t`recenter-window-group' and `recenter-group-function' to\n\t`recenter-window-group-function'.\n\n2015-12-18  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix vertical-motion in tabulated-list mode\n\n\t* src/indent.c (Fvertical_motion): When moving from line beginning\n\tto point under line truncation, assume overshoot by one line only\n\tif point actually lies beyond the window's right margin.\n\t(Bug#22194)\n\n2015-12-18  Martin Rudalics  <rudalics@gmx.at>\n\n\tDon't have help functions call x-display-pixel-width/-height on ttys\n\n\t* lisp/help.el (temp-buffer-max-height, temp-buffer-max-width):\n\tDon't call x-display-pixel-width/-height on ttys.\n\n2015-12-18  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tUse 'hg id' in vc-hg-previous-revision\n\n\t* lisp/vc/vc-hg.el (vc-hg-previous-revision):\n\tUse 'hg id' to retrieve it (bug#22032).\n\n2015-12-17  Alan Mackenzie  <acm@muc.de>\n\n\t* lisp/follow.el (follow-sit-for): Remove (it's redundant).\n\n2015-12-17  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix a typo in the Emacs manual\n\n\t* doc/emacs/trouble.texi (Sending Patches): Fix a typo.  Reported\n\tby Lele Gaifax <lele@metapensiero.it>.  (Bug#22193)\n\n2015-12-17  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix parsing netrc entries with ports\n\n\t* lisp/gnus/auth-source.el (auth-source-ensure-strings): Don't\n\tmake a list out of 't'.  (Bug#22188)\n\n\t* test/automated/auth-source-tests.el\n\t(auth-source-test-netrc-parse-entry): New test.\n\n2015-12-17  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix typo in Doug Lea malloc configure log\n\n\t* configure.ac (emacs_cv_var_doug_lea_malloc):\n\tFix typo that confused the log output of 'configure'.\n\n2015-12-16  Nicolas Petton  <nicolas@petton.fr>\n\n\t* etc/NEWS: Mention the new pcase patterns `seq' and `map'.\n\n2015-12-16  Alan Mackenzie  <acm@muc.de>\n\n\t* etc/NEWS: Move entry on pcase to correct section\n\n\t(Accidentally omitted from previous commit)\n\n2015-12-16  Alan Mackenzie  <acm@muc.de>\n\n\tAdd documentation for changes to Show Paren mode.\n\n\t* lisp/paren.el (show-paren-highlight-openparen): Enhance doc string.\n\n\t* doc/emacs/programs.texi (Matching): Add descriptions of some pertinent user\n\toptions, including the new show-paren-when-point-inside-paren and\n\tshow-paren-when-point-in-periphery.\n\n\t* etc/NEWS (.. Specialized Modes ...): Add an entry for Show Paren mode.\n\tMove an entry on pcase to the Lisp Changes section.\n\n2015-12-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument Eldoc changes\n\n\t* doc/emacs/programs.texi (Lisp Doc): Document Global Eldoc mode.\n\n2015-12-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix invocation of Python and Guile interpreters from gdb-mi\n\n\t* lisp/progmodes/gdb-mi.el (gdb-control-commands-regexp): Add\n\tcommands for interactive Python and Guile interpreters.\n\t(gdb-send): Recognize various ways of exiting from Python and\n\tGuile interpreters and returning to GDB.  For details, see\n\thttps://lists.gnu.org/r/emacs-devel/2015-12/msg00693.html\n\tand http://stackoverflow.com/questions/31514741.\n\n2015-12-16  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRemove attempt to use C11 threads\n\n\tC11 threads are not needed for Emacs now, and their use is causing\n\thassles on FreeBSD 10.x.  Problem reported by Ashish SHUKLA in:\n\thttps://lists.gnu.org/r/emacs-devel/2015-12/msg00648.html\n\t* configure.ac: Do not check for C11 threads. Remove unnecessary\n\tfiddling with CPPFLAGS when configuring pthreads.\n\t* src/emacs-module.c (main_thread, check_main_thread)\n\t(module_init): Do not worry about C11 threads.\n\n2015-12-15  Michael Albinus  <michael.albinus@gmx.de>\n\n\tSet utf8 encoding with stty in Tramp\n\n\t* lisp/net/tramp-sh.el (tramp-open-connection-setup-interactive-shell):\n\tMove up uname check.  Handle Mac OS X eol encoding.  Set utf8\n\tencoding with stty.\n\n2015-12-15  Alan Mackenzie  <acm@muc.de>\n\n\tTidy up documentation associated with window groups.\n\n\t* doc/lispref/windows.texi (Basic Windows): Add an @anchor for \"Window\n\tGroups\".  Correct example function to `window-group-start'.\n\t(Window Start and End, Textual scrolling): Point to the new anchor.  State\n\tthat (most of) the args in window group functions have the same meaning as for\n\tthe corresponding window primitives.\n\n\t* doc/lispref/positions.texi (Screen Lines).  Same as above.\n\n2015-12-15  Michael Albinus  <michael.albinus@gmx.de>\n\n\tComplete last commit\n\n\t* lisp/net/tramp-sh.el (tramp-open-connection-setup-interactive-shell):\n\tMove uname check up.  Handle Mac OS X eol encoding.\n\n2015-12-15  Michael Albinus  <michael.albinus@gmx.de>\n\n\tHandle Mac OS X eol encoding in Tramp\n\n\t* lisp/net/tramp-sh.el (tramp-open-connection-setup-interactive-shell):\n\tHandle Mac OS X eol encoding.\n\n2015-12-15  YAMAMOTO Mitsuharu  <mituharu@math.s.chiba-u.ac.jp>\n\n\tFix variable name typo in compute_tip_xy\n\n\t* src/w32fns.c (compute_tip_xy):\n\t* src/xfns.c (compute_tip_xy): Modify *root_x instead of *root_y\n\twhen `right' is integer.\n\n2015-12-14  foudfou  <foudil.newbie+git@gmail.com>\n\n\t* lisp/ibuffer.el: Add ability to (un-)mark or delete buffers in the region.\n\n2015-12-14  Tassilo Horn  <tsdh@gnu.org>\n\n\tRevert \"Fix rx matcher overflow without limiting\"\n\n\tThis reverts commit fe27e037663d36be3e5741c2ce86ab4ee8017db1.\n\n2015-12-14  Alan Mackenzie  <acm@muc.de>\n\n\tIspell: Bind isearch-regexp-function to nil around call to isearch..-new-loop\n\n\t* lisp/textmodes/ispell.el (ispell-highlight-spelling-error-overlay): bind\n\tisearch-regexp-function to nil around call to isearch-lazy-highligh-new-loop.\n\n2015-12-14  Tassilo Horn  <tsdh@gnu.org>\n\n\tFix rx matcher overflow without limiting\n\n\t* lisp/textmodes/reftex-vars.el (reftex-label-regexps): Improve last\n\tchange to the regexp without imposing a limit on the length of the\n\toptions.\n\n2015-12-14  Alan Mackenzie  <acm@muc.de>\n\n\tEnhance ispell-skip-region-alist by generating part of it at runtime.\n\n\t* lisp/textmodes/ispell.el (ispell--\\\\w-filter, ispell--make-\\\\w-expression)\n\t(ispell--make-filename-or-URL-re): New functions which generate a regexp.\n\t(ispell-skip-region-alist): Remove the bit that matches a filename/URL, etc.\n\t(ispell-begin-skip-region-regexp, ispell-skip-region-list, ispell-message):\n\tInclude the result of ispell--make-filename-or-URL-re in regexps.\n\n2015-12-14  Glenn Morris  <rgm@gnu.org>\n\n\t* build-aux/gitlog-to-emacslog: Ignore more pointless merge commits.\n\n2015-12-14  Alan Mackenzie  <acm@muc.de>\n\n\tReplace GROUP argument in six window primitives by new functions.\n\n\t* doc/lispref/windows.texi (Window Start and End, Textual Scrolling)\n\t* doc/lispref/positions.texi (Screen Lines): Remove optional GROUP argument\n\tfrom description of six window functions.  Add in description of new functions\n\twindow-group-start, window-group-end, set-window-group-start,\n\tpos-visible-in-window-group-p, recenter-group and move-to-window-group-line,\n\ttogether with the six variables indirecting to the pertinent group\n\tfunctions.\n\n\t* src/window.c\n\t* src/keyboard.c: Revert the commit from 2015-11-11 12:02:48, in so far as it\n\tapplies to these two files, which added the GROUP argument to six window\n\tprimitives.\n\n\t* lisp/follow.el (follow-mode): Use updated variable names for the indirected\n\tfunctions.\n\n\t* lisp/isearch.el (isearch-update, isearch-done, isearch-string-out-of-window)\n\t(isearch-back-into-window, isearch-lazy-highlight-new-loop)\n\t(isearch-lazy-highlight-search, isearch-lazy-highlight-update): Replace calls\n\tto window primitives (e.g. window-start) with a GROUP argument by calls to\n\tnew functions (e.g. window-group-start).\n\n\t* lisp/textmodes/ispell.el (ispell-command-loop): Replace call to\n\tpos-visible-in-window-p with pos-visible-in-window-group-p.\n\n\t* lisp/window.el (window-group-start, window-group-end)\n\t(set-window-group-start, recenter-group, pos-visible-in-window-group-p)\n\t(selected-window-group, move-to-window-group-line): New functions.\n\t(window-group-start-function, window-group-end-function)\n\t(set-window-group-start-function, recenter-group-function)\n\t(pos-visible-in-window-group-p-function, selected-window-group-function)\n\t(move-to-window-group-line-function): New variables.\n\n2015-12-14  Vitorio Miguel  <vdrbandeiras@gmail.com>  (tiny change)\n\n\t* etc/tutorials/TUTORIAL.pt_BR: Fix a typo.  (Bug#22165)\n\n2015-12-13  Tassilo Horn  <tsdh@gnu.org>\n\n\tImprove regex to not trigger stack overflow\n\n\t* lisp/textmodes/reftex-vars.el (reftex-label-regexps): Improve regex in\n\torder not to trigger a stack overflow in regex matcher with unbalanced\n\tbrackets (bug#22146).\n\n2015-12-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix visiting files with raw-text\n\n\t* src/fileio.c (Finsert_file_contents): Fix setting buffer unibyte\n\twhen some stuff was actually read.  (Bug#22162)\n\n2015-12-13  Tassilo Horn  <tsdh@gnu.org>\n\n\tFix regex matching keyval labels\n\n\t* lisp/textmodes/reftex-vars.el (reftex-label-regexps): Fix regexp\n\tmatching keyval labels.\n\n2015-12-13  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* lisp/ido.el (ido-file-name-all-completions-1): Do not raise an error\n\n\t... in case of Tramp.  (Bug#20821)\n\n2015-12-13  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix performance regression with gcc -O0\n\n\tThis fixes the smaller performance hit that I noted in:\n\thttps://lists.gnu.org/r/emacs-devel/2015-12/msg00357.html\n\t* src/alloc.c (macro_XPNTR_OR_SYMBOL_OFFSET, macro_XPNTR):\n\t* src/puresize.h (puresize_h_PURE_P)\n\t(puresize_h_CHECK_IMPURE):\n\tNew macros, with the old contents of the functions.\n\t* src/alloc.c (XPNTR_OR_SYMBOL_OFFSET, XPNTR):\n\t* src/puresize.h (PURE_P, CHECK_IMPURE):\n\tUse the new macros.  Also macros, if DEFINE_KEY_OPS_AS_MACROS.\n\t* src/conf_post.h (ATTRIBUTE_UNUSED):\n\t* src/lisp.h (DEFINE_KEY_OPS_AS_MACROS): New macros.\n\n2015-12-12  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el (package-unpack): Security check\n\n\tCheck that we received the package we were offered.\n\n2015-12-12  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el (package--compile): Don't activate\n\n\t`package-unpack' takes care of all activations now (other than\n\t`package-initialize).  `package--compile' now only compiles.\n\n2015-12-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument the new bindings of <UP> and <DOWN> in the minibuffer\n\n\t* doc/emacs/mini.texi (Minibuffer History): Describe the new\n\tbindings of <UP> and <DOWN> in the minibuffer.\n\n2015-12-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument new features of Ido\n\n\t* doc/misc/ido.texi (Misc): Document 'C-S-b'.\n\n2015-12-12  Martin Rudalics  <rudalics@gmx.at>\n\n\tFix frame height calculations with added menu bar on Windows (Bug#22105)\n\n\t* doc/lispref/frames.texi (Parameter Access): Mention pitfalls\n\twhen simultaneously specifying multiple parameters for\n\t`modify-frame-parameters' that all may change the frame's size.\n\t* src/w32fns.c (x_set_menu_bar_lines): Don't set\n\twindows_or_buffers_changed here.\n\t(my_create_tip_window, Fx_show_tip): Call AdjustWindowRect\n\twith third argument false.\n\t* src/w32menu.c (set_frame_menubar): Set\n\twindows_or_buffers_changed here.\n\t* src/w32term.c (x_set_window_size): Determine third argument of\n\tAdjustWindowRect from whether the frame has a menu bar and not\n\tfrom whether it wants one.\n\n2015-12-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument the change in interactive shell mode\n\n\t* doc/emacs/misc.texi (Interactive Shell): Document that the\n\t'*shell*' buffer by default displays in a new window.\n\n2015-12-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument new features of package.el\n\n\t* doc/emacs/package.texi (Package Menu): Document the 'external'\n\tstatus and the new menu commands.\n\t(Package Installation): Document archive priorities.\n\n\t* lisp/emacs-lisp/package.el (package-archive-priorities): Doc fix.\n\t(package-menu-hide-low-priority): Doc fix.\n\n2015-12-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tUpdate and document new features of xterm support\n\n\t* doc/emacs/frames.texi (Text-Only Mouse): Document that\n\ttrack-mouse is supported by newer xterm versions.\n\n2015-12-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument new features of Prettify Mode\n\n\t* doc/emacs/programs.texi (Misc for Programs): Document\n\t'prettify-symbols-compose-predicate' and\n\t'prettify-symbols-unprettify-at-point'.\n\n\t* lisp/progmodes/prog-mode.el (prettify-symbols-alist)\n\t(prettify-symbols-default-compose-p)\n\t(prettify-symbols-compose-predicate)\n\t(prettify-symbols--compose-symbol): Doc fixes.\n\n2015-12-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument multi-mode indentation facilities\n\n\t* doc/lispref/text.texi (Mode-Specific Indent): Document\n\t'prog-indentation-context', 'prog-first-column', and 'prog-widen'.\n\n\t* lisp/progmodes/prog-mode.el (prog-indentation-context)\n\t(prog-widen): Doc fixes.\n\n2015-12-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument 'vc-refresh-state'\n\n\t* doc/emacs/maintaining.texi (Version Control): Document\n\t'vc-refresh-state'.\n\n\t* lisp/vc/vc-hooks.el (vc-refresh-state): Doc fix.\n\n2015-12-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix echo for \"C-u\"\n\n\t* src/keyboard.c (command_loop_1): Undo last change.  It caused\n\tduplicate echo of C-u.  (Bug#22107)\n\n2015-12-11  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid errors when creating files under SVN in new directory\n\n\t* lisp/vc/vc-svn.el (vc-svn-registered): Use\n\tfile-accessible-directory-p, to avoid cd'ing to a non-existing\n\tdirectory, which signals an error on some systems.  (Bug#21984)\n\t(vc-svn-checkin): Call log-edit-extract-headers with 2 arguments.\n\tUse declare-function to avoid byte-compiler warnings.\n\n2015-12-11  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove Lua support in etags\n\n\t* lib-src/etags.c (Lua_functions): Skip spaces before looking for\n\t\"function\".\n\n\t* etc/NEWS: Mention improved Lua support by 'etags'.\n\n\t* test/etags/lua-src/test.lua (test): Add tests for indented\n\tfunction definitions.\n\t* test/etags/ETAGS.good_1:\n\t* test/etags/ETAGS.good_2:\n\t* test/etags/ETAGS.good_3:\n\t* test/etags/ETAGS.good_4:\n\t* test/etags/ETAGS.good_5:\n\t* test/etags/ETAGS.good_6:\n\t* test/etags/CTAGS.good: Adapt to the modified Lua tests.\n\n2015-12-11  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix 'this-command-keys' wrt prefix argument\n\n\t* src/keyboard.c (command_loop_1): Restore the feature whereby C-u\n\twas part of this-command-keys, but not of this-single-command-keys.\n\t(Bug#22107)\n\n\t* lisp/simple.el (internal-echo-keystrokes-prefix): Add\n\tcommentary about the function's return value.\n\n2015-12-11  Eli Zaretskii  <eliz@gnu.org>\n\n\t* lisp/files.el (load-library): Doc fix.  (Bug#22140)\n\n2015-12-11  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove and document Ruby support in 'etags'\n\n\t* lib-src/etags.c (Ruby_suffixes): Add \".ruby\".\n\t(Ruby_functions): Support \"module\" and overloaded operators.\n\t(Ruby_help): Mention \"module\".\n\n\t* test/etags/ruby-src/test.rb:\n\t* test/etags/ruby-src/test1.ru: New files.\n\t* test/etags/Makefile (RBSRC): New tests.\n\t(SRCS): Add ${RBSRC}.\n\t* test/etags/ETAGS.good_1:\n\t* test/etags/ETAGS.good_2:\n\t* test/etags/ETAGS.good_3:\n\t* test/etags/ETAGS.good_4:\n\t* test/etags/ETAGS.good_5:\n\t* test/etags/ETAGS.good_6:\n\t* test/etags/CTAGS.good: Adapt to the new Ruby tests.\n\n\t* doc/man/etags.1: Mention Ruby support.\n\t* etc/NEWS: Mention Ruby support.\n\n2015-12-11  Xi Lu  <lx@shellcodes.org>\n\n\tInitial support for Ruby in 'etags'\n\n\t* lib-src/etags.c <Ruby_suffixes>: New variable.\n\t(lang_names): Add an entry for Ruby.\n\t(Ruby_functions): New function.  (Bug#22116)\n\n2015-12-11  Eli Zaretskii  <eliz@gnu.org>\n\n\tClarify documentation of 'modify-frame-parameters'\n\n\t* doc/lispref/frames.texi (Parameter Access): Clarify what \"ignored\n\tPARMs\" mean for 'modify-frame-parameters'.\n\n\t* src/frame.c (Fmodify_frame_parameters): Clarify what \"ignored\n\tPARMs\" mean for this function.  (Bug#22104)\n\n2015-12-11  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix setting buffer unibyte when reading from a device\n\n\t* src/fileio.c (Finsert_file_contents): Call Fset_buffer_multibyte\n\tto make a (possibly non-empty) buffer unibyte.  (Bug#22096)\n\n2015-12-11  Eli Zaretskii  <eliz@gnu.org>\n\n\tClarify documentation of 'values'\n\n\t* doc/lispref/eval.texi (Eval): Clarify that 'values' are not\n\tupdated by any evaluation commands in 'lisp-interaction-mode'.\n\t(Bug#22056)\n\n2015-12-11  Anders Lindgren  <andlind@gmail.com>\n\n\tFixed subversion vc error when opening file in new directory (bug#21984).\n\n\t* lisp/vc/vc-svn.el (vc-svn-registered): Check if directory exists.\n\n2015-12-09  Eli Zaretskii  <eliz@gnu.org>\n\n\tYet another fix for when point ends up in invisible text\n\n\t* src/xdisp.c (redisplay_window): When someone forced\n\twindow-start, and honoring that failed to show the cursor, try\n\tmoving out of invisible text, before falling back to the middle of\n\tthe window.  (Bug#22098)\n\n2015-12-09  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix error in Tramp perl script for cygwin\n\n\t* lisp/net/tramp-sh.el (tramp-perl-file-truename): Do not raise an\n\terror if file doesn't exist.\n\n2015-12-09  YAMAMOTO Mitsuharu  <mituharu@math.s.chiba-u.ac.jp>\n\n\tRemove font workaround for limited outdated versions\n\n\t* src/macfont.m (mac_font_descriptor_get_adjusted_weight): Remove\n\tworkaround for HiraginoSans-W7 on OS X 10.11 and 10.11.1.\n\n2015-12-09  Anders Lindgren  <andlind@gmail.com>\n\n\tDon't add \".\" to load path (bug#21104)\n\n\tWhen configured with --enable-locallisppath=no, which is the\n\tdefault for OS X, the load-path incorrectly was populated with \".\".\n\n\t* src/lread.c (init_lread): Don't call `decode_env_path' when\n\tPATH_SITELOADSEARCH is empty.\n\n2015-12-08  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el (package--with-response-buffer):\n\n\tSearch for the blank-line in the right buffer.\n\n2015-12-08  Glenn Morris  <rgm@gnu.org>\n\n\t* test/automated/simple-test.el (undo-auto-boundary-timer): Update\n\tfor recent change.\n\n2015-12-08  Glenn Morris  <rgm@gnu.org>\n\n\tFix some display-warning usage.\n\n\t* lisp/files.el (hack-local-variables, hack-dir-local-variables):\n\t* lisp/calendar/diary-lib.el (diary-include-files, diary-sexp-entry):\n\t* lisp/calendar/holidays.el (calendar-holiday-list):\n\t* lisp/mail/rmailout.el (rmail-output-read-file-name):\n\tFix display-warning usage.\n\n2015-12-08  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/calendar/cal-html.el: Require diary-lib.\n\n\t(cal-html-list-diary-entries): Handle no diary.  (Bug#21994)\n\n2015-12-08  Thomas Fitzsimmons  <fitzsim@fitzsim.org>\n\n\tAdd Obsolete-since header to eudcb-ph.el\n\n\t* lisp/obsolete/eudcb-ph.el: Add Obsolete-since header.\n\n2015-12-07  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSpelling fixes\n\n\t* doc/misc/calc.texi (Predefined Units): Use the bland modern\n\tscientific style for spelling the units \u201campere\u201d and\n\t\u201cangstrom\u201d rather than the older style \u201cAmpere\u201d and\n\t\u201c\u00c5ngstrom\u201d.  The latter spelling was wrong anyway (it should\n\thave been \u201c\u00c5ngstr\u00f6m\u201d).\n\t* lisp/emacs-lisp/ert.el (ert--explain-equal-rec):\n\tFix misspelling of \u2018atom\u2019 in code.\n\n2015-12-07  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of kill commands\n\n\t* lisp/simple.el (region-extract-function, delete-backward-char)\n\t(delete-forward-char, kill-region, copy-region-as-kill)\n\t(kill-ring-save): Better document the optional argument REGION in\n\tthe doc strings.  Mention in the doc strings that text put in the\n\tkill-ring can be filtered by 'filter-buffer-substring'.\n\n\t* doc/lispref/text.texi (Kill Functions): Mention that functions\n\tdescribed in this subsection can filter text they put in the\n\tkill-ring.  Add a cross-reference to \"Buffer Contents\" and an\n\tindex entry.  Document the optional argument 'region' and its\n\teffect.\n\t(Bug#21315)\n\n2015-12-07  Alan Mackenzie  <acm@muc.de>\n\n\tFurther progress making Isearch, Ispell, Replace work with Follow Mode.\n\n\t* lisp/follow.el: (follow-mode): Remove references to sit*-for-function, which\n\tno longer exists.  Add follow-post-command-hook to  three special purpose\n\thooks at setup, and remove them at tear down.\n\n\t* lisp/isearch.el: (isearch-update): invoke isearch-update-post-hook before\n\tisearch-lazy-highlight-new-loop.\n\t(isearch-lazy-highlight-new-loop): Restore this function to what it previously\n\twas, merging the functionality of isearch-lazy-highlight-maybe-new-loop into\n\tit.\n\t(isearch-lazy-highlight-maybe-new-loop): function removed.\n\n\t* lisp/replace.el: (replace-update-post-hook): New hook variable.\n\t(perform-replace): Add second (nil) argument to looking-back.  Invoke\n\treplace-update-post-hook before calling replace-highlight.\n\n\t* lisp/textmodes/ispell.el: (ispell-update-post-hook): New hook variable.\n\t(ispell-command-loop): invoke ispell-update-post-hook.  Add GROUP argument to\n\tcall of pos-visible-in-window-p.\n\t(ispell-display-buffer): Place *Choices* window at the top of the last window\n\tin a window group.\n\n2015-12-07  Alan Mackenzie  <acm@muc.de>\n\n\tAmend doc of `mapconcat': it can take sequences, not merely strings.\n\n\t* doc/lispref/functions.texi (Mapping Functions): Amend the doc of `mapconcat'\n\tto say that SEPARATOR and the results from FUNCTION may be any character\n\tsequences, not just strings.  Add an @xref to \"Sequences Arrays Vectors\".\n\n2015-12-07  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix an utf8 problem for Tramp on BSD\n\n\t* lisp/net/tramp-sh.el (tramp-open-connection-setup-interactive-shell):\n\tMake lax check for utf8.\n\t(tramp-get-remote-locale): Add \"en_US.UTF-8\" as candidate.\n\n2015-12-07  Thomas Fitzsimmons  <fitzsim@fitzsim.org>\n\n\tMake eudcb-ph.el obsolete\n\n\t* doc/misc/eudc.texi: Bump version to 1.40.0.\n\tRemove PH/QI sections and mentions.\n\t* lisp/obsolete/eudcb-ph.el: Make obsolete.\n\t* lisp/net/eudc-vars.el (eudc-known-protocols): Remove ph.\n\t(eudc-ph-bbdb-conversion-alist): Make obsolete.\n\t* etc/NEWS: Mention this.  (Bug#21191)\n\n2015-12-07  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRemove overenthusiastic eassert\n\n\t* src/lisp.h (XSYMBOL): Remove eassert incorrectly added in\n\tprevious change.  It breaks on MS-Windows --with-wide-int.\n\tProblem reported by Eli Zaretskii in:\n\thttps://lists.gnu.org/r/emacs-devel/2015-12/msg00275.html\n\n2015-12-06  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPacify gcc -Wparentheses\n\n\t* src/xdisp.c (row_containing_pos): Reparenthesize.\n\n2015-12-06  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort mod-test to 32-bit Emacs --without-wide-int\n\n\t* modules/mod-test/test.el (mod-test-sum-test):\n\tBring back the 2**29 tests, but port them to 32-bit Emacs\n\t--without-wide-int.\n\n2015-12-06  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix minor Tramp problems found on BSD\n\n\t* lisp/net/tramp-sh.el (tramp-perl-file-truename): Do not append\n\ttrailing slash.  Quote apostrophes.\n\t(tramp-sh-handle-file-truename): Do not append trailing slash in\n\tthe \"ls\" case.\n\t(tramp-get-ls-command-with-w-option): New defun.\n\t(tramp-do-file-attributes-with-ls)\n\t(tramp-do-directory-files-and-attributes-with-stat): Use it.\n\n\t* test/automated/tramp-tests.el\n\t(tramp-test31-special-characters-with-perl)\n\t(tramp-test31-special-characters-with-ls)\n\t(tramp-test32-utf8-with-perl, tramp-test32-utf8-with-ls):\n\tSuppress also readlink.\n\n2015-12-06  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix cursor display when invisible text is at line beginning\n\n\t* src/xdisp.c (redisplay_window): When scrolling fails to show\n\tpoint, prefer using the desired matrix if possible for finding the\n\tfallback glyph row for displaying the cursor.  (Bug#22098)\n\t(row_containing_pos): Exit the loop as soon as we hit the first\n\tdisabled glyph row.  Otherwise we risk accessing garbled data and\n\tdeparting to the no-no land.\n\n2015-12-06  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tImprove module interface when WIDE_EMACS_INT\n\n\t* src/emacs-module.c (plain_values): New constant.\n\t(module_nil): Now a constant.\n\t(Finternal_module_call, value_to_lisp_bits, lisp_to_value_bits)\n\t(syms_of_module): Use if, not #ifdef, so that both sides are\n\tchecked at compile-time, and so that GCC doesn\u2019t complain\n\tabout an unused var in the typical case.  Also, depend on\n\tplain_values, not on WIDE_EMACS_INT; the code shouldn\u2019t assume\n\tthat WIDE_EMACS_INT implies !USE_LSB_TAG.\n\t(value_to_lisp_bits, lisp_to_value_bits): New functions.\n\tSign-extend integers rather than zero-extending them, as small\n\tnegative integers are more likely.\n\t(value_to_lisp, lisp_to_value): Rewrite in terms of the new *_bits\n\tfunctions.\n\t(HAVE_STRUCT_ATTRIBUTE_ALIGNED): Define to 0 if not already defined.\n\t(mark_modules): Remove.  All uses removed.\n\t(lisp_to_value): Don\u2019t assume Fcons returns a pointer aligned\n\tto GCALIGNMENT.\n\t(syms_of_module): Check that module_nil converts to Qnil.\n\t* src/lisp.h (lisp_h_XSYMBOL, XSYMBOL): Use signed conversion, since\n\twe prefer signed to unsigned when either will do.\n\t(TAG_PTR): Sign-extend pointers when USE_LSB_TAG, as this is\n\ta bit better for emacs-module.c.\n\n2015-12-06  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort mod-test to x86-64 GNU/Linux running 32-bit\n\n\t* modules/mod-test/test.el (mod-test-sum-test):\n\tDon\u2019t attempt to match descriptions to operating systems.\n\tIt didn\u2019t work on Fedora x86-64 running a 32-bit executable,\n\tand it\u2019s not worth the trouble anyway.\n\tPort to 32-bit platforms by removing an assumption about\n\tfixnum widths.\n\n2015-12-06  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix auto-revert-tests.el when filenotify isn't used\n\n\t* test/automated/auto-revert-tests.el (auto-revert--wait-for-revert):\n\tMake it working also when filenotify isn't used.\n\n2015-12-06  Juri Linkov  <juri@linkov.net>\n\n\t* lisp/textmodes/ispell.el (ispell-highlight-spelling-error-overlay):\n\n\tLet-bind isearch-regexp-function to nil.  (Bug#22097)\n\n2015-12-05  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el: Don't install bad signatures (bug#22089)\n\n\t(package--with-response-buffer): NOERROR and ERROR-FORM only\n\thandle connection errors.\n\t(bad-signature): New error type.\n\t(package--check-signature-content): Use it.\n\t(package--check-signature): Properly distinguish connection errors\n\tfrom bad-signature errors.  Do the check for\n\t`package-check-signature' `allow-unsigned' here instead of forcing\n\tthe callbacks to do it.  Add a new argument, UNWIND.\n\t(package--download-one-archive, package-install-from-archive):\n\tUpdate usage of `package--check-signature'.\n\n2015-12-05  Ulf Jasper  <ulf.jasper@web.de>\n\n\tFix Bug#22092.\n\n\t* lisp/calendar/icalendar.el (icalendar--get-unfolded-buffer):\n\t  Clean up inconsistent line endings. (Bug#22092)\n\t  (icalendar--clean-up-line-endings): New.\n\t* test/automated/icalendar-tests.el (icalendar-real-world): Add test\n\t  for Bug#22092.\n\n2015-12-05  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument 'bookmark-set-no-overwrite'\n\n\t* doc/emacs/regs.texi (Bookmarks): Document the new command\n\t'bookmark-set-no-overwrite' and its keybinding.\n\n2015-12-05  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument new binding of 'mouse-buffer-menu'\n\n\t* doc/emacs/buffers.texi (Buffer Menus): 'mouse-buffer-menu' is\n\tnow also on C-F10.\n\n2015-12-05  Eli Zaretskii  <eliz@gnu.org>\n\n\tInitial documentation of dynamic modules\n\n\t* doc/lispref/loading.texi (Dynamic Modules): New section with\n\tinitial documentation for dynamic modules.\n\t* doc/lispref/elisp.texi (Top): Add \"Dynamic Modules\" to the\n\tdetailed menu\n\n\t* etc/NEWS: Fix typos in dynamic modules' entry.\n\n2015-12-05  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\tRemove copyright statements from trivial test files\n\n2015-12-05  Eli Zaretskii  <eliz@gnu.org>\n\n\tAdd \"Preliminaries\" section to etc/DEBUG\n\n\t* etc/DEBUG: Add the \"Preliminaries\" section for GDB beginners.\n\tMost of the content was suggested by Phillip Lord\n\t<phillip.lord@russet.org.uk>.  Remove the section about debugging\n\twith the Visual Studio, as building Emacs with the Microsoft\n\tcompilers is no longer supported.  Minor fixes in some other\n\tsections.\n\n2015-12-05  Alex Dunn  <dunn.alex@gmail.com>  (tiny change)\n\n\tImprove parsing of version strings\n\n\t* lisp/subr.el (version-regexp-alist): Allow \".\" as priority separator\n\t(version-to-list): More helpful error messages.\n\t(version-to-list): \".5\" is valid (update docstring).  Make\n\t\"22.8X3\" invalid, as the doc string says.\n\n\t* test/automated/subr-tests.el (ert-test-version-parsing): New\n\ttests for version string processing.\n\n2015-12-05  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix documentation of 'undo' changes\n\n\t* doc/lispref/text.texi (Undo): Minor wording changes.  Use US\n\tEnglish conventions for spelling and whitespace between sentences.\n\n\t* etc/NEWS: Fix wording and spelling of undo-related entries.\n\tMark them as documented.\n\n2015-12-05  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/net/net-utils.el: Small improvements.\n\n\t(net-utils--executable-find-sbin): New function.\n\t(ifconfig-program): Check sbin directories.\n\tFallback to \"ip\".  (Bug#22091)\n\t(ifconfig-program-options): Check the actual program in use.\n\t(arp-program): Check sbin directories.\n\n2015-12-04  Arash Esbati  <esbati@gmx.de>  (tiny change)\n\n\tFix wrong-type-argument integer-or-marker-p nil error\n\n\t* lisp/textmodes/reftex-auc.el (reftex-what-index-tag):\n\tFix (wrong-type-argument integer-or-marker-p nil) error (bug#22077).\n\n2015-12-04  Alan Mackenzie  <acm@muc.de>\n\n\tlisp/isearch.el: Eliminate macro isearch-call-message, replacing with funcall.\n\n2015-12-04  Alan Mackenzie  <acm@muc.de>\n\n\tFirst commit to scratch/follow.  Make Isearch work with Follow Mode, etc.\n\n\tdoc/lispref/window.texi (Basic Windows): Add paragraph defining \"Group of\n\tWindows\" and new @defun selected-window-group.\n\t(Window Start and End): Describe new &optional parameter GROUP and\n\t...-group-function for window-start, window-end, set-window-start, and\n\tpos-visible-in-window-p.\n\t(Textual Scrolling) Describe the same for recenter.\n\tdoc/lispref/positions.texi (Screen Lines): Describe the same for\n\tmove-to-window-line.\n\n\tsrc/window.c (Fwindow_start, Fwindow_end, Fset_window_start)\n\t(Fpos_visible_in_window_p, Frecenter, Fmove_to_window_line): To each, add ar\n\tnew optional parameter \"group\".  At the beginning of each, check whether the\n\tcorresponding ...-group-function is set to a function, and if so execute this\n\tfunction in place of the normal processing.\n\t(syms_of_window): Define symbols for the six new variables below.\n\t(window-start-group-function, window-end-group-function)\n\t(set-window-start-group-function, recenter-group-function)\n\t(pos-visible-in-window-p-group-function, move-to-window-line-group-function):\n\tNew permanent local buffer local variables.\n\tsrc/keyboard.c (Fposn_at_point): Add extra parameter in call to\n\tFpos_visible_in_window_p.\n\n\tlisp/window.el (selected-window-group-function): New permanent local buffer\n\tlocal variable.\n\t(selected-window-group): New function.\n\n\tlisp/follow.el (follow-mode): Set the ...-group-function variables at mode\n\tenable, kill them at mode disable.  Add/remove follow-after-change to/from\n\tafter-change-functions.\n\t(follow-start-end-invalid): New variable.\n\t(follow-redisplay): Manipulate follow-start-end-invalid.\n\t(follow-after-change, follow-window-start, follow-window-end)\n\t(follow-set-window-start, follow-pos-visible-in-window-p)\n\t(follow-move-to-window-line, follow-sit-for): New functions.\n\n\tlisp/isearch.el (isearch-call-message): New macro.\n\t(isearch-update, with-isearch-suspended, isearch-del-char)\n\t(isearch-search-and-update, isearch-ring-adjust): Invoke above new macro.\n\t(with-isearch-suspended): Rearrange code such that isearch-call-message is\n\tinvoked before point is moved.\n\t(isearch-message): Add comment about where point must be at function call.\n\t(isearch-search): Remove call to isearch-message.\n\t(isearch-lazy-highlight-window-group): New variable.\n\t(isearch-lazy-highlight-new-loop): Unconditionally start idle timer.  Move\n\tthe battery of tests to ...\n\t(isearch-lazy-highlight-maybe-new-loop): New function, started by idle timer.\n\tNote: (sit-for 0) is still called.\n\t(isearch-lazy-highlight-update): Check membership of\n\tisearch-lazy-highlight-window-group.  Don't set the `window' overlay\n\tproperty.\n\t(isearch-update, isearch-done, isearch-string-out-of-window)\n\t(isearch-back-into-window, isearch-lazy-highlight-maybe-new-loop)\n\t(isearch-lazy-highlight-search, isearch-lazy-highlight-update)\n\t(isearch-lazy-highlight-update): Call the six amended primitives (see\n\tsrc/window.c above) with the new `group' argument set to t, to cooperate\n\twith Follow Mode.\n\n2015-12-04  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/ert.el: Prefer pcase over cl-typecase\n\n\t* lisp/emacs-lisp/ert.el (ert--should-error-handle-error)\n\t(ert--explain-format-atom, ert--explain-equal-rec)\n\t(ert--print-backtrace, ert-test-result-type-p, ert-select-tests)\n\t(ert--insert-human-readable-selector): Prefer pcase over cl-typecase.\n\n2015-12-04  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/character-fold.el: Remove special case-folding support\n\n\t(character-fold-to-regexp): Remove special code for\n\tcase-folding.  Char-fold search still respects the\n\t`case-fold-search' variable (i.e., f matches F).  This only\n\tremoves the code that was added to ensure that f also matched\n\tall chars that F matched.  For instance, after this commit, f\n\tno longer matches \ud835\udd3d.\n\n\tThis was necessary because the logic created a regexp with\n\t2^(length of the string) redundant paths.  So, when a very\n\tlong string \"almost\" matched, Emacs took a very long time to\n\tfigure out that it didn't.  This became particularly relevant\n\tbecause isearch's lazy-highlight does a search bounded by (1-\n\tmatch-end) (which, in most circumstances, is a search that\n\talmost matches).  A recipe for this can be found in bug#22090.\n\n2015-12-04  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/cl-macs.el (character): Can't be negative\n\n\tFixes (bug#21701)\n\n2015-12-04  Daiki Ueno  <ueno@gnu.org>\n\n\tlisp/gnus/qp.el: Don't replace \"from \" at bol\n\n\t* lisp/gnus/qp.el (quoted-printable-encode-region): Bind `case-fold-search'\n\tto nil when looking for \"^From \".  Problem reported by Simon Josefsson.\n\n2015-12-03  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\tExternalize some symbols in undo-auto\n\n\t * doc/lispref/text.texi: Update symbols.\n\t * lisp/simple.el (undo-auto--amalgamate,\n\t   undo-auto--current-boundary-timer): Make symbols public.\n\t * src/cmds.c (Fself_insert_command,Fdelete_char): Call\n\t   updated symbol.\n\n2015-12-03  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/smie.el (smie-next-sexp): Fix BOB \"token\"\n\n2015-12-03  Michael Albinus  <michael.albinus@gmx.de>\n\n\tSome error message improvements in tramp-sh.el\n\n\t* lisp/net/tramp-sh.el (tramp-open-connection-setup-interactive-shell):\n\tSuppress error messages for \"mesg\" and \"biff\" calls.\n\t(tramp-get-remote-path): Ignore errors when expanding\n\t`tramp-own-remote-path'.  Raise a warning instead.\n\n2015-12-03  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument 'nacl' value for 'system-type'\n\n\t* doc/lispref/os.texi (System Environment): Document the 'nacl'\n\tvalue of 'system-type'.\n\n2015-12-03  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument 'window-max-chars-per-line'\n\n\t* doc/lispref/windows.texi (Window Sizes): Document\n\t'window-max-chars-per-line'.\n\n2015-12-03  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\tFix some file headers for the purpose of `package--builtins'\n\n\t* lisp/emacs-lisp/cl-preloaded.el\n\t* lisp/emacs-lisp/eieio-compat.el\n\t* lisp/net/sasl-scram-rfc.el: Add a \"Package:\" header\n\n\t* lisp/ielm.el: Fix summary line.\n\n2015-12-03  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el (package-unpack): Load before compiling\n\n\tReload any previously loaded package files before compiling\n\tthe package (also reload the same files after compiling).\n\tThis ensures that we have the most recent definitions during\n\tcompilation, and avoids generating bad elc files when a macro\n\tchanges and it is used in a different file from the one it's\n\tdefined in.\n\n2015-12-03  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el: Refactor package activation code\n\n\t(package-activate): Move code that activates dependencies into\n\tpackage-activate-1.\n\t(package--load-files-for-activation): New function.\n\t(package-activate-1): Add code for (optionally) activating\n\tdependencies, and move file-loading code into\n\t`package--load-files-for-activation'.\n\n2015-12-03  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument new font-related functionality\n\n\t* doc/lispref/display.texi (Low-Level Font): Document\n\t'default-font-width', 'default-font-height', 'window-font-width',\n\tand 'window-font-height'.\n\n\t* etc/NEWS: Move entries for 'default-font-width',\n\t'default-font-height', 'window-font-width', and 'window-font-height'\n\tto their place and mark them documented.\n\n2015-12-03  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix documentation and implementation of 'directory-name-p'\n\n\t* lisp/files.el (directory-name-p): Modify to recognize\n\tbackslashes on MS-Windows and MS-DOS.  Adjust the doc string\n\taccordingly.  Use '=', not char-equal, for comparison, as\n\tletter-case cannot possibly be an issue here.\n\n\t* doc/lispref/files.texi (Directory Names): Move the documentation\n\tof directory-name-p here from \"Relative File Names\".  Update the\n\tdescription per the changes in implementation.\n\n\t* etc/NEWS: Move the entry for 'directory-name-p' to its proper\n\tplace and mark it documented.\n\n2015-12-02  Eli Zaretskii  <eliz@gnu.org>\n\n\tMinor copyedit in Emacs manual\n\n\t* doc/emacs/search.texi (Lax Search): Make wording about character\n\tfolding by default less definitive.  (Bug#22043)\n\n2015-12-02  Eli Zaretskii  <eliz@gnu.org>\n\n\tMore emacs-module.c fixes for wide ints\n\n\t* src/emacs-module.c (value_to_lisp) [WIDE_EMACS_INT]: Use\n\tunsigned data types to manipulate pointers, to avoid sign\n\textension coming after us with a vengeance.\n\n\t* modules/mod-test/test.el (mod-test-sum-test): Add tests for\n\tEmacs with wide ints that verify integer values near the critical\n\tvalue that requires us to switch to a cons cell.\n\n2015-12-02  Stephen Leake  <stephen_leake@stephe-leake.org>\n\n\tFix bug#22069 in cl-generic.el\n\n\t* lisp/emacs-lisp/cl-generic.el (cl-no-method): Remove %S; this string is\n\tnot run thru `format'.\n\n2015-12-02  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tAPPEND etags--xref-backend to xref-backend-functions\n\n\t* lisp/progmodes/xref.el (xref-backend-functions):\n\tUse APPEND when adding the default element\n\t(https://lists.gnu.org/r/emacs-devel/2015-12/msg00061.html).\n\n2015-12-01  Eli Zaretskii  <eliz@gnu.org>\n\n\tMore accurate documentation of lax whitespace matching\n\n\t* lisp/isearch.el (isearch-forward-word, isearch-forward-symbol)\n\t(word-search-backward, word-search-forward)\n\t(word-search-backward-lax, word-search-forward-lax): Mention in\n\tdoc strings that toggling lax whitespace matching has no effect on\n\tthese commands.\n\n\t* doc/emacs/search.texi (Word Search, Symbol Search): Clarify that\n\tlax whitespace matching has no effect on these commands.\n\n2015-12-01  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix emacs-module.c for wide ints\n\n\t* src/emacs-module.c (lisp_to_value): Compare the produced value\n\twith the original Lisp object, not with the one potentially\n\tconverted into a Lisp_Cons.  Fixes assertion violations when\n\tworking with integers larger than fit into a 32-bit value.\n\n\t* modules/mod-test/test.el (mod-test-sum-test): Add tests for\n\tlarge integers, to test --with-wide-int.\n\n2015-12-01  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument 'directory-files-recursively'\n\n\t* lisp/files.el (directory-files-recursively): Doc fix.  Rename\n\tthe argument MATCH to REGEXP, to be more explicit about its form.\n\n\t* doc/lispref/files.texi (Contents of Directories): Improve the\n\tdocumentation of 'directory-files-recursively'.  Add\n\tcross-references.\n\n\t* etc/NEWS: Move the entry for 'directory-files-recursively' to\n\tits place and mark it documented.\n\n2015-12-01  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument 'inhibit-read-only' property\n\n\t* doc/lispref/text.texi (Special Properties): Describe the new\n\t'inhibit-read-only' text property.  Add cross-reference to where\n\tread-only buffers are described.\n\t* doc/lispref/buffers.texi (Read Only Buffers): Mention that\n\t'inhibit-read-only' property exempts text from being read-only.\n\tAdd cross-reference to \"Special Properties\".\n\n\t* etc/NEWS: Move the entry about 'inhibit-read-only' property to\n\tits place and mark it documented.\n\n2015-12-01  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el: Update header comments\n\n2015-12-01  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/character-fold.el: Add back multi-char matching\n\n\t(character-fold-to-regexp): Uncomment recently commented code\n\tand make the algorithm \"dummer\" by not checking every possible\n\tcombination.  This will miss some possible matches, but it\n\tgreatly reduces regexp size.\n\n\t* test/automated/character-fold-tests.el\n\t(character-fold--test-fold-to-regexp): Comment out test of\n\tfunctionality no longer supported.\n\n2015-12-01  Xue Fuqiao  <xfq.free@gmail.com>\n\n\t* doc/emacs/ack.texi (Acknowledgments): Update.\n\n2015-12-01  Michael Albinus  <michael.albinus@gmx.de>\n\n\tCheck `file-remote-p' over absolute files names in files.el\n\n\t* lisp/files.el (directory-files-recursively)\n\t(get-free-disk-space): Check `file-remote-p' over absolute files names.\n\n2015-12-01  Andreas Schwab  <schwab@linux-m68k.org>\n\n\t\t* src/lread.c (syms_of_lread): Doc fix.\n\n2015-12-01  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tDon't mistake certain JS method calls for keywords\n\n\t* lisp/progmodes/js.el (js--ctrl-statement-indentation):\n\tBraceless keyword can't come after a period (bug#22063).\n\n2015-12-01  David Reitter  <david.reitter@gmail.com>\n\n\tRead frame_title_format from buffer-local variable for NS port\n\n\t* src/nsfns.m (x_implicitly_set_name): Read frame-title-format and\n\ticon-title-format variables from buffer in appropriate window.\n\t(Bug#22048)\n\n2015-12-01  Juri Linkov  <juri@linkov.net>\n\n\t* lisp/replace.el (occur-engine): Count matches in empty lines.\n\n\t(Bug#22062)\n\n2015-11-30  Aur\u00e9lien Aptel  <aurelien.aptel@gmail.com>\n\n\t* src/emacs-module.h: Fix finalizer typedef for C++11\n\n\tC++11 standard doesn't allow exception-specification in typedef.\n\tThe workaround is to declare a dummy function prototype and use\n\tdecltype on it.\n\n2015-11-30  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix last change\n\n\t* src/emacs-module.c (lisp_to_value, value_to_lisp)\n\t[WIDE_EMACS_INT]: Avoid compiler warnings.\n\n2015-11-30  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tRely on conservative stack scanning to find \"emacs_value\"s\n\n\t* src/emacs-module.c (struct emacs_value_tag)\n\t(struct emacs_value_frame, struct emacs_value_storage): Remove.\n\t(value_frame_size): Remove constant.\n\t(struct emacs_env_private): Use Lisp_Object for non_local_exit info.\n\t(lisp_to_value): Remove first arg.\n\t(module_nil): New constant.\n\tUse it instead of NULL when returning an emacs_value.\n\t(module_make_function): Adjust to new calling convention of\n\tQinternal_module_call.\n\t(DEFUN): Receive args in an array rather than a list.\n\tUse SAFE_ALLOCA rather than xnmalloc.  Skip the lisp_to_value loop when\n\twe don't have WIDE_EMACS_INT.  Adjust to new type of non_local_exit info.\n\t(module_non_local_exit_signal_1, module_non_local_exit_throw_1):\n\tAdjust to new type of non_local_exit info.\n\t(ltv_mark) [WIDE_EMACS_INT]: New constant.\n\t(value_to_lisp, lisp_to_value): Rewrite.\n\t(initialize_frame, initialize_storage, finalize_storage): Remove functions.\n\t(allocate_emacs_value): Remove function.\n\t(mark_modules): Gut it.\n\t(initialize_environment): Don't initialize storage any more.\n\tKeep the actual env object on Vmodule_environments.\n\t(finalize_environment): Don't finalize storage any more.\n\t(syms_of_module): Initialize ltv_mark and module_nil.\n\n\t* src/emacs-module.h (emacs_value): Make it more clear that this type\n\tis really opaque, including the fact that NULL may not be valid.\n\n\t* modules/mod-test/mod-test.c (Fmod_test_signal, Fmod_test_throw):\n\tDon't assume that NULL is a valid emacs_value.\n\n2015-11-30  Eli Zaretskii  <eliz@gnu.org>\n\n\tYet another doc improvement for search commands\n\n\t* doc/emacs/search.texi (Word Search, Symbol Search)\n\t(Regexp Search): Document commands that don't support lax\n\twhitespace matching or character folding.\n\t(Nonincremental Search): Mention the search commands that can be\n\tinvoked from the menu bar.\n\n\t* lisp/isearch.el (isearch-define-mode-toggle-word)\n\t(isearch-define-mode-toggle-symbol)\n\t(isearch-define-mode-toggle-character-fold): Note in the doc\n\tstring that turning these on exits the regexp mode.\n\t(isearch-forward-regexp, isearch-forward-word)\n\t(isearch-forward-symbol, isearch-backward-regexp)\n\t(word-search-backward, word-search-forward)\n\t(word-search-backward-lax, word-search-forward-lax): State in the\n\tdoc string which commands don't support character folding and/or\n\tlax-whitespace matching.\n\n2015-11-30  Martin Rudalics  <rudalics@gmx.at>\n\n\tRun `window-size-change-functions' also when reading from minibuffer\n\n\t* src/xdisp.c (redisplay_internal): Run `window-size-change-functions'\n\talso when reading from minibuffer.\n\n2015-11-30  Ulf Jasper  <ulf.jasper@web.de>\n\n\tFix scrambling of html-rendered item buffers\n\n\t* lisp/net/newst-treeview.el (newsticker--treeview-render-text): Fix\n\t  scrambling of contents by wrapping call to html-renderer in\n\t  save-selected-window.\n\n2015-11-30  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix font typo in previous doc fix.\n\n2015-11-30  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tA bit more security doc, esp. file local vars\n\n\t* doc/emacs/emacs.texi (Top):\n\t* doc/emacs/misc.texi (Miscellaneous Commands):\n\tRefer to new Host Security section.\n\t(Host Security): New section.\n\t* doc/lispref/os.texi (Security Considerations):\n\tMention file local variables.\n\n2015-11-30  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/character-fold.el: Comment out branching code\n\n\t(character-fold-to-regexp): Comment out code that uses multi-char\n\ttable.  The branching caused by this induces absurdly long regexps,\n\tup to 10k chars for as little as 25 input characters.\n\n2015-11-30  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSpelling and grammar fixes\n\n2015-11-30  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tMake lisp-completion-at-point a wrapper instead of an alias\n\n\t* lisp/progmodes/elisp-mode.el (lisp-completion-at-point):\n\tTurn into an obsolete wrapper around elisp-completion-at-point\n\t(bug#20455).\n\n2015-11-29  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/isearch.el (isearch-search-fun-default): Nicer error\n\n\tmessage when the search fails.\n\n2015-11-29  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tUpdate menu-bar-goto-uses-etags-p for the current xref API\n\n\t* lisp/menu-bar.el (menu-bar-goto-uses-etags-p): Consult\n\txref-backend-functions, instead of now-nonexistent\n\txref-find-function.\n\n2015-11-29  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/isearch.el (isearch-define-mode-toggle): Advertise binding\n\n2015-11-29  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/menu-bar.el: Use folding in searches\n\n\t(nonincremental-search-forward): Use `isearch-search-fun-default'\n\tto determine the search function.\n\t(nonincremental-search-backward)\n\t(nonincremental-repeat-search-forward)\n\t(nonincremental-repeat-search-backward): Use it.\n\n2015-11-29  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/menu-bar.el (menu-bar-goto-uses-etags-p): Fix a warning\n\n2015-11-29  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/character-fold.el (character-fold-to-regexp): Be careful\n\n\tnot to return huge regexps.\n\n2015-11-29  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of string-collate-* functions\n\n\t* doc/lispref/strings.texi (Text Comparison): Improve wording and\n\tindexing of 'string-collate-equalp' and 'string-collate-lessp'.\n\n\t* etc/NEWS: Move the entry of 'string-collate-equalp' and\n\t'string-collate-lessp' to \"Lisp Changes\" section and mark it as\n\tdocumented.\n\n2015-11-29  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument truncate-string-ellipsis\n\n\t* doc/lispref/display.texi (Size of Displayed Text): Document\n\t'truncate-string-ellipsis'.\n\n\t* lisp/international/mule-util.el (truncate-string-ellipsis): Doc fix.\n\t(truncate-string-to-width): Mention in the doc string that the\n\tdefault for ELLIPSIS comes from 'truncate-string-ellipsis'.\n\n\t* etc/NEWS: Move the 'truncate-string-ellipsis' entry to the \"Lisp\n\tChanges\" section.\n\n2015-11-29  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix confusion wrt character folding in the Emacs manual\n\n\t* doc/emacs/search.texi (Nonincremental Search, Regexp Search):\n\tDocument that invoking search-forward/backward and\n\tre-search-forward/backward supports only case folding, but not the\n\trest of the lax-search features.  Reported by Mike Kupfer\n\t<m.kupfer@acm.org>.\n\n2015-11-29  Ken Brown  <kbrown@cornell.edu>\n\n\tUpdate mod-test-sum-test\n\n\t* modules/mod-test/test.el (mod-test-sum-test): Update to\n\taccommodate the lack of dladdr on Cygwin.\n\n2015-11-29  Alan Mackenzie  <acm@muc.de>\n\n\tByte compiler: Catch missing argument to `funcall'.  Fixes bug#22051.\n\n\t* lisp/emacs-lisp/bytecomp.el (byte-compile-funcall): When there's no argument\n\tto `funcall', (i) Output an error message; (ii) Generate code to signal a\n\t`wrong-number-of-arguments' error.\n\n2015-11-29  Martin Rudalics  <rudalics@gmx.at>\n\n\t* lisp/window.el (split-window): Don't sanitize sizes when SIZE is non-nil.\n\n2015-11-28  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/character-fold.el (character-fold-to-regexp)\n\n\tWarn about using long strings.\n\n\t* test/automated/character-fold-tests.el\n\t(character-fold--test-lax-whitespace)\n\t(character-fold--test-consistency): Reduce string size for tests.\n\n2015-11-28  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument renaming of x-select-enable-* variables\n\n\t* doc/emacs/killing.texi (Clipboard): Rename\n\tx-select-enable-clipboard to select-enable-clipboard and\n\tx-select-enable-primary to select-enable-primary.  Update index\n\tentries.\n\n\t* etc/NEWS: Mark entry as documented.\n\n2015-11-28  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument the shorthand hints displayed by M-x\n\n\t* doc/emacs/m-x.texi (M-x): Document the numeric meaning of\n\tsuggest-key-bindings.  Document the shorthand hints for commands\n\tthat have no key bindings.  Document that M-x completion ignores\n\tobsolete commands.\n\n\t* etc/NEWS: Move the M-x entry to \"Editing Changes\" and mark it as\n\tdocumented.\n\n2015-11-28  Eli Zaretskii  <eliz@gnu.org>\n\n\tUpdate docs of character folding\n\n\t* doc/emacs/search.texi (Lax Search): Update the description of\n\tcharacter folding for the latest changes.\n\n2015-11-28  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/character-fold.el: Also play nice with case-folding\n\n\t(character-fold-to-regexp): Take `case-fold-search' into account.\n\n2015-11-28  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/character-fold.el: Add support for multi-char matches\n\n\t(character-fold-table): Now has an extra-slot. This is a second\n\tchar-table that holds multi-character matches.  See docstring for\n\tdetails.\n\t(character-fold-to-regexp): Can build branching regexps when a\n\tcharacter's entry the extra slot of `character-fold-table' matches the\n\tcharacters that succeed it.\n\n2015-11-28  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/character-fold.el: Code simplifications\n\n\t(character-fold-table): Reduce the scope of a variable.\n\t(character-fold-to-regexp): Change logic to work directly on the\n\tinput string.  It's a little easier to understand, probably\n\tfaster, and sets us up for implementing multi-char matches.\n\n\t* test/automated/character-fold-tests.el\n\t(character-fold--test-fold-to-regexp): New test.\n\n2015-11-28  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument changes in \"C-h l\"\n\n\t* doc/emacs/help.texi (Misc Help): Document the changes in \"C-h l\".\n\n\t* etc/NEWS: mark \"C-h l\" changes as documented.\n\n2015-11-28  Eli Zaretskii  <eliz@gnu.org>\n\n\tFinalize documentation of 'custom-prompt-customize-unsaved-options'\n\n\t* doc/emacs/custom.texi (Saving Customizations): Index the new\n\tfunction 'custom-prompt-customize-unsaved-options'.\n\n\t* etc/NEWS: Mention when 'custom-prompt-customize-unsaved-options'\n\tis useful.\n\n2015-11-28  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument 'comment-line'\n\n\t* doc/emacs/programs.texi (Comment Commands): Document\n\t'comment-line'.\n\n\t* etc/NEWS: Move the entry for 'comment-line' into \"Editing Changes\".\n\n2015-11-28  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument new checkdoc features\n\n\t* doc/lispref/tips.texi (Tips, Library Headers): Document the\n\tkeyword-checking features of checkdoc and the commands\n\t'checkdoc-file' and 'checkdoc-current-buffer'.\n\n\t* etc/NEWS: Move the checkdoc-related entries to their own\n\tsection.\n\n2015-11-28  Philipp Stephani  <p.stephani2@gmail.com>\n\n\tSimplify the prologue of emacs-module.c functions\n\n\t* src/emacs-module.c (MODULE_FUNCTION_BEGIN): New macro.\n\t(module_make_global_ref)\n\t(module_free_global_ref, module_make_function, module_funcall)\n\t(module_intern, module_type_of, module_extract_integer)\n\t(module_make_integer, module_extract_float, module_make_float)\n\t(module_copy_string_contents, module_make_string)\n\t(module_make_user_ptr, module_get_user_ptr, module_set_user_ptr)\n\t(module_get_user_finalizer, module_set_user_finalizer)\n\t(module_vec_set, module_vec_get, module_vec_size): Use new helper\n\tmacro MODULE_FUNCTION_BEGIN.\n\n2015-11-28  Eli Zaretskii  <eliz@gnu.org>\n\n\tDon't reject module calls with no arguments\n\n\t* src/emacs-module.c (Finternal_module_call): Allow ARGLIST be nil.\n\n2015-11-28  Philipp Stephani  <p.stephani2@gmail.com>\n\n\tMake module-call be visible from Lisp\n\n\t* src/emacs-module.c (module_make_function): Use internal--module-call.\n\t(Finternal_module_call): Renamed from Fmodule_call.  Add safety\n\tchecks.\n\t(syms_of_module): DEFSYM save-value-p and save-pointer-p.  Do\n\tdefsubr internal--module-call.\n\n2015-11-28  Eli Zaretskii  <eliz@gnu.org>\n\n\tAdd etags tests for the recent Lua-related bugfix\n\n\t* test/etags/lua-src/test.lua: New file, tests the issues raised\n\tby bug#21934.\n\t* test/etags/Makefile (LUASRC): Add test.lua.\n\t* test/etags/ETAGS.good_1:\n\t* test/etags/ETAGS.good_2:\n\t* test/etags/ETAGS.good_3:\n\t* test/etags/ETAGS.good_4:\n\t* test/etags/ETAGS.good_5:\n\t* test/etags/ETAGS.good_6:\n\t* test/etags/CTAGS.good: Adapt to the new Lua test.  Also, an old\n\tregression fix, resolved around 25 May 2015, required changes to\n\tthe \"good\" ETAGS files.\n\n2015-11-28  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix Lua tags when a function name includes '.' or ':'\n\n\t* lib-src/etags.c (Lua_functions): Add a tag for the last element\n\tof a function name after a dot or a colon.  (Bug#21934)\n\n2015-11-28  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of search and replace commands\n\n\t* doc/emacs/search.texi (Replacement and Lax Matches): Document\n\twhich commands are affected by 'replace-character-fold'.\n\t(Lax Search): Add a cross reference to \"Replacement and Lax\n\tMatches\".  Improve wording.  Fix lost extra whitespace.\n\t(Search Customizations): Improve wording.  (Bug#22036)\n\tSee also comments in\n\thttps://lists.gnu.org/r/emacs-devel/2015-11/msg02376.html.\n\n\t* lisp/replace.el (query-replace, query-replace-regexp)\n\t(query-replace-regexp-eval, replace-string, replace-regexp):\n\tMention 'replace-character-fold' in the doc strings.\n\n2015-11-28  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix minor problems found by static checking\n\n\t* src/undo.c (prepare_record): Add proper prototype for C.\n\n2015-11-27  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* src/emacs-module.c (struct env_storage): Delete\n\n\t(struct emacs_runtime_private): Keep an emacs_env instead.\n\t(Fmodule_load, Fmodule_call): Declare emacs_env_private separately.\n\t(initialize_environment): Split the arg in two.\t Adjust all callers.\n\tOnly store the private part in Vmodule_environments.\n\t(finalize_environment): Change the arg to only be the private env.\n\tAdjust all callers.\n\n2015-11-27  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of 'replace-character-fold'\n\n\t* lisp/replace.el (replace-character-fold): Clarify which commands\n\tare affected by this variable.\n\n2015-11-27  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tBackport: Add interactive seek command.\n\n\t* lisp/mpc.el (mpc-cmd-seekcur): New function.\n\t(mpc-seek-current): New command.\n\t(mpc-mode-menu): Add entry for mpc-seek-current\n\t(mpc-mode-map): Bind mpc-seek-current to \"g\"\n\n2015-11-27  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tAutoload etags when using its xref backend\n\n\t* lisp/progmodes/xref.el (xref--etags-backend):\n\tRename to etags--xref-backend.  Move to etags.el.  Autoload.\n\t(Bug#22026)\n\n2015-11-27  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/character-fold.el: Allow complex chars to match their decomposition\n\n\t(character-fold-table): When a character's decomposition does not\n\tinvolve a formatting tag (i.e., if it has an \"exact\" description via\n\tother characters), then this character is allowed to match the\n\tdecomposition.\n\n2015-11-27  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/character-fold.el: More descriptive variable names\n\n\t(character-fold-table): Rename a lot of the lexical variables to\n\tmake the code easier to read.\n\n2015-11-27  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/isearch.el: Ensure we still support `isearch-new-word'\n\n\t(isearch-new-regexp-function): Define variable.\n\t(isearch-new-word): Define as an obsolete alias. (Bug#22018)\n\n2015-11-27  Lee Bochicchio  <lboc.home@gmail.com>\n\n\t* test/automated/abbrev-tests.el: Define more tests\n\n\t(abbrev-table-name-test, kill-all-abbrevs-test)\n\t(clear-abbrev-table-test): New tests.\n\n2015-11-27  Eli Zaretskii  <eliz@gnu.org>\n\n\tAdd module tests for wrong-type-argument\n\n\t* modules/mod-test/test.el (mod-test-sum-test): Add tests for\n\twrong-type-argument.\n\n2015-11-27  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove handling of signals and 'throw' in modules\n\n\t* src/emacs-module.c: Add commentary explaining how to write\n\tfunctions in this file.\n\t(module_make_global_ref, module_free_global_ref)\n\t(module_non_local_exit_signal, module_non_local_exit_throw)\n\t(module_make_function, module_funcall, module_intern)\n\t(module_type_of, module_is_not_nil, module_eq)\n\t(module_extract_integer, module_make_integer)\n\t(module_extract_float, module_make_float)\n\t(module_copy_string_contents, module_make_string)\n\t(module_make_user_ptr, module_get_user_ptr, module_set_user_ptr)\n\t(module_get_user_finalizer, module_set_user_finalizer)\n\t(module_vec_set, module_vec_get, module_vec_size)\n\t(module_non_local_exit_signal_1, module_non_local_exit_throw_1):\n\tDo nothing and return with failure indication immediately, if some\n\tprevious module call signaled an error or wants to throw.  See\n\thttps://lists.gnu.org/r/emacs-devel/2015-11/msg02133.html\n\tfor the relevant discussions.\n\n2015-11-27  Eli Zaretskii  <eliz@gnu.org>\n\n\tAdd ':version' tag to 'checkdoc-package-keywords-flag'\n\n\t* lisp/emacs-lisp/checkdoc.el (checkdoc-package-keywords-flag):\n\tAdd a ':version' tag.\n\n2015-11-27  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of 'eval-buffer' and 'eval-region'\n\n\t* src/lread.c (Feval_buffer, Feval_region): Doc fixes.  (Bug#22023)\n\n\t* doc/lispref/eval.texi (Eval): Mention narrowing to clarify\n\t\"accessible portion of buffer\".\n\n2015-11-27  Eli Zaretskii  <eliz@gnu.org>\n\n\tUnbreak the Cygwin w32 build\n\n\t* src/emacs.c (main): Call w32_init_main_thread in the Cygwin w32\n\tbuild as well.  Reported by Andy Moreton <andrewjmoreton@gmail.com>.\n\n2015-11-27  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove commentary in character-fold.el\n\n\t* lisp/character-fold.el (character-fold-to-regexp): Move detailed\n\tdescription from commit log message to comments.  (Bug#22019)\n\n2015-11-26  Alan Mackenzie  <acm@muc.de>\n\n\tByte Compiler: generate code to adjust stack count after call to `signal'.\n\n\tCorrects change from earlier today.\n\n\t* lisp/emacs-lisp/bytecomp.el (byte-compile-setq): supply the current value of\n\t`byte-compile--for-effect' as argument to `byte-compile-form'.\n\n2015-11-26  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove commentary of prepare_to_modify_buffer_1\n\n\t* src/insdel.c (prepare_to_modify_buffer_1): Mention in commentary\n\tthat this function runs Lisp.  Suggested by Richard Stallman\n\t<rms@gnu.org>.\n\n2015-11-26  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\tFix regression after merge.\n\n\t * src/undo.c (prepare_record): Remove call to run_undoable_change.\n\n2015-11-26  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\tAfter delete, record point location in undo.\n\n\tAddresses Bug #21968.\n\n\t\t* lisp/simple.el (undo-auto--add-boundary): Clean up code to\n\t\tbetter support intercalating calls.\n\t\t* src/keyboard.c, src/keyboard.h (command_loop_1): Store value of\n\t\tpoint and current buffer before each command.\n\t\t* src/undo.c (record_point): Now only record the point.\n\t\t* src/undo.c (prepare_record): Functionality removed form\n\t\trecord_point.\n\t\t* src/undo.c (record_delete): Check if point needs recording.\n\t\t* src/undo.c (undo-boundary): Record value of point before each\n\t\tboundary.\n\t\t* test/automated/simple-test.el: New tests.\n\n\tConflicts:\n\t\tsrc/undo.c\n\n2015-11-26  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix compiler warnings in w32.c\n\n\t* src/w32.c (sys_socket): In case of error, use -1 as return\n\tvalue, not INVALID_SOCKET, which causes compiler warnings.\n\t(maybe_load_unicows_dll): Cast the return value of GetProcAddress\n\tto the appropriate function signature, to avoid compiler errors.\n\tReported by Andy Moreton <andrewjmoreton@gmail.com>.  (Bug#21953)\n\n2015-11-26  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tCheck if the file exists on disk before producing the revert diff\n\n\t* lisp/vc/vc-dispatcher.el (vc-buffer-sync): Check if the file\n\texists on disk (bug#20558).\n\n2015-11-26  Alan Mackenzie  <acm@muc.de>\n\n\tByte compiler: on setq with an odd number of arguments, generate a `signal'\n\n\t* lisp/emacs-lisp/cconv.el (cconv-convert): Don't transform `setq' form when\n\tit has an odd number of arguments, to allow bytecomp to handle the error.\n\n\t* lisp/emacs-lisp/bytecomp.el (byte-compile-setq): In a `setq' form with an\n\todd number of arguments, generate a `signal' instead of the normal code.\n\n2015-11-26  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tUse find-tag-default for xref-backend-identifier-at-point\n\n\t* lisp/progmodes/etags.el (find-tag-tag)\n\t(tags-completion-at-point-function): Extract common code as\n\tfind-tag--default.\n\t(xref-backend-identifier-at-point): Define in terms of the new\n\tfunction.\n\n2015-11-26  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* src/undo.c (record_property_change): Remove now-unused local.\n\n2015-11-25  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\trun_undoable_changes now called from insdel.\n\n\tThe original calls from inside undo.c are not always at a safe position\n\tto call lisp, as they originate in varied positions within insdel.c.\n\tCalling them directly from prepare_to_modify_buffer_1 ensures that they\n\tare always run at the same point.\n\n\t * src/undo.c (run_undoable_changes,syms_of_undo): Remove function\n\t and symbol used.\n\t * src/insdel.c (run_undoable_changes): Add function and symbol.\n\n2015-11-25  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove and update documentation of search commands\n\n\t* doc/emacs/search.texi (Lax Search): Renamed from \"Search Case\";\n\tall references changed.  Move the description of lax-whitespace\n\there.  Add description of the new character folding features and\n\tadditional customizable options.\n\t(Isearch Yank): Move before \"Error in Search\".\n\t(Basic Isearch): Improve wording.  Add index entries.  Add short\n\tdescription of how to abandon search, making this subsection a\n\tcomplete introduction to search basics.\n\t(Repeat Isearch): Add index entries.  Describe additional\n\tcustomizable options.  Describe mouse clicks.\n\t(Isearch Yank): Add index entries.  Describe mouse-2 click in echo\n\tarea.  Describe more customizable options.\n\t(Error in Isearch): Add index entries.\n\t(Special Isearch): Move actual description of some isearch\n\tcommands to other sections, leaving here just the summary of the\n\tcommands.  Add command that toggles character folding.  Describe\n\tcommands, like \"C-h C-h\", that were previously omitted for some\n\treason.\n\t(Not Exiting Isearch): Describe search-exit-option.  Add index\n\tentries.\n\t(Word Search): Describe eww-search-word and eww-search-prefix.\n\t(Symbol Search): Add index entries.\n\t(Regexp Search): Describe regexp-search-ring-max.\n\t(Replacement and Lax Matches): Renamed from \"Replacement and\n\tCase\"; all references changed.  Describe lax-whitespace matching\n\tin replace commands and related options.  Describe character\n\tfolding in replace commands and related options.\n\t(Query Replace): Describe query-replace-from-to-separator and the\n\tnew history features.  Add index entries for highlighted text.\n\tDescribe query-replace-skip-read-only.  Describe more keys\n\taccepted by query-replace.\n\t(Other Repeating Search): More index entries for Occur.  Describe\n\tlist-matching-lines-default-context-lines.\n\t(Search Customizations): New section, documents customizable\n\toptions that were not documented until now.\n\t* doc/emacs/glossary.texi (Glossary): Add \"Case Folding\" and\n\t\"Character Folding\".\n\n\t* etc/NEWS: Move search- and replace-related entries to a single\n\tparent section.\n\n\t* lisp/replace.el (query-replace-show-replacement): Doc fix.\n\t* lisp/isearch.el (search-nonincremental-instead)\n\t(isearch-hide-immediately): Doc fixes.\n\n2015-11-25  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\tRemove nnml-retrieve-groups that is unnecessary and somewhat problematic\n\n\t* lisp/gnus/nnml.el (nnml-retrieve-groups): Remove.  See:\n\t<http://thread.gmane.org/gmane.emacs.gnus.general/86308> and\n\t<http://thread.gmane.org/gmane.emacs.gnus.general/86321>\n\n2015-11-25  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix module_format_fun_env when dynlib_addr fails\n\n\t* src/emacs-module.c (module_format_fun_env):\n\texprintf doesn\u2019t support %p, so use %x.  Reported by Eli Zaretskii in:\n\thttps://lists.gnu.org/r/emacs-devel/2015-11/msg02122.html\n\n2015-11-25  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDisambiguate variable help a bit better\n\n\t* lisp/help-fns.el (describe-variable): Quote the\n\tvariable\u2019s value if it is a symbol other than t or nil.\n\tSee: T.V Raman in:\n\thttps://lists.gnu.org/r/emacs-devel/2015-11/msg02147.html\n\n2015-11-25  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tPass SVN commit message through log-edit-extract-headers\n\n\t* lisp/vc/vc-svn.el (vc-svn-checkin): Pass COMMENT through\n\tlog-edit-extract-headers (bug#18954).\n\n2015-11-24  Alan Mackenzie  <acm@muc.de>\n\n\tCC Mode: Eliminate compiler warning messages.\n\n\t* lisp/progmodes/cc-mode.el (top level): remove compile time declaration of\n\t`font-lock-syntactic-keywords' (which CC Mode doesn't use).\n\t* lisp/progmodes/cc-awk.el (awk-mode-syntax-table)\n\t(c-awk-set-syntax-table-properties): Clarify comments about\n\t`font-lock-syntactic-keywords'.\n\n\t* lisp/progmodes/cc-bytecomp.el (cc-bytecomp-load): Create a dummy declaration\n\tof this before the real (interpreted) one, to satisfy the byte compiler.\n\n2015-11-24  Simen Heggest\u00f8yl  <simenheg@gmail.com>\n\n\tExtend the test suite for json.el\n\n\t* lisp/json.el (json-plist-p): Clarify docstring.\n\n\t* test/automated/json-tests.el (json-tests--with-temp-buffer): New\n\tmacro.\n\t(test-json-join, test-json-alist-p)\n\t(test-json-plist-p, test-json-advance, test-json-peek)\n\t(test-json-pop, test-json-skip-whitespace)\n\t(test-json-read-keyword, test-json-encode-keyword)\n\t(test-json-read-number, test-json-encode-number)\n\t(test-json-read-escaped-char, test-json-read-string)\n\t(test-json-encode-string, test-json-encode-key)\n\t(test-json-new-object, test-json-add-to-object)\n\t(test-json-read-object, test-json-encode-list)\n\t(test-json-read-array, test-json-encode-array)\n\t(test-json-read, test-json-read-from-string)\n\t(test-json-encode): New tests.\n\t(json-read-simple-alist): Merged into `test-json-read-object'.\n\t(json-encode-string-with-special-chars): Merged into\n\t`test-json-encode-string'.\n\t(json-read-string-with-special-chars): Split into\n\t`test-json-encode-string' and `test-json-read-from-string'.\n\n2015-11-24  Anders Lindgren  <andlind@gmail.com>\n\n\tFixed bug#18283: Enable applescript in NextStep.\n\n\t* nextstep/templates/Info.plist.in: Set NSAppleScriptEnabled to YES.\n\n2015-11-24  Eli Zaretskii  <eliz@gnu.org>\n\n\tAllow completion on dynamic module files in load-library\n\n\t* lisp/files.el (load-library): Bind completion-ignored-extensions\n\tto nil, to allow completion on dynamic modules typed as file\n\tnames.  Reported by Andy Moreton <andrewjmoreton@gmail.com>.\n\n2015-11-24  Alan Mackenzie  <acm@muc.de>\n\n\tCC Mode: eliminate almost all byte compilation warnings\n\n\t* lisp/progmodes/cc-bytecomp.el (cc-bytecomp-noruntime-functions): Remove.\n\t(cc-require): Remove the crude hack that saved and restored\n\tbyte-compile-noruntime-functions.\n\t(cc-conditional-require, cc-conditional-require-after-load): New macros.\n\n\t* lisp/progmodes/cc-defs.el (top level): Reformulate code which loaded\n\tcc-fix.el using the new macros in cc-bytecomp.el.\n\n\t* lisp/progmodes/cc-langs.el (c++-template-syntax-table)\n\t(c-no-parens-syntax-table): Add extra \"(eval ..)\"s around \"'(lambda ..)\"\n\tforms to remove the superflous quotes.\n\n2015-11-24  Eli Zaretskii  <eliz@gnu.org>\n\n\tAdd one more mod-test test\n\n\t* modules/mod-test/test.el (mod-test-sum-test): Test the error\n\tsignaled when the function is invoked with a wrong number of\n\targuments.\n\n2015-11-24  Philipp Stephani  <phst@google.com>\n\n\t* modules/mod-test/mod-test.c (Fmod_test_sum): Verify there are 2 args.\n\n2015-11-24  Eli Zaretskii  <eliz@gnu.org>\n\n\tImplement dynlib_addr for MS-Windows\n\n\t* src/dynlib.c [WINDOWSNT]: Include w32common.h.\n\t<g_b_init_get_module_handle_ex> [WINDOWSNT]: New static variable.\n\t(GET_MODULE_HANDLE_EX_FLAG_FROM_ADDRESS)\n\t(GET_MODULE_HANDLE_EX_FLAG_UNCHANGED_REFCOUNT) [WINDOWSNT]: Define\n\tif undefined.\n\t(dynlib_reset_last_error): Reset g_b_init_get_module_handle_ex to\n\tzero.\n\t(dynlib_addr) [WINDOWSNT]: Non-trivial implementation to report\n\tthe full file name of the module for a given address.\n\n2015-11-24  Alan Mackenzie  <acm@muc.de>\n\n\tSquashed commit of the following:\n\n\tcommit e1ecf76585bef2eb87995f7a7f92cc12003a6f70\n\tAuthor: Alan Mackenzie <acm@muc.de>\n\tDate:   Tue Nov 24 16:50:09 2015 +0000\n\n\t    Byte compile: minor amendments.\n\n\t    * lisp/emacs-lisp/bytecomp.el (byte-compile-initial-macro-environment):\n\t    add a comment to explain the binding of variables around a subsidiary\n\t    compilation.\n\t    (byte-compile-new-defuns): Amend the doc string.\n\n\tcommit c537bfed1dda1593d218956ff00c6105a3ff0316\n\tAuthor: Alan Mackenzie <acm@muc.de>\n\tDate:   Sat Nov 21 18:43:57 2015 +0000\n\n\t    Byte compiler: fix spurious warnings \"might not be defined at runtime\".\n\n\t    Also initialize byte-compile-noruntime-functions between runs.\n\n\t    * lisp/emacs-lisp/bytecomp.el (byte-compile-new-defuns): New variable.\n\t    (byte-compile-initial-macro-environment): For eval-when-compile: bind\n\t    byte-compile-unresolved-functions and byte-compile-new-defuns around\n\t    byte-compile-top-level, to prevent spurious entries being made.\n\t    (byte-compile-warn-about-unresolved-functions): Check whether function is\n\t    in byte-compile-new-defuns before emitting a warning about it.\n\t    (byte-compile-from-buffer): Initialize new variable and\n\t    byte-compile-noruntime-functions to nil.\n\t    (byte-compile-file-form-require): record all new functions defined by a\n\t    `require' in byte-compile-new-defuns.\n\t    (byte-compile-file-form-defmumble): record the new alias in\n\t    byte-compile-new-defuns.\n\n2015-11-24  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix crash at startup related to GC of font entities\n\n\t* src/font.h (GC_FONT_SPEC_P, GC_FONT_ENTITY_P)\n\t(GC_FONT_OBJECT_P, GC_XFONT_SPEC, GC_XFONT_ENTITY)\n\t(GC_XFONT_OBJECT): New macros, for use in garbage collector.\n\t* src/alloc.c (compact_font_cache_entry, compact_font_caches):\n\tDon't ifdef away font cache compaction on NT_GUI, as the problems\n\twhich led to that seem to have been solved.\n\t(compact_font_cache_entry): Use GC_FONT_SPEC_P, GC_XFONT_SPEC,\n\tGC_XFONT_ENTITY, and GC_XFONT_OBJECT, instead of their non-GC_\n\tcousins.  (Bug#21999)\n\n2015-11-24  Alan Mackenzie  <acm@muc.de>\n\n\tByte compile: Output an error, not a warning, for odd number of args to setq\n\n\t* lisp/emacs-lisp/bytecomp.el (byte-compile-setq): Amend.\n\n2015-11-24  Ken Raeburn  <raeburn@raeburn.org>\n\n\tFix kbd_buffer iteration loop in readable_events\n\n\t* src/keyboard.c (readable_events): Wrap the event pointer back to the\n\tstart of the kbd_buffer array inside the top of the loop instead of\n\tright before checking the loop condition, since kbd_fetch_ptr and\n\tkbd_store_ptr point past the end of the array to mean that element 0\n\tis next. (bug#21935)\n\n2015-11-24  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tImprove text-quoting-style doc again\n\n\t* doc/lispref/help.texi (Keys in Documentation):\n\tOmit overkill discussion of \u2018setq\u2019.  Mention Emacs versions\n\twhere \u2018grave\u2019 style was standard.\n\n2015-11-24  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tImprove text-quoting-style doc\n\n2015-11-24  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSimplify module_make_function\n\n\t* src/emacs-module.c (module_make_function):\n\tSimplify by calling build_unibyte_string.\n\n2015-11-24  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort better to FreeBSD\u2019s dlfunc vs dlsym\n\n\tThis avoids warnings when converting between void * and\n\tfunction pointers, which strict C11 does not allow.\n\t* configure.ac (dlfunc): Check for existence.\n\t* src/dynlib.c (dlfunc) [!HAVE_DLFUNC]: New macro.\n\t(dynlib_func): New function.\n\t* src/dynlib.h (dynlib_function_ptr, dynlib_func): New decls.\n\t* src/emacs-module.c (Fmodule_load): Use dynlib_func, not\n\tdynlib_sym, for function pointers.\n\n2015-11-24  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSimplify use of emacs_finalizer_function type\n\n\t* src/emacs-module.h (emacs_finalizer_function):\n\tNow EMACS_NOEXCEPT.  All users simplified to omit EMACS_NOEXCEPT.\n\t(struct emacs_env_25): Use emacs_finalizer_function where applicable.\n\n2015-11-24  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tmodule_format_fun_env fixes\n\n\t* src/doprnt.c (exprintf) [HAVE_MODULES]: Also define in this case.\n\t* src/emacs-module.c (module_format_fun_env):\n\tConvert path and sym to UTF-8.\n\tDon\u2019t use VLAs, as the C11 standard says they\u2019re optional,\n\tand anyway they can cause core dumps with large allocations.\n\tUse exprintf rather than snprintf, as exprintf handles arbitrarily\n\tlong strings.  Simplify the code a bit.\n\n2015-11-23  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tDon't use package-user-dir in elisp-library-roots if it's not bound\n\n\t* lisp/progmodes/elisp-mode.el (elisp-library-roots): Don't\n\tuse package-user-dir if it's not bound (bug#19759).\n\n2015-11-23  Anders Lindgren  <andlind@gmail.com>\n\n\tNew visible-bell for NextStep (OS X El Capitan compatible).\n\n\tInstead of inverting a rectangle in the middle of the frame, use\n\tthe standard NextStep image \"caution\", represented using an\n\twarning sign with an exclamation mark.  (Bug#21662)\n\n\tImplemented based on a suggestion drafted by Mustafa Kocaturk.\n\n\t* src/nsterm.m (EmacsBell): New class for managing the caution\n\timage.  Support multiple active bells, the image is removed once\n\tall bells have timed out.\n\t(ns_timeout): Removed, no longer used.\n\t(ns_ring_bell): Reimplemented to use EmacsBell.\n\n2015-11-23  Johan Bockg\u00e5rd  <bojohan@gnu.org>\n\n\t* lisp/emacs-lisp/nadvice.el (add-function): Fix debug spec.\n\n\t(remove-function): Ditto. (Bug#20376)\n\n2015-11-23  Mark Oteiza  <mvoteiza@udel.edu>\n\n\t* lisp/leim/quail/tamil-dvorak.el: Add necessary escapes.\n\n2015-11-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove how non-ASCII strings are accepted from modules\n\n\t* src/emacs-module.c (module_make_function, module_make_string):\n\tBuild a unibyte Lisp string and then decode it by UTF-8, instead\n\tof building a multibyte string without decoding.  This is more\n\ttolerant to deviations from UTF-8.\n\n2015-11-23  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort recent module changes to pickier compilers\n\n\t* src/emacs-module.c (module_make_function)\n\t(module_make_string): Add casts to fix pointer signedness issues.\n\n2015-11-23  Philipp Stephani  <phst@google.com>\n\n\tFix how strings are accepted from modules\n\n\t* src/emacs-module.c (module_make_function, module_make_string): Use\n\tmake_multibyte_string.\n\t(module_copy_string_contents): Encode before reading the byte\n\tsize.  Return false if and only if an error occurred.\n\n2015-11-23  Shakthi Kannan  <shakthimaan@gmail.com>\n\n\tAdd the tamil-dvorak input method\n\n\t* lisp/leim/quail/tamil-dvorak.el: New file.  (Bug#21768)\n\n\t* etc/NEWS: Mention the new input method.\n\n2015-11-23  Martin Rudalics  <rudalics@gmx.at>\n\n\tMove setting FRAME_WINDOW_SIZES_CHANGED to resize_frame_windows.\n\n\t* src/frame.c (adjust_frame_size): Don't set\n\tFRAME_WINDOW_SIZES_CHANGED here ...\n\t* src/window.c (resize_frame_windows): ... but here, as suggested\n\tby Stefan Monnier.  Also remove some dead code along the way.\n\n2015-11-23  Alan Mackenzie  <acm@muc.de>\n\n\t* etc/NEWS (Incompatible Lisp Changes): Also `setf' needs an even # of args.\n\n2015-11-23  Alan Mackenzie  <acm@muc.de>\n\n\tSignal an error when `setf' gets an odd number of arguments.\n\n\t* lisp/emacs-lisp/gv.el (setf): Amend.\n\n2015-11-23  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/smie.el (smie-backward-sexp): Handle BOB better.\n\n2015-11-23  Alan Mackenzie  <acm@muc.de>\n\n\t* etc/NEWS (Incompatible Lisp Changes): Document new restriction on `setq'.\n\n2015-11-23  Alan Mackenzie  <acm@muc.de>\n\n\tExpunge occurrences of `setq' with an odd number of arguments.\n\n\t* lisp/apropos.el (apropos-documentation):\n\t* lisp/obsolete/complete.el (PC-include-file-all-completions):\n\t* lisp/progmodes/compile.el (compilation-goto-locus):\n\t* lisp/vc/vc-cvs.el (vc-cvs-parse-root): (twice)\n\tInsert missing nil at end of `setq' forms.\n\n\t* lisp/emacs-lisp/bytecomp.el (byte-compile-file-form-autoload): Remove an\n\terroneous trailing variable name from a setq, thus allowing a compilation\n\tproperly to track functions not defined at runtime.\n\n2015-11-23  John Wiegley  <johnw@newartisans.com>\n\n\tAdd a note about a questionable use of bool in xdisp.c\n\n2015-11-23  Alan Mackenzie  <acm@muc.de>\n\n\tIssue a warning from the byte compiler on a malformed `setq' form.\n\n\tPartly fixes bug#20241.\n\t* lisp/emacs-lisp/bytecomp.el (byte-compile-setq): Issue a warning when a\n\t`setq' form with an odd number of arguments is compiled.\n\n2015-11-23  Alan Mackenzie  <acm@muc.de>\n\n\tDon't let cconv_convert insert a nil argument into a `setq' form.\n\n\tFixes bug#21983.\n\t* lisp/emacs-lisp/cconv.el (cconv-convert): Don't silently insert a nil last\n\targument into a `setq' when there're an odd number of args.  This enables the\n\tbyte compiler to issue a message in this case.\n\n2015-11-23  Alan Mackenzie  <acm@muc.de>\n\n\tSignal an error when `setq' has an odd number of arguments.  Fixes bug#20241.\n\n\t* src/eval.c (Fsetq): Signal an error on an odd number of arguments.\n\t(syms_of_eval): Add a DEFSYM for Qsetq.\n\n2015-11-23  Martin Rudalics  <rudalics@gmx.at>\n\n\t* doc/lispref/windows.texi (Window Sizes): Fix indices and references.\n\n\t* src/frame.c (adjust_frame_size): Set FRAME_WINDOW_SIZES_CHANGED (Bug#21975).\n\n2015-11-23  Thomas Fitzsimmons  <fitzsim@fitzsim.org>\n\n\tAdd EUDC BBDB 3 entry in NEWS\n\n\t* NEWS: Mention EUDC BBDB backend support for BBDB 3.\n\n2015-11-23  Thomas Fitzsimmons  <fitzsim@fitzsim.org>\n\n\tImprove EUDC to BBDB 3 export\n\n\t* lisp/net/eudc-vars.el (eudc-ldap-bbdb-conversion-alist): Change phone\n\tentry to single item.  Add company conversion.\n\t* lisp/net/eudc-export.el (eudc-bbdbify-company): New function.\n\t(bbdb-parse-phone): Declare function.\n\t(eudc-bbdbify-phone): Add BBDB 3 support.\n\t(Bug#21971)\n\n2015-11-23  Thomas Fitzsimmons  <fitzsim@fitzsim.org>\n\n\tAdd BBDB 3 support for EUDC export\n\n\t* lisp/net/eudc.el: Add bbdb-version defvar.\n\t(eudc--using-bbdb-3-or-newer-p): New function.\n\t* lisp/net/eudc-export.el (eudc-create-bbdb-record): Add support for\n\tbbdb-create-internal argument list changes introduced in BBDB 3.\n\t* lisp/net/eudcb-bbdb.el: Remove bbdb-version defvar.\n\t(eudc-bbdb-field): Call eudc--using-bbdb-3-or-newer-p.\n\t(Bug#21971)\n\n2015-11-22  Eli Zaretskii  <eliz@gnu.org>\n\n\tAllow loading modules by 'load-file'\n\n\t* src/lread.c (Fload): Call 'unbind_to' with 'Fmodule_load' as the\n\t2nd arg, to avoid the \"binding stack not balanced\" error.\n\t(syms_of_lread) <module-file-suffix>: New Lisp variable.\n\n\t* lisp/files.el (module-file-suffix): Declare.\n\t(load-file): Remove 'module-file-suffix' from\n\t'completion-ignored-extensions', to allow completion on modules.\n\n\t* etc/NEWS: Mention 'module-file-suffix'.\n\n2015-11-22  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix unoptimized builds\n\n\t* src/lisp.h (XTYPE): Move before XSYMBOL, to fix unoptimized\n\tbuilds.\n\n2015-11-22  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tWork around the asynchronous-empty-diff problem\n\n\t* lisp/vc/vc-rcs.el (vc-rcs-diff):\n\t* lisp/vc/vc-mtn.el (vc-mtn-diff):\n\t* lisp/vc/vc-hg.el (vc-hg-diff):\n\t* lisp/vc/vc-git.el (vc-git-diff): Ignore the ASYNC argument,\n\tdo a synchronous process call (bug#21969).\n\n2015-11-22  Karl Fogel  <kfogel@red-bean.com>\n\n\tFinish excising electric indent from `open-line'\n\n\t* lisp/simple.el (open-line): Remove INTERACTIVE argument.\n\n\t* test/automated/simple-test.el (open-line-indent, open-line-hook):\n\t  Adjust accordingly.\n\n\tThis change finishes what my commit of Thu Nov 19 17:32:37 2015 -0600\n\t(git commit c59353896) started.  It turns out that having INTERACTIVE\n\tcause `post-self-insert-hook' to run (via `newline') meant `open-line'\n\tstill had the electric indent behavior, as `post-self-insert-hook'\n\tnormally contains `electric-indent-post-self-insert-function' ever\n\tsince `electric-indent-mode' has been on by default.  Tracing the code\n\tchange in `open-line' is mildly twisty, because Artur Malabarba's\n\tearliest two commits of 24 Oct 2015 first removed the `interactive'\n\tform entirely (git commit 6939896e2) and then restored it with the new\n\textra \"p\" already added (git commit bd4f04f86), such that there is no\n\tsingle-commit diff in which one sees the second \"p\" appear.  Thus this\n\tchange is effectively a reversion of parts of each of those commits.\n\n\tThis could close bug#21884, at least until further discussion.\n\n2015-11-22  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tAdhere closer to the \"implicit tag name\" definition\n\n\t* lisp/progmodes/etags.el (etags-tags-completion-table):\n\tAdhere closer to the \"implicit tag name\" definition.  Simplify\n\tthe regexp.  Search for the explicit tag name first, and when\n\tnot found, search locally for the implicit one.  (Bug#21934)\n\n2015-11-22  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tUnrevert most of regexp reentrancy abort patch\n\n\tThe problem was in:\n\t  * src/syntax.c (update_syntax_table_forward): Propertize even when truncated\n\twhich is hence not unreverted.\n\tThe rest is:\n\t* src/syntax.h (UPDATE_SYNTAX_TABLE_FORWARD_FAST):\n\t(UPDATE_SYNTAX_TABLE_FAST): Re-introduce.\n\tAll callers in regex.c changed back to the _FAST versions.\n\n\t* test/automated/message-mode-tests.el: Tweak the test to rely on auto\n\tpropertization in backward-sexp.\n\n2015-11-21  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRevert regexp reentrancy abort patch\n\n\tAlthough the patch does fix Bug#21688 and prevents a core dump,\n\tit also makes the message-mode-propertize test fail; see:\n\thttps://lists.gnu.org/r/emacs-devel/2015-11/msg01667.html\n\tPerhaps someone else can come up with a better fix some day.\n\t* src/syntax.c (update_syntax_table_forward):\n\tPropertize even when truncated.\n\t* src/syntax.h (UPDATE_SYNTAX_TABLE_FORWARD_FAST):\n\t(UPDATE_SYNTAX_TABLE_FAST): Remove.\n\tAll callers changed back to the non-_FAST versions.\n\n2015-11-21  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tAdd a few safety checks when ENABLE_CHECKING\n\n\tThis was motivated by the recent addition of module code,\n\twhich added some ENABLE_CHECKING-enabled checks that are\n\tuseful elsewhere too.\n\t* src/alloc.c (compact_font_cache_entry):\n\t* src/fns.c (sweep_weak_table):\n\t* src/lread.c (oblookup):\n\tUse gc_asize rather than doing it by hand.\n\t* src/emacs-module.c (module_make_global_ref)\n\t(module_free_global_ref, module_vec_size):\n\tOmit assertions that lisp.h now checks.\n\t* src/lisp.h (XFASTINT, ASIZE): In functional implementations,\n\tcheck that the result is nonnegative.  Use eassume, as this\n\tinfo can help a bit when optimizing production code.\n\t(XSYMBOL) [!USE_LSB_TAG]: Assert that argument is a symbol,\n\tto be consistent with the USE_LSB_TAG case.\n\t(gc_asize): New function, when ASIZE is needed in the gc.\n\t(gc_aset): Use it.\n\t(HASH_TABLE_P): Move definition up, so that it can be used ...\n\t(XHASH_TABLE): ... here, to assert that the arg is a hash table.\n\n2015-11-21  Eli Zaretskii  <eliz@gnu.org>\n\n\tSimplify recording of main thread's ID on MS-Windows\n\n\t* src/w32term.c (w32_initialize):\n\t* src/w32console.c (initialize_w32_display):\n\t* src/w32fns.c (globals_of_w32fns): Don't record the main thread\n\tID independently for each type of session (GUI, TTY, batch).\n\t* src/w32term.c (w32_init_main_thread): New function, records the\n\tmain thread's thread ID.\n\t* src/w32term.h: Add prototype for w32_init_main_thread.\n\t* src/emacs.c (main) [WINDOWSNT]: Call w32_init_main_thread.\n\n\t* src/emacs-module.c [WINDOWSNT]: Rename main_thread_id to\n\tmain_thread, for consistency with other threading libraries.  All\n\tusers changed.  Include w32term.h.\n\t(check_main_thread) [WINDOWSNT]: Simplify the test: no need to\n\tmake sure the main thread is alive, as we hold a handle on it\n\topened by w32_init_main_thread.\n\t(module_init) [WINDOWSNT]: Reuse the thread ID recorded by\n\tw32_init_main_thread, instead of calling the requisite APIs once\n\tmore.\n\n2015-11-21  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tBackport: Fix issue where a new tempfile was created every refresh\n\n\t* lisp/mpc.el (mpc-format): Leave dir as relative path\n\n2015-11-21  Eli Zaretskii  <eliz@gnu.org>\n\n\tCall 'window-size-change-functions' for mini-windows\n\n\t* src/window.c (grow_mini_window, shrink_mini_window): Set the\n\tframe's 'window_sizes_changed' flag.\n\t* src/xdisp.c (redisplay_internal): Call the hooks on\n\t'window-size-change-functions' if the call to 'echo_area_display'\n\tsets the frame's 'window_sizes_changed' flag.\n\t(syms_of_xdisp) <window-size-change-functions>:\n\tUpdate doc string to indicate the mini-window resizes trigger a\n\tcall to the hooks, and don't promise that will happen \"before\n\tredisplay\".  (Bug#19576, Bug#21333)\n\n\t* doc/lispref/windows.texi (Window Hooks): Update the description\n\tof 'window-size-change-functions'.\n\n2015-11-21  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of dynamic modules\n\n\t* src/fns.c (Frequire): Doc fix to include the dynamic module\n\tsupport.\n\t* src/lread.c (Fload, Vload_suffixes): Doc fixes to include the\n\tdynamic module support.\n\t(Fload): Treat the module suffix the same as '*.el' and '*.elc'\n\twrt the MUST-SUFFIX argument.\n\n\t* etc/NEWS: Expand documentation of dynamically loaded modules.\n\n2015-11-21  Philipp Stephani  <phst@google.com>  (tiny change)\n\n\tInitial documentation for dynamic modules\n\n\t* etc/NEWS: Mention the new support for dynamically loaded modules.\n\n2015-11-21  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tAdd xref--etags-backend to xref-backing-functions using add-hook\n\n\t* lisp/progmodes/xref.el (xref-backend-functions): Move the\n\tdefault value into a separate `add-hook' call (bug#21964).\n\n\t* lisp/progmodes/elisp-mode.el (emacs-lisp-mode):\n\tDon't declare the xref-backend-functions variable.\n\tIt doesn't make any difference.\n\n2015-11-20  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix double-decrement bug when freeing global refs\n\n\t* src/emacs-module.c (module_free_global_ref): Add a FIXME\n\tcomment about error reporting.  Fix a recently-introduced typo\n\tthat double-decremented the refcount.\n\n2015-11-20  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDeclare emacs_module_init in the module API\n\n\t* src/emacs-module.h (emacs_module_init): New decl.\n\tWithout it, GCC might complain about a module that defines\n\temacs_module_init without using it.  This also checks the\n\tAPI better.\n\n2015-11-20  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix module test to use ptrdiff_t nargs too\n\n\t* modules/mod-test/mod-test.c (Fmod_test_return_t)\n\t(Fmod_test_sum, Fmod_test_signal, Fmod_test_throw)\n\t(Fmod_test_non_local_exit_funcall, Fmod_test_globref_make)\n\t(Fmod_test_string_a_to_b, Fmod_test_userptr_make)\n\t(Fmod_test_userptr_get, Fmod_test_vector_fill)\n\t(Fmod_test_vector_eq): Arg counts are ptrdiff_t, not int.\n\t(finalizer): Remove; no longer used.\n\n2015-11-20  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix reindent-introduced typo in module code\n\n\t* src/emacs-module.c (MODULE_SETJMP_1): Fix typo that I\n\tintroduced while reindenting the code earlier, and add a\n\tcomment explaining the unusual use of do-while here.\n\n2015-11-20  Anders Lindgren  <andlind@gmail.com>\n\n\tFixed bug#19576: `write-file' saves wrong buffer.\n\n\tIf a function on the hook `window-size-change-functions' doesn't\n\trestore the current buffer, functions that save and restore the\n\tcurrent window configuration (like `y-or-no-p') could silently\n\tchange the current buffer.  When `write-file' asked the user\n\tconfirmation to overwrite a file, `y-or-no-p' changed the current\n\tbuffer, and the wrong buffer was saved to the file.\n\n\t* lisp/follow.el (follow-windows-start-end): Call `select-frame'\n\tusing the `norecord' parameter.\n\t(follow-window-size-change): Restore current buffer. Call\n\t`select-frame' using the `norecord' parameter. Cleanup.\n\n2015-11-20  John Wiegley  <johnw@newartisans.com>\n\n\tCorrect a documentation error in frames.texi\n\n2015-11-20  Stephen Leake  <stephen_leake@stephe-leake.org>\n\n\t* lisp/cedet/mode-local.el: Delete obsolete comment\n\n2015-11-20  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tModule function arg counts are ptrdiff_t, not int\n\n\t* src/emacs-module.c (struct module_fun_env)\n\t(module_make_function, module_funcall, Fmodule_call):\n\t* src/emacs-module.h (struct emacs_runtime, struct emacs_env_25):\n\tUse ptrdiff_t, not int, for arg counts.\n\t* src/emacs-module.c (module_make_function): Don\u2019t bother\n\tchecking arity against MOST_POSITIVE_FIXNUM, as that\u2019s\n\tunnecessary here.  Make the checking clearer by negating it.\n\t(module_make_function, Fmodule_call): No need to use xzalloc\n\tsince the storage doesn\u2019t need to be cleared.\n\t(module_funcall): Don\u2019t use VLA, since C11 doesn\u2019t guarantee support\n\tfor it, and many implementations are buggy with large VLAs anyway.\n\tUse SAFE_ALLOCA_LISP instead.\n\t(module_vec_set): Don\u2019t crash if i < 0.\n\t(module_vec_get): Don\u2019t crash if i < MOST_NEGATIVE_FIXNUM.\n\t(module_vec_set, module_vec_get): Do fixnum checks only when\n\ti is out of array bounds, for efficiency in the usual case.\n\t(Fmodule_load): Simplify fixnum range check.\n\t(Fmodule_call): Simplify arity check.  Use xnmalloc to detect\n\tinteger overflow in array allocation size.\n\n2015-11-20  Eli Zaretskii  <eliz@gnu.org>\n\n\tMinor improvements in module test\n\n\t* modules/mod-test/mod-test.c: Include stdlib.h, to avoid warnings\n\tabout missing prototype of malloc.\n\t* modules/mod-test/Makefile (CFLAGS): Add -std=gnu99, to avoid\n\tcompiler warnings.\n\n2015-11-20  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove MS-Windows implementation in dynlib.c\n\n\t* src/dynlib.c [WINDOWSNT]: Include errno.h, lisp.h, and w32.h.\n\tNo need to include windows.h, as w32.h already does that.\n\t<dynlib_last_err>: New static variable.\n\t(dynlib_reset_last_error): New function.\n\t(dynlib_open): Convert forward slashes to backslashes.  Convert\n\tfile names from UTF-8 to either UTF-16 or the current ANSI\n\tcodepage, and call either LoadLibraryW or LoadLibraryA.  If the\n\targument is NULL, return a handle to the main module, like\n\t'dlopen' does.  Record the error, if any, for use by dynlib_error.\n\t(dynlib_sym): Check the handle for validity. Record the error, if\n\tany, for use by dynlib_error.\n\t(dynlib_error): Call w32_strerror to produce the error string, and\n\tzero out the last error code, like dlerror does.\n\t(dynlib_close): Check the handle for validity.  Record the error,\n\tif any, for use by dynlib_error.  Don't call FreeLibrary with a\n\thandle for the main module.\n\t* src/w32.c (globals_of_w32): Call dynlib_reset_last_error.\n\n2015-11-20  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tInclude-file tweaks for modules\n\n\t* src/dynlib.c, src/emacs-module.c: Include <config.h> first.\n\t* src/dynlib.h: Do not include config.h.\n\tIt\u2019s every .c file\u2019s responsibility to include config.h first.\n\t* src/emacs-module.c: Include emacs-module.h immediately after\n\tconfig.h, to test that emacs-module.h doesn\u2019t depend on\n\tinclude files other than config.h.\n\n2015-11-20  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSimplify push_handler and profile its malloc\n\n\t* src/lisp.h (PUSH_HANDLER): Remove.\n\tAll callers changed to use push_handler directly.\n\t* src/eval.c (internal_condition_case)\n\t(internal_condition_case_1, internal_condition_case_2)\n\t(internal_condition_case_n):\n\tUse same pattern as for other invokers of push_handler.\n\t(push_handler, push_handler_nosignal): Use call-by-value\n\tinstead of call-by-reference.  All uses changed.\n\t(push_handler): Simplify by rewriting in terms of\n\tpush_handler_nosignal.\n\t(push_handler_nosignal): Profile any newly allocated memory.\n\n2015-11-20  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* src/emacs-module.h: Include stddef.h, not stdlib.h.\n\n2015-11-20  Juanma Barranquero  <lekktu@gmail.com>\n\n\tDiscover repository version in linked worktrees (bug#21930)\n\n\t* lisp/version.el (emacs-repository--version-git-1): Do not assume\n\tHEAD is at .git/HEAD, it can also be at .git/worktrees/<branch>/HEAD.\n\t(emacs-repository-get-version): Grok linked worktrees when EXTERNAL\n\tis nil too.\n\n2015-11-20  Juri Linkov  <juri@linkov.net>\n\n\t* lisp/replace.el (occur-regexp-descr): New function.\n\t(occur-1, occur-engine): Use it.\n\n\t* lisp/isearch.el (isearch-occur): Propertize regexp with\n\tisearch-string and isearch-regexp-function-descr for\n\toccur-regexp-descr to display the correct description\n\tmessage in the header (bug#21176, bug#21180).\n\n2015-11-20  Karl Fogel  <kfogel@red-bean.com>\n\n\tRevert `open-line' electric-indent sensitivity\n\n\t* lisp/simple.el (open-line): Remove electric indent code.\n\t  (electric-indent-just-newline): Don't declare.\n\n\t* test/automated/simple-test.el (open-line-indent): Adjust test.\n\n\tThis partly reverts Artur Malabarba's change that added electric\n\tindent sensitivity to `open-line' (Oct 24 22:26:27 2015 +0100, git\n\tcommit bd4f04f86), and adjusts a new test he added right afterwards\n\t(Sat Oct 24 23:43:06 2015 +0100, git commit 207f235e3) accordingly.\n\tHowever, the new INTERACTIVE argument to `open-line', which he also\n\tadded in the first commit, is not reverted here.\n\n\tSee the thread \"Questioning the new behavior of `open-line'.\" on the\n\tEmacs Devel mailing list, and in particular this message:\n\n\t  From: Artur Malabarba\n\t  Subject: Re: Questioning the new behavior of `open-line'.\n\t  To: Karl Fogel\n\t  Cc: David Kastrup, Pierpaolo Bernardi, emacs-devel\n\t  Date: Wed, 18 Nov 2015 21:03:58 +0000\n\t  Message-ID: \\\n\t    <CAAdUY-KN06pvCMy5bt3+Buk3yeKjf6n9iB2FaSTTOPpCqPwyhA@mail.gmail.com>\n\n\t  https://lists.gnu.org/r/emacs-devel/2015-11/msg01707.html\n\n2015-11-20  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tOmit unnecessary clear in Fmodule_load\n\n\t* src/emacs-module.c (Fmodule_load):\n\tSimplify and avoid unnecessary initialization of priv member to 0.\n\n\t* src/emacs-module.c: (module_vec_set, module_vec_get, module_vec_size)\n\n2015-11-20  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPrefer signed integer types in module code\n\n\tGenerally speaking, at the C level the Emacs source code prefers\n\tsigned types like \u2018ptrdiff_t\u2019 to unsigned types like \u2018size_t\u2019,\n\tpartly to avoid the usual signedness confusion when comparing values.\n\tChange the module API to follow this convention.\n\tUse \u2018int\u2019 for small values that can\u2019t exceed INT_MAX.\n\t* modules/mod-test/mod-test.c (Fmod_test_globref_make)\n\t(Fmod_test_string_a_to_b, Fmod_test_vector_fill)\n\t(Fmod_test_vector_eq):\n\t* src/emacs-module.c (struct emacs_value_frame)\n\t(module_make_global_ref, module_free_global_ref)\n\t(module_copy_string_contents, module_make_string)\n\t(module_vec_set, module_vec_get, module_vec_size):\n\t* src/emacs-module.h (struct emacs_runtime, struct emacs_env_25):\n\t* src/lread.c (suffix_p):\n\tPrefer signed to unsigned integer types.\n\n2015-11-19  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tOmit \u2018const\u2019 on locals\n\n\tRemove \u2018const\u2019 qualifier from locals that were newly added.\n\tWe don\u2019t normally bother declaring locals with \u2018const\u2019 even\n\tthough they are not modified, for the same reason we don\u2019t\n\tbother declaring them with \u2018register\u2019 even though their\n\taddresses are not taken; the advantage in compile-time\n\tchecking isn\u2019t worth the loss of readability.\n\t* modules/mod-test/mod-test.c (Fmod_test_non_local_exit_funcall)\n\t(Fmod_test_vector_fill, Fmod_test_vector_eq):\n\t* src/emacs-module.c (MODULE_SETJMP_1)\n\t(module_make_global_ref, module_free_global_ref)\n\t(module_non_local_exit_get, module_make_function)\n\t(module_extract_integer, module_extract_float)\n\t(module_get_user_ptr, module_set_user_ptr)\n\t(module_get_user_finalizer, module_set_user_finalizer)\n\t(module_vec_get, Fmodule_call)\n\t(module_non_local_exit_signal_1)\n\t(module_non_local_exit_throw_1, lisp_to_value)\n\t(finalize_storage, allocate_emacs_value, mark_modules)\n\t(module_handle_signal, module_handle_throw)\n\t(module_format_fun_env):\n\t* src/eval.c (push_handler, push_handler_nosignal)\n\t(init_handler):\n\t* src/lread.c (suffix_p):\n\tOmit unnecessary \u2018const\u2019.\n\n2015-11-19  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPrefer intmax_t to int64_t in module code\n\n\t* modules/mod-test/mod-test.c (sum, Fmod_test_sum):\n\t* src/emacs-module.c (module_extract_integer)\n\t(module_make_integer):\n\t* src/emacs-module.h (struct emacs_env_25):\n\tPrefer intmax_t to int64_t.  This doesn\u2019t change the generated\n\tcode on any of the machines Emacs currently ports to, but it\u2019s\n\tat least in theory more future-proof as C99 doesn\u2019t guarantee\n\tthat int64_t exists.\n\n2015-11-19  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRename module.c to emacs-module.c, etc.\n\n\t* src/emacs-module.c: Rename from src/module.c.\n\t* src/emacs-module.h: Rename from src/module.h.\n\tAll uses changed.\n\n2015-11-19  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix minor module problems found by static checking\n\n\t* src/dynlib.c (dynlib_close): #ifdef out for now, as it\u2019s not used.\n\t* src/eval.c, src/lisp.h (lisp_eval_depth): Now static.\n\t* src/emacs-module.c (Fmodule_load): Fix pointer signedness bug.\n\t(Fmodule_call): Tell GCC that the default case is unreachable.\n\n2015-11-19  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tStyle fixes for indenting etc. in module code\n\n\tThis is mostly indenting and spacing changes.  Also, remove\n\tsome unnecessary static decls instead of bothering to reindent them.\n\t* src/emacs-module.h (EMACS_EXTERN_C_BEGIN): Remove, and do this inline,\n\tas most other Emacs files do for this sort of thing.\n\n2015-11-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tMinor improvements in modules testing Makefile\n\n\t* modules/mod-test/Makefile (EMACS, SO): New variables.\n\t(CFLAGS): When SO = dll, don't use -fPIC.\n\t(check): New target, runs the test.\n\n2015-11-19  Eli Zaretskii  <eliz@gnu.org>\n\n\t* .gitignore: Add \"*.dll\".\n\n2015-11-19  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMigrate modules/.gitignore into .gitignore\n\n\t* .gitignore: Add former contents of modules/.gitignore.\n\t* modules/.gitignore: Remove.\n\n2015-11-19  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tAdd copyright notices to module code\n\n\tPut them in the usual format for GNU Emacs copyright notices.\n\n2015-11-19  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRename emacs_module.h to module.h\n\n\t* src/module.h: Rename from src/emacs_module.h.\n\tAll uses changed.\n\n2015-11-19  Juanma Barranquero  <lekktu@gmail.com>\n\n\t* src/module.c (Fmodule_load): Remove unused vars `doc_name', `args'\n\n\t* src/lread.c (Fload): Remove unused variable `size'\n\n2015-11-19  Alan Mackenzie  <acm@muc.de>\n\n\tsrc/keyboard.c (pre-command-hook): Fix typo in doc string: \"pre\" -> \"post\".\n\n2015-11-19  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tPrioritize looking inside vc-parent-buffer over log-view-mode fallback\n\n\t* lisp/vc/vc.el (vc-deduce-fileset): Prioritize looking inside\n\tvc-parent-buffer over log-view-mode fallback (bug#21955).\n\n2015-11-18  Alan Mackenzie  <acm@muc.de>\n\n\tlisp/isearch.el: Eliminate macro isearch-call-message, replacing with funcall.\n\n2015-11-18  Ken Brown  <kbrown@cornell.edu>\n\n\t* configure.ac (LIBMODULES): Don\u2019t define on Cygwin\n\n2015-11-18  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix MS-Windows build --with-modules\n\n\t* src/module.c: Reformat copyright commentary.\n\t(module_vec_get): Use explicit cast to size_t to avoid compiler\n\twarning in 32-bit builds.\n\t(check_main_thread) [WINDOWSNT]: Fix letter-case in Windows APIs.\n\tCompare thread IDs directly, as GetThreadId is not available\n\tbefore Windows Vista.\n\t(check_main_thread) [WINDOWSNT]: Duplicate the thread handle\n\twithout using APIs and constants not available on XP and older\n\tsystems.  Obtain and store the thread ID as well.\n\n2015-11-18  Aur\u00e9lien Aptel  <aurelien.aptel@gmail.com>\n\t    Philipp Stephani  <phst@google.com>\n\n\tAdd dynamic module test and helper script\n\n\tAdd 'modhelp.py' script (python2) to automate module testing and\n\tmodule generation.\n\n\tTo build and test all modules in the modules/ dir\n\t  $ ./modhelp.py test\n\n\tTo generate a module from template code (good starting point)\n\t  $ ./modhelp init mynewtestmodule\n\n\tSee the script -h option for more documentation.\n\n\t* modules/modhelp.py: New module helper script.\n\t* modules/mod-test/Makefile: New file. Makefile for the test module.\n\t* modules/mod-test/mod-test.c: New file. Test module source file.\n\t* modules/mod-test/test.el: New file. ert test suite for the test module.\n\t* modules/.gitignore: New file. Local .gitignore file.\n\n2015-11-18  Aur\u00e9lien Aptel  <aurelien.aptel@gmail.com>\n\n\tMake 'Fload' look for modules\n\n\t'Fload' can now load dynamic modules. This also makes 'require' work.\n\n\t* src/lread.c:\n\t  (suffix_p): New function.\n\t  (Fload): Use 'suffix_p'.  Call 'Fmodule_load' when we try to load a file\n\t  with a module suffix.\n\t  (syms_of_lread): Append module suffix to 'Vload_suffixes'.\n\n2015-11-18  Aur\u00e9lien Aptel  <aurelien.aptel@gmail.com>\n\t    Philipp Stephani  <phst@google.com>\n\n\tAdd dynamic module module support\n\n\t* configure.ac: Add '--with-modules' option.  Conditionally add\n\t  dynlib.o and module.o to the list of objects.  Add any system\n\t  specific flags to the linker flags to support dynamic libraries.\n\t* m4/ax_gcc_var_attribute.m4: Add autoconf extension to test gcc\n\t  attributes.\n\t* src/Makefile.in: Conditionally add module objects and linker flags.\n\t* src/alloc.c (garbage_collect_1): protect module local values from\n\t  GC.\n\t* src/lisp.h: Add 'module_init' and 'syms_of_module' prototypes.\n\t* src/emacs-module.h: New header file included by modules.  Public\n\t  module API.\n\t* src/emacs-module.c: New module implementation file.\n\n2015-11-18  Aur\u00e9lien Aptel  <aurelien.aptel@gmail.com>\n\n\tAdd new User Pointer (User_Ptr) type\n\n\t* src/lisp.h: Add new Lisp_Misc_User_Ptr type.\n\t(XUSER_PTR): New User_Ptr accessor.\n\t* src/alloc.c (make_user_ptr): New function.\n\t(mark_object, sweep_misc): Handle Lisp_Misc_User_Ptr.\n\t* src/data.c (Ftype_of): Return 'user-ptr' for user pointer.\n\t(Fuser-ptrp): New user pointer type predicate function.\n\t(syms_of_data): New 'user-ptrp', 'user-ptr' symbol.  New 'user-ptrp'\n\tsubr.\n\t* src/print.c (print_object): Add printer for User_Ptr type.\n\n2015-11-18  Aur\u00e9lien Aptel  <aurelien.aptel@gmail.com>\n\t    Philipp Stephani  <phst@google.com>\n\n\tAdd portable layer for dynamic loading\n\n\t* src/dynlib.h: New file.\n\t* src/dynlib.c: New file.\n\n2015-11-18  Philipp Stephani  <phst@google.com>\n\n\tAdd catch-all & no-signal version of PUSH_HANDLER\n\n\tGround work for modules. Add a non-signaling version of PUSH_HANDLER and\n\ta new \"catch-all\" handler type.\n\n\t* src/eval.c (init_handler, push_handler, push_handler_nosignal): New\n\t  functions.\n\t* src/fns.c (hash_remove_from_table): Expose function public.\n\t* src/lisp.h: New handler type, define macro to push_handler call.\n\n2015-11-18  Ken Brown  <kbrown@cornell.edu>\n\n\tSilence byte-compiler warning\n\n\t* lisp/server.el (server-process-filter): Silence byte-compiler\n\twarning.\n\n2015-11-18  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tQuote symbols in docstrings using `'\n\n\tBe more systematic about quoting symbols `like-this' rather than\n\t`like-this or 'like-this' in docstrings.  This follows up Artur\n\tMalabarba's email in:\n\thttps://lists.gnu.org/r/emacs-devel/2015-11/msg01647.html\n\n2015-11-18  Peder O. Klingenberg  <peder@klingenberg.no>\n\n\tFix savegames in dunnet\n\n\t* lisp/play/dunnet.el (dun-rot13): Use the standard rot13-region instead\n\t  of separate implementation.\n\n2015-11-18  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el (package--with-response-buffer):\n\n\tEnsure we're at the start of the buffer before searching for\n\tthe end of headers.\n\n2015-11-18  Xue Fuqiao  <xfq.free@gmail.com>\n\n\t* admin/release-process: Improve wording.\n\n2015-11-18  Xue Fuqiao  <xfq.free@gmail.com>\n\n\tBackport: * CONTRIBUTE: Remove information about feature freeze.\n\n\t(cherry picked from commit ae0653b5ab9ee223751ec389b87011963e1cbbef)\n\n2015-11-18  Xue Fuqiao  <xfq.free@gmail.com>\n\n\tBackport: Document the release process\n\n\t* admin/notes/versioning: Add information about RC releases.\n\t* admin/release-process: Document the release process.\n\t* admin/authors.el (authors-ignored-files):\n\t* admin/README: Change FOR-RELEASE to release-process.\n\t* CONTRIBUTE:\n\t* admin/notes/bugtracker: Don't mention FOR-RELEASE.\n\n\t(cherry picked from commit 9a4aa0f5945a03611ae29c516025dbd353bd26ab)\n\n2015-11-18  Xue Fuqiao  <xfq.free@gmail.com>\n\n\tBackport: * admin/release-process: Rename from admin/FOR-RELEASE.\n\n\t(cherry picked from commit f8cc14b59700e51a4e31139c0a65c8154995e055)\n\n2015-11-18  Xue Fuqiao  <xfq.free@gmail.com>\n\n\tBackport: Mention CONTRIBUTE in README\n\n\tMention CONTRIBUTE in README, since it was moved from etc/ to root.\n\t* etc/TODO: Remove the reference to `etc/CONTRIBUTE'.\n\t* README: Mention CONTRIBUTE.\n\n\t(cherry picked from commit ed2e7e20ae0945288c98091f308f5460c3453873)\n\n2015-11-18  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix docstring quoting problems with \u2018 '\u2019\n\n\tProblem reported by Artur Malabarba in:\n\thttps://lists.gnu.org/r/emacs-devel/2015-11/msg01513.html\n\tMost of these fixes are to documentation; many involve fixing\n\tlongstanding quoting glitches that are independent of the\n\trecent substitute-command-keys changes.  The changes to code are:\n\t* lisp/cedet/mode-local.el (mode-local-augment-function-help)\n\t(describe-mode-local-overload):\n\tSubstitute docstrings before displaying them.\n\t* lisp/emacs-lisp/cl-macs.el (cl--transform-lambda):\n\tQuote the generated docstring for later substitution.\n\n2015-11-17  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove configure --help text for wide ints\n\n\t* configure.ac (wide-int): Clarify user-level advantages and\n\tdisadvantages.\n\n2015-11-17  Stephen Leake  <stephen_leake@stephe-leake.org>\n\n\tImprove doc string\n\n\t* lisp/progmodes/xref.el (xref-backend-references): Improve doc string.\n\n2015-11-17  Paul Eggert  <eggert@cs.ucla.edu>\n\n\teval_sub followed dangling pointer when debugging\n\n\tProblem reported by Pip Cet (Bug#21245).\n\tThis bug could occur in eval_sub if the C compiler reused\n\tstorage associated with the \u2018argvals\u2019 local after \u2018argvals\u2019\n\twent out of scope, and if the Elisp debugger stopped on Elisp\n\tfunction exit and accessed \u2018argvals\u2019.  It could also occur if\n\ta variadic function was called with so many arguments (over\n\t2048 args on x86-64) that SAFE_ALLOCA_LISP called malloc, then\n\tSAFE_FREE freed the arguments, then the memory manager used\n\tthe storage for other purposes, then the debugger accessed the\n\targuments.\n\t* src/eval.c (eval_sub): Declare \u2018argvals\u2019 at top level of\n\tfunction body.\tSimplify local decls.\n\tWhen allocating args via SAFE_ALLOCA, call\n\tdebugger before invoking SAFE_FREE, as the debugger needs\n\taccess to the args.\n\t(eval_sub, apply_lambda): Rework to avoid need for\n\tset_backtrace_debug_on_exit hack.  This is cleaner,\n\tand should work better with buggy custom debuggers.\n\n2015-11-17  Daiki Ueno  <ueno@gnu.org>\n\n\t* lisp/image-mode.el: Support encrypted file\n\n\t(image-toggle-display-image): Read content from the buffer instead\n\tof the file, if the buffer holds a decrypted data.  (Bug#21870)\n\n2015-11-17  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tELF unexec: align section header\n\n\tThis ports the recent unexelf.c changes to Fedora x86-64\n\twhen configured with GCC\u2019s -fsanitize=undefined option.\n\t* src/unexelf.c (unexec): Align new_data2_size to a multiple\n\tof ElfW (Shdr)\u2019s alignment, so that NEW_SECTION_H returns a\n\tpointer aligned appropriately for its type.\n\n2015-11-17  Andreas Schwab  <schwab@linux-m68k.org>\n\n\tDo more checks on bytecode objects (Bug#21929)\n\n\t* src/eval.c (funcall_lambda): Check size of compiled function\n\tobject.\n\t(Ffetch_bytecode): Likewise.\n\n2015-11-16  Johan Bockg\u00e5rd  <bojohan@gnu.org>\n\n\tpcase.el: Fix edebugging of backquoted cons patterns\n\n\t* lisp/emacs-lisp/pcase.el (pcase-QPAT): Fix edebugging of backquoted\n\tcons patterns. (Bug#21920)\n\n2015-11-16  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tImprove fix for regex reentrancy abort\n\n\tSuggested by Stefan Monnier (Bug#21688).\n\t* src/syntax.c (update_syntax_table_forward):\n\tRemove recently-added PROPERTIZE arg, and assume it is true.\n\tAll callers changed.\n\t* src/syntax.h (UPDATE_SYNTAX_TABLE_FORWARD_FAST):\n\tInvoke update_syntax_table directly.\n\n2015-11-16  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/faces.el (faces--attribute-at-point): Use `face-list-p'\n\n\t* lisp/emacs-lisp/package.el (package--with-response-buffer): Missing require\n\n\t* lisp/emacs-lisp/nadvice.el (add-function): Escape quote\n\n2015-11-16  Vasily Korytov  <vasily.korytov@yahoo.com>\n\n\tRecognize .rbw and .pyw files (bug#18753)\n\n\t* lisp/progmodes/python.el (auto-mode-alist):\n\tRecognize .pyw files.\n\n\t* lisp/progmodes/ruby-mode.el (auto-mode-alist):\n\tRecognize .rbw files.\n\n2015-11-16  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tFix ruby-mode auto-mode-alist entry\n\n\t* lisp/progmodes/ruby-mode.el (auto-mode-alist): Add grouping\n\taround the extensions (bug#21257).\n\n2015-11-15  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tFix etags completion near eob\n\n\t* lisp/progmodes/etags.el (tags-completion-at-point-function):\n\tUse `goto-char', to avoid the end-of-buffer error (bug#20061).\n\n2015-11-15  Alan Mackenzie  <acm@muc.de>\n\n\tDe-pessimize detection of C++ member initialization lists.\n\n\tlist/progmodes/cc-engine.el (c-back-over-list-of-member-inits): New macro.\n\t(c-back-over-member-initializers): Reformulate such that c-at-toplevel-p\n\tis only called when a construct \"looks right\" rather than continually.\n\t(c-guess-basic-syntax, CASE 5R): Add a check for the mode being C++ Mode.\n\n2015-11-15  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\tBackport: * lisp/emacs-lisp/package.el: Fix a decoding issue.\n\n\t* lisp/url/url-handlers.el (url-insert-file-contents): Move some code to\n\t`url-insert-buffer-contents'.\n\t(url-insert-buffer-contents): New function\n\n\t(package--with-response-buffer): Use `url-insert-buffer-contents'.\n\tThe previous code had some issues with decoding. Refactoring that\n\tfunction allows us to use the decoding from url-handlers while still\n\ttreating both sync and async requests the same.\n\n2015-11-15  Stephen Leake  <stephen_leake@stephe-leake.org>\n\n\tImprove a few doc strings, comments\n\n\t* lisp/cedet/cedet-global.el (cedet-gnu-global-expand-filename):\n\t* lisp/cedet/ede/locate.el (ede-locate-base):\n\t* lisp/cedet/semantic/symref.el (semantic-symref-calculate-rootdir):\n\t* src/fns.c (Fdelq): Improve doc string.\n\n\t* lisp/progmodes/elisp-mode.el (elisp--xref-find-definitions): Add FIXME.\n\n2015-11-15  Anders Lindgren  <andlind@gmail.com>\n\n\tEnhance NSTRACE (trace output for NextStep).\n\n\tTrace can be disabled for groups of functions. By default, event\n\tfunctions and functions that generate lots of output are disabled.\n\n\tTrace output of Objective-C functions now use the \"[ClassName\n\tparameter:]\" form.\n\n\t* src/nsterm.h (NSTRACE_ALL_GROUPS, NSTRACE_GROUP_EVENTS)\n\t(NSTRACE_GROUP_UPDATES, NSTRACE_GROUP_FRINGE, NSTRACE_GROUP_COLOR)\n\t(NSTRACE_GROUP_GLYPHS, NSTRACE_GROUP_FOCUS): New macros,\n\tcontrolling in which function groups trace should be active.\n\t(NSTRACE_WHEN): Support for silencing a function, this also\n\tsilencing all called functions.\n\t(NSTRACE_UNSILENCE): New macro, used to re-enable trace.\n\t(NSTRACE_FMT_FSTYPE, NSTRACE_ARG_FSTYPE): New macros, used to\n\tprint the full screen state in NSTRACE functions.\n\n\t* src/nsterm.m (nstrace_depth, nstrace_num): Made volatile as they\n\tcan be accessed from multiple threads.\n\t(nstrace_enabled_global): New variable, when FALSE, trace is\n\tsilenced.\n\t(nstrace_restore_global_trace_state): New function, used to\n\trestore `nstrace_enabled_global' at end of block.\n\t([EmacsView setFrame:], [EmacsWindow setFrame:display:])\n\t([EmacsWindow setFrame:display:animation:])\n\t([EmacsWindow setFrameTopLeftPoint:]): New functions, print trace\n\tand call corresponding super function.\n\t(Many functions): Add or enhance trace output.\n\n\t* src/nsimage.m (ns_image_from_file): Enhanced trace output.\n\n\t* src/nsfns.m (x_set_tool_bar_lines): Add trace output.\n\n\t* src/nsmenu.m ([EmacsToolbar setVisible:]): New function, print trace\n\tand call corresponding super function.\n\n2015-11-15  Anders Lindgren  <andlind@gmail.com>\n\n\tFixed a toolbar related issue on OS X.\n\n\tEarlier, when toggling the tool-bar in a maximized frame, the\n\tframe size didn't match the number of text lines, leaving an\n\tunused area at the bottom of the frame.\n\n\t* src/nsfns.m (x_set_tool_bar_lines): Exit maximized and full height\n\tfullscreen modes when tool bar is disabled.\n\n2015-11-15  Anders Lindgren  <andlind@gmail.com>\n\n\tFixed OS X 10.6.8 build issue (bug#21862).\n\n\t* src/nsterm.h (EmacsView): Add missing declarations.\n\t* src/nsterm.m ([EmacsView windowDidBecomeKey]): New method, like\n\tthe standard method but without the notification parameter.\n\tIntended to be used for direct calls.\n\t([EmacsView windowDidEnterFullScreen]): Call the non-notification\n\tversion of `windowDidBecomeKey'. Made the notification method call\n\tthe non-notification method instead of the vice versa.\n\t(NSWindowDidEnterFullScreenNotification): Deleted, no longer\n\tneeded.\n\n2015-11-15  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/faces.el (faces--attribute-at-point): Fix an issue\n\n\tPrevious code would signal an error when the face at point was\n\ta manually built list of attributes such as '(:foreground \"white\").\n\n\t* test/automated/faces-tests.el (faces--test-color-at-point): Add a test\n\n2015-11-15  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix regex abort when it tries to reenter itself\n\n\tProblem reported by Ken Raeburn.\n\tSolution suggested by Stefan Monnier (Bug#21688).\n\t* src/regex.c (re_match_2_internal):\n\tUse new _FAST functions to avoid regex code reentering itself.\n\t* src/syntax.c (update_syntax_table_forward): New arg PROPERTIZE.\n\tAll callers changed.\n\t* src/syntax.h (UPDATE_SYNTAX_TABLE_FORWARD_FAST)\n\t(UPDATE_SYNTAX_TABLE_FAST): New inline functions.\n\n2015-11-15  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tImprove Ruby 1.9-style keyword keys highlighting\n\n\t* lisp/progmodes/ruby-mode.el (ruby-font-lock-keywords):\n\tHandle required keyword arguments (bug#21367).\n\tAnd highlight the colon together with the name.\n\n2015-11-15  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tUnify the absolutely equal xref-backend-references implementations\n\n\t* lisp/progmodes/elisp-mode.el (xref-backend-references):\n\tRemove.\n\n\t* lisp/progmodes/etags.el (xref-backend-references):\n\tRemove.\n\n\t* lisp/progmodes/xref.el (xref-backend-references):\n\tDefine the default implementation.\n\n2015-11-15  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tUpdate project-find-regexp for the new xref API\n\n\t* lisp/progmodes/project.el (project--read-regexp):\n\tUpdate to use the new xref API methods.\n\n\t* lisp/progmodes/xref.el (xref-find-backend): Autoload.\n\n2015-11-15  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tFix replacing a match with a shorter string\n\n\tIn effect, partially reverting fe973fc.\n\n\t* lisp/progmodes/xref.el (xref-query-replace): Store the end\n\tof each match as a marker again, instead of length.\n\t(xref--query-replace-1): Update accordingly.\n\n2015-11-14  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/progmodes/xref.el (xref-pop-marker-stack): Downgrade errors\n\n\tSignal user-errors instead.\n\n2015-11-14  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument 'describe-symbol'\n\n\t* doc/emacs/help.texi (Help Summary): Mention \"C-h o\".\n\t(Name Help): Document \"C-h o\" and describe-symbol.\n\n\t* lisp/help-fns.el (describe-symbol): Doc fix.\n\n2015-11-14  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tChange test name to avoid spellcheck issue.\n\n2015-11-14  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid signaling an error in 'describe-symbol'\n\n\t* lisp/help-fns.el (describe-symbol): Avoid errors when the symbol\n\texists as a function/variable/face/etc., but is undocumented.\n\n\t* test/automated/help-fns.el (help-fns-test-describe-symbol): New\n\ttest.\n\n2015-11-14  Eli Zaretskii  <eliz@gnu.org>\n\n\t* INSTALL (--with-cairo): Document this new configure option.\n\n2015-11-14  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument that GNU Make >= 3.81 is required to build Emacs\n\n\t* doc/lispref/internals.texi (Building Emacs): Document that GNU\n\tMake 3.81 or later is now required.\n\n2015-11-14  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\tBackport: * lisp/emacs-lisp/package.el: Refactor -with-work-buffer-async.\n\n\t(package--with-work-buffer-async): Reimplement as\n\t`package--with-response-buffer'.\n\t(package--with-work-buffer): Mark obsolete.\n\t(package--with-response-buffer): New macro. This is a more self\n\tcontained and less contrived version of\n\t`package--with-work-buffer-async'.  It uses keyword arguments,\n\tdoesn't have async on the name, doesn't fallback on\n\t`package--with-work-buffer', and has _much_ simpler error\n\thandling.  On master, this macro will soon be part of another\n\tlibrary (either standalone or inside url.el), which is why this\n\tcommit is not to be merged back.\n\n\t(package--check-signature, package--download-one-archive)\n\t(package-install-from-archive, describe-package-1): Use it.\n\n\t(package--download-and-read-archives): Let\n\t`package--download-one-archive' take care of calling\n\t`package--update-downloads-in-progress'.\n\n2015-11-14  Eli Zaretskii  <eliz@gnu.org>\n\n\t* CONTRIBUTE (Branches): Improve wording for back-ported commits.\n\n2015-11-14  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tUse generic dispatch for xref backends\n\n\t* lisp/progmodes/xref.el (xref-backend-functions):\n\tNew variable.\n\t(xref-find-function): Remove.\n\t(xref-find-backend)\n\t(xref--etags-backend): New functions.\n\t(xref-identifier-at-point-function)\n\t(xref-identifier-completion-table-function): Remove.\n\t(xref-backend-definitions, xref-backend-references)\n\t(xref-backend-apropos, xref-backend-identifier-at-point)\n\t(xref-backend-identifier-completion-table):\n\tNew generic functions.\n\n\t* lisp/progmodes/elisp-mode.el (emacs-lisp-mode):\n\tAdd `elisp--xref-backend' to the beginning of\n\t`xref-backend-functions', locally.  Delete references to\n\tremoved functions and vars.\n\t(elisp-xref-find): Remove.\n\t(elisp--xref-backend): New function.\n\t(elisp--xref-find-references, elisp--xref-find-apropos)\n\t(elisp--xref-identifier-completion-table):\n\tTurn into appropriately named generic methods.\n\n\t* lisp/progmodes/etags.el (etags-xref-find): Remove.\n\t(xref-backend-identifier-completion-table)\n\t(xref-backend-references, xref-backend-definitions)\n\t(xref-backend-apropos): New generic methods.\n\n2015-11-14  Juri Linkov  <juri@linkov.net>\n\n\tSupport rectangular regions for more commands\n\n\t* lisp/simple.el (region-extract-function): Handle the arg\n\tvalue \u2018bounds\u2019.\n\t(region-insert-function): New function.\n\t(shell-command-on-region): Add arg \u2018region-noncontiguous-p\u2019.\n\tIf non-nil, operate on multiple chunks.\n\t(region-noncontiguous-p): New function.\n\n\t* lisp/rect.el: Add function rectangle--insert-region\n\taround region-insert-function.\n\t(extract-rectangle-bounds): New function.\n\t(rectangle--extract-region): Handle the arg value \u2018bounds\u2019.\n\t(rectangle--insert-region): New function.\n\n\t* lisp/emulation/cua-rect.el: Add function cua--insert-rectangle\n\taround region-insert-function.\n\t(cua--extract-rectangle-bounds): New function.\n\t(cua--rectangle-region-extract): Handle the arg value \u2018bounds\u2019.\n\n\t* lisp/replace.el (query-replace, query-replace-regexp): Add arg\n\t\u2018region-noncontiguous-p\u2019.  Use \u2018use-region-p\u2019.\n\t(query-replace-regexp-eval, map-query-replace-regexp)\n\t(replace-string, replace-regexp): Use \u2018use-region-p\u2019.\n\t(keep-lines, flush-lines, how-many): Use \u2018use-region-p\u2019.\n\t(perform-replace): Add arg \u2018region-noncontiguous-p\u2019.\n\tIf non-nil, operate on multiple chunks.\n\n\t* src/casefiddle.c (Fdowncase_region): Add arg \u2018region-noncontiguous-p\u2019.\n\tIf non-nil, operate on multiple chunks.  (Bug#19829)\n\n2015-11-14  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tHandle multiple matches on the same line; add highlighting\n\n\t* lisp/progmodes/xref.el (xref-location-marker): Interpret the\n\tcolumn value in characters.\n\t(xref--collect-matches): Rename from `xref--collect-match'.\n\tSearch for all matches in the hit line.  Add `highlight' face to\n\tthe matched region in the summary.  Update both callers.\n\n2015-11-14  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tReplace xref-match-bounds with xref-match-length\n\n\tRelying on xref-location-marker to point to the beginning of the match\n\n\t* lisp/progmodes/xref.el (xref-match-bounds): Remove.\n\t(xref-match-length): Add.\n\t(xref-make-match): Change the arguments.\n\t(xref--match-buffer-bounds): Remove.\n\t(xref-match-item): Store length, instead of end-column.\n\t(xref-pulse-momentarily)\n\t(xref--collect-match)\n\t(xref--query-replace-1): Update accordingly.\n\t(xref-query-replace): Ditto.  And check that the search results\n\tare up-to-date.\n\n2015-11-13  Kelvin White  <kwhite@gnu.org>\n\n\tReconnect asynchronously in erc.\n\n2015-11-13  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from gnulib\n\n\tThis incorporates:\n\t2015-11-13 xalloc-oversized: improve performance with GCC 5\n\t* lib/xalloc-oversized.h: Copy from gnulib.\n\n2015-11-13  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSpruce up ftfont.c memory allocation\n\n\t* src/ftfont.c (setup_otf_gstring):\n\tAvoid O(N**2) behavior when reallocating.\n\t(ftfont_shape_by_flt): Prefer xpalloc to xrealloc when\n\treallocating buffers; this simplifies the code.  Do not trust\n\tmflt_run to leave the output areas unchanged on failure, as\n\tthis isn\u2019t part of its interface spec.\n\n2015-11-13  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort recent XCB changes to 64-bit \u2018long int\u2019\n\n\tFor historical reasons, libX11 represents 32-bit values like Atoms as\n\t\u2018long int\u2019 even on platforms where \u2018long int\u2019 is 64 bits.  XCB doesn\u2019t\n\tdo that, so adapt the recent XCB code to behave properly on 64-bit\n\tplatforms.  Also, fix what appears to be a bug in the interpretation\n\tof xcb_get_property_value_length, at least on my Fedora platform\n\twhich is running libxcb-1.11-5.fc21.\n\t* src/xfns.c (x_real_pos_and_offsets):\n\t* src/xterm.c (get_current_wm_state):\n\txcb_get_property_value_length returns a byte count, not a word count.\n\tFor 32-bit quantities, xcb_get_property_value returns a vector\n\tof 32-bit words, not of (possibly 64-bit) long int.\n\n\tBackport.\n\n2015-11-13  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* src/undo.c (run_undoable_change): Now static.\n\n\tBackport.\n\n2015-11-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tRemove support for ':timeout' from w32 tray notifications\n\n\t* src/w32fns.c (Fw32_notification_notify): Delete the code that\n\tsupports ':timeout'.\n\t(syms_of_w32fns): Don't DEFSYM ':timeout'.  This avoids clashes\n\twith dbusbind.c when D-Bus is compiled in.\n\n\t* doc/lispref/os.texi (Desktop Notifications): Don't mention\n\t':timeout'.\n\n\tBackport.\n\n2015-11-13  Juanma Barranquero  <lekktu@gmail.com>\n\n\t* test/automated/simple-test.el: Add test for bug#20698 (bug#21885)\n\n\t(simple-test--transpositions): New macro.\n\t(simple-transpose-subr): New test.\n\n\tBackport.\n\n2015-11-13  Juanma Barranquero  <lekktu@gmail.com>\n\n\t* lisp/progmodes/elisp-mode.el: Declare function `project-roots'\n\n\tBackport.\n\n2015-11-13  Juanma Barranquero  <lekktu@gmail.com>\n\n\t* src/undo.c: Small fixes for previous change\n\n\t(run_undoable_change): Mark void argument list.\n\t(record_property_change): Remove unused variable `boundary'.\n\n\tBackport.\n\n2015-11-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tAdd a few more variables to redisplay--variables\n\n\t* lisp/frame.el (redisplay--variables): Add bidi-paragraph-direction\n\tand bidi-display-reordering to the list.\n\n\tBackport.\n\n2015-11-13  Eli Zaretskii  <eliz@gnu.org>\n\n\t* lisp/loadup.el: Enlarge the size of the hash table to 80000.\n\n\tBackport.\n\n2015-11-13  Eli Barzilay  <eli@barzilay.org>\n\n\tFix point positioning after transposing with negative arg\n\n\t* lisp/simple.el (transpose-subr): When invoked with a negative\n\targument, move point to after the transposed text, like we do\n\twhen invoked with a positive argument.  (Bug#21885)\n\n\tBackport.\n\n2015-11-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix last change in shr.el\n\n\t* lisp/net/shr.el (shr--have-one-fringe-p): Rename from\n\thave-fringes-p.  All callers changed.  Doc fix.  (Bug#21895)\n\n\tBackport.\n\n2015-11-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix last change\n\n\t* src/w32fns.c (syms_of_w32fns) [WINDOWSNT && !HAVE_DBUS]:\n\tDon't DEFSYM tray notification symbols if D-Bus is being used.\n\n\tBackport.\n\n2015-11-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tAnother fix for MinGW64 and Cygwin builds due to notifications\n\n\t* src/w32fns.c: Ifdef away tray notification code if D-Bus is\n\tbeing compiled into Emacs.\n\t(syms_of_w32fns) [WINDOWSNT && !HAVE_DBUS]: Don't defsubr\n\tSw32_notification_notify and Sw32_notification_close if the code\n\tis not compiled.  Reported by Andy Moreton <andrewjmoreton@gmail.com>.\n\n\tBackport.\n\n2015-11-13  YAMAMOTO Mitsuharu  <mituharu@math.s.chiba-u.ac.jp>\n\n\tRemove intern calls and XXX comments from Fx_export_frames\n\n\t* src/xfns.c (Fx_export_frames): Use Qpdf, Qpng, Qpostscript, and\n\tQsvg instead of intern calls.  Use \"postscript\" instead of \"ps\"\n\tfor consistency with image types.  Remove XXX comments.\n\t(syms_of_xfns) <Qpdf>: DEFSYM it.\n\n\tBackport.\n\n2015-11-13  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort recent XCB changes to 64-bit \u2018long int\u2019\n\n\tFor historical reasons, libX11 represents 32-bit values like Atoms as\n\t\u2018long int\u2019 even on platforms where \u2018long int\u2019 is 64 bits.  XCB doesn\u2019t\n\tdo that, so adapt the recent XCB code to behave properly on 64-bit\n\tplatforms.  Also, fix what appears to be a bug in the interpretation\n\tof xcb_get_property_value_length, at least on my Fedora platform\n\twhich is running libxcb-1.11-5.fc21.\n\t* src/xfns.c (x_real_pos_and_offsets):\n\t* src/xterm.c (get_current_wm_state):\n\txcb_get_property_value_length returns a byte count, not a word count.\n\tFor 32-bit quantities, xcb_get_property_value returns a vector\n\tof 32-bit words, not of (possibly 64-bit) long int.\n\n2015-11-13  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* src/undo.c (run_undoable_change): Now static.\n\n2015-11-13  Michael Albinus  <michael.albinus@gmx.de>\n\n\tAdapt Tramp version, do not merge with master\n\n\t* doc/misc/trampver.texi (trampver):\n\t* lisp/net/trampver.el (tramp-version): Set to \"2.2.13-25.1\".\n\n2015-11-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tRemove support for ':timeout' from w32 tray notifications\n\n\t* src/w32fns.c (Fw32_notification_notify): Delete the code that\n\tsupports ':timeout'.\n\t(syms_of_w32fns): Don't DEFSYM ':timeout'.  This avoids clashes\n\twith dbusbind.c when D-Bus is compiled in.\n\n\t* doc/lispref/os.texi (Desktop Notifications): Don't mention\n\t':timeout'.\n\n2015-11-13  Juanma Barranquero  <lekktu@gmail.com>\n\n\t* test/automated/simple-test.el: Add test for bug#20698 (bug#21885)\n\t(simple-test--transpositions): New macro.\n\t(simple-transpose-subr): New test.\n\n2015-11-13  Juanma Barranquero  <lekktu@gmail.com>\n\n\t* lisp/progmodes/elisp-mode.el: Declare function `project-roots'\n\n2015-11-13  Juanma Barranquero  <lekktu@gmail.com>\n\n\t* src/undo.c: Small fixes for previous change\n\t(run_undoable_change): Mark void argument list.\n\t(record_property_change): Remove unused variable `boundary'.\n\n2015-11-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tAdd a few more variables to redisplay--variables\n\n\t* lisp/frame.el (redisplay--variables): Add bidi-paragraph-direction\n\tand bidi-display-reordering to the list.\n\n2015-11-13  Eli Zaretskii  <eliz@gnu.org>\n\n\t* lisp/loadup.el: Enlarge the size of the hash table to 80000.\n\n2015-11-13  Eli Barzilay  <eli@barzilay.org>\n\n\tFix point positioning after transposing with negative arg\n\n\t* lisp/simple.el (transpose-subr): When invoked with a negative\n\targument, move point to after the transposed text, like we do\n\twhen invoked with a positive argument.  (Bug#21885)\n\n2015-11-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix last change in shr.el\n\n\t* lisp/net/shr.el (shr--have-one-fringe-p): Rename from\n\thave-fringes-p.  All callers changed.  Doc fix.  (Bug#21895)\n\n2015-11-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix last change\n\n\t* src/w32fns.c (syms_of_w32fns) [WINDOWSNT && !HAVE_DBUS]:\n\tDon't DEFSYM tray notification symbols if D-Bus is being used.\n\n2015-11-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tAnother fix for MinGW64 and Cygwin builds due to notifications\n\n\t* src/w32fns.c: Ifdef away tray notification code if D-Bus is\n\tbeing compiled into Emacs.\n\t(syms_of_w32fns) [WINDOWSNT && !HAVE_DBUS]: Don't defsubr\n\tSw32_notification_notify and Sw32_notification_close if the code\n\tis not compiled.  Reported by Andy Moreton <andrewjmoreton@gmail.com>.\n\n2015-11-13  YAMAMOTO Mitsuharu  <mituharu@math.s.chiba-u.ac.jp>\n\n\tRemove intern calls and XXX comments from Fx_export_frames\n\n\t* src/xfns.c (Fx_export_frames): Use Qpdf, Qpng, Qpostscript, and\n\tQsvg instead of intern calls.  Use \"postscript\" instead of \"ps\"\n\tfor consistency with image types.  Remove XXX comments.\n\t(syms_of_xfns) <Qpdf>: DEFSYM it.\n\n2015-11-13  Eric Hanchrow  <eric.hanchrow@gmail.com>\n\n\tshr: don't invoke unbound function (Bug#21895)\n\n\t* lisp/net/shr.el (have-fringes-p): New function.\n\t(shr-insert-document, shr-fill-text): Use it.\n\n2015-11-12  Juanma Barranquero  <lekktu@gmail.com>\n\n\t* test/automated/keymap-tests.el: Fix test to make it repeatable\n\n\t(keymap-store_in_keymap-FASTINT-on-nonchars): Reset Buffer-menu-mode-map\n\tentry to its initial value to make the test repeatable in interactive\n\tsessions (assuming it doesn't fail and crashes Emacs, of course).\n\n2015-11-13  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* test/automated/cl-lib-tests.el (cl-lib-struct-constructors): Small fix\n\n2015-11-12  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\t: Tests for undo-auto functionality.\n\n2015-11-12  Phillip Lord  <phillip.lord@newcastle.ac.uk>\n\n\tThe heuristic that Emacs uses to add an `undo-boundary' has been\n\treworked, as it interacts poorly with functions on `post-command-hook'\n\tor `after-change-functions'.\n\n\t* lisp/simple.el: New section added.\n\t* src/cmds.c (remove_excessive_undo_boundaries): Now in lisp.\n\t(self_insert_command): Calls simple.el to amalgamate.\n\t(delete_char): Calls simple.el to amalgamate.\n\t* src/keyboard.c (last_undo_boundary): Removed.\n\t* src/undo.c (run_undoable_change): New function.\n\n2015-11-12  Juri Linkov  <juri@linkov.net>\n\n\tBind [?\\S-\\ ] to previous line command in Dired-like modes.\n\n\t* lisp/arc-mode.el (archive-mode-map):\n\t* lisp/dired.el (dired-mode-map):\n\t* lisp/proced.el (proced-mode-map):\n\t* lisp/vc/vc-dir.el (vc-dir-mode-map):\n\tBind [?\\S-\\ ] to previous line command.\n\t(Bug#20790)\n\n2015-11-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix the MinGW64 and Cygwin-w32 builds\n\n\t* src/w32fns.c (MYNOTIFYICONDATAW_V1_SIZE)\n\t(MYNOTIFYICONDATAW_V2_SIZE, MYNOTIFYICONDATAW_V3_SIZE): Define and\n\tuse instead of the corresponding NOTIFYICONDATAW_Vn_SIZE macros,\n\twhich cause trouble with MinGW42 headers.  Ifdef away tray\n\tnotifications code for Cygwin.  Reported by Andy Moreton\n\t<andrewjmoreton@gmail.com>.\n\n2015-11-12  Simen Heggest\u00f8yl  <simenheg@gmail.com>\n\n\tEnable sorting of JSON object keys when encoding\n\n\t* lisp/json.el (json-encoding-object-sort-predicate): New variable\n\tfor specifying a sorting predicate for JSON objects during encoding.\n\t(json--plist-to-alist): New utility function.\n\t(json-encode-hash-table): Re-use `json-encode-alist' when object keys\n\tare to be sorted.\n\t(json-encode-alist): Sort output by\n\t`json-encoding-object-sort-predicate, when set.\n\t(json-encode-plist): Re-use `json-encode-alist' when object keys are\n\tto be sorted.\n\t(json-pretty-print-buffer-ordered): New command to pretty print the\n\tbuffer with object keys sorted alphabetically.\n\t(json-pretty-print-ordered): New command to pretty print the region\n\twith object keys sorted alphabetically.\n\n\t* test/automated/json-tests.el (test-json-plist-to-alist)\n\t(test-json-encode-plist, test-json-encode-hash-table)\n\t(test-json-encode-alist-with-sort-predicate)\n\t(test-json-encode-plist-with-sort-predicate): New tests.\n\n\t* etc/NEWS: Add an entry for the new commands.\n\n2015-11-12  Juanma Barranquero  <lekktu@gmail.com>\n\n\t* test/automated/keymap-tests.el: New test file.\n\n2015-11-12  Ken Raeburn  <raeburn@raeburn.org>\n\n\tSpeed up x_real_pos_and_offsets using XCB\n\n\t* src/xfns.c (x_real_pos_and_offsets) [USE_XCB]: Add XCB flavors of\n\tall X calls, and pipeline requests when possible, collecting results\n\tlater.  Eliminate use of x_catch_errors (and thus XSync) in XCB case.\n\n2015-11-12  Ken Raeburn  <raeburn@raeburn.org>\n\n\tEnable use of XCB for checking window manager state\n\n\t* src/xterm.c (get_current_wm_state) [USE_XCB]: Use XCB calls instead\n\tof XGetWindowProperty plus error-catching, since we can explicitly\n\tcheck for errors in the XCB version.  This eliminates 3 XSync calls on\n\ttop of the round-trip actually fetching the information.\n\n2015-11-12  Ken Raeburn  <raeburn@raeburn.org>\n\n\tDetect XCB and save a connection handle\n\n\t* configure.ac: If using X11, check for XCB libraries and header.\n\t* src/Makefile.in (XCB_LIBS): Define.\n\t(LIBX_EXTRA): Include it.\n\n\t* src/xterm.h [USE_XCB]: Include X11/Xlib-xcb.h.\n\t(struct x_display_info) [USE_XCB]: Add an XCB connection handle field.\n\t* src/xterm.c (x_term_init) [USE_XCB]: Initialize the new field.\n\n2015-11-12  Ken Raeburn  <raeburn@raeburn.org>\n\n\tReduce some data dependencies between X calls\n\n\tGains nothing in the traditional-Xlib code, but more closely aligns\n\twith how the XCB version will work.\n\n\t* src/xfns.c (x_real_pos_and_offsets): When translating coordinates,\n\tsend coordinates (0,0) to the X server and add in the real coordinates\n\tafter getting the response.  Move XGetGeometry for outer window inside\n\terror-trapping block.  Use DPY variable more, since it's available.\n\n2015-11-12  Ken Raeburn  <raeburn@raeburn.org>\n\n\tUse color cache for creating bitmap\n\n\t* src/image.c (x_create_bitmap_from_xpm_data) [ALLOC_XPM_COLORS]:\n\tSet attributes to use the caching color allocator.  Initialize and\n\tfree the cache.\n\n2015-11-12  Eli Barzilay  <eli@barzilay.org>\n\n\tAdd \"^\" to the interactive specs of `dired-next/previous-line'\n\n\t* lisp/dired.el (dired-next-line, dired-previous-line): It makes sense\n\tto bind these commands to the arrow keys, and that means that they work\n\tbetter with a \"^\" in the `interactive' declaration so selection works\n\tas expected.\n\n2015-11-12  Thomas Fitzsimmons  <fitzsim@fitzsim.org>\n\n\tSync with soap-client repository, version 3.0.2\n\n\t* lisp/net/soap-client.el: Bump version to 3.0.2.\n\n\t* lisp/net/soap-client.el (soap-warning): Use format, not format-message.\n\n\t* lisp/net/soap-client.el: Add cl-lib to Package-Requires.  Require cl-lib.\n\t(soap-validate-xs-simple-type): Use cl-labels instead of cl-flet.\n\n\t* lisp/net/soap-client.el: Support Emacs versions that do not have\n\tdefine-error.\n\n\t* lisp/net/soap-inspect.el: Remove version header.\n\n\t* lisp/net/soap-client.el, lisp/net/soap-inspect.el: Fix first line header\n\tformat.\n\n2015-11-11  Alan Mackenzie  <acm@muc.de>\n\n\tCC Mode: Respect users' settings of open-paren-in-column-0-is-defun-start.\n\n\t* lisp/progmodes/cc-engine.el (c-backward-single-comment)\n\t(c-backward-comments, c-invalidate-state-cache-1, c-parse-state-1)\n\t(c-guess-basic-syntax):\n\tRemove bindings of open-paren-in-column-0-is-defun-start to nil.\n\t(c-get-fallback-scan-pos): \"New\" function (existed several years ago).\n\t(c-parse-state-get-strategy): Reintroduce the 'BOD strategy, using\n\tc-get-fallback-scan-pos.\n\t(c-parse-state-1): Handle 'BOD strategy.\n\n\t* lisp/progmodes/cc-mode.el (c-before-change, c-after-change)\n\t(c-font-lock-fontify-region): Remove bindings of\n\topen-paren-in-column-0-is-defun-start to nil.\n\n\t* doc/misc/cc-mode.texi (Performance Issues)\n\t(Limitations and Known Bugs): Fix mix up between @chapter and @appendix.\n\n2015-11-11  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/obarray.el: Fix shadowed variables.\n\t(obarray-map, obarray-remove, obarray-put, obarray-get):\n\tChange OBARRAY arg to OB to avoid shadowing \u2018obarray\u2019.\n\n2015-11-11  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid error in submitting a form with EWW\n\n\t* lisp/gnus/mm-url.el (mm-url-form-encode-xwfu): Allow argument\n\tCHUNK to be nil.  (Bug#21881)\n\n2015-11-11  Nicolas Petton  <nicolas@petton.fr>\n\n\tRename seq-p and map-p to seqp and mapp\n\n\t* lisp/emacs-lisp/seq.el (seqp): New name.\n\t* lisp/emacs-lisp/map.el (mapp): New name.\n\t* doc/lispref/sequences.texi: Update the documentation for seqp.\n\t* test/automated/map-tests.el: Update the tests for mapp.\n\n2015-11-11  Nicolas Petton  <nicolas@petton.fr>\n\n\tRename obarray-p to obarrayp\n\n\t* lisp/obarray.el (obarrayp): New name.\n\t* test/automated/obarray-tests.el: Update the tests.\n\n2015-11-11  Nicolas Petton  <nicolas@petton.fr>\n\n\tRename obarray-foreach to obarray-map\n\n\t* lisp/obarray.el (obarray-map): New name.\n\t* test/automated/obarray-tests.el: Update the corresponding tests.\n\n2015-11-11  Przemys\u0142aw Wojnowski  <esperanto@cumego.com>\n\n\tNew file with obarray functions.\n\n\t* lisp/obarray.el: Basic obarray functions extracted from abbrev.el.\n\t* test/automated/obarray-tests.el: New file.\n\n2015-11-11  Eli Zaretskii  <eliz@gnu.org>\n\n\tImplement tray notifications for MS-Windows\n\n\t* src/w32fns.c (MY_NOTIFYICONDATAW): New typedef.\n\t(NOTIFYICONDATAW_V1_SIZE, NOTIFYICONDATAW_V2_SIZE)\n\t(NOTIFYICONDATAW_V3_SIZE, NIF_INFO, NIIF_NONE, NIIF_INFO)\n\t(NIIF_WARNING, NIIF_ERROR, EMACS_TRAY_NOTIFICATION_ID)\n\t(EMACS_NOTIFICATION_MSG): New macros.\n\t(NI_Severity): New enumeration.\n\t(get_dll_version, utf8_mbslen_lim, add_tray_notification)\n\t(delete_tray_notification, Fw32_notification_notify)\n\t(Fw32_notification_close): New functions.\n\t(syms_of_w32fns): Defsubr functions exposed to Lisp.  DEFSYM\n\tkeywords used by w32-notification-notify.\n\n\t* doc/lispref/os.texi (Desktop Notifications): Describe the native\n\tw32 tray notifications.\n\n2015-11-11  Alan Mackenzie  <acm@muc.de>\n\n\tFirst commit to scratch/follow.  Make Isearch work with Follow Mode, etc.\n\n\tdoc/lispref/window.texi (Basic Windows): Add paragraph defining \"Group of\n\tWindows\" and new @defun selected-window-group.\n\t(Window Start and End): Describe new &optional parameter GROUP and\n\t...-group-function for window-start, window-end, set-window-start, and\n\tpos-visible-in-window-p.\n\t(Textual Scrolling) Describe the same for recenter.\n\tdoc/lispref/positions.texi (Screen Lines): Describe the same for\n\tmove-to-window-line.\n\n\tsrc/window.c (Fwindow_start, Fwindow_end, Fset_window_start)\n\t(Fpos_visible_in_window_p, Frecenter, Fmove_to_window_line): To each, add ar\n\tnew optional parameter \"group\".  At the beginning of each, check whether the\n\tcorresponding ...-group-function is set to a function, and if so execute this\n\tfunction in place of the normal processing.\n\t(syms_of_window): Define symbols for the six new variables below.\n\t(window-start-group-function, window-end-group-function)\n\t(set-window-start-group-function, recenter-group-function)\n\t(pos-visible-in-window-p-group-function, move-to-window-line-group-function):\n\tNew permanent local buffer local variables.\n\tsrc/keyboard.c (Fposn_at_point): Add extra parameter in call to\n\tFpos_visible_in_window_p.\n\n\tlisp/window.el (selected-window-group-function): New permanent local buffer\n\tlocal variable.\n\t(selected-window-group): New function.\n\n\tlisp/follow.el (follow-mode): Set the ...-group-function variables at mode\n\tenable, kill them at mode disable.  Add/remove follow-after-change to/from\n\tafter-change-functions.\n\t(follow-start-end-invalid): New variable.\n\t(follow-redisplay): Manipulate follow-start-end-invalid.\n\t(follow-after-change, follow-window-start, follow-window-end)\n\t(follow-set-window-start, follow-pos-visible-in-window-p)\n\t(follow-move-to-window-line, follow-sit-for): New functions.\n\n\tlisp/isearch.el (isearch-call-message): New macro.\n\t(isearch-update, with-isearch-suspended, isearch-del-char)\n\t(isearch-search-and-update, isearch-ring-adjust): Invoke above new macro.\n\t(with-isearch-suspended): Rearrange code such that isearch-call-message is\n\tinvoked before point is moved.\n\t(isearch-message): Add comment about where point must be at function call.\n\t(isearch-search): Remove call to isearch-message.\n\t(isearch-lazy-highlight-window-group): New variable.\n\t(isearch-lazy-highlight-new-loop): Unconditionally start idle timer.  Move\n\tthe battery of tests to ...\n\t(isearch-lazy-highlight-maybe-new-loop): New function, started by idle timer.\n\tNote: (sit-for 0) is still called.\n\t(isearch-lazy-highlight-update): Check membership of\n\tisearch-lazy-highlight-window-group.  Don't set the `window' overlay\n\tproperty.\n\t(isearch-update, isearch-done, isearch-string-out-of-window)\n\t(isearch-back-into-window, isearch-lazy-highlight-maybe-new-loop)\n\t(isearch-lazy-highlight-search, isearch-lazy-highlight-update)\n\t(isearch-lazy-highlight-update): Call the six amended primitives (see\n\tsrc/window.c above) with the new `group' argument set to t, to cooperate\n\twith Follow Mode.\n\n2015-11-11  Michael Albinus  <michael.albinus@gmx.de>\n\n\tOptimize `file-equal-p' and `file-in-directory-p' in Tramp\n\n\t* lisp/net/tramp.el (tramp-handle-file-equal-p)\n\t(tramp-handle-file-in-directory-p): New defuns.  Suggested by\n\tHarvey Chapman <hchapman@3gfp.com>.\n\n\t* lisp/net/tramp-adb.el (tramp-adb-file-name-handler-alist):\n\t* lisp/net/tramp-gvfs.el (tramp-gvfs-file-name-handler-alist):\n\t* lisp/net/tramp-sh.el (tramp-sh-file-name-handler-alist):\n\t* lisp/net/tramp-smb.el (tramp-smb-file-name-handler-alist): Use them.\n\n2015-11-10  Karl Fogel  <kfogel@red-bean.com>\n\n\t* CONTRIBUTE: Encourage adding tests.\n\n\tBased on this post from John Wiegley:\n\n\t  From: \"John Wiegley\" <johnw@newartisans.com>\n\t  Subject: Re: [Emacs-diffs] master 1f02cbe: Fix bug#21766 and add test\n\t  To: Juanma Barranquero <lekktu@gmail.com>\n\t  Cc: emacs-diffs@gnu.org, bruce.connor.am@gmail.com,\n\t      emacs-devel <emacs-devel@gnu.org>\n\t  Date: Wed, 28 Oct 2015 18:45:29 -0700\n\t  Message-ID: <m2y4emqwg6.fsf@newartisans.com>\n\n\t  https://lists.gnu.org/r/emacs-devel/2015-10/msg02372.html\n\n2015-11-10  David Reitter  <david.reitter@gmail.com>\n\n\tAvoid creating notification objects when possible\n\n\t* src/nsterm.m (windowWillEnterFullScreen, windowWillExitFullScreen:)\n\t(windowDidEnterFullScreen, windowDidExitFullScreen): Provide convenience\n\tfunctions that do not require a notification object.  When needed,\n\tdefine NSWindowDidEnterFullScreenNotification to allow for compilation\n\ton OS X 10.6.8.\n\n2015-11-10  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMove INTEGER_TO_CONS body out of .h file\n\n\t* src/data.c (INTBIG_TO_LISP): New macro, with most\n\tof the contents of the old INTEGER_TO_CONS.\n\t(intbig_to_lisp, uintbig_to_lisp): New functions.\n\t* src/lisp.h (INTEGER_TO_CONS):\n\tSimplify by using EXPR_SIGNED and the new functions.\n\tThis shrinks code size a bit, and makes it easier to\n\tput a breakpoint on handling of large integers.\n\n2015-11-10  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from gnulib\n\n\tThis incorporates:\n\t2015-11-10 intprops: new public macro EXPR_SIGNED\n\t2015-11-10 intprops: fix typo in clang port\n\t* lib/intprops.h: Copy from gnulib.\n\n2015-11-10  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSpelling fixes\n\n\t* lisp/net/soap-inspect.el (soap-inspect-xs-simple-type):\n\tFix misspelling in output.\n\n2015-11-10  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* doc/lispref/variables.texi (Directory Local Variables):\n\tDocument dir-locals wildcards.\n\n\t* lisp/files.el (dir-locals-file): Point to Info node.\n\n\t* doc/emacs/custom.texi (Directory Variables):\n\tDocument dir-locals wildcards.\n\n\t* etc/NEWS: Document new functionality.\n\n2015-11-10  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/files.el: Don't allow customization of dir-locals sorting.\n\tIn retrospect, this is not a good idea for the same reason that\n\t`dir-locals-file' is a defconst, because it is important that this\n\tbehavior be \"uniform across different environments and users\".\n\tSure, the user can still change the sorting with a hack, but we\n\tshouldn't encourage them to change it.\n\t(dir-locals--all-files): Return list in the order returned by\n\t`file-expand-wildcards'.\n\t(file-expand-wildcards): Document the sorting predicate used.\n\t(dir-locals-sort-predicate): Delete variable.\n\n2015-11-10  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/files.el (dir-locals-read-from-file): Better handle errors.\n\n\t* lisp/isearch.el (search-default-regexp-mode): Change default value.\n\n2015-11-10  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/files.el (dir-locals-find-file): Don't stop at unreadable files.\n\t`locate-dominating-file' will now keep looking if the files it finds in\n\ta given directory are unreadable (or not files).\n\n2015-11-10  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/files.el (dir-locals-file): Allow wildcards.\n\t(dir-locals-find-file, dir-locals-collect-variables)\n\t(dir-locals-read-from-file): Update accordingly.\n\t(hack-dir-local-variables): Rename a local variable.\n\n\t* lisp/files-x.el (modify-dir-local-variable): Update accordingly.\n\n\t* lisp/help-fns.el (describe-variable): Update accordingly.\n\n\t* .gitignore: Add .dir-locals?.el.\n\n2015-11-10  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/map.el (map-merge-with): New function.\n\n\t* test/automated/map-tests.el (test-map-merge-with): New test.\n\n2015-11-10  Karl Fogel  <kfogel@red-bean.com>\n\n\tFix some recently-perturbed bookmark autoloads\n\n\t* lisp/bookmark.el (bookmark-set-internal): Remove unnecessary autoload.\n\t(bookmark-set): Restore autoload.\n\t(bookmark-set-no-overwrite): Add autoload.\n\n\tThanks to Juanma Barranquero for noticing the autoload problems\n\tintroduced by my recent commit adding/changing the above functions\n\t(Sun Nov 8 14:16:43 2015 -0500, git commit 3812e17978).\n\n2015-11-09  Noah Friedman  <friedman@splode.com>\n\n\t* etc/emacs-buffer.gdb (ydump-buffer): Handle case where gap is at\n\tthe start of buffer.  I don't recall if older versions of gdb were\n\tless strict but you cannot dump a 0-length range in gdb 7.9.1.\n\n2015-11-10  Dmitry Gutov  <dgutov@yandex.ru>\n\n\t* lisp/progmodes/project.el: Update Commentary.\n\n\tMerge branch 'project-next'\n\n2015-11-10  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tFold `project-ask-user' into `project-current'\n\n\t* lisp/progmodes/project.el (project-find-functions): Remove\n\t`project-ask-user'.\n\t(project-ask-user): Remove function and the corresponding\n\t`project-roots' implementation.\n\t(project-current): Add a new argument, MAYBE-PROMPT.  Prompt the\n\tuser in case there's no project in the current directory.  Update\n\tall callers.\n\n2015-11-09  Karl Fogel  <kfogel@red-bean.com>\n\n\tWhen VC detects a conflict, specify which file\n\n\t* lisp/vc/vc.el (vc-message-unresolved-conflicts): New function.\n\t* lisp/vc/vc-svn.el (vc-svn-find-file-hook):\n\t* lisp/vc/vc-hg.el (vc-hg-find-file-hook):\n\t* lisp/vc/vc-bzr.el (vc-bzr-find-file-hook):\n\t* lisp/vc/vc-git.el (vc-git-find-file-hook): Use above new function\n\t  to display a standard message that specifies the conflicted file.\n\n\tBefore this change, the message VC used for indicating a conflicted\n\tfile was just \"There are unresolved conflicts in this file\" without\n\tnaming the file (and this language was duplicated in several places).\n\tAfter this change, it's \"There are unresolved conflicts in file FOO\"\n\t(and this language is now centralized in one function in vc.el).\n\n\tJustification: It's important for the message to name the conflicted\n\tfile because the moment when VC realizes a file is conflicted does not\n\talways come interactively.  For example, some people automatically\n\tfind a set of Org Mode files on startup, and may keep those .org files\n\tunder version control.  If any of the files are conflicted, the user\n\tjust sees some messages fly by, and might later check the \"*Messages*\"\n\tbuffer to find out what files were conflicted.  I'm not saying this\n\thappened to me or anything; it's a purely hypothetical example.\n\n2015-11-09  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix assertion violation in define-key\n\n\t* src/keymap.c (store_in_keymap): Don't use XFASTINT on non-character\n\tobjects.  Reported by Drew Adams <drew.adams@oracle.com>\n\tand Juanma Barranquero <lekktu@gmail.com>.\n\n2015-11-09  Dima Kogan  <dima@secretsauce.net>\n\n\tFix a memory leak in GC of font cache\n\n\t* src/alloc.c (compact_font_cache_entry): Don't GC unmarked font\n\tentities if some of the fonts it references are marked.  This\n\tplugs a memory leak.  (Bug#21556)\n\n2015-11-09  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tUse INT_ADD_WRAPV etc. to check integer overflow\n\n\t* src/alloc.c (xnmalloc, xnrealloc, xpalloc, Fmake_string):\n\t* src/buffer.c (record_overlay_string, overlay_strings):\n\t* src/casefiddle.c (casify_object):\n\t* src/ccl.c (Fccl_execute_on_string):\n\t* src/character.c (char_width, c_string_width, lisp_string_width)\n\t(count_size_as_multibyte, string_escape_byte8):\n\t* src/coding.c (coding_alloc_by_realloc, produce_chars):\n\t* src/data.c (arith_driver):\n\t* src/dispnew.c (realloc_glyph_pool, init_display):\n\t* src/editfns.c (styled_format):\n\t* src/fns.c (Ffillarray):\n\t* src/ftfont.c (ftfont_shape_by_flt):\n\t* src/gnutls.c (gnutls_hex_string):\n\t* src/gtkutil.c (get_utf8_string):\n\t* src/image.c (x_to_xcolors, x_detect_edges, png_load_body):\n\t* src/keymap.c (Fkey_description):\n\t* src/lisp.h (SAFE_ALLOCA_LISP):\n\t* src/term.c (encode_terminal_code):\n\t* src/tparam.c (tparam1):\n\t* src/xselect.c (x_property_data_to_lisp):\n\t* src/xsmfns.c (smc_save_yourself_CB):\n\t* src/xterm.c (x_term_init):\n\tWhen checking for integer overflow, prefer INT_MULTIPLY_WRAPV to\n\tmore-complicated code involving division and/or\n\tINT_MULTIPLY_OVERFLOW, and similarly for INT_ADD_WRAPV and\n\tsubtraction and/or INT_ADD_OVERFLOW.\n\t* src/casefiddle.c (casify_object): Simplify multibyte size check.\n\t* src/character.c: Remove some obsolete \u2018#ifdef emacs\u2019s.\n\t* src/data.c (arith_driver): Also check for division overflow,\n\tas that\u2019s now possible given that the accumulator can now contain\n\tany Emacs integer.\n\t* src/lisp.h (lisp_word_count): Remove; no longer used.\n\n2015-11-09  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tMake sure that the ignore file exists\n\n\t* lisp/vc/vc.el (vc-default-ignore-completion-table):\n\tMake sure that the ignore file exists.\n\n2015-11-09  Michael Sperber  <mike@xemacs.org>\n\n\t* lisp/gnus/gnus-sum.el (gnus-summary-backend-map): Bind B-backspace to\n\t`gnus-summary-delete-article` in a way that also works on XEmacs.\n\n2015-11-08  Simen Heggest\u00f8yl  <simenheg@gmail.com>\n\n\tAdd support for retrieving paths to JSON elements\n\n\tAdd support for retrieving the path to a JSON element. This can for\n\tinstance be useful to retrieve paths in deeply nested JSON\n\tstructures.\n\n\t* lisp/json.el (json-pre-element-read-function)\n\t(json-post-element-read-function): New variables to hold pre- and post\n\tread callback functions for `json-read-array' and `json-read-object'.\n\t(json--path): New variable used internally by `json-path-to-position'.\n\t(json--record-path, json--check-position): New functions used\n\tinternally by `json-path-to-position'.\n\t(json-path-to-position): New function for retrieving the path to a\n\tJSON element at a given position.\n\t(json-read-object, json-read-array): Call\n\t`json-pre-element-read-function' and `json-post-element-read-function'\n\twhen set.\n\n\t* test/automated/json-tests.el (test-json-path-to-position-with-objects)\n\t(test-json-path-to-position-with-arrays)\n\t(test-json-path-to-position-no-match): New tests for\n\t`json-path-to-position'.\n\n2015-11-08  Karl Fogel  <kfogel@red-bean.com>\n\n\t* etc/NEWS: Mention new `bookmark-set-no-overwrite'.\n\n\tThis really should been part of my previous commit\n\t(Sun Nov 8 14:16:43 2015 -0500, git commit 3812e17978).\n\n2015-11-08  Karl Fogel  <kfogel@red-bean.com>\n\n\tOffer non-overwrite bookmark setter (Bug#15746)\n\n\t* lisp/bookmark.el (bookmark-set-internal): New helper function to do\n\twhat `bookmark-set' used to do, but with more choices for overwrite\n\tvs push, and with minor changes to the interactive prompt format.\n\t(bookmark-set): Rewrite as wrapper around above.\n\tIf overwriting, inform the user of that in the prompt.\n\t(bookmark-set-no-overwrite): New function, also done as wrapper.\n\tBind to \"M\" in `ctl-x-r-map' autoloads.\n\t(bookmark-map): Similarly bind \"M\" here.\n\n2015-11-08  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* src/unexelf.c (NEW_PROGRAM_H): Remove unused macro (Bug#20614).\n\n2015-11-08  Alan Modra  <amodra@gmail.com>\n\n\tELF unexec: Don't insert a new section\n\n\tReuse the .bss section instead, making it SHT_PROGBITS.  This way we\n\tdon't need to mess with symbol st_shndx, or section sh_link and\n\tsh_info.\n\n\tThis does lead to eu-elflint complaints about symbols defined in .bss\n\twith a needed version, because normally it is undefined symbols that\n\thave needed versions;  Defined symbols have version definitions.\n\tThe exception is symbols defined by the linker in .dynbss for\n\tvariables copied from a shared library in order to avoid text\n\trelocations, with copy relocs to copy their initial values from the\n\tshared library.  These symbols are both defined and have needed\n\tversions, and eu-elflink only expects to see them in SHT_NOBITS\n\tsections.  Of course there is no real problem with having such symbols\n\tin SHT_PROGBITS sections.  glibc ld.so handles them fine.\n\n\t* src/unexelf.c: Delete outdated comments.\n\t(PATCH_INDEX): Delete.\n\t(find_section): Delete.\n\t(unexec): Don't add a new section.  Instead reuse the last bss\n\tsection, extending it to cover dumped data.  Make bss sections\n\tSHT_PROGBITS.  Remove all patching of sh_link, sh_info and\n\tst_shndx.  Rename bss sections.\n\n2015-11-08  Alan Modra  <amodra@gmail.com>\n\n\tELF unexec: Drive from PT_LOAD header rather than sections\n\n\tThis rewrites bss handling in the ELF unexec code.  Finding bss\n\tsections by name results in complicated code that\n\t- does not account for all names of possible bss sections,\n\t- assumes specific ordering of bss sections,\n\t- can wrongly choose a SHT_NOBITS section not in the bss segment,\n\t- incorrectly calculates bss size (no accounting for alignment gaps),\n\t- assumes .data and .bss are in the same segment.\n\n\tAll of these problems and more are solved by finding the bss segment\n\tin PT_LOAD headers, ie. the address range included in p_memsz but not\n\tp_filesz of the last PT_LOAD header, then matching SHT_NOBITS sections\n\tin that address range.\n\n\t* src/unexelf.c: Delete old ppc comment.\n\t(OLD_PROGRAM_H): Define.\n\t(round_up): Delete.\n\t(unexec): Don't search for bss style sections by name.  Instead,\n\tuse the last PT_LOAD header address range covered by p_memsz\n\tbut not p_filesz and match any SHT_NOBITS section in that\n\taddress range.  Simplify initialization of section header vars.\n\tDon't assume that section headers are above bss segment.  Move\n\tcopying of bss area out of section loop.  Align .data2 section\n\tto 1, since it now covers the entire bss area.  For SHT_NOBITS\n\tsections in the bss segment, leave sh_addr and sh_addralign\n\tunchanged, but correct sh_offset.  Clear memory corresponding\n\tto SHT_NOBITS .plt section.  Delete comment and hacks for\n\tsections partly overlapping bss range now that the full range\n\tis properly calculated.  Delete now dead .sbss code.\n\t(Bug#20614)\n\n2015-11-08  Alan Modra  <amodra@gmail.com>\n\n\tELF unexec: R_*_NONE relocs\n\n\tThese should be ignored on all targets.\n\n\t* src/unexelf.c (unexec): Ignore R_*_NONE relocs for any target,\n\tnot just Alpha.  Comment on reloc size assumption.\n\n2015-11-08  Alan Modra  <amodra@gmail.com>\n\n\tELF unexec: _OBJC_ symbols in bss sections\n\n\tThis code assumed that there was only one bss section.  Rather than\n\tchecking for a particular index, check the section type.  Also, handle\n\tthe possibility that the section was SHT_NOBITS originally and is\n\tunchanged, in which case no clearing is needed (and sh_offset isn't\n\tnecessarily valid, which can lead to a wild memset).\n\n\t* src/unexelf.c (unexec): Properly handle _OBJC_ symbols in\n\tbss sections.\n\n2015-11-08  Alan Modra  <amodra@gmail.com>\n\n\tELF unexec: Symbol table patching\n\n\tNo st_shndx value larger than SHN_LORESERVE should be changed.\n\t* src/unexelf.c (unexec): Don't adjust any st_shndx larger than\n\tSHN_LORESERVE.  Error on SHN_XINDEX.\n\n2015-11-08  Alan Modra  <amodra@gmail.com>\n\n\tELF unexec: Merge Alpha and MIPS COFF debug handling\n\n\t* src/unexelf.c (unexec): Merge Alpha and MIPS COFF debug handling.\n\tDon't find .mdebug section index, find the section in the loop.\n\tAllow for unlikely possibility that .mdebug is located at sh_offset\n\tbefore bss segment, by calculating move from difference in\n\tsh_offset rather than just assuming new_data2_size.  Simplify\n\tcbLineOffset handling.\n\n2015-11-08  Alan Modra  <amodra@gmail.com>\n\n\tELF unexec: Tidy code\n\n\tSeparate out some of the more mechanical changes so following patches\n\tare smaller.\n\n\t* src/unexelf.c (unexec): Rearrange initialization of program\n\theader vars.  Use pointer vars in loops rather than indexing\n\tsection header array via macros.  Simplify _OBJC_ sym code\n\tand reloc handling code.\n\n2015-11-08  Alan Modra  <amodra@gmail.com>\n\n\tELF unexec: Correct section header index\n\n\tFirst a small fix.  The code incorrectly uses \"NEW_SECTION_H (n)\" when\n\tit should have been using \"NEW_SECTION_H (nn)\" to find the name of the\n\tsection currently being processed.  Of course, before the bss\n\tsections, n and nn have the same value, so this doesn't matter except\n\tin the case of .sbss.  For .sbss this probably meant .bss (most likely\n\tthe next section) was copied from memory.  A later patch removes the\n\tbogus .sbss handling anyway.\n\n\t* src/unexelf.c (unexec): Use correct index to look up names.\n\n2015-11-08  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix Bug#21841\n\n\t* lisp/filenotify.el (file-notify--rm-descriptor):\n\tUse `descriptor' instead of computing its value.\n\t(file-notify--descriptor): Additional argument FILE.  Adapt all callees.\n\t(file-notify-rm-watch): Use `descriptor' when calling file name handler.\n\t(Bug#21841)\n\n2015-11-08  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tRemove dirs in vc project roots from the the vc project library roots\n\n\t* lisp/progmodes/project.el (project-library-roots):\n\tRemove directories inside the project roots from the result.\n\t(https://lists.gnu.org/r/emacs-devel/2015-11/msg00536.html)\n\n2015-11-08  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tMove and rename xref-find-regexp to the project package\n\n\t* lisp/progmodes/project.el (project-find-regexp)\n\t(project--read-regexp)\n\t(project--find-regexp-in): New functions.\n\n\t* lisp/progmodes/xref.el (xref--find-xrefs): Extract from\n\txref--show-xrefs.  Use in existing callers in place of that\n\tfunction.\n\t(xref--show-xrefs): Only do the \"show\" part.\n\t(xref-find-regexp): Rename, more or less, to\n\tproject-or-libraries-find-regexp.\n\n2015-11-06  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tAbolish temporary buffer management for xref\n\n\t* lisp/progmodes/xref.el (xref--temporary-buffers)\n\t(xref--current)\n\t(xref--inhibit-mark-current)\n\t(xref--mark-selected): Remove.  Remove all references.\n\t(xref--show-xrefs): Do not construct the\n\tlist of the temporary buffers, nor pass it along.\n\n2015-11-06  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tRename \"search path\" to \"library roots\"\n\n\t* lisp/emacs-lisp/cl-seq.el (cl-set-difference): Retain the order\n\tof the elements from CL-LIST1.\n\n\t* test/automated/cl-lib-tests.el (cl-lib-test-set-functions):\n\tUpdate WRT to the above change.\n\n\t* lisp/progmodes/project.el (project-search-path-function): Rename\n\tto project-library-roots-function, update the documentation and\n\treferences.\n\t(project-search-path): Likewise, to project-library-roots.\n\t(project-roots): Clarify documentation.\n\t(project-vc-search-path): Likewise, to project-vc-library-roots.\n\t(project-library-roots): In addition to the renames, thread the\n\tresults through file-name-as-directory.\n\t(project-prune-directories): Accept a variable number of\n\targuments.  Rename to project-combine-directories.\n\t(project-subtract-directories): New function.\n\n\t* lisp/progmodes/elisp-mode.el (elisp--xref-find-references):\n\tAppend project-roots and project-library-roots together.\n\n\t* lisp/progmodes/etags.el (etags--xref-find-references): Ditto.\n\n2015-11-08  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPrefer xpalloc to doubling buffers by hand\n\n\t* src/lread.c (grow_read_buffer): New function, which uses xpalloc.\n\t(read1): Use it for simplicity.\n\t* src/macros.c (store_kbd_macro_char):\n\t* src/minibuf.c (read_minibuf_noninteractive):\n\t* src/term.c (encode_terminal_code):\n\t* src/xrdb.c (magic_db):\n\tPrefer xpalloc to growing buffers by hand.\n\tThis doesn\u2019t fix any bugs, but simplifies the code a bit.\n\n2015-11-08  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from gnulib\n\n\tThis incorporates:\n\t2015-11-05 timespec-sub: fix overflow bug; add tests\n\t2015-11-04 intprops: revise _WRAPV macros, revert _OVERFLOW\n\t2015-11-03 intprops: add parentheses\n\t* lib/intprops.h, lib/timespec-add.c, lib/timespec-sub.c:\n\tCopy from gnulib.\n\n2015-11-07  David Reitter  <david.reitter@gmail.com>\n\n\tProvide NS notification objects where required to eliminate warnings\n\n\t* src/nsterm.m (windowDidResize:, toggleFullScreen:):\n\tCall notification functions with notification objects\n\tas per delegate APIs.\n\n2015-11-07  Noam Postavsky  <npostavs@users.sourceforge.net>\n\n\tAdd test for bug #21824\n\n\t* test/automated/buffer-tests.el: New file.\n\t(overlay-modification-hooks-message-other-buf): New test.\n\n2015-11-07  Kelvin White  <kwhite@gnu.org>\n\n\t* lisp/erc/erc-pcomplete.el (pcomplete-erc-nicks): Fix bug#18771.\n\n2015-11-07  David Reitter  <david.reitter@gmail.com>\n\n\tIgnore fullscreen exit notifications on NS when frame is dead\n\n\t* src/nsterm.m (windowDidResize:, windowWillExitFullScreen:)\n\t(windowDidExitFullScreen:): Return if frame is dead.\n\tThese functions may be called when a fullscreen frame\n\tis closed; they are called before, not after.\n\n\tMay address Bug#21428.\n\n2015-11-07  Eli Zaretskii  <eliz@gnu.org>\n\n\tSpeed up lookup in redisplay--variables\n\n\t* lisp/frame.el (redisplay--variables): Make it a hash-table.\n\n\t* src/xdisp.c (maybe_set_redisplay): Access redisplay--variables\n\tas a hash-table.  This speeds up this function by an order of\n\tmagnitude: where previously a setq was slowed down by 100% by\n\tintroducing the maybe_set_redisplay test, it is now only 5%\n\tslower.\n\t(syms_of_xdisp) <redisplay--variables>: Doc fix.\n\n2015-11-07  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/cl-macs.el (cl-defstruct): Fix a bug.\n\n\tThe defsubst was being created as:\n\t    (cl-defsubst name (args) (\"DOC\") ...)\n\n\t* test/automated/cl-lib-tests.el (cl-lib-struct-constructors):\n\tAdd test.\n\n2015-11-07  Mihai Olteanu  <mihai_olteanu@fastmail.fm>  (tiny change)\n\n\tUpdate doc string of hexl-mode\n\n\t* lisp/hexl.el (hexl-mode): Doc fix.  (Bug#21800)\n\n2015-11-07  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix error in copy-abbrev-table\n\n\t* lisp/abbrev.el (define-abbrev): Don't erase the :abbrev-table-modiff\n\tproperty of the abbrev-table.  (Bug#21828)\n\n\t* test/automated/abbrev-tests.el: New file.\n\n2015-11-07  Michael Albinus  <michael.albinus@gmx.de>\n\n\tAdd test to auto-revert-tests.el for Bug#21841\n\n\t* test/automated/auto-revert-tests.el\n\t(auto-revert-test01-auto-revert-several-files): New test.\n\t(auto-revert-test02-auto-revert-tail-mode)\n\t(auto-revert-test03-auto-revert-mode-dired): Rename them.\n\n2015-11-07  Martin Rudalics  <rudalics@gmx.at>\n\n\t* doc/lispref/windows.texi (Coordinates and Windows): Fix typo.\n\n2015-11-07  Martin Rudalics  <rudalics@gmx.at>\n\n\tIn x_consider_frame_title don't set title of tooltip frames\n\n\t* src/xdisp.c (x_consider_frame_title): Return immediately for\n\ttooltip frames to avoid displaying empty tooltips.\n\n2015-11-06  Anders Lindgren  <andlind@gmail.com>\n\n\tFixed NextStep fullscreen problem (bug#21770).\n\n\t* src/nsterm.m (ns_constrain_all_frames): Don't constrain\n\tfullscreen frames.\n\n2015-11-06  Eli Zaretskii  <eliz@gnu.org>\n\n\tEnsure redisplay after evaluation\n\n\t* lisp/progmodes/elisp-mode.el (elisp--eval-last-sexp):\n\tRevert last change.\n\t* lisp/frame.el (redisplay--variables): Populate the\n\tredisplay--variables list.\n\t* src/xdisp.c (maybe_set_redisplay): New function.\n\t(syms_of_xdisp) <redisplay--variables>: New variable.\n\t* src/window.h (maybe_set_redisplay): Declare prototype.\n\t* src/data.c (set_internal): Call maybe_set_redisplay.  (Bug#21835)\n\n2015-11-06  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* test/automated/subr-tests.el (subr-test-when): Fix again.\n\n2015-11-06  Eli Zaretskii  <eliz@gnu.org>\n\n\tDon't invoke overlay modification hooks in wrong buffer\n\n\t* src/buffer.c (report_overlay_modification): When called with\n\tAFTER non-zero, don't invoke overlay modification hooks if the\n\tbuffer recorded in last_overlay_modification_hooks is different\n\tfrom the current buffer.  (Bug#21824)\n\n2015-11-06  Juanma Barranquero  <lekktu@gmail.com>\n\n\t* admin/notes/repo: Fix a few obsolete references to Bazaar.\n\n2015-11-06  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* test/automated/subr-tests.el (subr-test-when): Fix test.\n\n2015-11-06  Martin Rudalics  <rudalics@gmx.at>\n\n\tAvoid division by zero crash observed by Yuan MEI\n\n\tSee https://lists.gnu.org/r/emacs-devel/2015-11/msg00194.html.\n\n\t* src/dispnew.c (required_matrix_height, required_matrix_width):\n\tAvoid division by zero.\n\t* src/xterm.c (x_term_init): Init dpyinfo->smallest_font_height and\n\tdpyinfo->smallest_char_width to 1.\n\n2015-11-06  Eli Zaretskii  <eliz@gnu.org>\n\n\tEnsure redisplay after \"C-x C-e\"\n\n\t* lisp/progmodes/elisp-mode.el (elisp--eval-last-sexp): Make sure\n\tredisplay happens to account for any side effects of the evaluated\n\tsexp.  (Bug#21835)\n\n2015-11-06  Michael Albinus  <michael.albinus@gmx.de>\n\n\tSkip some file notification tests for cygwin\n\n\t* test/automated/file-notify-tests.el (file-notify--test-with-events):\n\tRemove argument TIMEOUT.  Adapt all callees.\n\t(file-notify-test02-events, file-notify-test04-file-validity):\n\tSkip for cygwin.  (Bug#21804)\n\n2015-11-05  Stephen Leake  <stephen_leake@stephe-leake.org>\n\n\t* lisp/progmodes/xref.el: Require semantic/symref during compilation.\n\n2015-11-05  Daiki Ueno  <ueno@gnu.org>\n\n\tSuppress redundant Pinentry startup messages\n\n\t* lisp/net/pinentry.el (pinentry-start): Add optional QUIET argument.\n\t* lisp/epg.el: Declare `pinentry-start'.\n\t(epg--start): Call `pinentry-start' with QUIET argument set.\n\n2015-11-05  Xue Fuqiao  <xfq.free@gmail.com>\n\n\t* doc/emacs/ack.texi (Acknowledgments): Updates.\n\n2015-11-05  Juanma Barranquero  <lekktu@gmail.com>\n\n\t* test/automated/elisp-mode-tests.el: Silence some run-time warnings.\n\t(xref-elisp-deftest): Bind `find-file-suppress-same-file-warnings' to t.\n\n2015-11-05  Tassilo Horn  <tsdh@gnu.org>\n\n\t* lisp/textmodes/tex-mode.el (tex--prettify-symbols-alist):\n\tAdd prettification support for \\times.\n\n2015-11-05  Juanma Barranquero  <lekktu@gmail.com>\n\n\t* test/automated/process-tests.el: Skip tests when bash is unavailable.\n\t(process-test-sentinel-accept-process-output)\n\t(process-test-sentinel-sit-for): skip-unless bash executable found.\n\n2015-11-05  Eli Zaretskii  <eliz@gnu.org>\n\n\tAdd test for bug #21831\n\n\t* test/automated/process-tests.el\n\t(start-process-should-not-modify-arguments): New test.  (Bug#21831)\n\tSuggested by Nicolas Richard <youngfrog@members.fsf.org>\n\n2015-11-04  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/eieio-compat.el: Typo caught by tests.\n\n\t(eieio--generic-static-object-generalizer): Fix typo.\n\t* test/automated/eieio-tests.el: Byte-compile it again.  It looks\n\tlike the underlying cause of bug#17852 was fixed in the mean time.\n\n2015-11-04  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\tRevert \"* lisp/subr.el (when): Use `macroexp-progn'\"\n\n\tThis reverts commit 8e843831eaf271801836b7a3e4dd3b4fb0bb72b8.\n\tIt breaks bootstrapping (duh).\n\n2015-11-04  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/files.el (report-errors): Obsolete.\n\n\t(normal-mode, hack-local-variables, dir-locals-find-file):\n\tUse `with-demoted-errors' instead.\n\n2015-11-04  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/subr.el (when): Use `macroexp-progn'.\n\n\t* test/automated/subr-tests.el (subr-test-when): New test.\n\n2015-11-04  Juanma Barranquero  <lekktu@gmail.com>\n\n\t* lisp/progmodes/xref.el: Doc fixes.\n\t(xref-make-file-location, xref-make-buffer-location, xref-make)\n\t(xref-make-bogus-location, xref-make-match): Add cross-references.\n\t(xref--insert-xrefs): Fix typo in docstring.\n\n2015-11-04  Anders Lindgren  <andlind@gmail.com>\n\n\tRender fringe bitmaps correctly on NextStep (bug#21301)\n\n\tThe fringe bitmaps were inverted, the background was not transparent,\n\tthe image data was horizontally mirrored, and periodic fringe bitmaps\n\twere not supported.\n\n\t* src/nsimage.m ([EmacsImage initFromXBM:width:height:fg:bg:]):\n\tWhen both background and foreground colors are 0, set the background\n\talpha channel to 0 (making the background transparent).  When\n\tcopying the image data, do this from the most significant bit\n\t(leftmost) to the least (rightmost), to avoid mirroring.\n\t* src/nsterm.m (ns_draw_fringe_bitmap): Don't invert the image bits.\n\tAdd support for periodic images (e.g. the empty line indicator).\n\n2015-11-03  Michael Heerdegen  <michael_heerdegen@web.de>\n\n\t* lisp/emacs-lisp/pcase.el (pcase): Tweak docstring.\n\n2015-11-03  Nicolas Petton  <nicolas@petton.fr>\n\n\t* admin/MAINTAINERS: Add seq-tests.el, map-tests.el, and thunk-tests.el.\n\n\t* admin/MAINTAINERS: Add thunk.el.\n\n2015-11-03  Jay Belanger  <jay.p.belanger@gmail.com>\n\n\t* lisp/calc/calc.el (calc-bug-address): Change maintainer address.\n\n2015-11-03  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix a stupid error in gfilenotify.c\n\n\t* src/gfilenotify.c (dir_monitor_callback): Cancel monitor only,\n\tif we've got a `deleted' signal AND the file name is the watched one.\n\n2015-11-03  Stephen Leake  <stephen_leake@stephe-leake.org>\n\n\tFix Bug#21816; case insensitive file system in elisp-mode-tests.el\n\n\t* test/automated/elisp-mode-tests.el (xref-elisp-test-run):\n\tUse case-insensitive string compare for file names.\n\t(emacs-test-dir): Add 'downcase' to cause case differences (at\n\tleast on my system).\n\n2015-11-02  Juanma Barranquero  <lekktu@gmail.com>\n\n\tflymake-tests.el (warning-predicate-rx-gcc): Fix check\n\n\t* test/automated/flymake-tests.el (warning-predicate-rx-gcc):\n\tAlso check that \"make\" is available, not just \"gcc\".\n\n2015-11-02  Ken Brown  <kbrown@cornell.edu>\n\n\tDocument behavior of collation on Cygwin\n\n\t* test/automated/fns-tests.el (fns-tests-collate-sort): Mark as\n\texpected failure on Cygwin.\n\t* doc/lispref/strings.texi (Text Comparison): Document that\n\tpunctuation and whitespace are not ignored for sorting on Cygwin.\n\n2015-11-02  Dani Moncayo  <dmoncayo@gmail.com>\n\n\t* build-aux/msys-to-w32: Prevent double slashes in w32 path list.\n\n2015-11-01  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/progmodes/f90.el (f90-no-block-limit): Add associate.\n\t(Bug#21794)\n\t* test/automated/f90.el (f90-test-bug21794): New test.\n\n2015-11-01  Juanma Barranquero  <lekktu@gmail.com>\n\n\tFix incompatibility with TCC in test for bug#18745\n\n\t* test/automated/process-tests.el (process-test-quoted-batfile):\n\tRemove spaces unrelated to the bug being tested.\n\n2015-11-01  Michael Albinus  <michael.albinus@gmx.de>\n\n\tImprove completion in tramp-gvfs.el\n\n\t* lisp/net/tramp-gvfs.el (tramp-zeroconf-parse-device-names):\n\tRename from `tramp-zeroconf-parse-service-device-names'.\n\t(tramp-zeroconf-parse-webdav-device-names): Remove.  Code merged\n\twith `tramp-zeroconf-parse-device-names'.\n\t(tramp-gvfs-parse-device-names): New defun.\n\t(top): Use it when `tramp-zeroconf-parse-device-names' is not\n\tapplicable.\n\n\t* lisp/net/tramp.el (tramp-set-completion-function): The argument\n\tcould also be a zeroconf service type.\n\n2015-10-31  Thomas Fitzsimmons  <fitzsim@fitzsim.org>\n\n\t* lisp/net/ntlm.el: Change version to 2.0.0.\n\n2015-10-31  Juanma Barranquero  <lekktu@gmail.com>\n\n\tFix bug#21762\n\t* lisp/progmodes/python.el (python-syntax-closing-paren-p): Check with\n\t`eql' instead of `=' to accommodate the case that (syntax-after (point))\n\treturns nil.\n\t* test/automated/python-tests.el (python-indent-inside-paren-7):\n\tNew test.\n\n2015-10-31  Juanma Barranquero  <lekktu@gmail.com>\n\n\t* test/automated/python-tests.el: Avoid warnings.\n\t(python-tests-with-temp-buffer, python-tests-with-temp-file):\n\tBind `python-indent-guess-indent-offset' to nil.\n\n2015-10-31  Juanma Barranquero  <lekktu@gmail.com>\n\n\t* src/alloc.c: Silence compiler warnings.\n\t(pointers_fit_in_lispobj_p, mmap_lisp_allowed_p): #ifdef DOUG_LEA_MALLOC.\n\n2015-10-31  Jackson Ray Hamilton  <jackson@jacksonrayhamilton.com>\n\n\t* etc/NEWS: Fix js-jsx-mode entry punctuation.\n\n2015-10-31  Jackson Ray Hamilton  <jackson@jacksonrayhamilton.com>\n\n\tAdd JSX indentation via js-jsx-mode  (Bug#21799)\n\n\t* lisp/progmodes/js.el: Add JSX indentation support.\n\t(js--jsx-end-tag-re)\n\t(js--jsx-after-tag-re): New variables.\n\t(js--jsx-find-before-tag)\n\t(js--jsx-indented-element-p)\n\t(js--as-sgml)\n\t(js--expression-in-sgml-indent-line)\n\t(js-jsx-indent-line)\n\t(js-jsx-mode): New functions.\n\t* test/indent/js-jsx.js: New file.\n\t* etc/NEWS: Add information about js-jsx-mode.\n\n2015-10-31  Michael Albinus  <michael.albinus@gmx.de>\n\n\tMinor fix in filenotify.el\n\n\t* lisp/filenotify.el (file-notify--event-file-name)\n\t(file-notify--event-file1-name): Normalize result with\n\t`directory-file-name'.\n\n2015-10-31  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid errors in redisplay--pre-redisplay-functions\n\n\t* lisp/emacs-lisp/cursor-sensor.el (cursor-sensor--detect): Don't\n\tuse 'bobp', instead compare window-point with 1.  (Bug#21730)\n\n2015-10-30  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from gnulib\n\n\tThis incorporates:\n\t2015-10-30 intprops: add WRAPV and const flavors for GCC 5\n\t2015-10-25 stdalign: port to Sun C 5.9\n\t* doc/misc/texinfo.tex, lib/intprops.h, lib/stdalign.in.h:\n\tCopy from gnulib.\n\n2015-10-30  Eli Zaretskii  <eliz@gnu.org>\n\n\t* src/w32proc.c (_NLSCMPERROR): Fix a typo in the name of this macro.\n\t(w32_compare_strings): Adjust for the correction.\n\n2015-10-30  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* test/automated/vc-tests.el (vc-test--state)\n\t(vc-test--working-revision, vc-test--checkout-model):\n\tAdd result messages.\n\n2015-10-30  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* test/automated/faces-tests.el: Add another test\n\n2015-10-30  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/faces.el (faces--attribute-at-point): Fix bug\n\tintroduced by previous commit.\n\n2015-10-30  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* test/automated/faces-tests.el: New file.\n\n2015-10-30  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/faces.el: Refactor common code and fix a bug.\n\t(faces--attribute-at-point): New function.  Fix a bug when the\n\tface at point is a list of faces and the desired attribute is not\n\ton the first one.\n\t(foreground-color-at-point, background-color-at-point): Use it.\n\n2015-10-30  Przemys\u0142aw Wojnowski  <esperanto@cumego.com>\n\n\t* etc/tutorials/TUTORIAL.translators: Fix PL names.\n\n2015-10-30  Juanma Barranquero  <lekktu@gmail.com>\n\n\t* lisp/character-fold.el: Provide `character-fold'.\n\n2015-10-30  Tassilo Horn  <tsdh@gnu.org>\n\n\t* etc/themes/tsdh-dark-theme.el (tsdh-dark): Add more faces\n\tfor Gnus and ivy.\n\n2015-10-30  Michael Albinus  <michael.albinus@gmx.de>\n\n\tSome minor fixes for tramp-gvfs.el\n\n\t* lisp/net/tramp-gvfs.el (tramp-gvfs-handle-file-attributes):\n\tAn attribute returned by gvfs-info might be empty.  In case of\n\tundetermined uid or gid, return \"UNKNOWN\" or -1, respectively.\n\t(tramp-zeroconf-parse-service-device-names): New defun.\n\tDerived from `tramp-zeroconf-parse-workstation-device-names'.\n\t(top): Add completion functions for \"afp\" and \"smb\" methods.\n\n2015-10-30  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* test/automated/character-fold-tests.el: New file\n\n2015-10-30  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* test/automated/sort-tests.el: New file.\n\tTests in this file are randomly generated and then tested with\n\tregular, reverse, and case-fold sorting.\n\n2015-10-30  Eli Zaretskii  <eliz@gnu.org>\n\n\tDescribe known problems with pinning Emacs to taskbar\n\n\t* etc/PROBLEMS: Describe the problem with pinning Emacs to taskbar\n\ton Windows 10.  For the details, see the discussion starting at\n\thttps://lists.gnu.org/r/help-emacs-windows/2015-09/msg00000.html.\n\n2015-10-30  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/isearch.el: Avoid an error that blocks isearch.\n\t(isearch-update): Don't error if `isearch--current-buffer' has\n\tbeen killed.\n\n\t* test/automated/isearch-tests.el (isearch--test-update):\n\tNew file.\n\n2015-10-30  Phil Sainty  <psainty@orcon.net.nz>\n\n\tFix documentation of 'beginning/end-of-buffer'\n\n\t* lisp/simple.el (beginning-of-buffer, end-of-buffer): Clarify\n\tconditions under which the mark will be pushed at the previous\n\tposition.  (Bug#21748)\n\n2015-10-30  Tassilo Horn  <tsdh@gnu.org>\n\n\tAdd RefTeX feature idea: editing RefTeX TOC buffers\n\n\tMore face defs for ivy, swiper, ace-window, eshell\n\n2015-10-29  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/gnus/auth-source.el: Silence lexical-binding warnings.\n\t(auth-source-netrc-use-gpg-tokens): Simplify (symbol-value 'VAR) to\n\tjust VAR.\n\t(auth-source-backend-parse): Use make-instance.\n\t(auth-source-search): Remove unused key args.\n\tRemove unused vars `accessor-key' and `backend'.  Avoid `eval'.\n\t(auth-source-search-backends): Use slot names rather than their initarg.\n\t(auth-source-netrc-create):\n\t(auth-source-delete):\n\t(auth-source-secrets-create, auth-source-plstore-search)\n\t(auth-source-macos-keychain-create, auth-source-macos-keychain-search)\n\t(auth-source-plstore-create, auth-source-netrc-search)\n\t(auth-source-netrc-parse): Remove unused key args.\n\t(auth-source-forget+): Simplify the arglist.\n\t(auth-source-macos-keychain-search-items)\n\t(auth-source-token-passphrase-callback-function): Mark unused args.\n\t(auth-source-epa-extract-gpg-token): Remove unused var `plain'.\n\t(pp-escape-newlines): Declare.\n\t(auto-source--symbol-keyword): New function.\n\t(auth-source-plstore-create, auth-source-netrc-create)\n\t(auth-source-netrc-normalize): Use it.\n\t(auth-source-netrc-search): Don't pass :delete to\n\tauth-source-netrc-parse since it doesn't use it.\n\t(auth-source-plstore-create, auth-source-netrc-create): Use plist-get\n\tsymbol-value to index in keyword args.\n\t(auth-source-macos-keychain-result-append): Avoid setq.\n\t(auth-source-netrc-create): Remove unused vars `file' and `add'.\n\t(auth-source-user-or-password): Remove unused var `cname'.\n\n2015-10-29  Juri Linkov  <juri@linkov.net>\n\n\t* lisp/dired.el (dired-unmark-all-files-query): Declare.\n\t(dired-unmark-all-files): Let-bind it and use instead of \u2018query\u2019.\n\t(Bug#21746)\n\n2015-10-29  Juri Linkov  <juri@linkov.net>\n\n\t* lisp/ielm.el (ielm-indent-line): Use non-nil arg of comint-bol\n\tto go to the beginning of text line instead of command line.\n\thttps://lists.gnu.org/r/emacs-devel/2015-10/msg02360.html\n\n2015-10-29  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix encoding of saving *Help* buffers\n\n\t* lisp/help-fns.el (describe-function-1): If we use curved quotes,\n\tset help buffer's buffer-file-coding-system to UTF-8.  (Bug#21780)\n\n2015-10-29  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/cl-generic.el: Add (major-mode MODE) context.\n\t(cl--generic-derived-specializers): New function.\n\t(cl--generic-derived-generalizer): New generalizer.\n\t(cl-generic-generalizers): New specializer (derived-mode MODE).\n\t(cl--generic-split-args): Apply the rewriter, if any.\n\t(cl-generic-define-context-rewriter): New macro.\n\t(major-mode): Use it to define a new context-rewriter, so we can write\n\t`(major-mode MODE)' instead of `(major-mode (derived-mode MODE))'.\n\n\t* lisp/frame.el (window-system): New context-rewriter so we can write\n\t`(window-system VAL)' instead of (window-system (eql VAL)).\n\t(cl--generic-split-args): Apply the rewriter, if any.\n\t(frame-creation-function): Use the new syntax.\n\n\t* lisp/term/x-win.el (window-system-initialization)\n\t(handle-args-function, frame-creation-function)\n\t(gui-backend-set-selection, gui-backend-selection-owner-p)\n\t(gui-backend-selection-exists-p, gui-backend-get-selection):\n\t* lisp/term/w32-win.el (window-system-initialization)\n\t(handle-args-function, frame-creation-function)\n\t(gui-backend-set-selection, gui-backend-get-selection)\n\t(gui-backend-selection-owner-p, gui-backend-selection-exists-p):\n\t* lisp/term/pc-win.el (gui-backend-get-selection)\n\t(gui-backend-selection-exists-p, gui-backend-selection-owner-p)\n\t(gui-backend-set-selection, window-system-initialization)\n\t(frame-creation-function, handle-args-function):\n\t* lisp/term/ns-win.el (window-system-initialization)\n\t(handle-args-function, frame-creation-function)\n\t(gui-backend-set-selection, gui-backend-selection-exists-p)\n\t(gui-backend-get-selection):\n\t* lisp/startup.el (handle-args-function):\n\t* lisp/term/xterm.el (gui-backend-get-selection)\n\t(gui-backend-set-selection): Use the new syntax.\n\n2015-10-29  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* test/indent/css-mode.css: Add tests for url(...) syntax.\n\n2015-10-29  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/smie.el: Use `declare' for `pure'.\n\t(smie-precs->prec2, smie-merge-prec2s, smie-bnf->prec2)\n\t(smie-prec2->grammar): Use `declare'.\n\n2015-10-29  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/cl-generic.el: Accommodate future changes.\n\t(cl--generic-generalizer): Add `name' field.\n\t(cl-generic-make-generalizer): Add corresponding `name' argument.\n\t(cl-generic-define-generalizer): New macro.\n\t(cl--generic-head-generalizer, cl--generic-eql-generalizer)\n\t(cl--generic-struct-generalizer, cl--generic-typeof-generalizer)\n\t(cl--generic-t-generalizer): Use it.\n\t(cl-generic-ensure-function): Add `noerror' argument.\n\t(cl-generic-define): Use it so we don't follow aliases.\n\t(cl-generic-define-method): Preserve pre-existing ordering of methods.\n\t(cl--generic-arg-specializer): New function.\n\t(cl--generic-cache-miss): Use it.\n\t(cl-generic-generalizers): Only fset a temporary definition\n\tduring bootstrap.\n\t(cl--generic-struct-tag, cl--generic-struct-specializers):\n\tAllow extra arguments.\n\n\t* lisp/emacs-lisp/eieio-compat.el\n\t(eieio--generic-static-symbol-generalizer)\n\t(eieio--generic-static-object-generalizer):\n\tUse cl-generic-define-generalizer.\n\t(eieio--generic-static-symbol-specializers): Allow extra arguments.\n\n\t* lisp/emacs-lisp/eieio-core.el (eieio--generic-generalizer)\n\t(eieio--generic-subclass-generalizer):\n\tUse cl-generic-define-generalizer.\n\t(eieio--generic-subclass-specializers): Allow extra arguments.\n\n2015-10-29  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/bytecomp.el (compile-defun): Add defvars in scope.\n\n2015-10-29  Michael Albinus  <michael.albinus@gmx.de>\n\n\tAdd \"afp\" method to Tramp\n\n\t* doc/misc/tramp.texi (GVFS based methods): Describe `afp' method.\n\n\t* lisp/net/tramp-gvfs.el (tramp-gvfs-methods): Add \"afp\" method.\n\t(tramp-gvfs-handle-expand-file-name)\n\t(tramp-gvfs-handler-mounted-unmounted)\n\t(tramp-gvfs-connection-mounted-p, tramp-gvfs-mount-spec)\n\t(tramp-gvfs-maybe-open-connection): Support also \"afp\".\n\t(tramp-gvfs-handle-file-attributes): Handle the case of empty\n\t\"owner::user\" and \"owner::group\" entries.\n\n2015-10-29  Andy Moreton  <andrewjmoreton@gmail.com>\n\n\tHandle negative coordinates in \u2018x_calc_absolute_position\u2019\n\n\t* src/w32term.c (x_calc_absolute_position): Find display origin to\n\tallow for negative coordinates.\n\n2015-10-28  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t(internal--syntax-propertize): Save match-data here (bug#21766)\n\n\t* lisp/emacs-lisp/syntax.el (internal--syntax-propertize): Save match-data.\n\t* lisp/simple.el (delete-trailing-whitespace): Undo last change.\n\n2015-10-28  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tDon't require default-directory to end with a slash\n\n\t* doc/lispref/files.texi (Magic File Names): Document the change\n\tin unhandled-file-name-directory.\n\n\t* lisp/url/url-handlers.el\n\t(url-handler-unhandled-file-name-directory): Update accordingly.\n\n\t* src/buffer.c (default-directory): Update the docsting.\n\n\t* src/fileio.c (unhandled-file-name-directory): Default to calling\n\t`file-name-as-directory'\n\t(https://lists.gnu.org/r/emacs-devel/2015-10/msg02294.html).\n\n2015-10-28  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/isearch.el: Delete some outdated comments.\n\n2015-10-28  Vibhav Pant  <vibhavp@gmail.com>\n\n\tFix eshell/clear not working if the output has a small line count\n\n\t* lisp/eshell/esh-mode.el (eshell/clear): Use (window-size) as the\n\tnumber of newlines to be inserted. This fixes the issue where\n\teshell/clear wouldn't work if the prompt was not at the bottom of the\n\twindow, and the output wasn't too long.\n\n2015-10-28  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/files.el (write-file): Use vc-refresh-state.\n\n\t* lisp/autorevert.el (auto-revert-handler): Use vc-refresh-state.\n\n\t* lisp/vc/pcvs.el (cvs-revert-if-needed): Use vc-refresh-state.\n\n2015-10-28  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/macroexp.el: Tweak macroexp-if optimizations.\n\t(macroexp-unprogn): Make sure we never return an empty list.\n\t(macroexp-if): Remove unused (and unsafe) optimization.\n\tOptimize (if A T (if B T E)) into (if (or A B) T E) instead, which does\n\toccur occasionally.\n\n2015-10-28  Juanma Barranquero  <lekktu@gmail.com>\n\n\tFix bug#21766 and add test\n\t* lisp/simple.el (delete-trailing-whitespace): Save match data when\n\tcalling `skip-syntax-backward'.\n\t* test/automated/simple-test.el (simple-delete-trailing-whitespace):\n\tNew test.\n\n2015-10-28  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* doc/lispref/sequences.texi (Sequence Functions): Fix typo.\n\n2015-10-28  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* src/dispnew.c (init_display): Simplify overflow checking.\n\n2015-10-28  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/character-fold.el (character-fold-to-regexp): Fix case\n\twhere string ends in space\n\n2015-10-28  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/seq.el (seq-mapn): New function.\n\n\t* doc/lispref/sequences.texi (Sequence Functions): Document seq-mapn.\n\n2015-10-28  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/character-fold.el: Make compatible with lax-whitespace.\n\t(character-fold-to-regexp): Rework internals to play nice with\n\tlax-whitespacing.\n\n\tWhen the user types a space, we want to match the table entry for\n\t?\\s, which is generally a regexp like \"[ ...]\".  However, the\n\t`search-spaces-regexp' variable doesn't \"see\" spaces inside these\n\tregexp constructs, so we need to use \"\\\\( \\\\|[ ...]\\\\)\" instead (to\n\tmanually expose a space).\n\n\tFurthermore, the lax search engine acts on a bunch of spaces, not\n\ton individual spaces, so if the string contains sequential spaces\n\tlike \"  \", we need to keep them grouped together like this:\n\t\"\\\\(  \\\\|[ ...][ ...]\\\\)\".\n\n2015-10-28  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/isearch.el: Refactor momentary messages.\n\t(isearch--momentary-message): New function.\n\t(isearch-toggle-lax-whitespace, isearch-toggle-case-fold)\n\t(isearch-toggle-invisible): Use it.\n\n2015-10-28  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/isearch.el: Define all toggles with `isearch-define-mode-toggle'.\n\t(isearch-define-mode-toggle): New macro.\n\t(isearch-toggle-invisible): Rename to\n\t`isearch-define-mode-toggle'.\n\t(isearch-toggle-case-fold, isearch-toggle-invisible)\n\t(isearch-toggle-regexp, isearch-toggle-lax-whitespace): Define\n\twith `isearch-define-mode-toggle'.\n\n2015-10-28  Michael Albinus  <michael.albinus@gmx.de>\n\n\tAvoid using `add-to-list' on a let-local var in tramp-smb.el\n\n\t* lisp/net/tramp-compat.el (tramp-compat-delete-dups): New defun.\n\t* lisp/net/tramp-smb.el (tramp-smb-handle-directory-files): Use it.\n\n2015-10-28  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* lisp/net/tramp-smb.el (tramp-smb-handle-directory-files):\n\tRevert 692bce5b9eccfae19ae2a5a23a9ccd8d6bf86076, `delete-dups'\n\tdoes not exist in XEmacs 21.4.\n\n2015-10-28  Anders Lindgren  <andlind@gmail.com>\n\n\tFixed OS X startup crash\n\n\tInput events started to arrive before ns_term_init() was finished.\n\tSolved by blocking input.  This also seems to correct the \"You\n\tcan't open the application \"Emacs\" because it may be damaged or\n\tincomplete\" error issued when double-clicking on the Emacs\n\tapplication.\n\n\t* src/nsterm.m (ns_constrain_all_frames, ns_init_term): Block input.\n\t* src/nsterm.m (ns_send_appdefined, EmacsApp): Trace output.\n\n2015-10-28  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* src/process.c (Fget_buffer_process): Improve docstring.\n\tDocument the fact that it doesn't return dead processes.\n\n2015-10-28  Anders Lindgren  <andlind@gmail.com>\n\n\tFix incorrect NextStep tool-bar-mode -- wrong number of rows in frame.\n\n\t* src/nsterm.h (struct ns_output): New flag, in_animation.\n\t* src/nsfns.m (Fx_create_frame): Initialize in_animation flag.\n\t* src/nsmenu.m (free_frame_tool_bar, update_frame_tool_bar): Set\n\tin_animation flag around call to \"setVisible\". Set new tool bar\n\theight before call to setVisible.\n\t* src/nsterm.m (x_set_window_size): Don't call [view setRow:\n\tandColumns:] as this fools the subsequent call to updateFrameSize\n\tfrom performing the real resize.\n\t(windowDidResize): Don't update anything when in_animation is\n\tnon-zero.\n\n\tTrace output.\n\n\t* src/nsmenu.m (free_frame_tool_bar, update_frame_tool_bar)\n\t(EmacsToolbar):\n\t* src/nsterm.m (x_set_window_size, updateFrameSize)\n\t([EmacsView setRows: andColumns:])\n\n2015-10-28  Nicolas Petton  <nicolas@petton.fr>\n\n\t* lisp/emacs-lisp/thunk.el (thunk-delay): Fix the macro.\n\n2015-10-28  Tassilo Horn  <tsdh@gnu.org>\n\n\tPrettify TeX macros not ending in a word char\n\n\t* lisp/textmodes/tex-mode.el (tex--prettify-symbols-compose-p):\n\tPrettify macros which don't end in a word character.\n\n2015-10-27  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tPipe Hg commit descriptions through 'tabindent'\n\n\t* lisp/vc/vc-hg.el (vc-hg-log-format): Pipe commit description\n\tthrough 'tabindent'.\n\t(vc-hg-log-view-mode): Set tab-width to 2 locally.\n\t(https://lists.gnu.org/r/emacs-devel/2015-10/msg02259.html)\n\n2015-10-27  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/net/tramp-smb.el: Avoid using `add-to-list' on a let-local var.\n\t(tramp-smb-handle-directory-files): Use `delete-dups'.\n\n\t* lisp/net/tramp.el (auto-save-file-name-transforms): Declare.\n\n2015-10-27  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/international/ccl.el: Use lexical-binding.\n\t(ccl-compile-if): Remove unused var `false-ic'.\n\t(ccl-compile-write-repeat): Remove unused var `i'.\n\t(ccl-compile-map-single): Remove unused var `id'.\n\t(ccl-dump, ccl-dump-binary): Use explicit let-binding to bind the\n\tdynamic var `ccl-code'.\n\n2015-10-27  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/json.el (json-new-object): Optimize trivial `list' call.\n\n2015-10-27  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/help.el: Fix bug with incorrect arglist string.\n\t(help-add-fundoc-usage): Don't mistake a mis-formatted string\n\tfor a list.\n\n2015-10-27  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/gnus/gnus-topic.el: Silence some warnings.\n\t(gnus-topic-prepare-topic): Remove unused var `topic'.\n\t(gnus-topic-remove-topic): Mark unused arg `hide'.\n\t(gnus-tmp-header): Declare.\n\t(gnus-topic-goto-missing-group): Remove unused var `entry'.\n\t(gnus-topic-unmark-topic): Mark unused arg `dummy'.\n\t(gnus-topic-copy-matching): Mark unused arg `copyp'.\n\tMove initialization of `topic' into its declaration.\n\n2015-10-27  Stephen Leake  <stephen_leake@stephe-leake.org>\n\n\tMinor CEDET fixes\n\n\t* lisp/cedet/cedet-global.el (cedet-gnu-global-gtags-call):\n\tHandle warnings from gtags about invalid options.\n\t(cedet-gnu-global-create/update-database): Do incremental update\n\tproperly.\n\n\t* lisp/cedet/ede/generic.el (ede-enable-generic-projects):\n\tGet monotone root right.\n\n2015-10-27  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFall back to polling in autorevert when needed\n\n\t* lisp/autorevert.el (auto-revert-notify-handler): When a\n\t`stopped' event arrives from file notification, fall back to polling.\n\n\t* test/automated/file-notify-tests.el\n\t(file-notify-test03-autorevert): Extend test for polling when file\n\tnotification ceases to work.\n\n2015-10-27  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tShow full commit messages in 'hg log' when appropriate\n\n\t* lisp/vc/vc-hg.el (vc-hg-log-format): New variable.\n\t(vc-hg-print-log, vc-hg-expanded-log-entry): Use it.\n\t(https://lists.gnu.org/r/emacs-devel/2015-10/msg02191.html)\n\n2015-10-27  Nicolas Petton  <nicolas@petton.fr>\n\n\tUse a plain SVG file for the icon\n\n\t* etc/images/icons/hicolor/scalable/apps/emacs.svg: Use a plain SVG\n\t  format instead of the Inkscape SVG format.\n\n2015-10-27  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix subtle bug in auto-revert-tests.el\n\n\t* test/automated/auto-revert-tests.el\n\t(auto-revert-test02-auto-revert-mode-dired): Narrow *Messages*\n\tbuffer where it belongs to.  (Bug#21668)\n\n2015-10-26  Nicolas Petton  <nicolas@petton.fr>\n\n\t* lisp/emacs-lisp/map.el: Better docstrings.\n\n\t* lisp/emacs-lisp/seq.el: Better docstrings.\n\n\t* lisp/emacs-lisp/seq.el: Rename all seq arguments to sequence.\n\n2015-10-26  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\t* lisp/emacs-lisp/ert.el: Print results without newline escaping.\n\n2015-10-26  Stephen Leake  <stephen_leake@stephe-leake.org>\n\n\tClarify that load-path contents should be directory file names\n\n\t* doc/lispref/files.texi (Directory Names): Define and use \"directory\n\tfile name\".  Recommend `expand-file-name'.\n\n\t* src/lread.c (load-path): Fix doc string; elements are directory file\n\tnames.\n\n2015-10-26  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix simple-test.el test\n\n\t* test/automated/simple-test.el (simple-test--dummy-buffer):\n\tMake sure indentation doesn't use TABs, otherwise the 6th test\n\tmight fail.\n\n2015-10-26  Mark Oteiza  <mvoteiza@udel.edu>\n\n\t* lisp/net/eww.el (eww-bookmark-prepare): Use truncate-string-to-width.\n\t`substring' does not account for full width characters.\n\n2015-10-26  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFurther work on `stopped' events in filenotify.el\n\n\t* doc/lispref/os.texi (File Notifications): Rework examples.\n\n\t* lisp/filenotify.el (file-notify--rm-descriptor): Optional parameter.\n\t(file-notify--rm-descriptor, file-notify-callback): Improve check\n\tfor sending `stopped' event.\n\t(file-notify-add-watch): Check for more events for `inotify'.\n\n\t* test/automated/file-notify-tests.el\n\t(file-notify--test-expected-events): New defvar.\n\t(file-notify--test-with-events): Use it.\n\t(file-notify--test-cleanup): Make it more robust when deleting\n\tdirectories.\n\t(file-notify--test-event-test): Check also for watched directories.\n\t(file-notify--test-event-handler): Suppress temporary .#files.\n\t(file-notify-test02-events, file-notify-test04-file-validity):\n\tRework `stopped' events.\n\t(file-notify-test05-dir-validity): Wait for events when appropriate.\n\n2015-10-26  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* src/keyboard.c (post-command-hook): Shorten docstring.\n\n2015-10-26  Tassilo Horn  <tsdh@gnu.org>\n\n\tFix infinite loop in sh-script's SMIE code\n\n\t* lisp/progmodes/sh-script.el (sh-smie-sh-forward-token): Fix infinite\n\tloop (bug#21747).\n\n2015-10-25  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/isearch.el (search-default-regexp-mode): Revert to nil.\n\tCharacter-fold search _still_ doesn't play well with\n\tlax-whitespace.  So disable it by default (again) for now.\n\n2015-10-25  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/isearch.el: No visual feedback for default search mode.\n\tDuring an isearch where character-folding is the default, we don't\n\twant to take up minibuffer space just to tell the user that\n\t\"Char-fold \" is on.  The same goes for other modes, if the user\n\tchanges the default.  In contrast, if the user toggles OFF the\n\tdefault mode, they should see \"Literal\", to distinguish it from\n\tthe default mode.\n\t(isearch--describe-regexp-mode): Return \"\" if describing the\n\tdefault mode, and return \"literal \" if describing a plain search\n\tand it is not default.\n\n2015-10-25  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* test/automated/simple-test.el: New file.\n\tDefine tests for `newline' and `open-line'.\n\n2015-10-25  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/simple.el (open-line): Integrate with electric-indent-mode.\n\tAlso run `post-self-insert-hook' when called interactively.\n\n2015-10-25  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/simple.el (open-line): Fix docstring.\n\tAlso explain apparently redundant line.\n\n2015-10-25  Thomas Fitzsimmons  <fitzsim@fitzsim.org>\n\t    Alexandru Harsanyi  <AlexHarsanyi@gmail.com>\n\n\tSync with soap-client repository, version 3.0.1\n\n\t* lisp/net/soap-client.el, lisp/net/soap-inspect.el:\n\tBump version to 3.0.1.\n\n\t* lisp/net/soap-client.el, lisp/net/soap-inspect.el: Update home page.\n\n2015-10-25  Eli Zaretskii  <eliz@gnu.org>\n\n\t* lisp/progmodes/grep.el (grep): Doc fix.  (Bug#21754)\n\n2015-10-25  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* src/keyboard.c (post-command-hook): Extend the docstring.\n\tMainly, explain how to use it without hanging Emacs, or giving the\n\timpression that it is hanging.  Also mention `pre-command-hook'.\n\t(pre-command-hook): Mention `post-command-hook'.\n\n2015-10-25  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/custom.el (custom-declare-variable): Shorten code again.\n\tWithout using pcase this time.  We can't use pcase because it is\n\tloaded after custom in loadup.el.  Also add a comment explaining\n\tthis to future dummies like me.\n\n2015-10-25  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* doc/lispref/os.texi (File Notifications): Document `stopped event'.\n\n2015-10-25  Michael Albinus  <michael.albinus@gmx.de>\n\n\tIntroduce `stopped' event in file notification\n\n\t* lisp/filenotify.el (file-notify--rm-descriptor): New defun.\n\t(file-notify-rm-watch): Use it.\n\t(file-notify-callback): Implement `stopped' event.\n\t(file-notify-add-watch): Mention `stopped' in the docstring.\n\tCheck, that upper directory exists.\n\n\t* test/automated/file-notify-tests.el (file-notify-test01-add-watch):\n\tAdd two test cases.\n\t(file-notify-test02-events): Handle also `stopped' event.\n\t(file-notify-test04-file-validity): Add another test case.\n\n2015-10-25  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRevert commit that broke 'make bootstrap'\n\n\t* lisp/custom.el (custom-declare-variable): Revert commit\n\t79fac080d277fed07b3c192890ad59d36d9f83b6.  custom.el needs to work\n\teven when pcase has not been defined yet, when doing bootstrapping.\n\n2015-10-25  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort recent inline functions fix to Standard C\n\n\t* src/lisp.h (LISP_MACRO_DEFUN, LISP_MACRO_DEFUN_VOID): Remove.\n\tAll uses rewritten to define the function directly rather than to\n\tuse a macro to define the function.  This conforms to Standard C,\n\twhich does not allow stray semicolons at the top level.  I hope it\n\talso avoids the problems with TAGS.  Those macros, though clever,\n\twere pretty confusing anyway, and it wasn\u2019t clear they were worth\n\tthe aggravation even without the TAGS problem.\n\n2015-10-24  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/isearch.el: Make character-fold search the default again.\n\n2015-10-24  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/character-fold.el: Many improvements.\n\t(character-fold-search-forward, character-fold-search-backward):\n\tNew command.\n\t(character-fold-to-regexp): Remove lax-whitespace hack.\n\t(character-fold-search): Remove variable.  Only isearch and\n\tquery-replace use char-folding, and they both have their own\n\tvariables to configure that.\n\n2015-10-24  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/isearch.el: Generalize definition of regexp-function toggles.\n\t(isearch-specify-regexp-function): New macro for specifying\n\tpossible values of `isearch-regexp-function'.\n\t(isearch-toggle-character-fold, isearch-toggle-symbol)\n\t(isearch-toggle-word): Define with `isearch-specify-regexp-function'.\n\n2015-10-24  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/isearch.el (search-default-regexp-mode): New variable.\n\t(isearch-mode): Use it.\n\n2015-10-24  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/isearch.el (search-exit-option, search-slow-window-lines)\n\t(search-slow-speed, search-upper-case)\n\t(search-nonincremental-instead, search-whitespace-regexp)\n\t(search-invisible, isearch-hide-immediately)\n\t(isearch-resume-in-command-history, search-ring-max)\n\t(regexp-search-ring-max, search-ring-update, search-highlight)\n\t(isearch-fail): Delete :group entries.\n\n2015-10-24  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/custom.el (custom-declare-variable): Shorten code a bit.\n\n2015-10-24  Juanma Barranquero  <lekktu@gmail.com>\n\n\taddpm.c: Silence some warnings.\n\n\t* nt/addpm.c (DdeCommand): Cast pData argument of DdeClientTransaction\n\tto LPBYTE.\n\t(add_registry): Pass NULL to optional lpClass argument of\n\tRegCreateKeyEx, not an empty string.\n\n2015-10-24  Juanma Barranquero  <lekktu@gmail.com>\n\n\taddpm.c: Do not add obsolete GTK libraries to the path.\n\n\t* nt/addpm.c (REG_GTK, REG_RUNEMACS_PATH): Delete.\n\t(add_registry): Remove variables `size' and `gtk_key'.\n\tDo not add the GTK DLL directory to the library search path; it is\n\tconfusing behavior (in particular, the same Emacs version with and\n\twithout invoking addpm will use a different path), and the GTK image\n\tlibraries are obsolete anyway.\n\n2015-10-24  Juanma Barranquero  <lekktu@gmail.com>\n\n\taddpm.c: Replace existing registry entries, but do not create new ones\n\n\t* nt/addpm.c (add_registry): If the Emacs registry key exists, replace\n\texisting values from previous versions, but do not add new ones; the\n\tkey could exist for other reasons unrelated to old Emacsen, like X-style\n\tresources, or to set some environment variables like HOME or LANG, and\n\tin that case we don't want to populate it with obsolete values.\n\n2015-10-24  Juanma Barranquero  <lekktu@gmail.com>\n\n\t* nt/addpm.c (add_registry): Do not compute unused return value.\n\n2015-10-24  Juanma Barranquero  <lekktu@gmail.com>\n\n\taddpm.c: Don't pass REG_OPTION_NON_VOLATILE to RegOpenKeyEx\n\n\t* nt/addpm.c (add_registry): Pass 0 to ulOptions argument of\n\tRegOpenKeyEx, not REG_OPTION_NON_VOLATILE.  This doesn't change\n\tcurrent behavior because REG_OPTION_NON_VOLATILE is defined to\n\tbe 0L anyway, but that option is actually documented only for\n\tRegCreateKeyEx.\n\n2015-10-24  Juanma Barranquero  <lekktu@gmail.com>\n\n\t* src/w32notify.c (Fw32notify_add_watch): Fix version check.\n\n2015-10-24  Eli Zaretskii  <eliz@gnu.org>\n\n\tUpdate frame title when redisplay scrolls selected window\n\n\t* src/xdisp.c (redisplay_window): Reconsider the frame's title\n\twhen the mode-line of the frame's selected window needs to be\n\tupdated.\n\n2015-10-24  Eli Zaretskii  <eliz@gnu.org>\n\n\tUpdate frame title when scrolling the selected window\n\n\t* src/window.c (wset_update_mode_line): New function, sets either\n\tthe window's update_mode_line flag or the global update_mode_lines\n\tvariable.\n\t(Fset_window_start, set_window_buffer, window_scroll_pixel_based)\n\t(window_scroll_line_based): Call it instead of only setting the\n\twindow's update_mode_line flag.\n\n2015-10-24  Eli Zaretskii  <eliz@gnu.org>\n\n\tAn even better fix for bug#21739\n\n\t* src/window.c (set_window_buffer): If the window is the frame's\n\tselected window, set update_mode_lines, not the window's\n\tupdate_mode_line flag.\n\t* src/buffer.c (Fkill_buffer): Undo last change.\n\t(set_update_modelines_for_buf): Function deleted.\n\n2015-10-24  Thomas Fitzsimmons  <fitzsim@fitzsim.org>\n\t    Alexandru Harsanyi  <AlexHarsanyi@gmail.com>\n\n\tSync with soap-client repository, version 3.0.0\n\n\t* lisp/net/soap-client.el, lisp/net/soap-inspect.el:\n\tBump version to 3.0.0.\n\n\t* lisp/net/soap-inspect.el: Merge in changes from Emacs master branch.\n\n\t* lisp/net/soap-client.el: Merge in changes from Emacs master branch.\n\n\t* lisp/net/soap-inspect.el: Shorten first line description.\n\n\t* lisp/net/soap-client.el: Make a small whitespace fix.\n\n\t* lisp/net/soap-inspect.el: Update copyright years.\n\n\t* lisp/net/soap-client.el (soap-encoded-namespaces): Move above\n\tfirst use in soap-encode-xs-element.\n\n\t* lisp/net/soap-client.el (soap-type-is-array?): new defun\n\t(soap-encode-xs-element): handle array elements in this function\n\t(soap-encode-xs-complex-type): flag error if asked to encode an\n\tarray type, this is handled in `soap-encode-xs-element'\n\n\t* lisp/net/soap-inspect.el (soap-inspect-xs-attribute-group):\n\tDo not print type for attribute group.\n\n\t* lisp/net/soap-inspect.el (soap-sample-value-for-xs-attribute-group)\n\tNew function.\n\t(soap-inspect-xs-attribute-group): Likewise.\n\n\t* lisp/net/soap-inspect.el\n\t(soap-resolve-references-for-xs-attribute-group): Resolve\n\treferences of attributes in an attribute group.\n\n\t* lisp/net/soap-client.el (soap-decode-xs-attributes): Process attribute\n\ttype directly, not through soap-wsdl-get.\n\n\t* lisp/net/soap-client.el (soap-xs-parse-attribute): Leave reference\n\tnil if reference attribute is nil.\n\n\t* lisp/net/soap-client.el (soap-resolve-references-for-xs-attribute):\n\tConvert XML schema attributes to xsd:string.\n\n\t* lisp/net/soap-inspect.el (soap-sample-value-for-xs-attribute):\n\tNew function.\n\t(soap-sample-value-for-xs-simple-type): Prepend attributes to result.\n\t(soap-sample-value-for-xs-complex-type): Likewise.\n\t(soap-inspect-xs-attribute): New function.\n\t(soap-inspect-xs-simple-type): Print attributes.\n\t(soap-inspect-xs-complex-type): Likewise.\n\n\t* lisp/net/soap-inspect.el (soap-resolve-references-for-xs-simple-type):\n\tResolve references for attributes.\n\t(soap-resolve-references-for-xs-complex-type): Likewise.\n\n\t* lisp/net/soap-client.el (soap-xml-node-find-matching-child):\n\tRename from soap-xml-node-first-child.\n\t(soap-xs-parse-attribute): Call soap-xml-node-find-matching-child.\n\t(soap-xs-parse-simple-type): Likewise.\n\n\t* lisp/net/soap-client.el (soap-invoke-async): Add error checking.\n\n\t* lisp/net/soap-client.el (soap-invoke-internal): New function.\n\t(soap-invoke-async): Call soap-invoke-internal.\n\t(soap-invoke): Likewise.\n\n\t* lisp/net/soap-client.el (soap-invoke-async): Ensure buffer passed to\n\turl-retrieve callback is killed.\n\n\t* lisp/net/soap-client.el (soap-parse-wsdl-phase-validate-node):\n\tRename function.\n\t(soap-parse-wsdl-phase-fetch-imports): Likewise.\n\t(soap-parse-wsdl-phase-parse-schema): Likewise.\n\t(soap-parse-wsdl-phase-fetch-schema): Likewise.\n\t(soap-parse-wsdl-phase-finish-parsing): Likewise.\n\t(soap-parse-wsdl): Update calls.\n\n\t* lisp/net/soap-client.el (soap-invoke-async): Fix callback invocation.\n\n\t* lisp/net/soap-client.el (soap-invoke-async): New function.\n\t(soap-invoke): Reimplement using soap-invoke-async.\n\n\t* lisp/net/soap-client.el (soap-parse-server-response):\n\tImprove docstring.\n\t(soap-invoke): Inline call to soap-parse-server-response.\n\n\t* lisp/net/soap-client.el (soap-decode-xs-complex-type):\n\tPrevent incorrect warning.\n\n\t* lisp/net/soap-client.el (soap-parse-server-response):\n\tRename soap-process-url-response.  Destroy the mime part.\n\t(soap-invoke): Call soap-parse-server-response.\n\n\t* lisp/net/soap-client.el: Update copyright date.\n\n\t* lisp/net/soap-client.el: Fix checkdoc issues.\n\n\t* lisp/net/soap-client.el: Fix indentation and long lines.\n\n\t* lisp/net/soap-client.el (soap-time-format): Remove variable.\n\t(soap-encode-xs-basic-type): Simplify date-time format detection.\n\t(soap-decode-xs-basic-type): Remove soap-time-format support.\n\n\t* lisp/net/soap-client.el (soap-process-url-response): New function.\n\t(soap-fetch-xml-from-url): Call soap-process-url-response.\n\t(soap-parse-wsdl-phase-1): New function.\n\t(soap-parse-wsdl-phase-2): Likewise.\n\t(soap-parse-wsdl-phase-3): Likewise.\n\t(soap-parse-wsdl-phase-4): Likewise.\n\t(soap-parse-wsdl-phase-5): Likewise.\n\t(soap-parse-wsdl): Call phase functions.\n\n\t* lisp/net/soap-client.el (soap-decode-xs-basic-type):\n\tRemove one-argument and call.\n\n\t* lisp/net/soap-client.el (soap-decode-date-time): Improve docstring.\n\n\t* lisp/net/soap-client.el (soap-xmlschema-imports): Remove variable.\n\t(soap-parse-schema): Add wsdl argument.  Look up XML schema\n\timports from wsdl.\n\t(soap-load-wsdl): Do not set soap-xmlschema-imports.\n\t(soap-parse-wsdl): Get XML schema imports from wsdl.\n\n\t* lisp/net/soap-client.el (soap-current-file): Remove variable.\n\t(soap-wsdl): Add current-file slot.\n\t(soap-fetch-xml-from-url): Add wsdl argument.  Look up current\n\tfile from wsdl.\n\t(soap-fetch-xml-from-file): Likewise.\n\t(soap-fetch-xml): Likewise.\n\t(soap-load-wsdl): Always create wsdl object first.\n\t(soap-parse-wsdl): Pass wsdl to soap-fetch-xml.\n\n\t* lisp/net/soap-client.el (soap-xs-element): Add is-group slot.\n\t(soap-xs-parse-element): Set is-group slot.\n\t(soap-resolve-references-for-xs-element): Skip is-group elements.\n\t(soap-xs-complex-type): Add is-group slot.\n\t(soap-xs-parse-complex-type): Set is-group slot.\n\t(soap-xs-parse-sequence): Parse xsd:group elements.\n\t(soap-resolve-references-for-xs-complex-type): Inline elements\n\tfrom referenced xsd:group nodes.\n\t(soap-parse-schema): Parse xsd:group nodes.\n\n\t* lisp/net/soap-client.el (soap-invoke):\n\tDon't set url-http-version to 1.0.\n\n\t* lisp/net/soap-client.el (soap-decode-xs-complex-type):\n\tAllow choice nodes to accept multiple values.\n\n\t* lisp/net/soap-client.el (soap-encode-body): Check parameters argument\n\tfor extra header values.\n\n\t* lisp/net/soap-client.el (soap-well-known-xmlns):\n\tAdd wsa and wsaw tags.\n\t(soap-operation): Add input-action and output-action slots.\n\t(soap-parse-operation): Parse wsaw:Action nodes.\n\t(soap-encode-body): Encode service-url for WS-Addressing.\n\t(soap-create-envelope): Likewise.\n\t(soap-invoke): Update soap-create-envelope call to provide\n\tservice-url argument.\n\n\t* lisp/net/soap-client.el (soap-decode-xs-complex-type):\n\tSupport xsi:type override attribute.\n\t(soap-decode-array): Likewise.\n\n\t* lisp/net/soap-client.el (soap-parse-schema):\n\tHandle location attribute.\n\n\t* lisp/net/soap-client.el (soap-decode-type): Check that multiRef\n\tmatched validation regexp.\n\n\t* lisp/net/soap-client.el (soap-encode-xs-simple-type):\n\tEncode xsd:list nodes.\n\t(soap-decode-xs-simple-type): Decode xsd:list nodes.\n\n\t* lisp/net/soap-client.el (soap-get-candidate-elements):\n\tFix reference handling.\n\n\t* lisp/net/soap-client.el (soap-xs-simple-type): Add is-list slot.\n\t(soap-xs-parse-simple-type): Call soap-xs-add-list for xsd:list nodes.\n\t(soap-xs-add-list): New function.\n\n\t* lisp/net/soap-client.el (soap-encode-xs-element): When a boolean is\n\texpected, interpret nil as \"false\".\n\n\t* lisp/net/soap-client.el (soap-make-xs-basic-types): Add gYearMonth,\n\tgYear, gMonthDay, gDay and gMonth.\n\n\t* lisp/net/soap-client.el (soap-time-format): New variable.\n\t(soap-encode-xs-basic-type): Handle dateTime, time, date,\n\tgYearMonth, gYear, gMonthDay, gDay and gMonth.\n\t(soap-decode-date-time): New function.\n\t(soap-decode-xs-basic-type): Use soap-decode-date-time.\n\n\t* lisp/net/soap-client.el (soap-encode-xs-basic-type): Validate value\n\tafter encoding.\n\t(soap-decode-xs-basic-type): Validate value before decoding.\n\n\t* lisp/net/soap-client.el (soap-validate-xs-basic-type): New function.\n\t(soap-validate-xs-simple-type): Call soap-validate-xs-basic-type.\n\n\t* lisp/net/soap-client.el (soap-xs-add-union): Append result to base\n\tinstead of overwriting it.\n\t(soap-validate-xs-simple-type): Add union support.\n\n\t* lisp/net/soap-client.el (soap-xs-add-restriction): Translate pattern\n\tto Emacs regexp using xsdre-translate.\n\t(soap-validate-xs-simple-type): Validate value against pattern.\n\n\t* lisp/net/soap-client.el (soap-xs-add-union): Preserve WSDL order of\n\tinline simpleType nodes.\n\t(soap-decode-type): Handle union types.\n\n\t* lisp/net/soap-client.el (soap-decode-xs-attributes): Decode basic-type\n\tattributes.\n\n\t* lisp/net/soap-client.el (soap-get-xs-attributes-from-groups): Rename\n\tfrom soap-xs-attribute-group-consolidate, all callers updated\n\t(soap-get-xs-attributes): Rename from\n\tsoap-xs-attributes-consolidate, all callers updated\n\n\t* lisp/net/soap-client.el (soap-xs-type): Add attribute-group slot.\n\t(soap-xs-attribute-group): New type.\n\t(soap-xs-parse-attribute-group): New function.\n\t(soap-resolve-references-for-xs-attribute-group): Likewise.\n\t(soap-xs-add-extension): Handle attribute groups.\n\t(soap-resolve-references-for-xs-simple-type): Likewise.\n\t(soap-xs-parse-complex-type): Likewise.\n\t(soap-xs-parse-extension-or-restriction): Likewise.\n\t(soap-resolve-references-for-xs-complex-type): Likewise.\n\t(soap-xs-attribute-group-consolidate): New function.\n\t(soap-xs-attributes-consolidate): Handle attribute groups.\n\t(soap-parse-schema): Likewise.\n\n\t* lisp/net/soap-client.el (soap-encode-xs-basic-type):\n\tFix boolean encoding.\n\n\t* lisp/net/soap-client.el (soap-encode-xs-complex-type): Print ref\n\telement names in warnings.\n\n\t* lisp/net/soap-client.el (soap-decode-xs-complex-type): Fix splicing.\n\n\t* lisp/net/soap-client.el (soap-decode-xs-complex-type):\n\tEliminate invalid warnings for choice types.\n\n\t* lisp/net/soap-client.el (soap-encode-xs-complex-type-attributes):\n\tAlso encode base type attributes.\n\n\t* lisp/net/soap-client.el (soap-encode-xs-complex-type): Fix compilation\n\twarning.  Print e-name in warnings, or element if e-name is nil.\n\n\t* lisp/net/soap-client.el (soap-xs-element): Add alternatives slot.\n\t(soap-xs-parse-element): Set substitution-group.\n\t(soap-resolve-references-for-xs-element): Populate alternatives slot.\n\t(soap-get-candidate-elements): New function.\n\t(soap-encode-xs-complex-type): Iterate through all candidate elements.\n\tHandle types with nil type indicator.  Fix warning logic.\n\n\t* lisp/net/soap-client.el (soap-current-wsdl): Move declaration\n\tearlier in the file to prevent compiler warning.\n\n\t* lisp/net/soap-client.el (soap-node-optional): New function.\n\t(soap-node-multiple): Likewise.\n\t(soap-xs-parse-element): Call soap-node-optional and\n\tsoap-node-multiple.\n\t(soap-xs-complex-type): Add optional? and multiple? slots.\n\t(soap-xml-get-children-fq): New function.\n\t(soap-xs-element-get-fq-name): Likewise.\n\t(soap-xs-complex-type-optional-p): Likewise.\n\t(soap-xs-complex-type-multiple-p): Likewise.\n\t(soap-xs-attributes-consolidate): Likewise.\n\t(soap-decode-xs-attributes): Likewise.\n\t(soap-decode-xs-complex-type): Decode types with nil type indicator.\n\tSupport children that use local namespaces.  Decode attributes.\n\tAdd type considerations to optional? and multiple? warnings.\n\n\t* lisp/net/soap-client.el (soap-xs-parse-extension-or-restriction):\n\tStore parsed attributes.\n\t(soap-encode-xs-complex-type-attributes): Encode custom attributes.\n\n\t* lisp/net/soap-client.el (soap-encode-xs-complex-type-attributes):\n\tDon't add the xsi:type attribute (Exchange refuses requests which have\n\tthis attribute).\n\n\t* lisp/net/soap-client.el, lisp/net/soap-inspect.el: Convert to lexical binding,\n\tcorrect compiler warnings about unused function arguments and\n\tlocal variables.\n\n\t* lisp/net/soap-client.el (soap-decode-xs-complex-type): Handle nil\n\ttype indicator.\n\t(soap-parse-envelope): Handle response headers.\n\t(soap-parse-response): Likewise.  Only return non-nil decoded values.\n\n\t* lisp/net/soap-client.el (soap-validate-xs-simple-type):\n\tReturn validated value.\n\n\t* lisp/net/soap-client.el (soap-xs-parse-element)\n\t(soap-xs-parse-simple-type)\n\t(soap-xs-parse-complex-type)\n\t(soap-parse-message)\n\t(soap-parse-operation): Add the current namespace to the element\n\tbeing created.\n\t(soap-resolve-references-for-xs-element)\n\t(soap-resolve-references-for-xs-simple-type)\n\t(soap-resolve-references-for-xs-complex-type)\n\t(soap-resolve-references-for-operation): Resolve the namespace to\n\tthe namespace tag.\n\t(soap-make-wsdl): specify a namespace tag when creating the xsd\n\tand soapenc namespaces\n\t(soap-wsdl-resolve-references): don't update namespace tags in\n\telements here\n\t(soap-parse-port-type): bind the urn: to soap-target-xmlns\n\t(soap-encode-body): don't add nil namespace tags to\n\tsoap-encoded-namespaces\n\n\t* lisp/net/soap-inspect.el: Use `soap-make-wsdl` to construct the object\n\tfor registering the soap-inspect method.  Make debbugs tests pass.\n\t* lisp/net/soap-client.el (soap-decode-any-type): Use soap-l2fq on the\n\ttype name, also skip string only nodes when decoding a structure.\n\t(soap-xs-parse-complex-type): (BUG) Dispatch parsing for choice\n\ttypes too.\n\t(soap-encode-body): Grab the header value from the param table.\n\n\t* lisp/net/soap-client.el (soap-should-encode-value-for-xs-element):\n\tNew function.\n\t(soap-encode-xs-element): Don't encode nil value unless needed.\n\n\t* lisp/net/soap-client.el (soap-bound-operation): New slot `soap-body`.\n\t(soap-parse-binding): Parse the message parts required in the body.\n\t(soap-encode-body): Encode only the parts that are declared to be\n\tpart of the body.\n\n\t* lisp/net/soap-client.el (soap-encode-xs-element): use the fq name\n\twhen writing out the tag.\n\t(soap-encode-body): Remove hack that inserts the xmlns in the\n\telement attributes list.\n\n\t* lisp/net/soap-client.el (soap-xs-attribute): Add \"default\" slot.\n\t(soap-xs-parse-attribute): Default slot is set from the XML\n\t\"fixed\" attribute.\n\t(soap-encode-xs-complex-type-attributes): Encode any attributes\n\tthat have a default value.  Also, don't put the xsi:nil attribute\n\twhen the complex type has no content anyway.\n\n\t* lisp/net/soap-client.el (soap-well-known-xmlns):\n\tAdd the xml namespace.\n\t(soap-local-xmlns): Start with the xml namespace.\n\t(soap-xml-node-first-child): Skip xsd:annotation nodes too.\n\t(soap-make-xs-basic-types): More xsd types added.\n\t(soap-encode-xs-basic-type, soap-decode-xs-basic-type):\n\tHandle \"language\", \"time\", \"date\", \"nonNegativeInteger\".\n\t(soap-resolve-references-for-xs-element): Don't signal an error if\n\tthe element does not have a type.\n\t(soap-xs-parse-simple-type): Subtypes are handled with ecase,\n\tadded stum for xsd:list.\n\t(soap-xs-add-union): Call soap-l2fq on all union members.\n\t(soap-xs-add-extension): Call soap-l2fq on the base member.\n\t(soap-resolve-references-for-xs-simple-type): Don't signal an\n\terror if the simple type has no base.\n\t(soap-resolve-references-for-xs-simple-type): Bugfix, call\n\tsoap-wsdl-get on each type of the base.\n\n\t* lisp/net/soap-client.el (soap-resolve-references-for-xs-attribute):\n\tReferenced type can be eiher a simple type or a basic type.\n\t(soap-xs-add-restriction)\n\t(soap-xs-parse-extension-or-restriction): Use `soap-l2fq' on base.\n\t(soap-make-xs-basic-types)\n\t(soap-encode-xs-basic-type, soap-decode-xs-basic-type):\n\tAdd support for more XMLSchema basic types.\n\t(soap-current-file, soap-xmlschema-imports): New defvars.\n\t(soap-parse-schema): Add locations from xsd:import tags to\n\t`soap-xmlschema-imports'.\n\t(soap-wsdl): Make destructor private.\n\t(soap-make-wsdl): New defun, SOAP-WSDL object constructor.\n\t(soap-wsdl-add-alias): Check if we try to replace aliases.\n\t(soap-fetch-xml-from-url, soap-fetch-xml-from-file)\n\t(soap-fetch-xml): New defuns.\n\t(soap-load-wsdl): Update to load the WSDL from either a file or\n\tan url.\n\t(soap-load-wsdl-from-url): Now an alias to `soap-load-wsdl'.\n\t(soap-parse-wsdl): Process wsdl:import tags and imports from\n\t`soap-xmlschema-imports'.\n\t* lisp/net/soap-client.el (soap-l2wk): Bugfix: call symbolp instead of\n\tsymbol-name.\n\t(soap-l2fq): Make the name part always a string.\n\t(soap-name-p): New defun, used for name tests.\n\n\t* lisp/net/soap-inspect.el (soap-sample-value-for-xs-complex-type):\n\tSupply sample values for choice types with a special tag.\n\t* lisp/net/soap-client.el (soap-encode-xs-complex-type):\n\tHandle anonymous elements correctly.\n\t(soap-encode-value): Accept nodes that have no namespace tag.\n\n\t* lisp/net/soap-client.el (soap-invoke): Encode the string for\n\t`url-request-data' as UTF-8.  Fixes issue 16.\n\n2015-10-24  Nicolas Petton  <nicolas@petton.fr>\n\n\tUpdate the new icon\n\n\tMove the E slightly to the right in the circle.\n\n\t* etc/images/icons/hicolor/128x128/apps/emacs.png:\n\t* etc/images/icons/hicolor/16x16/apps/emacs.png:\n\t* etc/images/icons/hicolor/24x24/apps/emacs.png:\n\t* etc/images/icons/hicolor/32x32/apps/emacs.png:\n\t* etc/images/icons/hicolor/48x48/apps/emacs.png:\n\t* etc/images/icons/hicolor/scalable/apps/emacs.svg:\n\t* nextstep/Cocoa/Emacs.base/Contents/Resources/Emacs.icns:\n\t* nt/icons/emacs.ico: New icom update.\n\n2015-10-24  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid missing inline functions from lisp.h in TAGS\n\n\t* src/lisp.h (LISP_MACRO_DEFUN): Mention in the commentary the\n\tneed to end each invocation with a semi-colon.\n\tAdd a semi-colon at the end of each invocation of LISP_MACRO_DEFUN\n\tand LISP_MACRO_DEFUN_VOID.  This is to avoid missing in TAGS\n\tinline functions defined immediately after each invocation, and\n\talso avoid tagging every invocation of these macros.\n\n2015-10-24  Eli Zaretskii  <eliz@gnu.org>\n\n\tA better fix for bug#21739\n\n\t* src/buffer.c (set_update_modelines_for_buf): New function.\n\t(Fkill_buffer): Use it to set the global variable\n\tupdate_mode_lines if the killed buffer was displayed in some\n\twindow.  Don't set windows_or_buffers_changed.  This is a better\n\tfix for bug#21739 than the previous fix, since it will cause only\n\tredisplay of mode lines, not of entire windows, but will still\n\tcatch attention of x_consider_frame_title in xdisp.c, which\n\tredraws the frame title.\n\n2015-10-24  Tassilo Horn  <tsdh@gnu.org>\n\n\t* lisp/dired-aux.el (dired-compress-files-alist): Add support for\n\ttar.bz2 and tar.xz archives.\n\n2015-10-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix infloop in redisplay introduced by a recent change\n\n\t* src/xdisp.c (redisplay_internal): Avoid inflooping when\n\tredisplaying the selected window sets the selected frame's\n\tredisplay flag.  (Bug#21745)\n\n2015-10-23  Nicolas Petton  <nicolas@petton.fr>\n\n\t* lisp/emacs-lisp/thunk.el: Better documentation.\n\n2015-10-23  Nicolas Petton  <nicolas@petton.fr>\n\n\tReplace the old icon for Windows and Mac OSX\n\n\t* nt/icons/emacs.ico:\n\t* nextstep/Cocoa/Emacs.base/Contents/Resources/Emacs.icns:\n\tUse the new icons.\n\n2015-10-23  Stephen Leake  <stephen_leake@stephe-leake.org>\n\n\t* lisp/emacs-lisp/package.el (package-autoload-ensure-default-file):\n\t`load-path' should contain only directory names.\n\n2015-10-23  Nicolas Petton  <nicolas@petton.fr>\n\n\tNew library thunk.el\n\n\tthunk.el is extracted from stream.el in ELPA, with additional tests.\n\n\t* lisp/emacs-lisp/thunk.el: New file.\n\t* test/automated/thunk-tests.el: New file.\n\t* etc/NEWS: Add information about thunk.el\n\n2015-10-23  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix bug#21669\n\n\t* lisp/filenotify.el (file-notify-rm-watch): Improve check for\n\tcalling low-level functions.\n\n\t* test/automated/file-notify-tests.el (file-notify--test-timeout):\n\tDecrase to 6 seconds for remote directories.\n\t(file-notify-test02-events): Expect different number of\n\t`attribute-changed' events for the local and remote cases.  Apply\n\tshort delays between the operations, in order to receive all\n\tevents in the remote case.  Combine `attribute-change' tests.\n\t(Bug#21669)\n\n2015-10-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tDecode the HTML source when displaying it in EWW\n\n\t* lisp/net/eww.el (eww-view-source): Decode the HTML source\n\taccording to its headers.\n\n2015-10-23  Nicolas Petton  <nicolas@petton.fr>\n\n\tNew default icon\n\n\t* etc/images/icons/hicolor/128x128/apps/emacs23.png:\n\t* etc/images/icons/hicolor/16x16/apps/emacs23.png:\n\t* etc/images/icons/hicolor/24x24/apps/emacs23.png:\n\t* etc/images/icons/hicolor/32x32/apps/emacs23.png:\n\t* etc/images/icons/hicolor/48x48/apps/emacs23.png:\n\t* etc/images/icons/hicolor/scalable/apps/emacs23.svg:\n\t* etc/images/icons/hicolor/scalable/mimetypes/emacs-document23.svg:\n\tMove the old logo files to emacs23.*.\n\t* etc/images/icons/hicolor/128x128/apps/emacs.png:\n\t* etc/images/icons/hicolor/16x16/apps/emacs.png:\n\t* etc/images/icons/hicolor/24x24/apps/emacs.png:\n\t* etc/images/icons/hicolor/32x32/apps/emacs.png:\n\t* etc/images/icons/hicolor/48x48/apps/emacs.png:\n\t* etc/images/icons/hicolor/scalable/apps/emacs.svg:\n\t* etc/images/icons/hicolor/scalable/mimetypes/emacs-document.svg:\n\tNew files.\n\t* etc/images/icons/README: Update the copyright information.\n\n2015-10-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix redisplay of frame title when current buffer is killed\n\n\t* src/buffer.c (Fkill_buffer): Set windows_or_buffers_changed to a\n\tnon-zero value, to redisplay more than just the affected windows.\n\t(Bug#21739)\n\n2015-10-23  Anders Lindgren  <andlind@gmail.com>\n\n\tNextStep maximization and NSTRACE rewrite\n\n\tFull-height, full-width, and maximized windows now cover the\n\tentire screen (except the menu bar), including the part where the\n\tsystem dock is placed.  The system zoom animation is no longer\n\tused.\n\n\tMade NonMaximized->FullWidth->FullHeight->NonMaximized restore the\n\toriginal size.\n\n\t* src/nsterm.m (ns_menu_bar_height): New function, return height of\n\tthe menu bar, or 0 when it's hidden.\n\t(constrain_frame_rect): New function for constraining a frame.\n\t(ns_constrain_all_frames): Set frame size explicitly rather than\n\trelying on the system doing it for us by writing back the current\n\tframe size.\n\t(windowWillUseStandardFrame): Register non-maximized width or\n\theight as new user size.  When entering full width or height,\n\tthe other size component is taken from the user size.\n\t(fullscreenState): New method for accessing the fullscreen state.\n\t(constrainFrameRect): Restrict frame to be placed under the menu bar,\n\tif present.  The old version, sometimes, restricted the height of a\n\tframe to the screen, this version never does this.\n\t(zoom): Perform zoom by setting the frame to the full size of the\n\tscreen (minus the menu bar).  The default system function, with the\n\tzoom animation, is no longer used, as the final frame size doesn't\n\tcover the entire screen.\n\n\tRework how to constrain resizing to the character grid.  The old\n\tsystem used \"resizeIncrements\" in NSWindows.  However, once a frame\n\twas resized so that it was not aligned to the text grid, it\n\tremained unaligned even after a resize.  In addition, it conflicted\n\twhen resizing a fullheight window.\n\n\t* src/nsterm.m (windowWillResize): Restrict frame size to text grid,\n\tunless when pixelwise frame resizing is enabled.\n\t(updateFrameSize, initFrameFromEmacs)\n\t(toggleFullScreen, handleFS): Don't set resizeIncrements.\n\n\tRedesign the NS trace system.  The call structure is represented\n\tusing indentations and vertical lines.  The NSTRACE macro accepts\n\tprintf-style arguments.  New macros for printing various\n\tinformation.\n\n\t* src/nsterm.h (NSTRACE_ENABLED): Macro to enable trace system.\n\t(NSTRACE, NSTRACE_WHEN, NSTRACE_UNLESS): Macros to start a new\n\tblock (typically a function), accept printf-style arguments.\n\t(NSTRACE_MSG): Macro for extra information, accepts\n\tprintf-style arguments.\n\t(NSTRACE_what): Macros for printing various types.\n\t(NSTRACE_FMT_what): Macro with printf format string snippets.\n\t(NSTRACE_ARG_what): Macros for passing printf-style arguments,\n\tcorresponds to NSTRACE_FMT_what.\n\t(NSTRACE_RETURN): Macro to print return value, accept\n\tprintf-style arguments.\n\t(NSTRACE_RETURN_what): Macros to print return value for\n\tvarious types.\n\n\t* src/nsterm.m: Remove old NSTRACE macro\n\t* src/nsterm.m (nstrace_num): Trace counter.\n\t(nstrace_depth): Current call depth.\n\t(nstrace_leave): NSTRACE support function, called when the\n\tlocal variable \"nstrace_enabled\" goes out of scope using the\n\t\"cleanup\" extension.\n\t(ns_print_fullscreen_type_name): NSTRACE_FSTYPE support function.\n\t(constrain_frame_rect, ns_constrain_all_frames)\n\t(ns_update_auto_hide_menu_bar, ns_update_begin)\n\t(ns_update_window_begin, update_window_end, ns_update_end)\n\t(ns_focus, ns_unfocus, ns_ring_bell, ns_frame_raise_lower)\n\t(ns_frame_rehighlight, x_make_frame_visible)\n\t(x_make_frame_invisible, x_iconify_frame, x_free_frame_resources)\n\t(x_destroy_window, x_set_offset, x_set_window_size)\n\t(ns_fullscreen_hook, ns_lisp_to_color, ns_color_to_lisp)\n\t(ns_defined_color, frame_set_mouse_pixel_position)\n\t(note_mouse_movement, ns_mouse_position, ns_frame_up_to_date)\n\t(ns_define_frame_cursor, x_get_keysym_name, ns_redraw_scroll_bars)\n\t(ns_clear_frame, ns_clear_frame_area, ns_scroll_run)\n\t(ns_after_update_window_line, ns_shift_glyphs_for_insert)\n\t(dumpcursor, ns_draw_vertical_window_border)\n\t(ns_draw_window_divider, ns_draw_relief)\n\t(ns_dumpglyphs_box_or_relief, ns_maybe_dumpglyphs_background)\n\t(ns_dumpglyphs_image, ns_draw_glyph_string, ns_send_appdefined)\n\t(ns_read_socket, ns_select, ns_set_vertical_scroll_bar)\n\t(ns_set_horizontal_scroll_bar, ns_condemn_scroll_bars)\n\t(ns_redeem_scroll_bar, ns_judge_scroll_bars, ns_delete_terminal)\n\t(ns_create_terminal, ns_term_init, sendEvent)\n\t(applicationDidFinishLaunching, applicationDidBecomeActive)\n\t(timeout_handler, fd_handler, EmacsView_dealloc, changeFont)\n\t(acceptsFirstResponder, resetCursorRects, keyDown, mouseDown)\n\t(deltaIsZero, rightMouseDown, otherMouseDown, mouseUp)\n\t(rightMouseUp, otherMouseUp, scrollWheel, mouseMoved)\n\t(mouse_autoselect_window, in_window, mouseDragged)\n\t(rightMouseDragged, otherMouseDragged, windowShouldClose)\n\t(updateFrameSize, windowWillResize, windowDidResize)\n\t(windowDidBecomeKey, windowDidResignKey, windowWillMiniaturize)\n\t(initFrameFromEmacs, windowDidMove, windowDidDeminiaturize)\n\t(windowDidExpose, windowDidMiniaturize, windowWillEnterFullScreen)\n\t(windowDidEnterFullScreen, windowWillExitFullScreen)\n\t(windowDidExitFullScreen, toggleFullScreen, handleFS, setFSValue)\n\t(mouseEntered, mouseExited, menuDown, toolbarClicked, drawRect)\n\t(draggingEntered, performDragOperation, validRequestorForSendType)\n\t(setMiniwindowImage, constrainFrameRect, performZoom, zoom)\n\t(EmacsScroller_initFrame, EmacsScroller_setFrame)\n\t(EmacsScroller_dealloc, condemn, reprieve, judge)\n\t(resetCursorRects, setPosition, EmacsScroller_mouseDown)\n\t(EmacsScroller_mouseDragged, syms_of_nsterm): Use new trace system.\n\n\t* src/nsfns.m: Remove old NSTRACE macro\n\t* src/nsfns.m (x_set_icon_name, ns_set_name, x_explicitly_set_name)\n\t(x_implicitly_set_name, x_set_title, ns_set_name_as_filename)\n\t(ns_implicitly_set_icon_type, x_set_icon_type): Use new trace system.\n\n\t* src/nsimage.m: Remove old NSTRACE macro\n\t* src/nsimage.m (ns_image_from_XBM, ns_image_for_XPM)\n\t(ns_image_from_bitmap_file, ns_load_image): Use new trace system.\n\n\t* src/nsmenu.m: Remove old NSTRACE macro\n\t* src/nsmenu.m (ns_update_menubar, ns_menu_show, ns_popup_dialog):\n\tUse new trace system.\n\n2015-10-22  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\tNo need to use eval-and-compile\n\n\t* lisp/gnus/auth-source.el: Do require epg (when compiling) before\n\tautoload epg functions.\n\n2015-10-22  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\tFix auth-source-epa-make-gpg-token compilation (bug#21724)\n\n\t* lisp/gnus/auth-source.el: Add eval-and-compile to autoloads for\n\tepg-context-set-passphrase-callback, epg-decrypt-string, and\n\tepg-encrypt-string; require epg when compiling for the setf-method\n\tfor epg-context-armor. (bug#21724)\n\n2015-10-22  Eli Zaretskii  <eliz@gnu.org>\n\n\tInclude file cleanup for w32 files in src directory\n\n\t* src/w32xfns.c: Don't include keyboard.h, window.h, charset.h,\n\tfontset.h, blockinput.h.\n\t* src/w32uniscribe.c: Don't include dispextern.h, character.h,\n\tcharset.h, fontset.h.\n\t* src/w32term.c: Don't include systty.h, systime.h, charset.h,\n\tcharacter.h, ccl.h, dispextern.h, disptab.h, intervals.h,\n\tprocess.h, atimer.h, keymap.h, w32heap.h.  Include bitmap/gray.xbm\n\tin an ifdef-ed away block.\n\tInclude fcntl.h for CYGWIN.\n\t(set_frame_param): Remove unused function.\n\t* src/w32select.c: Don't include charset.h and composite.h.\n\t(setup_config, Fw32_get_clipboard_data): Avoid compiler warnings\n\tdue to pointer signedness mismatches.\n\t* src/w32reg.c (w32_get_string_resource): Avoid compiler warnings\n\tdue to pointer signedness mismatches.\n\t* src/w32proc.c: Include unistd.h.  Don't include systime.h,\n\tprocess.h, dispextern.h.\n\t(sys_spawnve, Fw32_short_file_name, Fw32_long_file_name)\n\t(Fw32_application_type): Avoid compiler warnings due to pointer\n\tsignedness mismatches.\n\t* src/w32menu.c: Don't include keymap.h, termhooks.h, window.h,\n\tcharacter.h, charset.h, dispextern.h.\n\t(simple_dialog_show, add_menu_item): Avoid compiler warnings due\n\tto pointer signedness mismatches.\n\t* src/w32inevt.c: Don't include dispextern.h, window.h,\n\ttermhooks.h, w32heap.h.\n\t* src/w32font.c: Don't include dispextern.h, character.h,\n\tcharset.h, fontset.h, font.h.\n\t(intern_font_name, add_font_entity_to_list)\n\t(registry_to_w32_charset, w32_to_x_charset, fill_in_logfont)\n\t(list_all_matching_fonts): Avoid compiler warnings due to pointer\n\tsignedness mismatches.\n\t* src/w32fns.c: Don't include character.h, intervals.h,\n\tdispextern.h, epaths.h, charset.h, ccl.h, fontset.h, systime.h,\n\ttermhooks.h, w32heap.h, bitmap/gray.xbm, font.h, w32font.h.\n\t(w32_color_map_lookup, add_system_logical_colors_to_map)\n\t(x_decode_color, x_set_name, FPRINTF_WM_CHARS, Fxw_color_defined_p)\n\t(Fxw_color_values, x_display_info_for_name, Fset_message_beep)\n\t(x_create_tip_frame, Fx_file_dialog, Fsystem_move_file_to_trash)\n\t(w32_parse_hot_key, Ffile_system_info, w32_kbd_patch_key): Avoid\n\tcompiler warnings, mainly due to pointer signedness mismatches.\n\t(unwind_create_frame_1): Remove unused function.\n\t* src/w32console.c: Don't include character.h, disptab.h, frame.h,\n\twindow.h, termhooks.h, dispextern.h.\n\t(w32con_write_glyphs, w32con_write_glyphs_with_face): Fix pointer\n\tsignedness mismatch.\n\t* src/w32.c: Include c-strcase.h and systty.h.  Don't include\n\tw32heap.h.\n\n2015-10-22  Tassilo Horn  <tsdh@gnu.org>\n\n\tImprove doc-view wrt. auto-revert-mode\n\n\t* lisp/doc-view.el (doc-view-revert-buffer): Don't revert when file\n\tis corrupted (bug#21729).\n\t(doc-view-mode): Set doc-view-revert-buffer as revert-buffer-function.\n\n2015-10-22  Oleh Krehel  <ohwoeowho@gmail.com>\n\n\tDescribe dired-do-compress-to in the manual\n\n\t* etc/NEWS: Update.\n\n\t* lisp/dired-aux.el: Fix typo.\n\n\t* doc/emacs/dired.texi: Add entry.\n\n2015-10-22  J\u00fcrgen H\u00f6tzel  <juergen@archlinux.org>\n\n\tFurther fix for proper locale handling in tramp-gvfs.el\n\n\t* lisp/net/tramp-gvfs.el (tramp-gvfs-handle-file-attributes):\n\tJust suppress LC_MESSAGES locale category settings.\n\n2015-10-21  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tNew lispref section \u201cSecurity Considerations\u201d\n\n\tThis attempts to document some of the issues recently discussed\n\ton emacs-devel, and to indicate other such issues.  The section\n\tcould be a lot longer.\n\t* doc/lispref/os.texi (Security Considerations):\n\tNew node.\n\t* doc/lispref/elisp.texi (Top):\n\t* doc/lispref/processes.texi (Shell Arguments):\n\t* lisp/subr.el (shell-quote-argument):\n\t* src/callproc.c (syms_of_callproc):\n\tReference it.\n\n2015-10-21  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from gnulib\n\n\tThis incorporates:\n\t2015-10-18 stdalign: work around pre-4.9 GCC x86 bug\n\t2015-10-18 time_rz: avoid warning from bleeding-edge gcc's -Wnonnull\n\t* doc/misc/texinfo.tex, lib/stdalign.in.h, lib/time_rz.c:\n\tCopy from gnulib.\n\n2015-10-21  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\t* lisp/gnus/mailcap.el (mailcap-mime-data): Remove fboundp checks.\n\t(mailcap-viewer-passes-test): Do it instead.  Thanks to Stefan Monnier.\n\n2015-10-21  Ken Brown  <kbrown@cornell.edu>\n\n\tFurther include-file cleanup\n\n\t* src/sheap.c: Include stdlib.h.\n\t* src/unexcw.c: Include string.h.\n\n2015-10-21  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix logic in 'server-kill-emacs-query-function'\n\n\t* lisp/server.el (server-kill-emacs-query-function): Correct the\n\tlogic that controls whether the user is asked for confirmation.\n\t(Bug#21723)\n\n2015-10-21  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/isearch.el (isearch-search-fun-default): Simplify logic.\n\t(isearch--lax-regexp-function-p): New function.\n\n2015-10-21  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/isearch.el: Support lax-whitespace in regexp-function searches.\n\t(isearch-search-fun-default): Let-bind `search-spaces-regexp'\n\taround `isearch-regexp-function'.\n\n2015-10-21  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/isearch.el: Rename word search to regexp-function search.\n\t`isearch-word' went well beyond its original purpose, and the name\n\tno longer makes sense.  It is now called\n\t`isearch-regexp-function', and its value should always be a function\n\tthat converts a string to a regexp (though setting it to t is still\n\tsupported for now).\n\t(isearch-word): Make obsolete.\n\t(isearch-regexp-function): New variable.\n\t(isearch-mode, isearch-done, isearch--state, isearch--set-state)\n\t(with-isearch-suspended, isearch-toggle-regexp)\n\t(isearch-toggle-word, isearch-toggle-symbol)\n\t(isearch-toggle-character-fold, isearch-query-replace)\n\t(isearch-occur, isearch-highlight-regexp)\n\t(isearch-search-and-update, isearch-message-prefix)\n\t(isearch-search-fun-default, isearch-search)\n\t(isearch-lazy-highlight-new-loop, isearch-lazy-highlight-search):\n\tUse it.\n\t(isearch-lazy-highlight-regexp-function): New var.\n\t(isearch-lazy-highlight-word): Make obsolete.\n\t(isearch--describe-regexp-mode): New function.\n\t(isearch--describe-word-mode): Make obsolete.\n\n\t* lisp/info.el (Info-isearch-search):\n\t* lisp/replace.el (replace-search, replace-highlight):\n\t* lisp/obsolete/longlines.el (longlines-search-function):\n\t* lisp/hexl.el (hexl-isearch-search-function):\n\t* lisp/cedet/semantic/senator.el (senator-isearch-search-fun):\n\tUse the new var.\n\n2015-10-21  Oleh Krehel  <ohwoeowho@gmail.com>\n\n\tAdd dired-do-compress-to command bound to \"c\"\n\n\t* lisp/dired-aux.el (dired-shell-command): Use the caller's\n\t  `default-directory', return the result of `process-file'.\n\t(dired-compress-file-suffixes): Add comment on why \"tar -zxf\" isn't\n\tused by default.\n\t(dired-compress-files-alist): New defvar.\n\t(dired-do-compress-to): New command.\n\n\t* lisp/dired.el (dired-mode-map): Bind `dired-do-compress-to' to \"c\".\n\t(dired-do-compress-to): Add an autoload entry.\n\n\t* etc/NEWS: Add two entries.\n\n2015-10-21  Tassilo Horn  <tsdh@gnu.org>\n\n\tMake RefTeX work with LaTeX subfiles package\n\n\t* lisp/textmodes/reftex.el (reftex-TeX-master-file): Recognize subfiles\n\tdocument class argument as master file for referencing purposes.\n\n2015-10-21  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\t* lisp/gnus/mailcap.el (mailcap-mailcap-entry-passes-test): Doc fix.\n\n2015-10-20  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tInclude-file cleanup for src directory\n\n\tOmit \u2018#include \"foo.h\"\u2019 unless the file needs foo.h (Bug#21707).\n\tIn a few cases, add \u2018#include \"foo.h\"\u2019 if the file needs foo.h\n\tbut does not include it directly.  As a general rule, a source\n\tfile should include foo.h if it needs the interfaces that foo.h\n\tdefines.\n\t* src/alloc.c: Don\u2019t include process.h.  Include dispextern.h,\n\tsystime.h.\n\t* src/atimer.c: Don\u2019t include blockinput.h.\n\t* src/buffer.c: Include coding.h, systime.h.  Don\u2019t include\n\tkeyboard.h, coding.h.\n\t* src/callint.c: Don\u2019t include commands.h, keymap.h.\n\t* src/callproc.c: Don\u2019t include character.h, ccl.h, composite.h,\n\tsystty.h, termhooks.h.\n\t* src/casetab.c: Don\u2019t include character.h.\n\t* src/category.c: Don\u2019t include charset.h, keymap.h.\n\t* src/ccl.h: Don\u2019t include character.h.\n\t* src/character.c: Don\u2019t include charset.h.\n\t* src/charset.c: Don\u2019t include disptab.h.\n\t* src/chartab.c: Don\u2019t include ccl.h.\n\t* src/cm.c: Don\u2019t include frame.h, termhooks.h.\n\t* src/cmds.c: Don\u2019t include window.h, dispextern.h.\n\t* src/coding.c: Don\u2019t include window.h, frame.h.\n\t* src/composite.c: Include composite.h.  Don\u2019t include window.h,\n\tfont.h.\n\t* src/data.c: Don\u2019t include syssignal.h, termhooks.h, font.h.\n\t* src/dbusbind.c: Don\u2019t include frame.h.\n\t* src/decompress.c: Don\u2019t include character.h.\n\t* src/dired.c: Don\u2019t include character.h, commands.h, charset.h.\n\t* src/dispnew.c: Don\u2019t include character.h, indent.h, intervals.h,\n\tprocess.h, timespec.h.  Include systime.h.\n\t* src/doc.c: Include coding.h.  Don\u2019t include keyboard.h.\n\t* src/editfns.c: Include composite.h.  Don\u2019t include frame.h.\n\t* src/emacs.c: Include fcntl.h, coding.h.  Don\u2019t include\n\tcommands.h, systty.h..\n\t* src/fileio.c: Don\u2019t include intervals.h, dispextern.h.\n\tInclude composite.h.\n\t* src/filelock.c: Don\u2019t include character.h, systime.h.\n\t* src/fns.c: Don\u2019t include time.h, commands.h, keyboard.h,\n\tkeymap.h, frame.h, blockinput.h, xterm.h.  Include composite.h.\n\t* src/font.c: Include termhooks.h.\n\t* src/font.h: Don\u2019t include ccl.h, frame.h.  Add forward decls of\n\tstruct composition_it, struct face, struct glyph_string.\n\t* src/fontset.c: Don\u2019t include buffer.h, ccl.h, keyboard.h,\n\tintervals.h, window.h, termhooks.h.\n\t* src/frame.c: Don\u2019t include character.h, commands.h, font.h.\n\t* src/frame.h: Don\u2019t include dispextern.h.\n\t* src/fringe.c: Don\u2019t include character.h.\n\t* src/ftcrfont.c: Don\u2019t include dispextern.h, frame.h,\n\tcharacter.h, charset.h, fontset.h.\n\t* src/ftfont.c: Don\u2019t include frame.h, blockinput.h, coding.h,\n\tfontset.h.\n\t* src/ftxfont.c: Don\u2019t include dispextern.h, character.h,\n\tcharset.h, fontset.h.\n\t* src/gfilenotify.c: Don\u2019t include frame.h, process.h.\n\t* src/gtkutil.c: Include dispextern.h, frame.h, systime.h.\n\tDon\u2019t include syssignal.h, buffer.h, charset.h, font.h.\n\t* src/gtkutil.h: Don\u2019t include frame.h.\n\t* src/image.c: Include fcntl.h and stdio.h instead of sysstdio.h.\n\tDon\u2019t include character.h.\n\t* src/indent.c: Don\u2019t include keyboard.h, termchar.h.\n\t* src/inotify.c: Don\u2019t include character.h, frame.h.\n\t* src/insdel.c: Include composite.h.  Don\u2019t include blockinput.h.\n\t* src/intervals.c: Don\u2019t include character.h, keyboard.h.\n\t* src/intervals.h: Don\u2019t include dispextern.h, composite.h.\n\t* src/keyboard.c: Don\u2019t include sysstdio.h, disptab.h, puresize.h.\n\tInclude coding.h.\n\t* src/keyboard.h: Don\u2019t incldue systime.h.\n\t* src/keymap.c: Don\u2019t include charset.h, frame.h.\n\t* src/lread.c: Include dispextern.h and systime.h.\n\tDon\u2019t include frame.h.  Include systime.h.\n\t* src/macros.c: Don\u2019t include commands.h, character.h, buffer.h.\n\t* src/menu.c: Include character.h, coding.h.  Don\u2019t include\n\tdispextern.h.\n\t* src/menu.h: Don\u2019t include systime.h.\n\t* src/minibuf.c: Don\u2019t include commands.h, dispextern.h, syntax.h,\n\tintervals.h, termhooks.h.\n\t* src/print.c: Include coding.h.  Don\u2019t include keyboard.h,\n\twindow.h, dispextern.h, termchar.h, termhooks.h, font.h.\n\tAdd forward decl of struct terminal.\n\t* src/process.c: Don\u2019t include termhooks.h, commands.h,\n\tdispextern.h, composite.h.\n\t* src/region-cache.c: Don\u2019t include character.h.\n\t* src/scroll.c: Don\u2019t include keyboard.h, window.h.\n\t* src/search.c: Don\u2019t include category.h, commands.h.\n\t* src/sound.c: Don\u2019t include dispextern.h.\n\t* src/syntax.c: Don\u2019t include command.h, keymap.h.\n\t* src/sysdep.c: Don\u2019t include window.h, dispextern.h.\n\t* src/systime.h: Use \u2018#ifdef emacs\u2019, not \u2018#ifdef EMACS_LISP_H\u2019,\n\t* src/term.c: Don\u2019t include systty.h, intervals.h, xterm.h.\n\t* src/terminal.c: Include character.h.\n\tDon\u2019t include charset.h, coding.h.\n\t* src/textprop.c: Don\u2019t include character.h.\n\t* src/undo.c: Don\u2019t include character.h, commands.h, window.h.\n\t* src/unexsol.c: Don\u2019t include character.h, charset.h.\n\t* src/widget.c: Include widget.h.  Don\u2019t include keyboard.h,\n\twindow.h, dispextern.h, blockinput.h, character.h, font.h.\n\t* src/widgetprv.h: Don\u2019t include widget.h.\n\t* src/window.c: Don\u2019t include character.h, menu.h, intervals.h.\n\t* src/xdisp.c: Include composite.h, systime.h.  Don\u2019t include\n\tmacros.h, process.h.\n\t* src/xfaces.c: Don\u2019t include charset.h, keyboard.h, termhooks.h,\n\tintervals.h.\n\t* src/xfns.c: Don\u2019t include menu.h, character.h, intervals.h,\n\tepaths.h, fontset.h, systime.h, atimer.h, termchar.h.\n\t* src/xfont.c: Don\u2019t include dispextern.h, fontset.h, ccl.h.\n\t* src/xftfont.c: Don\u2019t include dispextern.h, character.h, fontset.h.\n\t* src/xgselect.c: Don\u2019t include timespec.h, frame.h.\n\tInclude systime.h.\n\t* src/xgselect.h: Don\u2019t include time.h.\n\tUse a forward decl to struct timespec instead.\n\t* src/xmenu.c: Don\u2019t include keymap.h, character.h, charset.h,\n\tdispextern.h.  Include systime.h.\n\t* src/xml.c: Don\u2019t include character.h.\n\t* src/xrdb.c [USE_MOTIF]: Don\u2019t include keyboard.h.\n\t* src/xselect.c: Don\u2019t include dispextern.h, character.h,\n\tbuffer.h, process.h.\n\t* src/xsmfns.c: Don\u2019t include systime.h, sysselect.h.\n\t* src/xterm.c: Don\u2019t include syssignal.h, charset.h, disptab.h,\n\tintervals.h process.h, keymap.h, xgselect.h.  Include composite.h.\n\n2015-10-20  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t(/ N) now returns the reciprocal of N\n\n\tThis is more compatible with Common Lisp and XEmacs (Bug#21690).  See:\n\thttps://lists.gnu.org/r/emacs-devel/2015-10/msg01053.html\n\t* lisp/color.el (color-hue-to-rgb, color-hsl-to-rgb)\n\t(color-xyz-to-srgb, color-xyz-to-lab):\n\t* lisp/emacs-lisp/cl-extra.el (cl-float-limits):\n\t* lisp/net/shr-color.el (shr-color-hue-to-rgb)\n\t(shr-color-hsl-to-rgb-fractions):\n\tExploit the change to simplify the code a bit.\n\t* lisp/emacs-lisp/bytecomp.el (byte-compile-quo):\n\tDon\u2019t complain about single-argument calls to \u2018/\u2019.\n\t* src/data.c (arith_driver, float_arith_driver):\n\tImplement the change.\n\n2015-10-20  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tCall vc-dir-refresh after stash operations\n\n\t* lisp/vc/vc-git.el (vc-git-stash-apply-at-point)\n\t(vc-git-stash-pop-at-point): Call vc-dir-refresh (bug#13960).\n\n\t* lisp/vc/vc-dir.el (vc-dir-resynch-file): Expand FNAME as well,\n\tsince it can be abbreviated (as returned by vc-find-root).\n\n2015-10-20  Dmitry Gutov  <dgutov@yandex.ru>\n\n\t* lisp/vc/vc-svn.el:\n\t* lisp/vc/vc-mtn.el:\n\t* lisp/vc/vc-hg.el:\n\t* lisp/vc/vc-cvs.el:\n\t* lisp/vc/vc-git.el:\n\t* lisp/vc/vc-bzr.el: Don't declare vc-exec-after anymore.\n\tIts usages have been replaced with vc-run-delayed.\n\n2015-10-20  Dima Kogan  <dima@secretsauce.net>\n\n\tFix memory leak in fontset handling\n\n\t* src/font.c (copy_font_spec): Make a deep copy of the input\n\targument FONT.  (Bug#21651)\n\n2015-10-20  Michael Sperber  <mike@xemacs.org>\n\n\t* lisp/gnus/mailcap.el (mailcap-mime-data):\n\tConditonalize `doc-view-mode', which does not exist on XEmacs.\n\n2015-10-20  Oleh Krehel  <ohwoeowho@gmail.com>\n\n\tUpdate the way directories are compressed\n\n\t* lisp/dired-aux.el (dired-compress-file-suffixes): Update the recipe\n\tfor *.tar.gz decompression to use a pipe.\n\tAdd an entry for the default directory compression (to *.tar.g).\n\t(dired-compress-file): Update.\n\n\tSee https://lists.gnu.org/r/emacs-devel/2015-10/msg00949.html.\n\n2015-10-20  Michael Sperber  <mike@xemacs.org>\n\n\tUnbreak `group' option for `mail-sources'\n\n\t* lisp/gnus/nnml.el (nnml-retrieve-groups, nnml-request-scan):\n\t* lisp/gnus/nnmail.el (nnmail-get-new-mail-per-group)\n\t(nnmail-get-new-mail-1): Unbreak `group' option for `mail-sources'.\n\n2015-10-19  Nicolas Petton  <nicolas@petton.fr>\n\n\tNew function seq-position\n\n\t* lisp/emacs-lisp/seq.el (seq-position): New function.\n\t* test/automated/seq-tests.el: New tests for seq-position.\n\t* doc/lispref/sequences.texi: Add documentation for `seq-position'.\n\n2015-10-19  Ken Brown  <kbrown@cornell.edu>\n\n\tEnable --with-wide-int build on 32-bit Cygwin\n\n\t* src/sheap.c (STATIC_HEAP_SIZE): Remove distinction between x86\n\tand x86_64 to enable --with-wide-int build on 32-bit Cygwin.\n\n2015-10-19  Glenn Morris  <rgm@gnu.org>\n\n\t* doc/emacs/ack.texi (Acknowledgments): Small, sad, update.\n\n2015-10-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tResurrect image loading under auto-image-file-mode\n\n\t* src/image.c (x_find_image_fd): Handle the case of -2 returned by\n\t'openp' specially.  This special case was lost in the changes on\n\t2015-08-18.  (Bug#21685)\n\n2015-10-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix return value of 'set-file-extended-attributes'\n\n\t* lisp/files.el (set-file-extended-attributes): Return non-nil\n\twhen setting either ACLs or SELinux context succeeds.  Document\n\tthe return value.  (Bug#21699)\n\n\t* doc/lispref/files.texi (Changing Files): Document the return\n\tvalue of set-file-extended-attributes.\n\n2015-10-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of functions that change files\n\n\t* doc/lispref/files.texi (Changing Files): Document that these\n\tfunctions signal an error on failure.\n\n2015-10-18  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix doc string of 'shell-quote-argument'\n\n\t* lisp/subr.el (shell-quote-argument): Doc fix.  (Bug#21702)\n\n2015-10-18  Michael Albinus  <michael.albinus@gmx.de>\n\n\tSome minor Tramp changes\n\n\t* doc/misc/tramp.texi (Obtaining Tramp): Add http git cloning.\n\n\t* lisp/net/tramp.el (tramp-handle-make-auto-save-file-name):\n\tExpand `tramp-auto-save-directory'.\n\n2015-10-18  Michael Albinus  <michael.albinus@gmx.de>\n\n\tMinor edits in Tramp\n\n\t* lisp/net/tramp-adb.el (directory-listing-before-filename-regexp):\n\tDeclare it.\n\n\t* lisp/net/tramp-compat.el (directory-listing-before-filename-regexp):\n\tRemove declaration.\n\n2015-10-17  Mark Oteiza  <mvoteiza@udel.edu>\n\n\t* lisp/emacs-lisp/eldoc.el: Add back-to-indentation to the command list.\n\n2015-10-17  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid crashes when redisplayng a window changes faces or fonts\n\n\t* src/xdisp.c (redisplay_internal): If redisplaying the selected\n\twindow or one of the frames turns on the frame's 'redisplay' flag,\n\tredisplay again.  (Bug#21428)\n\n\t* src/frame.c (x_set_font): Set the frame's 'fonts_changed' flag.\n\n2015-10-17  Michael Albinus  <michael.albinus@gmx.de>\n\n\tSolve timimg issues in file-notify-tests.el\n\n\t* test/automated/file-notify-tests.el (file-notify-test02-events):\n\tRectify `attribute-change' tests.  There are timing issues with\n\tgfilenotify.  (Bug#21669)\n\n2015-10-16  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix quoting of data within htmlfontify doc\n\n\t* doc/misc/htmlfontify.texi (Data Structures, Customization):\n\tFix quoting of data structures.  A Lisp quote is needed only\n\twhen data appears within Lisp code.\n\n2015-10-16  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el: Reload archive-contents if\n\tpriorities change.\n\t(package--old-archive-priorities): New variable.\n\t(package-read-all-archive-contents, package-menu--refresh): Use it\n\tto decide when the `package-archive-contents' needs to be read\n\tagain.\n\n2015-10-16  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMake src headers idempotent and standalone\n\n\tRedo src/*.h so that each include file is idempotent (that is, can\n\tbe included multiple times with the latter inclusions having no\n\teffect) and standalone (that is, can be included by itself,\n\twith no include file other than config.h needed as a prerequisite).\n\tThis is standard practice in GNU programs nowadays.\n\t* lwlib/lwlib-widget.h, src/buffer.h, src/category.h, src/character.h:\n\t* src/charset.h, src/coding.h, src/commands.h, src/disptab.h:\n\t* src/fontset.h, src/gnutls.h, src/indent.h, src/keymap.h, src/macros.h:\n\t* src/regex.h [emacs]:\n\t* src/syntax.h, src/systty.h, src/termhooks.h:\n\tInclude lisp.h, for Lisp_Object.\n\t* src/buffer.h, src/category.h, src/cm.h, src/commands.h, src/disptab.h:\n\t* src/indent.h, src/intervals.h, src/keyboard.h, src/macros.h:\n\t* src/process.h, src/puresize.h, src/region-cache.h, src/syntax.h:\n\t* src/syssignal.h, src/sysstdio.h, src/systty.h, src/termchar.h:\n\t* src/termopts.h, src/tparam.h, src/unexec.h:\n\tProtect against multiple inclusion.\n\t* src/buffer.h: Include character.h, for STRING_CHAR.\n\t* src/emacsgtkfixed.h (struct frame):\n\t* src/fontset.h (struct face):\n\t* src/region-cache.h (struct buffer):\n\t* src/termhooks.h (struct glyph):\n\t* src/xsettings.h (struct x_display_info):\n\tAdd possibly-forward decl.\n\t* src/syntax.h: Include buffer.h, for BVAR.\n\t* src/sysselect.h: Include lisp.h, for eassume.\n\t* src/termchar.h: Include <stdio.h>, for FILE.\n\t* src/widget.h: Include <X11/IntrinsicP.h>, for Widget.\n\t* src/xsettings.h: Include <X11/Xlib.h>, for XEvent.\n\n2015-10-16  J\u00fcrgen H\u00f6tzel  <juergen@archlinux.org>\n\n\tHandle symlink targets containing spaces in tramp-gvfs.el\n\n\t* lisp/net/tramp-gvfs.el (tramp-gvfs-handle-file-attributes):\n\tHandle symlink targets containing spaces.\n\n2015-10-16  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/custom.el (custom-theme-load-path): Demote to defvar.\n\n\t`custom-theme-load-path' was a defcustom, but it shouldn't be for the\n\tsame reason that `load-path' shouldn't.  Setting it via the customize\n\tinterface is a trap for the user.\n\n\tInstalled themes commonly add themselves to this variable, which means\n\tits value is not fit for being saved (it will permanently remember dirs\n\tthat don't exist anymore).\n\n\tThis is aggravated by the fact that Emacs always applies the `user'\n\ttheme on top of any theme that's loaded, since this will apply the old\n\tvariable value and remove any new directories that had been recently\n\tadded by themes themselves.\n\n\tNot to mention, we already have `custom-theme-directory', which is safe\n\tto customize.\n\n2015-10-16  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/mpc.el: Rename the new toggling commands.\n\t(mpc-toggle-consume, mpc-toggle-repeat, mpc-toggle-single)\n\t(mpc-toggle-shuffle): Add \"-toggle\" in the name.\n\n2015-10-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove the doc string of 'completion-boundaries'\n\n\t* lisp/minibuffer.el (completion-boundaries): Rename the argument\n\tTABLE to COLLECTION, for consistency with other high-level\n\tcompletion functions.  Document how COLLECTION is called if it\n\tis a function.  (Bug#21644)\n\n2015-10-16  Oleh Krehel  <ohwoeowho@gmail.com>\n\n\t* lisp/dired-aux.el (dired-shell-command): Fix compile warning.\n\n2015-10-16  Oleh Krehel  <ohwoeowho@gmail.com>\n\n\tMake dired-do-compress work for *.zip files\n\n\t* lisp/dired-aux.el (dired-check-process): Transform the top-level\n\t  comment into a docstring.\n\t(dired-shell-command): New command.  This mirrors\n\t`dired-check-process', but is more user-friendly for passing\n\targuments.\n\t(dired-compress-file-suffixes): Allow to specify the command switches\n\talong with input (%i) and output (%o) inside the PROGRAM part.\n\tAdd an entry for *.zip files, and update the entry for *.tar.gz files\n\tto the new style.  Update the docstring.\n\t(dired-compress-file): When PROGRAM matches %i or %o, use the new\n\tlogic.\n\t(dired-update-file-line): Avoid an error when at end of buffer.\n\n\tFixes bug#21637.\n\n2015-10-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tMinor improvement in documentation of internals\n\n\t* doc/lispref/internals.texi (Writing Emacs Primitives): Document QUIT.\n\n2015-10-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of COLLECTION in completion functions\n\n\t* doc/lispref/minibuf.texi (Minibuffer Completion): Add a\n\tcross-reference to \"Programmed Completion\".\n\n\t* src/minibuf.c (Fcompleting_read): Improve the doc string.\n\t(Bug#21644)\n\n2015-10-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tAdd more release info to etc/HISTORY\n\n\t* etc/HISTORY: Add more release information about 19.x and 20.x\n\tversions.\n\n2015-10-15  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tNew file etc/HISTORY\n\n\t* admin/FOR-RELEASE: Procedure for etc/HISTORY.\n\t* etc/HISTORY: New file.\n\t* etc/NEWS: Mention it.\n\n2015-10-15  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tjs-mode: Don't misindent generator methods\n\n\t* lisp/progmodes/js.el (js--looking-at-operator-p): Distinguish\n\tgenerator methods from multiplication operator\n\t(https://github.com/mooz/js2-mode/issues/275).\n\n2015-10-15  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix animation timeout delay calculation\n\n\t* lisp/image.el (image-animate-timeout):\n\tDon\u2019t assume speed is floating-point.\n\n2015-10-15  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tAdd commands for controlling MPD modes\n\n\t* lisp/mpc.el (mpc-cmd-consume, mpc-cmd-random, mpc-cmd-repeat)\n\t(mpc-cmd-single): New functions.\n\t(mpc-consume, mpc-repeat, mpc-single, mpc-shuffle): New commands.\n\t(mpc-mode-menu): Add new commands as menu items.\n\n2015-10-15  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tRefer to `(elisp)Basic Completion' in completing-read docstring\n\n\t* src/minibuf.c (Fcompleting_read): Refer to `(elisp)Basic\n\tCompletion' in the docstring (bug#21644).\n\n2015-10-14  Mark Oteiza  <mvoteiza@udel.edu>\n\n\t* lisp/mpc.el (mpc-format): Always push form to pred\n\n2015-10-14  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSpelling fixes\n\n\t* configure.ac (bitmapdir): Fix misspelling of bmd_acc.\n\t* test/automated/coding-tests.el (ert-test-coding-bogus-coding-systems):\n\tFix misspelling of nonexistent file name.\n\n2015-10-14  Mark Oteiza  <mvoteiza@udel.edu>\n\n\t* lisp/mpc.el (mpc-mode-menu, mpc-toggle-play): Fix docstrings\n\n2015-10-14  Michael Albinus  <michael.albinus@gmx.de>\n\n\tSome editing fixes in Tramp\n\n\t* lisp/net/tramp-gvfs.el:\n\t* doc/misc/tramp.texi: \"customer option\" -> \"custom option\".\n\n\t* lisp/net/tramp.el (tramp-completion-function-alist): Fix docstring.\n\n2015-10-14  J\u00fcrgen H\u00f6tzel  <juergen@archlinux.org>\n\n\tUse proper localization in tramp-gvfs.el\n\n\t* lisp/net/tramp-gvfs.el (tramp-gvfs-handle-file-attributes):\n\tSuppress localized settings in order to proper parse gfvs output.\n\n2015-10-14  Warren Lynn  <wrn.lynn@gmail.com>  (tiny change)\n\n\t* lisp/net/tramp-sh.el (tramp-do-copy-or-rename-file-out-of-band):\n\tQuote argument in proper order.  (Bug#21562)\n\n2015-10-14  Nicolas Petton  <nicolas@petton.fr>\n\n\tFix typos in docstrings\n\n\t* lisp/emacs-lisp/map.el:\n\t* lisp/emacs-lisp/seq.el: Fix typos in the docstrings of the pcase\n\t  macros.\n\n2015-10-14  Mark Oteiza  <mvoteiza@udel.edu>\n\n\t* lisp/mpc.el (mpc-volume-refresh): Check if buffer is live.\n\n2015-10-14  Oleh Krehel  <ohwoeowho@gmail.com>\n\n\tMake dired-jump work with tar-subfile-mode\n\n\t* lisp/dired-x.el (dired-jump): When in `tar-subfile-mode', instead of\n\t  emitting an error, switch to `tar-superior-buffer'.\n\n2015-10-14  Juanma Barranquero  <lekktu@gmail.com>\n\n\t* .gitignore: Add build-aux/ar-lib.\n\n2015-10-14  Nicolas Petton  <nicolas@petton.fr>\n\n\tBetter docstrings in seq.el and map.el\n\n\t* lisp/emacs-lisp/map.el:\n\t* lisp/emacs-lisp/seq.el: Improve the docstring for the pcase patterns.\n\n2015-10-14  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from gnulib\n\n\tThis incorporates:\n\t2015-10-13 binary-io, u64, unistd: port to strict C\n\t2015-09-26 c-ctype: do not worry about EBCDIC + char signed\n\t2015-09-25 c-ctype: port better to z/OS EBCDIC\n\t2015-09-25 gnulib-common.m4: fix gl_PROG_AR_RANLIB/AM_PROG_AR clash\n\t* doc/misc/texinfo.tex, lib/binary-io.c, lib/c-ctype.h, lib/u64.c:\n\t* lib/unistd.c, m4/gnulib-common.m4, m4/gnulib-comp.m4:\n\tCopy from gnulib.\n\n2015-10-14  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tTake XPNTR private\n\n\t* src/alloc.c (PURE_POINTER_P): Remove.\n\tAll uses replaced with PURE_P.\n\t(XPNTR_OR_SYMBOL_OFFSET): New function.\n\t(XPNTR): Move here from lisp.h.\n\tReimplement in terms of XPNTR_OR_SYMBOL_OFFSET.\n\t(mark_maybe_object, valid_lisp_object_p, survives_gc_p):\n\tRemove unnecessary cast.\n\t(purecopy): Use XPNTR_OR_SYMBOL_OFFSET instead of XPNTR,\n\tto avoid an unnecessary runtime test for symbols.\n\t* src/lisp.h (lisp_h_XPNTR, XPNTR): Remove, moving XPNTR to alloc.c.\n\tOnly alloc.c needs XPNTR now.\n\n2015-10-13  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tAdd MPC play/pause command\n\n\t* lisp/mpc.el (mpc-toggle-play): New command.\n\t(mpc-mode-map): Bind it to \"s\".\n\t(mpc-mode-menu): Add corresponding menu item.\n\n2015-10-13  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tAdd bindings and menu items for prev and next tracks\n\n\t* lisp/mpc.el (mpc-mode-map): Bind \">\" to mpc-next,\n\t\"<\" to mpc-prev.\n\t(mpc-mode-menu): Add corresponding menu items\n\n2015-10-13  Ken Raeburn  <raeburn@raeburn.org>\n\n\tReduce face-related consing during frame creation.\n\n\t* lisp/faces.el (face--attributes-unspecified): Compute the \"unspecified\"\n\tattribute list once.\n\t(face-spec-reset-face): Use it instead of building the list.\n\n2015-10-13  Ken Raeburn  <raeburn@permabit.com>\n\n\tDo process ConfigureNotify events indicating size changes.\n\n\t* src/xterm.c (handle_one_xevent): If consecutive ConfigureNotify\n\tevents don't have the same size, process each one.\n\n2015-10-13  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tDerive mpc-mode from special-mode\n\n\tlisp/mpc.el (mpc-mode-map): Make from sparse keymap.  Unbind g.\n\t(mpc-mode): Derive from special mode.\n\t(mpc-songs-mode-map): Don't set parent keymap.\n\n2015-10-13  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tFix error messages for when covers are not found.\n\n\tThe last change to mpc-format let the binding to file call\n\tmpc-file-local-copy with nil argument.  Instead, employ if-let here\n\tso nil bindings don't result in needless computation and errors.\n\t* lisp/mpc.el: Require 'subr-x at compile time.\n\t* lisp/mpc.el (mpc-format): Use if-let.\n\n2015-10-13  Oleh Krehel  <ohwoeowho@gmail.com>\n\n\tMake dired-do-compress work for *.tar.gz files\n\n\t* lisp/dired-aux.el (dired-compress-file-suffixes): Associate\n\t  \"tar -zxvf\" to *.tar.gz; update docstring.\n\n\t(dired-compress-file): Allow to specify switches after the command in\n\t`dired-compress-file-suffixes'.\n\n2015-10-13  Oleh Krehel  <ohwoeowho@gmail.com>\n\n\tMake dired-do-compress work for directories\n\n\t* lisp/dired-aux.el (dired-compress-file): When FILE is a directory,\n\t  instead of emitting an error, call \"tar -czf FILE.tar.gz FILE\".\n\tAlso convert the top comment into a docstring.\n\n2015-10-13  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/mpc.el (mpc-songs-refresh): Don't side-effect `active'\n\n\t... since it might come straight from the memoizing table.\n\n2015-10-13  Juanma Barranquero  <lekktu@gmail.com>\n\n\t* src/w32fns.c (x_change_tool_bar_height): Remove unused variable frame.\n\n2015-10-13  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tUse special-mode in eww list modes\n\n\t* lisp/net/eww.el (eww-bookmark-mode, eww-history-mode)\n\t(eww-buffers-mode): Derive from special-mode and remove redundant\n\tsetting of buffer-read-only.\n\t(eww-mode-map): Remove redundant keymap parent setting.\n\t(eww-bookmark-mode-map, eww-history-mode-map, eww-buffers-mode-map):\n\tRemove redundant keymap suppressions and mappings.\n\n2015-10-13  Martin Rudalics  <rudalics@gmx.at>\n\n\tAllow setting frame pixel sizes from frame parameters (Bug#21415)\n\n\tAlso fix some misfeatures in frame (re-)sizing code, add more\n\tdebugging information and remove some dead code.\n\n\t* lisp/frame.el (frame-notice-user-settings, make-frame): Change\n\tparameter names when setting `frame-size-history'.\n\t(frame--size-history): New function.\n\n\t* src/frame.c (frame_inhibit_resize): If frame has not been made\n\tyet, return t if inhibit_horizontal_resize or\n\tinhibit_vertical_resize bit have been set.\n\t(adjust_frame_size): Simplify.\n\t(make_frame): Initialize inhibit_horizontal_resize,\n\tinhibit_vertical_resize, tool_bar_redisplayed, tool_bar_resized.\n\t(Fframe_after_make_frame): Reset inhibit_horizontal_resize and\n\tinhibit_vertical_resize slots.\n\t(x_set_frame_parameters): Handle `text-pixels' specification for\n\twidth and height parameters.  Don't consider new_height or\n\tnew_width changes.  Call adjust_frame_size instead of\n\tFset_frame_size.\n\t(x_figure_window_size): Two new arguments x_width and y_width\n\treturning frame's figures width and height.  Calculate tool bar\n\theight before frame sizes so SET_FRAME_HEIGHT can pick it up.\n\tHandle `text-pixels' specification for width and height\n\tparameters.\n\t(Qtext_pixels, Qx_set_frame_parameters, Qset_frame_size)\n\t(Qx_set_window_size_1, Qx_set_window_size_2)\n\t(Qx_set_window_size_3, Qx_set_menu_bar_lines)\n\t(Qupdate_frame_menubar, Qfree_frame_menubar_1)\n\t(Qfree_frame_menubar_2): New symbols.\n\t* src/frame.h (structure frame): New booleans\n\ttool_bar_redisplayed, tool_bar_resized,\n\tinhibit_horizontal_resize, inhibit_vertical_resize.\n\t(x_figure_window_size): Update external declaration.\n\t* src/gtkutil.c (xg_frame_set_char_size): Set size hints before\n\tcalling gtk_window_resize.\n\t(update_frame_tool_bar): Make inhibiting of frame resizing more\n\tdiscriminative.  Set tool_bar_resized bit.\n\t* src/nsfns.m (x_set_tool_bar_lines): Make inhibiting of frame\n\tresizing more discriminative.  Call adjust_frame_size instead of\n\tx_set_window_size.\n\t(Fx_create_frame): Handle x_width and x_height if\n\tset by x_figure_window_size.\n\t* src/nsterm.m (x_set_window_size): For GNUSTEP build don't\n\tsubtract 3 from tool bar height.\n\t(x_set_window_size): Add frame_size_history_add call.\n\t(x_new_font): Call adjust_frame_size instead of\n\tx_set_window_size.\n\t* src/w32fns.c (x_change_tool_bar_height): Reset\n\ttool_bar_redisplayed and tool_bar_resized bits when adding tool\n\tbar.  Make inhibiting of frame resizing more discriminative.\n\t(w32_wnd_proc): Remove dead code in WM_WINDOWPOSCHANGING case.\n\t(Fx_create_frame): Handle x_width and x_height if set by\n\tx_figure_window_size.  Set size hints before adjusting frame size.\n\t(x_create_tip_frame): Adjust x_figure_window_size call.\n\t* src/w32term.c (x_set_window_size): Add frame_size_history_add\n\tcall.\n\t* src/widget.c (set_frame_size): Remove dead code.  Add\n\tframe_size_history_add call.  When frame_resize_pixelwise is t\n\tuse FRAME_PIXEL_WIDTH and FRAME_PIXEL_HEIGHT instead of\n\tpixel_width and pixel_height.\n\t(update_various_frame_slots): Remove dead code.\n\t(EmacsFrameResize): Add more information in\n\tframe_size_history_add call.\n\t(EmacsFrameQueryGeometry): Round only when frame_resize_pixelwise\n\tis not set.\n\t* src/xdisp.c (redisplay_tool_bar): Set tool_bar_redisplayed bits.\n\t* src/xfns.c (x_set_menu_bar_lines): Change argument name.\n\t(x_change_tool_bar_height): Reset tool_bar_redisplayed and\n\ttool_bar_resized bits when adding tool bar.  Make inhibiting of\n\tframe resizing more discriminative.\n\t(Fx_create_frame): Handle x_width and x_height if set by\n\tx_figure_window_size.  Set size hints before adjusting frame size.\n\t(x_create_tip_frame): Adjust x_figure_window_size call.\n\t* src/xmenu.c (update_frame_menubar): Don't handle Lucid specially.\n\t(set_frame_menubar): On Lucid never add core-border-width to\n\tavoid that adding XtNinternalBorderWidth adds it again.\n\t(free_frame_menubar): Handle frame_inhibit_resize true for Motif.\n\t* src/xterm.c (x_new_font): In non-toolkit case handle size\n\tchange of menu bar.\n\t(x_set_window_size_1): Fix calls to frame_size_history_add.\n\t(x_wm_set_size_hint): Remove dead code.  Set\n\tsize_hints.min_width and size_hints.min_height to base_width and\n\tbase_height.\n\n2015-10-13  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* test/automated/file-notify-tests.el (file-notify--test-timeout):\n\tAdd docstring.  Increase to 10 seconds for remote\n\tdirectories.  (Bug#21669)\n\n2015-10-12  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tUnmacroize ebrowse.c and etags.c a bit\n\n\t* lib-src/ebrowse.c (READ_CHUNK_SIZE): Now an enum constant.\n\t(streq, filename_eq, set_flag, has_flag): Now inline functions.\n\t(set_flag): First arg is now an address, not an lvalue.\n\tAll callers changed.\n\t(filename_eq, set_flag, has_flag):\n\tRename from FILENAME_EQ, SET_FLAG, HAS_FLAG.\n\tAll callers changed.\n\t* lib-src/etags.c (streq, strcaseeq, strneq, strncaseeq):\n\tNow inline functions.  Remove asserts that are unnecessary these\n\tdays (and in some cases were too-generous anyway).\n\n2015-10-12  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tUse highlight for current items\n\n\t* lisp/mpc.el (mpc-select-make-overlay, mpc-tagbrowser-all-select):\n\tApply highlight face instead of region face.\n\n2015-10-12  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tSearch for more cover image names in MPC\n\n\t* lisp/mpc.el (mpc-format): Also look for .folder.jpg or folder.jpg\n\tcase insensitively\n\n2015-10-12  Juanma Barranquero  <lekktu@gmail.com>\n\n\tRemove or comment out unused variables\n\n\t* src/w32fns.c (x_set_mouse_color): Comment out variables cursor,\n\tnontext_cursor, mode_cursor, hand_cursor and count.\n\t(x_change_tool_bar_height): Remove variable old_text_height.\n\t(deliver_wm_chars): Remove variable strip_Alt.\n\t(Fw32_shell_execute): Remove variable document_a.\n\t(Fw32_frame_geometry): Remove variable fullboth.\n\t* src/w32term.c (w32_setup_relief_color): Comment out variable\n\tw32_display_info.\n\t(w32_horizontal_scroll_bar_handle_click): Remove variables start, end.\n\t(w32_read_socket): Comment out variables rows, columns.\n\t* src/w32uniscribe.c (uniscribe_check_otf_1): Remove variable rest.\n\n2015-10-12  Juanma Barranquero  <lekktu@gmail.com>\n\n\t* src/w32proc.c (sys_select): Fix bitwise test.\n\n2015-10-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tMinor typo corrections in doc strings\n\n\t* lisp/menu-bar.el (popup-menu, popup-menu-normalize-position):\n\tDoc fixes.\n\n2015-10-12  Eli Zaretskii  <eliz@gnu.org>\n\n\t* nt/INSTALL: Recommend MSYS Automake/Autoconf from ezwinports.\n\n2015-10-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tAttempt to avoid crashes in plist-member\n\n\t* src/fns.c (Fplist_member): Don't call QUIT between a CONSP test\n\tand a call to XCDR.  (Bug#21655)\n\n2015-10-12  Mike FABIAN  <mfabian@redhat.com>\n\n\t* lisp/select.el (gui-get-primary-selection): In\n\tgui-get-primary-selection use gui--selection-value-internal (Bug#20906)\n\n2015-10-12  Tassilo Horn  <tsdh@gnu.org>\n\n\tSupport RTF in doc-view\n\n\t* lisp/doc-view.el (doc-view-set-doc-type): Add entry for RTF extension.\n\n2015-10-12  Juanma Barranquero  <lekktu@gmail.com>\n\n\t* src/w32fns.c (get_wm_chars): Increment counter, not pointer.\n\n2015-10-11  Nicolas Petton  <nicolas@petton.fr>\n\n\tReplace the usage of an obsolete function in auth-source.el\n\n\t* lisp/gnus/auth-source.el (auth-source-epa-make-gpg-token):\n\tReplace an usage of `epg-context-set-armor' with `setf'.\n\n2015-10-11  Nicolas Petton  <nicolas@petton.fr>\n\n\t* lisp/gnus/auth-source.el: Use sharp-quoting with functions.\n\n2015-10-11  Jay Belanger  <jay.p.belanger@gmail.com>\n\n\tHave calc-yank recognize numbers in different bases.\n\n\t* lisp/calc/calc-yank.el (math-number-regexp): New function.\n\t(calc-yank): Use `math-number-regexp' to recognize numbers.\n\n2015-10-11  Ken Raeburn  <raeburn@raeburn.org>\n\n\tHandle an opaque-move X11 window manager operation more efficiently\n\n\t* src/xterm.c (handle_one_xevent): If a ConfigureNotify event is\n\tfollowed by more ConfigureNotify events for the same window, process\n\tonly the last one.\n\n2015-10-11  Ken Raeburn  <raeburn@raeburn.org>\n\n\tFix cursor setting for tip frame; re-enable cursor generation\n\n\t* src/xfns.c (x_create_tip_frame): Include the cursor in the window\n\tattributes sent when creating the new X window.  Don't skip setting\n\tthe pointerColor parameter.\n\n2015-10-11  Ken Raeburn  <raeburn@raeburn.org>\n\n\tRewrite x_set_mouse_color to sync less\n\n\tWe can track serial numbers of X requests and correlate error events\n\twith the associated requests.  This way we can identify errors for\n\tspecific calls without having to use XSync after every one.\n\n\t* src/xfns.c (enum mouse_cursor): New type.\n\t(struct mouse_cursor_types, struct mouse_cursor_data): New types.\n\t(mouse_cursor_types): New array listing the Lisp variables and default\n\tcursor appearances for each cursor type.\n\t(x_set_mouse_color_handler): New function; checks error event serial\n\tnumber against submitted requests.\n\t(x_set_mouse_color): Updated to use the new error handler callback,\n\tand to be more table-driven, to simplify repetitious code.\n\n2015-10-11  Ken Raeburn  <raeburn@raeburn.org>\n\n\tAdd x_catch_errors_with_handler\n\n\t* src/xterm.c (struct x_error_message_stack): Add new fields for a\n\tcallback function and associated data pointer.\n\t(x_error_catcher): If the callback function is set, call it after\n\tsaving the error message string.\n\t(x_catch_errors_with_handler): Renamed from x_catch_errors but now\n\taccepts a callback function and data pointer.\n\t(x_catch_errors): Now a wrapper function.\n\t* src/xterm.h (x_special_error_handler): New typedef.\n\t(x_catch_errors_with_handler): Declare.\n\n2015-10-11  Ken Raeburn  <raeburn@raeburn.org>\n\n\tIntroduce x_uncatch_errors_after_check to reduce XSync calls\n\n\tBoth x_had_errors_p and x_check_errors call XSync, so if they're\n\timmediately followed by x_uncatch_errors, its XSync call will be\n\tredundant, resulting in a wasted round trip to the X server.\n\n\t* src/xterm.c (x_uncatch_errors_after_check): New routine; a copy of\n\tx_uncatch_errors without the XSync call.\n\t(XTmouse_position, x_wm_supports):\n\t* src/xfns.c (x_set_mouse_color):\n\t* src/xmenu.c (Fx_menu_bar_open_internal):\n\t* src/xselect.c (x_own_selection, x_get_foreign_selection):\n\t(Fx_get_atom_name): Call it instead of x_uncatch_errors.\n\t* src/xterm.h (x_uncatch_errors_after_check): Declare.\n\n2015-10-10  Jay Belanger  <jay.p.belanger@gmail.com>\n\n\tDocument the optional prefix to `calc-yank'\n\n\t* doc/misc/calc.texi (Yanking into the Stack): Document the optional\n\tprefix to `calc-yank'.\n\t* lisp/calc/calc-yank.el (calc-yank): Ensure that things killed from\n\tthe Calc buffer are yanked back unchanged.\n\n2015-10-10  Mark Oteiza  <mvoteiza@udel.edu>\n\n\t* lisp/calendar/calendar.el: Display buffer before executing body.\n\n\tIn each use of this macro, the modeline is derived from a window width\n\tcalculation, which will be wrong if (display-buffer) splits the window\n\thorizontally.\n\n2015-10-10  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tUse \u2018echo\u2019 safely with \u2018\\\u2019 or leading \u2018-\u2019\n\n\tPOSIX says that \u2018echo FOO\u2019 produces implementation-defined output\n\tif FOO contains leading \u2018-\u2019, or \u2018\\\u2019 anywhere, so don\u2019t assume GNU\n\tbehavior in that case.\n\t* Makefile.in (removenullpaths): Remove.\n\t(epaths-force): Rewrite to avoid the need for \u2018echo\u2019.\n\t(install-etc): Be clearer about escaping the shell metacharacters\n\t\u2018\\\u2019 and \u2018$\u2019.\n\t* Makefile.in (install-arch-indep, install-etcdoc):\n\t* admin/charsets/mapconv, admin/merge-gnulib, admin/merge-pkg-config:\n\t* admin/quick-install-emacs, build-aux/gitlog-to-emacslog:\n\t* configure.ac, lib-src/rcs2log, make-dist:\n\t* src/Makefile.in (lisp.mk):\n\tDon\u2019t assume \u2018echo\u2019 outputs \u2018\\\u2019 and leading \u2018-\u2019 unscathed.\n\tFor example, use \u2018printf '%s\\n' \"$foo\"\u2019 rather than \u2018echo \"$foo\"\u2019\n\tif $foo can contain arbitrary characters.\n\t* lisp/Makefile.in (TAGS): Use \u2018ls\u2019, not \u2018echo\u2019, to avoid \u2018\\\u2019 issues.\n\t* doc/lispref/two-volume.make (vol1.pdf):\n\t* test/etags/make-src/Makefile (web ftp publish):\n\tUse \u2018printf\u2019 rather than \u2018echo -e\u2019.\n\n2015-10-10  Kaushal Modi  <kaushal.modi@gmail.com>\n\n\tAllow numbers with different radixes to be yanked.\n\n\t* lisp/calc/calc-yank.el (calc-yank): Allow radixes besides the\n\tdefault base 10.\n\n2015-10-10  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tImprove CHECK_IMPURE and PURE_P speedup\n\n\t* src/data.c (Faset): Use XVECTOR and XSTRING rather than XPNTR.\n\n2015-10-10  Jay Belanger  <jay.p.belanger@gmail.com>\n\n\tUse events instead of chars to keep track of steps.\n\n\t* lisp/calc/calc-prog.el (calc-kbd-loop): Use events instead of chars\n\tto keep track of steps.\n\n2015-10-10  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix --enable-gcc-warnings problem with older GCC\n\n\t* src/puresize.h: Add INLINE_HEADER_BEGIN, INLINE_HEADER_END.\n\tThis is for building with --enable-gcc-warnings with\n\tGCC 4.6 through 5.0.\n\n2015-10-10  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix vertical-motion in truncated lines that end in a stretch\n\n\t* src/indent.c (Fvertical_motion): Expect overshoot when point is\n\tbeyond window margin and lines are truncated, even if we have a\n\tstretch at point.  (Bug#21468)\n\n2015-10-10  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid link-time errors due to inline functions\n\n\t* src/emacs.c: Include puresize.h, to avoid link-time errors in\n\tunoptimized builds due to PURE_P and CHECK_IMPURE, which are now\n\tinline functions.\n\n2015-10-10  Andreas Schwab  <schwab@linux-m68k.org>\n\n\t* src/data.c (Faset): Fix last change.\n\n2015-10-10  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tCHECK_IMPURE and PURE_P speedup\n\n\t* src/intervals.c (create_root_interval):\n\tDo CHECK_IMPURE only for strings; not needed for buffers.\n\tPrefer ! STRINGP to BUFFERP, for a tad more speed.\n\t* src/puresize.h (CHECK_IMPURE, PURE_P):\n\tNow inline functions instead of macros.\n\t(PURE_P): Don\u2019t use XPNTR; that is now the caller\u2019s responsibility.\n\tAll callers changed.\n\t(CHECK_IMPURE): New argument PTR, to save us the work of running XPNTR.\n\tAll callers changed.\n\n2015-10-09  Noah Friedman  <friedman@splode.com>\n\n\t(tramp-open-connection-setup-interactive-shell): Send -onlcr as well.\n\n2015-10-09  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/progmodes/cc-mode.el (c-after-font-lock-init): Only *move*\n\n\tour after-change-function, rather than re-adding it if it was removed.\n\n2015-10-09  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/cedet/ede: Silence some compiler warnings\n\n\t* lisp/cedet/ede.el: Require cl-lib.  Silence some compiler warnings.\n\t(ede-menu-obj-of-class-p): Use cl-some rather than `eval'.\n\t(ede-apply-object-keymap, ede-reset-all-buffers)\n\t(ede-auto-add-to-target): Use dolist.\n\t(ede-new, ede-flush-deleted-projects, ede-global-list-sanity-check):\n\tUse field names rather than initarg names in `oref'.\n\t(ede-load-project-file): Remove unused var `file'.\n\t(ede-map-any-target-p): Use cl-some rather than ede-map-targets.\n\t(ede-set): Remove unused var `a'.\n\n\t* lisp/cedet/ede/emacs.el: Silence some compiler warnings.\n\t(ede-project-autoload): Avoid the old-style \"name\" argument.\n\t(ede-emacs-find-matching-target): Use field names rather than initarg\n\tnames in `oref'.\n\n\t* lisp/cedet/ede/linux.el: Silence some compiler warnings.\n\t(ede-linux-load, ede-project-autoload): Avoid the old-style\n\t\"name\" argument.\n\t(ede-linux-find-matching-target): Use field names rather than initarg\n\tnames in `oref'.\n\n2015-10-09  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/textmodes/reftex.el: Silence byte-compiler warnings.\n\n2015-10-09  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/progmodes/prolog.el (prolog-smie-rules): Try and avoid\n\tindenting too far after \":-\".\n\n2015-10-09  Eli Zaretskii  <eliz@gnu.org>\n\n\tUpdate case-table and categories of recently added characters\n\n\t* lisp/international/characters.el: Update information about Latin\n\tExtended-C, Latin Extended-D, Latin Extended-E, Cyrillic Extended,\n\tGeorgian, Glagolitic, Deseret, Old Hungarian, and Warang Citi\n\tblocks.  (Byug#21654)\n\n2015-10-09  Martin Rudalics  <rudalics@gmx.at>\n\n\t* src/frame.c (adjust_frame_size): In minibuffer-only windows\n\tdon't count minibuffer height twice.  (Bug#21643)\n\n2015-10-09  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid inflooping in font-lock\n\n\t* lisp/font-lock.el (font-lock-extend-region-wholelines): Bind\n\tinhibit-field-text-motion around the call to\n\tline-beginning-position, to avoid inflooping.  (Bug#21615)\n\n2015-10-09  Tassilo Horn  <tsdh@gnu.org>\n\n\tRefactor duplicated code; ensure default is in completions\n\n\t* lisp/textmodes/reftex-cite.el (reftex--query-search-regexps):\n\tNew function.\n\t(reftex-extract-bib-entries): Use it.\n\t(reftex-extract-bib-entries-from-thebibliography): Use it.\n\n2015-10-09  Vincent Bela\u00efche  <vincentb1@users.sourceforge.net>\n\n\t* doc/misc/autotype.texi (Skeletons as Abbrevs): \"if\" -> \"ifst\"\n\tin the example.\n\n2015-10-08  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/calc/calc.el: Silence byte-compiler warnings.\n\t(calc-scan-for-dels): Use ignore-errors.\n\t(calc-dispatch, calc-do-dispatch): Make unused arg optional.\n\t(calc-read-key-sequence): Remove unused var `prompt2'.\n\t(calc-kill-stack-buffer): Remove unused var `buflist'.\n\t(calc): Remove unused var `oldbuf'.\n\t(calc-refresh): Use inhibit-read-only.\n\t(calc-can-abbrev-vectors): Declare.\n\t(calc-record): Remove unused var `mainbuf'.\n\t(math-sub-bignum): Remove unused var `sum'.\n\t(math-svo-c, math-svo-wid, math-svo-off): Declare.\n\n2015-10-08  Daiki Ueno  <ueno@gnu.org>\n\n\tUse g_clear_error instead of g_error_free\n\n\t* src/image.c: Define g_clear_error instead of g_error_free.\n\t(init_svg_functions): Resolve symbol g_clear_error instead of\n\tg_error_free.\n\t(svg_load_image): Use g_clear_error instead of g_error_free, to\n\tsuppress GLib warnings when ERR is not set.  See bug#21641.\n\n2015-10-08  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* src/image.c (image_size_error): Simplify.\n\n2015-10-08  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix problems caught with --enable-gcc-warnings\n\n\t* src/image.c (lookup_rgb_color):\n\t* src/xfns.c (x_defined_color):\n\t* src/xterm.c (x_parse_color):\n\tRemove unused locals.\n\n2015-10-08  Jay Belanger  <jay.p.belanger@gmail.com>\n\n\t* lisp/calc/calc.el (calc-digit-start-entry): Fix typo.\n\n2015-10-08  Jay Belanger  <jay.p.belanger@gmail.com>\n\n\tFormat initial input uniformly\n\n\t* lisp/calc/calc.el (calc-digit-start-entry): New function.\n\t* lisp/calc/calc.el (calcDigit-start):\n\t* lisp/calc/calc-aent.el (calc-alg-digit-entry):\n\tUse `calc-digit-start-entry' to format input.\n\n2015-10-08  Ken Raeburn  <raeburn@raeburn.org>\n\n\tDisable non-working pointerColor setting for X tooltip frame\n\n\tIt generates a bunch of server traffic, but there's some bug wherein\n\tthe new mouse cursor settings don't seem to get used.  In most\n\tsituations the cursor isn't likely to be seen anyway, so it's not\n\turgent to fix.\n\n\t* src/xfns.c (x_create_tip_frame): Don't set pointerColor.\n\n2015-10-08  Ken Raeburn  <raeburn@raeburn.org>\n\n\tReduce some unnecessary X calls\n\n\t* src/xfns.c (x_real_pos_and_offsets): Remove a redundant XGetGeometry\n\tcall.  If border width is wanted, get it from the XGetGeometry call\n\tinstead of calling XGetWindowAttributes on the same window.  Skip some\n\tX calls if we've already detected an error from the X server.\n\t* src/xterm.c (x_wm_supports): Delete x_sync before x_had_errors_p.\n\t(handle_one_xevent): Delete XSync call before x_uncatch_errors.\n\n2015-10-08  Ken Raeburn  <raeburn@raeburn.org>\n\n\tReduce color allocation/query traffic in the TrueColor case\n\n\tWhen working with an X visual with TrueColor class, pixel values can\n\tbe generated from the RGB values according to mask value provided by\n\tthe server on connection.  Some of the image-handling code was already\n\tdoing this.\n\n\t* src/xterm.h (x_make_truecolor_pixel): New function; code taken from\n\tlookup_rgb_color.\n\t(x_mutable_colormap): New function.\n\t* src/image.c (lookup_rgb_color): Move pixel composition code to\n\tx_make_truecolor_pixel.\n\t(x_kill_gs_process): Call x_mutable_colormap.\n\t* src/xfaces.c (x_free_colors, x_free_dpy_colors): Call\n\tx_mutable_colormap.\n\t* src/xftfont.c (xftfont_get_colors): Call x_query_colors.\n\t* src/xterm.c (x_query_colors): For a TrueColor display, decompose the\n\tpixel value into RGB values directly, and don't send a request to the\n\tserver.\n\t(x_alloc_nearest_color): For a TrueColor display, construct the pixel\n\tvalue with x_make_truecolor_pixel.\n\t(x_copy_color): For an immutable color map, just return the provided\n\tpixel value.\n\n2015-10-08  Ken Raeburn  <raeburn@raeburn.org>\n\n\tCache XParseColor results in the X display info structure\n\n\tWith repeated lookups of foreground and background colors for multiple\n\tfaces per frame, we issue a lot of redundant color name lookups to the\n\tX server, waiting every time for the response.  On a remote network\n\twith, say, 30ms round-trip time, this can add nearly a full second to\n\tcreation of a new frame.\n\n\t* src/gtkutil.c (xg_check_special_colors): Call x_parse_color.\n\t* src/image.c (get_spec_bg_or_alpha_as_argb):\n\t(xpm_init_color_cache, xpm_lookup_color):\n\t* src/xfns.c (x_defined_color):\n\t* src/xterm.c (x_parse_color): New function; caches color names not\n\tstarting with \"#\" in the display-info structure.\n\t(x_delete_display): Delete the cache content.\n\t* src/xterm.h (struct color_name_cache_entry): New type.\n\t(x_parse_color): Declare.\n\t(struct x_display_info): Add a new field for the cache.\n\n2015-10-07  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* src/syntax.c (syms_of_syntax): Make syntax-propertize--done local.\n\n2015-10-07  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix segfault in image_size_error\n\n\t* src/image.c (image_size_error): Pass a Lisp string to\n\timage_error, not a C string.  (Bug#21641)\n\n2015-10-07  Simen Heggest\u00f8yl  <simenheg@gmail.com>\n\n\tHighlight CSS variable definitions\n\n\t* lisp/textmodes/css-mode.el (css-nmstart-re): Tweak regexp to accept\n\tCSS variables.  (Bug#21638)\n\n2015-10-07  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* test/automated/tabulated-list-test.el: New file.\n\tTest bug#21639 and some basic functionality.\n\n2015-10-07  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/tabulated-list.el (tabulated-list-sort):\n\tCheck if column can be sorted before trying.  (Bug#21639)\n\n2015-10-07  Nicolas Richard  <youngfrog@members.fsf.org>\n\n\tAdd test for `self-insert-command' (bug#21633)\n\n\t* test/automated/cmds-tests.el: New file.\n\n2015-10-07  Martin Rudalics  <rudalics@gmx.at>\n\n\t* src/window.c (resize_frame_windows): Don't set root window's\n\ttop position when resizing horizontally.\n\n2015-10-07  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/progmodes/prog-mode.el (prettify-symbols-alist):\n\tDocument more possible values.\n\n2015-10-06  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/textmodes/tex-mode.el: Use lexical-binding.\n\n2015-10-06  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/indent.el (indent--default-inside-comment): New function.\n\t(indent-for-tab-command): Use it for `noindent' indentation.\n\n2015-10-06  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix bug in GC_CHECK_MARKED_OBJECTS check\n\n\t* src/alloc.c (mark_object): Fix bug in checking code.\n\tWhen GC_CHECK_MARKED_OBJECTS is defined, the bug caused\n\tCHECK_ALLOCATED_AND_LIVE_SYMBOL to repeatedly do the\n\tCHECK_ALLOCATED and CHECK_LIVE tests for the first symbol in each\n\tbucket.  The bug did not affect behavior either in the normal case\n\twhere GC_CHECK_MARKED_OBJECTS is not defined, or where Emacs does\n\tnot have an internal error that a properly-written\n\tCHECK_ALLOCATED_AND_LIVE_SYMBOL would detect.\n\n2015-10-06  Tassilo Horn  <tsdh@gnu.org>\n\n\t* lisp/textmodes/tex-mode.el (tex--prettify-symbols-alist):\n\tAdd prettified version for \\\\Bbb{Q}.\n\n2015-10-06  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* test/automated/package-test.el (package-test-install-single):\n\tAdd a test for bug#21625.\n\n2015-10-06  Aaron Ecay  <aaronecay@gmail.com>\n\n\t* lisp/emacs-lisp/package.el (package-install): Fix error when pkg is\n\t  not a package-desc object.  Also clarify documentation.  (Bug#21625)\n\n2015-10-06  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix display of characters adjacent to ZWJ and ZWNJ\n\n\t* src/bidi.c (bidi_resolve_neutral): Treat all Bn (a.k.a. \"control\")\n\tcharacters the same as directional formatting controls.\n\t(bidi_level_of_next_char): Include all Bn characters in rule L1,\n\tas mandated by the UBA.\n\n2015-10-06  Andreas Schwab  <schwab@suse.de>\n\n\t* src/cmds.c (Fself_insert_command): Don't use XFASTINT on a negative\n\tnumber.  (Bug#21633)\n\n2015-10-05  Xue Fuqiao  <xfq.free@gmail.com>\n\n\t* doc/lispref/objects.texi (Window Type): Add a cross reference.\n\n\t* src/buffer.c (syms_of_buffer): Typo fix.  (Bug#21622)\n\n2015-10-05  Eli Zaretskii  <eliz@gnu.org>\n\n\t* lisp/language/misc-lang.el (composition-function-table):\n\tFix entries for Arabic and Syriac.\n\n2015-10-05  Damien Cassou  <damien@cassou.me>\n\n\tAdd first unit tests for auth-source.el\n\n\t* test/automated/auth-source-tests.el: New file.\n\n2015-10-05  Eli Zaretskii  <eliz@gnu.org>\n\n\tRemove redundant redisplay code\n\n\t* src/xdisp.c (redisplay_internal, try_cursor_movement)\n\t(try_window_reusing_current_matrix, try_window_id): Remove\n\tredundant restrictions on redisplay optimizations based on the\n\tframe's 'redisplay' flag.  See\n\thttp://osdir.com/ml/general/2015-10/msg02110.html for the relevant\n\tdiscussions.\n\n2015-10-04  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* src/xdisp.c (windows_or_buffers_changed): Improve docstring.\n\n2015-10-04  Xue Fuqiao  <xfq.free@gmail.com>\n\n\tUpdate tutorials/TUTORIAL.cn\n\n\t* etc/tutorials/TUTORIAL.cn: Improve translation.\n\n2015-10-04  YAMAMOTO Mitsuharu  <mituharu@math.s.chiba-u.ac.jp>\n\n\t* src/macfont.m (macfont_encode_char, syms_of_macfont):\n\tRemove unused vars.\n\n2015-10-04  Stefan Merten  <stefan@merten-home.de>\n\n\tPull in version numbers from rst.el upstream release.\n\n\t* lisp/textmodes/rst.el (rst-cvs-header, rst-svn-rev)\n\t(rst-svn-timestamp, rst-official-version)\n\t(rst-official-cvs-rev, rst-package-emacs-version-alist):\n\tUpdate version numbers.\n\n2015-10-04  Eli Zaretskii  <eliz@gnu.org>\n\n\t* test/automated/coding-tests.el: New file.\n\n2015-10-04  Michael Albinus  <michael.albinus@gmx.de>\n\n\tImprove XEmacs compatibility of Tramp\n\n\t* lisp/net/tramp-compat.el (directory-listing-before-filename-regexp):\n\tDeclare if it doesn't exist.\n\t(file-remote-p): Remove defalias, which was necessary for GNU Emacs 21.\n\t(redisplay): Make it an alias if it doesn't exist.\n\n\t* lisp/net/tramp.el (tramp-get-remote-tmpdir): Don't use\n\t`file-remote-p' (due to XEmacs compatibility).\n\n\t* lisp/net/trampver.el (locate-dominating-file)\n\t(tramp-compat-replace-regexp-in-string): Autoload.\n\t(tramp-repository-get-version): Do not dupe byte-compiler.\n\n2015-09-02  K. Handa  <handa@gnu.org>\n\n\tfix for the case that M17N_FLT_USE_NEW_FEATURE is not defined\n\n\t* src/ftfont.c (ftfont_drive_otf) [not M17N_FLT_USE_NEW_FEATURE]:\n\tAdjusted for the change of type of elements in the array\n\tMFLTGlyphString.glyphs.\n\n2015-10-04  Eli Zaretskii  <eliz@gnu.org>\n\t    Michael Heerdegen  <michael_heerdegen@web.de>\n\n\tshr: fix too long lines in rendered buffers (Bug#21012)\n\n\t* lisp/net/shr.el (shr-insert-document, shr-fill-text):\n\tCorrect calculation of available width.\n\t(shr-find-fill-point): Don't overflow window edge if shr-kinsoku-shorten\n\tis nil.\n\n2015-10-04  Vincent Bela\u00efche  <vincentb1@users.sourceforge.net>\n\n\tRestore blank line before next section, erroneously erased\n\tin my previous commit\n\n\t* etc/compilation.txt (symbol ant): Add an additional trailing blank\n\tline to this section, so that there are two of them immediately before\n\tthe next section.\n\n2015-10-04  Vincent Bela\u00efche  <vincentb1@users.sourceforge.net>\n\n\tSupport MSW filename style for ant compilation error regexp\n\n\t* etc/compilation.txt (symbol ant):\n\t* lisp/progmodes/compile.el (compilation-error-regexp-alist-alist):\n\tSupport MSW filename style.\n\n2015-10-03  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* nt/INSTALL: Minor spelling and quote fixes.\n\n\t* lisp/ibuffer.el: Fix docstring length (Bug#21541).\n\n2015-10-03  Simen Heggest\u00f8yl  <simenheg@gmail.com>\n\n\tMaintain ordering of JSON object keys by default\n\n\t* lisp/json.el (json-object-type): Mention order handling in doc-string.\n\t(json--plist-reverse): New utility function.\n\t(json-read-object): Maintain ordering for alists and plists.\n\t(json-pretty-print): Ensure that ordering is maintained.\n\n\t* test/automated/json-tests.el (test-json-plist-reverse): New test for\n\t`json--plist-reverse'.\n\t(json-read-simple-alist): Update test to accommodate for changes in\n\t`json-read-object'.\n\n\t* etc/NEWS: Document the new behavior of the pretty printing functions.\n\n2015-10-03  Andreas Schwab  <schwab@linux-m68k.org>\n\n\t* src/coding.c (complement_process_encoding_system): Revert last change.\n\n2015-10-03  Ulf Jasper  <ulf.jasper@web.de>\n\n\t* admin/MAINTAINERS: Add entry for Ulf Jasper.\n\n2015-10-03  Xue Fuqiao  <xfq.free@gmail.com>\n\n\tDoc fix for `defmacro'\n\n\t* doc/lispref/objects.texi (Macro Type): `defmacro' is a macro now.\n\n2015-10-03  Andreas Schwab  <schwab@linux-m68k.org>\n\n\tMore validatation of coding systems\n\n\t* src/fileio.c (Finsert_file_contents): Remove redundant\n\tcoding-system check.\n\t(choose_write_coding_system): Likewise.\n\t* src/coding.c (complement_process_encoding_system): Check argument\n\tfor valid coding system.\n\n2015-10-03  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid crashes in coding_inherit_eol_type\n\n\t* src/coding.c (coding_inherit_eol_type): Check the validity of\n\tthe arguments.  Suggested by Andreas Schwab <schwab@linux-m68k.org>.\n\t(Bug#21602)\n\n2015-10-03  Eli Zaretskii  <eliz@gnu.org>\n\n\tMore validatation of coding system in 'write-region'\n\n\t* src/coding.c (choose_write_coding_system): More validation of\n\tcoding-system from various sources.  Suggested by Andreas Schwab\n\t<schwab@linux-m68k.org>.  (Bug#21602)\n\n2015-10-03  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid crashes due to invalid coding-system\n\n\t* src/fileio.c (choose_write_coding_system)\n\t(Finsert_file_contents): Check validity of coding-system-for-write\n\tand coding-system-for-read bound by the caller.  (Bug#21602)\n\n2015-10-03  Tassilo Horn  <tsdh@gnu.org>\n\n\tAdapt to new prettify-symbols-unprettify-at-point default\n\n\t* etc/NEWS: Mention that unprettication of symbol at point is off\n\tby default.\n\n2015-10-03  Tassilo Horn  <tsdh@gnu.org>\n\n\tRevert my two recent process.c changes\n\n\tRevert \"Improve last commit to process.c\" and \"Remove callback-handled\n\tchannels from Available set\" because they did not fix bug#21313.\n\n\tThis reverts commits bfa1aa8e2bdaf14adbbf1e9e824051d3f740694c and\n\t27f871907cc24f33a7d12ac3a4ab71a88f0bc554.\n\n2015-10-02  Markus Triska  <triska@metalevel.at>\n\n\t* lisp/progmodes/prolog.el: Update and extend operator table.\n\t(prolog-smie-grammar): Add multifile, public etc.\n\n2015-10-02  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tAllow autogen even when Git is not installed\n\n\t* autogen.sh: Test \u2018git status\u2019 before trying to use Git.\n\n2015-10-02  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/vc/vc-git.el (vc-git-region-history): Handle local changes.\n\tAdjust lto/lfrom when we have uncommitted changes.\n\n2015-10-02  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix problems found by clang 3.5.0\n\n\t* src/cmds.c (Fdelete_char): Don\u2019t assume XINT returns int.\n\t* src/font.c (font_parse_family_registry):\n\tUse &\"str\"[X] instead of \"str\"+X, to pacify clang -Wstring-plus-int.\n\n2015-10-02  Eli Zaretskii  <eliz@gnu.org>\n\n\t* nt/INSTALL: Update instructions for running autogen.sh.\n\n\t* nt/INSTALL: Point to ezwinports for libXpm binaries.\n\n2015-10-02  Daniel Colascione  <dancol@dancol.org>\n\n\tFix winner in cl-lib not loaded case\n\n\t* lisp/winner.el (winner-change-fun): Don't use cl-lib functions\n\twithout requiring CL\n\n2015-10-02  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix a few problems with directed quotes\n\n\tThis is in response to a problem report by Kaushal Modi in:\n\thttps://bugs.gnu.org/21588#25\n\t* lisp/cedet/mode-local.el (describe-mode-local-overload):\n\t* lisp/emacs-lisp/bytecomp.el (byte-compile-fix-header):\n\t* lisp/info-xref.el (info-xref-check-all-custom):\n\t* lisp/mail/emacsbug.el (report-emacs-bug-hook):\n\tPrefer directed to undirected single quotes in diagnostics.\n\n2015-10-01  Eli Zaretskii  <eliz@gnu.org>\n\n\tRevert \"Attempt to fix slow redisplay caused by last changes\"\n\n\t* src/xdisp.c (try_window_id, try_window_reusing_current_matrix)\n\t(try_cursor_movement): Don't relax requirements for redisplay\n\toptimizations for the selected frame.  (Bug#21597)\n\n\tThis reverts commit c4c1fb97727ff52bcfa83ad5ed94a64a93d12e59.\n\n2015-10-01  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix slow redisplay when daemon frame exists\n\n\t* src/xdisp.c (redisplay_internal): Don't consider daemon frames\n\twhen looking for frames that need to be redisplayed.  (Bug#21597)\n\n2015-10-01  Eli Zaretskii  <eliz@gnu.org>\n\n\tAttempt to fix slow redisplay caused by last changes\n\n\t* src/xdisp.c (try_window_id, try_window_reusing_current_matrix)\n\t(try_cursor_movement): Relax requirements for redisplay\n\toptimizations for the selected frame.  (Bug#21597)\n\n2015-10-01  Stephen Leake  <stephen_leake@stephe-leake.org>\n\n\t* src/dired.c (Ffile_name_completion, Ffile_name_all_completions):\n\tImprove doc string.\n\n2015-10-01  Stephen Leake  <stephen_leake@stephe-leake.org>\n\n\t* lisp/minibuffer.el (minibuffer-completion-help):\n\tSet default base-size, in case completion table does not set it.\n\n2015-10-01  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix GUD display of GDB output with non-ASCII text\n\n\t* lisp/progmodes/gdb-mi.el (gdb-mi-decode-strings): New defcustom.\n\t(gdb-mi-decode): New function.\n\t(gud-gdbmi-marker-filter): If gdb-mi-decode-strings is non-nil,\n\tdecode octal escapes in GDB output.  (Bug#21572)\n\n2015-10-01  Eli Zaretskii  <eliz@gnu.org>\n\n\t* nt/INSTALL: Document where to find XPM support files.\n\n2015-10-01  Tassilo Horn  <tsdh@gnu.org>\n\n\tUn- and re-prettification are not exclusive\n\n\t* lisp/progmodes/prog-mode.el (prettify-symbols--post-command-hook):\n\tRe-apply prettification to previous symbol also when unprettifying\n\tnext one.\n\n2015-10-01  Tassilo Horn  <tsdh@gnu.org>\n\n\tDon't unprettify symbol at point by default\n\n\t* lisp/progmodes/prog-mode.el (prettify-symbols-unprettify-at-point):\n\tDefault to disabled (nil).\n\n2015-09-30  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/progmodes/prog-mode.el (prettify-symbols-unprettify-at-point):\n\tSupport unprettifying when point is after a symbol.\n\n\t* etc/NEWS: Document `prettify-symbols-unprettify-at-point'.\n\n2015-09-30  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid assertion violations in push_prefix_prop\n\n\t* src/xdisp.c (push_prefix_prop): Avoid assertion violations when\n\ta line that has a line-prefix defined starts with an image.  (Bug#21428)\n\n2015-09-30  Eli Zaretskii  <eliz@gnu.org>\n\n\tDisable some display optimizations when frames need redisplay\n\n\tThese optimizations were previously disabled by the\n\twindows_or_buffers_changed flag, which now is not set\n\twhen only some frames need to be redrawn.\n\t* src/xdisp.c (redisplay_internal): Redisplay any frame whose\n\t'redisplay' flag is set.\n\t(try_window_reusing_current_matrix, try_window_id)\n\t(try_cursor_movement): Disable these optimizations when the\n\tframe's 'redisplay' flag is set.\n\n2015-09-30  Tassilo Horn  <tsdh@gnu.org>\n\n\tDon't modify buffer by unprettification\n\n\t* lisp/progmodes/prog-mode.el (prettify-symbols--compose-symbol):\n\t(prettify-symbols--post-command-hook, prettify-symbols-mode): Don't\n\tmodify buffer when setting/removing custom prettify-symbols-start/end\n\ttext properties.  Add them to font-lock-extra-managed-props, too.\n\n2015-09-30  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tTry to avoid redisplaying all frames when creating a new one\n\n\t* src/xfns.c (x_set_menu_bar_lines, x_change_tool_bar_height):\n\t* src/xfaces.c (Finternal_make_lisp_face, Finternal_copy_lisp_face)\n\t(Finternal_set_lisp_face_attribute, update_face_from_frame_parameter):\n\t* src/frame.c (x_set_screen_gamma): Set the specific frame's\n\t`redisplay' bit rather than windows_or_buffers_changed.\n\n\t* src/window.c (apply_window_adjustment): Remove redundant setting of\n\twindows_or_buffers_changed.\n\n\t* src/xdisp.c (redisplay_internal): Set the specific frame's\n\t`redisplay' bit rather than update_mode_lines in response to\n\tcursor_type_changed.\n\t(syms_of_xdisp): Use hash-tables for redisplay_*_cause tables.\n\t(AINC): Adjust accordingly.\n\n2015-09-30  Tassilo Horn  <tsdh@gnu.org>\n\n\tImplement unprettification of symbol at point\n\n\t* lisp/progmodes/prog-mode.el: Implement feature for unprettifying the\n\tsymbol at point.\n\t(prettify-symbols--current-symbol-bounds): New variable.\n\t(prettify-symbols--post-command-hook): New function.\n\t(prettify-symbols-unprettify-at-point): New defcustom.\n\t(prettify-symbols-mode): Use it.\n\t(prettify-symbols--compose-symbol): Use them.\n\n2015-09-30  YAMAMOTO Mitsuharu  <mituharu@math.s.chiba-u.ac.jp>\n\n\t* src/macfont.m (mac_font_descriptor_supports_languages):\n\tRegard \"zh\" as synonym of \"zh-Hans\".\n\n2015-09-30  YAMAMOTO Mitsuharu  <mituharu@math.s.chiba-u.ac.jp>\n\n\tWork around crash when displaying etc/HELLO on OS X 10.11\n\n\t* src/macfont.m (mac_font_get_weight)\n\t(mac_font_descriptor_get_adjusted_weight): New functions.\n\t(macfont_store_descriptor_attributes): Adjust weight.\n\n2015-09-30  YAMAMOTO Mitsuharu  <mituharu@math.s.chiba-u.ac.jp>\n\n\t* src/macfont.m: Fix compilation with USE_CT_GLYPH_INFO.\n\n2015-09-30  Nicolas Petton  <nicolas@petton.fr>\n\n\t* lisp/arc-mode.el (archive-rar-summarize): Better alignment\n\tof the columns.\n\n2015-09-30  Nicolas Petton  <nicolas@petton.fr>\n\n\tUse unar and lsar to handle RAR archives in arc-mode\n\n\t* lisp/arc-mode.el (archive-rar-extract, archive-extract-by-file): Rely\n\ton unar and lsar instead of unrar-free for RAR archives (bug#17663).\n\n2015-09-30  Wieland Hoffmann  <themineo@gmail.com>  (tiny change)\n\n\tClarify :create in auth-source's docs\n\n\t* lisp/gnus/auth-source.el (auth-source-search):\n\tClarify :create's meaning.\n\n2015-09-30  Phil Sainty  <psainty@orcon.net.nz>\n\n\tAvoid empty -path arguments in rgrep\n\n\t* lisp/progmodes/grep.el (rgrep-default-command): Remove nil from\n\tthe list produced according to grep-find-ignored-directories,\n\tbefore passing it to Find/Grep invocation.  (Bug#21548)\n\n2015-09-30  Eli Zaretskii  <eliz@gnu.org>\n\n\tClarify documentation of pos-visible-in-window-p\n\n\t* src/window.c (Fpos_visible_in_window_p): Clarify the meaning of\n\tt for POS.  See\n\thttps://lists.gnu.org/r/emacs-devel/2015-09/msg01040.html\n\tfor the original report.\n\n\t* doc/lispref/windows.texi (Window Start and End): Clarify the\n\tmeaning of t for the POSITION argument of pos-visible-in-window-p.\n\n2015-09-29  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/progmodes/prolog.el: Fix various indentation cases.\n\t(prolog-operator-chars): New const (add \\\\).\n\t(prolog-smie-forward-token, prolog-smie-backward-token): Use it.\n\t(prolog-smie-rules): Add rules according to bug#21526.\n\n2015-09-29  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/progmodes/sh-script.el: Old \"dumb\" continued line indent.\n\t(sh-indent-after-continuation): Add new value `always' (bug#17620)\n\t(sh-smie-sh-rules): Remove old handling of continued lines.\n\t(sh-smie--indent-continuation): New function.\n\t(sh-set-shell): Use it.\n\n2015-09-29  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/progmodes/octave.el: Use grammar more; Handle enumeration fun.\n\tRemove redundant :group keyword args.\n\t(octave-begin-keywords, octave-else-keywords, octave-end-keywords):\n\tRemove variables.\n\t(octave-operator-table, octave-smie-bnf-table): Use let-when-compile to\n\tturn them into compile-time variables.\n\tAuto-generate the \"foo ... end\" rules from the \"foo ... endfoo\" rules.\n\tAdd rules for break, continue, return, global, and persistent.\n\tRefine the rule for \"until\".\n\t(octave-smie--funcall-p, octave-smie--end-index-p)\n\t(octave-smie--in-parens-p): New functions.\n\t(octave-smie-backward-token, octave-smie-forward-token): Use them to\n\tdistinguish the \"enumeration\" function and the \"end\" index from\n\ttheir corresponding keywords.\n\t(octave--block-offset-keywords): New constant.\n\t(octave-smie-rules): Use it.  Adjust rules for new global/persistent\n\tparsing.\n\t(octave-reserved-words): Redefine using octave-smie-grammar.\n\t(octave-font-lock-keywords): Use octave-smie--funcall-p and\n\toctave-smie--end-index-p.\n\n2015-09-29  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/lisp-mode.el (let-when-compile): Work like let*.\n\n2015-09-29  Eli Zaretskii  <eliz@gnu.org>\n\n\t* nt/INSTALL: Remove references to GTK site.\n\tThat site no longer offers Windows downloads.\n\n2015-09-29  Eli Zaretskii  <eliz@gnu.org>\n\n\t* nt/INSTALL: Add instructions for installing Git.\n\n2015-09-29  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\t* lisp/net/shr.el (shr-colorize-region): Allow 88-color tty to\n\tuse colors.  Suggested by Eli Zaretskii.\n\n2015-09-28  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\t* lisp/net/shr.el (shr-colorize-region): Don't do it on a system\n\tnot supporting 256 above colors (bug#21557).\n\n2015-09-28  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tRevert \"Don't rely on defaults in decoding UTF-8 encoded Lisp files\"\n\n\tThis reverts commit db828f62f6f17414fbbc3206dac123dc73dd6055.\n\n2015-09-28  Nicolas Petton  <nicolas@petton.fr>\n\n\tAdd documentation for seq.el\n\n\t* doc/lispref/sequences.texi: Add documentation regarding extending\n\tseq.el, as well as missing documentation for seq-elt, seq-length, seq-p,\n\tseq-do and seq-map.\n\n2015-09-28  Nicolas Petton  <nicolas@petton.fr>\n\n\tBetter documentation for seq-some\n\n\t* doc/lispref/sequences.texi:\n\t* lisp/emacs-lisp/seq.el: Update the documentation of seq-some to\n\tguarantee that the returned value is the first non-nil value that\n\tresulted from applying the predicate.\n\n2015-09-28  Nicolas Petton  <nicolas@petton.fr>\n\n\t* lisp/arc-mode.el: Sharp-quote function arguments.\n\n2015-09-28  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid redisplay error in ediff-regions-wordwise\n\n\t* lisp/vc/ediff-util.el\n\t(ediff-clone-buffer-for-region-comparison): Make sure the mark is\n\tset before activating it.  (Bug#21567)\n\n2015-09-28  Eli Zaretskii  <eliz@gnu.org>\n\n\tAnother attempt to fix crashes due to prematurely freed faces\n\n\t* src/xdisp.c (redisplay_internal): Inhibit freeing of realized\n\tfaces for as long as we might have desired matrices that reference\n\tthose faces.  (Bug#21428)\n\n2015-09-28  Tassilo Horn  <tsdh@gnu.org>\n\n\tAdd auctex development list email address\n\n2015-09-28  Tassilo Horn  <tsdh@gnu.org>\n\n\t* admin/MAINTAINERS: Add entries for AUCTeX team and myself.\n\n2015-09-28  Arash Esbati  <esbati@gmx.de>  (tiny change)\n\n\tImprove wrapfig package support and caption parsing\n\n\t* lisp/textmodes/reftex-vars.el (reftex-label-alist-builtin):\n\tCorrect description string and add wraptable environment.\n\t(reftex-default-context-regexps): Improve caption regexp.\n\n2015-09-28  Anders Lindgren  <andlind@gmail.com>\n\n\tRespect value of frame_resize_pixelwise when handling fullscreen state\n\n\t* src/nsterm.m (handleFS): Respect frame_resize_pixelwise when\n\tsetting size increments.\n\n2015-09-27  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* src/gfilenotify.c (Fgfile_add_watch): Cleanup temporary variable.\n\n2015-09-27  Simen Heggest\u00f8yl  <simenheg@gmail.com>\n\n\tAdd prettify-symbols-alist for js-mode\n\n\t* lisp/progmodes/js.el (js--prettify-symbols-alist): New defconst.\n\t(js-mode): Use it.\n\n2015-09-27  Eli Zaretskii  <eliz@gnu.org>\n\n\t* nt/subdirs.el: File deleted (no longer used).\n\n2015-09-26  Alan Mackenzie  <acm@muc.de>\n\n\tFix follow-scroll-up/down, making them replacements for scroll-up/down\n\n\t1. Allow point to move between follow windows in scroll operations.\n\t2. Fix bug where `right-char' just before EOB caused spurious scrolling,\n\twhen EOB was isolated in the last follow window.\n\n\t* lisp/follow.el (follow-fixed-window): New variable.\n\t(follow-get-scrolled-point): New function.\n\t(follow-scrol-up, follow-scroll-down): Add autoload cookies.\n\tReformulate the code.  Put `scroll-command' properties on the functions.\n\tCorrect minor errors in ...-down's doc string and code.\n\t(follow-calc-win-end): Amend incomplete doc string.  Use\n\t`pos-visible-in-window-p' to check whether EOB is in the window.\n\t(follow-estimate-first-window-start): Correct an off-by-1 error.\n\t(follow-adjust-window): Add handling for explicit scrolling operations.\n\n2015-09-26  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* admin/MAINTAINERS: Add self, plus list some more files\n\tsans maintaners.\n\n2015-09-26  Zachary Kanfer  <zkanfer@gmail.com>  (tiny change)\n\n\tNew DWIM commands for changing letter-case\n\n\t* lisp/simple.el (upcase-dwim, downcase-dwim, capitalize-dwim):\n\tNew functions.  (Bug#21501)\n\n2015-09-26  Eli Zaretskii  <eliz@gnu.org>\n\n\t* etc/PROBLEMS: Document problems with pasting on MS-Windows.\n\n2015-09-26  Eli Zaretskii  <eliz@gnu.org>\n\n\tMake face realization be more frame-specific\n\n\t* src/frame.h (struct f): New flag face_change.\n\t* src/xfaces.c (Finternal_make_lisp_face)\n\t(Finternal_copy_lisp_face, Finternal_set_lisp_face_attribute)\n\t(update_face_from_frame_parameter): Set the face_change flag only\n\tfor the frame whose faces are affected.\n\t* src/xdisp.c (init_iterator): If a frame's face_change flag is\n\tset, free faces only on that frame.\n\t(redisplay_internal): Disable \"display optimization 1\" if the\n\tframe's face_change flag is set.\n\t(redisplay_window): Don't allow skipping a window's redisplay if\n\tits frame's face_change flag is set.\n\t* src/frame.c (x_set_screen_gamma): Instead of calling\n\tFclear_face_cache, call clear_face_cache and set\n\twindows_or_buffers_changed to a non-zero value.  This avoids\n\tsetting the global face_change flag that triggers face realization\n\ton all frames and thorough redisplay of all of them.\n\n\t* lisp/term/tty-colors.el (tty-register-default-colors): Don't\n\tclear face cache if the selected frame is a GUI frame.\n\n2015-09-26  Tassilo Horn  <tsdh@gnu.org>\n\n\tRemove font-latex specific check\n\n\t* lisp/textmodes/tex-mode.el (tex--prettify-symbols-compose-p):\n\tUse syntax-ppss data to identify verbatim contents.\n\n2015-09-25  Tassilo Horn  <tsdh@gnu.org>\n\n\t* lisp/textmodes/tex-mode.el (tex--prettify-symbols-compose-p):\n\tFix some false negatives.\n\n2015-09-25  Eli Zaretskii  <eliz@gnu.org>\n\n\tReorder Windows version in Emacs manifests\n\n\t* nt/emacs-x64.manifest:\n\t* nt/emacs-x86.manifest: Reorder Windows version from lowest to\n\thighest.\n\n2015-09-25  Eli Zaretskii  <eliz@gnu.org>\n\n\tUpdate Emacs manifest files for Windows 10\n\n\t* nt/emacs-x86.manifest:\n\t* nt/emacs-x64.manifest: Declare compatibility with Windows 10.\n\n2015-09-25  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid non-ASCII decoding errors in C src files\n\n\t* src/nsterm.m:\n\t* src/lisp.h:\n\t* src/editfns.c:\n\t* src/doprnt.c: Add 'coding' cookies -- these files include\n\tUnicode characters and should be decoded as UTF-8.\n\n2015-09-25  Alan Mackenzie  <acm@muc.de>\n\n\tResurrect edebug-set-initial-mode, repurposing it to set the global mode\n\n\t* lisp/emacs-lisp/edebug.el (edebug-initial-mode-alist): Uncomment, and\n\tamend to match current modes and functions.\n\t(edebug-set-initial-mode): Uncomment and change from setting a defun's\n\t`edebug-initial-mode''s property to setting the variable\n\t`edebug-initial-mode'.\n\t(top level): Create new binding C-x C-a C-m for\n\t`edebug-set-initial-mode'.\n\n\t* doc/lispref/edebug.texi (Edebug Execution Modes): Document\n\t`edebug-set-initial-mode' and its new key binding.\n\t(Edebug Options): Mention the new command in the pertinent place.\n\n\t* etc/NEWS: Write entry for this change.\n\n2015-09-25  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid non-ASCII decoding errors in Texinfo files\n\n\t* doc/misc/tramp.texi:\n\t* doc/lispref/strings.texi:\n\t* doc/lispref/positions.texi:\n\t* doc/lispref/help.texi:\n\t* doc/lispref/functions.texi:\n\t* doc/lispintro/emacs-lisp-intro.texi:\n\t* doc/emacs/text.texi:\n\t* doc/emacs/modes.texi:\n\t* doc/emacs/mini.texi:\n\t* doc/emacs/display.texi:\n\t* doc/emacs/custom.texi:\n\t* doc/emacs/basic.texi: Add 'coding' cookies -- these files use\n\tUnicode characters and should be decoded as UTF-8.\n\t* doc/lispref/frames.texi (Size Parameters): Don't use a non-ASCII\n\tapostrophe unnecessarily.\n\n2015-09-25  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from gnulib\n\n\tThis incorporates:\n\t2015-09-25 c-ctype: rewrite to use inline functions\n\t2015-09-24 maint: add coding cookies to non-ASCII sources\n\t2015-09-24 gitlog-to-changelog: trim only trailing whitespaces\n\t* build-aux/gitlog-to-changelog, doc/misc/texinfo.tex:\n\t* lib/acl-internal.c, lib/acl-internal.h, lib/c-ctype.c:\n\t* lib/c-ctype.h, lib/get-permissions.c, lib/qcopy-acl.c:\n\t* lib/set-permissions.c:\n\tCopy from gnulib.\n\n2015-09-24  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tUpdate publicsuffix.txt from upstream\n\n\t* etc/publicsuffix.txt: Update from\n\thttps://publicsuffix.org/list/effective_tld_names.dat\n\tdated 2015-09-24 17:29:21 UTC.\n\n2015-09-24  Eli Zaretskii  <eliz@gnu.org>\n\n\tPrevent timers from messing up TTY menus\n\n\t* src/term.c (tty_menu_activate): Inhibit redisplay for as long as\n\tthe TTY menu is open.  (Bug#21530)\n\n2015-09-24  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tNo need to mention K&R C in c-mode intro\n\n2015-09-24  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tFix recent bootstrap problems\n\n\t* src/syntax.c (parse_sexp_propertize): Fix last fix.\n\t* lisp/nxml/nxml-mode.el (nxml-comment-quote-nested): Fix paren typo.\n\t* lisp/emacs-lisp/lisp-mode.el: Require cl-lib for cl-progv.\n\n2015-09-24  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* src/gfilenotify.c (Fgfile_add_watch): Decrease polling rate.\n\n2015-09-23  Ivan Andrus  <darthandrus@gmail.com>\n\n\tProperly quote nested xml comments (Bug#6267) (Bug#20001)\n\n\t* lisp/nxml/nxml-mode.el (nxml-comment-quote-nested): New function.\n\t(nxml-mode): Set comment-quote-nested-function.\n\n2015-09-23  Ivan Andrus  <darthandrus@gmail.com>\n\n\tAllow major-modes full control over quoting nested comments\n\n\t* lisp/newcomment.el (comment-quote-nested-function): New variable.\n\t(comment-quote-nested-default): New function.\n\t(comment-quote-nested): Use `comment-quote-nested-function'.\n\n2015-09-23  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPrefer CALLN in a few more places\n\n\t* src/macfont.m (macfont_set_family_cache):\n\t* src/nsterm.m (append2):\n\t* src/xterm.c (x_cr_export_frames):\n\tPrefer CALLN to allocating the arg arrays by hand.\n\n2015-09-23  Michael Albinus  <michael.albinus@gmx.de>\n\n\tAdapt file-notify-test02-events test case\n\n\t* test/automated/file-notify-tests.el (file-notify-test02-events):\n\tCreate a new watch for every test.\n\n2015-09-23  Michael Albinus  <michael.albinus@gmx.de>\n\n\tContinue gfilenotify.c implementation of missing parts\n\n\t* lisp/filenotify.el (file-notify-add-watch): Append `flags' to\n\t`gfile-add-watch' call.\n\t(file-notify-rm-watch): Modify `file-notify-descriptors' only\n\tafter calling the low level functions.\n\n\t* src/gfilenotify.c (dir_monitor_callback): Check, whether\n\tevent_type is expected.\n\t(Fgfile_add_watch): Allow also `change'and `attribute-change' for FLAGS.\n\t(Fgfile_rm_watch): Fix typo.\n\t(syms_of_gfilenotify): Declare Qchange and Qattribute_change.\n\n2015-09-23  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* src/syntax.c (parse_sexp_propertize): Handle spurious\n\te_property_truncated flag.\n\t(update_syntax_table_forward): Remove invalid assertion.\n\n2015-09-23  Eli Zaretskii  <eliz@gnu.org>\n\n\t* src/xdisp.c (produce_stretch_glyph): Support ':relative-width'\n\tspace display spec on text-mode terminals, by calling\n\tPRODUCE_GLYPHS instead of x_produce_glyphs.  Remove the\n\tHAVE_WINDOW_SYSTEM guards from the supporting code, as well as the\n\ttest for a GUI frame.\n\n2015-09-23  Oleh Krehel  <ohwoeowho@gmail.com>\n\n\tMove let-when-compile to lisp-mode.el\n\n\tThis fixes the bootstrapping problem of `let-when-compile' using\n\t`cl-progv' while being in subr.el (i.e. before cl stuff was loaded).\n\n2015-09-23  Thomas Fitzsimmons  <fitzsim@fitzsim.org>\n\n\t* lisp/url/url-http.el (url-http-parse-headers): Do not\n\tautomatically include Authorization header in redirect.\n\t(Bug#21350)\n\n2015-09-22  Eli Zaretskii  <eliz@gnu.org>\n\n\tClarify documentation of ':relative-width'\n\n\t* doc/lispref/display.texi (Specified Space): Document that\n\t':relative-width' is only supported on GUI frames.\n\n2015-09-22  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix 'current-column' in presence of :relative-width\n\n\t* src/indent.c (check_display_width): Support ':relative-width'\n\tin a display spec that specifies a stretch glyph.  (Bug#21533)\n\n2015-09-22  Ken Manheimer  <ken.manheimer@gmail.com>\n\n\tReformat the pdbtrack remote-file fix ChangeLog.2 entry\n\n\t... to conform better to CONTRIBUTE guidelines.\n\n2015-09-22  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/progmodes/prolog.el: Fix indentation of empty line\n\n\t* lisp/emacs-lisp/smie.el (smie-rules-function): Document new\n\t`empty-line-token' element.\n\t(smie-indent-empty-line): New function.\n\t(smie-indent-functions): Add it.\n\n\t* lisp/progmodes/prolog.el (prolog-smie-rules): Fix :list-intro\n\tbehavior and use the new `empty-line-token' element (bug#21526).\n\t(prolog-mode-variables): Fix comment-start-skip setting to match\n\tcomment-start.\n\n\t* test/indent/prolog.prolog: Add nested indentation tests.\n\n\t* lisp/newcomment.el (comment-normalize-vars): Fix default value of\n\tcomment-start-skip not to misuse submatch 1.\n\n2015-09-22  Alan Mackenzie  <acm@muc.de>\n\n\tMake description of `edebug-initial-mode' user friendly\n\n\tFixes bug#21365.\n\n\t* doc/lispref/edebug.texi (Edebug Execution Modes): Change the\n\tdescription of `edebug-initial-mode' from that of its implementation\n\tto that of its visual effect and use.  Move the paragraph higher up.\n\n2015-09-22  Eli Zaretskii  <eliz@gnu.org>\n\n\tlisp/progmodes/gud.el (gud-format-command): Fix last commit\n\n\t* lisp/progmodes/gud.el (gud-format-command): Don't use Tramp internal\n\tfunctions 'tramp-file-name-localname' and 'tramp-dissect-file-name'.\n\n2015-09-22  Tassilo Horn  <tsdh@gnu.org>\n\n\tImprove last commit to process.c\n\n2015-09-22  Michael Albinus  <michael.albinus@gmx.de>\n\n\tImplement gfile-valid-p\n\n\t* lisp/filenotify.el (file-notify-callback): Fix typo.\n\t(gfile-valid-p): Remove defalias.\n\n\t* src/gfilenotify.c (dir_monitor_callback): Cancel the monitor if\n\tthe file or directory to be watched is deleted.\n\t(Fgfile_add_watch): Make watch_object a triple.\n\t(Fgfile_rm_watch): Check, whether watch is cancelled already.\n\t(Fgfile_valid_p): New defun.\n\t(syms_of_gfilenotify): Declare Sgfile_valid_p.\n\n2015-09-22  Tassilo Horn  <tsdh@gnu.org>\n\n\tRemove callback-handled channels from Available set\n\n\t* src/process.c (wait_reading_process_output): Remove channel from\n\tAvailable set if it is handled by a callback, e.g., dbus or\n\tinotify (bug#21313).\n\n2015-09-21  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tUse lunate epsilon for TeX \\epsilon\n\n\t* lisp/textmodes/tex-mode.el (tex--prettify-symbols-alist):\n\tAdd \\varepsilon using GREEK SMALL LETTER EPSILON, and change\n\t\\epsilon to use GREEK LUNATE EPSILON SYMBOL\n\n2015-09-21  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/progmodes/prolog.el: Fix nested electric if-then-else\n\n\t* lisp/progmodes/prolog.el (prolog-find-unmatched-paren): Use innermost\n\trather than outermost paren (bug#21526).\n\n2015-09-21  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tImprove git diff hunk headers for .el, .texi\n\n\tProblem reported by Alan Mackenzie in:\n\thttps://lists.gnu.org/r/emacs-devel/2015-09/msg00826.html\n\t* .gitattributes (*.el, *.texi): New patterns.\n\t* autogen.sh: Configure diff.elisp.xfuncname and\n\tdiff.texinfo.xfuncname if using Git.\n\n2015-09-21  Eli Zaretskii  <eliz@gnu.org>\n\n\tDon't rely on defaults in decoding UTF-8 encoded Lisp files\n\n\t* lisp/replace.el:\n\t* lisp/textmodes/rst.el:\n\t* lisp/whitespace.el: Add an explicit UTF-8 encoding tag.\n\n2015-09-21  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tClarify or replace a few \\u escapes\n\n\t* doc/lispref/nonascii.texi (Character Properties)\n\tMore-detailed commentary for \\u escapes.\n\t* lisp/progmodes/python.el (python--prettify-symbols-alist):\n\t* lisp/replace.el (query-replace-from-to-separator):\n\t* lisp/textmodes/rst.el (rst-bullets, rst-re-alist-def)\n\t(rst-mode-syntax-table):\n\t* lisp/whitespace.el (whitespace-display-mappings):\n\tPrefer actual character to \\u escape when this makes the code\n\teasier to follow in the usual case where Unicode chars can be\n\tdisplayed.\n\n2015-09-21  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPacify GCC -Wmaybe-uninitialized in xdisp.c\n\n\t* src/xdisp.c (face_before_or_after_it_pos): Use do-while rather\n\tthan while loop to avoid GCC -Wmaybe-uninitialized diagnostic with\n\tcharpos.  The loop should always execute at least once anyway.\n\n2015-09-21  Tassilo Horn  <tsdh@gnu.org>\n\n\tSignal error on invalid regexp\n\n\t* lisp/textmodes/reftex-cite.el (reftex-extract-bib-entries):\n\tSignal an error when the user tries searching with a regexp\n\tmatching the empty string.\n\n2015-09-21  Eli Zaretskii  <eliz@gnu.org>\n\n\tAnother fix of file-notify-tests for w32notify\n\n\t* test/automated/file-notify-tests.el (file-notify-test02-events):\n\tFurther adaptation for w32notify: reduce the number of expected\n\t'changed' events.  (Bug#21435)\n\n2015-09-21  Michael Albinus  <michael.albinus@gmx.de>\n\n\tAdapt tests and manual for w32notify\n\n\t* doc/lispref/os.texi (File Notifications): w32notify does not\n\tsend `attribute-changed' events.\n\n\t* test/automated/file-notify-tests.el (file-notify--test-with-events):\n\tSimplify parameters.  Adapt all callees.\n\t(file-notify-test02-events): w32notify does not send\n\t`attribute-changed' events.\n\t(file-notify-test04-file-validity, file-notify-test05-dir-validity):\n\tDo not skip in case of w32notify.  Simply ignore this part of the test.\n\n2015-09-21  Dima Kogan  <dima@secretsauce.net>\n\n\tFix setting breakpoints when remote-debugging\n\n\t* lisp/progmodes/gud.el (gud-format-command): Send localized file\n\tnames to the debugger running on the remote.  (Bug#13304)\n\n2015-09-21  Nicolas Petton  <nicolas@petton.fr>\n\n\tBetter docstring and parameter name for seq-find\n\n\t* lisp/emacs-lisp/seq.el (seq-find): Improve the docstring and rename\n\tthe parameter `sentinel' to `default'.\n\n\t* doc/lispref/sequences.texi (Sequence Functions): Update the\n\t  documentation for `seq-find' accordingly.\n\n2015-09-21  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid infinite recursion while displaying box face\n\n\t* src/xdisp.c (face_before_or_after_it_pos): Fix calculation of\n\tthe previous string/buffer character position under bidi\n\titeration.  (Bug#21428)\n\n2015-09-21  Anders Lindgren  <andlind@gmail.com>\n\n\tKeep upper edge unchanged when changing size of NS frame\n\n\t* src/nsterm.m (x_set_window_size): Keep upper frame edge unchanged\n\t(Bug#21415).\n\n2015-09-20  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/progmodes/prolog.el: Improve handling of if/then/else.\n\t(prolog-smie-rules): Accommodate standard if/then/else special\n\tindentation.\n\t(prolog-mode): Add . to electric-indent-chars.\n\t(prolog-electric--if-then-else): Re-indent the line before adding space\n\tafter the new char (bug#21526).\n\n2015-09-20  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tAdd prettify symbols to python-mode\n\n\t* lisp/progmodes/python.el (python-prettify-symbols-alist):\n\tNew variable.\n\t(python-mode): Use it\n\n2015-09-20  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/syntax.el (syntax-begin-function): Make obsolete.\n\n2015-09-20  Jostein Kj\u00f8nigsen  <jostein@secure.kjonigsen.net>  (tiny change)\n\n\t(compilation-error-regexp-alist-alist): Tone down guile-file\n\n\t* lisp/progmodes/compile.el (compilation-error-regexp-alist-alist):\n\tMake guile-file a bit less enthusiastic (bug#21496).\n\n2015-09-20  Drew Csillag  <drew@thecsillags.com>\n\n\t* lisp/progmodes/m4-mode.el (m4-font-lock-keywords):\n\tFix m4_* highlighting.\n\n\t* lisp/progmodes/m4-mode.el (m4-font-lock-keywords): Fix recognition\n\tof commands when they have a \"m4_\" prefix.\n\n2015-09-20  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t'.' -> `.' in doc string\n\n\t* lisp/emacs-lisp/timer.el (run-at-time): In doc string, quote\n\tindividual chars with grave quotes instead of straight quotes, as\n\tthis works better when they are translated to curved quotes.\n\n2015-09-20  Michael Albinus  <michael.albinus@gmx.de>\n\n\tImprove file notifications, especially for Tramp\n\n\t* doc/lispref/files.texi (Magic File Names):\n\tMention `file-notify-valid-p'.\n\n\t* doc/lispref/os.texi (File Notifications):\n\tDescribe `file-notify-valid-p'.\n\n\t* etc/NEWS: Add `file-notify-valid-p'.\n\n\t* lisp/net/tramp-gvfs.el (tramp-gvfs-handle-file-notify-add-watch):\n\tImprove implementation.\n\t(tramp-gvfs-monitor-file-process-filter): Rename from\n\t`tramp-gvfs-file-gvfs-monitor-file-process-filter'.  Delete\n\tprocess if appropriate.\n\n\t* lisp/net/tramp-sh.el (tramp-sh-handle-file-notify-add-watch):\n\tImprove implementation.\n\t(tramp-sh-gvfs-monitor-dir-process-filter): Rename from\n\t`tramp-sh-file-gvfs-monitor-dir-process-filter'.  Delete process\n\tif appropriate.\n\t(tramp-sh-inotifywait-process-filter): Rename from\n\t`tramp-sh-file-inotifywait-process-filter'.  Delete process if\n\tappropriate.\n\n\t* lisp/net/tramp.el (tramp-handle-file-notify-rm-watch):\n\tUse `delete-process'.\n\t(tramp-handle-file-notify-valid-p): Check also, that file or\n\tdirectory to be watched still exists.\n\n\t* test/automated/file-notify-tests.el (file-notify--test-timeout):\n\tNew defun.  Use it at all places a timeout is needed.\n\t(file-notify--test-cleanup): Delete directories recursively.\n\tCleanup also Tramp connections.\n\t(file-notify-test02-events): Add tests for `attribute-change'.\n\t(file-notify-test04-file-validity, file-notify-test05-dir-validity):\n\tAdd tests for `file-notify-rm-watch'.\n\n2015-09-20  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tUse %s to format strings instead of splicing them\n\n\tIf FOO might contain quotes that are part of a file or variable\n\tname, the quotes should not be translated when showing FOO\u2019s name\n\tin a diagnostic.  So, for example, (message (concat (FOO \": bar\")))\n\tis not quite right, as it would translate FOO\u2019s quotes.\n\tChange it to (message \"%s: bar\" FOO) instead.\n\t* lisp/allout.el (allout-process-exposed):\n\t* lisp/calc/calc-ext.el (calc-do-prefix-help):\n\t* lisp/calc/calc-store.el (calc-store-into):\n\t* lisp/calendar/todo-mode.el (todo-category-completions):\n\t* lisp/cedet/semantic/complete.el (semantic-completion-message):\n\t* lisp/org/ob-latex.el (convert-pdf):\n\t* lisp/org/org-crypt.el (org-crypt-check-auto-save):\n\t* lisp/org/ox-latex.el (org-latex-compile):\n\t* lisp/org/ox-man.el (org-man-compile):\n\t* lisp/org/ox-odt.el (org-odt--export-wrap):\n\t* lisp/org/ox-texinfo.el (org-texinfo-compile):\n\t* lisp/progmodes/ruby-mode.el (ruby-in-ppss-context-p):\n\t* lisp/progmodes/verilog-mode.el (verilog-batch-execute-func)\n\t(verilog-signals-combine-bus, verilog-read-defines)\n\t(verilog-getopt-file, verilog-expand-dirnames)\n\t(verilog-modi-lookup, verilog-modi-modport-lookup-one):\n\t* lisp/term/ns-win.el (ns-spi-service-call):\n\tUse %s to avoid translating quotes of file names etc. in diagnostics.\n\n2015-09-20  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/progmodes/js.el (js--syntax-begin-function): Remove.\n\t(js-mode): Don't set syntax-begin-function.\n\n2015-09-20  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/font-lock.el (font-lock-compile-keywords): Don't assume\n\tsyntax-begin-function is a symbol.\n\n2015-09-20  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of 'run-at-time'\n\t* lisp/emacs-lisp/timer.el (run-at-time): Improve the doc string.\n\tIn particular, don't refer to 'diary-entry-time', because it is\n\tunavailable until diary-lib is loaded.  Also, refer to\n\t'timer-duration-words', not 'timer-duration', as the latter's doc\n\tstring says nothing about the accepted strings.\n\n2015-09-19  Jay Belanger  <jay.p.belanger@gmail.com>\n\n\t* lisp/calc/calc-ext.el (calc-do-prefix-help): Tidy up error message.\n\n2015-09-19  Ken Manheimer  <ken.manheimer@gmail.com>\n\n\tRepair pdbtrack remote file tracking\n\t* lisp/progmodes/python.el (python-pdbtrack-set-tracked-buffer):\n\tRectify pdbtrack so it follows transitions from one remote source\n\tfile to the next.\n\n2015-09-19  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/timer.el (run-at-time): Docstring formatting.\n\n2015-09-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tAdapt vc-src to the old-new vc-checkin API\n\t* lisp/vc/vc-src.el (vc-src-checkin): Accept and ignore an\n\tadditional optional parameter.\n\n2015-09-19  Simen Heggest\u00f8yl  <simenheg@gmail.com>\n\n\tAdd overflow module to CSS property list\n\t* lisp/textmodes/css-mode.el (css-property-ids): Add properties\n\tfrom CSS Overflow Module Level 3.\n\n2015-09-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix documentation of \"C-u C-x v v\"\n\t* doc/emacs/maintaining.texi (Advanced C-x v v): Make the\n\tdocumentation of \"C-u C-x v v\" match what the code does.\n\n\tResurrect the ability to specify a revision in vc-next-action\n\t* lisp/vc/vc-bzr.el (vc-bzr-checkin):\n\t* lisp/vc/vc-dav.el (vc-dav-checkin):\n\t* lisp/vc/vc-git.el (vc-git-checkin):\n\t* lisp/vc/vc-hg.el (vc-hg-checkin):\n\t* lisp/vc/vc-mtn.el (vc-mtn-checkin): Accept and silently ignore\n\tan additional optional argument, the revision to checkin.\n\t* lisp/vc/vc-sccs.el (vc-sccs-checkin):\n\t* lisp/vc/vc-cvs.el (vc-cvs-checkin):\n\t* lisp/vc/vc-rcs.el (vc-rcs-checkin): Allow to optionally specify\n\ta revision to checkin.\n\t* lisp/vc/vc.el (vc-next-action): Allow to optionally specify the\n\trevision when checking in files.\n\tSee https://lists.gnu.org/r/emacs-devel/2015-09/msg00688.html\n\tfor the details.\n\n2015-09-18  Wilson Snyder  <wsnyder@wsnyder.org>\n\n\t* lisp/progmodes/verilog-mode.el (verilog-forward-sexp-function)\n\t(verilog-decls-princ, verilog-modport-princ)\n\t(verilog-modi-modport-lookup-one): Fix checkdoc warnings.\n\n2015-09-17  Jay Belanger  <jay.p.belanger@gmail.com>\n\n\tFix the routine for help on Calc's prefixes\n\t* lisp/calc/calc-ext.el (calc-prefix-help-retry): New variable.\n\t(calc-do-prefix-help): Use `read-char' to determine the next Calc\n\tcommand.\n\n2015-09-17  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/font-lock.el (font-lock-beginning-of-syntax-function): Remove.\n\t(font-lock-fontify-block): Don't let-bind it.\n\t(font-lock-compile-keywords): Don't use it.\n\t(font-lock-set-defaults): Don't set it.  Allow the variable alist to\n\tstart one slot earlier, instead.\n\t* lisp/emacs-lisp/syntax.el (font-lock-beginning-of-syntax-function):\n\tDon't declare.\n\t(syntax-ppss): Don't use it either.\n\t* lisp/font-core.el (font-lock-defaults): Remove SYNTAX-BEGIN\n\tfrom docstring.\n\t* doc/emacs/display.texi (Font Lock): Don't mention\n\tfont-lock-beginning-of-syntax-function.\n\t* doc/lispref/modes.texi (Font Lock Basics): Update description of\n\tfont-lock-defaults.\n\t(Syntactic Font Lock): Remove font-lock-beginning-of-syntax-function.\n\t* lisp/loadhist.el (unload-feature-special-hooks):\n\tRemove font-lock-beginning-of-syntax-function.\n\t* lisp/obsolete/lazy-lock.el (lazy-lock-fontify-region):\n\t* lisp/emacs-lisp/lisp.el (beginning-of-defun-raw): Don't let-bind\n\tfont-lock-beginning-of-syntax-function.\n\n2015-09-17  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tBackslash cleanup in Elisp source files\n\tThis patch should not change behavior.  It typically omits backslashes\n\twhere they are redundant (e.g., in the string literal \"^\\$\").\n\tIn a few places, insert backslashes where they make regular\n\texpressions clearer: e.g., replace \"^\\*\" (equivalent to \"^*\") with\n\t\"^\\\\*\", which has the same effect as a regular expression.\n\tAlso, use \u2018\\ %\u2019 instead of \u2018\\%\u2019 when avoiding confusion with SCCS IDs,\n\tand similarly use \u2018\\ $\u2019 instead of \u2018\\$\u2019 when avoiding confusion with\n\tRCS IDs, as that makes it clearer that the backslash is intended.\n\n\tSome more minor backslash fixes\n\t* test/automated/compile-tests.el (compile-tests--test-regexps-data):\n\t* test/automated/info-xref.el (info-xref-test-write-file):\n\tDouble backslashes in strings.\n\n\tFix several backslash typos in Elisp strings\n\t* lisp/calendar/todo-mode.el (todo-files, todo-rename-file)\n\t(todo-find-filtered-items-file, todo-reset-nondiary-marker)\n\t(todo-reset-done-string, todo-reset-comment-string)\n\t(todo-reset-highlight-item):\n\t* lisp/erc/erc-networks.el (erc-networks-alist):\n\t* lisp/gnus/gnus-art.el (gnus-button-handle-library):\n\t* lisp/gnus/gnus-group.el (gnus-read-ephemeral-gmane-group-url):\n\t* lisp/gnus/nntp.el (nntp-via-shell-prompt)\n\t(nntp-telnet-shell-prompt):\n\t* lisp/gnus/spam-report.el (spam-report-gmane-regex):\n\t* lisp/image-dired.el (image-dired-rotate-original):\n\t(image-dired-get-exif-file-name):\n\t* lisp/international/latin1-disp.el (latin1-display-ucs-per-lynx):\n\t* lisp/mail/undigest.el (rmail-digest-parse-rfc1153strict):\n\t* lisp/mh-e/mh-letter.el (mh-file-is-vcard-p):\n\t* lisp/mh-e/mh-mime.el (mh-file-mime-type-substitutions):\n\t* lisp/net/shr-color.el (shr-color->hexadecimal):\n\t* lisp/org/org-bibtex.el (org-bibtex-fields):\n\t* lisp/org/org-docview.el (org-docview-export):\n\t* lisp/org/org-entities.el (org-entities):\n\t* lisp/org/ox-icalendar.el (org-icalendar-cleanup-string):\n\t* lisp/progmodes/cperl-mode.el (cperl-indent-exp):\n\t* lisp/progmodes/ebnf2ps.el (ebnf-file-suffix-regexp)\n\t(ebnf-style-database):\n\t* lisp/progmodes/idlw-help.el (idlwave-do-context-help1):\n\t* lisp/progmodes/ruby-mode.el (ruby-imenu-create-index-in-block):\n\t* lisp/progmodes/sql.el (sql-product-alist):\n\t* lisp/progmodes/verilog-mode.el (verilog-error-regexp-emacs-alist)\n\t(verilog-error-font-lock-keywords)\n\t(verilog-assignment-operator-re):\n\t* lisp/progmodes/vhdl-mode.el (vhdl-compiler-alist):\n\t* lisp/textmodes/reftex-parse.el (reftex-parse-from-file):\n\t* lisp/vc/add-log.el (change-log-version-number-regexp-list):\n\tFix typo by replacing \u2018\\\u2019 with \u2018\\\\\u2019 in a string literal.\n\tFor example, to get the regular expression \u2018\\.\u2019 use the string\n\tliteral \"\\\\.\", not \"\\.\" (which is equivalent to \".\").\n\t* lisp/emulation/viper-util.el (viper-glob-unix-files):\n\tRemove stray \u2018\\j\u2019 from string.\n\t* lisp/gnus/nntp.el (nntp-via-shell-prompt)\n\t(nntp-telnet-shell-prompt):\n\tTreat > like $ when matching a shell prompt.\n\t* lisp/progmodes/make-mode.el (makefile-browse):\n\tProperly quote a diagnostic.\n\n\tFix minor quoting problems in diagnostics\n\t* lisp/tutorial.el (tutorial--describe-nonstandard-key):\n\t* lisp/vc/ediff-ptch.el (ediff-fixup-patch-map):\n\tFollow text-quoting-style in diagnostic, and quote a file name.\n\n2015-09-17  Eli Zaretskii  <eliz@gnu.org>\n\n\t* doc/lispref/frames.texi (Cursor Parameters):\n\tDocument 'x-stretch-cursor'.\n\n2015-09-16  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tOmit unnecessary \\ before paren in C docstrings\n\tAlthough \\( is needed in docstrings in Elisp code, it is not needed in\n\tdocstrings in C code, since C function definitiions do not start with\n\ta parenthesis.  The backslashes made the docstrings a bit harder to\n\tread and to format in columns.  Also, some C docstrings had ( in\n\tcolumn 1 and this did not appear to be causing any problems.  So,\n\tsimplify C docstrings by replacing \\( with ( and \\) with ).\n\n\tA few more minor quoting fixes in a script and a text file\n\n\tMinor quoting fixes in scripts and doc\n\tPrefer straight quotes in random script files, as they are not\n\tconverted.  Prefer grave quotes in a couple of places in the manual\n\tthat were missed earlier, as these quotes are converted.\n\n\tMinor backslash fixes in manuals and scripts\n\t* Makefile.in (install-arch-indep):\n\t* admin/charsets/compact.awk:\n\t* admin/charsets/gb180302.awk (gb_to_index):\n\t* admin/charsets/gb180304.awk (gb_to_index):\n\tAvoid undefined behavior in Awk regular expression backslashes.\n\t* doc/misc/efaq.texi (Matching parentheses):\n\tOmit unnecessary backslashes.\n\t* doc/misc/gnus-faq.texi (FAQ 5-8):\n\tAvoid undefined behavior in suggested sed backslash usage.\n\n\tAdd -Wswitch to --enable-gcc-warnings\n\tMake --enable-gcc-warnings a bit pickier, by also using -Wswitch.\n\t* configure.ac (WERROR_CFLAGS): Don\u2019t add -Wno-switch.\n\t* lib-src/etags.c (main, consider_token, C_entries):\n\t* src/coding.c (encode_invocation_designation):\n\t* src/data.c (Ftype_of):\n\t* src/eval.c (Fdefvaralias, default_toplevel_binding)\n\t(Fbacktrace__locals, mark_specpdl):\n\t* src/lisp.h (record_xmalloc):\n\t* src/syntax.c (scan_lists, scan_sexps_forward):\n\t* src/window.c (window_relative_x_coord):\n\t* src/xdisp.c (push_it, pop_it):\n\t* src/xterm.c (xg_scroll_callback, x_check_fullscreen):\n\tError out or do nothing (as appropriate) if a switch statement\n\twith an enum value does not cover all of the enum.\n\t* src/dispextern.h (struct iterator_stack_entry.u.comp):\n\tRemove unused member discovered by using -Wswitch.\n\t* src/lisp.h (record_xmalloc): Add a \u2018+ 0\u2019 to pacify -Wswitch.\n\t* src/vm-limit.c (check_memory_limits):\n\tSimplify warning-diagnostic computation by using a table.\n\n\tetags \u2018fatal\u2019 function is now printf-like\n\t* lib-src/etags.c (fatal): Now printf-like.  All callers changed.\n\tAlso, now static; not clear why it needed to be extern.\n\t(verror): New function, with most of the old contents of \u2018error\u2019.\n\t(fatal, error): Use it.\n\n2015-09-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tMore adaptations in file-notify-tests.el\n\t* test/automated/file-notify-tests.el\n\t(file-notify-test05-dir-validity): Skip for w32notify in\n\tbatch-mode.  (Bug#21432)\n\n2015-09-16  Michael Albinus  <michael.albinus@gmx.de>\n\n\tAdapt test in file-notify-tests.el\n\t* test/automated/file-notify-tests.el\n\t(file-notify-test04-file-validity): Skip for w32notify in\n\tbatch-mode.  Add test lost last commit.\n\n2015-09-16  Dima Kogan  <dima@secretsauce.net>\n\n\twinner no longer holds on to dead frames\n\t* lisp/winner.el (winner-change-fun): Cull dead frames.\n\tThis prevents a potentially massive memory leak.  See:\n\thttps://lists.gnu.org/r/emacs-devel/2015-09/msg00619.html\n\n2015-09-16  Michael Albinus  <michael.albinus@gmx.de>\n\n\tUse common report_file_notify_error function\n\t* src/fileio.c (report_file_notify_error): New function.\n\t* src/inotify.c (report_inotify_error): Remove function.\n\t(inotify_callback, symbol_to_inotifymask, Finotify_add_watch)\n\t(Finotify_rm_watch): Use report_file_notify_error.\n\t* src/lisp.h (report_file_notify_error): Declare external function.\n\t* src/w32notify.c (report_w32notify_error): Remove function.\n\t(Fw32notify_add_watch, Fw32notify_rm_watch):\n\tUse report_file_notify_error.\n\n2015-09-16  Jay Belanger  <jay.p.belanger@gmail.com>\n\n\tFix documentation.\n\t* doc/misc/calc.texi (Single-Variable Statistics): Fix the wording of\n\tthe documentation of the root mean square.\n\n2015-09-16  Martin Rudalics  <rudalics@gmx.at>\n\n\tRemove tool_bar_redisplayed_once and associated code.\n\t* src/frame.h (tool_bar_redisplayed_once): Remove slot.\n\t* src/frame.c (make_frame, x_set_font): Remove initialization of\n\tf->tool_bar_redisplayed_once.\n\t* src/w32fns.c (x_change_tool_bar_height):\n\t* src/xfns.c (x_change_tool_bar_height): Don't check for\n\tf->tool_bar_redisplayed_once.\n\t* src/xdisp.c (redisplay_internal): Remove handling of\n\tf->tool_bar_redisplayed_once.\n\n2015-09-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tRestore some of the quoting in the manuals\n\t* doc/lispref/windows.texi (Coordinates and Windows)\n\t(Coordinates and Windows):\n\t* doc/lispref/variables.texi (Lexical Binding)\n\t(File Local Variables):\n\t* doc/lispref/text.texi (Format Properties):\n\t* doc/lispref/symbols.texi (Symbol Components):\n\t* doc/lispref/strings.texi (Creating Strings):\n\t* doc/lispref/sequences.texi (Sequence Functions):\n\t* doc/lispref/searching.texi (Regexp Special, Regexp Search)\n\t(Search and Replace):\n\t* doc/lispref/processes.texi (Bindat Spec):\n\t* doc/lispref/os.texi (Idle Timers):\n\t* doc/lispref/objects.texi (Basic Char Syntax):\n\t* doc/lispref/numbers.texi (Float Basics, Random Numbers):\n\t* doc/lispref/nonascii.texi (Character Properties):\n\t* doc/lispref/modes.texi (Major Mode Conventions, Mode Hooks)\n\t(Mode Line Variables):\n\t* doc/lispref/minibuf.texi (Text from Minibuffer):\n\t* doc/lispref/loading.texi (Autoload):\n\t* doc/lispref/keymaps.texi (Controlling Active Maps):\n\t* doc/lispref/frames.texi (Frame Layout, Size and Position)\n\t(Size Parameters, Implied Frame Resizing):\n\t* doc/lispref/files.texi (Changing Files, Magic File Names):\n\t* doc/lispref/eval.texi (Self-Evaluating Forms):\n\t* doc/lispref/display.texi (Progress, Abstract Display)\n\t(Abstract Display Example, Bidirectional Display):\n\t* doc/lispref/commands.texi (Event Mod):\n\t* doc/emacs/windows.texi (Displaying Buffers):\n\t* doc/emacs/trouble.texi (Bug Criteria, Checklist):\n\t* doc/emacs/text.texi (Enriched Text):\n\t* doc/emacs/programs.texi (MixedCase Words):\n\t* doc/emacs/picture-xtra.texi (Insert in Picture)\n\t(Tabs in Picture):\n\t* doc/emacs/misc.texi (Emacs Server, Printing):\n\t* doc/emacs/mini.texi (Minibuffer History):\n\t* doc/emacs/maintaining.texi (Old Revisions, VC Change Log)\n\t(Pulling / Pushing):\n\t* doc/emacs/killing.texi (Yanking, Cut and Paste, Clipboard):\n\t* doc/emacs/help.texi (Help, Help Echo):\n\t* doc/emacs/glossary.texi (Glossary):\n\t* doc/emacs/frames.texi (Mouse Commands, Creating Frames)\n\t(Frame Commands):\n\t* doc/emacs/files.texi (Reverting, Saving, Directories):\n\t* doc/emacs/entering.texi (Exiting):\n\t* doc/emacs/emacs.texi (Top):\n\t* doc/emacs/cmdargs.texi (Window Size X, Icons X):\n\t* doc/emacs/anti.texi (Antinews): Restore quoting of text where\n\tappropriate or replace quoting with @dfn.\n\t* doc/misc/ediff.texi (Window and Frame Configuration):\n\t* doc/lispref/processes.texi (Network Feature Testing):\n\t* doc/lispref/display.texi (Display Margins): Quote the phrase\n\tafter \"a.k.a.\" where appropriate.\n\n2015-09-16  Tassilo Horn  <tsdh@gnu.org>\n\n\tClarify reftex-extra-bindings docs\n\t* lisp/textmodes/reftex-vars.el (reftex-extra-bindings):\n\t* doc/misc/reftex.texi (Key Bindings): Document that the variable\n\tonly has an effect at load-time.\n\n2015-09-16  Daniel McClanahan  <danieldmcclanahan@gmail.com>  (tiny change)\n\n\t* lisp/emacs-lisp/lisp-mode.el (lisp--el-match-keyword): Fix\n\tsearch argument.  (Bug#21492) (Bug#21493)\n\n2015-09-16  Tassilo Horn  <tsdh@gnu.org>\n\n\t* lisp/textmodes/tex-mode.el (tex--prettify-symbols-alist):\n\tAdd pretty symbols for \\qquad and \\varrho.\n\n2015-09-15  Jay Belanger  <jay.p.belanger@gmail.com>\n\n\tAdd new functions for the root mean square of a (Calc) vector\n\t* lisp/calc/calc-stat.el (calcFunc-rms, calc-vector-rms):\n\tNew functions.\n\t* lisp/calc/calc-ext.el (calc-init-extensions): Add keybinding for\n\t`calc-vector-rms', add autoloads for `calc-vector-rms' and\n\t`calcFunc-rms'.\n\t* lisp/calc/calc-map.el (calc-u-oper-keys): Add entry for\n\t`calcFunc-rms'.\n\t* lisp/calc/calc-menu.el (calc-vectors-menu): Add entry for\n\t`calc-vector-rms'.\n\t* doc/misc/calc.texi (Single-Variable Statistics): Document the rms\n\tcommand.\n\n2015-09-15  Stephen Leake  <stephen_leake@stephe-leake.org>\n\n\tAdd monotone EDE generic project\n\t* lisp/cedet/ede/generic.el (ede-enable-generic-projects):\n\tAdd monotone generic project.\n\n\tRevert premature commit\n\t* doc/lispref/files.texi: Revert premature commit of change to\n\tfile-name-all-completions.\n\n\tFix a bug in elisp--xref-find-definitions related to cl-generic defaults\n\t* lisp/progmodes/elisp-mode.el (elisp--xref-find-definitions): Fix bug\n\twith cl-generic defaults.\n\t(elisp--xref-find-references): Add doc string.\n\t* test/automated/elisp-mode-tests.el (xref-elisp-generic-*): Improve\n\ttests to find bug.\n\n\tFix bugs in eieio-oref-default related to class symbols\n\t* lisp/emacs-lisp/eieio-core.el (class-p): Handle symbol properly.\n\t(eieio-oref-default): Handle class properly.\n\n2015-09-15  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tQuote \u201cfullboth\u201d when defining it\n\t* doc/lispref/frames.texi (Size Parameters): Use @dfn for \u201cfullboth\u201d\n\tand rewrite the containing paragraph, which was awkward.  (Bug#21472).\n\n2015-09-15  Eli Zaretskii  <eliz@gnu.org>\n\n\tMinor doc fix in emacs/ack.texi\n\t* doc/emacs/ack.texi (Acknowledgments): Fix an xref missing the\n\tfirst argument.\n\n2015-09-15  Michael Albinus  <michael.albinus@gmx.de>\n\n\tAdapt tests in auto-revert-tests.el\n\t* test/automated/auto-revert-tests.el (auto-revert--timeout):\n\tMake it a defconst.\n\t(auto-revert--wait-for-revert): New defun.\n\t(auto-revert-test00-auto-revert-mode)\n\t(auto-revert-test01-auto-revert-tail-mode)\n\t(auto-revert-test02-auto-revert-mode-dired): Use it.\n\n2015-09-15  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/lisp-mode.el (lisp-mode-symbol-regexp): New const.\n\tUse it everywhere \"\\\\(\\\\sw\\\\|\\\\s_\\\\|\\\\\\\\.\\\\)+\" was used.\n\t(cl-lib-fdefs): Add defgeneric.\n\t(cl-kw): Add all elements of eieio-kw and cl-lib-kw.\n\t(eieio-kw, cl-lib-kw, el-kw): Remove.\n\n2015-09-15  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tQuote less in manuals\n\tThe manuals often used quotes ``...'' when it is better to use @dfn or\n\t@code or capitalized words or no quoting at all.  For example, there is\n\tno need for the `` and '' in \u201cif a variable has one effect for\n\t@code{nil} values and another effect for ``non-@code{nil}'' values\u201d.\n\tReword the Emacs, Lisp intro, and Lisp reference manuals to eliminate\n\tunnecessary quoting like this, and to use @dfn etc. instead when called\n\tfor (Bug#21472).\n\n2015-09-15  Mark Oteiza  <mvoteiza@udel.edu>\n\n\t* lisp/custom.el (load-theme): Only compute hash when needed.\n\n2015-09-15  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPacify --enable-gcc-warnings\n\t* src/inotify.c (report_inotify_error): Declare it _Noreturn.\n\n2015-09-15  Michael Albinus  <michael.albinus@gmx.de>\n\n\tImprove error reports in inotify.c\n\t* src/inotify.c (report_inotify_error): New function.  Clone of\n\treport_w32notify_error.\n\t(inotify_callback, symbol_to_inotifymask, Finotify_add_watch)\n\t(Finotify_rm_watch): Use it.\n\n2015-09-15  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix the file-notify tests for watch validation on w32\n\t* test/automated/file-notify-tests.el\n\t(file-notify-test04-file-validity): Move the directory deletion\n\tout of the file-notify--test-with-events macro.\n\t(file-notify-test04-file-validity)\n\t(file-notify-test05-dir-validity): Enlarge the timeout of\n\tread-event to 0.5, as 0.1 is borderline on w32.  (Bug#21432)\n\n2015-09-15  Tassilo Horn  <tsdh@gnu.org>\n\n\tUse OPEN BOX instead of space for \\quad.\n\t* lisp/textmodes/tex-mode.el (tex--prettify-symbols-alist): Use OPEN BOX\n\tcharacter for \\quad instead of a space.\n\n2015-09-15  Eli Zaretskii  <eliz@gnu.org>\n\n\tAdd missing *.pbm images\n\t* etc/images/connect.pbm: New file.\n\t* etc/images/custom/down-pushed.pbm: New file.\n\t* etc/images/custom/down.pbm: New file.\n\t* etc/images/custom/right-pushed.pbm: New file.\n\t* etc/images/custom/right.pbm: New file.\n\t* etc/images/describe.pbm: New file.\n\t* etc/images/disconnect.pbm: New file.\n\t* etc/images/ezimage/bits.pbm: New file.\n\t* etc/images/ezimage/bitsbang.pbm: New file.\n\t* etc/images/ezimage/box-minus.pbm: New file.\n\t* etc/images/ezimage/box-plus.pbm: New file.\n\t* etc/images/ezimage/box.pbm: New file.\n\t* etc/images/ezimage/checkmark.pbm: New file.\n\t* etc/images/ezimage/dir-minus.pbm: New file.\n\t* etc/images/ezimage/dir-plus.pbm: New file.\n\t* etc/images/ezimage/dir.pbm: New file.\n\t* etc/images/ezimage/doc-minus.pbm: New file.\n\t* etc/images/ezimage/doc-plus.pbm: New file.\n\t* etc/images/ezimage/doc.pbm: New file.\n\t* etc/images/ezimage/info.pbm: New file.\n\t* etc/images/ezimage/key.pbm: New file.\n\t* etc/images/ezimage/label.pbm: New file.\n\t* etc/images/ezimage/lock.pbm: New file.\n\t* etc/images/ezimage/mail.pbm: New file.\n\t* etc/images/ezimage/page-minus.pbm: New file.\n\t* etc/images/ezimage/page-plus.pbm: New file.\n\t* etc/images/ezimage/page.pbm: New file.\n\t* etc/images/ezimage/tag-gt.pbm: New file.\n\t* etc/images/ezimage/tag-minus.pbm: New file.\n\t* etc/images/ezimage/tag-plus.pbm: New file.\n\t* etc/images/ezimage/tag-type.pbm: New file.\n\t* etc/images/ezimage/tag-v.pbm: New file.\n\t* etc/images/ezimage/tag.pbm: New file.\n\t* etc/images/ezimage/unlock.pbm: New file.\n\t* etc/images/gnus/important.pbm: New file.\n\t* etc/images/gnus/mail-send.pbm: New file.\n\t* etc/images/gnus/receipt.pbm: New file.\n\t* etc/images/gnus/toggle-subscription.pbm: New file.\n\t* etc/images/gnus/unimportant.pbm: New file.\n\t* etc/images/gud/all.pbm: New file.\n\t* etc/images/gud/rcont.pbm: New file.\n\t* etc/images/gud/recstart.pbm: New file.\n\t* etc/images/gud/recstop.pbm: New file.\n\t* etc/images/gud/rfinish.pbm: New file.\n\t* etc/images/gud/rnext.pbm: New file.\n\t* etc/images/gud/rnexti.pbm: New file.\n\t* etc/images/gud/rstep.pbm: New file.\n\t* etc/images/gud/rstepi.pbm: New file.\n\t* etc/images/gud/thread.pbm: New file.\n\t* etc/images/lock-broken.pbm: New file.\n\t* etc/images/lock-ok.pbm: New file.\n\t* etc/images/lock.pbm: New file.\n\t* etc/images/mail/copy.pbm: New file.\n\t* etc/images/mail/forward.pbm: New file.\n\t* etc/images/mail/not-spam.pbm: New file.\n\t* etc/images/mail/outbox.pbm: New file.\n\t* etc/images/mail/preview.pbm: New file.\n\t* etc/images/mail/save-draft.pbm: New file.\n\t* etc/images/mh-logo.pbm: New file.\n\t* etc/images/mpc/add.pbm: New file.\n\t* etc/images/mpc/ffwd.pbm: New file.\n\t* etc/images/mpc/next.pbm: New file.\n\t* etc/images/mpc/pause.pbm: New file.\n\t* etc/images/mpc/play.pbm: New file.\n\t* etc/images/mpc/prev.pbm: New file.\n\t* etc/images/mpc/rewind.pbm: New file.\n\t* etc/images/mpc/stop.pbm: New file.\n\t* etc/images/redo.pbm: New file.\n\t* etc/images/smilies/braindamaged.pbm: New file.\n\t* etc/images/smilies/cry.pbm: New file.\n\t* etc/images/smilies/dead.pbm: New file.\n\t* etc/images/smilies/evil.pbm: New file.\n\t* etc/images/smilies/forced.pbm: New file.\n\t* etc/images/smilies/grin.pbm: New file.\n\t* etc/images/smilies/indifferent.pbm: New file.\n\t* etc/images/sort-ascending.pbm: New file.\n\t* etc/images/sort-column-ascending.pbm: New file.\n\t* etc/images/sort-criteria.pbm: New file.\n\t* etc/images/sort-descending.pbm: New file.\n\t* etc/images/sort-row-ascending.pbm: New file.\n\t* etc/images/unchecked.pbm: New file.\n\t* etc/images/zoom-in.pbm: New file.\n\t* etc/images/README: Update instructions for PBM files.\n\n\tAdd separator.pbm tool-bar image\n\t* etc/images/separator.pbm: New file.  Having it avoids the side\n\teffect of changing the tool-bar height when the default font's size\n\tchanges and XPM image support is not available, due to the SPC\n\tcharacters that are left in the Lisp string used to display the tool\n\tbar, because there are no images to display instead of those SPC\n\tcharacters.\n\n\tMake show-paren-match face visible on mono-color displays\n\t* lisp/faces.el (show-paren-match): Use the underline face for\n\tmono-color displays.  (Bug#21481)\n\n2015-09-14  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDon\u2019t double-encode non-ASCII mail clipboard\n\t* lisp/mail/mailclient.el (mailclient-send-it):\n\tAlso fix the case when mailclient-place-body-on-clipboard-flag\n\tis non-nil.  Problem reported by Eli Zaretskii (Bug#21471#37).\n\n2015-09-14  Michael Albinus  <michael.albinus@gmx.de>\n\n\tAdapt file-notify-tests.el test cases\n\t* lisp/filenotify.el (file-notify-rm-watch): Ignore `file-notify-error'.\n\t* src/inotify.c (Finotify_valid_p): Adapt docstring.\n\t* test/automated/file-notify-tests.el\n\t(file-notify-test03-autorevert)\n\t(file-notify-test04-file-validity)\n\t(file-notify-test04-file-validity-remote)\n\t(file-notify-test05-dir-validity)\n\t(file-notify-test05-dir-validity-remote): Adapt docstring.\n\t(file-notify-test04-file-validity): Let events arrive before\n\tcalling final `file-notify-valid-p'.  Do not ignore errors.\n\t(file-notify-test05-dir-validity): Do not manipulate\n\t`temporary-file-directory', it isn't necessary.  Let events arrive\n\tbefore calling final `file-notify-valid-p'.  Do not ignore errors.\n\n2015-09-14  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDon\u2019t double-encode non-ASCII for mail client\n\t* lisp/mail/mailclient.el (mailclient-encode-string-as-url):\n\tUse RFC 6068\u2019s list of unreserved characters.\n\t(mailclient-send-it): When encoding the body as a URL,\n\tfirst decode it as per Content-Type: and Content-Transfer-Encoding:,\n\tas URLs must use percent-encoded UTF-8 (Bug#21471).\n\t* doc/misc/url.texi (mailto): Update RFC number.\n\n2015-09-14  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/progmodes/cc-langs.el (c-make-init-lang-vars-fun): Use dolist.\n\n2015-09-14  Alan Mackenzie  <acm@muc.de>\n\n\tReplace `cadar' with `cadr/car', since `cadar' is problematic on Emacs\n\t(c-make-init-lang-vars-fun): Replace two occurrences of `cadar' with\n\t`cadr/car'.\n\n2015-09-14  Eli Zaretskii  <eliz@gnu.org>\n\n\tClarify documentation of char-table extra slots\n\t* doc/lispref/sequences.texi (Char-Tables): Clarify that extra\n\tslot numbers are zero-based.  (Bug#21467)\n\n2015-09-14  Alan Mackenzie  <acm@muc.de>\n\n\tElisp mode: Make font-lock and imenu handle escaped characters in symbols\n\tFixes bug#21449.\n\t* lisp/emacs-lisp/lisp-mode.el (lisp-imenu-generic-expression)\n\t(lisp--el-match-keyword, lisp-el-font-lock-keywords-1)\n\t(lisp-cl-font-lock-keywords-1, lisp-el-font-lock-keywords-2)\n\t(lisp-cl-font-lock-keywords-2, lisp-string-in-doc-position-p):\n\tInsert \"\\\\|\\\\\\\\.\" into regexps which match symbols.\n\n2015-09-14  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove the doc string of w32notify-valid-p\n\t* src/w32notify.c (Fw32notify_valid_p): Mention in the doc string\n\tthat removing a watch makes its object invalid.\n\n2015-09-14  Tassilo Horn  <tsdh@gnu.org>\n\n\tFix tests for file-notify-valid-p\n\t* test/automated/file-notify-tests.el (file-notify--test-cleanup):\n\tUse delete-directory to delete file-notify--test-tmpfile if it is\n\ta directory.  Likewise for file-notify--test-tmpfile1.\n\t(file-notify-test04-file-validity)\n\t(file-notify-test05-dir-validity): Delete the parent directory of\n\tthe test.  Ignore errors when cleaning up after the test.\n\n2015-09-14  Eli Zaretskii  <eliz@gnu.org>\n\n\tReport file-notify-error in w32notify.c\n\t* src/w32notify.c (report_w32notify_error): New function.\n\t(Fw32notify_add_watch, Fw32notify_rm_watch): Use it to report\n\terrors, instead of calling report_file_error.  (Bug#21432)\n\n\tImplement w32notify-valid-p\n\t* src/w32notify.c (Fw32notify_valid_p): New function.  (Bug#21432)\n\t* lisp/filenotify.el (w32notify-valid-p): No longer an alias for\n\t'identity'.\n\n2015-09-14  Tassilo Horn  <tsdh@gnu.org>\n\n\tTest file-notify-valid-p\n\t* test/automated/file-notify-tests.el\n\t(file-notify-test04-file-validity, file-notify-test05-dir-validity):\n\tNew tests.\n\n2015-09-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix markup in ELisp manual\n\t* doc/lispref/frames.texi (Font and Color Parameters): Fix markup\n\tof the 'alpha' parameter value.  (Bug#21470)\n\n2015-09-13  Michael Albinus  <michael.albinus@gmx.de>\n\n\tIntroduce `file-notify-valid-p'\n\t* lisp/filenotify.el (file-notify-valid-p): New defun.\n\t(gfile-valid-p, w32notify-valid-p): Make them an alias to `identity'.\n\t* lisp/net/tramp-adb.el (tramp-adb-file-name-handler-alist)\n\t* lisp/net/tramp-gvfs.el (tramp-gvfs-file-name-handler-alist)\n\t* lisp/net/tramp-sh.el (tramp-sh-file-name-handler-alist)\n\t* lisp/net/tramp-smb.el (tramp-smb-file-name-handler-alist)\n\t<file-notify-valid-p>: Add handler.\n\t* lisp/net/tramp.el (tramp-file-name-for-operation):\n\tAdd `file-notify-valid-p'.\n\t(tramp-handle-file-notify-valid-p): New defun.\n\t* src/inotify.c (Finotify_valid_p): New defun.\n\t(syms_of_inotify): Declare Sinotify_valid_p.\n\n2015-09-13  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort Unicode char detection to FreeBSD+svgalib\n\tProblem reported by Ashish SHUKLA in:\n\thttps://lists.gnu.org/r/emacs-devel/2015-09/msg00531.html\n\t* configure.ac: Check for struct unipair.unicode instead of for\n\t<linux/kd.h>, since that\u2019s more specific to what the code\n\tactually needs.\n\t* src/terminal.c: Use HAVE_STRUCT_UNIPAIR_UNICODE, not HAVE_LINUX_KD_H.\n\n\t* src/indent.c (Fvertical_motion): Simplify bugfix (Bug#21468).\n\n2015-09-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix vertical cursor motion across overlay strings with newlines\n\t* src/indent.c (Fvertical_motion): Don't leave point in the middle\n\tof an overlay string with newlines, as that will position the\n\tcursor after the string at whatever column is there.  (Bug#21468)\n\n2015-09-12  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix tests in file-notify-tests.el\n\t* test/automated/file-notify-tests.el: Remove Tramp declarations.\n\t(file-notify-test00-availability): Print remote command w/o Tramp\n\tinternal functions.\n\t(file-notify-test02-events, file-notify-test02-events-remote):\n\tAdapt docstring.\n\t(file-notify-test03-autorevert): Use `format-message' when\n\tinspecting *Messages* buffer.\n\n2015-09-12  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tBind inhibit-modification-hooks rather than a/b-c-f\n\t* lisp/wid-edit.el (widget-editable-list-insert-before)\n\t(widget-editable-list-delete-at):\n\t* lisp/progmodes/cperl-mode.el (cperl-find-pods-heres)\n\t(cperl-font-lock-unfontify-region-function):\n\t* lisp/progmodes/antlr-mode.el (save-buffer-state-x):\n\t* lisp/obsolete/longlines.el (longlines-mode):\n\t* lisp/obsolete/fast-lock.el (save-buffer-state):\n\t* lisp/mouse.el (mouse-save-then-kill-delete-region):\n\t* lisp/gnus/message.el (message-hide-headers):\n\t* lisp/eshell/esh-mode.el (eshell-send-input, eshell-output-filter):\n\t* lisp/ibuffer.el (ibuffer-update-title-and-summary)\n\t(ibuffer-redisplay-engine): Bind inhibit-modification-hooks to t rather\n\tthan after/before-change-functions to nil.\n\n2015-09-11  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t(jit-lock-deferred-fontify): Pay attention to skipped redisplays\n\t* lisp/jit-lock.el (jit-lock-deferred-fontify): Make sure we refresh\n\tthe buffers, even if the forced redisplay is interrupted.\n\n\t* lisp/emacs-lisp/eieio-core.el (class-p): Accept class objects\n\n\tMerge syntax-propertize--done and parse-sexp-propertize-done\n\t* lisp/emacs-lisp/syntax.el (syntax-propertize--done): Remove.\n\t(syntax-propertize): Set syntax-propertize--done even if\n\tsyntax-propertize-function is nil.  Avoid recursive invocations.\n\t(syntax-propertize-chunks): New var.\n\t(internal--syntax-propertize): Use it.  Rename from syntax--jit-propertize.\n\tSimplify.\n\t(parse-sexp-propertize-function): Don't set any more.\n\t* src/syntax.c (SETUP_SYNTAX_TABLE): Call parse_sexp_propertize as needed.\n\t(parse_sexp_propertize): Don't assume charpos is not yet propertized.\n\tCall Qinternal__syntax_propertize instead of\n\tVparse_sexp_propertize_function.  Truncate e_property if needed.\n\t(update_syntax_table_forward): Streamline.\n\t(syms_of_syntax): Define Qinternal__syntax_propertize.\n\t(syntax_propertize__done): Rename from parse_sexp_propertize_done.\n\n2015-09-11  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPrefer straight quoting in some text files\n\tMostly this just changes ` to ' in static text.  Some exceptions:\n\t* INSTALL.REPO: Use curved quotes, as the diagnostic in question\n\ttypically does that now.\n\t* admin/quick-install-emacs (TRY, top level):\n\tUse straight quoting in diagnostics.\n\t* src/README: Fix working-directory confusion.\n\n\t* CONTRIBUTE: Move send-email here from git-workflow.\n\n2015-09-11  Michael Albinus  <michael.albinus@gmx.de>\n\n\tImprove file notifications in Tramp\n\t* lisp/net/tramp-sh.el (tramp-sh-handle-file-notify-add-watch):\n\tSet proper events to watch for.\n\t(tramp-sh-file-gvfs-monitor-dir-process-filter): Report only\n\twatched events.\n\n2015-09-11  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix NS build with --enable-checking='glyphs'\n\t* src/nsfns.m (unwind_create_frame): Make the preprocessor\n\tconditionals for referencing 'dpyinfo' consistent throughout the\n\tfunction.  (Bug#21426)\n\n2015-09-10  Nicolas Petton  <nicolas@petton.fr>\n\n\tAdd seq-find\n\tThis function is similar to `seq-some' but returns the found element.\n\tIn the cases where nil can be the found element, a sentinel optional\n\targument can be provided to avoid ambiguities.\n\t* lisp/emacs-lisp/seq.el (seq-find): New function.\n\t* test/automated/seq-tests.el (test-seq-find): Add tests for `seq-find'.\n\t* doc/lispref/sequences.texi (Sequence Functions): Add documentation for\n\tseq-find.\n\n2015-09-10  Tassilo Horn  <tsdh@gnu.org>\n\n\tDocument file-notify--test-with-events.\n\t* test/automated/file-notify-tests.el (file-notify--test-with-events):\n\tAdd docstring.\n\n2015-09-10  Michael Albinus  <michael.albinus@gmx.de>\n\n\tReport used native library in file-notify-tests.el\n\t* test/automated/file-notify-tests.el\n\t(tramp-get-remote-gvfs-monitor-dir)\n\t(tramp-get-remote-inotifywait): Declare them.\n\t(file-notify-test00-availability): Print used native library.\n\n2015-09-10  Mark Oteiza  <mvoteiza@udel.edu>\n\n\t* lisp/mpc.el (mpc--proc-connect): Use file-name-absolute-p.\n\t(mpc-file-local-copy): Check for absolute path.  Check more config\n\tlocations.\n\n2015-09-10  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of categories\n\t* doc/lispref/syntax.texi (Categories): Clarify the example of\n\tusing define-category and modify-category-entry.  (Bug#21448)\n\n2015-09-10  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRevert some stray curved quotes I missed earlier\n\tProblem reported by David Kastrup in:\n\thttps://lists.gnu.org/r/emacs-devel/2015-09/msg00440.html\n\t* lisp/international/mule-cmds.el (leim-list-header):\n\tUse format-message with an ASCII-only format.\n\n\tPrefer NUMBERP to spelling it out\n\t* src/editfns.c (styled_format):\n\t* src/frame.h (NUMVAL):\n\t* src/image.c (parse_image_spec):\n\t* src/lisp.h (CHECK_NUMBER_OR_FLOAT)\n\t(CHECK_NUMBER_OR_FLOAT_COERCE_MARKER):\n\t* src/process.c (Fsignal_process):\n\t* src/xdisp.c (calc_pixel_width_or_height, on_hot_spot_p):\n\t* src/xfaces.c (check_lface_attrs):\n\t* src/xselect.c (x_fill_property_data, x_send_client_event):\n\tUse NUMBERP rather than INTEGERP || FLOATP.\n\n2015-09-10  Tassilo Horn  <tsdh@gnu.org>\n\n\tImprove file-notify-tests\n\t* test/automated/file-notify-tests.el: Use lexical-binding.\n\t(file-notify--test-cleanup): New function.\n\t(file-notify-test00-availability, file-notify-test01-add-watch)\n\t(file-notify-test02-events, file-notify-test03-autorevert): Use it.\n\t(file-notify--test-with-events): New macro.\n\t(file-notify-test02-events): Use it.\n\n2015-09-10  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tAdd patch-sending instructions to git-workflow\n\tFrom a suggestion by Mitchel Humpherys in:\n\thttps://lists.gnu.org/r/emacs-devel/2015-09/msg00421.html\n\t* admin/notes/git-workflow (Sending patches): New section.\n\n\tPort to GIFLIB 5.0.6 and later\n\tProblem reported by Mitchel Humpherys in:\n\thttps://lists.gnu.org/r/emacs-devel/2015-09/msg00420.html\n\t* src/image.c (HAVE_GIFERRORSTRING) [HAVE_GIF]: New macro.\n\t(GifErrorString, init_gif_functions) [HAVE_GIF && WINDOWSNT]:\n\t(gif_load) [HAVE_GIF]: Use it.\n\n2015-09-10  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/cedet/ede/auto.el (ede-project-autoload): Doc fix.\n\n2015-09-09  Glenn Morris  <rgm@gnu.org>\n\n\t* test/automated/file-notify-tests.el (file-notify-test02-events):\n\tFix recent change.\n\n2015-09-09  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRefix movemail GCC pacification\n\tProblem reported by Ken Brown in:\n\thttps://lists.gnu.org/r/emacs-devel/2015-09/msg00406.html\n\t* lib-src/movemail.c (main): Fix previous change.\n\n2015-09-09  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/calendar/time-date.el (time-to-seconds, time-less-p):\n\tMark unused vars with underscore.\n\n\t* src/syntax.c (SETUP_SYNTAX_TABLE): Move truncation...\n\t(parse_sexp_propertize): ...from here.\n\n\t* lisp/filenotify.el: Use lexical-binding\n\t(file-notify-add-watch): Avoid add-to-list.\n\n2015-09-09  Tassilo Horn  <tsdh@gnu.org>\n\n\tStart checking event types in file-notify tests\n\t* test/automated/file-notify-tests.el (file-notify--test-events):\n\tNew variable.\n\t(file-notify--test-event-handler): Append received event to\n\tfile-notify--test-events for later analysis.\n\t(file-notify-test02-events): Assert that the expected notifications have\n\tarrived in the expected order.\n\n2015-09-09  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from gnulib and texinfo\n\tThis incorporates:\n\t2015-08-03 Improve port of stdalign to C++11\n\t* lib/stdalign.in.h: Copy from gnulib.\n\t* doc/misc/texinfo.tex: Copy from texinfo.\n\n2015-09-09  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tMake syntax.c call syntax-propertize on demand\n\t* lisp/emacs-lisp/syntax.el (syntax--jit-propertize): New function.\n\t(parse-sexp-propertize-function): Use it.\n\t(syntax-propertize): Disable parse-sexp-propertize-function.\n\t* src/syntax.c (parse_sexp_propertize, update_syntax_table_forward):\n\tNew functions.\n\t(syms_of_syntax): New vars `parse-sexp-propertize-done' and\n\t`parse-sexp-propertize-function'.\n\t* src/syntax.h (struct gl_state_s): Add `e_property_truncated' field.\n\t(UPDATE_SYNTAX_TABLE_FORWARD): Use update_syntax_table_forward.\n\t(SETUP_BUFFER_SYNTAX_TABLE): Set e_property_truncated.\n\t* lisp/progmodes/elisp-mode.el (elisp-byte-code-syntax-propertize):\n\tDon't assume `point' is set.\n\n2015-09-09  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix indentation of an @example in ELisp manual\n\t* doc/lispref/syntax.texi (Categories): Untabify the example.\n\t(Bug#21448)\n\n2015-09-09  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDefine internal-char-font even if --without-x\n\tThe function is used now even in non-graphical environments.\n\tProblem reported by Glenn Morris in:\n\thttps://lists.gnu.org/r/emacs-devel/2015-09/msg00401.html\n\t* src/font.c (Finternal_char_font): Move here ...\n\t* src/fontset.c (Finternal_char_font): ... from here.\n\n2015-09-09  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/cl-generic.el (cl-generic-generalizers):\n\tRemove warning.\n\n2015-09-09  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix display of complex local data types in GDB-MI\n\t* lisp/progmodes/gdb-mi.el (gdb-locals-handler-custom): If a\n\tvariable has no value, display \"<complex data type>\" as a\n\tplaceholder, instead of a confusing \"nil\".  (Bug#21438)\n\n2015-09-09  Oleh Krehel  <ohwoeowho@gmail.com>\n\n\tRemove redundant redefinition of seq-drop-while from seq.el\n\t* lisp/emacs-lisp/seq.el (seq-drop-while): Define only once.\n\n2015-09-09  Phil Sainty  <psainty@orcon.net.nz>\n\n\t* lisp/emacs-lisp/package.el (package--ensure-init-file):\n\tMore robust check for `package-initialize' calls in init file.\n\tThis function accepts an optional argument, but calls passing\n\tan argument would not have been detected.\n\n2015-09-09  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort movemail to RHEL 6 with --enable-gcc-warnings\n\t* lib-src/movemail.c (main): Declare local only if needed.\n\n\tPort recent Linux console changes to RHEL 6\n\t* src/terminal.c [HAVE_LINUX_KD_H]: Include <sys/ioctl.h>.\n\n\tImprovements for curved quotes on Linux consule\n\tThis should help Emacs work better out-of-the-box on Linux consoles,\n\twhich have only limited support for displaying Unicode characters.\n\tAlso, undo the recent change that caused text-quoting-style to\n\taffect quote display on terminals, so that the two features are\n\tindependent.  See Alan Mackenzie in:\n\thttps://lists.gnu.org/r/emacs-devel/2015-09/msg00244.html\n\tFinally, add a style parameter to startup--setup-quote-display,\n\tso that this function can also be invoked after startup, with\n\tdifferent styles depending on user preference at the time.\n\t* configure.ac: Check for linux/kd.h header.\n\t* doc/emacs/display.texi (Text Display): Document quote display.\n\t* doc/lispref/display.texi (Active Display Table):\n\t* etc/NEWS:\n\t* lisp/startup.el (startup--setup-quote-display, command-line):\n\ttext-quoting-style no longer affects quote display.\n\t* doc/lispref/frames.texi (Terminal Parameters): Fix typo.\n\t* lisp/international/mule-util.el (char-displayable-p):\n\t* lisp/startup.el (startup--setup-quote-display):\n\tOn a text terminal supporting glyph codes, use the reported\n\tglyph codes instead of the terminal coding system, as this\n\tis more accurate on the Linux console.\n\t* lisp/startup.el (startup--setup-quote-display):\n\tNew optional arg STYLE.\n\t* src/fontset.c (Finternal_char_font):\n\tReport glyph codes for a text terminal, if they are available.\n\tCurrently this is supported only for the Linux console.\n\t* src/termhooks.h (struct terminal): New member glyph-code-table.\n\t* src/terminal.c [HAVE_LINUX_KD_H]: Include <errno.h>, <linux/kd.h>.\n\t(calculate_glyph_code_table) [HAVE_LINUX_KD_H]: New function.\n\t(terminal_glyph_code): New function.\n\n2015-09-08  Juri Linkov  <juri@linkov.net>\n\n\t* lisp/info.el (Info-fontify-node): Don't stop at the non-title\n\tunderline.  (Bug#21433)\n\n2015-09-08  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/calendar/time-date.el (with-decoded-time-value): Fix debug spec.\n\n2015-09-08  Tassilo Horn  <tsdh@gnu.org>\n\n\tFix double-reporting of rename events with inotify\n\t* lisp/filenotify.el (file-notify-callback): Fix double-reporting\n\tof rename events with inotify (bug#21435).\n\n2015-09-08  Vasilij Schneidermann  <v.schneidermann@gmail.com>  (tiny change)\n\n\t* lisp/play/tetris.el (tetris-move-down): New command (bug#21360).\n\t(tetris-mode-map): Use it.\n\n2015-09-08  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tRemove a few simple cases of global redisplay\n\t* src/dispnew.c (redraw_frame): Don't redisplay all frames.\n\t* src/xdisp.c (echo_area_display): Set the frame's `redisplay' bit\n\trather than returning a \"resized_p\" boolean.\n\t(redisplay_internal): Adjust call accordingly.\n\t* src/xfaces.c (free_realized_faces): Don't redisplay all frames.\n\t(free_all_realized_faces): Set windows_or_buffers_changed so as to ease\n\ttracking of this undesirable situation.\n\n\t* src/process.c (status_notify): Avoid global redisplay (bug#11822)\n\t* src/process.c (status_notify): Only set the update_mode_line on the\n\trelevant buffers rather than setting it globally.\n\n2015-09-07  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/electric.el (electric-quote-post-self-insert-function):\n\tDon't use syntax-ppss if comment-use-syntax is nil (e.g. message-mode).\n\t(electric-quote-mode): Activate everywhere in message-mode.\n\n2015-09-07  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tGo back to grave quoting in source-code docstrings etc.\n\tThis reverts almost all my recent changes to use curved quotes\n\tin docstrings and/or strings used for error diagnostics.\n\tThere are a few exceptions, e.g., Bah\u00e1\u2019\u00ed proper names.\n\t* admin/unidata/unidata-gen.el (unidata-gen-table):\n\t* lisp/abbrev.el (expand-region-abbrevs):\n\t* lisp/align.el (align-region):\n\t* lisp/allout.el (allout-mode, allout-solicit-alternate-bullet)\n\t(outlineify-sticky):\n\t* lisp/apropos.el (apropos-library):\n\t* lisp/bookmark.el (bookmark-default-annotation-text):\n\t* lisp/button.el (button-category-symbol, button-put)\n\t(make-text-button):\n\t* lisp/calc/calc-aent.el (math-read-if, math-read-factor):\n\t* lisp/calc/calc-embed.el (calc-do-embedded):\n\t* lisp/calc/calc-ext.el (calc-user-function-list):\n\t* lisp/calc/calc-graph.el (calc-graph-show-dumb):\n\t* lisp/calc/calc-help.el (calc-describe-key)\n\t(calc-describe-thing, calc-full-help):\n\t* lisp/calc/calc-lang.el (calc-c-language)\n\t(math-parse-fortran-vector-end, math-parse-tex-sum)\n\t(math-parse-eqn-matrix, math-parse-eqn-prime)\n\t(calc-yacas-language, calc-maxima-language, calc-giac-language)\n\t(math-read-giac-subscr, math-read-math-subscr)\n\t(math-read-big-rec, math-read-big-balance):\n\t* lisp/calc/calc-misc.el (calc-help, report-calc-bug):\n\t* lisp/calc/calc-mode.el (calc-auto-why, calc-save-modes)\n\t(calc-auto-recompute):\n\t* lisp/calc/calc-prog.el (calc-fix-token-name)\n\t(calc-read-parse-table-part, calc-user-define-invocation)\n\t(math-do-arg-check):\n\t* lisp/calc/calc-store.el (calc-edit-variable):\n\t* lisp/calc/calc-units.el (math-build-units-table-buffer):\n\t* lisp/calc/calc-vec.el (math-read-brackets):\n\t* lisp/calc/calc-yank.el (calc-edit-mode):\n\t* lisp/calc/calc.el (calc, calc-do, calc-user-invocation):\n\t* lisp/calendar/appt.el (appt-display-message):\n\t* lisp/calendar/diary-lib.el (diary-check-diary-file)\n\t(diary-mail-entries, diary-from-outlook):\n\t* lisp/calendar/icalendar.el (icalendar-export-region)\n\t(icalendar--convert-float-to-ical)\n\t(icalendar--convert-date-to-ical)\n\t(icalendar--convert-ical-to-diary)\n\t(icalendar--convert-recurring-to-diary)\n\t(icalendar--add-diary-entry):\n\t* lisp/calendar/time-date.el (format-seconds):\n\t* lisp/calendar/timeclock.el (timeclock-mode-line-display)\n\t(timeclock-make-hours-explicit, timeclock-log-data):\n\t* lisp/calendar/todo-mode.el (todo-prefix, todo-delete-category)\n\t(todo-item-mark, todo-check-format)\n\t(todo-insert-item--next-param, todo-edit-item--next-key)\n\t(todo-mode):\n\t* lisp/cedet/ede/pmake.el (ede-proj-makefile-insert-dist-rules):\n\t* lisp/cedet/mode-local.el (describe-mode-local-overload)\n\t(mode-local-print-binding, mode-local-describe-bindings-2):\n\t* lisp/cedet/semantic/complete.el (semantic-displayor-show-request):\n\t* lisp/cedet/srecode/srt-mode.el (srecode-macro-help):\n\t* lisp/cus-start.el (standard):\n\t* lisp/cus-theme.el (describe-theme-1):\n\t* lisp/custom.el (custom-add-dependencies, custom-check-theme)\n\t(custom--sort-vars-1, load-theme):\n\t* lisp/descr-text.el (describe-text-properties-1, describe-char):\n\t* lisp/dired-x.el (dired-do-run-mail):\n\t* lisp/dired.el (dired-log):\n\t* lisp/emacs-lisp/advice.el (ad-read-advised-function)\n\t(ad-read-advice-class, ad-read-advice-name, ad-enable-advice)\n\t(ad-disable-advice, ad-remove-advice, ad-set-argument)\n\t(ad-set-arguments, ad--defalias-fset, ad-activate)\n\t(ad-deactivate):\n\t* lisp/emacs-lisp/byte-opt.el (byte-compile-inline-expand)\n\t(byte-compile-unfold-lambda, byte-optimize-form-code-walker)\n\t(byte-optimize-while, byte-optimize-apply):\n\t* lisp/emacs-lisp/byte-run.el (defun, defsubst):\n\t* lisp/emacs-lisp/bytecomp.el (byte-compile-lapcode)\n\t(byte-compile-log-file, byte-compile-format-warn)\n\t(byte-compile-nogroup-warn, byte-compile-arglist-warn)\n\t(byte-compile-cl-warn)\n\t(byte-compile-warn-about-unresolved-functions)\n\t(byte-compile-file, byte-compile--declare-var)\n\t(byte-compile-file-form-defmumble, byte-compile-form)\n\t(byte-compile-normal-call, byte-compile-check-variable)\n\t(byte-compile-variable-ref, byte-compile-variable-set)\n\t(byte-compile-subr-wrong-args, byte-compile-setq-default)\n\t(byte-compile-negation-optimizer)\n\t(byte-compile-condition-case--old)\n\t(byte-compile-condition-case--new, byte-compile-save-excursion)\n\t(byte-compile-defvar, byte-compile-autoload)\n\t(byte-compile-lambda-form)\n\t(byte-compile-make-variable-buffer-local, display-call-tree)\n\t(batch-byte-compile):\n\t* lisp/emacs-lisp/cconv.el (cconv-convert, cconv--analyze-use):\n\t* lisp/emacs-lisp/chart.el (chart-space-usage):\n\t* lisp/emacs-lisp/check-declare.el (check-declare-scan)\n\t(check-declare-warn, check-declare-file)\n\t(check-declare-directory):\n\t* lisp/emacs-lisp/checkdoc.el (checkdoc-this-string-valid-engine)\n\t(checkdoc-message-text-engine):\n\t* lisp/emacs-lisp/cl-extra.el (cl-parse-integer)\n\t(cl--describe-class):\n\t* lisp/emacs-lisp/cl-generic.el (cl-defgeneric)\n\t(cl--generic-describe, cl-generic-generalizers):\n\t* lisp/emacs-lisp/cl-macs.el (cl--parse-loop-clause, cl-tagbody)\n\t(cl-symbol-macrolet):\n\t* lisp/emacs-lisp/cl.el (cl-unload-function, flet):\n\t* lisp/emacs-lisp/copyright.el (copyright)\n\t(copyright-update-directory):\n\t* lisp/emacs-lisp/edebug.el (edebug-read-list):\n\t* lisp/emacs-lisp/eieio-base.el (eieio-persistent-read):\n\t* lisp/emacs-lisp/eieio-core.el (eieio--slot-override)\n\t(eieio-oref):\n\t* lisp/emacs-lisp/eieio-opt.el (eieio-help-constructor):\n\t* lisp/emacs-lisp/eieio-speedbar.el:\n\t(eieio-speedbar-child-make-tag-lines)\n\t(eieio-speedbar-child-description):\n\t* lisp/emacs-lisp/eieio.el (defclass, change-class):\n\t* lisp/emacs-lisp/elint.el (elint-file, elint-get-top-forms)\n\t(elint-init-form, elint-check-defalias-form)\n\t(elint-check-let-form):\n\t* lisp/emacs-lisp/ert.el (ert-get-test, ert-results-mode-menu)\n\t(ert-results-pop-to-backtrace-for-test-at-point)\n\t(ert-results-pop-to-messages-for-test-at-point)\n\t(ert-results-pop-to-should-forms-for-test-at-point)\n\t(ert-describe-test):\n\t* lisp/emacs-lisp/find-func.el (find-function-search-for-symbol)\n\t(find-function-library):\n\t* lisp/emacs-lisp/generator.el (iter-yield):\n\t* lisp/emacs-lisp/gv.el (gv-define-simple-setter):\n\t* lisp/emacs-lisp/lisp-mnt.el (lm-verify):\n\t* lisp/emacs-lisp/macroexp.el (macroexp--obsolete-warning):\n\t* lisp/emacs-lisp/map-ynp.el (map-y-or-n-p):\n\t* lisp/emacs-lisp/nadvice.el (advice--make-docstring)\n\t(advice--make, define-advice):\n\t* lisp/emacs-lisp/package-x.el (package-upload-file):\n\t* lisp/emacs-lisp/package.el (package-version-join)\n\t(package-disabled-p, package-activate-1, package-activate)\n\t(package--download-one-archive)\n\t(package--download-and-read-archives)\n\t(package-compute-transaction, package-install-from-archive)\n\t(package-install, package-install-selected-packages)\n\t(package-delete, package-autoremove, describe-package-1)\n\t(package-install-button-action, package-delete-button-action)\n\t(package-menu-hide-package, package-menu--list-to-prompt)\n\t(package-menu--perform-transaction)\n\t(package-menu--find-and-notify-upgrades):\n\t* lisp/emacs-lisp/pcase.el (pcase-exhaustive, pcase--u1):\n\t* lisp/emacs-lisp/re-builder.el (reb-enter-subexp-mode):\n\t* lisp/emacs-lisp/ring.el (ring-previous, ring-next):\n\t* lisp/emacs-lisp/rx.el (rx-check, rx-anything)\n\t(rx-check-any-string, rx-check-any, rx-check-not, rx-=)\n\t(rx-repeat, rx-check-backref, rx-syntax, rx-check-category)\n\t(rx-form):\n\t* lisp/emacs-lisp/smie.el (smie-config-save):\n\t* lisp/emacs-lisp/subr-x.el (internal--check-binding):\n\t* lisp/emacs-lisp/tabulated-list.el (tabulated-list-put-tag):\n\t* lisp/emacs-lisp/testcover.el (testcover-1value):\n\t* lisp/emacs-lisp/timer.el (timer-event-handler):\n\t* lisp/emulation/viper-cmd.el (viper-toggle-parse-sexp-ignore-comments)\n\t(viper-toggle-search-style, viper-kill-buffer)\n\t(viper-brac-function):\n\t* lisp/emulation/viper-macs.el (viper-record-kbd-macro):\n\t* lisp/env.el (setenv):\n\t* lisp/erc/erc-button.el (erc-nick-popup):\n\t* lisp/erc/erc.el (erc-cmd-LOAD, erc-handle-login, english):\n\t* lisp/eshell/em-dirs.el (eshell/cd):\n\t* lisp/eshell/em-glob.el (eshell-glob-regexp)\n\t(eshell-glob-entries):\n\t* lisp/eshell/em-pred.el (eshell-parse-modifiers):\n\t* lisp/eshell/esh-opt.el (eshell-show-usage):\n\t* lisp/facemenu.el (facemenu-add-new-face)\n\t(facemenu-add-new-color):\n\t* lisp/faces.el (read-face-name, read-face-font, describe-face)\n\t(x-resolve-font-name):\n\t* lisp/files-x.el (modify-file-local-variable):\n\t* lisp/files.el (locate-user-emacs-file, find-alternate-file)\n\t(set-auto-mode, hack-one-local-variable--obsolete)\n\t(dir-locals-set-directory-class, write-file, basic-save-buffer)\n\t(delete-directory, copy-directory, recover-session)\n\t(recover-session-finish, insert-directory)\n\t(file-modes-char-to-who, file-modes-symbolic-to-number)\n\t(move-file-to-trash):\n\t* lisp/filesets.el (filesets-add-buffer, filesets-remove-buffer):\n\t* lisp/find-cmd.el (find-generic, find-to-string):\n\t* lisp/finder.el (finder-commentary):\n\t* lisp/font-lock.el (font-lock-fontify-buffer):\n\t* lisp/format.el (format-write-file, format-find-file)\n\t(format-insert-file):\n\t* lisp/frame.el (get-device-terminal, select-frame-by-name):\n\t* lisp/fringe.el (fringe--check-style):\n\t* lisp/gnus/nnmairix.el (nnmairix-widget-create-query):\n\t* lisp/help-fns.el (help-fns--key-bindings)\n\t(help-fns--compiler-macro, help-fns--parent-mode)\n\t(help-fns--obsolete, help-fns--interactive-only)\n\t(describe-function-1, describe-variable):\n\t* lisp/help.el (describe-mode)\n\t(describe-minor-mode-from-indicator):\n\t* lisp/image.el (image-type):\n\t* lisp/international/ccl.el (ccl-dump):\n\t* lisp/international/fontset.el (x-must-resolve-font-name):\n\t* lisp/international/mule-cmds.el (prefer-coding-system)\n\t(select-safe-coding-system-interactively)\n\t(select-safe-coding-system, activate-input-method)\n\t(toggle-input-method, describe-current-input-method)\n\t(describe-language-environment):\n\t* lisp/international/mule-conf.el (code-offset):\n\t* lisp/international/mule-diag.el (describe-character-set)\n\t(list-input-methods-1):\n\t* lisp/mail/feedmail.el (feedmail-run-the-queue):\n\t* lisp/mouse.el (minor-mode-menu-from-indicator):\n\t* lisp/mpc.el (mpc-playlist-rename):\n\t* lisp/msb.el (msb--choose-menu):\n\t* lisp/net/ange-ftp.el (ange-ftp-shell-command):\n\t* lisp/net/imap.el (imap-interactive-login):\n\t* lisp/net/mairix.el (mairix-widget-create-query):\n\t* lisp/net/newst-backend.el (newsticker--sentinel-work):\n\t* lisp/net/newst-treeview.el (newsticker--treeview-load):\n\t* lisp/net/rlogin.el (rlogin):\n\t* lisp/obsolete/iswitchb.el (iswitchb-possible-new-buffer):\n\t* lisp/obsolete/otodo-mode.el (todo-more-important-p):\n\t* lisp/obsolete/pgg-gpg.el (pgg-gpg-process-region):\n\t* lisp/obsolete/pgg-pgp.el (pgg-pgp-process-region):\n\t* lisp/obsolete/pgg-pgp5.el (pgg-pgp5-process-region):\n\t* lisp/org/ob-core.el (org-babel-goto-named-src-block)\n\t(org-babel-goto-named-result):\n\t* lisp/org/ob-fortran.el (org-babel-fortran-ensure-main-wrap):\n\t* lisp/org/ob-ref.el (org-babel-ref-resolve):\n\t* lisp/org/org-agenda.el (org-agenda-prepare):\n\t* lisp/org/org-clock.el (org-clock-notify-once-if-expired)\n\t(org-clock-resolve):\n\t* lisp/org/org-ctags.el (org-ctags-ask-rebuild-tags-file-then-find-tag):\n\t* lisp/org/org-feed.el (org-feed-parse-atom-entry):\n\t* lisp/org/org-habit.el (org-habit-parse-todo):\n\t* lisp/org/org-mouse.el (org-mouse-popup-global-menu)\n\t(org-mouse-context-menu):\n\t* lisp/org/org-table.el (org-table-edit-formulas):\n\t* lisp/org/ox.el (org-export-async-start):\n\t* lisp/proced.el (proced-log):\n\t* lisp/progmodes/ada-mode.el (ada-get-indent-case)\n\t(ada-check-matching-start, ada-goto-matching-start):\n\t* lisp/progmodes/ada-prj.el (ada-prj-display-page):\n\t* lisp/progmodes/ada-xref.el (ada-find-executable):\n\t* lisp/progmodes/ebrowse.el (ebrowse-tags-apropos):\n\t* lisp/progmodes/etags.el (etags-tags-apropos-additional):\n\t* lisp/progmodes/flymake.el (flymake-parse-err-lines)\n\t(flymake-start-syntax-check-process):\n\t* lisp/progmodes/python.el (python-shell-get-process-or-error)\n\t(python-define-auxiliary-skeleton):\n\t* lisp/progmodes/sql.el (sql-comint):\n\t* lisp/progmodes/verilog-mode.el (verilog-load-file-at-point):\n\t* lisp/progmodes/vhdl-mode.el (vhdl-widget-directory-validate):\n\t* lisp/recentf.el (recentf-open-files):\n\t* lisp/replace.el (query-replace-read-from)\n\t(occur-after-change-function, occur-1):\n\t* lisp/scroll-bar.el (scroll-bar-columns):\n\t* lisp/server.el (server-get-auth-key):\n\t* lisp/simple.el (execute-extended-command)\n\t(undo-outer-limit-truncate, list-processes--refresh)\n\t(compose-mail, set-variable, choose-completion-string)\n\t(define-alternatives):\n\t* lisp/startup.el (site-run-file, tty-handle-args, command-line)\n\t(command-line-1):\n\t* lisp/subr.el (noreturn, define-error, add-to-list)\n\t(read-char-choice, version-to-list):\n\t* lisp/term/common-win.el (x-handle-xrm-switch)\n\t(x-handle-name-switch, x-handle-args):\n\t* lisp/term/x-win.el (x-handle-parent-id, x-handle-smid):\n\t* lisp/textmodes/reftex-ref.el (reftex-label):\n\t* lisp/textmodes/reftex-toc.el (reftex-toc-rename-label):\n\t* lisp/textmodes/two-column.el (2C-split):\n\t* lisp/tutorial.el (tutorial--describe-nonstandard-key)\n\t(tutorial--find-changed-keys):\n\t* lisp/type-break.el (type-break-noninteractive-query):\n\t* lisp/wdired.el (wdired-do-renames, wdired-do-symlink-changes)\n\t(wdired-do-perm-changes):\n\t* lisp/whitespace.el (whitespace-report-region):\n\tPrefer grave quoting in source-code strings used to generate help\n\tand diagnostics.\n\t* lisp/faces.el (face-documentation):\n\tNo need to convert quotes, since the result is a docstring.\n\t* lisp/info.el (Info-virtual-index-find-node)\n\t(Info-virtual-index, info-apropos):\n\tSimplify by generating only curved quotes, since info files are\n\ttypically that ways nowadays anyway.\n\t* lisp/international/mule-diag.el (list-input-methods):\n\tDon\u2019t assume text quoting style is curved.\n\t* lisp/org/org-bibtex.el (org-bibtex-fields):\n\tRevert my recent changes, going back to the old quoting style.\n\n2015-09-07  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el: Reduce autoloading before compiling.\n\t(package--autoloads-file-name)\n\t(package--activate-autoloads-and-load-path): New function.\n\t(package-activate-1): Delegate autoloading and load-path\n\tconfiguration to `package--activate-autoloads-and-load-path'.\n\t(package--compile): Before compilation, call\n\t`package--activate-autoloads-and-load-path' instead of\n\t`package-activate-1'.\n\n2015-09-07  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* src/keyboard.c (read_key_sequence): Complete last fix (bug#21403).\n\n2015-09-07  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix deletion of symlinks to directories on MS-Windows\n\t* src/w32.c (sys_unlink): If 'unlink' fails, and the argument is a\n\tsymlink to a directory, try again with 'rmdir'.\n\t(is_symlink): If the argument is a symlink to a directory, set a\n\tbit in the return value to indicate that fact.\n\n2015-09-07  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el (package-initialize): Set enable-at-startup\n\tWhen `package-initialize' is called as part of loading the init file,\n\tthe user probably doesn't want it to be called again afterwards.\n\tIn this situation, `package-initialize' now sets\n\t`package-enable-at-startup' to nil to prevent that.  The user can have\n\tthe old behavior by setting this variable to t after the call to\n\t`package-initialize'.  (Bug#21423)\n\t* doc/emacs/package.texi (Package Installation): Document it.\n\t* doc/lispref/package.texi (Packaging Basics): Document it.\n\t* etc/NEWS: Document it.\n\n2015-09-06  Thomas Fitzsimmons  <fitzsim@fitzsim.org>\n\n\tBump version of ntlm.el to 2.00\n\t* lisp/net/ntlm.el: Bump version to 2.00.  New maintainer.\n\tAdd comm keyword.\n\n2015-09-06  Adam Sj\u00f8gren  <asjo@koldfront.dk>\n\n\t* doc/misc/gnus.texi (Mail Source Specifiers):\n\tAllow :mailbox to be a list.\n\n2015-09-06  Dmitry Gutov  <dgutov@yandex.ru>\n\n\t* lisp/progmodes/etags.el (etags-tags-completion-table):\n\tAllow even one non-regular character before the implicit tag name.\n\tReported at http://emacs.stackexchange.com/questions/15269/.\n\n2015-09-06  Thomas Fitzsimmons  <fitzsim@fitzsim.org>\n\n\tAdd support for NTLMv2 authentication\n\t* lisp/net/ntlm.el (ntlm): New customization group.\n\t(ntlm-compatibility-level): New defcustom.\n\t(ntlm-compute-timestamp): New function.\n\t(ntlm-generate-nonce): Likewise.\n\t(ntlm-build-auth-response): Add support for NTLMv2 authentication.\n\n2015-09-06  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el: Rename custom faces.\n\tAll of the recently introduced faces, like `package-name-face', have\n\tbeen renamed to no end in `-face' to comply with the convention\n\tdescribed in (info \"(elisp) Defining Faces\").\n\t(package-name, package-description)\n\t(package-status-built-in, package-status-external)\n\t(package-status-available, package-status-new)\n\t(package-status-held, package-status-disabled)\n\t(package-status-installed, package-status-dependency)\n\t(package-status-unsigned, package-status-incompat)\n\t(package-status-avail-obso): New faces.\n\t(package-menu--print-info-simple): Use them.\n\n2015-09-06  Adam Sj\u00f8gren  <asjo@koldfront.dk>\n\n\tmail-source.el: Make the imap mail-source's :mailbox handle a list\n\t* lisp/gnus/mail-source.el (mail-source-fetch-imap):\n\tAllow :mailbox to be  a list.\n\n2015-09-06  Eric Abrahamsen  <eric@ericabrahamsen.net>\n\n\tnnimap.el: Handle nil arg to nnimap-request-group\n\t* lisp/gnus/nnimap.el (nnimap-request-group): Handle nil \"info\" arg.\n\tThis arg isn't always passed in, check it's not nil before making it\n\tinto a list.  The active arg will also be nil if the group is new,\n\tcheck for that.\n\n2015-09-06  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFile notifications: Support renaming over directory boundaries\n\t* lisp/filenotify.el (file-notify-handle-event):\n\t(file-notify--pending-event): Adapt docstring.\n\t(file-notify--descriptor, file-notify-callback): Reimplement in\n\torder to support renaming over directory boundaries.\n\t(file-notify-add-watch): Adapt `file-notify--descriptor' call.\n\t* doc/lispref/os.texi (File Notifications): Remove limitation of\n\tfile renaming to the same directory.\n\n2015-09-05  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSpelling fix (Bug#21420)\n\n2015-09-05  Nicolas Petton  <nicolas@petton.fr>\n\n\tImprove the semantic of map-some\n\tUpdate map-some to return the returned by the predicate, similar to\n\tseq-some.\n\t* lisp/emacs-lisp/map.el (map-some): Update the function to return the\n\t  return value of the predicate.\n\t* test/automated/map-tests.el (test-map-some): Update the test to check\n\t  for non-nil values only.\n\n\tRename map-contains-key-p and map-some-p\n\tRemove the \"-p\" suffix from both function names.\n\t* lisp/emacs-lisp/map.el (map-contains-key, map-some):\n\t  Rename the functions.\n\t* test/automated/map-tests.el (test-map-contains-key, test-map-some):\n\t  Update both test functions.\n\n\tImprove the semantic of seq-some\n\tUpdate seq-some to return non-nil if the predicate returns non-nil for\n\tany element of the seq, in which case the returned value is the one\n\treturned by the predicate.\n\t* lisp/emacs-lisp/seq.el (seq-some): Update the function and its\n\t  docstring.\n\t* test/automated/seq-tests.el (test-seq-some): Add a regression test.\n\t* doc/lispref/sequences.texi (Sequence Functions): Update the\n\t  documentation for seq-some.\n\n\tRename seq-some-p to seq-some and seq-contains-p to seq-contains\n\t* lisp/emacs-lisp/seq.el (seq-some, seq-contains): Rename the functions\n\t  without the \"-p\" prefix.\n\t* test/automated/seq-tests.el (test-seq-some, test-seq-contains): Update\n\t  the tests accordingly.\n\t* doc/lispref/sequences.texi (Sequence Functions): Update the\n\t  documentation for seq.el.\n\n2015-09-05  Paul Eggert  <eggert@Penguin.CS.UCLA.EDU>\n\n\ttext-quoting-style for usage of fn names with \u2018\u2019\n\t* lisp/help.el (help--docstring-quote): Don\u2019t assume\n\ttext-quoting-style is \u2018curve\u2019 when generating usage strings for\n\tfunctions whose names contain curved quotes.\n\n2015-09-05  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix fix for describe-function keybinding confusion\n\tThis fixes a bug introduced by the previous patch.\n\t* lisp/help-fns.el (help-fns--signature):\n\tLast arg of help-fns--signature is now a buffer, or nil if a\n\traw signature is wanted.  All callers changed.\n\t(describe-function-1): Use this to do the right thing with signatures.\n\n2015-09-05  Johan Bockg\u00e5rd  <bojohan@gnu.org>\n\n\t* doc/lispref/frames.texi (Mouse Tracking): Fix typo.\n\n\tUse PAT rather than UPAT in pcase macros\n\t* lisp/emacs-lisp/cl-macs.el (cl-struct) <pcase-defmacro>:\n\t* lisp/emacs-lisp/eieio.el (eieio) <pcase-defmacro>: Use PAT rather\n\t  than UPAT.\n\n2015-09-05  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix describe-function keybinding confusion\n\t* lisp/help-fns.el (describe-function-1): Compute signature\n\tin the original buffer, not in standard-output, so that\n\tsubstitute-command-keys uses the proper keybindings.\n\tThis fixes Bug#21412, introduced in commit\n\t2015-06-11T10:23:46-0700!eggert@cs.ucla.edu.\n\n2015-09-05  Xue Fuqiao  <xfq.free@gmail.com>\n\n\t* doc/emacs/programs.texi (Program Modes): Remove an index entry.\n\n2015-09-05  Robert Pluim  <rpluim@gmail.com>  (tiny change)\n\n\tAvoid read error messages from 'inotify'\n\t* src/process.c (wait_reading_process_output): Add a\n\t'tls_available' set and manipulate it instead of 'Available' when\n\tchecking TLS inputs.  Assign the value to 'Available' only if we\n\tfind any TLS data waiting to be read.  This avoids error messages\n\tfrom 'inotify' that tries to read data it shouldn't.  (Bug#21337)\n\n2015-09-05  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid errors in thing-at-point with 2nd argument non-nil\n\t* lisp/thingatpt.el (thing-at-point): Only call 'length' on\n\tsequences.  (Bug#21391)\n\n2015-09-05  Pip Cet  <pipcet@gmail.com>  (tiny change)\n\n\tFix segfaults due to using a stale face ID\n\t* src/xdisp.c (forget_escape_and_glyphless_faces): New function.\n\t(display_echo_area_1, redisplay_internal): Call it to avoid\n\treusing stale face IDs for 'escape-glyph' and 'glyphless-char'\n\tfaces, which could case a segfault if the frame's face cache was\n\tfreed since the last redisplay.  (Bug#21394)\n\t* src/xfaces.c (free_realized_faces):\n\tCall forget_escape_and_glyphless_faces.\n\t* src/dispextern.h (forget_escape_and_glyphless_faces): Add prototype.\n\n2015-09-04  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix minor problems with \" in manual\n\n2015-09-04  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* doc/misc/tramp.texi (Frequently Asked Questions): New item for ad-hoc\n\tmulti-hop files.\n\n2015-09-04  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSupport automated \u2018make check\u2019 in non-C locale\n\tThis lets the builder optionally test Emacs behavior in other locales.\n\tThe C locale is still the default for tests.\n\t* test/automated/Makefile.in (TEST_LOCALE): New macro.\n\t(emacs): Use it.\n\t* test/automated/flymake-tests.el (flymake-tests--current-face):\n\tUse C locale for subprocesses so that tests behave as expected.\n\t* test/automated/python-tests.el:\n\t(python-shell-prompt-validate-regexps-1)\n\t(python-shell-prompt-validate-regexps-2)\n\t(python-shell-prompt-validate-regexps-3)\n\t(python-shell-prompt-validate-regexps-4)\n\t(python-shell-prompt-validate-regexps-5)\n\t(python-shell-prompt-validate-regexps-6)\n\t(python-shell-prompt-set-calculated-regexps-1):\n\tAdjust expected output to match locale.\n\t* test/automated/tildify-tests.el (tildify-test--test)\n\t(tildify-space-test--test, tildify-space-undo-test--test):\n\tThis test assumes UTF-8 encoding.\n\n2015-09-03  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix some more docstring etc. quoting problems\n\tMostly these fixes prevent the transliteration of apostrophes\n\tthat should stay apostrophes.  Also, prefer curved quotes in\n\tBah\u00e1\u2019\u00ed proper names, as that\u2019s the preferred Bah\u00e1\u2019\u00ed style and\n\tthese names are chock-full of non-ASCII characters anyway.\n\t* lisp/emacs-lisp/eieio-core.el (eieio-defclass-autoload)\n\t(eieio-defclass-internal):\n\t* lisp/emacs-lisp/eieio.el (defclass):\n\t* lisp/hi-lock.el (hi-lock-mode):\n\tDon\u2019t transliterate Lisp apostrophes when generating a\n\tdoc string or diagnostic.\n\t* lisp/international/mule-diag.el (list-coding-systems-1):\n\t* lisp/international/ogonek.el (ogonek-jak, ogonek-how):\n\t* lisp/mail/sendmail.el (sendmail-query-user-about-smtp):\n\t* lisp/vc/ediff-mult.el (ediff-redraw-registry-buffer):\n\t* lisp/vc/ediff-ptch.el (ediff-fixup-patch-map):\n\tSubstitute quotes before putting them in the help buffer.\n\n2015-09-03  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tRe-add the notion of echo_prompt lost in the translation\n\t* src/keyboard.h (struct kboard): Replace echo_after_prompt with new\n\techo_prompt which contains the actual string.  Update all uses.\n\t* src/keyboard.c (kset_echo_prompt): New function.\n\t(echo_update): Add echo_prompt at the very beginning.\n\t(read_char): Remove workaround for bug#19875, not needed any more.\n\t(read_key_sequence): Set echo_prompt rather than echo_string\n\t(bug#21403).\n\t(mark_kboards): Mark echo_prompt.\n\n\tFix disassembly of non-compiled lexical functions (bug#21377)\n\t* lisp/emacs-lisp/bytecomp.el (byte-compile): Handle `closure' arg.\n\t* lisp/emacs-lisp/disass.el: Use lexical-binding.\n\t(disassemble): Recognize `closure's as well.\n\t(disassemble-internal): Use indirect-function and\n\thelp-function-arglist, and accept `closure's.\n\t(disassemble-internal): Use interactive-form.\n\t(disassemble-1): Use functionp.\n\n\t* lisp/textmodes/tex-mode.el (tex--prettify-symbols-compose-p):\n\tDon't compose inside verbatim blocks!\n\n2015-09-03  Mark Oteiza  <mvoteiza@udel.edu>\n\n\t* lisp/thingatpt.el (thing-at-point-uri-schemes): Add \"man:\"\n\t(bug#19441).\n\n\t* lisp/mpc.el (mpc--proc-connect): Handle unix sockets (bug#19394).\n\n2015-09-03  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tvc-git-mode-line-string: Explicitly re-apply the face\n\t* lisp/vc/vc-git.el (vc-git-mode-line-string): Explicitly re-apply\n\tthe face (bug#21404).\n\n2015-09-02  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tTreat initial-scratch-message as a doc string\n\t* doc/emacs/building.texi (Lisp Interaction):\n\t* doc/lispref/os.texi (Startup Summary):\n\t* etc/NEWS: Document this.\n\t* lisp/startup.el (initial-scratch-message):\n\tLook up find-file\u2019s key rather than hardcoding it.\n\t(command-line-1): Substitute the doc string.\n\tThis also substitutes the quotes, which will help test display\n\tquoting at startup.\n\n\tFix describe-char bug with glyphs on terminals\n\t* lisp/descr-text.el (describe-char): Terminals can have glyphs in\n\tbuffers too, so don\u2019t treat them differently from graphic displays.\n\tWithout this fix, describe-char would throw an error on a terminal\n\tif given a glyph with a non-default face.\n\n\tFollow text-quoting-style in display table init\n\tThis attempts to fix a problem reported by Alan Mackenzie in:\n\thttps://lists.gnu.org/r/emacs-devel/2015-09/msg00112.html\n\t* doc/lispref/display.texi (Active Display Table):\n\tMention how text-quoting-style affects it.\n\t* doc/lispref/help.texi (Keys in Documentation):\n\tSay how to set text-quoting-style in ~/.emacs.\n\t* etc/NEWS: Document the change.\n\t* lisp/startup.el (startup--setup-quote-display):\n\tFollow user preference if text-quoting-style is set.\n\t(command-line): Setup quote display again if user expresses\n\ta preference in .emacs.\n\n2015-09-02  K. Handa  <handa@gnu.org>\n\n\tFix typo\n\t* src/ftfont.c (ftfont_drive_otf): otf_positioning_type_components_mask\n\t-> OTF_positioning_type_components_mask.\n\n\tFix previous change\n\t* src/ftfont.c (ftfont_drive_otf): Remember some bits of\n\tOTF_Glyph->positioning_type in MFLTGlyphFT->libotf_positioning_type.\n\n2015-09-01  David Caldwell  <david@porkrind.org>  (tiny change)\n\n\t* lisp/vc/vc-hooks.el (vc-refresh-state): New command.\n\tRename from vc-find-file-hook and make interactive.\n\t(vc-find-file-hook): Redefine as obsolete alias.\n\n2015-09-01  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tEscape ` and ' in doc\n\tEscape apostrophes and grave accents in docstrings if they are\n\tare supposed to stand for themselves and are not quotes.  Remove\n\tapostrophes from docstring examples like \u2018'(calendar-nth-named-day\n\t-1 0 10 year)\u2019 that confuse source code with data.  Do some other\n\tminor docstring fixups as well, e.g., insert a missing close quote.\n\n2015-09-01  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tGeneralize the prefix-command machinery of C-u\n\t* lisp/simple.el (prefix-command-echo-keystrokes-functions)\n\t(prefix-command-preserve-state-hook): New hooks.\n\t(internal-echo-keystrokes-prefix): New function.\n\t(prefix-command--needs-update, prefix-command--last-echo): New vars.\n\t(prefix-command-update, prefix-command-preserve): New functions.\n\t(reset-this-command-lengths): New compatibility definition.\n\t(universal-argument--mode): Call prefix-command-update.\n\t(universal-argument, universal-argument-more, negative-argument)\n\t(digit-argument): Call prefix-command-preserve-state.\n\t* src/keyboard.c: Call internal-echo-keystrokes-prefix to build\n\tthe \"prefix argument\" to echo.\n\t(this_command_key_count_reset, before_command_key_count)\n\t(before_command_echo_length): Delete variables.\n\t(echo_add_key): Always add a space.\n\t(echo_char): Remove.\n\t(echo_dash): Don't give up when this_command_key_count is 0, since that\n\tis now the case after a prefix command.\n\t(echo_update): New function, extracted from echo_now.\n\t(echo_now): Use it.\n\t(add_command_key, read_char, record_menu_key): Remove old disabled code.\n\t(command_loop_1): Don't refrain from pushing an undo boundary when\n\tprefix-arg is set.  Remove other prefix-arg special case, now handled\n\tdirectly in the prefix commands instead.  But call echo_now if there's\n\ta prefix state to echo.\n\t(read_char, record_menu_key): Use echo_update instead of echo_char.\n\t(read_key_sequence): Use echo_now rather than echo_dash/echo_char.\n\t(Freset_this_command_lengths): Delete function.\n\t(syms_of_keyboard): Define Qinternal_echo_keystrokes_prefix.\n\t(syms_of_keyboard): Don't defsubr Sreset_this_command_lengths.\n\t* lisp/simple.el: Use those new hooks for C-u.\n\t(universal-argument--description): New function.\n\t(prefix-command-echo-keystrokes-functions): Use it.\n\t(universal-argument--preserve): New function.\n\t(prefix-command-preserve-state-hook): Use it.\n\t(command-execute): Call prefix-command-update if needed.\n\t* lisp/kmacro.el (kmacro-step-edit-prefix-commands)\n\t(kmacro-step-edit-prefix-index): Delete variables.\n\t(kmacro-step-edit-query, kmacro-step-edit-insert): Remove ad-hoc\n\tsupport for prefix arg commands.\n\t(kmacro-step-edit-macro): Don't bind kmacro-step-edit-prefix-index.\n\t* lisp/emulation/cua-base.el (cua--prefix-override-replay)\n\t(cua--shift-control-prefix): Use prefix-command-preserve-state.\n\tRemove now unused arg `arg'.\n\t(cua--prefix-override-handler, cua--prefix-repeat-handler)\n\t(cua--shift-control-c-prefix, cua--shift-control-x-prefix):\n\tUpdate accordingly.\n\t(cua--prefix-override-timeout): Don't call reset-this-command-lengths\n\tany more.\n\t(cua--keep-active, cua-exchange-point-and-mark): Don't set mark-active\n\tif the mark is not set.\n\n2015-09-01  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRework quoting in Emacs Lisp Introduction\n\t* doc/lispintro/emacs-lisp-intro.texi (Sample let Expression)\n\t(if in more detail, type-of-animal in detail, else): Rework the\n\tearly example to use \" rather than ' so that we don\u2019t burden\n\tcomplete novices with the low-priority detail of text quoting style.\n\t(Complete zap-to-char, kill-region, Complete copy-region-as-kill)\n\t(kill-new function, kill-ring-yank-pointer)\n\t(Complete forward-sentence, Loading Files)\n\t(Code for current-kill, Code for current-kill, yank):\n\tResurrect the Emacs 22 versions of the code, which uses grave\n\tquoting style in doc strings.\n\t(Complete zap-to-char): Mention how quoting works in doc strings.\n\n\tSetup quote display only if interactive\n\t* lisp/startup.el (command-line):\n\tSkip call to startup--setup-quote-display if noninteractive.\n\tWithout this change, python-shell-prompt-validate-regexps-1\n\tfails in test/automated/python-tests.el when run in an\n\ten_US.utf8 locale on Fedora.\n\n2015-09-01  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\tUse defalias at the top level\n\t* lisp/gnus/gnus-util.el (gnus-format-message):\n\t* lisp/net/tls.el (tls-format-message): Use defalias at the top level\n\tso as to make eval-and-compile unnecessary.  Thanks to Stefan Monnier.\n\n2015-09-01  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tterminal-init-w32console mimics command-line\n\tProblem reported by Eli Zaretskii.\n\t* lisp/startup.el (startup--setup-quote-display):\n\tNew function, refactored from a part of \u2018command-line\u2019.\n\t(command-line): Use it.\n\t* lisp/term/w32console.el (terminal-init-w32console):\n\tUse it, so that this function stays consistent with \u2018command-line\u2019.\n\n\tDisplay replacement quotes with shadow glyphs\n\t* lisp/startup.el (command-line): When displaying ASCII\n\treplacements for curved quotes, use a shadow glyph instead of a\n\tregular one, to avoid ambiguity.\n\n2015-09-01  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* lisp/net/tramp-sh.el (tramp-methods) <sudo>: Mask \"Password:\".\n\n2015-09-01  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDocstring fixes re quotes in C code\n\tFix some docstring quoting problems, mostly by escaping apostrophe.\n\n2015-09-01  Michael Albinus  <michael.albinus@gmx.de>\n\n\tSome Tramp password fixes\n\t* lisp/net/tramp.el (tramp-clear-passwd): Clear also the passwords\n\tof the hops.\n\t* lisp/net/tramp-sh.el (tramp-methods) <sudo>: Move \"-p\" \"Password:\"\n\tat the beginning of the command.  Otherwise, it could be\n\tinterpreted as password prompt if the remote host echoes the\n\tcommand.\n\t(tramp-remote-coding-commands): Add \"openssl enc -base64\".\n\n2015-09-01  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tMake vc-git-working-revision always return the commit hash\n\t* lisp/vc/vc-git.el (vc-git-working-revision):\n\tReturn the commit hash (bug#21383).\n\t(vc-git--symbolic-ref): New function, extracted from above.\n\t(vc-git-mode-line-string): Use it.\n\n2015-09-01  K. Handa  <handa@gnu.org>\n\n\tUse the new type MFLTGlyphFT for MFLTGlyphString.glyphs\n\t* src/ftfont.c (MFLTGlyphFT): New type.\n\t(ftfont_get_glyph_id, ftfont_get_metrics, ftfont_drive_otf)\n\t(ftfont_shape_by_flt): Make MFLTGlyphFT the actual type of\n\telements in the array MFLTGlyphString.glyphs.\n\n2015-09-01  Stephen Leake  <stephen_leake@stephe-leake.org>\n\n\tImprove comments in elisp-mode.el, elisp-mode-tests.el\n\t* lisp/progmodes/elisp-mode.el: Clean up FIXMEs, comments.\n\n\tDelete Emacs 25 test in mode-local.el\n\t* lisp/cedet/mode-local.el (describe-mode-local-overload):\n\tFix missed an edit in previous commit.\n\n\tShow all known mode-local overrides in *Help*\n\t* lisp/cedet/mode-local.el (describe-mode-local-overload):\n\tAssume Emacs 25. Add all known mode-local overrides.\n\n2015-09-01  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\t* lisp/gnus/gnus-sum.el (gnus-summary-search-article):\n\tEnsure that the article where the search word is found is displayed\n\tand pointed to in the summary buffer.\n\n2015-08-31  Zachary Kanfer  <zkanfer@gmail.com>  (tiny change)\n\n\t* lisp/newcomment.el (comment-dwim): Use `use-region-p'.\n\tWhen the region is active, but is empty (length 0), act as though\n\tthe region was not active; that is, put a comment at the end of\n\tthe line.  (Bug#21119)\n\n2015-08-31  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\tPort tls.el to older Emacs\n\t* lisp/net/tls.el (tls-format-message):\n\tAlias to format-message, or format if not available.\n\t(open-tls-stream): Use it.\n\n2015-08-31  R\u00fcdiger Sonderfeld  <ruediger@c-plusplus.net>\n\n\thideif.el: Recognize .h++ as C++ header\n\t* lisp/progmodes/hideif.el (hide-ifdef-header-regexp): Add .h++.\n\n\tisearch: Document character folding mode\n\t* lisp/isearch.el (isearch-forward):\n\tMention `isearch-toggle-character-fold' in doc string.\n\n2015-08-31  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tQuoting fixes in ERC and Eshell\n\t* lisp/erc/erc-autoaway.el (erc-autoaway-set-away):\n\t* lisp/erc/erc-backend.el (define-erc-response-handler):\n\t* lisp/erc/erc-fill.el (erc-fill-static-center):\n\t* lisp/eshell/em-dirs.el (eshell-save-some-last-dir):\n\t* lisp/eshell/em-glob.el (eshell-glob-entries):\n\t* lisp/eshell/em-hist.el (eshell-save-some-history):\n\t* lisp/eshell/em-unix.el (eshell-remove-entries, eshell/rm)\n\t(eshell-shuffle-files):\n\t* lisp/eshell/esh-cmd.el (eshell-do-eval):\n\t* lisp/eshell/esh-proc.el (eshell-process-interact)\n\t(eshell-query-kill-processes):\n\tRespect \u2018text-quoting-style\u2019 in diagnostics and doc strings.\n\n\tQuoting fixes in Gnus\n\t* lisp/gnus/gnus-agent.el:\n\t(gnus-agent-possibly-synchronize-flags-server):\n\t* lisp/gnus/gnus-art.el (gnus-article-browse-delete-temp-files):\n\t* lisp/gnus/gnus-eform.el (gnus-edit-form):\n\t* lisp/gnus/gnus-group.el (gnus-group-edit-group)\n\t(gnus-group-nnimap-edit-acl):\n\t* lisp/gnus/gnus-topic.el (gnus-topic-edit-parameters):\n\t* lisp/gnus/mail-source.el (mail-source-delete-old-incoming):\n\t* lisp/gnus/message.el (message-strip-subject-encoded-words)\n\t(message-check-recipients, message-send-form-letter):\n\t* lisp/gnus/mm-decode.el (mm-display-part):\n\t* lisp/gnus/mm-uu.el (mm-uu-pgp-signed-extract-1):\n\t* lisp/gnus/mml-smime.el (mml-smime-get-dns-cert)\n\t(mml-smime-get-ldap-cert):\n\t* lisp/gnus/spam-report.el (spam-report-process-queue):\n\tRespect \u2018text-quoting-style\u2019 in diagnostics.\n\t* lisp/gnus/gnus-art.el (article-display-face)\n\t* lisp/gnus/gnus-fun.el (gnus-display-x-face-in-from):\n\tUse straight quoting in email.\n\t* lisp/gnus/rfc2231.el (rfc2231-decode-encoded-string):\n\tEscape apostrophes in doc strings.\n\n\tQuoting fixes in lisp mail, mh-e, net, url\n\t* lisp/mail/emacsbug.el (report-emacs-bug)\n\t(report-emacs-bug-hook): Use straight quotes in outgoing email,\n\t* lisp/mail/feedmail.el (feedmail-message-action-help-blat):\n\t* lisp/mail/rmail.el (rmail-unknown-mail-followup-to):\n\t* lisp/mail/rmailout.el (rmail-output-read-file-name):\n\t* lisp/net/imap.el (imap-interactive-login):\n\t* lisp/net/tls.el (open-tls-stream):\n\t* lisp/url/url-auth.el (url-register-auth-scheme):\n\tRespect \u2018text-quoting-style\u2019 in diagnostics.\n\t* lisp/mh-e/mh-e.el (mh-sortm-args):\n\tQuote docstring example using text quotes, not as a Lisp quote.\n\n2015-08-31  Stephen Leake  <stephen_leake@stephe-leake.org>\n\n\tFix some byte-compiler warnings in EDE\n\tThis fixes a bug that caused ede-generic-new-autoloader to overwrite the\n\texisting autoloader list, rather than add to it.\n\t* lisp/cedet/ede/auto.el (ede-project-class-files): Delete obsolete name\n\targument to eieio class constructor.\n\t(ede-show-supported-projects): New.\n\t(ede-add-project-autoload): Replace obsolete `eieio-object-name-string'\n\twith (oref ... name).\n\t(ede-auto-load-project): Use slot name, not initarg key.\n\t* lisp/cedet/ede/generic.el (ede-generic-load)\n\t(ede-generic-find-matching-target): Use slot name, not initarg key.\n\t(ede-find-target): Use oref-default on class name.\n\t(ede-generic-new-autoloader): Delete obsolete name argument to eieio\n\tclass constructor.\n\t(ede-enable-generic-projects): Make project type names unique.\n\n2015-08-31  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix directory accessibility tests for w32 network volumes\n\t* src/w32.c (faccessat): Don't fail with network volumes without a\n\tshare.\n\t(w32_accessible_directory_p): Handle network volumes without a\n\tshare.\n\n\tFix handling long file names in readdir on MS-Windows\n\t* src/w32.c (sys_readdir): Append \"\\*\" to the directory after\n\tconverting it to UTF-16/ANSI, not before, to avoid overflowing the\n\t260-character limit on file names in filename_to_utf16/ansi.\n\n\tMake file-accessible-directory-p reliable on MS-Windows\n\t* src/w32.c (w32_accessible_directory_p): New function.\n\t* src/w32.h (w32_accessible_directory_p): Add prototype.\n\t* src/fileio.c (file_accessible_directory_p) [WINDOWSNT]: Call\n\tw32_accessible_directory_p to test a directory for accessibility\n\tby the current user.  (Bug#21346)\n\t(Ffile_accessible_directory_p): Remove the w32 specific caveat\n\tfrom the doc string.\n\n2015-08-31  Martin Rudalics  <rudalics@gmx.at>\n\n\tDon't call do_pending_window_change in signal handlers (Bug#21380)\n\t* src/gtkutil.c (xg_frame_resized):\n\t* src/xterm.c (x_set_window_size):\n\t* src/w32term.c (x_set_window_size): Don't call\n\tdo_pending_window_change.\n\n2015-08-31  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tQuoting fixes in lisp/org\n\t* lisp/org/org-agenda.el (org-search-view, org-todo-list)\n\t(org-tags-view):\n\t* lisp/org/org-capture.el (org-capture-mode)\n\t* lisp/org/org-ctags.el (org-ctags-visit-buffer-or-file)\n\t(org-ctags-ask-append-topic):\n\t* lisp/org/org.el (org-time-string-to-time)\n\t(org-time-string-to-absolute):\n\t* lisp/org/org-ctags.el (org-ctags-visit-buffer-or-file)\n\t(org-ctags-ask-append-topic):\n\t* lisp/org/org.el (org-time-string-to-time)\n\t(org-time-string-to-absolute):\n\tRespect \u2018text-quoting-style\u2019 in diagnostics.\n\t* lisp/org/org-agenda.el (org-agenda-custom-commands)\n\t(org-agenda-dim-blocked-tasks): Plural of TODO is TODOs, not TODO\u2019s.\n\t* lisp/org/org-capture.el (org-capture-fill-template):\n\tAvoid contraction in output file that might be ASCII.\n\t* lisp/org/org-compat.el (format-message):\n\tDefine if not already defined, for backward compatibility.\n\t* lisp/org/org-src.el (org-edit-src-save):\n\t* lisp/org/org.el (org-cycle, org-ctrl-c-ctrl-c):\n\tEscape apostrophes in diagnostics.\n\n\tTreat \u201cinstead\u201d strings as docstrings\n\t* lisp/emacs-lisp/bytecomp.el (byte-compile-form):\n\t* lisp/emacs-lisp/macroexp.el (macroexp--obsolete-warning):\n\tSubstitute quotes in instead strings.\n\n2015-08-31  Nicolas Petton  <nicolas@petton.fr>\n\n\tBetter documentation of seq-let\n\t* doc/lispref/sequences.texi (Sequence Functions): Rephrase the\n\tdocumentation of seq-let.\n\n2015-08-31  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* lisp/international/ccl.el: Fix quoting.\n\n\tQuoting fixes in lisp/international and lisp/leim\n\t* lisp/international/ccl.el (ccl-dump, ccl-dump-call):\n\t* lisp/international/ja-dic-utl.el (skkdic-lookup-key):\n\t* lisp/international/mule-cmds.el:\n\t(select-safe-coding-system-interactively, leim-list-file-name):\n\t* lisp/international/quail.el (quail-use-package, quail-help):\n\t* lisp/international/titdic-cnv.el (tit-process-header)\n\t(miscdic-convert):\n\tRespect text quoting style in doc strings and diagnostics.\n\t* lisp/international/quail.el (lisp/international/quail.el):\n\t* lisp/leim/quail/ethiopic.el (\"ethiopic\"):\n\tEscape apostrophes in doc strings.\n\n\tMake \u2018text-quoting-style\u2019 a plain defvar\n\tIt doesn\u2019t need customization, as it\u2019s likely useful only by experts.\n\tSuggested by Stefan Monnier in:\n\thttps://lists.gnu.org/r/emacs-devel/2015-08/msg01020.html\n\t* lisp/cus-start.el: Remove doc.c section for builtin customized vars.\n\n\tQuoting fixes in lisp/textmodes\n\t* lisp/textmodes/bibtex.el (bibtex-validate)\n\t(bibtex-validate-globally, bibtex-search-entries):\n\t* lisp/textmodes/ispell.el (ispell-command-loop):\n\t* lisp/textmodes/page-ext.el (search-pages, pages-directory):\n\t* lisp/textmodes/texinfmt.el (texinfmt-version)\n\t(texinfo-format-region, texinfo-format-buffer-1):\n\t* lisp/textmodes/two-column.el (2C-split):\n\tRespect text quoting style in doc strings and diagnostics.\n\t* lisp/textmodes/conf-mode.el (conf-mode-map, conf-quote-normal):\n\t* lisp/textmodes/sgml-mode.el (sgml-specials, sgml-mode):\n\tEscape apostrophes in doc strings.\n\n\tDocumentation fixes re quotes\n\tPrefer curved quotes in examples if users will typically see\n\tcurved quotes when the examples run.\n\tMention format-message when appropriate.\n\tDon\u2019t use @code in examples.\n\tQuote an apostrophe with @kbd.\n\n\tQuoting fixes in lisp/progmodes\n\t* lisp/progmodes/cc-engine.el (c-bos-report-error):\n\t* lisp/progmodes/cpp.el (cpp-edit-reset):\n\t* lisp/progmodes/ebrowse.el (ebrowse-tags-apropos):\n\t* lisp/progmodes/etags.el (etags-tags-apropos-additional)\n\t(etags-tags-apropos, list-tags, tags-apropos):\n\t* lisp/progmodes/executable.el (executable-set-magic):\n\t* lisp/progmodes/octave.el (octave-sync-function-file-names)\n\t(octave-help, octave-find-definition-default-filename)\n\t(octave-find-definition):\n\tRespect text quoting style in doc strings and diagnostics.\n\t* lisp/progmodes/cc-langs.el (c-populate-syntax-table):\n\t* lisp/progmodes/verilog-mode.el (verilog-auto-reset-widths):\n\t* lisp/progmodes/vhdl-mode.el (vhdl-electric-quote):\n\tEscape apostrophes in doc strings.\n\t* lisp/progmodes/cmacexp.el (c-macro-expansion):\n\tUse straight quoting in ASCII comment.\n\t* lisp/progmodes/idlwave.el (idlwave-auto-fill-split-string)\n\t(idlwave-pad-keyword):\n\t* lisp/progmodes/vhdl-mode.el (vhdl-widget-directory-validate)\n\t(vhdl-electric-open-bracket, vhdl-electric-close-bracket):\n\t(vhdl-electric-semicolon, vhdl-electric-comma)\n\t(vhdl-electric-period, vhdl-electric-equal):\n\tUse directed quotes in diagnostics and doc strings.\n\n2015-08-30  Xue Fuqiao  <xfq.free@gmail.com>\n\n\tMinor documentation and NEWS tweak\n\t* doc/lispintro/emacs-lisp-intro.texi (fwd-para let):\n\tAdd an index entry.\n\t* etc/NEWS: Fix a typo in character-fold-to-regexp.\n\n2015-08-30  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* lisp/net/tramp-sh.el (tramp-convert-file-attributes):\n\tRevert patch from 2015-08-24.  Tramp shall behave like for local files.\n\t* test/automated/tramp-tests.el (tramp-test18-file-attributes):\n\tAdapt test.\n\n2015-08-30  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tText quoting fixes in cedet, emulation, emacs-lisp\n\t* lisp/cedet/ede.el (ede-check-project-directory):\n\t* lisp/cedet/semantic/analyze/debug.el\n\t(semantic-analyzer-debug-insert-include-summary):\n\t* lisp/cedet/semantic/bovine/c.el (semantic-c-describe-environment):\n\t* lisp/cedet/semantic/decorate/include.el\n\t(semantic-decoration-unknown-include-describe)\n\t(semantic-decoration-all-include-summary):\n\t* lisp/cedet/semantic/ia.el (semantic-ia-fast-jump):\n\t* lisp/emulation/edt.el (edt-load-keys):\n\t* lisp/emulation/viper-cmd.el\n\t(viper-display-current-destructive-command)\n\t(viper-query-replace, viper-brac-function):\n\t* lisp/emulation/viper-ex.el (viper-get-ex-token, ex-compile):\n\t* lisp/emulation/viper-macs.el (viper-unrecord-kbd-macro):\n\tRespect text quoting style in doc string or diagnostic.\n\t* lisp/cedet/mode-local.el (describe-mode-local-overload):\n\tUse format-message to avoid overtranslating quotes.\n\t* lisp/emacs-lisp/checkdoc.el (checkdoc-in-sample-code-p):\n\tEscape an apostrophe in a docstring.\n\t* lisp/emacs-lisp/warnings.el (lwarn): Fix doc string.\n\n2015-08-29  Daniel Colascione  <dancol@dancol.org>\n\n\tFix which-func for curly quotes: look for symbol, not message\n\t* lisp/progmodes/which-func.el (which-func-ff-hook): Look for new\n\timenu-unavailable error symbol instead of trying to match message\n\texactly.\n\t* lisp/imenu.el (imenu-unavailable): New error.\n\t(imenu-unavailable-error): New function.\n\n2015-08-29  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix Python tests on MS-Windows\n\t* test/automated/python-tests.el\n\t(python-shell-calculate-command-1): Run python-shell-interpreter\n\tthrough shell-quote-argument before comparing with what\n\tpython-shell-calculate-command returns.\n\t(python-shell-calculate-pythonpath-1)\n\t(python-shell-calculate-pythonpath-2)\n\t(python-shell-calculate-process-environment-2): Use path-separator\n\tinstead of a literal ':'.\n\t(python-shell-calculate-exec-path-2)\n\t(python-shell-calculate-exec-path-3)\n\t(python-shell-calculate-exec-path-4)\n\t(python-shell-with-environment-1)\n\t(python-shell-with-environment-2): Run \"/env/bin\" through\n\texpand-file-name before comparing with exec-path.  (Bug#21375)\n\n2015-08-29  YAMAMOTO Mitsuharu  <mituharu@math.s.chiba-u.ac.jp>\n\n\tUse Core Text types/functions/variables/enumerators directly\n\t* src/macfont.h (FontDescriptorRef, FontRef, FontSymbolicTraits)\n\t(CharacterCollection): Remove typedefs.  All uses replaced with\n\tdefinitions.\n\t(MAC_FONT_NAME_ATTRIBUTE, MAC_FONT_FAMILY_NAME_ATTRIBUTE)\n\t(MAC_FONT_TRAITS_ATTRIBUTE, MAC_FONT_SIZE_ATTRIBUTE)\n\t(MAC_FONT_CASCADE_LIST_ATTRIBUTE)\n\t(MAC_FONT_CHARACTER_SET_ATTRIBUTE, MAC_FONT_LANGUAGES_ATTRIBUTE)\n\t(MAC_FONT_FORMAT_ATTRIBUTE, MAC_FONT_SYMBOLIC_TRAIT)\n\t(MAC_FONT_WEIGHT_TRAIT, MAC_FONT_WIDTH_TRAIT)\n\t(MAC_FONT_SLANT_TRAIT): Remove macros.  All uses replaced with\n\tdefinitions.\n\t(MAC_FONT_TRAIT_ITALIC, MAC_FONT_TRAIT_BOLD)\n\t(MAC_FONT_TRAIT_MONO_SPACE, MAC_FONT_TRAIT_COLOR_GLYPHS)\n\t(MAC_FONT_FORMAT_BITMAP)\n\t(MAC_CHARACTER_COLLECTION_IDENTITY_MAPPING)\n\t(MAC_CHARACTER_COLLECTION_ADOBE_JAPAN1): Remove enumerators.\n\tAll uses replaced with definitions.\n\t(kCTFontTraitItalic, kCTFontTraitBold, kCTFontTraitMonoSpace)\n\t(kCTFontTraitColorGlyphs, kCTCharacterCollectionIdentityMapping)\n\t(kCTCharacterCollectionAdobeJapan1 kCTFontOrientationDefault):\n\tAdd compatibility enumerators for older versions.\n\t(mac_font_descriptor_create_with_attributes)\n\t(mac_font_descriptor_create_matching_font_descriptors)\n\t(mac_font_descriptor_create_matching_font_descriptor)\n\t(mac_font_descriptor_copy_attribute)\n\t(mac_font_descriptor_supports_languages)\n\t(mac_font_create_with_name, mac_font_get_size)\n\t(mac_font_copy_family_name, mac_font_copy_character_set)\n\t(mac_font_get_glyphs_for_characters, mac_font_get_ascent)\n\t(mac_font_get_descent, mac_font_get_leading)\n\t(mac_font_get_underline_position)\n\t(mac_font_get_underline_thickness, mac_font_copy_graphics_font)\n\t(mac_font_copy_non_synthetic_table): Remove macros.  All uses\n\treplaced with definitions.\n\t(mac_font_create_preferred_family_for_attributes)\n\t(mac_font_get_advance_width_for_glyph)\n\t(mac_font_get_bounding_rect_for_glyph)\n\t(mac_font_create_available_families, mac_font_shape):\n\tRemove macros for renamed functions.\n\t(mac_nsctfont_copy_font_descriptor): Remove unused macro.\n\t* src/macfont.m (mac_font_descriptor_supports_languages):\n\tRename from mac_ctfont_descriptor_supports_languages.\n\t(mac_font_create_preferred_family_for_attributes): Rename from\n\tmac_ctfont_create_preferred_family_for_attributes.\n\t(mac_font_get_advance_width_for_glyph): Rename from\n\tmac_ctfont_get_advance_width_for_glyph.\n\tUse kCTFontOrientationDefault also for older versions.\n\t(mac_font_get_bounding_rect_for_glyph): Rename from\n\tmac_ctfont_get_bounding_rect_for_glyph.\n\tUse kCTFontOrientationDefault also for older versions.\n\t(mac_font_create_available_families): Rename from\n\tmac_ctfont_create_available_families.\n\t(mac_font_equal_in_postscript_name): Rename from\n\tmac_ctfont_equal_in_postscript_name.  All uses changed.\n\t(mac_font_create_line_with_string_and_font): Rename from\n\tmac_ctfont_create_line_with_string_and_font.  All uses changed.\n\t(mac_font_shape): Rename from mac_ctfont_shape.\n\t(mac_font_family_compare): Remove unused declaration.\n\n2015-08-29  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix minor text quoting in calc, calendar, vc\n\t* lisp/calc/calc-ext.el (calc-shift-Z-prefix-help):\n\t* lisp/calc/calc-help.el (calc-j-prefix-help):\n\t* lisp/calc/calc-misc.el (calc-help):\n\t* lisp/calc/calc.el (calc-algebraic-mode, calc-mode):\n\tEscape an apostrophe in a docstring.\n\t* lisp/calc/calc-forms.el (calc-hms-notation):\n\t* lisp/calc/calc-mode.el (calc-display-raw, calc-algebraic-mode):\n\tEscape an apostrophe in a diagnostic.\n\t* lisp/calc/calc-misc.el (calc-help):\n\t* lisp/calendar/diary-lib.el (diary-include-files):\n\t* lisp/calendar/todo-mode.el (todo-prefix, todo-item-mark):\n\t* lisp/vc/diff-mode.el (diff-delete-trailing-whitespace):\n\t* lisp/vc/ediff-diff.el (ediff-same-contents):\n\t* lisp/vc/ediff-merg.el (ediff-re-merge):\n\t* lisp/vc/ediff-ptch.el (ediff-patch-file-internal):\n\t* lisp/vc/ediff-util.el (ediff-test-save-region)\n\t(ediff-status-info):\n\t* lisp/vc/ediff.el (ediff-merge-revisions)\n\t(ediff-merge-revisions-with-ancestor):\n\t* lisp/vc/pcvs.el (cvs-mode-checkout, cvs-vc-command-advice):\n\t* lisp/vc/vc-cvs.el (vc-cvs-mode-line-string):\n\tRespect text quoting style in doc string or diagnostic.\n\t* lisp/calc/calc-prog.el (calc-kbd-push, calc-kbd-pop):\n\t* lisp/vc/add-log.el (change-log-goto-source):\n\tAvoid double-formatting.\n\t* lisp/vc/ediff-init.el (format-message):\n\tNew backward-compatibility alias.\n\n2015-08-28  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix minor text quoting problems in lisp top level\n\t* lisp/apropos.el (apropos-describe-plist):\n\t* lisp/cus-theme.el (customize-themes):\n\t* lisp/dired.el (dired-log):\n\t* lisp/help-fns.el (describe-variable):\n\t* lisp/hexl.el (hexl-insert-multibyte-char):\n\t* lisp/info.el (Info-finder-find-node):\n\t* lisp/json.el (json-read-string):\n\t* lisp/novice.el (disabled-command-function)\n\t(disabled-command-function):\n\t* lisp/startup.el (normal-mouse-startup-screen):\n\t* lisp/woman.el (WoMan-log, WoMan-warn):\n\tRespect text quoting style in doc string or diagnostic.\n\t* lisp/replace.el (replace-character-fold):\n\t* src/syntax.c (Fmodify_syntax_entry):\n\tEscape an apostrophe in a docstring.\n\t* lisp/tempo.el (tempo-define-template):\n\tRemove confusing apostrophe from docstring.\n\t* lisp/whitespace.el (whitespace-mark-x):\n\tUse directed quotes in docstring.\n\n2015-08-28  Simen Heggest\u00f8yl  <simenheg@gmail.com>\n\n\tFix indentation rule in css-mode\n\t* lisp/textmodes/css-mode.el (css-smie-rules): Fix indentation of\n\tbrackets in presence of pseudo-selectors.  (Bug#21328)\n\n2015-08-28  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix a bug in recording a macro while flyspell-mode is active\n\t* lisp/subr.el (sit-for): Don't call read-event when recording a\n\tmacro.  (Bug#21329)\n\n2015-08-27  Paul Eggert  <eggert@Penguin.CS.UCLA.EDU>\n\n\tTweak startup screen quoting\n\t* lisp/startup.el (normal-splash-screen): Use standard\n\t\"M-\" abbrevation rather than a confusingly-different one.\n\t(normal-no-mouse-startup-screen): Follow \u2018text-quoting-style\u2019.\n\n2015-08-27  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tAdd test case for \u2018format\u2019 bug and refactor\n\t* src/editfns.c (styled_format): Refactor internally, mostly by\n\tmoving declarations closer to uses.  This should not affect behavior.\n\t* test/automated/textprop-tests.el (textprop-tests-format): New test.\n\n\tFix \u2018format\u2019 bug with property offsets\n\t* src/editfns.c (styled_format): Fix recently-introduced \u2018format\u2019\n\tbug in calculating string property offsets (Bug#21351).\n\n\tUse straight quotes in lib-src diagnostics\n\tThese auxiliary programs can\u2019t use Emacs\u2019s text-quoting-style,\n\tand it\u2019s too much trouble to redo that mechanism by hand.\n\tSo just use straight quotes for now.\n\t* lib-src/ebrowse.c (main):\n\t* lib-src/emacsclient.c (decode_options, main):\n\t* lib-src/etags.c (Ada_help, default_C_help, Cplusplus_help)\n\t(Forth_help, HTML_help, Lisp_help, Makefile_help, Objc_help)\n\t(Perl_help, PHP_help, Python_help, Scheme_help, TeX_help, auto_help)\n\t(none_help, print_language_names, print_help, add_regex)\n\t(suggest_asking_for_help):\n\t* lib-src/make-docfile.c (write_c_args, scan_c_stream):\n\tUse straight quotes in diagnostics.\n\n\t\u2018text-quoting-style\u2019 fixes for admin\n\t* admin/admin.el (cusver-scan, cusver-check):\n\t* admin/authors.el (authors-canonical-file-name):\n\t* admin/bzrmerge.el (bzrmerge-missing):\n\tRespect \u2018text-quoting-style\u2019 in diagnostics.\n\n2015-08-26  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tAssume GC_MARK_STACK == GC_MAKE_GCPROS_NOOPS\n\tThis removes the need for GCPRO1 etc.  Suggested by Stefan Monnier in:\n\thttps://lists.gnu.org/r/emacs-devel/2015-08/msg00918.html\n\t* doc/lispref/internals.texi (Writing Emacs Primitives):\n\t* etc/NEWS:\n\tDocument the change.\n\t* src/alloc.c (gcprolist, dump_zombies, MAX_ZOMBIES, zombies)\n\t(nzombies, ngcs, avg_zombies, max_live, max_zombies, avg_live)\n\t(Fgc_status, check_gcpros, relocatable_string_data_p, gc-precise):\n\t* src/bytecode.c (mark_byte_stack) [BYTE_MARK_STACK]:\n\t* src/eval.c (gcpro_level) [DEBUG_GCPRO]:\n\t* src/lisp.h (struct handler.gcpro, struct gcpro, GC_MARK_STACK)\n\t(GC_USE_GCPROS_AS_BEFORE, GC_MAKE_GCPROS_NOOPS)\n\t(GC_MARK_STACK_CHECK_GCPROS, GC_USE_GCPROS_CHECK_ZOMBIES)\n\t(BYTE_MARK_STACK, GCPRO1, GCPRO2, GCPRO3, GCPRO4, GCPRO5, GCPRO6)\n\t(GCPRO7, UNGCPRO, RETURN_UNGCPRO):\n\tRemove.  All uses removed.  The code now assumes\n\tGC_MARK_STACK == GC_MAKE_GCPROS_NOOPS.\n\t* src/bytecode.c (relocate_byte_stack):\n\tRename from unmark_byte_stack, since it now only relocates.\n\tAll callers changed.\n\t* src/frame.c (make_frame): Add an IF_LINT to pacify GCC 5.2\n\twith GCPROs removed.\n\t* src/systime.h: Use EMACS_LISP_H as the canary instead of GCPRO1.\n\t* test/automated/finalizer-tests.el (finalizer-basic)\n\t(finalizer-circular-reference, finalizer-cross-reference)\n\t(finalizer-error):\n\t* test/automated/generator-tests.el (cps-test-iter-close-finalizer):\n\tRemove tests, as they depend on gc-precise.\n\n2015-08-26  Nicolas Petton  <nicolas@petton.fr>\n\n\tImprove seq-concatenate for new sequence types\n\tUse the new `seq-into-sequence' in seqs passed to `seq-concatenate' to\n\tensure that concatenation happens on sequences only.  This makes it\n\tpossible to use `seq-concatenate' for new types of seqs.\n\t* lisp/emacs-lisp/seq.el (seq-into-sequence, seq-concatenate):\n\tNew function used in `seq-concatenate'.\n\t* test/automated/seq-tests.el (test-seq-into-sequence): New unit test\n\tfor seq-into-sequence.\n\n2015-08-26  Stephen Leake  <stephen_leake@stephe-leake.org>\n\n\tAdd mode local overrides to xref-find-definitions\n\t* lisp/cedet/mode-local.el (xref-mode-local--override-present)\n\t(xref-mode-local-overload): New; add mode local overrides to\n\txref-find-definitions.\n\t* test/automated/elisp-mode-tests.el: Add mode local override tests.\n\t(xref-elisp-test-run): Handle indented defuns.\n\t(xref-elisp-generic-*): Improve doc strings.\n\t* lisp/progmodes/elisp-mode.el (elisp-xref-find-def-functions): New.\n\t(elisp--xref-find-definitions): Use it.\n\n\tAdd mode local overrides to describe-function\n\t* lisp/cedet/mode-local.el (describe-mode-local-overload):\n\tNew; add mode local overrides to describe-function.\n\t* etc/NEWS: Document change.\n\n2015-08-26  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPrefer straight quoting in some etc text files\n\tThese files are plain text and might be used by non-Emacs apps.\n\tThey\u2019re mostly ASCII, so just use straight quotes.\n\n\tFix quoting in \u2018message_with_string\u2019\n\t* src/nsfont.m (nsfont_open): Use directed quotes in format; they\n\tshould work now.\n\t* src/xdisp.c (message_to_stderr): New function, refactored from\n\tpart of \u2018message3_nolog\u2019.\n\t(message3_nolog): Use it.\n\t(message_with_string): Use it.  Don\u2019t mishandle NUL bytes when\n\tnoninteractive.  Prefer AUTO_STRING when it\u2019s most likely faster.\n\tUse \u2018format-message\u2019, not \u2018format\u2019, so that quotes are translated.\n\n2015-08-26  Eli Zaretskii  <eliz@gnu.org>\n\n\tMention false positives of file-accessible-directory on w32\n\t* src/fileio.c (Ffile_accessible_directory_p): Doc fix.\n\t(Bug#21346)\n\n2015-08-26  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tTreat error strings as help\n\t* src/print.c (print_error_message): Translate quotes and command\n\tkeys in errmsg so that users see, e.g., \"Symbol\u2019s value as\n\tvariable is void: foo\" when text-quoting-style is curved.\n\n2015-08-26  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* lisp/net/tramp-cache.el (top): Use `message', not `format-message'.\n\n2015-08-26  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tTop-level elisp files respect \u2018text-quoting-style\u2019\n\tIn top-level elisp files, use format-message in diagnostic formats,\n\tso that they follow user preference as per \u2018text-quoting-style\u2019\n\trather than being hard-coded to quote `like this'.\n\t* lisp/allout.el (allout-get-configvar-values):\n\t* lisp/apropos.el (apropos-symbols-internal):\n\t* lisp/dired-aux.el (dired-do-shell-command, dired-create-files)\n\t(dired-do-create-files-regexp, dired-create-files-non-directory):\n\t* lisp/dired-x.el (dired-do-run-mail):\n\t* lisp/dired.el (dired-log, dired-dnd-handle-local-file):\n\t* lisp/disp-table.el (standard-display-european):\n\t* lisp/find-dired.el (find-dired):\n\t* lisp/forms.el (forms-mode):\n\t* lisp/ido.el (ido-buffer-internal):\n\t* lisp/info.el (Info-index-next):\n\t* lisp/outline.el (outline-invent-heading):\n\t* lisp/printing.el (pr-ps-outfile-preprint, pr-i-ps-send):\n\t* lisp/proced.el (proced-log):\n\t* lisp/ps-print.el (ps-print-preprint, ps-get-size):\n\t* lisp/recentf.el (recentf-open-files, recentf-save-list):\n\t* lisp/savehist.el (savehist-save):\n\t* lisp/server.el (server-ensure-safe-dir):\n\t* lisp/ses.el (ses-rename-cell):\n\t* lisp/simple.el (list-processes--refresh):\n\t* lisp/startup.el (command-line):\n\t* lisp/strokes.el (strokes-unset-last-stroke)\n\t(strokes-execute-stroke):\n\tUse format-message so that quotes are restyled.\n\t* lisp/cus-edit.el (custom-raised-buttons, customize-browse):\n\tDon\u2019t quote \u2018raised\u2019.\n\t* lisp/descr-text.el (describe-char):\n\t* lisp/dirtrack.el (dirtrack-debug-message):\n\t* lisp/hexl.el (hexl-insert-multibyte-char):\n\tApply substitute-command-keys to help string.\n\t* lisp/wdired.el (wdired-do-renames, wdired-do-symlink-changes)\n\t(wdired-do-perm-changes):\n\tLet dired-log do the formatting.\n\n2015-08-25  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tGo back to grave quoting in Tramp\n\t* lisp/net/tramp-adb.el:\n\t* lisp/net/tramp-cache.el:\n\t* lisp/net/tramp-compat.el:\n\t* lisp/net/tramp-gvfs.el:\n\t* lisp/net/tramp-gw.el:\n\t* lisp/net/tramp-sh.el:\n\t* lisp/net/tramp-smb.el:\n\t* lisp/net/tramp.el:\n\tStick with grave quoting in diagnostics strings.  This is more\n\tportable to older Emacs, desirable for Tramp.\n\t* lisp/net/tramp-cache.el: Use \u2018format-message\u2019, not \u2018format\u2019,\n\tfor diagnostic that needs requoting.\n\t* lisp/net/tramp-compat.el (format-message):\n\tFall back on simple \u2018format\u2019, since that\u2019s good enough now.\n\n\tGo back to grave quoting in Gnus\n\t* lisp/gnus/auth-source.el (auth-source-netrc-parse-entries):\n\t* lisp/gnus/gnus-agent.el (gnus-agent-check-overview-buffer)\n\t(gnus-agent-fetch-headers):\n\t* lisp/gnus/gnus-int.el (gnus-start-news-server):\n\t* lisp/gnus/gnus-registry.el:\n\t(gnus-registry--split-fancy-with-parent-internal)\n\t(gnus-registry-post-process-groups):\n\t* lisp/gnus/gnus-score.el (gnus-summary-increase-score):\n\t* lisp/gnus/gnus-start.el (gnus-convert-old-newsrc):\n\t* lisp/gnus/gnus-topic.el (gnus-topic-rename):\n\t* lisp/gnus/legacy-gnus-agent.el (gnus-agent-unlist-expire-days):\n\t* lisp/gnus/spam.el (spam-check-blackholes):\n\tStick with grave quoting in diagnostics strings.  This is more\n\tportable to older Emacs, desirable for Gnus.\n\n\tFix customization of text-quoting-style\n\t* lisp/cus-edit.el (custom-guess-type, custom-variable-documentation):\n\t* lisp/wid-edit.el (widget-docstring):\n\tGet raw docstring here since it\u2019s cooked later and should not be\n\tcooked twice.\n\t* lisp/cus-edit.el (custom-group-value-create):\n\tCook the docstring before inserting it.\n\t* lisp/cus-start.el (text-quoting-style): Quote the customization\n\tdocstrings according to the new rules.  Give curved examples.\n\n\tformat-message now curves ` and '\n\tThat way, the caller doesn\u2019t have to use curved quotes to\n\tget diagnostics that match the text-quoting-style preferences.\n\tSuggested by Dmitry Gutov in:\n\thttps://lists.gnu.org/r/emacs-devel/2015-08/msg00893.html\n\tThis means we no longer need %qs, so remove that format.\n\tWhile we\u2019re at it, fix an unlikely bug and lessen the pressure\n\ton the garbage collector by processing the string once rather\n\tthan twice in the usual case.\n\t* doc/lispref/strings.texi (Formatting Strings):\n\t* etc/NEWS: Document this.\n\t* lisp/subr.el (format-message): Remove; now done in C.\n\t* src/callint.c (Fcall_interactively):\n\t* src/editfns.c (Fmessage, Fmessage_box):\n\tUse Fformat_message instead of Finternal__text_restyle\n\tfollowed by Fformat.\n\t* src/doc.c (LSQM, RSQM): Remove; all uses changed to use\n\tuLSQM and uRSQM.\n\t(Fsubstitute_command_keys): Prefer AUTO_STRING to build_string\n\twhen pure ASCII now suffices.  Fix unlikely bug when parsing\n\tunibyte string containing non-ASCII bytes.  Use inline code\n\trather than memcpy, as it\u2019s a tiny number of bytes.\n\t(Finternal__text_restyle): Remove; no longer used.\n\t(syms_of_doc): Don\u2019t declare it.\n\t* src/editfns.c (Fformat): Rewrite in terms of new function\n\t\u2018styled_format\u2019.\n\t(Fformat_message): New function, moved here from subr.el.\n\t(styled_format): New function, with the old guts of Fformat,\n\texcept it now optionally transliterates quotes, and it transliterates\n\ttraditional grave accent and apostrophe quoting as well.\n\tRemove recently-added q flag; no longer needed or used.\n\t(syms_of_editfns): Define format-message.\n\t* src/lisp.h (uLSQM0, uLSQM1, uLSQM2, uRSQM0, uRSQM1, uRSQM2):\n\tRemove; no longer need to be global symbols.\n\t* src/xdisp.c (vadd_to_log): Use Fformat_message, not Fformat,\n\tso that callers can use `%s'.\n\t* src/image.c (image_size_error, xbm_load_image, xbm_load)\n\t(xpm_load, pbm_load, png_load_body, jpeg_load_body, tiff_load)\n\t(gif_load, imagemagick_load_image, imagemagick_load, svg_load)\n\t(svg_load_image, gs_load, x_kill_gs_process):\n\t* src/lread.c (load_warn_old_style_backquotes):\n\t* src/xfaces.c (load_pixmap):\n\t* src/xselect.c (x_clipboard_manager_error_1):\n\tUse `%s' instead of %qs in formats.\n\n2015-08-25  Eli Zaretskii  <eliz@gnu.org>\n\n\tMinor fixes in doc/emacs/search.texi\n\t* doc/emacs/search.texi (Basic Isearch): Fix a typo.\n\t(Special Isearch): Use @w{} to generate several consecutive spaces\n\twith Texinfo 6.  (Bug#21345)\n\n2015-08-25  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* lisp/net/tramp-sh.el (tramp-awk-encode, tramp-awk-decode)\n\t(tramp-awk-coding-test): New defconsts.\n\t(tramp-remote-coding-commands): Use them.\n\t(tramp-find-inline-encoding): Check for Perl only if necessary.\n\n2015-08-25  Xue Fuqiao  <xfq.free@gmail.com>\n\n\t* doc/lispintro/emacs-lisp-intro.texi (Run a Program): Add some\n\tindex entries for the special form `quote'.\n\n2015-08-25  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSpelling fixes\n\n\tGnus format-message typo fix\n\t* lisp/gnus/gnus-util.el (gnus-format-message):\n\tFix typo when running in older Emacs.\n\n\tPrefer directed to neutral quotes in docstings and diagnostics.\n\tIn docstrings, escape apostrophes that would otherwise be translated\n\tto curved quotes using the newer, simpler rules.\n\t* admin/unidata/unidata-gen.el (unidata-gen-table):\n\t* lisp/align.el (align-region):\n\t* lisp/allout.el (allout-mode, allout-solicit-alternate-bullet):\n\t* lisp/bookmark.el (bookmark-default-annotation-text):\n\t* lisp/calc/calc-aent.el (math-read-if, math-read-factor):\n\t* lisp/calc/calc-lang.el (math-read-giac-subscr)\n\t(math-read-math-subscr):\n\t* lisp/calc/calc-misc.el (report-calc-bug):\n\t* lisp/calc/calc-prog.el (calc-fix-token-name)\n\t(calc-read-parse-table-part):\n\t* lisp/cedet/ede/pmake.el (ede-proj-makefile-insert-dist-rules):\n\t* lisp/cedet/semantic/complete.el (semantic-displayor-show-request):\n\t* lisp/dabbrev.el (dabbrev-expand):\n\t* lisp/emacs-lisp/checkdoc.el (checkdoc-this-string-valid-engine):\n\t* lisp/emacs-lisp/elint.el (elint-get-top-forms):\n\t* lisp/emacs-lisp/lisp-mnt.el (lm-verify):\n\t* lisp/emulation/viper-cmd.el (viper-toggle-search-style):\n\t* lisp/erc/erc-button.el (erc-nick-popup):\n\t* lisp/erc/erc.el (erc-cmd-LOAD, erc-handle-login):\n\t* lisp/eshell/em-dirs.el (eshell/cd):\n\t* lisp/eshell/em-glob.el (eshell-glob-regexp):\n\t* lisp/eshell/em-pred.el (eshell-parse-modifiers):\n\t* lisp/eshell/esh-arg.el (eshell-parse-arguments):\n\t* lisp/eshell/esh-opt.el (eshell-show-usage):\n\t* lisp/files-x.el (modify-file-local-variable):\n\t* lisp/filesets.el (filesets-add-buffer, filesets-remove-buffer)\n\t(filesets-update-pre010505):\n\t* lisp/find-cmd.el (find-generic, find-to-string):\n\t* lisp/gnus/auth-source.el (auth-source-netrc-parse-entries):\n\t* lisp/gnus/gnus-agent.el (gnus-agent-check-overview-buffer)\n\t(gnus-agent-fetch-headers):\n\t* lisp/gnus/gnus-int.el (gnus-start-news-server):\n\t* lisp/gnus/gnus-registry.el:\n\t(gnus-registry--split-fancy-with-parent-internal):\n\t* lisp/gnus/gnus-score.el (gnus-summary-increase-score):\n\t* lisp/gnus/gnus-start.el (gnus-convert-old-newsrc):\n\t* lisp/gnus/gnus-topic.el (gnus-topic-rename):\n\t* lisp/gnus/legacy-gnus-agent.el (gnus-agent-unlist-expire-days):\n\t* lisp/gnus/nnmairix.el (nnmairix-widget-create-query):\n\t* lisp/gnus/spam.el (spam-check-blackholes):\n\t* lisp/mail/feedmail.el (feedmail-run-the-queue):\n\t* lisp/mpc.el (mpc-playlist-rename):\n\t* lisp/net/ange-ftp.el (ange-ftp-shell-command):\n\t* lisp/net/mairix.el (mairix-widget-create-query):\n\t* lisp/net/tramp-cache.el:\n\t* lisp/obsolete/otodo-mode.el (todo-more-important-p):\n\t* lisp/obsolete/pgg-gpg.el (pgg-gpg-process-region):\n\t* lisp/obsolete/pgg-pgp.el (pgg-pgp-process-region):\n\t* lisp/obsolete/pgg-pgp5.el (pgg-pgp5-process-region):\n\t* lisp/org/ob-core.el (org-babel-goto-named-src-block)\n\t(org-babel-goto-named-result):\n\t* lisp/org/ob-fortran.el (org-babel-fortran-ensure-main-wrap):\n\t* lisp/org/ob-ref.el (org-babel-ref-resolve):\n\t* lisp/org/org-agenda.el (org-agenda-prepare):\n\t* lisp/org/org-bibtex.el (org-bibtex-fields):\n\t* lisp/org/org-clock.el (org-clock-notify-once-if-expired)\n\t(org-clock-resolve):\n\t* lisp/org/org-feed.el (org-feed-parse-atom-entry):\n\t* lisp/org/org-habit.el (org-habit-parse-todo):\n\t* lisp/org/org-mouse.el (org-mouse-popup-global-menu)\n\t(org-mouse-context-menu):\n\t* lisp/org/org-table.el (org-table-edit-formulas):\n\t* lisp/org/ox.el (org-export-async-start):\n\t* lisp/play/dunnet.el (dun-score, dun-help, dun-endgame-question)\n\t(dun-rooms, dun-endgame-questions):\n\t* lisp/progmodes/ada-mode.el (ada-goto-matching-start):\n\t* lisp/progmodes/ada-xref.el (ada-find-executable):\n\t* lisp/progmodes/antlr-mode.el (antlr-options-alists):\n\t* lisp/progmodes/flymake.el (flymake-parse-err-lines)\n\t(flymake-start-syntax-check-process):\n\t* lisp/progmodes/python.el (python-define-auxiliary-skeleton):\n\t* lisp/progmodes/sql.el (sql-comint):\n\t* lisp/progmodes/verilog-mode.el (verilog-load-file-at-point):\n\t* lisp/server.el (server-get-auth-key):\n\t* lisp/subr.el (version-to-list):\n\t* lisp/textmodes/reftex-ref.el (reftex-label):\n\t* lisp/textmodes/reftex-toc.el (reftex-toc-rename-label):\n\t* lisp/vc/ediff-diff.el (ediff-same-contents):\n\t* lisp/vc/vc-cvs.el (vc-cvs-mode-line-string):\n\t* test/automated/tramp-tests.el (tramp-test33-asynchronous-requests):\n\tUse directed rather than neutral quotes in diagnostics.\n\n\tTreat ' like \u2019 even when not matching `\n\tThis is simpler and easier to explain, and should encourage better\n\ttypography.  Do this in Electric Quote mode and when translating\n\tquotes in docstrings.  Inspired by a suggestion by Dmitry Gutov in:\n\thttps://lists.gnu.org/r/emacs-devel/2015-08/msg00806.html\n\t* doc/emacs/text.texi (Quotation Marks):\n\t* doc/lispref/help.texi (Keys in Documentation):\n\t* etc/NEWS:\n\tDocument this.\n\t* lisp/electric.el (electric-quote-post-self-insert-function):\n\t* src/doc.c (Fsubstitute_command_keys):\n\tAlways treat ' like \u2019 even when not matched by an open quote.\n\n2015-08-25  Glenn Morris  <rgm@gnu.org>\n\n\t* doc/emacs/cal-xtra.texi (Holiday Customizing): Fix typo in example.\n\t* lisp/calendar/holidays.el (calendar-holidays): Fix doc typo.\n\n2015-08-24  YAMAMOTO Mitsuharu  <mituharu@math.s.chiba-u.ac.jp>\n\n\t* src/macfont.m (macfont_create_family_with_symbol):\n\tAccept localized names.\n\n2015-08-24  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tTramp diagnostics as per \u2018text-quoting-style\u2019\n\t* lisp/net/tramp-adb.el (tramp-adb-handle-file-truename)\n\t(tramp-adb-get-ls-command, tramp-adb-handle-make-directory)\n\t(tramp-adb-handle-delete-directory)\n\t(tramp-adb-handle-delete-file)\n\t(tramp-adb-handle-file-local-copy)\n\t(tramp-adb-handle-write-region, tramp-adb-handle-copy-file)\n\t(tramp-adb-send-command-and-check, tramp-adb-wait-for-output)\n\t(tramp-adb-maybe-open-connection):\n\t* lisp/net/tramp-cache.el:\n\t* lisp/net/tramp-compat.el (tramp-compat-temporary-file-directory)\n\t(tramp-compat-octal-to-decimal)\n\t(tramp-compat-coding-system-change-eol-conversion):\n\t* lisp/net/tramp-gvfs.el (tramp-gvfs-file-name-handler)\n\t(tramp-gvfs-do-copy-or-rename-file)\n\t(tramp-gvfs-handle-delete-directory)\n\t(tramp-gvfs-handle-delete-file)\n\t(tramp-gvfs-handle-expand-file-name)\n\t(tramp-gvfs-handle-file-local-copy)\n\t(tramp-gvfs-handle-file-notify-add-watch)\n\t(tramp-gvfs-handle-make-directory)\n\t(tramp-gvfs-handle-write-region, tramp-gvfs-url-file-name):\n\t* lisp/net/tramp-gw.el (tramp-gw-gw-proc-sentinel)\n\t(tramp-gw-aux-proc-sentinel, tramp-gw-open-connection):\n\t* lisp/net/tramp-sh.el (tramp-sh-handle-file-truename)\n\t(tramp-sh-handle-set-visited-file-modtime)\n\t(tramp-sh-handle-set-file-modes)\n\t(tramp-sh-handle-file-name-all-completions)\n\t(tramp-sh-handle-add-name-to-file, tramp-do-copy-or-rename-file)\n\t(tramp-do-copy-or-rename-file-directly)\n\t(tramp-do-copy-or-rename-file-out-of-band)\n\t(tramp-sh-handle-make-directory)\n\t(tramp-sh-handle-delete-directory, tramp-sh-handle-delete-file)\n\t(tramp-sh-handle-insert-directory, tramp-process-sentinel)\n\t(tramp-sh-handle-start-file-process)\n\t(tramp-sh-handle-file-local-copy)\n\t(tramp-sh-handle-write-region, tramp-sh-handle-vc-registered)\n\t(tramp-sh-handle-file-notify-add-watch, tramp-maybe-send-script)\n\t(tramp-find-file-exists-command, tramp-open-shell)\n\t(tramp-find-shell)\n\t(tramp-open-connection-setup-interactive-shell)\n\t(tramp-find-inline-encoding, tramp-find-inline-compress)\n\t(tramp-compute-multi-hops, tramp-maybe-open-connection)\n\t(tramp-wait-for-output, tramp-send-command-and-check)\n\t(tramp-send-command-and-read, tramp-get-remote-path)\n\t(tramp-get-ls-command, tramp-get-ls-command-with-dired)\n\t(tramp-get-ls-command-with-quoting-style)\n\t(tramp-get-test-command, tramp-get-remote-ln)\n\t(tramp-get-remote-perl, tramp-get-remote-stat)\n\t(tramp-get-remote-readlink, tramp-get-remote-trash)\n\t(tramp-get-remote-touch, tramp-get-remote-gvfs-monitor-dir)\n\t(tramp-get-remote-inotifywait, tramp-get-remote-id)\n\t(tramp-get-remote-python):\n\t* lisp/net/tramp-smb.el (tramp-smb-errors)\n\t(tramp-smb-handle-add-name-to-file, tramp-smb-handle-copy-file)\n\t(tramp-smb-handle-delete-directory)\n\t(tramp-smb-handle-delete-file)\n\t(tramp-smb-handle-file-local-copy)\n\t(tramp-smb-handle-make-directory)\n\t(tramp-smb-handle-make-directory-internal)\n\t(tramp-smb-handle-make-symbolic-link)\n\t(tramp-smb-handle-rename-file, tramp-smb-handle-set-file-acl)\n\t(tramp-smb-handle-set-file-modes)\n\t(tramp-smb-handle-write-region, tramp-smb-get-file-entries):\n\t* lisp/net/tramp.el (tramp-debug-message, tramp-error)\n\t(tramp-process-actions):\n\tGenerate diagnostics according to \u2018text-quoting-style\u2019, by\n\tusing curved quotes in format strings and \u2018format-message\u2019\n\twhen appropriate.\n\t* lisp/net/tramp-compat.el (format-message):\n\tDefine a replacement, if it\u2019s an older version of Emacs\n\tthat doesn\u2019t have it already.\n\n\t* etc/NEWS: Clarify text-quoting-style and electric-quote-mode.\n\n2015-08-24  Xue Fuqiao  <xfq.free@gmail.com>\n\n\tFix documentation for `save-excursion'\n\t* doc/lispref/positions.texi (Excursions):\n\t* doc/lispintro/emacs-lisp-intro.texi (save-excursion)\n\t(Template for save-excursion, Point and mark): `save-excursion'\n\tdoes not save&restore the mark any more.\n\n2015-08-24  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* lisp/net/tramp-sh.el (tramp-stat-marker, tramp-stat-quoted-marker):\n\tNew defconsts.\n\t(tramp-do-file-attributes-with-stat)\n\t(tramp-do-directory-files-and-attributes-with-stat): Use them.\n\t(tramp-convert-file-attributes): Remove double slashes in symlinks.\n\t* test/automated/tramp-tests.el (tramp-test18-file-attributes):\n\tHandle symlinks with \"//\" in the file name.\n\n\tRevert fbb5531fa11d13854b274d28ccd329c9b6652cfc for tramp.el.\n\n2015-08-24  Nicolas Petton  <nicolas@petton.fr>\n\n\tFix cl-subseq and cl-concatenate\n\t* lisp/emacs-lisp/cl-extra.el (cl-subseq, cl-concatenate): Do not use\n\tseq functions.\n\t* lisp/emacs-lisp/seq.el (seq-concatenate): Call cl-concatenate in\n\tseq-concatenate.\n\n2015-08-24  Pip Cet  <pipcet@gmail.com>  (tiny change)\n\n\tFix full-screen code when there is no window manager (Bug#21317)\n\t* src/xterm.h (x_wm_supports): Declare external.\n\t* src/xterm.c (wm_suppports): Rename to `x_wm_supports', export.\n\t(do_ewmh_fullscreen, x_ewmh_activate_frame): Adjust for rename.\n\t(x_check_fullscreen): Call `x_wm_set_size_hint', restore\n\t`fullscreen' frame parameter.\n\t* src/gtkutil.c (x_wm_set_size_hint): Set size hints when running\n\twithout a window manager.\n\n2015-08-24  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/version.el (emacs-version): No longer include build host.\n\t* doc/lispref/intro.texi (Version Info): Update example.\n\n2015-08-24  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* doc/lispref/elisp.texi: Fix typo in previous change.\n\n\tMore-conservative \u2018format\u2019 quote restyling\n\tInstead of restyling curved quotes for every call to \u2018format\u2019,\n\tcreate a new function \u2018format-message\u2019 that does the restyling,\n\tand using the new function instead of \u2018format\u2019 only in contexts\n\twhere this seems appropriate.\n\tProblem reported by Dmitry Gutov and Andreas Schwab in:\n\thttps://lists.gnu.org/r/emacs-devel/2015-08/msg00826.html\n\thttps://lists.gnu.org/r/emacs-devel/2015-08/msg00827.html\n\t* doc/lispref/commands.texi (Using Interactive):\n\t* doc/lispref/control.texi (Signaling Errors, Signaling Errors):\n\t* doc/lispref/display.texi (Displaying Messages, Progress):\n\t* doc/lispref/elisp.texi:\n\t* doc/lispref/help.texi (Keys in Documentation):\n\t* doc/lispref/minibuf.texi (Minibuffer Misc):\n\t* doc/lispref/strings.texi (Formatting Strings):\n\t* etc/NEWS:\n\tDocument the changes.\n\t* lisp/abbrev.el (expand-region-abbrevs):\n\t* lisp/apropos.el (apropos-library):\n\t* lisp/calc/calc-ext.el (calc-record-message)\n\t(calc-user-function-list):\n\t* lisp/calc/calc-help.el (calc-describe-key, calc-full-help):\n\t* lisp/calc/calc-lang.el (math-read-big-balance):\n\t* lisp/calc/calc-store.el (calc-edit-variable):\n\t* lisp/calc/calc-units.el (math-build-units-table-buffer):\n\t* lisp/calc/calc-yank.el (calc-edit-mode):\n\t* lisp/calendar/icalendar.el (icalendar-export-region)\n\t(icalendar--add-diary-entry):\n\t* lisp/cedet/mode-local.el (mode-local-print-binding)\n\t(mode-local-describe-bindings-2):\n\t* lisp/cedet/semantic/complete.el (semantic-completion-message):\n\t* lisp/cedet/semantic/edit.el (semantic-parse-changes-failed):\n\t* lisp/cedet/semantic/wisent/comp.el (wisent-log):\n\t* lisp/cedet/srecode/insert.el (srecode-insert-show-error-report):\n\t* lisp/descr-text.el (describe-text-properties-1, describe-char):\n\t* lisp/dframe.el (dframe-message):\n\t* lisp/dired-aux.el (dired-query):\n\t* lisp/emacs-lisp/byte-opt.el (byte-compile-log-lap-1):\n\t* lisp/emacs-lisp/bytecomp.el (byte-compile-log)\n\t(byte-compile-log-file, byte-compile-warn, byte-compile-form):\n\t* lisp/emacs-lisp/cconv.el (cconv-convert, cconv--analyze-use)\n\t(cconv-analyze-form):\n\t* lisp/emacs-lisp/check-declare.el (check-declare-warn):\n\t* lisp/emacs-lisp/checkdoc.el (checkdoc-this-string-valid-engine):\n\t* lisp/emacs-lisp/cl-macs.el (cl-symbol-macrolet):\n\t* lisp/emacs-lisp/edebug.el (edebug-format):\n\t* lisp/emacs-lisp/eieio-core.el (eieio-oref):\n\t* lisp/emacs-lisp/eldoc.el (eldoc-minibuffer-message)\n\t(eldoc-message):\n\t* lisp/emacs-lisp/elint.el (elint-file, elint-log):\n\t* lisp/emacs-lisp/find-func.el (find-function-library):\n\t* lisp/emacs-lisp/macroexp.el (macroexp--obsolete-warning):\n\t* lisp/emacs-lisp/map-ynp.el (map-y-or-n-p):\n\t* lisp/emacs-lisp/nadvice.el (advice--make-docstring):\n\t* lisp/emacs-lisp/package.el (package-compute-transaction)\n\t(package-install-button-action, package-delete-button-action)\n\t(package-menu--list-to-prompt):\n\t* lisp/emacs-lisp/timer.el (timer-event-handler):\n\t* lisp/emacs-lisp/warnings.el (lwarn, warn):\n\t* lisp/emulation/viper-cmd.el:\n\t(viper-toggle-parse-sexp-ignore-comments)\n\t(viper-kill-buffer, viper-brac-function):\n\t* lisp/emulation/viper-macs.el (viper-record-kbd-macro):\n\t* lisp/facemenu.el (facemenu-add-new-face):\n\t* lisp/faces.el (face-documentation, read-face-name)\n\t(face-read-string, read-face-font, describe-face):\n\t* lisp/files.el (find-alternate-file, hack-local-variables)\n\t(hack-one-local-variable--obsolete, write-file)\n\t(basic-save-buffer, delete-directory):\n\t* lisp/format.el (format-write-file, format-find-file)\n\t(format-insert-file):\n\t* lisp/help-fns.el (help-fns--key-bindings)\n\t(help-fns--compiler-macro, help-fns--obsolete)\n\t(help-fns--interactive-only, describe-function-1)\n\t(describe-variable):\n\t* lisp/help.el (describe-mode):\n\t* lisp/info-xref.el (info-xref-output):\n\t* lisp/info.el (Info-virtual-index-find-node)\n\t(Info-virtual-index, info-apropos):\n\t* lisp/international/kkc.el (kkc-error):\n\t* lisp/international/mule-cmds.el:\n\t(select-safe-coding-system-interactively)\n\t(select-safe-coding-system, describe-input-method):\n\t* lisp/international/mule-conf.el (code-offset):\n\t* lisp/international/mule-diag.el (describe-character-set)\n\t(list-input-methods-1):\n\t* lisp/international/quail.el (quail-error):\n\t* lisp/minibuffer.el (minibuffer-message):\n\t* lisp/mpc.el (mpc--debug):\n\t* lisp/msb.el (msb--choose-menu):\n\t* lisp/net/ange-ftp.el (ange-ftp-message):\n\t* lisp/net/gnutls.el (gnutls-message-maybe):\n\t* lisp/net/newst-backend.el (newsticker--sentinel-work):\n\t* lisp/net/newst-treeview.el (newsticker--treeview-load):\n\t* lisp/net/nsm.el (nsm-query-user):\n\t* lisp/net/rlogin.el (rlogin):\n\t* lisp/net/soap-client.el (soap-warning):\n\t* lisp/net/tramp.el (tramp-debug-message):\n\t* lisp/nxml/nxml-outln.el (nxml-report-outline-error):\n\t* lisp/nxml/nxml-parse.el (nxml-parse-error):\n\t* lisp/nxml/rng-cmpct.el (rng-c-error):\n\t* lisp/nxml/rng-match.el (rng-compile-error):\n\t* lisp/nxml/rng-uri.el (rng-uri-error):\n\t* lisp/obsolete/iswitchb.el (iswitchb-possible-new-buffer):\n\t* lisp/org/org-ctags.el:\n\t(org-ctags-ask-rebuild-tags-file-then-find-tag):\n\t* lisp/proced.el (proced-log):\n\t* lisp/progmodes/ebnf2ps.el (ebnf-log):\n\t* lisp/progmodes/flymake.el (flymake-log):\n\t* lisp/progmodes/vhdl-mode.el (vhdl-warning-when-idle):\n\t* lisp/replace.el (occur-1):\n\t* lisp/simple.el (execute-extended-command)\n\t(undo-outer-limit-truncate, define-alternatives):\n\t* lisp/startup.el (command-line):\n\t* lisp/subr.el (error, user-error, add-to-list):\n\t* lisp/tutorial.el (tutorial--describe-nonstandard-key)\n\t(tutorial--find-changed-keys):\n\t* src/callint.c (Fcall_interactively):\n\t* src/editfns.c (Fmessage, Fmessage_box):\n\tRestyle the quotes of format strings intended for use as a\n\tdiagnostic, when restyling seems appropriate.\n\t* lisp/subr.el (format-message): New function.\n\t* src/doc.c (Finternal__text_restyle): New function.\n\t(syms_of_doc): Define it.\n\n2015-08-23  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* etc/NEWS: The new \u2018q\u2019 flag is not an incompatible change.\n\n2015-08-23  Fabi\u00e1n Ezequiel Gallina  <fgallina@gnu.org>\n\n\tpython.el: Fix python-shell-buffer-substring on indented code\n\t(Bug#21086)\n\t* lisp/progmodes/python.el (python-shell-buffer-substring):\n\tRespect current line indentation when calculating string.\n\t* test/automated/python-tests.el\n\t(python-shell-buffer-substring-10)\n\t(python-shell-buffer-substring-11)\n\t(python-shell-buffer-substring-12): New tests.\n\n2015-08-23  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix minor glitches from \u2018format\u2019 reversion\n\t* doc/lispref/strings.texi (Formatting Strings):\n\tAfter reversion, \u2018text-quoting-style\u2019 is documented in \u2018Keys in\n\tDocumentation\u2019, not below.\n\t* src/syntax.c (Finternal_describe_syntax_value):\n\tPrefer AUTO_STRING to build_string where either will do, as\n\tAUTO_STRING is a bit faster.\n\n2015-08-23  Fabi\u00e1n Ezequiel Gallina  <fgallina@gnu.org>\n\n\tpython.el: Defer shell setup code until first interactive prompt\n\t* lisp/progmodes/python.el\n\t(python-shell-comint-watch-for-first-prompt-output-filter):\n\tNew function.\n\t(inferior-python-mode): Use it.\n\t(python-shell-first-prompt-hook): New hook.\n\t(python-shell-send-setup-code)\n\t(python-shell-completion-native-turn-on-maybe-with-msg): Attach to\n\tthis hook instead of inferior-python-hook.\n\n2015-08-23  Nicolas Petton  <nicolas@petton.fr>\n\n\tRemove the calls to `seq-into` from `seq-concatenate`\n\tSince most new types of seq would have to be defined as sequences (cons\n\tcells or CL structs, mostly), there is no need to convert the seqs to\n\tsequences (which can be a fairly expensive operation).\n\t* lisp/emacs-lisp/seq.el (seq-concatenate): Do not ensure that seqs are\n\tsequences.\n\n2015-08-23  Fabi\u00e1n Ezequiel Gallina  <fgallina@gnu.org>\n\n\tpython.el: Fix completion for pdb interactions\n\t* lisp/progmodes/python.el (python-shell-completion-setup-code):\n\tSimplify.  Toggle print_mode for native wrapped completer.\n\t(python-shell-completion-native-setup): Ensure process buffer.\n\tAdd print_mode attribute to completer wrapper to toggle returning\n\tor printing candidates.\n\t(python-shell-completion-native-get-completions): Cleanup.\n\t(python-shell-completion-get-completions): Cleanup.\n\t(python-shell-completion-at-point): Perform prompt checks.\n\tForce fallback completion in pdb interactions.\n\n2015-08-23  Nicolas Petton  <nicolas@petton.fr>\n\n\tMake seq.el more extensible by using cl-defmethod\n\t* lisp/emacs-lisp/seq.el: Define seq.el functions using cl-defmethod to\n\tmake it easier to extend seq.el with new \"seq types\".\n\t* test/automated/seq-tests.el (test-setf-seq-elt): New test.\n\t* lisp/emacs-lisp/cl-extra.el (cl-subseq): Move back the definition of\n\tsubseq in cl-extra.el, and use it in seq.el.\n\n2015-08-23  Fabi\u00e1n Ezequiel Gallina  <fgallina@gnu.org>\n\n\tpython.el: Fix prompt detection with user overridden interpreter\n\t* lisp/progmodes/python.el (python-shell-prompt-detect):\n\tHonor buffer local python-shell-interpreter and\n\tpython-shell-interpreter-interactive-arg.\n\n2015-08-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tSupport exec-directory with non-ASCII characters on Windows\n\t* src/w32proc.c (sys_spawnve): Make sure exec-directory is encoded\n\tin the system's ANSI codepage, when it is used for invoking\n\tcmdproxy.\n\n2015-08-23  Andreas Schwab  <schwab@linux-m68k.org>\n\n\tRevert \"Extend \u2018format\u2019 to translate curved quotes\"\n\tThis reverts commit 244c801689d2f7a80480d83cd7d092d4762ebe08.\n\n\tRevert \"Prefer \u2018format\u2019 to \u2018substitute-command-keys\u2019\"\n\tThis reverts commit 6af5aad26411ffe21c3fe4bc5438347110910111.\n\n2015-08-23  Xue Fuqiao  <xfq.free@gmail.com>\n\n\t* doc/lispintro/emacs-lisp-intro.texi (Switching Buffers):\n\tClarify \"invisible window\".\n\n2015-08-23  Xue Fuqiao  <xfq.free@gmail.com>\n\n\t* doc/emacs/modes.texi (Choosing Modes): Minor doc fix for\n\tmagic-fallback-mode-alist.\n\n2015-08-22  Fabi\u00e1n Ezequiel Gallina  <fgallina@gnu.org>\n\n\tpython.el: fallback completion, ffap and eldoc setup enhancements\n\tSetup codes are now sent continuously so that the current frame is\n\talways taken into account.  This allows working within debuggers\n\tand always keeping a fresh version of setup codes that will return\n\tproper results.\n\t* lisp/progmodes/python.el (python-shell-setup-codes): Cleanup.\n\t(python-shell-send-setup-code): Send code only when\n\tpython-shell-setup-codes is non-nil.\n\t(python-shell-completion-string-code): Cleanup trailing newline.\n\t(python-shell-completion-get-completions): Always use\n\tpython-shell-completion-setup-code.\n\t(python-ffap-setup-code): Work with any object, not only modules.\n\t(python-ffap-string-code): Cleanup trailing newline.\n\t(python-ffap-module-path): Always use python-ffap-setup-code.\n\t(python-eldoc-string-code): Cleanup trailing newline.\n\t(python-eldoc--get-doc-at-point): Always use\n\tpython-eldoc-setup-code.  Return non-nil only if docstring is\n\tfound.\n\n\tpython.el: Increase native completion robustness\n\t* lisp/progmodes/python.el (python-shell-completion-native-setup):\n\tMake completer print real candidates and just return dummy ones to\n\tavoid input modification.\n\t(python-shell-completion-native-get-completions): Set\n\tcomint-redirect-insert-matching-regexp to non-nil and make\n\tcomint-redirect-finished-regexp match the last dummy candidate.\n\tUse python-shell-accept-process-output to wait for the full list\n\tof candidates.\n\n2015-08-22  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix invocation of programs via cmdproxy.exe\n\t* src/w32proc.c (sys_spawnve): Use exec-directory, not\n\tinvocation-directory, for finding cmdproxy.exe.  When Emacs is\n\trun from the source tree, look for cmdproxy.exe in the same source\n\ttree.  (Bug#21323)\n\n2015-08-22  Simen Heggest\u00f8yl  <simenheg@gmail.com>\n\n\tHandle comments inside unquoted URIs in css-mode\n\t* lisp/textmodes/css-mode.el (css--uri-re): New defconst.\n\t(css-syntax-propertize-function): New defconst.\n\t(css--font-lock-keywords): Handle parens around unquoted URIs.\n\t(css-mode): Set `syntax-propertize-function'.\n\n2015-08-22  Eli Zaretskii  <eliz@gnu.org>\n\n\tSupport invocation of Hunspell with multiple dictionaries\n\t* lisp/textmodes/ispell.el (ispell-parse-hunspell-affix-file):\n\tSupport lists of dictionaries of the form \"DICT1,DICT2,...\".\n\t(ispell-hunspell-add-multi-dic): New command.  (Bug#20495)\n\n\tMinor formatting changes in ispell.el\n\t* lisp/textmodes/ispell.el (ispell-create-debug-buffer)\n\t(ispell-print-if-debug, ispell-aspell-find-dictionary)\n\t(ispell-aspell-add-aliases, ispell-hunspell-dict-paths-alist)\n\t(ispell-hunspell-dictionary-alist)\n\t(ispell-hunspell-fill-dictionary-entry)\n\t(ispell-find-hunspell-dictionaries, ispell-send-replacement)\n\t(ispell-buffer-with-debug, ispell-complete-word)\n\t(ispell-current-dictionary, ispell-current-personal-dictionary)\n\t(ispell-accept-output, ispell-minor-mode)\n\t(ispell-personal-dictionary, ispell-dictionary-alist)\n\t(ispell-really-aspell, ispell-really-hunspell)\n\t(ispell-encoding8-command, ispell-aspell-supports-utf8)\n\t(ispell-aspell-dictionary-alist, ispell-set-spellchecker-params):\n\tFix whitespace, inconsistent capitalization, and arguments in doc\n\tstrings.\n\n2015-08-22  Martin Rudalics  <rudalics@gmx.at>\n\n\t* lisp/window.el (adjust-window-trailing-edge): Fix bug where this\n\tfunction refused to resize a size-preserved window.\n\n2015-08-22  Eli Zaretskii  <eliz@gnu.org>\n\n\t* doc/lispref/windows.texi (Selecting Windows): Improve\n\tdocumentation and indexing of 'window-use-time'.\n\n2015-08-21  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/progmodes/cc-vars.el, lisp/progmodes/cc-styles.el:\n\t* lisp/progmodes/cc-mode.el, lisp/progmodes/cc-menus.el:\n\t* lisp/progmodes/cc-langs.el, lisp/progmodes/cc-guess.el:\n\t* lisp/progmodes/cc-fonts.el, lisp/progmodes/cc-engine.el:\n\t* lisp/progmodes/cc-defs.el, lisp/progmodes/cc-cmds.el:\n\t* lisp/progmodes/cc-bytecomp.el, lisp/progmodes/cc-awk.el:\n\t* lisp/progmodes/cc-align.el, lisp/net/soap-client.el:\n\tFix up commenting style.\n\n2015-08-21  Paul Eggert  <eggert@cs.ucla.edu>\n\n\ttext-quoting-style in emacs-lisp diagnostics\n\t* lisp/emacs-lisp/advice.el (ad-read-advised-function)\n\t(ad-read-advice-class, ad-read-advice-name, ad-enable-advice)\n\t(ad-disable-advice, ad-remove-advice, ad-set-argument)\n\t(ad-set-arguments):\n\t* lisp/emacs-lisp/byte-opt.el (byte-compile-inline-expand)\n\t(byte-compile-unfold-lambda, byte-optimize-form-code-walker)\n\t(byte-optimize-while, byte-optimize-apply):\n\t* lisp/emacs-lisp/bytecomp.el (byte-compile-lapcode)\n\t(byte-compile-log-file, byte-compile-format-warn)\n\t(byte-compile-nogroup-warn, byte-compile-arglist-warn)\n\t(byte-compile-cl-warn)\n\t(byte-compile-warn-about-unresolved-functions)\n\t(byte-compile-file, byte-compile-fix-header)\n\t(byte-compile--declare-var, byte-compile-file-form-defmumble)\n\t(byte-compile-form, byte-compile-normal-call)\n\t(byte-compile-variable-ref, byte-compile-variable-set)\n\t(byte-compile-subr-wrong-args, byte-compile-setq-default)\n\t(byte-compile-negation-optimizer)\n\t(byte-compile-condition-case--old)\n\t(byte-compile-condition-case--new, byte-compile-save-excursion)\n\t(byte-compile-defvar, byte-compile-autoload)\n\t(byte-compile-lambda-form)\n\t(byte-compile-make-variable-buffer-local, display-call-tree)\n\t(batch-byte-compile):\n\t* lisp/emacs-lisp/cconv.el (cconv-convert, cconv--analyze-use)\n\t(cconv-analyze-form):\n\t* lisp/emacs-lisp/chart.el (chart-space-usage):\n\t* lisp/emacs-lisp/check-declare.el (check-declare-scan)\n\t(check-declare-warn, check-declare-file)\n\t(check-declare-directory):\n\t* lisp/emacs-lisp/checkdoc.el (checkdoc-this-string-valid-engine)\n\t(checkdoc-message-text-engine):\n\t* lisp/emacs-lisp/cl-extra.el (cl-parse-integer):\n\t* lisp/emacs-lisp/cl-macs.el (cl--parse-loop-clause, cl-tagbody)\n\t(cl-symbol-macrolet):\n\t* lisp/emacs-lisp/cl.el (cl-unload-function, flet):\n\t* lisp/emacs-lisp/copyright.el (copyright)\n\t(copyright-update-directory):\n\t* lisp/emacs-lisp/edebug.el (edebug-read-list):\n\t* lisp/emacs-lisp/eieio-base.el (eieio-persistent-read):\n\t* lisp/emacs-lisp/eieio-core.el (eieio--slot-override)\n\t(eieio-oref, eieio-oset-default):\n\t* lisp/emacs-lisp/eieio-speedbar.el:\n\t(eieio-speedbar-child-make-tag-lines)\n\t(eieio-speedbar-child-description):\n\t* lisp/emacs-lisp/eieio.el (defclass, change-class):\n\t* lisp/emacs-lisp/elint.el (elint-file, elint-get-top-forms)\n\t(elint-init-form, elint-check-defalias-form)\n\t(elint-check-let-form):\n\t* lisp/emacs-lisp/ert.el (ert-get-test):\n\t* lisp/emacs-lisp/find-func.el (find-function-search-for-symbol)\n\t(find-function-library):\n\t* lisp/emacs-lisp/generator.el (iter-yield):\n\t* lisp/emacs-lisp/gv.el (gv-define-simple-setter):\n\t* lisp/emacs-lisp/lisp-mnt.el (lm-verify):\n\t* lisp/emacs-lisp/package-x.el (package-upload-file):\n\t* lisp/emacs-lisp/package.el (package-version-join)\n\t(package-disabled-p, package-activate-1, package-activate)\n\t(package--download-one-archive)\n\t(package--download-and-read-archives)\n\t(package-compute-transaction, package-install-from-archive)\n\t(package-install, package-install-selected-packages)\n\t(package-delete, package-autoremove)\n\t(package-install-button-action, package-delete-button-action)\n\t(package-menu-hide-package, package-menu--list-to-prompt)\n\t(package-menu--perform-transaction)\n\t(package-menu--find-and-notify-upgrades):\n\t* lisp/emacs-lisp/pcase.el (pcase-exhaustive, pcase--u1):\n\t* lisp/emacs-lisp/re-builder.el (reb-enter-subexp-mode):\n\t* lisp/emacs-lisp/ring.el (ring-next, ring-previous):\n\t* lisp/emacs-lisp/rx.el (rx-check, rx-anything):\n\t* lisp/emacs-lisp/smie.el (smie-config-save):\n\t* lisp/emacs-lisp/subr-x.el (internal--check-binding):\n\t* lisp/emacs-lisp/testcover.el (testcover-1value):\n\tUse curved quotes in diagnostic format strings.\n\n2015-08-21  Fabi\u00e1n Ezequiel Gallina  <fgallina@gnu.org>\n\n\tpython.el: Ensure remote process-environment on non-interactive processes\n\t* lisp/progmodes/python.el\n\t(python-shell-tramp-refresh-process-environment): New function.\n\t(python-shell-with-environment): Use it.\n\t* test/automated/python-tests.el (python-shell-with-environment-2):\n\tUpdate.\n\n\tpython.el: Enhancements to process environment setup.\n\t* lisp/progmodes/python.el (python-shell-process-environment)\n\t(python-shell-extra-pythonpaths, python-shell-exec-path)\n\t(python-shell-virtualenv-root): Update docstring.  Remove :safe.\n\t(python-shell-setup-codes): Remove :safe.\n\t(python-shell-remote-exec-path): New defcustom.\n\t(python-shell--add-to-path-with-priority): New macro.\n\t(python-shell-calculate-pythonpath): Give priority to\n\tpython-shell-extra-pythonpaths.  Update docstring.\n\t(python-shell-calculate-process-environment): Give priority to\n\tpython-shell-process-environment.  Update docstring.\n\t(python-shell-calculate-exec-path): Give priority to\n\tpython-shell-exec-path and calculated virtualenv bin directory.\n\tUpdate docstring.\n\t(python-shell-tramp-refresh-remote-path): New function.\n\t(python-shell-with-environment): Use it when working remotely and\n\tdo not modify tramp-remote-path.  Allow nesting.\n\t(python-shell-calculate-command): Remove useless\n\tpython-shell-with-environment call.\n\t* test/automated/python-tests.el (python-shell-calculate-pythonpath-1)\n\t(python-shell-calculate-pythonpath-2)\n\t(python-shell-calculate-process-environment-6)\n\t(python-shell-calculate-process-environment-7)\n\t(python-shell-calculate-process-environment-8)\n\t(python-shell-calculate-exec-path-3)\n\t(python-shell-calculate-exec-path-4)\n\t(python-shell-calculate-exec-path-5)\n\t(python-shell-calculate-exec-path-6)\n\t(python-shell-with-environment-3): New tests.\n\t(python-shell-calculate-process-environment-2)\n\t(python-shell-calculate-process-environment-3)\n\t(python-shell-calculate-process-environment-4)\n\t(python-shell-calculate-process-environment-5)\n\t(python-shell-calculate-exec-path-1)\n\t(python-shell-calculate-exec-path-2)\n\t(python-shell-with-environment-1)\n\t(python-shell-with-environment-2): Update and simplify.\n\n2015-08-21  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tAvoid hard-coding \"M-x command\" in docstrings\n\t* lisp/calendar/todo-mode.el (todo-mode):\n\t* lisp/desktop.el (desktop-save-mode):\n\t* lisp/edmacro.el (edit-kbd-macro):\n\t* lisp/emacs-lisp/package.el (package-menu-execute):\n\t* lisp/emulation/viper-cmd.el (viper-ask-level):\n\t* lisp/emulation/viper-init.el (viper-expert-level):\n\t* lisp/filesets.el (filesets-add-buffer):\n\t* lisp/follow.el (follow-mode):\n\t* lisp/gnus/auth-source.el (auth-sources):\n\t* lisp/international/ogonek.el (ogonek-informacja)\n\t(ogonek-information):\n\t* lisp/net/tramp.el (tramp-process-actions):\n\t* lisp/org/org-gnus.el (org-gnus-no-new-news):\n\t* lisp/org/org.el (org-ellipsis):\n\t* lisp/progmodes/python.el (python-shell-get-process-or-error):\n\t* lisp/progmodes/vhdl-mode.el (vhdl-mode):\n\t* lisp/server.el (server-start):\n\t* lisp/type-break.el (type-break-noninteractive-query):\n\t* lisp/userlock.el (ask-user-about-supersession-help):\n\t* lisp/whitespace.el (whitespace-report-region):\n\tPrefer (substitute-command-keys \"`\\\\[foo-command]'\")\n\tto \"`M-x foo-command'\" in docstrings and the like.\n\n2015-08-21  Tassilo Horn  <tsdh@gnu.org>\n\n\tUse add-function for prettify-symbols-compose-predicate\n\t* lisp/textmodes/tex-mode.el (tex-common-initialization): Set\n\tprettify-symbols-compose-predicate in terms of add-function.\n\t* etc/NEWS: Mention prettify-symbols-compose-predicate and\n\tprettify-symbols-mode support in tex-mode.\n\n2015-08-21  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/smie.el (smie-indent-current-column): New fun.\n\t(smie-indent-exps, smie-indent-keyword): Use it.\n\t* test/indent/css-mode.css: Test alignment with leading comment.\n\n2015-08-21  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRespect text-quoting-style in (*Finder*) menus\n\t* lisp/info.el (info--prettify-description):\n\tTreat description as a docstring, so that it's requoted as\n\tper text-quoting-style.\n\n2015-08-21  Martin Rudalics  <rudalics@gmx.at>\n\n\tDocument `window-use-time' in Elisp manual\n\t* doc/lispref/windows.texi (Selecting Windows): Document\n\t`window-use-time'.\n\n2015-08-21  Eli Zaretskii  <eliz@gnu.org>\n\n\t* src/w32uniscribe.c (_WIN32_WINNT): Define to 0x0600.\n\tThis is a cleaner fix for Bug#21260 than the previous change.\n\n2015-08-21  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRespect text-quoting-style in calc\n\tIn calc, tespect text-quoting-style preference in diagnostic\n\tformats and fix a few similar problems in docstrings.\n\t* lisp/calc/calc-aent.el (math-read-factor):\n\t* lisp/calc/calc-embed.el (calc-do-embedded):\n\t* lisp/calc/calc-ext.el (calc-user-function-list)\n\t* lisp/calc/calc-graph.el (calc-graph-show-dumb):\n\t* lisp/calc/calc-help.el (calc-describe-key)\n\t(calc-describe-thing):\n\t* lisp/calc/calc-lang.el (calc-c-language)\n\t(math-parse-fortran-vector-end, math-parse-tex-sum)\n\t(math-parse-eqn-matrix, math-parse-eqn-prime)\n\t(calc-yacas-language, calc-maxima-language, calc-giac-language)\n\t(math-read-big-rec, math-read-big-balance):\n\t* lisp/calc/calc-mode.el (calc-auto-why, calc-save-modes)\n\t(calc-auto-recompute):\n\t* lisp/calc/calc-prog.el (calc-user-define-invocation)\n\t(math-do-arg-check):\n\t* lisp/calc/calc-store.el (calc-edit-variable):\n\t* lisp/calc/calc-units.el (math-build-units-table-buffer):\n\t* lisp/calc/calc-vec.el (math-read-brackets):\n\t* lisp/calc/calc-yank.el (calc-edit-mode):\n\t* lisp/calc/calc.el (calc, calc-do, calc-user-invocation):\n\tUse curved quotes in diagnostic format strings.\n\t* lisp/calc/calc-help.el (calc-describe-thing):\n\tFormat docstrings with substitute-command-keys.\n\t* lisp/calc/calc-help.el (calc-j-prefix-help):\n\t* lisp/calc/calc-misc.el (calc-help):\n\t* lisp/calc/calc-ext.el (calc-shift-Z-prefix-help):\n\tEscape a docstring \"`\".\n\n2015-08-21  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix documentation of 'menu-set-font' and 'set-frame-font'\n\t* lisp/menu-bar.el (menu-set-font): Doc fix.  (Bug#21303)\n\t* doc/lispref/frames.texi (Frame Font): Document that\n\tset-frame-font with the last argument 't' will also make the font\n\tthe default for the future GUI frames.\n\n\tDocument '--create-frame' option to emacsclient\n\t* doc/emacs/misc.texi (emacsclient Options): Document the\n\t'--create-frame' option.  (Bug#21308)\n\n2015-08-21  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/progmodes/js.el (js-mode): Don't eagerly syntax propertize.\n\n2015-08-21  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument 'get-mru-window' in the ELisp manual\n\t* doc/lispref/windows.texi (Cyclic Window Ordering): Document\n\t'get-mru-window'.  (Bug#21306)\n\n\tClarify documentation of 'get-buffer-window-list'\n\t* doc/lispref/windows.texi (Buffers and Windows): Mention that the\n\tcurrent window, if relevant, will be the first in the list\n\treturned by 'get-buffer-window-list'.\n\t* lisp/window.el (get-buffer-window-list): Doc fix.  (Bug#21305)\n\n2015-08-21  Vasilij Schneidermann  <v.schneidermann@gmail.com>\n\n\tIn `ielm' use `pop-to-buffer-same-window' (Bug#20848)\n\t* lisp/ielm.el (ielm): Use `pop-to-buffer-same-window' instead of\n\t`switch-to-buffer'.\n\n2015-08-21  Kaushal Modi  <kaushal.modi@gmail.com>  (tiny change)\n\n\tIn woman.el use `display-buffer' instead of `switch-to-buffer' (Bug#21047)\n\t* lisp/woman.el (woman-really-find-file, WoMan-find-buffer): Use\n\t`display-buffer' instead of `switch-to-buffer'.\n\n2015-08-21  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFollow user preference in calendar diagnostics\n\tRespect text-quoting-style preference in diagnostic formats by\n\tusing curved quotes (which are translated as per text-quoting-style)\n\tinstead of grave accent and apostrophe (which are not).\n\t* lisp/calendar/appt.el (appt-display-message):\n\t* lisp/calendar/diary-lib.el (diary-check-diary-file)\n\t(diary-mail-entries, diary-from-outlook):\n\t* lisp/calendar/icalendar.el (icalendar-export-region)\n\t(icalendar--convert-float-to-ical)\n\t(icalendar--convert-date-to-ical)\n\t(icalendar--convert-ical-to-diary)\n\t(icalendar--convert-recurring-to-diary)\n\t(icalendar--add-diary-entry):\n\t* lisp/calendar/time-date.el (format-seconds):\n\t* lisp/calendar/timeclock.el (timeclock-mode-line-display)\n\t(timeclock-make-hours-explicit):\n\t* lisp/calendar/todo-mode.el (todo-prefix, todo-delete-category)\n\t(todo-item-mark, todo-check-format)\n\t(todo-insert-item--next-param, todo-edit-item--next-key)\n\t(todo-mode):\n\tUse curved quotes in diagnostic format strings.\n\t* lisp/calendar/icalendar.el (icalendar-import-format-sample):\n\t* test/automated/icalendar-tests.el (icalendar--import-format-sample):\n\tJust use straight quoting for simple test case.\n\n2015-08-21  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* src/gfilenotify.c (Fgfile_add_watch):\n\tHandle errors from g_file_monitor.\n\n2015-08-21  Martin Rudalics  <rudalics@gmx.at>\n\n\tIn frames.texi use \"minibuffer-less frame\" instead of \"non-minibuffer frame\"\n\t* doc/lispref/frames.texi (Frame Layout): Use \"minibuffer-less\n\tframe\" instead of \"non-minibuffer frame\".\n\n\tFix frame geometry related text\n\t* doc/lispref/frames.texi (Frame Layout):\n\tRename `x-frame-geometry' to `frame-geometry'.\n\t* doc/lispref/frames.texi (Mouse Position):\n\t* doc/lispref/windows.texi (Coordinates and Windows):\n\tUse `set-mouse-absolute-pixel-position' instead of\n\t`x-set-mouse-absolute-pixel-position'.\n\n\tSanitize frame geometry related functions\n\t* src/nsfns.m (Fx_frame_geometry): Rename to Fns_frame_geometry.\n\t(Fx_frame_edges): Rename to Fns_frame_edges.\n\t* src/w32fns.c (Fx_frame_geometry): Rename to Fw32_frame_geometry.\n\t(Fx_frame_edges): Rename to Fw32_frame_edges.\n\t(Fx_mouse_absolute_pixel_position): Rename to\n\tFw32_mouse_absolute_pixel_position.\n\t(Fx_set_mouse_absolute_pixel_position): Rename to\n\tFw32_set_mouse_absolute_pixel_position.\n\t* lisp/frame.el (x-frame-geometry, w32-frame-geometry)\n\t(ns-frame-geometry, x-frame-edges, w32-frame-edges)\n\t(ns-frame-edges, w32-mouse-absolute-pixel-position)\n\t(x-mouse-absolute-pixel-position)\n\t(w32-set-mouse-absolute-pixel-position)\n\t(x-set-mouse-absolute-pixel-position): Declare.\n\t(frame-geometry, mouse-absolute-pixel-position)\n\t(set-mouse-absolute-pixel-position): New functions.\n\t(frame-edges): Rewrite in terms of x-/w32-/ns-frame-edges.\n\n2015-08-21  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix MinGW64 build broken by latest w32uniscribe.c changes\n\t* src/w32uniscribe.c (UNISCRIBE_OPENTYPE): Define to 0x0100, for\n\tMinGW64.  Reported by Andy Moreton <andrewjmoreton@gmail.com>.\n\t(Bug#21260)\n\n2015-08-21  Tassilo Horn  <tsdh@gnu.org>\n\n\tAdd TeX defaults for prettify-symbol-mode\n\t* lisp/textmodes/tex-mode.el (tex--prettify-symbols-alist):\n\tRename from tex-prettify-symbols-alist.\n\t(tex--prettify-symbols-compose-p): New function.\n\t(tex-common-initialization): Use them as prettify-symbols-alist\n\tand prettify-symbols-compose-predicate.\n\n\tGeneralize prettify-symbols to arbitrary modes\n\t* lisp/progmodes/prog-mode.el\n\t(prettify-symbols-default-compose-p): New function.\n\t(prettify-symbols-compose-predicate): New variable.\n\t(prettify-symbols--compose-symbol): Use it.\n\n2015-08-20  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDon't quote symbols 'like-this' in docstrings etc.\n\t* admin/unidata/uvs.el (uvs-insert-fields-as-bytes):\n\t* lisp/allout-widgets.el (allout-widgets-count-buttons-in-region):\n\t* lisp/allout.el (allout-add-resumptions, allout-mode):\n\t* lisp/calculator.el (calculator-operators):\n\t* lisp/cedet/data-debug.el (dd-propertize):\n\t* lisp/cedet/ede/proj-prog.el (ede-proj-target-makefile-program):\n\t* lisp/cedet/semantic/analyze/debug.el:\n\t(semantic-analyzer-debug-global-miss-text):\n\t* lisp/cedet/semantic/lex-spp.el:\n\t(semantic-lex-spp-replace-or-symbol-or-keyword):\n\t* lisp/cedet/semantic/symref.el:\n\t(semantic-symref-cleanup-recent-buffers-fcn):\n\t* lisp/cedet/semantic/tag.el (semantic-tag-class):\n\t* lisp/cedet/srecode/el.el (srecode-semantic-handle-:el-custom):\n\t* lisp/gnus/nnmairix.el (nnmairix-propagate-marks-upon-close):\n\t* lisp/gnus/pop3.el (pop3-authentication-scheme):\n\t* lisp/help-fns.el (describe-function-orig-buffer):\n\t* lisp/imenu.el (imenu--history-list):\n\t* lisp/mail/feedmail.el (feedmail-confirm-outgoing)\n\t(feedmail-display-full-frame, feedmail-deduce-bcc-where)\n\t(feedmail-queue-default-file-slug)\n\t(feedmail-queue-buffer-file-name):\n\t* lisp/net/mairix.el (mairix-searches-mode-map):\n\t* lisp/net/newst-backend.el (newsticker-retrieval-method)\n\t(newsticker-auto-mark-filter-list):\n\t* lisp/obsolete/vi.el (vi-mode):\n\t* lisp/progmodes/cc-engine.el (c-literal-type):\n\t* lisp/progmodes/cpp.el (cpp-face):\n\t* lisp/progmodes/ebrowse.el (ebrowse-electric-list-looper):\n\t* lisp/progmodes/elisp-mode.el (elisp--xref-make-xref):\n\t* lisp/progmodes/pascal.el (pascal-auto-lineup):\n\t* lisp/progmodes/prog-mode.el (prog-widen):\n\t* lisp/progmodes/verilog-mode.el (verilog-regexp-words)\n\t(verilog-auto-lineup, verilog-auto-reset-widths)\n\t(verilog-auto-arg-format, verilog-auto-inst-template-numbers):\n\t* lisp/textmodes/flyspell.el (flyspell-maybe-correct-transposition)\n\t(flyspell-maybe-correct-doubling):\n\t* lisp/textmodes/table.el (table-justify, table-justify-cell)\n\t(table-justify-row, table-justify-column, table-insert-sequence)\n\t(table--justify-cell-contents):\n\t* lisp/url/url-auth.el (url-get-authentication):\n\t* lisp/window.el (display-buffer-record-window):\n\t* lisp/xml.el (xml-parse-file, xml-parse-region):\n\t* src/gfilenotify.c (Fgfile_add_watch):\n\tDon't quote symbols with apostrophes in doc strings.\n\tUse asymmetric quotes instead.\n\t* lisp/cedet/semantic/complete.el (semantic-displayor-show-request):\n\tLikewise for symbol in diagnostic.\n\t* lisp/image.el (image-extension-data):\n\t* lisp/register.el (frame-configuration-to-register):\n\t* src/buffer.c (syms_of_buffer):\n\tRemove bogus apostrophes after symbols.\n\t* lisp/thumbs.el (thumbs-conversion-program):\n\tQuote Lisp string values using double-quotes, not apostrophes.\n\n2015-08-20  Martin Rudalics  <rudalics@gmx.at>\n\n\tDescribe frame geometry and related functions in Elisp manual\n\t* doc/lispref/display.texi (Size of Displayed Text, Line Height)\n\t(Showing Images): Update references.\n\t* doc/lispref/elisp.texi (Top): Update node listing.\n\t* doc/lispref/frames.texi (Frame Geometry): New node.\n\tMove `Size and Position' section here.\n\t(Size Parameters): Update references.\n\t(Mouse Position): Update references and nomenclature.\n\tDescribe new functions `x-mouse-absolute-pixel-position' and\n\t`x-set-mouse-absolute-pixel-position'.\n\t* doc/lispref/windows.texi (Window Sizes): Update references.\n\t(Resizing Windows): Update references.  Move description of\n\t`fit-frame-to-buffer' here.\n\t(Coordinates and Windows): Update nomenclature and references.\n\tDescribe new arguments of `window-edges'.  Comment out\n\tdescriptions of `window-left-column', `window-top-line',\n\t`window-pixel-left' and `window-pixel-top'.  Describe\n\t`window-absolute-pixel-position'.\n\n2015-08-20  Alan Mackenzie  <acm@muc.de>\n\n\tHandling of `c-parse-state'.  Fix low level bug.\n\t* lisp/progmodes/cc-engine.el (c-remove-stale-state-cache-backwards):\n\tAdd \"CASE 3.5\" to handle `cache-pos' being only slightly before `here'.\n\n2015-08-20  Andreas Politz  <politza@hochschule-trier.de>\n\n\t* lisp/wid-edit.el (widget-color--choose-action): Quit *Color*\n\twindow instead of deleting it.\n\n2015-08-20  Martin Rudalics  <rudalics@gmx.at>\n\n\tIn w32fns.c's Fx_frame_geometry rewrite check whether frame has a titlebar\n\t* src/w32fns.c (Fx_frame_geometry): Use title_bar.rgstate[0] to\n\tdetermine whether frame has a titlebar.\n\tSuggested by Eli Zaretskii <eliz@gnu.org>\n\n2015-08-20  Tassilo Horn  <tsdh@gnu.org>\n\n\tAdd a prettify-symbols-alist for (La)TeX\n\t* lisp/textmodes/tex-mode.el (tex-prettify-symbols-alist):\n\tNew variable holding an alist suitable as prettify-symbols-alist in\n\t(La)TeX modes.\n\n2015-08-19  Alan Mackenzie  <acm@muc.de>\n\n\tMake electric-pair-mode, delete-selection-mode and CC Mode cooperate.\n\tFixes debbugs#21275.\n\tIn Emacs >= 25, let electric-pair-mode take precedence over\n\tdelete-selection-mode.\n\t* lisp/delsel.el (delete-selection-uses-region-p): New function,\n\tpreviously a lambda expression in a property value for\n\t`self-insert-command'.\n\t(top-level): Set the `delete-selection' property of\n\t`self-insert-command' to `delete-selection-uses-region-p'.\n\t* lisp/progmodes/cc-cmds.el (top-level): Give the `delete-selection'\n\tproperty for c-electric-\\(brace\\|paren\\) the value\n\t`delete-selection-uses-region-p' when the latter function exists.\n\n2015-08-19  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix key binding quoting in tutorial *Help*\n\t* lisp/tutorial.el (tutorial--describe-nonstandard-key):\n\tWhen generating help for custom key bindings, use the user-preferred\n\tquoting style rather than hardcoding the grave style.\n\n2015-08-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove and future-proof OTF fonts support in w32uniscribe.c\n\t* src/w32uniscribe.c (uniscribe_otf_capability): Add commentary\n\tabout the expected results and why the new Uniscribe APIs are not\n\tused in this function.\n\t(ScriptGetFontScriptTags_Proc, ScriptGetFontLanguageTags_Proc)\n\t(ScriptGetFontFeatureTags_Proc): New function typedefs.\n\t(uniscribe_new_apis): New static variable.\n\t(uniscribe_check_features): New function, implements OTF features\n\tverification while correctly accounting for features in the list\n\tafter the nil member, if any.\n\t(uniscribe_check_otf_1): New function, retrieves the features\n\tsupported by the font for the requested script and language using\n\tthe Uniscribe APIs available from Windows Vista onwards.\n\t(uniscribe_check_otf): If the new Uniscribe APIs are available,\n\tuse them in preference to reading the font data directly.  Call\n\tuniscribe_check_features to verify that the requested features are\n\tsupported, replacing the original incomplete code.\n\t(syms_of_w32uniscribe): Initialize function pointers for the new\n\tUniscribe APIs.  (Bug#21260)\n\t(otf_features): Scan the script, langsys, and feature arrays back\n\tto front, so that the result we return has them in alphabetical\n\torder, like ftfont.c does.\n\t* src/w32fns.c (syms_of_w32fns) <w32-disable-new-uniscribe-apis>:\n\tNew variable for debugging w32uniscribe.c code.\n\n2015-08-19  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/isearch.el (isearch-search-fun-default): Revert a5bdb87\n\tRemove usage of `isearch-lax-whitespace' inside the `iearch-word'\n\tclause of `isearch-search-fun-default'.  That lax variable does not\n\trefer to lax-whitespacing.  Related to (bug#21777).\n\tThis reverts commit a5bdb872edb9f031fe041faf9a8c0be432e5f64c.\n\t* lisp/character-fold.el (character-fold-search): Set to nil.\n\tDefault to nil for now, until someone implements proper\n\tlax-whitespacing with char-fold searching.\n\n2015-08-19  Martin Rudalics  <rudalics@gmx.at>\n\n\tFix doc-string of `help-mode-finish'.\n\t* lisp/help-mode.el (help-mode-finish): Fix doc-string.\n\n\tIn nsimage.m include coding.h (Bug#21292)\n\t* src/nsimage.m (top-level): Include coding.h (Bug#21292).\n\n\tMove window edge functions to Elisp.\n\t* src/window.c (Fwindow_edges, Fwindow_pixel_edges)\n\t(Fwindow_absolute_pixel_edges, Fwindow_inside_edges)\n\t(Fwindow_inside_pixel_edges, Fwindow_inside_absolute_pixel_edges):\n\tMove to window.el.\n\t(calc_absolute_offset): Remove.\n\t* lisp/frame.el (frame-edges): New function.\n\t* lisp/window.el (window-edges, window-pixel-edges)\n\t(window-absolute-pixel-edges): Move here from window.c.\n\t(window-body-edges, window-body-pixel-edges)\n\t(window-absolute-body-pixel-edges): Move here from window.c and\n\trename \"inside\" to \"body\".  Keep old names as aliases.\n\t(window-absolute-pixel-position): New function.\n\n2015-08-19  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\t[Gnus]: Use overlay functions directly\n\t* lisp/gnus/gnus-art.el (gnus-mime-inline-part, gnus-mm-display-part)\n\t(gnus-insert-mime-button, gnus-mime-buttonize-attachments-in-header)\n\t(gnus-article-highlight-signature, gnus-article-extend-url-button)\n\t(gnus-article-add-button, gnus-insert-prev-page-button)\n\t(gnus-insert-next-page-button, gnus-insert-mime-security-button):\n\t* lisp/gnus/gnus-cite.el (gnus-cite-delete-overlays)\n\t(gnus-cite-add-face):\n\t* lisp/gnus/gnus-html.el (gnus-html-wash-tags):\n\t* lisp/gnus/gnus-salt.el (gnus-tree-read-summary-keys)\n\t(gnus-tree-recenter, gnus-highlight-selected-tree):\n\t* lisp/gnus/gnus-sum.el (gnus-summary-show-all-threads)\n\t(gnus-summary-show-thread, gnus-summary-hide-thread)\n\t(gnus-highlight-selected-summary):\n\t* lisp/gnus/gnus-util.el (gnus-put-overlay-excluding-newlines):\n\t* lisp/gnus/message.el (message-fix-before-sending)\n\t(message-toggle-image-thumbnails):\n\t* lisp/gnus/mm-decode.el (mm-convert-shr-links):\n\t* lisp/gnus/sieve.el (sieve-highlight, sieve-insert-scripts):\n\tUse overlay functions directly instead of using gnus-overlay-*,\n\tmessage-overlay-*, and sieve-overlay-*.\n\t* lisp/gnus/gnus-sum.el (gnus-remove-overlays):\n\t* lisp/gnus/gnus.el (gnus-make-overlay, gnus-copy-overlay)\n\t(gnus-delete-overlay, gnus-overlay-get, gnus-overlay-put)\n\t(gnus-move-overlay, gnus-overlay-buffer, gnus-overlay-start)\n\t(gnus-overlay-end, gnus-overlays-at, gnus-overlays-in):\n\t* lisp/gnus/message.el (message-delete-overlay, message-make-overlay)\n\t(message-overlay-get, message-overlay-put, message-overlays-in):\n\t* lisp/gnus/sieve.el (sieve-make-overlay, sieve-overlay-put)\n\t(sieve-overlays-at): Remove.\n\n2015-08-19  Martin Rudalics  <rudalics@gmx.at>\n\n\tIn w32fns.c condition TITLEBAR_INFO declaration on WINDOWS version\n\t* src/w32fns.c (TITLEBAR_INFO): Make it a typedef so MinGW64\n\tbuilds can use the declaration from the system headers.\n\t(GetTitleBarInfo_Proc, Fx_frame_geometry): Adapt to new\n\tdefinition of TITLEBAR_INFO.\n\tSuggested by Eli Zaretskii  <eliz@gnu.org>\n\n2015-08-19  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/gnus/nnmaildir.el (nnmaildir-flag-mark-mapping): Add \"P\".\n\n2015-08-19  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tUse new q \u2018format\u2019 flag when fixing quotes in C\n\t* src/image.c (image_size_error): New function.  All uses of\n\timage_error with \"Invalid image size ...\"  changed to use it.\n\t* src/image.c (image_size_error, xbm_load_image, xbm_load)\n\t(xpm_load, xpm_load_image, xpm_load, pbm_load, png_load_body)\n\t(jpeg_load_body, tiff_load, gif_load, imagemagick_load_image)\n\t(imagemagick_load, svg_load, svg_load_image, gs_load)\n\t(x_kill_gs_process):\n\t* src/lread.c (load_warn_old_style_backquotes):\n\t* src/xfaces.c (load_pixmap):\n\t* src/xselect.c (x_clipboard_manager_error_1):\n\tUse %qs, not uLSQM and uRSQM.\n\t* src/syntax.c (Finternal_describe_syntax_value):\n\tPrefer Fsubstitute_command_keys to Fformat, as this lets\n\tus use AUTO_STRING.\n\t* src/xdisp.c (vadd_to_log): Use AUTO_STRING on the format argument,\n\tas it's now guaranteed to be ASCII.\n\t* src/xselect.c (x_clipboard_manager_error_2):\n\tAvoid grave accent in low-level stderr diagnostic.\n\n2015-08-19  Paul Eggert  <eggert@Penguin.CS.UCLA.EDU>\n\n\tNew q flag for \u2018format\u2019\n\t* doc/lispref/processes.texi (Sentinels):\n\tDon't hardwire grave quoting style in example.\n\t* doc/lispref/strings.texi (Formatting Strings):\n\t* etc/NEWS:\n\tDocument new q flag.\n\t* src/editfns.c (Fformat): Implement it.\n\n2015-08-18  Daiki Ueno  <ueno@gnu.org>\n\n\tpinentry.el: Add debugging support\n\t* lisp/net/pinentry.el (pinentry-debug): New variable.\n\t(pinentry-debug-buffer): New variable.\n\t(pinentry--process-filter): Send input to the debug buffer, if\n\t`pinentry-debug' is set.\n\n\tpinentry.el: Improve multiline prompt\n\t* lisp/net/pinentry.el (pinentry--prompt): Simplify the interface.\n\t(pinentry--process-filter): Use `pinentry--prompt' for CONFIRM\n\tcommand.\n\n2015-08-18  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix multibyte confusion in diagnostics\n\t* src/print.c (print_error_message):\n\tDon't assume that the caller's name is unibyte.\n\t* src/xdisp.c (vadd_to_log):\n\tDon't assume that the formatted diagnostic is unibyte.\n\n\tFix file name encodings in diagnostics\n\tAlso, close some minor races when opening image files, by opening\n\tthem once instead of multiple times.\n\t* src/gtkutil.c (xg_get_image_for_pixmap):\n\t* src/image.c (xpm_load, tiff_load, gif_load, imagemagick_load)\n\t(svg_load):\n\t* src/nsimage.m (allocInitFromFile:):\n\t* src/xfns.c (xg_set_icon):\n\tEncode file name, since x_find_image_file no longer does that.\n\t* src/image.c (x_find_image_fd): New function.\n\t(x_find_image_file): Use it.  Do not encode resulting file name,\n\tsince callers sometimes need it decoded.\n\t(slurp_file): File arg is now a fd, not a file name.\n\tAll callers changed.  This saves us having to open the file twice.\n\t(xbm_load, xpm_load, pbm_load, png_load_body, jpeg_load_body)\n\t(svg_load):\n\tUse x_find_image_fd and fdopen to save a file-open.\n\tReport file name that failed.\n\t* src/lread.c (openp): If PREDICATE is t, open the file in binary mode.\n\n2015-08-18  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tAllow blink-matching-paren to jump off screen\n\t* doc/emacs/programs.texi (Matching): Mention the\n\t`blink-matching-paren' value `jump-offscreen'.\n\t* lisp/simple.el (blink-matching-paren): New possible value.\n\t(blink-matching-paren-on-screen): Clarify the docstring.\n\t(blink-matching-open): Handle `jump-offscreen' (bug#21286).\n\n\tRefine the previous change\n\t* lisp/simple.el (blink-matching-open): Use minibuffer-message\n\toutside of save-excursion (bug#21286).\n\n2015-08-18  Martin Rudalics  <rudalics@gmx.at>\n\n\tRewrite and add frame geometry related functions.\n\t* src/frame.c (Fframe_position): New function.\n\t(Fset_frame_position): Rename parameters and rewrite doc-string.\n\t(syms_of_frame): Remove Qframe_position, Qframe_outer_size,\n\tQtitle_height and Qframe_inner_size.  Add Qouter_edges,\n\tQouter_position, Qouter_size, Qnative_edges, Qinner_edges,\n\tQtitle_bar_size.\n\t* src/nsfns.m (frame_geometry): New function.\n\t(Fx_frame_geometry): Call frame_geometry.\n\t(Fx_frame_edges): New function.\n\t* src/w32fns.c (C_CHILDREN_TITLEBAR, TITLEBAR_INFO)\n\t(GetTitleBarInfo_Proc): Define these so we can use the\n\tGetTitleBarInfo API.\n\t(Fw32_frame_menu_bar_size, Fw32_frame_rect): Remove.\n\t(Fx_frame_geometry): Rewrite.\n\t(Fx_frame_edges, Fx_mouse_absolute_pixel_position)\n\t(Fx_set_mouse_absolute_pixel_position): New functions.\n\t* src/xfns.c (frame_geometry): New function.\n\t(Fx_frame_geometry): Call frame_geometry.\n\t(Fx_frame_edges, Fx_mouse_absolute_pixel_position)\n\t(Fx_set_mouse_absolute_pixel_position): New functions.\n\n2015-08-18  Michael Albinus  <michael.albinus@gmx.de>\n\n\tImprove Tramp's compatibility\n\t* lisp/net/tramp.el (tramp-get-method-parameter):\n\t* lisp/net/tramp-adb.el (tramp-adb-parse-device-names)\n\t(tramp-adb-get-device):\n\t* lisp/net/trampver.el (tramp-repository-get-version):\n\tUse `tramp-compat-replace-regexp-in-string'.\n\n2015-08-18  Pierre T\u00e9choueyres  <pierre.techoueyres@free.fr>  (tiny change)\n\n\t* lisp/net/tramp-cmds.el (tramp-reporter-dump-variable):\n\tEncode/decode string.\n\n2015-08-18  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tClarify what happens to match data on failure\n\tProblem reported by Ernesto Alfonso (Bug#21279).\n\t* doc/lispref/searching.texi (Regexp Search, Simple Match Data):\n\tDocument more carefully what happens to match data after a failed\n\tsearch.\n\t* src/search.c (Fmatch_beginning, Fmatch_end): Document that\n\tthe return value is undefined if the last search failed.\n\t(Fmatch_data): Simplify doc string line 1.\n\n2015-08-18  Daiki Ueno  <ueno@gnu.org>\n\n\tRevert \"pinentry.el: Support external passphrase cache\"\n\tThis reverts commit e086e55a664ec27fbca7b3231c4b32cb78a89337.\n\tpinentry.el shouldn't directly interact with the secrets service,\n\tbut ask the caller to cache the passphrase.\n\n2015-08-17  Xue Fuqiao  <xfq.free@gmail.com>\n\n\t* doc/emacs/sending.texi (Mail Misc): Fix two index entries for\n\tMessage mode hooks.\n\n2015-08-17  Daiki Ueno  <ueno@gnu.org>\n\n\tepg.el: Make gpgconf output parsing future proof\n\t* lisp/epg.el (epg--start): Count the number of fields in \"gpgconf\n\t--list-options\" output.\n\n\tpinentry.el: Support external passphrase cache\n\t* lisp/net/pinentry.el (pinentry-use-secrets): New user option.\n\t(pinentry--allow-external-password-cache): New local variable.\n\t(pinentry--key-info): New local variable.\n\t(secrets-enabled, secrets-search-items, secrets-get-secret):\n\tDeclare.\n\t(pinentry--send-passphrase): New function, split from\n\t`pinentry--process-filter'.\n\t(pinentry--process-filter): Use secrets.el to retrieve passphrase\n\tfrom login keyring.\n\n\tpinentry.el: Popup window for multiline prompt\n\t* lisp/net/pinentry.el (pinentry): New custom group.\n\t(pinentry-popup-prompt-window): New user option.\n\t(pinentry-prompt-window-height): New user option.\n\t(pinentry--prompt-buffer): New variable.\n\t(pinentry-prompt-mode-map): New variable.\n\t(pinentry-prompt-mode): New function.\n\t(pinentry--prompt): New function.\n\t(pinentry--process-filter): Use `pinentry--prompt' instead of\n\t`read-passwd' and `y-or-n-p'.\n\n2015-08-17  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\tmessage.el: Silent the byte compiler\n\t* lisp/gnus/message.el (message-overlay-put, message-make-overlay)\n\t(message-kill-all-overlays, message-overlays-in, message-overlay-get)\n\t(message-delete-overlay, message-window-inside-pixel-edges):\n\tDeclare before using.\n\n\t* lisp/gnus/message.el (message-overlay-get, message-overlays-in)\n\t(message-window-inside-pixel-edges): XEmacs compatible functions.\n\n2015-08-17  Lars Magne Ingebrigtsen  <larsi@gnus.org>\n\n\t* lisp/gnus/message.el (message-toggle-image-thumbnails): New command.\n\n2015-08-17  Noah Friedman  <friedman@splode.com>\n\n\t* lisp/simple.el (blink-matching-open): Restore point before\n\tcalling minibuffer-message.\n\n2015-08-17  Ronnie Schnell  <ronnie@driver-aces.com>\n\n\t* lisp/play/dunnet.el: Update version number in header (now\n\tmatches help).\n\n2015-08-17  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tCurved quotes in --batch diagnostics in non-UTF-8\n\tWhen run with --batch, check that curved quotes are compatible with\n\tthe system locale before outputting them in diagnostics.\n\tProblem reported by Eli Zaretskii in:\n\thttps://lists.gnu.org/r/emacs-devel/2015-08/msg00594.html\n\t* lisp/startup.el (command-line): Set internal--text-quoting-flag\n\tafter the standard display table is initialized.\n\t* src/doc.c (default_to_grave_quoting_style): New function.\n\t(text_quoting_style): Use it.\n\t(text_quoting_flag): New static var, visible to Lisp as\n\tinternal--text-quoting-flag.\n\t* src/emacs.c: Include <wchar.h> if available.\n\t(using_utf8): New function.\n\t(main): Use it to initialize text_quoting_flag.\n\t* src/regex.h (btowc) [WIDE_CHAR_SUPPORT && emacs]:\n\tDon't define, as it's not needed and it clashes with wchar.h.\n\n2015-08-17  Glenn Morris  <rgm@gnu.org>\n\n\t* doc/misc/tramp.texi (Configuration): Reword to avoid warning\n\tfrom makeinfo about spurious \"Note:\" cross-reference, and for grammar.\n\n2015-08-17  Ilya Zakharevich  <ilya@math.berkeley.edu>\n\n\tMinor change in variable initialization on MS-Windows\n\t* src/w32fns.c <after_dead_key>: Initialize to -1.\n\t(deliver_wm_chars): If after_deadkey is zero, don't set after_dead\n\tnon-zero.\n\n\tFix a bug with LWindow key remapping on MS-Windows\n\t* src/w32fns.c (deliver_wm_chars): Fix a typo.  (Bug#21276)\n\n2015-08-17  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove fontset support for latest OTF script tags\n\t* lisp/international/fontset.el (otf-script-alist): Add some\n\tmissing script tags.\n\t(setup-default-fontset): Include settings for v2 versions of the\n\tscript tags used by some modern OTF/TTF fonts.\n\n2015-08-17  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSpelling fixes\n\n2015-08-16  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tUse curved quotes in core elisp diagnostics\n\tIn the core elisp files, use curved quotes in diagnostic formats,\n\tso that they follow user preference as per \u2018text-quoting-style\u2019\n\trather than being hard-coded to quote `like this'.\n\t* lisp/abbrev.el (expand-region-abbrevs):\n\t* lisp/button.el (button-category-symbol, button-put)\n\t(make-text-button):\n\t* lisp/cus-start.el:\n\t* lisp/custom.el (custom-add-dependencies, custom-check-theme)\n\t(custom--sort-vars-1, load-theme):\n\t* lisp/emacs-lisp/byte-run.el (defun, defsubst):\n\t* lisp/emacs-lisp/cl-generic.el (cl-defgeneric)\n\t(cl-generic-generalizers):\n\t* lisp/emacs-lisp/macroexp.el (macroexp--obsolete-warning):\n\t* lisp/emacs-lisp/map-ynp.el (map-y-or-n-p):\n\t* lisp/emacs-lisp/nadvice.el (advice--make-docstring)\n\t(advice--make, define-advice):\n\t* lisp/emacs-lisp/tabulated-list.el (tabulated-list-put-tag):\n\t* lisp/emacs-lisp/timer.el (timer-event-handler):\n\t* lisp/env.el (setenv):\n\t* lisp/facemenu.el (facemenu-add-new-face)\n\t(facemenu-add-new-color):\n\t* lisp/faces.el (face-documentation, read-face-name)\n\t(face-read-string, read-face-font, face-spec-set-match-display)\n\t(read-color, x-resolve-font-name):\n\t* lisp/files.el (locate-user-emacs-file, find-alternate-file)\n\t(set-auto-mode, hack-local-variables)\n\t(hack-one-local-variable--obsolete)\n\t(dir-locals-set-directory-class, write-file)\n\t(basic-save-buffer, delete-directory, copy-directory)\n\t(recover-session, recover-session-finish, insert-directory)\n\t(file-modes-char-to-who, file-modes-symbolic-to-number)\n\t(move-file-to-trash):\n\t* lisp/font-lock.el (font-lock-fontify-buffer):\n\t* lisp/format.el (format-write-file, format-find-file)\n\t(format-insert-file):\n\t* lisp/frame.el (get-device-terminal, select-frame-by-name):\n\t* lisp/fringe.el (fringe--check-style):\n\t* lisp/help.el (describe-minor-mode-from-indicator):\n\t* lisp/image.el (image-type):\n\t* lisp/international/fontset.el (x-must-resolve-font-name):\n\t* lisp/international/mule-cmds.el (prefer-coding-system)\n\t(select-safe-coding-system-interactively)\n\t(select-safe-coding-system, activate-input-method)\n\t(toggle-input-method, describe-current-input-method):\n\t* lisp/international/mule-conf.el (code-offset):\n\t* lisp/mouse.el (minor-mode-menu-from-indicator):\n\t* lisp/replace.el (query-replace-read-from)\n\t(occur-after-change-function, occur-1):\n\t* lisp/scroll-bar.el (scroll-bar-columns):\n\t* lisp/simple.el (execute-extended-command)\n\t(undo-outer-limit-truncate, compose-mail, set-variable)\n\t(choose-completion-string, define-alternatives):\n\t* lisp/startup.el (site-run-file, tty-handle-args)\n\t(command-line, command-line-1):\n\t* lisp/subr.el (noreturn, define-error, add-to-list)\n\t(read-char-choice):\n\t* lisp/term/common-win.el (x-handle-xrm-switch)\n\t(x-handle-name-switch, x-handle-args):\n\t* lisp/term/x-win.el (x-handle-parent-id, x-handle-smid):\n\tUse curved quotes in diagnostics.\n\t* lisp/international/mule.el (find-auto-coding):\n\tUse \" to quote in a diagnostic, to be consistent with the rest of\n\tthis file.\n\n\tConvert lisp/term/x-win.el to UTF-8\n\t* lisp/term/x-win.el: Convert to UTF-8.  This doesn't affect\n\truntime behavior, and the file is multilingual so compile-time\n\tappearance shouldn't be an issue.\n\t* admin/notes/unicode: Document this.\n\n2015-08-16  Wilson Snyder  <wsnyder@wsnyder.org>\n\n\tUpdate verilog-mode.el to 2015-05-14-6232468-vpo-GNU.\n\t* lisp/progmodes/verilog-mode.el: Fix some non-automated indent\n\tissues and comments, bug#943.\n\t(verilog-type-font-keywords): Cycle delay operators like ##1 and\n\t##[0:$] are now highlighted in their entirety similarly to the #\n\tdelay-control operator.  Likewise, the followed-by operators #-#\n\tand #=# are no longer partially highlighed.\n\t(verilog-backward-syntactic-ws-quick)\n\t(verilog-skip-backward-comments): Minor performance improvements\n\tto buffer traversal functions for reduced latency.\n\t(verilog-calc-1, verilog-in-deferred-immediate-final-p): When the\n\tkeyword 'final' follows 'assert/assume/cover', then it is part of\n\ta deferred immediate assertion item and should not be treated as a\n\tfinal construct for indentation.  Reported by Yuri Sugihara.\n\t(verilog-do-indent): Virtual task/function/class definition lines\n\tshould not be considered as declarations.  Reported by Enzo Chi.\n\t(verilog-do-indent): Do not falsely indent to '=' of\n\tproperty/sequence operators on subsequent lines of a multi-line\n\tstatement.\n\t(verilog-assignment-operator-re): Fix '!==' operator and add\n\tsupport for '<->', ':/', '#-#', and '#=#' operators.\n\t(verilog-calculate-indent, verilog-label-be): Enable\n\tcase-sensitive regular expression parsing when looking for\n\tkeywords.\n\t(verilog-calc-1): Detect 'pure virtual method' declarations which\n\texist in abstract classes.  Reported by Enzo Chi and Kaushal Modi.\n\t(verilog-backward-ws&directives): When moving back to the start of\n\ta line and the preceding line ended with an escaped-newline, then\n\tjump up one line.  This properly consumes a multi-line\n\tpre-processor directive.  Reported by Kaushal Modi.\n\t(verilog-dpi-import-export-re, verilog-extended-complete-re)\n\t(verilog-calc-1): Teach verilog-mode to properly indent after a\n\tDPI import/export statement that resides outside of a module.\n\tReported by Kaushal Modi.\n\t(verilog-extended-complete-re): Update regexp to match both\n\t\"DPI-C\" and \"DPI\".  Reported by Kaushal Modi.\n\n2015-08-15  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tsubstitute-command-keys a few more doc strings\n\t* lisp/allout.el (outlineify-sticky):\n\t* lisp/files.el (hack-one-local-variable--obsolete):\n\t* lisp/help-fns.el (help-fns--obsolete, describe-variable):\n\tUse substitute-command-keys on some doc strings so that\n\tthey don't use hard-coded key bindings or quoting styles.\n\n\tFix quoting in Fformat calls\n\t* src/image.c (xbm_read_bitmap_data, xbm_load_image, xbm_load)\n\t(xpm_load, xpm_load_image, pbm_load, png_load_body)\n\t(jpeg_load_body, tiff_load, gif_load, imagemagick_load_image)\n\t(imagemagick_load, svg_load, svg_load_image, gs_load)\n\t(x_kill_gs_process):\n\t* src/lread.c (load_warn_old_style_backquotes):\n\t* src/xfaces.c (load_pixmap):\n\t* src/xselect.c (x_clipboard_manager_error_1):\n\tQuote diagnostics according to user preference when calling\n\tFformat or its derivatives.\n\n2015-08-15  Glenn Morris  <rgm@gnu.org>\n\n\t* admin/admin.el (set-version, set-copyright): Remove deleted files.\n\n2015-08-15  Stephen Leake  <stephen_leake@stephe-leake.org>\n\n\tAllow describe-function helpers to access buffer-local values\n\tThis will be used by cedet/mode-local.el `describe-mode-local-override'\n\ton `help-fns-describe-function-functions' in upstream CEDET.\n\t* lisp/help-fns.el (describe-function-orig-buffer): New, let-bound in\n\t`describe-function'.\n\t(describe-function): Bind it, save it on the help xref stack.\n\n\tHandle pulse-background being nil\n\t* lisp/cedet/pulse.el (pulse-lighten-highlight): Inherit\n\tpulse-background, handle it being nil.\n\n2015-08-15  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix \"\\`\" confusion in Lisp strings\n\t* admin/authors.el (authors-canonical-author-name):\n\tFix typo by using \"\\\\`\" not \"\\`\" in string RE.\n\t* lisp/obsolete/complete.el (PC-complete-as-file-name):\n\t* lisp/obsolete/vi.el (vi-backward-blank-delimited-word):\n\t* lisp/progmodes/verilog-mode.el (verilog-mode-map):\n\tUse plain \"`\", not the equivalent-but-confusing \"\\`\", in strings.\n\t* lisp/textmodes/texinfmt.el: Fix comment likewise.\n\n2015-08-15  Dani Moncayo  <dmoncayo@gmail.com>\n\n\t* nt/zipdist.bat: Remove -- no longer used.\n\n2015-08-15  J\u00fcrgen H\u00f6tzel  <juergen@archlinux.org>\n\n\t* lisp/net/tramp-sh.el (tramp-remote-selinux-p): Use \"selinuxenabled\"\n\trather than \"getenforce\".\n\t(tramp-sh-handle-set-file-selinux-context): Do not\n\tcache SELinux context if not all context components are given.\n\n2015-08-15  Eli Zaretskii  <eliz@gnu.org>\n\n\tAdd doc strings to 2 help-mode.el functions\n\t* lisp/help-mode.el (help-mode-setup, help-mode-finish): Add doc\n\tstrings.  (Bug#21263)\n\n\tRemove files used by the old MS-Windows specific build procedure\n\t* admin/unidata/makefile.w32-in:\n\t* doc/emacs/makefile.w32-in:\n\t* doc/lispintro/makefile.w32-in:\n\t* doc/lispref/makefile.w32-in:\n\t* doc/misc/makefile.w32-in:\n\t* leim/makefile.w32-in:\n\t* lib-src/makefile.w32-in:\n\t* lib/makefile.w32-in:\n\t* lisp/makefile.w32-in:\n\t* nt/INSTALL.OLD:\n\t* nt/config.nt:\n\t* nt/emacs-src.tags:\n\t* nt/envadd.bat:\n\t* nt/gmake.defs:\n\t* nt/makefile.w32-in:\n\t* nt/multi-install-info.bat:\n\t* nt/nmake.defs:\n\t* nt/paths.h:\n\t* src/makefile.w32-in: Files deleted.\n\t* nt/configure.bat: Remove everything except the blurb about the\n\tnew build procedure.\n\t* make-dist: Remove references to makefile.w32-in in various\n\tdirectories, and to files in nt/ that were deleted.\n\t* etc/NEWS: Mention the fact that the files were dropped.\n\n2015-08-15  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* doc/emacs/mule.texi (Charsets): Give fuller title for ISO-IR.\n\t(Bug#21248)\n\n2015-08-14  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDefault to inotify instead of gfile\n\t* configure.ac (with_file_notification): Fix typo that\n\tprevented suppression of file notification if HAVE_NS.\n\t(NOTIFY_OBJ): Prefer inotify to gfile if both exist and\n\twith_file_notification is 'yes' (Bug#21241).\n\t* etc/NEWS: Mention this.\n\n\tFix broken URLs for ISO-IR\n\t* doc/emacs/mule.texi (Charsets):\n\t* lisp/international/mule-conf.el:\n\tFix broken URL (Bug#21248).\n\n\tLow-level diagnostics now use \u2018text-quoting-style\u2019\n\t* src/doprnt.c (doprnt):\n\tFormat ` and ' as per \u2018text-quoting-style\u2019.\n\t* src/xdisp.c (vmessage, message): Mention that the format should\n\tnot contain ` or '.\n\n\tPrefer \u2018format\u2019 to \u2018substitute-command-keys\u2019\n\t* src/character.h (uLSQM, uRSQM): Move here ...\n\t* src/doc.c (uLSQM, uRSQM): ... from here.\n\t* src/doc.c (Fsubstitute_command_keys):\n\t* src/syntax.c (Finternal_describe_syntax_value):\n\t* lisp/cedet/mode-local.el (mode-local-print-binding)\n\t(mode-local-describe-bindings-2):\n\t* lisp/cedet/srecode/srt-mode.el (srecode-macro-help):\n\t* lisp/cus-theme.el (describe-theme-1):\n\t* lisp/descr-text.el (describe-text-properties-1, describe-char):\n\t* lisp/emacs-lisp/cl-extra.el (cl--describe-class):\n\t* lisp/emacs-lisp/cl-generic.el (cl--generic-describe):\n\t* lisp/emacs-lisp/eieio-opt.el (eieio-help-constructor):\n\t* lisp/emacs-lisp/package.el (describe-package-1):\n\t* lisp/faces.el (describe-face):\n\t* lisp/help-fns.el (help-fns--key-bindings)\n\t(help-fns--compiler-macro, help-fns--parent-mode)\n\t(help-fns--obsolete, help-fns--interactive-only)\n\t(describe-function-1, describe-variable):\n\t* lisp/help.el (describe-mode):\n\tPrefer \u2018format\u2019 to \u2018substitute-command-keys\u2019 when either will do\n\tto implement quoting style.  This generally makes the code simpler.\n\n\tExtend \u2018format\u2019 to translate curved quotes\n\tThis is a followup to the recent doc string change, and deals with\n\tdiagnostics and the like.  This patch is more conservative than\n\tthe doc string change, in that the behavior of \u2018format\u2019 changes\n\tonly if its first arg contains curved quotes and the user prefers\n\tstraight or grave quotes.  (Come to think of it, perhaps we should\n\tbe similarly conservative with doc strings too, but that can wait.)\n\tThe upside of this conservatism is that existing usage is almost\n\tsurely unaffected.  The downside is that we'll eventually have to\n\tchange Emacs's format strings to use curved quotes in places where\n\tthe user might want curved quotes, but that's a simple and\n\tmechanical translation that I'm willing to do later.  (Bug#21222)\n\t* doc/lispref/help.texi (Keys in Documentation):\n\tMove description of text-quoting-style from here ...\n\t* doc/lispref/strings.texi (Formatting Strings):\n\t... to here, and describe new behavior of \u2018format\u2019.\n\t* etc/NEWS: Describe new behavior.\n\t* lisp/calc/calc-help.el (calc-describe-thing):\n\t* lisp/emacs-lisp/derived.el (derived-mode-make-docstring):\n\t* lisp/info.el (Info-find-index-name):\n\tUse \u2018concat\u2019 rather than \u2018format\u2019 to avoid misinterpretation\n\tof recently-added curved quotes.\n\t* src/doc.c (uLSQM0, uLSQM1, uLSQM2, uRSQM0, uRSQM1, uRSQM2):\n\tMove from here ...\n\t* src/lisp.h: ... to here.\n\t* src/doc.c (text_quoting_style): New function.\n\t(Fsubstitute_command_keys): Use it.\n\t* src/editfns.c (Fformat): Implement new behavior.\n\t* src/lisp.h (enum text_quoting_style): New enum.\n\n2015-08-14  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* src/keyboard.c: Use false/true instead of 0/1 for booleans.\n\t* src/keyboard.h (struct kboard): Mark kbd_queue_has_data as boolean.\n\n2015-08-14  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* lisp/net/tramp-sh.el (tramp-sh-handle-file-acl): Do not redirect\n\tstderr to /dev/null, this is done in `tramp-send-command-and-check'.\n\n2015-08-14  J\u00fcrgen H\u00f6tzel  <juergen@archlinux.org>\n\n\tFlush file properties in Tramp\n\t* lisp/net/tramp-sh.el (tramp-sh-handle-set-file-modes)\n\t(tramp-sh-handle-set-file-times):\n\t* lisp/net/tramp-adb.el (tramp-adb-handle-set-file-modes)\n\t(tramp-adb-handle-set-file-times): Flush the file properties of\n\tthe directory.\n\n2015-08-14  Ronnie Schnell  <ronnie@driver-aces.com>\n\n\t* doc/emacs/misc.texi (Amusements): Fixed typo.\n\n2015-08-14  Eli Zaretskii  <eliz@gnu.org>\n\n\tDon't miss warnings about removing string text properties while dumping\n\t* src/alloc.c (purecopy): Warn about removing a string's text\n\tproperties even when the same string was already pure-copied\n\tearlier.\n\t* lisp/progmodes/elisp-mode.el (elisp--xref-format)\n\t(elisp--xref-format-extra): Fix the commentary.\n\n2015-08-13  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/progmodes/sh-script.el (sh-mode): Handle .cshrc (bug#21049).\n\n2015-08-13  Magnus Henoch  <magnus.henoch@gmail.com>\n\n\t* lisp/progmodes/compile.el: Use lexical-binding.\n\t(compilation-move-to-column): Assume 8-wide TABs (bug#21038).\n\n2015-08-13  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t(uniquify-ask-about-buffer-names-p): Remove, unused (bug#21037)\n\t* lisp/uniquify.el: Remove redundant `:group's.\n\n2015-08-13  J\u00fcrgen H\u00f6tzel  <juergen@archlinux.org>\n\n\t* lisp/net/tramp-adb.el\n\t(tramp-adb-handle-directory-files-and-attributes): Make a copy of\n\tresult to prevent modification of the tramp-cache by side effects.\n\tUse the correct cache key.\n\n2015-08-13  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMake add_to_log varargs\n\t* src/alloc.c (run_finalizer_handler):\n\t* src/charset.c (load_charset_map_from_vector):\n\t* src/nsimage.m (ns_load_image):\n\t* src/xfaces.c (load_pixmap, load_color2):\n\tSimplify, now that add_to_log has a variable number of args.\n\t* src/image.c (image_error): Take a variable number of args.\n\tCallers simplified.\n\t* src/lisp.h (add_to_log, vadd_to_log): Adjust to new APIs.\n\t* src/xdisp.c (format_nargs, vadd_to_log): New functions.\n\t(add_to_log): Make varargs, and reimplement in terms of vadd_to_log.\n\t* src/xfaces.c (merge_face_ref): Fix typo that omitted color name.\n\n\tOptional args for holiday-greek-orthodox-easter\n\t* etc/NEWS: Document this.\n\t* lisp/calendar/holidays.el (holiday-greek-orthodox-easter):\n\tAdd optional args N and STRING, mimicking the API and code of\n\t\u2018holiday-easter-etc\u2019.  From suggestion by Foivos S. Zakkak (Bug#21256).\n\n2015-08-13  Stephen Leake  <stephen_leake@stephe-leake.org>\n\n\txref-find-definitions: Exclude more generic function items.\n\t* lisp/emacs-lisp/cl-generic.el (cl--generic-search-method):\n\tAdd doc string.\n\t(cl--generic-find-defgeneric-regexp): New.\n\t(find-function-regexp-alist): Add it.\n\t* lisp/emacs-lisp/find-func.el (find-feature-regexp): Move here from\n\telisp-mode.el, change to search for \";;; Code:\"\n\t(find-alias-regexp): Move here from elisp-mode.el, cleaned up.\n\t(find-function-regexp-alist): Add them.\n\t* lisp/progmodes/elisp-mode.el:\n\t(elisp--xref-format, elisp--xref-format-extra): Change back to\n\tdefvar due to bug#21237.\n\t(elisp--xref-find-definitions): Exclude co-located default methods for\n\tgeneric functions.  Also exclude implicitly declared defgeneric.\n\t(elisp--xref-find-definitions): Handle C source properly.  Exclude minor\n\tmode variables defined by 'define-minor-mode'.\n\t* test/automated/elisp-mode-tests.el: Declare generic functions, add\n\ttests for them.\n\t(xref-elisp-test-run): Fix bug.\n\t(emacs-test-dir): Improve initial value.\n\t(find-defs-defun-defvar-el): Don't expect defvar.\n\t(find-defs-feature-el): Match change to find-feature-regexp.\n\n2015-08-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove warning about purecopy of strings with properties\n\t* src/alloc.c (purecopy): Show the offending string with the\n\twarning about removing its text properties.\n\n2015-08-12  Alan Mackenzie  <acm@muc.de>\n\n\tIntroduce new macros to cover Emacs's new names in cl-lib.el\n\tThis also eliminates `mapcan' warnings in XEmacs.\n\t* lisp/progmodes/cc-defs.el (c--mapcan-status): New variable to\n\tcharacterize [X]Emacs versions.\n\t(top-level): Require either 'cl or 'cl-lib, depending on\n\tc--mapcan-status.\n\tChange this back to cc-external-require from an eval-when-compile\n\trequire.\n\t(c--mapcan, c--set-difference, c--intersection, c--macroexpand-all)\n\t(c--delete-duplicates): New macros which expand into either old or new\n\tnames.\n\t(c-make-keywords-re, c-lang-defconst, c-lang-const): Use the new macros\n\trather than the old names.\n\t* lisp/progmodes/cc-engine.el (c-declare-lang-variables): Use c--mapcan\n\trather than mapcan.\n\t* lisp/progmodes/cc-fonts.el (c-compose-keywords-list): Use c--mapcan.\n\t* lisp/progmodes/cc-langs.el (top-level): Require either 'cl or 'cl-lib,\n\tdepending on c--mapcan-status.\n\t(c-filter-ops, c-all-op-syntax-tokens, c-assignment-op-regexp)\n\t(c-type-start-kwds, c-prefix-spec-kwds, c-specifier-key)\n\t(c-not-decl-init-keywords, c-not-primitive-type-keywords)\n\t(c-paren-any-kwds, c-<>-sexp-kwds, c-block-stmt-kwds, c-expr-kwds)\n\t(c-decl-block-key, c-keywords, c-keywords-obarray)\n\t(c-regular-keywords-regexp, c-primary-expr-regexp)\n\t(c-primary-expr-regexp, c-block-prefix-disallowed-chars)\n\t(c-known-type-key, c-nonlabel-token-key)\n\t(c-make-init-lang-vars-fun): Use the new macros rather than the old\n\tnames.\n\n2015-08-12  Oleh Krehel  <ohwoeowho@gmail.com>\n\n\tloadhist.el (read-feature): Conform to completing-read\n\t* lisp/loadhist.el (read-feature): According to `completing-read'\n\tdocumentation, if collection is a list, then it must be a list of\n\tstrings, not a list of symbols like before.\n\n2015-08-12  David Kastrup  <dak@gnu.org>\n\n\tDeal gracefully with up-events (Bug#19746)\n\t* src/keyboard.c (apply_modifiers_uncached, parse_solitary_modifier)\n\t(parse_modifiers_uncached): React gracefully to \"up-\" modifiers:\n\tthose may easily be injected by user-level Lisp code.\n\t(read_key_sequence): Discard unbound up-events like unbound\n\tdown-events: they are even more likely only relevant for special\n\tpurposes.\n\tWhile Emacs will not produce up-events on its own currently (those are\n\tconverted to drag or click events before being converted to\n\tLisp-readable structures), the input queue can be made to contain them\n\tby synthesizing events to `unread-command-events'.  Emacs should deal\n\tconsistently with such events.\n\n2015-08-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix display of thin lines whose newline has line-height property of t\n\t* src/xdisp.c (append_space_for_newline): Don't try to fix ascent\n\tand descent values of non-empty glyph rows, since they could have\n\tforced low values deliberately.  (Bug#21243)\n\n2015-08-12  Richard Stallman  <rms@gnu.org>\n\n\tOffer to combine multiple To or CC fields.\n\t* lisp/mail/sendmail.el (mail-combine-fields): New function.\n\t(mail-send): Call 'mail-combine-fields'.\n\n\tDon't decrypt encrypted files.\n\t* lisp/mail/mail-utils.el (mail-file-babyl-p): Bind epa-inhibit to t.\n\n\tHandle encrypted mbox files.\n\t* lisp/mail/rmailout.el (rmail-output-as-mbox): Decrypt and reencrypt\n\tthe mbox file if necessary.\n\n\tRe-enable mime processing after decryption.  Add 'decrypt' keyword.\n\t* lisp/mail/rmail.el (rmail-epa-decrypt-1): New subroutine.\n\t(rmail-epa-decrypt): rmail-epa-decrypt-1 broken out.\n\tIn a mime message, reenable Mime and show the parts that\n\twere shown before.\n\tAdd keyword \"decrypt\" if anything decrypted.\n\n\tepa-inhibit inhibits auto-recognition of .gpg files\n\t* lisp/epa-file.el (epa-inhibit): New variable.\n\t(epa-file-handler): Check epa-inhibit.\n\n2015-08-12  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/lisp-mnt.el (lm-header): Add save-excursion.\n\n2015-08-11  Fabi\u00e1n Ezequiel Gallina  <fgallina@gnu.org>\n\n\tRespect python.el imenu when semantic-mode is off\n\tFixes bug#21220\n\t* lisp/cedet/semantic/wisent/python.el: Do not force\n\twisent-python-default-setup on python-mode-hook.\n\n2015-08-11  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tGive names to Unicode code points in C code\n\t* src/character.h (NO_BREAK_SPACE, SOFT_HYPHEN)\n\t(ZERO_WIDTH_NON_JOINER, ZERO_WIDTH_JOINER, HYPHEN)\n\t(NON_BREAKING_HYPHEN, LEFT_SINGLE_QUOTATION_MARK)\n\t(RIGHT_SINGLE_QUOTATION_MARK, PARAGRAPH_SEPARATOR)\n\t(LEFT_POINTING_ANGLE_BRACKET, RIGHT_POINTING_ANGLE_BRACKET)\n\t(LEFT_ANGLE_BRACKET, RIGHT_ANGLE_BRACKET)\n\t(OBJECT_REPLACEMENT_CHARACTER):\n\tNew named constants for Unicode code points.\n\t* src/bidi.c (bidi_fetch_char, CANONICAL_EQU):\n\t* src/composite.c (char_composable_p):\n\t* src/lread.c (readevalloop, read1):\n\t* src/xdisp.c (get_next_display_element):\n\tUse them.\n\t* src/doc.c (LEFT_SINGLE_QUOTATION_POINT):\n\tRemove; now in character.h.\n\n2015-08-11  Stephen Leake  <stephen_leake@stephe-leake.org>\n\n\telisp--xref-find-definitions handle cl-defstuct default constructor\n\t* lisp/progmodes/elisp-mode.el (elisp-xref-find): Add FIXME.\n\t(elisp--xref-format-extra): Rename from elisp--xref-format-cl-defmethod.\n\t(elisp--xref-find-definitions): Handle cl-defstuct default constructor.\n\t* test/automated/elisp-mode-tests.el (xref-elisp-test-run): Split out\n\tfrom xref-elisp-test for ease of debugging.\n\t(xref-elisp-deftest): Rename from xref-elisp-test.\n\t(find-defs-constructor): New test.\n\t(find-defs-defgeneric-el): Match batch test config.\n\t(compile): Required for find-defs compilation-minor-mode test.\n\t(find-defs-defvar-el): Match code change.\n\t(find-defs-face-el): Match code change.\n\t* lisp/progmodes/xref.el (xref-find-function, xref-find-definitions):\n\tImprove doc string.\n\n2015-08-11  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/replace.el (perform-replace): Document `replacements'.\n\t(perform-replace): Move the description of the format of `replacements'\n\tfrom the body's comment to the doc string.\n\n2015-08-11  J\u00fcrgen H\u00f6tzel  <juergen@archlinux.org>\n\n\t* lisp/net/tramp-adb.el (tramp-adb-prompt): Match leading escape\n\tsequence.  Recent adb version send initial escape sequences, even\n\twhen terminal type is set to TERM=dumb.\n\n2015-08-10  Stephen Leake  <stephen_leake@stephe-leake.org>\n\n\tRewrite elisp--xref-find-definitions to handle many more cases; add tests\n\t* lisp/progmodes/elisp-mode.el (elisp--xref-identifier-location):\n\tFunction deleted.\n\t(elisp--xref-format-cl-defmethod): New defconst.\n\t(find-feature-regexp, find-alias-regexp): New defcustoms.\n\t(elisp--xref-make-xref): New function.\n\t(elisp--xref-find-definitions): Rewrite using the above, handle many\n\tmore cases.  Always output all available definitions.\n\t(xref-location-marker): No need for special cases.\n\t* test/automated/elisp-mode-tests.el: Add more tests of\n\telisp--xref-find-definitions, improve current tests.\n\n2015-08-10  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix recording of events pushed onto unread-command-events\n\t* src/keyboard.c (read_char): Make sure events read from\n\tunread-command-events and unread-post-input-method-events are\n\talways recorded by record_char.  Reported by David Kastrup\n\t<dak@gnu.org>, see\n\thttps://lists.gnu.org/r/emacs-devel/2015-08/msg00193.html.\n\n2015-08-10  Samer Masterson  <samer@samertm.com>\n\n\tSet file buffer as current for \"--file\"\n\t* lisp/startup.el (command-line-1): Set file buffer as current before\n\tit is displayed so it can be used with options like \"--eval\".\n\t(Bug#21095)\n\n2015-08-10  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid setting LC_NUMERIC on MS-Windows to anything but \"C\"\n\t* src/emacs.c (synchronize_locale) [WINDOWSNT]: Call fixup_locale\n\tafter setting LC_ALL to the desired locale, to avoid affecting how\n\tnumbers are read and printed.  (Bug#21223)\n\n2015-08-10  Alan Mackenzie  <acm@muc.de>\n\n\tFix \"Invalid search bound (wrong side of point)\" in fontification\n\t* lisp/progmodes/cc-fonts.el (c-font-lock-declarators): After skipping\n\tan initialization expression, check point is not beyond the\n\tfontification limit.\n\n2015-08-09  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix DPI calculation when Xft/DPI is default\n\t* src/xsettings.c (parse_settings): Don't use Xft/DPI default\n\tvalue of -1, which evaluates to 2**32 - 1 (Bug#21152).\n\tRemove unnecessary cast while we're in the neighborhood.\n\n2015-08-09  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tAdd project-vc-search-path and project-vc-ignores\n\t* lisp/progmodes/project.el (project-vc): New group.\n\t(project-vc-search-path, project-vc-ignores): New variables.\n\t(project--value-in-dir): Utility function.\n\t(project-search-path, project-ignores): Use them.\n\t* lisp/progmodes/xref.el (xref--rgrep-command): Only replace `./'\n\tat bos.  Don't add extra `/'.  Don't prepend with `*' if replaced.\n\n2015-08-09  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix some minor quoting issues with grave accent\n\t* src/dispnew.c (add_window_display_history) [GLYPH_DEBUG]:\n\tRemove redundant quotes.\n\t* src/doc.c (uLSQM, uRSQM): New macros.\n\t* src/doc.c (Fsubstitute_command_keys):\n\t* src/syntax.c (Finternal_describe_syntax_value): Follow the user\n\tpreference for quotes rather than hardcoding the \u2018grave\u2019 style.\n\t* src/regex.c (PUSH_FAILURE_POINT, POP_FAILURE_POINT)\n\t(re_match_2_internal) [DEBUG]: In debugging output, quote C\n\tstrings with \"...\", not `...'.\n\n\tChangeLog.2 ignores remote-tracking merges\n\t* build-aux/gitlog-to-emacslog: Ignore commit logs matching\n\t\"Merge remote-tracking branch '.*'\" too.  See Eli Zaretskii in:\n\thttps://lists.gnu.org/r/emacs-devel/2015-08/msg00384.html\n\n2015-08-09  Nicolas Richard  <youngfrog@members.fsf.org>\n\n\tUse kpsewhich in ffap-latex-mode, if available\n\t* lisp/ffap.el (ffap-latex-guess-rules): New variable.\n\t(ffap-latex-mode): Use kpsewhich if available.\n\n\tffap: disallow braces in filenames for tex modes\n\t* lisp/ffap.el (ffap-string-at-point-mode-alist): Don't allow\n\tbraces in tex-related modes.\n\n\tRemove useless backslashes from ffap-string-at-point-mode-alist\n\t* lisp/ffap.el (ffap-string-at-point-mode-alist): Remove useless and\n\tmisleading backslashes from default value.\n\n\tAugment docstring of ffap-string-at-point-mode-alist\n\t* lisp/ffap.el (ffap-string-at-point-mode-alist): Describe how BEG\n\tand END are handled.\n\n2015-08-09  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* lisp/org/org-src.el (org-edit-src-code)\n\t(org-edit-fixed-width-region):\n\t* lisp/simple.el (completion-setup-function):\n\tRemove calls to substitute-command-keys that always just return\n\ttheir argument.\n\n2015-08-09  Daiki Ueno  <ueno@gnu.org>\n\n\t* lisp/epa.el (epa-exit-buffer-function): Set to `quit-window'.\n\t(Bug#21210)\n\n2015-08-09  Ivan Kanis  <ivan@kanis.fr>\n\n\tFix link to source code in help window\n\t* lisp/help-fns.el (find-lisp-object-file-name): Remove code that\n\twill never work due to Glenn Morris change a6d63d9 on Apr 20 2013\n\t'No longer include timestamp in header of .elc files'.  Add code\n\tthat will return .el source file in load-path.\n\n2015-08-09  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/isearch.el (isearch-search-fun-default): (Bug#21164)\n\tRespect `isearch-lax-whitespace' when searching through\n\t`isearch-word'.\n\n2015-08-08  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* test/automated/ert-tests.el (ert-test-deftest): Add FIXME.\n\n\t* lisp/org/org.el: Fix up some lexical scoping warnings, and use dolist\n\t* lisp/org/org.el (org-set-regexps-and-options-for-tags, org-goto-map)\n\t(org-set-regexps-and-options, org-assign-fast-keys)\n\t(org-contextualize-keys, org-contextualize-validate-key)\n\t(org-notes-order-reversed-p, org-local-logging, org-map-entries)\n\t(org-find-olp, org-find-exact-heading-in-directory)\n\t(org-cycle-agenda-files, org-release-buffers, org-fill-template)\n\t(org-agenda-prepare-buffers, org-occur-in-agenda-files)\n\t(org-replace-escapes): Use dolist.\n\t(org-mode): Optimize away XEmacs-only code.\n\t(org-refile-get-targets): Remove unused var `f'.\n\t(org-fast-todo-selection): Remove unused var `e'.\n\t(org-make-tags-matcher): Use dolist.  Remove unused var `term'.\n\t(org-fast-tag-selection): Use dolist.  Remove unused var `e'.\n\t(org-format-latex): Use dolist.  Remove unused var `e'.\n\t(org-toggle-heading): Access vars lexically rather than dynamically.\n\t(org-backward-sentence, org-forward-sentence, org-meta-return)\n\t(org-kill-line): Mark arg as unused.\n\t(org-submit-bug-report): Silence compiler warning.\n\t(org-occur-in-agenda-files): Don't use add-to-list on local vars.\n\t(org-get-cursor-date): Remove unused var `tm'.\n\t(org-comment-or-uncomment-region): Use standard name `_'.\n\t(reftex-docstruct-symbol, reftex-cite-format): Declare to\n\tsilence byte-compiler.\n\t(org-reftex-citation): Add `org--' prefix to dynamically scoped\n\t`rds' var.\n\n2015-08-08  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tElectric quote if coding is undecided or no conv\n\t* lisp/electric.el (electric--insertable-p): Also say that a\n\tstring is insertable if the buffer file coding system is undecided\n\tor uses no conversion, as curved quotes will work in either case.\n\n\t* configure.ac (HAVE_STACK_OVERFLOW_HANDLING): Simplify configuration.\n\n2015-08-08  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix overlay string display regressions introduced in Emacs 24.5\n\t* src/xdisp.c (pop_it): Reset the flag to ignore overlays at this\n\tbuffer position, if we move the iterator to a new position as\n\tresult of jumping over text covered by a \"replacing\" display\n\tproperty.\n\t* test/redisplay-testsuite.el (test-redisplay-4): Add 2 new tests.\n\n\tSupport recovery from C stack overflow on MS-Windows\n\t* src/w32fns.c (w32_reset_stack_overflow_guard)\n\t(stack_overflow_handler): New functions for handling C stack\n\toverflow exceptions.\n\t(my_exception_handler): Handle EXCEPTION_STACK_OVERFLOW exceptions\n\tspecially, and zero out except_addr if we do.\n\t(globals_of_w32fns): Initialize dwMainThreadId in non-interactive\n\tmode.\n\t* src/sysdep.c [HAVE_STACK_OVERFLOW_HANDLING]: Add !WINDOWSNT to\n\tthe condition, as HAVE_STACK_OVERFLOW_HANDLING is now defined for\n\tthe MinGW build, but the code guarded by that is for Posix hosts.\n\t* src/keyboard.c (command_loop) [WINDOWSNT]:\n\tCall w32_reset_stack_overflow_guard.\n\t* nt/inc/ms-w32.h (sigjmp_buf): New typedef.\n\t(sigsetjmp): New macro.\n\t(w32_reset_stack_overflow_guard): Declare the prototype.\n\t* configure.ac (HAVE_STACK_OVERFLOW_HANDLING): Set to 1 for MinGW.\n\n2015-08-07  Phillip Lord  <phillip.lord@newcastle.ac.uk>\n\n\tImprove error signaling for seq-subseq\n\t* lisp/emacs-lisp/seq.el (seq-subseq): The existing behavior is to error\n\twhen indexes are too large, but to silently ignore numbers which\n\tare too negative for lists.  String and vector handling errors in\n\tboth cases.  This has been regularized.  Error signaling behavior\n\thas been explicitly added to the doc string.\n\n\t* lisp/emacs-lisp/cl-extra.el (cl-subseq): Defers to (seq-subseq) and is\n\ttherefore also impacted by this change.  Update the doc string\n\tto reflect this.\n\n\t* test/automated/seq-tests.el (test-seq-subseq): Tests have been\n\tadded for these exceptional cases, as well as one non exceptional\n\tbase case.\n\n2015-08-07  J\u00fcrgen H\u00f6tzel  <juergen@archlinux.org>\n\n\tImprove error checking in tramp-adb.el\n\t* lisp/net/tramp-adb.el (tramp-adb-ls-output-name-less-p):\n\tImprove error checking.  \"ls -l\" on Android in Enforcing mode can\n\tprint \"lstat './FILENAME failed: Permission denied\".\n\n2015-08-07  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/cl-generic.el (cl--generic-struct-tag): Don't burp on\n\tnon-struct vectors.\n\n2015-08-07  Stephen Leake  <stephen_leake@stephe-leake.org>\n\n\tFix typo in lisp/window.el, more `display-buffer-use-some-frame'\n\t* lisp/window.el: Fix typo that broke build.\n\t(display-buffer--action-function-custom-type):\n\tAdd `display-buffer-use-some-frame'.\n\t(display-buffer): Add `display-buffer-use-some-frame' to doc string.\n\n\tAdd support for 'inhibit-same-window in 'display-buffer-use-some-frame'\n\t* lisp/window.el (display-buffer-use-some-frame): Add support for\n\t'inhibit-same-window in alist.\n\t* doc/lispref/windows.texi (display-buffer-use-some-frame):\n\tDoc support for 'inhibit-same-window in alist.\n\n2015-08-07  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid infinite loop in display of invisible text in strings\n\t* src/xdisp.c (handle_invisible_prop): If the next change of\n\tinvisibility spec does not mean the beginning of a visible text,\n\tupdate the string position from which to start the search for the\n\tnext invisibility change.  This avoids an infinite loop when we\n\thave more than one invisibility spec that are made inactive by\n\tbuffer-invisibility-spec.  Simplify code.  (Bug#21200)\n\t* test/redisplay-testsuite.el (test-redisplay-4): Add a test case\n\tfor the situation that caused bug #21200.\n\n2015-08-06  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el: Simplify describe-package-1\n\t(package-help-section-name-face): New face.\n\t(package--print-help-section): New function.\n\t(describe-package-1): Refactor section printing.\n\t(package-make-button): Use face instead of font-lock-face, which\n\tdoesn't work on buttons.\n\n\t* lisp/emacs-lisp/package.el: Define custom faces\n\t(package-name-face, package-description-face)\n\t(package-status-built-in-face, package-status-external-face)\n\t(package-status-available-face, package-status-new-face)\n\t(package-status-held-face, package-status-disabled-face)\n\t(package-status-installed-face, package-status-dependency-face)\n\t(package-status-unsigned-face, package-status-incompat-face)\n\t(package-status-avail-obso-face): New faces.\n\t(package-menu--print-info-simple): Use them.\n\n2015-08-05  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix some confusion with \u2018format\u2019\n\t* lisp/allout-widgets.el (allout-widgets-before-change-handler)\n\t(allout-graphics-modification-handler):\n\tProtect arbitrary string in a format context with \"%s\" format.\n\t* lisp/avoid.el:\n\t* lisp/cedet/semantic/bovine/scm.el: Fix comment.\n\t* lisp/calendar/icalendar.el (icalendar--convert-sexp-to-ical):\n\t* lisp/erc/erc-button.el (erc-button-beats-to-time):\n\t* lisp/gnus/message.el (message-send-form-letter):\n\t* lisp/org/ob-core.el (org-babel-check-evaluate)\n\t(org-babel-confirm-evaluate):\n\t* lisp/org/ob-fortran.el (org-babel-fortran-var-to-fortran):\n\t* lisp/org/ox-latex.el (org-latex-compile):\n\t* lisp/org/ox-man.el (org-man-compile):\n\t* lisp/org/ox-odt.el (org-odt-template):\n\t* lisp/org/ox-texinfo.el (org-texinfo-compile):\n\t* lisp/progmodes/prolog.el (prolog-help-info)\n\t(prolog-view-predspec):\n\t* lisp/progmodes/ruby-mode.el (ruby-parse-partial):\n\t* lisp/progmodes/verilog-mode.el (verilog-showscopes):\n\t* lisp/textmodes/rst.el (rst-replace-lines):\n\tChange (message (format ...)) to (message ...), and likewise\n\tfor \u2018error\u2019.  This lessens the probability of confusion when the\n\toutput of \u2018format\u2019 contains \u2018%\u2019.\n\n2015-08-05  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/replace.el (replace-character-fold): Default to nil.\n\n\t* lisp/character-fold.el: Fix lax whitespace.\n\t(character-fold-table): Don't make space match other whitespace chars.\n\t(character-fold-to-regexp): Simplify lax behavior.\n\n2015-08-05  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tPreserve window point in xref-find-definitions-other-window\n\tFix the problem reported by Ingo Logmar in\n\thttps://lists.gnu.org/r/emacs-devel/2015-08/msg00152.html\n\t* lisp/progmodes/xref.el (xref--goto-char): Extract from\n\txref--goto-location.\n\t(xref--pop-to-location): Use it.  Replace xref--goto-location with\n\ta direct xref-location-marker call.\n\t(xref--show-location): Likewise.\n\t(xref--display-position): Use xref--goto-char.\n\n\t* lisp/progmodes/project.el: Add a paragraph to the front matter.\n\n2015-08-04  David Kastrup  <dak@gnu.org>\n\n\t* lisp/vc/emerge.el (emerge-show-file-name):\n\t* lisp/progmodes/vhdl-mode.el (vhdl-electric-dash)\n\t(vhdl-comment-insert, vhdl-hooked-abbrev):\n\t* lisp/progmodes/octave.el (inferior-octave-dynamic-list-input-ring):\n\t* lisp/progmodes/fortran.el (fortran-window-create-momentarily):\n\t* lisp/progmodes/ebrowse.el (ebrowse-hack-electric-buffer-menu):\n\t* lisp/progmodes/cperl-mode.el (cperl-putback-char):\n\t* lisp/obsolete/vip.el (vip-escape-to-emacs)\n\t(vip-prefix-arg-value, vip-prefix-arg-com):\n\t* lisp/obsolete/terminal.el (te-escape-extended-command-unread):\n\t* lisp/leim/quail/tibetan.el (quail-tibetan-update-translation)\n\t(quail-tibkey-update-translation):\n\t* lisp/leim/quail/lrt.el (quail-lrt-update-translation):\n\t* lisp/leim/quail/lao.el (quail-lao-update-translation):\n\t* lisp/leim/quail/japanese.el (quail-japanese-update-translation)\n\t(quail-japanese-self-insert-and-switch-to-alpha):\n\t* lisp/leim/quail/hangul.el (hangul2-input-method)\n\t(hangul3-input-method, hangul390-input-method):\n\t* lisp/language/hanja-util.el (hangul-to-hanja-char):\n\t* lisp/international/robin.el (robin-input-method):\n\t* lisp/international/quail.el (quail-start-translation)\n\t(quail-start-conversion):\n\t* lisp/gnus/gnus-art.el (gnus-article-describe-key)\n\t(gnus-article-describe-key-briefly):\n\t* lisp/eshell/em-hist.el (eshell-list-history):\n\t* lisp/term.el (term-dynamic-list-input-ring)\n\t(term-dynamic-list-completions):\n\t* lisp/subr.el (momentary-string-display):\n\t* lisp/simple.el (read-quoted-char):\n\t* lisp/pcomplete.el (pcomplete-show-completions):\n\t* lisp/kmacro.el (kmacro-repeat-on-last-key):\n\t* lisp/info.el (Info-summary):\n\t* lisp/ehelp.el (electric-help-command-loop):\n\t* lisp/ebuff-menu.el (electric-buffer-list)\n\t(Electric-buffer-menu-exit):\n\t* lisp/double.el (double-translate-key):\n\t* lisp/comint.el (comint-dynamic-list-input-ring)\n\t(comint-dynamic-list-completions): Do not overwrite preexisting\n\tcontents of `unread-command-events' when putting new events into it.\n\n2015-08-04  Daniel Colascione  <dancol@dancol.org>\n\n\tImprove ansi-color filtering of unrecognized escape sequences\n\t* lisp/ansi-color.el (ansi-color-drop-regexp): Recognize mode-setting\n\tescape sequences.\n\t(ansi-color-filter-apply, ansi-color-apply): Filter out\n\tunrecognized escape sequences.\n\n2015-08-04  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el (package-menu-mode-map): Convert menu\n\tdefinitions to `easy-menu-define', improve a couple to account for\n\tasync, and add a couple of new commands.\n\n2015-08-03  J\u00fcrgen H\u00f6tzel  <juergen@archlinux.org>\n\n\t* lisp/net/tramp-cache.el (tramp-set-file-property): Fix code typo.\n\n2015-08-03  Ingo Lohmar  <i.lohmar@gmail.com>\n\n\tAdd new 'calendar-weekend-days' option\n\tMake the days receiving the 'calendar-weekend-header' face freely\n\tcustomizable, as they differ by region/culture.\n\t* doc/emacs/calendar.texi (Move to Beginning or End): Document the\n\tnew variable.\n\t* lisp/calendar/calendar.el (calendar-generate-month): New variable\n\tcalendar-weekend-days to customize day header fontification.\n\n2015-08-03  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRedo text-quoting-style variable\n\tRename help-quote-translation to text-quoting-style,\n\tand use symbols rather than characters as values.\n\tThis follows suggestions along these lines by Alan Mackenzie in:\n\thttps://lists.gnu.org/r/emacs-devel/2015-06/msg00343.html\n\tand by Drew Adams in:\n\thttps://lists.gnu.org/r/emacs-devel/2015-08/msg00048.html\n\t* doc/lispref/help.texi (Keys in Documentation)\n\t* etc/NEWS:\n\t* lisp/cus-start.el (standard):\n\t* src/doc.c (Fsubstitute_command_keys, syms_of_doc):\n\tDocument and/or implement the new behavior instead of the old.\n\t(syms_of_doc): New symbols 'grave' and 'straight'.\n\n2015-08-03  Nikolaus Rath  <Nikolaus@rath.org>\n\n\tnnimap.el: Use IMAP MOVE extension if available\n\t* lisp/gnus/nnimap.el (nnimap-request-move-article)\n\t(nnimap-process-expiry-targets, nnimap-split-incoming-mail):\n\tUse MOVE extension if available.\n\n\tnnimap.el: Explicitly ask for server capabilities\n\t* lisp/gnus/nnimap.el (nnimap-open-connection-1): Don't assume full\n\tcapabilities will be returned in the login-result.\n\n2015-08-02  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tTreat help strings like other doc strings\n\t* doc/lispref/text.texi (Special Properties), etc/NEWS: Document this.\n\t* lisp/epa.el (epa--select-keys): Remove no-longer-needed calls to\n\tsubstitute-command-keys.\n\t* src/keyboard.c (show_help_echo, parse_menu_item): Call\n\tsubstitute-command-keys on the help string before displaying it.\n\n\tAlso mention \"curly quotes\"\n\tSee Drew Adams's email in:\n\thttps://lists.gnu.org/r/emacs-devel/2015-08/msg00040.html\n\t* doc/lispref/help.texi (Keys in Documentation):\n\tAdd index entry \"curly quotes\".\n\t* etc/NEWS: Use the phrase \"curly quotes\" too.\n\n\tede-proj-target-makefile docstring tweaks\n\t* lisp/cedet/ede/proj.el (ede-proj-target-makefile):\n\tConsistently use \"all:\" to describe the all: target,\n\treplacing three different and confusingly-quoted usages.\n\n2015-08-02  Evgeny Fraimovitch  <johnlen7@gmail.com>  (tiny change)\n\n\tDon't abort emacsclientw when -a was specified\n\t* lib-src/emacsclient.c (set_tcp_socket) [WINDOWSNT]: Don't error\n\tout if we are in emacsclientw and -a was specified.\n\n2015-08-02  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix handling of 1st keystroke on MS-Windows\n\t* src/w32fns.c (globals_of_w32fns): Initialize after_deadkey to -1.\n\tThis is needed to correctly handle the session's first keystroke,\n\tif it has any modifiers.  (Bug#19994)\n\n2015-08-02  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSubstitute some customization etc. doc strings\n\tThese changes apply substitute-command-keys to some\n\tdoc strings that were going through untranslated\n\twhen creating customization or other widgets.\n\t* lisp/cus-edit.el (custom-group-value-create):\n\t* lisp/wid-edit.el (widget-default-create):\n\t(widget-push-button-value-create):\n\tTreat the widget tag as a doc string.\n\t* lisp/emacs-lisp/cl-extra.el (cl--describe-class-slot):\n\tTreat the :documentation value as a doc string.\n\t* lisp/wid-edit.el (widget-choose):\n\tTreat the choice names as doc strings.\n\t(widget-default-create): Treat the :doc value as a doc string.\n\t(widget-toggle-value-create): Treat the :on and :off values\n\tas doc strings.\n\t(widget-documentation-string-value-create):\n\tSubstitute the doc string.\n\n2015-08-01  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tAdd a second argument to project-ignores\n\t* lisp/progmodes/project.el (project-ignores): Add a second\n\targument DIR.\n\t* lisp/progmodes/project.el (project-ignores): Only include the VC\n\tignores if DIR is the VC root.\n\t* lisp/progmodes/xref.el (xref-find-regexp): Update accordingly.\n\n2015-08-01  Eli Zaretskii  <eliz@gnu.org>\n\n\tPrevent incorrect display when 'line-spacing' variable is set\n\t* src/xdisp.c (try_window_id): Give up this optimization if the\n\tbuffer has its 'line-spacing' variable set non-nil.\n\n2015-08-01  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tDon't pass NOVISIT to find-file\n\t* lisp/progmodes/etags.el (next-file):\n\tDon't pass NOVISIT to find-file (bug#21175).\n\n\tIgnore buffer restriction for tags-loop-eval\n\t* lisp/progmodes/etags.el (tags-loop-continue): Ignore buffer\n\trestriction (bug#21167).\n\n2015-08-01  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix a thinko in 'ffap-gopher-at-point'\n\t* lisp/ffap.el (ffap-gopher-at-point): Fix last change.  (Bug#21168)\n\n\tHonor 'line-spacing' for empty lines\n\t* src/xdisp.c (append_space_for_newline): Honor 'line-height'\n\tproperty and 'line-spacing' frame parameter or variable or\n\tproperty for empty lines, by doing the same processing as in\n\tx_produce_glyph for newline characters.  (Bug#21165)\n\n2015-08-01  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSimplify by assuming C99 integer division\n\t* src/floatfns.c (ceiling2, floor2, truncate2):\n\tAssume C99 (i.e., Fortran) semantics for integer division.\n\tThis simplifies the code.\n\n2015-07-31  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDon't overflow if computing approximate percentage\n\t* lisp/align.el (align-region):\n\t* lisp/cedet/semantic.el (semantic-repeat-parse-whole-stream):\n\t* lisp/cedet/semantic/wisent.el (wisent-parse-region):\n\t* lisp/cus-edit.el (custom-buffer-create-internal):\n\t* lisp/emacs-lisp/checkdoc.el (checkdoc-interactive-ispell-loop)\n\t(checkdoc-message-interactive-ispell-loop, checkdoc-next-error)\n\t(checkdoc-next-message-error):\n\t* lisp/emacs-lisp/eieio-opt.el (eieio-display-method-list):\n\t* lisp/epa.el (epa-progress-callback-function):\n\t* lisp/erc/erc-dcc.el (erc-dcc-do-LIST-command):\n\t* lisp/ffap.el (ffap-menu-rescan):\n\t* lisp/gnus/nnbabyl.el (nnbabyl-retrieve-headers):\n\t* lisp/gnus/nndiary.el (nndiary-retrieve-headers):\n\t* lisp/gnus/nneething.el (nneething-retrieve-headers):\n\t* lisp/gnus/nnmbox.el (nnmbox-retrieve-headers):\n\t* lisp/gnus/nnmh.el (nnmh-retrieve-headers):\n\t* lisp/gnus/nnml.el (nnml-retrieve-headers):\n\t* lisp/gnus/nnspool.el (nnspool-retrieve-headers):\n\t* lisp/gnus/nntp.el (nntp-retrieve-headers)\n\t(nntp-retrieve-articles):\n\t* lisp/imenu.el (imenu--relative-position):\n\t* lisp/international/ja-dic-cnv.el (skkdic-collect-okuri-nasi)\n\t(skkdic-convert-okuri-nasi):\n\t* lisp/net/ange-ftp.el (ange-ftp-process-handle-hash):\n\t* lisp/nxml/rng-valid.el (rng-compute-mode-line-string):\n\t* lisp/org/org-list.el (org-update-checkbox-count):\n\t* lisp/org/org.el (org-table-map-tables)\n\t(org-update-parent-todo-statistics):\n\t* lisp/play/decipher.el (decipher-insert-frequency-counts)\n\t(decipher-analyze-buffer):\n\t* lisp/profiler.el (profiler-format-percent):\n\t* lisp/progmodes/cc-cmds.el (c-progress-update):\n\t* lisp/progmodes/cpp.el (cpp-highlight-buffer):\n\t* lisp/progmodes/idlwave.el (idlwave-convert-xml-system-routine-info)\n\t(idlwave-list-load-path-shadows):\n\t* lisp/progmodes/opascal.el (opascal-step-progress):\n\t* lisp/progmodes/vhdl-mode.el (vhdl-update-progress-info)\n\t(vhdl-scan-directory-contents):\n\t* lisp/textmodes/bibtex.el (bibtex-progress-message):\n\t* lisp/textmodes/flyspell.el (flyspell-small-region)\n\t(flyspell-external-point-words):\n\t* lisp/textmodes/table.el (table-recognize):\n\tPrefer (floor (* 100.0 NUMERATOR) DENOMINATOR) when calculating\n\tprogress-report percentages and the like.  This avoids problems\n\tif (* 100 NUMERATOR) would overflow.\n\t* lisp/gnus/gnus-registry.el (gnus-registry-import-eld):\n\t* lisp/gnus/registry.el (registry-reindex):\n\tUse (* 100.0 ...) rather than (* 100 ...) to avoid int overflow issues.\n\t* lisp/descr-text.el (describe-char):\n\t* lisp/org/org-colview.el (org-nofm-to-completion):\n\t* lisp/ps-print.el (ps-plot):\n\t* lisp/simple.el (what-cursor-position):\n\tPrefer (round (* 100.0 NUMERATOR) DENOMINATOR) to a\n\tmore-complicated and less-accurate approximation.\n\n\tFix some int overflows in profiler.c\n\t* src/profiler.c (make_log): Make args EMACS_INT, not int,\n\tto avoid unwanted behavior on 'int' overflow.\n\t(make_log, evict_lower_half, record_backtrace):\n\tUse ptrdiff_t, not int, for object indexes.\n\n\tPort to pedantic memcpy\n\t* src/keyboard.c (menu_bar_items, tool_bar_items):\n\t* src/xrdb.c (magic_db):\n\tPort to pedantic memcpy implementations that reject memcpy (0, 0, 0).\n\n\tMerge from gnulib\n\tThis incorporates:\n\t2015-07-29 time_rz: port to pedantic memcpy\n\t* lib/time_rz.c: Copy from gnulib.\n\n2015-07-31  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/tabulated-list.el (tabulated-list-print):\n\tWhen updating the very last entry, tabulated-list-print would\n\terase it and then try to look at the next one (which obviously\n\tisn't there).\n\n2015-07-31  Eli Zaretskii  <eliz@gnu.org>\n\n\tAllow to use the old key processing code on MS-Windows\n\t* src/w32fns.c (syms_of_w32fns) <w32-use-fallback-wm-chars-method>:\n\tNew variable.\n\t(w32_wnd_proc): Use it to invoke the old code that processed\n\tcharacter keys, as fallback, when this variable is non-nil.\n\tFix typos in comments.  (Bug#19994)\n\n2015-07-31  Ilya Zakharevich  <ilya@math.berkeley.edu>\n\n\tImprove handling of Unicode keyboard input on MS-Windows\n\t* src/w32fns.c (get_wm_chars, deliver_wm_chars): New functions.\n\t(FPRINTF_WM_CHARS) [DEBUG_WM_CHARS]: New macro for debugging.\n\t(w32_wnd_proc): Call deliver_wm_chars to process non-special keys\n\tupon receiving WM_KEYDOWN or WM_SYSKEYDOWN messages.  If that is\n\tsuccessful, don't call TranslateMessage.  (Bug#19994)\n\n2015-07-30  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tFix default-directory in changeset diffs after vc-print-log\n\t* lisp/vc/log-view.el (log-view-diff-common): Move the\n\trevision-granularity check back into log-view-diff-changeset.\n\t(log-view-diff-changeset): Bind default-directory to the current\n\tVC root.\n\n\tRename project-directories to project-roots\n\t* lisp/progmodes/project.el (project-search-path-function)\n\t(project-search-path): Update the docstring.\n\t(project-directories): Rename to `project-roots', update all\n\tcallers and implementations accordingly.\n\t(project-root): Remove.\n\t* lisp/progmodes/xref.el (xref-find-regexp): Use * instead of *.*\n\tas the default file mask.\n\n2015-07-30  Eli Zaretskii  <eliz@gnu.org>\n\n\tSupport long URLs in w32-shell-execute\n\t* src/w32fns.c (Fw32_shell_execute): Don't use filename_to_utf16\n\tand filename_to_ansi to convert the DOCUMENT argument, as it could\n\tbe a URL that is not limited to MAX_PATH characters.  Instead, use\n\tMultiByteToWideChar directly, and allocate heap storage as\n\trequired to accommodate the converted string.  Likewise with\n\tnon-Unicode operation.  Ensure OPERATION is null-terminated, even\n\tif it is longer than 32K bytes.  (Bug#21158)\n\n2015-07-30  Stephen Leake  <stephen_leake@stephe-leake.org>\n\n\t* lisp/vc/vc-mtn.el (vc-mtn-find-revision): Handle null rev.\n\n2015-07-29  Stephen Leake  <stephen_leake@stephe-leake.org>\n\n\tAdd docs for display-buffer action display-buffer-use-some-frame\n\t* lisp/window.el (display-buffer-use-some-frame): Improve doc string.\n\t* doc/lispref/windows.texi (Display Action Functions):\n\tAdd display-buffer-use-some-frame.\n\t* etc/NEWS: Mention display-buffer-use-some-frame.\n\n\tAdd display-buffer action display-buffer-use-some-frame\n\t* lisp/window.el (display-buffer-use-some-frame): New.\n\n\tHandle vc-mtn error more gently\n\t* lisp/vc/vc-mtn.el (vc-mtn-mode-line-string): Return \"\" when\n\tbranch is nil.\n\n2015-07-29  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix Tramp problems with multihops, and nc\n\t* lisp/net/tramp-cache.el (tramp-get-file-property)\n\t(tramp-set-file-property, tramp-flush-file-property)\n\t(tramp-get-connection-property, tramp-set-connection-property)\n\t(tramp-flush-connection-property): Remove hop from vector.\n\t* lisp/net/tramp-gw.el (tramp-gw-process-filter): Ignore errors.\n\t* lisp/net/tramp-sh.el (tramp-methods) <nc>: Separate STDERR.\n\t(tramp-do-copy-or-rename-file-out-of-band): Increase timeout of\n\tnetstat to 60\".\n\t(tramp-sh-handle-start-file-process): Do not show hops in prompt.\n\t* lisp/net/tramp.el (tramp-handle-file-name-as-directory)\n\t(tramp-handle-file-name-directory, tramp-handle-file-remote-p):\n\tKeep hop in result.\n\t* test/automated/tramp-tests.el (tramp-test02-file-name-dissect):\n\tAdd hop tests.\n\n2015-07-29  Eli Zaretskii  <eliz@gnu.org>\n\n\tResurrect highlighting of repeated words by Flyspell Mode\n\t* lisp/textmodes/flyspell.el (flyspell-word): Leave some non-word\n\tcharacters between point and the doublon candidate, so that\n\tflyspell-word-search-backward finds it.  (Bug#21157)\n\n\tFix redisplay of large images on expose events\n\t* src/xdisp.c (expose_window, expose_area): Avoid comparisons\n\tbetween signed negative values and unsigned values.  This\n\tprevented redisplay on expose events when the window showed a very\n\tlarge image.\n\n2015-07-29  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRemove unnecessary stack overflow dependency\n\t* configure.ac (HAVE_STACK_OVERFLOW_HANDLING):\n\tDon't worry about $ac_cv_header_sys_resource_h and\n\t$ac_cv_func_getrlimit, as they're no longer needed for this.\n\tProblem reported by Eli Zaretskii in:\n\thttps://lists.gnu.org/r/emacs-devel/2015-07/msg00443.html\n\n2015-07-28  Andy Moreton  <andrewjmoreton@gmail.com>  (tiny change)\n\n\tPacify compilation -Wincompatible-pointer-types warnings\n\t* src/w32proc.c (Fw32_get_codepage_charset): Avoid compilation\n\twarning.\n\t(CompareStringW_Proc): New typedef.\n\t(w32_compare_strings): Use it, to pacify compiler warnings under\n\t\"-Wincompatible-pointer-types\".\n\t* src/w32fns.c (GetDiskFreeSpaceExW_Proc)\n\t(GetDiskFreeSpaceExA_Proc): New typedefs.\n\t(Ffile_system_info): Use them, to pacify compiler warnings under\n\t\"-Wincompatible-pointer-types\".\n\n2015-07-28  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix subscript error in calculate_direct_scrolling\n\tUse slightly-longer cost vectors.  Without this change,\n\tcalculate_direct_scrolling can have a subscript violation when\n\tFRAME_LINES (frame) <= delta.\n\t* src/scroll.c (calculate_scrolling, calculate_direct_scrolling)\n\t(line_ins_del, do_line_insertion_deletion_costs):\n\tAllocate and use slightly-larger cost vectors, ones based on\n\tFRAME_TOTAL_LINES instead of FRAME_LINES.\n\n\tFix uninitalized value in encode_coding_object\n\t* src/coding.c (encode_coding_object): Also initialize\n\tcoding->src_pos and coding->src_pos_byte when NILP (src_object).\n\tThis avoids later use of uninitialized storage.\n\n2015-07-27  Xue Fuqiao  <xfq.free@gmail.com>\n\n\t* doc/lispref/variables.texi (Variable Aliases): Typo fix.\n\t(Bug#21141)\n\n2015-07-27  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from gnulib\n\tThis incorporates:\n\t2015-07-27 time_rz: port better to MinGW\n\t2015-07-27 time: port __need_time_t to MinGW\n\t* lib/gnulib.mk, m4/gnulib-comp.m4: Regenerate.\n\t* lib/strftime.c, lib/time.in.h, lib/time_rz.c: Copy from gnulib.\n\t* lib/time-internal.h: New file, from gnulib.\n\n2015-07-27  Eli Zaretskii  <eliz@gnu.org>\n\n\tHandle NULL pointers in w32heap.c allocation routines\n\t* src/w32heap.c (FREEABLE_P): Consider a NULL pointer \"not\n\tfreeable\".\n\t(realloc_after_dump, realloc_before_dump, free_before_dump):\n\tHandle NULL pointers gracefully, as Emacs now seems to expect that.\n\n\tFix Cairo build without PNG\n\t* src/image.c: Define PNG function when USE_CAIRO is defined, even\n\tif HAVE_PNG is not.  (Bug#21133)\n\n\tMS-Windows follow-up for recent TZ-related changes\n\t* nt/mingw-cfg.site (ac_cv_header_pthread_h)\n\t(gl_cv_sys_struct_timespec_in_pthread_h): Force to \"no\", to avoid\n\tpicking up 'struct timespec' from pthread.h, if it is installed on\n\tthe user's system.  We want either the definitions from MinGW\n\tsystem headers, if available, or the Gnulib replacements if not.\n\t* nt/inc/ms-w32.h <struct timespec>: Don't define, as we now use\n\tlib/time.h.\n\t* lib/time.in.h: Don't let __need_* symbols affect what happens on\n\tMinGW.  These symbols are defined by MinGW system headers, but we\n\tdon't want that to affect whether Gnulib portions of the header\n\tare or aren't used.\n\n2015-07-26  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* src/ftfont.c (ftfont_close): Add comment re Bug#20890.\n\n\tNew optional ZONE arg for format-time-string etc.\n\tThis simplifies time conversions in other time zones.\n\tIt also prevents display-time-world tampering with TZ (Bug#21020).\n\t* admin/admin.el (add-release-logs):\n\tUse improved add-log-time-format API.\n\t* admin/merge-gnulib (GNULIB_MODULES): Add time_rz, timegm.\n\t(GNULIB_TOOL_FLAGS): Avoid flexmember, setenv, unsetenv.\n\t* configure.ac (tzalloc): Remove test for this, since\n\tEmacs no longer uses HAVE_TZALLOC directly.\n\t* doc/lispref/os.texi (Time of Day, Time Conversion)\n\t(Time Parsing):\n\t* etc/NEWS: Document the new behavior.\n\tMerge from gnulib, incorporating:\n\t2015-07-25 strftime: fix newly-introduced bug on Solaris\n\t2015-07-23 fprintftime, strftime: use timezone_t args\n\t* lib/gnulib.mk, m4/gnulib-comp.m4: Regenerate.\n\t* lib/strftime.c, lib/strftime.h, lib/time.in.h, m4/sys_time_h.m4:\n\t* m4/time_h.m4:\n\tUpdate from gnulib.\n\t* lib/time_rz.c, lib/timegm.c, m4/time_rz.m4, m4/timegm.m4:\n\tNew files from gnulib.\n\t* lisp/time-stamp.el (time-stamp-string):\n\t* lisp/time.el (display-time-world-list)\n\t(display-time-world-display):\n\tUse new API, with time zone arg.\n\t* lisp/time.el (display-time-world-display):\n\tFix race when current-time advances while we're running.\n\t* lisp/vc/add-log.el (add-log-iso8601-time-zone)\n\t(add-log-iso8601-time-string): Accept optional time zone arg.\n\t* lisp/vc/add-log.el (add-change-log-entry):\n\t* lisp/vc/log-edit.el (log-edit-changelog-ours-p): Use new arg.\n\t* nt/gnulib.mk: Propagate lib/gnulib.mk changes here.\n\tAdd rules for the time module, since they're now needed\n\tfor tzalloc etc.\n\t* src/conf_post.h (getenv_TZ, setenv_TZ): New macros.\n\t(emacs_getenv_TZ, emacs_setenv_TZ): New decls.\n\t* src/editfns.c: Include errno.h.\n\t(set_time_zone_rule): Omit unnecessary forward decl.\n\t(initial_tz): Remove, replacing with ...\n\t(local_tz, wall_clock_tz, utc_tz): New static vars and constants.\n\t(tzeqlen): New constant; prefer it to (sizeof \"TZ=\" - 1).\n\t(emacs_localtime_rz, emacs_mktime_z, xtzalloc, xtzfree)\n\t(tzlookup): New static functions.\n\t(init_editfns): New arg DUMPING.  All uses changed.\n\t(init_editfns): Omit most initialization if dumping, not if\n\t!initialized.  Initialize wall_clock_tz and local_tz.\n\t(emacs_nmemftime, format_time_string): Time zone argument can now\n\tbe any time zone, not just a boolean for UTC or local time.  All\n\tcallers changed.\n\t(Fformat_time_string, Fencode_time, Fcurrent_time_string)\n\t(Fcurrent_time_zone): New optional arg ZONE.\n\t(Fdecode_time, Fset_time_zone_rule): ZONE arg can now also take\n\tthe same form as with the other new additions.\n\t(decode_time_zone): Remove; no longer needed.\n\t(tzvalbuf): Now file-scope.\n\t(emacs_getenv_TZ, emacs_setenv_TZ): New functions.\n\t(syms_of_editfns): Define Qwall.\n\t* src/editfns.c (mktime_z) [!HAVE_TZALLOC]:\n\t* src/systime.h (mktime_z, timezone_t, tzalloc, tzfree)\n\t[!HAVE_TZALLOC]:\n\tRemove; now supplied by gnulib.\n\t* src/emacs.c (main):\n\t* src/lisp.h (init_editfns): Adjust to init_editfns API change.\n\n2015-07-26  Shigeru Fukaya  <shigeru.fukaya@gmail.com>\n\n\tFix infinite loop in delete-consecutive-dups\n\t* lisp/subr.el (delete-consecutive-dups): Work even if the last\n\telement is nil (Bug#20588).  Avoid rescan of a circular list in\n\tdeletion of last element.\n\n2015-07-26  Martin Rudalics  <rudalics@gmx.at>\n\n\tHave `x-frame-geometry' return nil for terminal and initial\n\tframes (Bug#21132)\n\t* src/nsfns.m (Fx_frame_geometry):\n\t* src/xfns.c (Fx_frame_geometry): Return nil for initial and\n\tterminal frames.\n\t* src/w32fns.c (Fw32_frame_menu_bar_size, Fw32_frame_rect)\n\t(Fx_frame_geometry): Return nil for terminal frames\n\n2015-07-26  HOSOYA Kei  <hosoyakei.free@gmail.com>  (tiny change)\n\n\t* etc/tutorials/TUTORIAL.ja: Improve translation.\n\n2015-07-25  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid crashes when w32 GUI functions are called in -batch\n\t* src/w32fns.c (Fx_frame_geometry, Fw32_frame_rect)\n\t(Fw32_frame_menu_bar_size, Fw32_send_sys_command): Don't call\n\tFRAME_W32_WINDOW for initial frame.  (Bug#21132)\n\n\tFix flyspell-check-previous-highlighted-word\n\t* lisp/textmodes/flyspell.el\n\t(flyspell-check-previous-highlighted-word): Really accept a\n\tnumeric argument, as the doc string describes.  Fix an off-by-one\n\terror in looking up overlays, so invocation with point immediately\n\tafter a word would check that word.  Clarify the doc string as\n\tSuggested by N. Jackson <nljlistbox2@gmail.com>.  (Bug#21129)\n\n2015-07-24  Michael Albinus  <michael.albinus@gmx.de>\n\n\tMinor cleanup in tramp-tests.el\n\t* test/automated/tramp-tests.el (tramp-test31-*, tramp-test32-*):\n\tImplement using the documented interface\n\t`tramp-connection-properties', rather than with internal functions.\n\n2015-07-24  Harald Hanche-Olsen  <hanche@math.ntnu.no>  (tiny change)\n\n\tPass lambdas to `skeleton-read'\n\t* lisp/skeleton.el (skeleton-read): Allow PROMPT to be a function.\n\t* lisp/textmodes/sgml-mode.el (sgml-attributes, sgml-value): Pass\n\tlambdas to `skeleton-read' (bug#20386).\n\n2015-07-24  Eli Zaretskii  <eliz@gnu.org>\n\n\t* INSTALL (DETAILED BUILDING AND INSTALLATION):\n\tMention --without-imagemagick.\n\n\tDon't require GUI frames and mouse for Flyspell menus\n\t* lisp/textmodes/flyspell.el (flyspell-correct-word-before-point)\n\t(flyspell-emacs-popup): Require neither a GUI frame nor mouse\n\tsupport, since pop-up menus work with text terminals and can be\n\tcontrolled via the keyboard.\n\n\tImprove documentation of Flyspell commands\n\t* doc/emacs/fixit.texi (Spelling): Mention Flyspell commands that\n\tcan be invoked via the keyboard.  Mention those commands by name\n\tand add them to the fn index.  (Bug#21125)\n\n2015-07-23  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix some Tramp problems with HP-UX\n\t* lisp/net/tramp-sh.el (tramp-open-connection-setup-interactive-shell):\n\tAdd \"tab0\" to stty call.\n\t* test/automated/tramp-tests.el (tramp-persistency-file-name):\n\tSet to nil.\n\t(tramp--test-hpux-p): New defun.\n\t(tramp--test-utf8): Use it.\n\n2015-07-22  Glenn Morris  <rgm@gnu.org>\n\n\t* build-aux/update-subdirs: Put \"no-update-autoloads: t\" in output.\n\n2015-07-22  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix point positioning in ffap-next-guess\n\t* lisp/ffap.el (ffap-url-at-point): Set ffap-string-at-point-region,\n\tas our callers expect.  This was clobbered as part of fixing\n\tbug#5673.  (Bug#21107)\n\t(ffap-gopher-at-point): Set ffap-string-at-point-region.\n\n2015-07-22  Martin Rudalics  <rudalics@gmx.at>\n\n\t* lisp/window.el (even-window-sizes): Fix customization type.\n\n\tOptionally even widths of `display-buffer' windows.  (Bug#21100)\n\t* lisp/window.el (quit-restore-window): Restore width if\n\trequested.\n\t(display-buffer-record-window): Record width when window is\n\treused and horizontally combined.\n\t(even-window-sizes): New option to allow evening window widths.\n\t(even-window-heights): Defalias to `even-window-sizes'.\n\t(window--even-window-heights): Rename to\n\t`window--even-window-sizes'.  Handle side-by-side windows.\n\t(display-buffer-use-some-window): Call `window--even-window-sizes'\n\tinstead of `window--even-window-heights'.\n\t* lisp/help.el (resize-temp-buffer-window): Fix indentation.\n\t* doc/lispref/windows.texi (Choosing Window Options): Describe\n\t`even-window-sizes'.\n\t(Coordinates and Windows): Fix typo.\n\n2015-07-22  Stephen Leake  <stephen_leake@stephe-leake.org>\n\n\tAdd file name to autoload error messages\n\t* lisp/emacs-lisp/autoload.el (autoload-save-buffers):\n\tAdd condition-case to add file name to error message.\n\n2015-07-22  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* lisp/net/tramp-sh.el (tramp-ssh-controlmaster-options):\n\tUse 0.0.0.1 as test host.\n\n2015-07-21  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t(advice--called-interactively-skip): Fix inf-loop (bug#21083)\n\t* lisp/emacs-lisp/nadvice.el (advice--called-interactively-skip):\n\tFix inf-loop (bug#21083).\n\n2015-07-21  Glenn Morris  <rgm@gnu.org>\n\n\t* test/automated/package-test.el (package-test-signed):\n\tUpdate for recent changes.\n\n\t* test/automated/elisp-mode-tests.el\n\t(elisp-xref-finds-both-function-and-variable)\n\t(elisp-xref-finds-only-function-for-minor-mode):\n\tUpdate for recent xref name changes.\n\n2015-07-21  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tMake eldoc timer non-repeatable\n\t* lisp/emacs-lisp/eldoc.el (eldoc-schedule-timer): Make the timer\n\tnon-repeatable.  Since it's on post-command hook, that just wasted\n\tCPU cycles.\n\n2015-07-21  Michael Albinus  <michael.albinus@gmx.de>\n\n\tMention `tramp-connection-properties' in NEWS\n\n\tSync with Tramp repository\n\t* doc/misc/tramp.texi (Configuration): Note, that Tramp must be\n\trequired prior changing its configuration.\n\t(Connection caching, Predefined connection information)\n\t(Remote shell setup): Fix typos.\n\t(Predefined connection information): Describe, how to overwrite\n\tparameters of `tramp-methods'.\n\t(Remote programs, Remote processes, Traces and Profiles):\n\tSimplify example.\n\t(Remote programs): Remove superfluous comment.\n\t* doc/misc/trampver.texi: Update release number.\n\t* lisp/net/tramp-cache.el (tramp-connection-properties):\n\tAdapt docstring.\n\t* lisp/net/tramp-gvfs.el (tramp-gvfs-do-copy-or-rename-file): New defun.\n\t(tramp-gvfs-handle-copy-file, tramp-gvfs-handle-rename-file): Use it.\n\t(tramp-gvfs-handle-make-directory): Reimplement PARENTS handling,\n\t\"gvfs-mkdir -p ...\" does not work robust.\n\t(tramp-gvfs-maybe-open-connection):\n\tAdapt `tramp-get-method-parameter' call.\n\t* lisp/net/tramp-sh.el (tramp-methods):\n\tAdd `tramp-remote-shell-login' parameter where it fits.\n\t(tramp-get-remote-path): Use it.\n\t(tramp-make-copy-program-file-name): Fix quoting for \"psftp\" method.\n\t(all): Adapt `tramp-get-method-parameter' calls.\n\t* lisp/net/tramp.el (tramp-methods): Adapt docstring.\n\t(tramp-get-method-parameter): Replace argument METHOD by VEC.\n\tCheck also for hits in `tramp-connection-properties'.  Adapt docstring.\n\t(tramp-get-remote-tmpdir): Cache only the local name of tmpdir.\n\t(all): Adapt `tramp-get-method-parameter' calls.\n\t* lisp/net/trampver.el: Update release number.\n\t* test/automated/tramp-tests.el (tramp--instrument-test-case):\n\tAdd \"^make-symbolic-link not supported$\" to `debug-ignored-errors'.\n\t(tramp-test13-make-directory, tramp--test-adb-p)\n\t(tramp--test-smb-or-windows-nt-p): Simplify.\n\t(tramp--test-ftp-p, tramp--test-gvfs-p): New defuns.\n\t(tramp--test-special-characters): Fix docstring.  Add gvfs and\n\tftp tests.\n\t(tramp--test-utf8): Fix docstring.\n\n2015-07-20  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tAdd new xref-query-replace command\n\t* lisp/progmodes/xref.el (xref--match-buffer-bounds):\n\tNew function, extracted from xref-pulse-momentarily.\n\t(xref-query-replace): New command.\n\t(xref--query-replace-1): New helper function.\n\t(xref--xref-buffer-mode-map): Add `r' binding.\n\n2015-07-20  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSimplify icalendar decoding of Z dates\n\t* lisp/calendar/icalendar.el (icalendar--decode-isodatetime):\n\tSimplify calculation of time strings with trailing \"Z\".\n\n2015-07-19  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tDo not corrupt grep-find-ignored-files\n\t* lisp/progmodes/project.el (project-ignores): Change the order of\n\tthe arguments to nconc, in order not to corrupt grep-find-ignored-files.\n\n\tAdd xref-match-item, and use it\n\t* lisp/progmodes/xref.el (xref-match-bounds): New generic function.\n\t(xref-file-location): Add reader for the column slot.\n\t(xref-match-item): New class.\n\t(xref-match-bounds): A method implementation for it.\n\t(xref-make-match): New constructor function.\n\t(xref--current-item): New private variable.\n\t(xref-pulse-momentarily): Use it.\n\t(xref--pop-to-location): Change the first argument to an xref\n\titem, instead of location, bind xref--current-item.\n\tUpdate all callers.\n\t(xref-next-line, xref-prev-line, xref--next-error-function)\n\t(xref--mouse-2): Look for the property `xref-item',\n\tinstead of `xref-location'.\n\t(xref--item-at-point): Likewise.  This function replaces\n\t`xref-location-at-point'.  Update all callers.\n\t(xref--insert-xrefs): Add the `xref-item' text property, instead\n\tof `xref-location'.\n\t(xref--collect-match): Use xref-make-match.\n\n\t* lisp/progmodes/xref.el (xref-item): Rename from `xref--xref'.\n\tUpdate all references.\n\n\t* lisp/progmodes/xref.el (xref--xref): Rename the `description'\n\tslot to `summary'.\n\n\tvc-hg: Perform the print-log call asynchronously\n\t* lisp/vc/vc-hg.el (vc-hg-print-log): Perform the call\n\tasynchronously (bug#21067).\n\n\tAdd xref-after-jump-hook and xref-after-return-hook\n\t* lisp/progmodes/xref.el (xref-after-jump-hook)\n\t(xref-after-return-hook): New hooks.\n\t(xref-pulse-on-jump): Remove, in favor of the above.\n\t(xref-pulse-momentarily): Rename from xref--maybe-pulse.\n\t(xref--pop-to-location, xref--display-position)\n\t(xref-pop-marker-stack): Use the new hooks, as requested in\n\thttps://lists.gnu.org/r/emacs-devel/2015-07/msg00213.html\n\n2015-07-19  Bozhidar Batsov  <bozhidar@batsov.com>\n\n\t* lisp/progmodes/js.el (js-mode): Correct the lighter.\n\n2015-07-19  Leo Liu  <sdl.web@gmail.com>\n\n\tFix a bug in cfengine3-mode\n\t* lisp/progmodes/cfengine.el (cfengine3-mode): Handle nil\n\teldoc-documentation-function.\n\n2015-07-18  Julien Danjou  <julien@danjou.info>\n\n\tsieve-mode: support \"body\" test command\n\t* lisp/gnus/sieve-mode.el (sieve-font-lock-keywords):\n\tAdd missing \"body\" test command.\n\n2015-07-18  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix info-apropos when the default encoding is Latin-N\n\t* lisp/info.el (Info-find-node-2): Reset the buffer's encoding to\n\t'undecided', so that it is set to the encoding of the Info file we\n\tare about to insert.  Otherwise, 'info-apropos' will fail to find\n\tsome index nodes in some UTF-8 encoded files, if the buffer's\n\tprevious encoding is Latin-N or some such.\n\n2015-07-18  Ivan Andrus  <darthandrus@gmail.com>\n\n\t* lisp/epg.el (epg--start): Check that gpgconf can be found\n\tbefore calling it.\n\n\tExpose more file types to OS X that Emacs understands\n\t* nextstep/Cocoa/Emacs.base/Contents/Info.plist: Add editor role for\n\tsty, dtx, json, and org files.  Export UTIs for el, elc, and org files.\n\n2015-07-18  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix visual-order cursor movement when lines are truncated\n\t* src/xdisp.c (Fmove_point_visually): When lines are truncated,\n\tsimulate display in a window of infinite width, to allow move_it_*\n\tfunctions reach positions outside of normal window dimensions.\n\tRemove code that tried to handle a subset of these situations by\n\tmanual iteration of buffer text.  (Bug#17777)\n\n\tFix following Info cross-references to anchors\n\t* lisp/info.el (Info-read-subfile): Add to the returned value the\n\tlength of subfile preamble, after converting it to file's byte\n\toffset, as expected by the caller.  Use bufferpos-to-filepos.\n\t(Info-find-node-2): If searching for a node with a\n\t1000-character slop fails, try again with a 10000-character slop,\n\tto account for known bugs in Texinfo 5.0 and 5.1.  (Bug#21055)\n\t* lisp/international/mule-util.el (bufferpos-to-filepos): New\n\tfunction.\n\t* etc/NEWS: Mention bufferpos-to-filepos.\n\n\tFix scrolling backwards on TTY frames under scroll-conservatively\n\t* src/xdisp.c (move_it_vertically_backward): Fix off-by-one error\n\tin moving backwards on TTY frames.  (Bug#21080)\n\n2015-07-17  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tConsider a jsdoc tag to be a beginning of a paragraph as well\n\t* lisp/progmodes/js.el (js-mode): Change c-paragraph-start to\n\tconsider a jsdoc tag to be a beginning of a paragraph as well.\n\n2015-07-17  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el: Fix warnings.\n\n\t* lisp/emacs-lisp/package.el (package-buffer-info):\n\tAdd author and maintainers to `package-buffer-info'.\n\n\t* lisp/emacs-lisp/package.el: Many small changes.\n\tReplace all instances of 'face with 'font-lock-face.\n\t(describe-package-1): Improve some strings and move the summary\n\tup the list.\n\t(package-install-file): Update docstring.\n\t(package-menu-hide-package): Bind to `H'.\n\n\t* lisp/emacs-lisp/package.el (package--with-work-buffer-async):\n\tFix error handling.\n\n2015-07-17  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix hang with large yanks This should fix the bug fixed by Mike\n\tCrowe's patch in:\n\thttps://lists.gnu.org/r/emacs-devel/2015-07/msg00106.html\n\tA problem in this area has been reported by several users; see\n\tBug#16737, Bug#17101, Bug#17026, Bug#17172, Bug#19320, Bug#20283.\n\tThis fix differs from Mike Crowe's patch in that it should avoid a\n\trace condition that could lose SIGIO signals.  ignore_sigio dates\n\tback to the 1980s when some platforms couldn't block signals, and\n\tcould only ignore them, which led to races when signals arrived\n\twhile being ignored.  We shouldn't have to worry about those old\n\tplatforms now.\n\t* src/dispextern.h, src/sysdep.c (ignore_sigio): Remove.\n\t* src/emacs.c (shut_down_emacs):\n\tDon't call ignore_sigio; unrequest_sigio should suffice.\n\t* src/keyboard.c (kbd_buffer_store_buffered_event):\n\tUse unrequest_sigio, not ignore_sigio.\n\t(kbd_buffer_get_event):\n\tCall request_sigio when getting the ball rolling again.\n\n2015-07-17  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/obsolete/longlines.el (longlines-search-function):\n\tFallback on `isearch-search-fun-default'.\n\n2015-07-17  Tassilo Horn  <tsdh@gnu.org>\n\n\tSupport @-mentions\n\t* lisp/net/rcirc.el (rcirc-completion-at-point): Support completion\n\tof mentions/messages with @nick instead of just nick.\n\n2015-07-16  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix bug#20943\n\t* lisp/autorevert.el (auto-revert-handler): Do not check for\n\t`buffer-modified-p'.\n\t* lisp/files.el (buffer-stale--default-function): Check for\n\t`buffer-modified-p'.\n\t* test/automated/auto-revert-tests.el\n\t(auto-revert-test02-auto-revert-mode-dired): Adapt test.\n\n2015-07-16  Ari Roponen  <ari.roponen@gmail.com>\n\n\tFix delete-dups bug on long lists\n\t* lisp/subr.el (delete-dups):\n\tDon't mistakenly keep some dups when applied to long lists.\n\n2015-07-16  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tBetter heuristic for C stack overflow\n\tImprove the heuristic for distinguishing stack overflows from\n\tother SIGSEGV causes (Bug#21004).  Corinna Vinschen explained that\n\tthe getrlimit method wasn't portable to Cygwin; see:\n\thttps://www.cygwin.com/ml/cygwin/2015-07/msg00092.html\n\tCorinna suggested pthread_getattr_np but this also has problems.\n\tInstead, replace the low-level system stuff with a simple\n\theuristic based on known good stack addresses.\n\t* src/eval.c, src/lisp.h (near_C_stack_top): New function.\n\t* src/sysdep.c: Don't include <sys/resource.h>.\n\t(stack_direction): Remove.  All uses removed.\n\t(stack_overflow): New function.\n\t(handle_sigsegv): Use it instead of incorrect getrlimit heuristic.\n\tMake SEGV fatal in non-main threads.\n\n2015-07-16  Daiki Ueno  <ueno@gnu.org>\n\n\tepg: Automatically start pinentry server\n\t* lisp/epg-config.el (epg-gpgconf-program): New variable.\n\t* lisp/epg.el (epg--start): Call `pinentry-start' if\n\tallow-emacs-pinentry is set in ~/.gnupg/gpg-agent.conf.\n\n2015-07-15  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\t* lisp/gnus/nnimap.el: Fix my last bogus change.\n\tReinstall Stefan Monnier's change that was made in\n\t<83d824bc4041332f338ad7e5e830f443535aa300>.\n\n2015-07-15  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from gnulib\n\tThis incorporates:\n\t2015-07-05 acl-permissions: Document FreeBSD ACL_TYPE_NFS4 acls\n\t2015-07-05 acl-permissions: Fix on FreeBSD\n\t2015-07-05 file-has-acl, acl-permissions: fix some more HP-UX typos\n\t* lib/acl-internal.c, lib/acl-internal.h, lib/get-permissions.c:\n\t* lib/set-permissions.c: Copy from gnulib.\n\n\tPort to stricter C99\n\t* src/keyboard.h (kbd_buffer_store_event_hold):\n\tDon't return a void expression.\n\n2015-07-15  Xue Fuqiao  <xfq.free@gmail.com>\n\n\t* doc/emacs/frames.texi (Creating Frames):\n\tFix the command `C-x 5 m' runs.\n\n2015-07-14  Michael Albinus  <michael.albinus@gmx.de>\n\n\tNew autorevert tests\n\t* test/automated/auto-revert-tests.el: New file.\n\n2015-07-14  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tClear gcprolist etc. after stack overflow\n\tAfter stack overflow, command_loop calls init_eval, and this needs to\n\tclear gcprolist and byte_stack_list (Bug#20996).\n\t* src/alloc.c (init_alloc):\n\tMove gcprolist and byte_stack_list initialization from here ...\n\t* src/eval.c (init_eval): ... to here.\n\n2015-07-13  Xue Fuqiao  <xfq.free@gmail.com>\n\n\t* doc/emacs/windows.texi (Pop Up Window): Fix the description\n\tof `C-x 4 m'.\n\n2015-07-13  YAMAMOTO Mitsuharu  <mituharu@math.s.chiba-u.ac.jp>\n\n\tAvoid deprecated enums in mac-ct font backend driver\n\t* src/macfont.m (mac_font_copy_default_descriptors_for_language)\n\t(mac_ctfont_get_advance_width_for_glyph)\n\t(mac_ctfont_get_bounding_rect_for_glyph): Avoid deprecated enums.\n\n\tCache font family in mac-ct font backend driver\n\t* src/macfont.m (macfont_family_cache): New variable.\n\t(syms_of_macfont): Initialize it.\n\t(macfont_available_families_cache): New variable.\n\t(macfont_invalidate_family_cache, macfont_get_family_cache_if_present)\n\t(macfont_set_family_cache, macfont_invalidate_available_families_cache)\n\t(macfont_handle_font_change_notification)\n\t(macfont_init_font_change_handler)\n\t(macfont_copy_available_families_cache): New functions.\n\t(macfont_create_family_with_symbol): Use font family caches.\n\t(macfont_list, macfont_list_family):\n\tUse macfont_copy_available_families_cache instead of\n\tmac_font_create_available_families.\n\n2015-07-12  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tShow the default value in the prompt\n\t* lisp/progmodes/xref.el: Add `M-?' binding for\n\txref-find-references.  Declare functions `grep-read-files' and\n\t`grep-expand-template'.\n\t(xref--read-identifier): Show the default value in the prompt.\n\n\t* lisp/progmodes/xref.el (xref-find-regexp): When called with\n\tprefix argument, ask for file patterns to search as well.  When\n\tprompting for the directory, require an existing one.\n\t(xref-collect-matches): Add a new argument, FILES.  Use it in the\n\tabove function.\n\n\tAdd `project-ignores'\n\t* lisp/progmodes/project.el (project-ignores): New generic\n\tfunction, and an implementation for the VC project type.\n\t* lisp/progmodes/xref.el (xref--rgrep-command): Split, as a\n\tvariant of rgrep-default-command that handles a generic list of\n\tignores.\n\t(xref-collect-matches): Use it, and pass through to it the value\n\tof the newly added argument.\n\t(xref-find-regexp): Handle ignored paths within the project.\n\tRemove outdated comment.\n\t* lisp/vc/vc.el (vc-default-ignore-completion-table):\n\tSkip the comments and the empty lines.\n\n2015-07-12  Xue Fuqiao  <xfq.free@gmail.com>\n\n\t* doc/emacs/buffers.texi (Misc Buffer): Add a cross reference.\n\n2015-07-11  Eric Abrahamsen  <eric@ericabrahamsen.net>\n\n\tgnus-registry.el: Correct function argument order\n\t* lisp/gnus/gnus-registry.el (gnus-registry--set/remove-mark):\n\tReverse the order of function arguments.\n\n2015-07-11  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tBind grep-highlight-matches to nil\n\t* lisp/progmodes/xref.el (xref-collect-matches):\n\tBind grep-highlight-matches to nil (bug#20728).\n\n2015-07-11  Nikolaus Rath  <Nikolaus@rath.org>\n\n\tnnimap.el: Fix IMAP message size parsing\n\t* lisp/gnus/nnimap.el (nnimap-transform-headers):\n\tDon't assume that UID comes before RFC822.SIZE.\n\n2015-07-10  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/gnus/nnimap.el: Clean up \"unused var\" warnings\n\t(auth-source-creation-prompts): Declare.\n\t(nnimap-retrieve-headers, nnimap-status-message)\n\t(nnimap-request-create-group, nnimap-request-delete-group)\n\t(nnimap-close-group, nnimap-request-move-article)\n\t(nnimap-request-accept-article, nnimap-request-newgroups)\n\t(nnimap-request-post, nnimap-dummy-active-number)\n\t(nnimap-save-mail-spec, nnimap-get-groups): Add _ to unused vars.\n\t(nnimap-parse-flags): Remove unused var `p'.\n\t(nnimap-retrieve-group-data-early): Remove unused var `groups'.\n\t(nnimap-flags-to-marks): Remove unused var `totalp'.\n\n2015-07-10  Andy Moreton  <andrewjmoreton@gmail.com>  (tiny change)\n\n\t* src/w32heap.c (DUMPED_HEAP_SIZE): Bump to 20MB.\n\n2015-07-10  YAMAMOTO Mitsuharu  <mituharu@math.s.chiba-u.ac.jp>\n\n\t* src/macfont.m (macfont_list): Ignore font families lacking\n\tfont descriptors.\n\n2015-07-09  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tDon't check the exit status, it can be misleading\n\t* lisp/progmodes/xref.el (xref-collect-matches): Don't check the\n\texit status, it can be misleading.\n\n\tIntroduce a Project API\n\t* lisp/progmodes/project.el: New file.\n\t* lisp/cedet/ede.el (project-try-ede): New function.\n\t(project-root): New implementation.\n\t* lisp/progmodes/elisp-mode.el (emacs-lisp-mode):\n\tSet project-search-path-function.\n\t(elisp--xref-find-references): Delegate some logic to\n\tproject-search-path.\n\t(elisp-search-path): New function.\n\t(elisp-xref-find): Don't implement `matches' anymore.\n\t* lisp/progmodes/etags.el: Don't implement `matches'.\n\tDelegate some logic to project-search-path.\n\t(etags-search-path): New function.\n\t* lisp/progmodes/xref.el (xref-find-function):\n\tRemove `matches' from the API.\n\t(xref-find-regexp): Move whatever common logic was in elisp and\n\tetags implementations, and search the directories returned by\n\tproject-directories and project-search-path.\n\n2015-07-09  Nicolas Petton  <nicolas@petton.fr>\n\n\t* test/automated/map-tests.el (test-map-delete-return-value):\n\tUncomment test.\n\n\tAdd support for gv.el in map.el\n\t* lisp/emacs-lisp/map.el (map-elt, map-delete): Declare a gv-expander.\n\t* lisp/emacs-lisp/map.el (map-put): Refactor using `setf' and `map-elt'.\n\t* test/automated/map-tests.el: Update tests to work with the new\n\timplementations of map-elt and map-put.\n\n2015-07-09  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/emacs-lisp/debug.el (debug-help-follow): Use describe-symbol.\n\n2015-07-09  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tSyntax-propertize until the end of the line first\n\t* lisp/progmodes/xref.el (xref--collect-match): Syntax-propertize\n\tuntil the end of the line first.\n\n2015-07-09  Xue Fuqiao  <xfq.free@gmail.com>\n\n\t* doc/emacs/files.texi (File Archives): Add a cross reference.\n\n2015-07-08  Nikolaus Rath  <Nikolaus@rath.org>\n\n\tnnimap.el: Handle plain value for nnimap-stream\n\t* lisp/gnus/nnimap.el (nnimap-open-connection-1): Always query\n\tcapabilities, so that a 'plain value for the `nnimap-stream' server\n\tvariable is handled correctly.\n\t* doc/misc/gnus.texi (Customizing the IMAP Connection):\n\tDocument the 'plain option.\n\n2015-07-08  Leo Liu  <sdl.web@gmail.com>\n\n\tFix bug in thing-at-point--bounds-of-well-formed-url\n\t* lisp/thingatpt.el (thing-at-point--bounds-of-well-formed-url): Make\n\tsure boundary contains current point.\n\n2015-07-08  Dmitry Gutov  <dgutov@yandex.ru>\n\n\t* lisp/progmodes/xref.el (xref-collect-matches): Use `nreverse'\n\tin the end.\n\n\tDeclare whitespace-line-column a safe file-local\n\t* lisp/whitespace.el (whitespace-line-column): Declare to be a\n\tsafe file-local when the value is an integer.\n\n2015-07-08  Eric Abrahamsen  <eric@ericabrahamsen.net>\n\n\tgnus-group.el: Check if group names are already strings\n\t* lisp/gnus/gnus-group.el (gnus-group-group-name):\n\tThe group name may already be a string.\n\tSpecifically, in the group list reached from the *Server* buffer,\n\tthe 'gnus-group text property returns a string.  Everywhere else\n\tit returns a symbol.\n\n\tnnimap.el: Remove unused let variables\n\t* lisp/gnus/nnimap.el (nnimap-request-group): Variables are not used.\n\n2015-07-08  Eli Zaretskii  <eliz@gnu.org>\n\n\tSupport \"maximized\" property of runemacs's shortcut\n\t* nt/runemacs.c (WinMain): If runemacs is invoked \"maximized\", pass\n\tthe '--maximized' switch to Emacs.\n\n\tSupport \"minimized\" property of runemacs's shortcut\n\t* nt/runemacs.c (WinMain): If runemacs is invoked \"minimized\",\n\tpass the '--iconic' switch to Emacs.  (Bug#20991)\n\n2015-07-08  Xue Fuqiao  <xfq.free@gmail.com>\n\n\tDoc fixes\n\t* doc/emacs/files.texi (Diff Mode): Fix the description of `C-c\n\tC-w' in Diff mode.\n\t* doc/emacs/arevert-xtra.texi (Auto Reverting the Buffer Menu):\n\tAdd a cross reference.\n\n2015-07-08  Nicolas Richard  <youngfrog@members.fsf.org>\n\n\t* lisp/obsolete/landmark.el: Add Obsolete-since header.\n\n2015-07-07  Glenn Morris  <rgm@gnu.org>\n\n\t* test/automated/ert-tests.el (ert-test-deftest):\n\tUpdate for recent changes.\n\n2015-07-07  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t(gv-setter, gv-synthetic-place, gv-delay-error): New funs/macros\n\t* lisp/emacs-lisp/gv.el (gv-setter): New function.\n\t(gv-invalid-place): New error.\n\t(gv-get): Use them.\n\t(gv-synthetic-place, gv-delay-error): New places.\n\t* lisp/emacs-lisp/cl-generic.el (cl--generic-setf-rewrite): Remove.\n\t(cl-defgeneric, cl-defmethod): Use gv-setter.\n\n2015-07-07  Fabrice Popineau  <fabrice.popineau@gmail.com>\n\n\tMake vc-tests work with MSYS svn program\n\t* lisp/vc/vc-svn.el (vc-svn-create-repo): Fix the file:// URL when\n\tsvn is an MSYS program.\n\n2015-07-07  Ken Brown  <kbrown@cornell.edu>\n\n\tImprove recent change to emacsclient on Cygwin\n\t* lisp/server.el (server-process-filter): Remove redundant check\n\tthat 'cygwin-convert-file-name-from-windows' is defined as a\n\tfunction on Cygwin.  Don't call that function unless its argument\n\tstarts with a drive letter.\n\n2015-07-07  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el (package-compute-transaction):\n\tFix void variable due to `found-something' being in the wrong `let'.\n\n2015-07-07  Nicolas Richard  <theonewiththeevillook@yahoo.fr>\n\n\t* lisp/play/landmark.el: Move to lisp/obsolete/.\n\n2015-07-07  Martin Rudalics  <rudalics@gmx.at>\n\n\tHave `x-show-tip' handle `right' and `bottom' frame parameters\n\t* src/nsfns.m (compute_tip_xy, Fx_show_tip)\n\t* src/w32fns.c (compute_tip_xy, Fx_show_tip)\n\t* src/xfns.c (compute_tip_xy, Fx_show_tip): Allow aligning\n\ttooltips also via `right' and `bottom' frame parameters.\n\n2015-07-07  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tAdd online-help support to describe types\n\t* lisp/help-fns.el (describe-symbol-backends): Move to help-mode.el.\n\t(describe-symbol): Improve the selection of default.\n\t* lisp/help-mode.el: Require cl-lib.\n\t(describe-symbol-backends): Move from help-fns.el.\n\t(help-make-xrefs): Use it.\n\t* lisp/emacs-lisp/cl-extra.el (describe-symbol-backends): Add entry\n\tfor types.\n\t(cl--typedef-regexp): New const.\n\t(find-function-regexp-alist): Add entry for types.\n\t(cl-help-type, cl-type-definition): New buttons.\n\t(cl-find-class): New function.\n\t(cl-describe-type): New command.\n\t(cl--describe-class, cl--describe-class-slot)\n\t(cl--describe-class-slots): New functions, moved from eieio-opt.el.\n\t* lisp/emacs-lisp/cl-generic.el (cl--generic-method-documentation)\n\t(cl--generic-all-functions, cl--generic-specializers-apply-to-type-p):\n\tNew functions.  Moved from eieio-opt.el.\n\t(cl--generic-class-parents): New function, extracted from\n\tcl--generic-struct-specializers.\n\t(cl--generic-struct-specializers): Use it.\n\t* lisp/emacs-lisp/cl-macs.el (cl-defstruct): Use pcase-dolist.\n\tImprove constructor's docstrings.\n\t(cl-struct-unknown-slot): New error.\n\t(cl-struct-slot-offset): Use it.\n\t* lisp/emacs-lisp/cl-preloaded.el (cl-struct-define): Record the type\n\tdefinition in current-load-list.\n\t* lisp/emacs-lisp/eieio-core.el (eieio--known-slot-names): New var.\n\t(eieio--add-new-slot): Set it.\n\t(eieio-defclass-internal): Use new name for current-load-list.\n\t(eieio-oref): Add compiler-macro to warn about unknown slots.\n\t* lisp/emacs-lisp/eieio.el (defclass): Update eieio--known-slot-names\n\tas compile-time as well.  Improve constructor docstrings.\n\t* lisp/emacs-lisp/eieio-opt.el (eieio-help-class)\n\t(eieio--help-print-slot, eieio-help-class-slots): Move to cl-extra.el.\n\t(eieio-class-def): Remove button.\n\t(eieio-help-constructor): Use new name for load-history element.\n\t(eieio--specializers-apply-to-class-p, eieio-all-generic-functions)\n\t(eieio-method-documentation): Move to cl-generic.el.\n\t(eieio-display-method-list): Use new names.\n\t* lisp/emacs-lisp/lisp-mode.el (lisp-imenu-generic-expression):\n\tAdd \"define-linline\".\n\t(lisp-fdefs): Remove \"defsubst\".\n\t(el-fdefs): Add \"defsubst\", \"cl-defsubst\", and \"define-linline\".\n\t* lisp/emacs-lisp/macroexp.el (macroexp--warned): New var.\n\t(macroexp--warn-and-return): Use it to avoid inf-loops.\n\tAdd `compile-only' argument.\n\n2015-07-06  Fabi\u00e1n Ezequiel Gallina  <fgallina@gnu.org>\n\n\tpython.el: Fix local/remote shell environment setup\n\t* lisp/progmodes/python.el (python-shell-with-environment):\n\tFix remote/local environment setup.\n\t* test/automated/python-tests.el (python-shell-with-environment-1)\n\t(python-shell-with-environment-2): New tests.\n\n2015-07-06  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/simple.el (set-variable): Tweak recent doc fix.\n\n2015-07-06  Ken Brown  <kbrown@cornell.edu>\n\n\t* src/sysdep.c (handle_sigsegv) [CYGWIN]: Increase STACK_DANGER_ZONE.\n\n2015-07-06  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/simple.el (set-variable): Use user-error for type mismatch.\n\n2015-07-06  Ken Brown  <kbrown@cornell.edu>\n\n\t* src/emacs.c (main): Don't increase the stack size on Cygwin.\n\n2015-07-06  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t(describe-symbol): Rewrite describe-function-or-variable\n\t* lisp/help-fns.el (describe-symbol-backends): New var.\n\t(help-xref-stack-item): Declare.\n\t(describe-symbol): Rename from describe-function-or-variable.\n\tRewrite using describe-symbol-backends instead of help-xref-interned.\n\t* lisp/help.el (help-map): Use it.\n\t* lisp/help-mode.el (help-symbol, help-follow-symbol): Use it.\n\t(help-xref-interned): Make it into an obsolete alias.\n\n\t* lisp/emacs-lisp/eieio-base.el (eieio-persistent-save): Don't ignore\n\t`file' arg (bug#20972).  Always use utf-8-emacs.  Use with-temp-buffer\n\tand cl-letf.\n\n2015-07-06  Wolfgang Jenkner  <wjenkner@inode.at>\n\n\tFix parsing glitches in dired-mark-sexp (bug#13575)\n\t* lisp/dired-x.el (dired-x--string-to-number): New function.\n\t(dired-mark-sexp): Use it.  Tweak dired-re-inode-size.  Fix usage\n\tof directory-listing-before-filename-regexp.  Consider\n\tforward-word harmful and replace it.  Add more verbiage in\n\tcomments and doc string.\n\n2015-07-06  Fabi\u00e1n Ezequiel Gallina  <fgallina@gnu.org>\n\n\tpython.el: Respect process environment for remote shells\n\t* lisp/progmodes/python.el\n\t(python-shell-calculate-process-environment): Calculate\n\tprocess-environment or tramp-remote-process-environment depending\n\twhether current file is remote.\n\t(python-shell-calculate-exec-path): Calculate exec-path or\n\ttramp-remote-path depending whether current file is remote.\n\t(python-shell-with-environment): New macro.\n\t(python-shell-prompt-detect, python-shell-calculate-command)\n\t(python-shell-make-comint, python-check): Use it.\n\n\tpython.el: Avoid making let-bound defvars buffer local  (Bug#18244)\n\t* lisp/progmodes/python.el (python-shell--interpreter)\n\t(python-shell--interpreter-args): New vars.\n\t(inferior-python-mode, python-shell-make-comint): Use them.\n\n\tpython.el: Fixes for IPython 3.x  (Bug#20580)\n\t* lisp/progmodes/python.el:\n\t(python-shell-completion-native-setup): Fix IPython 3.x setup.\n\t(python-shell-completion-native-get-completions): Fix timeout\n\tlogic.\n\n\tpython.el: Fix mark-defun behavior  (Bug#19665)\n\t* lisp/progmodes/python.el (python-mark-defun): New function.\n\t* test/automated/python-tests.el (python-mark-defun-1)\n\t(python-mark-defun-2, python-mark-defun-3): New tests.\n\n2015-07-05  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/progmodes/f90.el (f90-type-def-re): Handle attribute lists\n\tsuch as \"extends(parent), private\".  (Bug#20969)\n\t* test/automated/f90.el (f90-test-bug20969, f90-test-bug20969b):\n\tNew tests.\n\n2015-07-05  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tAvoid duplicate calls to current_timespec\n\t* src/process.c (wait_reading_process_output):\n\tCache current_timespec results as long as we're not waiting.\n\n2015-07-05  Ian Kelling  <ian@iankelling.org>\n\n\tAvoid returning early reading process output due to SIGIO\n\t* src/process.c (wait_reading_process_output): Extend the behavior of\n\tnot breaking due to not finding output when a timer has lowered the\n\ttimeout to include when SIGIO lowers the timeout.\n\n\tDon't return as fast reading any process output\n\t* src/process.c (wait_reading_process_output):\n\tThe patch for Bug#17647 returns too fast sometimes when reading\n\tfrom any processes.  Revert part of it, and limit the timeout more\n\tsensibly (Bug#20978).\n\n\tRefactor timeouts in wait_reading_process_output\n\t* src/process.c (wait_reading_process_output):\n\tSimplify timeouts with an enum.  Remove a redundant condition.\n\t(Bug#20978)\n\n\tRemove ADAPTIVE_READ_BUFFERING ifdef\n\t* src/process.c (make-process, make-pipe-process, deactivate_process)\n\t(wait_reading_process_output, read_process_output, send_process)\n\t(init_process_emacs): ifdef ADAPTIVE_READ_BUFFERING was originally\n\tadded in case there was an operating system in which it was not\n\tuseful.  That was 11 years ago and it hasn't happened.  Make\n\tdevelopment easier by not considering the effect of changes on a\n\ttheoretical OS where this is disabled (Bug#20978).\n\n2015-07-05  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/simple.el (set-variable): Doc fix.\n\n\t* lisp/progmodes/fortran.el (fortran-line-length): Doc fix.\n\n2015-07-05  Ian Kelling  <ian@iankelling.org>\n\n\taccept-process-output fix\n\tThis is a followon to the fix for bug#17647 (Bug#20976).\n\t* src/process.c (status_notify): Fix too high return in some cases.\n\n2015-07-05  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/character-fold.el (character-fold-table):\n\tOnly fold decompositions if at least one character is non-spacing.\n\t(Bug#20975)\n\n2015-07-05  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from gnulib\n\tThis incorporates:\n\t2015-07-04 file-has-acl, acl-permissions: fix HP-UX typos\n\t2015-07-03 set-permissions.c: adjust acl_from_mode's cpp guard\n\t2015-07-02 update-copyright: fix test failure with perl >= 5.22\n\t2015-07-01 gnulib-common.m4: change the ARFLAGS default to 'cr'\n\t2015-07-01 acl: fix definition of acl_from_mode on FreeBSD\n\t* build-aux/update-copyright, doc/misc/texinfo.tex, lib/acl-internal.h:\n\t* lib/set-permissions.c, m4/gnulib-common.m4: Copy from gnulib.\n\n2015-07-05  Christoph Wedler  <christoph.wedler@sap.com>\n\n\tRespect `prog-indentation-context' in python.el\n\t* lisp/progmodes/python.el (python-indent-guess-indent-offset)\n\t(python-indent-context, python-indent--calculate-indentation)\n\t(python-info-current-defun)\n\t(python-info-dedenter-opening-block-message)\n\t(python-info-line-ends-backslash-p)\n\t(python-info-beginning-of-backslash)\n\t(python-info-continuation-line-p): Use `prog-widen'.\n\t(python-indent--calculate-indentation)\n\t(python-indent--calculate-levels)\n\t(python-indent-calculate-indentation): Use `prog-first-column'.\n\t(python-indent--calculate-levels): Simplify.\n\tIgnore also initial empty lines for syntax calculation.\n\t* lisp/progmodes/python.el (python-indent-context): Return\n\t:no-indent for first non-empty line, not just in line 1.\n\t* test/automated/python-tests.el (python-indent-base-case)\n\t(python-indent-inside-paren-1, python-indent-inside-paren-2)\n\t(python-indent-inside-paren-3, python-indent-inside-paren-4)\n\t(python-indent-inside-paren-5, python-indent-inside-paren-6)\n\t(python-indent-after-backslash-1)\n\t(python-indent-after-backslash-2)\n\t(python-indent-after-backslash-3)\n\t(python-indent-after-backslash-4, python-indent-inside-string-1):\n\tExpect :no-indent for first non-empty line.\n\n2015-07-04  Daniel Colascione  <dancol@dancol.org>\n\n\tFactor isearch word description into new function\n\t* lisp/isearch.el (isearch--describe-word-mode): New function.\n\t(isearch-message-prefix, isearch-query-replace): Use it.\n\n2015-07-04  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix mouse pointer on w32 when a menu is active\n\t* src/w32fns.c (w32_wnd_proc): Don't change the mouse pointer\n\tshape while a menu is in use.  This started happening since we now\n\tsend WM_EMACS_SHOWCURSOR messages when the mouse moves.\n\n2015-07-04  Martin Rudalics  <rudalics@gmx.at>\n\n\tFix processing of alpha parameter for Windows tip frames  (Bug#17344)\n\t* src/w32fns.c (x_create_tip_frame): Fix processing alpha\n\tparameter.  (Bug#17344)\n\n\tHave `compilation-set-window' use right window for getting fringes\n\t(Bug#20829)\n\t* lisp/progmodes/compile.el (compilation-set-window):\n\tTake `window-fringes' from argument window.\n\n2015-07-03  Glenn Morris  <rgm@gnu.org>\n\n\tUpdate eieio tests for recent eieio-core change.\n\t* test/automated/eieio-test-persist.el (persist-test-save-and-compare):\n\t* test/automated/eieio-tests.el\n\t(eieio-test-32-slot-attribute-override-2):\n\tReplace the deleted eieio--class-v with cl--find-class.\n\n2015-07-03  Martin Rudalics  <rudalics@gmx.at>\n\n\tFix some issues with `window-divider-mode'\n\t* lisp/frame.el (window-divider-default-places): New option.\n\t(window-divider-mode): Remove option.\n\t(window-divider-mode): Make it a \"regular\" minor mode.\n\t(window-divider-width-valid-p): Drop frame- prefix.\n\t(window-divider-mode-apply): New argument ENABLE.  Drop frame-\n\tprefix.  Handle `window-divider-default-places'.\n\t(frame--window-divider-mode-set-and-apply): Remove.\n\t(window-divider-default-bottom-width)\n\t(window-divider-default-right-width): Drop :group entries.\n\t* lisp/menu-bar.el (menu-bar-bottom-and-right-window-divider)\n\t(menu-bar-right-window-divider, menu-bar-bottom-window-divider)\n\t(menu-bar-no-window-divider): Set `window-divider-default-places'\n\tand call `window-divider-mode'.\n\t* doc/emacs/frames.texi (Window Dividers): Document\n\t`window-divider-default-places'.\n\n2015-07-02  Xue Fuqiao  <xfq.free@gmail.com>\n\n\t* doc/emacs/display.texi (Displaying Boundaries):\n\t* doc/emacs/search.texi (Word Search): Add cross references.\n\n2015-07-02  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t-batch should not affect \u2018\u2019 -> `' display\n\t* lisp/startup.el (command-line): Do the \u2018\u2019 -> `' check even if\n\t-batch (Bug#20926).\n\n2015-07-02  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/eieio-core.el (eieio--class-v): Remove\n\t* lisp/emacs-lisp/eieio-core.el, lisp/emacs-lisp/eieio.el:\n\t* lisp/emacs-lisp/eieio-opt.el, lisp/emacs-lisp/eieio-compat.el:\n\tUse cl--find-class instead.\n\n\t* lisp/term/xterm.el (xterm--query): Fix paren typo (bug#20951).\n\n2015-07-02  Martin Rudalics  <rudalics@gmx.at>\n\n\tSome further fixes in Change Window node (Bug#20183)\n\t* doc/emacs/windows.texi (Change Window): Replace \"rearranging\"\n\tby \"resizing\" in section title.  Add some concept indices.\n\tSuggested by N. Jackson (Bug#20183).\n\n\t* doc/emacs/windows.texi (Change Window): Reference window\n\tdividers.\n\n\tDocument new `window-divider-mode'.\n\t* lisp/frame.el (window-divider-mode): Fix doc-string.\n\t* doc/emacs/frames.texi (Window Dividers): New section.\n\n\tImprove accessibility of window dividers (Bug#20183)\n\t* lisp/faces.el (window-divider)\n\t(window-divider-first-pixel, window-divider-last-pixel): Change\n\tmembership from `frames' to `window-divider' customization group.\n\t* lisp/frame.el (window-divider): New customization group.\n\t(window-divider-mode): New minor mode.\n\t(window-divider-default-bottom-width)\n\t(window-divider-default-right-width): New options.\n\t(frame--window-divider-previous-mode): New variable.\n\t(frame-window-divider-width-valid-p)\n\t(frame--window-divider-mode-apply)\n\t(frame--window-divider-mode-set-and-apply): New functions.\n\t* lisp/menu-bar.el (menu-bar-options-save): Save\n\twindow-divider-mode settings.\n\t(menu-bar-window-divider-customize)\n\t(menu-bar-bottom-and-right-window-divider)\n\t(menu-bar-right-window-divider, menu-bar-bottom-window-divider)\n\t(menu-bar-no-window-divider): New functions.\n\t(menu-bar-showhide-window-divider-menu): New variable.\n\t(menu-bar-showhide-menu): Show/hide window divider menu.\n\t* lisp/mouse.el (mouse-split-window-vertically)\n\t(mouse-split-window-horizontally): Replace `error' by\n\t`user-error'.  Bind `window-combination-resize' to nil.\n\t(top-level): Add/reorder mouse key bindings on mode- and\n\tvertical-line.\n\n2015-07-02  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDon't display \u2018\u2019 as `' under X in en_GB\n\tThe curved quote setup code invokes (char-displayable-p ?\u2018),\n\tbut this isn\u2019t reliable until after the X frame replaces the\n\tterminal frame (Bug#20926).\n\t* lisp/international/mule-cmds.el (set-locale-environment):\n\tMove curved quote setup code from here ...\n\t* lisp/startup.el (command-line): ... to here, after creating\n\tthe X frame.\n\n2015-07-01  Nicolas Richard  <youngfrog@members.fsf.org>\n\n\t* lisp/emacs-lisp/seq.el (seq-difference): Fix typo in docstring.\n\n\t* lisp/ido.el (ido-restrict-to-matches): Add an optional argument\n\tto reverse the meaning (Bug#15631).\n\n2015-07-01  Eli Zaretskii  <eliz@gnu.org>\n\n\tBe more tolerant to fonts named \"Foobar-12\"\n\t* src/frame.c (x_set_font): If font_spec_from_name returns nil,\n\tdon't barf; instead, request a new fontset to be generated.  This\n\tavoids unnecessarily rejecting fonts named against XLFD rules.  See\n\thttps://lists.gnu.org/r/help-emacs-windows/2015-06/msg00001.html,\n\tfor the description of the original problem.\n\t* lisp/faces.el (set-face-attribute): Don't be fooled too easily\n\tby a hyphen in a font's name.\n\n\tFix value of posn-at-pont in R2L lines\n\t* src/keyboard.c (Fposn_at_x_y, Fposn_at_point): Allow X pixel\n\tcoordinate of -1, for a newline in a right-to-left line that\n\toverflowed into the left fringe.\n\n2015-07-01  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t(cl--copy-slot-descriptor): Copy the `props' alist as well\n\t* lisp/emacs-lisp/cl-preloaded.el (cl--copy-slot-descriptor-1):\n\tRename from cl--copy-slot-descriptor.\n\t(cl--copy-slot-descriptor): New function.  Copy the alist (bug#20914).\n\n2015-06-30  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/term/xterm.el (xterm--query): Avoid generating garbage\n\t(xterm-query-timeout): New var.\n\t(xterm--query): Use it.  Fallback on async method if we timeout before\n\tgetting the first byte of the reply (bug#12354).\n\n2015-06-30  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSpelling fixes\n\t* lisp/character-fold.el (character-fold-search):\n\t* lisp/emacs-lisp/package.el (package-hidden-regexps):\n\tFix typos.\n\n2015-06-30  Xue Fuqiao  <xfq.free@gmail.com>\n\n\t* doc/emacs/frames.texi (Frame Commands): Typo fix.  (Bug#20946)\n\n2015-06-30  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tIn strings, prefer plain ` and ' to \\` and \\'\n\t* lisp/allout.el (allout-insert-listified):\n\t* lisp/emacs-lisp/easy-mmode.el (define-globalized-minor-mode):\n\t* lisp/ls-lisp.el (ls-lisp-UCA-like-collation)\n\t(ls-lisp-string-lessp):\n\t* lisp/menu-bar.el (menu-bar-open):\n\t* lisp/obsolete/otodo-mode.el (todo-top-priorities):\n\t* lisp/progmodes/compile.el (compile):\n\t* lisp/progmodes/etags.el (tags-loop-scan):\n\t* lisp/progmodes/make-mode.el (makefile-browser-insert-continuation):\n\t* lisp/subr.el (posn-actual-col-row):\n\t* lisp/term/pc-win.el (x-list-fonts):\n\t* lisp/textmodes/texinfmt.el (texinfmt-version):\n\t* lisp/textmodes/texnfo-upd.el (texinfo-master-menu):\n\t* lisp/time.el (display-time-world-list):\n\t* lisp/tmm.el (tmm-menubar):\n\t* src/buffer.c (syms_of_buffer):\n\t* src/fileio.c (syms_of_fileio):\n\tOmit unnecessary and confusing backslash before quote.\n\t* lisp/erc/erc.el (erc-cmd-LASTLOG):\n\t* lisp/progmodes/flymake.el (flymake-fix-file-name):\n\t* lisp/progmodes/vhdl-mode.el (vhdl-in-extended-identifier-p):\n\tFix string that was intended to escape a backslash and not a quote.\n\n2015-06-30  Glenn Morris  <rgm@gnu.org>\n\n\t* leim/Makefile.in, lisp/Makefile.in: Add missing EXEEXT definition.\n\n\t* lisp/Makefile.in (MH_E_SRC, TRAMP_SRC, CAL_SRC):\n\tReplace hard-coded lists with wildcard + filter-out.\n\n\t* configure.ac (system-configuration-features): Add X11, NS.\n\n\tImprove reproducibility of generated loaddefs file\n\t* lisp/emacs-lisp/autoload.el (autoload-generate-file-autoloads):\n\tMake the return value the modtime of the input file (if no autoloads).\n\t(update-directory-autoloads): In the \"no autoloads\" section,\n\tuse \"most recent modtime\" rather than \"current time\".\n\n2015-06-30  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el (package--remove-hidden): Fix logic.\n\t(Bug#20930)\n\n2015-06-30  Nicolas Petton  <nicolas@petton.fr>\n\n\t* doc/lispref/sequences.texi: Add documentation for seq-min and seq-max.\n\n\tAdd seq-min and seq-max\n\tBump version number.\n\t* lisp/emacs-lisp/seq.el (seq-min, seq-max): New functions.\n\t* test/automated/seq-tests.el: Add tests for seq-min and seq-max.\n\n2015-06-30  Eli Zaretskii  <eliz@gnu.org>\n\n\tMake sure sleep-for always delays for as long as it's told\n\t* src/dispnew.c (Fsleep_for): Call wait_reading_process_output in\n\ta loop, to ensure we always wait exactly the required amount of\n\ttime.  (Bug#15990)\n\n2015-06-30  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix pointer signedness glitch\n\t* src/font.c (font_load_for_lface): Use SSDATA, not SDATA.\n\n2015-06-30  Eli Zaretskii  <eliz@gnu.org>\n\n\tDon't block changes in mouse pointer inside 'track-mouse'\n\t* etc/NEWS:\n\t* doc/lispref/frames.texi (Mouse Tracking): Document the special\n\teffect of setting 'track-mouse' to 'dragging'.\n\t* lisp/textmodes/artist.el (artist-mouse-draw-continously):\n\t* lisp/ruler-mode.el (ruler-mode-mouse-drag-any-column-iteration):\n\t* lisp/mouse-drag.el (mouse-drag-throw):\n\t* lisp/mouse.el (mouse-drag-line): Set 'track-mouse' to 'dragging'\n\tto avoid changes in the shape of the mouse pointer.\n\t* src/xdisp.c (define_frame_cursor1): Don't change the mouse\n\tpointer shape when do_mouse_tracking has the value of 'dragging',\n\tnot just any non-nil value.  (Bug#20934)\n\t(syms_of_xdisp): DEFSYM 'dragging'.\n\n2015-06-30  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/isearch.el (isearch-toggle-word): Fix toggle.\n\n\t* lisp/emacs-lisp/package.el (package-compute-transaction):\n\tDon't assume version sorting.\n\n\t* lisp/emacs-lisp/package.el (package--save-selected-packages):\n\tDon't save before init time, to avoid overwriting configurations.\n\t(Bug#20855)\n\n2015-06-30  Xue Fuqiao  <xfq.free@gmail.com>\n\n\t* doc/emacs/display.texi (Standard Faces, Fringes): Add cross\n\treferences.\n\n2015-06-29  Ted Zlatanov  <tzz@lifelogs.com>\n\n\tUpdate for the upcoming CFEngine 3.7 release: support macros and\n\tquoted context strings; reformat JSON; indent promise attributes 2\n\tunits by default; give function parameter descriptions in the eldoc\n\tglue.\n\t* lisp/progmodes/cfengine.el: Update version and docs and fix name.\n\tAutoload `json-pretty-print'.  Support new features in 3.7.\n\t(cfengine-parameters-indent): Set default promise attribute indent to\n\t2 more than the promise itself.\n\t(cfengine3-macro-regex): New variable to match the new macro syntax.\n\t(cfengine3-font-lock-keywords): Use it to highlight macros.\n\t(cfengine3-indent-line): Use it to indent macros to column 0.\n\t(cfengine3-class-selector-regex): Update for the new quoted strings\n\tformat.\n\t(cfengine3-reformat-json-string): New function to reformat a JSON\n\tstring using `json-pretty-print'.\n\t(cfengine3-format-function-docstring): Use function parameter\n\tdescription if it's provided by the cf-promises syntax dump.\n\n2015-06-29  Michael R. Mauger  <michael@mauger.com>\n\n\tCygwin emacsclient handles w32 file names\n\t* lisp/server.el (server-process-filter): Allow Cygwin's\n\temacsclient to be used as a file handler on MS-Windows.\n\n2015-06-29  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\t* lisp/isearch.el (isearch-exit): Don't call isearch-done twice\n\t(bug#20925).\n\n2015-06-29  Eli Zaretskii  <eliz@gnu.org>\n\n\t* doc/lispref/text.texi (Sticky Properties): Improve wording.\n\t(Bug#20924)\n\n\tAllow font names that end in \"-NN\", where NN is a number\n\t* src/font.c (font_load_for_lface): If the font-spec didn't match\n\tany available fonts, try again without interpreting trailing \"-NN\"\n\tas the font size.  For the description of the original problem, see\n\thttps://lists.gnu.org/r/help-emacs-windows/2015-06/msg00001.html\n\n\t.gdbinit followup to changes in !USE_LSB_TAG\n\t* src/.gdbinit (xgetsym): Don't left-shift $ptr even under\n\t!USE_LSB_TAG, as Emacs no longer does.\n\n2015-06-29  Wolfgang Jenkner  <wjenkner@inode.at>\n\n\t* lisp/calc/calc-store.el (calc-insert-permanent-variable): Heed case.\n\tOtherwise `s p' of f and F will stomp on each other's value.\n\t(Bug#20916)\n\n2015-06-29  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/tabulated-list.el (tabulated-list-print):\n\tDon't block remember-pos if buffer isn't displayed.  (Bug#20921)\n\n2015-06-29  Nicolas Richard  <theonewiththeevillook@yahoo.fr>\n\n\t* lisp/emacs-lisp/package.el (describe-package): Use symbol-at-point\n\tas additional guess.\n\n\t* lisp/emacs-lisp/package.el (describe-package): Convert the guess\n\tto a string.\n\n2015-06-28  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tapropos-library quoting fix\n\t* lisp/apropos.el (apropos-library): Quote library consistently\n\twith the rest of the quoting used by apropos.\n\n\tClarify interpreter-mode-alist doc\n\t* lisp/files.el (interpreter-mode-alist):\n\tReword to avoid confusing quoting that wasn't working anyway.\n\n2015-06-28  Michael Albinus  <michael.albinus@gmx.de>\n\n\tSync with Tramp 2.2.12\n\t* doc/misc/trampver.texi:\n\t* lisp/net/trampver.el: Update release number.\n\t* test/automated/tramp-tests.el (tramp-test13-make-directory):\n\tFix cleanup.\n\n2015-06-28  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/isearch.el (isearch-mode): Don't char-fold regexps (bug#20913).\n\n2015-06-27  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tBind grep-highlight-matches around the rgrep call\n\t* lisp/progmodes/grep.el (zrgrep): Bind grep-highlight-matches\n\taround the rgrep call (bug#20728).\n\n\tPut \"--color\" before the other options in grep-command\n\t* lisp/progmodes/grep.el (grep-compute-defaults): Put \"--color\"\n\tbefore the other options in grep-command (bug#20912).\n\n\tAdd --color Grep option to the command dynamically\n\t* lisp/progmodes/grep.el (grep-template, grep-find-template):\n\tUpdate the description for <C>.  (Bug#20728)\n\t(grep-compute-defaults): Don't add the --color option to\n\tgrep-options.  Only add it to grep-command.\n\t(grep-expand-keywords): Expand the env value opts into <C>.\n\t(grep-expand-template): Replace cf in the env with the opts list,\n\tthat can include -i and --color.\n\t* lisp/progmodes/xref.el (xref-collect-matches): Do not remove\n\t\"--color=always\" from the template, because we don't have to.\n\n2015-06-27  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tcl-extra fixes for most-negative-fixnum\n\t* lisp/emacs-lisp/cl-extra.el (cl-gcd, cl-lcm, cl-random):\n\tDon't mishandle an argument equal to most-negative-fixnum,\n\twhose absolute value equals itself.\n\t(cl-gcd, cl-lcm): Use dolist rather than doing it by hand.\n\n\tInitialize cl--gensym-counter to 0\n\tPreviously it was initialized to a random value, which made it\n\tharder to reproduce earlier Emacs runs.  The need for a random\n\tvalue went away when Emacs introduced and used the #: syntax for\n\tuninterned symbols (Bug#20862).\n\t* doc/misc/cl.texi (Creating Symbols, Common Lisp Compatibility):\n\tDocument that cl--gensym-counter now starts with 0.\n\t* lisp/emacs-lisp/cl-lib.el (cl--gensym-counter): Remove.\n\t(cl--random-time): Move to near only remaining use.\n\t* lisp/emacs-lisp/cl-macs.el (cl--gensym-counter): Initialize to 0.\n\n\tImprove docstring for macroexp-let2\n\t* lisp/emacs-lisp/macroexp.el (macroexp-let2):\n\tImprove as per suggestion by RMS in:\n\thttps://lists.gnu.org/r/emacs-devel/2015-06/msg00621.html\n\tAlso, rename args to match new doc string.\n\n2015-06-27  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix VC test suite on MS-Windows\n\t* lisp/vc/vc-svn.el (vc-svn-create-repo): Make sure the file: URL\n\talways starts with 3 slashes after the colon.\n\t* test/automated/vc-tests.el (vc-test--create-repo-function): Use\n\t'w32-application-type' to invoke CVS on MS-Windows with properly\n\tformatted CVSROOT directory name.\n\n\tAdd a new function w32-application-type\n\t* src/w32proc.c (Fw32_application_type): New function.\n\n\tAvoid error in TLS connections due to incorrect format\n\t* src/gnutls.c (Fgnutls_boot): Use the %x conversion specifier in\n\tthe call to 'error', instead of the unsupported %u.  Reported by\n\tlo2net <fangtao0901@gmail.com>.  (Bug#20908)\n\n2015-06-26  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/replace.el (replace-search): Fix regexp case (bug#20901).\n\n2015-06-26  Leo Liu  <sdl.web@gmail.com>\n\n\t* lisp/emacs-lisp/cl-indent.el: Fix indentation for\n\t`with-output-to-string' in elisp.\n\n\tRevert \"lisp/emacs-lisp/cl-indent.el: Fix indent of\n\twith-output-to-string\".\n\tThis reverts commit 659199f2ca5f283fb246faa78a244e5ca25f53dd.\n\n2015-06-26  Eli Zaretskii  <eliz@gnu.org>\n\n\tMinor corrections in ELisp manual\n\t* doc/lispref/nonascii.texi (Character Properties): Correct\n\tinaccuracies in description of values of the Unicode properties.\n\n\tFix invisible mouse pointers on Windows.\n\t* src/w32fns.c: Include windowsx.h.\n\t(w32_wnd_proc): If the mouse moved and the mouse pointer is\n\tinvisible, make it visible again even when the main (Lisp)\n\tthread is busy.\n\t* src/w32term.c (w32_toggle_invisible_pointer): Rather then\n\tgarbaging the frame have the input thread call SetCursor.\n\n2015-06-26  Martin Rudalics  <rudalics@gmx.at>\n\n\tProvide invisible mouse pointers on Windows (Bug#6105) (Bug#12922)\n\t* src/w32fns.c (w32_wnd_proc): Handle f->pointer_invisible\n\tfor WM_SETCURSOR and WM_EMACS_SETCURSOR cases.\n\t* src/w32term.c (w32_hide_hourglass): Handle f->pointer_invisible.\n\t(w32_toggle_invisible_pointer): New function.\n\t(w32_create_terminal): Add w32_toggle_invisible_pointer as\n\ttoggle_invisible_pointer_hook for this terminal.\n\n2015-06-25  Xue Fuqiao  <xfq.free@gmail.com>\n\n\tDoc fix for deletion commands\n\t'delete-char' does not respect the value of 'delete-active-region'.\n\t* doc/emacs/killing.texi (Deletion):\n\tFix documentation for some single-char deletion commands.\n\n\t* doc/emacs/help.texi (Apropos):\n\tImprove documentation of 'apropos-do-all'.\n\n\t* doc/emacs/help.texi (Help Summary):\n\tImprove documentation of 'describe-mode'.\n\n2015-06-25  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix submake dependency bug with .h files\n\t* src/Makefile.in ($(libsrc)/make-docfile$(EXEEXT)):\n\tDepend on $(lib)/libgnu.a, so that we build $(lib)/*/*.h\n\tbefore the submake in $(libsrc) would spin off a subsubmake\n\tfor $(lib) in parallel with our submake for $(lib) (Bug#20894).\n\n2015-06-25  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/character-fold.el (character-fold-table): Reuse `table'.\n\n2015-06-25  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tTranslate undisplayable \u2018 to `\n\t* doc/lispref/help.texi (Keys in Documentation):\n\t* lisp/international/mule-cmds.el (set-locale-environment):\n\t* lisp/term/w32console.el (terminal-init-w32console):\n\t* src/doc.c (Fsubstitute_command_keys, Vhelp_quote_translation):\n\tIf \u2018 is not displayable, transliterate it to `, not to '.  See:\n\thttps://lists.gnu.org/r/emacs-devel/2015-06/msg00542.html\n\n\tFix C99 incompatibilities in Cairo code\n\t* src/image.c (xpm_load) [USE_CAIRO]:\n\t* src/xterm.c (x_cr_accumulate_data) [USE_CAIRO]:\n\tFix pointer signedness problem.\n\n2015-06-25  Oleh Krehel  <ohwoeowho@gmail.com>\n\n\tlisp/emacs-lisp/cl-indent.el: Fix indent of with-output-to-string\n\t* lisp/emacs-lisp/cl-indent.el (common-lisp-indent-function):\n\t`with-output-to-string' should have the same indent as `progn'.\n\tThis is in line with the declaration of `with-output-to-string'.\n\n2015-06-25  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tGet \u2018./configure; make -C src emacs\u2019 to work\n\tWithout this fix, lib/fcntl.h isn't built in time (Bug#20894).\n\t* lib-src/Makefile.in (../lib/libgnu.a):\n\t* src/Makefile.in ($(lib)/libgnu.a): Build all, not libgnu.a.\n\n2015-06-24  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix GC bugs --with-wide-int and Qnil == 0\n\tUse the same alignment for the !USE_LSB_TAG case as for the\n\tmore-typical USE_LSB_TAG case.  The attempt to support arbitrary\n\talignments with !USE_LSB_TAG had subtle bugs in garbage collection\n\tonce we changed the representation of symbols so that Qnil == 0.\n\tProblem reported by Eli Zaretskii (Bug#20862).\n\t* src/alloc.c (XMALLOC_HEADER_ALIGNMENT) [XMALLOC_OVERRUN_CHECK]:\n\t* src/alloc.c (vector_alignment, union aligned_Lisp_Symbol)\n\t(union aligned_Lisp_Misc, maybe_lisp_pointer, pure_alloc):\n\tUse same alignment for !USE_LSB_TAG as for USE_LSB_TAG.\n\t* src/alloc.c (POINTERS_MIGHT_HIDE_IN_OBJECTS): Remove.\n\tThis optimization in the !USE_LSB_TAG case is no longer valid when\n\tsymbols are represented via offsets.  Change the only use to\n\tassume that pointers might hide in objects.\n\t* src/lisp.h (alignas) [!USE_LSB_TAG]:\n\tRequire support in this case, too.\n\t(TAG_SYMOFFSET, XSYMBOL) [!USE_LSB_TAG]: Do not shift the offset.\n\tThis is OK, because the !USE_LSB_TAG case now applies only when\n\tLisp_Object is wider than void *, so there's no longer any need\n\tto shift the offset.  Not shifting the offset means that\n\tsymbol representations have the same alignment as pointers,\n\twhich the GC assumes.\n\n2015-06-24  Xue Fuqiao  <xfq.free@gmail.com>\n\n\t* doc/lispintro/emacs-lisp-intro.texi (Data types):\n\tImprove documentation of 'substring'.\n\n2015-06-24  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/character-fold.el (character-fold-table): Fix table generation.\n\n2015-06-24  Glenn Morris  <rgm@gnu.org>\n\n\t* nextstep/Makefile.in (all): Make it the first target.\n\t(../src/emacs${EXEEXT}): Add rule for making it.\n\n2015-06-24  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* etc/NEWS: Fix mention to old function name.\n\n\t* lisp/character-fold.el: New file (Bug#20887)\n\t(character-fold-to-regexp): New function.\n\t* lisp/replace.el (replace-search): Check value of\n\t`character-fold-search'.\n\t* lisp/isearch.el: Move character-folding code to\n\tcharacter-fold.el\n\t(isearch-toggle-character-fold): New command.\n\t(isearch-mode-map): Bind it to \"\\M-sf\".\n\t(isearch-mode): Check value of `character-fold-search'.\n\n2015-06-24  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tlisp/subr.el (remove-from-invisibility-spec): Handle the t case\n\t* lisp/subr.el (remove-from-invisibility-spec): Make sure `element'\n\tis visible even if it's not yet in buffer-invisibility-spec (bug#20468).\n\n\t* lisp/progmodes/xref.el (xref-location-group, xref-location-marker)\n\t(xref--insert-xrefs, xref-collect-references): Avoid init-args in oref.\n\n2015-06-24  Glenn Morris  <rgm@gnu.org>\n\n\t* Makefile.in (install-arch-dep): Don't set sticky bit on the binary.\n\n2015-06-24  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tlisp/gnus/nnmaildir.el: Silence lexical warnings\n\t* lisp/gnus/nnmaildir.el (nnmaildir--prepare): Use a more\n\tfunctional style.\n\t(nnmaildir--update-nov): Remove unused var `numdir'.\n\t(nnmaildir-request-type, nnmaildir--scan, nnmaildir-request-newgroups)\n\t(nnmaildir-request-group, nnmaildir-request-create-group)\n\t(nnmaildir-request-post, nnmaildir-request-move-article)\n\t(nnmaildir-request-accept-article, nnmaildir-active-number):\n\tMark unused args.\n\t(nnmaildir-get-new-mail, nnmaildir-group-alist)\n\t(nnmaildir-active-file): Declare.\n\t(nnmaildir-request-scan): Remove unused vars `group' and `grp-dir'.\n\t(nnmaildir-request-update-info): Remove unused vars `dotfile', `num',\n\t`mark', `end', `new-mark', and `mark-sym'.\n\t(nnmaildir-retrieve-headers): Remove unused args `srv-dir', `dir',\n\t`nlist2'.\n\t(nnmaildir-request-expire-articles):\n\tRemove unused vars `article', `stop' and `nlist2'.\n\t(nnmaildir-request-set-mark): Remove unused vars `begin', `article' and\n\t`end'.  Use nnmaildir--article when dyn-binding is needed.\n\tGive the value directly in the `let' for `del-mark', `del-action',\n\t`add-action', and `set-action'.  Don't use `add-to-list' on a local var.\n\t(nnmaildir-close-server): Declare those local vars that need to be\n\tdyn-bound.\n\n2015-06-24  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* src/keyboard.h (kbd_buffer_store_event_hold): Remove unused local.\n\n\tPort selection info fix to clang\n\t* src/keyboard.h (kbd_buffer_store_event_hold):\n\tDon't assume C11 semantics for alignof (Bug#20756).\n\n\tFix bug that munged selection info\n\tOn some optimizing C compilers, copying a structure did not\n\tcopy the padding bytes between elements, and the type punning\n\tbetween struct input_data and struct selection_input_data did\n\tnot work.  Change the C code to use a proper union type instead.\n\tProblem reported by YAMAMOTO Mitsuharu (Bug#20756).\n\t* src/keyboard.c (kbd_buffer, kbd_fetch_ptr, kbd_store_ptr)\n\t(readable_events, discard_mouse_events, kbd_buffer_events_waiting)\n\t(kbd_buffer_get_event, process_special_events, stuff_buffered_input)\n\t(mark_kboards):\n\tUse union buffered_input_event, not struct input_event.\n\t(clear_event, deliver_input_available_signal, process_special_events):\n\tRemove unnecessary forward decls.\n\t(kbd_buffer_store_buffered_event): New function, mostly just the\n\told kbd_buffer_store_event_hold, except its argument is of type\n\tunion buffered_input_event, not struct input_event.\n\t(kbd_buffer_unget_event): Define only if HAVE_X11, since it's\n\tnot needed otherwise.  Argument is now of type\n\tstruct selection_input_event *, not struct input_event *.\n\tAll callers changed.\n\t(clear_event): Arg is now of type union buffered_input_event *,\n\tnot struct input_event *.  All callers changed.\n\t* src/keyboard.h [HAVE_X11]: Include \"xterm.h\".\n\t(union buffered_input_event): New type.\n\t(kbd_buffer_store_event_hold): Now an inline function,\n\tdefined here.\n\t* src/termhooks.h (EVENT_KIND_WIDTH): New constant.\n\t(struct input_event): Use it.\n\t* src/xselect.c (struct selection_event_queue):\n\tMake elements be of type struct selection_input_event,\n\tnot struct input_event.\n\t(selection_input_event_equal): New static function.\n\t(x_queue_event): Use it.\n\t(x_queue_event, x_decline_selection_request)\n\t(x_selection_current_request, x_reply_selection_request)\n\t(x_handle_selection_request, x_handle_selection_clear)\n\t(x_handle_selection_event): Use struct selection_input_event,\n\tnot struct input_event.  All callers changed.\n\t(x_convert_selection): Omit unused first arg.  All callers changed.\n\t(Fx_disown_selection_internal): Omit unnecessary union.\n\t* src/xterm.c (handle_one_xevent): Use new union buffered_input_event\n\trather than rolling our own equivalent.  Prefer sie.kind when\n\tsetting up that kind of structure.\n\tCall kbd_buffer_store_buffered_event, not kbd_buffer_store_event_hold.\n\t* src/xterm.h (struct selection_input_event: Use EVENT_KIND_WIDTH.\n\t(SELECTION_EVENT_DISPLAY, SELECTION_EVENT_DPYINFO)\n\t(SELECTION_EVENT_REQUESTOR, SELECTION_EVENT_SELECTION)\n\t(SELECTION_EVENT_TARGET, SELECTION_EVENT_PROPERTY)\n\t(SELECTION_EVENT_TIME, x_handle_selection_event):\n\tArg is now of type struct selection_input_event *)\n\tnot struct input_event *.  All callers changed.\n\n2015-06-23  Glenn Morris  <rgm@gnu.org>\n\n\t* Makefile.in (install-arch-dep): Simplify with Make conditionals.\n\n2015-06-23  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/isearch.el: Fold many unicode characters to ASCII.\n\t(isearch-character-fold-search, isearch--character-fold-extras)\n\t(isearch--character-fold-table): New variable.\n\t(isearch--character-folded-regexp): New function.\n\t(isearch-search-fun-default): Use them.\n\t* lisp/replace.el (replace-character-fold): New variable.\n\t(replace-search): Use it.\n\t* etc/NEWS: Document it.\n\n2015-06-23  Glenn Morris  <rgm@gnu.org>\n\n\tCheck for an input event before showing a dialog box.  (Bug#20813)\n\t* lisp/subr.el (y-or-n-p):\n\t* src/fns.c (Fyes_or_no_p): Check last-input-event as well\n\tas last-nonmenu-event.\n\n2015-06-23  J\u00fcrgen Hartmann  <juergen_hartman_@hotmail.com>  (tiny change)\n\n\tRespect \u2018switch-to-visible-buffer\u2019 more rigidly.  (Bug#20861)\n\t* lisp/window.el (switch-to-visible-buffer): Doc adjustment.\n\t(switch-to-prev-buffer, switch-to-next-buffer): Respect\n\tswitch-to-visible-buffer independent of the windows history.\n\n2015-06-23  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* src/keyboard.c (last_timer_event): Remove unused var.\n\n2015-06-23  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* test/automated/package-test.el (package-test-update-listing):\n\tFix test.\n\n2015-06-23  Glenn Morris  <rgm@gnu.org>\n\n\tRevert 2014-06-25 nextstep/Makefile change.\n\t* nextstep/Makefile.in (${ns_appbindir}): Remove rule.\n\t(${ns_appbindir}/Emacs, links): Create ns_appbindir in the rule,\n\tnot as an order-only prerequisite.\n\n\t* configure.ac (--with-ns): Enable by default on OS X.\n\n2015-06-23  Leo Liu  <sdl.web@gmail.com>\n\n\tFix shell-for/backward-command to exclude spaces\n\t* lisp/shell.el (shell-forward-command, shell-backward-command):\n\t  Handle the 'move case from re-search-forward/backward.\n\t  fixes debbugs:20873\n\n2015-06-22  Juri Linkov  <juri@linkov.net>\n\n\t* lisp/replace.el (query-replace-read-from): Add separator to\n\tthe local binding of text-property-default-nonsticky.  (Bug#20690)\n\n\t* lisp/simple.el (shell-command-on-region): Replace 'error' with 'user-error'.\n\t(Bug#20785)\n\n2015-06-22  Ken Brown  <kbrown@cornell.edu>\n\n\tEnable CPU profiling on Cygwin\n\t* src/syssignal.h [CYGWIN] (PROFILER_CPU_SUPPORT): Revert previous\n\tchange that undefined this.\n\t(SIGEV_SIGNAL): Ensure that this is defined as a macro.\n\t* src/profiler.c [CYGWIN] (timer_getoverrun): Define as a macro on\n\t  Cygwin.\n\n\tImprove diagnostics of profiler-cpu-start\n\t* src/profiler.c (setup_cpu_timer): Change return type to 'int';\n\treturn -1 if the sampling interval is invalid.\n\t(Fprofiler_cpu_start): Improve error message if 'setup_cpu_timer'\n\tfails.  (Bug#20843)\n\n2015-06-22  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el: Exclude packages by name.\n\t(package-hidden-regexps): New variable.\n\t(package-menu--refresh): Use it.\n\t(package-menu-hide-package): New command.\n\n\t* lisp/emacs-lisp/package.el: Rename hide-obsolete to toggle-hiding.\n\n2015-06-22  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix debug-timer-check on systems without HAVE_TIMERFD\n\t* src/atimer.c (Fdebug_timer_check) [!HAVE_TIMERFD]: Actively run\n\tthe expired timers, since wait_reading_process_output doesn't.\n\t(debug_timer_callback): Enlarge the tolerance to 20 msec.\n\n\tFix RCS crashes in vc-test\n\t* lisp/vc/vc-rcs.el (vc-rcs-register): Avoid crashes with some old\n\tports of 'ci' on MS-Windows by always passing the -t- switch.\n\n2015-06-22  Glenn Morris  <rgm@gnu.org>\n\n\t* doc/emacs/package.texi (Packages):\n\t* doc/emacs/trouble.texi (Known Problems): Remove faq cross-references.\n\n\t* doc/misc/efaq-w32.texi (Downloading): Copyedits.  (Bug#20851)\n\n2015-06-22  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort tests to help-quote-translation\n\t* test/automated/ert-x-tests.el (ert-test-describe-test):\n\t* test/automated/package-test.el (package-test-describe-package)\n\t(package-test-signed): Allow straight quotes, too.\n\n2015-06-22  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tMake find-function-on-key use the current window\n\t* lisp/emacs-lisp/find-func.el (find-function-on-key-do-it):\n\tExtract from `find-function-on-key', add a second argument.\n\t(find-function-on-key): Use it (bug#19679).\n\t(find-function-on-key-other-window)\n\t(find-function-on-key-other-frame): New commands.\n\n2015-06-21  Nicolas Petton  <nicolas@petton.fr>\n\n\tRevert \"Define `map-elt' as a generalized variable\"\n\tThis reverts commit 8b6d82d3ca86f76ed964063b3941a7c6ab0bf1c6.\n\n2015-06-21  Ken Brown  <kbrown@cornell.edu>\n\n\tDrop support for CPU profiling on Cygwin\n\t* src/syssignal.h (PROFILER_CPU_SUPPORT): Don't define on Cygwin.\n\t(Bug#20843)\n\n2015-06-21  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix some \u201cnested\u201d quoting confusion in doc strings\n\t* lisp/emacs-lisp/advice.el (ad-map-arglists):\n\t* lisp/kermit.el (kermit-clean-on):\n\t* lisp/mh-e/mh-comp.el (mh-repl-group-formfile):\n\t* src/keyboard.c (Frecursive_edit):\n\tUse curved quotes when quoting text containing apostrophe,\n\tso that the apostrophe isn't curved in the output.\n\n2015-06-21  Nicolas Petton  <nicolas@petton.fr>\n\n\tDefine `map-elt' as a generalized variable\n\t* lisp/emacs-lisp/map.el (map-elt): Define a gv-expander.\n\t* lisp/emacs-lisp/map.el (map--dispatch): Tighten the code.\n\t* lisp/emacs-lisp/map.el (map-put): Redefine it as a function using a\n\t`setf' with `map-elt'.\n\t* test/automated/map-tests.el: Comment out `test-map-put-literal'.\n\n2015-06-21  Michael Albinus  <michael.albinus@gmx.de>\n\n\tImprove error handling in tramp-adb.el\n\t* lisp/net/tramp-adb.el (tramp-adb-handle-file-local-copy):\n\tImprove error handling.\n\n2015-06-21  Nicolas Petton  <nicolas@petton.fr>\n\n\tReuse `alist-get' in map.el\n\t* lisp/emacs-lisp/map.el (map-elt): Use `alist-get' to retrieve alist\n\telements.\n\n2015-06-21  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix bytecomp-tests--warnings when $TMPDIR has a long name\n\t* test/automated/bytecomp-tests.el (bytecomp-tests--warnings):\n\tAllow the warning to begin on the 3rd, not only 2nd line, which\n\thappens if temporary-file-directory has a very long name.\n\n\tExpect 2 icalendar tests to fail on MS-Windows\n\t* test/automated/icalendar-tests.el (icalendar-import-with-timezone)\n\t(icalendar-real-world): Make them expected failures on MS-Windows.\n\n2015-06-20  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tImprove port of settings UI to older displays\n\t* lisp/cus-start.el (standard): Don't assume curved quotes are\n\teasily distinguishable when users are tinkering with a setting\n\tthat affects how curved quotes are generated.\n\n\tFix quoting in electric-quote-mode doc string\n\t* lisp/electric.el (electric-quote-mode): Fix quoting.\n\tThis is a fallout from the recent change introducing\n\t\u2018help-quote-translation\u2019.\n\n\tSpelling fix\n\n\t* doc/misc/texinfo.tex, lib/set-permissions.c: Merge from gnulib.\n\n\t* src/doc.c (syms_of_doc): Remove unused symbols.\n\n2015-06-20  Martin Rudalics  <rudalics@gmx.at>\n\n\t* lisp/window.el (window-state-put): Undedicate target window\n\tbefore putting STATE into it.  (Bug#20848)\n\n2015-06-19  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-24\n\ta5e6f33 Fixes: debbugs:20832\n\tb9f02cf Fixes: debbugs:20832\n\n2015-06-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix file-in-directory-p when the directory is UNC\n\t* lisp/files.el (file-in-directory-p): Support files and\n\tdirectories that begin with \"//\".  (Bug#20844)\n\n2015-06-19  Stephen Berman  <stephen.berman@gmx.net>\n\n\t* lisp/calendar/todo-mode.el (todo-show): Don't visit todo file\n\tin the minibuffer.  (Bug#20832)\n\n2015-06-19  Nicolas Richard  <youngfrog@members.fsf.org>\n\n\t* lisp/calendar/todo-mode.el (todo-show): Signal an error if buffer\n\tfor adding new todo file is empty but modified.  (Bug#20832)\n\n2015-06-19  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t(filepos-to-bufferpos): Further tweaks to the utf-16 code\n\t* lisp/international/mule-util.el (filepos-to-bufferpos):\n\tFix typo.  Move non-exact check to the utf-16 branch (the only one\n\taffected).  Don't use byte-to-position for the utf-16 case.\n\n2015-06-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tMinor fixes in filepos-to-bufferpos\n\t* lisp/international/mule-util.el (filepos-to-bufferpos): Remove\n\ttest for utf-8-emacs.  Exempt single-byte encodings from the\n\t'use-exact' path when QUALITY is 'exact'.  Test UTF-16 encodings\n\tfor BOM before subtracting 2 bytes.  Use 'identity' when adjusting\n\tUTF-16 encoded files for CR-LF EOLs.\n\n2015-06-19  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tImprove the optional translation of quotes\n\tFix several problems with the recently-added custom variable\n\thelp-quote-translation where the code would quote inconsistently\n\tin help buffers.  Add support for quoting 'like this', which\n\tis common in other GNU programs in ASCII environments.  Change\n\thelp-quote-translation to use more mnemonic values: values are now the\n\tinitial quoting char, e.g., (setq help-quote-translation ?`) gets the\n\ttraditional Emacs help-buffer quoting style `like this'.  Change the\n\tdefault behavior of substitute-command-keys to match what's done in\n\tset-locale-environment, i.e., quote \u2018like this\u2019 if displayable,\n\t'like this' otherwise.\n\t* doc/lispref/help.texi (Keys in Documentation): Document\n\tnew behavior of substitute-command-keys, and document\n\thelp-quote-translation.\n\t* doc/lispref/tips.texi (Documentation Tips):\n\tMention the effect of help-quote-translation.\n\t* etc/NEWS: Mention new behavior of substitute-command-keys,\n\tand merge help-quote-translation news into it.\n\tWhen talking about doc strings, mention new ways to type quotes.\n\t* lisp/cedet/mode-local.el (overload-docstring-extension):\n\tRevert my recent change to this function, which shouldn't be\n\tneeded as the result is a doc string.\n\t* lisp/cedet/mode-local.el (mode-local-print-binding)\n\t(mode-local-describe-bindings-2):\n\t* lisp/cedet/srecode/srt-mode.el (srecode-macro-help):\n\t* lisp/cus-theme.el (describe-theme-1):\n\t* lisp/descr-text.el (describe-text-properties-1, describe-char):\n\t* lisp/emacs-lisp/cl-generic.el (cl--generic-describe):\n\t* lisp/emacs-lisp/eieio-opt.el (eieio-help-class)\n\t(eieio-help-constructor):\n\t* lisp/emacs-lisp/package.el (describe-package-1):\n\t* lisp/faces.el (describe-face):\n\t* lisp/help-fns.el (help-fns--key-bindings)\n\t(help-fns--compiler-macro, help-fns--parent-mode)\n\t(help-fns--obsolete, help-fns--interactive-only)\n\t(describe-function-1, describe-variable):\n\t* lisp/help.el (describe-mode):\n\tUse substitute-command-keys to ensure a more-consistent quoting\n\tstyle in help buffers.\n\t* lisp/cus-start.el (standard):\n\tDocument new help-quote-translation behavior.\n\t* lisp/emacs-lisp/lisp-mode.el (lisp-fdefs):\n\t* lisp/help-mode.el (help-xref-symbol-regexp, help-xref-info-regexp)\n\t(help-xref-url-regexp):\n\t* lisp/international/mule-cmds.el (help-xref-mule-regexp-template):\n\t* lisp/wid-edit.el (widget-documentation-link-regexp):\n\tAlso match 'foo', in case we're in a help buffer generated when\n\thelp-quote-translation is ?'.\n\t* src/doc.c: Include disptab.h, for DISP_CHAR_VECTOR.\n\t(LEFT_SINGLE_QUOTATION_MARK, uLSQM0, uLSQM1, uLSQM2, uRSQM0)\n\t(uRSQM1, uRSQM2, LSQM, RSQM): New constants.\n\t(Fsubstitute_command_keys): Document and implement new behavior.\n\t(Vhelp_quote_translation): Document new behavior.\n\n2015-06-18  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/cus-start.el (help-quote-translation): Add :version.\n\n\t* src/doc.c (Fsubstitute_command_keys): Make previous change compile.\n\n2015-06-18  Alan Mackenzie  <acm@muc.de>\n\n\tMake translation of quotes to curly in doc strings optional.\n\t* src/doc.c (traditional, prefer-unicode): New symbols.\n\t(help-quote-translation): New variable.\n\t(Fsubstitute_command_keys): Make translation of quotes dependent on\n\t`help-quote-translation'; also translate curly quotes back to ASCII\n\tones.\n\t* lisp/cus-start.el (top-level): Add a customization entry for\n\t`help-quote-translation'.\n\n2015-06-18  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el: Don't always propagate async errors\n\t(package--with-work-buffer-async): Only propagate the error if the\n\tcallback returns non-nil.\n\t(package--download-one-archive): Return nil on the signature\n\tchecking callback if we accept unsigned.\n\t(package--download-and-read-archives): Return non-nil on the\n\tarchive download callback.\n\n2015-06-18  Martin Rudalics  <rudalics@gmx.at>\n\n\tSet image_cache_refcount before x_default_parameter calls.  (Bug#20802)\n\t* src/nsfns.m (Fx_create_frame):\n\t* src/xfns.c (Fx_create_frame, x_create_tip_frame): Move setting\n\timage_cache_refcount before first x_default_parameter call.\n\n2015-06-18  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove and extend filepos-to-bufferpos\n\t* lisp/international/mule-util.el (filepos-to-bufferpos--dos):\n\tDon't barf if F returns nil for some argument.\n\t(filepos-to-bufferpos): Expand to support UTF-16 and not assume\n\tthat every encoding of type 'charset' is single-byte.\n\n2015-06-18  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el (package-menu--perform-transaction):\n\tProperly delete packages.  (Bug#20836)\n\n2015-06-18  Eli Zaretskii  <eliz@gnu.org>\n\n\tUpdate data files from just-released Unicode 8.0\n\t* etc/NEWS: Update wording since Unicode 8.0 is no longer in draft\n\tstatus.\n\t* test/BidiCharacterTest.txt: Update from Unicode 8.0.\n\t* admin/unidata/BidiMirroring.txt:\n\t* admin/unidata/BidiBrackets.txt:\n\t* admin/unidata/UnicodeData.txt: Update from Unicode 8.0.\n\n2015-06-18  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDocument curved quotes a bit better\n\t* doc/emacs/basic.texi (Inserting Text):\n\tMention C-x 8.  Change example to use curved quote rather\n\tthan infinity, as this lets us give more ways to do it.\n\t* doc/emacs/mule.texi (International Chars): Mention C-x 8 shortcuts\n\tand quotation marks.\n\t* doc/emacs/text.texi (Quotation Marks):\n\t* doc/lispref/tips.texi (Documentation Tips):\n\tAdd \"curly quotes\" and \"curved quotes\" to the index.\n\t* doc/emacs/text.texi (Quotation Marks):\n\tGive the C-x 8 shorthands for curved quotes.\n\tCross-reference to \"Quotation Marks\".\n\n2015-06-17  Daiki Ueno  <ueno@gnu.org>\n\n\tAdd pinentry.el for better GnuPG integration\n\t* lisp/pinentry.el: New file.\n\t* etc/NEWS: Add entry about pinentry.el.\n\t* lisp/epg.el (epg--start): Set INSIDE_EMACS envvar.\n\t(Bug#20550)\n\n2015-06-17  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el: Slightly better error reporting.\n\n2015-06-17  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t(define-minor-mode): Use setq-default for :global minor modes\n\t* lisp/emacs-lisp/easy-mmode.el (define-minor-mode):\n\tUse setq-default for :global minor modes (bug#20712).\n\n2015-06-17  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid infloop in redisplay with tall images\n\t* src/xdisp.c (try_scrolling): Prevent an infloop when scrolling\n\tdown near ZV.  (Bug#20808)\n\tCall bidi_unshelve_cache to avoid memory leaks.  Use IT_CHARPOS\n\tinstead of CHARPOS.\n\n2015-06-17  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el (package--with-work-buffer-async):\n\tFix error reporting.\n\n\t* lisp/emacs-lisp/let-alist.el: Move to lisp/emacs-lisp/let-alist.el\n\n\t* lisp/emacs-lisp/package.el: Revert buffer after any operation\n\tCall `package-menu--post-refresh' after any operation that changes\n\tthe package database (`package-install' and `package-delete').  To\n\tavoid performance issues in large transactions, these functions\n\tadd `post-refresh' to `post-command-hook' instead of calling it\n\timmediately.\n\t(package-menu--mark-or-notify-upgrades): New function.\n\t(list-packages): Add it to `package--post-download-archives-hook'.\n\t(package-menu--post-refresh): Lose the upgrade-checking code, add\n\tcode to remove itself from `post-command-hook'.\n\t(package-install, package-delete): Add it to `post-command-hook'.\n\t(package-menu-execute): Don't call `package-menu--post-refresh'.\n\n2015-06-17  Stephen Leake  <stephen_leake@stephe-leake.org>\n\n\tAdd missing function xref-location-group for elisp-mode.\n\t* lisp/progmodes/elisp-mode.el: Add missing function xref-location-group.\n\n2015-06-17  Wolfgang Jenkner  <wjenkner@inode.at>\n\n\t* src/editfns.c (Fbyte_to_position): Fix bytepos not at char boundary.\n\tThe behavior now matches the description in the manual.  (Bug#20783)\n\n2015-06-17  Xue Fuqiao  <xfq.free@gmail.com>\n\n\t* etc/tutorials/TUTORIAL.cn: Update; synchronize with TUTORIAL.\n\n2015-06-17  Glenn Morris  <rgm@gnu.org>\n\n\tGenerate char-script-table from Unicode source.  (Bug#20789)\n\t* admin/unidata/Makefile.in (AWK): New, set by configure.\n\t(all): Add charscript.el.\n\t(blocks): New variable.\n\t(charscript.el, ${unidir}/charscript.el): New targets.\n\t(extraclean): Also remove generated charscript.el.\n\t* admin/unidata/blocks.awk: New script.\n\t* admin/unidata/Blocks.txt: New data file, from unicode.org.\n\t* lisp/international/characters.el: Load charscript.\n\t* src/Makefile.in (charscript): New variable.\n\t(${charscript}): New target.\n\t(${lispintdir}/characters.elc): Depend on charscript.elc.\n\t(temacs$(EXEEXT)): Depend on charscript.\n\n\t* lisp/international/characters.el (char-script-table): Tweak\n\tsome ranges to better match the source.  (Bug#20789#17)\n\n\tRemove \"no-byte-compile: t\" from a few files.\n\t* lisp/obsolete/bruce.el, lisp/obsolete/keyswap.el:\n\t* lisp/obsolete/patcomp.el: No reason not to compile these.\n\n2015-06-16  Glenn Morris  <rgm@gnu.org>\n\n\tFix some typos in copied Unicode data.  (Bug#20789)\n\t* lisp/international/characters.el (char-script-table):\n\t* lisp/international/fontset.el (script-representative-chars)\n\t(setup-default-fontset): Fix typos.\n\n\t* lisp/emacs-lisp/check-declare.el (check-declare-warn):\n\tDon't print filename twice (it's in the prefix now).\n\n\t* lisp/emacs-lisp/pcase.el (pcase--u1): Revert earlier workaround.\n\tNo longer needed.\n\n\tAddress a compilation warning.\n\t* lisp/emacs-lisp/bytecomp.el (byte-compile-file-form-defalias):\n\tReplace 't' with '_' in pcase.\n\n\tAddress some check-declare warnings.\n\t* lisp/simple.el (tabulated-list-print):\n\t* lisp/progmodes/elisp-mode.el (xref-collect-matches):\n\t* lisp/term/ns-win.el (ns-selection-owner-p, ns-selection-exists-p)\n\t(ns-get-selection): Update declarations.\n\n\tAddress some compilation warnings.\n\t* lisp/elec-pair.el (electric-pair-post-self-insert-function):\n\t* lisp/vc/vc-git.el (vc-git-file-type-as-string):\n\tReplace 't' with '_' in pcase.\n\n\tAddress some compilation warnings.\n\t* lisp/face-remap.el (text-scale-adjust):\n\t* lisp/menu-bar.el (popup-menu-normalize-position):\n\t* lisp/emacs-lisp/byte-opt.el (byte-compile-inline-expand):\n\t* lisp/emacs-lisp/bytecomp.el (byte-compile-arglist-warn):\n\t* lisp/emacs-lisp/generator.el (cps--transform-1):\n\t* lisp/emacs-lisp/macroexp.el (macroexp--expand-all):\n\t* lisp/obsolete/vc-arch.el (vc-arch-mode-line-string):\n\t* lisp/progmodes/octave.el (octave-goto-function-definition)\n\t(octave-find-definition-default-filename):\n\tReplace 't' with '_' in pcase.\n\n\t* lisp/emacs-lisp/pcase.el (pcase--u1):\n\tPaper-over today's bootstrap failure.\n\n2015-06-16  Nicolas Petton  <nicolas@petton.fr>\n\n\t* lisp/emacs-lisp/seq.el: Fix a byte-compiler warnings related to pcase.\n\n\t* lisp/emacs-lisp/map.el (map-into): Fix a byte-compiler warning.\n\n\tBetter confirmation message in `find-alternate-file' (Bug#20830)\n\t* lisp/files.el (find-alternate-file'): Improve the confirmation\n\tmessage to show the buffer name.\n\n\tBetter docstring for null.  (Bug#20815)\n\t* src/data.c (null): Improves the docstring, saying what null returns\n\twhen OBJECT is non-nil.\n\n2015-06-16  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/net/newst-treeview.el: Use lexical-binding.\n\n\t(filepos-to-bufferpos): Add missing cases.  Make sure it terminates.\n\t* lisp/international/mule-util.el (filepos-to-bufferpos--dos):\n\tNew auxiliary function, extracted from filepos-to-bufferpos.\n\tMake sure it terminates.\n\t(filepos-to-bufferpos): Use it to fix the latin-1-dos case.\n\tAdd support for the `exact' quality.\n\n2015-06-16  C\u00e9dric Ch\u00e9pied  <cedric.chepied@gmail.com>\n\n\tIdentify feeds in newsticker treeview with :nt-feed property\n\t* lisp/net/newst-treeview.el:\n\t(newsticker--treeview-nodes-eq): Use property :nt-feed instead of :tag.\n\n2015-06-16  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/pcase.el: Improve docs and error handling.\n\t(pcase--self-quoting-p): Floats aren't self-quoting.\n\t(pcase): Tweak docstring.\n\t(pcase--u1): Deprecate the t pattern.  Improve error detection for\n\tthe nil pattern.\n\t(\\`): Tweak docstring.  Signal an error for unrecognized cases.\n\t(bug#20784)\n\n2015-06-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix infloop in filepos-to-bufferpos\n\t* lisp/international/mule-util.el (filepos-to-bufferpos): Fix EOL\n\toffset calculation, and make it conditional on the eol-type of the\n\tfile's encoding.  (Bug#20825)\n\n2015-06-16  Martin Rudalics  <rudalics@gmx.at>\n\n\tFix handling of image cache refcounts.  (Bug#20802)\n\tThis backports Eli Zaretskii's solution of this problem for W32\n\tto X and NS.\n\t* src/nsfns.m (image_cache_refcount): Define unconditionally.\n\t(unwind_create_frame): If the image cache's reference count\n\thasn't been updated yet, do that now.\n\t(Fx_create_frame): Set image_cache_refcount unconditionally.\n\t* src/xfns.c (image_cache_refcount): Define unconditionally.\n\t(unwind_create_frame): If the image cache's reference count\n\thasn't been updated yet, do that now.\n\t(Fx_create_frame, x_create_tip_frame): Set image_cache_refcount\n\tunconditionally.\n\t* src/w32fns.c (image_cache_refcount): Make it a ptrdiff_t as on\n\tX and NS.\n\n2015-06-16  Nils Ackermann  <nils@ackermath.info>\n\n\tImprove reftex-label-regexps default value\n\t* lisp/textmodes/reftex-vars.el (reftex-label-regexps): Make\n\tkeyvals label regexp more strict to better cope with unbalanced\n\tbrackets common in math documents.\n\n2015-06-16  Glenn Morris  <rgm@gnu.org>\n\n\t* doc/emacs/calendar.texi (Format of Diary File):\n\tMove \"nonmarking\" from here...\n\t(Displaying the Diary): ... to here.\n\n\t* doc/emacs/calendar.texi (Format of Diary File, Displaying the Diary):\n\tSwap the order of these nodes.\n\t* doc/emacs/emacs.texi: Update detailed menu for the above change.\n\n\t* doc/emacs/calendar.texi (Specified Dates, Special Diary Entries):\n\tUpdate date of examples.\n\t(Diary, Format of Diary File): Move example from former to latter.\n\tReduce duplication.\n\n\tNo need for cp51932.el, eucjp-ms.el to not be compiled any more.\n\t* admin/charsets/cp51932.awk, admin/charsets/eucjp-ms.awk:\n\tDon't set no-byte-compile in the outputs.\n\t* lisp/loadup.el: Don't specify uncompiled cp51932, eucjp-ms.\n\n2015-06-15  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/calendar/calendar.el (diary-file): Use locate-user-emacs-file.\n\t* doc/emacs/calendar.texi (Diary, Format of Diary File):\n\tUpdate for above diary-file change.\n\n\t* lisp/macros.el (name-last-kbd-macro, kbd-macro-query)\n\t(apply-macro-to-region-lines): Use user-error.\n\n\t* lisp/textmodes/page-ext.el (add-new-page, pages-directory)\n\t(pages-directory-for-addresses): Doc fixes.\n\n2015-06-15  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/info.el: Cleanup bytepos/charpos issues\n\t* lisp/international/mule-util.el: Use lexical-binding.\n\t(filepos-to-bufferpos): New function.\n\t* lisp/info.el (Info-find-in-tag-table-1): Use 0-based file positions.\n\t(Info-find-node-2): Use filepos-to-bufferpos (bug#20704).\n\t(Info-read-subfile, Info-search): Use 0-based file positions.\n\n\t* lisp/progmodes/perl-mode.el: Refine handling of /re/ and y/abc/def/\n\t(perl--syntax-exp-intro-keywords): New var.\n\t(perl--syntax-exp-intro-regexp, perl-syntax-propertize-function): Use it.\n\t(bug#20800).\n\n2015-06-15  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix quoting when making derived mode docstring\n\t* lisp/emacs-lisp/derived.el (derived-mode-make-docstring):\n\tNest regexp-quote inside format, not the reverse.\n\tProblem reported by Artur Malabarba in:\n\thttps://lists.gnu.org/r/emacs-devel/2015-06/msg00206.html\n\n2015-06-15  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix current-iso639-language on MS-Windows\n\t* lisp/international/mule-cmds.el (set-locale-environment):\n\tDowncase the locale name before interning it.  This is so the\n\t'current-iso639-language' on MS-Windows matches the ':lang'\n\tproperty of font-spec objects.\n\n\tLimit Symbola usage some more\n\t* lisp/international/fontset.el (setup-default-fontset): Limit\n\tSymbol coverage of Currency Symbols to u+20B6..u+20CF.\n\t(Bug#20727)\n\n2015-06-15  Nicolas Petton  <nicolas@petton.fr>\n\n\t* lisp/emacs-lisp/map.el (map-let): Better docstring.\n\n2015-06-15  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* test/automated/help-fns.el (abc\\\\\\[universal-argument\\]b\\`c\\'d\\\\e\\\"f):\n\t(help-fns-test-funny-names): Spelling fixes.\n\n2015-06-14  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/version.el (emacs-repository-version-git): Demote errors.\n\tCheck result is a hash.\n\n2015-06-14  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el (package--with-work-buffer-async):\n\tCatch errors that happen before going async.  (Bug#20809)\n\n2015-06-14  Eli Zaretskii  <eliz@gnu.org>\n\n\tAnother improvement of documentation of set-fontset-font\n\t* doc/lispref/display.texi (Fontsets): Say explicitly that\n\tCHARACTER can be a single codepoint.\n\t* src/fontset.c (Fset_fontset_font): Doc fix.\n\n\tAnother improvement for symbol and punctuation characters\n\t* lisp/international/fontset.el (setup-default-fontset): Exclude\n\tfrom Symbola character ranges for symbols and punctuation covered\n\twell by popular Unicode fonts.  Prefer fixed-misc Unicode font, if\n\tinstalled and where its coverage of symbols and punctuation is\n\tknown to be good.  (Bug#20727)\n\n2015-06-14  Christoph Wedler  <christoph.wedler@sap.com>\n\n\tSome generic support for multi-mode indentation.\n\t* lisp/progmodes/prog-mode.el (prog-indentation-context):\n\tNew variable.\n\t(prog-first-column, prog-widen): New convenience functions.\n\n2015-06-14  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/tabulated-list.el (tabulated-list-print):\n\tDon't assume that `tabulated-list-printer' will leave point at the\n\tend of the buffer.  (Bug#20810)\n\n2015-06-13  Glenn Morris  <rgm@gnu.org>\n\n\tTweaks for getting repository version; a bit more like it was for bzr\n\t* lisp/version.el (emacs-repository-version-git)\n\t(emacs-repository--version-git-1): New functions,\n\tsplit from emacs-repository-get-version.\n\t(emacs-repository-get-version): Make the second argument meaningful.\n\n\t* lisp/startup.el (command-line-1): Inform if skipping relative\n\tfile names due to deleted PWD.\n\n\t* src/xsmfns.c (x_session_initialize): Avoid libSM crash\n\twhen starup directory is missing.  (Bug#18851)\n\t(errno.h): Include it.\n\n2015-06-13  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tBetter fix for documenting `X as \"`X\"\n\tFix suggested by Stefan Monnier.\n\t* lisp/help-fns.el (help-fns--signature):\n\tInsert \"`X\", not \"(\\` X)\", when documenting `X (Bug#20759).\n\t* lisp/help.el (help-split-fundoc, help--make-usage-docstring):\n\tDon't treat `X specially, as help-fns--signature now handles this.\n\n2015-06-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove the default fontset when Symbola is not installed\n\t* lisp/international/fontset.el (setup-default-fontset): Only\n\tprepend Symbola and FreeMono font specs for symbols and\n\tpunctuation; do not replace the default spec for them.  This\n\tshould have better results when Symbola/FreeMono are not\n\tinstalled.  (Bug#20727)\n\n\tImprove documentation of ':lang' in font specs\n\t* src/font.c (Ffont_spec): Doc fix: elaborate on the values and\n\tuse of the ':lang' property of the font spec.\n\t* doc/emacs/frames.texi (Fonts): Document the language names that\n\tcan be in the STYLE part of XLFD.\n\t* doc/lispref/display.texi (Low-Level Font): Document the ':lang'\n\tproperty.\n\n\t* nt/README: Don't advertise the (obsolescent) w32 FAQ.\n\n\t* nt/README.W32: Don't advertise the (obsolescent) w32 FAQ.\n\n\tRevert last change in fontset.el\n\t* lisp/international/fontset.el (setup-default-fontset): Revert\n\tthe change \"Configure Symbola font only if installed\", since font\n\tsearch is evidently not yet set up when this function is called.\n\t(Bug#20727)\n\n2015-06-12  Glenn Morris  <rgm@gnu.org>\n\n\tEnsure early startup warnings are visible at the end.  (Bug#20792)\n\t* lisp/emacs-lisp/warnings.el (display-warning):\n\tIf startup isn't complete, delay the warning.\n\t* lisp/startup.el (normal-top-level, command-line):\n\tLet display-warning automatically handle the needed delays.\n\tRun delayed-warnings-hook.\n\n\t* lisp/version.el (emacs-repository-get-version):\n\tAvoid calling external executable if possible.  (Bug#20799)\n\n2015-06-12  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDocument `X as \"`X\", not as \"(` X)\"\n\t* lisp/help.el (help-split-fundoc, help--make-usage-docstring):\n\tDocument (backquote FOO) as \"`FOO\", not as \"(` FOO)\" (Bug#20759).\n\n\t* src/print.c (print_object): Minor simplification.\n\n2015-06-12  Glenn Morris  <rgm@gnu.org>\n\n\t* src/buffer.c (init_buffer): Add final newline to message.\n\n2015-06-12  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tConfigure Symbola font only if installed\n\t* lisp/international/fontset.el (setup-default-fontset):\n\tDon't specify the Symbola font if it's not installed.\n\tLikewise for FreeMono.  (Bug#20727)\n\n2015-06-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tConfigure Symbola font only for symbols and punctuation\n\t* lisp/international/fontset.el (setup-default-fontset): Leave\n\tonly symbols and punctuation in the fontset setup for Symbola\n\tfont; remove \"Greek and Coptic\" and \"Cyrillic Supplement\".\n\t(Bug#20798)\n\n2015-06-12  Andreas Schwab  <schwab@linux-m68k.org>\n\n\tFix crash in fontset-info\n\t* src/fontset.c (Ffontset_info): Check that the RFONT-DEF elt is\n\tnon-nil.\n\n2015-06-12  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort to Solaris 10 sparc + Sun C 5.13\n\t* configure.ac (SETUP_SLAVE_PTY) [sol2* | unixware]:\n\tAdjust to process.c change.\n\t* src/process.c (create_process): Declare volatile variables at\n\ttop level of this function, so that they're less likely to be\n\treused later in the function in the code executed by the vforked\n\tchild.  Do not declare locals used only in the vforked child, as\n\tthey might share memory with locals still live in the parent.\n\tInstead, use the same variables in the child as in the parent.\n\tThis works around a subtle bug that causes a garbage collector\n\tcrash when Emacs is built with Sun C 5.13 sparc on Solaris 10.\n\n2015-06-12  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/startup.el (normal-top-level): Don't let *Messages* get\n\ta nil default-directory.\n\n2015-06-11  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/startup.el (normal-top-level): Use delay-warning.  (Bug#20792)\n\n\tSome progress towards starting with PWD deleted.  (Bug#18851)\n\t* src/buffer.c (init_buffer): Handle get_current_dir_name failures.\n\t* lisp/startup.el (normal-top-level, command-line-1):\n\t* lisp/minibuffer.el (read-file-name-default):\n\tHandle default-directory being nil.\n\n2015-06-11  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix \"not a tty\" bug on Solaris 10\n\t* configure.ac (PTY_OPEN): Define to plain 'open'\n\ton SVR4-derived hosts, so that the O_CLOEXEC flag isn't set.\n\t* src/process.c (allocate_pty): Set the O_CLOEXEC flag after\n\tcalling PTY_TTY_NAME_SPRINTF, for the benefit of SVR4-derived\n\thosts that call grantpt which does its work via a setuid subcommand\n\t(Bug#19191, Bug#19927, Bug#20555, Bug#20686).\n\tAlso, set O_CLOEXEC even if PTY_OPEN is not defined, since it\n\tseems relevant in that case too.\n\n2015-06-11  Juri Linkov  <juri@linkov.net>\n\n\t* lisp/bindings.el (debug-ignored-errors): Add mark-inactive.\n\t* lisp/simple.el (kill-region): Replace 'error' with 'user-error'.\n\t(Bug#20785)\n\n2015-06-11  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/international/characters.el (char-script-table): Fix typo.\n\n2015-06-11  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix quoting of help for functions with odd names\n\tWhile investigating Bug#20759, I discovered other quoting problems:\n\tC-h f mishandled characters like backslash and quote in function names.\n\tThis fix changes the behavior so that 'C-h f pcase RET' now\n\tgenerates \"... (\\` QPAT) ...\" instead of \"... (` QPAT) ...\",\n\tbecause '(format \"%S\" '(` FOO))' returns \"(\\\\` FOO)\".  A comment\n\tin src/lread.c's read1 function says that the backslash will be\n\tneeded starting in Emacs 25, which implies that 'format' is\n\tcorrect and the old pcase documention was wrong to omit the backslash.\n\t* lisp/emacs-lisp/nadvice.el (advice--make-docstring):\n\t* lisp/help-fns.el (help-fns--signature):\n\t* lisp/help.el (help-add-fundoc-usage):\n\t* lisp/progmodes/elisp-mode.el (elisp-function-argstring):\n\tUse help--make-usage-docstring rather than formatting\n\thelp-make-usage.\n\t* lisp/emacs-lisp/pcase.el (pcase--make-docstring):\n\tReturn raw docstring.\n\t* lisp/help-fns.el (help-fns--signature): New arg RAW, to return\n\traw docstring.  Take more care to distinguish raw from cooked dstrings.\n\t(describe-function-1): Let help-fns--signature substitute\n\tcommand keys.\n\t* lisp/help.el (help--docstring-quote): New function.\n\t(help-split-fundoc): Use it, to quote funny characters more\n\tsystematically.\n\t(help--make-usage): Rename from help-make-usage, since this\n\tshould be private.  Leave an obsolete alias for the old name.\n\t(help--make-usage-docstring): New function.\n\t* test/automated/help-fns.el (help-fns-test-funny-names): New test.\n\n2015-06-11  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/thingatpt.el (in-string-p): Revert last change,\n\tsince in-string-p is not used in thingatpt.el but only from outside.\n\tAlso, use lexical binding.\n\n2015-06-11  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/let-alist.el (let-alist--deep-dot-search): Fix cons.\n\t* test/automated/let-alist.el (let-alist-cons): Test it.\n\n2015-06-11  Nicolas Richard  <theonewiththeevillook@yahoo.fr>\n\n\t* src/syntax.c (Fbackward_prefix_chars): Reword docstring.\n\n2015-06-10  Glenn Morris  <rgm@gnu.org>\n\n\t* build-aux/gitlog-to-emacslog: Also ignore pointless merge commits.\n\n\tImprove generated ChangeLog for gitmerge.el commits.  (Bug#20717)\n\t* build-aux/gitlog-to-changelog: Handle gitmerge.el skipped commits.\n\t* admin/gitmerge.el (gitmerge-commit-message):\n\tExclude \"skipped\" messages from ChangeLog once again.\n\n\tSlight namespace cleanup for thingatpt.el.\n\t* lisp/thingatpt.el (thing-at-point--in-string-p)\n\t(thing-at-point--end-of-sexp, thing-at-point--beginning-of-sexp)\n\t(thing-at-point--read-from-whole-string): Rename from\n\told versions without \"thing-at-point--\" prefix.\n\tKeep old versions as obsolete aliases.  Update all uses.\n\n\t* lisp/emacs-lisp/checkdoc.el (checkdoc-get-keywords):\n\tMove requiring of finder from here...\n\t(checkdoc-package-keywords): ... to here.\n\n\tUse 'user-error' in a few calendar files.\n\t* lisp/calendar/appt.el (appt-add):\n\t* lisp/calendar/calendar.el (calendar-absolute-from-gregorian)\n\t(calendar-generate):\n\t* lisp/calendar/diary-lib.el (diary-mail-entries, diary-cyclic):\n\tReplace 'error' with 'user-error'.\n\n\t* lisp/progmodes/f90.el (f90-backslash-not-special): Use user-error.\n\n\t* lisp/files-x.el (add-file-local-variable):\n\tSpecial-case 'lexical-binding'.  (Bug#20641)\n\n\t* lisp/progmodes/executable.el (executable-self-display): Obsolete.\n\tNo longer autoload.\n\t* doc/misc/autotype.texi (Executables):\n\tUndocument executable-self-display.\n\n\t* lisp/progmodes/executable.el (executable-self-display):\n\tUse non-obsolete tail syntax.  (Bug#20779)\n\t(executable-self-display): Doc update.\n\n2015-06-10  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/checkdoc.el: Use lexical-binding\n\t(finder-known-keywords): Silence byte-compiler.\n\n2015-06-09  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/simple.el (eval-expression): Macroexpand before evaluating\n\t(bug#20730).\n\n\t* lisp/progmodes/sh-script.el: Better handle nested quotes.\n\t(sh-here-doc-open-re): Don't mis-match the <<< operator (bug#20683).\n\t(sh-font-lock-quoted-subshell): Make sure double quotes within single\n\tquotes don't mistakenly end prematurely the surrounding string.\n\n\t* lisp/progmodes/elisp-mode.el: Require cl-lib for cl-defstruct.\n\n2015-06-09  Glenn Morris  <rgm@gnu.org>\n\n\t* test/automated/Makefile.in (ELFILES): Sort.\n\n\t* Makefile.in (SUBDIR_MAKEFILES):\n\t* lwlib/Makefile.in (WARN_CFLAGS):\n\tUse built-in Make functions rather than echo+sed.\n\n2015-06-09  Eli Zaretskii  <eliz@gnu.org>\n\n\tUpdate char-script-table\n\t* lisp/international/characters.el (char-script-table): Update\n\tfrom Unicode 8.0 Draft.\n\n\tImprove font selection for punctuation and other symbols\n\t* src/fontset.c (face_for_char): If the character's script is\n\t'symbol', and the font used for ASCII face has a glyph for it, use\n\tthe font for the ASCII face instead of searching the fontsets.\n\tThis comes instead of NS-specific code that used the current\n\tface's font instead, which is now disabled due to undesirable\n\tconsequences.  (Bug#20727)\n\n2015-06-08  Dmitry Gutov  <dgutov@yandex.ru>\n\n\t* lisp/progmodes/elisp-mode.el (elisp-completion-at-point):\n\tSkip past `#' to find BEG (bug#20771).\n\t* test/automated/elisp-mode-tests.el\n\t(elisp-completes-functions-after-hash-quote): New test.\n\n2015-06-08  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix compilation warning/error in --without-x builds\n\t* src/xdisp.c (append_space_for_newline): Condition GUI-specific\n\tcode on HAVE_WINDOW_SYSTEM.\n\n\tImprove the default fontset wrt symbols\n\t* lisp/international/fontset.el (setup-default-fontset): Better\n\tsetup of fontset-default for symbols: use Symbola and FreeMono.\n\t(Bug#20727)\n\n2015-06-08  Oleh Krehel  <ohwoeowho@gmail.com>\n\n\tAdd new command checkdoc-package-keywords\n\t* lisp/emacs-lisp/checkdoc.el (checkdoc-package-keywords-flag):\n\tNew defcustom.\n\t(checkdoc-list-of-strings-p): Add doc.\n\t(checkdoc-current-buffer): When `checkdoc-package-keywords-flag' is\n\tnon-nil, call `checkdoc-package-keywords'.\n\t(checkdoc-get-keywords): New defun.\n\t(checkdoc-package-keywords): New command.  Warns if the current file\n\thas package.el-style keywords that aren't in `finder-known-keywords'.\n\t* etc/NEWS: Add entry.\n\n2015-06-08  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid crashes when key-binding is called from a timer\n\t* src/keymap.c (Fkey_binding): Don't segfault if called with an\n\tempty vector as KEY.  (Bug#20705)\n\n\tFix a thinko in arc-mode.el\n\t* lisp/arc-mode.el (archive-zip-summarize): Fix last change in the\n\tnon-Zip64 case.  (Bug#20769)\n\n2015-06-08  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el (package-delete): Make interactive.\n\n2015-06-08  Oleh Krehel  <ohwoeowho@gmail.com>\n\n\t* lisp/emacs-lisp/checkdoc.el (checkdoc-file): New function.\n\t(checkdoc-error): When `checkdoc-diagnostic-buffer' is set to\n\t\"*warn*\", print the warning to the standard output.  (bug#20754)\n\n2015-06-07  Glenn Morris  <rgm@gnu.org>\n\n\t* admin/update_autogen (changelog_files): Remove gitlog-to-emacslog.\n\n\t* src/font.c (syms_of_font) <font-log>: Doc fix.\n\n\tRemove the obsolete leading \"*\" from some C doc strings.\n\t* src/coding.c (syms_of_coding):\n\t* src/font.c (syms_of_font): Remove leading \"*\" from docs.\n\t* lisp/cus-start.el (enable-character-translation): Add it.\n\n2015-06-07  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMove gen_origin from program to data\n\tThat way, 'make change-history' needs to change only ChangeLog.2,\n\tinstead of having to change two files.\n\t* ChangeLog.2: Add commit info for range that this file covers.\n\t* Makefile.in (new_commit_regexp): New macro.\n\t(change-history-nocommit): Simplify, by putting what used to be\n\tthe gen_origin value into the data (ChangeLog.2) rather than\n\tinto the program (gitlog-to-emacslog).\n\t* build-aux/gitlog-to-emacslog (gen_origin): Calculate from\n\tthe input file (e.g., ChangeLog.2) rather than by having a\n\tconstant in the program.  Substitute it into the output.\n\n2015-06-07  Dmitry Gutov  <dgutov@yandex.ru>\n\n\t* lisp/help-fns.el (help-fns--signature): Quote any quotes in the\n\tfunction name (bug#20759).\n\n2015-06-07  Eli Zaretskii  <eliz@gnu.org>\n\n\tAdapt 'struct timespec' to next release of MinGW runtime\n\t* nt/inc/ms-w32.h (struct timespec): Don't declare if\n\t__struct_timespec_defined is defined.\n\n2015-06-06  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from gnulib\n\tThis incorporates:\n\t2015-06-06 acl-permissions: pacify -Wsuggest-attribute=const\n\t2015-06-05 stdio: Don't redefine gets when using C++\n\t2015-06-05 acl-permissions: port to AIX, C89 HP-UX\n\t2015-06-02 file-has-acl: fix build on Mac OS X 10\n\t2015-06-01 gnulib-tool: concatenate lib_SOURCES to a single line\n\t2015-06-01 pthread_sigmask: discount system version if a simple macro\n\t2015-05-31 readlinkat: avoid OS X 10.10 trailing slash bug\n\t* doc/misc/texinfo.tex, lib/acl-internal.h, lib/get-permissions.c:\n\t* lib/readlinkat.c, lib/set-permissions.c, lib/stdio.in.h:\n\t* m4/acl.m4, m4/pthread_sigmask.m4, m4/readlinkat.m4: Copy from gnulib.\n\t* lib/gnulib.mk: Regenerate.\n\n2015-06-06  Juri Linkov  <juri@linkov.net>\n\n\t* lisp/progmodes/grep.el (zrgrep): Let-bind grep-highlight-matches\n\tbefore calling grep-compute-defaults because now it affects the\n\tcommand lines computed in grep-compute-defaults.  (Bug#20728)\n\n2015-06-06  Glenn Morris  <rgm@gnu.org>\n\n\tAddress some compilation warnings.\n\t* lisp/international/mule-cmds.el (w32-get-console-codepage)\n\t(w32-get-console-output-codepage):\n\t* lisp/progmodes/elisp-mode.el (xref-collect-references):\n\t* lisp/version.el (cairo-version-string): Declare.\n\t* lisp/erc/erc.el (erc-nickname-in-use): Fix typo.\n\n2015-06-06  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix display when a font claims large values of ascent and descent\n\tThis fixes bug#20628.\n\t* src/xdisp.c (get_phys_cursor_geometry): Correct the Y\n\tcoordinate of a hollow cursor glyph when the original glyph's\n\tascent is too small.\n\t(get_font_ascent_descent, normal_char_ascent_descent)\n\t(normal_char_height): New functions.\n\t(handle_single_display_spec, append_space_for_newline)\n\t(calc_pixel_width_or_height, produce_stretch_glyph)\n\t(calc_line_height_property): Use normal_char_ascent_descent and\n\tnormal_char_height.\n\t(x_produce_glyphs): When font-global values of ascent and descent\n\tare too large, use per-character glyph metrics instead, if\n\tpossible.  But don't allow the glyph row's ascent and descent\n\tvalues become smaller than the values from the metrics of the\n\tfont's \"normal\" character.\n\t* src/xftfont.c (xftfont_draw):\n\t* src/w32font.c (w32font_draw): Correct the values of ascent and\n\tdescent used to draw glyphless characters' hex code in a box.\n\t* src/xterm.c (x_draw_glyph_string_background):\n\t* src/xdisp.c (x_produce_glyphs):\n\t* src/w32term.c (x_draw_glyph_string_background):\n\t* src/nsterm.m (ns_maybe_dumpglyphs_background): Use FONT_TOO_HIGH\n\tto detect fonts whose global ascent and descent values are too\n\tlarge to be used in layout decision, and redraw the background\n\twhen that happens.\n\t* src/dispextern.h (FONT_TOO_HIGH): New macro.\n\t(get_font_ascent_descent): Add prototype.\n\t* src/xterm.c (x_new_font):\n\t* src/w32term.c (x_new_font):\n\t* src/nsterm.m (x_new_font):\n\t* src/font.c (font_open_entity):\n\t* src/composite.c (composition_gstring_width):\n\tUse get_font_ascent_descent to obtain reasonable values for ascent\n\tand descent of a font.\n\n2015-06-06  Nicolas Richard  <youngfrog@members.fsf.org>\n\n\tAdd assertion in adjust_point_for_property\n\t* src/keyboard.c (adjust_point_for_property): Add eassert for\n\tcurrent buffer being shown in selected window.\n\n2015-06-06  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tReplace uses of in-string-p; make it obsolete\n\t* lisp/thingatpt.el (in-string-p): Declare obsolete (bug#20732).\n\t(end-of-sexp, beginning-of-sexp): Use syntax-ppss instead.\n\n2015-06-06  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix Dired display of an explicit list of files by ls-lisp.el\n\t* lisp/ls-lisp.el (ls-lisp-uid-d-fmt, ls-lisp-uid-s-fmt)\n\t(ls-lisp-gid-d-fmt, ls-lisp-gid-s-fmt): Make the initial values be\n\tcorrect for when displaying individual files separately, not as\n\tpart of listing a directory, in which case these values are not\n\trecomputed by 'ls-lisp-insert-directory', but used verbatim.\n\n\t* lisp/dired.el (dired): Doc fix.  (Bug#20739)\n\n2015-06-06  Nicolas Richard  <youngfrog@members.fsf.org>\n\n\tDo not adjust point in a non-selected window\n\t* src/keyboard.c (command_loop_1): Do not adjust point when\n\tcurrent buffer is not shown in selected window (Bug#20590).\n\n\t* etc/DEBUG: Mention 'maybe_call_debugger'\n\n2015-06-05  Nicolas Petton  <nicolas@petton.fr>\n\n\tFix a unit test for map.el\n\t* test/automated/map-tests.el (test-map-let): Fix the test to work\n\twith the new syntax of `map-let'.\n\n\t* lisp/emacs-lisp/map.el (map-let): Better docstring.\n\n\tBetter syntax for the map pcase pattern\n\t* lisp/emacs-lisp/map.el: Improves the map pcase pattern to take\n\tbindings of the form (KEY PAT) or SYMBOL.  KEY is not quoted.\n\n\t* lisp/emacs-lisp/map.el (map--dispatch): Better docstring.\n\n\tFix a byte-compiler error in map-put and map-delete\n\t* lisp/emacs-lisp/map.el (map-put, map-delete): Ensure that `setq' is\n\tcalled with a symbol.\n\n2015-06-05  Glenn Morris  <rgm@gnu.org>\n\n\t* admin/gitmerge.el (gitmerge-commit-message):\n\tRevert to including \"skipped\" messages in ChangeLog once again.\n\n2015-06-05  Tassilo Horn  <tsdh@gnu.org>\n\n\tUse string> instead of equiv lambda with string<\n\t* lisp/help.el (view-emacs-news): Use string> instead of equivalent\n\tlambda with string<.\n\n2015-06-05  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/emacs-lisp/map.el (map--dispatch): Move before use.\n\t(map--delete-array): Fix typo.\n\n\t* test/automated/map-tests.el: Replace \"assert\" with \"should\".\n\n\t* lisp/Makefile.in (SUBDIRS): Rename from SUBDIRS_ABS.\n\t(SUBDIRS_REL): Derive from SUBDIRS.\n\n\tTweak some build messages.\n\t* lisp/Makefile.in ($(lisp)/loaddefs.el):\n\t* lisp/cus-dep.el (custom-make-dependencies):\n\t* lisp/finder.el (finder-compile-keywords): Say what we are doing.\n\t* lisp/international/titdic-cnv.el (batch-titdic-convert):\n\tDon't say how to compile.\n\n2015-06-05  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tOmit U+0332 COMBINING LOW LINE in previous change\n\tIt turns out that it does not work on Ubuntu 15.04.\n\n\tFix transliteration of Bah\u00e1'\u00ed months\n\t* lisp/calendar/cal-bahai.el (calendar-bahai-month-name-array):\n\tImprove quality of Latin transliteration of Bah\u00e1'\u00ed month names.\n\n\tFix curved quotes in a few places\n\t* lisp/calc/calc-misc.el (calc-help): Fix quoting.\n\tThe strings in question are not doc strings, so this partially\n\tundoes the recent change that assumed they were doc strings.\n\t* lisp/cedet/srecode/srt-mode.el (srecode-macro-help):\n\t* lisp/info.el (Info-finder-find-node):\n\tUse curved quotes.\n\t* lisp/emacs-lisp/derived.el (derived-mode-make-docstring):\n\tAlso allow curved quotes in doc strings.\n\n2015-06-04  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/Makefile.in (AM_V_at): Add missing definition.\n\n\t* lisp/Makefile.in: Quieten output a bit.\n\t($(lisp)/cus-load.el, $(lisp)/finder-inf.el):\n\tDon't echo directories, since the commands we invoke print them.\n\n\t* lisp/Makefile.in: Replace shell fragments in variables with $(shell).\n\t(SUBDIRS_REL, SUBDIRS_ABS, SUBDIRS_ALMOST, SUBDIRS_FINDER)\n\t(SUBDIRS_SUBDIRS): New variables.\n\t(setwins, setwins_almost, setwins_finder, setwins_for_subdirs):\n\tRemove.\n\t($(lisp)/cus-load.el, $(lisp)/finder-inf.el, $(lisp)/loaddefs.el)\n\t(update-subdirs, compile-main, compile-clean):\n\tReplace \"setwins\" usage with new \"SUBDIRS\" variables.\n\n\t* lisp/vc/compare-w.el (compare-windows-get-window-function):\n\tFix :version tag.\n\n2015-06-04  YAMAMOTO Mitsuharu  <mituharu@math.s.chiba-u.ac.jp>\n\n\t* src/ftfont.c (ftfont_open2): Round divisions by upEM.\n\n\tUndo removal of x_clear_area call on expose for GTK3 or cairo\n\t* src/xterm.c (handle_one_xevent) [HAVE_GTK3 || USE_CAIRO]:\n\tClear exposed area.  (Bug#20677)\n\n2015-06-04  Glenn Morris  <rgm@gnu.org>\n\n\t* doc/lispref/hash.texi (Creating Hash): Remove obsolete makehash.\n\n\t* lisp/Makefile.in (check-defun-dups): Also skip ldefs-boot.\n\n\t* lisp/leim/quail/lrt.el (quail-lrt-update-translation):\n\tRename from quail-lao-update-translation, since lao.el defines that.\n\n2015-06-04  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tHandle new-style advice in find-funct\n\t* lisp/emacs-lisp/find-func.el (find-function-advised-original):\n\tHandle new-style advice.  Return the symbol's function definition.\n\t(Bug#20718)\n\t(find-function-library): Update accordingly.\n\n2015-06-04  Nicolas Petton  <nicolas@petton.fr>\n\n\tMerge branch 'map'\n\n\t* lisp/emacs-lisp/map.el: Better docstring for the map pcase macro.\n\n\tAdd new function string-greaterp\n\t* lisp/subr.el (string-greaterp): New function.  Also aliased to\n\t`string>'.\n\t* test/automated/subr-tests.el (string-comparison-test): Add unit\n\ttests for `string>'and `string<'.\n\t* src/fns.c (string-lessp): Better docstring.\n\n2015-06-04  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix timezone-related functions on MS-Windows\n\t* src/editfns.c (set_time_zone_rule) [WINDOWSNT]: Always call\n\t'xputenv', even if no reallocation of tzvalbuf was necessary.\n\tThis fixes a bug in timezone-related functions on MS-Windows.\n\tReported by Fabrice Popineau <fabrice.popineau@gmail.com>.\n\n2015-06-03  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDon't pass raw directory name to 'error'\n\t* lisp/files.el (basic-save-buffer-2): Avoid format error if\n\ta directory name contains a string like \"%s\".\n\n2015-06-03  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tOverride 'grep --color=always'\n\t* lisp/progmodes/xref.el (xref-collect-matches):\n\tOverride --color=always in grep-find-template.\n\n2015-06-03  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix error introduced recently in file-notify-tests.el\n\t* test/automated/file-notify-tests.el\n\t(file-notify--test-remote-enabled): Do not use `file-notify--test-desc'.\n\t(file-notify--deftest-remote): Revert previous patch, not\n\tnecessary anymore.\n\n2015-06-03  Wolfgang Jenkner  <wjenkner@inode.at>\n\n\t* src/indent.c (Fvertical_motion): Amend motion by 0 lines.\n\tStarting from a display string after a newline, point went to the\n\tprevious line.  Also, fix an inadvertent use of a buffer position\n\twith FETCH_BYTE.  (Bug#20701)\n\n2015-06-03  Michael Albinus  <michael.albinus@gmx.de>\n\n\tInstrument file-notify-test.el in order to catch hydra error\n\t* test/automated/file-notify-tests.el (file-notify--deftest-remote):\n\tWrap body by `ignore-case', in order to trap non-local errors.\n\n2015-06-03  YAMAMOTO Mitsuharu  <mituharu@math.s.chiba-u.ac.jp>\n\n\tUndo previous changes in non-toolkit scroll bar drawing\n\t* src/xterm.c (x_scroll_bar_set_handle, x_scroll_bar_expose)\n\t[!USE_TOOLKIT_SCROLL_BARS]: Draw into scroll bar window.  (Bug#20668)\n\n2015-06-03  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* .gitignore: Also ignore doc/*/*/*.html and .ps.\n\n\tSupport quotes 'like this' in info files\n\tThis is possible when 'makeinfo --disable-encoding' is used\n\tin Texinfo 5.\n\t* lisp/calc/calc-help.el (calc-describe-thing):\n\t* lisp/gnus/gnus-art.el (gnus-button-alist):\n\t* lisp/info.el (Info-find-index-name):\n\t* lisp/vc/ediff-help.el (ediff-help-for-quick-help):\n\tAlso support quotes 'like this'.\n\t* lisp/calc/calc-help.el (calc-describe-thing): Simplify.\n\t* lisp/finder.el (finder-font-lock-keywords): Remove var that\n\thasn't been used in years, instead of bothering to fix its quoting.\n\n2015-06-02  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* .gitignore: Remove !test/etags/html-src/*.html.\n\tIt's no longer needed, since *.html was removed.  Sort.\n\n2015-06-02  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tRestore <D> instead of '.' in grep-find-template\n\t* lisp/cedet/semantic/symref/grep.el\n\t(semantic-symref-grep-use-template): Update a comment.\n\t* lisp/progmodes/grep.el (grep-compute-defaults): Restore <D>\n\tinstead of '.' in grep-find-template (bug#20719).\n\t(rgrep): Pass nil as the directory to rgrep-default-command.\n\t* lisp/progmodes/grep.el (grep-expand-keywords): Use '.' as the\n\tdefault value for DIR.\n\t* lisp/progmodes/xref.el (xref-collect-matches): Drop the\n\tworkaround.\n\n2015-06-02  Glenn Morris  <rgm@gnu.org>\n\n\t* configure.ac (emacs_config_features): Add X toolkit and scroll-bars.\n\n\t* configure.ac (emacs_config_features): Add Cairo.\n\n\t* configure.ac [HAVE_GTK3]: Remove USE_CAIRO that gets reset later.\n\n2015-06-02  Michael Albinus  <michael.albinus@gmx.de>\n\n\tEnsure that autorevert works for remote files in file-notify-tests.el\n\t* test/automated/file-notify-tests.el (file-notify--test-desc):\n\tNew defvar.\n\t(file-notify--test-remote-enabled)\n\t(file-notify-test00-availability, file-notify-test01-add-watch)\n\t(file-notify-test02-events): Use it.\n\t(file-notify--test-event-test): Check proper descriptor.\n\t(file-notify-test03-autorevert): Ensure that\n\t`visited-file-modtime' has changed.  (Bug#20392)\n\n2015-06-02  Nicolas Petton  <nicolas@petton.fr>\n\n\tAdd a pcase pattern for maps and `map-let' based on it\n\t* lisp/emacs-lisp/map.el (map-let): New macro.\n\t(map--make-pcase-bindings, map--make-pcase-patterns): New functions.\n\t* test/automated/map-tests.el: New test for `map-let'.\n\n2015-06-02  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tReuse rgrep mechanics in xref-find-regexp\n\t* lisp/progmodes/grep.el (rgrep-default-command):\n\tExtract from `rgrep'.\n\t* lisp/progmodes/xref.el (xref-collect-references): Split from\n\t`xref-collect-matches'.  Only handle the case of symbol search.\n\t(xref-collect-matches): Instead of Semantic Symref, use\n\t`rgrep-default-command', to take advantage of its directory and\n\tfile ignore settings.\n\t(xref--collect-match): Remove the last argument, leaving the\n\tregexp construction up to the caller.\n\t* lisp/progmodes/elisp-mode.el (elisp--xref-find-matches):\n\tChange to take the xref-collect- function to use as an argument.\n\t(elisp-xref-find): Update accordingly.\n\t* lisp/progmodes/etags.el (etags--xref-find-matches)\n\t(etags-xref-find): Same.\n\n\tMove xref-elisp-location to elisp-mode.el\n\t* lisp/progmodes/xref.el (xref-elisp-location)\n\t(xref-make-elisp-location, xref-location-marker): Remove here.\n\t(xref--xref): Don't limit the type of the location slot.\n\t* lisp/progmodes/elisp-mode.el (xref-elisp-location):\n\tDefine as a cl-struct here.\n\t(xref-location-marker): Move here.\n\n2015-06-02  Eli Zaretskii  <eliz@gnu.org>\n\n\tMinor tweaks for .gitignore\n\t* .gitignore: Don't ignore versioned *.html and *.ps files.\n\tDon't ignore admin/notes/tags that might be ignored as TAGS\n\ton case-insensitive filesystems.  (Bug#20710)\n\n2015-06-02  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tGenerate curved quotes in ert doc\n\t* lisp/emacs-lisp/ert.el (ert--print-test-for-ewoc)\n\t(ert-results-mode-menu)\n\t(ert-results-pop-to-backtrace-for-test-at-point)\n\t(ert-results-pop-to-messages-for-test-at-point)\n\t(ert-results-pop-to-should-forms-for-test-at-point)\n\t(ert-describe-test):\n\tQuote \u2018like this\u2019, not `like this', when generating doc strings\n\tand the like.\n\t* test/automated/ert-x-tests.el (ert-test-describe-test):\n\tAllow quoting \u2018like this\u2019.\n\n2015-06-02  Nicolas Richard  <youngfrog@members.fsf.org>\n\n\tAdd test for previous commit\n\t* test/automated/replace-tests.el: New file.\n\t(query-replace--split-string-tests): Add test for previous commit.\n\n\tAvoid confusion in query-replace history when replacing NUL chars\n\t* lisp/replace.el (query-replace--split-string): New function.\n\t(query-replace-read-from): Rely on the 'separator' property\n\tinstead of searching for the NUL character (Bug#20690).\n\n2015-06-02  Glenn Morris  <rgm@gnu.org>\n\n\tMerge from origin/emacs-24\n\t8b5f2f4 * doc/emacs/emacs.texi: Update the ISBN of the Emacs manual.\n\n\t* admin/gitmerge.el (gitmerge-commit-message):\n\tExclude \"skipped\" messages from ChangeLog.\n\n2015-06-01  Michael Albinus  <michael.albinus@gmx.de>\n\n\tSync with Tramp repository\n\t* lisp/net/tramp.el (tramp-message): Dump connection buffer error\n\tmessages.\n\t(tramp-handle-make-auto-save-file-name): When calling\n\t`make-auto-save-file-name' internally, make sure it uses Unix-like\n\tbehavior, not Windows-like behavior.\n\t* lisp/net/tramp-sh.el (tramp-set-file-uid-gid): Add a timeout for\n\tthe local case, because \"chown\" might fail on w32.\n\t* lisp/net/trampver.el (tramp-repository-get-version): Don't run\n\tfor XEmacs.\n\n2015-06-01  Eli Zaretskii  <eliz@gnu.org>\n\n\tMS-Windows followup for batch stdout/stderr output changes\n\t* lisp/international/mule-cmds.el (set-locale-environment):\n\tIn batch mode, use console codepages for keyboard and terminal\n\tencoding.  (Bug#20545)\n\n\tUpdate .gitattributes for DOS EOL files\n\t* .gitattributes: Use \"whitespace=cr-at-eol\" for files with DOS\n\tCRLF end-of-line format.\n\n\tNS equivalents of xterm.c and w32term.c changes\n\t* src/nsterm.m (ns_maybe_dumpglyphs_background): Force redraw of\n\tglyph string background also when the font in use claims\n\tpreposterously large global height value.  Helps to remove\n\tartifacts left from previous displays when glyphless characters\n\tare displayed as hex code in a box.\n\t(x_new_font): Call get_font_ascent_descent to obtain a reasonable\n\tvalue for FRAME_LINE_HEIGHT, even when a font claims very large\n\tvalue for its height.\n\n2015-06-01  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tAvoid grave accent quoting in stderr diagnostics\n\tA few Emacs diagnostics go directly to stderr, and so can't easily\n\tcontain curved quotes (as non-UTF-8 locales might mishandle them).\n\tInstead of bothering to add support for this rarity, reword the\n\tdiagnostics so that they don't use grave accent to quote.\n\t* src/alloc.c (mark_memory): Fix comment.\n\t* src/buffer.c (init_buffer):\n\t* src/dispnew.c (init_display):\n\t* src/emacs.c (main, sort_args):\n\t* src/lread.c (dir_warning):\n\t* src/term.c (init_tty):\n\t* src/unexmacosx.c (unexec):\n\t* src/xfns.c (select_visual):\n\t* src/xterm.c (cvt_string_to_pixel, x_io_error_quitter):\n\tReword stderr diagnostics to avoid quoting `like this'.\n\t* src/unexmacosx.c: Include errno.h.\n\t* src/xfns.c (select_visual): Encode value for locale.\n\n2015-05-31  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tTreat batch stdout/stderr like standard display\n\tCalls like (print FOO) could generate improperly encoded or\n\thard-to-read output if FOO contains characters outside the system\n\tlocale.  Fix this by treating batch stdout and stderr like\n\tinteractive standard display, when it comes to transliterating and\n\tencoding characters (Bug#20545).\n\t* doc/emacs/mule.texi (Communication Coding):\n\t* doc/lispref/display.texi (Active Display Table):\n\t* doc/lispref/nonascii.texi (Locales):\n\t* etc/NEWS:\n\t* src/coding.c (syms_of_coding):\n\t* src/dispnew.c (syms_of_display):\n\tDocument this.\n\t* src/print.c: Include disptab.h.\n\t(printchar_to_stream): New function, with much of the guts of the\n\told Fexternal_debugging_output, except this one also uses the\n\tstandard display table.\n\t(printchar, strout, Fexternal_debugging_output): Use it.\n\n2015-05-31  Glenn Morris  <rgm@gnu.org>\n\n\t* src/emacs.c (syms_of_emacs) <system-configuration-features>: Doc fix.\n\n2015-05-31  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRemove DEFSYMs that aren't used at the C level.  Also:\n\t* src/decompress.c (Qzlib_dll):\n\t* src/font.c (Qunicode_sip):\n\t* src/frame.c (Qtip_frame):\n\t* src/ftfont.c (Qserif):\n\t* src/gnutls.c (Qgnutls_dll):\n\t* src/xml.c (Qlibxml2_dll):\n\tMove from here ...\n\t* src/w32fns.c (syms_of_w32fns): ... to here,\n\tas these are used only on MS-Windows.\n\n2015-05-31  Michael Albinus  <michael.albinus@gmx.de>\n\n\tUse another default value for tramp-histfile-override\n\t* lisp/net/tramp-sh.el (tramp-histfile-override):\n\tUse \".tramp_history\" as default.\n\tFixes bug#20446\n\n2015-05-29  Nicolas Petton  <nicolas@petton.fr>\n\n\t* doc/emacs/emacs.texi: Update the ISBN of the Emacs manual.\n\n2015-05-16  Nicolas Petton  <nicolas@petton.fr>\n\n\t* etc/NEWS: Add an entry about map.el.\n\n\tImprove the docstring of functions in map.el\n\tSince a map is not a data structure but a concept, adding information\n\tabout the possible types of maps can be useful information.\n\t* lisp/emacs-lisp/map.el: Add documentation about the type of MAP to\n\teach public function.\n\n2015-04-29  Nicolas Petton  <nicolas@petton.fr>\n\n\t* lisp/emacs-lisp/map.el (map-empty-p): Faster implementation using\n\tspecific tests depending on the type of the map.\n\n\t* lisp/emacs-lisp/map.el: Better docstrings.\n\n2015-04-25  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/map.el (map-pairs): Dump redundant lambda.\n\n2015-04-25  Nicolas Petton  <nicolas@petton.fr>\n\n\t* lisp/emacs-lisp/map.el (map--elt-list): Better docstring.\n\n\t* lisp/emacs-lisp/map.el (map--elt-list): Minor refactoring.\n\n\tFix a false negative in `map-elt' with alists and values being nil\n\t* lisp/emacs-lisp/map.el (map-elt): If map is an alist and key is\n\tfound but its associated value is nil, do not return the default\n\tvalue.\n\t* test/automated/map-tests.el: Add a regression test.\n\n2015-04-24  Nicolas Petton  <nicolas@petton.fr>\n\n\t* lisp/emacs-lisp/map.el (map--dispatch): Improve the docstring.\n\n\tDo not signal an error when trying to delete a key from an array\n\t* lisp/emacs-lisp/map.el (map-delete): When map is an array, check if\n\tthe key is present to avoid signaling an error.\n\t* test/automated/map-tests.el: Add a test for deleting non-existing\n\tkeys from maps.\n\n\t* lisp/emacs-lisp/map.el: Better docstring.\n\n\tMinor improvement in map-elt\n\t* lisp/emacs-lisp/map.el (map-elt): Do not use `ignore-errors' when\n\tdoing a lookup in arrays, but check the boundaries of the array\n\tinstead.\n\t* test/automated/map-tests.el: Adds a test for `map-elt' with arrays\n\tand a negative integer as key.\n\n2015-04-21  Nicolas Petton  <nicolas@petton.fr>\n\n\t* test/automated/map-tests.el: Refactoring of test methods.\n\n\t* test/automated/map-tests.el: Renamed from map-test.el.\n\n2015-04-18  Nicolas Petton  <nicolas@petton.fr>\n\n\t* lisp/emacs-lisp/map.el (map-into): Better error message.\n\n\t* lisp/emacs-lisp/map.el: Remove byte-compilation warnings.\n\n\tThrow an error when converting a map into an unknown map type\n\t* lisp/emacs-lisp/map.el (map-into): Throw an error if type is\n\tnot valid.\n\t* test/automated/map-tests.el: Add a regression test.\n\n\tNew library map.el similar to seq.el but for mapping data structures.\n\t* test/automated/map-tests.el: New file.\n\t* lisp/emacs-lisp/map.el: New file.\n\n2015-05-30  Dmitry Gutov  <dgutov@yandex.ru>\n\n\t* lisp/progmodes/etags.el (tag-implicit-name-match-p): Make sure\n\tthere's no explicit tag name (bug#20629).\n\n2015-05-30  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRemove format2\n\t* src/editfns.c, src/lisp.h (format2): Remove.\n\tIt is more trouble than it's worth, now that we have CALLN.\n\tThis is just a minor refactoring.\n\t* src/buffer.c (Fkill_buffer):\n\t* src/dbusbind.c (XD_OBJECT_TO_STRING):\n\t* src/fileio.c (barf_or_query_if_file_exists):\n\tAdjust to format2 going away.\n\n\tDon't misencode C-generated messages\n\tAlso, be more consistent about calls to 'Fmessage' vs 'message'.\n\t* src/alloc.c (Fgc_status):\n\tPrefer AUTO_STRING to build_string for Fmessage call.\n\t* src/data.c (Fmake_variable_buffer_local)\n\t(Fmake_local_variable, Fmake_variable_frame_local):\n\t* src/doc.c (store_function_docstring):\n\tUse Fmessage, not message, since the argument can contain\n\tnon-ASCII characters, and this can cause the resulting message\n\tto be incorrectly encoded for the current environment.\n\t* src/fns.c (maybe_resize_hash_table):\n\t* src/xselect.c (x_clipboard_manager_save_all):\n\tUse message, not Fmessage, since Fmessage's power isn't needed here.\n\t* src/process.c (Fmake_network_process): Reword message to avoid %s.\n\t* src/xdisp.c (vmessage): Document restrictions on message contents.\n\t(message_nolog) [false]: Remove unused code.\n\n\tUse \\r rather than ^M in string literals\n\tThis is less likely to cause problems on platforms that\n\tuse CRLF (or CR!) termination for lines.\n\n\tUpdate .gitattributes to match current sources\n\thttps://lists.gnu.org/r/emacs-devel/2015-05/msg00879.html\n\t* .gitattributes: Accommodate tests that insist on DOS format.\n\tRemove test/automated/data/decompress/foo-gzipped.\n\tAdd etc/e/eterm-color.\n\n2015-05-30  Eli Zaretskii  <eliz@gnu.org>\n\n\t* doc/emacs/mule.texi (Modifying Fontsets):\n\tDocument face-ignored-fonts.  (Bug#20628)\n\n\tAdd etags test for the new -Q option\n\t* test/etags/ETAGS.good_1, test/etags/ETAGS.good_2:\n\t* test/etags/ETAGS.good_3, test/etags/ETAGS.good_4:\n\t* test/etags/ETAGS.good_5, test/etags/CTAGS.good: Adjust to\n\ttest-case changes below.\n\t* test/etags/ETAGS.good_6: New file.\n\t* test/etags/cp-src/x.cc: New file.\n\t* test/etags/Makefile (CPSRC): Add x.cc.\n\t(check): Add one more test, for -Q.\n\n2015-05-30  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tUse list for the tags completion table, not obarray\n\t* lisp/progmodes/etags.el (etags-tags-completion-table): Return a\n\tlist instead of an obarray\n\t(https://lists.gnu.org/r/emacs-devel/2015-05/msg00876.html).\n\t(tags-completion-table): Combine those lists.\n\t(tags-completion-table): Update the docstring.\n\n2015-05-30  Eli Zaretskii  <eliz@gnu.org>\n\n\tRestore EOL format testing in etags\n\t* test/etags/ETAGS.good_1, test/etags/ETAGS.good_2:\n\t* test/etags/ETAGS.good_3, test/etags/ETAGS.good_4:\n\t* test/etags/ETAGS.good_5, test/etags/CTAGS.good: Adjust to\n\ttest-case changes below.\n\t* test/etags/html-src/algrthms.html: Convert back to DOS EOL format.\n\t* test/etags/cp-src/c.C (B): Add back stray CR character.\n\t* test/etags/c-src/dostorture.c: Add back.\n\t* test/etags/Makefile (CSRC): Add back c-src/dostorture.c.\n\n2015-05-30  Vitaly Takmazov  <vitalyster@gmail.com>  (tiny change)\n\n\tDeclare Emacs on MS-Windows to be DPI-aware\n\t* nt/emacs-x86.manifest (asmv3:windowsSettings): Add dpiAware.\n\t* nt/emacs-x64.manifest (asmv3:windowsSettings): Add dpiAware.\n\tThis avoids Windows entering compatibility mode for Emacs,\n\twhich causes fonts to look less nice.\n\n2015-05-30  Michael Albinus  <michael.albinus@gmx.de>\n\n\tImprove Tramp traces\n\t* lisp/net/trampver.el (tramp-repository-get-version): New defun.\n\t* lisp/net/tramp.el (tramp-debug-message): Use it.\n\n2015-05-30  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tbackup-buffer minor reworking of internals\n\t* lisp/files.el (backup-buffer): Rework to avoid a couple of\n\tunused locals inadvertently introduced in the previous change.\n\n\tbackup-buffer now reports .emacs.d/%backup% ills\n\t* lisp/files.el (backup-buffer): If the write to .emacs.d/%backup%\n\tfails due to disk space exhaustion or whatever, do not pretend\n\tthat it succeeded.  More generally, do a better job of checking\n\tfor I/O failures, and limit the scope of the condition-case to\n\tjust the operations where file errors should be caught and ignored\n\t(Bug#20595).  Also, don't bother trying to delete later backups if\n\tan earlier deletion fails, as this is a sign of trouble and it's\n\tbetter to stop when there's trouble.\n\n\tcopy-file now truncates output after writing\n\t* src/fileio.c (Fcopy_file): Truncate output after writing rather\n\tthan before.  This is more likely to work than truncation before\n\twriting, if the file system is out of space or the user is over\n\tdisk quota (Bug#20595).  Also, check for read errors.\n\n2015-05-29  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el (package-load-all-descriptors):\n\tDon't load descriptors from directories above the package directories.\n\n2015-05-29  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from gnulib\n\tThis incorporates the following (Bug#20681):\n\t2015-05-29 acl-permissions: Fix build on Mac OS X and older AIX\n\t2015-05-29 acl-permissions: Fix build on Solaris and Cygwin\n\t* lib/set-permissions.c: Copy from gnulib.\n\n2015-05-29  Michael Albinus  <michael.albinus@gmx.de>\n\n\tImprove Tramp traces\n\t* lisp/net/tramp.el (tramp-call-process-region): New defun.\n\t* lisp/net/tramp-sh.el (tramp-get-inline-coding): Use it.\n\n2015-05-29  Glenn Morris  <rgm@gnu.org>\n\n\t* test/automated/vc-tests.el: Try enabling tests on hydra.nixos.org.\n\n2015-05-29  Wolfgang Jenkner  <wjenkner@inode.at>\n\n\t* src/xfns.c (x_set_menu_bar_lines): Fix calls to x_clear_area.\n\tThe signature was changed in the cairo branch, merged on 2015-05-23.\n\tThis oversight broke compiling only the non-toolkit X version.\n\n2015-05-29  Samer Masterson  <samer@samertm.com>\n\n\t* doc/lispref/os.texi: Update initial-buffer-choice docs.\n\n2015-05-29  Glenn Morris  <rgm@gnu.org>\n\n\t* test/automated/vc-tests.el (vc-test-rcs04-checkout-model):\n\tMark as an expected failure.\n\n2015-05-29  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tChange package test to look for curved quotes\n\t* test/automated/package-test.el (package-test-describe-package)\n\t(package-test-signed): Search for curved single quotes as well as\n\tfor grave accent and apostrophe.\n\n2015-05-28  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\t* lisp/gnus/gnus-art.el (gnus-button-alist): Re-revert last change.\n\tcf. <http://news.gmane.org/group/gmane.emacs.devel/thread=186896>\n\n2015-05-28  Samer Masterson  <samer@samertm.com>\n\n\tShow files when `initial-buffer-choice' is non-nil\n\t* lisp/startup.el (command-line-1): When Emacs is given a file as an\n\targument and `initial-buffer-choice' is non-nil, display both the file\n\tand `initial-buffer-choice'.  For more than one file, show\n\t`initial-buffer-choice' and *Buffer List*.  Refactor display-changing\n\tcommands out of the command line arg parser.\n\t(initial-buffer-choice): Clarify docstring.\n\n2015-05-28  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix last commit\n\t* nt/gnulib.mk (libgnu_a_SOURCES): Add get-permissions.c back.\n\t(gnulib module qcopy-acl): Add back, as it is harmless.  This\n\tminimizes differences wrt lib/gnulib.mk.\n\n\tFix the MS-Windows build as followup to gnulib update\n\t* nt/gnulib.mk (libgnu_a_SOURCES): Remove get-permissions.c and\n\tset-permissions.c, as they don't compile on MinGW.\n\t(gnulib module qcopy-acl): Remove, as it needs set-permissions.c.\n\n2015-05-28  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRevert my change to gnus-art.el\n\t* lisp/gnus/gnus-art.el (gnus-button-alist): Revert last change.\n\tIt wasn't that important, and it caused a Gnus build to fail.  See:\n\thttp://www.randomsample.de:4456/builders/emacs-devel/builds/734\n\n\tNew minor mode Electric Quote\n\tThis lets you easily insert quotes \u2018like this\u2019 by typing\n\tquotes `like this', and similarly you can easily insert\n\tquotes \u201clike this\u201d by typing quotes ``like this'' (Bug#20545).\n\t* doc/emacs/basic.texi (Inserting Text):\n\t* doc/emacs/modes.texi (Minor Modes):\n\t* etc/NEWS: Document it.\n\t* doc/emacs/text.texi (Quotation Marks): New section.\n\t* lisp/electric.el (electric-quote-comment)\n\t(electric-quote-string, electric-quote-paragraph):\n\tNew custom vars.\n\t(electric--insertable-p)\n\t(electric-quote-post-self-insert-function): New functions.\n\t(electric-quote-mode, electric-quote-local-mode): New minor modes.\n\t* lisp/progmodes/elisp-mode.el (emacs-lisp-mode):\n\tAdd curved single quotes to electric-pair-text-pairs.\n\tSet electric-quote-string in this buffer.\n\n\tA few more doc string fixes (Bug#20385)\n\n\tAccept curved quotes in doc strings\n\t* lisp/info-look.el (info-lookup-guess-custom-symbol):\n\t(info-lookup-alist): Treat \u2018\u2019 like `' when parsing help buffers etc.\n\n\tGenerate curved quotes in pseudo-info nodes\n\t* lisp/info.el (Info-virtual-index-find-node)\n\t(Info-virtual-index, Info-apropos-find-node, info-apropos):\n\tQuote \u2018like this\u2019, not `like this', when generating pseudo-info nodes.\n\n\tFix minor quoting problems in doc strings\n\tMost of these fixes involve escaping grave accents that are\n\tactually intended to be grave accents, not left quotes.\n\t(Bug#20385)\n\n\tSupport curved quotes in doc strings\n\tEmacs's traditional doc string style has been to quote symbols\n\t`like this'.  This worked well on now-obsolete terminals where\n\t` and ' were symmetric quotes, but nowadays curved quotes\n\t\u2018like this\u2019 look better.  Support quoting the new way too.\n\t(Bug#20385)\n\t* doc/lispref/tips.texi (Documentation Tips): Symbols can be quoted\n\t\u2018like-this\u2019 as well as `like-this'.\n\t* etc/NEWS: Mention this.\n\t* lisp/cedet/mode-local.el (overload-docstring-extension)\n\t(mode-local-print-binding, mode-local-describe-bindings-2):\n\t* lisp/cus-theme.el (describe-theme-1):\n\t* lisp/descr-text.el (describe-text-properties-1, describe-char):\n\t* lisp/emacs-lisp/checkdoc.el (checkdoc-this-string-valid-engine):\n\t* lisp/emacs-lisp/cl-generic.el (cl--generic-describe):\n\t* lisp/emacs-lisp/eieio-opt.el (eieio-help-class)\n\t(eieio-help-constructor):\n\t* lisp/emacs-lisp/package.el (describe-package-1):\n\t* lisp/faces.el (describe-face):\n\t* lisp/help-fns.el (help-fns--key-bindings)\n\t(help-fns--compiler-macro, help-fns--parent-mode, help-fns--obsolete):\n\t(help-fns--interactive-only, describe-function-1):\n\t(describe-variable):\n\t* lisp/help.el (describe-mode):\n\t* lisp/international/mule-cmds.el (describe-input-method)\n\t(describe-language-environment):\n\t* lisp/international/mule-diag.el (describe-character-set)\n\t(print-coding-system-briefly, list-input-methods)\n\t(list-input-methods-1):\n\tInsert curved quotes rather than grave accent and apostrophe.\n\t* lisp/cedet/srecode/texi.el (srecode-texi-texify-docstring):\n\t* lisp/emacs-lisp/checkdoc.el (checkdoc-this-string-valid-engine)\n\t(checkdoc-proper-noun-region-engine):\n\t* lisp/emacs-lisp/lisp-mode.el (lisp-el-font-lock-keywords-2)\n\t(lisp-cl-font-lock-keywords-2):\n\t* lisp/finder.el (finder-font-lock-keywords):\n\t* lisp/gnus/gnus-art.el (gnus-button-alist):\n\t* lisp/help-fns.el (help-do-arg-highlight)\n\t(describe-function-1, describe-variable):\n\t* lisp/help-mode.el (help-xref-symbol-regexp)\n\t(help-xref-info-regexp, help-xref-url-regexp):\n\t* lisp/help.el (describe-mode):\n\t* lisp/international/mule-cmds.el (help-xref-mule-regexp-template):\n\t* lisp/wid-edit.el (widget-documentation-link-regexp):\n\tParse symbols quoted \u2018like-this\u2019 as well as `like-this'.\n\t* lisp/progmodes/elisp-mode.el (emacs-lisp-mode):\n\tAdd \"\u2018\" and \"\u2019\" to electric-pair-text-pairs.\n\t(elisp--form-quoted-p): Also allow \"\u2018\" as a quoting char.\n\t(elisp-completion-at-point, elisp--preceding-sexp):\n\tAlso treat \"\u2018\" and \"\u2019\" as quoting chars.\n\n\tsubstitute-command-keys now curves quotes\n\tSo, for example, it turns \"`abc'\" into \"\u2018abc\u2019\" (Bug#20385).\n\t* doc/lispref/help.texi (Keys in Documentation):\n\t* etc/NEWS: Document this.\n\t* src/doc.c (Fsubstitute_command_keys): Implement it.\n\n2015-05-28  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/mail/rmailsum.el (rmail-summary-by-recipients)\n\t(rmail-summary-by-topic, rmail-summary-by-senders):\n\tNo longer strip leading/trailing whitespace.\n\n\t* lisp/progmodes/f90.el (f90-type-def-re): Add \"type, extends\".\n\t(f90-no-block-limit): Add \"enum\".  (Bug#20680)\n\t* test/automated/f90.el (f90-test-bug20680, f90-test-bug20680b):\n\tNew tests.\n\n2015-05-27  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/isearch.el (isearch--current-buffer): Give a default value.\n\tUn-revert changes mistakenly dropped by f9fabb2b.\n\n2015-05-27  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from gnulib\n\tThis incorporates:\n\t2015-05-27 qacl: Reimplement qset_acl and qcopy_acl (Bug#20666)\n\t2015-05-27 file-has-acl: Split feature tests again (Bug#20667)\n\t2015-05-27 string: fix build failure on BSD/OSX with FORTIFY_SOURCE\n\t2015-05-26 stdio: limit __gnu_printf__ witness to gcc 4.4+\n\t2015-05-26 inttypes: force correct mingw PRIdMAX even without <stdio.h>\n\t2015-05-26 stdio: fix probe on mingw under gcc 5.1\n\t* admin/merge-gnulib (GNULIB_MODULES):\n\tReplace qacl with qcopy-acl, since we don't need the rest of qacl.\n\t* doc/misc/texinfo.tex, lib/acl-internal.c, lib/acl-internal.h:\n\t* lib/inttypes.in.h, lib/qcopy-acl.c, lib/qset-acl.c:\n\t* lib/string.in.h, m4/acl.m4, m4/stdio_h.m4:\n\tGet latest versions from gnulib.\n\t* lib/get-permissions.c, lib/set-permissions.c: New files.\n\t* lib/gnulib.mk, m4/gnulib-comp.m4:\n\tRegenerate.\n\t* nt/gnulib.mk: Merge lib/gnulib.mk changes by hand.\n\n2015-05-27  Dmitry Gutov  <dgutov@yandex.ru>\n\n\t* lisp/vc/vc-dispatcher.el (vc-setup-buffer): Delete the old\n\tprocess here.\n\t(vc-do-command): Rather than here (bug#20608).\n\n2015-05-27  Ivan Shmakov  <ivan@siamics.net>\n\n\tAvoid gratuitous delete-dups in face-at-point\n\t* lisp/faces.el (face-at-point): Do not compute the properly\n\tordered, duplicate-free list if only a single value is\n\trequested anyway.  (Bug#20519)\n\n\tShow the exact C-x 8 RET invocation in describe-char\n\t* lisp/descr-text.el (describe-char): Show the exact C-x 8 RET\n\tinvocation instead of a template.  (Bug#20522)\n\n2015-05-27  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el: Don't erase tags on refresh.\n\t(package-menu--post-refresh): Call `tabulated-list-print' with the\n\tUPDATE argument.  This only affects the refresh action, the revert\n\taction still erases tags.\n\t(package-menu-get-status): Change `assq' to `assoc'.\n\t(package-menu--mark-upgrades-1): New function.\n\t(package-menu--mark-upgrades-pending): New variable.\n\t(package-menu-mark-upgrades): Use them to delay marking until\n\tafter refresh is done.\n\t(package-menu--post-refresh): Call mark-upgrades-1 if\n\tmark-upgrades-pending is non-nil.\n\n2015-05-27  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* lisp/net/tramp.el (tramp-handle-make-auto-save-file-name):\n\tFix typo in \"Improve tramp-handle-make-auto-save-file-name\"\n\t(commit 3953c4be2816537be95520605d45b866dc731f4b).\n\n2015-05-27  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/isearch.el (isearch--current-buffer): New var.\n\t(isearch-update): Set cursor-sensor-inhibit here.\n\t(isearch-done): Unset cursor-sensor-inhibit in the right buffer\n\t(bug#20532).\n\n\tChange inhibit-point-motion-hooks to t\n\t* src/textprop.c (syms_of_textprop): Default Vinhibit_point_motion_hooks\n\tto t and document it as obsolete.\n\n2015-05-27  Eli Zaretskii  <eliz@gnu.org>\n\n\tSupport ZIP files that use Zip64 extensions\n\t* lisp/arc-mode.el (archive-zip-summarize): Handle the new ZIP\n\tformat of central directory offsets used by Zip64 extensions.\n\t(Bug#20665)\n\n2015-05-27  Michael Albinus  <michael.albinus@gmx.de>\n\n\tNew test tramp-test30-make-auto-save-file-name\n\t* test/automated/tramp-tests.el\n\t(tramp-test30-make-auto-save-file-name): New test.\n\t(tramp-test31-special-characters)\n\t(tramp-test31-special-characters-with-stat)\n\t(tramp-test31-special-characters-with-perl)\n\t(tramp-test31-special-characters-with-ls, tramp-test32-utf8)\n\t(tramp-test32-utf8-with-stat, tramp-test32-utf8-with-perl)\n\t(tramp-test32-utf8-with-ls, tramp-test33-asynchronous-requests)\n\t(tramp-test34-recursive-load, tramp-test35-unload): Rename.\n\n\tImprove tramp-handle-make-auto-save-file-name\n\t* lisp/net/tramp.el (tramp-auto-save-directory): Add :tags.\n\t(tramp-handle-make-auto-save-file-name): Let native\n\t`make-auto-save-file-name' use `auto-save-file-name-transforms',\n\tif `tramp-auto-save-directory' is not set.\n\n2015-05-27  Glenn Morris  <rgm@gnu.org>\n\n\tNo longer set dired-directory in eshell.  (Bug#16477)\n\t* lisp/eshell/esh-mode.el (eshell-mode):\n\t* lisp/eshell/em-dirs.el (eshell/cd): No longer set dired-directory.\n\n\t* lisp/mail/sendmail.el (mail-position-on-field): Doc fix.\n\n\tMake c-submit-bug-report file reports at debbugs.gnu.org.  (Bug#15784)\n\t* lisp/progmodes/cc-mode.el (c-mode-help-address):\n\tChange to submit@debbugs.\n\t(c-mode-bug-package): New constant.\n\t(mail-position-on-field): Declare.\n\t(c-submit-bug-report): Insert X-Debbugs-Package header.\n\t* doc/misc/cc-mode.texi (Mailing Lists and Bug Reports):\n\tMention debbugs.gnu.org.\n\n2015-05-26  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/mail/rmailsum.el: Commas no longer separate regexps.  (Bug#19026)\n\t(rmail-summary-by-recipients, rmail-summary-by-topic)\n\t(rmail-summary-by-senders): No longer use mail-comma-list-regexp.\n\t* doc/emacs/rmail.texi (Rmail Make Summary): Update for this change.\n\n2015-05-26  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tHandle curved quotes in info files\n\t* lisp/calc/calc-help.el (calc-describe-thing):\n\t* lisp/info.el (Info-find-index-name)\n\t(Info-try-follow-nearest-node, Info-fontify-node):\n\t* lisp/vc/ediff-help.el (ediff-help-for-quick-help):\n\tIn info files, process quotes \u2018like this\u2019 the same way we process\n\tquotes `like this'.  This catches a few places we missed earlier.\n\n2015-05-26  Dmitry Gutov  <dgutov@yandex.ru>\n\n\txref-prompt-for-identifier: Use a list value\n\t* lisp/progmodes/xref.el (xref-prompt-for-identifier): Allow list\n\tvalue, to be interpreted as a list of commands.\n\t(xref--prompt-p): New function.\n\t(xref--read-identifier): Use it.\n\n2015-05-26  Eli Zaretskii  <eliz@gnu.org>\n\n\tTeach MS-Windows font back-end return per-glyph ascent/descent\n\t* src/w32font.h (struct w32_metric_cache): Add ascent and descent\n\tvalues.\n\t* src/w32font.c (w32font_text_extents): Compute, cache, and\n\taccumulate per-glyph ascent and descent values, instead of copying\n\tglobal values from the font.  If the values are not available from\n\tthe font data, i.e., non-TTF fonts, fall back on font-global values.\n\t(compute_metrics): Compute and return per-glyph ascent and descent\n\tvalues, if returned by GetGlyphOutlineW, falling back on\n\tfont-global values.  (Bug#20628)\n\t* src/w32term.c (w32_draw_rectangle): Add 1 pixel to width and\n\theight of rectangle to be drawn, to be compatible with\n\tXDrawRectangle.  Fixes glyphless-char display as hex codes in a\n\tbox, when per-glyph ascent/descent values are used.\n\n2015-05-26  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/tabulated-list.el (tabulated-list-print):\n\tDon't sort if sorter is nil.\n\n2015-05-26  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix Bug#20621\n\t* lisp/net/tramp-sh.el (tramp-set-auto-save): Remove it.  There\n\tare major modes which set `auto-save-mode' on their own rules;\n\tTramp shall not overwrite such settings.\n\n2015-05-26  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/desktop.el: If modes aren't autoloaded, try simple guesswork.\n\t(desktop-load-file): Guess that \"foobar\" defines \"foobar-mode\".\n\t(desktop-buffer-mode-handlers, desktop-minor-mode-handlers):\n\tDoc updates.\n\t(vc-dir-mode): Remove unnecessary autoload.\n\n2015-05-25  Philipp Stephani  <phst@google.com>\n\n\t* lisp/term/xterm.el: Add gui-get-selection support via OSC-52.\n\t(xterm--extra-capabilities-type): Add `getSelection'.\n\t(xterm--query): Add `no-async' argument.\n\t(xterm--init-activate-get-selection): New function.\n\t(terminal-init-xterm): Use it.\n\t(xterm--init-modify-other-keys): Rename from\n\tterminal-init-xterm-modify-other-keys.\n\t(xterm--init-bracketed-paste-mode): Rename from\n\tterminal-init-xterm-bracketed-paste-mode.\n\t(xterm--init-activate-set-selection): Rename from\n\tterminal-init-xterm-activate-set-selection.\n\t(xterm--selection-char): New function.\n\t(gui-backend-set-selection): Use it.  Use the &context to only apply\n\tthis method in terminals where we enabled the feature.\n\t(gui-backend-get-selection): New method.\n\n2015-05-25  Daniel Colascione  <dancol@dancol.org>\n\n\t* lisp/progmodes/cc-langs.el (c-constant-kwds): Add C-language\n\tkeyword constants to C++.\n\n2015-05-25  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMake TAGS files more portable to MS-Windows\n\t* etc/NEWS: Document this.\n\t* lib-src/etags.c (readline_internal) [DOS_NT]:\n\tDon't treat CRs differently from GNUish hosts.\n\t* lisp/progmodes/etags.el (etags-goto-tag-location):\n\tAdjust STARTPOS to account for the skipped CRs in dos-style files.\n\n2015-05-25  Michael Albinus  <michael.albinus@gmx.de>\n\n\tImprove fix of bug#20634 in tramp-sh.el\n\n2015-05-25  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix a typo in last commit\n\t* lib-src/etags.c (C_entries): Fix a typo.\n\t* test/etags/ETAGS.good_1:\n\t* test/etags/ETAGS.good_2:\n\t* test/etags/ETAGS.good_3:\n\t* test/etags/ETAGS.good_4:\n\t* test/etags/ETAGS.good_5:\n\t* test/etags/CTAGS.good: Update due to the change in etags.c.\n\n\tFix tagging of class members in C-like OO languages\n\t* lib-src/etags.c (longopts): Add new option --class-qualify and\n\tits shorthand -Q.\n\t(print_help): Add help text for --class-qualify.\n\t(main): Add handling of -Q.\n\t(consider_token, C_entries) <omethodparm>: Append argument types\n\tto Objective C methods only if --class-qualify was specified.\n\tQualify C++, Objective C, and Java class members with their class\n\tnames only if --class-qualify was specified.\n\t(C_entries): If --class-qualify was not specified, remove the\n\tnamespace and class qualifiers from tag names of C++ methods.\n\tThis allows to use etags.el as xref back-end without the\n\ttag-symbol-match-p method, which greatly increases the number of\n\tpotentially false positives.  (Bug#20629)\n\t* doc/man/etags.1: Update to document the new --class-qualify\n\toption.\n\t* test/etags/ETAGS.good_1:\n\t* test/etags/ETAGS.good_2:\n\t* test/etags/ETAGS.good_3:\n\t* test/etags/ETAGS.good_4:\n\t* test/etags/ETAGS.good_5:\n\t* test/etags/CTAGS.good: Update due to changes in etags.c.\n\n2015-05-25  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t(cl-generic-define-method): Side effects are evil (bug#20644)\n\t* lisp/emacs-lisp/cl-generic.el (cl-generic-define-method): Don't reuse\n\tcons-cells that might be used as keys in an `equal' hash-table.\n\n2015-05-25  Lars Magne Ingebrigtsen  <larsi@gnus.org>\n\n\tMake erc timestamps visible again\n\t* lisp/erc/erc-stamp.el (erc-munge-invisibility-spec):\n\tMake timestamps visible again (if requested).\n\n2015-05-25  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix last change in etags.c that broke tagging compresed files\n\t* lib-src/etags.c (process_file_name) [MSDOS || DOS_NT]: Fix\n\tquoting of decompression shell command for MS-Windows/MS-DOS.\n\n2015-05-25  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/cl-macs.el (cl-tagbody): Scope cl--tagbody-alist.\n\t(Bug#20639)\n\n2015-05-25  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* lisp/net/tramp-sh.el (tramp-do-copy-or-rename-file-via-buffer):\n\tFix typo in \"Inhibit `epa-file-handler' in Tramp\"\n\t(commit 89035e247591c8d688fce922b7079881aa110f33).\n\n2015-05-25  Orivej Desh  <orivej@gmx.fr>  (tiny change)\n\n\tFix IPv6 addresses in Tramp\n\t* lisp/net/tramp-sh.el (tramp-make-copy-program-file-name):\n\tAdd square brackets around host name.\n\n2015-05-25  Michael Albinus  <michael.albinus@gmx.de>\n\n\tInhibit `epa-file-handler' in Tramp (Bug#20634)\n\t* lisp/net/tramp-sh.el (tramp-do-copy-or-rename-file-via-buffer)\n\t(tramp-sh-handle-insert-file-contents-literally): Inhibit also\n\t`epa-file-handler'.\n\n2015-05-24  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/pcase.el: Use PAT rather than UPAT in docstring.\n\t(pcase-let): Document the behavior in case the pattern doesn't match.\n\n2015-05-24  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/tabulated-list.el: New optional print method.\n\t(tabulated-list-print): New optional argument, UPDATE.  If\n\tnon-nil, the list is printed by only adding and deleting the\n\tchanged entries, instead of erasing the whole buffer.  This method\n\tis much faster when few or no entries have changed.\n\t* doc/lispref/modes.texi (Tabulated List Mode): Document it.\n\t* etc/NEWS: Document it.\n\n\t* lisp/emacs-lisp/tabulated-list.el: Improve printing.\n\t(tabulated-list--get-sorter): New function.\n\t(tabulated-list-print): Restore window-line when remember-pos is\n\tpassed and optimize away the `nreverse'.\n\n2015-05-24  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSimpilify etags TEX mode scanning\n\t* lib-src/etags.c (TEX_mode, TEX_esc, TEX_opgrp, TEX_clgrp):\n\tRemove static vars.\n\t(TeX_commands): Deduce escapes here instead.\n\t(TEX_LESC, TEX_SESC, TEX_mode): Remove; all uses removed.\n\tThis removes the need for a reset_input call.\n\n\tImprove etags I/O error reporting\n\t* lib-src/etags.c:\n\tDon't include sys/types.h and sys/stat.h; no longer needed.\n\t(infilename): New static var.\n\t(process_file_name): Don't call 'stat'.  Instead, just open the\n\tfile for reading and report any errors.  Don't bother making\n\ta copy of the file argument; it's not needed.  Be more careful to\n\tuse the failing errno when reporting an error.\n\tQuote the real name better (though no perfectly)\n\twhen passing it to the shell.\n\t(reset_input): New function, which reports I/O errors.\n\tAll uses of 'rewind' changed to use this function.\n\t(perhaps_more_input): New function, which also checks for\n\tI/O errors.  All uses of 'feof' changed to use this function.\n\t(analyze_regex): Report an error if fclose fails.\n\t(readline_internal): Report an error if getc fails.\n\t(etags_mktmp): Return an error if close fails.\n\n\tetags.c: avoid side effects in 'if'\n\t* lib-src/etags.c (process_file_name, Perl_functions)\n\t(TEX_decode_env): Hoist side effects into previous statement.\n\n\t.gitignore tweaks\n\t* .gitignore: Ignore all *.stamp files.  Sort.\n\tIgnore [0-9]*.txt (commonly used name for git patches)\n\tand /vc-dwim-log-* (vc-dwim temporary).\n\n2015-05-24  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix last change in etags.c, which failed the test suite\n\t* lib-src/etags.c (intoken): Add '$' to the set, as it was there\n\tbefore the last change.\n\n2015-05-23  Glenn Morris  <rgm@gnu.org>\n\n\tRemove charset map files from repository, generate in first bootstrap\n\t* admin/charsets/Makefile.in (${srcdir}/charsets.stamp): New.\n\t(all): Create the stamp file.\n\t(extraclean): Delete the stamp file.\n\t* src/Makefile.in (lispintdir, charsets): New variables.\n\t(${lispintdir}/cp51932.el, ${lispintdir}/eucjp-ms.el, ${charsets}):\n\tNew rules.\n\t(emacs$(EXEEXT), temacs$(EXEEXT)): Depend on $charsets.\n\t* lisp/international/cp51932.el, lisp/international/eucjp-ms.el:\n\t* etc/charsets/*.map: Remove from repository.\n\n2015-05-23  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tCleanup etags.c to use locale-independent code\n\tAlthough this doesn't alter behavior (as etags doesn't use\n\tsetlocale), the new version is more clearly locale-independent and\n\tthe executable is a bit smaller on my platform.\n\t* lib-src/etags.c: Include <limits.h>, for UCHAR_MAX.\n\tInclude <c-ctype.h> instead of <ctype.h>.\n\t(CHARS, CHAR, init, _wht, _nin, _itk, _btk, _etk, white, nonam, endtk)\n\t(begtk, midtk):\n\tRemove; no longer needed.\n\t(iswhite, ISALNUM, ISALPHA, ISDIGIT, ISLOWER, lowcase): Remove.\n\tAll callers changed to use c_isspace, c_isalnum, c_isalpha, c_isdigit,\n\tc_islower, c_tolower, respectively.\n\t(notinname, begtoken, intoken, endtoken): Rewrite as functions\n\tinstead of macros, and initialize the tables at compile-time\n\trather than at run-time.\n\n\tPut default action first in src/Makefile\n\t* src/Makefile.in (all): Put this rule before lisp.mk.\n\tThat way, plain 'make' works in the src directory again.\n\n2015-05-23  Glenn Morris  <rgm@gnu.org>\n\n\t* Makefile.in: Fix extraclean rule.\n\t(extraclean_dirs): New.\n\t(extraclean): Use it.\n\n2015-05-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid compiler warning in image.c on MS-Windows\n\t* src/w32term.h (x_query_color): Add prototype, to avoid compiler\n\twarning in image.c.\n\n2015-05-23  Glenn Morris  <rgm@gnu.org>\n\n\tFix --without-toolkit-scroll-bars builds.\n\t* src/xterm.c (x_scroll_bar_set_handle) [!USE_TOOLKIT_SCROLL_BARS]:\n\tAdd new argument to x_clear_area1.\n\t(XTset_horizontal_scroll_bar) [!USE_TOOLKIT_SCROLL_BARS]:\n\tUpdate x_clear_area arguments.\n\n\t* admin/charsets/glibc/: New directory, imported from glibc 2.21.\n\t* admin/charsets/Makefile.in (GLIBC_CHARMAPS):\n\tChange to included version.\n\t(LOCAL, local, totalclean): Remove.\n\t(extraclean): Delete all generated files.\n\n2015-05-23  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/pcmpl-cvs.el (pcmpl-cvs-entries): Don't assume\n\tCVS/Entries exists.\n\n\t* lisp/progmodes/xref.el (xref-find-apropos): Use read-string.\n\n\t* lisp/progmodes/etags.el (tags-completion-at-point-function):\n\tDon't trust the find-tag function.\n\n2015-05-23  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPacify --enable-gcc-warnings\n\t* src/frame.h (x_query_color): Remove redundant extern decl.\n\t* src/ftcrfont.c (ftcrfont_glyph_extents, ftcrfont_list)\n\t(ftcrfont_match, ftcrfont_open, ftcrfont_close)\n\t(ftcrfont_text_extents, ftcrfont_draw):\n\t* src/xterm.c (x_set_window_size_1, *x_color_cells, x_update_end)\n\t(XTframe_up_to_date, x_clear_area1, x_clear_frame)\n\t(x_ins_del_lines, frame_highlight, frame_unhighlight)\n\t(x_new_focus_frame, x_focus_changed, XTframe_rehighlight)\n\t(x_draw_hollow_cursor, x_draw_bar_cursor, x_flush, x_update_begin)\n\t(x_update_window_begin, x_connection_closed)\n\t(x_set_clip_rectangles, x_reset_clip_rectangles, x_fill_rectangle)\n\t(x_draw_rectangle, x_fill_trapezoid_for_relief, x_clear_window)\n\t(*x_gc_get_ext_data, x_extension_initialize)\n\t(x_cr_accumulate_data):\n\tRemove redundant static decl.  Many of these GCC doesn't complain\n\tabout, but we might as well clean out the duplication while we're\n\tin the neighborhood.\n\t* src/xterm.c (x_fill_trapezoid_for_relief):\n\tRemove decl of nonexistent function.\n\n2015-05-23  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tReplace gui-method macros with cl-generic with &context\n\t* lisp/frame.el (gui-method--name, gui-method, gui-method-define)\n\t(gui-method-declare, gui-call): Remove.\n\t(frame-creation-function): Use cl-defgeneric.\n\t(make-frame): Adjust callers.\n\t* lisp/menu-bar.el (menu-bar-edit-menu):\n\tUse gui-backend-selection-exists-p.\n\t* lisp/select.el (x-get-clipboard): Use gui-backend-get-selection.\n\t(gui-backend-get-selection): New cl-generic to replace\n\tgui-get-selection method.\n\t(gui-backend-set-selection): New cl-generic to replace\n\tgui-set-selection method.\n\t(gui-selection-owner-p): New cl-generic to replace\n\tgui-selection-owner-p method.\n\t(gui-backend-selection-exists-p): New cl-generic to replace\n\tgui-selection-exists-p method.  Adjust all callers.\n\t* lisp/server.el (server-create-window-system-frame): Don't ignore\n\twindow-system spec even when unsupported.\n\t* lisp/simple.el (deactivate-mark): Use new gui-backend-* functions.\n\t* lisp/startup.el (handle-args-function, window-system-initialization):\n\tUse cl-defgeneric.\n\t(command-line): Adjust calls accordingly.\n\t* lisp/term/ns-win.el (ns-window-system-initialization): Turn into\n\ta window-system-initialization method.\n\t(handle-args-function, frame-creation-function): Use cl-defmethod.\n\t(gui-set-selection, gui-selection-owner-p, gui-selection-exists-p)\n\t(gui-get-selection): Use cl-defmethod on the new functions instead.\n\t* lisp/term/pc-win.el (w16-get-selection-value): Turn into\n\ta gui-backend-get-selection method.\n\t(gui-selection-exists-p, gui-selection-owner-p, gui-set-selection):\n\tUse cl-defmethod on the new functions instead.\n\t(msdos-window-system-initialization): Turn into\n\ta window-system-initialization method.\n\t(frame-creation-function, handle-args-function): Use cl-defmethod.\n\t* lisp/term/w32-win.el (w32-window-system-initialization): Turn into\n\ta window-system-initialization method.\n\t(handle-args-function, frame-creation-function): Use cl-defmethod.\n\t(gui-set-selection, gui-selection-owner-p, gui-selection-exists-p)\n\t(gui-get-selection): Use cl-defmethod on the new functions instead.\n\t* lisp/term/x-win.el (x-window-system-initialization): Turn into\n\ta window-system-initialization method.\n\t(handle-args-function, frame-creation-function): Use cl-defmethod.\n\t(gui-set-selection, gui-selection-owner-p, gui-selection-exists-p)\n\t(gui-get-selection): Use cl-defmethod on the new functions instead.\n\t* lisp/term/xterm.el (xterm--set-selection): Turn into\n\ta gui-backend-set-selection method.\n\t* src/nsselect.m (Fns_selection_exists_p): Remove unused arg `terminal'.\n\t(Fns_selection_owner_p): Remove unused arg `terminal'.\n\t(Fns_get_selection): Remove unused args `time_stamp' and `terminal'.\n\n2015-05-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tRevert \"Fix etags Bug#20629 that broke C++ support\"\n\tThis reverts commit 13dd9d4f7e75d2c78aa5537cef09de03663e9748.\n\n2015-05-23  Jan D  <jan.h.d@swipnet.se>\n\n\tFix etags Bug#20629 that broke C++ support\n\t* lisp/progmodes/etags.el (etags-xref-find-definitions-tag-order):\n\tRevert commit from Sun May 10 (Bug#20629).\n\n\tMerge branch 'cairo'.\n\tMain work done by YAMAMOTO Mitsuharu <mituharu@math.s.chiba-u.ac.jp>.\n\tSmall fixes and image work by Jan D. <jan.h.d@swipnet.se>.\n\n\tMerge branch 'master' into cairo\n\n\tFixes to compile cairo branch without cairo\n\t* src/gtkutil.c (xg_update_scrollbar_pos): x_clear_area takes frame as\n\tfirst argument.\n\t* src/xterm.c (handle_one_xevent): Surround x_cr_destroy_surface with\n\tUSE_CAIRO.\n\n2015-05-23  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el: Always update selected-packages.\n\t(package--update-selected-packages): New function.\n\t(package-menu-execute): Use it before starting the transaction,\n\tthis way the list of selected packages is updated even when the\n\ttransaction fails.\n\t(package-menu--perform-transaction): Don't edit selected-packages.\n\n2015-05-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix etags reading of compressed files\n\t* lib-src/etags.c (O_CLOEXEC) [WINDOWSNT]: Define.\n\tInclude fcntl.h, for O_CLOEXEC.\n\t(process_file_name): Don't use 'popen', whose streams cannot be\n\trewound.  Instead, uncompress the file to a temporary file,\n\tcreated by 'etags_mktmp', and read from that as usual.\n\t(etags_mktmp): New function.\n\t* test/etags/ETAGS.good_1:\n\t* test/etags/ETAGS.good_2:\n\t* test/etags/ETAGS.good_3:\n\t* test/etags/ETAGS.good_4:\n\t* test/etags/ETAGS.good_5: Update to be consistent with latest\n\tchanges in etags.c regarding reading compressed files.\n\n\tImprove documentation of 'set-fontset-font'\n\t* doc/lispref/display.texi (Fontsets): Document the value of nil\n\tfor the 3rd argument of 'set-fontset-font'.\n\n\tFix documentation of forward-line\n\t* src/cmds.c (Fforward_line): Clarify the return value if the line\n\tat end of accessible portion of the buffer has no newline.\n\t* doc/lispref/positions.texi (Text Lines): Document what happens\n\tif the line at end of accessible portion of buffer has no newline.\n\t(Bug#20587)\n\n2015-05-22  Glenn Morris  <rgm@gnu.org>\n\n\t* admin/charsets/Makefile.in (TRANS_TABLE): Add short aliases.\n\n\t* admin/charsets/mapconv (LC_ALL): Set to C.\n\n\t* Makefile.in: Add admin/charsets into top-level clean rules.\n\t(clean): Add admin/charsets.\n\t(maybeclean_dirs): New variable.\n\t(distclean, bootstrap-clean, maintainer-clean): Use $maybeclean_dirs.\n\n\t* admin/charsets/Makefile.in (LOCAL, local): Fix members.\n\n2015-05-22  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el (package-selected-packages): Fix doc.\n\n2015-05-22  Glenn Morris  <rgm@gnu.org>\n\n\tGenerate admin/charsets Makefile via configure, and make more portable\n\t* configure.ac (SUBDIR_MAKEFILES): Add admin/charsets/Makefile.\n\t(admin/charsets/Makefile): Generate it.\n\t* admin/charsets/Makefile.in: Rename from Makefile.\n\t(AWK, srcdir, top_srcdir, AM_DEFAULT_VERBOSITY):\n\tNew variables, set by configure.\n\t(charsetdir, lispintdir, mapfiledir, AM_V_GEN, am__v_GEN_)\n\t(am__v_GEN_0, am__v_GEN_1, AM_V_at, am__v_at_, am__v_at_0)\n\t(am__v_at_1, LOCAL, mapconv, run_mapconv, big5, compact, cp51932)\n\t(cp932, eucjp_ms, gb180302, gb180304, kuten): New variables.\n\t(TRANS_TABLE, CHARSETS): Add directory prefix to value.\n\t(all): Declare PHONY.\n\t(local): New PHONY target.\n\t(map_template): New template.  Use to define short PHONY aliases.\n\t(*.map): Add directory prefixes to targets and prerequisites.\n\tRespect make verbosity.\n\t(JISC6226.map): Replace non-portable sed append without newline.\n\t(install): Remove rule.\n\t(clean): Only delete temporary sedscript.\n\t(bootstrap-clean, distclean, maintainer-clean, extraclean)\n\t(totalclean): New PHONY rules.\n\t* admin/charsets/mapconv (BASE): Replace basename with expr.\n\t(FILE): Add \"mapfiles\" subdirectory.\n\t(AWK): New variable.  Use throughout in place of \"awk\".\n\t(main): Use \"gunzip -c\" in place of \"zcat\".\n\tDon't leave whitespace before \"p\", for older sed.\n\t* admin/charsets/mapfiles/PTCP154: Add final newline,\n\tto make older sed versions happy.\n\n2015-05-22  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/autorevert.el: Use lexical-binding.  Fix hook usage.\n\t(global-auto-revert-ignore-buffer, auto-revert-notify-modified-p)\n\t(auto-revert-notify-watch-descriptor): Use defvar-local.\n\t(find-file-hook, auto-revert-tail-mode)\n\t(auto-revert-notify-add-watch): Use setq-local.\n\t(auto-revert-notify-add-watch): Don't call make-local-variable on\n\tkill-buffer-hook (bug#20601).\n\n2015-05-21  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tChange defgeneric so it doesn't completely redefine the function\n\t* lisp/emacs-lisp/cl-generic.el (cl-generic-define): Don't throw away\n\tpreviously defined methods.\n\t(cl-generic-define-method): Let-bind purify-flag instead of\n\tusing `fset'.\n\t(cl--generic-prefill-dispatchers): Only define during compilation.\n\t(cl-method-qualifiers): Remove redundant alias.\n\t(help-fns-short-filename): Silence byte-compiler.\n\t* test/automated/cl-generic-tests.el:\n\tAdjust to new defgeneric semantics.\n\n2015-05-21  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el (package-menu-execute):\n\tRemove reference to remove-dups.\n\n2015-05-21  Kelvin White  <kwhite@gnu.org>\n\n\t* lisp/erc/erc.el: Hide network/channel messages.\n\t(erc-network-hide-list, erc-channel-hide-list): New lists to define\n\tmessage types per network/channel.\n\t(erc-add-targets): New function to parse list of targets.\n\t(erc-hide-current-message-p): Modify to check for new targets.\n\n2015-05-21  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDon't quote nil and t in doc strings\n\tThis is as per \"Tips for Documentation Strings\" in the elisp manual.\n\tFor consistency, do the same in diagnostics and comments.\n\n2015-05-21  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix a minor problem with mouse-face on mode line\n\t* src/xdisp.c (note_mode_line_or_margin_highlight): Reset the\n\tmouse face also if the mouse pointer hovers above mode-line glyphs\n\tthat don't come from any Lisp string.  (Bug#20620)\n\n2015-05-21  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el: Fix selected-package logic.\n\t(package-menu-execute): Mark as selected all non-upgrade packages\n\tbeing installed.\n\t(package-menu--perform-transaction): Don't mark anything.\n\n\t* lisp/emacs-lisp/package.el: Mode-line progress report.\n\t(package-menu--transaction-status): New variable.\n\t(package-menu-mode, package-menu--perform-transaction): Use it.\n\n\t* lisp/emacs-lisp/package.el: Better transaction messages.\n\t(package-menu--partition-transaction): New function.\n\t(package-menu--prompt-transaction-p, package-menu-execute):\n\tUse it.\n\t(package-menu--perform-transaction): Don't do any messaging.\n\n\t* lisp/emacs-lisp/package.el: Revert async package transactions.\n\t(package-menu-async): Update doc.\n\t(package-install-from-archive, package-download-transaction)\n\t(package-install, package-menu--perform-transaction)\n\t(package-menu-execute): Remove asynchronous functionality.\n\n2015-05-21  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRevert doc string changes to f90.el\n\tProblem reported by Glenn Morris in:\n\thttps://lists.gnu.org/r/emacs-devel/2015-05/msg00596.html\n\t* lisp/progmodes/f90.el (f90-mode, f90-abbrev-start):\n\tRevert recent changes to doc strings, as it's intended that they\n\tuse grave accent, not quote.\n\n2015-05-20  Bozhidar Batsov  <bozhidar@batsov.com>\n\n\t* lisp/emacs-lisp/subr-x.el (hash-table-empty-p):\n\tImprove parameter name.\n\n\t* lisp/emacs-lisp/subr-x.el (hash-table-empty-p): New inline function.\n\n2015-05-20  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDon't require help-fns when not needed\n\t* lisp/emacs-lisp/autoload.el, lisp/emacs-lisp/advice.el:\n\t* lisp/emacs-lisp/elint.el:\n\tDon't require help-fns at the top level\n\t* lisp/emacs-lisp/advice.el (ad-arglist):\n\t* lisp/emacs-lisp/cl-macs.el (cl--transform-lambda):\n\tDon't require help-fns.  (Bug#17001)\n\n2015-05-20  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix slash collapsing in etags on MS-Windows\n\t* lib-src/etags.c (canonicalize_filename) [DOS_NT]: Separate the\n\tMS-Windows code from the Posix code, and support collapsing both\n\tforward- and back-slashes on MS-Windows.  Fixes a regression found\n\tby the test suite.\n\n\tImprove documentation of glyphless-char-display\n\t* doc/lispref/display.texi (Glyphless Chars): Improve\n\tdocumentation of glyphless character display.\n\n\tFix \"acronym\" display of glyphless characters on w32\n\t* src/w32term.c (x_draw_glyphless_glyph_string_foreground): Don't\n\tignore \"acronym\" substitutes of 1 character for glyphless characters.\n\n2015-05-20  Oleh Krehel  <ohwoeowho@gmail.com>\n\n\tAdd an automated test for let-when-compile\n\t* test/automated/subr-tests.el (let-when-compile): New test.\n\n\tAdd let-when-compile macro instead of using pcase-let\n\t* lisp/subr.el (let-when-compile): New let-like macro that makes its\n\tbindings known to macros like `eval-when-compile' in the body.\n\t* lisp/emacs-lisp/lisp-mode.el: Change the top-level `pcase-let' to\n\ta `let-when-compile'.  Also comment out the unused lexical var\n\t`el-kws-re'.\n\tThe change greatly improves readability, while providing almost the\n\tsame (even shorter) byte code: instead of pre-evaluating 10 variables,\n\ttossing them into a list, and destructuring that list a full screen\n\tpage later, the variables are simply bound as they are evaluated,\n\twrapped individually in `eval-when-compile'.\n\n2015-05-20  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el: \"Delete\" button in Help buffer.\n\t(package-delete-button-action): New function.\n\t(describe-package-1): Add Delete button.\n\n\t* lisp/emacs-lisp/package.el: Better dependency description.\n\t(package--used-elsewhere-p): New optional arg, ALL, and return\n\tpackage-desc objects instead of names.\n\t(package-delete): Update accordingly.\n\t(describe-package-1): Describe which packages require the package.\n\n2015-05-20  Martin Rudalics  <rudalics@gmx.at>\n\n\tFix handling and doc-string of FRAME arg of `other-buffer' (Bug#20533)\n\t* src/buffer.c (Fother_buffer): Argument FRAME must denote a live frame.\n\tFix doc-string.\n\n\tImprove `switch-to-buffer' in strongly dedicated windows (Bug#20472)\n\t* lisp/window.el (switch-to-buffer-in-dedicated-window): New option.\n\t(switch-to-buffer): If the selected window is strongly dedicated\n\tto its buffer, signal error before prompting for buffer name.\n\tHandle `switch-to-buffer-in-dedicated-window'.\n\t* doc/lispref/windows.texi (Switching Buffers):\n\tDocument `switch-to-buffer-in-dedicated-window'.\n\n2015-05-19  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPrefer \"this\" to \u201cthis\u201d in doc strings\n\tThis mostly just straightens quotes introduced in my previous patch.\n\tSuggested by Dmitry Gutov in:\n\thttps://lists.gnu.org/r/emacs-devel/2015-05/msg00565.html\n\t* lisp/faces.el, lisp/gnus/gnus-group.el, lisp/ldefs-boot.el:\n\t* lisp/mail/supercite.el, lisp/net/tramp.el, lisp/recentf.el:\n\t* lisp/textmodes/artist.el, lisp/textmodes/rst.el:\n\t* lisp/textmodes/tildify.el, lisp/vc/ediff-util.el:\n\t* lisp/vc/log-edit.el, lisp/xt-mouse.el:\n\tPrefer straight double quotes to curved double quotes in doc strings.\n\n\tFix minor quoting problems in doc strings\n\tThese were glitches regardless of how or whether we tackle the\n\tproblem of grave accent in doc strings.\n\t* lisp/calc/calc-aent.el (math-restore-placeholders):\n\t* lisp/ido.el (ido-ignore-buffers, ido-ignore-files):\n\t* lisp/leim/quail/cyrillic.el (\"bulgarian-alt-phonetic\"):\n\t* lisp/leim/quail/hebrew.el (\"hebrew-new\")\n\t(\"hebrew-biblical-sil\"):\n\t* lisp/leim/quail/thai.el (\"thai-kesmanee\"):\n\t* lisp/progmodes/idlw-shell.el (idlwave-shell-file-name-chars):\n\tUsed curved quotes to avoid ambiguities like \u2018`''\u2019 in doc strings.\n\t* lisp/calendar/calendar.el (calendar-month-abbrev-array):\n\t* lisp/cedet/semantic/mru-bookmark.el (semantic-mrub-cache-flush-fcn):\n\t* lisp/cedet/semantic/symref.el (semantic-symref-tool-baseclass):\n\t* lisp/cedet/semantic/tag.el (semantic-tag-copy)\n\t(semantic-tag-components):\n\t* lisp/cedet/srecode/cpp.el (srecode-semantic-handle-:cpp):\n\t* lisp/cedet/srecode/texi.el (srecode-texi-texify-docstring):\n\t* lisp/emacs-lisp/byte-opt.el (byte-optimize-all-constp):\n\t* lisp/emacs-lisp/checkdoc.el (checkdoc-message-text-engine):\n\t* lisp/emacs-lisp/generator.el (iter-next):\n\t* lisp/gnus/gnus-art.el (gnus-treat-strip-list-identifiers)\n\t(gnus-article-mode-syntax-table):\n\t* lisp/net/rlogin.el (rlogin-directory-tracking-mode):\n\t* lisp/net/soap-client.el (soap-wsdl-get):\n\t* lisp/net/telnet.el (telnet-mode):\n\t* lisp/org/org-compat.el (org-number-sequence):\n\t* lisp/org/org.el (org-remove-highlights-with-change)\n\t(org-structure-template-alist):\n\t* lisp/org/ox-html.el (org-html-link-org-files-as-html):\n\t* lisp/play/handwrite.el (handwrite-10pt, handwrite-11pt)\n\t(handwrite-12pt, handwrite-13pt):\n\t* lisp/progmodes/f90.el (f90-mode, f90-abbrev-start):\n\t* lisp/progmodes/idlwave.el (idlwave-mode, idlwave-check-abbrev):\n\t* lisp/progmodes/verilog-mode.el (verilog-tool)\n\t(verilog-string-replace-matches, verilog-preprocess)\n\t(verilog-auto-insert-lisp, verilog-auto-insert-last):\n\t* lisp/textmodes/makeinfo.el (makeinfo-options):\n\t* src/font.c (Ffont_spec):\n\tFix minor quoting problems in doc strings, e.g., missing quote,\n\t``x'' where `x' was meant, etc.\n\t* lisp/erc/erc-backend.el (erc-process-sentinel-2):\n\tFix minor quoting problem in other string.\n\t* lisp/leim/quail/ethiopic.el (\"ethiopic\"):\n\t* lisp/term/tvi970.el (tvi970-set-keypad-mode):\n\tOmit unnecessary quotes.\n\t* lisp/faces.el (set-face-attribute, set-face-underline)\n\t(set-face-inverse-video, x-create-frame-with-faces):\n\t* lisp/gnus/gnus-group.el (gnus-group-nnimap-edit-acl):\n\t* lisp/mail/supercite.el (sc-attribs-%@-addresses)\n\t(sc-attribs-!-addresses, sc-attribs-<>-addresses):\n\t* lisp/net/tramp.el (tramp-methods):\n\t* lisp/recentf.el (recentf-show-file-shortcuts-flag):\n\t* lisp/textmodes/artist.el (artist-ellipse-right-char)\n\t(artist-ellipse-left-char, artist-vaporize-fuzziness)\n\t(artist-spray-chars, artist-mode, artist-replace-string)\n\t(artist-put-pixel, artist-text-see-thru):\n\t* lisp/vc/ediff-util.el (ediff-submit-report):\n\t* lisp/vc/log-edit.el (log-edit-changelog-full-paragraphs):\n\tUse double-quotes rather than TeX markup in doc strings.\n\t* lisp/skeleton.el (skeleton-pair-insert-maybe):\n\tReword to avoid the need for grave accent and apostrophe.\n\t* lisp/xt-mouse.el (xterm-mouse-tracking-enable-sequence):\n\tDon't use grave and acute accents to quote.\n\n2015-05-19  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/generator.el (cps--gensym, cps--transform-1):\n\tSilence compiler.\n\n2015-05-19  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tTry to port new etags tests to MS-Windows\n\t* test/etags/CTAGS.good, test/etags/ETAGS.good_1:\n\t* test/etags/ETAGS.good_2, test/etags/ETAGS.good_3:\n\t* test/etags/ETAGS.good_4, test/etags/ETAGS.good_5:\n\tAdjust to test-case changes below.\n\t* test/etags/Makefile (CSRC): Remove dostorture.c.\n\tWhatever it was trying to test, wasn't working portably.\n\t(LC_ALL): Remove.  Apparently there wasn't an encoding problem,\n\tjust a line-ending problem.\n\t* test/etags/c-src/dostorture.c: Remove.\n\t* test/etags/cp-src/c.C: Remove stray CR.\n\t* test/etags/html-src/algrthms.html: Remove trailing CRs.\n\tState UTF-8 as the encoding.  The file is ASCII so it doesn't matter,\n\tbut if someone edits it later it should stay UTF-8-compatible.\n\n2015-05-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix display of overlapping window-specific overlays\n\t* src/keyboard.c (adjust_point_for_property): When adjusting point\n\tdue to display strings, ignore overlays that are specific to\n\twindows other than the currently selected one.\n\t* src/xdisp.c (handle_single_display_spec): If the display\n\tproperty comes from an overlay, arrange for buffer iteration to\n\tresume only after the end of that overlay.  (Bug#20607)\n\n2015-05-19  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tNew command icomplete-force-complete-and-exit\n\t* lisp/icomplete.el (icomplete-force-complete-and-exit):\n\tNew command\n\t(https://lists.gnu.org/r/emacs-devel/2015-05/msg00461.html)\n\t(https://lists.gnu.org/r/emacs-devel/2015-05/msg00516.html).\n\t(icomplete-minibuffer-map): Bind C-j to it.\n\t(icomplete-forward-completions, icomplete-backward-completions):\n\tMention the new command in the docstring.\n\t* lisp/minibuffer.el (minibuffer-force-complete-and-exit):\n\tRevert the previous fix for bug#17545.\n\n2015-05-19  Martin Rudalics  <rudalics@gmx.at>\n\n\tFix last commit\n\n\tIn Elisp manual explain how to override window manager positioning\n\t(Bug#20552)\n\t* doc/lispref/frames.texi (Position Parameters): Give example of\n\thow to override a window manager positioning decision.\n\n\tClarify concept of \"surrogate minibuffer frames\" (Bug#20538)\n\t* src/frame.c (Fdelete_frame): In doc-string mention that frame\n\tcan't be deleted if it has a surrogate minibuffer.\n\t* doc/lispref/frames.texi (Minibuffers and Frames)\n\t(Deleting Frames): Explain \"surrogate minibuffer frames\".\n\n\t* src/w32heap.c (DUMPED_HEAP_SIZE): Bump to 19/12 MB.\n\n2015-05-18  Glenn Morris  <rgm@gnu.org>\n\n\tAdd option to ignore commit lines matching a pattern in ChangeLog\n\t* build-aux/gitlog-to-changelog: Add --ignore-line option.\n\t* build-aux/gitlog-to-emacslog: Ignore lines matching '^; '.\n\n2015-05-18  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDon't skip new etags tests on non-UTF-8 hosts\n\tProblem reported by Eli Zaretskii for MS-Windows.\n\t* test/etags/Makefile (UTF8_LOCALE, UTF8_ENCODING): Remove.\n\t(LC_ALL): Set to C if the current locale isn't UTF-8.\n\t(.PHONY): Remove ediff_1 thru ediff_5.\n\t(check): Always run.\n\n2015-05-18  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/calculator.el (calculator-funcall):\n\t* lisp/textmodes/artist.el (artist-spray-random-points):\n\tUse standard degree/radian conversion utilities.\n\n\tFurther lisp-complete-symbol related cleanup.\n\t* lisp/emacs-lisp/lisp.el (lisp-complete-symbol):\n\tUnadvertise non-functional argument.  Replace obsolete alias.\n\n2015-05-18  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tAdd a test case for Maven warning output\n\t* test/automated/compile-tests.el\n\t(compile-tests--test-regexps-data): Add a case for Maven warning\n\toutput.\n\t(compile--test-error-line): Check the compilation message type, if\n\tit's specified in the test data.\n\n2015-05-18  Paul Pogonyshev  <pogonyshev@gmail.com>\n\n\tUpdate Maven compilation-mode entry to distinguish warnings\n\t* lisp/progmodes/compile.el\n\t(compilation-error-regexp-alist-alist): Update Maven entry to\n\tdistinguish warnings (bug#20556).\n\n2015-05-18  Przemys\u0142aw Wojnowski  <esperanto@cumego.com>\n\n\t* test/automated/sgml-mode-tests.el: New file.\n\n2015-05-18  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tImprove handling of the first Git revision\n\t* lisp/vc/log-view.el (log-view-toggle-entry-display): When\n\tthere's no next entry, delete until the end of the buffer.\n\t(log-view-end-of-defun-1): Stop at eob.\n\t* lisp/vc/vc-annotate.el\n\t(vc-annotate-show-diff-revision-at-line-internal): Don't give up\n\twhen previous-revision is nil.\n\t* lisp/vc/vc-git.el (vc-git-expanded-log-entry): End the arguments\n\twith `--' to avoid ambiguity.\n\t(vc-git-annotate-extract-revision-at-line): Exclude `^' from the\n\treturned revision string.\n\t(vc-git-annotate-time): Expect `^' before the first revision.\n\t* lisp/vc/vc-git.el (vc-git-diff): Diff against an empty tree if\n\tREV1 is nil, and REV2 is not.\n\t* lisp/vc/vc.el: Update the description of the `diff' function.\n\n2015-05-18  Oleh Krehel  <ohwoeowho@gmail.com>\n\n\tAllow checkdoc to be called in batch\n\t* lisp/emacs-lisp/checkdoc.el (checkdoc-error): When `noninteractive'\n\tis non-nil, echo the error with `warn'.\n\tHow it can be used in -batch:\n\t(with-current-buffer (find-file \"checkdoc.el\")\n\t  (checkdoc-current-buffer t))\n\n2015-05-18  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/calendar/solar.el (solar-ecliptic-coordinates): Use float-pi.\n\n2015-05-17  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* admin/notes/unicode: New section \"binary files\".\n\n\tChange new etags test to use UTF-8 encoding\n\t* test/etags/CTAGS.good, test/etags/ETAGS.good_1:\n\t* test/etags/ETAGS.good_2, test/etags/ETAGS.good_3:\n\t* test/etags/ETAGS.good_4, test/etags/ETAGS.good_5:\n\t* test/etags/html-src/index.shtml, test/etags/html-src/software.html:\n\t* test/etags/html-src/softwarelibero.html:\n\tSwitch to UTF-8 encoding.\n\t* test/etags/Makefile (SRCS): Adjust to switch to UTF-8.\n\tRemove Makefile, as it's too incestuous to have the test input\n\tinclude the build procedure.\n\t(UTF8_LOCALE, UTF_ENCODING): New macros.\n\t(LC_ALL): If possible, set to a UTF-8 encoding if not already UTF-8.\n\t(check): Skip if not UTF-8.\n\t(.PHONY): New rule.\n\t(FRC): Remove, as superseded by .PHONY.  All uses removed.\n\t(regexfile): Prefer printf to echo when outputting oddball chars.\n\t(.PRECIOUS): Remove, as these files are not built.\n\n\tRename 'foo-gzipped' to 'foo.gz'\n\t* test/automated/data/decompress/foo.gz:\n\tRename from test/automated/data/decompress/foo-gzipped,\n\tto make it easier for other tools to tell that it's compressed.\n\t* test/automated/zlib-tests.el (zlib--decompress):\n\tAdjust to renamed file.\n\n2015-05-17  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tSet up default-directory\n\t* lisp/vc/vc-annotate.el (vc-annotate-mode-map): Remove duplicate\n\tbinding for `v'.\n\t(vc-annotate-show-changeset-diff-revision-at-line): Set up an\n\tappropriate value for default-directory.\n\n2015-05-17  Samer Masterson  <samer@samertm.com>\n\n\t* lisp/eshell/em-term.el (eshell-term-sentinel):\n\tNo-op by default, only kills term buffer if\n\t`eshell-destroy-buffer-when-process-dies' is non-nil.  (Bug#18108)\n\t(eshell-destroy-buffer-when-process-dies): New custom to preserve\n\tprevious behavior.\n\n\teshell: Introduce new buffer syntax\n\tThe new buffer syntax '#<buffer-name>' is equivalent to '#<buffer\n\tbuffer-name>'.  Remove `eshell-buffer-shorthand', as it is no longer\n\tneeded (Bug#19391).\n\t* lisp/eshell/esh-io.el (eshell-buffer-shorthand): Remove.\n\t(eshell-get-target): Remove shorthand-specific code.\n\t* lisp/eshell/esh-arg.el (eshell-parse-special-reference): Parse\n\t'#<buffer-name>'.\n\n2015-04-26  Jan D  <jan.h.d@swipnet.se>\n\n\tAdd PBM support for cairo\n\t* src/image.c (xcolor_to_argb32): New function.\n\t(get_spec_bg_or_alpha_as_argb): Call xcolor_to_argb32.\n\t(pbm_load, png_load_body, jpeg_load_body, gif_load): Only use\n\tXImagePtr if ! USE_CAIRO.\n\t(pbm_load): Add cairo support.\n\n2015-04-12  Jan D  <jan.h.d@swipnet.se>\n\n\t* src/xterm.c (x_free_cr_resources): Rename from x_prepare_for_xlibdraw.\n\t(x_cr_draw_frame, x_cr_export_frames, x_shift_glyphs_for_insert)\n\t(x_free_frame_resources): Rename x_prepare_for_xlibdraw to\n\tx_free_cr_resources.\n\n\tHandle specified bg in images.  Use generic libpng code for PNGs.\n\t* src/image.c (get_spec_bg_or_alpha_as_argb)\n\t(create_cairo_image_surface): New functions when USE_CAIRO.\n\t(xpm_load): Call the above functions.  Handle XPM without mask\n\twhen USE_CAIRO.\n\t(png_load_body): Handle USE_CAIRO case.\n\t(png_load): Remove USE_CAIRO specific function, modify png_load_body\n\tinstead.\n\t(jpeg_load_body): Call create_cairo_image_surface.\n\t(gif_load, svg_load_image): Handle specified background, call\n\tcreate_cairo_image_surface.\n\t* src/xterm.c (x_draw_image_glyph_string): Add missing USE_CAIRO.\n\n2015-04-11  Jan D  <jan.h.d@swipnet.se>\n\n\tSupport GIF and TIFF with cairo\n\t* configure.ac: Allow jpeg with cairo.\n\tAllow tiff and gif with cairo.\n\t* src/image.c (jpeg_load_body): Create cairo image surface if USE_CAIRO.\n\t(tiff_load): Create cairo image surface if USE_CAIRO.\n\t(gif_load): Ditto.\n\n\tSupport JPEG with USE_CAIRO\n\t* configure.ac: Allow jpeg with cairo.\n\t* src/image.c (jpeg_load_body): Create cairo image surface if USE_CAIRO.\n\n2015-04-05  Jan D  <jan.h.d@swipnet.se>\n\n\tSupport RSVG and cairo\n\t* configure.ac: Allow rsvg with cairo.  Move back HAVE_RSVG.\n\t* src/dispextern.h (struct image): Add cr_data2 if cairo.\n\t* src/image.c: #undef COLOR_TABLE_SUPPORT when USE_CAIRO.\n\t(x_clear_image): Free cr_data and cr_data2 if set.\n\t(xpm_load): Assign data to cr_data2.\n\t(svg_load_image): Convert from GdkPixbuf to CAIRO_FORMAT_ARGB32.\n\n2015-04-03  Jan D  <jan.h.d@swipnet.se>\n\n\tIntroduce limited Xpm support (32 bit ZPixmap) for Cairo\n\t* configure.ac (HAVE_RSVG): Move after cairo.\n\t(USE_CAIRO): Disable rsvg, don't disable Xpm.\n\t* src/image.c (prepare_image_for_display): Don't load if USE_CAIRO.\n\t(x_clear_image): If USE_CAIRO, also free possible img->ximg->obdata and\n\tdon't return early.\n\t(ALLOC_XPM_COLORS): Don't define when USE_CAIRO.\n\t(xpm_load): Convert simple Xpms (32 bit ZPixmap) to CAIRO_FORMAT_ARGB32\n\tand create a surface.\n\n\tTool tips for menus did not show any text.\n\t* src/xterm.c (x_update_begin): Don't create any surface for non-visible\n\ttip frames, the geometry may be wrong.\n\n\tAdd CAIRO_CFLAGS to lwlib/Makefile.in\n\t* Makefile.in (CAIRO_CFLAGS): Add.\n\n2015-02-19  YAMAMOTO Mitsuharu  <mituharu@math.s.chiba-u.ac.jp>\n\n\t* src/ftcrfont.c (ftcrfont_draw): Don't flush when drawing to screen.\n\n2015-02-16  YAMAMOTO Mitsuharu  <mituharu@math.s.chiba-u.ac.jp>\n\n\tDraw outermost line using black relief and erase corners also for cairo.\n\t* src/xterm.c [USE_CAIRO]: Include math.h.\n\t(enum corners) [USE_CAIRO]: New enum.\n\t(x_erase_corners_for_relief) [USE_CAIRO]: New function.\n\t(x_draw_relief_rect) [USE_CAIRO]: Use it.  If box width is larger\n\tthan 1, draw the outermost line using the black relief.\n\n\t* src/xterm.c (x_fill_trapezoid_for_relief):\n\tRemove unnecessary cairo_close_path.\n\n2015-02-15  YAMAMOTO Mitsuharu  <mituharu@math.s.chiba-u.ac.jp>\n\n\t* src/xterm.c (x_draw_relief_rect) [USE_CAIRO]: Reset clipping.\n\n\t* src/xterm.c (x_draw_stretch_glyph_string):\n\tCall x_reset_clip_rectangles instead of XSetClipMask.\n\n\tUse int instead of unsigned int for width and height args.\n\t* src/xterm.c (x_cr_draw_image, x_fill_rectangle, x_draw_rectangle)\n\t(x_fill_trapezoid_for_relief): Use int instead of unsigned int for\n\twidth and height args.\n\n\tModernize k&r cairo-related function declarations.\n\t* src/gtkutil.c (xg_page_setup_dialog, xg_get_page_setup, draw_page)\n\t(xg_print_frames_dialog): Modernize k&r declarations.\n\t* src/xfns.c (Fx_export_frames, Fx_page_setup_dialog, Fx_get_page_setup)\n\t(Fx_print_frames_dialog): Modernize k&r declarations.\n\t* src/xterm.c (x_gc_get_ext_data, x_extension_initialize)\n\t(x_begin_cr_clip, x_end_cr_clip, x_set_cr_source_with_gc_foreground)\n\t(x_set_cr_source_with_gc_background, x_cr_define_fringe_bitmap)\n\t(x_cr_destroy_fringe_bitmap, x_cr_draw_frame, x_cr_accumulate_data)\n\t(x_cr_destroy, x_cr_export_frames, x_prepare_for_xlibdraw)\n\t(x_set_clip_rectangles, x_reset_clip_rectangles, x_fill_rectangle)\n\t(x_draw_rectangle, x_clear_window, x_fill_trapezoid_for_relief)\n\t(x_clear_area): Modernize k&r declarations.\n\n\tImplement wave-style variant of underlining for cairo.\n\t* src/xterm.c (x_draw_horizontal_wave) [USE_CAIRO]: New function.\n\t(x_draw_underwave) [USE_CAIRO]: Use it.\n\n\t* src/xterm.c (x_draw_window_divider): Use x_fill_rectangle\n\tinstead of XFillRectangle.\n\n2015-02-13  YAMAMOTO Mitsuharu  <mituharu@math.s.chiba-u.ac.jp>\n\n\tFix fringe bitmap initialization for cairo\n\t* src/fringe.c (init_fringe_bitmap) [USE_CAIRO]: Adjust bitmap\n\tdata for cairo image surface.\n\t* src/xterm.c (x_cr_define_fringe_bitmap):\n\tCall cairo_surface_mark_dirty.\n\n2015-02-11  Jan D  <jan.h.d@swipnet.se>\n\n\tAdd cairo drawing\n\t* configure.ac (with-cairo): New option.\n\t(USE_CAIRO): Default to yes for Gtk+ 3.  Add code to test for cairo,\n\tset CAIRO_CFLAGS, CAIRO_LIBS.  Add ftcrfonto to FONT_OBJ if cairo.\n\tOutput \"Does Emacs use cairo?\".\n\t* lisp/version.el (emacs-version): Add cairo version.\n\t* src/Makefile.in (CAIRO_CFLAGS, CAIRO_LIBS): New variables.\n\t(FONT_OBJ): Add comment about ftcrfont.\n\t(ALL_CFLAGS): Add CAIRO_CFLAGS.\n\t(LIBES): Add CAIRO_LIBS.\n\t* src/dispextern.h (struct image): Add cr_data for cairo.\n\t(x_cr_init_fringe): Declare.\n\t* src/font.c (syms_of_font): Call syms_of_ftcrfont for cairo.\n\t* src/font.h (ftcrfont_driver, syms_of_ftcrfont): Declare\n\t* src/fringe.c (x_cr_init_fringe): New function name that shares code\n\twith w32_init_fringe.\n\t* src/ftcrfont.c: New font driver for cairo, based on the ftfont driver.\n\t* src/ftfont.c (ftfont_info_size); New global variable.\n\t(ftfont_open2): New extern function almost the same as old ftfont_open,\n\tbut takes the font_object as argument.\n\t(ftfont_open): Build font object and call ftfont_open2.\n\t* src/ftfont.h (ftfont_open2, ftfont_info_size): Declare.\n\t* src/gtkutil.c (xg_clear_under_internal_border)\n\t(xg_update_scrollbar_pos, xg_update_horizontal_scrollbar_pos):\n\tOnly queue_draw if not cairo.  Change args to x_clear_area.\n\t(xg_get_font): Use Qftcr when using cairo, Qxft otherwise.\n\t(xg_page_setup_dialog, xg_get_page_setup, draw_page)\n\t(xg_print_frames_dialog): New functions for printing.\n\t* src/gtkutil.h (xg_page_setup_dialog, xg_get_page_setup)\n\t(xg_print_frames_dialog): Declare.\n\t* src/image.c: Add defined (USE_CAIRO) for PNG.\n\tAdd !defined USE_CAIRO for W32 PNG code.\n\t(x_clear_image): If cairo, destroy the surface in cr_data.\n\t(png_load): Add new cairo compatible implementation.\n\t(lookup_image_type): Add defined (USE_CAIRO) for define png_type.\n\t* src/xfns.c: New section Printing.\n\t(x-export-frames, x-page-setup-dialog, x-get-page-setup)\n\t(x-print-frames-dialog): New printing functions.\n\t(Fx_create_frame, x_create_tip_frame): Register ftcrfont if cairo.\n\t(syms_of_xfns): Defsym Qorientation, Qtop_margin, Qbottom_margin,\n\tQportrait, Qlandscape, Qreverse_portrait, Qreverse_landscape).\n\t(syms_of_xfns): Provide cairo and defvar cairo-version-string.\n\tdefsubr Sx_page_setup_dialog, Sx_get_page_setup, Sx_print_frames_dialog.\n\t* src/xterm.c (x_clear_area1, x_prepare_for_xlibdraw)\n\t(x_set_clip_rectangles, x_reset_clip_rectangles, x_fill_rectangle)\n\t(x_draw_rectangle, x_fill_trapezoid_for_relief, x_clear_window)\n\t(x_gc_get_ext_data, x_extension_initialize, x_cr_accumulate_data):\n\tDeclare.\n\t(FRAME_CR_CONTEXT, FRAME_CR_SURFACE): New macros.\n\t(max_fringe_bmp, fringe_bmp): New variables.\n\t(x_gc_get_ext_data, x_extension_initialize)\n\t(x_cr_destroy_surface, x_begin_cr_clip, x_end_cr_clip)\n\t(x_set_cr_source_with_gc_foreground)\n\t(x_set_cr_source_with_gc_background, x_cr_define_fringe_bitmap)\n\t(x_cr_destroy_fringe_bitmap, x_cr_draw_image, x_cr_draw_frame)\n\t(x_cr_accumulate_data, x_cr_destroy, x_cr_export_frames)\n\t(x_prepare_for_xlibdraw, x_set_clip_rectangles)\n\t(x_reset_clip_rectangles, x_fill_rectangle, x_draw_rectangle)\n\t(x_clear_window, x_fill_trapezoid_for_relief): New functions.\n\t(x_update_begin): Create cairo surface if needed.\n\t(x_draw_vertical_window_border): Call x_fill_rectangle for cairo.\n\t(x_update_end): Paint cairo drawing surface to xlib surface.\n\t(x_clear_under_internal_border, x_after_update_window_line): Adjust\n\targuments to x_clear_area.\n\t(x_draw_fringe_bitmap): Call x_fill_rectangle.  Get GC values and\n\tcall x_cr_draw_image for cairo.  Call x_reset_clip_rectangles instead\n\tof XSetClipMask.\n\t(x_set_glyph_string_clipping)\n\t(x_set_glyph_string_clipping_exactly): Use x_set_clip_rectangles\n\tinstead of XSetClipRectangles.\n\t(x_clear_glyph_string_rect, x_draw_glyph_string_background):\n\tUse x_fill_rectangle instead of XFillRectangle.\n\t(x_draw_glyph_string_foreground)\n\t(x_draw_composite_glyph_string_foreground)\n\t(x_draw_glyphless_glyph_string_foreground): Use x_draw_rectangle\n\tinstead of XDrawRectangle.\n\t(x_draw_relief_rect): Add code for USE_CAIRO.\n\tCall x_reset_clip_rectangles instead of XSetClipMask.\n\t(x_draw_box_rect): x_set_clip_rectangles instead of XSetClipRectangles,\n\tx_fill_rectangle instead of XFillRectangle, x_reset_clip_rectangles\n\tinstead of XSetClipMask.\n\t(x_draw_image_foreground, x_draw_image_foreground_1):\n\tx_draw_rectangle instead of XDrawRectangle.\n\t(x_draw_glyph_string_bg_rect): x_fill_rectangle instead of\n\tXFillRectangle.\n\t(x_draw_image_glyph_string): If img has cr_data, use it as\n\ta cairo surface.\n\t(x_draw_stretch_glyph_string): x_set_clip_rectangles instead of\n\tXSetClipRectangles, x_fill_rectangle instead of XFillRectangle.\n\t(x_draw_glyph_string): x_fill_rectangle instead of XFillRectangle.,\n\tx_reset_clip_rectangles instead of XSetClipMask.\n\t(x_shift_glyphs_for_insert): Call x_prepare_for_xlibdraw.\n\t(x_clear_area1): New function that calls XClearArea.\n\t(x_clear_area): Takes frame as parameter, calls x_clear_area1 for\n\tnon-cairo.\n\t(x_clear_frame): x_clear_window instead of XClearWindow.\n\t(x_scroll_run): Set frame garbaged if cairo.\n\t(XTmouse_position): Initialize *part to 0.\n\t(x_scroll_bar_create): Adjust arguments to x_clear_area.\n\t(x_scroll_bar_set_handle): x_clear_area1 instead of x_clear_area,\n\tx_fill_rectangle instead of XFillRectangle.\n\t(XTset_vertical_scroll_bar, XTset_horizontal_scroll_bar): Adjust\n\targuments to x_clear_area.\n\t(x_scroll_bar_expose): x_draw_rectangle instead of XDrawRectangle.\n\t(handle_one_xevent): Adjust arguments to x_clear_area.\n\tDestroy cairo surface for frame if ConfigureNotify.\n\t(x_clip_to_row): x_set_clip_rectangles instead of XSetClipRectangles.\n\t(x_draw_hollow_cursor): x_draw_rectangle instead of XDrawRectangle,\n\tx_reset_clip_rectangles instead of XSetClipMask.\n\t(x_draw_bar_cursor): x_fill_rectangle instead of XFillRectangle,\n\tx_reset_clip_rectangles instead of XSetClipMask.\n\t(x_clear_frame_area): Adjust arguments to x_clear_area.\n\t(x_free_frame_resources): Call x_prepare_for_xlibdraw.\n\t(x_term_init): Call x_extension_initialize if cairo.\n\t(x_redisplay_interface): Add x_cr_define_fringe_bitmap,\n\tx_cr_destroy_fringe_bitmap for cairo.\n\t(x_initialize): Call x_cr_init_fringe for cairo.\n\t* src/xterm.h: Add include of cairo header files.\n\t(x_bitmap_record): Add img if cairo.\n\t(x_gc_ext_data): New struct for cairo.\n\t(x_display_info): Add ext_codes for cairo.\n\t(x_output): Add cr_context and cr_surface for cairo.\n\t(x_clear_area): Change arguments from Display*/Window to frame pointer.\n\t(x_query_color, x_begin_cr_clip, x_end_cr_clip)\n\t(x_set_cr_source_with_gc_foreground, x_set_cr_source_with_gc_background)\n\t(x_cr_draw_frame, x_cr_export_frames): Declare.\n\n2015-05-17  Johan Bockg\u00e5rd  <bojohan@gnu.org>\n\n\tFix integer-valued `mouse-highlight' (Bug#20590)\n\t* src/xterm.c (handle_one_xevent) [USE_GTK]: Fix ifdef scope.\n\n2015-05-17  Eli Zaretskii  <eliz@gnu.org>\n\n\tMS-Windows followup for ASCIIfication of curved quotes\n\t* lisp/term/w32console.el (terminal-init-w32console): Repeat the\n\ttest for curved quotes being displayable, after switching the\n\tterminal encoding.  (Bug#20545)\n\n2015-05-17  Jan D  <jan.h.d@swipnet.se>\n\n\tAdd comment that x_shift_glyphs_for_insert is never called\n\t* src/xterm.c (x_shift_glyphs_for_insert, x_redisplay_interface):\n\tAdd comment that this function is never called.\n\n2015-05-16  Glenn Morris  <rgm@gnu.org>\n\n\t* src/lisp.mk: Remove from repository and generate at build-time.\n\t* src/Makefile.in (lisp.mk): New rule to generate from loadup.el.\n\t(shortlisp_filter): New variable.\n\t(emacs$(EXEEXT), $(etc)/DOC): Depend on lisp.mk.\n\t(distclean): Remove lisp.mk.\n\t* Makefile.in ($(MAKEFILE_NAME)): No longer depend on src/lisp.mk.\n\t* lisp/loadup.el: Tweak layout to make it easier to parse.\n\t* make-dist: Do not distribute src/lisp.mk.\n\n2015-05-16  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tDisplay shorter dates in Git annotate output\n\t* lisp/vc/vc-git.el (vc-git-annotate-command): Use the short date\n\tformat (when not overridden with vc-git-annotate-switches).\n\t(vc-git-annotate-time): Support the short format, as well as ISO\n\t8601 that has been used until now (bug#5428).\n\n2015-05-16  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tASCIIfy curved quotes on displays lacking them\n\t* lisp/international/mule-cmds.el (set-locale-environment):\n\tIf curved quotes don't work, display straight ASCII approximations\n\t(Bug#20545).\n\n2015-05-16  Glenn Morris  <rgm@gnu.org>\n\n\tSmall src/Makefile simplification\n\t* src/lisp.mk (shortlisp): Rename from lisp, remove $lispsource prefix.\n\t* src/Makefile.in (lisp): Derive from shortlisp.\n\t($(etc)/DOC): Use $shortlisp rather than parsing lisp.mk.\n\n2015-05-16  Eli Zaretskii  <eliz@gnu.org>\n\n\t* lisp/help-mode.el (help-go-forward): Doc fix.\n\t(Bug#20577)\n\n\t* doc/lispref/debugging.texi (Profiling): Improve indexing.\n\t(Bug#20576)\n\n2015-05-16  Dmitry Gutov  <dgutov@yandex.ru>\n\n\t* lisp/vc/vc-git.el (vc-git-resolve-when-done): Use `unless' to\n\thave one fewer `not'.\n\n\t* lisp/vc/vc-git.el (vc-git-diff-switches)\n\t(vc-git-annotate-switches, vc-git-resolve-conflicts)\n\t(vc-git-program, vc-git-root-log-format): Remove the redundant\n\t:group declarations.\n\n2015-05-16  Nicolas Petton  <nicolas@petton.fr>\n\n\tRemoves the predicate from lisp-complete-symbol (Bug#20456)\n\t* lisp/emacs-lisp/lisp.el (lisp-complete-symbol): Do not use predicate\n\tand remove it from the docstring.\n\n2015-05-16  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tAdd new option vc-git-resolve-conflicts\n\t* lisp/vc/vc-git.el (vc-git-resolve-conflicts): New variable.\n\t(vc-git-find-file-hook): Add to after-save-hook only when the\n\tabove is non-nil.\n\t(vc-git-resolve-when-done): Update to honor the new variable.\n\t(Bug#20292)\n\n2015-05-16  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/tabulated-list.el: Don't error on null header-string.\n\t(tabulated-list-init-header): Document new behavior.\n\t(tabulated-list-print-fake-header): Do nothing if\n\t`tabulated-list--header-string' is nil.\n\t(tabulated-list--header-string): Add a docstring.\n\t* doc/lispref/modes.texi (Tabulated List Mode): Document it.\n\t* etc/NEWS: Document it.\n\n2015-05-15  Leo Liu  <sdl.web@gmail.com>\n\n\tRevert \"Fix cps--gensym\"\n\t* lisp/emacs-lisp/generator.el (cps--gensym): Revert commit\n\tfbda511ab8069d0115eafca411a43353b85431b1 on 2015-05-14.\n\n2015-05-15  Glenn Morris  <rgm@gnu.org>\n\n\tReplace AC_SUBST_FILE in configure with include in Makefiles\n\t* configure.ac (DEPDIR, MKDEPDIR, deps_frag, lwlib_deps_frag)\n\t(oldxmenu_deps_frag, lisp_frag): Remove output variables/files.\n\t(AUTO_DEPEND): New output variable.\n\t* lwlib/Makefile.in (AUTO_DEPEND): New, set by configure.\n\t(DEPFLAGS, MKDEPDIR): Set directly via conditional.\n\t(lwlib_deps_frag): Replace by conditional include.\n\t* lwlib/autodeps.mk: Remove file.\n\t* oldXMenu/Makefile.in (AUTO_DEPEND): New, set by configure.\n\t(DEPFLAGS, MKDEPDIR): Set directly via conditional.\n\t(oldxmenu_deps_frag): Replace by conditional include.\n\t* oldXMenu/autodeps.mk: Remove file.\n\t* src/Makefile.in (AUTO_DEPEND): New, set by configure.\n\t(DEPFLAGS, MKDEPDIR): Set directly via conditional.\n\t(lisp_frag): Replace by an include.\n\t(deps_frag): Replace by conditional include.\n\t* src/autodeps.mk: Remove file.\n\n\tTweak japanese.el's loading of dependencies\n\t* lisp/loadup.el: Explicitly load cp51932 and eucjp-ms.\n\t* lisp/language/japanese.el: Use require rather than load.\n\t* lisp/international/cp51932.el, lisp/international/eucjp-ms.el:\n\tProvide a feature.\n\t* admin/charsets/eucjp-ms.awk, admin/charsets/cp51932.awk:\n\tProvide a feature in the generated file.\n\n2015-05-15  Jan D  <jan.h.d@swipnet.se>\n\n\tFix NS warnings\n\t* src/nsmenu.m (ns_popup_dialog)\n\t* src/nsimage.m (initFromXBM:width:height:fg:bg:)\n\t* src/nsfns.m (Fx_create_frame): Remove unused variables.\n\t(Fns_read_file_name): Initialize fname, remove ret.\n\t* src/nsterm.m (ns_draw_window_cursor): Handle DEFAULT_CURSOR in switch.\n\t(ns_get_color, ns_set_horizontal_scroll_bar, keyDown):\n\tRemove unused variable.\n\t(init): Add parantesis in if.\n\t(ns_create_terminal): Assign set_horizontal_scroll_bar_hook.\n\n2015-05-15  Jan Dj\u00e4rv  <jan.h.d@swipnet.se>\n\n\tFix a enum conversion warning in macfont.m\n\t* src/macfont.h (CharacterCollection): Typedef to NSCharacterCollection.\n\t(MAC_CHARACTER_COLLECTION_*): Use the NS variants.\n\n2015-05-15  Eli Zaretskii  <eliz@gnu.org>\n\n\t* lisp/textmodes/ispell.el (ispell-aspell-find-dictionary):\n\tSupport Aspell dictionaries with names like \"de-alt\".  (Bug#20581)\n\n2015-05-15  Jan Dj\u00e4rv  <jan.h.d@swipnet.se>\n\n\t* lisp/cus-start.el: Add ns-confirm-quit.\n\n\tFix warnings on OSX 10.10\n\t* src/nsfns.m (MODAL_OK_RESPONSE): New define for different\n\tOSX versions.\n\t(Fns_read_file_name): Check against MODAL_OK_RESPONSE.\n\t(compute_tip_xy): Use convertRectToScreen for OSX >= 10.7\n\t* src/nsmenu.m (initWithContentRect:styleMask:backing:defer:)\n\t* src/nsimage.m (allocInitFromFile, setPixmapData): Only call\n\tsetScalesWhenResized for OSX < 10.6.\n\t* src/nsterm.h (EmacsScroller): Declare scrollerWidth.\n\t* src/nsterm.m (ns_copy_bits): New function that does not use\n\tdeprecated NSCopyBits.\n\t(ns_scroll_run, ns_shift_glyphs_for_insert): Call ns_copy_bits.\n\t(runAlertPanel): New function.\n\t(applicationShouldTerminate:): Call runAlertPanel.\n\t(initFrameFromEmacs, toggleFullScreen:): Only call\n\tuseOptimizedDrawing for OSX < 10.10.\n\t(initFrameFromEmacs:): Only call allocateGState for OSX < 10.10.\n\t(windowWillUseStandardFrame:defaultFrame:): Cast arg to abs to int.\n\t(draggingEntered:): Returns NSDragOperation.\n\t(scrollerWidth): Use scrollerWidthForControlSize for OSX >= 10.7.\n\n2015-05-15  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el: Don't ensure-init during startup.\n\t(package--init-file-ensured): New variable.\n\t(package-initialize, package--ensure-init-file): Use it.\n\n2015-05-15  Jan Dj\u00e4rv  <jan.h.d@swipnet.se>\n\n\tHonor :fore/background for XBM on NS (Bug#14969)\n\t* src/nsterm.h (EmacsImage): Add xbm_fg, remove initFromSkipXBM,\n\tinitFromXBM takes bg, fg args, remove flip arg.\n\t(ns_image_from_XBM): Add bg, fg args.\n\t* src/image.c (x_create_bitmap_from_data)\n\t(Create_Pixmap_From_Bitmap_Data): ns_image_from_XBM takes bg, fg args.\n\t* src/nsimage.m (ns_image_from_XBM): Add fg, bg args, pass to\n\tinitFromXBM.  Remove flip arg.\n\t(initFromSkipXBM): Move code to initFromXBM.\n\t(initFromXBM): Actually set fg and bg, instead of playing alpha games.\n\tUse fg, bg from args (Bug#14969).  Remove if (length) section, was\n\talways false.\n\tRemove bit flipping (bitPat, swt), generated incorrect images when\n\twidth/height wasn't a multiple of 8.\n\t(setXBMColor:): Modify planes by comparing to saved xbm_fg.\n\t* src/nsterm.m (ns_draw_fringe_bitmap): initFromXBM takes fg, bg args,\n\tremove flip arg.\n\n2015-05-15  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el: Be more careful with the init file.\n\t(package--ensure-init-file): Check that user-init-file is set,\n\texists, is readable, and is writable.  (Bug#20584)\n\tAlso expand the docstring.\n\n2015-05-14  Wilson Snyder  <wsnyder@wsnyder.org>\n\n\tSync with upstream verilog-mode revision 6232468\n\t* lisp/progmodes/verilog-mode.el\n\t(verilog-font-lock-grouping-keywords-face)\n\t(verilog-highlight-grouping-keywords): Fix use of face when\n\t`verilog-highlight-grouping-keywords' set.  Reported by Jeff Pompa.\n\t(verilog-auto-reset): Fix AUTORESET to ignore member resets if\n\tparent is reset, bug906.  Reported by Ken Schmidt.\n\t(verilog-auto-inout-module): Add fourth regexp argument to\n\tAUTOINOUTMODULE and AUTOINOUTCOMP for signals to not match, bug856.\n\tReported by John Tillema.\n\t(verilog-auto-inst-port): Fix AUTOINST interfaces to not show\n\tmodport if signal attachment is itself a modport.  Reported by\n\tMatthew Lovell.\n\t(verilog-auto-reset, verilog-auto-sense-sigs): Fix AUTORESET with\n\talways_comb and always_latch, bug844.  Reported by Greg Hilton.\n\t(verilog-at-constraint-p, verilog-beg-of-statement-1): Fix hanging\n\twith many curly-bracket pairs, bug663.\n\t(verilog-set-auto-endcomments): Fix end comments for functions of\n\ttype void, etc.  Reported by Alex Reed.\n\t(verilog-do-indent): Fix electric tab deleting form-feeds.  Note\n\tcaused by indent-line-to deleting tabls pre 24.5.\n\t(verilog-nameable-item-re): Fix nameable items that can have an\n\tend-identifier to include endchecker, endgroup, endprogram,\n\tendproperty, and endsequence.  Reported by Alex Reed.\n\t(verilog-label-be): When auto-commenting a buffer, consider\n\tauto-comments on all known keywords (not just a subset thereof).\n\tReported by Alex Reed.\n\t(verilog-auto-end-comment-lines-re)\n\t(verilog-end-block-ordered-re, verilog-set-auto-endcomments):\n\tAutomatically comment property/endproperty blocks to match other\n\tsimilar blocks like sequence/endsequence, function/endfunction, etc.\n\tReported by Alex Reed.\n\t(verilog-set-auto-endcomments): Detect the function- or task-name\n\twhen auto-commenting blocks that lack an explicit portlist.\n\tReported by Alex Reed.\n\t(verilog-auto, verilog-auto-insert-last): Add AUTOINSERTLAST to\n\tallow post-AUTO user fixups, bug826.  Reported by Dennis Muhlestein.\n\t(verilog-no-indent-begin-re): When `verilog-indent-begin-after-if'\n\tis nil, fix indenting initial/final to match always statements,\n\tbug825.  Reported by Tim Clapp.\n\t(verilog-extended-complete-re): Fix indentation of DPI-C imports\n\twith c_identifiers, and DPI-C imports, bug557.  Reported by ZeDong\n\tMao and Jason Forkey.\n\t(verilog-read-decls): Fix parsing typed interfaces.  Fix\n\tAUTOINOUTMODPORT missing types.  Reported by Stephan Bourduas.\n\tFix localparam not being ignored in AUTOINSTPARAM,\n\tbug889.  Reported by Shannon Hill.\n\t(verilog-auto-output-every): Add regexp to AUTOOUTPUTEVERY,\n\tbug793.  Reported by Pierre-David Pfister.\n\t(verilog-auto-arg-format, verilog-auto-arg-ports):\n\tAdd verilog-auto-arg-format to support newlines in AUTOARG.\n\tReported by Jie Xiao.\n\t(verilog-batch-execute-func): Do not batch re-auto files loaded by\n\tLocal Variables.  Fix printing \"no changes to be saved\" with\n\tverilog-batch.  Reported by Dan Dever.\n\t(verilog-auto-inout-module): Fix AUTOINOUTMODULE not inserting\n\tinterface-only modules, bug721.  Reported by Dean Hoyt.\n\tAuthor: Alex Reed <acreed4@gmail.com>\n\t* lisp/progmodes/verilog-mode.el (verilog-beg-of-statement):\n\tDon't treat '<keyword>:<identifier>' as the start of a labeled\n\tstatement, bug905.  Reported by Enzo Chi.\n\t(verilog-directive-re, verilog-compiler-directives)\n\t(verilog-keywords): Match full set of IEEE 2012-1800 compiler\n\tdirectives (plus some extras) when determining indentation, bug\n\t901.  Reported by Bernd Beuster.\n\t(verilog-at-constraint-p): Fix indentation of coverpoint bins if\n\tiff expression doesn't start with word-character, bug900.\n\t(verilog-optional-signed-range-re, verilog-optional-signed-re):\n\tFix incorrect indentation/alignment of unsigned declarations,\n\tbug897.\n\t(verilog-looking-back, verilog-in-attribute-p): Fix labeling of\n\talways constructs, bug895.\n\t(verilog-calc-1): Fix verilog-mode constraint indentation, bug324.\n\tReported by Eric Mastromarchi.\n\t(verilog-beg-of-statement): Fix indenting for some forms of\n\tconstraintsm bug433.  Reported by Brad Parker.  Fix indentation of\n\tcontinued assignment incorrect if first line ends with ']', bug437.\n\tReported by Dan Dever.  Fix indention of cover inside an\n\tifdef, bug 862.  Reported by Bernd Beuster.  Fix labeling do-while\n\tblocks, bug842.\n\t(verilog-preprocessor-re): Fix fork/end UNMATCHED warning, bug859.\n\tReported by Kaushal Modi.\n\t(verilog-set-auto-endcomments): Fix endlabel end comments, bug888.\n\t(verilog-backward-token): Fix indenting sensitivity lists with\n\tnamed events, bug840.  Reed.\n\t(verilog-no-indent-begin-re): Fix `verilog-indent-begin-after-if'\n\tnil not honoring 'forever', 'foreach', and 'do' keywords.\n\n2015-05-14  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tCheck for invalid GTK+ monitor scales\n\t* src/gtkutil.c (xg_get_gdk_scale): Return 1 for invalid scales,\n\tINT_MAX for too-large scales.  All callers changed to assume the\n\tresult is valid (Bug#20432).\n\t(xg_frame_set_char_size, xg_update_scrollbar_pos):\n\tCalculate scale only if needed.\n\tShow ASCII approximations instead.\n\n2015-05-14  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix daemon crashes when linum-mode is turned on early on\n\t* src/window.c (Fwindow_end): Don't try calling display engine\n\tfunctions on initial-frame frame.  (Bug#20565)\n\n\tFix selective diff browsing in Ediff\n\t* lisp/vc/ediff-util.el (ediff-focus-on-regexp-matches):\n\tGo to the beginning of the region before searching for the\n\tediff-regexp-focus-* regexps.  (Bug#20568)\n\n2015-05-14  Jan D  <jan.h.d@swipnet.se>\n\n\tFixes bug#20142\n\t* src/gtkutil.c (delete_cb): Don't send delete event here, it does\n\tarrive in the main loop, even for Gtk 3 (Bug#20142).\n\n\tDon't access display after i/o error (Bug#19147).\n\t* src/xterm.c (x_connection_closed): Add third arg ioerror.\n\tIf ioerror, set display to 0 (Bug#19147).\n\t(x_error_quitter): Call x_connection_closed with third arg false.\n\t(x_io_error_quitter): Call x_connection_closed with third arg true.\n\n\tHandle GTK_SCALE, fixes Bug#20432.\n\t* src/gtkutil.c (xg_get_gdk_scale): New function.\n\t(xg_frame_set_char_size)\n\t(x_wm_set_size_hint, xg_get_default_scrollbar_width)\n\t(xg_get_default_scrollbar_height)\n\t(xg_update_horizontal_scrollbar_pos): Take GTK_SCALE in to account\n\twhen setting sizes (Bug#20432).\n\n2015-05-13  Leo Liu  <sdl.web@gmail.com>\n\n\t* lisp/emacs-lisp/generator.el (cps--gensym): Fix.\n\n2015-05-13  Glenn Morris  <rgm@gnu.org>\n\n\tFix bootstrap (void function cl-member).\n\t* lisp/emacs-lisp/cl-lib.el: Load cl-seq if no cl-loaddefs file.\n\t* lisp/emacs-lisp/cl-seq.el: Provide a feature.\n\n2015-05-13  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/loadup.el (\"emacs-lisp/cl-generic\"): Preload\n\t* src/lisp.mk (lisp): Add emacs-lisp/cl-generic.elc.\n\t* lisp/emacs-lisp/cl-generic.el (cl-generic-define-method):\n\tAvoid defalias for closures which are not immutable.\n\t(cl--generic-prefill-dispatchers): New macro.  Use it to prefill\n\tthe dispatchers table with various entries.\n\t* lisp/emacs-lisp/ert.el (emacs-lisp-mode-hook):\n\t* lisp/emacs-lisp/seq.el (emacs-lisp-mode-hook): Use add-hook.\n\n2015-05-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove tagging of C bindings in DEFVAR_*\n\t* src/Makefile.in (TAGS): Add --regex options to tag the C binding\n\tfrom DEFVAR_*.\n\n2015-05-13  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* src/editfns.c (Fformat): Fix use-after-free bug (Bug#20548).\n\n2015-05-12  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/progmodes/tcl.el (tcl-filter):\n\tHandle comint-prompt-read-only like gud.el does.  (Bug#20549)\n\n\tAdd basic VC push support\n\t* lisp/vc/vc.el (vc-push): New autoloaded command.\n\t* lisp/vc/vc-hooks.el (vc-prefix-map, vc-menu-map): Add vc-push.\n\t* lisp/vc/vc-bzr.el (vc-bzr--pushpull): New, factored from vc-bzr-pull.\n\t(vc-bzr-pull): Reimplement using vc-bzr--pushpull.\n\t(vc-bzr-push): New.\n\t* lisp/vc/vc-git.el (vc-git--pushpull): New, factored from vc-git-pull.\n\t(vc-git-pull): Reimplement using vc-git--pushpull.\n\t(vc-git-push): New.\n\t* lisp/vc/vc-hg.el (vc-hg--pushpull): New, factored from vc-hg-pull.\n\t(vc-hg-pull, vc-hg-push): Reimplement using vc-hg--pushpull.\n\t* doc/emacs/maintaining.texi (Pulling / Pushing):\n\tRename from \"VC Pull\".  Mention pushing.\n\t(VC With A Merging VCS, VC Change Log): Update xrefs.\n\t(Branches): Update menu.\n\t* doc/emacs/emacs.texi: Update menu.\n\t* etc/NEWS: Mention this.\n\n2015-05-12  Nicolas Petton  <nicolas@petton.fr>\n\n\tImprove the seq pcase pattern and the `seq-let' macro\n\t* lisp/emacs-lisp/seq.el: The pcase pattern now matches only if the\n\tobject is a sequence, and binds each element of ARGS to the\n\tcorresponding element of the sequence.\n\n2015-05-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix tags created from DEFVAR_* declarations in C\n\t* src/Makefile.in (TAGS): Improve the --regex argument to etags,\n\tto make tags extracted from DEFVAR_* declarations more accurate.\n\n\tAdd a test suite for etags\n\t* test/etags/: New test suite, adapted from\n\thttp://fly.isti.cnr.it/pub/software/unix/etags-regression-test.tar.bz2,\n\twhose original author is Francesco Potort\u00ec <pot@gnu.org>.\n\n\tFix tagging of symbols in C enumerations\n\t* lib-src/etags.c (consider_token): Don't tag symbols in\n\texpressions that assign values to enum constants.  See\n\thttps://lists.gnu.org/r/emacs-devel/2015-05/msg00291.html\n\tfor details.\n\t(C_entries): Reset fvdef to fvnone after processing a preprocessor\n\tconditional and after a comma outside of parentheses.\n\n2015-05-12  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/url/url-handlers.el (url-file-name-completion)\n\t(url-file-name-all-completions): Silence compiler.\n\n\t* lisp/emacs-lisp/chart.el (chart-axis-draw): Replace obsolete alias.\n\n\t* lisp/play/dunnet.el (dun-dos-boot-msg): Fix time.  (Bug#20554)\n\n2015-05-12  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/cl-generic.el: Add dispatch on &context arguments\n\t(cl--generic-mandatory-args): Remove.\n\t(cl--generic-split-args): New function.\n\t(cl-generic-define, cl--generic-lambda): Use it.\n\t(cl-generic-define-method): Use it as well, and add support for\n\tcontext args.\n\t(cl--generic-get-dispatcher): Handle &context dispatch.\n\t(cl--generic-cache-miss): `dispatch-arg' can now be a\n\tcontext expression.\n\t(cl--generic-dispatchers): Pre-fill.\n\t* test/automated/cl-generic-tests.el (sm-generic-test-12-context):\n\tNew test.\n\n2015-05-11  Glenn Morris  <rgm@gnu.org>\n\n\t* make-dist: Abort if \"make ChangeLog\" fails.  Add \"--no-changelog\".\n\n2015-05-11  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/term/xterm.el: Fix xterm-paste handling for rxvt\n\t* lisp/term/rxvt.el: Require term/xterm.\n\t(rxvt-function-map): Use xterm-rxvt-function-map.\n\t(rxvt-standard-colors): Move before first use.\n\t(terminal-init-rxvt): Use xterm--push-map and\n\txterm-register-default-colors.\n\t(rxvt-rgb-convert-to-16bit, rxvt-register-default-colors): Remove.\n\t* lisp/term/xterm.el (xterm-rxvt-function-map): New var.\n\tMove shared bindings between rxvt and xterm to it.\n\t(xterm-function-map): Use it.  Move the xterm-paste binding to\n\txterm-rxvt-function-map (bug#20444).\n\t(xterm-standard-colors): Move before first use.\n\t(xterm--push-map): New function.\n\t(xterm-register-default-colors): Take standard colors as argument.\n\t(terminal-init-xterm): Use it.  Adjust call to\n\txterm-register-default-colors.\n\n2015-05-11  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/term/x-win.el: Quieten --without-x compilation.\n\t(x-own-selection-internal, x-disown-selection-internal)\n\t(x-selection-owner-p, x-selection-exists-p, x-get-selection-internal):\n\tDeclare.\n\n\t* Makefile.in (emacslog): Remove srcdir.\n\t(ChangeLog): Update for the above.\n\n2015-05-10  Fabi\u00e1n Ezequiel Gallina  <fgallina@gnu.org>\n\n\tpython.el: better limit for looking-back calls\n\t* lisp/progmodes/python.el (python-shell-accept-process-output):\n\tUse last comint prompt start as limit for looking-back.\n\n2015-05-10  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tCEDET (srecode-insert-fcn): Fix use of oref on a class\n\t* lisp/cedet/srecode/insert.el (srecode-insert-fcn): Fix use of oref\n\ton a class.  Reported by Pierre Lorenzon.\n\t(srecode-template-inserter-point): Remove declaration.\n\n\tCEDET (srecode-create-dictionary): Avoid obsolete object name\n\t* lisp/cedet/srecode/dictionary.el (srecode-create-dictionary):\n\tDon't use a symbol as an object name.  Reported by Pierre Lorenzon.\n\n2015-05-10  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tC-x 8 shorthands for curved quotes, Euro, etc.\n\tAlthough C-x 8 lets you insert arbitrary Unicode characters,\n\tit's awkward to use this to insert commonly used symbols such as curved\n\tquotes, the Euro symbol, etc.  This patch adds simpler sequences for\n\tcharacters commonly found in English text and in basic math.\n\tFor example, assuming the Alt key works on your keyboard and iso-transl\n\tis loaded, one can now type \"A-[\" instead of \"A-RET LEFT SIN TAB RET\"\n\tto get the character \"\u2018\" (U+2018 LEFT SINGLE QUOTATION MARK).\n\t(Bug#20499)\n\t* doc/emacs/mule.texi (Unibyte Mode):\n\tA few other printing characters now work too.\n\t* etc/NEWS: Document this.\n\t* lisp/international/iso-transl.el (iso-transl-char-map):\n\tAlso support the following characters:\n\t\u2010 \u2011 \u2012 \u2013 \u2014 \u2015 \u2018 \u2019 \u201c \u201d \u2020 \u2021 \u2022 \u2032 \u2033 \u20ac \u2116 \u2190 \u2192 \u2194 \u2212 \u2248 \u2260 \u2264 \u2265\n\n2015-05-10  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tAdd xref-find-regexp\n\t* lisp/progmodes/xref.el (xref-find-function): Describe the\n\t`matches' action.\n\t(xref-find-regexp): New command, using it.\n\t(xref-collect-references): Rename to xref-collect-matches.\n\t(xref--collect-reference): Rename to xref--collect-match.\n\t(xref-collect-matches, xref--collect-match): Accept new argument,\n\tKIND.  Update accordingly.\n\t(xref--regexp-to-extended): New function.\n\t* lisp/progmodes/elisp-mode.el (elisp-xref-find): Support the\n\t`matches' action.\n\t(elisp--xref-find-matches): Accept new argument.  Resolve a FIXME.\n\t* lisp/progmodes/etags.el (etags-xref-find):\n\tSupport the `matches' action.\n\t(etags--xref-find-matches): New function.\n\n2015-05-10  Glenn Morris  <rgm@gnu.org>\n\n\t* Makefile.in: Fixes for recent change-history changes.\n\t(change-history-nocommit): Update footer regexp.\n\tEnsure output script stays executable.\n\n2015-05-10  Nicolas Petton  <nicolas@petton.fr>\n\n\tNew version of `seq-let' based on a pcase pattern\n\t* lisp/emacs-lisp/seq.el (seq-let): Define the macro in terms of a\n\tpcase pattern if `pcase-defmacro' is defined (Emacs>=25.1).\n\n2015-05-10  Przemys\u0142aw Wojnowski  <esperanto@cumego.com>\n\n\tAdd basic HTML5 tags and a template\n\t* lisp/textmodes/sgml-mode.el: Basic HTML5 support.\n\t(html-tag-alist): Add HTML5 tags.\n\t(html-tag-help): Add new tags descriptions.\n\t(html-navigational-links): Template for nav links.\n\t(html-html5-template): Template for a HTML5 page.\n\n2015-05-10  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tsemantic/symref/grep: Don't use word boundaries\n\t* lisp/cedet/semantic/symref/grep.el\n\t(semantic-symref-perform-search): Instead of wrapping input in\n\tword boundaries, check that the characters before and after are\n\tnot word constituents.\n\n\tsemantic/symref/grep: Support regexp search\n\t* lisp/cedet/semantic/symref.el\n\t(semantic-symref-hit-to-tag-via-buffer): Don't regexp-quote when\n\tthe search type is regexp.\n\t* lisp/cedet/semantic/symref/grep.el\n\t(semantic-symref-perform-search): Support the regexp search type.\n\tPass -E to Grep when it's used.\n\n\tsemantic-symref-regexp: Allow to input an arbitrary string\n\t* lisp/cedet/semantic/symref/list.el (semantic-symref-regexp):\n\tAllow to input an arbitrary string interactively.\n\n\tRemove tag-symbol-match-p from etags-xref-find-definitions-tag-order\n\t* lisp/progmodes/etags.el (etags-xref-find-definitions-tag-order):\n\tRemove tag-symbol-match-p from the default value\n\t(https://lists.gnu.org/r/emacs-devel/2015-05/msg00292.html).\n\n\tDeclare find-tag obsolete\n\t* lisp/progmodes/etags.el (find-tag): Declare obsolete in favor of\n\txref-find-definitions.\n\n2015-05-10  Jan D  <jan.h.d@swipnet.se>\n\n\tDraw composite string correctly (Bug#20537)\n\t* src/nsterm.m (ns_draw_composite_glyph_string_foreground):\n\tNew function.\n\t(ns_draw_glyph_string): Call it.\n\n2015-05-09  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid infloop in ERC\n\t* lisp/simple.el (line-move-to-column): Ignore field boundaries\n\twhile computing line beginning position.  (Bug#20498)\n\n2015-05-08  Glenn Morris  <rgm@gnu.org>\n\n\t* Makefile.in (ChangeLog): No longer pass \"srcprefix\"; cd instead.\n\t* build-aux/gitlog-to-emacslog: Check called from right directory.\n\t(srcprefix): Remove.\n\n\t* build-aux/gitlog-to-emacslog: Get rid of \"distprefix\".\n\t* Makefile.in (ChangeLog): No longer pass \"distprefix\".\n\t* make-dist: Update \"make ChangeLog\" syntax for the above change.\n\n\t* build-aux/gitlog-to-emacslog: Don't hard-code \"ChangeLog.2\".\n\t* Makefile.in (ChangeLog): Pass -n to gitlog-to-emacslog.\n\n\t* build-aux/gitlog-to-emacslog: Add \"for earlier changes\" to footer.\n\n\tAdd command-line option-parsing to gitlog-to-emacslog\n\t* build-aux/gitlog-to-emacslog: Add command-line options.\n\tBy default, refuse to remove an existing output file.\n\t* Makefile.in (CHANGELOG): Update default.\n\t(ChangeLog): Do not test for existing file.\n\t(change-history-nocommit): Ensure temp file does not exist.\n\n\tQuieten --without-x compilation\n\t* lisp/term/common-win.el: Provide a feature.\n\t* lisp/term/x-win.el (term/common-win): Require it.\n\n\t* lisp/dired-aux.el (dired-do-print): Require lpr.\n\n\tQuieten compilation, eg in --without-x builds\n\t* lisp/dired-aux.el (lpr-printer-switch):\n\t* lisp/frame.el (tool-bar-height):\n\t* lisp/linum.el (font-info):\n\t* lisp/window.el (font-info, overflow-newline-into-fringe)\n\t(tool-bar-height):\n\t* lisp/emacs-lisp/package-x.el (tar-data-buffer):\n\t* lisp/gnus/gnus-util.el (iswitchb-mode):\n\t* lisp/mail/rmailmm.el (libxml-parse-html-region):\n\t* lisp/net/nsm.el (gnutls-peer-status)\n\t(gnutls-peer-status-warning-describe):\n\t* lisp/net/shr.el (libxml-parse-xml-region):\n\t* lisp/url/url-http.el (gnutls-peer-status): Declare.\n\n2015-05-08  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tCEDET (srecode-pop, srecode-peek): Don't use `subclass'\n\t* lisp/cedet/srecode/insert.el (srecode-pop, srecode-peek): Don't use\n\t`subclass' since they're never called with a class.\n\t(srecode-insert-method, srecode-insert-subtemplate): Avoid obsolete\n\tsrecode-dictionary-child-p.\n\n2015-05-08  Nicolas Richard  <theonewiththeevillook@yahoo.fr>\n\n\t* lisp/help.el (help--binding-locus): Document argument POSITION.\n\t(Bug#20530)\n\n2015-05-08  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from gnulib\n\t* doc/misc/texinfo.tex: Get latest version.\n\n2015-05-08  Oleh Krehel  <ohwoeowho@gmail.com>\n\n\tffap.el (ffap-read-file-or-url): Fix completing-read call\n\t* lisp/ffap.el (ffap-read-file-or-url): The HIST argument of\n\t`completing-read' should be a symbol.\n\n2015-05-08  Eli Zaretskii  <eliz@gnu.org>\n\n\tVerify file modifications by other programs\n\t* src/filelock.c (lock_file): Check whether the file was modified\n\tsince it was visited even if 'create-lockfiles' is nil.  (Bug#18828)\n\n\tFix keyboard macros that include function keys\n\t* src/keyboard.c (read_char_minibuf_menu_prompt): Record function\n\tkeys in the macro before returning.  (Bug#20454)\n\n2015-05-08  Glenn Morris  <rgm@gnu.org>\n\n\t* build-aux/gitlog-to-changelog: Treat \"Tiny-change\" like\n\t\"Copyright-paperwork-exempt\".  (Bug#20324)\n\n\t* lisp/vc/log-edit.el: Handle \"(tiny change)\".  (Bug#20324)\n\t(log-edit-rewrite-tiny-change): New variable.\n\t(log-edit-insert-changelog): Maybe add \"Copyright-paperwork-exempt\".\n\t(log-edit-changelog-ours-p): Set log-edit-author to a cons.\n\t* etc/NEWS: Mention this.\n\n\t* lisp/calc/calc.el (math-zerop): Declare.\n\n\t* lisp/emacs-lisp/eieio-opt.el (help-fns-short-filename): Declare.\n\n2015-05-07  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/subr-x.el (if-let): Fix debug spec.\n\tSupport the case when BINDINGS is a single tuple.  (Bug#20525)\n\n\t* etc/NEWS: Fix typo in previous commit\n\t(14bb519f1034ddb38ce375cbad7095d9b07f8b26).\n\n2015-05-07  Jan D  <jan.h.d@swipnet.se>\n\n\t* configure.ac: Warn for multiple display crash for all Gtk+ versions.\n\tOutput URL to Gtk+ bug (Bug#20452).\n\n\t* lisp/term/ns-win.el (ns-paste-secondary): Use gui-get-selection.\n\n2015-05-07  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el: New \"external\" package status.\n\tAn external package is any installed package that's not built-in\n\tand not from `package-user-dir', which usually means it's from an\n\tentry in `package-directory-list'.  They are treated much like\n\tbuilt-in packages, in that they cannot be through the Package Menu\n\tdeleted and are not considered for upgrades.\n\t(package-desc-status): Identify if a package is installed outside\n\t`package-user-dir'.\n\t(package-menu--print-info-simple)\n\t(package-menu--status-predicate): Add support for it.\n\t* etc/NEWS: Document it.\n\n2015-05-06  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/mail/rmail.el: Use lexical-binding.\n\t(rmail-bury): Remove unused var `buffer-to-bury'.\n\t(rmail-get-new-mail): Remove unused vars `opoint' and `success'.\n\t(rmail-parse-url): Remove unused var `proto', `user', and `host'.\n\t(rmail-unrmail-new-mail-maybe): Remove unused var `new-file'.\n\t(rmail-insert-inbox-text): Remove unused var `movemail'.\n\t(rmail-add-mbox-headers): Remove unused var `limit'.\n\t(rmail-undelete-previous-message): Remove unused var `value'.\n\t(rmail-reply): Remove unused vars `resent-to', `resent-cc',\n\t`resent-reply-to'.\n\t(rmail-mime-mbox-buffer, rmail-mime-view-buffer): Declare.\n\t(rmail-restore-desktop-buffer): Rename arguments.\n\n2015-05-06  Glenn Morris  <rgm@gnu.org>\n\n\t* Makefile.in (change-history-commit): Add missing piece of previous.\n\n\tAvoid unnecessary bumping of Makefile.in's timestamp\n\t* Makefile.in (gen_origin): Move to gitlog-to-emacslog.\n\t(emacslog): New variable.\n\t(ChangeLog): Use $emacslog.  Don't pass $gen_origin.\n\t(unchanged-history-files): Use $emacslog rather than Makefile.in.\n\t(change-history-nocommit): Store hash in $emacslog.\n\t* build-aux/gitlog-to-emacslog (gen_origin): Move default here.\n\t* admin/update_autogen (changelog_files): Update for the above.\n\n\t* Makefile.in: Don't always insist on removing existing \"ChangeLog\".\n\t(CHANGELOG): New variable.\n\t(no-ChangeLog): Remove.\n\t(ChangeLog): Replace \"no-ChangeLog\"; pass output file to script.\n\t(change-history-nocommit): Use a temp file rather than insisting\n\ton deletion of any existing \"ChangeLog\".\n\n\t* build-aux/gitlog-to-emacslog: Allow specification of output.\n\n\t* admin/update_autogen: Add option to update ChangeLog.\n\t(usage): Mention -H.\n\t(changelog_flag, changelog_n, changelog_files): New variables.\n\t(main): Check for -H, and maybe run change-history-nocommit.\n\n2015-05-06  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/subr.el (delete-dups): Pre-size the hashtable.\n\n\t* lisp/emacs-lisp/cl.el (define-modify-macro): Make sure\n\tcl--arglist-args is defined (bug#20517).\n\n2015-05-06  Glenn Morris  <rgm@gnu.org>\n\n\t* Makefile.in (change-history-nocommit): New.\n\n2015-05-06  Dmitry Gutov  <dgutov@yandex.ru>\n\n\t* lisp/cedet/pulse.el (pulse-momentary-unhighlight): Only cancel\n\ttimer when it is non-nil\n\t(https://lists.gnu.org/r/emacs-devel/2015-05/msg00223.html).\n\n2015-05-06  Glenn Morris  <rgm@gnu.org>\n\n\tQuieten CEDET compilation\n\t* lisp/cedet/semantic/db-el.el (semanticdb-elisp-sym->tag):\n\tInvert fboundp test to quieten on current Emacs.\n\t* lisp/cedet/ede/config.el (ede-shell-run-something)\n\t(semanticdb-file-table-object, semanticdb-needs-refresh-p)\n\t(semanticdb-refresh-table): Declare.\n\t(ede-preprocessor-map): Require semantic/db.\n\n\tQuieten cc-mode compilation\n\t* lisp/progmodes/cc-awk.el (c-forward-sws):\n\t* lisp/progmodes/cc-cmds.el (c-forward-subword, c-backward-subword):\n\tDeclare.\n\n2015-05-06  Oleh Krehel  <ohwoeowho@gmail.com>\n\n\t* lisp/subr.el (delete-dups): Avoid nreverse.\n\n2015-05-06  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/subr.el (delete-dups): Make it destructive again.\n\n2015-05-06  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* doc/lispref/sequences.texi (Sequence Functions): Fix quoting.\n\n2015-05-06  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/testcover.el: Don't use edebug--read (bug#20487).\n\t* lisp/emacs-lisp/testcover.el: Use lexical-binding.\n\t(testcover--read): Rename from testcover-read.  Change calling\n\tconvention.  Use edebug-read-and-maybe-wrap-form now that edebug-read\n\tis gone.\n\t(testcover-start): Use add-function.  Move edebug-all-defs binding to\n\ttestcover--read.\n\t(testcover-this-defun): Tighten scope of edebug-all-defs binding.\n\t(testcover-mark): Remove unused var `item'.\n\t* src/lread.c (syms_of_lread): Default load-read-function to `read'.\n\n2015-05-06  Oleh Krehel  <ohwoeowho@gmail.com>\n\n\t* lisp/subr.el (delete-dups): When there are more than 100 candidates,\n\t  use a hash table.  This can result in ~500 times speed-up for typical\n\t  collections of size 5000, like that of `load-library'.\n\n2015-05-06  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tCEDET: Avoid `oref' on classes in a few more cases\n\t* lisp/cedet/ede/generic.el (ede-find-target):\n\t* lisp/cedet/ede.el (ede-project-forms-menu): Avoid `oref' on classes.\n\t* lisp/cedet/semantic/bovine/gcc.el (semantic-gcc-setup): Remove unused\n\tvar `prefix'.\n\n\t* lisp/cedet/semantic/symref/grep.el: Fix unused var warnings.\n\t(grepflags, greppattern): Declare.\n\t(semantic-symref-perform-search): Remove unused var `pat'.\n\n\tCEDET (srecode-compile-inserter): Avoid `oref' on classes\n\t* lisp/cedet/srecode/compile.el (srecode-compile-inserter):\n\tAvoid `oref' on classes (bug#20491).\n\t(srecode-compile-split-code): Remove unused var `key'.\n\n2015-05-06  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tClean up pulse.el a little\n\t* lisp/cedet/pulse.el (pulse): Remove.\n\t(pulse-momentary-timer): Save instead of the stop time.\n\t(pulse-momentary-highlight-overlay):\n\tCall pulse-momentary-unhighlight first thing.\n\tTreat pulse-momentary-overlay as a single value, not a list.\n\tSave the created timer.  Only pass the stop time to the timer.\n\t(pulse-tick): Update accordingly.\n\t(pulse-momentary-unhighlight): Treat pulse-momentary-overlay as a\n\tsingle value.  Cancel the timer.\n\n2015-05-06  Tassilo Horn  <tsdh@gnu.org>\n\n\t* lisp/textmodes/reftex-cite.el (reftex-format-bib-entry):\n\tSupport the biblatex journaltitle field.\n\n2015-05-05  Glenn Morris  <rgm@gnu.org>\n\n\tMinor declare-function improvement\n\t* lisp/emacs-lisp/bytecomp.el\n\t(byte-compile-macroexpand-declare-function):\n\tHandle declarations after calls.  (Bug#20509)\n\n\t* lisp/progmodes/js.el (js--optimize-arglist): Remove declaration.\n\n\t* lisp/w32-fns.el (w32-shell-name): Silence compiler.\n\n2015-05-05  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tPulse using a timer\n\t* lisp/cedet/pulse.el (pulse-momentary-stop-time): New variable.\n\t(pulse-momentary-highlight-overlay): Set up the timer instead of\n\tcalling `pulse'\n\t(https://lists.gnu.org/r/emacs-devel/2015-05/).\n\t(pulse-tick): New function.\n\t(pulse-momentary-unhighlight): Cut off the stop time.\n\t(pulse-delay): Update the docstring WRT to not using sit-for.\n\n\tAdd semantic/symref/grep file patterns for ruby-mode\n\t* lisp/cedet/semantic/symref/grep.el\n\t(semantic-symref-filepattern-alist): Add patterns for ruby-mode.\n\tClarify the docstring.\n\n\tDon't require match\n\t* lisp/progmodes/xref.el (xref--read-identifier): Don't require\n\tmatch.  That doesn't work for every command, and some identifier\n\tcompletion tables are bound to be imperfect anyway.\n\n2015-05-05  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/cedet/semantic/grammar.el: Fix compiler warnings (bug#20505).\n\t(semantic-grammar--template-expand): New function.\n\t(semantic-grammar-header, semantic-grammar-footer): Use it.\n\t(semantic-grammar--lex-block-specs): Remove unused var `block-spec'.\n\t(semantic-grammar-file-regexp): Refine regexp.\n\t(semantic-grammar-eldoc-get-macro-docstring):\n\tUse elisp-get-fnsym-args-string when available.\n\t(semantic-idle-summary-current-symbol-info): Use new elisp-* names\n\tinstead of the old eldoc-* names.\n\t* lisp/emacs-lisp/eldoc.el (eldoc-docstring-format-sym-doc): Move back\n\tfrom elisp-mode.el.  Tweak calling convention.\n\t* lisp/progmodes/elisp-mode.el (package-user-dir): Declare.\n\t(elisp-get-fnsym-args-string): Add `prefix' argument.  Rename from\n\telisp--get-fnsym-args-string.\n\t(elisp--highlight-function-argument): Add `prefix' arg.\n\t(elisp-get-var-docstring): Rename from elisp--get-var-docstring.\n\t(elisp--docstring-format-sym-doc): Move back to eldoc.el.\n\n2015-05-05  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/help-fns.el (describe-function-1):\n\tHandle builtins with advertised calling conventions.  (Bug#20479)\n\n2015-05-05  Nicolas Petton  <nicolas@petton.fr>\n\n\tMerge branch 'seq-let'\n\n\tUpdate `seq-let' documentation\n\t* doc/lispref/sequences.texi: Update the documentation of `seq-let'\n\twith the support of  `&rest'.\n\n\tAdd support for &rest in `seq-let'\n\t* lisp/emacs-lisp/seq.el (seq--make-bindings): Add support for `&rest'\n\tin the argument list.\n\t* test/automated/seq-tests.el: Add a test for parsing and binding\n\t`&rest' in `seq-let'.\n\n2015-05-05  Pierre Lorenzon  <devel@pollock-nageoire.net>  (tiny change)\n\n\t* lisp/emacs-lisp/eieio-custom.el (eieio-object-value-get):\n\tAdd missing increment (Bug#20467).\n\t(eieio-object-value-create): Adjust to new slots representation\n\t(Bug#20467).\n\t(eieio-object-value-create): Fix missed adjustment to new\n\trepresentation of slots metadata.\n\n2015-05-05  Nicolas Petton  <nicolas@petton.fr>\n\n\t* lisp/emacs-lisp/seq.el (seq--make-bindings): Improve the docstring.\n\n2015-05-05  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tWork around \"Attempt to modify read-only object\"\n\t* lisp/progmodes/elisp-mode.el (elisp--xref-format): Extract from\n\telisp--xref-find-definitions, to work around \"Attempt to modify\n\tread-only object\" error.\n\n\tOnly skip some variables that have function counterparts\n\t* lisp/progmodes/elisp-mode.el (elisp--xref-identifier-location):\n\tOnly skip minor-mode-named variable if it's defined in a Lisp\n\tfile, and it's in minor-mode-list (bug#20506).\n\t* test/automated/elisp-mode-tests.el\n\t(elisp-xref-finds-both-function-and-variable)\n\t(elisp-xref-finds-only-function-for-minor-mode): New tests.\n\n2015-05-04  Dmitry Gutov  <dgutov@yandex.ru>\n\n\t* lisp/progmodes/xref.el (xref--location-at-point): Revert the\n\tprevious change.\n\t(xref--insert-xrefs): Buttonize the whole line, including the\n\tnumber at the beginning.\n\n\t* lisp/progmodes/elisp-mode.el (elisp-completion-at-point):\n\tMake sure we're inside the let bindings.\n\t* test/automated/elisp-mode-tests.el\n\t(elisp-completes-functions-after-let-bindings): New test.\n\n2015-05-04  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/cedet/semantic/grammar.el (eldoc-function-argstring)\n\t(eldoc-docstring-format-sym-doc, eldoc-last-data-store)\n\t(eldoc-get-fnsym-args-string, eldoc-get-var-docstring):\n\tRemove outdated declarations.\n\n\tReplace instances of \"(eval-when-compile (autoload ...))\"\n\t* lisp/gnus/gnus-art.el (nneething-get-file-name):\n\tDeclare rather than autoload.\n\t* lisp/gnus/gnus-async.el (gnus-html-prefetch-images):\n\tRemove pointless autoload.\n\t* lisp/gnus/gnus-sync.el (gnus-group-topic): Autoload at run-time.\n\t(gnus-topic-create-topic, gnus-topic-enter-dribble):\n\tDeclare rather than autoload.\n\t* lisp/gnus/mm-archive.el (gnus-recursive-directory-files)\n\t(mailcap-extension-to-mime): Autoload at run-time.\n\t* lisp/gnus/mm-util.el (latin-unity-massage-name)\n\t(latin-unity-maybe-remap, latin-unity-representations-feasible-region)\n\t(latin-unity-representations-present-region):\n\tDeclare rather than autoload.\n\t* lisp/gnus/mml-smime.el (epg-make-context)\n\t(epg-passphrase-callback-function): Autoload at run-time.\n\t(epg-context-set-signers, epg-context-result-for)\n\t(epg-new-signature-digest-algorithm)\n\t(epg-verify-result-to-string, epg-list-keys, epg-verify-string)\n\t(epg-sign-string, epg-encrypt-string)\n\t(epg-context-set-passphrase-callback, epg-sub-key-fingerprint)\n\t(epg-configuration, epg-expand-group, epa-select-keys):\n\tDeclare rather than autoload.\n\t* lisp/gnus/nnir.el (nnimap-change-group, nnimap-make-thread-query):\n\tAutoload at run-time.\n\t(gnus-group-topic-name, nnimap-buffer, nnimap-command)\n\t(gnus-registry-get-id-key, gnus-registry-action):\n\tDeclare rather than autoload.\n\t* lisp/gnus/nnmail.el (mail-send-and-exit): Autoload at run-time.\n\t* lisp/gnus/spam.el (spam-stat-buffer-change-to-non-spam)\n\t(spam-stat-buffer-change-to-spam, spam-stat-buffer-is-non-spam)\n\t(spam-stat-buffer-is-spam, spam-stat-load, spam-stat-save)\n\t(spam-stat-split-fancy): Remove pointless autoloads.\n\t* lisp/net/mairix.el: Load gnus-util when compiling.\n\t(gnus-group-read-ephemeral-group, gnus-summary-toggle-header)\n\t(message-field-value): Declare rather than autoload.\n\t(mairix-gnus-ephemeral-nndoc, mairix-gnus-fetch-field):\n\tCheck gnus-alive-p is fbound.\n\t(vm-quit, vm-visit-folder, vm-select-folder-buffer)\n\t(vm-check-for-killed-summary, vm-error-if-folder-empty)\n\t(vm-get-header-contents, vm-select-marked-or-prefixed-messages):\n\tDeclare rather than autoload.\n\n\t* lisp/gnus/mm-view.el (epg-decrypt-string): Autoload.\n\n\t* lisp/gnus/mml-smime.el (epg-key-sub-key-list)\n\t(epg-sub-key-capability, epg-sub-key-validity): Fix declarations.\n\n\t* lisp/progmodes/elisp-mode.el (xref-collect-references): Declare.\n\n\t* lisp/emacs-lisp/debug.el (help-xref-interned): Update declaration.\n\n\t* lisp/allout.el (epg-user-id-string, epg-key-user-id-list):\n\t* lisp/emacs-lisp/package.el (epg-signature-status):\n\tFix declarations.\n\n\t* lisp/play/gametree.el (gametree-show-children-and-entry)\n\t(gametree-apply-layout, gametree-mouse-show-subtree)\n\t(gametree-mouse-hide-subtree): Replace obsolete outline aliases.\n\n\t* lisp/emacs-lisp/check-declare.el (check-declare-verify):\n\tHandle cl-defgeneric, cl-defmethod.\n\n2015-05-04  Dmitry Gutov  <dgutov@yandex.ru>\n\n\t* lisp/progmodes/elisp-mode.el (elisp--xref-find-definitions):\n\tHighlight both type and symbol name.\n\n\tInsert, highlight and align line numbers in xref output\n\t* lisp/progmodes/etags.el (xref-location-line): Specialize for\n\txref-etags-location.\n\t* lisp/progmodes/xref.el (xref-location-line): New generic method.\n\t(xref-file-location): Add reader for the line slot.\n\t(xref--location-at-point): Skip to the `xref-location' property.\n\t(xref--collect-reference): Drop the line number from description.\n\t(xref--insert-xrefs): Insert, highlight and align line numbers.\n\n2015-05-04  Daniel Colascione  <dancol@dancol.org>\n\n\t* lisp/simple.el (save-mark-and-excursion--save)\n\t(save-mark-and-excursion--restore): Fix previous commit\n\t(255a011f0ecf004b31c59945b10154b10fac3af1).\n\n2015-05-04  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tDon't pulse the indentation, or the newline\n\t* lisp/cedet/pulse.el (pulse-lighten-highlight)\n\t(pulse-reset-face): Fall back to the inherited background\n\tattribute in FACE.\n\t(pulse-momentary-highlight-region): Add autoload cookie.\n\t* lisp/progmodes/xref.el (xref--maybe-pulse): Don't highlight the\n\tindentation, or the newline, if the line's non-empty\n\t(https://lists.gnu.org/r/emacs-devel/2015-05/msg00118.html).\n\n2015-05-04  Daniel Colascione  <dancol@dancol.org>\n\n\tAdd `save-mark-and-excursion', which has the old\n\t`save-excursion' behavior\n\t* doc/lispref/positions.texi (Excursions):\n\tDocument `save-mark-and-excursion'.\n\t* lisp/font-lock.el (font-lock-fontify-block):\n\tUse `save-mark-and-excursion' instead of `save-excursion',\n\trestoring Emacs 24 behavior.\n\t* lisp/simple.el (save-mark-and-excursion--save)\n\t(save-mark-and-excursion--restore): New functions.\n\t(save-mark-and-excursion): New user macro.\n\t* src/editfns.c (Fsave_excursion): Mention `save-mark-and-excursion'\n\tin `save-excursion' documentation.\n\n2015-05-04  Dmitry Gutov  <dgutov@yandex.ru>\n\n\t* lisp/progmodes/elisp-mode.el (elisp-completion-at-point):\n\tClassify lone symbol inside let varlist as variable.\n\t* test/automated/elisp-mode-tests.el\n\t(completest-variables-in-let-bindings): New test.\n\n\tAdd xref-pulse-on-jump\n\t* lisp/cedet/pulse.el (pulse-momentary-highlight-one-line):\n\tAdd autoload cookie.\n\t* lisp/progmodes/xref.el (xref-pulse-on-jump): New option.\n\t(xref--maybe-pulse): New function.\n\t(xref-pop-marker-stack, xref--pop-to-location)\n\t(xref--display-position): Use it.\n\t(xref--location-at-point): Use back-to-indentation.\n\n2015-05-04  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tlisp/org/org-{macs,list}.el: Fix lexical warnings\n\t* lisp/org/org-list.el (org-list-struct): Remove unused var `ind'.\n\t(org-list-get-next-item, org-list-get-prev-item)\n\t(org-list-get-children): Mark unused arg `struct'.\n\t(org-list-use-alpha-bul-p): Remove unused var `bul'.\n\t(org-toggle-checkbox): Mark unused var.\n\t(org-update-checkbox-count): Remove unused var `box-num'.\n\t(org-adapt-indentation): Declare.\n\t(org-list-parse-list): Declare var instead of adding a dummy duplicate.\n\t(org-list-send-list): Remove unused var `txt'.\n\t(org-list-to-latex, org-list-to-texinfo): Mark unused arg `params'.\n\t(org-list-to-subtree): Add prefix to dyn-bind var, and declare them.\n\t* lisp/org/org-macs.el: Use `declare'.\n\t(org-with-limited-levels): Declare dyn-bound vars.\n\n2015-05-04  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix minor issues with CEDET on MS-Windows\n\t* lisp/cedet/semantic/symref/idutils.el\n\t(semantic-symref-parse-tool-output-one-line): Fix the search\n\tregexp to match MS-Windows file names with drive letters.\n\t(Bug#19468)\n\t* lisp/cedet/semantic/symref/grep.el\n\t(semantic-symref-grep-use-template): Remove \"--color=always\" from\n\tGrep switches on MS-Windows.\n\t(semantic-symref-grep-shell): Use shell-file-name as the default\n\tvalue, so this works not only on Posix platforms.\n\t(semantic-symref-perform-search): Use shell-quote-argument instead\n\tof literal '..' for portable quoting of Grep command-line\n\targument.  Use shell-command-switch instead of a literal \"-c\".\n\t* lisp/cedet/semantic/bovine/gcc.el\n\t(semantic-gcc-get-include-paths): Use file-name-absolute-p to test\n\tfor an absolute file name in a portable way.\n\n2015-05-04  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el: Remove `package--silence' variable.\n\t(package-import-keyring, package-refresh-contents)\n\t(package-compute-transaction, package--save-selected-packages)\n\t(package-install-from-archive, package-delete)\n\t(package-menu--perform-transaction): Use `inhibit-message' instead.\n\t(package--compile): Set `warning-minimum-level' to :error.\n\n2015-05-03  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/term/screen.el (xterm-screen-extra-capabilities): New custom.\n\t(terminal-init-screen): Use it (bug#20356).\n\t* lisp/term/xterm.el: Provide `term/xterm' instead of `xterm'.\n\t(xterm--extra-capabilities-type): New const.\n\t(xterm-extra-capabilities): Use it.\n\t(xterm--version-handler): Lower the pseudo-version for `screen'.\n\n2015-05-03  Dmitry Gutov  <dgutov@yandex.ru>\n\n\t* lisp/progmodes/xref.el (xref--insert-xrefs): Tweak the faces.\n\tAlways insert a newline at the end (to avoid mouse-face background\n\ttail at the last line).\n\n\telisp-completion-at-point: Prioritize being quoted over funpos\n\t* lisp/progmodes/elisp-mode.el (elisp-completion-at-point):\n\tOnly consider function position when not inside quoted form\n\t(bug#20425).\n\t* test/automated/elisp-mode-tests.el: New file.\n\n\tStop vc-print-log from jumping to the top\n\t* lisp/vc/vc.el (vc-print-log-internal): Pass nil\n\tGOTO-LOCATION-FUNC to vc-log-internal-common when WORKING-REVISION\n\tis not specified.\n\t(vc-incoming-outgoing-internal): Always pass nil.\n\t(vc-log-internal-common): When GOTO-LOCATION-FUNC is nil, don't\n\tcall it, and don't set vc-sentinel-movepoint (bug#15322).\n\t(vc-print-root-log): Don't fetch the root working revision, nor\n\tpass it to vc-print-log-internal.\n\n2015-05-02  Michael Vehrs  <Michael.Burschik@gmx.de>\n\n\tFix display of keyboard layouts for right-to-left scripts\n\t* lisp/international/quail.el (quail-insert-kbd-layout):\n\tForce left-to-right paragraph direction.\n\n2015-05-02  K. Handa  <handa@gnu.org>\n\n\t* src/cmds.c (internal_self_insert): When we insert spaces for\n\tpadding, set point before the padding spaces, not after them.\n\n2015-05-02  Nicolas Petton  <nicolas@petton.fr>\n\n\t* lisp/emacs-lisp/seq.el (seq-p): New alias to `sequencep'.\n\n2015-05-02  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tFix etags-xref-find for references\n\t* lisp/progmodes/elisp-mode.el (elisp--xref-find-references):\n\tUse `cl-mapcan'.\n\t* lisp/progmodes/etags.el (etags-xref-find): Ditto.  Prompt for\n\tdirectory if no tags tables are loaded (bug#19468).\n\n2015-05-02  Philipp Stephani  <phst@google.com>\n\n\tUpdate the options in whitespace-style defcustom\n\t* lisp/whitespace.el (whitespace-style): Use `set' instead of a\n\t`repeat' because the option is really set-like.  Add missing\n\toptions.  Reorder options to match the order in the\n\tdocumentation.  (Bug#20346)\n\n2015-05-02  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix error diagnostics of c-macro-expand\n\t* lisp/progmodes/cmacexp.el (c-macro-expansion): Don't bail out\n\ttoo early if no start-marker string was found -- that generally\n\tmeans cpp exited abnormally, and we still want to show its error\n\tmessages to the user.\n\n\tDon't require Texinfo 5.0 for Emacs documentation\n\t* doc/emacs/docstyle.texi: Use \"@set txicodequoteundirected\" and\n\t\"@set txicodequotebacktick\" instead of \"@codequotebacktick on\" and\n\t\"@codequoteundirected on\", respectively, to avoid requiring\n\tTexinfo 5.x for Emacs documentation.\n\n2015-05-01  Simen Heggest\u00f8yl  <simenheg@gmail.com>\n\n\t* lisp/files.el (pwd):\n\tWhen called with a prefix argument, insert the current default\n\tdirectory at point.\n\n2015-05-01  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/isearch.el (isearch-mode-map): Allow backspace remapping\n\t* lisp/isearch.el (isearch-mode-map): Don't inhibit\n\tfunction-key-map remapping for backspace (bug#20466).\n\n2015-05-01  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tImplement xref-find-references in etags and elisp-mode\n\t* lisp/progmodes/elisp-mode.el (elisp--xref-find-references): New function.\n\t(elisp-xref-find): Use it.\n\t* lisp/progmodes/etags.el (etags-xref-find): Use `xref-collect-references'.\n\t* lisp/progmodes/xref.el (xref-collect-references):\n\t(xref--collect-reference): New functions.\n\n2015-05-01  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPrefer plain characters to Texinfo circumlocutions\n\tFor example, prefer 'Fran\u00e7ois' to 'Fran\\c{c}ois', 'Fran\\c cois',\n\t'Fran@,{c}ois' or 'Francois' (all of which were used!) in Texinfo sources.\n\n\tFix single-quoting style in PDF manuals\n\tThe PDF versions of the GNU manuals used curved single quotes to\n\trepresent grave accent and apostrophe, which made it a pain to cut\n\tand paste code examples from them.  Fix the PDF versions to use\n\tgrave accent and apostrophe for Lisp source code, keystrokes, etc.\n\tThis change does not affect the info files, nor does it affect\n\tordinary uses of curved single quotes in PDF.\n\t* doc/emacs/docstyle.texi: New file, which specifies treatment for\n\tgrave accent and apostrophe, as well as the document encoding.\n\t* doc/emacs/emacs-xtra.texi, doc/emacs/emacs.texi:\n\t* doc/lispintro/emacs-lisp-intro.texi:\n\t* doc/lispref/back.texi, doc/lispref/book-spine.texi:\n\t* doc/lispref/elisp.texi, doc/lispref/lay-flat.texi:\n\t* doc/misc/ada-mode.texi, doc/misc/auth.texi:\n\t* doc/misc/autotype.texi, doc/misc/bovine.texi, doc/misc/calc.texi:\n\t* doc/misc/cc-mode.texi, doc/misc/cl.texi, doc/misc/dbus.texi:\n\t* doc/misc/dired-x.texi, doc/misc/ebrowse.texi, doc/misc/ede.texi:\n\t* doc/misc/ediff.texi, doc/misc/edt.texi, doc/misc/efaq-w32.texi:\n\t* doc/misc/efaq.texi, doc/misc/eieio.texi, doc/misc/emacs-gnutls.texi:\n\t* doc/misc/emacs-mime.texi, doc/misc/epa.texi, doc/misc/erc.texi:\n\t* doc/misc/ert.texi, doc/misc/eshell.texi, doc/misc/eudc.texi:\n\t* doc/misc/eww.texi, doc/misc/flymake.texi, doc/misc/forms.texi:\n\t* doc/misc/gnus-coding.texi, doc/misc/gnus-faq.texi:\n\t* doc/misc/gnus.texi, doc/misc/htmlfontify.texi:\n\t* doc/misc/idlwave.texi, doc/misc/ido.texi, doc/misc/info.texi:\n\t* doc/misc/mairix-el.texi, doc/misc/message.texi, doc/misc/mh-e.texi:\n\t* doc/misc/newsticker.texi, doc/misc/nxml-mode.texi:\n\t* doc/misc/octave-mode.texi, doc/misc/org.texi, doc/misc/pcl-cvs.texi:\n\t* doc/misc/pgg.texi, doc/misc/rcirc.texi, doc/misc/reftex.texi:\n\t* doc/misc/remember.texi, doc/misc/sasl.texi, doc/misc/sc.texi:\n\t* doc/misc/semantic.texi, doc/misc/ses.texi, doc/misc/sieve.texi:\n\t* doc/misc/smtpmail.texi, doc/misc/speedbar.texi:\n\t* doc/misc/srecode.texi, doc/misc/todo-mode.texi, doc/misc/tramp.texi:\n\t* doc/misc/url.texi, doc/misc/vhdl-mode.texi, doc/misc/vip.texi:\n\t* doc/misc/viper.texi, doc/misc/widget.texi, doc/misc/wisent.texi:\n\t* doc/misc/woman.texi:\n\tUse it instead of '@documentencoding UTF-8', to lessen the need for\n\tglobal changes like this in the future.\n\t* doc/emacs/Makefile.in (EMACS_XTRA):\n\t* doc/lispintro/Makefile.in (srcs):\n\t* doc/lispref/Makefile.in (srcs):\n\tAdd dependency on docstyle.texi.\n\t* doc/misc/Makefile.in (style): New macro.\n\t(${buildinfodir}/%.info, %.dvi, %.pdf, %.html)\n\t(${buildinfodir}/ccmode.info, ${buildinfodir}/efaq%.info, gnus_deps):\n\tUse it.\n\n2015-05-01  Glenn Morris  <rgm@gnu.org>\n\n\t* test/automated/cl-lib-tests.el (cl-lib-adjoin-test): Fix it.\n\n\t* lisp/emacs-lisp/pcase.el (get-edebug-spec, edebug-match)\n\t(help-fns--signature): Declare.\n\n\t* lisp/emacs-lisp/pcase.el (pcase--make-docstring): Require help-fns.\n\n2015-05-01  Nicolas Petton  <nicolas@petton.fr>\n\n\tNew macro seq-let, providing destructuring support to seq.el\n\t* lisp/emacs-lisp/seq.el (seq-let): New macro.  `seq-let' is similar\n\tto `cl-destructuring-bind' but works on all sequence types supported\n\tby `seq.el'.  Bump version number to 1.6.\n\t* test/automated/seq-tests.el: Add tests for seq-let.\n\t* doc/lispref/sequences.texi: Add documentation for seq-let.\n\n2015-05-01  Pontus Michael  <m.pontus@gmail.com>\n\n\t* lisp/simple.el (blink-matching-open): Better behavior in minibuffer.\n\n2015-05-01  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/emacs-lisp/ert.el (ert--special-operator-p): Fix previous.\n\n2015-05-01  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/bytecomp.el: Revert \"Silence noninteractive compilations\"\n\tThis reverts commit 9a7ddde977378cb5276a81476ae458889c403267.\n\tThis reverts commit 3c0ea587daf8b17960b90603a70e3ac4057d883d.\n\tWith message: \"* lisp/emacs-lisp/bytecomp.el: Use `inhibit-message'\".\n\t(Bug#20445).\n\n2015-05-01  K. Handa  <handa@gnu.org>\n\n\t* lisp/international/mule-cmds.el (input-method-use-echo-area):\n\tChange :type to 'boolean.\n\n2015-05-01  Lars Magne Ingebrigtsen  <larsi@gnus.org>\n\n\tStart using proportional fonts in eww by default\n\t* lisp/net/shr.el (shr-use-fonts): Switch the default to t, since\n\tit seems to work well.\n\n\tFix links in tables in shr\n\t* lisp/net/shr.el: Remove `shr-inhibit-decoration', because that\n\tmakes (some) links in tables not work.\n\n2015-05-01  Jan D  <jan.h.d@swipnet.se>\n\n\t* lisp/term/ns-win.el (ns-get-cut-buffer-internal): Remove this alias.\n\n2015-04-30  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/emacs-lisp/ert.el (ert--special-operator-p):\n\tUpdate for 2015-02-08 change to indirect-function.\n\n\t* lisp/term/ns-win.el (ns-get-selection-internal):\n\tRemove declaration for function deleted 2014-10-21.\n\n\t* lisp/dom.el: Load subr-x when compiling, for when-let.\n\n\tSilence some compilation warnings\n\t* lisp/emacs-lisp/check-declare.el (compilation-forget-errors):\n\t* lisp/emulation/cua-base.el (delete-active-region):\n\t* lisp/net/net-utils.el (w32-get-console-output-codepage):\n\t* lisp/term/ns-win.el (ns-own-selection-internal)\n\t(ns-disown-selection-internal, ns-selection-owner-p)\n\t(ns-selection-exists-p, ns-get-selection):\n\tDeclare for compiler.\n\n\tFunction declaration updates prompted by 'make check-declare'\n\t* lisp/emacs-lisp/package.el (lm-homepage):\n\t* lisp/gnus/gnus-util.el (iswitchb-read-buffer):\n\t* lisp/gnus/mm-decode.el (libxml-parse-html-region):\n\t* lisp/gnus/mml.el (libxml-parse-html-region):\n\t* lisp/gnus/nnrss.el (libxml-parse-html-region):\n\t* lisp/net/eww.el (libxml-parse-html-region):\n\t* lisp/net/shr.el (libxml-parse-html-region):\n\t* lisp/vc/vc-bzr.el (vc-annotate-convert-time):\n\t* lisp/vc/vc-cvs.el (vc-annotate-convert-time):\n\t* lisp/vc/vc-git.el (vc-annotate-convert-time):\n\t* lisp/vc/vc-hg.el (vc-annotate-convert-time):\n\t* lisp/vc/vc-mtn.el (vc-annotate-convert-time):\n\t* lisp/vc/vc-rcs.el (vc-annotate-convert-time):\n\tUpdate declaration.\n\n\tRemove compatibility code for 20-year old function renaming\n\t* lisp/progmodes/idlw-shell.el (idlwave-shell-comint-filter):\n\tMake it an obsolete alias.\n\t(idlwave-shell-filter): Change all uses to comint-output-filter.\n\n2015-04-30  Tassilo Horn  <tsdh@gnu.org>\n\n\tAdd ace-window face config\n\t* etc/themes/tsdh-light-theme.el (tsdh-light): Add ace-window face\n\tconfiguration.\n\n2015-04-30  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tUnclutter 'make doc' output a bit\n\t* Makefile.in ($(DOCS), $(INSTALL_DOC), $(UNINSTALL_DOC)):\n\tUse make subst rather than sh IFS to split target string apart.\n\tThis makes 'make' output easier to follow.\n\n\tMerge from gnulib\n\t* doc/misc/texinfo.tex: Update from gnulib.\n\n2015-04-30  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el: Some speed optimizations on menu refresh.\n\t(package-menu--print-info): Obsolete.\n\t(package-menu--print-info-simple): New function.\n\t(package-menu--refresh): Use it, simplify code, and improve\n\tperformance.\n\t* lisp/emacs-lisp/tabulated-list.el (tabulated-list-print-entry):\n\tTiny performance improvement.\n\n\t* lisp/emacs-lisp/package.el (package--message): inhibit-message.\n\n2015-04-29  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tOmit -Wstrict-overflow workaround in GCC 5\n\t* src/process.c: Remove workaround for GCC -Wstrict-overflow bug\n\tif it's GCC 5 or later, as the bug appears to be fixed in GCC 5.1.\n\n\tMerge from gnulib\n\tThis incorporates:\n\t2015-04-29 extern-inline: no need for workaround in GCC 5.1\n\t2015-04-26 file-has-acl: port to CentOS 6\n\t* m4/acl.m4, m4/extern-inline.m4: Update from gnulib.\n\n2015-04-29  Helmut Eller  <eller.helmut@gmail.com>\n\n\tSet next-error-* in xref--xref-buffer-mode\n\t* lisp/progmodes/xref.el (xref--xref-buffer-mode):\n\tSet `next-error-function' and `next-error-last-buffer'.\n\t(xref--next-error-function): New function.\n\t(https://lists.gnu.org/r/emacs-devel/2015-04/msg01311.html)\n\n2015-04-29  Fabi\u00e1n Ezequiel Gallina  <fgallina@gnu.org>\n\n\tpython.el: Fix warnings on looking-back calls missing LIMIT\n\t* lisp/progmodes/python.el (python-shell-accept-process-output):\n\tPass LIMIT arg to looking-back.\n\n2015-04-29  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el: Use pushnew for downloads in progress.\n\t(package--download-and-read-archives): Use pushnew instead of\n\tappend.  If something terrible happened during a previous\n\tdownload, simply refreshing should now make things work again.\n\n2015-04-29  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tIntroduce etags-xref-find-definitions-tag-order\n\t* lisp/progmodes/etags.el (etags-xref-find-definitions-tag-order):\n\tNew variable.\n\t(etags--xref-find-definitions): Use it (bug#19468).\n\n2015-04-29  Eli Zaretskii  <eliz@gnu.org>\n\n\tPATH- and completion-related fixes in Eshell on MS-Windows\n\t* lisp/eshell/esh-ext.el (eshell-search-path): When running on\n\tMS-Windows, prepend \".\" to list of directories produced from PATH,\n\tas Windows always implicitly searches the current directory first.\n\t(eshell-force-execution): Make it have a non-nil default value on\n\tMS-Windows and MS-DOS.\n\t* lisp/eshell/em-cmpl.el (eshell-complete-commands-list): If\n\teshell-force-execution is non-nil, complete on readable files and\n\tdirectories, not only executables.  When running on MS-Windows,\n\tprepend \".\" to list of directories produced from PATH, as Windows\n\talways implicitly searches the current directory first.\n\n2015-04-29  Sam Steingold  <sds@gnu.org>\n\n\tBury RCIRC buffers when there is no activity\n\t* lisp/net/rcirc.el (rcirc-non-irc-buffer): Remove.\n\t(rcirc-bury-buffers): New function.\n\t(rcirc-next-active-buffer): When there is no new activity, use\n\t`rcirc-bury-buffers' to hide all RCIRC buffers.\n\n2015-04-29  Krzysztof Jurewicz  <krzysztof.jurewicz@gmail.com>  (tiny change)\n\n\tFix DBUS query result parsing for secrets-search-items\n\t* lisp/net/secrets.el (secrets-search-items): Fix DBUS query result\n\tparsing.  The function assumed that return value of the\n\tSearchItems method called on a collection is a list of two lists,\n\thowever this is true only when no collection is specified.  GNOME\n\thad used to incorrectly return a list of two lists in both cases,\n\tbut this was already fixed:\n\thttps://bugzilla.gnome.org/show_bug.cgi?id=695115 .  Also fix an\n\tincorrect information in the secrets-search-items\u2019 docstring.\n\t(Bug#20449)\n\n2015-04-29  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/bytecomp.el (byte-compile--message):\n\tUse `inhibit-message' instead of hiding the previous message\n\twith (message nil).\n\n2015-04-29  Oleh Krehel  <ohwoeowho@gmail.com>\n\n\tRemove the deprecated INTERNAL_FIELD macro by expanding it\n\t* src/lisp.h (INTERNAL_FIELD): Remove.\n\t(DEFVAR_KBOARD): Modify accordingly.\n\t* src/alloc.c, src/buffer.c, src/buffer.h, src/category.c:\n\t* src/keyboard.c, src/keyboard.h, src/syntax.c: Adjust users.\n\t* src/buffer.c (compact_buffer): Use BVAR.\n\n2015-04-29  Glenn Morris  <rgm@gnu.org>\n\n\tReplace an obsolete function alias\n\t* lisp/isearch.el (isearch-yank-x-selection):\n\t* lisp/mouse-copy.el (mouse-drag-secondary-pasting)\n\t(mouse-drag-secondary-moving):\n\t* lisp/obsolete/mouse-sel.el (mouse-sel-get-selection-function):\n\tReplace obsolete alias x-get-selection with gui-get-selection.\n\n2015-04-29  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/mail/rmailsum.el: Use lexical-binding.\n\n2015-04-29  Glenn Morris  <rgm@gnu.org>\n\n\t* test/automated/package-test.el (package-test-update-archives-async):\n\tSkip test on hydra.nixos.org.\n\n2015-04-28  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/foldout.el: Update for 2015-01-30 outline.el changes.\n\t(foldout-zoom-subtree, foldout-exit-fold, foldout-mouse-show)\n\t(foldout-mouse-hide-or-exit): Use new names for outline functions.\n\n\t* lisp/cedet/semantic/bovine/c.el (semantic-c-do-lex-if):\n\tUpdate for 2014-06-26 hideif.el change.\n\n\t* lisp/mail/rmailsum.el: Fix search for encoded subjects.  (Bug#19088)\n\t(rmail--decode-and-apply): New function.\n\t(rmail-message-regexp-p-1, rmail-message-subject-p): Use it.\n\n\t* lisp/mail/rmail.el (rmail-highlighted-headers): Fix :type.\n\n2015-04-28  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el: Fix priority-hiding corner case\n\t(package-menu--refresh): Delegate obsolete-hiding to\n\t`package--remove-hidden'.\n\t(package--remove-hidden): Disregard high-priority package if it is\n\tolder than the installed one.\n\n2015-04-28  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tUpdate source file encoding list\n\tUpdate admin/notes/unicode, along with coding system cookies in\n\tother files, so that the two match each other better.\n\t* admin/notes/unicode: lisp/language/ethio-util.el and\n\tlisp/language/ethiopic.el also use utf-8-emacs.\n\t* admin/notes/hydra, doc/misc/dbus.texi, doc/misc/org.texi:\n\t* doc/misc/remember.texi, etc/refcards/cs-dired-ref.tex:\n\t* etc/refcards/cs-refcard.tex, etc/refcards/cs-survival.tex:\n\t* etc/refcards/sk-dired-ref.tex, etc/refcards/sk-refcard.tex:\n\t* etc/refcards/sk-survival.tex:\n\tAdd \"coding: utf-8\" so that this file is not mishandled in a\n\tLatin-1 or Big-5 locale.\n\t* lisp/international/robin.el, lisp/org/ox-ascii.el:\n\tSpecify utf-8, not utf-8-emacs, as these are plain UTF-8 files.\n\t* lisp/language/ethio-util.el: Fix trailer.\n\n2015-04-28  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix synchronous invocation of Ispell\n\t* lisp/textmodes/ispell.el (ispell-init-process): Assign a non-nil\n\tvalue to ispell-process-directory before calling ispell-init-process.\n\tDon't call set-process-coding-system if ispell-async-processp is nil.\n\t(Bug#20448)\n\n2015-04-28  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el: Skip space and comments in init file\n\t(package--ensure-init-file): Insert snippet at first\n\tnon-whitespace non-comments line.  Respects local-vars at the top\n\tof the file.\n\n2015-04-28  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/mail/rmail.el (rmail-copy-headers):\n\tHandle rmail-nonignored-headers being nil.  (Bug#18878)\n\n\t* lisp/subr.el (delay-mode-hooks): Fix doc typo.\n\n\t* lisp/vc/vc-bzr.el (vc-bzr-after-dir-status):\n\tDon't get confused by a bzrlib version mismatch warning.\n\n2015-04-27  Thomas Fitzsimmons  <fitzsim@fitzsim.org>\n\n\tChange default location of EUDC options file\n\t* etc/NEWS: Document change to EUDC options file's default location.\n\t* lisp/net/eudc-vars.el (eudc-options-file): Use\n\t`locate-user-emacs-file' to change default options file location.\n\n2015-04-27  Glenn Morris  <rgm@gnu.org>\n\n\t* test/automated/package-test.el (package-test-update-archives-async):\n\tTry to handle the test server script dying.\n\n2015-04-27  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/saveplace.el (save-place-mode): New minor mode.\n\t(save-place): Redefine as an obsolete alias.\n\n\t* lisp/midnight.el: Make it a minor mode.  Allow predicates.\n\t* lisp/midnight.el: Use lexical-binding.\n\t(midnight-mode): Make it a proper minor mode.\n\t(midnight-buffer-display-time): Make arg non-optional.\n\t(midnight-find): Remove.\n\t(clean-buffer-list-kill-never-regexps)\n\t(clean-buffer-list-kill-regexps): Tweak type for new function choice.\n\t(clean-buffer-list-delay): Allow clean-buffer-list-kill-regexps to\n\tcontain functions.\n\t(clean-buffer-list): Use cl-find.\n\tAllow clean-buffer-list-kill-never-regexps to contain functions.\n\n2015-04-27  Nicolas Petton  <nicolas@petton.fr>\n\n\tBump version of seq.el to 1.5\n\t* lisp/emacs-lisp/seq.el (seq-doseq): Remove undocumented return value\n\tfrom seq-doseq.  Bump version number of seq.el.\n\n2015-04-27  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/mail/rmail.el (rmail-reply):\n\tDecode subject before matching \"Re:\" prefix.  (Bug#20396)\n\n2015-04-27  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el: Small improvements\n\t(package--with-work-buffer-async): More informative error.\n\t(package-install-user-selected-packages): Rename to\n\t`package-install-selected-packages'.\n\n2015-04-27  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/eieio-core.el (eieio-defclass-internal): Fix last\n\t* lisp/emacs-lisp/eieio-core.el (eieio-defclass-internal): Fix last change.\n\t(eieio--class-make): Remove leftover `tag'.\n\n2015-04-27  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/gnus/message.el (gnus-extract-address-components):\n\tRemove bogus declaration that was masking previous problem.\n\n2015-04-27  Nicolas Graner  <nicolas.graner@u-psud.fr>  (tiny change)\n\n\t* lisp/gnus/message.el (message-insert-formatted-citation-line):\n\tFix typo.  (Bug#20318)\n\n2015-04-27  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/eieio-core.el (eieio-defclass-internal): Reuse oldc.\n\n\t* lisp/textmodes/reftex-toc.el: Improve multi-frame behavior\n\t* lisp/textmodes/reftex-toc.el (reftex-toc-revert): Avoid displaying\n\tthe buffer in yet another frame.\n\t(reftex-toc-visit-location): Make sure toc-window has focus at the end\n\twhen `final' is nil.\n\t(reftex--rebuilding-toc): Defvar to avoid `boundp' and\n\tsilence warnings.  Use `--' to clarify that it's internal.\n\t(reftex-toc-next, reftex-toc-previous, reftex-toc-demote)\n\t(reftex-toc-promote): Clarify unused argument.\n\t(reftex--pro-or-de, reftex--start-line, reftex--mark-line):\n\tAdd `reftex--' prefix.  Fix all users.\n\t(reftex-toc-promote-prepare): Use _ for dummy variable.\n\t(reftex-toc-restore-region): Rename `m.\n\n2015-04-27  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix a typo in bibtex.el\n\t* lisp/textmodes/bibtex.el (bibtex-insert-kill): Fix a typo from\n\tlast change.  (Bug#20429)\n\n\tFix redisplay of frame after loading new fonts\n\t* src/xdisp.c (redisplay_internal): When retrying redisplay of\n\ta frame because new fonts were loaded, disable all redisplay\n\toptimizations on that frame by calling SET_FRAME_GARBAGED.\n\t(Bug#20410)\n\n2015-04-27  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/info.el (Info-menu): Properly provide the `default'\n\t(Bug#20391)\n\n\t* lisp/progmodes/elisp-mode.el (elisp--get-fnsym-args-string):\n\tCatch errors from documentation (bug#20418).\n\t(emacs-lisp-mode-abbrev-table): Remove redundant defvar.\n\n2015-04-26  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/package.el: Move variables to silence byte-compiler.\n\tRemove redundant \":group 'package\".\n\n2015-04-26  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix a typo in rmail.el\n\t* lisp/mail/rmail.el (rmail-ensure-blank-line): Fix a typo in the\n\tlast commit.  (Bug#20429)\n\n2015-04-26  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tIntroduce xref-prompt-for-identifier\n\t* lisp/progmodes/xref.el (xref-prompt-for-identifier): New option.\n\t(xref--read-identifier): Use it\n\t(https://lists.gnu.org/r/emacs-devel/2015-04/msg01205.html).\n\n2015-04-26  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\t`tex-insert-quote' after single `'' opens quotes instead of closing\n\tWithout this, it's very hard to precede double quotes with the\n\tapostrophe character, i.e. insert the sequence '``\n\t(quote-backquote-backquote), commonly useful in portuguese, for\n\tinstance.\n\t* lisp/textmodes/tex-mode.el (tex-insert-quote): Add ?' to the list of\n\tpreceding chars making `tex-insert-quote' be in the \"opening\" context.\n\n2015-04-25  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tPass `id' to `completing-read' as def instead of initial input\n\t* lisp/progmodes/xref.el (xref--read-identifier): Pass `id' to\n\t`completing-read' as the default value instead of initial input\n\t(https://lists.gnu.org/r/emacs-devel/2015-04/msg01182.html).\n\n2015-04-25  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDon't freeze with unreadable processes\n\tDon't freeze if an exiting process can't be read from.  (Bug#19860).\n\tThis fixes a bug I introduced in\n\t2014-07-08T07:24:07Z@eggert@cs.ucla.edu\n\t\"* process.c: Add sanity checks for file descriptors.\"\n\tDmitry Gutov did most of the legwork in finding the problem.\n\t* src/process.c (wait_reading_process_output):\n\tTreat non-running processes that can't be read from\n\tthe same as other non-running processes.\n\n2015-04-25  Alan Mackenzie  <acm@muc.de>\n\n\tFix change from 2015-04-22 \"On C-y, stop some text property entries ...\"\n\t* lisp/subr.el (remove-yank-excluded-properties): Put\n\t`with-silent-modifications' around only the last three lines of code.\n\n2015-04-25  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el (package-all-keywords): Don't cache\n\t(package--all-keywords): Deleted variable.\n\n\t* etc/NEWS: Document package-hiding functionality.\n\n2015-04-25  Eli Zaretskii  <eliz@gnu.org>\n\n\t* lisp/window.el (recenter-last-op): Doc fix.  (Bug#20419)\n\n\tClarify the doc string of 'replace-regexp-in-string'\n\t* lisp/subr.el (replace-regexp-in-string): Doc fix.  (Bug#20395)\n\n\tImprove doc string of 'insert-buffer-substring'\n\t* src/editfns.c (Finsert_buffer_substring): Doc fix.  (Bug#20421)\n\n\tMS-Windows followup for the recent gnulib update\n\t* nt/gnulib.mk (libgnu_a_SOURCES): Replace file-has-acl.c with\n\tacl-internal.c.\n\n2015-04-24  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSpelling fixes\n\n\tMerge from gnulib\n\tThis incorporates:\n\t2015-04-24 file-has-acl: new module, split from acl\n\t2015-04-24 manywarnings: add GCC 5.1 warnings\n\t2015-04-21 lstat: fix cross-compilation 'ln -s' problem\n\t2015-04-15 qacl: Simplify HP-UX acl_nontrivial check\n\t2015-04-15 acl: On Linux, check for acls without libacl\n\t2015-04-14 tempname: avoid unused parameter warnings (trivial)\n\t* lib/acl-internal.c: New file, from gnulib.\n\t* lib/file-has-acl.c: Remove; no longer imported from gnulib.\n\t* lib/acl-internal.h, lib/gnulib.mk, lib/qcopy-acl.c, lib/tempname.c:\n\t* m4/acl.m4, m4/gnulib-comp.m4, m4/lstat.m4, m4/manywarnings.m4:\n\tUpdate from gnulib.\n\n\tPort --enable-gcc-warnings to GCC 5.1 x86-64\n\t* lib-src/ebrowse.c (dump_sym):\n\t* lib-src/hexl.c (main):\n\t* src/ccl.c (ccl_driver):\n\t* src/character.c (string_escape_byte8):\n\t* src/dbusbind.c (xd_retrieve_arg, xd_add_watch):\n\t* src/gnutls.c (Fgnutls_boot):\n\t* src/gtkutil.c (xg_check_special_colors):\n\t* src/image.c (x_build_heuristic_mask):\n\t* src/print.c (safe_debug_print, print_object):\n\t* src/term.c (produce_glyphless_glyph):\n\t* src/xdisp.c (get_next_display_element)\n\t(produce_glyphless_glyph):\n\t* src/xterm.c (x_draw_glyphless_glyph_string_foreground):\n\tDon't use a signed format to print an unsigned integer, or vice\n\tversa.  GCC 5.1's new -Wformat-signedness option warns about this.\n\t* src/image.c (png_load_body, jpeg_load_body):\n\tSilence a bogus setjump diagnostic from GCC 5.1 (GCC bug 54561).\n\n2015-04-24  Tassilo Horn  <tsdh@gnu.org>\n\n\tAdd new faces to tsdh-light-theme\n\t* etc/themes/tsdh-light-theme.el (tsdh-light): New face\n\tdefinitions for Info-quoted, ace-jump-face-foreground,\n\thl-paren-face, show-paren-match, and show-paren-mismatch.\n\n2015-04-24  Nicolas Petton  <nicolas@petton.fr>\n\n\t* lisp/emacs-lisp/seq.el (seq-doseq): Fix the macro.\n\n2015-04-24  Glenn Morris  <rgm@gnu.org>\n\n\t* build-aux/gitlog-to-emacslog:\n\tUse raw log format rather than wrapped one.\n\n2015-04-24  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/seq.el (seq-doseq): Tighten the code.\n\t(seq-doseq): Fix out-of-scope binding.\n\tDon't call `seq-length at every iteration.\n\tReduce `if's from 3 to 2 per iteration.\n\t(emacs-lisp-mode-hook): Don't tweak in Emacs\u226525.\n\n2015-04-24  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/textmodes/text-mode.el (text-mode-hook):\n\tMove text-mode-hook-identify to default.\n\n\t* lisp/mouse.el (minor-mode-menu-from-indicator):\n\tHandle non-function members of minor-mode-map-alist.  (Bug#20201)\n\n\t* lisp/help-fns.el (describe-function): More type checking.\n\t(describe-function-1): Handle changed symbol-function.  (Bug#20201)\n\n\t* build-aux/gitlog-to-emacslog: Convert \"Fixes:\" to \"(Bug#)\".\n\t(Bug#20325)\n\n2015-04-24  Andreas Schwab  <schwab@linux-m68k.org>\n\n\tshr: strip leading whitespace when expanding URLs\n\t* lisp/net/shr.el (shr-expand-url): Strip leading whitespace from URL.\n\n2015-04-24  Eli Zaretskii  <eliz@gnu.org>\n\n\tClarify \"co-authored\" some more\n\n\t* CONTRIBUTE: Clarify \"co-authored-by\".  (Bug#20400)\n\n\tClarify doc strings of functions that search for properties\n\t* src/textprop.c (Fnext_char_property_change)\n\t(Fprevious_char_property_change)\n\t(Fnext_single_char_property_change)\n\t(Fprevious_single_char_property_change, Fnext_property_change)\n\t(Fnext_single_property_change, Fprevious_property_change)\n\t(Fprevious_single_property_change): Clarify doc strings wrt return\n\tvalue and the optional LIMIT argument.  (Bug#20411)\n\n2015-04-24  Glenn Morris  <rgm@gnu.org>\n\n\t* test/automated/message-mode-tests.el (message-mode-propertize):\n\tHandle non-writable HOME; eg on hydra.nixos.org.\n\n2015-04-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid starting threads by w32-shell-execute\n\t* src/w32fns.c (Fw32_shell_execute): Convert \"file:///\" URLs into\n\tlocal file names, before invoking ShellExecute.  (Bug#20220)\n\n2015-04-23  Martin Rudalics  <rudalics@gmx.at>\n\n\tFix following doc-links in `widget-documentation-link-action'\n\t* lisp/wid-edit.el (widget-documentation-link-action): Make\n\tfollowing doc-links less simplistic (Bug#20398).\n\n2015-04-22  Thomas Fitzsimmons  <fitzsim@fitzsim.org>\n\n\tImprove EUDC manual\n\t* doc/misc/eudc.texi (Troubleshooting):\n\tNew LDAP troubleshooting subsection.\n\n2015-04-22  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tOmit needless \"\\ \" after multibyte then newline\n\t* src/print.c: Include <c-ctype.h>, for c_isxdigit.\n\t(print_object): When print-escape-multibyte is non-nil and a\n\tmultibyte character is followed by a newline or formfeed, followed\n\tby a hex digit, don't output a needless \"\\ \" before the hex digit.\n\t* test/automated/print-tests.el (print-hex-backslash): New test.\n\n2015-04-22  Oleh Krehel  <ohwoeowho@gmail.com>\n\n\tAdd a new `inhibit-message' variable\n\t* src/xdisp.c (syms_of_xdisp): Define a boolean `inhibit_message'.\n\t(message3): Don't call `message3_nolog' (i.e. use the Echo Area) when\n\t`inhibit_message' is non-zero.\n\t* etc/NEWS: Add an entry.\n\t* doc/lispref/display.texi: Add an entry for `inhibit-message',\n\tmention it in `message'.\n\n2015-04-22  Martin Rudalics  <rudalics@gmx.at>\n\n\tFix last fix in `display-buffer-record-window'.\n\t* lisp/window.el (display-buffer-record-window): Fix last fix.\n\n2015-04-22  Eli Zaretskii  <eliz@gnu.org>\n\n\tMinor edits in CONTRIBUTE\n\t* CONTRIBUTE: Rearrange instructions about log messages.\n\tUse \"Git\" capitalized all over.\n\tUse 2 spaces between sentences.\n\n2015-04-22  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/files.el (basic-save-buffer): Fix argument.\n\n\t* lisp/cus-edit.el (custom-file): Consider init-file-had-error.\n\tIn case `(and (null custom-file) init-file-had-error)' do the same\n\tthing we'd do if `(null user-init-file)', which is to either error out\n\tor return nil.  This is in line with `custom-save-all' which would\n\tthrow an error in that situation.  (Bug#20355)\n\n\t* lisp/emacs-lisp/package.el: Hide lower-priority packages in menu.\n\t(package-menu-hide-low-priority): New variable, see its doc.\n\t(package-archive-priorities): Update doc.\n\t(package-desc-priority): New function.\n\t(package-desc-priority-version): Use it.\n\t(package--remove-hidden): New function.\n\t(package-menu--refresh): Use it.\n\n\t* lisp/emacs-lisp/package.el: Implement displaying obsolete packages.\n\t(package-menu--hide-obsolete): New variable.\n\t(package--remove-hidden): Use it.\n\t(package-menu-hide-obsolete): New interactive function to toggle\n\tthe variable.\n\t(package--quick-help-keys): Document it.\n\t(package-menu-async): Add :version tag.\n\t(package-menu-mode-map): Bind package-menu-hide-obsolete.\n\t(package-desc-status): Indicate non-installed obsolete packages as\n\tavail-obso.\n\t(package-menu-mark-install): Allow installation of avail-obso.\n\t(package-menu--status-predicate): Sort avail-obso with available.\n\n2015-04-22  Alan Mackenzie  <acm@muc.de>\n\n\tOn C-y, stop some text property entries being written into buffer-undo-list\n\t* lisp/subr.el (remove-yank-excluded-properties): Enclose the code in\n\t`with-silent-modifications'.\n\n2015-04-22  Martin Rudalics  <rudalics@gmx.at>\n\n\tIn display-buffer-record-window record selected window if necessary\n\t* lisp/window.el (display-buffer-record-window): Store selected window\n\tif it differs from 3rd element of 'quit-restore' parameter (Bug#20353).\n\n2015-04-22  Tassilo Horn  <tsdh@gnu.org>\n\n\tFix reftex-citation bug\n\t* lisp/textmodes/reftex-cite.el (reftex-extract-bib-entries):\n\tFix `wrong-type-argument stringp nil' error that occurs when AUCTeX\n\tintegration is enabled and there are no citations in the document\n\tso far.\n\n2015-04-21  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tAdd or reset based on the presence of MERGE_HEAD\n\t* lisp/vc/vc-git.el (vc-git-find-file-hook): Add\n\t`vc-git-resolve-when-done' to `after-save-hook' in either case.\n\t(vc-git-conflicted-files): Add a TODO.\n\t(vc-git-resolve-when-done): Depending on the presence of\n\tMERGE_HEAD, either update the resolved file in the index, or\n\tremove it from there.  (Bug#20292)\n\n2015-04-21  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/custom.el (custom-declare-group): No need to purecopy\n\tcustom-current-group-alist members following recent change to set\n\tit to nil before dumping.\n\n\t* build-aux/gitlog-to-emacslog: Get footer from ChangeLog.2.\n\t(Bug#20399)\n\n2015-04-21  Daniel Colascione  <dancol@dancol.org>\n\n\tUnbreak no-op buffer save message\n\t* lisp/files.el (basic-save-buffer): Accept called-interactively as\n\tan argument instead of directly invoking called-interactively-p,\n\twhich will always yield nil in that context.\n\n2015-04-21  Alan Mackenzie  <acm@muc.de>\n\n\tCC Mode: Do nothing in before/after-change-functions for text\n\tproperty changes\n\tFixes bug#20266.\n\t* lisp/progmodes/cc-mode.el (c-basic-common-init): Make\n\tyank-handled-properties buffer local, and remove 'category from it.\n\t(c-called-from-text-property-change-p): New function.\n\t(c-before-change): Don't do anything if a call of the new function\n\treturns non-nil.\n\t(c-after-change): Don't do much if a call of the new function returns\n\tnon-nil.\n\t(c-extend-after-change-region): Put changes to text property 'fontified\n\tinside c-save-buffer-state.\n\n2015-04-20  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tFix byte-compiler warnings about looking-back\n\t* lisp/vc/log-view.el (log-view-end-of-defun-1):\n\t* lisp/textmodes/tex-mode.el (latex-forward-sexp-1):\n\t* lisp/textmodes/reftex-ref.el (reftex-goto-label):\n\t* lisp/textmodes/bibtex.el (bibtex-insert-kill):\n\t* lisp/progmodes/sh-script.el (sh--maybe-here-document):\n\t* lisp/progmodes/ruby-mode.el (ruby-end-of-defun):\n\t* lisp/progmodes/ada-mode.el (ada-in-numeric-literal-p):\n\t* lisp/org/org.el (org-insert-heading, org-sort-entries):\n\t* lisp/org/org-mouse.el (org-mouse-end-headline)\n\t(org-mouse-context-menu):\n\t* lisp/org/org-clock.el (org-clock-cancel):\n\t* lisp/man.el (Man-default-man-entry):\n\t* lisp/mail/rmail.el (rmail-get-new-mail, rmail-insert-inbox-text)\n\t(rmail-ensure-blank-line):\n\t* lisp/mail/footnote.el (Footnote-delete-footnote):\n\t* lisp/mail/emacsbug.el (report-emacs-bug):\n\t* lisp/info.el (Info-follow-reference, Info-fontify-node):\n\t* lisp/info-look.el (info-lookup-guess-custom-symbol):\n\t* lisp/help-fns.el (help-fns--key-bindings):\n\t* lisp/files.el (hack-local-variables):\n\t* lisp/emulation/viper-ex.el (viper-get-ex-token, ex-cmd-complete)\n\t(viper-get-ex-pat, ex-expand-filsyms, viper-get-ex-file)\n\t(viper-complete-filename-or-exit):\n\t* lisp/emulation/viper-cmd.el (viper-backward-indent):\n\t* lisp/emacs-lisp/lisp-mode.el (calculate-lisp-indent):\n\t* lisp/emacs-lisp/elint.el (elint-get-top-forms):\n\t* lisp/cus-edit.el (custom-face-edit-value-create):\n\t* lisp/calendar/todo-mode.el (todo-set-item-priority)\n\t(todo-filter-items-1, todo-convert-legacy-files)\n\t(todo-prefix-overlays): Add explicit second arg to looking-back.\n\n2015-04-20  Glenn Morris  <rgm@gnu.org>\n\n\tAvoid non-nil current-load-list at startup\n\t* src/process.c (init_process_emacs): Move Fprovide statement...\n\t(syms_of_process): ... to here.\n\n\t* lisp/loadup.el (custom-current-group-alist): Reset before dumping.\n\n\t* lisp/startup.el (command-line) <site-run-file>: Avoid rogue value\n\tin emacs -Q.\n\n2015-04-20  Ludovic Court\u00e8s  <ludo@gnu.org>\n\n\t* lisp/loadup.el (exec-path): Avoid storing build-time PATH in binary.\n\t(Bug#20330)\n\n2015-04-20  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/cus-start.el (exec-path): Set standard value, to avoid rogue.\n\n\tTweak exec-path in uninstalled case\n\t* src/callproc.c (init_callproc): If running uninstalled, do not\n\tinclude eventual installation libexec directory in exec-path.\n\n2015-04-20  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el: Filter by multiple keywords and\n\tcache keywords.\n\t(package-menu-filter): Accept a list of keywords.\n\t(package--all-keywords): New variable to cache known keywords.\n\t(package-all-keywords): Populate it if necessary.\n\t(package-refresh-contents): Reset it.\n\n\t* lisp/emacs-lisp/package.el: Make archive and status pseudo-keywords\n\t(package--has-keyword-p): Understand \"arc:xxxx\" and \"status:xxxx\"\n\tas special keywords which match agains package archive and status\n\trespectively.\n\t* etc/NEWS: Document it.\n\n2015-04-20  Eli Zaretskii  <eliz@gnu.org>\n\n\tDescribe and index \"empty overlays\".\n\t* doc/lispref/display.texi (Overlays): Improve indexing.\n\t(Managing Overlays): Describe \"empty\" overlays.\n\t(Overlay Properties, Finding Overlays): Add cross-reference to\n\twhere empty overlays are described.\n\n2015-04-19  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSpelling fixes\n\n\tQuote 'like this' in top-level files\n\t* CONTRIBUTE, INSTALL, Makefile.in, README, configure.ac, make-dist:\n\tPrefer to single-quote 'like this' (instead of the older style\n\t`like this').\n\t* configure.ac: Fix some space-before-tab problems that 'git commit'\n\tcomplained about.\n\n\tUse bool for boolean in textprop.c, undo.c\n\t* src/textprop.c (soft, hard): Now constants instead of macros.\n\t(validate_plist): Rewrite to avoid need for boolean local.\n\t(interval_has_all_properties, interval_has_some_properties)\n\t(interval_has_some_properties_list, add_properties)\n\t(remove_properties, get_char_property_and_overlay)\n\t(Fnext_single_char_property_change)\n\t(Fprevious_single_char_property_change, add_text_properties_1)\n\t(Fremove_text_properties, Fremove_list_of_text_properties)\n\t(copy_text_properties):\n\t* src/tparam.c (tparam1):\n\t* src/undo.c (record_change, record_property_change)\n\t(syms_of_undo):\n\tUse 'true' and 'false' for booleans.\n\n2015-04-19  Dmitry Gutov  <dgutov@yandex.ru>\n\n\t* lisp/vc/vc-git.el (vc-git-find-file-hook):\n\tCall `smerge-start-session' even when dealing with a stash\n\tconflict (bug#20292).\n\n2015-04-19  Vibhav Pant  <vibhavp@gmail.com>\n\n\tAdd option to eshell/clear to clear scrollback.\n\t* lisp/eshell/esh-mode.el (eshell/clear-scrollback): New function.\n\t(eshell/clear): Add an optional SCROLLBACK argument.  If non-nil,\n\tscrollback contents are cleared.\n\t* etc/NEWS: Describe change.\n\t* doc/misc/eshell.texi: Add entry for `clear'.\n\n2015-04-19  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* src/widget.c (set_frame_size): Prefer 'int' to 'unsigned'\n\twhere either will do.\n\n2015-04-19  Steve Purcell  <steve@sanityinc.com>\n\n\tAssume package archive-contents are UTF8-encoded\n\t* lisp/emacs-lisp/package.el (package--read-archive-file):\n\tSet `coding-system-for-read' explicitly to 'utf-8 when reading the\n\tdownloaded and cached archive-contents files, so that non-ASCII\n\tcharacters in package descriptions are displayed correctly in the\n\t`list-packages' menu.  (Bug#20231)\n\n2015-04-19  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tAbort when looking at stashed changes\n\t* lisp/vc/vc-git.el (vc-git-find-file-hook): Abort when looking at\n\tstashed changes (bug#20292).\n\n2015-04-19  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRefactor low-level printing for simplicity\n\t* src/print.c (PRINTDECLARE): Remove.  Move its contents into\n\tPRINTPREPARE; doable now that we assume C99.  All callers changed.\n\t(PRINTCHAR): Remove, as it adds more mystery than clarity.\n\tAll callers changed.\n\t(strout): Assume that caller computes length.  All callers changed.\n\t(print_c_string): New function.\n\t(write_string, write_string_1): Compute length instead of asking\n\tthe caller to compute it.  All callers changed.\n\t(write_string): Simplify by using write_string_1.\n\t(write_string_1): Simplify by using print_c_string.\n\t(Fterpri): Compute default val more clearly.\n\t(Fprin1_to_string, print_object):\n\tAssume C99 to avoid unnecessary nesting.\n\t(print_object): Prefer print_c_string to multiple printchar, or\n\tto calling strout with -1 length.  Coalesce into sprintf when\n\tthis is easy.\n\n2015-04-18  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPrefer \"Bug#1234\" in commit messages (Bug#20325)\n\t* .dir-locals.el (log-edit-mode): Don't rewrite Bug#,\n\tas this isn't useful for Git.\n\t* CONTRIBUTE: Suggest \"Bug#1234\" instead of \"Fixes: debbugs:1234\".\n\n2015-04-18  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/files.el (auto-mode-alist): Use conf mode for gitconfig, hgrc.\n\t(Bug#19506)\n\n2015-04-18  Tom Willemse  <tom@ryuslash.org>  (tiny change)\n\n\t* lisp/elec-pair.el (electric-pair-post-self-insert-function):\n\tDo not use `chomp' as a function.  (Bug#19505)\n\n2015-04-18  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/net/browse-url.el (browse-url, browse-url-at-point): Doc fixes.\n\n\t* doc/emacs/misc.texi (Sorting): Small edit.\n\t(Bug#19896)\n\n\t* admin/admin.el (make-manuals): Add emacs-xtra in pdf and ps.\n\n2015-04-18  Simen Heggest\u00f8yl  <simenheg@gmail.com>\n\n\tcss-mode.el: Support multi-line comment filling\n\t(Bug#20256)\n\t* lisp/textmodes/css-mode.el (css-fill-paragraph): Support multi-line\n\tcomment filling.\n\t(css-adaptive-fill): New function.\n\t(css-mode): Set `adaptive-fill-function'.\n\t(scss-mode): Set `comment-continue'.\n\n2015-04-18  Nicolas Petton  <nicolas@petton.fr>\n\n\t* lisp/emacs-lisp/seq.el (seq-concatenate, seq-into):\n\tBetter error messages.\n\n2015-04-18  Ivan Radanov Ivanov  <ivanradanov@yahoo.co.uk>  (tiny change)\n\n\tMinor improvements in Bulgarian input methods\n\t* lisp/leim/quail/cyrillic.el (bulgarian-phonetic, bulgarian-bds):\n\tReplace U+042C with U+045D, as the former character is not used in\n\tthe modern Bulgarian language.\n\t(Bug#20350)\n\n2015-04-17  Thomas Fitzsimmons  <fitzsim@fitzsim.org>\n\n\tImprove EUDC manual\n\t* doc/misc/eudc.texi (LDAP Configuration): Mention simple and SASL\n\tauthentication schemes.  Add index items.  Shorten example server\n\tname.\n\n2015-04-17  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tDon't show both feature and function with the same name\n\t* lisp/progmodes/elisp-mode.el (elisp--xref-identifier-location):\n\tDon't show both feature and function with the same name.\n\n\t(elisp--xref-identifier-location): Skip variable, if it's also\n\ta function\n\t* lisp/progmodes/elisp-mode.el (elisp--xref-identifier-location):\n\tAvoid returning both the variable and the function for the same\n\tminor mode.\n\n2015-04-17  Wolfgang Jenkner  <wjenkner@inode.at>\n\n\tFix fontification of keywords clobbered by the prompt\n\t* lisp/comint.el (comint-output-filter): Remove the uses of\n\twith-silent-modifications I introduced as part of the last change.\n\tThis fixes, e.g., erratically missing highlighting when running\n\t./configure --help; ./configure in a shell-mode buffer with\n\tcompilation-shell-minor-mode turned on.\n\n2015-04-17  Glenn Morris  <rgm@gnu.org>\n\n\t* admin/authors.el (authors-valid-file-names)\n\t(authors-renamed-files-alist): Additions.\n\n2015-04-17  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/indent.el (indent-region): Don't deactivate the mark.\n\t(Bug#20357)\n\n2015-04-17  Sam Steingold  <sds@gnu.org>\n\n\t* lisp/net/rcirc.el (defun-rcirc-command): Mark `target' as ignorable.\n\n2015-04-16  Leo Liu  <sdl.web@gmail.com>\n\n\t* lisp/progmodes/xref.el (xref-push-marker-stack): Add optional arg.\n\n2015-04-16  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/erc/erc-pcomplete.el (erc-pcomplete):\n\tDon't use `pcomplete' any more.\n\n2015-04-16  Glenn Morris  <rgm@gnu.org>\n\n\t* admin/authors.el (authors-lax-changelogs): Update for erc changes.\n\n2015-04-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tDon't link with -ljpeg on MS-Windows, to avoid dependency on DLL\n\t* configure.ac (LIBJPEG): Leave it empty for MinGW.\n\n2015-04-16  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/replace.el (query-replace-from-to-separator):\n\tDelay initialization to avoid rogue setting after startup.\n\n2015-04-16  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPre-4.6 GCC succeeds with unknown option\n\t* configure.ac (emacs_cv_prog_cc_nopie): Port to pre-4.6 GCC.\n\t(Bug#20338)\n\n2015-04-15  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t'[:graph:]' now excludes whitespace, not just ' '\n\t* doc/lispref/searching.texi (Char Classes):\n\t* lisp/emacs-lisp/rx.el (rx): Document [:graph:] to be [:print:]\n\tsans whitespace (not sans space).\n\t* src/character.c (graphicp): Exclude all Unicode whitespace chars,\n\tnot just space.\n\t* src/regex.c (ISGRAPH): Exclude U+00A0 (NO-BREAK SPACE).\n\n2015-04-15  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/subr.el (substitute-key-definition-key, special-form-p)\n\t(macrop): Drop deprecated second arg to indirect-function.\n\t(looking-back): Make the second arg non-optional.\n\n\t* lisp/org/org-clock.el (org-x11idle-exists-p): Be honest about which\n\tcommand is actually sent to the shell.\n\n2015-04-15  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort jpeg configuration to Solaris 10 with Sun C\n\t* configure.ac: Check for jpeglib 6b by trying to link it, instead\n\tof relying on cpp magic that has problems in practice.  Check for\n\tboth jpeglib.h and jerror.h features.  Remove special case for\n\tmingw32, which should no longer be needed (and if it were needed,\n\tshould now be addressable by hotwiring emacs_cv_jpeglib).\n\t(Bug#20332)\n\n2015-04-15  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tMove some Elisp-specific code from lisp-mode.el to elisp-mode.el\n\t* lisp/emacs-lisp/lisp-mode.el (lisp--el-font-lock-flush-elisp-buffers):\n\tMove to elisp-mode.el.\n\t(lisp-mode-variables): (Re)move elisp-specific settings.\n\t* lisp/progmodes/elisp-mode.el (emacs-lisp-mode): Add settings removed\n\tfrom lisp-mode-variables.\n\t(elisp--font-lock-flush-elisp-buffers): New function, moved from\n\tlisp-mode.el.\n\n\t* lisp/emacs-lisp/lisp-mode.el (lisp--el-non-funcall-position-p):\n\tAvoid pathological slowdown at top-level in large file.\n\n2015-04-15  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tStandardize names of ChangeLog history files\n\tSuggested by Glenn Morris in:\n\thttps://lists.gnu.org/r/emacs-devel/2015-04/msg00678.html\n\t* Makefile.in (install-man): Don't treat ChangeLog.1 as a man page.\n\t* doc/man/ChangeLog.1: Rename back from doc/man/ChangeLog.01.\n\t* lisp/erc/ChangeLog.1: New file, containing the old contents of ...\n\t* lisp/erc/ChangeLog.01, lisp/erc/ChangeLog.02, lisp/erc/ChangeLog.03:\n\t* lisp/erc/ChangeLog.04, lisp/erc/ChangeLog.05, lisp/erc/ChangeLog.06:\n\t* lisp/erc/ChangeLog.07, lisp/erc/ChangeLog.08, lisp/erc/ChangeLog.09:\n\tRemove.\n\n\tSplit top-level entries into pre- and post-April 7\n\tThis more clearly distingiushes pre-April-7 ChangeLog entries (which\n\tare for top-level files only) from post-April-7 entries (which are\n\tabout files at all levels.  Problem reported by Glenn Morris in:\n\thttps://lists.gnu.org/r/emacs-devel/2015-04/msg00678.html\n\t* ChangeLog.1: Move post-April-7 entries from here ...\n\t* ChangeLog.2: ... to this new file.\n\t* Makefile.in (CHANGELOG_HISTORY_INDEX_MAX): Bump to 2.\n\n2015-04-15  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tFix recent cus-start changes that added customize-rogues\n\t* lisp/cus-start.el (custom-delayed-init-variables): Initialize the\n\tvars early.\n\t* lisp/loadup.el (\"cus-start\"): Move to the end to reduce\n\tcustomize-rogue.\n\n2015-04-15  Nicolas Petton  <nicolas@petton.fr>\n\n\tDefine cl-concatenate as an alias to seq-concatenate\n\t* lisp/emacs-lisp/cl-extra.el (cl-concatenate): Removes duplicated\n\t  code by making cl-concatenate an alias to seq-concatenate.\n\n2015-04-15  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* src/lread.c (intern_1): Make sure we'd find the symbol we add\n\t(Bug#20334)\n\t* src/xfaces.c (resolve_face_name): Don't use `intern' with\n\tLisp_Strings.\n\n2015-04-15  Glenn Morris  <rgm@gnu.org>\n\n\t* doc/lispref/sequences.texi (Sequence Functions): Fix typo in previous.\n\n2015-04-15  Lars Magne Ingebrigtsen  <larsi@gnus.org>\n\n\tClean up gnus-uu saving code slightly\n\t* lisp/gnus/gnus-uu.el (gnus-uu-save-article): Make the\n\tsave-restriction/widen calls make more sense.\n\n2015-04-15  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMake [:graph:] act like [:print:] sans space\n\tIn POSIX [[:print:]] is equivalent to [ [:graph:]], so change\n\t[:graph:] so that it matches everything that [:print:] does,\n\texcept for space.\n\t* doc/lispref/searching.texi (Char Classes):\n\t* etc/NEWS:\n\t* lisp/emacs-lisp/rx.el (rx):\n\tDocument [:graph:] to be [:print:] sans ' '.\n\t* src/character.c, src/character.h (graphicp): New function.\n\t* src/regex.c (ISGRAPH) [emacs]: Use it.\n\t(BIT_GRAPH): New macro.\n\t(BIT_PRINT): Increase to 0x200, to make room for BIT_GRAPH.\n\t(re_wctype_to_bit) [! WIDE_CHAR_SUPPORT]:\n\tReturn BIT_GRAPH for RECC_GRAPH.\n\t(re_match_2_internal) [emacs]: Use ISGRAPH if BIT_GRAPH,\n\tand ISPRINT if BIT_PRINT.\n\n2015-04-14  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tautomated/eieio-test-methodinvoke.el (make-instance) <(subclass C)>:\n\tDon't use call-next-method in a cl-defmethod.\n\n\t* lisp/emacs-lisp/eieio-core.el (eieio--class): Derive from cl--class\n\t(eieio--class-p): Remove, provided by cl-defstruct.\n\n2015-04-14  Nicolas Petton  <nicolas@petton.fr>\n\n\tAdd seq-intersection and seq-difference to the seq library\n\t* lisp/emacs-lisp/seq.el (seq-intersection, seq-difference):\n\tNew functions.\n\t* test/automated/seq-tests.el: Add tests for seq-intersection and\n\tseq-difference.\n\t* doc/lispref/sequences.texi: Add documentation for seq-intersection\n\tand seq-difference.\n\n2015-04-14  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/eieio-core.el (class-abstract-p): Don't inline,\n\tto avoid leaking internals.\n\n2015-04-14  Sam Steingold  <sds@gnu.org>\n\n\tpackage--ensure-init-file: widen requires save-restriction\n\n2015-04-14  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove the commit-msg Git hook for unibyte environments\n\t* build-aux/git-hooks/commit-msg: Set LC_ALL=C, before running Awk\n\tin unibyte environments.  (Suggested by Paul Eggert\n\t<eggert@cs.ucla.edu>.)  Use a more accurate approximation to\n\t[:print:], based on UTF-8 sequences of the unprintable characters.\n\n\tDescribe problems with cursor caused by Windows Magnifier\n\t* etc/PROBLEMS: Describe the problem with cursor shape on\n\tMS-Windows due to Windows Magnifier.\n\t(Bug#20271)\n\n\tMake [:print:] support non-ASCII characters correctly\n\t* src/regex.c (ISPRINT): Call 'printablep' for multibyte characters.\n\t(BIT_PRINT): New bit mask.\n\t(re_wctype_to_bit): Return BIT_PRINT for RECC_PRINT.\n\t* src/character.c (printablep): New function.\n\t* src/character.h (printablep): Add prototype.\n\t* lisp/emacs-lisp/rx.el (rx): Doc fix: document the new behavior\n\tof 'print', 'alnum', and 'alphabetic'.\n\t* doc/lispref/searching.texi (Char Classes): Document the new\n\tbehavior of [:print:].\n\t* etc/NEWS: Mention the new behavior of [:print:].\n\n\tAssign correct general-category and names to surrogates\n\t* admin/unidata/unidata-gen.el (unidata-setup-list): Don't ignore\n\tsurrogates.  This avoids assigning them the default\n\tgeneral-category of 'Cn', i.e. unassigned codepoints.\n\t(unidata-get-name): Give surrogates synthetic names.\n\n2015-04-14  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tAssume C89 offsetof in xterm.c, xlwmenu.c\n\t* lwlib/xlwmenu.c (offset):\n\t* src/xterm.c (cvt_string_to_pixel_args):\n\tUse offsetof, not XtOffset.\n\n2015-04-14  Paul Eggert  <eggert@Penguin.CS.UCLA.EDU>\n\n\tAssume C89 offsetof in widget.c\n\t* src/widget.c (XtOffset): Remove; no longer needed.\n\t(offset): Implement via offsetof instead of via pre-C89 XtOffset hack.\n\n\tFix think-o in previous patch\n\t* src/window.c (count_windows, get_leaf_windows):\n\tDon't optimize count_windows incorrectly.\n\n2015-04-13  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tAvoid some int overflows in window.c\n\t* src/print.c (print_object):\n\t* src/window.c (sequence_number):\n\t* src/window.h (struct window.sequence_number):\n\tDon't assume window sequence number fits in int.\n\t* src/window.c (window_select_count):\n\t* src/window.h (struct window.use_time, window_select_count):\n\tDon't assume window use time fits in int.\n\t* src/window.c (Fsplit_window_internal):\n\tDon't assume user-supplied integer, or sum, fits in int.\n\t(Fset_window_configuration, count_windows, get_leaf_windows)\n\t(save_window_save, Fcurrent_window_configuration):\n\tUse ptrdiff_t for object counts.\n\t(Fset_window_configuration): Omit unused local 'n'.\n\t(count_windows): Simplify by writing in terms of get_leaf_windows.\n\t(get_leaf_windows): Don't store through FLAT if it's null.\n\t(extract_dimension): New static function.\n\t(set_window_margins, set_window_fringes, set_window_scroll_bars):\n\tUse it to avoid undefined behavior when converting user-supplied\n\tinteger to 'int'.\n\n2015-04-13  Glenn Morris  <rgm@gnu.org>\n\n\tMinor doc copyedits\n\t* doc/emacs/custom.texi (Init Examples): Tweak example, replace typo.\n\t* doc/lispintro/emacs-lisp-intro.texi (condition-case): Typo fix.\n\n2015-04-13  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\t[Gnus] Catch the invalid-operation that idna.el will issue\n\t* lisp/gnus/gnus-art.el (gnus-use-idna):\n\t* lisp/gnus/gnus-sum.el (gnus-summary-idna-message):\n\t* lisp/gnus/message.el (message-use-idna):\n\tCatch the invalid-operation that idna.el will issue.\n\n2015-04-13  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* doc/lispref/processes.texi (Shell Arguments): Prefer diff -u.\n\n2015-04-13  Sam Steingold  <sds@gnu.org>\n\n\tpackage--ensure-init-file: widen before looking for\n\t\"(package-initialize)\"\n\n2015-04-13  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tChange diff-switches default to `-u' (Bug#20290)\n\t* doc/emacs/files.texi (Comparing Files): Document the new default\n\tvalue of `diff-switches'.\n\t* doc/emacs/trouble.texi (Sending Patches): Document the preference\n\tfor unified diff format.  Escape the plus in the suggested `-F' regexp\n\tvalue.\n\t* lisp/vc/diff.el (diff-switches): Change the default to `-u'.\n\n2015-04-13  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t(gnus-group--setup-tool-bar-update): Fix last change\n\t* lisp/gnus/gnus-group.el (gnus-group--setup-tool-bar-update):\n\tcursor-sensor-functions should be a list of functions.\n\n2015-04-13  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\t* lisp/gnus/gnus-topic.el (gnus-topic-mode):\n\tUse gmm-called-interactively-p.\n\n2015-04-13  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/loadup.el (\"cus-start\"): Load it after loaddefs.el\n\t(Bug#20321)\n\t* lisp/cus-start.el (read-buffer-function): Don't advertise\n\tiswitchb-read-buffer any more.\n\t(iswitchb): Don't tweak this obsolete group any more.\n\n2015-04-13  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el: Fix package--ensure-init-file.\n\n\t* lisp/emacs-lisp/cl-macs.el (cl-defstruct): Implement docstrings.\n\tAdding a string after a constructor's argument list will use\n\tthat string as the constructor function docstring.  If this string\n\tis absent but the struct itself was given a docstring, use that as\n\tthe constructor's docstring.\n\tFixes bug#17284.\n\n2015-04-13  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tDeprecate `intangible' and `point-entered' properties\n\t* lisp/emacs-lisp/cursor-sensor.el: New file.\n\t* lisp/simple.el (pre-redisplay-functions): New hook.\n\t(redisplay--pre-redisplay-functions): New function.\n\t(pre-redisplay-function): Use it.\n\t(minibuffer-avoid-prompt): Mark obsolete.\n\t(redisplay--update-region-highlight): Adapt it to work as a function on\n\tpre-redisplay-functions.\n\t* lisp/cus-start.el (minibuffer-prompt-properties--setter): New fun.\n\t(minibuffer-prompt-properties): Use it.  Use cursor-intangible rather\n\tthan point-entered to make the prompt intangible.\n\t* lisp/forms.el: Move `provide' calls to the end.\n\t(forms-mode): Don't use `run-hooks' on a local var.\n\t(forms--make-format, forms--make-format-elt-using-text-properties):\n\tUse cursor-intangible rather than `intangible'.\n\t(forms-mode): Enable cursor-intangible-mode.\n\t* lisp/isearch.el (isearch-mode): Use defvar-local.\n\t(cursor-sensor-inhibit): Declare.\n\t(isearch-mode): Set cursor-sensor-inhibit.\n\t(isearch-done): Set it back.\n\t(isearch-open-overlay-temporary, isearch-open-necessary-overlays)\n\t(isearch-close-unnecessary-overlays): Don't bother with `intangible'\n\tany more.\n\t* lisp/ses.el (ses-localvars): Remove `mode-line-process'.\n\t(ses-sym-rowcol, ses-cell-value, ses-col-width, ses-col-printer):\n\tAdd Edebug spec.\n\t(ses-goto-print, ses-print-cell, ses-adjust-print-width)\n\t(ses-goto-data, ses-setup, ses-copy-region): Don't let-bind\n\tinhibit-point-motion-hooks any more.\n\t(ses--cell-at-pos, ses--curcell): New functions, extracted from\n\tses-set-curcell.\n\t(ses-set-curcell): Use them.\n\t(ses-print-cell, ses-setup): Use cursor-intangible instead of\n\t`intangible'.  Make sure cursor-intangible isn't sticky at BOB.\n\t(ses-print-cell-new-width, ses-reprint-all, ses-recalculate-all):\n\tUse ses--cell-at-pos.\n\t(ses--mode-line-process, ses--cursor-sensor-highlight): New functions,\n\textracted from ses-command-hook.  Make them work with multiple windows\n\tdisplaying the same buffer.\n\t(ses-mode): Use them via mode-line-process and pre-redisplay-functions.\n\tEnable cursor-intangible-mode.\n\t(ses-command-hook): Remove cell highlight and mode-line update code.\n\t(ses-forward-or-insert, ses-copy-region-helper, ses-sort-column):\n\tUpdate for new name of text-property holding the cell name.\n\t(ses-rename-cell): Don't mess with mode-line-process.\n\t* lisp/erc/erc-stamp.el (erc-add-timestamp): Use the new\n\tcursor-sensor-functions property instead of point-entered.\n\t(erc-insert-timestamp-right, erc-format-timestamp):\n\tUse cursor-intangible rather than `intangible'.\n\t(erc-munge-invisibility-spec): Use add-to-invisibility-spec and\n\tremove-from-invisibility-spec.  Enable cursor-intangible-mode and\n\tcursor-sensor-mode if needed.\n\t(erc-echo-timestamp): Adapt to calling convention of\n\tcursor-sensor-functions.\n\t(erc-insert-timestamp-right): Remove unused vars `current-window' and\n\t`indent'.\n\t* lisp/gnus/gnus-group.el (gnus-tmp-*): Declare.\n\t(gnus-update-group-mark-positions): Remove unused `topic' var.\n\t(gnus-group-insert-group-line): Remove unused var `header'.\n\t(gnus-group--setup-tool-bar-update): New function.\n\t(gnus-group-insert-group-line): Use it.\n\t(gnus-group-update-eval-form): Declare local\n\tdynamically-bound variables.\n\t(gnus-group-unsubscribe-group): Use \\` and \\' to match string bounds.\n\t* lisp/gnus/gnus-topic.el (gnus-topic-jump-to-topic)\n\t(gnus-group-prepare-topics, gnus-topic-update-topic)\n\t(gnus-topic-change-level, gnus-topic-catchup-articles)\n\t(gnus-topic-remove-group, gnus-topic-delete, gnus-topic-indent):\n\tUse inhibit-read-only.\n\t(gnus-topic-prepare-topic): Use gnus-group--setup-tool-bar-update.\n\t(gnus-topic-mode): Use define-minor-mode and derived-mode-p.\n\t* lisp/textmodes/reftex-index.el (reftex-display-index):\n\tUse cursor-intangible-mode if available.\n\t(reftex-index-post-command-hook): Check cursor-intangible.\n\t* lisp/textmodes/reftex-toc.el (reftex-toc):\n\tUse cursor-intangible-mode if available.\n\t(reftex-toc-recenter, reftex-toc-post-command-hook):\n\tCheck cursor-intangible.\n\t* lisp/textmodes/sgml-mode.el: Use lexical-binding.\n\t(sgml-tag): Use cursor-sensor-functions instead of point-entered.\n\t(sgml-tags-invisible): Use with-silent-modifications and\n\tinhibit-read-only.  Enable cursor-sensor-mode.\n\t(sgml-cursor-sensor): Rename from sgml-point-entered and adjust to\n\tcalling convention of cursor-sensor-functions.\n\t* lisp/textmodes/table.el (table-cell-map-hook, table-load-hook)\n\t(table-point-entered-cell-hook, table-point-left-cell-hook):\n\tDon't autoload.\n\t(table-cell-entered-state): Remove var.\n\t(table--put-cell-point-entered/left-property)\n\t(table--remove-cell-properties):\n\tUse cursor-sensor-functions rather than point-entered/left.\n\t(table--point-entered/left-cell-function): Merge\n\ttable--point-entered-cell-function and table--point-left-cell-function\n\tand adjust to calling convention of cursor-sensor-functions.\n\n\tUpdate ldef-boots.el\n\n\t* lisp/emacs-lisp/pcase.el (pcase-dolist): Autoload as well.\n\n\t* doc/misc/eieio.texi: Don't advertise now obsolete constructs\n\n\tCollapse successive char deletions in the undo log\n\t* src/cmds.c (remove_excessive_undo_boundaries): New function,\n\textracted from Fself_insert_command.\n\t(Fdelete_char, Fself_insert_command): Use it.\n\t* src/fileio.c (Fmake_symbolic_link): Rename arg to `target'.\n\t* src/keyboard.c (syms_of_keyboard): `top-level' shouldn't be special.\n\n\txterm and OSC 52: Add NEWS entry, and tweak the code\n\t* lisp/term/xterm.el (gui-set-selection) <nil>: Move method definition\n\tto top-level.\n\t(terminal-init-xterm-activate-set-selection): Set a terminal property.\n\t(xterm--set-selection): Use it instead of checking the value of\n\t`terminal-initted'.  Don't use string-bytes.\n\n2015-04-13  Philipp Stephani  <p.stephani2@gmail.com>\n\n\txterm.el: Implement OSC-52 functionality for setting the X selection\n\t* lisp/term/xterm.el (xterm-max-cut-length): New var.\n\t(xterm--set-selection, terminal-init-xterm-activate-set-selection):\n\tNew funs.\n\t(terminal-init-xterm, xterm--version-handler): Use them.\n\n2015-04-13  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tRemove left over code from when we used an obsolete/loaddefs.el file\n\t* lisp/subr.el (do-after-load-evaluation): Remove left over code from\n\twhen we used an obsolete/loaddefs.el file.\n\n\t* lisp/cedet/semantic/fw.el (semantic-exit-on-input)\n\t(semanticdb-without-unloaded-file-searches): Use declare.\n\t(semantic-fw-add-edebug-spec): Remove.\n\n\t* lisp/completion.el (completion-lisp-mode-hook):\n\tUse completion-separator-chars rather than local key binding.\n\n\t* src/*.c: Set deactivate_mark buffer-locally\n\t(Bug#20260)\n\t* src/insdel.c (prepare_to_modify_buffer_1):\n\t* src/fileio.c (Finsert_file_contents): Set deactivate_mark\n\tbuffer-locally.\n\n2015-04-12  Fabi\u00e1n Ezequiel Gallina  <fgallina@gnu.org>\n\n\tpython.el: Keep symmetry on sexp navigation with parens\n\t(Bug#19954)\n\t* lisp/progmodes/python.el\n\t(python-nav--forward-sexp): Add argument skip-parens-p.\n\t(python-nav-forward-sexp, python-nav-backward-sexp)\n\t(python-nav-forward-sexp-safe)\n\t(python-nav-backward-sexp-safe): Use it.\n\t* test/automated/python-tests.el\n\t(python-nav-forward-sexp-1): Fix test.\n\n2015-04-12  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tDon't use `setq-local' in Gnus code\n\tThis might break upstream builds with older Emacsen\n\t* lisp/gnus/message.el (message-mode): Use `set' and\n\t`make-local-variable' instead of `setq-local'.\n\n2015-04-12  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tUpdate Makefile.in's .PHONY dependencies\n\t* Makefile.in (change-history-commit, master-branch-is-current)\n\t(no-ChangeLog): Now phony.\n\n\tRemove configure's --with-mmdf option\n\t* configure.ac (MAIL_USE_MMDF): Remove.\n\t* etc/NEWS: Document this.\n\t* lib-src/movemail.c: Assume MAIL_USE_MMDF is not defined.\n\t(Bug#20308)\n\n\t* doc/man/ChangeLog.01: Rename from doc/man/ChangeLog.1.\n\tThat way, 'make install' won't think it's a man page.\n\tReported by Ashish SHUKLA in:\n\thttps://lists.gnu.org/r/emacs-devel/2015-04/msg00656.html\n\n\tImprove 'make change-history' prereq tests\n\t* Makefile.in (gen_origin): Fix to match what's in the master branch.\n\t(no-ChangeLog, master-branch-is-current): New rules.\n\t(change-history): Depend on them, to avoid similar future problems.\n\tEscape the local-variables string to pacify Emacs when editing\n\tMakefile.in.\n\n2015-04-12  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* test/automated/package-test.el (with-package-test):\n\tKill Packages buffer.\n\n\t* lisp/emacs-lisp/package.el: Improve transaction y-or-n prompt.\n\t(package-menu--prompt-transaction-p): Prompt for \"Delete\" first,\n\t\"Upgrade\" last, and use capitalized instead of all-caps.\n\n\t* lisp/emacs-lisp/package.el: Completely silence async operations.\n\t(package--make-autoloads-and-stuff): Silence autoloads.\n\t(package--save-selected-packages): New function, silences\n\t`customize-save-variable'.\n\t(package--user-selected-p, package-install-from-buffer)\n\t(package-delete, package-install): Use it.\n\t(package-install-from-archive)\n\t(package-menu--perform-transaction): Silence.\n\t(package-menu-execute): Feedback when operation starts.\n\n\tUse delay-mode-hooks when visiting the init-file\n\t* lisp/emacs-lisp/package.el (package--ensure-init-file):\n\tdelay-mode-hooks.\n\t* lisp/cus-edit.el (custom-save-all): delay-mode-hooks.\n\n\t* lisp/files.el: Only message when saving if save-silently is nil.\n\t(save-silently): New variable.\n\t(files--message): New function.\n\t(find-file-noselect, save-buffer, basic-save-buffer)\n\t(basic-save-buffer-2, save-some-buffers, not-modified)\n\t(append-to-file): Use them.\n\n2015-04-12  Johan Bockg\u00e5rd  <bojohan@gnu.org>\n\n\tSupport debug declarations in pcase macros\n\t* lisp/emacs-lisp/pcase.el (pcase-MACRO): New edebug spec.\n\t(pcase-UPAT): Use it.  Remove \"`\".\n\t(pcase--edebug-match-macro): New function.\n\t(pcase-defmacro): Support debug declarations.\n\t* lisp/emacs-lisp/cl-macs.el (cl-struct) <pcase-defmacro>:\n\t* lisp/emacs-lisp/eieio.el (eieio) <pcase-defmacro>:\n\t* lisp/emacs-lisp/pcase.el (\\`): <pcase-defmacro>:\n\tAdd debug declaration.\n\n\tpcase.el: Edebug support for `app' and vector patterns\n\t* lisp/emacs-lisp/pcase.el (pcase-FUN): New edebug spec.\n\t(pcase-UPAT): Use it.  Support `app' patterns.\n\t(pcase-QPAT): Support vector patterns.\n\n\tedebug.el: Disambiguate vector specifications\n\t* lisp/emacs-lisp/edebug.el (edebug-match-list): Always treat\n\t`(vector ...)' as a vector specification, not as a sublist.\n\n\t(gnus-summary-refer-thread): Don't clobber unread articles\n\tThis fixes a bug where `A T' causes \"random\" articles to become marked\n\tas read.\n\t* lisp/gnus/gnus-sum.el (gnus-summary-refer-thread): Make sure\n\tgnus-newsgroup-unreads remains sorted.\n\n\tmouse-sel.el: Fix mouse-sel-get-selection-function\n\t* lisp/obsolete/mouse-sel.el (mouse-sel-get-selection-function):\n\tUse gui--last-selected-text-primary instead of no longer existing\n\tgui-last-selected-text.\n\n\t* lisp/rect.el (delete-whitespace-rectangle-line): Don't cross EOL.\n\n\t* lisp/net/nsm.el (nsm-query-user): Use cursor-in-echo-area.\n\n2015-04-12  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el (list-packages): Avoid redundant generate.\n\n\t* lisp/emacs-lisp/package.el (list-packages): Call refresh in\n\tright buffer.\n\n\t* lisp/emacs-lisp/bytecomp.el: Silence noninteractive compilations.\n\t(byte-compile--interactive): New var.\n\t(byte-compile--message): New function.\n\t(byte-compile-log-1, byte-force-recompile)\n\t(byte-recompile-directory, byte-recompile-file)\n\t(byte-compile-file, compile-defun)\n\t(byte-compile-file-form-defmumble, byte-compile)\n\t(byte-compile-file-form-defalias, display-call-tree): Use it.\n\n\t* lisp/files.el: Don't message when nothing happened.\n\t(save-some-buffers, basic-save-buffer): Before messaging to say\n\t\"nothing was saved\" check if (called-interactively-p 'any).\n\n2015-04-12  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tSummary: Improve sexp-based movement in message-mode\n\tWorks by giving citations and smileys a different syntax.  This helps\n\tmodes like `show-paren-mode', `electric-pair-mode', and C-M-*\n\tsexp-based movement.\n\t* lisp/gnus/message.el (message--syntax-propertize): New function.\n\t(message-mode): Set syntax-related vars.\n\t(message-smileys): New variable.\n\t* test/automated/message-mode-tests.el: New file\n\n2015-04-11  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tUse bool for boolean in window.c\n\t* src/window.c: Omit unnecessary static function decls.\n\t(adjust_window_count, select_window, Fselect_window)\n\t(window_body_width, Fwindow_body_height, Fwindow_body_width)\n\t(set_window_hscroll, check_window_containing, Fwindow_at)\n\t(Fwindow_end, Fset_window_start, Fpos_visible_in_window_p)\n\t(unshow_buffer, replace_window, recombine_windows)\n\t(add_window_to_list, candidate_window_p, next_window)\n\t(Fnext_window, Fprevious_window, window_loop, check_all_windows)\n\t(Fget_buffer_window, Fdelete_other_windows_internal)\n\t(replace_buffer_in_windows_safely, set_window_buffer)\n\t(Fset_window_buffer, Fforce_window_update)\n\t(temp_output_buffer_show, make_parent_window)\n\t(window_resize_check, window_resize_apply, Fwindow_resize_apply)\n\t(resize_frame_windows, Fsplit_window_internal)\n\t(Fdelete_window_internal, grow_mini_window, shrink_mini_window)\n\t(Fresize_mini_window_internal, mark_window_cursors_off)\n\t(window_scroll, window_scroll_pixel_based)\n\t(window_scroll_line_based, scroll_command, Fscroll_other_window)\n\t(Fscroll_left, Fscroll_right, displayed_window_lines, Frecenter)\n\t(Fmove_to_window_line, Fset_window_configuration)\n\t(delete_all_child_windows, apply_window_adjustment)\n\t(set_window_fringes, set_window_scroll_bars)\n\t(Fset_window_vscroll, foreach_window, foreach_window_1)\n\t(compare_window_configurations, Fcompare_window_configurations):\n\tPrefer 'bool', 'true', and 'false' for booleans.\n\t* src/window.h (WINDOW_MODE_LINE_LINES)\n\t(WINDOW_HEADER_LINE_LINES): Omit unnecessary \"!!\" on bool value.\n\n2015-04-11  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\tSpeed up byte-compilation and autoload generation by avoiding mode-hooks\n\tThis prevents emacs-lisp-mode-hook from being run everytime an\n\tautoload file is generated, which can account for a fraction of\n\tpackage installation time depending on the hooks the user has\n\tconfigured.\n\t* lisp/emacs-lisp/bytecomp.el (byte-compile-file): Use delay-mode-hooks.\n\t* lisp/emacs-lisp/autoload.el (autoload-find-file)\n\t(autoload-find-generated-file): Use delay-mode-hooks.\n\n\t* lisp/emacs-lisp/package.el: Improve `package-menu-refresh'.\n\t(package-menu-refresh): Respect async and do new package checking.\n\t(list-packages): Use `package-menu-refresh' instead of repeating code.\n\n\t* lisp/emacs-lisp/package.el: Improve package-menu-quick-help.\n\t(package--quick-help-keys): New variable.\n\t(package--prettify-quick-help-key): New function.\n\t(package-menu-quick-help): Use it.\n\n\t* lisp/emacs-lisp/package.el: Fix initially wrong compat table.\n\t(package--build-compatibility-table): Require finder.\n\n\t* test/automated/package-test.el: Fix new test.\n\n\t* lisp/emacs-lisp/package.el: Silence async operations.\n\t(package--silence): New variable.\n\t(package--message): New function.\n\t(package-import-keyring, package-refresh-contents)\n\t(package-compute-transaction, package-install, package-delete)\n\t(package-menu--perform-transaction, package-menu-execute): Use it.\n\n\t* test/automated/package-test.el: Test async functionality.\n\t(package-test-update-archives-async): New test.\n\n2015-04-11  Daiki Ueno  <ueno@gnu.org>\n\n\tUtilize `make-process' in epg.el\n\t* lisp/epg.el (epg-error-output): Abolish.\n\t(epg-context): New slot `error-buffer'.\n\t(epg--start): Use `make-process' and `make-pipe-process'.\n\t(epg--process-filter): Remove code separating stderr from stdout.\n\t(epg-wait-for-completion): Simplify `error-output' handling.\n\t(epg-reset): Dispose error buffer.\n\n2015-04-11  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* .gitignore: Ignore doc temps and outputs.\n\n\tPort commit-msg to MSYS Bash+Gawk\n\tSee Eli Zaretskii in:\n\thttps://lists.gnu.org/r/emacs-devel/2015-04/msg00610.html\n\t* build-aux/git-hooks/commit-msg (cent_sign_utf8_format)\n\t(cent_sign, print_at_sign, at_sign): Revert previous change.\n\t(print_at_sign): Prepend \"BEGIN\".\n\t(at_sign): Redirect from /dev/null to be safer with pre-POSIX awk.\n\n\tPort commit-msg to broken MS-Windows shell\n\t* build-aux/git-hooks/commit-msg (cent_sign):\n\tJust use UTF-8 here rather than ASCII + printf, as the latter fails\n\ton a broken MS-Windows shell.  Reported by Eli Zaretskii in:\n\thttps://lists.gnu.org/r/emacs-devel/2015-04/msg00592.html\n\n2015-04-11  Chris Zheng  <chriszheng99@gmail.com>  (tiny change)\n\n\tSupport GnuTLS v3.4 and later on MS-Windows\n\t* src/gnutls.c (syms_of_gnutls) <libgnutls-version>: New DEFSYM.\n\t* lisp/term/w32-win.el (dynamic-library-alist): Determine which\n\tGnuTLS DLL to load according to value of libgnutls-version.\n\t(Bug#20294)\n\n2015-04-11  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMinor quoting etc. fixes to misc manuals\n\tFix some minor quoting and spacing issues.  Distinguish more\n\tclearly among grave accent and apostrophe (which are ASCII) and\n\tsingle quote (which is not).  Prefer the standard terms\n\t\"apostrophe\" and \"grave accent\" to alternative names that can be\n\tconfusing.  Use apostrophes to single-quote ASCII text.\n\t* doc/misc/remember.texi: Spell the mystic's pseudonym in UTF-8\n\trather than approximating it in ASCII with grave accent.\n\n2015-04-11  Daiki Ueno  <ueno@gnu.org>\n\n\tRespect more keyword args in `make-process'\n\t* src/process.c (Fmake_process): Respect `:sentinel' and `:filter'\n\tkeywords as documented.\n\n2015-04-10  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tExtract ChangeLog entries when committing a directory\n\t* lisp/vc/vc-dispatcher.el (vc-log-edit): Update FIXME comment.\n\t* lisp/vc/log-edit.el (log-edit-changelog-insert-entries):\n\tAdd a FIXME comment.\n\t(log-edit-changelog-entries): Extract from\n\t`log-edit-changelog-entries', handle FILE being a directory\n\t(https://lists.gnu.org/r/emacs-devel/2015-04/msg00555.html).\n\n2015-04-10  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix problems found by --enable-gcc-warnings\n\t* src/process.c (create_process, Fmake_pipe_process)\n\t(Fmake_network_process): Omit unused locals.\n\n\tFix commit-msg to handle scissors lines\n\t* build-aux/git-hooks/commit-msg:\n\tIgnore every line after a scissors line, such as a line generated\n\tby 'git commit -v'.  Problem reported by Johan Bockg\u00e5rd in:\n\thttps://lists.gnu.org/r/emacs-devel/2015-04/msg00580.html\n\n\tport commit-msg to Gawk 3.0.4 (1999)\n\t* build-aux/git-hooks/commit-msg (cent_sign_utf8_format, cent_sign)\n\t(print_at_sign, at_sign): New vars.  Use them to avoid problems\n\tEli Zaretskii encountered with Gawk 3.0.4 (1999) on MSYS.  See:\n\thttps://lists.gnu.org/r/emacs-devel/2015-04/msg00566.html\n\n\tHave commit-msg report commit failure\n\t* build-aux/git-hooks/commit-msg: If the commit is aborted,\n\tsay so.  Simplify by doing this at the end.  Problem reported\n\tby Eli Zaretskii in:\n\thttps://lists.gnu.org/r/emacs-devel/2015-04/msg00566.html\n\n2015-04-10  Thomas Fitzsimmons  <fitzsim@fitzsim.org>\n\n\tClean up LDAP Configuration section of EUDC manual\n\t* doc/misc/eudc.texi: Combine indices.\n\t(LDAP Configuration): Use command markup.  Add index entries.\n\tChange formatting.  Wrap long lines.  Add noindent markup.\n\n2015-04-10  Daiki Ueno  <ueno@gnu.org>\n\n\tAdd facility to collect stderr of async subprocess\n\t* src/w32.h (register_aux_fd): New function declaration.\n\t* src/w32.c (register_aux_fd): New function.\n\t* src/process.h (struct Lisp_Process): New member stderrproc.\n\t* src/process.c (PIPECONN_P): New macro.\n\t(PIPECONN1_P): New macro.\n\t(Fdelete_process, Fprocess_status, Fset_process_buffer)\n\t(Fset_process_filter, Fset_process_sentinel, Fstop_process)\n\t(Fcontinue_process): Handle pipe process specially.\n\t(create_process): Respect p->stderrproc.\n\t(Fmake_pipe_process): New function.\n\t(Fmake_process): Add new keyword argument :stderr.\n\t(wait_reading_process_output): Specially handle a pipe process when\n\tit gets an EOF.\n\t(syms_of_process): Register Qpipe and Smake_pipe_process.\n\t* doc/lispref/processes.texi (Asynchronous Processes): Document\n\t`make-pipe-process' and `:stderr' keyword of `make-process'.\n\t* lisp/subr.el (start-process): Suggest to use `make-process' handle\n\tstandard error separately.\n\t* test/automated/process-tests.el (process-test-stderr-buffer)\n\t(process-test-stderr-filter): New tests.\n\t* etc/NEWS: Mention new process type `pipe' and its usage with the\n\t`:stderr' keyword of `make-process'.\n\n2015-04-10  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMinor quoting etc. fixes to lispref manual\n\t* doc/lispref/tips.texi (Documentation Tips):\n\tDistinguish more clearly among grave accent, apostrophe,\n\tand single quote.\n\t* doc/lispref/README, doc/lispref/buffers.texi:\n\t* doc/lispref/commands.texi, doc/lispref/control.texi:\n\t* doc/lispref/customize.texi, doc/lispref/display.texi:\n\t* doc/lispref/elisp.texi, doc/lispref/files.texi:\n\t* doc/lispref/frames.texi, doc/lispref/hash.texi:\n\t* doc/lispref/help.texi, doc/lispref/internals.texi:\n\t* doc/lispref/loading.texi, doc/lispref/makefile.w32-in:\n\t* doc/lispref/markers.texi, doc/lispref/modes.texi:\n\t* doc/lispref/nonascii.texi, doc/lispref/objects.texi:\n\t* doc/lispref/os.texi, doc/lispref/positions.texi:\n\t* doc/lispref/strings.texi, doc/lispref/syntax.texi:\n\t* doc/lispref/text.texi, doc/lispref/tips.texi:\n\t* doc/lispref/two-volume-cross-refs.txt, doc/lispref/windows.texi:\n\tUse American-style double quoting in ordinary text,\n\tand quote 'like this' when single-quoting in ASCII text.\n\tAlso, fix some minor spacing issues.\n\n2015-04-10  Michael Albinus  <michael.albinus@gmx.de>\n\n\tHandle symlinked test directory in tramp-tests.el\n\t* test/automated/tramp-tests.el (tramp-test18-file-attributes)\n\t(tramp--test-check-files): Use `file-truename' for directories.\n\n2015-04-10  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix 'recenter' when visual-line-mode is turned on\n\t* src/window.c (Frecenter): Use the same code for GUI and TTY\n\tframes alike; use vmotion only for \"initial\" frames.  This is\n\tbecause vmotion doesn't support visual-line-mode.  Rewrite the\n\t'iarg >= 0' case to use move_it_* functions instead of using\n\tvmotion, for the same reason.  Fix the clipping of the argument\n\tvalue to support scroll-margin in all cases and avoid unwarranted\n\trecentering.  Reported by Milan Stanojevi\u0107 <milanst@gmail.com> in\n\thttps://lists.gnu.org/r/help-gnu-emacs/2015-04/msg00092.html,\n\twhich see.\n\n2015-04-09  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/abbrev.el (define-abbrev-table): Refine last change.\n\n\t* lisp/emacs-lisp/cl-lib.el: Partial revert of \"2015-04-05 Rationalize\n\tuse of c[ad]+r\", so as to keep the \"cl-\" prefix on all\n\tcl-lib definitions.\n\n\t* lisp/progmodes/vhdl-mode.el (vhdl-prepare-search-2):\n\tUse inhibit-point-motion-hooks.\n\n\t* lisp/cedet/semantic: Remove some dead code.\n\t* lisp/cedet/semantic/util-modes.el\n\t(semantic-stickyfunc-header-line-format): Emacs<22 is not supported\n\tany more.\n\t* lisp/cedet/semantic/fw.el (semantic-buffer-local-value): Emacs<21 is\n\tnot supported any more.\n\t(semantic-safe): Use `declare'.\n\t* lisp/cedet/semantic/decorate.el (semantic-set-tag-intangible)\n\t(semantic-tag-intangible-p): Remove unused functions.\n\t* lisp/cedet/semantic/complete.el (semantic-displayor-window-edges):\n\tRemove unused function.\n\n\t* lisp/gnus/gnus-art.el (gnus-hidden-properties): Simplify.\n\t(gnus-article-hide-text, gnus-article-unhide-text)\n\t(gnus-article-unhide-text-type): Remove special handling of\n\t`intangible' since that property is not used any more.\n\t(gnus-article-treat-body-boundary): Use gnus-hidden-properties.\n\n2015-04-09  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tUse the VC root in `log-edit-listfun'\n\t* lisp/vc/vc-dispatcher.el (vc-log-edit): Use the VC root in\n\t`log-edit-listfun'.\n\n2015-04-09  Jay Belanger  <jay.p.belanger@gmail.com>\n\n\tFix description of Unix time, mention new function.\n\t* lisp/calc/calc-forms.el (calcFunc-unixtime): Fix adjustment for\n\tUnix time.\n\t* doc/misc/calc.texi (Date Forms): Fix description of Unix time.\n\t(Basic Operations on Units): Mention `calc-convert-exact-units'.\n\n2015-04-09  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el: Use mode-line-process for notification.\n\n2015-04-09  Dmitry Gutov  <dgutov@yandex.ru>\n\n\t* lisp/vc/log-edit.el (log-edit-insert-changelog-entries):\n\tDon't add newline after the last entry.\n\n2015-04-09  Simen Heggest\u00f8yl  <simenheg@gmail.com>\n\n\tcss-mode.el: Add \"not\" pseudo-class\n\t(Bug#20267)\n\t* lisp/textmodes/css-mode.el (css-pseudo-class-ids): Add \"not\" to\n\tlist of CSS pseudo-classes.\n\n2015-04-09  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* etc/NEWS: Add missing entry for \"Stop messing with the EMACS env var\".\n\n2015-04-09  Michael Albinus  <michael.albinus@gmx.de>\n\n\tStop messing with the EMACS env var\n\t* doc/emacs/misc.texi (Interactive Shell): Remove description of\n\tEMACS env var.\n\n2015-04-09  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tAdapt 'make change-history' to coding cookie\n\t* Makefile.in (change-history): Adjust to change of format of\n\tChangeLog file, which now has a coding cookie before an indented\n\tcopyright notice.\n\n2015-04-09  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tAdapt 'make change-history' to coding cookie\n\t* Makefile.in (change-history): Adjust to change of format of\n\tChangeLog file, which now has a coding cookie before an indented\n\tcopyright notice.\n\n\tgitlog-to-changelog coding cookie and mv -i\n\t* build-aux/gitlog-to-emacslog: Use ChangeLog.1, not Makefile.in,\n\tfor copyright notice prototype, so that we get a proper \"coding:\"\n\tcookie.  Use 'mv -i' to avoid unconditionally overwriting an\n\texisting ChangeLog.  Problems reported by Eli Zaretskii in:\n\thttps://lists.gnu.org/r/emacs-devel/2015-04/msg00504.html\n\n\tMerge from gnulib\n\t* build-aux/gitlog-to-changelog: Update from gnulib, incorporating:\n\t2015-04-09 gitlog-to-changelog: port to MS-Windows\n\n2015-04-09  Boruch Baum  <boruch_baum@gmx.com>  (tiny change)\n\n\t* lisp/bookmark.el (bookmark-bmenu-goto-bookmark): Don't inf-loop.\n\t(Bug#20212)\n\n2015-04-09  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tStop messing with the EMACS env var\n\t(Bug#20202)\n\t* lisp/net/tramp-sh.el (tramp-remote-process-environment):\n\t* lisp/comint.el (comint-exec-1):\n\t* lisp/term.el (term-exec-1): Don't set EMACS envvar.\n\t* lisp/progmodes/compile.el (compilation-start): Same and bring\n\tINSIDE_EMACS's format in line with other users.\n\n\tcss-mode.el (css-smie-rules): Fix indentation after complex selectors\n\t(Bug#20282)\n\t* lisp/textmodes/css-mode.el (css-smie-rules): Don't get confused by\n\tinner structure of selectors.\n\n2015-04-08  Fabi\u00e1n Ezequiel Gallina  <fgallina@gnu.org>\n\n\tpython.el: Indent docstring lines to base-indent\n\t(Bug#19595)\n\tThanks to immerrr <immerrr@gmail.com> for reporting and providing\n\tan initial patch.\n\t* lisp/progmodes/python.el\n\t(python-indent-context): Add :inside-docstring context.\n\t(python-indent--calculate-indentation): Handle :inside-docstring.\n\t(python-indent-region): Re-indent docstrings.\n\t* test/automated/python-tests.el (python-indent-region-5)\n\t(python-indent-inside-string-2): Fix tests.\n\n\tpython.el: Increase native completion robustness\n\t(Bug#19755)\n\tThanks to Carlos Pita <carlosjosepita@gmail.com> for reporting\n\tthis and providing useful ideas.\n\t* lisp/progmodes/python.el\n\t(python-shell-completion-native-output-timeout): Increase value.\n\t(python-shell-completion-native-try-output-timeout): New var.\n\t(python-shell-completion-native-try): Use it.\n\t(python-shell-completion-native-setup): New readline setup avoids\n\tpolluting current context, ensures output when no-completions are\n\tavailable and includes output end marker.\n\t(python-shell-completion-native-get-completions): Trigger with one\n\ttab only.  Call accept-process-output until output end is found or\n\tpython-shell-completion-native-output-timeout is exceeded.\n\n2015-04-08  Samer Masterson  <samer@samertm.com>\n\n\t* lisp/eshell: Make backslash a no-op in front of normal chars\n\t(Bug#8531)\n\t* lisp/eshell/esh-arg.el (eshell-parse-argument-hook): Update comment.\n\t(eshell-parse-backslash): Return escaped character after backslash\n\tif it is special.  Otherwise, if the backslash is not in a quoted\n\tstring, ignore the backslash and return the character after; if\n\tthe backslash is in a quoted string, return the backslash and the\n\tcharacter after.\n\t* test/automated/eshell.el (eshell-test/escape-nonspecial)\n\t(eshell-test/escape-nonspecial-unicode)\n\t(eshell-test/escape-nonspecial-quoted)\n\t(eshell-test/escape-special-quoted): Add tests for new\n\t`eshell-parse-backslash' behavior.\n\n2015-04-08  Gustav H\u00e5llberg  <gustav@gmail.com>  (tiny change)\n\n\t* lisp/vc/diff-mode.el (diff-hunk-file-names): Don't require a TAB\n\tafter the file name.\n\t(Bug#20276)\n\n2015-04-08  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMinor quoting etc. fixes to Emacs manual\n\t* doc/emacs/Makefile.in, doc/emacs/ack.texi, doc/emacs/building.texi:\n\t* doc/emacs/calendar.texi, doc/emacs/cmdargs.texi:\n\t* doc/emacs/custom.texi, doc/emacs/dired.texi, doc/emacs/emacs.texi:\n\t* doc/emacs/files.texi, doc/emacs/glossary.texi, doc/emacs/gnu.texi:\n\t* doc/emacs/indent.texi, doc/emacs/macos.texi:\n\t* doc/emacs/maintaining.texi, doc/emacs/makefile.w32-in:\n\t* doc/emacs/programs.texi, doc/emacs/rmail.texi:\n\t* doc/emacs/search.texi, doc/emacs/trouble.texi:\n\t* doc/emacs/vc1-xtra.texi:\n\tUse American-style double quoting in ordinary text,\n\tand quote 'like this' when single-quoting in ASCII text.\n\tAlso, fix some minor spacing issues.\n\n\tMinor quoting etc. fixes to elisp intro\n\t* doc/lispintro/emacs-lisp-intro.texi: Consistently use\n\tAmerican-style double quoting in ordinary text.  In ASCII text,\n\tconsistently quote 'like this' instead of `like this', unless\n\tEmacs requires the latter.\n\n2015-04-08  Dmitry Gutov  <dgutov@yandex.ru>\n\n\t* CONTRIBUTE: Mention log-edit-insert-changelog.\n\n\t* CONTRIBUTE: Emphasize creating the top-level ChangeLog file manually.\n\n2015-04-08  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* doc/misc/calc.texi (Summary): Avoid '@:' when usurped.\n\n2015-04-08  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/eieio-core.el (eieio-copy-parents-into-subclass):\n\tFix inheritance of initargs.  (Bug#20270)\n\n2015-04-08  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el (package-menu-mode): Mode-line notification\n\twhile dowloading information.\n\n\t* lisp/emacs-lisp/package.el: More conservative `ensure-init-file'\n\t(package--ensure-init-file): Check file contents before visiting.\n\t(package-initialize): Call it.\n\t(package-install-from-buffer, package-install): Don't call it.\n\n2015-04-08  Eli Zaretskii  <eliz@gnu.org>\n\n\t* src/eval.c (init_eval_once): Bump max_lisp_eval_depth to 800.\n\t(Bug#17517)\n\n2015-04-08  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* lisp/net/tramp-cache.el (tramp-flush-file-property):\n\tFix nasty scoping bug.\n\n2015-04-08  Tassilo Horn  <tsdh@gnu.org>\n\n\tAdd notice to visual commands section\n\t* doc/misc/eshell.texi (Input/Output): Add notice that some tools\n\tsuch as git call less with its -F option which omits pagination if\n\tthe contents is less than one page long.  This interferes with\n\teshell's visual (sub-)commands.\n\n2015-04-07  Dmitry Gutov  <dgutov@yandex.ru>\n\n\t* lisp/ffap.el (ffap-string-at-point-mode-alist): Support\n\tenvironment variable expansion in file names.  (Bug#19839)\n\n2015-04-07  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPrefer double-quote to accent-grave in man pages\n\n2015-04-07  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t(Bug#20257)\n\t* lisp/files.el (set-visited-file-name): Clear auto-save if nil.\n\n2015-04-07  Ivan Shmakov  <ivan@siamics.net>\n\n\tUpdate etc/PROBLEMS.\n\t* etc/PROBLEMS: Mention visible-cursor; a few more mentions of\n\t~/.Xresources and xrdb(1); refer to 'GNU Coreutils' and\n\t'X Window System' or 'X' (were: 'GNU Fileutils' and 'X Windows',\n\trespectively); other minor updates and tweaks.  (Bug#20011)\n\n2015-04-07  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tAdd doc strings for some Isearch state vars\n\t* lisp/misearch.el (multi-isearch-buffer-list)\n\t(multi-isearch-file-list): Add doc strings.\n\t(Bug#20232)\n\n2015-04-07  Alan Mackenzie  <acm@muc.de>\n\n\tAlways mark \"<\" and \">\" in #include directives with text properties.\n\t* lisp/progmodes/cc-fonts.el (c-cpp-matchers): Replace a font-lock\n\t\"anchored matcher\" with an invocation of\n\tc-make-font-lock-search-function to allow fontification when there's\n\tno trailing space on an \"#include <..>\" line.\n\n2015-04-07  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tGenerate a ChangeLog file from commit logs\n\t* .gitignore: Add 'ChangeLog'.\n\t* build-aux/gitlog-to-changelog: New file, from Gnulib.\n\t* build-aux/gitlog-to-emacslog: New file.\n\t* CONTRIBUTE: Document the revised workflow.\n\t* Makefile.in (clean): Remove *.tmp and etc/*.tmp*\n\tinstead of just special cases.\n\t(CHANGELOG_HISTORY_INDEX_MAX, CHANGELOG_N, gen_origin): New vars.\n\t(ChangeLog, unchanged-history-files, change-history)\n\t(change-history-commit): New rules.\n\t* admin/admin.el (make-manuals-dist--1):\n\tDon't worry about doc/ChangeLog.\n\t* admin/authors.el: Add a FIXME.\n\t* admin/make-tarball.txt:\n\t* lisp/calendar/icalendar.el:\n\t* lisp/gnus/deuglify.el:\n\t* lisp/obsolete/gulp.el:\n\t* lwlib/README:\n\tAdjust to renamed ChangeLog history files.\n\t* admin/merge-gnulib (GNULIB_MODULES): Add gitlog-to-changelog.\n\t* admin/notes/repo: Call it 'master' a la Git, not 'trunk' a la Bzr.\n\tRemove obsolete discussion of merging ChangeLog files.\n\tNew section \"Maintaining ChangeLog history\".\n\t* build-aux/git-hooks/pre-commit:\n\tReject attempts to commit files named 'ChangeLog'.\n\t* lib/gnulib.mk, m4/gnulib-comp.m4: Regenerate.\n\t* make-dist: Make and distribute top-level ChangeLog if there's a\n\t.git directory.  Distribute the new ChangeLog history files\n\tinstead of scattered ChangeLog files.  Distribute the new files\n\tgitlog-to-changelog and gitlog-to-emacslog.\n\t(Bug#19113)\n\n\tRename ChangeLogs for gitlog-to-changelog\n\tThis patch was implemented via the following shell commands:\n\tfind * -name ChangeLog |\n\tsed 's,.*,git mv & &.1,\n\ts, lisp/ChangeLog\\.1$, lisp/ChangeLog.17,\n\ts, lisp/erc/ChangeLog\\.1$, lisp/erc/ChangeLog.09,\n\ts, lisp/gnus/ChangeLog\\.1$, lisp/gnus/ChangeLog.3,\n\ts, lisp/mh-e/ChangeLog\\.1$, lisp/mh-e/ChangeLog.2,\n\ts, src/ChangeLog\\.1$, src/ChangeLog.13,' |\n\tsh\n\tgit commit -am\"[this commit message]\"\n\nThis file records repository revisions from\ncommit 9d56a21e6a696ad19ac65c4b405aeca44785884a (exclusive) to\ncommit 3a34412caae002accd0fc7a7fc0b718c2f34159b (inclusive).\nSee ChangeLog.1 for earlier changes.\n\n;; Local Variables:\n;; coding: utf-8\n;; End:\n\n  Copyright (C) 2015-2018 Free Software Foundation, Inc.\n\n  This file is part of GNU Emacs.\n\n  GNU Emacs is free software: you can redistribute it and/or modify\n  it under the terms of the GNU General Public License as published by\n  the Free Software Foundation, either version 3 of the License, or\n  (at your option) any later version.\n\n  GNU Emacs is distributed in the hope that it will be useful,\n  but WITHOUT ANY WARRANTY; without even the implied warranty of\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  GNU General Public License for more details.\n\n  You should have received a copy of the GNU General Public License\n  along with GNU Emacs.  If not, see <https://www.gnu.org/licenses/>.\n",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/ChangeLog.3": "2018-05-25  Noam Postavsky  <npostavs@gmail.com>\n\n\tNote caveat for backward regexp searching in docstring (Bug#31584)\n\n\t* src/search.c (Fre_search_backward): Emphasize that backwards\n\tsearches may give shorter than expected matches.\n\t* doc/lispref/searching.texi (Regexp Search): Add an anchor for\n\tre-search-backward to reference.\n\n2018-05-25  Eli Zaretskii  <eliz@gnu.org>\n\n\tUpdate backtrace in Emacs Lisp Intro\n\n\t* doc/lispintro/emacs-lisp-intro.texi (Making Errors): Update the\n\tbacktrace to match Emacs 26.  (Bug#31589)\n\n2018-05-24  Roland Winkler  <winkler@gnu.org>\n\n\tMove window-point in bibtex-search-entry\n\n\t* lisp/textmodes/bibtex.el (bibtex-search-entry): Move window-point\n\tto record found.\n\n2018-05-24  Eli Zaretskii  <eliz@gnu.org>\n\n\tMore fixes of Intro to Emacs Lisp\n\n\t* doc/lispintro/emacs-lisp-intro.texi (Finding More): Tell the\n\treader how to invoke 'M-.' without a tags table.  Add a\n\tcross-reference to the Emacs manual for when a tags table does\n\tneed to be created.\n\t(append save-excursion): Rephrase a confusing sentence.\n\t(Bug#31578)\n\n2018-05-24  Eli Zaretskii  <eliz@gnu.org>\n\n\tAdd a footnote to Emacs Lisp Intro\n\n\t* doc/lispintro/emacs-lisp-intro.texi (Run a Program): Describe\n\tthe detailed output of integer value evaluation in a footnote, to\n\tprevent confusion.  (Bug#31579)\n\n2018-05-24  Eli Zaretskii  <eliz@gnu.org>\n\n\t* lisp/help.el (with-help-window): Doc fix.  (Bug#31574)\n\n2018-05-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix some cross-references in emacs-lisp-intro.texi\n\n\t* doc/lispintro/emacs-lisp-intro.texi (List Processing)\n\t(Determining the Element, graph-body-print): Fix cross-references\n\tto subsections that don't exist in the printed version of the\n\tmanual.  (Bug#31567)\n\n2018-05-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tMinor copyedits in Emacs manual in macos.texi\n\n\t* doc/emacs/macos.texi (Mac / GNUstep Basics)\n\t(Mac / GNUstep Events): Fix markup and capitalization.\n\t(Bug#31568)\n\n2018-05-23  Noam Postavsky  <npostavs@gmail.com>\n\n\tClarify when to use advice-add vs add-function\n\n\t* lisp/emacs-lisp/nadvice.el (add-function): Note in docstring that\n\tadvice-add should be used for named functions.\n\n2018-05-22  Eli Zaretskii  <eliz@gnu.org>\n\n\tMinor formatting tweak in the Emacs manual\n\n\t* doc/emacs/custom.texi (Directory Variables): Don't have 2\n\tfootnotes back to back, it looks bad in HTML.  (Bug#31555)\n\n2018-05-22  Eli Zaretskii  <eliz@gnu.org>\n\n\tUpdate comments in Intro to Emacs Lisp\n\n\t* doc/lispintro/emacs-lisp-intro.texi: Explain in the comments\n\twhat are roman page numbers in Preface about.  (Bug#31541)\n\n2018-05-21  Noam Postavsky  <npostavs@gmail.com>\n\n\t* etc/NEWS: Mention change in `edebug-prin1-to-string'.\n\n2018-05-21  Eli Zaretskii  <eliz@gnu.org>\n\n\tAnother attempt to fix sql.el\n\n\t* lisp/progmodes/sql.el (sql-product-interactive): Fix calculation\n\tof the SQL buffer name.  (Bug#31446)\n\n2018-05-21  Eli Zaretskii  <eliz@gnu.org>\n\n\tUpdate binding of 'M-.' in Intro to Emacs Lisp\n\n\t* doc/lispintro/emacs-lisp-intro.texi (On Reading this Text)\n\t(Finding More, Buffer Related Review, Buffer Exercises)\n\t(Find a File, Conclusion): 'M-.' is now bound to\n\t'xref-find-definitions'.  (Bug#31542)\n\n2018-05-21  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix a typo in last change in sql.el\n\n\t* lisp/progmodes/sql.el (sql-product-interactive): Use 'null',\n\tnot 'zerop'.  (Bug#31446)\n\n2018-05-20  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix capitalization of mail headers\n\n\t* doc/emacs/sending.texi (Mail Format, Mail Headers)\n\t(Mail Aliases, Header Editing): Use consistent capitalization of\n\tCC, BCC, and FCC.  (Bug#31532)\n\n2018-05-20  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix buffer names in sql.el\n\n\t* lisp/progmodes/sql.el (sql-product-interactive): Fix the way the\n\tbuffer name is determined by prefix arg.  (Bug#31446)\n\n2018-05-20  Eli Zaretskii  <eliz@gnu.org>\n\n\tMinor fixes in the Emacs manual\n\n\t* doc/emacs/misc.texi (Gnus Group Buffer): Fix a typo.  (Bug#31534)\n\t(Single Shell): Rephrase an unclear sentence.  (Bug#31535)\n\t(Remote Host): Use @command where appropriate.  (Bug#31536)\n\n2018-05-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix a typo in rmail.texi\n\n\t* doc/emacs/rmail.texi (Rmail Summary Edit): Add markup to 'nil'.\n\t(Bug#31533)\n\n2018-05-18  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* etc/PROBLEMS: Document Bug#31305.\n\n2018-05-18  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\t(gnus-blocked-images): Clarify privacy implications\n\n\t* lisp/gnus/gnus-art.el (gnus-blocked-images): Clarify the privacy\n\timplication of altering the value of this variable.\n\n\t(cherry picked from commit f4d9fd3dd45f767eca33fbf1beee40da790fa74e)\n\n2018-05-18  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix a typo in describing input methods\n\n\t* lisp/help-mode.el (help-make-xrefs): Fix a typo.  (Bug#31448)\n\n2018-05-14  Eli Zaretskii  <eliz@gnu.org>\n\n\tClarify the mode-line indicators in CC Mode\n\n\t* doc/emacs/programs.texi (Electric C): Explain '*' and '/' in the\n\tCC Mode mode-line.  (Bug31445)\n\n2018-05-12  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tFix filesystem littering by Flymake's legacy backend\n\n\tThe Flymake legacy \"proc\" backend, which is active by default will try\n\tto syntax-check foo.c/foo.cpp and many other types of files, but on\n\tfailing to find a suitable Makefile target, will fail.  There's\n\tnothing wrong with that except that it used to leave behind the\n\tfoo_flymake.c and foo_flymake.cpp auxiliary files behind, littering\n\tthe filesystem.\n\n\t* lisp/progmodes/flymake-proc.el (flymake-proc-legacy-flymake):\n\tCall init-function inside of the unwind-protect.\n\n2018-05-12  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* doc/emacs/help.texi: Fix paren typo.\n\n2018-05-11  Eli Zaretskii  <eliz@gnu.org>\n\n\tMore minor changes in shell-related nodes of Emacs manual\n\n\t* doc/emacs/misc.texi (Interactive Shell): Clarify how the window\n\tthat displays \"*shell*\" is selected.\n\t(Shell Prompts): Fix a typo.  Reported by Jorge\n\t<jorge+list@disroot.org> in emacs-manual-bugs.\n\n2018-05-11  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix inaccuracies in \"Shell Ring\" node of Emacs manual\n\n\t* doc/emacs/misc.texi (Shell Ring): Don't mention 'M-s' and don't\n\tinsist on Shell history commands being \"jsut like\" similar\n\tcommands that operate on minibuffer history.  Reported by Jorge\n\t<jorge+list@disroot.org> in emacs-manual-bugs.\n\n2018-05-11  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of kmacro commands and variables.\n\n\t* lisp/kmacro.el (kmacro-start-macro-or-insert-counter)\n\t(kmacro-counter, kmacro-set-format, kmacro-set-counter)\n\t(kmacro-add-counter, kmacro-counter-format)\n\t(kmacro-insert-counter): Clarify and improve the doc strings.\n\t(Bug#31243)\n\n2018-05-11  Noam Postavsky  <npostavs@gmail.com>\n\n\t* doc/man/emacs.1.in: Document --fg-daemon and --bg-daemon.\n\n2018-05-08  Noam Postavsky  <npostavs@gmail.com>\n\n\tDon't check non-X frames for z order (Bug#31373)\n\n\t* src/xfns.c (x_frame_list_z_order): Only use frames with\n\t`output_method' set to `output_x_window'.\n\n2018-05-07  Alan Third  <alan@idiocy.org>\n\n\tCheck NSWindow is actually a frame\n\n\t* src/nsfns.m (Fns_frame_list_z_order): Check NSWindow is an instance\n\tof EmacsView before treating it as one.\n\n2018-05-06  Xu Chunyang  <mail@xuchunyang.me>\n\n\tFix gud-statement for pdb\n\n\t* lisp/progmodes/gud.el (pdb): Fix the gud-print implementation.\n\t(Bug#31363)\n\n2018-05-04  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument 'custom-group'\n\n\t* doc/lispref/customize.texi (Group Definitions): Document the\n\t'custom-group' property.\n\n2018-05-04  Eli Zaretskii  <eliz@gnu.org>\n\n\tA minor addition to etc/DEBUG\n\n\t* etc/DEBUG: Add a note for macOS users who get error messages\n\twhen trying to run GDB.\n\n2018-05-04  Daniel Pittman  <slippycheeze@google.com>  (tiny change)\n\n\tAvoid errors in ispell.el when Enchant returns empty extra chars\n\n\t* lisp/textmodes/ispell.el (ispell--get-extra-word-characters):\n\tHandle the case of empty extra characters returned by the\n\tEnchant '-lsmod' command. (Bug#31344)\n\n2018-05-04  Eli Zaretskii  <eliz@gnu.org>\n\n\tMake 'ispell-initialize-spellchecker-hook' work again\n\n\t* lisp/textmodes/ispell.el (ispell-base-dicts-override-alist):\n\tDefvar it to allow dynamic binding.  (Bug#31341)\n\n2018-05-04  Noam Postavsky  <npostavs@gmail.com>\n\n\tHandle selected_window change in prepare_menu_bars (Bug#31312)\n\n\t* src/xdisp.c (redisplay_internal): Check selected_window after\n\tcalling prepare_menu_bars, since it can call lisp hooks.\n\n2018-05-03  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix report-emacs-bug via mailclient on MS-Windows\n\n\t* lisp/net/browse-url.el (browse-url-default-windows-browser):\n\tOn MS-Windows, call url-unhex-string only for file:// URLs.\n\t(Bug#31351)\n\n2018-05-02  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort collation tests to glibc 2.27\n\n\t* test/src/fns-tests.el (fns-tests-collate-strings)\n\t(fns-tests-collate-sort): Don\u2019t make unportable assumptions\n\tabout how en_US.UTF-8 collation works.  These assumptions\n\tare not true on Fedora 28, which ships with glibc 2.27.\n\n2018-05-01  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort --enable-gcc-warnings to GCC 8\n\n\tBackport from master.\n\t* lib-src/emacsclient.c (fail):\n\tDo not dereference a null pointer.\n\t* src/frame.c (delete_frame):\n\tAdd a decl with UNINIT to work around GCC bug 85563.\n\t* src/menu.h (finish_menu_items):\n\tDo not use attribute const.\n\t* src/regex.c (analyze_first): Use FALLTHROUGH, not a comment.\n\n2018-04-30  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tAdvise CFLAGS= operand, not in environment, when configuring\n\n\tBackport from master.\n\n2018-04-28  Eli Zaretskii  <eliz@gnu.org>\n\n\tUpdate the Emacs FAQ\n\n\t* doc/misc/efaq.texi (Latest version of Emacs): Update versions.\n\t(New in Emacs 26): New node.\n\n\t* admin/release-process: Mention the FAQ update as part of the\n\trelease.\n\n2018-04-28  Eli Zaretskii  <eliz@gnu.org>\n\n\t* etc/DEBUG: Minor copyedits.\n\n2018-04-26  Alan Third  <alan@idiocy.org>\n\n\tClarify wording of NS drag n drop documentation\n\n\t* doc/emacs/macos.texi (Mac / GNUstep Events): Clarify wording of\n\tns-drag-n-drop description.\n\n2018-04-25  Basil L. Contovounesios  <contovob@tcd.ie>\n\n\tImprove kill-related documentation (bug#31209)\n\n\t* doc/lispref/text.texi (Low-Level Kill Ring): Fix typo under\n\tcurrent-kill.  Mention interprogram-paste-function under kill-new\n\tand kill-append.\n\t* lisp/simple.el (save-interprogram-paste-before-kill, kill-new)\n\t(kill-append-merge-undo, kill-append): Touch-up docstrings.\n\n2018-04-24  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/simple.el (region-extract-function): Don't hide the 'nil' case.\n\n2018-04-22  Karl Otness  <karl@karlotness.com>  (tiny change)\n\n\tFix pre- and post-command-hook errors in term.el\n\n\tBefore this patch, after the terminal process dies the command\n\thooks added in term-mode's char mode would produce errors.\n\tThis fix removes these hooks when the process dies.\n\t* lisp/term.el (term-handle-exit): Remove pre-command-hook and\n\tpost-command-hook because the process is dead.  (Bug#31236)\n\n2018-04-22  Charles A. Roelli  <charles@aurox.ch>\n\n\t* doc/lispref/display.texi (Glyphless Chars): Fix grammar.\n\n2018-04-21  Alan Third  <alan@idiocy.org>\n\n\tFix macOS drag n drop event documentation\n\n\t* doc/emacs/macos.texi (Mac / GNUstep Customization): Remove\n\treferences to color panel.\n\t(Mac / GNUstep Events): Remove ns-drag-file, and add ns-drag-n-drop.\n\n2018-04-20  Eli Zaretskii  <eliz@gnu.org>\n\n\tUpdate the documentation of 'perform-replace'\n\n\t* doc/lispref/searching.texi (Search and Replace): Update the\n\tdocumentation of 'perform-replace'.\n\n2018-04-20  Martin Rudalics  <rudalics@gmx.at>\n\n\t* etc/NEWS: Another fix for the last change (noted by Juri Linkov)\n\n2018-04-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix use of @key in Texinfo manuals\n\n\t* doc/misc/efaq-w32.texi (Location of init file):\n\t* doc/misc/org.texi (Editing source code, Export settings)\n\t(Closing items, Drawers, Structure editing):\n\t* doc/misc/gnus.texi (Spam and Ham Processors, Terminology):\n\t* doc/misc/calc.texi (Keypad Functions Menu, Keypad Binary Menu)\n\t(Keypad Vectors Menu, Keypad Main Menu, Basic Arithmetic)\n\t(Symbolic Mode):\n\t* doc/misc/sc.texi (Electric References):\n\t* doc/misc/info.texi (Help-^L):\n\t* doc/misc/reftex.texi (Reference Styles):\n\t* doc/misc/idlwave.texi (Troubleshooting, Examining Variables)\n\t(Lesson III---User Catalog, Using the Shell):\n\t* doc/misc/eshell.texi (Bugs and ideas):\n\t* doc/misc/ada-mode.texi (Automatic Casing):\n\t* doc/misc/ediff.texi (Selective Browsing):\n\t* doc/misc/vip.texi (Customizing Constants):\n\t* doc/misc/pcl-cvs.texi (Selected files):\n\t* doc/misc/efaq.texi (Replying to the sender of a message)\n\t(Basic keys, No Meta key, Matching parentheses)\n\t(Origin of the term Emacs, Installing Texinfo documentation)\n\t(Learning how to do something, Emacs manual, Extended commands):\n\t* doc/misc/viper.texi (Rudimentary Changes):\n\t* doc/misc/tramp.texi (Frequently Asked Questions):\n\t* doc/emacs/kmacro.texi (Basic Keyboard Macro):\n\t* doc/emacs/frames.texi (Frame Commands):\n\t* doc/emacs/msdos.texi (Windows Keyboard):\n\t* doc/emacs/search.texi (Query Replace):\n\t* doc/lispintro/emacs-lisp-intro.texi (Keybindings)\n\t(Note for Novices):\n\t* doc/lispref/tips.texi (Key Binding Conventions): Fix use of\n\t@key.  For the details, see\n\thttp://lists.gnu.org/archive/html/emacs-devel/2018-04/msg00390.html.\n\n2018-04-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of actual arglist\n\n\t* doc/lispref/functions.texi (Function Documentation): Advise\n\tagainst using '(fn ARGLIST)' method of advertising a calling\n\tconvention when the old calling convention is deprecated.\n\t(Bug#31191)\n\n2018-04-18  Noam Postavsky  <npostavs@gmail.com>\n\n\tDon't assume term-current-row cache is valid (Bug#31193)\n\n\t* lisp/term.el (term-down): Call `term-current-row' instead of\n\tdirectly accessing the variable `term-current-row.  Following a resize\n\tof the terminal's window, `term-current-row' is reset to nil, so it is\n\tnot safe to assume it is a number.\n\n2018-04-17  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix flyspell-auto-correct-previous-word broken by recent change\n\n\t* lisp/textmodes/flyspell.el (flyspell-auto-correct-word): Keep\n\tflyspell-auto-correct-region also when repeatedly invoking\n\tflyspell-auto-correct-previous-word.  (Bug#31188)\n\n2018-04-17  Eli Zaretskii  <eliz@gnu.org>\n\n\t* test/src/lread-tests.el (lread-test-bug-31186): New test.\n\n2018-04-17  Andreas Schwab  <schwab@suse.de>\n\n\tFix undefined behaviour while looking for lexical-binding file variable (bug 31186)\n\n\t* src/lread.c (lisp_file_lexically_bound_p): Reset\n\tbeg_end_state before reading variable or value.\n\n2018-04-15  Eli Zaretskii  <eliz@gnu.org>\n\n\tMinor wording improvement in \"Bookmarks\"\n\n\t* doc/emacs/regs.texi (Bookmarks): Improve wording.  Suggested by\n\t\"Siraphob (Ben) Phipathananunth\" <siraben@disroot.org>.\n\n2018-04-14  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix building etc/DOC in the MSDOS port\n\n\t* msdos/sed1v2.inp (lisp.mk): Fix escaping in Sed commands.\n\n2018-04-14  Eli Zaretskii  <eliz@gnu.org>\n\n\t* lisp/select.el (gui-get-selection): Doc fix.\n\n2018-04-13  Alan Mackenzie  <acm@muc.de>\n\n\tComplete documentation of syntax flags by adding `c'\n\n\t* doc/lispref/syntax.texi (\"Syntax Table Internals\"): Add entry for `c'\n\tas `(1 lsh 23)'.\n\n2018-04-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix typos and minor wording issues in ELisp manual\n\n\t* doc/lispref/internals.texi (Writing Emacs Primitives):\n\t* doc/lispref/display.texi (Temporary Displays): Fix typos.\n\t* doc/lispref/text.texi (Filling, Changing Properties)\n\t(Transposition): Clarify and fix typos.\n\t* doc/lispref/positions.texi (Screen Lines): Improve wording.\n\t* doc/lispref/modes.texi (Minor Mode Conventions)\n\t(Font Lock Multiline): Fix typos.\n\t* doc/lispref/variables.texi (Dynamic Binding Tips): Fix a\n\tcross-reference.  Fix a typo.\n\t* doc/lispref/sequences.texi (Sequence Functions): Fix typos.\n\t(Bug#31143)\n\n2018-04-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid segfault in processes of type 'pipe'\n\n\t* src/process.c (Fmake_pipe_process): Set up the decoding and\n\tencoding buffers.  For the details, see\n\thttp://lists.gnu.org/archive/html/emacs-devel/2018-04/msg00295.html.\n\n2018-04-13  Robert Pluim  <rpluim@gmail.com>\n\n\tRemove repetitions in documentation strings\n\n\t* lisp/bindings.el (right-word): Remove repetition\n\t(left-word): Likewise.\n\n\t* lisp/image-mode.el (image-mode-as-hex): Likewise.\n\n\t* lisp/cedet/semantic/tag-ls.el (semantic-tag-similar-p): Likewise.\n\n\t* lisp/textmodes/reftex-vars.el (reftex-view-crossref-extra): Likewise\n\n2018-04-12  Eli Zaretskii  <eliz@gnu.org>\n\n\t* lisp/image.el (image-load-path): Doc fix.\n\n2018-04-09  Nicolas Petton  <nicolas@petton.fr>\n\n\t* etc/AUTHORS: Regenerate.\n\n2018-04-09  Charles A. Roelli  <charles@aurox.ch>\n\n\t* lisp/files.el (kept-new-versions): Improve documentation string.\n\n2018-04-09  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix a minor mistake in the ELisp manual\n\n\t* doc/lispref/files.texi (Reading from Files): Fix copy/paste\n\tmistake.  (Bug#31107)\n\n2018-04-06  Eli Zaretskii  <eliz@gnu.org>\n\n\t* lisp/files.el (find-file-literally): Doc fix.\n\n2018-04-05  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix typos in doc strings\n\n\t* lisp/simple.el (undo-auto--boundary-timer)\n\t(undo-auto--boundary-ensure-timer): Fix typos in doc strings.\n\n2018-04-05  Nicolas Petton  <nicolas@petton.fr>\n\n\tBump Emacs version to 26.1\n\n\t* README:\n\t* configure.ac:\n\t* msdos/sed2v2.inp:\n\t* nt/README.W32: Bump Emacs version to 26.1.\n\n2018-04-05  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/inline.el: Clarify apparent typos\n\n2018-04-04  Ted Zlatanov  <tzz@lifelogs.com>\n\n\tAllow sexp customization type in auth-sources\n\n\t* lisp/auth-source.el (auth-sources): Allow sexp customization type.\n\tUpdate the :version tag.\n\n\t(cherry picked from commit 447da5b0d49b7aa14fa5d6969015770fdf9b9f92)\n\n2018-04-03  Nicolas Petton  <nicolas@petton.fr>\n\n\t* etc/NEWS: Remove temporary markup.\n\n\t* etc/AUTHORS: Update.\n\n\t* ChangeLog.3: Update.\n\n2018-04-03  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix Bug#31022\n\n\t* lisp/cus-start.el (temporary-file-directory): Suppress file name\n\thandlers when calling `shell-command-to-string'.  (Bug#31022)\n\n2018-04-03  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tUpdate \"Calendrical Calculations\" cites\n\n\t* lisp/calendar/calendar.el: Update citations to the book\n\t\"Calendrical Calculations\" and its predecessors.\n\n2018-04-02  Noam Postavsky  <npostavs@gmail.com>\n\n\tFix term.el rendering following a window resize (Bug#30544)\n\n\t* lisp/term.el (term-reset-size): Reset cached row and column values\n\tbefore changing point.\n\n2018-04-02  Philipp Stephani  <phst@google.com>\n\n\t* lisp/files.el (auto-save-visited-mode): Don't prompt for filenames.\n\n2018-04-01  Philipp Stephani  <phst@google.com>\n\n\tQuote a few backticks in docstrings.\n\n\t* lisp/emacs-lisp/macroexp.el (macroexp-progn, macroexp-let*)\n\t(macroexp-if): Quote backtick in docstrings.\n\n2018-04-01  Eli Zaretskii  <eliz@gnu.org>\n\n\tMinor copyedits of completion-at-point-functions documentation\n\n\t* lisp/minibuffer.el (completion-at-point-functions):\n\t* doc/lispref/minibuf.texi (Completion in Buffers): Fix wording\n\tand filling.\n\n\t(cherry picked from commit a8ddd05d7d32946b892b9faaba6c9736ed2ad847)\n\n2018-04-01  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t(completion-at-point-functions): Improve doc\n\n\t(cherry picked from commit b56c56f203f8b066dd71e6ae6a254121b3ac3f08)\n\n2018-04-01  Eli Zaretskii  <eliz@gnu.org>\n\n\t* lisp/net/shr.el (shr-browse-url): Doc fix.  (Bug#30957)\n\n2018-03-31  Hong Xu  <hong@topbug.net>\n\n\tMention `key-description' as inverse of `kbd' (Bug#30942)\n\n\t* lisp/subr.el (kbd): Add `key-description' as inverse of `kbd' in the\n\tdoc.\n\n2018-03-31  Noam Postavsky  <npostavs@gmail.com>\n\n\tDocument return value of pcase (Bug#30425)\n\n\t* doc/lispref/control.texi (Pattern matching case statement):\n\t* lisp/emacs-lisp/pcase.el (pcase): State that pcase returns nil if no\n\tpatterns match.\n\t(pcase-exhaustive): State that an error is signaled if no patterns\n\tmatch.\n\n2018-03-31  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* doc/emacs/macos.texi: Tweak grammar and capitalization.\n\n2018-03-31  Richard Stallman  <rms@gnu.org>\n\n\tDistinguish free from non-free OSes\n\n2018-03-28  Glenn Morris  <rgm@gnu.org>\n\n\t* doc/emacs/misc.texi (Amusements): Avoid non-printing character.\n\n2018-03-28  Glenn Morris  <rgm@gnu.org>\n\n\tFix xrefs in pdf Emacs manual\n\n\t* doc/emacs/fortran-xtra.texi (ForIndent Cont, ForIndent Num)\n\t(Fortran Columns):\n\t* doc/emacs/picture-xtra.texi (Rectangles in Picture):\n\tFix recent changes that neglected the splitting of the pdf manuals.\n\n2018-03-28  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* doc/misc/org.texi (Installation): Fix clone commands.\n\n2018-03-27  Rasmus  <rasmus@gmx.us>\n\n\tUpdate Org to v9.1.9\n\n\tPlease note this is a bugfix release. See etc/ORG-NEWS for details.\n\n2018-03-27  Michael Heerdegen  <michael_heerdegen@web.de>\n\n\tDe-obsolete `if-let' and `when-let'\n\n\tFor the following release it is planned to make `if-let*' and\n\t`when-let*' aliases for `if-let' and `when-let'.  For now we revert\n\tdeclaring `if-let' and `when-let' obsolete and tweak the docstrings.\n\n\t* lisp/emacs-lisp/subr-x.el (if-let*, when-let*): Make docstrings\n\trefer to those of `if-let' and `when-let'.\n\t(if-let, when-let): De-obsolete.  Rewrite documentation.\n\n2018-03-26  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/htmlfontify.el (hfy-begin-span-handler): Doc fix.\n\n2018-03-26  Eli Zaretskii  <eliz@gnu.org>\n\n\t* doc/lispref/functions.texi (Defining Functions): Improve indexing.\n\n2018-03-25  Aaron Jensen  <aaronjensen@gmail.com>\n\n\tFix crash after frame is freed on macOS (bug#30800)\n\n\t* src/nsterm.m (x_free_frame_resources): Clear represented_frame.\n\t(bug#30800)\n\n2018-03-25  Michael Albinus  <michael.albinus@gmx.de>\n\n\tMore manual editing\n\n\t* doc/emacs/basic.texi:\n\t* doc/emacs/calendar.texi:\n\t* doc/emacs/display.texi:\n\t* doc/emacs/mini.texi:\n\t* doc/emacs/misc.texi:\n\t* doc/emacs/picture-xtra.texi:\n\t* doc/misc/info.texi: Prefer <PageDown> and <PageUp> over\n\t<next> and <prior>.  Add missing @kindex entries.\n\n\t* doc/emacs/custom.texi (Function Keys): Fix and add missing\n\tkey symbols.\n\n2018-03-25  Michael Albinus  <michael.albinus@gmx.de>\n\n\tMinor manual changes changes\n\n\t* doc/emacs/misc.texi (FFAP): Complete commands.\n\t(Amusements): Add some @cindex entries.  Add \"M-x butterfly\".\n\n2018-03-24  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/calculator.el (calculator-paste-decimals): Add version.\n\n2018-03-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tMore proofreading of the Emacs manual\n\n\t* doc/emacs/trouble.texi (DEL Does Not Delete): Improve wording.\n\t(Screen Garbled): Mention the command name.\n\t(Bug Criteria): Mention that problems in packages should first be\n\treported to the respective maintainers.\n\t(Checklist): Fix wording.\n\t(Contributing, Copyright Assignment): Minor copyedits.\n\t* doc/emacs/misc.texi (Amusements): Remove Landmark.\n\t* doc/emacs/picture-xtra.texi (Tabs in Picture): Improve wording.\n\t(Rectangles in Picture): Add a cross-reference to \"Registers\".\n\t* doc/emacs/misc.texi (Gnus Group Buffer, Gnus Summary Buffer):\n\tMention command names in parentheses.\n\t(Gnus Summary Buffer): Document \"M-r\".\n\t(Network Security): Document that current NSM works with TLS\n\tencryption.  Fix markup.\n\t(Document View): Improve wording and fix a typo.\n\t(DocView Conversion): Rephrase description of\n\tdoc-view-cache-directory.\n\t(Single Shell): Mention variables that control when shell output\n\tappears in the echo area.\n\t(Shell Mode): Improve wording.\n\t(Shell Prompts): Fix a typo.\n\t(Shell Ring, Term Mode): Mention command names.\n\t(History References): Add a cross-reference to \"Rebinding\".\n\t(Remote Host): Mention SSH.\n\t(TCP Emacs server): Improve wording.\n\t(emacsclient Options): Minor improvements.\n\t(PostScript): Fix wording.\n\t(PostScript Variables): Mention that ps-font-size could be a cons.\n\t(Sorting): Minor improvements.  Suggested by Michael Albinus\n\t<michael.albinus@gmx.de> in emacs-manual-bugs@gnu.org\n\n2018-03-23  Noam Postavsky  <npostavs@gmail.com>\n\n\t* src/lisp.h (struct Lisp_Buffer_Local_Value): Update commentary.\n\n\t* doc/emacs/trouble.texi: Fix location of `emacs-version' index.\n\n2018-03-23  Noam Postavsky  <npostavs@gmail.com>\n\n\tExplain more about (defvar foo) form (Bug#18059)\n\n\t* doc/lispref/variables.texi (Defining Variables)\n\t(Using Lexical Binding):\n\t* doc/lispref/compile.texi (Compiler Errors): Emphasize that omitting\n\tVALUE for `defvar' marks the variable special only locally.\n\t* doc/lispref/variables.texi (Using Lexical Binding): Add example of\n\tusing `defvar' without VALUE.\n\n2018-03-22  Charles A. Roelli  <charles@aurox.ch>\n\n\t* doc/lispref/buffers.texi (Buffer List): Fix grammar.\n\n\t* doc/lispref/anti.texi (Antinews): Fix grammar.\n\n2018-03-22  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/org/ob-lisp.el (org-babel-lisp-eval-fn): Tweak type.\n\n\tAvoids type mismatch when relevant library is not present/loaded.\n\n2018-03-22  Glenn Morris  <rgm@gnu.org>\n\n\tsql.el defcustom fixes\n\n\t* lisp/progmodes/sql.el (sql-login-params): Update.\n\tAvoids type mismatch with postgres and sqlite login params.\n\t(sql-postgres-login-params): Bump version.\n\n2018-03-22  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument DEFUN attributes\n\n\t* doc/lispref/internals.texi (Writing Emacs Primitives): Document\n\tspecification of function attributes in DEFUN.\n\n2018-03-22  Nicolas Petton  <nicolas@petton.fr>\n\n\t* etc/NEWS: Add an entry for auth-source-pass.\n\n2018-03-22  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix the MSDOS build\n\n\t* msdos/sed2v2.inp (HAVE_SBRK): Define to 1.\n\n2018-03-22  Eric Abrahamsen  <eric@ericabrahamsen.net>\n\n\tImprove warning and error messages\n\n\t* lisp/emacs-lisp/eieio-base.el (eieio-persistent-read,\n\t  (eieio-persistent-validate/fix-slot-value): Indicate exactly what\n\t  went wrong.\n\n2018-03-22  Eric Abrahamsen  <eric@ericabrahamsen.net>\n\n\tAdjust eieio persistence tests for expected failure\n\n\t* test/lisp/emacs-lisp/eieio-tests/eieio-test-persist.el\n\t (eieio-test-persist-hash-and-vector,\n\t  eieio-test-persist-interior-lists): Persistence does not currently\n\t handle deeply-nested objects. Expect current failures, and mark for\n\t future fixes.\n\n2018-03-22  Eric Abrahamsen  <eric@ericabrahamsen.net>\n\n\tLet eieio-persistent-read read what object-write has written\n\n\t* lisp/emacs-lisp/eieio-base.el (eieio-persistent-validate/fix-slot-value):\n\t  `object-write' may quote lists inside hash tables and vectors, so\n\t  unquote those lists here.\n\n\tThis patch allows the eieio-persistent write/restore process to\n\tperform a clean round trip. It only handles a very specific and\n\tlimited range of object structures, but at least the write and read\n\tprocedures match.\n\n2018-03-22  Eric Abrahamsen  <eric@ericabrahamsen.net>\n\n\tHandle possible classtype values in eieio-persistent-read\n\n\t* lisp/emacs-lisp/eieio-base.el (eieio-persistent-validate/fix-slot-value):\n\t  The function `eieio-persistent-slot-type-is-class-p' could return\n\t  either a single class, or a list of classes.\n\n2018-03-22  Pierre T\u00e9choueyres  <pierre.techoueyres@free.fr>\n\n\tAdd new tests for eieio persistence\n\n\t* test/lisp/emacs-lisp/eieio-tests/eieio-test-persist.el:\n\t  (hash-equal): New comparison test for hash-tables.\n\t  (persist-test-save-and-compare): Use test for hash-tables.\n\t  (eieio-test-persist-hash-and-vector,\n\t  eieio-test-persist-interior-lists): New tests.\n\n2018-03-22  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/gnus/gnus-cloud.el (gnus-cloud-synced-files): Fix doc & type.\n\n\t* lisp/ibuf-ext.el (ibuffer-never-search-content-mode): Fix type.\n\n2018-03-21  Glenn Morris  <rgm@gnu.org>\n\n\t* doc/lispref/windows.texi (Selecting Windows): Fix a typo.\n\n2018-03-21  Charles A. Roelli  <charles@aurox.ch>\n\n\t* doc/lispref/internals.texi (Writing Emacs Primitives): Fix grammar.\n\n2018-03-21  Alan Mackenzie  <acm@muc.de>\n\n\tFirm up documentation of generalized variables\n\n\t* doc/lispref/variables.texi (Generalized Variables)\n\t(Setting Generalized Variables): Define a generalized variable as something\n\tsetf can write to.  Remove the insinuation that hackers have poor memories.\n\tState explicitly that the list of GVs given is complete.  Remove the\n\tsuggestion that `setf' has superseded, or is in the process of superseding,\n\t`setq'.  Make minor corrections to the English.\n\n2018-03-21  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of Auto-Revert mode\n\n\t* doc/emacs/files.texi (Reverting): Mention that Aut-Revert\n\tapplies to Dired buffers as well.  Suggested by Michael Albinus\n\t<michael.albinus@gmx.de> in emacs-manual-bugs@gnu.org.\n\n2018-03-21  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprovements in dired.texi\n\n\t* doc/emacs/dired.texi (Dired): Mention that Dired works with\n\tremote directories.\n\t(Dired Enter): ls-lisp is used on some remote systems as well.\n\t(Dired Navigation): Mention and index the command names.\n\t(Dired Deletion): Document the 'always' value of\n\tdired-recursive-deletes.  Mention the alternative deletion method.\n\t(Marks vs Flags): Fix spelling of Auto-Revert mode.  Document what\n\tmarking does on a subdirectory header line.\n\t(Operating on Files): Document that 'Z' uses gzip or compress.\n\t(Comparison in Dired): Mention ediff-files.\n\t(Misc Dired Features): Fix a typo.  Suggested by Michael Albinus\n\t<michael.albinus@gmx.de> in emacs-manual-bugs@gnu.org.\n\n2018-03-21  Noam Postavsky  <npostavs@gmail.com>\n\n\tRevert \"Support all perl variable declarators and prefixes\"\n\n\tIt highlights normal variable names in perl programs (Bug#30812).\n\t* lisp/progmodes/perl-mode.el (perl-imenu-generic-expression)\n\t(perl-font-lock-keywords-2): Restore values prior to Bug#27613 fix.\n\n\tDon't merge to master, we will fix Bug#27613 properly there (it's too\n\tclose to release to do that on emacs-26).\n\n2018-03-20  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort to 32-bit sparc64\n\n\tBackport from master.\n\tProblem reported by Ulrich Mueller; fix suggested by Eli Zaretskii\n\tand Andreas Schwab (Bug#30855).\n\t* src/alloc.c (mark_memory): Call mark_maybe_object only on\n\tpointers that are properly aligned for Lisp_Object.\n\n2018-03-20  Robert Pluim  <rpluim@gmail.com>\n\n\tCorrect Info link markup\n\n\t* lisp/gnus/gnus-agent.el (gnus-agent-auto-agentize-methods):\n\tCorrect markup for Info link.\n\t* src/minibuf.c (Fcompleting_read): Likewise.\n\n2018-03-20  Nick Helm  <nick@tenpoint.co.nz>\n\n\tImprove documentation of 'with-help-window'\n\n\t* doc/lispref/help.texi (Help Functions): Change variable name\n\tto 'buffer-or-name'.\n\n\t* lisp/help.el (with-help-window): Change variable name to\n\t'buffer-or-name' and rewrite the doc string, adding reference\n\tto 'help-window-setup'.  (Bug#30792)\n\n2018-03-20  Eli Zaretskii  <eliz@gnu.org>\n\n\tMinor improvements in building.texi\n\n\t* doc/emacs/building.texi (Compilation Shell): Mention that this\n\tsection is for local compilation buffers.\n\t(Compilation, Compilation Mode): Mention that 'g' is bound to\n\t'recompile' in compilation buffers.\n\t(Grep Searching): Add a cross-reference to \"Compilation Mode\".\n\tSuggested by Michael Albinus <michael.albinus@gmx.de> in\n\temacs-manual-bugs@gnu.org.\n\n2018-03-20  Alex Branham  <branham@utexas.edu>\n\n\t* lisp/textmodes/bibtex.el (bibtex-mark-entry): activate mark\n\n2018-03-19  Eli Zaretskii  <eliz@gnu.org>\n\n\t* doc/emacs/building.texi (Starting GUD): Mention 'guiler'.\n\n2018-03-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tYet more proofreading of the Emacs manual\n\n\t* doc/emacs/building.texi (Compilation, Grep Searching)\n\t(Debuggers, GUD Customization, Source Buffers)\n\t(Breakpoints Buffer, Threads Buffer): Minor fixes and updates.\n\tSuggested by Michael Albinus <michael.albinus@gmx.de> in\n\temacs-manual-bugs@gnu.org.\n\n2018-03-19  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* doc/emacs/rmail.texi: Fix broken link.\n\n2018-03-19  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix recently-added POP doc glitch\n\n\t* doc/emacs/rmail.texi (Remote Mailboxes):\n\tPOP3 \u2192 POP, when talking about POP in general.\n\n2018-03-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tMore proofreading of the Emacs manual\n\n\t* doc/emacs/macos.texi (Mac / GNUstep Basics): Fix typos.  Improve\n\tindexing.\n\t(Mac / GNUstep Basics, Mac / GNUstep Customization)\n\t(Mac / GNUstep Events): Improve indexing.\n\n\t* doc/emacs/rmail.texi (Rmail): Mention Gnus.\n\t(Rmail Basics, Rmail Scrolling): Improve cross-references and\n\tindexing.\n\t(Rmail Motion): Minor improvements.\n\t(Rmail Inbox): Remove outdated text about Babyl format.\n\t(Rmail Files): Formatting changes.  Comment out\n\tset-rmail-inbox-list in the table of commands, as it is commented\n\tout in the text that follows.\n\t(Rmail Output, Rmail Labels, Rmail Reply, Rmail Make Summary):\n\tMinor copyedits.\n\t(Rmail Summary Edit): Document\n\trmail-summary-scroll-between-messages.\n\t(Rmail Editing): Improve indexing.\n\t(Movemail): Fix typos.\n\t(Remote Mailboxes): Use \"POP3\" rather than \"POP\".\n\n2018-03-19  Simen Heggest\u00f8yl  <simenheg@gmail.com>\n\n\tFix typo in the Emacs manual's VC chapter\n\n\t* doc/emacs/maintaining.texi (VC Directory Buffer): Fix a typo.\n\n2018-03-19  Basil L. Contovounesios  <contovob@tcd.ie>\n\n\tPass json-readtable-error data as a list (bug#30489)\n\n\t* lisp/json.el (json-readtable-dispatch): Fix error data.\n\t* test/lisp/json-tests.el (test-json-read): Check error data is a\n\tlist.\n\n2018-03-17  Noam Postavsky  <npostavs@gmail.com>\n\n\tImprove word motion docs (Bug#30815)\n\n\t* doc/lispref/positions.texi (Word Motion): Fix reference to\n\t`char-script-table'.\n\t* lisp/simple.el (backward-word):\n\t* src/syntax.c (forward-word): Mention `char-script-table' and add\n\tlink to the 'Word Motion' manual section.\n\n2018-03-15  Michael Albinus  <michael.albinus@gmx.de>\n\n\tReplace \"carriage-return\" by \"carriage return\" in manuals\n\n\t* doc/emacs/msdos.texi:\n\t* doc/emacs/mule.texi:\n\t* doc/emacs/screen.texi:\n\t* doc/lispref/nonascii.texi:\n\t* doc/misc/calc.texi: Replace \"carriage-return\" by \"carriage\n\treturn\".  Suggested by Richard Stallman <rms@gnu.org> in\n\temacs-manual-bugs@gnu.org.\n\n2018-03-15  Eli Zaretskii  <eliz@gnu.org>\n\n\tMinor copyedits in mule.texi\n\n\t* doc/emacs/mule.texi (Recognize Coding, Fontsets): Minor changes\n\tin wording.  Suggested by Richard Stallman <rms@gnu.org> in\n\temacs-manual-bugs@gnu.org.\n\n2018-03-14  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix problems caused by fontconfig-2.13.0\n\n\t* src/xterm.c (x_term_init): Call fixup_locale after\n\txg_initialize, to countermand the call to setlocale in some\n\tversions of fontconfig.  (Bug#30788)\n\n2018-03-13  Glenn Morris  <rgm@gnu.org>\n\n\tFix some allout.el aliases\n\n\t* lisp/allout.el (allout-passphrase-verifier-string)\n\t(allout-passphrase-hint-string): Fix alias.\n\n2018-03-13  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/progmodes/ada-mode.el (ada-clean-buffer-before-saving): Doc fix.\n\n2018-03-13  Glenn Morris  <rgm@gnu.org>\n\n\tDoc fixes re obsolete items\n\n\t* doc/emacs/mini.texi (Completion Commands): Small update re mouse.\n\t* doc/misc/htmlfontify.texi (Customization): Replace obsolete alias.\n\n2018-03-13  Glenn Morris  <rgm@gnu.org>\n\n\tReplace an obsolete alias in tpu-mapper\n\n\t* lisp/obsolete/tpu-mapper.el (tpu-map-key, tpu-mapper):\n\tReplace obsolete alias.\n\n2018-03-13  Glenn Morris  <rgm@gnu.org>\n\n\tDoc fixes re obsolete items\n\n\t* doc/emacs/maintaining.texi (VC Undo):\n\t* doc/misc/efaq-w32.texi (Font names): Replace obsolete aliases.\n\t* doc/misc/url.texi (Customization):\n\tDon't mention url-temporary-directory, it essentially does nothing.\n\t* lisp/hilit-chg.el\n\t(highlight-changes-global-changes-existing-buffers): Doc fix.\n\n2018-03-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tMinor changes in mule.texi\n\n\t* doc/emacs/mule.texi (International, Coding Systems)\n\t(Bidirectional Editing): Minor wording changes and typo fixes.\n\tSuggested by Michael Albinus <michael.albinus@gmx.de> in\n\temacs-manual-bugs@gnu.org.\n\n2018-03-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid assertion violation under visual-order-cursor-movement\n\n\t* src/xdisp.c (Fmove_point_visually): Don't let point exceed the\n\tBEGV..ZV range.  Signal Beginning of buffer error when there's a\n\tbefore-string at BEGV.  (Bug#30787)\n\n2018-03-13  Glenn Morris  <rgm@gnu.org>\n\n\tStop mentioning options.el in doc\n\n\t* doc/misc/calc.texi (Customizing Embedded Mode):\n\tRemove mentions of the obsolete (since 22.1) options.el.\n\t* lisp/progmodes/meta-mode.el: Comment fix.\n\n2018-03-12  Charles A. Roelli  <charles@aurox.ch>\n\n\t* lisp/vc/vc-dir.el (vc-dir-unmark): Fix documentation.\n\n2018-03-12  Eli Zaretskii  <eliz@gnu.org>\n\n\t* lisp/minibuffer.el (completion-cycle-threshold): Doc fix.\n\n2018-03-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix last change in Xref documentation\n\n\t* doc/emacs/maintaining.texi (Looking Up Identifiers): More\n\taccurate wording for the description of xref-etags-mode.\n\n2018-03-11  Eli Zaretskii  <eliz@gnu.org>\n\n\tMore changes in the Emacs manual\n\n\t* doc/emacs/text.texi (Words, Foldout, Table Conversion): Clarify\n\ttext.  Reported by Gijs Hillenius <gijs@hillenius.net> in\n\temacs-manual-bugs@gnu.org.\n\n\t* doc/emacs/msdos.texi (Windows Keyboard):\n\t* doc/emacs/msdos-xtra.texi (MS-DOS Keyboard):\n\t* doc/emacs/macos.texi (Mac / GNUstep Basics):\n\t* doc/emacs/glossary.texi (Glossary):\n\t* doc/emacs/custom.texi (Function Keys, Init Syntax):\n\t* doc/emacs/commands.texi (User Input):\n\t* doc/emacs/basic.texi (Arguments): Fix capitalization of \"Meta\".\n\t* doc/emacs/msdos.texi (Windows Keyboard):\n\t* doc/emacs/dired.texi (Dired Updating):\n\t* doc/emacs/custom.texi (Init Rebinding): Fix misuses of @key.\n\tSuggested by Richard Stallman <rms@gnu.org>.\n\n2018-03-11  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of Xref\n\n\t* doc/emacs/maintaining.texi (Looking Up Identifiers): Document\n\txref-etags-mode.\n\n2018-03-11  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix create_process bug breaking eudc-expand-inline\n\n\tProblem reported by Thomas Fitzsimmons (Bug#30762).\n\t* src/process.c (create_process) [HAVE_PTYS]:\n\tCall setsid even if !PTY_FLAG.\n\n2018-03-10  Noam Postavsky  <npostavs@gmail.com>\n\n\tClarify that nil doesn't match itself as a cl-case clause (Bug#30749)\n\n\t* lisp/emacs-lisp/cl-macs.el (cl-case): Mention that the ATOM\n\t=> (ATOM) short form is only for non-nil ATOMs.\n\n2018-03-10  Charles A. Roelli  <charles@aurox.ch>\n\n\tImprove SVG documentation\n\n\t* doc/lispref/display.texi (ImageMagick Images): Remove an\n\toutdated comment that references a fixed bug.\n\t(SVG Images): Fix grammar, and call functions functions (there are\n\tno commands in lisp/svg.el).\n\n2018-03-10  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument the \"URL\" keyword in library headers\n\n\t* doc/lispref/tips.texi (Library Headers): \"URL\" is an alias for\n\t\"Homepage\".  Suggested by Peter Oliver <p.d.oliver@mavit.org.uk>.\n\t(Bug#30571)\n\n2018-03-09  Glenn Morris  <rgm@gnu.org>\n\n\t* test/lisp/international/mule-tests.el:\n\tAvoid local variables confusion.\n\n2018-03-09  Bill Wohler  <wohler@newt.com>\n\n\tAdd missing findex entries for recently removed kindex entries\n\n\t* doc/misc/mh-e.texi:\n\n\t(cherry picked from commit a56a3fc6849b89a71c9a00afcb088021ccbe94e5)\n\n2018-03-09  Glenn Morris  <rgm@gnu.org>\n\n\tReplace the obsolete process-kill-without-query in documentation\n\n\t* lisp/comint.el (comint-exec-hook):\n\t* lisp/term.el (term-exec-hook):\n\t* lisp/eshell/esh-proc.el (eshell-exec-hook):\n\tDoc fixes re the obsolete process-kill-without-query.\n\n2018-03-08  Michael Albinus  <michael.albinus@gmx.de>\n\n\tMinor change in the manual\n\n\t* doc/emacs/display.texi (Useless Whitespace):\n\tDon't upcase \"TAB\" and \"SPC\" when alluding to characters.\n\n2018-03-08  Eli Zaretskii  <eliz@gnu.org>\n\n\tMore minor changes in the manual\n\n\t* doc/emacs/display.texi (Useless Whitespace): Don't upcase \"TAB\"\n\tand \"SPC\" when alluding to characters.  Suggested by Richard\n\tStallman <rms@gnu.org>.\n\n\t* doc/emacs/buffers.texi (Misc Buffer): Clarify what \"read-only\"\n\tmeans for buffers.\n\t(Buffers): Define and describe \"buffer contents\".  Suggested by\n\tRichard Stallman <rms@gnu.org>.  (Bug#30685)\n\n2018-03-07  Glenn Morris  <rgm@gnu.org>\n\n\tReplace some obsolete aliases in code\n\n\t* lisp/net/eudc-bob.el (eudc-bob-mail-keymap):\n\t* lisp/textmodes/reftex-toc.el (reftex-make-separate-toc-frame):\n\tReplace obsolete aliases.\n\n2018-03-07  Glenn Morris  <rgm@gnu.org>\n\n\tReplace some obsolete aliases in documentation\n\n\t* doc/misc/efaq-w32.texi (Incoming mail with Rmail):\n\t* doc/misc/speedbar.texi (Major Display Modes):\n\t* lisp/mh-e/mh-folder.el (mh-restore-desktop-buffer):\n\tDoc fixes re obsolete aliases.\n\n2018-03-07  Eli Zaretskii  <eliz@gnu.org>\n\n\tMinor improvements in manuals\n\n\t* doc/lispref/variables.texi (Local Variables): Make more clear\n\tthat local bindings of 'let' are in effect only within the body.\n\tSuggested by Marcin Borkowski <mbork@mbork.pl>, see\n\thttp://lists.gnu.org/archive/html/emacs-devel/2018-03/msg00217.html\n\tfor the details.\n\n\t* doc/emacs/programs.texi (Matching): Fix a typo.  Reported by\n\tAlex Branham <alex.branham@gmail.com> in emacs-manual-bugs@gnu.org.\n\tImprove indexing.\n\n2018-03-07  Eli Zaretskii  <eliz@gnu.org>\n\n\tMinor copyedits in display.texi\n\n\t* doc/emacs/display.texi (Highlight Interactively)\n\t(Useless Whitespace, Line Truncation, Visual Line Mode): Minor\n\tchanges of wording and typo corrections.  Suggested by Michael\n\tAlbinus <michael.albinus@gmx.de> in emacs-manual-bugs@gnu.org.\n\n2018-03-07  Glenn Morris  <rgm@gnu.org>\n\n\tRemove some unused spam.el variables\n\n\t* lisp/gnus/spam.el (spam-ifile-path, spam-ifile-database-path)\n\t(spam-bogofilter-path, spam-bsfilter-path)\n\t(spam-spamassassin-path, spam-sa-learn-path):\n\tRemove variables that are described as obsolete, but are\n\treally completely unused, and have been for years.\n\n2018-03-07  Glenn Morris  <rgm@gnu.org>\n\n\tReplace some obsolete aliases in code\n\n\t* lisp/emulation/viper.el (viper-set-hooks):\n\t* lisp/epa-hook.el (auto-encryption-mode):\n\t* lisp/term/pc-win.el (set-frame-font): Replace obsolete aliases.\n\t* lisp/net/quickurl.el (quickurl--assoc-function): New.\n\t(quickurl-assoc-function): Use it.\n\n2018-03-07  Glenn Morris  <rgm@gnu.org>\n\n\tReplace some obsolete aliases in documentation\n\n\t* doc/emacs/text.texi (Nroff Mode):\n\t* doc/misc/efaq.texi (How to add fonts):\n\t* lisp/gnus/nnheader.el (nnheader-insert-file-contents):\n\t* lisp/progmodes/pascal.el (pascal-outline-mode):\n\tDoc fixes re obsolete aliases.\n\n2018-03-06  Glenn Morris  <rgm@gnu.org>\n\n\tObsolete eshell-cmpl-suffix-list\n\n\t* lisp/eshell/em-cmpl.el (eshell-cmpl-suffix-list):\n\tMake obsolete, to match pcomplete-suffix-list.\n\n2018-03-06  Eli Zaretskii  <eliz@gnu.org>\n\n\tMore minor changes in the Glossary of the Emacs manual\n\n\t* doc/emacs/glossary.texi (Glossary): Improve cross-references for\n\tmodifier keys.  Fix typos.  Suggested by Gijs Hillenius\n\t<gijs@hillenius.net> in emacs-manual-bugs@gnu.org.\n\n2018-03-06  Michael Heerdegen  <michael_heerdegen@web.de>\n\n\tRevert last commit\n\n\tThis reverts commit af4697faa1f5b643f63a9ea61aa205a4c1432e23.  It's\n\ttoo late for this to be in the release.\n\n2018-03-06  Michael Heerdegen  <michael_heerdegen@web.de>\n\n\tDefine if-let* and derivatives as aliases for if-let etc\n\n\tThis commit reverts declaring `if-let' and `when-let' obsolete in\n\tfavor of the new `if-let*' and `when-let*' versions because of the\n\tcompiler warning mess (Bug#30039).  Instead we make foo-let* aliases\n\tfor foo-let.  The old single-tuple variable spec case is still\n\tsupported for backward compatibility.\n\t* lisp/emacs-lisp/subr-x.el (if-let, when-let): Don't declare\n\tobsolete.  Tweak edebug specs.\n\t(and-let): Renamed from `and-let*' for compatibility with the names\n\t`if-let' and `when-let'.\n\t(if-let*, when-let*, and-let*): Define as aliases for `if-let',\n\t`when-let' and `and-let'.\n\t* test/lisp/emacs-lisp/subr-x-tests.el (if-let-single-tuple-case-test)\n\t(when-let-single-tuple-case-test): New tests for the single-binding\n\ttuple case.\n\tIn the whole file, prefer the names without \"*\".\n\n2018-03-05  Eli Zaretskii  <eliz@gnu.org>\n\n\tMinor fix in Emacs manual's Glossary\n\n\t* doc/emacs/glossary.texi (Glossary): Fix outdated text about\n\tprimary selection.  Reported by Gijs Hillenius\n\t<gijs@hillenius.net> in emacs-manual-bugs@gnu.org.\n\n2018-03-03  Juri Linkov  <juri@linkov.net>\n\n\t* lisp/progmodes/grep.el (zrgrep):\n\n\tLet-bind grep-use-null-filename-separator to nil (bug#30559).\n\n2018-03-03  Eli Zaretskii  <eliz@gnu.org>\n\n\tMinor copyedits in doc/emacs/text.texi\n\n\t* doc/emacs/text.texi (TeX Mode): Use @code for command markup.\n\t(HTML Mode): Add a note about \"C-x C-v\" binding in HTML mode.\n\n2018-03-03  Eli Zaretskii  <eliz@gnu.org>\n\n\tRemove outdated comment in syntax.el\n\n\t* lisp/emacs-lisp/syntax.el (syntax-ppss-toplevel-pos): Remove\n\toutdated comment.  (Bug#30617)\n\n2018-03-03  Eli Zaretskii  <eliz@gnu.org>\n\n\tPrevent Flyspell from changing unrelated words\n\n\t* lisp/textmodes/flyspell.el (flyspell-auto-correct-word): Avoid\n\tusing stale cached data from previous invocations of this command.\n\t(Bug#30462)\n\n2018-03-03  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid errors in flymake in builds --without-x\n\n\t* lisp/progmodes/flymake.el: Require 'mwheel'.  (Bug#28732)\n\n2018-03-03  Eli Zaretskii  <eliz@gnu.org>\n\n\tMore improvements of the Emacs manual\n\n\t* doc/emacs/rmail.texi (Rmail Reply, Rmail Sorting): Improve\n\twording.  Suggested by Daniel Chakraborty\n\t<danielmchakraborty@gmail.com>.\n\n\t* doc/emacs/glossary.texi (Glossary): Add cross-references.\n\tImprove and clarify wording.  Suggested by Gijs Hillenius\n\t<gijs@hillenius.net> in emacs-manual-bugs@gnu.org.\n\n\t* doc/emacs/text.texi (Org Authoring): Add more supported formats\n\tto the list.\n\t(TeX Print): Improve wording.  Slightly rearrange stuff.\n\t(TeX Misc): Mention doctex-mode-hook.\n\t(Two-Column): Minor rearrangement of text.  Suggested by Michael\n\tAlbinus <michael.albinus@gmx.de> in emacs-manual-bugs@gnu.org.\n\n\t* doc/emacs/misc.texi (Saving Emacs Sessions):\n\t* doc/emacs/programs.texi (Program Modes): Remove redundant text\n\tand index entries.\n\n2018-03-03  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tBackport: xref--next-error-function: Move xref's window point\n\n\t* lisp/progmodes/xref.el (xref--next-error-function): Move\n\txref's window point if it's visible.  When we don't do that,\n\tnavigation can start looping after a while.\n\n\t(cherry picked from commit 108ce84432d597f92637ea74bd0a094224d157de)\n\n2018-03-02  Glenn Morris  <rgm@gnu.org>\n\n\tmwheel minor consistency fix\n\n\t* lisp/mwheel.el (mwheel-scroll-left-function)\n\t(mwheel-scroll-right-function):\n\tChange from defcustom to defvar, for consistency with pre-existing.\n\n2018-03-02  Eli Zaretskii  <eliz@gnu.org>\n\n\t* src/window.c (Frecenter): Improve commentary.\n\n2018-03-02  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix downloading non-text files in EWW\n\n\t* lisp/net/eww.el (eww-download-callback): Bind\n\tcoding-system-for-read to 'no-conversion', to avoid any code- or\n\tEOL-conversions in downloaded files.  (Bug#30664)\n\n2018-03-02  Tak Kunihiro  <tkk@misasa.okayama-u.ac.jp>\n\n\tRename some mwheel options, for consistency\n\n\t* lisp/mwheel.el (mouse-wheel-tilt-scroll)\n\t(mouse-wheel-flip-direction): Rename from mwheel-tilt-scroll-p,\n\tmwheel-flip-direction.\n\t(mwheel-scroll): Update for option renaming.\n\t* doc/emacs/frames.texi (Mouse Commands):\n\tUpdate for option renaming.\n\n2018-03-01  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/vc/add-log.el (add-change-log-entry): Replace obsolete alias.\n\n2018-03-01  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove the Emacs manual\n\n\t* doc/emacs/xresources.texi (Table of Resources): Mention that\n\tsome resources are ignored by toolkit builds.\n\t* doc/emacs/custom.texi (Key Bindings): Improve indexing.\n\t(Bug#30530)\n\n2018-03-01  Eli Zaretskii  <eliz@gnu.org>\n\n\t* lisp/dired-aux.el (dired-do-create-files): Doc fix.  (Bug#30634)\n\n2018-03-01  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFurther improvements on manuals\n\n\t* doc/emacs/xresources.texi:\n\t* doc/lispref/display.texi:\n\t* doc/lispref/keymaps.texi:\n\t* doc/misc/dbus.texi:\n\t* doc/misc/efaq-w32.texi: Use \"GTK+\" where applicable.\n\n\t* doc/emacs/xresources.texi (Resources): Mention several use\n\tof \"-xrm\".\n\t(Table of Resources) [verticalScrollBars]: Add reference to Scroll Bars.\n\n2018-03-01  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRequire a larger stack size for threads on macOS (bug#30364)\n\n\t* src/systhread.c (sys_thread_create)\n\t[THREADS_ENABLED && HAVE_PTHREAD && DARWIN_OS]:\n\tRequire at least 8MB stack size for x64 and 4MB for x86 on macOS.\n\tDo not merge to master.\n\n2018-02-28  Glenn Morris  <rgm@gnu.org>\n\n\t* doc/lispref/streams.texi (Output Variables): Fix previous.\n\n2018-02-28  Michael Albinus  <michael.albinus@gmx.de>\n\n\tUse \"GTK+\" where applicable in the manual\n\n\t* doc/emacs/display.texi (Standard Faces, Standard Faces):\n\t* doc/emacs/emacs.texi (Top):\n\t* doc/emacs/files.texi (Visiting):\n\t* doc/emacs/frames.texi (Scroll Bars):\n\t* doc/emacs/xresources.texi: Use \"GTK+\" where applicable.\n\n2018-02-28  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDocument print-escape-control-characters\n\n\t* doc/lispref/streams.texi, etc/NEWS: Add doc.\n\n2018-02-27  Eli Zaretskii  <eliz@gnu.org>\n\n\t* doc/emacs/killing.texi (Rectangles): Don't use @key for characters.\n\n2018-02-27  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/emulation/viper.el: Unbreak it.\n\n\tSince 2017-03-19, M-x viper failed with function void cl-member-if.\n\tPerhaps it isn't used much.\n\n2018-02-27  Eli Zaretskii  <eliz@gnu.org>\n\n\tMore fixes in the Emacs manual\n\n\t* doc/emacs/xresources.texi (Table of Resources, Lucid Resources):\n\tSort the resources.\n\t(Lucid Resources): Add cross-references.\n\t(GTK Resource Basics): Fix wording.\n\t(GTK styles): Add empty lines in a @table.  Suggested by Michael\n\tAlbinus <michael.albinus@gmx.de> in emacs-manual-bugs@gnu.org.\n\n2018-02-27  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid aborts in 'md5'\n\n\t* src/fns.c (extract_data_from_object): Don't crash if called with\n\tan invalid object.  (Bug#30627)\n\n2018-02-26  Michael Albinus  <michael.albinus@gmx.de>\n\n\tMark keys consistently in manuals\n\n\t* doc/emacs/killing.texi:\n\t* doc/lispintro/emacs-lisp-intro.texi:\n\t* doc/misc/calc.texi:\n\t* doc/misc/cc-mode.texi:\n\t* doc/misc/dired-x.texi:\n\t* doc/misc/ede.texi:\n\t* doc/misc/edt.texi:\n\t* doc/misc/efaq.texi:\n\t* doc/misc/erc.texi:\n\t* doc/misc/eshell.texi:\n\t* doc/misc/gnus-faq.texi:\n\t* doc/misc/gnus-news.texi:\n\t* doc/misc/idlwave.texi:\n\t* doc/misc/ido.texi:\n\t* doc/misc/mairix-el.texi:\n\t* doc/misc/message.texi:\n\t* doc/misc/mh-e.texi:\n\t* doc/misc/newsticker.texi:\n\t* doc/misc/org.texi:\n\t* doc/misc/pcl-cvs.texi:\n\t* doc/misc/ses.texi:\n\t* doc/misc/sieve.texi:\n\t* doc/misc/smtpmail.texi:\n\t* doc/misc/speedbar.texi:\n\t* doc/misc/srecode.texi:\n\t* doc/misc/vhdl-mode.texi:\n\t* doc/misc/vip.texi:\n\t* doc/misc/viper.texi: Mark keys consistently.\n\n2018-02-26  Michael Albinus  <michael.albinus@gmx.de>\n\n\tRemove @key{} markups from @kindex entries in manuals\n\n\t* doc/emacs/basic.texi:\n\t* doc/emacs/buffers.texi:\n\t* doc/emacs/building.texi:\n\t* doc/emacs/calendar.texi:\n\t* doc/emacs/custom.texi:\n\t* doc/emacs/dired.texi:\n\t* doc/emacs/display.texi:\n\t* doc/emacs/files.texi:\n\t* doc/emacs/frames.texi:\n\t* doc/emacs/help.texi:\n\t* doc/emacs/indent.texi:\n\t* doc/emacs/killing.texi:\n\t* doc/emacs/kmacro.texi:\n\t* doc/emacs/mark.texi:\n\t* doc/emacs/mini.texi:\n\t* doc/emacs/misc.texi:\n\t* doc/emacs/modes.texi:\n\t* doc/emacs/msdos-xtra.texi:\n\t* doc/emacs/msdos.texi:\n\t* doc/emacs/mule.texi:\n\t* doc/emacs/picture-xtra.texi:\n\t* doc/emacs/programs.texi:\n\t* doc/emacs/regs.texi:\n\t* doc/emacs/rmail.texi:\n\t* doc/emacs/screen.texi:\n\t* doc/emacs/search.texi:\n\t* doc/emacs/sending.texi:\n\t* doc/emacs/text.texi:\n\t* doc/emacs/trouble.texi:\n\t* doc/misc/calc.texi:\n\t* doc/misc/cc-mode.texi:\n\t* doc/misc/ediff.texi:\n\t* doc/misc/ert.texi:\n\t* doc/misc/eww.texi:\n\t* doc/misc/forms.texi:\n\t* doc/misc/gnus.texi:\n\t* doc/misc/idlwave.texi:\n\t* doc/misc/info.texi:\n\t* doc/misc/message.texi:\n\t* doc/misc/mh-e.texi:\n\t* doc/misc/newsticker.texi:\n\t* doc/misc/org.texi:\n\t* doc/misc/pcl-cvs.texi:\n\t* doc/misc/rcirc.texi:\n\t* doc/misc/reftex.texi:\n\t* doc/misc/sc.texi:\n\t* doc/misc/sieve.texi:\n\t* doc/misc/vhdl-mode.texi:\n\t* doc/misc/vip.texi:\n\t* doc/misc/viper.texi:\n\t* doc/misc/woman.texi: Remove @key{} markups from @kindex entries.\n\n2018-02-25  Eli Zaretskii  <eliz@gnu.org>\n\n\t* doc/emacs/display.texi (Standard Faces): Fix markup of index entry.\n\n2018-02-25  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix @kindex entries in manuals\n\n\t* doc/emacs/basic.texi:\n\t* doc/emacs/buffers.texi:\n\t* doc/emacs/building.texi:\n\t* doc/emacs/calendar.texi:\n\t* doc/emacs/custom.texi:\n\t* doc/emacs/dired.texi:\n\t* doc/emacs/display.texi:\n\t* doc/emacs/files.texi:\n\t* doc/emacs/frames.texi:\n\t* doc/emacs/help.texi:\n\t* doc/emacs/indent.texi:\n\t* doc/emacs/killing.texi:\n\t* doc/emacs/kmacro.texi:\n\t* doc/emacs/mark.texi:\n\t* doc/emacs/mini.texi:\n\t* doc/emacs/misc.texi:\n\t* doc/emacs/modes.texi:\n\t* doc/emacs/msdos-xtra.texi:\n\t* doc/emacs/msdos.texi:\n\t* doc/emacs/mule.texi:\n\t* doc/emacs/picture-xtra.texi:\n\t* doc/emacs/programs.texi:\n\t* doc/emacs/regs.texi:\n\t* doc/emacs/rmail.texi:\n\t* doc/emacs/screen.texi:\n\t* doc/emacs/search.texi:\n\t* doc/emacs/sending.texi:\n\t* doc/emacs/text.texi:\n\t* doc/emacs/trouble.texi:\n\t* doc/lispref/files.texi:\n\t* doc/misc/calc.texi:\n\t* doc/misc/cc-mode.texi:\n\t* doc/misc/ediff.texi:\n\t* doc/misc/epa.texi:\n\t* doc/misc/ert.texi:\n\t* doc/misc/eww.texi:\n\t* doc/misc/forms.texi:\n\t* doc/misc/gnus.texi:\n\t* doc/misc/info.texi:\n\t* doc/misc/mairix-el.texi:\n\t* doc/misc/message.texi:\n\t* doc/misc/mh-e.texi:\n\t* doc/misc/newsticker.texi:\n\t* doc/misc/org.texi:\n\t* doc/misc/pcl-cvs.texi:\n\t* doc/misc/rcirc.texi:\n\t* doc/misc/sc.texi:\n\t* doc/misc/sieve.texi:\n\t* doc/misc/vhdl-mode.texi:\n\t* doc/misc/vip.texi:\n\t* doc/misc/viper.texi:\n\t* doc/misc/woman.texi: Fix @kindex entries.  Mark keys consistently.\n\n2018-02-24  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix @cindex entries in manuals\n\n\t* doc/emacs/custom.texi:\n\t* doc/emacs/dired.texi:\n\t* doc/emacs/display.texi:\n\t* doc/emacs/files.texi:\n\t* doc/emacs/frames.texi:\n\t* doc/emacs/killing.texi:\n\t* doc/emacs/maintaining.texi:\n\t* doc/emacs/misc.texi:\n\t* doc/emacs/msdos-xtra.texi:\n\t* doc/emacs/msdos.texi:\n\t* doc/emacs/search.texi:\n\t* doc/emacs/text.texi:\n\t* doc/emacs/trouble.texi:\n\t* doc/lispintro/emacs-lisp-intro.texi:\n\t* doc/lispref/strings.texi:\n\t* doc/lispref/text.texi:\n\t* doc/misc/cc-mode.texi:\n\t* doc/misc/efaq.texi:\n\t* doc/misc/eieio.texi:\n\t* doc/misc/emacs-mime.texi:\n\t* doc/misc/gnus.texi:\n\t* doc/misc/htmlfontify.texi:\n\t* doc/misc/idlwave.texi:\n\t* doc/misc/message.texi:\n\t* doc/misc/mh-e.texi:\n\t* doc/misc/sem-user.texi:\n\t* doc/misc/ses.texi:\n\t* doc/misc/tramp.texi:\n\t* doc/misc/vhdl-mode.texi: Fix @cindex entries.\n\n2018-02-24  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix @cindex entries in org.texi\n\n\t* doc/misc/org.texi: Fix @cindex entries.  Use consistently\n\t@code{} for keywords.\n\n2018-02-24  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument reserved keys\n\n\t* doc/emacs/custom.texi (Key Bindings): Mention keys reserved for\n\tusers.  (Bug#30530)\n\n2018-02-24  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* doc/misc/ebrowse.texi: Use @key{} for keys.\n\n2018-02-24  Eli Zaretskii  <eliz@gnu.org>\n\n\t* src/keyboard.c (syms_of_keyboard): Doc fix.  (Bug#30588)\n\n2018-02-24  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of X resources\n\n\t* doc/emacs/xresources.texi (Table of Resources): Add menu-related\n\tresources.  Add cross-references to \"GTK Resources\".\n\n2018-02-23  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/international/mule.el (keyboard-coding-system): Doc fix.\n\n\tSince multi-tty, this is always set.\n\n2018-02-23  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMinor doc fixes, mostly for timestamp issues\n\n2018-02-23  Eli Zaretskii  <eliz@gnu.org>\n\n\t* doc/emacs/mini.texi (Completion Styles): Improve indexing.\n\n2018-02-23  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix @findex and @vindex entries in manuals\n\n\t* doc/emacs/building.texi:\n\t* doc/emacs/calendar.texi:\n\t* doc/emacs/cmdargs.texi:\n\t* doc/emacs/mini.texi:\n\t* doc/emacs/misc.texi:\n\t* doc/emacs/trouble.texi:\n\t* doc/emacs/windows.texi:\n\t* doc/lispintro/emacs-lisp-intro.texi:\n\t* doc/lispref/edebug.texi:\n\t* doc/lispref/frames.texi:\n\t* doc/lispref/os.texi:\n\t* doc/lispref/windows.texi:\n\t* doc/misc/cc-mode.texi:\n\t* doc/misc/dired-x.texi:\n\t* doc/misc/ediff.texi:\n\t* doc/misc/mh-e.texi:\n\t* doc/misc/pcl-cvs.texi:\n\t* doc/misc/reftex.texi:\n\t* doc/misc/sc.texi:\n\t* doc/misc/vhdl-mode.texi:\n\t* doc/misc/viper.texi: Fix @findex and @vindex entries.\n\n2018-02-22  Alan Mackenzie  <acm@muc.de>\n\n\tDocument, in the Elisp manual, how to get a character's raw syntax descriptor\n\n\t* doc/lispref/syntax.texi (Syntax Table internals): mention the use of `aref'\n\tto get a character's raw syntax descriptor.\n\n2018-02-22  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprovements in the Emacs manual\n\n\t* doc/emacs/custom.texi (Customization Groups)\n\t(Changing a Variable, Browsing Custom, Customizing Faces): Fix\n\tmarkup of keys.\n\t(Changing a Variable, Saving Customizations): Update the\n\tdescription of buttons in the Custom buffer.\n\t(Face Customization): More accurate description.\n\t(Specific Customization, Examining, Locals): Add blank lines in\n\tthe @table.  Reported by Michael Albinus <michael.albinus@gmx.de>\n\tin emacs-manual-bugs@gnu.org.\n\n2018-02-22  Glenn Morris  <rgm@gnu.org>\n\n\tTiny doc/misc markup fixes\n\n\t* doc/misc/ediff.texi (Patch and Diff Programs):\n\t* doc/misc/viper.texi (File and Buffer Handling): Fix markup typos.\n\n2018-02-22  Martin Rudalics  <rudalics@gmx.at>\n\n\tSkip mouse-face overlap check when mouse-face is hidden (Bug#30519)\n\n\t* src/xdisp.c (note_mouse_highlight): Skip check whether\n\tmouse-face highlighting overlay overlaps other mouse-face\n\toverlays when mouse-face highlighting is hidden (Bug#30519).\n\n2018-02-22  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix capitalization of \"Mail-Followup-To\"\n\n\t* doc/emacs/sending.texi (Header Editing, Mail Headers):\n\tStandardize on \"Mail-Followup-To\" as the capitalization.\n\n2018-02-21  Juri Linkov  <juri@linkov.net>\n\n\t* lisp/progmodes/grep.el (grep-compute-defaults):\n\n\tAdd grep-use-null-filename-separator to grep-host-defaults-alist.\n\t(Bug#30559)\n\n2018-02-21  Charles A. Roelli  <charles@aurox.ch>\n\n\tSemantic manual fixes\n\n\t* doc/misc/semantic.texi (Tools): Fix wording and grammar, and\n\tremove a reference to \"document-vars.el\" which, in the Emacs\n\trepository, is part of lisp/cedet/srecode/document.el.\n\n2018-02-21  Eli Zaretskii  <eliz@gnu.org>\n\n\tMore improvements in the Emacs manual\n\n\t* doc/emacs/help.texi (Misc Help):\n\t* doc/emacs/m-x.texi (M-x):\n\t* doc/emacs/mini.texi (Minibuffer File, Repetition): Prevent\n\tbreaking of command sequences between lines.  Reported by Wojciech\n\tPolitarczyk <w.politarczyk@gmail.com> in emacs-manual-bugs@gnu.org.\n\n\t* doc/emacs/sending.texi (Header Editing): Fix capitalization.\n\n2018-02-21  tino calancha  <tino.calancha@gmail.com>\n\n\t* doc/misc/viper.texi (File and Buffer Handling): Add missing '@'\n\n2018-02-21  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix documentation of 'x-underline-at-descent-line'\n\n\t* doc/emacs/display.texi (Display Custom):\n\t* src/nsterm.m (syms_of_nsterm):\n\t* src/xterm.c (syms_of_xterm):\n\t* src/w32term.c (syms_of_w32term): Mention the effect of\n\t'line-spacing' on the underline position.  (Bug#30553)\n\n2018-02-21  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/textmodes/flyspell.el (flyspell-get-word): Doc fix.\n\n2018-02-20  Robert Pluim  <rpluim@gmail.com>\n\n\tCorrect variable markup in manuals\n\n\t* doc/lispref/minibuf.texi (Completion in Buffers): Fix markup.\n\t* doc/lispref/text.texi (Filling): Likewise.\n\t* doc/misc/dired-x.texi (Advanced Mark Commands): Likewise.\n\t* doc/misc/epa.texi (Encrypting/decrypting gpg files): Likewise.\n\t(Encrypting/decrypting gpg files): Likewise.\n\t* doc/misc/tramp.texi (External methods): Likewise.\n\t(Default Method): Likewise.\n\t* doc/misc/viper.texi (Editing in Insert State): Likewise.\n\t(File and Buffer Handling): Likewise.\n\t* doc/misc/gnus.texi (Mail Source Customization): Likewise.\n\t* doc/misc/url.texi (Customization): Likewise.  Note obsolete\n\tstatus of url-temporary-directory.\n\n2018-02-20  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove the \"Sending Mail\" chapter of Emacs manual\n\n\t* doc/emacs/sending.texi (Mail Format, Header Editing)\n\t(Mail Aliases): Fix capitalization of mail headers.\n\t(Mail Aliases): Use ~/.mailrc consistently.\n\t(Mail Misc): More accurate description of disposition.  Suggested\n\tby Michael Albinus <michael.albinus@gmx.de> in\n\temacs-manual-bugs@gnu.org.\n\n2018-02-20  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix documentation of 'flyspell-auto-correct-word'\n\n\t* lisp/textmodes/flyspell.el (flyspell-get-word): Elaborate in the\n\tdoc string on how the function looks for the word to spell-check.\n\t(flyspell-word, flyspell-auto-correct-word): Refer to\n\t'flyspell-get-word' for details about finding the word.\n\t(Bug#30462)\n\n2018-02-19  Robert Pluim  <rpluim@gmail.com>\n\n\t* doc/emacs/misc.texi (Saving Emacs Sessions): Fix markup.\n\n2018-02-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tMore changes in the Emacs manuals\n\n\t* doc/emacs/custom.texi (Customization Groups, Browsing Custom)\n\t(Custom Themes, Keymaps, Prefix Keymaps, Modifier Keys)\n\t(Function Keys, Named ASCII Chars, Mouse Buttons, Init Examples):\n\tFix punctuation.  Suggested by Stefan Kamphausen\n\t<stefan.kamphausen@acrolinx.com> in emacs-manual-bugs@gnu.org.\n\n\t* doc/emacs/basic.texi (Arguments, Repeating): Avoid breaking\n\tcommands between lines.  Reported by Wojciech Politarczyk\n\t<w.politarczyk@gmail.com> in emacs-manual-bugs@gnu.org.\n\n\t* doc/emacs/custom.texi (Init Rebinding): Move index entries about\n\trebinding keys from \"Init File\".  (Bug#30528)\n\n2018-02-18  Eli Zaretskii  <eliz@gnu.org>\n\n\tMore fixes in the Emacs manual\n\n\t* doc/emacs/abbrevs.texi (Defining Abbrevs, Expanding Abbrevs)\n\t(Editing Abbrevs, Saving Abbrevs): Insert blank lines between\n\t@item's.\n\t(Expanding Abbrevs): Add 'unexpand-abbrev' to the list of\n\tcommands.  Suggested by Michael Albinus <michael.albinus@gmx.de>\n\tin emacs-manual-bugs@gnu.org.\n\n2018-02-18  Eli Zaretskii  <eliz@gnu.org>\n\n\t* src/data.c (Faref): Fix a typo in the doc string.  (Bug#30510)\n\n2018-02-18  Michael Albinus  <michael.albinus@gmx.de>\n\n\tMinor edit in tramp.texi\n\n\t* doc/misc/tramp.texi (Remote shell setup, Windows setup hints):\n\tImprove @cindex entries.\n\n2018-02-17  Eli Zaretskii  <eliz@gnu.org>\n\n\tMore improvements in the Emacs manual\n\n\t* doc/emacs/maintaining.texi (Xref Commands, Identifier Search)\n\t(List Identifiers): Insert blank lines between @item's in a\n\t@table.\n\t(Etags Regexps): More accurate description of escape sequences.\n\t(Select Tags Table): Prefer \"~/emacs.d/init.el\" to \"~/.emacs\".\n\tSuggested by Michael Albinus <michael.albinus@gmx.de> in\n\temacs-manual-bugs@gnu.org.\n\n2018-02-17  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of 'electric-pair-mode'\n\n\t* lisp/elec-pair.el (electric-pair-mode):\n\t* doc/emacs/programs.texi (Matching): Document the operation of\n\telectric-pair-mode when there's an active region.  (Bug#30502)\n\n2018-02-17  Charles A. Roelli  <charles@aurox.ch>\n\n\tlisp/vc/: documentation fixes\n\n\t* lisp/vc/vc.el (vc-region-history): Clarify documentation.\n\t* lisp/vc/add-log.el (change-log-get-method-definition):\n\tIndent documentation.\n\n2018-02-17  Robert Pluim  <rpluim@gmail.com>\n\n\tDocument 'desktop-files-not-to-save'\n\n\t* doc/emacs/misc.texi (Saving Emacs Sessions): Add description\n\tof 'desktop-files-not-to-save'.\n\n\t* lisp/desktop.el (desktop-files-not-to-save): Explain that\n\tthe default value excludes buffers visiting remote files.\n\n2018-02-17  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of Profiling features\n\n\t* doc/lispref/debugging.texi (Profiling): Improve the description\n\tof elp.el.  Improve wording of the rest of the section.  (Bug#30491)\n\n\t* lisp/emacs-lisp/elp.el (elp-instrument-list): Make the\n\tinteractive invocation work.  Doc fix.\n\n2018-02-17  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove indexing of \"performance\" in ELisp manual\n\n\t* doc/lispref/debugging.texi (Profiling):\n\t* doc/lispref/edebug.texi (Coverage Testing): Improve indexing of\n\tfeatures useful for performance analysis.  (Bug#30490)\n\n2018-02-17  Eli Zaretskii  <eliz@gnu.org>\n\n\tMinor change in Emacs manual's VC chapter\n\n\t* doc/emacs/maintaining.texi (Log Buffer): Mention the \"Summary\"\n\theader.  Suggested by Michael Albinus <michael.albinus@gmx.de> in\n\temacs-manual-bugs@gnu.org.\n\n2018-02-17  Noam Postavsky  <npostavs@gmail.com>\n\n\tAvoid memory corruption with specpdl overflow + edebug (Bug#30481)\n\n\tIf grow_specpdl fails due to outgrowing max_specpdl_size, it will\n\tsignal an error *before* growing the specpdl array.  Therefore, when\n\thandling the signal, specpdl_ptr points past the end of the specpdl\n\tarray and any further use of of specpdl before unwinding (e.g., if\n\tedebug binds signal-hook-function) will cause memory corruption.\n\t* src/eval.c (signal_or_quit): Don't call `signal-hook-function' if\n\tthe specpdl_ptr is already past the end of the specpdl array.\n\t* test/src/eval-tests.el (eval-tests--exceed-specbind-limit)\n\t(eval-exceed-specbind-with-signal-hook): New test & helper function.\n\n2018-02-17  Noam Postavsky  <npostavs@gmail.com>\n\n\tDocument comment-fill-column in the manual (Bug#11636)\n\n\t* doc/emacs/programs.texi (Comment Commands)\n\t(Options for Comments): Mention comment-fill-column.\n\n2018-02-17  Glenn Morris  <rgm@gnu.org>\n\n\t* doc/emacs/dired.texi (Marks vs Flags): Copyedits.\n\n2018-02-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tMore fixes for the Emacs manual\n\n\t* doc/emacs/vc1-xtra.texi (Customizing VC): Update the list of\n\tbackends.\n\t* doc/emacs/maintaining.texi (Version Control): Add SRC to the\n\tlist of VCS.  Remove the description of vc-state-refresh.\n\t(Version Control Systems): Update the description of CVS.\n\t(VC Change Log): Amend the list of VCS that don't support\n\tvc0print-root-log.\n\t(VCS Changesets, VCS Repositories, Advanced C-x v v)\n\t(VC Change Log): Mention SRC with RCS where appropriate.\n\t(VC Directory Commands): More accurate description of\n\tvc-dir-hide-up-to-date.  Suggested by Michael Albinus\n\t<michael.albinus@gmx.de> in emacs-manual-bugs@gnu.org.\n\n2018-02-16  Robert Cochran  <robert@cochranmail.com>\n\n\tMake 'byte-compile-error-on-warn' a safe file variable\n\n\t* lisp/emacs-lisp/bytecomp.el (byte-compile-error-on-warn): Mark\n\tas a safe local variable for boolean values.\n\n2018-02-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix the doc string of flyspell-auto-correct-word\n\n\t* lisp/textmodes/flyspell.el (flyspell-auto-correct-word): Doc\n\tfix.  (Bug#30462)\n\n2018-02-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove the MS-Windows appendix of the Emacs manual\n\n\t* doc/emacs/msdos.texi (Windows Startup): Describe the pinned\n\tshortcuts for starting Emacs.\n\t(Text and Binary): Minor wording changes.\n\t(Windows Files): Mention 'read-file-name-completion-ignore-case'.\n\t(ls in Lisp): Update the list of supported 'ls' switches.\n\tDocument 'ls-lisp-use-string-collate' and\n\t'ls-lisp-UCA-like-collation'.\n\t(Windows HOME): Mention warnings displayed at startup when\n\tdeprecated locations of HOME and/or deprecated names for init\n\tfiles are used.\n\t(Windows Keyboard): Mention delete-selection-mode.\n\n2018-02-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix 'vc-git--program-version'\n\n\t* lisp/vc/vc-git.el (vc-git--program-version): Fix the function to\n\twork with Git for Windows.\n\n2018-02-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix typos and wording in the Emacs manual\n\n\t* doc/emacs/dired.texi (Marks vs Flags, Hiding Subdirectories):\n\t* doc/emacs/maintaining.texi (Tag Syntax):\n\t* doc/emacs/building.texi (Commands of GUD, Threads Buffer)\n\t(Lisp Libraries):\n\t* doc/emacs/windows.texi (Temporary Displays): Fix typos.\n\t* doc/emacs/files.texi (Backup Copying): Fix wording.  Reported by\n\tStefan Kamphausen <stefan.kamphausen@acrolinx.com> in\n\temacs-manual-bugs@gnu.org.\n\n2018-02-16  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* doc/emacs/programs.texi (Semantic): Order programming languages.\n\n2018-02-15  Eli Zaretskii  <eliz@gnu.org>\n\n\tMore improvements for the Emacs manual\n\n\t* doc/emacs/programs.texi (Basic Indent, Comment Commands): Fix\n\ttypos.\n\t* doc/emacs/text.texi (TeX Print, HTML Mode, Enriched Faces): Fix\n\ttypos.\n\t* doc/emacs/help.texi (Help Files): Improve @uref usage.  Reported\n\tby Stefan Kamphausen <stefan.kamphausen@acrolinx.com> in\n\temacs-manual-bugs@gnu.org.\n\n\t* doc/emacs/fortran-xtra.texi (ForIndent Commands): Fix a typo.\n\t(ForIndent Commands, Fortran Columns): Add empty lines between\n\t@items in a @table.\n\t(ForIndent Cont, ForIndent Num, Fortran Columns): Mention\n\t'column-number-indicator-zero-based'.\n\t(ForIndent Vars): Fix a typo.\n\t(Fortran Comments): Fix punctuation.\n\t(ForIndent Cont, Fortran Autofill): Fix markup of keyboard input.\n\t* doc/emacs/programs.texi (Comments): Fix a typo.\n\t(Comment Commands): More accurate description of the commands.\n\t(Options for Comments): Don't mention \"hook\".\n\t(Man Page): Prefer \"M-x man\" if available.\n\t(Hideshow): Fix the command key sequence.\n\t(Semantic): Update supported languages.\n\t(Semantic, Hungry Delete, Other C Commands): Fix markup of\n\tcommands.\n\t(Misc for Programs): Fix a typo.\n\t(Electric C, Hungry Delete): More accurate description of\n\tmode-line lighters of CC submodes.\n\t(Asm Mode): Add empty lines between @items in a @table.\n\t* doc/emacs/programs.texi (Program Modes): Add a few more modes.\n\tReported by Michael Albinus <michael.albinus@gmx.de> in\n\temacs-manual-bugs@gnu.org.\n\n\t* doc/emacs/msdos.texi (Windows Misc): A minor rewording.\n\tSuggested by Isaac Carter <icarter1391@gmail.com> in\n\temacs-manual-bugs@gnu.org.\n\n2018-02-14  Eli Zaretskii  <eliz@gnu.org>\n\n\tMinor wording change in Emacs manual\n\n\t* doc/emacs/killing.texi (Accumulating Text): Fix spelling.\n\tReported by lyr3 <lyr3@protonmail.com> in\n\temacs-manual-bugs@gnu.org.\n\n2018-02-14  Eli Zaretskii  <eliz@gnu.org>\n\n\tAnother set of changes for the manual\n\n\t* doc/emacs/programs.texi (Program Indent): Add a cross-reference\n\tto elisp's description of 'pp'.\n\t(Program Modes): Add a few more programming modes.  Add index\n\tentries.\n\t(Basic Indent, Multi-line Indent, C Indent, Comment Commands)\n\t(Manipulating Comments): Fix markup of keyboard commands.\n\t* doc/emacs/search.texi (Regexps): Add an example with non-ASCII\n\tcharacters.  Suggested by Michael Albinus <michael.albinus@gmx.de>\n\tin emacs-manual-bugs@gnu.org.\n\n\t* doc/lispref/display.texi (Display Tables): Fix the description\n\tof the 5th extra slot of the display table.  (Bug#13473)\n\n\t* doc/emacs/regs.texi (Registers): Simplify wording.\n\n\t* doc/emacs/custom.texi (Init Non-ASCII): Remove outdated text\n\tabout perils of encoded keyboard input.\n\n2018-02-14  Michael Albinus  <michael.albinus@gmx.de>\n\n\tImprovements on tramp.texi\n\n\t* doc/misc/tramp.texi: Use Tramp version in title.  Further\n\timprovements on user option indexing.  Finish command examples\n\twith @key{RET} where appropriate.\n\t(Remote processes): Use 'M-&' for invocation of async shell.\n\t(Frequently Asked Questions): Add example with simplified syntax.\n\n2018-02-13  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tTramp minor doc fixes\n\n\t* doc/misc/tramp.texi (Remote processes): Spelling fix and minor\n\twording improvement.\n\n2018-02-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tMore changes in the Emacs manual\n\n\t* doc/emacs/search.texi (Regexp Backslash): Say that\n\tsymbol-constituent characters are determined by the syntax table.\n\t(Lax Search): Fix example of case-insensitive search.  Fix a\n\ttypo.\n\t(Unconditional Replace): Improve wording.\n\t(Regexp Replace): More consistent wording.  Reported by Michael\n\tAlbinus <michael.albinus@gmx.de> in emacs-manual-bugs@gnu.org.\n\n\t* doc/emacs/msdos.texi (Windows HOME): Avoid enumerating all the\n\tWindows versions.  Reported by Isaac Carter\n\t<icarter1391@gmail.com> in emacs-manual-bugs@gnu.org.\n\n2018-02-13  Andreas Schwab  <schwab@suse.de>\n\n\t* lisp/vc/vc.el (vc-deduce-backend): Use ignore-errors.\n\n2018-02-13  Andreas Schwab  <schwab@suse.de>\n\n\tDon't signal error in vc-deduce-backend\n\n\t* lisp/vc/vc.el (vc-deduce-backend): Return nil if\n\tvc-responsible-backend signals an error.\n\n2018-02-13  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* doc/misc/tramp.texi: Index more user options.\n\n2018-02-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tMinor change in the Emacs manual\n\n\t* doc/emacs/building.texi (Lisp Libraries): Explain why nil in\n\tload-path is not a good idea.  Suggested by James Yoo\n\t<james.yoo@gmail.com> in emacs-manual-bugs@gnu.org.\n\n2018-02-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tNEWS update about 'string-trim'\n\n\t* etc/NEWS: Mention changes in string-trim family of functions.\n\t(Bug#30442)\n\n2018-02-13  Noam Postavsky  <npostavs@gmail.com>\n\n\tClarify TRAMP process-environment interaction (Bug#30419)\n\n\t* doc/misc/tramp.texi (Remote processes): Index the\n\ttramp-remote-process-environment description.  Clarify the effects of\n\tlet-binding process-environment and the motivation for that behavior.\n\n2018-02-12  Juri Linkov  <juri@linkov.net>\n\n\t* lisp/progmodes/grep.el (grep-num-matches-found): New variable.\n\n\t(grep-mode-line-matches): New defconst.\n\t(grep-mode-font-lock-keywords): Update the regexp for \u201cGrep finished\u201d\n\tto include the number of matches found.\n\t(grep-process-setup): Set grep-num-matches-found to 0.\n\t(grep-exit-message): New function with body moved from lambda\n\tin grep-process-setup.  Use grep-num-matches-found to return\n\tthe number of matches found.\n\t(grep-filter): Increment grep-num-matches-found.\n\t(grep-mode): Set compilation-mode-line-errors to grep-mode-line-matches.\n\t(Bug#30397, bug#14017)\n\n2018-02-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid aborts in cm.c due to too small TTY frame\n\n\t* src/frame.c (frame_windows_min_size): Limit TTY frames to a\n\tminimum height large enough to allow for a menu bar, the mode\n\tline, one text line and one echo-area line.  This avoids aborts in\n\tcm.c:cmcheckmagic.  (Bug#30320)\n\n2018-02-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tAnother set of improvements in the Emacs manual\n\n\t* doc/emacs/msdos-xtra.texi (MS-DOS Keyboard):\n\t* doc/emacs/msdos.texi (Windows Keyboard):\n\t* doc/emacs/mark.texi (Using Region):\n\t* doc/emacs/frames.texi (Menu Mouse Clicks):\n\t* doc/emacs/macos.texi (Mac / GNUstep Basics): Fix spelling of\n\tkeys.  Reported by Michael Albinus <michael.albinus@gmx.de> in\n\temacs-manual-bugs@gnu.org.\n\n\t* doc/emacs/glossary.texi (Glossary): Document that \"c.f.\" is a\n\tmisspelling.  Reported by Robert Pluim <rpluim@gmail.com>.\n\tVarious minor wording improvements.  Suggested by Toon Claes\n\t<toon@iotcl.com> in emacs-manual-bugs@gnu.org.\n\tMore minor changes.  Suggested by Michael Albinus\n\t<michael.albinus@gmx.de> in emacs-manual-bugs@gnu.org.\n\n\t* doc/emacs/cmdargs.texi (Title X): Improve wording.\n\n\t* doc/emacs/building.texi (Grep Searching, Compilation): Avoid\n\tpassive tense.\n\n\t* doc/emacs/basic.texi (Moving Point): Move the description of the\n\tbidi-related effects of the arrow keys from here ...\n\t* doc/emacs/mule.texi (Bidirectional Editing): ... to here.\n\tExplain the behavior of arrow keys between paragraphs.\n\n2018-02-12  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix help in mode-line-mode-menu\n\n\t* lisp/bindings.el (mode-line-mode-menu) [auto-revert-tail-mode]:\n\tFix help string.\n\n2018-02-11  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of desktop restoring\n\n\t* doc/emacs/misc.texi (Saving Emacs Sessions): Document\n\t'desktop-auto-save-timeout', 'desktop-load-locked-desktop', and\n\thow to restore desktop in daemon mode.  (Bug#30421)\n\n2018-02-11  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove the Emacs manual's chapter \"Frames\"\n\n\t* doc/emacs/frames.texi (Creating Frames): Add a cross-reference\n\tto where frame visibility is described.\n\t(Word and Line Mouse): Clarify wording.\n\t(Scroll Bars): Qualify scroll-bar behavior.  Reported by Dmitry\n\tGutov <dgutov@yandex.ru> in emacs-manual-bugs@gnu.org.\n\n2018-02-10  Andreas Schwab  <schwab@linux-m68k.org>\n\n\tFix unbound mm-uu-entry in mm-uu\n\n\t* lisp/gnus/mm-uu.el (mm-uu-dissect): Rename entry to mm-uu-entry.\n\n2018-02-10  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove Emacs user manual in fixit.texi\n\n\t* doc/emacs/fixit.texi (Undo): Clarify inaccurate description of\n\trepeated undo.\n\t(Transpose): Describe explicitly what happens at EOL.\n\t(Spelling): Use \"spell-checking\" consistently.  Clarify wording.\n\tSuggested by Toon Claes <toon@iotcl.com> in\n\temacs-manual-bugs@gnu.org.\n\n2018-02-10  Eli Zaretskii  <eliz@gnu.org>\n\n\tAnother minor change in the manual\n\n\t* doc/emacs/glossary.texi (Glossary): Add popular Latin\n\tabbreviations, such as \"e.g.\".\n\n2018-02-10  Eli Zaretskii  <eliz@gnu.org>\n\n\tMore minor changes in the Emacs manual\n\n\t* doc/emacs/xresources.texi (GTK resources):\n\t* doc/emacs/trouble.texi (Contributing):\n\t* doc/emacs/frames.texi (Fonts): Use HTTPS URLs instead of HTTP.\n\n\t* doc/emacs/docstyle.texi: Add a few @hyphenation directives,\n\tbased on reports in emacs-manual-bugs@gnu.org about incorrect\n\thyphenation.\n\n2018-02-10  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid printing garbled error message from image.el\n\n\t* lisp/image.el (image--get-imagemagick-and-warn): Don't use\n\tapostrophe in the error message, as that message is shown from a\n\tunibyte buffer, and will run afoul of the default style of showing\n\tquote characters.  (Bug#30405)\n\n2018-02-09  Eli Zaretskii  <eliz@gnu.org>\n\n\tDoc string fix in latin-alt.el\n\n\t* lisp/leim/quail/latin-alt.el (\"dutch\"): Doc fix.  Reported by\n\tRobert Pluim <rpluim@gmail.com>.\n\n2018-02-09  Eli Zaretskii  <eliz@gnu.org>\n\n\tMinor improvements in package.texi\n\n\t* doc/emacs/package.texi (Package Menu): Minor wording change.\n\t(Package Installation): Use HTTPS.  A better @xref to GnuPG\n\tmanual.  Suggested by Michael Albinus <michael.albinus@gmx.de> in\n\temacs-manual-bugs@gnu.org.\n\n2018-02-09  Eli Zaretskii  <eliz@gnu.org>\n\n\tMinor improvement in Emacs user manual\n\n\t* doc/emacs/files.texi (Directories): Document that\n\t'directory-free-space-program' and 'directory-free-space-args' are\n\tonly for local filesystems.  Suggested by Michael Albinus\n\t<michael.albinus@gmx.de> in emacs-manual-bugs@gnu.org.\n\n2018-02-09  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* doc/lispref/anti.texi (Antinews): Replace 25.2 with 25.3.\n\n2018-02-09  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of mini-window resizing\n\n\t* doc/lispref/minibuf.texi (Minibuffer Windows): Mention\n\t'message-truncate-lines' for preventing resizing of minibuffer\n\twindows.  (Bug#19045)\n\t(Minibuffer Misc): Remove redundant description of\n\t'max-mini-window-height'.\n\t* doc/lispref/display.texi (Echo Area Customization): Adjust\n\tcross-reference.\n\n2018-02-09  Eli Zaretskii  <eliz@gnu.org>\n\n\tMore changes in the Emacs manual\n\n\t* doc/emacs/fixit.texi (Undo): Mention 'revert-buffer'.\n\t(Fixing Case): Fix punctuation.\n\t(Spelling): Fix a typo.  Suggested by Toon Claes <toon@iotcl.com>\n\tin emacs-manual-bugs@gnu.org.\n\n\t* doc/emacs/modes.texi (Major Modes): Break a long sentence into\n\t2.  Reported by Stefan Kamphausen <stefan.kamphausen@acrolinx.com>\n\tin emacs-manual-bugs@gnu.org.\n\n\t* doc/emacs/indent.texi (Just Spaces): Yet another minor\n\trewording.\n\n\t* doc/emacs/building.texi (Watch Expressions): Improve wording.\n\t(Multithreaded Debugging): Spell \"tool bar\" as 2 words.  Reported\n\tby Alberto Sartori <alberto.sartori@sissa.it> in\n\temacs-manual-bugs@gnu.org.\n\t(Grep Searching): Mention the effect of\n\t'compilation-mode-line-errors'.  (Bug#30397)\n\n\t* doc/emacs/basic.texi (Moving Point): Minor reformatting and\n\trewording of what <LEFT> and <RIGHT> do.\n\n2018-02-09  Noam Postavsky  <npostavs@gmail.com>\n\n\tClarify that text-quoting-style doesn't affect *Info* (Bug#24519)\n\n\t* src/doc.c (syms_of_doc) <text-quoting-style>: Clarify that info\n\tmanual display is unaffected.\n\n2018-02-09  Noam Postavsky  <npostavs@gmail.com>\n\n\tMention that shell quoting of % on w32 may fail (Bug#19350)\n\n\t* doc/lispref/os.texi (Security Considerations): Mention that quoting\n\tof '%' assumes no '^' in variable names.\n\t* test/lisp/subr-tests.el (shell-quote-argument-%-on-w32): New test,\n\tdemonstrating what doesn't work.\n\n2018-02-09  Noam Postavsky  <npostavs@gmail.com>\n\n\tFix --no-build-details for w32 and macOS\n\n\t* src/w32term.c (w32_initialize_display_info): Handle nil system-name.\n\t* lisp/term/ns-win.el (window-system-initialization): Don't pass nil\n\tto `x-open-connection'.\n\n2018-02-09  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* doc/lispref/anti.texi (Antinews): Add some more antinews.\n\n2018-02-08  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix crashes when run with --no-build-details\n\n\t* src/xrdb.c (get_environ_db):\n\t* src/xterm.c (same_x_server, x_term_init):\n\tDon\u2019t assume Fsystem_name returns a string.\n\n2018-02-08  Eli Zaretskii  <eliz@gnu.org>\n\n\tMore changes for the manual\n\n\t* doc/emacs/anti.texi (Antinews): Replace 25.2 with 25.3.\n\tReported by Michael Albinus <michael.albinus@gmx.de> in\n\temacs-manual-bugs@gnu.org.\n\n\t* doc/emacs/custom.texi (Function Keys): Improve wording.\n\tSuggested by clemens.radermacher@posteo.de in\n\temacs-manual-bugs@gnu.org.\n\n\t* doc/emacs/misc.texi (History References): Improve punctuation.\n\t(Terminal emulator): Fix a typo.\n\t(Term Mode): Remove redundant repeated text.\n\t(Invoking emacsclient): Improve wording.  Suggested by Alberto\n\tSartori <alberto.sartori@sissa.it> in emacs-manual-bugs@gnu.org.\n\n\t* doc/emacs/files.texi (Visiting): Fix last change.\n\n2018-02-08  Noam Postavsky  <npostavs@gmail.com>\n\n\tDoc fixes for process functions (Bug#30349)\n\n\t* doc/lispref/processes.texi (Asynchronous Processes): Explain what\n\tthe 'stopped' state means for a pipe process.\n\t* src/process.c (Fmake_process, Fmake_pipe_process)\n\t(Fmake_serial_process, Fmake_network_process):\n\t* lisp/subr.el (start-process):\n\t* lisp/net/tls.el (open-tls-stream):\n\t* lisp/net/starttls.el (starttls-open-stream):\n\t* lisp/net/gnutls.el (open-gnutls-stream): Remove meaningless phrase\n\t\"specify an output stream\" phrase from docstring.\n\n2018-02-07  Basil L. Contovounesios  <contovob@tcd.ie>\n\n\tFix shr and CSS 4 color maps\n\n\t* lisp/net/shr-color.el (shr-color-html-colors-alist): Fix typos.\n\tAdd RebeccaPurple.\n\t* lisp/textmodes/css-mode.el (css--color-map): Add fuchsia-magenta\n\tand aqua-cyan aliases.\n\t* test/lisp/textmodes/css-mode-tests.el (css-test-property-values):\n\tBump color count.\n\n2018-02-07  Eli Zaretskii  <eliz@gnu.org>\n\n\tYet another round of improvements in the manual\n\n\t* doc/emacs/misc.texi (Document View): Improve wording.  Reported\n\tby lyr3 <lyr3@protonmail.com> in emacs-manual-bugs@gnu.org.\n\n\t* doc/emacs/files.texi (Recover): Fix a typo.  Reported by Jorge\n\t<jorge+list@disroot.org> in emacs-manual-bugs@gnu.org.\n\n\t* doc/emacs/anti.texi (Antinews): Fix typos.  Reported by Justin\n\tHeyes-Jones <justinhj@gmail.com> in emacs-manual-bugs@gnu.org.\n\n\t* doc/emacs/mini.texi (Basic Minibuffer): Clarify wording.\n\tReported by Vivishek Sudhir <vivishek.sudhir@gmail.com> in\n\temacs-manual-bugs@gnu.org.\n\n\t* doc/emacs/cmdargs.texi (MS-Windows Registry): Improve wording\n\tregarding registry keys.\n\n\t* doc/emacs/macos.texi (Mac OS / GNUstep): Sayu \"NeXT Inc.\"\n\tReported by Cena Mayo <cenazoic@gmail.com> in\n\temacs-manual-bugs@gnu.org.\n\n\t* doc/emacs/screen.texi (Screen): More accurate wording.\n\tSuggested by Milo\u0161 Polakovi\u010d <milos@alphamail.org> in\n\temacs-manual-bugs@gnu.org.\n\n\t* doc/emacs/indent.texi (Just Spaces): Minor wording change.\n\tSuggested by David Bonnafous <dbonnafo@gmail.com> in\n\temacs-manual-bugs@gnu.org.\n\n\t* doc/emacs/text.texi (TeX Mode, TeX Editing): Improve and\n\tsimplify wording.  Suggested by root@vxid.pw <root@vxid.pw> in\n\temacs-manual-bugs@gnu.org.\n\n\t* doc/emacs/cmdargs.texi (Window Size X): Minor wording change.\n\n\t* doc/emacs/display.texi (Highlight Interactively): Fill text.\n\t(Optional Mode Line): Fix typos.  Suggested by Alberto Sartori\n\t<alberto.sartori@sissa.it> in emacs-manual-bugs@gnu.org.\n\n\t* doc/emacs/building.texi (Debugger Operation): Clarify wording.\n\n\t* doc/emacs/files.texi (Directories, Comparing Files, Diff Mode)\n\t(Remote Files, File Names, Visiting, Backup Deletion)\n\t(Customize Save, Interlocking): Improve wording and accuracy of\n\tthe text.\n\t* doc/emacs/maintaining.texi (VC With A Merging VCS): Don't say\n\t\"his\".\n\t* doc/emacs/arevert-xtra.texi (Auto Reverting Dired): Minor\n\twording changes.\n\t(Supporting additional buffers): Moved to ...\n\t* doc/lispref/backups.texi (Reverting): ... here.\n\t* doc/emacs/emacs.texi (Top): Remove \"Supporting additional\n\tbuffers\" from master menu.\n\t* doc/emacs/files.texi (Reverting): Mention use of file\n\tnotifications.  Suggested by Michael Albinus\n\t<michael.albinus@gmx.de> in emacs-manual-bugs@gnu.org.\n\n\t* doc/emacs/rmail.texi (Rmail Motion): Clarify what '-' does to\n\t'M-s'.  Suggested by Arthur Milchior <arthur@milchior.fr> in\n\temacs-manual-bugs@gnu.org.\n\n\t* doc/emacs/cmdargs.texi (Initial Options): Capitalize \"Emacs\".\n\t(Action Arguments): Fix a typo.\n\t(Emacs Invocation): Replace em-dash with a comma.  Suggested by\n\tJustin Heyes-Jones <justinhj@gmail.com> in\n\temacs-manual-bugs@gnu.org.\n\n\t* doc/emacs/m-x.texi (M-x): Add an example.  Suggested by Alberto\n\tSartori <alberto.sartori@sissa.it> in emacs-manual-bugs@gnu.org.\n\n\t* doc/emacs/calendar.texi (Calendar/Diary, Calendar Unit Motion):\n\tMinor wording changes.\n\n2018-02-04  Juri Linkov  <juri@linkov.net>\n\n\t* lisp/vc/vc-git.el (vc-git-print-log): Restrict file scope to a single file\n\n\twhen vc-git-print-log-follow is non-nil (bug#19045).\n\t(vc-git-print-log-follow): Doc fix.\n\n\t* etc/NEWS: Mention 'vc-git-print-log-follow'.\n\n2018-02-04  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* doc/emacs/misc.texi (Interactive Shell): Refer to node \"Minibuffer File\"\n\n\tfor hints how to type remote file names effectively.\n\n2018-02-04  Eli Zaretskii  <eliz@gnu.org>\n\n\tYet another round of fixing the Emacs manual\n\n\t* doc/emacs/cmdargs.texi (Action Arguments): Rearrange text\n\tdescribing what happens when Emacs is invoked with several file\n\targuments.  Suggested by Grant Rettke <gcr@wisdomandwonder.com> in\n\temacs-manual-bugs@gnu.org.\n\n\t* doc/emacs/xresources.texi (GTK styles):\n\t* doc/emacs/mini.texi (Passwords):\n\t* doc/emacs/frames.texi (Scroll Bars): Use \"cannot\" instead of\n\t\"can not\".\n\n\t* doc/emacs/macos.texi (Mac / GNUstep Basics): Clarify the effect\n\tof ns-right-alternate-modifier when its value is 'none'.\n\tSuggested by Wanderson Ferreira <iagwanderson@gmail.com> in\n\temacs-manual-bugs@gnu.org.\n\n\t* doc/emacs/calendar.texi (Importing Diary, Appointments): Now\n\tsub-sections of Diary.\n\t* doc/emacs/emacs.texi (Top):\n\t* doc/emacs/calendar.texi (Diary): Adjust menus to the above\n\tchange.  Suggested by Isaac Carter <icarter1391@gmail.com> in\n\temacs-manual-bugs@gnu.org.\n\n\t* doc/emacs/anti.texi (Antinews): Fix grammar.\n\n2018-02-04  Alan Mackenzie  <acm@muc.de>\n\n\t* etc/NEWS: Expunge the solecism \"allow(s)\" + infinitive\n\n2018-02-04  Martin Rudalics  <rudalics@gmx.at>\n\n\tTwo minor fixes in Antinews\n\n\t* doc/emacs/anti.texi (Antinews): Two minor fixes.\n\n2018-02-03  Juri Linkov  <juri@linkov.net>\n\n\t* etc/NEWS: Rename image-dired-thumb-job-limit\n\n\tto image-dired-queue-active-limit (bug#30279)\n\n2018-02-03  Basil L. Contovounesios  <contovob@tcd.ie>\n\n\t* lisp/simple.el (async-shell-command, shell-command): Fix grammar\n\n2018-02-03  Basil L. Contovounesios  <contovob@tcd.ie>\n\n\tFix deferred display of async shell-command buffers\n\n\t* lisp/simple.el (shell-command): Display async shell buffer on\n\tprocess output for every, not just first, command invocation.  Check\n\tbuffer liveness, not name, before displaying. (bug#30213, bug#30280)\n\n2018-02-03  Eli Zaretskii  <eliz@gnu.org>\n\n\tMention remote file name completion in Emacs manual\n\n\t* doc/emacs/mini.texi (Minibuffer File): Describe the behavior of\n\t\"//\" with remote file names.  (Bug#29149)\n\n2018-02-03  Eli Zaretskii  <eliz@gnu.org>\n\n\tYest another round of manual copyedits\n\n\t* doc/emacs/fixit.texi (Transpose, Spelling): Minor stylistic\n\tchanges.  Suggested by myq larson <myqlarson@gmail.com> in\n\temacs-manual-bugs@gnu.org.\n\n\t* doc/emacs/calendar.texi (Appointments, Time Intervals): Mention\n\trelevant Org features.  Suggested by Alex Branham\n\t<alex.branham@gmail.com> in emacs-manual-bugs@gnu.org.\n\n\t* doc/emacs/dired.texi (Operating on Files)\n\t(Shell Commands in Dired, Image-Dired): Minor stylistic edits.\n\tSuggested by Francis Wright <f.j.wright@live.co.uk> in\n\temacs-manual-bugs@gnu.org.\n\n\t* doc/emacs/commands.texi (User Input): Explain \"C-M-a\".\n\tSuggested by Martin Luethi <martin.luethi@geo.uzh.ch> in\n\temacs-manual-bugs@gnu.org.\n\n2018-02-03  Eli Zaretskii  <eliz@gnu.org>\n\n\tUpdate xdisp.c commentary\n\n\t* src/xdisp.c: Update commentary regarding \"asynchronous\" entry\n\tinto redisplay.  (Bug#30182)\n\n2018-02-03  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix Bug#30324\n\n\t* lisp/net/rlogin.el (rlogin, rlogin-directory-tracking-mode):\n\tAdapt to changed remote file name syntax.  (Bug#30324)\n\n2018-02-03  Glenn Morris  <rgm@gnu.org>\n\n\tRecognize Org as builtin package (bug#30310)\n\n\t* lisp/org/org.el: Add Version header so detected as builtin package.\n\t* test/lisp/org/org-tests.el: New file.\n\n2018-02-02  Eli Zaretskii  <eliz@gnu.org>\n\n\tAnother round of manual fixups\n\n\t* doc/emacs/killing.texi (Killing by Lines): Clarify wording.\n\tReported by David Bonnafous <dbonnafo@gmail.com> in\n\temacs-manual-bugs@gnu.org.\n\n\t* doc/emacs/windows.texi (Other Window): Improve wording.\n\tReported by Rasmus Sjostrom <ras.sjostrom@gmail.com> in\n\temacs-manual-bugs@gnu.org.\n\n\t* doc/emacs/display.texi (Display Custom): Mention that line\n\tnumbers are not displayed in the minibuffer and tooltips.\n\n\t* doc/emacs/mini.texi (Basic Minibuffer): Improve wording.\n\t* doc/emacs/regs.texi (Registers): More comma removal.  Suggested\n\tby \"root@vxid.pw root@vxid.pw\" <root@vxid.pw> in\n\temacs-manual-bugs@gnu.org.\n\n\t* doc/emacs/display.texi (Auto Scrolling): Fix a typo.  Reported\n\tby Kevin Foley <kfoley15@gmail.com> in emacs-manual-bugs@gnu.org.\n\n\t* doc/emacs/display.texi (Scrolling): Fix grammar.\n\t(Horizontal Scrolling): Mention reasonable limits for hscroll-step\n\tfloat values.  Suggested by Jerome Truong <jerometruong@gmail.com>\n\tin emacs-manual-bugs@gnu.org.\n\n\t* doc/emacs/mini.texi (Minibuffer Edit): Add a missing comma.\n\t* doc/emacs/basic.texi (Position Info, Arguments, Repeating):\n\tRemove redundant commas.  Suggested by oldgaro\n\t<oldgaro@protonmail.com> in emacs-manual-bugs@gnu.org.\n\n\t* doc/emacs/kmacro.texi (Save Keyboard Macro): Clarify wording.\n\tSuggested by clemens.radermacher@posteo.de in\n\temacs-manual-bugs@gnu.org.\n\n\t* doc/emacs/building.texi (Compilation Mode): Improve and simplify\n\twording.  Suggested by drone <yoorobot@gmail.com> in\n\temacs-manual-bugs@gnu.org.\n\n\t* doc/emacs/dired.texi (Dired Enter): Clarify wording.\n\t(Dired Deletion): Fix a typo.\n\t(Marks vs Flags): Mention that M-DEL in Dired asks for the mark\n\tcharacter.  Fix typos.\n\t* doc/emacs/basic.texi (Moving Point, Erasing, Basic Undo)\n\t(Arguments): Some additional information about keys.  Reported by\n\tFrancis Wright <f.j.wright@live.co.uk> in\n\temacs-manual-bugs@gnu.org.\n\n2018-02-02  Basil L. Contovounesios  <contovob@tcd.ie>  (tiny change)\n\n\t* doc/lispref/customize.texi (Custom Themes): Clarify .el preference.\n\n\n\thttps://lists.gnu.org/archive/html/emacs-devel/2018-01/msg00824.html.\n\n2018-02-02  Eli Zaretskii  <eliz@gnu.org>\n\n\t* doc/emacs/entering.texi (Entering Emacs): Another wording fix.\n\n2018-02-02  Noam Postavsky  <npostavs@gmail.com>\n\n\t* doc/lispref/functions.texi (Inline Functions): Fix typo (Bug#30238).\n\n\t* lisp/imenu.el (imenu-generic-expression): Rephrase doc (Bug#30294).\n\n2018-02-01  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix last change of @key markup\n\n\t* doc/lispref/display.texi (Specified Space):\n\t* doc/emacs/programs.texi (C Modes):\n\t* doc/emacs/killing.texi (Rectangles):\n\t* doc/emacs/emacs.texi (Top):\n\t* doc/emacs/display.texi (Useless Whitespace): Don't use @key\n\tmarkup for characters and commands, only for keys.\n\n2018-02-01  Eli Zaretskii  <eliz@gnu.org>\n\n\t* doc/emacs/entering.texi (Entering Emacs): Fix markup.\n\n2018-02-01  Michael Albinus  <michael.albinus@gmx.de>\n\n\tRevert a1bbc49015 (Bug#30243), do not merge\n\n\t* lisp/files.el:\n\t* test/lisp/net/tramp-tests.el: Revert a1bbc49015.  (Bug#30243)\n\n2018-01-31  Michael Albinus  <michael.albinus@gmx.de>\n\n\tUse @key{} where it is missing in the manuals\n\n2018-01-31  Eli Zaretskii  <eliz@gnu.org>\n\n\tAnother round of manual fixes from proofreading\n\n\t* doc/emacs/search.texi (Incremental Search)\n\t(Nonincremental Search): Mention the menu bar and fix typos.\n\tReported by David Bonnafous <dbonnafo@gmail.com> in\n\temacs-manual-bugs@gnu.org.\n\t* doc/emacs/building.texi (Compilation): Improve wording.\n\tSuggested by drone <yoorobot@gmail.com> in\n\temacs-manual-bugs@gnu.org.\n\t* doc/emacs/kmacro.texi (Basic Keyboard Macro): Clarify text.\n\tSuggested by Robert Pluim <rpluim@gmail.com> in\n\temacs-manual-bugs@gnu.org.\n\t* doc/emacs/display.texi (Highlight Interactively, Fringes):\n\tImprove wording.  Suggested by Justin Heyes-Jones\n\t<justinhj@gmail.com> in emacs-manual-bugs@gnu.org.\n\t* doc/emacs/commands.texi (User Input, Commands): Add missing\n\tcommas.\n\t* doc/emacs/screen.texi (Menu Bar): Mention keyboard keys to\n\tnavigate menus.  Suggested by oldgaro <oldgaro@protonmail.com> in\n\temacs-manual-bugs@gnu.org.\n\t* doc/emacs/search.texi (Not Exiting Isearch): Fix a typo.\n\tReported by \"Kocken, I.J. (Ilja)\" <I.J.Kocken@uu.nl> in\n\temacs-manual-bugs@gnu.org.\n\t* doc/emacs/basic.texi (Inserting Text): Mention one more label of\n\tRET.  Suggested by Francis Wright <f.j.wright@live.co.uk> in\n\temacs-manual-bugs@gnu.org.\n\t* doc/emacs/text.texi (Paragraphs): Clarify text.  Reported by\n\tMarcin Borkowski <mbork@mbork.pl> in emacs-manual-bugs@gnu.org.\n\t* doc/emacs/maintaining.texi (Introduction to VC)\n\t(Why Version Control?, VCS Merging): Fix typos and section\n\tcapitalization.  Suggested by \"R. P. Dillon\"\n\t<rpdillon@killring.org> in emacs-manual-bugs@gnu.org.\n\t* doc/emacs/modes.texi (Major Modes, Choosing Modes): Fix typos.\n\tReported by clemens.radermacher@posteo.de in\n\temacs-manual-bugs@gnu.org.\n\n2018-01-31  Eli Zaretskii  <eliz@gnu.org>\n\n\t* doc/emacs/entering.texi (Entering Emacs): Fix last change.\n\n2018-01-31  Martin Rudalics  <rudalics@gmx.at>\n\n\tDocument 'window-at-side-p' in the Elisp manual\n\n\t* doc/lispref/windows.texi (Windows and Frames): Document\n\t'window-at-side-p'.\n\n2018-01-31  Noam Postavsky  <npostavs@gmail.com>\n\n\tDocument external-debugging-output in the Elisp Manual (Bug#24051)\n\n\t* doc/lispref/streams.texi (Output Streams): List\n\texternal-debugging-output.\n\t* src/print.c (Fexternal_debugging_output): Quote `print' in\n\tdocstring.\n\n2018-01-31  Noam Postavsky  <npostavs@gmail.com>\n\n\tFix scroll-margin docstring (Bug#13791)\n\n\t* src/xdisp.c (syms_of_xdisp) <scroll-margin>: Explain that entering\n\tthe margin may trigger any sort of auto scrolling, not recentering\n\tspecifically.\n\n2018-01-31  Noam Postavsky  <npostavs@gmail.com>\n\n\tClarify that `ansi-term' is almost the same as `term' (Bug#18106)\n\n\t* lisp/term.el (ansi-term): Clarify that it's almost the same as `term'.\n\n2018-01-31  Noam Postavsky  <npostavs@gmail.com>\n\n\tUpdate manual description of locate-file (Bug#23650)\n\n\t* doc/lispref/files.texi (Locating Files): Add example of predicate\n\twhen searching for a directory.\n\n2018-01-31  Noam Postavsky  <npostavs@gmail.com>\n\n\tClarify effect of print-gensym (Bug#27776)\n\n\t* src/print.c (syms_of_print) <print-gensym>: Clarify that use of #N#\n\tand #N= constructs depends on the value of `print-circle'.\n\n2018-01-31  Noam Postavsky  <npostavs@gmail.com>\n\n\t* lisp/custom.el (defcustom): Fix docstring (Bug#27891).\n\n2018-01-31  Noam Postavsky  <npostavs@gmail.com>\n\n\tDefine cl-type-definition button type as needed (Bug#28899)\n\n\t* lisp/emacs-lisp/eieio-opt.el (eieio-help-constructor): Require\n\t`cl-extra' before using the `cl-type-definition' button type.\n\n2018-01-31  Noam Postavsky  <npostavs@gmail.com>\n\n\tEmphasize that GPG passphrase caching is temporary (Bug#29907)\n\n\t* doc/misc/epa.texi (Caching Passphrases): Clarify that caching is\n\ttemporary.\n\t(GnuPG version compatibility): Fix typo.\n\n2018-01-30  Alan Mackenzie  <acm@muc.de>\n\n\tFix @examples in cc-mode.info, where lines were getting glued together.\n\n\tThis happened because of false @c's in macro lines.\n\n\t* doc/misc/cc-mode.texi (Line-up Functions): Remove the unneeded @c from\n\tmacros sssTBasicOffset, sssTsssTBasicOffset, and hereFn.\n\n2018-01-30  Eli Zaretskii  <eliz@gnu.org>\n\n\tMinor change in \"Mode Line\" section of Emacs manual\n\n\t* doc/emacs/screen.texi (Mode Line): Mention tooltips shown when\n\thovering the mouse over the mode line.  Suggested by Eduardo\n\tMercovich <eduardo@mercovich.net> in emacs-manual-bugs@gnu.org.\n\n2018-01-30  Eli Zaretskii  <eliz@gnu.org>\n\n\tMore fixes in the Emacs manual\n\n\t* doc/emacs/screen.texi (Mode Line): Fix markup and\n\tcross-references.\n\t(Menu Bar): Correct inaccurate description.\n\t* doc/emacs/macos.texi (Mac OS / GNUstep, Mac / GNUstep Events):\n\t* doc/emacs/frames.texi (Scroll Bars):\n\t* doc/emacs/emacs.texi (Top):\n\t* doc/emacs/ack.texi (Acknowledgments): Fix spelling of \"macOS\".\n\t* doc/emacs/misc.texi (Invoking emacsclient)\n\t(emacsclient Options): Fix markup of 'emacsclient'.  Suggested by\n\tMichael Albinus <michael.albinus@gmx.de> in\n\temacs-manual-bugs@gnu.org.\n\n2018-01-30  Eli Zaretskii  <eliz@gnu.org>\n\n\tMinor copyedits in \"Distribution\" chapter of the Emacs manual\n\n\t* doc/emacs/emacs.texi (Distrib): Minor wording changes.\n\tSuggested by oldgaro <oldgaro@protonmail.com> in\n\temacs-manual-bugs@gnu.org.\n\n2018-01-30  Eli Zaretskii  <eliz@gnu.org>\n\n\tMinor copyedits in \"Entering\" chapter of Emacs manual.\n\n\t* doc/emacs/entering.texi (Entering Emacs): Add a cross-reference\n\tto MS-Windows startup procedures.  Clarify wording.  Suggested by\n\tFrancis Wright <f.j.wright@live.co.uk> in emacs-manual-bugs@gnu.org.\n\n2018-01-30  Eli Zaretskii  <eliz@gnu.org>\n\n\tMinor wording change in the Emacs manual\n\n\t* doc/emacs/screen.texi (Screen): Minor wording change.  Suggested\n\tby Wesley Ellis <ellisgen@gmail.com> in emacs-manual-bugs@gnu.org.\n\n2018-01-30  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix a typo in the Emacs manual\n\n\t* doc/emacs/custom.texi (Customization Groups): Fix a typo.\n\tReported by Jonathan Kyle Mitchell <kyle@jonathanmitchell.org> in\n\temacs-manual-bugs@gnu.org.\n\n2018-01-30  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove the \"Basic\" chapter of the Emacs manual\n\n\t* doc/emacs/basic.texi (Inserting Text): De-confuse text.\n\t(Position Info): Add a cross-reference to where\n\tdisplay-line-numbers-mode is described.  Reported by Joshua\n\tBranson <jbranso@fastmail.com> in emacs-manual-bugs@gnu.org.\n\n2018-01-30  Eli Zaretskii  <eliz@gnu.org>\n\n\tResurrect lost text in lispref\n\n\t* doc/lispref/files.texi (File Attributes): Resurrect\n\tinadvertently lost text.\n\n2018-01-30  Philipp Stephani  <phst@google.com>\n\n\t* lisp/emacs-lisp/rx.el (rx): Fix the definition of 'blank'.\n\n2018-01-29  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tProofread os.texi and files.texi\n\n2018-01-29  Eli Zaretskii  <eliz@gnu.org>\n\n\tMinor improvements in the \"International\" chapter of Emacs manual\n\n\t* doc/emacs/mule.texi (File Name Coding): Stop enumerating all the\n\tversions of MS-Windows.\n\t(Modifying Fontsets, Unibyte Mode, Bidirectional Editing): Improve\n\twording.  Reported by Francis Wright <f.j.wright@live.co.uk> in\n\temacs-manual-bugs@gnu.org.\n\n2018-01-29  Eli Zaretskii  <eliz@gnu.org>\n\n\tMinor improvement in \"Text\" chapter of Emacs manual\n\n\t* doc/emacs/text.texi (Words): Improve wording.  Reported by\n\tMarcin Borkowski <mbork@mbork.pl> in\n\thttp://lists.gnu.org/archive/html/emacs-devel/2018-01/msg00784.html.\n\n2018-01-28  Martin Rudalics  <rudalics@gmx.at>\n\n\tFix some issues in the emacs/lispref manuals\n\n\t* doc/emacs/basic.texi (Continuation Lines):\n\t* doc/emacs/building.texi (GDB User Interface Layout):\n\t* doc/emacs/dired.texi (Misc Dired Features):\n\t* doc/emacs/maintaining.texi (Identifier Search):\n\t* doc/emacs/mark.texi (Using Region):\n\t* doc/emacs/misc.texi (Document View, DocView Conversion):\n\t* doc/emacs/modes.texi (Major Modes):\n\t* doc/emacs/mule.texi (Input Methods, Unibyte Mode):\n\t* doc/emacs/sending.texi (Mail Methods): Replace @code by\n\t@kbd.\n\t* doc/emacs/frames.texi (Text-Only Mouse):\n\t* doc/lispref/maps.texi (Standard Keymaps): Replace @kbd by\n\t@key.\n\t* doc/lispref/compile.texi (Compiler Errors): Write\n\tnon-@code{nil} instead of non-nil.\n\t* doc/lispref/debugging.texi (Internals of Debugger):\n\t'backtrace' is not a command.  'debugger-stack-frame-as-list'\n\tis an option.\n\t* doc/lispref/display.texi (Size of Displayed Text):\n\t'window-lines-pixel-dimensions' has a last argument 'left'.\n\t* doc/lispref/display.texi (Attribute Functions):\n\t'set-face-underline' and 'set-face-inverse-video' are\n\tcommands.\n\t(Tooltips): 'tooltip-frame-parameters' is an option.\n\t(Bidirectional Display): 'bidi-paragraph-direction' is an\n\toption.\n\t* doc/lispref/frames.texi (Cursor Parameters): 'cursor-type'\n\tis an option.\n\t(Input Focus): Argument FRAME of 'x-focus-frame' is not\n\toptional.\n\t(Child Frames): Both arguments of 'frame-ancestor-p' are\n\tnon-optional.  'iconify-child-frame' is an option.\n\t* doc/lispref/os.texi (Killing Emacs):\n\t'kill-emacs-query-functions' is an option.\n\t* doc/lispref/windows.texi (Mouse Window Auto-selection):\n\t'mouse-autoselect-window' is an option.\n\n2018-01-28  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix multiple spaces in Emacs manual\n\n\t* doc/emacs/search.texi (Lax Search): Fix multiple consecutive\n\tspaces in printed manual.\n\n2018-01-28  Eli Zaretskii  <eliz@gnu.org>\n\n\t* lisp/files.el (save-some-buffers): Doc fix.  (Bug#30215)\n\n2018-01-28  Eli Zaretskii  <eliz@gnu.org>\n\n\tAdjudicate comments to \"International\" chapter of Emacs manual\n\n\t* doc/emacs/mule.texi (International Chars)\n\t(Language Environments, Input Methods, Defining Fontsets)\n\t(Modifying Fontsets): Minor wording changes and typo fixes.\n\tReported by Francis Wright <f.j.wright@live.co.uk> in\n\temacs-manual-bugs@gnu.org.\n\n2018-01-28  Noam Postavsky  <npostavs@gmail.com>\n\n\tRevert \"Signal error for symbol names with strange quotes (Bug#2967)\"\n\n\tThat commit did not make the corresponding change to printing, thus\n\tbreaking the (eq (read (prin1-to-string SYM)) SYM) invariant for those\n\tsymbols.  It's too late in the release cycle to change printing\n\tbehavior, therefore revert the reader change.\n\n\tDon't merge to master, the print function will be updated there (see\n\t\"Fix round tripping of read->print for symbols with strange quotes\").\n\n2018-01-27  Alan Mackenzie  <acm@muc.de>\n\n\tAllow read-passwd to hide characters inserted by C-y.  (Security fix.)\n\n\tThis fixes bug #30186.  The with-silent-modifications was there to prevent\n\trecords of text property manipulations being put into buffer-undo-list.  These\n\thad been causing a significant slowdown in CC Mode with C-_ after a large\n\tC-y.  This CC Mode problem has since been solved by a different workaround.\n\n\t* lisp/subr.el (remove-yank-excluded-properties): Remove the invocation of\n\twith-silent-modifications around the text property manipulations.\n\n2018-01-27  Eli Zaretskii  <eliz@gnu.org>\n\n\t* etc/PROBLEMS: Document issues with double-buffering.  (Bug#30088)\n\n2018-01-27  Charles A. Roelli  <charles@aurox.ch>\n\n\t* lisp/window.el (window-largest-empty-rectangle): Fix grammar.\n\n2018-01-27  Eli Zaretskii  <eliz@gnu.org>\n\n\tMinor changes in the Emacs manual\n\n\t* doc/emacs/search.texi (Search Customizations): Minor wording\n\tchange.\n\t* doc/emacs/files.texi (Customize Save): Add a cross-reference\n\tfor batch mode.\n\n2018-01-27  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove the \"Files\" chapter of the Emacs manual\n\n\t* doc/emacs/files.texi (File Shadowing): Rearrange text to explain\n\tthe notion of shadowing before describing the commands.  Suggested\n\tby Will Korteland <emacs-devel@korte.land> in\n\temacs-manual-bugs@gnu.org.\n\n2018-01-27  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove the \"Search\" chapter of the Emacs manual\n\n\t* doc/emacs/search.texi (Regexps, Regexp Backslash): Improve and\n\tclarify wording.\n\t(Search Customizations): Fix a typo.  Reported by Will Korteland\n\t<emacs-devel@korte.land> in emacs-manual-bugs@gnu.org.\n\n2018-01-27  Eli Zaretskii  <eliz@gnu.org>\n\n\t* src/indent.c (Findent_to): Doc fix.  (Bug#30260)\n\n2018-01-27  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of 'edebug-defun'\n\n\t* doc/lispref/edebug.texi (Instrumenting): Document a workaround\n\tfor a failure to instrument due to unknown macros.  (Bug#30243)\n\t(Bug#10577)\n\n2018-01-27  Eli Zaretskii  <eliz@gnu.org>\n\n\tMention crashes due to Noto Serif Kannada fonts\n\n\t* etc/PROBLEMS: Mention crashes due to Noto Serif Kannada fonts,\n\tand the respective workarounds.  (Bug#30193)\n\n2018-01-27  Noam Postavsky  <npostavs@gmail.com>\n\n\t* doc/lispref/searching.texi: Document regexp repetition limit.\n\n\t* src/syntax.c (char-syntax): Warn about ignoring text properties (Bug#22765).\n\n2018-01-27  Noam Postavsky  <npostavs@gmail.com>\n\n\tLoad mm-util as needed for url-file and url-data (Bug#30258)\n\n\t* lisp/url/url-file.el (url-file):\n\t* lisp/url/url-misc.el (url-data): Require `mm-util' before calling\n\t`mm-disable-multibyte'.\n\t* test/lisp/url/url-file-resources/file.txt:\n\t* test/lisp/url/url-file-tests.el:\n\t* test/lisp/url/url-misc-tests.el: New tests.\n\n2018-01-26  Eli Zaretskii  <eliz@gnu.org>\n\n\tAnother minor copyedit in the manual's \"Scroll Bars\"\n\n\t* doc/emacs/frames.texi (Scroll Bars): Mention that up/down and\n\tleft/right buttons may be absent from the toolkit scroll bars.\n\tReported by Robert Pluim <rpluim@gmail.com> in\n\temacs-manual-bugs@gnu.org.\n\n2018-01-26  Eli Zaretskii  <eliz@gnu.org>\n\n\tMinor fix in documentation of 'equal'\n\n\t* doc/lispref/objects.texi (Equality Predicates): Correct the\n\tconditions for equality of unibyte and multibyte strings.\n\t(Bug#30218)\n\n2018-01-26  Eli Zaretskii  <eliz@gnu.org>\n\n\t* lisp/dired-x.el (dired-guess-shell-alist-user): Doc fix.  (Bug#30192)\n\n2018-01-26  Eli Zaretskii  <eliz@gnu.org>\n\n\tMinor rewording in Emacs manual's \"Help Mode\" node\n\n\t* doc/emacs/help.texi (Help Mode): Minor rewording of description\n\tof 'help-follow-symbol'.  Suggested by Richard Stallman\n\t<rms@gnu.org> in emacs-manual-bugs@gnu.org.\n\n2018-01-26  Eli Zaretskii  <eliz@gnu.org>\n\n\tFixes for Emacs manual in frames.texi\n\n\t* doc/emacs/frames.texi (Scroll Bars, Mouse Commands)\n\t(Window Dividers): Minor clarifications and spelling/markup\n\tchanges.  Suggested by Robert Pluim <rpluim@gmail.com> in\n\temacs-manual-bugs@gnu.org.\n\n2018-01-24  Glenn Morris  <rgm@gnu.org>\n\n\t* doc/misc/cl.texi (Efficiency Concerns): Fix 2012-10-27 typo.\n\n2018-01-24  Robert Pluim  <rpluim@gmail.com>\n\n\tFix a few issues with latest GTK scaling changes\n\n\t* src/xfns.c (Fx_display_monitor_attributes_list): Call\n\tgdk_screen_get_monitor_scale_factor only for GTK versions\n\t3.10..3.21.\n\t* src/xterm.c (x_set_offset): Call xg_get_scale for GTK only.\n\n2018-01-24  Robert Pluim  <rpluim@gmail.com>\n\n\tUse scaled coordinates when calling into GTK\n\n\tThis is part two of a two part fix for the GTK scaling\n\tproblems.  See the thread starting at\n\thttp://lists.gnu.org/archive/html/emacs-devel/2018-01/msg00372.html\n\tfor an explanation of why it has been added to Emacs 26.\n\n\t* src/gtkutil.c (xg_set_geometry): Scale down the coordinates that we\n\tpass to gtk_window_move and to gtk_window_parse_geometry.\n\t* src/xterm.c (x_set_offset): Likewise.\n\n2018-01-24  Robert Pluim  <rpluim@gmail.com>\n\n\tScale monitor dimensions obtained from GTK\n\n\tThis is part one of a two part fix for the GTK scaling\n\tproblems.  See the thread starting at\n\thttp://lists.gnu.org/archive/html/emacs-devel/2018-01/msg00372.html\n\tfor an explanation of why it has been added to Emacs 26.\n\n\t* src/xfns.c (Fx_display_monitor_attributes_list): Take scaling factor\n\tinto account when using GTK to query the monitor dimensions, which\n\tallows frameset-restore to position frames correctly.\n\n2018-01-22  Rasmus  <rasmus@gmx.us>\n\n\tUpdate Org to v9.1.6\n\n\tPlease note this is a bugfix release. See etc/ORG-NEWS for details.\n\n2018-01-22  Aaron Jensen  <aaronjensen@gmail.com>\n\n\tUse text-pixels values only when saving framesets (Bug#30141)\n\n\t* lisp/frameset.el (frameset-persistent-filter-alist): Specify\n\tthat text-pixels values are by default only saved by framesets\n\tso the parameter is not set when restoring (Bug#30141).\n\n2018-01-21  Eli Zaretskii  <eliz@gnu.org>\n\n\tMinor improvement in section \"Pages\" of the usere manual\n\n\t* doc/emacs/text.texi (Pages): Improve wording.  Suggested by Will\n\tKorteland <emacs-devel@korte.land> in emacs-manual-bugs@gnu.org.\n\n2018-01-21  Eli Zaretskii  <eliz@gnu.org>\n\n\tMinor improvements in user manual\n\n\t* doc/emacs/trouble.texi (Emergency Escape, Contributing): Clarify\n\ttext.  Suggested by Jonathan Kyle Mitchell <kyle@jonathanmitchell.org>\n\tin emacs-manual-bugs@gnu.org\n\n2018-01-21  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove the \"Mark\" chapter of the user manual\n\n\t* doc/emacs/mark.texi (Setting Mark, Marking Objects): Improve and\n\tclarify wording.  Suggested by John Cummings <john@rootabega.net>\n\tin emacs-manual-bugs@gnu.org.\n\n2018-01-21  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove the \"Buffers\" chapter of the user manual\n\n\t* doc/emacs/buffers.texi (Several Buffers): Correct description of\n\tprefix arguments.  Clarify \"bury\".\n\t(Buffer Menus): Clarify wording.  Reported by John Cummings\n\t<john@rootabega.net> in emacs-manual-bugs@gnu.org.\n\n2018-01-21  tino calancha  <tino.calancha@gmail.com>\n\n\t* lisp/term.el (term-send-input): Fix text duplication in docstring\n\n2018-01-20  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove \"Buffers\" in the user manual\n\n\tSuggested by John Cummings <john@rootabega.net> in\n\temacs-manual-bugs@gnu.org:\n\t* doc/emacs/buffers.texi (Select Buffer): Add cross-references to\n\t\"Windows\" and \"Frames\".\n\t(Misc Buffer, Kill Buffer): Use BUFFER consistently in commands\n\tthat accept buffer names.\n\t(Select Buffer): Improve description of \"M-g M-g\".  Improve\n\twording.\n\t(Misc Buffer, Kill Buffer): Improve wording.\n\t(Kill Buffer): Fix the response required by kill-some-buffers.\n\tMention customizable options that control what clean-buffer-list\n\tdoes.\n\t(Several Buffers): More detail about\n\t'Buffer-menu-unmark-all-buffers'.\n\n2018-01-20  Eli Zaretskii  <eliz@gnu.org>\n\n\tDon't mention 'vc-stay-local' in the user manual\n\n\t* doc/emacs/vc1-xtra.texi (CVS Options):\n\t* doc/emacs/maintaining.texi (VC Directory Buffer): Remove\n\treferences to 'vc-stay-local', which no longer exists.\n\t(Bug#30138)\n\n2018-01-20  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix a typo in calendar.texi\n\n\t* doc/emacs/calendar.texi (Writing Calendar Files): Capitalize\n\t\"Filofax\".  Reported by Will Korteland <emacs-devel@korte.land>\n\tin emacs-manual-bugs@gnu.org.\n\n2018-01-20  Eli Zaretskii  <eliz@gnu.org>\n\n\tMinor improvement in wording of the Emacs manual\n\n\t* doc/emacs/killing.texi (CUA Bindings): Improve wording.\n\tSuggested by Will Korteland <emacs-devel@korte.land> in\n\temacs-manual-bugs@gnu.org.\n\n2018-01-20  Eli Zaretskii  <eliz@gnu.org>\n\n\tRevert \"Fix tempfile creation when byte compiling\"\n\n\tThis reverts commit 4fd446e9f65e5531b18d4a0c5e08a6eeabc292d8:\n\t* lisp/emacs-lisp/bytecomp.el (byte-compile-file):\n\tPut tempfile next to the target file, as was the original intent.\n\n2018-01-19  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix tempfile creation when byte compiling\n\n\tThis improves on the recent fix for master failing to build\n\ton FreeBSD.  Suggested by Stefan Monnier in:\n\thttps://lists.gnu.org/r/emacs-devel/2018-01/msg00600.html\n\t* lisp/emacs-lisp/bytecomp.el (byte-compile-file):\n\tPut tempfile next to the target file, as was the original intent.\n\n2018-01-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove the Emacs manual as suggested in emacs-manual-bugs\n\n\t* doc/emacs/killing.texi (Deletion and Killing): Add\n\tcross-reference to \"Kill Ring\".\n\t* doc/emacs/help.texi (Help Mode, Package Keywords): Improve\n\twording.  Suggested by Will Korteland <emacs-devel@korte.land> in\n\temacs-manual-bugs@gnu.org.\n\n2018-01-19  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/bytecomp.el: Tweak last change\n\n\t(byte-compile-file): Move comment closer to the code it describes.\n\n2018-01-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tUnbreak building Emacs on FreeBSD\n\n\t* lisp/emacs-lisp/bytecomp.el (byte-compile-file): Don't create\n\tthe temporary file under temporary-file-directory if the file\n\tbeing compiled is specified by an absolute file name.  This avoids\n\tproblems with ACL copying from temporary-file-directory on\n\tFreeBSD.  For the details, see\n\thttp://lists.gnu.org/archive/html/emacs-devel/2018-01/msg00513.html.\n\n2018-01-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tDon't unnecessarily use non-ASCII characters in C sources\n\n\t* src/xwidget.c (webkit_javascript_finished_cb):\n\t* src/gtkutil.c (xg_check_special_colors):\n\t* src/emacs-module.c (module_make_string):\n\t* src/alloc.c (SET_STACK_TOP_ADDRESS): Don't use non-ASCII quote\n\tcharacters.\n\n2018-01-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tPortability fixes in emacs-module-tests\n\n\t* test/Makefile.in (abs_top_srcdir): Add variable, needed by\n\tCPPFLAGS.\n\t* test/data/emacs-module/mod-test.c: Include <limits.h>.\n\t(pT, pZ, T_TYPE, Z_TYPE): Compatibility macros, for systems that\n\tdon't support %td and %zu format specs.\n\t(emacs_module_init): Use compatibility macros to make the error\n\tmessages print meaningful values (and avoid compiler warnings).\n\n2018-01-19  Noam Postavsky  <npostavs@gmail.com>\n\n\tAdd tests for term.el\n\n\t* lisp/term.el (term-mode): Add `name' attribute to\n\twindow-adjust-process-window-size-function value, so that it can be\n\tremoved easily by tests.\n\t* test/lisp/term-tests.el: New tests.\n\n2018-01-19  Callum Cameron  <cjcameron7@gmail.com>  (tiny change)\n\n\tHandle split AnSiT messages for term.el (Bug#17231)\n\n\tCheck to see if there is an incomplete command at the end of\n\tterm-emulate-terminal's input string, and, if so, save it so the whole\n\tcommand can be processed when the next string arrives.\n\t* lisp/term.el (term-partial-ansi-terminal-message): New variable.\n\t(term-mode): Make it buffer local.\n\t(term-handle-ansi-terminal-messages): Prepend it to the received\n\tmessage, and set it if a partial message was received.\n\n\n\tDo not merge to master, it will be solved differently there, see\n\t\"Switch term.el to lexical binding, and clean up code a bit\".\n\n2018-01-19  Glenn Morris  <rgm@gnu.org>\n\n\t* configure.ac (emacs_config_features): Add threads.\n\n2018-01-18  Noam Postavsky  <npostavs@gmail.com>\n\n\tHandle case-insensitive filenames for load-path shadows (Bug#5845)\n\n\t* lisp/emacs-lisp/shadow.el (load-path-shadows-find): Check for\n\tshadowing with case-insensitive matching for files of case-insensitive\n\tdirectories (as determined by `file-name-case-insensitive-p').\n\t* test/lisp/emacs-lisp/shadow-tests.el: New test.\n\t* test/lisp/emacs-lisp/shadow-resources/p1/foo.el:\n\t* test/lisp/emacs-lisp/shadow-resources/p2/FOO.el: New test files.\n\n2018-01-18  Alan Mackenzie  <acm@muc.de>\n\n\tCC Mode: stop distinguishing brace blocks from defun blocks by content.\n\n\tDon't merge to master; this is a quick fix for the emacs-26 branch.  This is\n\tessentially a reversion of the patch from 2017-11-10 which attempted to handle\n\tC99's compound literals.\n\n\tThe bug here was triggered when a defun block contained a declaration ending\n\tin a comma, yet without a semicolon.\n\n\t* lisp/progmodes/cc-engine.el (c-guess-basic-syntax): At the CASE 9 test,\n\tremove from the `or' form the test of a block's contents.\n\n2018-01-17  Philipp Stephani  <phst@google.com>\n\n\tUse recommended long options syntax in man page\n\n\t* doc/man/emacs.1.in: Specify equals sign for long options, as\n\trecommended in the manual.\n\n2018-01-17  Glenn Morris  <rgm@gnu.org>\n\n\tAn overdue update of GNUstep emacs.tiff\n\n\t* nextstep/GNUstep/Emacs.base/Resources/emacs.tiff:\n\tUpdate to the Emacs 25 icon.\n\tConverted from hicolor/scalable/apps/emacs.svg using Gimp.\n\t* nextstep/GNUstep/Emacs.base/Resources/README: Update.\n\n2018-01-17  Glenn Morris  <rgm@gnu.org>\n\n\tAdd some test skip conditions\n\n\t* test/lisp/vc/vc-bzr-tests.el (vc-bzr-test-bug9726)\n\t(vc-bzr-test-bug9781): Skip if bzr is faulty.\n\t* test/src/thread-tests.el: Skip if not compiled with threads.\n\n2018-01-17  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAdd documentation to ecomplete.el\n\n\t* lisp/ecomplete.el: Add doc strings and document the format.\n\n2018-01-17  Glenn Morris  <rgm@gnu.org>\n\n\t* admin/authors.el (authors-aliases): Tighten more entries.\n\n2018-01-17  Glenn Morris  <rgm@gnu.org>\n\n\tSmall startup fix for current-load-list\n\n\t* lisp/startup.el (command-line):\n\tAvoid current-load-list being non-nil after startup ends.\n\n2018-01-17  Glenn Morris  <rgm@gnu.org>\n\n\tauthors-aliases is based on regexps, not literals\n\n\t* admin/authors.el (authors-aliases): Replace overly-broad entries.\n\n2018-01-15  Charles A. Roelli  <charles@aurox.ch>\n\n\tRemove incorrect documentation in comint.el\n\n\t* lisp/comint.el (comint-interrupt-subjob, comint-kill-subjob)\n\t(comint-quit-subjob, comint-stop-subjob): Remove incorrect\n\tdocumentation.  (Bug#30079)\n\n2018-01-15  Glenn Morris  <rgm@gnu.org>\n\n\tAn overdue update of src/emacs-icon.h\n\n\t* src/emacs-icon.h: Update to the Emacs 25 icon.  (Bug#30047)\n\tConverted from hicolor/scalable/apps/emacs.svg using Gimp.\n\n2018-01-14  Eli Zaretskii  <eliz@gnu.org>\n\n\tMinor copyedit in ELisp manual\n\n\t* doc/lispref/variables.texi (File Local Variables): Improve\n\twording of last change.\n\n2018-01-14  Shuguang Sun  <shuguang@gmail.com>\n\n\tFix Bug#29149 in dired-aux.el\n\n\t* lisp/dired-aux.el (dired-shell-stuff-it): Handle remote\n\tcommands on w32 properly.  (Bug#29149)\n\n2018-01-14  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix Bug#29149 in shell.el\n\n\t* lisp/shell.el (shell): Change order of `file-local-name' and\n\t`expand-file-name' calls.  Otherwise, the local file name\n\twould be extended by a drive letter, even when it is a remote\n\tfile, seen from w32.  (Bug#29149)\n\n2018-01-13  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* doc/lispref/variables.texi (File Local Variables): Fix last change\n\n2018-01-13  Nicolas Petton  <nicolas@petton.fr>\n\n\t* ChangeLog.3: Update\n\n\tUpdate etc/AUTHORS\n\n2018-01-13  Nicolas Petton  <nicolas@petton.fr>\n\n\tFix an entry in authors-aliases\n\n\t* admin/authors.el (authors-aliases): Replace regexp from \"Max\", which\n\tis too broad, to an email address (\"mu@magi.net.ru\").\n\n2018-01-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tMention trace.el facilities in the ELisp manual\n\n\t* doc/lispref/debugging.texi (Debugging): Mention the trace.el\n\tlibrary.\n\n2018-01-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of safe values of variables\n\n\t* doc/lispref/variables.texi (File Local Variables): Mention the\n\tautoload cookie as a means of defining safe values for variables.\n\tSee http://lists.gnu.org/archive/html/emacs-devel/2018-01/msg00261.html\n\tfor the details.\n\t* doc/lispref/compile.texi (Compiler Errors): Document\n\t'byte-compile-error-on-warn'.\n\n2018-01-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove the Emacs manual's \"Misc\" node\n\n\t* doc/emacs/misc.texi (Gnus): A more descriptive section name.\n\t(Invoking emacsclient): Mention how to avoid errors when there's\n\tno Emacs server.\n\t(EWW, Embedded WebKit Widgets): Now subsections under\n\t\"Hyperlinking and Web Navigation Features\".\n\t(Amusements): Add \"games\" to the section name.  Suggested by Alex\n\tBranham <alex.branham@gmail.com> in emacs-manual-bugs@gnu.org.\n\n\t* doc/emacs/emacs.texi (Top): Adjust the top-level menus to the\n\tabove changes.\n\n\t* doc/lispref/os.texi (Security Considerations): Fix typos.\n\n2018-01-13  Martin Rudalics  <rudalics@gmx.at>\n\n\tIn nsterm.m use FRAME_NS_P instead of FRAME_X_P (Bug#30019)\n\n\t* src/nsterm.m (x_set_parent_frame): Call FRAME_NS_P instead\n\tof FRAME_X_P (Bug#30019).\n\n2018-01-12  Nicolas Petton  <nicolas@petton.fr>\n\n\tBump Emacs version to 26.0.91\n\n\t* README:\n\t* configure.ac:\n\t* msdos/sed2v2.inp:\n\t* nt/README.W32: Bump Emacs version.\n\n2018-01-12  Nicolas Petton  <nicolas@petton.fr>\n\n\t* ChangeLog.3: Update\n\n2018-01-12  Nicolas Petton  <nicolas@petton.fr>\n\n\tUpdate authors\n\n\t* admin/authors.el (authors-aliases, authors-valid-file-names): Additions.\n\t* etc/AUTHORS: Update AUTHORS file.\n\n2018-01-12  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\t* lisp/gnus/message.el (message-do-auto-fill): Prevent do-auto-fill from\n\tadding extra citation mark (bug#29767, but it is a different bug).\n\n2018-01-11  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of etags\n\n\t* doc/emacs/maintaining.texi (Tag Syntax, Create Tags Table):\n\tImprove documentation of etags options and of source language\n\tdetection.\n\n2018-01-11  Eli Zaretskii  <eliz@gnu.org>\n\n\tTeach etags new interpreters for some languages\n\n\t* lib-src/etags.c (Erlang_interpreters, Lua_interpreters)\n\t(Prolog_interpreters, Python_interpreters, Ruby_interpreters): New\n\tstatic variables.\n\t(lang_names): Use them to set interpreters for Erlang, Lua,\n\tProlog, Python, and Ruby.\n\t(find_entries): Support \"/usr/bin/env FOO\" form of specifying an\n\tinterpreter.\n\n\t* test/manual/etags/perl-src/htlmify-cystic: Modify the has-bang\n\tline to test the \"env FOO\" interpreter spec.  (Bug#30075)\n\t* test/manual/etags/ETAGS.good_1:\n\t* test/manual/etags/ETAGS.good_2:\n\t* test/manual/etags/ETAGS.good_3:\n\t* test/manual/etags/ETAGS.good_4:\n\t* test/manual/etags/ETAGS.good_5:\n\t* test/manual/etags/ETAGS.good_6: Adapt to latest changes in test\n\tfiles.\n\n2018-01-11  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/generator.el (iter-defun): Add 'doc-string' prop.\n\n\t* lisp/emacs-lisp/syntax.el (syntax-propertize): Fix bug#29767\n\n2018-01-10  Charles A. Roelli  <charles@aurox.ch>\n\n\tImprove documentation of fill-separate-heterogeneous-words-with-space\n\n\t* lisp/textmodes/fill.el\n\t(fill-separate-heterogeneous-words-with-space): Fix grammar.\n\n2018-01-10  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix documentation of some x-* functions\n\n\t* lisp/term/pc-win.el (x-display-pixel-width)\n\t(x-display-pixel-height, x-display-planes)\n\t(x-display-color-cells, x-server-max-request-size)\n\t(x-server-vendor, x-server-version, x-display-screens)\n\t(x-display-mm-height, x-display-mm-width)\n\t(x-display-backing-store, x-display-visual-class): Provide doc\n\tstrings, so that 'makedoc' produces non-empty documentation in\n\tetc/DOC for these functions.  (Bug#30068)\n\n2018-01-10  Philipp Stephani  <phst@google.com>\n\n\tInherit query-on-exit flag to stderr process (Bug#30031)\n\n\t* src/process.c (Fmake_process): Have the pipe process honor the\n\tparent's query-on-exit flag.\n\n\t* test/src/process-tests.el (make-process/noquery-stderr): New test.\n\n2018-01-10  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix Bug#30057\n\n\t* test/lisp/filenotify-tests.el (file-notify--test-tmpdir): New defvar.\n\t(file-notify--test-cleanup, file-notify--test-make-temp-name)\n\t(file-notify-test01-add-watch, file-notify-test03-events)\n\t(file-notify-test05-file-validity)\n\t(file-notify-test09-watched-file-in-watched-dir)\n\t(file-notify-test10-sufficient-resources): Use it.  (Bug#30057)\n\n2018-01-10  Glenn Morris  <rgm@gnu.org>\n\n\tTag some unstable tests, and skip by default (bug#24503)\n\n\t* Makefile.in (check-all): New phony target.\n\t* test/Makefile.in (SELECTOR_DEFAULT, SELECTOR_EXPENSIVE):\n\tAlso skip unstable tests.\n\t(SELECTOR_ALL): New variable.\n\t(check-all): New phony target.\n\t* test/lisp/emacs-lisp/eieio-tests/eieio-test-methodinvoke.el\n\t(eieio-test-method-order-list-6):\n\t* test/lisp/emacs-lisp/eieio-tests/eieio-tests.el\n\t(eieio-test-37-obsolete-name-in-constructor):\n\tMark as unstable rather than skipping on hydra.nixos.org.\n\n2018-01-10  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from Gnulib\n\n\tThis incorporates:\n\t2018-01-05 maint: Add encoding marker for Emacs to non-ASCII sources\n\t2018-01-04 update-copyright: Handle use of \u00a9\n\t2018-01-04 pthread_sigmask: Avoid compilation error on mingw\n\t2018-01-02 stat-time: silence -Wunused-parameter regression\n\t* build-aux/config.guess, build-aux/config.sub:\n\t* build-aux/update-copyright, doc/misc/texinfo.tex, lib/gnulib.mk.in:\n\t* lib/md5.c, lib/md5.h, lib/sha1.c, lib/sha1.h, lib/sha256.c:\n\t* lib/sha256.h, lib/sha512.c, lib/sha512.h, lib/signal.in.h:\n\t* lib/stat-time.h: Copy from Gnulib, or regenerate.\n\n2018-01-09  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/epg.el (epg-start-sign): Replace obsolete functions.\n\n2018-01-09  Glenn Morris  <rgm@gnu.org>\n\n\tSmall fix for erc-logging-enabled\n\n\t* lisp/erc/erc-log.el (erc-logging-enabled):\n\tRespect buffer-locality of erc-enable-logging variable.\n\n2018-01-09  Glenn Morris  <rgm@gnu.org>\n\n\tQuieten semantic normal usage\n\n\t* lisp/cedet/semantic/lex.el (semantic-flex): Mark obsolete at\n\tcompile time in the normal way, not at run-time.  (Bug#30035)\n\n2018-01-08  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid irrelevant hyperlink in doc string of 'epa-pinentry-mode'\n\n\t* lisp/epa.el (epa-pinentry-mode): Doc fix.  (Bug#30025)\n\n2018-01-08  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* doc/misc/tramp.texi (Remote processes): Mention gdb restrictions with I/O.\n\n2018-01-08  Noam Postavsky  <npostavs@gmail.com>\n\n\tQuery background for gnome terminal version 3.22 (Bug#29716)\n\n\t* lisp/term/xterm.el (xterm--version-handler): Use\n\txterm--report-background-handler for terminals reporting minor version\n\t4000 and above.\n\n2018-01-07  Tak Kunihiro  <tkk@misasa.okayama-u.ac.jp>\n\n\tMake pixel-wise scrolling less laggy\n\n\t* lisp/pixel-scroll.el (pixel-dead-time, pixel-last-scroll-time):\n\tNew variables.\n\t(pixel-scroll-up, pixel-scroll-down): Invoke 'scroll-up' or\n\t'scroll-down' when called within 'pixel-dead-time'.  (Bug#29737)\n\n2018-01-07  Alan Third  <alan@idiocy.org>\n\n\tFix child frame placement issues (bug#29953)\n\n\t* src/nsterm.h (NS_PARENT_WINDOW_LEFT_POS):\n\t(NS_PARENT_WINDOW_TOP_POS): Get the parent frame through the frame\n\tstruct as invisible child windows are detached from their parents in\n\tNS.\n\t* src/nsterm.m (x_set_offset): Offscreen frames have `nil' screen\n\tvalue, so handle that gracefully.  Child frames with negative left and\n\ttop should be positioned relative to the bottom right of the parent\n\tframe.\n\n2018-01-06  Alan Mackenzie  <acm@muc.de>\n\n\tDescribe the precise interaction of complex primitives with the change hooks\n\n\t* doc/lispref/text.texi (Change Hooks): Document that most buffer changing\n\tprimitives call before- and after-change-functions in balanced pairs, but that\n\tsome complex primitives call b-c-f once, and a-c-f zero, one, or several\n\ttimes.\n\n2018-01-06  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix valgrind report in call-interactively\n\n\t* src/callint.c (Fcall_interactively): Don't try to access more\n\tbytes than are available in the interactive spec.  (Bug#30004)\n\n2018-01-06  Eli Zaretskii  <eliz@gnu.org>\n\n\t* src/editfns.c (Fsave_excursion): Doc fix.  (Bug#30001)\n\n2018-01-06  Alan Mackenzie  <acm@muc.de>\n\n\tFix mark-defun when there's no spaces between successive defuns.\n\n\tThe problem was a parse-partial-sexp call which tried to use the STOPBEFORE\n\targument to detect non-syntactic WS.  This fails on a \"}\", which does not\n\tbegin a sexp.\n\n\t* lisp/emacs-lisp/lisp.el (beginning-of-defun--in-emptyish-line-p): Enhance to\n\thandle BOL being in a string.\n\t(beginning-of-defun-comments): Call the above function in place of the call\n\tto parse-partial-sexp.\n\n2018-01-06  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix Dired display and operations on file names with raw bytes\n\n\t* src/coding.c (decode_coding): When flushing remaining raw bytes\n\tfrom multibyte text, copy 2-byte forms of eight-bit-*\n\tcharacters as single characters, not as 2 raw bytes.  (Bug#29189)\n\n2018-01-05  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of 'gdb-many-windows'\n\n\t* doc/emacs/building.texi (GDB User Interface Layout): Add advice\n\tfor using a separate frame for 'gdb-many-windows'.\n\n2018-01-05  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix failures in smerge-mode on MS-Windows\n\n\t* lisp/vc/smerge-mode.el (smerge--refine-chopup-region): Use\n\tutf-8-emacs-unix, not emacs-internal, to make the forced EOL\n\tconvention explicit.\n\t(smerge-refine-regions): Use utf-8-emacs instead of\n\temacs-internal, to allow decoding of non-Unix EOL conventions.\n\t(Bug#29916)\n\n2018-01-04  Stephen Leake  <stephen_leake@stephe-leake.org>\n\n\tFix description of 'struct' generic function specializer\n\tBackport:\n\n\t* doc/lispref/functions.texi (Generic Functions): Fix description of\n\t'struct' specializer; it must be the named struct or a child, not a\n\tparent.\n\n\t(cherry picked from commit b6add8c7cfc6d36f9dd8ad99be06bd8ab41cc6f8)\n\n2018-01-04  Charles A. Roelli  <charles@aurox.ch>\n\n\t* etc/DEBUG (Getting control to the debugger): Fix grammar.\n\n2018-01-03  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/vc/vc.el (vc-region-history): log-view-vc-fileset holds a list!\n\n2018-01-03  Noam Postavsky  <npostavs@gmail.com>\n\n\tDon't bind dframe events on load (Bug#29599)\n\n\t* lisp/dframe.el (dframe-setup-hook): New hook.\n\t(dframe-set-special-events): New function, containing previous\n\ttop-level key binding code.\n\t(top-level): Add it to dframe-setup-hook.\n\t(dframe-frame-mode): Run the hook.\n\n2018-01-02  Eli Zaretskii  <eliz@gnu.org>\n\n\t* lisp/textmodes/picture.el (picture-mode-exit): Doc fix.  (Bug#29949)\n\n\t* lisp/textmodes/picture.el (picture-open-line): Doc fix.  (Bug#29948)\n\n2018-01-01  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix description of 'emacs-internal'\n\n\t* doc/lispref/nonascii.texi (Coding System Basics): Correct\n\tinaccuracy in description of 'emacs-internal'.  (Bug#29916)\n\n2018-01-01  Eli Zaretskii  <eliz@gnu.org>\n\n\tUpdate PROBLEMS with selection-related issues\n\n\t* etc/PROBLEMS: Update the entry about large selections and\n\tklipper.  (Bug#29661)\n\n2018-01-01  Ross Donaldson  <gastove@gmail.com>  (tiny change)\n\n\tNew customization variable for python-mode indentation (Bug#28475)\n\n\t* lisp/progmodes/python.el (python-indent-def-block-scale): New variable.\n\t(python-indent--calculate-indentation): Let it control how many indent\n\tlevels are inserted for multi-line function signatures.\n\n2018-01-01  Alan Third  <alan@idiocy.org>\n\n\tFix menu keyboard shortcuts on macOS (Bug#29595)\n\n\t* src/nsmenu.m (addItemWithWidgetValue)[NS_IMPL_COCOA]: It looks like\n\tmacOS 10.13 no longer ignores long modifier strings, so explicitly use\n\tan empty string.\n\n2018-01-01  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix copyright years by hand\n\n\tThese are dates that admin/update-copyright did not update, or\n\tupdated incorrectly.\n\n2018-01-01  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tUpdate copyright year to 2018\n\n\tRun admin/update-copyright.\n\n2018-01-01  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from Gnulib\n\n\tThis incorporates:\n\t2018-01-01 maint: Run 'make update-copyright'\n\t2017-12-29 Add cross-compilation results for GNU/Hurd.\n\t2017-12-12 explicit_bzero: port to macOS + Clang 9.0.0\n\n2017-12-31  Gemini Lasswell  <gazally@runbox.com>\n\n\tDon't add empty keyboard macro to macro ring (Bug#24992)\n\n\t* lisp/kmacro.el (kmacro-end-call-mouse): Don't save a newly defined\n\tmacro if it is empty.\n\n\t* test/lisp/kmacro-tests.el (kmacro-tests-end-and-call-macro-mouse):\n\tRemove expected failure tag.\n\n2017-12-31  Eli Zaretskii  <eliz@gnu.org>\n\n\tAllow customization of decoding of \"man\" command\n\n\t* lisp/man.el (Man-coding-system): New defcustom.\n\t(Man-start-calling): Use it, and also pay attention to user\n\toverriding coding-system-for-read.  (Bug#29872)\n\n2017-12-31  Daiki Ueno  <ueno@gnu.org>\n\n\t* etc/NEWS: Add security consideration note on passphrase input\n\n2017-12-29  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix subtle problem with scroll-down when scroll-margin is nonzero\n\n\t* src/window.c (window_scroll_pixel_based): Account for\n\tscroll-margin when scrolling down, i.e. moving window-start\n\ttowards the beginning of the buffer.  Reported by zhang cc\n\t<ccsmile2008@outlook.com> in\n\thttp://lists.gnu.org/archive/html/emacs-devel/2017-12/msg00894.html.\n\n2017-12-29  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix problems with indexing in User manual\n\n\t* doc/emacs/basic.texi (Continuation Lines, Inserting Text)\n\t(Moving Point):\n\t* doc/emacs/help.texi (Help Echo, Package Keywords, Help Mode):\n\t* doc/emacs/trouble.texi (Quitting):\n\t* doc/emacs/mark.texi (Setting Mark, Disabled Transient Mark):\n\t* doc/emacs/custom.texi (Modifier Keys, Init Examples)\n\t(Creating Custom Themes):\n\t* doc/emacs/programs.texi (Program Modes, Expressions, Hideshow)\n\t(Basic Indent, Info Lookup, Symbol Completion):\n\t* doc/emacs/screen.texi (Echo Area):\n\t* doc/emacs/xresources.texi (Table of Resources, GTK Names in Emacs):\n\t* doc/emacs/display.texi (Line Truncation, Cursor Display):\n\t* doc/emacs/files.texi (File Names, Backup, File Archives):\n\t* doc/emacs/dired.texi (Operating on Files, Dired Enter):\n\t* doc/emacs/commands.texi (User Input):\n\t* doc/emacs/mule.texi (International, Unibyte Mode)\n\t(International Chars):\n\t* doc/emacs/vc1-xtra.texi (RCS and SCCS, Version Headers)\n\t(CVS Options):\n\t* doc/emacs/modes.texi (Major Modes, Minor Modes):\n\t* doc/emacs/indent.texi (Just Spaces):\n\t* doc/emacs/frames.texi (Mouse Avoidance, Mode Line Mouse)\n\t(Frame Commands):\n\t* doc/emacs/cmdargs.texi (Initial Options):\n\t* doc/emacs/abbrevs.texi (Dabbrev Customization):\n\t* doc/emacs/mini.texi (Completion Example, Completion Commands):\n\t* doc/emacs/calendar.texi (Writing Calendar Files, Calendar Unit Motion)\n\t(From Other Calendar):\n\t* doc/emacs/regs.texi (Text Registers, Bookmarks):\n\t* doc/emacs/buffers.texi (Several Buffers, Select Buffer):\n\t* doc/emacs/maintaining.texi (Xref Commands):\n\t* doc/emacs/windows.texi (Pop Up Window):\n\t* doc/emacs/text.texi (Text, Org Mode):\n\t* doc/emacs/killing.texi (Other Kill Commands):\n\t* doc/emacs/misc.texi (Document View, Gnus Group Buffer)\n\t(Gnus Summary Buffer, Shell Mode):\n\t* doc/emacs/cal-xtra.texi (Sexp Diary Entries): Remove or reword\n\tredundant identical index entries.\n\t* doc/emacs/custom.texi (Mouse Buttons)\n\t* doc/emacs/files.texi (Reverting): Fix hyphenation.\n\t* doc/emacs/emacs.texi (Top): Improve wording of Index menu items.\n\t* doc/emacs/files.texi (File Conveniences):\n\t* doc/emacs/programs.texi (MixedCase Words): Make entries that\n\tbelong to Concept Index be indexed with @cindex.  (Bug#29888)\n\n2017-12-29  Alan Mackenzie  <acm@muc.de>\n\n\t* lisp/help.el (describe-key): Only (copy-sequence elt) when elt is a list.\n\n2017-12-28  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* src/buffer.c (Frestore_buffer_modified_p): Fix bug#29846\n\n\tDon't mess with the lock file when inhibit_modification_hooks is set,\n\tjust like we do in prepare_to_modify_buffer_1.\n\n2017-12-28  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of 'inhibit-modification-hooks' and friends\n\n\t* src/buffer.c (Fset_buffer_modified_p)\n\t(Frestore_buffer_modified_p): Doc fixes.\n\t* src/insdel.c (syms_of_insdel) <inhibit-modification-hooks>:\n\tDocument in the doc string that this variable also inhibits file\n\tlocks and active region handling.  (Bug#29846)\n\n2017-12-28  David Pathakjee  <dpathakjee@gmail.com>  (tiny change)\n\n\tFix doc string of 'enable-recursive-minibuffers'\n\n\t* src/minibuf.c (syms_of_minibuf) <enable-recursive-minibuffers>:\n\tDoc fix.  (Bug#29873)\n\n2017-12-27  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix documentation of delsel and of killing text\n\n\t* doc/emacs/killing.texi (Appending Kills): Make sure the text\n\twith 2 spaces is not broken between 2 lines.\n\t* doc/emacs/mark.texi (Using Region): Remove the sentence about\n\tdelsel mode that describes behavior which exists even without\n\tdelsel mode turned on.  Suggested by Petteri Hintsanen\n\t<petterih@iki.fi> in emacs-manual-bugs@gnu.org.\n\n\t* lisp/delsel.el (delete-selection-mode): Doc fix.\n\n2017-12-27  Glenn Morris  <rgm@gnu.org>\n\n\t* doc/lispref/strings.texi (Case Conversion):\n\tUse a TeX font that support ligatures.\n\n2017-12-27  Charles A. Roelli  <charles@aurox.ch>\n\n\t* doc/misc/speedbar.texi (Top): Fix grammar.\n\n\t* lisp/subr.el (with-silent-modifications): Doc fixes.\n\n2017-12-26  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix curved quotes in printed manual\n\n\t* doc/emacs/text.texi (Quotation Marks): Fix curved quote\n\tcharacters in the printed version of the manual.\n\n2017-12-25  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSay that \"gnus-cloud\" is a parody name\n\n2017-12-25  Eli Zaretskii  <eliz@gnu.org>\n\n\tMore improvements for text.texi\n\n\t* doc/emacs/text.texi (Outline Motion): Avoid unneeded\n\trepetition.  Suggested by Petteri Hintsanen <petterih@iki.fi> in\n\temacs-manual-bugs@gnu.org.\n\n2017-12-24  Eli Zaretskii  <eliz@gnu.org>\n\n\tAdjudicate review comments for the \"Text\" chapter of user manual\n\n\t* doc/emacs/text.texi (Text): Rearrange text for clarity.  Add\n\tcross-reference to the Org manual.  Make the cross-reference to\n\tOutline Mode appear in online manuals as well (the conditional was\n\ta forgotten remnant from time immemoriam).\n\t(Paragraphs): Add a note that 'paragraph-start' and\n\t'paragraph-separate' should not be anchored.\n\t(Auto Fill): Remove redundant text.  Suggested by Petteri\n\tHintsanen <petterih@iki.fi> in emacs-manual-bugs@gnu.org.\n\n2017-12-24  Andreas Schwab  <schwab@linux-m68k.org>\n\n\t* lisp/url/url-http.el\n\t(url-http-wait-for-headers-change-function): Change message to\n\turl-http-debug.\n\n2017-12-24  Alan Mackenzie  <acm@muc.de>\n\n\tIn C-h k <mouse-n>, alert user to existence of any matching down-mouse-event\n\n\t, and instruct her to hold the mouse button to display its documentation.\n\n\t* lisp/help.el (help-downify-mouse-event-type): New function.\n\t(help-read-key-sequence, describe-key): handle double-click-time being nil or\n\tt.\n\t(describe-key): Print out instructions for displaying documentation of\n\tmatching mouse down key sequence command when such exists.\n\n2017-12-23  Andreas Schwab  <schwab@linux-m68k.org>\n\n\t* net/eww.el (eww): Handle URLs without host part.\n\n2017-12-23  Alan Mackenzie  <acm@muc.de>\n\n\tMake C-h c/k S-mouse-1 display message for mouse-appearance-menu, etc.\n\n\tCurrently, C-h c/k for S-mouse-1 reports that S-mouse-1 is unbound, ignoring\n\tthat S-down-mouse-1 is bound.  We fix this by reporting on the \"latest\" mouse\n\tevent of a sequence which is bound.\n\n\t* lisp/help.el (help-read-key-sequence): Save all encountered mouse events in\n\ta list.  Return the latest one which has a binding.\n\n2017-12-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid crashes when ':eval' deletes our frame\n\n\t* src/xdisp.c (display_mode_element): Signal an error if\n\t':eval' somehow deletes the frame whose window we are\n\tredisplaying. (Bug#29726)\n\n2017-12-23  Tak Kunihiro  <tkk@misasa.okayama-u.ac.jp>\n\n\tFix scrolling up in pixel-scroll.el\n\n\t* lisp/pixel-scroll.el (pixel-scroll-up): Do not try to move cursor\n\tdown when EOB is shown at the top.  This function is reverted to\n\tcommit 1bda71ec3b11eeb4d06c3da094a3cb21bac18d5c. (bug#29737)\n\n2017-12-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix problems with ligatures in PDF version of ELisp manual\n\n\t* doc/lispref/strings.texi (Case Conversion): Avoid problems with\n\tligatures in printed versions of the manual.  (Bug#29818)\n\n2017-12-22  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t(elisp-flymake-byte-compile): Handle killed buffer in sentinel\n\n\t* lisp/progmodes/elisp-mode.el (elisp-flymake-byte-compile):\n\tDon't burp if the source-buffer has been killed.\n\n2017-12-22  Glenn Morris  <rgm@gnu.org>\n\n\tAvoid some overfull lines in PDF lispref\n\n\t* doc/lispref/commands.texi (Reading One Event):\n\t* doc/lispref/display.texi (SVG Images):\n\t* doc/lispref/frames.texi (Size Parameters):\n\t* doc/lispref/syntax.texi (Categories):\n\t* doc/lispref/windows.texi (Frame Layouts with Side Windows):\n\tAvoid overfull lines.\n\n2017-12-22  Glenn Morris  <rgm@gnu.org>\n\n\tAvoid some overfull lines in PDF manual\n\n\t* doc/emacs/display.texi (Display Custom):\n\t* doc/emacs/search.texi (Other Repeating Search):\n\t* doc/emacs/text.texi (Quotation Marks): Avoid overfull lines.\n\n2017-12-22  Glenn Morris  <rgm@gnu.org>\n\n\t* doc/emacs/arevert-xtra.texi (Auto Reverting the Buffer Menu):\n\tFix ref.\n\n2017-12-22  Eli Zaretskii  <eliz@gnu.org>\n\n\t* lisp/emacs-lisp/inline.el (define-inline): Add a doc string.\n\n2017-12-22  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix doc string of 'footnote-style-alist'\n\n\t* lisp/mail/footnote.el (footnote-style-alist): Remove a reference\n\tto non-existing files from doc string.  (Bug#29759)\n\n2017-12-22  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of selecting windows\n\n\t* doc/lispref/windows.texi (Basic Windows, Selecting Windows):\n\tClarify what selecting a window means for keyboard input, and that\n\tinput focus may need to be considered when selecting windows on\n\tother frames.  See\n\thttp://lists.gnu.org/archive/html/emacs-devel/2017-12/msg00372.html\n\tfor more details.\n\n2017-12-22  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of records\n\n\t* doc/lispref/Makefile.in (srcs): Add the forgotten records.texi.\n\t* doc/lispref/records.texi (Records): Recommend that record type\n\tnames use package-naming conventions.\n\n\t* etc/NEWS: Add the naming convention recommendation for record\n\ttypes.\n\n2017-12-22  Eli Zaretskii  <eliz@gnu.org>\n\n\t* etc/NEWS: Mention the removal of pinentry.el.  (Bug#27445)\n\n2017-12-22  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix interactive spec of 'semantic-ia-show-variants'\n\n\t* lisp/cedet/semantic/ia.el (semantic-ia-show-variants): Fix the\n\tinteractive spec to match the function's expectations.  (Bug#29770)\n\n2017-12-22  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix documentation of 'mouse-drag-and-drop-region' and friends\n\n\t* doc/emacs/frames.texi (Drag and Drop): Index\n\t'mouse-drag-and-drop-region-cut-when-buffers-differ',\n\t'mouse-drag-and-drop-region-show-tooltip', and\n\t'mouse-drag-and-drop-region-show-cursor'.\n\n\t* etc/NEWS: Fix the format of the related entries.\n\n2017-12-22  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove detection of speller version in ispell.el\n\n\t* lisp/textmodes/ispell.el (ispell-check-version): Accept more\n\tgeneral forms of version numbers for Aspell, Hunspell, and\n\tEnchant, to include various beta and prereleases.  (Bug#29801)\n\n2017-12-22  Tak Kunihiro  <tkk@misasa.okayama-u.ac.jp>\n\n\tDocument 'mouse-drag-and-drop-region' options and mention them in NEWS\n\n\t* doc/emacs/frames.texi (Drag and Drop):\n\t* etc/NEWS (times): Document options for\n\t'mouse-drag-and-drop-region' and mention them in NEWS.\n\n2017-12-22  Martin Rudalics  <rudalics@gmx.at>\n\n\tFix uses of 'nil' and 'non-nil' in manuals and a few more minor issues\n\n\t* doc/emacs/building.texi (Grep Searching): Fix doc of\n\t'grep-save-buffers'.\n\t(Drag and Drop): Reorder paragraphs.  Fix doc of\n\t'mouse-drag-and-drop-region'.\n\t* doc/emacs/frames.texi (Word and Line Mouse):\n\t* doc/emacs/search.texi (Other Repeating Search):\n\t* doc/lispref/compile.texi (Compilation Functions):\n\t* doc/lispref/files.texi (Directory Names):\n\t* doc/lispref/functions.texi (Advising Named Functions):\n\t* doc/lispref/keymaps.texi (Controlling Active Maps):\n\t* doc/lispref/lists.texi (Association Lists):\n\t* doc/lispref/windows.texi (Quitting Windows): Fix uses of\n\t'non-nil' and 'nil'.\n\n2017-12-21  Philipp Stephani  <phst@google.com>\n\n\tDocument that mode commands should be idempotent.\n\n\t* doc/lispref/modes.texi (Major Mode Conventions, Minor Mode\n\tConventions): Document that the mode commands should be idempotent.\n\n2017-12-21  Alan Mackenzie  <acm@muc.de>\n\n\tFontify a CPP construct correctly when a comment follows without spaces\n\n\tDo this by removing a broken optimization in the state cache which put\n\tcategory text properties on a character between the end of the CPP construct\n\tand the beginning of the comment.  This can't work when there's no such\n\tcharacter.\n\n\t* lisp/progmodes/cc-defs.el (c-cpp-delimiter, c-set-cpp-delimiters)\n\t(c-clear-cpp-delimiters, c-comment-out-cpps, c-with-cpps-commented-out)\n\t(c-with-all-but-one-cpps-commented-out): Remove.\n\n\t* lisp/progmodes/cc-engine.el (c-no-comment-end-of-macro): Return the comment\n\tstart position rather than one character before it.\n\t(c-invalidate-state-cache, c-parse-state): Remove the invocations of\n\tc-with-all-but-one-cpps-commented-out and c-with-cpps-commented-out.\n\n\t* lisp/progmodes/cc-mode.el (c-neutralize-syntax-in-and-mark-CPP): Rename to\n\tc-neutralize-syntax-in-CPP and remove the bits which applied category\n\tproperties.\n\n\t* lisp/progmodes/cc-langs.el (c-before-font-lock-functions): Incorporate the\n\tnew name of the function c-neutralize-syntax-in-CPP.\n\n2017-12-21  Eli Zaretskii  <eliz@gnu.org>\n\n\tPrevent infloop in redisplay on TTY frames\n\n\t* src/xdisp.c (extend_face_to_end_of_line): Avoid infloop when\n\tfilling up display margins with the default face's background.\n\t(Bug#29789)\n\n2017-12-21  Alan Mackenzie  <acm@muc.de>\n\n\tFix loss of documentation face in certain CC Mode doc comment situations\n\n\t* lisp/progmodes/cc-fonts.el (c-font-lock-doc-comments): Take into account\n\tthe possibility of font-lock-comment-delimiter-face.  Test rigorously for\n\t\"/**\" (etc.) being itself inside a literal, rather than just depending on the\n\tface of the previous character.\n\n2017-12-21  Daiki Ueno  <ueno@gnu.org>\n\n\tRemove pinentry.el\n\n\t* lisp/epg.el (epg--start): Remove the use of pinentry.el.\n\t* lisp/net/pinentry.el: Remove (bug#27445).\n\n2017-12-21  Ted Zlatanov  <tzz@lifelogs.com>\n\n\tSpecial-case %DUMBFW for GnuTLS between 3.2.5 and 3.5.1\n\n\t* src/gnutls.c: Introduce HAVE_GNUTLS_EXT__DUMBFW for GnuTLS >= 3.2.5.\n\t(Fgnutls_available_p): Use it.\n\n2017-12-21  Andy Moreton  <andrewjmoreton@gmail.com>\n\n\tWork around GnuTLS version issues with %DUMBFW (tiny change)\n\n\t* src/gnutls.c: Introduce HAVE_GNUTLS_EXT_GET_NAME and use it.\n\t(init_gnutls_functions): Use it.\n\t(Fgnutls_available_p): Use it (Bug#25061). Fix Vlibrary_cache bug.\n\n2017-12-20  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tMerge branch 'widen-less' into emacs-26\n\n2017-12-20  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/erc/erc.el (erc-shorten-server-name): Silence compiler warning.\n\n2017-12-20  Glenn Morris  <rgm@gnu.org>\n\n\tFix some more aliases to user options\n\n\t* lisp/cus-edit.el (custom-mode-hook):\n\t* lisp/erc/erc.el (erc-default-coding-system):\n\t* lisp/progmodes/python.el (python-indent, python-guess-indent)\n\t(python-shell-virtualenv-path)\n\t(python-shell-completion-module-string-code)\n\t(python-shell-completion-pdb-string-code, python-use-skeletons):\n\tDefine aliases to user options before the options are defined.\n\n2017-12-20  Glenn Morris  <rgm@gnu.org>\n\n\tFix some flymake aliases\n\n\t* lisp/progmodes/flymake-proc.el (flymake-xml-program)\n\t(flymake-compilation-prevents-syntax-check, flymake-master-file-dirs)\n\t(flymake-master-file-count-limit, flymake-allowed-file-name-masks):\n\t* lisp/progmodes/flymake.el (flymake-start-syntax-check-on-find-file):\n\tDefine aliases to user options before the options are defined.\n\n2017-12-20  Glenn Morris  <rgm@gnu.org>\n\n\tUnbreak a fileio test on non-Mac OS X systems\n\n\t* test/src/fileio-tests.el (fileio-tests--symlink-failure):\n\tDon't use an undefined coding system.\n\n2017-12-20  Robert Pluim  <rpluim@gmail.com>\n\n\tFix updating scrollbar sizes when scaling is in effect\n\n\t* src/gtkutil.c (xg_update_scrollbar_pos): Update width of\n\tscrollbar when scaling is in effect.\n\t(xg_update_horizontal_scrollbar_pos): Update scrollbar size\n\twhen scaling is in effect.\n\n2017-12-20  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tWiden in indent-for-tab-command in the normal case, too\n\n\tFixing this obvious omission.\n\t* lisp/indent.el (indent--funcall-widened): New function.\n\t(indent-for-tab-command): Use it.\n\n2017-12-19  Ted Zlatanov  <tzz@lifelogs.com>\n\n\tCollect GnuTLS extensions and use them to set %DUMBFW if supported\n\n\t* lisp/net/gnutls.el (gnutls-boot-parameters): Use it to set %DUMBFW\n\tonly when it's supported as \"ClientHello Padding\" (Bug#25061).\n\n\t* src/gnutls.c (Fgnutls_available_p): Get extension names and\n\tput them in the GnuTLS capabilities, using a hard-coded limit\n\tof 100 since GnuTLS MAX_EXT_TYPES is not exported.\n\n2017-12-18  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* test/lisp/emacs-lisp/derived-tests.el: Fix copy&paste leftovers\n\n2017-12-18  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/subr.el (delayed-after-hook-functions): Rename from ...-forms\n\n\t(run-mode-hooks): `funcall` the functions instead of `eval`ing the forms.\n\t* lisp/emacs-lisp/derived.el (define-derived-mode): Push functions\n\trather than forms (bug#29679).\n\n2017-12-18  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\t* lisp/net/shr.el (shr-string-pixel-width): Return pixel-width,\n\tnot position (bug#29734).\n\n2017-12-18  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tReplace the mention of c-indent-defun with js-indent-line\n\n\t* doc/lispref/text.texi (Mode-Specific Indent):\n\tAvoid mentioning c-indent-defun in the context of multi-mode\n\tindentation.\n\n2017-12-17  Charles A. Roelli  <charles@aurox.ch>\n\n\tpython.el doc fixes\n\n\t* lisp/progmodes/python.el (python-shell-accept-process-output):\n\t(python-shell-comint-end-of-output-p):\n\t(python-shell-first-prompt-hook):\n\t(python-info-beginning-of-backslash): Doc fixes.\n\n2017-12-17  Tak Kunihiro  <tkk@misasa.okayama-u.ac.jp>\n\n\tMake 'mouse-drag-and-drop-region' more robust and customizable\n\n\t* lisp/mouse.el\n\t(mouse-drag-and-drop-region-cut-when-buffers-differ): New option\n\tto permit 'mouse-drag-and-drop-region' to cut text also when source\n\tand destination buffers differ.\n\t(mouse-drag-and-drop-region-show-tooltip): New option to toggle\n\tdisplay of tooltip during mouse dragging on graphic displays.\n\t(mouse-drag-and-drop-region-show-cursor): New option to toggle\n\tmoving point with mouse cursor during mouse dragging of region.\n\t(mouse-drag-and-drop-region): New face to highlight original\n\ttext while dragging.\n\t(mouse-drag-and-drop-region): Make use of new options and face.\n\tIgnore errors during tracking.\n\n2017-12-17  Oscar Fuentes  <ofv@wanadoo.es>\n\n\tBackport: Don't compare arguments that can be nil (Bug#28039)\n\n\tcopy-region-as-kill can be called passing nil as `beg' and\n\t`end'. Magit does that, which caused an error when this advice was in\n\teffect.\n\n\t* lisp/ses.el (ses--advice-copy-region-as-kill): avoid comparison\n\t  unless `beg' and `end' are non-nil.\n\n2017-12-17  Noam Postavsky  <npostavs@gmail.com>\n\n\tDon't mess up syntax-ppss cache in electric-pair (Bug#29710)\n\n\tIn Emacs 25 and above, calling `scan-sexps', `parse-partial-sexp', or\n\tsimilar may update the syntax-ppss cache if\n\t`parse-sexp-lookup-properties' is non-nil.  Therefore, when calling\n\tany of these functions with a different than normal syntax-table, the\n\tcache must be cleaned afterwards.\n\t* lisp/elec-pair.el (electric-pair--with-uncached-syntax): New macro.\n\t(electric-pair--syntax-ppss, electric-pair--balance-info): Use it.\n\n2017-12-17  Glenn Morris  <rgm@gnu.org>\n\n\t* etc/emacs.appdata.xml: Update file format.\n\n2017-12-16  Alan Third  <alan@idiocy.org>\n\n\tUse utf-8-hfs-unix on macOS (Bug#29712)\n\n\tThis is a quick fix for the Emacs 26 release. Do not merge to master.\n\n\t* test/src/fileio-tests.el (fileio-tests--symlink-failure): Override\n\tfile-name-coding-system to utf-8-hfs-unix to prevent test failure.\n\n2017-12-16  Alan Mackenzie  <acm@muc.de>\n\n\t* lisp/progmodes/cc-defs.el (c-version): Update to 5.33.1.\n\n2017-12-16  Michael Albinus  <michael.albinus@gmx.de>\n\n\tImprove fix for Bug#29712\n\n\t* test/lisp/net/tramp-tests.el\n\t(tramp-test32-environment-variables-and-port-numbers):\n\tAdapt check for systems which do not support \"echo -n\".  (Bug#29712)\n\n2017-12-16  Eli Zaretskii  <eliz@gnu.org>\n\n\t* doc/lispref/sequences.texi (Sequence Functions): Improve indexing.\n\n2017-12-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid reordering of output in 'shr-insert-document'\n\n\t* lisp/net/shr.el (shr-string-pixel-width): Preserve point across\n\tshr-pixel-column invocations.  (Bug#29734)\n\n2017-12-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of 'invisible-p'\n\n\t* doc/lispref/display.texi (Invisible Text): Document the return\n\tvalue of 'invisible-p'.\n\n\t* src/xdisp.c (Finvisible_p): Rename the argument POS.  Doc fix.\n\t(Bug#29721)\n\n2017-12-16  Martin Rudalics  <rudalics@gmx.at>\n\n\tRemove one more check that Vframe_list is non-nil\n\n\t* src/dispnew.c (check_glyph_memory): Remove no-longer-needed\n\tcheck that Vframe_list is non-nil, as FOR_EACH_FRAME no longer\n\tassumes that.\n\n2017-12-16  Simen Heggest\u00f8yl  <simenheg@gmail.com>\n\n\tFix off-by-one error in 'css--hex-color'\n\n\t* lisp/textmodes/css-mode.el (css--hex-color): Fix off-by-one error.\n\n\t* test/lisp/textmodes/css-mode-tests.el (css-test-hex-color): New test\n\tfor 'css--hex-color'.\n\n2017-12-16  Aaron Jensen  <aaronjensen@gmail.com>\n\n\tSave and restore text-pixel height and width of frames (Bug#28442)\n\n\t* lisp/frameset.el (frameset--record-relationships): Record\n\ttext-pixel-height and text-pixel-width of frame.\n\t(frameset--restore-frame): Restore text-pixel-height and\n\ttext-pixel-width of frame if available.  (Bug#28442)\n\n2017-12-16  Noam Postavsky  <npostavs@gmail.com>\n\n\tPartially revert \"Mention new strictness for &optional, &rest...\"\n\n\tThe changes to cl argument parsing are not backwards compatible, and\n\tcause inconvenience when writing macros (e.g., instead of doing '&aux\n\t,@auxargs', some more complicated conditionals would be required).\n\tThe `cl-defstruct' macro makes use of this convenience when defining\n\tempty structs (Bug#29728).\n\t* lisp/emacs-lisp/cl-macs.el (cl--transform-lambda):\n\t(cl--do-&aux, cl--do-arglist): Undo strict checking of &rest, &key,\n\tand &aux.\n\t* test/lisp/emacs-lisp/cl-macs-tests.el (cl-macs-bad-arglist): Remove\n\ttest.\n\n2017-12-15  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/vc/smerge-mode.el (smerge-refine): Respect font-lock-mode.\n\n\t* lisp/vc/smerge-mode.el (smerge-refine): Replace obsolete alias.\n\n2017-12-15  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFOR_EACH_FRAME no longer assumes frame-list\n\n\tThis cleans up a recent fix related to Bug#29661.\n\tSuggested by Stefan Monnier in:\n\thttps://lists.gnu.org/r/emacs-devel/2017-12/msg00544.html\n\t* src/frame.c (next_frame, prev_frame, delete_frame):\n\tRestore debugging checks that Vframe_list is non-nil,\n\tas FOR_EACH_FRAME no longer has these checks.\n\t(delete_frame): Remove no-longer-needed checks that Vframe_list is\n\tnon-nil, as FOR_EACH_FRAME no longer assumes that.\n\t* src/frame.h (FOR_EACH_FRAME): Do not assume Vframe_list is non-nil.\n\n2017-12-15  Eli Zaretskii  <eliz@gnu.org>\n\n\t* src/font.c (Ffont_info): Doc fix.  (Bug#29682)\n\n2017-12-15  Basil L. Contovounesios  <contovob@tcd.ie>\n\n\tModernise message.el face spec syntax\n\n\t* lisp/gnus/message.el (message-header-to, message-header-cc)\n\t(message-header-subject, message-header-newsgroups)\n\t(message-header-other, message-header-name, message-header-xheader)\n\t(message-separator, message-cited-text, message-mml):\n\tUse (DISPLAY . PLIST) face spec syntax as recommended in\n\t`(elisp) Defining Faces'.  (Bug#29405)\n\n2017-12-15  Basil L. Contovounesios  <contovob@tcd.ie>\n\n\tUpdate message.el obsolete face aliases\n\n\t* lisp/gnus/message.el: (message-header-to, message-header-cc)\n\t(message-header-subject, message-header-newsgroups)\n\t(message-header-other, message-header-name, message-header-xheader)\n\t(message-separator, message-cited-text, message-mml):\n\tUse define-obsolete-face-alias.  (Bug#29405)\n\n2017-12-15  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of TERM environment variable\n\n\t* doc/emacs/trouble.texi (Checklist):\n\t* doc/emacs/building.texi (Compilation Shell):\n\t* doc/emacs/misc.texi (Shell Options): Improve indexing of TERM.\n\t* doc/emacs/building.texi (Compilation Shell): Mention\n\t'comint-terminfo-terminal' in conjunction with the TERM value.\n\n2017-12-15  Allen Li  <darkfeline@felesatra.moe>\n\n\tAdd option to configure comint TERM\n\n\t* lisp/comint.el (comint-terminfo-terminal): New defcustom.\n\t(comint-term-environment): New function for setting terminal options\n\t(comint-exec-1): Use comint-term-environment.  (Bug#29583)\n\t* lisp/progmodes/compile.el (compilation-start): Use comint-term-environment.\n\n\t* etc/NEWS:\n\t* doc/emacs/misc.texi (Shell Options): Document the new option.\n\n2017-12-15  Eli Zaretskii  <eliz@gnu.org>\n\n\tBetter support utf-8-with-signature and utf-8-hfs in XML/HTML\n\n\t* lisp/international/mule.el (sgml-xml-auto-coding-function):\n\tSupport UTF-8 with BOM and utf-8-hfs as variants of UTF-8, and\n\tobey the buffer's encoding if it is one of these variants, instead\n\tof re-encoding in UTF-8 proper.  (Bug#20623)\n\n2017-12-15  Eli Zaretskii  <eliz@gnu.org>\n\n\t* lisp/menu-bar.el (menu-bar-mode): Doc fix.\n\n2017-12-15  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix Bug#29712 in tramp-tests.el\n\n\t* test/lisp/net/tramp-tests.el\n\t(tramp-test32-environment-variables-and-port-numbers):\n\tSkip for macOS.  (Bug#29712)\n\n2017-12-15  Martin Rudalics  <rudalics@gmx.at>\n\n\tDon't run FOR_EACH_FRAME when there's no frame left (Bug#29961)\n\n\tThis does not fix Bug#29961 but avoids that Emacs segfaults when\n\ttrying to shut down because it lost connection to the X server.\n\n\t* src/dispnew.c (check_glyph_memory):\n\t* src/frame.c (delete_frame): Don't run FOR_EACH_FRAME when\n\tthere's no frame left (Bug#29961).\n\n2017-12-15  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/textmodes/tex-mode.el: Ensure uncompiled file is loadable.\n\n2017-12-15  Ted Zlatanov  <tzz@lifelogs.com>\n\n\tRemember password change for IMAP in Gnus (Bug#29692)\n\n\tReported by Trey Jackson <trey_jackson@mentor.com>.\n\n\t* lisp/gnus/mail-source.el (mail-source-fetch-imap): Check\n\t`mail-source-password-cache' for password.\n\n2017-12-15  Ted Zlatanov  <tzz@lifelogs.com>\n\n\tAdd %DUMBFW to the default GnuTLS priority strings\n\n\t* lisp/net/gnutls.el (gnutls-boot-parameters): Add %DUMBFW to\n\tthe default priority strings (Bug#25061).\n\n\t* etc/NEWS: Mention it.\n\n\t* doc/misc/emacs-gnutls.texi (Help For Users): Point to the\n\tGnuTLS priority string documentation URL.\n\n2017-12-15  Glenn Morris  <rgm@gnu.org>\n\n\tSmall fixes prompted by make check-declare\n\n\t* lisp/frame.el (x-focus-frame): Update declaration.\n\t(ns-mouse-absolute-pixel-position): Fix declaration.\n\t* lisp/vc/diff-mode.el (diff-refine-hunk):\n\tUse smerge-refine-regions rather than obsolete alias.\n\t(smerge-refine-subst): Remove declaration, no longer relevant.\n\n2017-12-15  Glenn Morris  <rgm@gnu.org>\n\n\tFix some custom groups\n\n\t* lisp/vc/vc-hooks.el (vc-faces): Rename from vc-state-faces.\n\t* lisp/vc/cvs-status.el (cvs-status): Unused, remove.\n\n2017-12-14  Alan Mackenzie  <acm@muc.de>\n\n\tFix fontification of first declaration within a C++ lambda form.\n\n\t* lisp/progmodes/cc-engine.el (c-looking-at-or-maybe-in-bracelist): Cease\n\tspuriously recognizing the braces of a lambda form as a brace list when there\n\tis an \"=\" preceding the introductory brackets.\n\n2017-12-14  Charles A. Roelli  <charles@aurox.ch>\n\n\t* src/data.c (Fadd_variable_watcher): Doc fix.\n\n2017-12-14  Alan Mackenzie  <acm@muc.de>\n\n\tFix misfontification of C++ member initialization list after \"throw\"\n\n\t* lisp/progmodes/cc-engine.el (c-forward-type): Stop recognizing a \"type\"\n\tstarting with \"throw\", by using c-opt-type-modifier-prefix-key.\n\n\t* lisp/progmodes/cc-langs.el (c-type-modifier-prefix-kwds): New lang const\n\twhich, in C++, doesn't contain \"throw\", otherwise like c-type-modifier-kwds.\n\t(c-opt-type-modifier-prefix-key): New lang const and var, a regexp matching\n\tany keyword in the previous lang const.\n\n2017-12-14  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tConsolidate 'widen' calls\n\n\t* lisp/progmodes/prog-mode.el (prog-indentation-context):\n\tUn-document all elements but the first.\n\t(prog-widen): Remove.\n\t(http://lists.gnu.org/archive/html/emacs-devel/2017-12/msg00321.html)\n\n\t* doc/lispref/text.texi (Mode-Specific Indent): Update.\n\n\t* lisp/progmodes/ruby-mode.el (ruby-calculate-indent):\n\tDon't call widen.\n\n\t* lisp/progmodes/python.el\n\t(python-indent-guess-indent-offset)\n\t(python-info-current-defun): Replace prog-widen with widen;\n\tthese functions are not called during indentation.\n\t(python-indent-context)\n\t(python-indent--calculate-indentation)\n\t(python-info-dedenter-opening-block-message)\n\t(python-info-line-ends-backslash-p)\n\t(python-info-beginning-of-backslash)\n\t(python-info-continuation-line-p)\n\t(python-info-current-defun): Remove 'widen' calls.\n\n\t* lisp/indent.el (indent-according-to-mode)\n\t(indent-for-tab-command, indent-region): Move them here.\n\n\t* lisp/textmodes/mhtml-mode.el (mhtml-indent-line):\n\tBind prog-indentation-context to one-element list.\n\n2017-12-14  Martin Rudalics  <rudalics@gmx.at>\n\n\tFix doc-string of Fbuffer_list\n\n\t* src/buffer.c (Fbuffer_list): Fix doc-string.\n\n2017-12-14  Basil L. Contovounesios  <contovob@tcd.ie>\n\n\tDon't raise an extraneous frame (bug#29696)\n\n\t* lisp/gnus/gnus-art.el (gnus-article-read-summary-keys): Lookup\n\tsummary buffer keys from article buffer without affecting window\n\tconfiguration (bug#29696).\n\n2017-12-13  Noam Postavsky  <npostavs@gmail.com>\n\n\tMention new strictness for &optional, &rest in arglists (Bug#29165)\n\n\t* etc/NEWS: Explain that '&optional' not followed by a variable is now\n\tan error.\n\t* lisp/emacs-lisp/cl-macs.el (cl--transform-lambda, cl--do-&aux)\n\t(cl--do-arglist): Also reject '&optional', '&rest', or '&aux' not\n\tfollowed by a variable for consistency.\n\t* test/lisp/emacs-lisp/cl-macs-tests.el (cl-macs-bad-arglist): New\n\ttest.\n\n2017-12-13  Alan Mackenzie  <acm@muc.de>\n\n\tDon't misfontify \"foo ()\" inside C++ initialization parentheses as a type\n\n\tAlso recognize and handle function names introduced by \"extern\" inside a\n\tfunction.\n\n\t* lisp/progmodes/cc-engine.el (c-forward-decl-or-cast-1): Add a new element to\n\tthe result list which is t when our declaration is, or is to be treated as,\n\tbeing at top level.\n\n\t* lisp/progmodes/cc-fonts.el (c-get-fontification-context): Detect being\n\tinside a C++ uniform initialization and return (not-decl nil) for this case.\n\t(c-font-lock-declarations): Use the new element 4 of the result of\n\tc-forward-decl-or-cast-1.\n\n\t* lisp/progmodes/cc-langs.el (c-make-top-level-kwds, c-make-top-level-key):\n\tNew lang consts/vars.\n\n2017-12-13  Glenn Morris  <rgm@gnu.org>\n\n\tFixes for defcustoms, prompted by cus-test-opts\n\n\t* lisp/files.el (save-some-buffers-default-predicate):\n\t* lisp/time.el (display-time-world-list):\n\t* lisp/gnus/gnus-art.el (gnus-article-show-cursor):\n\t* lisp/progmodes/cc-vars.el (c-noise-macro-with-parens-names):\n\t* lisp/progmodes/verilog-mode.el (verilog-auto-wire-type):\n\t* lisp/textmodes/less-css-mode.el (less-css-output-directory)\n\t(less-css-output-file-name, less-css-input-file-name):\n\t* lisp/vc/emerge.el (emerge-metachars):\n\t* lisp/vc/vc-hg.el (vc-hg-symbolic-revision-styles):\n\tFix :types.\n\t* lisp/net/newst-backend.el (newsticker-url-list-defaults): Fix url.\n\n2017-12-13  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/net/newst-backend.el (newsticker--raw-url-list-defaults):\n\tUpdate.\n\n\t* lisp/htmlfontify.el (hfy-which-etags): Fix it.\n\n2017-12-13  Glenn Morris  <rgm@gnu.org>\n\n\tAdd missing :version tags revealed by cusver-check\n\n\t* lisp/comint.el (comint-move-point-for-matching-input):\n\t* lisp/epa.el (epa-replace-original-text):\n\t* lisp/image-dired.el (image-dired-cmd-optipng-program)\n\t(image-dired-cmd-optipng-options):\n\t* lisp/emacs-lisp/bytecomp.el (byte-compile-cond-use-jump-table):\n\t* lisp/gnus/gnus-cloud.el (gnus-cloud-storage-method)\n\t(gnus-cloud-interactive):\n\t* lisp/net/mailcap.el (mailcap-user-mime-data):\n\t* lisp/progmodes/cc-vars.el (c-asymmetry-fontification-flag)\n\t(c-noise-macro-names, c-noise-macro-with-parens-names):\n\t* lisp/progmodes/flymake.el (flymake-start-on-flymake-mode)\n\t(flymake-wrap-around):\n\t* lisp/progmodes/grep.el (grep-use-null-filename-separator):\n\t* lisp/progmodes/js.el (js-indent-align-list-continuation):\n\t* lisp/progmodes/perl-mode.el (perl-flymake-command):\n\t* lisp/progmodes/python.el (python-flymake-command)\n\t(python-flymake-command-output-pattern, python-flymake-msg-alist):\n\t* lisp/progmodes/ruby-mode.el (ruby-flymake-use-rubocop-if-available)\n\t(ruby-rubocop-config):\n\t* lisp/textmodes/less-css-mode.el (less-css):\n\t* lisp/textmodes/tex-mode.el (tex-chktex-program)\n\t(tex-chktex-extra-flags): Add missing :version tags.\n\n2017-12-13  Glenn Morris  <rgm@gnu.org>\n\n\tEscape column-zero doc parens\n\n\t* lisp/htmlfontify.el (hfy-display-class):\n\t* lisp/calendar/icalendar.el (icalendar--do-create-ical-alarm):\n\t* lisp/net/shr.el (shr-external-rendering-functions):\n\t* lisp/progmodes/cc-vars.el (c-asymmetry-fontification-flag):\n\t* lisp/textmodes/tildify.el (tildify-tildify):\n\tEscape column-zero doc parens.  A shame bug#21871 remains unfixed.\n\n2017-12-12  Alan Third  <alan@idiocy.org>\n\n\tRemove ObjC blocks (Bug#23753)\n\n\t* src/macfont.m (macfont_get_glyph_for_character):\n\t(mac_font_get_glyphs_for_variants): Inline Objective-C blocks.\n\n\t(cherry picked from commit 4590f1d768adbb2120a2b02c614f7ed3b21a4a3e)\n\n2017-12-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tImport the latest IVD_Sequences.txt\n\n\t* admin/unidata/IVD_Sequences.txt: New version from\n\thttp://www.unicode.org/ivd/, the 2017-12-12 version of the Unicode\n\tIdeographic Variation Database.\n\n\t* src/macuvs.h: Regenerated.\n\n2017-12-11  Max  <mu@magi.net.ru>  (tiny change)\n\n\tFix dired-do-compress when tar doesn't default to stdin (Bug#29094)\n\n\t* lisp/dired-aux.el (dired-compress-file-suffixes): Use argument '-f-'\n\tto write to stdout rather than relying on the default (the choice of\n\tdefault is decided when compiling tar, BSD systems usually set it to a\n\ttape drive).  Drop '-v', since the output is not used anywhere.\n\n2017-12-11  Noam Postavsky  <npostavs@gmail.com>\n\n\tSuppress warnings during elisp completion macroexpansion\n\n\tErrors are already suppressed, therefore it is logical to suppress\n\twarnings as well.  Some macros (e.g., use-package) may produce\n\twarnings when given the `elisp--witness--lisp' symbol.\n\t* lisp/progmodes/elisp-mode.el (elisp--local-variables): Let-bind\n\twarning-minimum-log-level to :emergency.\n\n2017-12-11  Chunyang Xu  <xuchunyang.me@gmail.com>\n\n\t* lisp/progmodes/verilog-mode.el (verilog-mode): Fix typo (Bug#24410).\n\n2017-12-11  Michael Albinus  <michael.albinus@gmx.de>\n\n\tMake tramp-interrupt-process more robust\n\n\t* lisp/net/tramp.el (tramp-interrupt-process): Fall back to\n\tthe default implementation if there's no success.\n\n2017-12-11  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\tMake quail-input-method work when inhibit-read-only is non-nil (bug#29504)\n\n\t* lisp/international/quail.el (quail-input-method): Work not only\n\twhen buffer-read-only is nil but also when inhibit-read-only is non-nil\n\t(bug#29504).\n\n2017-12-10  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix 'fontset-name-p'\n\n\t* lisp/international/fontset.el (fontset-name-p): Make the\n\tfunction work with full fontset names and fontset alias names.\n\n2017-12-10  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix fontset documentation inconsistencies for bug#29630\n\n\t* doc/lispref/display.texi (Face Attributes): Don't document\n\t:family as accepting a fontset.  Document that :font accepts a\n\tfontset.\n\n\t* lisp/faces.el (set-face-attribute): Doc fix.\n\n2017-12-10  Martin Rudalics  <rudalics@gmx.at>\n\n\tRemove sentence from child frames section in Elisp manual\n\n\t* doc/lispref/frames.texi (Child Frames): Remove one sentence.\n\tSuggested by Bob Weiner <rsw@gnu.org>.\n\n2017-12-10  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid crashes in 'font-at' after 'set-fontset-font'\n\n\t* src/fontset.c (free_realized_fontsets): Call\n\trecompute_basic_faces, so that the basic faces are available to\n\tany Lisp that calls this function, e.g. via set-fontset-font.\n\t(Bug#29632)\n\n2017-12-10  Ted Zlatanov  <tzz@lifelogs.com>\n\n\t* lisp/files-x.el (connection-local-set-profile-variables): Fix docstring.\n\n2017-12-09  Ted Zlatanov  <tzz@lifelogs.com>\n\n\tAdd /etc/ssl/cert.pem to gnutls-trustfiles for macOS\n\n\tProblem reported by Mark Ferlatte (Bug#28603).\n\t* lisp/net/gnutls.el (gnutls-trustfiles): Add /etc/ssl/cert.pem for macOS.\n\n2017-12-09  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix tool-tip display when display margins are non-zero by default\n\n\t* src/buffer.h (bset_left_margin_cols, bset_right_margin_cols):\n\tNew inline functions.\n\t* src/xfns.c (Fx_show_tip):\n\t* src/w32fns.c (Fx_show_tip): Force display margins of the tip\n\tbuffer to zero, as it will be displayed in a pseudo-window, which\n\tdoesn't support display margins.  (Bug#29627)\n\n2017-12-09  Eric Abrahamsen  <eric@ericabrahamsen.net>\n\n\tHandle hash tables and vectors when reading/writing EIEIO objects\n\n\t* lisp/emacs-lisp/eieio.el (eieio-override-prin1): EIEIO objects\n\t  printed with `prin1' can no longer be read with `read'. Make sure\n\t  they are printed with object-write instead, even when they're inside\n\t  hash tables and vectors.\n\t* lisp/emacs-lisp/eieio-base.el (eieio-persistent-validate/fix-slot-value):\n\t  Check for written representations of objects inside hash tables and\n\t  vectors, and reconstruct them.\n\n2017-12-09  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove interactive debugging commands in xdisp.c\n\n\t* src/xdisp.c (Fdump_glyph_row, Fdump_tool_bar_row): Allow to\n\tspecify ROW via prefix argument.  Fix the doc strings.\n\n2017-12-09  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix calculation of continuation_pixel_width in display engine\n\n\t* src/xdisp.c (display_line): Remove incorrect increment of\n\tit->continuation_pixel_width when word-wrap is used.  (Bug#29594)\n\n2017-12-09  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of 'save-abbrevs'.\n\n\t* doc/emacs/abbrevs.texi (Saving Abbrevs): Document the 'silently'\n\tvalue of 'save-abbrevs'.  Suggested by Alex Branham\n\t<alex.branham@gmail.com> in emacs-manual-bugs@gnu.org.\n\n2017-12-09  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of Dired\n\n\t* doc/emacs/dired.texi (Dired): Mention that the Dired buffer can\n\tbe made modifiable in Wdired.  Suggested by Alex Branham\n\t<alex.branham@gmail.com> in emacs-manual-bugs@gnu.org.\n\n2017-12-09  Eli Zaretskii  <eliz@gnu.org>\n\n\t* lisp/bookmark.el (bookmark-alist): Doc fix.  (Bug#29551)\n\n2017-12-08  Michael Albinus  <michael.albinus@gmx.de>\n\n\tMinor Tramp fixes\n\n\t* lisp/net/tramp-gvfs.el (tramp-gvfs-do-copy-or-rename-file):\n\tFix a bug when renaming.\n\n\t* test/lisp/net/tramp-tests.el (tramp-test21-file-links): Extend test.\n\t(tramp-test42-delay-load, tramp-test42-remote-load-path):\n\tSkip unless Emacs >= 26.\n\n2017-12-08  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/help-mode.el (help-function-def):\n\tAllow help-make-xrefs to call with one argument.  (Bug#29611)\n\n2017-12-07  Martin Rudalics  <rudalics@gmx.at>\n\n\tFix doc-string of 'display-buffer-in-side-window'\n\n\t* lisp/window.el (display-buffer-in-side-window): In doc-string\n\tclarify why the window returned gets dedicated to its buffer.\n\n2017-12-06  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix Bug#29579\n\n\t* lisp/files.el (file-name-non-special):\n\tInhibit `file-name-handler-alist' only for some operations.\n\tAdd missing operations.  (Bug#29579)\n\n\t* lisp/net/tramp-compat.el (tramp-compat-file-name-quote):\n\tDo not quote if it is quoted already.\n\n\t* lisp/net/tramp-smb.el (tramp-smb-handle-insert-directory):\n\tUse `copy-tree' but `copy-sequence'.\n\n\t* lisp/net/tramp.el (tramp-handle-file-truename): Handle several\n\ttrailing slashes correctly.\n\n\t* test/lisp/net/tramp-tests.el (tramp-test11-copy-file)\n\t(tramp-test12-rename-file, tramp-test24-file-acl)\n\t(tramp-test25-file-selinux, tramp--test-check-files):\n\tHandle also quoted file names.\n\t(tramp-test21-file-links): Fix file name quoting test.\n\t(tramp-test24-file-acl): Be more robust for \"smb\" method.\n\t(tramp-test35-make-auto-save-file-name): Enable hidden test cases.\n\n2017-12-06  Rasmus  <rasmus@gmx.us>\n\n\tBackport: Update Org to v9.1.4\n\n\tPlease note this is a bugfix release. See etc/ORG-NEWS for details.\n\n\t(cherry picked from commit 567b5efe1f338c10c574758fb968915c5c34c909)\n\n2017-12-06  Martin Rudalics  <rudalics@gmx.at>\n\n\tIn windows.texi mention special splitting behavior of side and atomic windows\n\n\t* doc/lispref/windows.texi (Splitting Windows): Add note about\n\tand links to side and atomic windows.\n\n2017-12-05  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\t* lisp/gnus/gnus-group.el (gnus-group-mode-map):\n\tBind [follow-link] to mouse-face, not 'mouse-face (bug#29538).\n\n2017-12-04  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid compilation warning in xterm.c\n\n\t* src/xterm.c (x_draw_underwave): Move the declaration of\n\t'thickness' to the non-USE_CAIRO branch, to avoid compiler\n\twarning.  (Bug#29567)\n\n2017-12-04  Eli Zaretskii  <eliz@gnu.org>\n\n\t* README: Document all the top-level directories.  (Bug#29558)\n\n2017-12-04  Glenn Morris  <rgm@gnu.org>\n\n\tDon't enable erc modules on simply loading erc.el\n\n\t* lisp/erc/erc.el (erc-modules): Use default :initialize.  (Bug#29417)\n\n2017-12-03  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAllow shr to use data: URLs without encoding\n\n\t* lisp/net/shr.el (shr-image-from-data): Don't bug out on\n\timage data: URLs that have no base64 encoding like\n\t(shr-image-from-data\n\t\"text/html,%3Ch1%3EHello%2C%20World!%3C%2Fh1%3E\").\n\n2017-12-03  E. Choroba  <choroba@matfyz.cz>  (tiny change)\n\n\tDon't add newlines in minibuffer history\n\n\t* lisp/simple.el (next-line-or-history-element): Bind\n\tnext-line-add-newlines to nil.  (Bug#29529)\n\n2017-12-03  Syohei YOSHIDA  <syohex@gmail.com>\n\n\tmodhelp.py: Support Python 3 (Bug#24954)\n\n\t* modules/modhelp.py: 'print' statement was removed in Python\n\t3.  'print' function should be used instead of 'print' statement.\n\n2017-12-03  Noam Postavsky  <npostavs@gmail.com>\n\n\tUse forward slashes for python w32 config example (Bug#21656)\n\n\t* lisp/progmodes/python.el: Use forward slashes for Windows path\n\texample, it doesn't require doubling of slashes which reduces chances\n\tof confusion.\n\n2017-12-03  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix bug in i18n/l10n optimization\n\n\tThis fixes a off-by-one buffer overrun bug introduced in\n\t2017-06-04T15:39:37Z!eggert@cs.ucla.edu.  Problem uncovered by an\n\texperimental version of Emacs built with -fcheck-pointer-bounds\n\tand running on Intel MPX hardware.\n\t* src/editfns.c (styled_format): Avoid overrunning internal buffers.\n\n2017-12-02  Noam Postavsky  <npostavs@gmail.com>\n\n\tLet autoload-compute-prefix be set file-locally (Bug#29471)\n\n\t* lisp/emacs-lisp/autoload.el (autoload-compute-prefixes): Mark\n\tboolean values as safe.\n\n2017-12-02  Noam Postavsky  <npostavs@gmail.com>\n\n\tImprove edit-kbd-macro prompting in case of remapped keys (Bug#29399)\n\n\t* lisp/edmacro.el (edit-kbd-macro): Use substitute-command-keys to\n\tpresent the current bindings in the prompt.  Check the the\n\tnon-remapped binding of the entered key sequence as well.\n\n2017-12-02  Lele Gaifax  <lele@metapensiero.it>\n\n\tAdd tests on electric-indentation and Python multiline strings (Bug#29305)\n\n\t* test/lisp/progmodes/python-tests.el\n\t(python-indent-electric-comma-inside-multiline-string,\n\tpython-indent-electric-comma-after-multiline-string): New tests.\n\n2017-12-02  Noam Postavsky  <npostavs@gmail.com>\n\n\tDisable electric indent for python strings (Bug#29305)\n\n\t* lisp/progmodes/python.el (python-indent-post-self-insert-function):\n\tDo nothing when point or beginning of line is in string.\n\n2017-12-02  Yuuki Harano  <masm-emacs@masm11.ddo.jp>  (tiny change)\n\n\tFix buffer overflow in fontname conversion (Bug#29523)\n\n\t* src/nsterm.m (ns_xlfd_to_fontname): Fix sscanf format.\n\n2017-12-02  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix byte compilation of files with leading directories\n\n\t* lisp/emacs-lisp/bytecomp.el (byte-compile-file): Pass basename\n\tof target-file to make-temp-file, in case target-file includes a\n\tleading directory that might not exist under TMPDIR.  See\n\thttp://lists.gnu.org/archive/html/emacs-devel/2017-11/msg00680.html\n\tfor the details.\n\n2017-12-02  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* lisp/files.el (make-backup-file-name-1): Fix scoping error.\n\n2017-12-02  Michael Albinus  <michael.albinus@gmx.de>\n\n\tRevert Tramp commit from 2017-11-20\n\n\t* lisp/net/tramp.el (tramp-drop-volume-letter)\n\t(tramp-handle-find-backup-file-name): Revert change from\n\t2017-11-20.  Emacs' `make-backup-file-name-1' handles this\n\tcase now.\n\n2017-12-02  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of buffer-list commands and features\n\n\t* doc/emacs/buffers.texi (List Buffers): Add a cross-reference to\n\t\"Several Buffers\", to establish a relation between the two\n\tsections.\n\t(Buffer Menus): Expand on customizability of alternative buffer\n\tmenu offered by bs.el.  Mention IBuffer.\n\tSuggested by Alex Branham <alex.branham@gmail.com> in\n\temacs-manual-bugs@gnu.org.\n\n2017-12-02  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix backing up remote files in local directories on MS-Windows\n\n\t* lisp/files.el (make-backup-file-name-1): Support remote file\n\tnames correctly when they are backed up into a local directory on\n\tMS-Windows and MS-DOS.  (Bug#29440)\n\n2017-12-02  Glenn Morris  <rgm@gnu.org>\n\n\t* doc/emacs/mule.texi (Output Coding): Clarify sendmail coding.\n\n2017-12-01  John Wiegley  <johnw@newartisans.com>\n\n\tRevert \"Fix backing up remote files in local directories on MS-Windows\"\n\n\tThis reverts commit 8c8b6732882248df4ca3b687e0a4b4e5e4ab3777.\n\n2017-12-01  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix a typo in ELisp manual\n\n\t* doc/lispref/sequences.texi (Sequence Functions): Fix the example\n\tof using 'seq-uniq'.  (Bug#29524)\n\n2017-12-01  Eli Zaretskii  <eliz@gnu.org>\n\n\t* lisp/composite.el (find-composition): Fix a typo in the doc string.\n\n2017-12-01  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix backing up remote files in local directories on MS-Windows\n\n\t* lisp/files.el (make-backup-file-name-1): Support remote file\n\tnames correctly when they are backed up into a local directory on\n\tMS-Windows and MS-DOS.  (Bug#29440)\n\n2017-12-01  Tak Kunihiro  <tkk@misasa.okayama-u.ac.jp>\n\n\tFix vertical cursor motion in pixel-scroll.el\n\n\t* lisp/pixel-scroll.el (pixel-scroll-up): Move cursor down\n\tregardless of whether EOB is shown at the top.\n\t(pixel-scroll-down) Move cursor up regardless of whether BOB\n\tis shown at the top.  (Bug#29374)\n\n2017-12-01  Basil L. Contovounesios  <contovob@tcd.ie>\n\n\tFix typos in doc strings of message.el\n\n\t* lisp/gnus/message.el (message-header-to)\n\t(message-header-subject, message-header-newsgroups)\n\t(message-header-other): Fix typos in doc strings.  (Bug#29405)\n\n2017-12-01  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix a typo in the Emacs manual\n\n\t* doc/emacs/abbrevs.texi (Abbrev Concepts): Fix a typo.  Reported\n\tby clemens.radermacher@posteo.de in emacs-manual-bugs@gnu.org.\n\n2017-12-01  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove the documentation of 'table-insert-sequence'\n\n\t* doc/emacs/text.texi (Table Misc): Fix the description of\n\t'table-insert-sequence'.  Reported by jack <jackh@gmx.co.uk> in\n\temacs-manual-bugs@gnu.org.\n\n2017-12-01  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort better to QNX\n\n\tProblem reported by Elad Lahav on emacs-devel.\n\t* configure.ac: On QNX, default CC to qcc (a GCC wrapper),\n\tand default LDFLAGS to -N2MB so that the initial stack size\n\tis not too small.  Also, fix misspelling of \u2018qnxnto\u2019.\n\n2017-11-30  Michael Albinus  <michael.albinus@gmx.de>\n\n\tMake tramp-test42-auto-load more robust\n\n\t* test/lisp/net/tramp-tests.el (tramp-test42-auto-load):\n\tMake it more robust.  Don't skip.\n\n2017-11-30  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid assertions in find-composition\n\n\t* src/font.c (font_range): If called with STRING non-nil and FACE\n\ta NULL pointer, compute face by calling face_at_string_position.\n\t(Bug#29506)\n\n\t* lisp/composite.el (find-composition): Doc fix.\n\n2017-11-29  Glenn Morris  <rgm@gnu.org>\n\n\tRestore obsolete method of changing byte-compile-dest-file\n\n\t* lisp/emacs-lisp/bytecomp.el (byte-compile-dest-file):\n\tRestore seven-year obsolete feature that was removed for six months,\n\tsince automake uses it.\n\n2017-11-29  Michael Albinus  <michael.albinus@gmx.de>\n\n\tSome minor Tramp corrections\n\n\t* lisp/net/tramp.el (tramp-handle-directory-file-name):\n\tHandle several trailing slashes correctly.\n\t(tramp-handle-file-selinux-context): New defun.\n\n\t* lisp/net/tramp-adb.el (tramp-adb-file-name-handler-alist):\n\t* lisp/net/tramp-gvfs.el (tramp-gvfs-file-name-handler-alist):\n\t* lisp/net/tramp-smb.el (tramp-smb-file-name-handler-alist):\n\tUse `tramp-handle-file-selinux-context'.\n\n\t* test/lisp/net/tramp-tests.el (tramp-test06-directory-file-name):\n\tExtend test.\n\t(tramp-test17-insert-directory): Make check more robust.\n\t(tramp-test42-auto-load): Combine several let forms.\n\t(tramp-test42-delay-load, tramp-test42-recursive-load)\n\t(tramp-test42-remote-load-path, tramp-test43-unload): Rename.\n\n2017-11-29  Tino Calancha  <tino.calancha@gmail.com>\n\n\t* doc/misc/url.texi (http/https): Fix typo\n\n2017-11-29  Glenn Morris  <rgm@gnu.org>\n\n\tRemove some bogus definition-prefixes from loaddefs\n\n\t* lisp/emacs-lisp/autoload.el (autoload-generate-file-autoloads):\n\tDon't register a definition prefix from define-erc-module,\n\twhich adds an erc- prefix to its argument.\n\n2017-11-28  Robert Pluim  <rpluim@gmail.com>\n\n\tShell-quote wildcards when invoking 'vc-git-grep'\n\n\t* lisp/vc/vc-git.el (vc-git-grep): Apply shell quoting to\n\tfilename wildcards to ensure globbing is done by git rather\n\tthan the shell.  (Bug#29303)\n\n2017-11-28  Kaushal Modi  <kaushal.modi@gmail.com>\n\n\tUpdate documentation of '.dir-locals-2.el'\n\n\tSee https://lists.gnu.org/r/emacs-devel/2017-11/msg00649.html\n\tfor more details.\n\t* lisp/files.el (dir-locals-file-2): Remove unused constant.\n\t* lisp/files.el (dir-locals-file): Mention \".dir-locals-2.el\" in\n\tthe doc string.\n\t* doc/lispref/variables.texi (Directory Local Variables): Mention\n\t\".dir-locals-2.el\".\n\t* etc/NEWS: Replace `dir-locals-file-2' mention with\n\t`dir-locals-file'.\n\n2017-11-27  Noam Postavsky  <npostavs@gmail.com>\n\n\t* src/w32heap.c (DUMPED_HEAP_SIZE) [_WIN64]: Bump to 22 MiB.\n\n2017-11-27  Glenn Morris  <rgm@gnu.org>\n\n\tA few small doc fixes for bytecomp.el\n\n\t* lisp/emacs-lisp/bytecomp.el (emacs-lisp-file-regexp)\n\t(byte-compile-dest-file-function, byte-compile-dest-file): Doc fixes.\n\n2017-11-27  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* src/lread.c (syms_of_lread): Fix thinko in commit b1573a97e17b5\n\n2017-11-27  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/tree-widget.el (tree-widget-end-guide): Escape it.  (Bug#27797)\n\n2017-11-27  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix ELisp \"Warning Tips\"\n\n\t* doc/lispref/tips.texi (Warning Tips): Clarify when to use\n\t'require' wrapped by 'eval-when-compile'.  (Bug#29462)\n\n2017-11-27  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix Bug#29163\n\n\t* lisp/net/tramp.el (tramp-autoload-file-name-regexp):\n\tDo not use \"\\\\'\" in regexp.  (Bug#29163)\n\t(top) Do not run (tramp-register-autoload-file-name-handlers)\n\twhen loading tramp.el.\n\n\t* test/lisp/net/tramp-tests.el (tramp--test-mock-p): New defun.\n\t(tramp-test32-environment-variables-and-port-numbers)\n\t(tramp-test41-asynchronous-requests): Use it.\n\t(tramp-test42-auto-load): New test.\n\t(tramp-test43-recursive-load, tramp-test44-remote-load-path)\n\t(tramp-test45-delay-load, tramp-test46-unload): Rename.\n\n2017-11-27  Paul Eggert  <eggert@union>\n\n\tHarden exec_byte_code against redefining 'error'\n\n\tProblem discovered by configuring with --enable-gcc-warnings on\n\tUbuntu 17.10 x86-64 with gcc (Ubuntu 7.2.0-8ubuntu3).\n\t* src/bytecode.c (exec_byte_code): Call the C error function\n\tinstead of the Lisp one, so that the Emacs interpreter does not go\n\thaywire if the user redefines the Lisp error function.\n\n2017-11-27  Gemini Lasswell  <gazally@runbox.com>\n\n\tFix Edebug specs for if-let* and and-let* (Bug#29236)\n\n\t* test/lisp/emacs-lisp/subr-x-tests.el (if-let*, if-let):\n\tChange Edebug spec to cause Edebug to instrument tests the\n\tresults of which are not bound to symbols (the (VALUEFORM)\n\tcase).\n\t(and-let*): Change Edebug spec to allow empty body.\n\n\t*test/lisp/emacs-lisp/subr-x-tests.el:\n\t(subr-x-and-let*-test-group-1): Add missing quote to erroneous\n\tform so Edebug will work on this test.\n\n2017-11-26  Gemini Lasswell  <gazally@runbox.com>\n\n\tFix Edebug's handling of dotted specs (bug#6415)\n\n\t* lisp/emacs-lisp/cl-macs.el (cl-destructuring-bind): Use\n\tcl-macro-list1 instead of cl-macro-list in Edebug spec.\n\n\t* lisp/emacs-lisp/edebug.el (edebug-after-dotted-spec): Delete\n\tunused variable.\n\t(edebug-dotted-spec): Add docstring.\n\t(edebug-match-specs): Allow &optional and &rest specs to\n\tmatch nothing at the tail of a dotted form. Handle matches of\n\tdotted form tails which return non-lists.\n\n\t* test/lisp/emacs-lisp/edebug-tests.el (edebug-tests-dotted-forms):\n\tNew test.\n\n\t* test/lisp/emacs-lisp/edebug-resources/edebug-test-code.el:\n\t(edebug-test-code-use-destructuring-bind): New function.\n\n2017-11-26  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of \"constant\" symbols\n\n\t* src/font.c (syms_of_font) <font-weight-table, font-slant-table>\n\t<font-width-table>:\n\t* src/data.c (syms_of_data) <most-positive-fixnum>\n\t<most-negative-fixnum>:\n\t* src/buffer.c (syms_of_buffer) <enable-multibyte-characters>:\n\tMention in the doc strings that these variables are read-only.\n\n\t* doc/lispref/variables.texi (Creating Buffer-Local): Document\n\tthat making a constant variable buffer-local signals an error.\n\t* doc/lispref/variables.texi (Constant Variables):\n\t* doc/lispref/errors.texi (Standard Errors): More accurate and\n\tup-to-date documentation of which symbols cannot be assigned\n\tvalues.\n\n2017-11-26  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tmaint: shorten https://lists.gnu.org/archive/html/... links\n\n2017-11-26  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from Gnulib\n\n\tThis incorporates:\n\t2017-11-23 stat: work around Solaris bug with tv_nsec < 0\n\t2017-11-12 maint: shorten https://lists.gnu.org/archive/html/... links\n\t* build-aux/config.sub, doc/misc/texinfo.tex, lib/allocator.h:\n\t* lib/fstatat.c, lib/intprops.h, lib/lstat.c, lib/signal.in.h:\n\t* lib/stat-time.h, lib/stdio-impl.h, lib/stdio.in.h:\n\t* lib/timespec.h, m4/alloca.m4, m4/extern-inline.m4:\n\t* m4/faccessat.m4, m4/fstatat.m4, m4/gnulib-common.m4:\n\t* m4/lstat.m4, m4/std-gnu11.m4, m4/sys_types_h.m4:\n\t* m4/vararrays.m4:\n\tCopy from Gnulib.\n\n2017-11-26  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tWork around GCC bug 80776 on Fedora 27 x86\n\n\t* src/buffer.c (Fgenerate_new_buffer_name): Pacify GCC 7.2.1\n\t20170915 (Red Hat 7.2.1-2) on i686 with -Wformat-overflow -O2 by\n\tusing XINT rather than XFASTINT and by adding an eassume.  This\n\tworks around GCC bug 80776.\n\n2017-11-25  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tTweak copy-file, rename-file doc\n\n\t* src/fileio.c (Fcopy_file, Frename_file): Tweak the recent change\n\tslightly, as NEWNAME is treated as a directory name depending only\n\ton the contents of the NEWNAME string, and independently of\n\twhether NEWNAME names a directory (i.e., whether the directory\n\texists) (Bug#29362).\n\n2017-11-25  Tom Tromey  <tom@tromey.com>\n\n\tChange font-lock-extend-region-multiline handling in mhtml-mode\n\n\tBug#29159\n\t* lisp/textmodes/mhtml-mode.el (mhtml-mode): Remove\n\tfont-lock-extend-region-multiline from\n\tfont-lock-extend-region-functions.\n\t(mhtml--extend-font-lock-region): Call font-lock-extend-region-multiline.\n\n2017-11-25  Michael Albinus  <michael.albinus@gmx.de>\n\n\tMinor cleanup in tramp-gvfs-handle-file-local-copy\n\n\t* lisp/net/tramp-gvfs.el (tramp-gvfs-handle-file-local-copy):\n\tMove error message up.\n\n2017-11-25  Michael Albinus  <michael.albinus@gmx.de>\n\n\tAdd test for Bug#29423 in Tramp.\n\n\t* test/lisp/net/tramp-tests.el (tramp-test17-insert-directory):\n\tAdd test for Bug#29423.\n\n2017-11-25  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid jumbled order in HTML rendered by shr.el\n\n\t* lisp/net/shr.el (shr-render-td): Preserve point, as\n\tshr-render-td-1 might move it as a side effect of\n\tsave-window-excursion.  (Bug#29348)\n\n2017-11-25  Eli Zaretskii  <eliz@gnu.org>\n\n\tMake sure 'dired-filename' property is always put by ls-lisp\n\n\t* lisp/ls-lisp.el (ls-lisp-classify): Do not put the\n\t'dired-filename' text property on the file name here...\n\t(ls-lisp-classify-file): ...put it here instead.  (Bug#29423)\n\n2017-11-24  Eli Zaretskii  <eliz@gnu.org>\n\n\tA better solution for bug#29347\n\n\t* src/thread.c (really_call_select): Don't try to take the global\n\tlock if the same thread is already holding it.  (Bug#29347)\n\n2017-11-24  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid a hang after C-g while sit-for on a Unix TTY\n\n\t* src/thread.c (acquire_global_lock): Don't try to take the global\n\tlock if the same thread is already holding it.  (Bug#29347)\n\n2017-11-24  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove the doc string of 'list-packages'\n\n\t* lisp/emacs-lisp/package.el (list-packages): Describe in the doc\n\tstring the columns shown by the command.  (Bug#29420)\n\n2017-11-24  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove discoverability of 'defvar' for suppressing warnings\n\n\t* doc/lispref/compile.texi (Compiler Errors): Add index entries.\n\t* doc/lispref/variables.texi (Defining Variables): Mention that\n\tdefvar with no value is used for suppressing compiler warnings.\n\t(Bug#29400)\n\n2017-11-24  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove discoverability of 'read-buffer-completion-ignore-case'\n\n\t* lisp/window.el (switch-to-buffer)\n\t(switch-to-buffer-other-window, switch-to-buffer-other-frame):\n\tMention 'read-buffer' in the doc string.  (Bug#29389)\n\n\t* doc/emacs/buffers.texi (Select Buffer): Add a cross-reference to\n\twhere 'read-buffer-completion-ignore-case' is documented.\n\n2017-11-24  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of self-insert-uses-region-functions\n\n\t* lisp/simple.el (self-insert-uses-region-functions): Clarify the\n\tdoc string.\n\t* lisp/delsel.el (delete-selection-uses-region-p): Mention\n\t'self-insert-command' in the doc string.  (Bug#29373)\n\n\t* doc/lispref/text.texi (Commands for Insertion): Mention\n\t'self-insert-uses-region-functions'.\n\t* doc/lispref/modes.texi (Keymaps and Minor Modes): Add a\n\tcross-reference to \"Commands for Insertion\".\n\n2017-11-24  Eli Zaretskii  <eliz@gnu.org>\n\n\tReflect changes in copy-file and rename-file in doc strings\n\n\t* src/fileio.c (Fcopy_file, Frename_file): Mention in the doc\n\tstrings that directory names must end in a slash.  (Bug#29362)\n\n2017-11-24  Eli Zaretskii  <eliz@gnu.org>\n\n\t* lisp/progmodes/cc-vars.el (c-offsets-alist): Doc fix.  (Bug#29407)\n\n2017-11-24  Eli Zaretskii  <eliz@gnu.org>\n\n\tReorder type predicates in ELisp manual\n\n\t* doc/lispref/objects.texi (Type Predicates): Restore alphabetical\n\torder of listed predicates.  (Bug#29411)\n\n2017-11-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix backward scrolling in buffers with header-line\n\n\t* src/window.c (window_scroll_pixel_based): Account for the\n\theader-line when comparing Y coordinate with the last_visible_y.\n\t(Bug#29325)\n\n2017-11-22  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/bindings.el (buffer-file-coding-system):\n\tAdd explicit permanent-local mark.\n\n\t* src/fns.c (syms_of_fns) <overriding-plist-environment>: Doc fix.\n\n2017-11-22  Alan Third  <alan@idiocy.org>\n\n\tFix incorrect interaction of drag/drop and double click (bug#29121)\n\n\t* src/nsterm.m (EmacsView::performDragOperation): Drag and drop\n\tdoesn't use ns-input-file.\n\n2017-11-22  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/menu-bar.el (menu-bar-options-save):\n\tAdd display-line-numbers-type.\n\n\t* lisp/menu-bar.el (menu-bar-options-save):\n\tAdd global-display-line-numbers-mode.  (Bug#28396)\n\n\t* lisp/follow.el (follow-mode): Restore mode line lighter.  (Bug#28495)\n\n2017-11-22  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tExtract the common part of ruby-flymake-simple and ruby-flymake-rubocop\n\n\t* lisp/progmodes/ruby-mode.el (ruby-flymake-simple)\n\t(ruby-flymake-rubocop):\n\tExtract the common part as ruby-flymake--helper.\n\t(ruby--rubocop-flymake-proc): Remove.  Use the first proc\n\tvariable instead.\n\n2017-11-22  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tAdd Rubocop Flymake backend\n\n\t* lisp/progmodes/ruby-mode.el (ruby-flymake-command):\n\tInline the value.  There are no known substitutes.\n\t(ruby-flymake): Rename to `ruby-flymake-simple' and simplify\n\tthe docstring.\n\t(ruby-flymake-use-rubocop-if-available): New option.\n\t(ruby--rubocop-flymake-proc): New variable.\n\t(ruby-rubocop-config): New option.\n\t(ruby-flymake-rubocop, ruby-flymake-auto): New functions.\n\t(ruby-mode): Use `ruby-flymake-auto'.\n\n2017-11-21  Noam Postavsky  <npostavs@gmail.com>\n\n\tUpdate nt/INSTALL.W64 (Bug#28601)\n\n\t* nt/INSTALL.W64 (Download and install MinGW-w64 and MSYS2): Move\n\tsuggestion about modifying PATH to...\n\t(Test Emacs): ... here.\n\t(Run configure): Remove the unnecessary setting of PKG_CONFIG_PATH.\n\t(Troubleshooting): New section, includes suggestion to check\n\tPKG_CONFIG_PATH.\n\n2017-11-21  Charles A. Roelli  <charles@aurox.ch>\n\n\tRemove incorrect NEWS item about VC state indicator (Bug#28817)\n\n\t* etc/NEWS (VC and related modes): Remove news item about the VC\n\tstate indicator.  This should have been done with commit 7882dc6\n\tof 2016-03-06 'Revert \"Use colors in the VC mode lines\"'.\n\n2017-11-21  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/emacs-lisp/byte-run.el (defsubst): Doc fix.\n\n2017-11-21  Alan Mackenzie  <acm@muc.de>\n\n\tMake c-defun-name analyze more thoroughly a function type which is a struct\n\n\tThis fixes bug #29293.\n\n\t* lisp/progmodes/cc-cmds.el (c-defun-name): When a struct (etc.) type is\n\tencountered, check whether it is the return type of a function rather than a\n\tdeclaration of the struct itself.  Similarly adapt the cond arm which deals\n\twith functions properly to recognize struct return types.\n\n2017-11-21  Glenn Morris  <rgm@gnu.org>\n\n\tAvoid bogus abbreviated file names if HOME changes\n\n\t* lisp/files.el (abbreviate-file-name):\n\tIf HOME changes, ignore `abbreviated-home-dir'.  (Bug#19657#20)\n\t* test/lisp/files-tests.el (files-test-abbreviated-home-dir): New.\n\n2017-11-21  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/emacs-lisp/byte-run.el (inline): Give it a doc.\n\n2017-11-21  Jay Kamat  <jaygkamat@gmail.com>  (tiny change)\n\n\tFix erc keep-place module with new defaults (Bug#29111)\n\n\t* lisp/erc/erc-goodies.el (erc-keep-place): Allow erc\n\tkeep-place to continue working with\n\tswitch-to-buffer-preserve-window-point set to t, the new default.\n\n2017-11-20  Alan Third  <alan@idiocy.org>\n\n\tAdd window divider faces to NS (bug#29353)\n\n\t* src/nsterm.m (ns_draw_window_divider): Use\n\twindow-divider-first-pixel and window-divider-last-pixel faces.\n\n2017-11-20  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* src/keyboard.c: Undo last change, meant for master only\n\n2017-11-20  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix Bug#29149\n\n\t* lisp/net/tramp.el (tramp-drop-volume-letter): Handle also\n\tbackup file names.\n\t(tramp-handle-find-backup-file-name):\n\tCall `tramp-drop-volume-letter' on the results.  (Bug#29149)\n\n2017-11-20  Martin Rudalics  <rudalics@gmx.at>\n\n\tFix misbehavior when drawing three-pixel high horizontal dividers (Bug#29353)\n\n\t* src/xterm.c (x_draw_window_divider):\n\t* src/w32term.c (w32_draw_window_divider): Fix misbehavior when\n\tdrawing three-pixel high horizontal dividers (Bug#29353).\n\n\tThe misbehavior was noted by Keith David Bershatsky and analyzed by Alan\n\tThird.\n\n2017-11-19  Mike Kupfer  <mkupfer@alum.berkeley.edu>\n\n\tMH-E: don't automatically download external-body parts\n\n\t* lisp/mh-e/mh-mime.el (mh-mime-display-single): Use\n\tmm-automatic-display-p to verify that a part should be\n\tdisplayed before doing the inline checks (SF#475).\n\n2017-11-19  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFurther fix for Bug#29291\n\n\t* test/lisp/net/tramp-tests.el (tramp-test24-file-acl):\n\tCheck for local ACL support.  (Bug#29291)\n\n2017-11-19  Alan Third  <alan@idiocy.org>\n\n\tFix divider frame params on NS (bug#29352)\n\n\t* src/nsfns.m (Fx_create_frame): Set right-divider-width and\n\tbottom-divider-width parameters.\n\n2017-11-19  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSpelling fixes\n\n\t* lisp/help-fns.el (help-fns--analyze-function):\n\tRename from help-fns--analyse-function.\n\tAll uses changed.\n\n2017-11-19  Olaf Rogalsky  <olaf.rogalsky@t-online.de>\n\n\t* src/keyboard.c: Make xterm-mouse clicks on mode-line work\n\n\t(read_key_sequence): Recompute first_event\n\tafter replay_sequence, since it might have changed (bug#29104).\n\n2017-11-18  Martin Rudalics  <rudalics@gmx.at>\n\n\tDon't let delete_frame select a tooltip frame (Bug#27647)\n\n\t* src/frame.c (delete_frame): Don't select a tooltip\n\tframe. (Bug#27647)\n\n2017-11-18  Alan Mackenzie  <acm@muc.de>\n\n\tFilter obtrusive events in help-read-key-sequence.\n\n\tThis fixes most of bug #29272.\n\n\t* lisp/help.el (help-read-key-sequence): After a mouse event, pause for 0.01s,\n\tdiscarding any events (such as <help-echo>) received in this time, before\n\tpolling for the double-click (etc.) events which may follow.  This fixes the\n\tinfinite loop which occurred whwn <help-echo> events triggered a sit-for\n\twhilst handling menu events.\n\n2017-11-18  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix symlink flag in tramp-gvfs-handle-file-attributes\n\n\t* lisp/net/tramp-gvfs.el (tramp-gvfs-handle-file-attributes):\n\tSet proper symlink file mode flag.\n\n2017-11-18  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix bug in tramp-handle-file-truename\n\n\t* lisp/net/tramp.el (tramp-handle-file-truename): Expand localname.\n\n\t* test/lisp/net/tramp-tests.el (tramp-test21-file-links): Check also\n\trelative symbolic links.\n\n2017-11-18  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix a typo in doc string of electric-indent-functions-without-reindent\n\n\t* lisp/electric.el (electric-indent-functions-without-reindent):\n\tDoc fix.  (Bug#29304)\n\n2017-11-18  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid assertion violations in echo_area_display\n\n\t* src/xdisp.c (echo_area_display): Don't try redisplaying the echo\n\tarea if the selected-frame's mini-window is nil.  (Bug#27647)\n\n2017-11-18  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix case-folding in Occur\n\n\t* lisp/replace.el (occur-engine): Bind case-fold-search in each\n\tbuffer we search.  (Bug#29254)\n\n2017-11-18  OGAWA Hirofumi  <hirofumi@mail.parknet.co.jp>  (tiny change)\n\n\tFix quick-calc in C mode with hex values\n\n\t* lisp/calc/calc-aent.el (math-read-token): Make sure the match\n\tagainst \"0[xX][0-9a-fA-F]+\" is found at math-exp-pos.  See\n\thttp://lists.gnu.org/archive/html/emacs-devel/2017-11/msg00174.html\n\tfor the details.\n\n2017-11-18  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of dired-next/prev-marked-file\n\n\t* lisp/dired.el (dired-next-marked-file, dired-prev-marked-file):\n\tDoc fixes.  (Bug#29340)\n\n2017-11-17  Eli Zaretskii  <eliz@gnu.org>\n\n\tPrevent aborts in line-move-visual\n\n\t* src/indent.c (line_number_display_width): Avoid assertion\n\tviolations in init_iterator when the window's buffer was\n\ttemporarily switched without updating window-start.  (Bug#29326)\n\n2017-11-17  Eli Zaretskii  <eliz@gnu.org>\n\n\tMore fixes in src/.gdbinit\n\n\t* src/.gdbinit (pwinx): Update to match 'struct window'.\n\t(pcursorx): Use \".\" instead of \"->\" because the argument is a\n\tstruct, not a pointer.\n\n2017-11-17  Robert Pluim  <rpluim@gmail.com>\n\n\tDocument how to enter whitespace when using grep-read-files\n\n\t* lisp/progmodes/grep.el (lgrep, rgrep, grep-read-files): Explain\n\thow to enter whitespace when using grep-read-files.  (Bug#29303)\n\t* lisp/progmodes/project.el (project-find-regexp): Likewise.\n\t* lisp/vc/vc-git.el (vc-git-grep): Likewise.\n\n2017-11-17  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix .gdbinit following lisp.h changes\n\n\t* src/.gdbinit (xsymname, pwinx, pgx, xbuffer, xcar, xcdr, xlist)\n\t(xprintstr): Adapt to latest changes in Lisp object C structures.\n\t(Bug#29332)\n\n2017-11-15  Charles A. Roelli  <charles@aurox.ch>\n\n\t* lisp/simple.el (shell-command): Doc fixes.\n\n2017-11-15  Noam Postavsky  <npostavs@gmail.com>\n\n\tFix marker adjustment for undo (Bug#29118)\n\n\t* lisp/simple.el (primitive-undo): Compare marker against absolute\n\tvalue of POS, because the sign of POS is irrelevant to markers.\n\n2017-11-14  Daniel Pittman  <slippycheeze@google.com>\n\n\tFix Bug#28139\n\n\t* lisp/net/tramp-sh.el: Set TERM and INSIDE_EMACS environment earlier.\n\t(tramp-remote-process-environment): Remove TERM and INSIDE_EMACS.\n\t(tramp-remote-process-environment): Document their special handling.\n\t(tramp-open-shell): Set TERM and INSIDE_EMACS prior to starting the\n\tinitial remote shell, so that it is also aware of the environment\n\tin which it is operating.  (Bug#28139)\n\n2017-11-14  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix Bug#29291\n\n\t* test/lisp/net/tramp-tests.el (tramp-test24-file-acl):\n\tPreserve permissions when copying.  (Bug#29291)\n\n2017-11-14  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix Bug#2928\n\n\t* test/lisp/net/tramp-tests.el (tramp-test25-file-selinux):\n\tEnhance test.  (Bug#29287)\n\t(tramp-test44-delay-load): Fix for older Emacsen.\n\n2017-11-14  Martin Rudalics  <rudalics@gmx.at>\n\n\tMake 'mouse-drag-and-drop-region' work with 'mouse-autoselect-window' non-nil\n\n\t* lisp/mouse.el (mouse-drag-and-drop-region): Ignore\n\t'select-window' events to make it work with\n\t'mouse-autoselect-window'.\n\n2017-11-14  Alexander Gramiak  <agrambot@gmail.com>\n\n\t* etc/PROBLEMS: Remove fixed xterm-mouse-mode problems\n\n\tSee: https://debbugs.gnu.org/cgi/bugreport.cgi?bug=29143#26\n\n2017-11-14  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\tFix cookie handling (bug#29282)\n\n\t* lisp/url/url-cookie.el (url-cookie-handle-set-cookie):\n\tRegard a Set-Cookie header as it contains a single cookie;\n\tprefer Max-Age to Expires and convert it to Expires;\n\tremove support for old time string styles (bug#29282).\n\n2017-11-13  Gemini Lasswell  <gazally@runbox.com>\n\n\tImprove documentation of Edebug and macros\n\n\t* doc/lispref/edebug.texi (Instrumenting Macro Calls): Improve\n\tdiscussion of when it might be necessary to find and evaluate macro\n\tspecifications before instrumenting.\n\t(Specification List): Clarify what \"defining form\" means to Edebug\n\tand when 'def-form' or 'def-body' should be used instead of 'form'\n\tor 'body'.\n\n2017-11-13  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort to IBM xlc 12.01\n\n\tWork around a compiler bug by using a separate enum for alignment.\n\t* src/alloc.c (roundup_size): Declare in a separate enum.\n\n2017-11-13  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSimplify by removing HAVE_STRUCT_ATTRIBUTE_ALIGNED\n\n\t* configure.ac (HAVE_STRUCT_ATTRIBUTE_ALIGNED): Remove.  No longer\n\tneeded, since we no longer rely on __attribute__ ((aligned (8))).\n\tAll uses removed.\n\t* src/emacs-module.c (HAVE_STRUCT_ATTRIBUTE_ALIGNED): Remove.\n\t(lisp_to_value): Simplify now that we no longer need to worry\n\twhether HAVE_STRUCT_ATTRIBUTE_ALIGNED is false.\n\n2017-11-13  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tUse alignas to fix GCALIGN-related bugs\n\n\tUse alignas and unions to specify alignments of objects needing\n\taddresses that are at least a multiple of GCALIGNMENT.  Using\n\tthese standard C facilities should be safer than relying on ad hoc\n\tand poorly-understood features like GCC\u2019s __attribute__\n\t((aligned (N))), the root cause for recent porting bugs like\n\tBug#29040.  The alignas macro was standardized by C11 and Gnulib\n\tsupports alignas for pre-C11 platforms.  I have tested this on Sun\n\tStudio 12 sparc (2007) and GCC 4.4.7 x86-64 (2012) as well as on\n\tmore recent platforms like GCC 7.2.1 (2017) on Fedora 26 (both\n\tx86-64 and x86).\n\t* lib-src/make-docfile.c (close_emacs_globals): lispsym is now\n\tjust an array of struct Lisp_Symbol, since struct Lisp_Symbol is\n\tnow properly aligned.  All uses changed.\n\t* src/alloc.c (NEXT_FREE_LISP_STRING): Just use the new u.next\n\tmember; this is simpler and safer than casting a pointer that\n\tmight not be aligned properly.\n\t(aligned_Lisp_Symbol): Remove.  No longer needed, now that struct\n\tLisp_Symbol is aligned properly.  All uses replaced with struct\n\tLisp_Symbol.\n\t* src/lisp.h (GCALIGNED): Remove, as it does not work as expected:\n\tit can cause the natural alignment to be ignored.  All uses\n\treplaced by unions with a \u2018char alignas (GCALIGNMENT)\u2019 member as\n\tdescribed below.\n\t(struct Lisp_Symbol, struct Lisp_Cons, struct Lisp_String):\n\tChange definition from \u2018struct TAG { MEMBERS };\u2019 to\n\t\u2018struct TAG { union { struct { MEMBERS } s; char alignas\n\t(GCALIGNMENT) gcaligned; } u; };\u2019.  This guarantees \u2018struct TAG\u2019\n\tto have an alignment that at least max (GCALIGNMENT, N) where N is\n\tits old alignment.  All uses like \u2018PTR->MEMBER\u2019 changed to\n\t\u2018PTR->u.s.MEMBER\u2019; these uses were supposed to be mostly private\n\tanyway.  Verify that the resulting \u2018struct TAG\u2019 is properly\n\taligned for Emacs.\n\t(union vectorlike_header): New member \u2018gcaligned\u2019 to guarantee\n\tthat this type, and its containing types like \u2018struct Lisp_Subr\u2019,\n\t\u2018struct buffer\u2019 and \u2018struct thread_state\u2019, are all properly\n\taligned for Emacs.\n\t(struct Lisp_String): New union member \u2018next\u2019, for the benefit\n\tof NEXT_FREE_LISP_STRING.\n\t(union Aligned_Cons, union Aligned_String): Remove.  All uses\n\treplaced by struct Lisp_Cons and struct Lisp_String, since they\n\tare now properly aligned.\n\t(USE_STACK_CONS, USE_STACK_STRING): Simplify now that we can\n\tassume struct Lisp_Cons and struct Lisp_String are properly\n\taligned.\n\n2017-11-13  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tChange vectorlike from struct to union\n\n\t* src/lisp.h (vectorlike_headed): Change from struct to union.\n\tAll uses changed.  Since it has only one member, this does not\n\tchange semantics.  This is designed to simplify future changes\n\tneeded to fix bugs like Bug#29040.  All uses changed.\n\n2017-11-12  Tom Tromey  <tom@tromey.com>\n\n\tDon't enable cursor-sensor-mode in mhtml-mode\n\n\t* lisp/textmodes/mhtml-mode.el (mhtml--last-submode): Update doc\n\tstring.\n\t(mhtml-mode): Don't call cursor-sensor-mode.\n\n2017-11-12  Eli Zaretskii  <eliz@gnu.org>\n\n\t* lisp/files.el (abbreviate-file-name): Doc fix.  (Bug#29267)\n\n2017-11-12  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tUnbreak interactive run of a flymake test (bug#29267)\n\n\tSee https://debbugs.gnu.org/cgi/bugreport.cgi?bug=19657#20 for the\n\ttechnique used here.\n\n\t* test/lisp/progmodes/flymake-tests.el (ruby-backend):\n\tLet-bind abbreviated-home-dir.\n\n2017-11-12  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix Bug#29225\n\n\t* src/fileio.c (Fset_file_acl): Report error only when\n\tacl_errno_valid returns true.  (Bug#29225)\n\n\t* test/lisp/net/tramp-tests.el (tramp-test24-file-acl)\n\t(tramp-test25-file-selinux): New tests.\n\t(tramp-test26-file-name-completion, tramp-test27-load)\n\t(tramp-test28-process-file, tramp-test29-start-file-process)\n\t(tramp-test30-interrupt-process, tramp-test31-shell-command)\n\t(tramp-test32-environment-variables)\n\t(tramp-test32-environment-variables-and-port-numbers)\n\t(tramp-test33-explicit-shell-file-name)\n\t(tramp-test34-vc-registered)\n\t(tramp-test35-make-auto-save-file-name)\n\t(tramp-test36-find-backup-file-name)\n\t(tramp-test37-make-nearby-temp-file)\n\t(tramp-test38-special-characters)\n\t(tramp-test38-special-characters-with-stat)\n\t(tramp-test38-special-characters-with-perl)\n\t(tramp-test38-special-characters-with-ls, tramp-test39-utf8)\n\t(tramp-test39-utf8-with-stat, tramp-test39-utf8-with-perl)\n\t(tramp-test39-utf8-with-ls, tramp-test40-file-system-info)\n\t(tramp-test41-asynchronous-requests)\n\t(tramp-test42-recursive-load, tramp-test43-remote-load-path)\n\t(tramp-test44-delay-load, tramp-test45-unload): Rename.\n\n2017-11-12  Alan Mackenzie  <acm@muc.de>\n\n\tCC Mode: Fix defun-open being recognized as brace-list-open at EOB.\n\n\t* lisp/progmodes/cc-engine.el (c-looking-at-statement-block): Add handling\n\tfor an open brace at EOB and nested braces inside an unclosed brace block.\n\n2017-11-12  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from Gnulib\n\n\tThis incorporates:\n\t2017-11-11 faccessat: port to macOS (Bug#29231)\n\t2017-11-05 fstatat: pacify GCC on unusual platform\n\t* build-aux/config.guess, build-aux/config.sub:\n\t* doc/misc/texinfo.tex, lib/faccessat.c, lib/fstatat.c:\n\t* lib/unistd.in.h, m4/faccessat.m4, m4/unistd_h.m4:\n\tCopy from Gnulib.\n\t* lib/gnulib.mk.in, m4/gnulib-comp.m4: Regenerate.\n\n2017-11-12  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPacify GCC when configured --with-x-toolkit=no\n\n\tWithout these changes, Emacs does not build on Fedora 26 x86-64\n\twhen configured --with-x-toolkit=no --enable-gcc-warnings.\n\t* oldXMenu/Activate.c (XMenuActivate): Add FALLTHROUGH.\n\t* src/xterm.c (x_dispatch_event): Define only if\n\tUSE_X_TOOLKIT || USE_MOTIF || USE_GTK.\n\n2017-11-12  Eli Zaretskii  <eliz@gnu.org>\n\n\t* lisp/find-dired.el (find-grep-dired): Doc fix.  (Bug#29262)\n\n2017-11-12  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tFix more flymake-diag-region eob corner cases and add tests (bug#29201)\n\n\t* lisp/progmodes/flymake.el (flymake-diag-region): Correct\n\tmore eob corner cases.\n\n\t* test/lisp/progmodes/flymake-tests.el\n\t(eob-region-and-trailing-newline): New test.\n\n2017-11-11  Basil L. Contovounesios  <contovob@tcd.ie>\n\n\tKeep Man sections in natural order (bug#28998)\n\n\t* lisp/man.el (Man-build-section-alist): Reverse sections.\n\n2017-11-11  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/minibuffer.el: Install a workaround for bug#16274\n\n\t* lisp/minibuffer.el (completion--nth-completion): Avoid signaling an\n\terror when `md` is applied to another table.\n\n2017-11-11  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix comparisons with tip_frame in GTK builds\n\n\t* src/xterm.c (x_update_begin, x_new_font):\n\t* src/xfns.c (Fx_display_monitor_attributes_list):\n\t* src/frame.c (Fframe_list) [USE_GTK]: Don't consider tip_frame a\n\ttooltip frame unless its 'tooltip' parameter is non-nil.  (Bug#26747)\n\n2017-11-11  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove the documentation of M-n for entering file names\n\n\t* lisp/files.el (find-file, find-file-other-window)\n\t(find-file-other-frame): Mention file-name-at-point-functions in\n\tthe doc string.  Reported by Florian Weimer <fw@deneb.enyo.de> in\n\thttp://lists.gnu.org/archive/html/emacs-devel/2017-11/msg00224.html.\n\n\t* doc/emacs/mini.texi (Minibuffer History): Document\n\tfile-name-at-point-functions and its effect on M-n when typing\n\tfile names in the minibuffer.\n\t* doc/emacs/files.texi (File Names):\n\t* doc/emacs/mini.texi (Minibuffer File): Add a cross-reference to\n\t\"Minibuffer History\", where special features of M-n regarding\n\tfiles are described.\n\n2017-11-11  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix desktop auto-save timer when linum-mode is used\n\n\t* lisp/desktop.el (desktop-read): Use toplevel value of\n\twindow-configuration-change-hook when deciding whether desktop\n\tauto-saving is enabled.  Suggested by Peter Neidhardt\n\t<pe.neidhardt@googlemail.com>.  (Bug#28945)\n\n2017-11-11  Olaf Rogalsky  <olaf.rogalsky@t-online.de>\n\n\tFix \"C-h k\" in xterm-mouse-mode\n\n\t* lisp/help.el (help-read-key-sequence): Support \"C-h k\" for\n\txterm-mouse-mode by calling read-key-sequence-vector instead of\n\tread-event.  (Bug#29150)\n\n2017-11-11  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix off-by-1 bug in --enable-checking=stringbytes\n\n\tEvidently nobody builds Emacs with --enable-checking=all,\n\twhich is no surprise as it is so slow as to be unusable nowadays.\n\tPerhaps we should remove the slowest checks, or move them into\n\tanother category, or speed them up, or something.\n\t* src/alloc.c (SDATA_SIZE) [GC_CHECK_STRING_BYTES]: Fix off-by-one\n\terror in size calculation, which caused a failure when\n\t--enable-checking=stringbytes was used.  I introduced this bug in\n\t2016-09-08T01:08:45!eggert@cs.ucla.edu \"Port flexible array\n\tmembers to GCC + valgrind\".\n\n2017-11-10  Alan Mackenzie  <acm@muc.de>\n\n\tCorrect the indentation of C99's compound literals.\n\n\t* lisp/progmodes/cc-engine.el (c-looking-at-statement-block): Amend so that\n\tif there is only syntactic whitespace in a brace block, it is regarded as a\n\tstatement block.  Also, if there is no semicolon or comma delimiter, treat as\n\ta statement block when there is a keyword.\n\t(c-guess-basic-syntax): CASE 9 test: Regard a brace as starting a brace block\n\twhen its contents indicate a brace block.\n\n2017-11-10  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove the doc string of 'dired-isearch-filter-filenames'\n\n\t* lisp/dired-aux.el (dired-isearch-filter-filenames): Doc fix.\n\t(Bug#29215)\n\n2017-11-10  Eli Zaretskii  <eliz@gnu.org>\n\n\t* lisp/isearch.el (search-invisible): Doc fix.  (Bug#29222)\n\n2017-11-10  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix display of line numbers in GTK builds\n\n\t* src/xdisp.c (should_produce_line_number) [USE_GTK]: Make sure\n\ttip_frame is indeed a tooltip frame, before disabling line numbers\n\ton it.  (Bug#27647)\n\n\t* src/dispextern.h (tip_frame): Add commentary describing the\n\tkludgey usage of this variable in GTK builds.\n\n2017-11-10  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tFix previous change to flymake-diag-region (bug#29174)\n\n\t* lisp/progmodes/flymake.el (flymake-diag-region):\n\tPass line and col to commit.\n\n2017-11-09  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tflymake-diag-region really returns nil if region is invalid (bug#29174)\n\n\tReported by Lele Gaifax <lele@metapensiero.it>.\n\n\t* lisp/progmodes/flymake.el (flymake-diag-region): Really\n\treturn nil if the region is invalid.\n\n2017-11-09  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tFlymake correctly highlights whole last line if eob (bug#29201)\n\n\tIf a line/column pair indicates an end-of-buffer position, flymake\n\tshould behave like the case where the last line of the buffer is\n\treferenced without a column indication.  This behavior is currently\n\tto highlight the whole last line.\n\n\t* lisp/progmodes/flymake.el (flymake-diag-region): Correct\n\tconditions of fallback to the fallback-eol local function.\n\n2017-11-09  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tProtect Flymake checkdoc backend against checkdoc errors (bug#29176)\n\n\tThe function checkdoc-current-buffer may error if there are unbalanced\n\tparens, for example, but this shouldn't disable the\n\telisp-flymake-checkdoc backend.\n\n\t* lisp/progmodes/elisp-mode.el (elisp-flymake-checkdoc): Use\n\tignore-errors.\n\n2017-11-09  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tSort entries of the Flymake diagnostics buffer (bug#29175)\n\n\tReported by Lele Gaifax <lele@metapensiero.it>.\n\n\t* lisp/progmodes/flymake.el\n\t(flymake--diagnostics-buffer-entries): Sort results of flymake-diagnostics.\n\n2017-11-09  Alan Mackenzie  <acm@muc.de>\n\n\tCorrectly indent C++14 brace lists which are a second argument to a function.\n\n\tIn particular, don't indent contained brace lists in \"staircase\" fashion.\n\tThis fixes bug #28623.\n\n\t* lisp/progmodes/cc-engine.el (c-looking-at-or-maybe-in-bracelist): When\n\ttesting for being enclosed in parens, recognize also a brace directly\n\tfollowing a comma, as well as a brace being the first thing inside the paren.\n\tEnhance the return value, by indicating when we're directly inside an open\n\tparen.\n\t(c-inside-bracelist-p): Add an extra argument ACCEPT-IN-PARAM which indicates\n\twhether we will accept a bracelist directly inside an open parenthesis.\n\tSimplify the manipulation of PAREN-STATE by dispensing with variable LIM and\n\tusing c-pull-open-brace.  Enhance the return value, respecting the new argument.\n\t(c-guess-basic-syntax): Save a copy of the initial parse-state in the new\n\tvariable STATE-CACHE.  Use this variable in place of C-STATE-CACHE throughout\n\tthe function.  At CASE 7B, call c-inside-bracelist-p with extra argument nil.\n\tAt CASE 9, call that function with extra argument t.\n\n2017-11-09  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix redisplay of overlay-arrows on GUI frames\n\n\t* src/xdisp.c (try_window_reusing_current_matrix)\n\t(try_cursor_movement): Disallow these optimizations if the buffer\n\thas overlay arrow(s) shown on the fringe(s).  (Bug#29198)\n\n2017-11-09  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tProtect Flymake tests against older Ruby and Perl (bug#29187)\n\n\t* test/lisp/progmodes/flymake-tests.el (perl-backend): Search\n\tfor the error from the bottom.\n\t(ruby-backend): Protect against situation of bug#29187\n\n2017-11-09  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix URL cookie expiration bug\n\n\tProblem reported by Damien Cassou (Bug#29223).\n\t* lisp/url/url-cookie.el (url-cookie-expired-p):\n\tFix typo in previous change, which caused unexpired cookies\n\tto be treated as expired and vice versa.\n\n2017-11-09  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tUse GCALIGNED properly for GCC\n\n\tApparently GCC requires that \u2018__attribute__ ((aligned (8)))\u2019 must\n\timmediately follow the \u2018struct\u2019 keyword when aligning a structure.\n\tThe attribute silently does not work if it follows a tag after the\n\t\u2018struct\u2019 keyword.  Who knew?  Anyway, this patch is designed to\n\tfix a SIGSEGV problem reported by John Mastro (Bug#29183).\n\t* lib-src/make-docfile.c (close_emacs_globals):\n\t* src/buffer.c (buffer_defaults, buffer_local_symbols):\n\t* src/lisp.h (DEFUN):\n\t* src/thread.c (main_thread):\n\tPut 'GCALIGNED' immediately after 'struct'.\n\n2017-11-09  Glenn Morris  <rgm@gnu.org>\n\n\tIn f90.el, set fill-paragraph-function to a useful value\n\n\t* lisp/progmodes/f90.el (f90-mode-map) <menu>: Add fill-paragraph.\n\t(f90-mode): Set fill-paragraph-function.\n\t(f90-fill-paragraph): New command.\n\n2017-11-08  Eric Abrahamsen  <eric@ericabrahamsen.net>\n\n\tFix to 2fddfb7ce7\n\n\t* lisp/emacs-lisp/eieio-base.el (eieio-persistent-convert-list-to-object):\n\t  Fix bogus paren wrapping.\n\n2017-11-08  Glenn Morris  <rgm@gnu.org>\n\n\t* admin/gitmerge.el (gitmerge-resolve-unmerged): Fix doc typo.\n\n2017-11-08  Charles A. Roelli  <charles@aurox.ch>\n\n\tFurther workaround for faulty localtime() under macOS 10.6\n\n\t* lisp/org/org-clock.el (org-clock--oldest-date): Fix an issue\n\twhen compiling on macOS 10.6 with a western time zone (a\n\tcontinuation of Bug#27736).  In particular, see:\n\n\thttps://debbugs.gnu.org/cgi/bugreport.cgi?bug=27736#74\n\n\tand the first commit that attempted to work around this problem,\n\t\"Workaround for faulty localtime() under macOS 10.6\", bd49b6f1 of\n\t2017-09-30.\n\n2017-11-08  Eric Abrahamsen  <eric@ericabrahamsen.net>\n\n\tHandle object string name in eieio-persistent-convert-list-object\n\n\t* lisp/emacs-lisp/eieio-base.el (eieio-persistent-convert-list-to-object):\n\t  Starting to phase out the printing of object names in\n\t  `object-write', handle either case.\n\n2017-11-08  Ryan C. Thompson  <rct@thompsonclan.org>\n\n\tFix handling of nil PRED2 arg for completion-table-with-predicate\n\n\t* lisp/minibuffer.el (completion-table-with-predicate): Don't act as\n\tif strict is non-nil when pred2 is nil (Bug#27841).\n\t* test/lisp/minibuffer-tests.el\n\t(completion-table-with-predicate-test): Add a test for Bug#27841.\n\n2017-11-07  K. Handa  <handa@gnu.org>\n\n\tDescribe Lao rendering problem\n\n\t* etc/PROBLEMS: Describe a workaround for the problem of Lao rendering\n\tby OpenTyype font.\n\n2017-11-07  K. Handa  <handa@gnu.org>\n\n\tFix docstring of arabic-shaper-ZWNJ-handling\n\n\t* lisp/language/misc-lang.el (arabic-shaper-ZWNJ-handling): Adjusted\n\tthe doctstring for addition of :set (bug#28312).\n\n2017-11-07  Antonin Houska  <ah@melesmeles.cz>  (tiny change)\n\n\tHandle single-line comments correctly (Bug#26049)\n\n\t* lisp/newcomment.el (comment-region-internal): Previously, the\n\tcomment text had to contain at least one line break character for the\n\tending extra line to be added.  Make the behavior more consistent by\n\tlooking for end of line instead.\n\t(comment-region-internal): Remove trailing white space from the\n\tcomment's initial line.\n\n2017-11-07  Glenn Morris  <rgm@gnu.org>\n\n\t* test/lisp/net/tramp-tests.el (tramp-test16-file-expand-wildcards):\n\tClean up properly.\n\n2017-11-06  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* etc/PROBLEMS: Add URL to relevant issues for xterm+evil bug\n\n2017-11-06  Martin Rudalics  <rudalics@gmx.at>\n\n\tDocument new treatment of 'comment-auto-fill-only-comments'\n\n\t* doc/lispref/text.texi (Auto Filling): Add reference to Emacs\n\tmanual.  Add description of 'comment-auto-fill-only-comments'.\n\t* etc/NEWS: Mention new treatment of\n\t'comment-auto-fill-only-comments'.\n\n2017-11-05  Michael Albinus  <michael.albinus@gmx.de>\n\n\tDo not load Tramp unless `tramp-mode' is non-nil\n\n\t* lisp/net/tramp.el (tramp-autoload-file-name-handler): Load Tramp only if\n\t`tramp-mode' is non-nil.\n\t(tramp-unload-file-name-handlers): Unload also\n\t`tramp-autoload-file-name-handler'.\n\n\t* test/lisp/net/tramp-tests.el (tramp-test42-delay-load): Extend test.\n\n2017-11-05  Michael Albinus  <michael.albinus@gmx.de>\n\n\tPrefer `customize-set-variable' in tramp.texi\n\n\t* doc/misc/tramp.texi (Configuration, Default Method, Default User)\n\t(Default Host, Remote shell setup, Auto-save and Backup)\n\t(Ad-hoc multi-hops, Frequently Asked Questions):\n\tPrefer `customize-set-variable' over `custom-set-variables'.\n\n2017-11-05  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix last change in hscroll_window_tree\n\n\t* src/xdisp.c (hscroll_window_tree): When hscroll suspension is\n\tbeing disabled, set the frame's garbaged flag less eagerly.\n\t(Bug#29002)\n\n2017-11-05  Philipp Stephani  <phst@google.com>\n\n\tEdiff: add some missing documentation\n\n\t* lisp/vc/ediff.el (ediff-files, ediff-files3, ediff-buffers)\n\t(ediff-buffers3, ediff-merge-directories)\n\t(ediff-merge-directories-with-ancestor)\n\t(ediff-merge-directory-revisions)\n\t(ediff-merge-directory-revisions-with-ancestor)\n\t(ediff-windows-wordwise, ediff-windows-linewise)\n\t(ediff-regions-wordwise, ediff-regions-linewise)\n\t(ediff-merge-files, ediff-merge-files-with-ancestor)\n\t(ediff-merge-buffers, ediff-merge-buffers-with-ancestor)\n\t(ediff-merge-revisions, ediff-merge-revisions-with-ancestor)\n\t(ediff-patch-file, ediff-revision): Document missing arguments.\n\t(ediff-patch-buffer, ediff-revision): Add second space after\n\tperiod.\n\t(ediff-files-command, ediff3-files-command, ediff-merge-command)\n\t(ediff-merge-with-ancestor-command, ediff-directories-command)\n\t(ediff-directories3-command, ediff-merge-directories-command): Add\n\tdocumentation for the command line functions.\n\n2017-11-05  Justin Timmons  <justinmtimmons@gmail.com>  (tiny change)\n\n\tSupport python virtualenv on w32 (Bug#24464)\n\n\tAccording to the virtualenv docs only POSIX systems follow the\n\tstructure \"/path/to/venv/bin/\", while windows systems use\n\t\"/path/to/venv/Scripts\" for the location of the binary files, most\n\timportantly including the python interpreter (see:\n\thttps://virtualenv.pypa.io/en/stable/userguide/#windows-notes).\n\t* lisp/progmodes/python.el (python-shell-calculate-exec-path): Use the\n\t\"/path/to/venv/Scripts\" for `windows-nt' machines.\n\n2017-11-05  Noam Postavsky  <npostavs@gmail.com>\n\n\tImprove dired deletion error handling (Bug#28797)\n\n\t* lisp/dired.el (dired-internal-do-deletions): Use\n\t`error-message-string' to produce a human readable error message.\n\n2017-11-05  Noam Postavsky  <npostavs@gmail.com>\n\n\tDon't replace user input when completion prefix is empty (Bug#18951)\n\n\t* lisp/pcomplete.el (pcomplete-parse-arguments): Only replace user\n\tinput if we produced a non-empty common completion stub.\n\n2017-11-05  Eli Zaretskii  <eliz@gnu.org>\n\n\tReturn non-nil from gnutls-available-p under GnuTLS 2.x\n\n\t* doc/misc/emacs-gnutls.texi (Help For Users): Update the\n\tdocumentation of 'gnutls-available-p'.\n\n\t* etc/NEWS (GnuTLS): Mention the change in the value returned by\n\t'gnutls-available-p'.\n\n\t* src/gnutls.c (Fgnutls_available_p): Return non-nil when GnuTLS\n\t2.x is available.  (Bug#29147)\n\n2017-11-05  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tFix Flymake help-echo functions across windows (bug#29142)\n\n\t* lisp/progmodes/flymake.el (flymake--highlight-line): Use\n\twith-selected-window.\n\t(flymake-goto-next-error): Call help-echo with a window and an\n\toverlay.\n\n2017-11-05  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tAdd tests for Flymake backends for Ruby and Perl\n\n\t* test/lisp/progmodes/flymake-tests.el (perl-backend)\n\t(ruby-backend): New tests.\n\t(warning-predicate-rx-perl, warning-predicate-function-perl):\n\tDelete tests.\n\n\t* test/lisp/progmodes/flymake-resources/test.pl: Include an\n\terror the test file.\n\n\t* test/lisp/progmodes/flymake-resources/test.rb: file.\n\n2017-11-05  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tAdd a Flymake backend for Perl\n\n\tDefine a simple backend in perl-mode.el, which cperl-mode.el also\n\tuses.\n\n\t* lisp/progmodes/cperl-mode.el (cperl-mode): Add to\n\tflymake-diagnostic-functions.\n\n\t* lisp/progmodes/flymake-proc.el\n\t(flymake-proc-allowed-file-name-masks): Disable legacy backend\n\tfor perl files.\n\n\t* lisp/progmodes/perl-mode.el (perl-flymake-command): New\n\tdefcustom.\n\t(perl--flymake-proc): New buffer-local variable.\n\t(perl-flymake): New function.\n\t(perl-mode): Add to flymake-diagnostic-functions.\n\n2017-11-05  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tAdd a Flymake backend for Ruby\n\n\t* lisp/progmodes/ruby-mode.el (ruby-flymake-command): New\n\tdefcustom.\n\t(ruby--flymake-proc): New buffer-local variable.\n\t(ruby-flymake): New function.\n\t(ruby-mode): Add flymake-diagnostic-functions.\n\n2017-11-05  Lele Gaifax  <lele@metapensiero.it>\n\n\tAdd a Flymake backend for Python (bug#28808)\n\n\tImplement new Flymake backend with related customizable settings.\n\n\t* lisp/progmodes/python.el (python-flymake-command)\n\t(python-flymake-command-output-pattern)\n\t(python-flymake-msg-alist): New defcustom.\n\t(python--flymake-parse-output): New function, able to parse\n\tpython-flymake-command output accordingly to\n\tpython-flymake-command-output-pattern.\n\t(python-flymake): New function implementing the backend\n\tinterface using python--flymake-parse-output for the real\n\twork.\n\t(python-mode): Add python-flymake to flymake-diagnostic-functions.\n\n2017-11-05  Michael Albinus  <michael.albinus@gmx.de>\n\n\tAllow \"%\" in Tramp host names\n\n\t* lisp/net/tramp-gvfs.el (tramp-gvfs-url-file-name): Hexify also host.\n\n\t* lisp/net/tramp.el (tramp-host-regexp): Allow \"%\" in host names.\n\n2017-11-04  Noam Postavsky  <npostavs@users.sourceforge.net>\n\n\tUse hybrid malloc for FreeBSD (Bug#28308)\n\n\tFreeBSD aarch64 does not provide sbrk, so gmalloc cannot be used; when\n\tusing system malloc dumping does not work correctly (allocated data is\n\tinvalid after dumping).\n\t* configure.ac: Set hybrid_malloc for freebsd.\n\t* src/gmalloc.c (gdefault_morecore) [!HAVE_SBRK]: Don't call sbrk.\n\n2017-11-04  Charles A. Roelli  <charles@aurox.ch>\n\n\tAdd html-, mhtml- and python-mode support to semantic symref\n\n\t* lisp/cedet/semantic/symref/grep.el\n\t(semantic-symref-filepattern-alist): Fix the entry for\n\t'html-mode', which used a regexp-like syntax where only glob\n\tsyntax is permitted.  As a result, 'xref-find-references' (M-?)\n\tcan now find references in HTML files.  Also duplicate the same\n\tentry for the sake of 'mhtml-mode', and add a new one for\n\t'python-mode'.\n\t(semantic-symref-derive-find-filepatterns): In the documentation,\n\tclarify that returned patterns must follow the glob syntax.  Fix\n\tan 'if' test that always evaluates to nil.\n\t(semantic-symref-tool-grep):\n\t(semantic-symref-perform-search): Fix typos.\n\n2017-11-04  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of 'window-scroll-functions'\n\n\t* doc/lispref/windows.texi (Window Hooks): Clarify the values of\n\targuments of 'window-scroll-functions' functions.\n\n\t* src/xdisp.c (syms_of_xdisp) <window-scroll-functions>: Doc fix.\n\n2017-11-04  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix subtle problems in tabulated-list-mode with line numbers\n\n\t* lisp/emacs-lisp/tabulated-list.el\n\t(tabulated-list-watch-line-number-width): Call\n\ttabulated-list-init-header instead of tabulated-list-revert.\n\t(tabulated-list-window-scroll-function): New function.\n\t(tabulated-list-mode): Put 'tabulated-list-window-scroll-function'\n\ton the buffer-local 'window-scroll-functions' list.\n\n2017-11-04  Eli Zaretskii  <eliz@gnu.org>\n\n\tMake gdb-non-stop-setting default to nil on MS-Windows\n\n\t* lisp/progmodes/gdb-mi.el (gdb-non-stop-setting): Now nil on\n\tMS-Windows.\n\n2017-11-04  Mike Gulick  <mike.gulick@mathworks.com>  (tiny change)\n\n\tFix gdb-mi prompt after \"attach PID\" command\n\n\t* lisp/progmodes/gdb-mi.el (gdbmi-bnf-console-stream-output): Set\n\tgdb-first-done-or-error non-nil.  (Bug#29020)\n\n2017-11-04  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix doc string of 'window-configuration-change-hook'\n\n\t* src/window.c (syms_of_window) <window-configuration-change-hook>:\n\tDoc fix.  (Bug#29049)\n\n2017-11-04  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of window hooks\n\n\t* doc/lispref/windows.texi (Window Hooks): Fix the description of\n\twindow-configuration-change-hook.  (Bug#29049)\n\t<run-window-scroll-functions, run-window-configuration-change-hook>:\n\tDocument these functions.\n\n2017-11-04  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix hscroll suspension after cursor motion\n\n\t* src/xdisp.c (hscroll_window_tree): Trigger a thorough redisplay\n\tof the window when temporary suspension of hscrolling is\n\tdisabled.  (Bug#29002)\n\n2017-11-03  Alan Mackenzie  <acm@muc.de>\n\n\tIntroduce a function to CC Mode which displays the current function name\n\n\tRemove an erroneous interactive specification from two functions.\n\n\t* lisp/progmodes/cc-cmds.el (c-display-defun-name): New command.\n\t(c-defun-name, c-cpp-define-name): Remove interactive specification.\n\n\t* lisp/progmodes/cc-mode.el (c-mode-base-map): Add binding C-c C-z for the new\n\tcommand.\n\n\t* doc/misc/cc-mode.texi (Other Commands): Add documentation for the new\n\tcommand.\n\n2017-11-03  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix typos in ediff-wind.el\n\n\t* lisp/vc/ediff-wind.el (ediff-setup-windows-multiframe-merge):\n\tFix typos in commentary.  (Bug#29138)\n\n2017-11-03  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tExamine tex-chktex--process in the correct buffer\n\n\tAs in other Flymake backends, the process sentinel might run in\n\tarbitrary buffers where this variable's value doesn't make sense.\n\n\tFor a way to trigger a problem due to this, see discussion starting in\n\thttps://lists.gnu.org/archive/html/emacs-devel/2017-10/msg00645.html\n\n\t* lisp/textmodes/tex-mode.el (tex-chktex): Use\n\twith-current-buffer.\n\n2017-11-03  Stephen Leake  <stephen_leake@stephe-leake.org>\n\n\t* nt/INSTALL.W64: Update to current mingw64 install instructions\n\n2017-11-03  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tDon't resignal errors in flymake-diag-region\n\n\t* lisp/progmodes/flymake.el (flymake-diag-region): Use\n\tflymake-log instead of flymake-error.\n\n2017-11-03  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tNew xref-quit-and-goto-xref command bound to TAB (bug#28814)\n\n\tThis is like xref-goto-xref, but quits the *xref* window just before\n\tthe user jump to ref.\n\n\t* lisp/progmodes/xref.el (xref--show-location): Handle 'quit\n\tvalue for SELECT.\n\t(xref-goto-xref): Take optional QUIT arg.\n\t(xref-quit-and-goto-xref): New command.\n\t(xref--xref-buffer-mode-map): Bind \"Q\" and \"TAB\" to\n\txref-quit-and-goto-xref.\n\n\t* doc/emacs/maintaining.texi (Xref Commands): Describe new bindings in\n\t*xref*.\n\n\t* etc/NEWS (Xref): Describe new binding.\n\n2017-11-03  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tAllow split-window-sensibly to split threshold in further edge case\n\n\tAs a fallback, and to avoid creating a frame, split-window-sensibly\n\twould previously disregard split-height-threshold if the window to be\n\tsplit is the frame's root window.\n\n\tThis change generalizes that: it disregards the threshold if the\n\twindow to be split is the frame's only _usable_ window (it is either\n\tthe only one, as before, or all the other windows are dedicated to\n\tsome buffer and thus cannot be touched).\n\n\tThis is required for the fix to bug#28814.\n\n\t* lisp/window.el (split-height-threshold): Adjust doc to match\n\tsplit-window-sensibly.\n\t(split-window-sensibly): Also disregard threshold if all other\n\twindows are dedicated.\n\n2017-11-03  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tHonor window-switching intents in xref-find-definitions (bug#28814)\n\n\tWhen there is more than one xref to jump to, and an *xref* window\n\tappears to help the user choose, the original intent to open a\n\tdefinition in another window or frame is remembered when the choice to\n\tgo to or show a reference is finally made.\n\n\t* lisp/progmodes/xref.el (xref--show-pos-in-buf): Rewrite.\n\t(xref--original-window-intent): New variable.\n\t(xref--original-window): Rename from xref--window and move up\n\there for clarity.\n\t(xref--show-pos-in-buf): Rewrite.  Don't take SELECT arg here.\n\t(xref--show-location): Handle window selection decision here.\n\t(xref--window): Rename to xref--original-window.\n\t(xref-show-location-at-point): Don't attempt window management here.\n\t(xref--show-xrefs): Ensure display-action intent is saved.\n\n2017-11-03  Paul Pogonyshev  <pogonyshev@gmail.com>\n\n\t* lisp/emacs-lisp/generator.el (iter-do): Add a debug declaration.\n\n2017-11-03  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/progmodes/flymake.el (flymake-start): Fix dead buffer case\n\n\tDon't try to flymake-start within a buffer that doesn't exist any more.\n\n2017-11-03  Basil L. Contovounesios  <contovob@tcd.ie>\n\n\tFix buffer name comparison in async shell-command\n\n\t* lisp/simple.el (shell-command): Keep track of output-buffer\n\tby its name, not by its object.  (Bug#28997)\n\n2017-11-03  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tChange GCALIGNMENT back to an integer literal\n\n\t* src/lisp.h (GCALIGNMENT): Change it back to a macro\n\tthat expands to a literal integer constant, for older GCC.\n\tI had mistakenly thought that only MSVC had the problem.\n\tProblem repored by Eli Zaretskii (Bug#29040#69).\n\n2017-11-03  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* src/lisp.h (GCALIGNED): Clarify comment (Bug#29040).\n\n2017-11-03  Hong Xu  <hong@topbug.net>\n\n\tImprove the doc of eshell-cmpl-* custom variables (Bug#25069)\n\n\t* lisp/eshell/em-cmpl.el (eshell-cmpl--custom-variable-docstring): New\n\tfunction to generate the docstring for custom variables derived from\n\tpcomplete-* variables.\n\t(eshell-cmpl-file-ignore, eshell-cmpl-dir-ignore)\n\t(eshell-cmpl-ignore-case, eshell-cmpl-autolist)\n\t(eshell-cmpl-suffix-list, eshell-cmpl-recexact)\n\t(eshell-cmpl-man-function, eshell-cmpl-compare-entry-function)\n\t(eshell-cmpl-expand-before-complete, eshell-cmpl-cycle-completions)\n\t(eshell-cmpl-cycle-cutoff-length, eshell-cmpl-restore-window-delay)\n\t(eshell-command-completion-function, eshell-cmpl-command-name-function)\n\t(eshell-default-completion-function, eshell-cmpl-use-paring): Use it\n\tto set the docstring.\n\n2017-11-02  Alan Third  <alan@idiocy.org>\n\n\tFix mouse-scrollbar offset on GNUstep and old macOS (bug#29053)\n\n\t* src/nsterm.m (EmacsScroller::mouseDown,\n\tEmacsScroller::mouseDragged): Take scroller buttons into account when\n\tcalculating scroller knob position.\n\n2017-11-02  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from Gnulib\n\n\tThis incorporates:\n\t2017-10-29 timespec: prefer \u2018assume\u2019 to \u2018assure\u2019\n\t2017-10-27 timespec.h: use \"assure\" to avoid a spurious warning\n\t2017-10-09 getopt-posix: Fix build failure if ac_cv_header_getopt_h=no\n\t* build-aux/config.guess, build-aux/config.sub:\n\t* lib/timespec.h, lib/unistd.in.h:\n\tCopy from Gnulib.\n\n2017-11-02  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix alignment portability problems\n\n\tDo not assume that the natural alignment of Lisp objects is a\n\tmultiple of GCALIGNMENT.  This improves on the portability of the\n\trecent fix for Bug#29040.\n\t* lib-src/make-docfile.c (close_emacs_globals):\n\t* src/buffer.c (buffer_defaults, buffer_local_symbols):\n\t* src/lisp.h (DEFUN):\n\t* src/thread.c (main_thread):\n\tUse GCALIGNED, not alignas (GCALIGNMENT).\n\t* src/alloc.c (COMMON_MULTIPLE):\n\tMove back here from lisp.h, since it is no longer used elsewhere.\n\t* src/lisp.h (GCALIGNMENT): No longer a macro, since we need not\n\tworry about MSVC.  Omit no-longer-needed consistency check.\n\t* src/thread.c (THREAD_ALIGNMENT): Remove.\n\n2017-11-02  Simen Heggest\u00f8yl  <simenheg@gmail.com>\n\n\tFix completion of colon after CSS property (Bug#29056)\n\n\t* lisp/textmodes/css-mode.el (css-completion-at-point): Don't insert\n\t\": ;\" after completing a CSS property unless the rest of the line is\n\tempty.\n\n2017-11-02  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* src/alloc.c (sweep_symbols): Tweak last change\n\n\tAvoid the double-free without the extra check.  Add an explanatory comment.\n\n2017-11-02  Martin Rudalics  <rudalics@gmx.at>\n\n\tIn frame parameters documentation mention desktop saving/restoring\n\n\t* doc/lispref/frames.texi (Frame Parameters): Mention that\n\tapplications have to care about which parameters they want to\n\tget saved and restored by the desktop library.\n\n2017-11-02  Martin Rudalics  <rudalics@gmx.at>\n\n\tDon't have frameset save the 'client' parameter (Bug#29067)\n\n\t* lisp/frameset.el (frameset-persistent-filter-alist): Never\n\tsave 'client' parameter (Bug#29067).\n\n2017-11-02  Gemini Lasswell  <gazally@runbox.com>\n\n\tHandle generic variables in cl-defgeneric Edebug spec\n\n\t*lisp/emacs-lisp/cl-generic.el (cl-defgeneric): Fix Edebug spec to\n\tmatch (setf name) and replace incorrect cl-lambda-list with listp\n\t(Bug#27747).\n\n2017-11-02  Noam Postavsky  <npostavs@gmail.com>\n\n\tGive a more sensible message if file-attributes fails (Bug#29070)\n\n\t* lisp/server.el (server-ensure-safe-dir): Don't claim the directory\n\tis a file if we fail to get anything from `file-attributes'.\n\n2017-11-01  Andreas Schwab  <schwab@linux-m68k.org>\n\n\tAvoid wrong value from file-attributes on Linux kernel before 3.6\n\n\t* src/dired.c (file_attributes): Handle unsupported fstat on O_PATH\n\tdescriptors.  (bug#29070)\n\n2017-11-01  Noam Postavsky  <npostavs@gmail.com>\n\n\tFix customization of debugger-print-function (Bug#29077)\n\n\t* lisp/emacs-lisp/debug.el (debugger-print-function): The :options\n\tkeyword has no effect for :type 'function, use :type '(choice ...)\n\tinstead.\n\n2017-10-31  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid duplicate calls to xfree for the same pointer\n\n\t* src/alloc.c (sweep_symbols): Avoid freeing an already freed\n\tpointer to a symbol's buffer-local value.  (Bug#29066)\n\n2017-10-31  Phil Sainty  <psainty@orcon.net.nz>\n\n\tDon't clobber docstrings of explicitly-defined mode hook variables\n\n\t* lisp/emacs-lisp/derived.el (define-derived-mode):\n\t* lisp/emacs-lisp/easy-mmode.el (define-minor-mode): When defining the\n\tmode hook variable, do not clobber pre-existing docstrings.\n\n2017-10-31  Martin Rudalics  <rudalics@gmx.at>\n\n\tAvoid fullscreen ediff control frames by default (Bug#29026)\n\n\t* lisp/vc/ediff-wind.el (ediff-control-frame-parameters):\n\tAdd parameter to avoid fullscreen control frames (Bug#29026).\n\n2017-10-31  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\tFix the bug#24034 change (revno 9eb028f) causing infloop (bug#29047)\n\n\t* lisp/net/shr.el (shr-fill-line): Copy only face and image-displayer\n\tproperties to gaps (bug#29047).\n\n2017-10-30  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix a typo in the ELisp manual\n\n\t* doc/lispref/functions.texi (Obsolete Functions): Fix a typo.\n\t(Bug#29068)\n\n2017-10-30  Martin Rudalics  <rudalics@gmx.at>\n\n\tFix doc and doc-strings for minibuffer window related functions (Bug#28978)\n\n\tThese fixes were suggested by Drew Adams.\n\n\t* src/window.c (Fminibuffer_selected_window): Disambiguate\n\tdoc-string.\n\t* doc/lispref/minibuf.texi (Intro to Minibuffers)\n\t(Minibuffer Windows, Recursive Mini, Minibuffer Misc):  Avoid\n\tthe term \"currently active minibuffer window\".  Disambiguate\n\tdocumentation of `minibuffer-selected-window'.\n\n2017-10-30  Alan Mackenzie  <acm@muc.de>\n\n\tFix \"Args out of range\" error in c-determine-limit.  Fixes bug #28598.\n\n\t* lisp/progmodes/cc-engine.el (c-determine-limit-get-base): If the candidate\n\tposition for BASE is below point-min, scan forward to the end of the current\n\tliteral.\n\t(c-determine-limit): Add an extra arm to the final cond form, testing for BASE\n\tbeing at point-min.\n\n2017-10-30  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/progmodes/perl-mode.el: Fix electric indentation with RET\n\n\t(perl-electric-noindent-p): The `eolp' check should not apply to RET.\n\tReported in https://emacs.stackexchange.com/questions/36337.\n\n2017-10-29  Tom Tromey  <tom@tromey.com>\n\n\tExtend mhtml submode region when in comment\n\n\t* lisp/textmodes/mhtml-mode.el (mhtml-syntax-propertize): Extend\n\tsubmode when start happens to be in a comment.\n\n2017-10-29  Tom Tromey  <tom@tromey.com>\n\n\tFix mthml submode lighting at end of buffer\n\n\t* lisp/textmodes/mhtml-mode.el (mhtml--submode-lighter): Handle end of\n\tbuffer correctly.\n\n2017-10-29  Tom Tromey  <tom@tromey.com>\n\n\tRemember more variables in mhtml-mode\n\n\t* lisp/textmodes/mhtml-mode.el (mhtml--crucial-variable-prefix): Add\n\t\"completion-\" and \"major-mode\".\n\t(mhtml--variable-prefix): Remove \"major-mode\".\n\n2017-10-29  Thomas Fitzsimmons  <fitzsim@fitzsim.org>\n\n\t* etc/NEWS (EUDC): Deprecate BBDB 2.x backward compatibility.\n\n2017-10-29  Martin Rudalics  <rudalics@gmx.at>\n\n\tFix minibuffer window related docs and strings (Bug#28978)\n\n\t* src/frame.c (Vdefault_minibuffer_frame): Fix doc-string.\n\t* src/window.c (Fminibuffer_selected_window): Fix doc-string.\n\t* doc/lispref/frames.texi (Buffer Parameters): Rewrite\n\tdescription of `minibuffer' parameter.\n\t* doc/lispref/minibuf.texi (Minibuffer Windows): Reorder\n\tentries and partly rewrite section.\n\t(Minibuffer Misc): Clarify description of\n\t`minibuffer-selected-window'.\n\t* etc/NEWS: Mention new semantics of 'minibuffer' frame\n\tparameter.\n\n2017-10-29  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tAdd ChkTeX flymake backend for latex-mode\n\n\t* lisp/textmodes/tex-mode.el (tex-flymake): New custom group.\n\t(tex-chktex-program, tex-chktex-extra-flags): New custom variables.\n\t(latex-mode): Add backend to flymake-diagnostic-functions.\n\t(tex-chktex--process): New variable.\n\t(tex-chktex-command, tex-chktex): New functions.\n\n2017-10-29  Glenn Morris  <rgm@gnu.org>\n\n\tFix doc typos\n\n\t* lisp/simple.el (line-move-ignore-invisible):\n\t* lisp/sort.el (sort-regexp-fields):\n\t* lisp/cedet/ede.el (project-add-file):\n\t* lisp/gnus/message.el (message-bogus-recipient-p):\n\t* lisp/international/mule.el (define-coding-system):\n\t* lisp/progmodes/ebrowse.el (ebrowse-member-buffer-object-menu):\n\t* lisp/progmodes/xscheme.el (xscheme-allow-output-p)\n\t(scheme-interaction-mode, scheme-debugger-mode)\n\t(xscheme-yank-pop, xscheme-yank-push): Doc fixes.\n\n2017-10-29  Glenn Morris  <rgm@gnu.org>\n\n\tFix some duplicate word typos\n\n\t* doc/misc/ede.texi (ede-target):\n\t* doc/misc/flymake.texi (Using Flymake):\n\t* doc/misc/gnus.texi (The namazu Engine): Fix typos.\n\n2017-10-28  Eli Zaretskii  <eliz@gnu.org>\n\n\t* doc/lispref/commands.texi (Adjusting Point): Fix wording. (Bug#29042)\n\n2017-10-28  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid segfaults in 64-bit Windows builds\n\n\t* src/lisp.h (COMMON_MULTIPLE): Move here from alloc.c.\n\t* src/thread.c (THREAD_ALIGNMENT): New macro.\n\t(main_thread): Use THREAD_ALIGNMENT to align propertly.  (Bug#29040)\n\n2017-10-28  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix conversion of pixel coordinates to buffer position\n\n\t* src/dispnew.c (buffer_posn_from_coords): Adapt to\n\tauto-hscroll-mode == current-line.\n\n2017-10-28  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix doc strings in desktop.el\n\n\t* lisp/desktop.el (desktop-auto-save-timeout)\n\t(desktop-auto-save-set-timer): Doc fixes.  (Bug#28945)\n\n2017-10-28  Eli Zaretskii  <eliz@gnu.org>\n\n\tAdd Index to ERT manual\n\n\t* doc/misc/ert.texi: Add @syncodeindex directives.\n\t(Index): New node.\n\t(Top): Add Index to the top-level menus.\n\tAdd index entries to all nodes.\n\n2017-10-28  Eli Zaretskii  <eliz@gnu.org>\n\n\tMake manuals and NEWS consistent\n\n\t* etc/NEWS: Fix markings on several entries, and rearrange others\n\tas needed.\n\n\t* doc/emacs/programs.texi (Hideshow): Document the new\n\toutline-like bindings.\n\t* doc/emacs/search.texi (Query Replace): Document 'u' and 'U'.\n\n2017-10-28  Martin Rudalics  <rudalics@gmx.at>\n\n\tDon't allow (minibuffer-window-active-p nil) to return t\n\n\t* lisp/window.el (minibuffer-window-active-p): Return t\n\tonly if WINDOW is a live window.\n\n2017-10-28  Eli Zaretskii  <eliz@gnu.org>\n\n\tClarify obsolescence message for 'whitespace-tab'\n\n\t* lisp/whitespace.el (whitespace-tab): Make the obsolescence\n\tmessage more clear about the replacement.\n\n2017-10-28  Glenn Morris  <rgm@gnu.org>\n\n\tFix some duplicate words typos\n\n\t* lisp/erc/erc.el (erc-hide-current-message-p):\n\t* lisp/progmodes/flymake-proc.el (flymake-proc-diagnostic-type-pred):\n\t* doc/lispref/display.texi (Bidirectional Display, Delayed Warnings):\n\t* doc/lispref/functions.texi (Defining Functions):\n\t* doc/lispref/os.texi (Terminal-Specific):\n\t* doc/misc/sem-user.texi (Analyzer Debug):\n\t* doc/misc/srecode.texi (Special Variables): Fix typos.\n\n2017-10-28  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/button.el (button-activate): Fix doc typo.\n\n\t* lisp/calendar/todo-mode.el (todo-toggle-mark-item): Fix doc typo.\n\n2017-10-28  Glenn Morris  <rgm@gnu.org>\n\n\tFix some doc typos\n\n\t* lisp/calendar/todo-mode.el (todo-next-item)\n\t(todo-previous-item, todo-toggle-item-header):\n\t* lisp/window.el (move-to-window-group-line):\n\t* src/editfns.c (Fformat):\n\t* test/lisp/calendar/todo-mode-tests.el (todo-test-move-item05):\n\tFix doc typos.\n\n2017-10-27  Ken Brown  <kbrown@cornell.edu>\n\n\tFix startup display on Cygwin\n\n\t* src/xterm.c (x_make_frame_visible) [CYGWIN]: Restore code that\n\tforces input to be read.  (Bug#24091)\n\n2017-10-27  Eli Zaretskii  <eliz@gnu.org>\n\n\t* src/fileio.c (Fset_default_file_modes): Fix typo in doc string.\n\n\t* lisp/dired.el (dired-find-alternate-file): Doc fix.  (Bug#28963)\n\n2017-10-27  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of how faces are applied to display stings\n\n\t* doc/lispref/display.texi (Displaying Faces): Describe how the\n\tfaces of the \"underlying\" text affect overlay and display strings.\n\t(Display Margins): Add a cross-reference to \"Displaying Faces\".\n\n2017-10-27  Tak Kunihiro  <tkk@misasa.okayama-u.ac.jp>\n\n\tImprove pixel-scroll-mode\n\n\tScroll vertically by number of pixels returned by\n\t'frame-char-height' with or without horizontally scrolled.\n\t(Bug#28922)\n\n\t* lisp/pixel-scroll.el (pixel-resolution-fine-flag): When t, scroll\n\tby number of pixels returned by 'frame-char-height'.\n\t(pixel-scroll-up): Scroll by 'frame-char-height'. Fix algorithm to\n\tmove cursor to avoid unexpected jump.\n\t(pixel-scroll-down): Scroll by 'frame-char-height'.\n\t(pixel-bob-at-top-p): Consider number of pixels that is about to\n\tscroll.\n\t(pixel-posn-y-at-point): Consider existence of an overlay string.\n\tReturn nil when horizontally scrolled.\n\t(pixel-point-at-top-p): Consider number of pixels that is about to\n\tscroll. Use different algorithm when horizontally scrolled.\n\t(pixel-point-at-bottom-p): Consider number of pixels that is about\n\tto scroll. Return nil when horizontally scrolled.\n\t(pixel-scroll-pixel-down): Move cursor when horizontally scrolled.\n\t(pixel--whistlestop-line-up): Change cosmetics and move cursor when\n\thorizontally scrolled.\n\t(pixel-line-height): Call 'pixel-visual-line-height' instead of\n\t'line-pixel-height'.\n\t(pixel-visual-line-height): New function to return height in pixels\n\tof text line where cursor is with or without horizontally scrolled,\n\tconsidering response of display engine.\n\t(pixel-visible-pos-in-window): New function to return position of\n\ta char shown on text line where cursor is on screen with or without\n\thorizontally scrolled.\n\n2017-10-27  Daniel Lublin  <daniel@lublin.se>  (tiny change)\n\n\tSupport Certification Authority Authorization in dns-mode.el\n\n\t* lisp/textmodes/dns-mode.el (dns-mode-types): Add \"CAA\".\n\t(Bug#28911)\n\n2017-10-27  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of set-default-file-modes\n\n\t* src/fileio.c (Fset_default_file_modes): Doc fix.  (Bug#28875)\n\n\t* doc/lispref/files.texi (Changing Files): Clarify how the bits in\n\tthe argument of set-default-file-modes are used for setting file\n\tpermissions.\n\n2017-10-27  Ulf Jasper  <ulf.jasper@web.de>\n\n\tFix documentation of `newsticker-new-item-functions' (bug#29023).\n\n\t* lisp/net/newst-backend.el (newsticker-new-item-functions),\n\t(newsticker-new-item-functions-sample),\n\t(newsticker-download-enclosures): Fix docstring, rename\n\tvariable feed to feedname (bug#29023).\n\n\t* doc/misc/newsticker.texi (Automatic Processing)\n\t(Automatic Processing): Fix documentation of\n\t`newsticker-new-item-functions' (bug#29023).\n\n2017-10-27  Tino Calancha  <tino.calancha@gmail.com>\n\n\tRequire seq in rmc.el\n\n\t* lisp/emacs-lisp/rmc.el: Require seq (Bug#28975).\n\t* test/lisp/emacs-lisp/rmc-tests.el (test-read-multiple-choice): Add test.\n\n2017-10-27  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\tMake an example code introduced in the Gnus info work (bug#29008)\n\n\tYou can find it in the bottom of (info \"(gnus)Foreign Groups\").\n\tNOTE: this change is worth being merged to the trunk.\n\n\t* lisp/gnus/gnus-group.el (gnus-read-ephemeral-emacs-bug-group):\n\tAllow a string for bug# (bug#29008).\n\n2017-10-27  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\tEnable gnus-read-ephemeral-* to run multiple times (bug#29008)\n\n\tNOTE: *DO NOT* merge this change to the trunk.\n\n\t* lisp/gnus/gnus-group.el (gnus-read-ephemeral-gmane-group)\n\t(gnus-read-ephemeral-bug-group): Make it work for any number of times\n\tfor the case `url-automatic-caching' is set (bug#29008).\n\n2017-10-27  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort thread.c to OpenBSD ARM\n\n\tProblem reported by Jeremie Courreges-Anglas (Bug#29005).\n\t* src/thread.c (main_thread): Align to GCALIGNMENT.\n\n2017-10-26  Alan Mackenzie  <acm@muc.de>\n\n\tFix another \"wrong side of point\" error in CC Mode.\n\n\tThis fixes (a follow-up to) bug #28850.\n\tA internal generated form for scanning text to fontify had a LIMIT parameter.\n\tIt also locally bound LIMIT to a value possibly beyond the original LIMIT,\n\tallowing point to move beyond the original LIMIT, and to create the wrong side\n\terror.  Fix it by checking point is not beyond LIMIT in the outer context\n\tbefore using it.\n\n\t* lisp/progmodes/cc-fonts.el (c-make-font-lock-search-form): Add a new\n\tparameter CHECK-POINT which, when non-nil, directs the function to generate a\n\tcheck on point.\n\t(c-make-font-lock-context-search-function): Invoke the above function with new\n\targument value t.\n\n2017-10-26  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix Bug#28959\n\n\t* lisp/net/tramp.el (tramp-handle-find-backup-file-name):\n\tUse `tramp-tramp-file-p' rather than `tramp-file-name-p'.  Add\n\thop to backup file name.  (Bug#28959)\n\n\t* test/lisp/net/tramp-tests.el (tramp-test34-find-backup-file-name):\n\tNew test.\n\t(tramp-test35-make-nearby-temp-file)\n\t(tramp-test36-special-characters)\n\t(tramp-test36-special-characters-with-stat)\n\t(tramp-test36-special-characters-with-perl)\n\t(tramp-test36-special-characters-with-ls, tramp-test37-utf8)\n\t(tramp-test37-utf8-with-stat, tramp-test37-utf8-with-perl)\n\t(tramp-test37-utf8-with-ls, tramp-test38-file-system-info)\n\t(tramp-test39-asynchronous-requests)\n\t(tramp-test40-recursive-load, tramp-test41-remote-load-path)\n\t(tramp-test42-delay-load, tramp-test43-unload): Rename.\n\n2017-10-26  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix duplicate .o file on QNX\n\n\t* configure.ac (CYGWIN_OBJ): Leave empty on QNX.\n\tProblem reported by Elad Lahav in:\n\thttps://lists.gnu.org/archive/html/emacs-devel/2017-10/msg00750.html\n\n2017-10-26  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tFix two js indentation problems\n\n\tFix intentation problems reported in\n\thttps://github.com/mooz/js2-mode/issues/463.\n\t* lisp/progmodes/js.el (js--continued-expression-p):\n\tCheck syntax state after /.\n\t(js--multi-line-declaration-indentation):\n\tCheck syntax state before \"const\".\n\n2017-10-25  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\tUpdate documentation for windows build\n\n\t* admin/nt/dist-build/README-scripts: New File.\n\n2017-10-25  Alan Mackenzie  <acm@muc.de>\n\n\tFix a \"wrong side of point\" error in CC Mode.  Fixes bug #28850.\n\n\tThe cause was a scanning over a bracket pair taking us beyond the supplied\n\tLIMIT parameter in c-forward-declarator.\n\n\t* lisp/progmodes/cc-engine.el (c-forward-declarator): Add three checks (<\n\t(point) limit) whilst dealing with tokens after the declared identifier.\n\n\t* lisp/progmodes/cc-fonts.el (c-font-lock-declarators): Don't supply a LIMIT\n\targument to `c-forward-declarator' (twice), since we want to fontify up till\n\tthe end of a declarator, not an arbitrary jit-lock chunk end.\n\n2017-10-25  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tFix autoload of flymake from elisp-mode during bootstrap (bug#28994)\n\n\t* lisp/loadup.el: add `progmodes` to load-path so we can find flymake.el.\n\t* lisp/kmacro.el: Require `replace` since we use query-replace-map.\n\t* lisp/replace.el: Require `text-mode` since we use text-mode-map.\n\n2017-10-25  Alan Third  <alan@idiocy.org>\n\n\tFix non-native fullscreen on NS (bug#28872)\n\n\t* src/nsterm.m (EmacsView::updateFrameSize): Handle case where\n\tFRAME_TOOLBAR_HEIGHT returns a negative number.  Force WM to set size\n\tof frame.\n\n2017-10-25  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix Bug#28982\n\n\t* admin/MAINTAINERS: Add test/lisp/url/url-tramp-tests.el.\n\n\t* lisp/url/url-tramp.el (url-tramp-convert-url-to-tramp)\n\t(url-tramp-convert-tramp-to-url): Adapt to recent Tramp changes.\n\n\t* test/lisp/url/url-tramp-tests.el: New file.  (Bug#28982)\n\n2017-10-25  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\tFix windows build errors\n\n\t* admin/nt/dist-build/build-zips.sh: Correct name of zip file, build\n\t  64 bit first\n\n2017-10-25  Noam Postavsky  <npostavs@gmail.com>\n\n\tFix compile warning for non-w32 builds\n\n\tSince 2017-07-25 \"ls-lisp: Add an unload function and enable lexical\n\tbinding\", the non-w32 builds would treat the undeclared\n\tw32-collate-ignore-punctuation variable as lexical.\n\t* lisp/ls-lisp.el (top-level): Declare it as a dynamic variable.\n\n2017-10-25  David Glasser  <glasser@davidglasser.net>  (tiny change)\n\n\tDisplay commit in package description, if available (Bug#28637)\n\n\tMELPA includes a :commit field in its\n\tpackages (https://github.com/melpa/package-build/pull/6).  You can use\n\tthis to tell if MELPA has processed a recently-merged change.  This\n\tcommit adds that metadata to the package description buffer.\n\n\t* lisp/emacs-lisp/package.el: Display commit in package description.\n\n2017-10-24  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort to QNX\n\n\tSimplified version of a patch proposed by Elad Lahav in:\n\thttps://lists.gnu.org/archive/html/emacs-devel/2017-10/msg00716.html\n\twhich is based on a previous patch I proposed in:\n\thttps://lists.gnu.org/archive/html/emacs-devel/2017-10/msg00707.html\n\t* configure.ac (opsys, CFLAGS, LIBS_SYSTEM, hybrid_malloc)\n\t(system_alloc, FIRST_PTY_LETTER, CYGWIN_OBJ):\n\tSet appropriately for QNX.\n\t* src/unexelf.c [__QNX__]: Include <sys/elf.h> instead of <elf.h>.\n\t(unexec): Check for sbrk failure, and fall back on old BSS end.\n\n2017-10-24  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* configure.ac: Tweak libcurses diagnostic.\n\n2017-10-24  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\tScripts to automate windows binary distribution\n\n\t* admin/nt/dist-build/README-windows-binaries,\n\t  admin/nt/dist-build/build-dep-zips.py,\n\t  admin/nt/dist-build/build-zips.sh: New Files\n\n2017-10-24  Gemini Lasswell  <gazally@runbox.com>\n\n\tFix Edebug specs for map-let and with-maps-do\n\n\t* lisp/emacs-lisp/map.el (map-let): Fix Edebug spec (bug#24777).\n\t* test/lisp/emacs-lisp/map-tests.el (with-maps-do): Fix Edebug spec.\n\n2017-10-24  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* test/lisp/net/tramp-tests.el (tramp-test41-delay-load): New test.\n\n\t(tramp-test42-unload): Rename.\n\n2017-10-24  Glenn Morris  <rgm@gnu.org>\n\n\t* admin/authors.el (authors-canonical-author-name):\n\tIgnore name issues in \"lax\" ChangeLogs.\n\n\t* test/lisp/progmodes/sql-tests.el\n\t(sql-tests-postgres-list-databases-error): Silence compiler.\n\n2017-10-23  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFurther work on Bug#28889\n\n\t* lisp/net/tramp.el (tramp-set-syntax): New defun.\n\t(tramp-syntax): Use it.  Change :package-version.  (Bug#28889)\n\n2017-10-23  Michael Albinus  <michael.albinus@gmx.de>\n\n\tImprove Tramp backward compatibility\n\n\t* lisp/net/tramp-compat.el (tramp-compat-tramp-file-name-slots):\n\tNew defmacro.\n\t* lisp/net/tramp.el (with-parsed-tramp-file-name): Use it.\n\n2017-10-23  Michael Albinus  <michael.albinus@gmx.de>\n\n\tImprove backward compatibility of tramp-tests.el\n\n\t* test/lisp/net/tramp-tests.el (tramp--test-emacs26-p): Fix docstring.\n\t(tramp-test41-unload): Skip unless Emacs >= 26.\n\n2017-10-23  Martin Rudalics  <rudalics@gmx.at>\n\n\tFix some \u2018window-normalize-\u2019 prefixed functions (Bug#28947)\n\n\t* lisp/window.el (window-normalize-buffer): Fix case where\n\tBUFFER-OR-NAME is a string specifying a dead buffer.  Fix\n\tdoc-string (Bug#28947).\n\t(window-normalize-frame, window-normalize-window): Fix\n\tdoc-strings (Bug#28947).\n\n2017-10-23  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort to OpenIndiana\n\n\tProblem reported by Nelson H. F. Beebe (Bug#28893).\n\tAlso see Bug#23748, Bug#9736, and Bug#5735.\n\t* configure.ac (tputs_library): Prefer libcurses to libtermcap,\n\tsince OpenIndiana libtermcap lacks tparm.\n\n2017-10-22  Alexander Gramiak  <agrambot@gmail.com>\n\n\tDon't fill keywords after Emacs Lisp docstring\n\n\tThis approach does mean that keywords that have spaces before them\n\tinside of docstrings aren't filled, but I think this is should be fine\n\tuntil Bug#28937 is fixed.\n\n\t* lisp/emacs-lisp/lisp-mode.el (lisp-fill-paragraph): Add a colon to\n\tparagraph-start unconditionally, but require that it follows at least\n\tone space.  (Bug#24622)\n\t* test/lisp/emacs-lisp/lisp-tests.el: New tests for Bug#24622 and\n\tBug#7751.\n\n2017-10-22  Alan Mackenzie  <acm@muc.de>\n\n\tRefactor c-forward-token-2 with new function c-forward-over-token-and-ws.\n\n\tUse the new function directly in several places where c-forward-token-2\n\twouldn't move over the last token in the buffer.  This caused an infinite loop\n\tin c-restore-<>-properties.\n\n\t* lisp/progmodes/cc-engine.el (c-forward-over-token-and-ws): New function,\n\textracted from c-forward-token-2.\n\t(c-forward-token-2): Refactor, calling the new function.\n\t(c-restore-<>-properties): Fix infinite loop.\n\t(c-forward-<>-arglist-recur, c-in-knr-argdecl)\n\t(c-looking-at-or-maybe-in-bracelist): Call the new function directly in place\n\tof c-forward-token-2.\n\n\t* lisp/progmodes/cc-cmds.el (c-defun-name) Call the new function directly in\n\tplace of c-forward-token-2.\n\n\t* lisp/progmodes/cc-fonts.el (c-font-lock-enclosing-decls): Call the new\n\tfunction directly in place of c-forward-token-2.\n\n2017-10-22  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tAvoid unnecessary rounding errors in timestamps\n\n\tAvoid the rounding errors of float-time when it\u2019s easy.  E.g.,\n\treplace (< (float-time a) (float-time b)) with (time-less-p a b).\n\t* lisp/desktop.el (desktop-save):\n\t* lisp/ecomplete.el (ecomplete-add-item):\n\t* lisp/epg.el (epg-wait-for-completion):\n\t* lisp/files.el (dir-locals-find-file, dir-locals-read-from-dir):\n\t* lisp/image-dired.el (image-dired-get-thumbnail-image)\n\t(image-dired-create-thumb-1):\n\t* lisp/info.el (info-insert-file-contents):\n\t* lisp/ls-lisp.el (ls-lisp-format-time):\n\t* lisp/net/ange-ftp.el (ange-ftp-file-newer-than-file-p)\n\t(ange-ftp-verify-visited-file-modtime):\n\t* lisp/net/rcirc.el (rcirc-ctcp-sender-PING):\n\t* lisp/textmodes/remember.el (remember-store-in-mailbox):\n\t* lisp/url/url-cookie.el (url-cookie-expired-p):\n\tBypass float-time to avoid rounding errors.\n\n\t* lisp/files.el (dir-locals-find-file):\n\n2017-10-22  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix xdg timestamp error on 32-bit Emacs\n\n\t* lisp/xdg.el (xdg-thumb-mtime): Return an Emacs timestamp,\n\tnot an integer.  This avoids signaling an error on 32-bit\n\tEmacs, where timestamps typically do not fit into fixnums\n\t(Bug#28921).\n\n2017-10-22  John Williams  <jrw@pobox.com>  (tiny change)\n\n\tTest that advice doesn't trigger bytecomp warnings (Bug#28803)\n\n\t* test/lisp/emacs-lisp/bytecomp-tests.el\n\t(bytecomp-tests--test-no-warnings-with-advice): New test.\n\n2017-10-21  Noam Postavsky  <npostavs@gmail.com>\n\n\tAnother fix for unsafe directory error message (Bug#865)\n\n\t* lisp/server.el (server-ensure-safe-dir): Put file owner's uid, not\n\tcurrent user's for the wrong owner case.  Show expanded file name in\n\terror message.\n\n2017-10-21  Noam Postavsky  <npostavs@gmail.com>\n\n\tHandle https url for debbugs mbox (Bug#28831)\n\n\tIn 2017-09-13 \"Prefer HTTPS to FTP and HTTP in documentation\",\n\tgnus-bug-group-download-format-alist was updated to use https for the\n\tdebbugs.gnu.org mbox links, but gnus-read-ephemeral-bug-group assumed\n\thttp links.\n\t* lisp/gnus/gnus-group.el (gnus-read-ephemeral-bug-group): Use\n\turl-parse functions to get the host name, instead of ad-hoc regexps.\n\n2017-10-21  Noam Postavsky  <npostavs@gmail.com>\n\n\tIgnore string properties when saving eshell history (Bug#28700)\n\n\t* lisp/eshell/em-hist.el (eshell-write-history): Remove properties\n\tbefore inserting history strings.\n\t(eshell-read-history): Remove obsolete comment.\n\t* test/lisp/eshell/em-hist-tests.el (eshell-write-readonly-history):\n\tNew test.\n\n2017-10-21  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix Bug#28889\n\n\t* lisp/net/tramp.el: Change autoload cookie to tramp-autoload cookie.\n\t(tramp-completion-file-name-regexp-default)\n\t(tramp-completion-file-name-handler-alist)\n\t(tramp-completion-file-name-handler): Remove autoload cookie.\n\t(tramp-initial-completion-file-name-regexp): Remove.\n\t(tramp-autoload-file-name-regexp): New defconst.\n\t(tramp-register-autoload-file-name-handlers): Use it.\n\t(with-parsed-tramp-file-name): Adapt docstring.  Compute\n\t`tramp-file-name' slots.  (Bug#28889)\n\n2017-10-21  Glenn Morris  <rgm@gnu.org>\n\n\tUpdate describe-function for recent Fdocumentation change\n\n\t* lisp/help-fns.el (describe-function-1):\n\tHandle Fdocumentation returning either void or invalid.\n\n2017-10-21  Charles A. Roelli  <charles@aurox.ch>\n\n\tMake flymake's mouse-wheel interaction portable (Bug#28732)\n\n\t* lisp/progmodes/flymake.el (flymake--mode-line-format): Bind\n\t'mouse-wheel-down-event' and 'mouse-wheel-up-event' instead of\n\t'mouse-4' and 'mouse-5'.  Update the tooltip text accordingly, and\n\tremove a stray newline in it.\n\n2017-10-21  Nick Helm  <nick@tenpoint.co.nz>\n\n\tPrevent eldoc from changing the mode line\n\n\t* lisp/emacs-lisp/eldoc.el (eldoc-minibuffer-message): Don't\n\tchange the mode line if it is not displayed.  (Bug#28697)\n\n2017-10-21  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix doc strings in simple.el\n\n\t* lisp/simple.el (shell-command-saved-pos)\n\t(region-extract-function, region-bounds): Doc fixes.  (Bug#28609)\n\n2017-10-21  Phil Sainty  <psainty@orcon.net.nz>\n\n\tAvoid creating inconsistent buffer states in term-char-mode\n\n\t* lisp/term.el (term-mode, term-char-mode, term-line-mode)\n\t(term-emulate-terminal): Make buffer read-only in 'term-char-mode',\n\texcept for the process filter's output.  Use 'read-only-mode-hook' to\n\ttrack and restore the user-set state of 'buffer-read-only' for\n\t'term-line-mode'.  (Bug#24837)\n\t(term-char-mode-buffer-read-only): New user option.\n\t(term-line-mode-buffer-read-only): New buffer-local variable.\n\t(term-line-mode-buffer-read-only-update): New function.\n\t(term-char-mode, term-line-mode): Use 'term-set-goto-process-mark'\n\tin pre-command-hook, and 'term-goto-process-mark-maybe' in\n\tpost-command-hook to counter-act unexpected changes to point when\n\tusing 'term-char-mode'.\n\t(term-char-mode-point-at-process-mark): New user option.\n\t(term-goto-process-mark): New buffer-local variable.\n\t(term-set-goto-process-mark): New function.\n\t(term-goto-process-mark-maybe): New function.\n\t(term-process-mark): New function.\n\n\t* etc/NEWS: Mention the new behavior and user options.\n\n2017-10-21  Bahodir Mansurov  <bahodir@mansurov.org>  (tiny change)\n\n\tNew input method 'usbek-cyrillic'\n\n\t* lisp/leim/quail/cyrillic.el (uzbek-cyrillic): New input method.\n\t(Bug#28848)\n\n\t* etc/NEWS: Mention the new input method.\n\n2017-10-21  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument 'minibuffer-with-setup-hook'\n\n\t* doc/lispref/minibuf.texi (Minibuffer Misc): Document\n\tminibuffer-with-setup-hook.  (Bug#28877)\n\n2017-10-21  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSimplify make-progress-reporter vs float-time\n\n\t* lisp/subr.el (make-progress-reporter): Remove no-longer-needed\n\tdoc and code for the case where float-time is not supported,\n\tsince float-time is always present now.\n\n2017-10-21  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix two more minor Gnus typos\n\n\t* lisp/gnus/mail-source.el (mail-source-delete-old-incoming):\n\tThe old code had two minor bugs: first, it multiplied by 1/65536\n\tinstead of by 1/86400.  Second, it called current-time twice and\n\tglued part of the two results together, resulting in a race.\n\tFix both bugs by simplifying the code and using\n\ttime-to-number-of-days.\n\n2017-10-21  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix two minor Gnus typos\n\n\t* lisp/gnus/gnus-sum.el (gnus-summary-import-article):\n\tRemove unused local, and fix use of local that was never assigned to.\n\n2017-10-21  Glenn Morris  <rgm@gnu.org>\n\n\tTweak Fdocumentation's error for an undefined function\n\n\t* src/doc.c (Fdocumentation): Restore the pre-25 behavior\n\tof signalling a void-function error for an undefined function.\n\tThis seems cleaner than Emacs 25's \"invalid-function: nil\" error,\n\twhich was (probably) an unintended consequence of changes to\n\tFindirect_function.\n\n2017-10-21  Glenn Morris  <rgm@gnu.org>\n\n\tTweak format of list of old files in NEWS header\n\n\t* etc/NEWS: Stop list of old NEWS files growing without limit.\n\t* admin/admin.el (set-version): Handle either NEWS header format.\n\n2017-10-20  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/help-fns.el (describe-function-1):\n\tFix help-fns-test-dangling-alias.  (Bug#28918)\n\n\t(cherry picked from commit e1d42f8f4a945669ff8b5159a569cb4b18f56e18)\n\n2017-10-20  Glenn Morris  <rgm@gnu.org>\n\n\tFix flymake's loading of subr-x\n\n\t* lisp/progmodes/flymake.el, test/lisp/progmodes/flymake-tests.el:\n\tNo need to load subr-x at run-time.\n\n2017-10-20  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix Bug#28896\n\n\t* lisp/net/tramp-adb.el (tramp-adb-handle-rename-file):\n\t* lisp/net/tramp-gvfs.el (tramp-gvfs-do-copy-or-rename-file):\n\t* lisp/net/tramp-sh.el (tramp-do-copy-or-rename-file): Handle FILENAME\n\tbeing a directory.  (Bug#28896)\n\n\t* test/lisp/net/tramp-tests.el (tramp-test11-copy-file)\n\t(tramp-test12-rename-file): Test also FILENAME being a directory.\n\n2017-10-20  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tSkip a Flymake test for old gcc versions\n\n\tFixes: 28906\n\n\t* test/lisp/progmodes/flymake-tests.el\n\t(different-diagnostic-types): Skip this test for gcc versions\n\t< 5.\n\n2017-10-20  Eli Zaretskii  <eliz@gnu.org>\n\n\tMake :align-to account for display-line-numbers\n\n\tThese changes also update the various bundled packages to use\n\tnew feature, and better support customizations of the line-number\n\tface.\n\t* src/xdisp.c (calc_pixel_width_or_height): Improve commentary.\n\tMake :align-to count from the end of the line-number display when\n\tthe offset or the width form reference that of the text area.\n\t(Bug#28855)\n\n\t* src/indent.c (Fline_number_display_width): Implement support for\n\tthe PIXELWISE argument being 'columns'.  Update the doc string.\n\t(syms_of_indent): New symbol 'columns'.\n\n\t* lisp/ruler-mode.el (ruler-mode-window-col, ruler-mode-ruler):\n\tCall line-number-display-width with last argument 'columns'.\n\n\t* lisp/proced.el (proced-header-line): Call\n\tline-number-display-width with 2nd arg 'columns', which also fixes\n\ta problem when display-line-numbers is nil.\n\n\t* lisp/emacs-lisp/tabulated-list.el\n\t(tabulated-list-line-number-width): Call line-number-display-width\n\twith 2nd arg 'columns.\n\t(tabulated-list-entry-lnum-width): Remove unneeded defvar.\n\t(tabulated-list-print, tabulated-list-print-entry): No need to\n\taccount for the value of tabulated-list-entry-lnum-width.\n\t(tabulated-list--current-lnum-width): New defvar.\n\t(tabulated-list-watch-line-number-width): New function.\n\t(tabulated-list-mode): Bind tabulated-list--current-lnum-width\n\tlocally, and set up tabulated-list-watch-line-number-width as\n\tpre-redisplay-functions hook.\n\n\t* doc/lispref/display.texi (Size of Displayed Text): Document the\n\t'columns' value of the PIXELWISE argument.\n\t(Pixel Specification): Update and improve the documentation of the\n\tsupported forms.\n\n2017-10-20  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tAugment Flymake API for third-party extensions\n\n\tSee\n\thttps://lists.gnu.org/archive/html/emacs-devel/2017-10/msg00619.html\n\n\t* doc/misc/flymake.texi (Flymake error types): Rewrite\n\texample.\n\t(Flymake utility functions): Augment with new API.\n\n\t* lisp/progmodes/flymake.el (flymake-diagnostics): New function.\n\t(flymake--diag-accessor): New helper macro.\n\t(flymake-diagnostic-buffer, flymake-diagnostic-text)\n\t(flymake-diagnostic-beg, flymake-diagnostic-end)\n\t(flymake-diagnostic-backend): Accessors for diagnostic objects.\n\t(flymake--overlays): Use flymake-diagnostic property.\n\t(flymake--highlight-line): Simplify.  Only set\n\tflymake-diagnostic property.\n\t(flymake--handle-report, flymake-goto-next-error): Use\n\tflymake-diagnostic property.\n\t(flymake-show-diagnostic): Use diagnostic object.\n\t(flymake--diagnostics-buffer-entries): Use\n\tflymake-diagnostics.\n\n2017-10-20  Glenn Morris  <rgm@gnu.org>\n\n\tImprove treatment of Fortran's \"class default\"\n\n\t* lisp/progmodes/f90.el (f90-start-block-re, f90-no-block-limit):\n\tHandle \"class default\".  (Bug#28786)\n\t* test/automated/f90.el (f90-test-bug25039): Add \"class default\".\n\n2017-10-20  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tFlymake backends must check proc obsoleteness in source buffer\n\n\tFlymake backends that rely on sentinels running asynchronously and\n\tchecking buffer-local variables that hold running processes should\n\tcheck for obsoleteness in the correct buffers, otherwise a (harmless)\n\twarning might be triggered.\n\n\t* doc/misc/flymake.texi (An annotated example backend):\n\tCheck buffer-local proc in the current buffer.\n\n\t* lisp/progmodes/elisp-mode.el (elisp-flymake-byte-compile):\n\tCheck buffer-local proc in the current buffer.\n\n2017-10-19  Michael Albinus  <michael.albinus@gmx.de>\n\n\tSkip an rsync test in tramp-tests.el\n\n\t* test/lisp/net/tramp-tests.el (tramp-test17-dired-with-wildcards):\n\tSkip for \"rsync\".\n\n2017-10-19  Martin Rudalics  <rudalics@gmx.at>\n\n\tOn Windows default a frame's border width to zero (Bug#28873)\n\n\t* src/w32fns.c (Fx_create_frame): Default `border-width' to zero\n\tas everywhere else, see Bug#28873.\n\n2017-10-19  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSpelling fixes\n\n\t* lisp/cedet/semantic/analyze/refs.el:\n\t(semantic-analyze-proto-impl-toggle): Fix recently-introduced\n\tmisspelling of pop-to-buffer-same-window.\n\n2017-10-19  Bastian Beischer  <bastian.beischer@gmail.com>  (tiny change)\n\n\tUse pop-to-buffer-same-window instead of switch-to-buffer\n\n\t* lisp/cedet/semantic/decorate/include.el\n\t(semantic-decoration-include-visit):\n\tUse pop-to-buffer-same-window instead of switch-to-buffer\n\t(bug#28645).\n\n\t* lisp/cedet/semantic/analyze/refs.el\n\t(semantic-analyze-proto-impl-toggle): Same.\n\n\t* lisp/cedet/semantic/senator.el (senator-go-to-up-reference):\n\tSame.\n\n\t* lisp/cedet/semantic/mru-bookmark.el (semantic-mrub-visit):\n\tSame.\n\n\t* lisp/cedet/semantic/complete.el (semantic-complete-jump):\n\tSame.\n\n2017-10-18  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix the MSDOS build.\n\n\t* msdos/sed1v2.inp (GETADDRINFO_A_LIBS, LIBLCMS2, XDBE_LIBS)\n\t(XDBE_FLAGS, HYBRID_MALLOC, LIBSYSTEMD_CFLAGS)\n\t(LIBSYSTEMD_LIBS): Edit to empty.\n\t(LIBRESOLV, DEPFLAGS, MKDEPDIR, YMF_PASS_LDFLAGS)\n\t(PRE_EDIT_LDFLAGS, POST_EDIT_LDFLAGS): Remove editing.\n\tRemove editing of lines that are no longer present in\n\tsrc/Makefile.in.\n\t* msdos/sed2v2.inp (NEED_MKTIME_INTERNAL)\n\t(NEED_MKTIME_WORKING): Define to 1.\n\t(HAVE_STRUCT_DIRENT_D_TYPE): Define to 1 for\n\tDJGPP >= 2.05.\n\t(HAVE_STRUCT_ATTRIBUTE_ALIGNED): Define to 1.\n\tDefine PACKAGE_VERSION, not VERSION.\n\t(FLEXIBLE_ARRAY_MEMBER): Define to empty.\n\t(HAVE_DECL_*_UNLOCKED): Define to 0.\n\t(HAVE___BUILTIN_FRAME_ADDRESS): Define to 1.\n\t(PENDING_*): Don't define, as Gnulib no longer supports that.\n\tInstead, define _IOERR as it is in libc/file.h.\n\t* msdos/sed3v2.inp: Use $(CURDIR) instead of $(shell cd) to\n\tdetermine the current directory.\n\t(UPDATE_MANIFEST, UTILITIES): Don't edit.\n\t* msdos/sedlisp.inp (FIND_DELETE): Edit to \"-delete\".\n\t* msdos/sedlibmk.inp (AUTO_DEPEND): Define to yes.\n\t(HYBRID_MALLOC): Edit to empty.\n\t(am__cd): Don't edit.\n\t(../config.status): Replaces $(top_builddir)/config.status.\n\tDefine OMIT_GNULIB_MODULE_foo = true for modules not built for\n\tMS-DOS.  Convert GL_GENERATE_xxx_H_TRUE and\n\tGL_GENERATE_xxx_H_FALSE into values of GL_GENERATE_xxx_H.\n\t* msdos/mainmake.v2 (src): Use 'compile-one-process', and make\n\tthe command line shorter to fit into 126-char limit of\n\tcommand.com.\n\t* config.bat: Generate src/deps/*.d files.  Rename more files\n\tlike djtar on plain DOS would.\n\tDon't rename src/dir.h: it is long gone.  Edit\n\tlib/gnulib.mk.in using the same scripts as for\n\tlib/Makefile.in.\n\t* msdos/depfiles.bat: Create *.d files, not *.Po.\n\n\t* src/thread.c (Fmake_thread) [!THREADS_ENABLED]: Improve the\n\terror message.\n\t* src/thread.h [MSDOS]: Include <signal.h>.\n\t* src/sysselect.h (select) [MSDOS]: Undefine, to avoid\n\tcompilation errors.\n\t* src/sysdep.c (block_interrupt_signal, restore_signal_mask):\n\tExpose to MSDOS build.\n\t* src/process.c (update_processes_for_thread_death)\n\t[!subprocess]: No-op implementation.\n\t[HAVE_SETRLIMIT]: Move inclusion of sys/resource.h and\n\tdeclaration of nofile_limit outside \"#ifdef subprocesses\", as\n\tit's needed for MSDOS.\n\t* src/msdos.c (faccessat): Declare fullname[].\n\t* src/msdos.h (ENOTSUP): Define to be identical to ENOSYS.\n\tInclude termhooks.h.\n\t* src/conf_post.h [WINDOWSNT]: Include ms-w32.h only on\n\tWINDOWSNT, not DOS_NT.\n\n\t* admin/admin.el (set-version): Set version on PACKAGE_VERSION.\n\n2017-10-18  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix line number display after 'widen'\n\n\t* src/xdisp.c (maybe_produce_line_number): Don't use data cached\n\tby line-number-mode on the first redisplay after the buffer is\n\twidened.  (Bug#28879)\n\n2017-10-18  Alan Third  <alan@idiocy.org>\n\n\tRemove resizable attribute on macOS undecorated frames (bug#28512)\n\n\t* src/nsterm.m (FRAME_DECORATED_FLAGS): Remove Cocoa specific #define.\n\t(initFrameFromEmacs): Remove Cocoa specific window style attributes.\n\n2017-10-18  Martin Rudalics  <rudalics@gmx.at>\n\n\tFix handling of `border-width' in `frameset--restore-frame' (Bug#28873)\n\n\t* lisp/frameset.el (frameset--restore-frame): Don't process\n\t`border-width' parameter via \u2018modify-frame-parameters\u2019\n\t(Bug#28873).\n\n2017-10-18  Tino Calancha  <tino.calancha@gmail.com>\n\n\tMention how to send CC to > 1 address in a bug report\n\n\t* admin/notes/bugtracker (* More detailed information):\n\tmention how to CC to more than 1 address (Bug#28833).\n\n2017-10-18  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tImprove format-time-string doc\n\n\t* doc/lispref/os.texi (Time Parsing): Fix some errors in the\n\tdocumentation for format-time-string.  Document ^, #, %s, and %z\n\twith colons.  Say that unrecognized sequences are output as-is.\n\t* src/editfns.c (Fformat_time_string): %S can stand for 60.\n\tAlso mention unrecognized sequences.\n\n2017-10-17  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of 'line-number-display-width'\n\n\t* doc/lispref/display.texi (Size of Displayed Text): Document the\n\tadditional 2 columns used for line-number display.\n\n\t* src/indent.c (Fline_number_display_width): Doc fix.  (Bug#28248)\n\n2017-10-17  \u0130. G\u00f6ktu\u011f Kayaalp  <self@gkayaalp.com>\n\n\tImplement vc-default-dir-extra-headers for vc-rcs\n\n\tAdd a do-nothing implementation for vc-rcs to suppress the message which\n\tthe default function adds to the vc-dir buffer (Bug#28570).\n\t* lisp/vc/vc-rcs.el (vc-rcs-dir-extra-headers): New function.\n\n2017-10-17  Martin Rudalics  <rudalics@gmx.at>\n\n\tIn NEWS give advice on use of `switch-to-buffer' (Bug#28645)\n\n\t* etc/NEWS: Mention that applications should prefer\n\t`pop-to-buffer-same-window' to `switch-to-buffer'.  (Bug#28645)\n\n2017-10-17  Tino Calancha  <tino.calancha@gmail.com>\n\t    Noam Postavsky  <npostavs@gmail.com>\n\n\tDont update primary selection with winner-undo\n\n\t* lisp/winner.el (winner-set):\n\tDont update primary selection when select-enable-primary\n\tis non-nil (Bug#28631).\n\n2017-10-17  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tWork around ImageMagick bug 825\n\n\tThis should fix several bugs reported recently against Emacs\n\t(Bug#28518, Bug#28626, Bug#28632, Bug#28633, Bug#28770).\n\t* src/image.c (imagemagick_load_image):\n\tDo not call MagickWandTerminus.\n\n2017-10-17  Noam Postavsky  <npostavs@gmail.com>\n\n\tDocument rectangle-preview option more (Bug#27974)\n\n\t* lisp/rect.el (string-rectangle):\n\t* etc/NEWS.25: Mention `rectangle-preview'.\n\n2017-10-17  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDo not reject https://gnu.org in commit messages\n\n\t* build-aux/git-hooks/commit-msg: Do not reject commit messages\n\tcontaining http: or ftp: URLs to gnu.org or fsf.org.  Instead,\n\trewrite the messages to use https: URLs.\n\n2017-10-16  Gemini Lasswell  <gazally@runbox.com>\n\n\tFix Edebug spec for cl-defun (bug#24255)\n\n\t* lisp/emacs-lisp/cl-macs.el: Modify the Edebug spec for\n\t`cl-lambda-list' to support destructuring argument lists.\n\t(cl-defun, cl-defmacro): Fix spelling errors in docstrings.\n\t* lisp/textmodes/rst.el: Remove alternate version of Edebug\n\tspecs for `cl-lambda-list' and `cl-type-spec'.\n\n2017-10-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix errors in kmacro.el post-command-hook\n\n\t* lisp/kmacro.el (kmacro-step-edit-active): Initialize to nil to\n\tavoid 'void-variable' errors.  (Bug#28818)\n\t* test/lisp/kmacro-tests.el\n\t(kmacro-tests-step-edit-cleans-up-hook): Now succeeds.  (Bug#18708)\n\n2017-10-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix range-error in image-dired.el\n\n\t* lisp/image-dired.el (image-dired-create-thumb-1): Avoid\n\toverflowing an Emacs integer on 32-bit hosts.  (Bug#28809)\n\n2017-10-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix 'line-number-display-width' in hscrolled windows\n\n\t* src/indent.c (line_number_display_width): Make sure a line\n\tnumber is generated even when the first line of the window is\n\tcompletely hscrolled out of view.  (Bug#28854)\n\n2017-10-16  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix error in tramp-smb-handle-insert-directory\n\n\t* lisp/net/tramp-smb.el (tramp-smb-handle-insert-directory):\n\tInsert size information only when FULL-DIRECTORY-P is non-nil.\n\n2017-10-16  Andy Moreton  <andrewjmoreton@gmail.com>\n\n\tDon't reject PBM header whitespace unnecessarily\n\n\t* lisp/image.el (image-type-header-regexps):\n\tAllow two or more CRs or LFs in initial whitespace sequences.  See:\n\thttp://netpbm.sourceforge.net/doc/pbm.html\n\n2017-10-16  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix regression in display of PPM images\n\n\tProblem reported by Roland Winkler (Bug#28824#35).\n\tBased on a patch proposed by Andy Moreton (Bug#28824#38).\n\t* src/image.c (pbm_scan_index): New function.\n\t(pbm_load): Use it to decode raw data correctly when its top bit\n\tis set.\n\n2017-10-16  Eric Abrahamsen  <eric@ericabrahamsen.net>\n\n\tRequire subr-x when compiling nnimap.el\n\n\t* lisp/gnus/nnimap.el (require): For the when-let* macro.\n\n2017-10-15  Noam Postavsky  <npostavs@gmail.com>\n\n\tFix ert-test finding by symbol (Bug#28849)\n\n\tIn 2017-07-28 \"* lisp/subr.el (define-symbol-prop): New function\", the\n\tsymbol used for ert tests in load-history was changed from\n\t`ert-deftest' to `ert--test', but a couple of other places were not\n\tupdated accordingly.\n\t* lisp/emacs-lisp/ert.el (ert-find-test-other-window): Pass\n\t`ert--test' as the TYPE to `find-function-do-it'.\n\t(top-level): Use `ert--test' as the key to the\n\t`find-function-regexp-alist' entry.\n\n2017-10-15  Noam Postavsky  <npostavs@gmail.com>\n\n\tDon't remember old debugger window (Bug#17882)\n\n\t* lisp/emacs-lisp/debug.el (debug): Unset debugger-previous-window\n\twhen `debugger-will-be-back' is nil.\n\n2017-10-15  Noam Postavsky  <npostavs@gmail.com>\n\n\tDisable python native completion on w32 (Bug#28580)\n\n\t* lisp/progmodes/python.el\n\t(python-shell-completion-native-disabled-interpreters): For windows-nt\n\tsystems, put an empty string to match interpreters.\n\n2017-10-15  Noam Postavsky  <npostavs@gmail.com>\n\n\tLet select-frame-by-name choose any frame when called from lisp (Bug#25521)\n\n\t* lisp/frame.el (select-frame-by-name): Choose from the whole list of\n\tframes in the non-interactive part, if not found on the current\n\tdisplay.\n\n2017-10-15  Eli Zaretskii  <eliz@gnu.org>\n\n\t* lisp/dired-aux.el (dired-create-directory): Doc fix.\n\n2017-10-15  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid compilation warnings in optimized builds\n\n\t* src/process.c (Fmake_network_process):\n\t* src/image.c (xbm_scan, gif_load):\n\t* src/fileio.c (Frename_file):\n\t* src/data.c (Fmake_local_variable):\n\t* src/buffer.c (fix_start_end_in_overlays):\n\t* lib-src/etags.c (process_file_name): Mark variables with UNINIT\n\tto avoid compiler warnings in optimized builds.\n\n2017-10-15  K. Handa  <handa@gnu.org>\n\n\tImprove customization of arabic-shaper-ZWNJ-handling.\n\n\tMake the effect of customizing arabic-shaper-ZWNJ-handling appear\n\timmediately.\n\t* lisp/language/misc-lang.el (arabic-shaper-ZWNJ-handling): Add :set\n\tvalue.\n\t* src/composite.c (Fclear_composition_cache): New function.\n\t(syms_of_composite): Defsubr it.\n\n2017-10-15  Charles A. Roelli  <charles@aurox.ch>\n\n\tImprove customization type of 'mouse-drag-and-drop-region'\n\n\t* lisp/mouse.el (mouse-drag-and-drop-region): Provide a more\n\tprecise customization type.\n\n2017-10-15  Paul Eggert  <eggert@day>\n\n\tEncourage https: in commit messages\n\n\t* CONTRIBUTE: Prefer https: when citing.\n\t* build-aux/git-hooks/commit-msg:\n\tDiagnose http: and ftp: URLs to FSF or GNU hosts.\n\n2017-10-14  Martin Rudalics  <rudalics@gmx.at>\n\n\tFix wording in Elisp manual's child frames section (Bug#28819)\n\n\t* doc/lispref/frames.texi (Child Frames): Fix wording (Bug#28819).\n\n2017-10-14  Eli Zaretskii  <eliz@gnu.org>\n\n\tAnother fix for C mode fontification of w32 source files\n\n\t* .dir-locals.el (c-mode) <c-noise-macro-names>: Add\n\t\"CALLBACK\", to correctly fontify functions with this attribute.\n\n2017-10-14  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix fontification of ALIGN_STACK functions\n\n\t* .dir-locals.el (c-mode) <c-noise-macro-names>: Add\n\t\"ALIGN_STACK\", to correctly fontify functions with this attribute.\n\n2017-10-14  Eli Zaretskii  <eliz@gnu.org>\n\n\tMake sure thread stack is properly aligned on MS-Windows\n\n\t* src/systhread.c: Include w32term.h instead of windows.h.\n\t(w32_beginthread_wrapper): Add ALIGN_STACK attribute, to ensure\n\tthe thread's stack is correctly aligned.\n\t* src/w32term.h (ALIGN_STACK): Update commentary.\n\n2017-10-14  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDo not under-align pseudovectors\n\n\tProblem reported by Fabrice Popineau in:\n\thttps://lists.gnu.org/archive/html/emacs-devel/2017-10/msg00357.html\n\tAlso see diagnosis by Eli Zaretskii in:\n\thttps://lists.gnu.org/archive/html/emacs-devel/2017-10/msg00476.html\n\t* src/alloc.c (vector_alignment):\n\tNow a multiple of alignof (max_align_t).\n\n2017-10-13  Simen Heggest\u00f8yl  <simenheg@gmail.com>\n\n\tFix indentation bug in multi-line CSS selectors\n\n\t* lisp/textmodes/css-mode.el (css--colon-inside-selector-p): Fix\n\tindentation of multi-line CSS selectors that include both a\n\tpseudo-class and parenthesis.\n\n\t* test/manual/indent/css-mode.css: Add test for the above change.\n\n2017-10-13  Andreas Schwab  <schwab@linux-m68k.org>\n\n\tgnutls_mac_get_nonce_size has been added in gnutls 3.3\n\n\t* src/gnutls.c (HAVE_GNUTLS_MAC_GET_NONCE_SIZE)\n\t[GNUTLS_VERSION_NUMBER >= 0x030300]: Define.\n\t(gnutls_mac_get_nonce_size): Depend on\n\tHAVE_GNUTLS_MAC_GET_NONCE_SIZE.\n\t(Fgnutls_macs): Use 0 for :mac-algorithm-noncesize if\n\t!HAVE_GNUTLS_MAC_GET_NONCE_SIZE.\n\n2017-10-13  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* CONTRIBUTE: Suggest American English.\n\n2017-10-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix this-command-keys for \"M-x foo\" commands\n\n\t* src/keyboard.c (Fset__this_command_keys): Don't assume KEYS is a\n\tunibyte string.  (Bug#28798)\n\n2017-10-12  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tLet rename-file rename dirs across filesystems\n\n\tProblem diagnosed by Andreas Schwab (Bug#28792#65).\n\tThis fixes a bug that I introduced in\n\t2017-09-10T22:39:24@eggert@cs.ucla.edu\n\t\"Fix race with rename-file etc. with dir NEWNAME\".\n\t* src/fileio.c (Frename_file): Copy a source directory across\n\tfile system boundaries even if its name does not end in slash.\n\n2017-10-12  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tSimplify Flymake user documentation\n\n\tFix some confusing parts of Flymake user documentation, like a\n\trepeated listing of situations leading to a syntax check.\n\tDocumentation is now divided into three chapters only: \"Using\n\tFlymake\", \"Extending Flymake\", and a chapter for the legacy backend.\n\n\tObsolete mention of \"errors\" and \"lines\" is replaced by\n\t\"diagnostics/problems\" and \"regions\" where appropriate.\n\n\t* doc/misc/flymake.texi (Overview of Flymake): Delete chapter.\n\t(Using Flymake): Merge with chapter \"Overview of Flymake\".\n\t(Installing Flymake): Delete chapter.\n\t(Flymake mode, Running the syntax check)\n\t(Navigating to error lines): Delete sections.\n\t(Syntax check statuses): Review and augment with x-references.\n\t(Backend exceptions): Mention shortcut in menu.\n\n\t* lisp/progmodes/flymake.el (flymake-menu): Tweak minor mode\n\tmenu to not speak of \"errors\".\n\t(flymake-goto-next-error, flymake-goto-prev-error): Fix\n\twording.\n\n2017-10-12  Eli Zaretskii  <eliz@gnu.org>\n\n\t* etc/NEWS: Mention the new version of Org.\n\n2017-10-12  Noam Postavsky  <npostavs@gmail.com>\n\n\tDon't use (format \"%s\" ...) for string copying (Bug#28774)\n\n\tAs of 2017-10-04 'Speed up (format \"%s\" STRING) and the like', (format\n\t\"%s\" STRING) no longer produces a new string.\n\t* lisp/ido.el (ido-completions): Use `copy-sequence' to make a new\n\tstring, so that we can add text properties to (copies of) symbol\n\tnames.\n\n2017-10-11  Alan Third  <alan@idiocy.org>\n\n\tMake frame-list-z-order on NS match Windows behavior (bug#28788)\n\n\t* src/nsfns.m (Fns_frame_list_z_order): If terminal isn't a frame,\n\tignore it rather than returning nil.\n\n2017-10-11  Nicolas Petton  <nicolas@petton.fr>\n\n\tBump Emacs version to 26.0.90\n\n\t* README:\n\t* configure.ac:\n\t* msdos/sed2v2.inp:\n\t* nt/README.W32: Bump Emacs version.\n\n2017-10-11  Nicolas Petton  <nicolas@petton.fr>\n\n\tUpdate authors.el\n\n\t* admin/authors.el (authors-valid-file-names)\n\t(authors-renamed-files-alist): Additions.\n\n2017-10-11  Nicolas Petton  <nicolas@petton.fr>\n\n\t* admin/authors.el (authors-aliases): Additions.\n\n\t* ChangeLog.3: Update.\n\n2017-10-11  Radon Rosborough  <radon.neon@gmail.com>\n\n\tFix docstring style for 'functionp'\n\n\t* src/eval.c (functionp): Make docstring start with verb.\n\t(Bug#28781)\n\n2017-10-11  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFormat shell commands in tramp.texi\n\n\t* doc/misc/tramp.texi (Obtaining Tramp, Remote shell setup):\n\tFormat shell commands better.\n\n2017-10-10  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tUnbreak the button in the Flymake diagnostics buffer again\n\n\tAdding the 'keymap' property enabled RET but broke the mouse-action.\n\n\t* lisp/progmodes/flymake.el\n\t(flymake--diagnostics-buffer-entries): Use 'action' instead of 'keymap'.\n\n2017-10-10  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tAdd mode map to Flymake diagnostic button\n\n\t* lisp/progmodes/flymake.el (flymake--diagnostics-buffer-entries): Add\n\tkeymap propery.\n\n2017-10-10  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tTweak the Flymake diagnostics buffer again\n\n\t* lisp/progmodes/flymake.el\n\t(flymake-diagnostics-buffer-mode-map): Don't bind [mouse-1].\n\t(flymake-show-diagnostic): Rename from\n\tflymake-show-diagnostic-at-point.  Really use another window.\n\t(flymake-goto-diagnostic): Rename from\n\tflymake-goto-diagnostic-at-point.\n\t(flymake--diagnostics-buffer-entries): Use a button just for\n\tthe message bit.\n\n2017-10-10  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tSimplify Flymake diagnostics buffer UX\n\n\tDon't create text-buttons unnecessarily, just bind RET and SPC in the\n\tdiagnostics buffer to a command that figures out which diagnostic it\n\twas invoked on.\n\n\t* lisp/progmodes/flymake.el\n\t(flymake--diagnostics-buffer-mode-keymap): Renamed from\n\tflymake--diagnostics-buffer-button-keymap.\n\t(flymake-show-diagnostic-at-point): Don't take a button.\n\t(flymake-goto-diagnostic-at-point): Don't pass button to\n\tflymake-show-diagnostic-at-point.\n\t(flymake--diagnostics-buffer-entries): Simplify.\n\n2017-10-10  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tFirst stab at a Flymake diagnostics buffer\n\n\tThe diagnostics buffer summarizes the diagnostics of a buffer in a\n\ttabulated list and is permanently updated after each Flymake check.\n\n\t* lisp/progmodes/flymake.el (flymake--handle-report): Call\n\tflymake-show-diagnostics-buffer under certain conditions.\n\t(flymake-menu, flymake--diagnostics-buffer-source)\n\t(flymake--diagnostics-buffer-button-keymap)\n\t(flymake-show-diagnostic-at-point)\n\t(flymake-goto-diagnostic-at-point)\n\t(flymake--diagnostics-buffer-entries)\n\t(flymake-diagnostics-buffer-mode)\n\t(flymake--diagnostics-buffer-name)\n\t(flymake-show-diagnostics-buffer): New definitions.\n\n2017-10-10  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\t* etc/NEWS (Flymake): Rewrite entry.\n\n2017-10-10  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove the Flymake manual\n\n\t* doc/misc/flymake.texi: Add a 'coding' cookie.  Add a\n\t@syncodeindex directive for @vindex.  Use 2 spaces between\n\tsentences.  Lower-case @cindex entries.\n\t(Overview of Flymake): Fix use of @itemize and @pxref.  Fix\n\tpunctuation and markup.\n\t(Backend exceptions): Use @emph instead of @dfn.  Add more\n\tindexing.\n\t(Customizable variables, Extending Flymake): Improve wording.\n\t(Flymake error types): Fix usage of @itemize.  Improve wording.\n\t(Backend functions): Fix punctuation.  Fix markup.  Add a\n\tcross-reference to ELisp manual.\n\t(Flymake utility functions): Add a cross-reference to ELisp manual.\n\t(An annotated example backend): Fix punctuation and typos.\n\t(Flymake mode, Running the syntax check)\n\t(Navigating to error lines, Backend exceptions)\n\t(Customizable variables, Flymake error types, Backend functions)\n\t(Flymake utility functions, Proc customization variables)\n\t(Locating a master file, Locating the buildfile)\n\t(Starting the syntax check process, Parsing the output)\n\t(Interaction with other modes): Fix indexing.  Add index entries\n\tfor functions, variables, and concepts.\n\n2017-10-10  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tFix two Flymake bugs\n\n\t* lisp/progmodes/flymake.el (define-fringe-bitmap): Protect\n\tagainst --without-x.\n\t(flymake--mode-line-format): Ensure mode-line's mouse-4 and mouse-5 work\n\tin their own windows.\n\n2017-10-10  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tDon't log \"emergencies\" in the Flymake legacy backend\n\n\t* lisp/progmodes/flymake-proc.el (flymake-proc--panic)\n\t(flymake-proc-legacy-flymake): Don't log \"emergencies\"\n\n2017-10-10  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tAdd full documentation on new Flymake API\n\n\tAlso, as a minor addition to this API, set flymake-text\n\ton the diagnostic overlay.  This enables a good example in\n\tthe section \"Customization Flymake annotations\".\n\n\t* doc/misc/flymake.texi (Overview of Flymake)\n\t(Syntax check statuses): Rework.\n\t(Backend exceptions): Rename from \"Troubleshooting\"\n\t(Customizable variables): Add flymake-start-on-flymake-mode. Rework.\n\t(Extending Flymake): Write chapter.\n\t(Customizing Flymake annotations, Flymake backends)\n\t(Flymake utility functions, An annotated example backend):\n\tNew sections and subsections\n\n\t* lisp/progmodes/flymake.el (flymake-diagnostic-functions)\n\t(flymake-diagnostic-types-alist): Rework docstring.\n\t(flymake--highlight-line): Set and use flymake-text property in overlay.\n\t(flymake-goto-next-error, flymake-goto-prev-error): Fix funny quotes.\n\n2017-10-10  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tFix some Flymake docstrings and messages\n\n\t* lisp/progmodes/flymake.el\n\t(flymake-start-on-flymake-mode): fix typo.\n\t(flymake-mode): Add docstring.\n\t(flymake-mode-line-format): Fix help-echo indications. mouse-2\n\tdescribes flymake-mode.\n\n2017-10-10  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tMake three new Flymake commands for debugging common problems\n\n\t* lisp/progmodes/flymake.el (flymake-running-backends)\n\t(flymake-disabled-backends)\n\t(flymake-reporting-backends): Make interactive.\n\t(flymake--collect): Take optional arg.\n\n2017-10-09  Nicolas Petton  <nicolas@petton.fr>\n\n\t* admin/authors.el (authors-renamed-files-alist): addition.\n\n2017-10-09  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix PWD check on DOS_NT\n\n\t* src/sysdep.c (get_current_dir_name_or_unreachable):\n\tDo not consider a file name like \"a:b\" to be absolute on DOS_NT.\n\n2017-10-09  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix unlikely overflows with wd length\n\n\t* src/sysdep.c (get_current_dir_name_or_unreachable):\n\tAvoid integer overflow if working directory name is absurdly long.\n\tWhen allocating memory for getcwd, do not exceed MAXPATHLEN.\n\n2017-10-09  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/gnus/message.el: Improve last commit\n\n\t(message-clone-locals): Don't mistakenly match other variables whose\n\tname happens to include \"message-default-charset\".\n\n2017-10-09  Ken Olum  <kdo@cosmos.phy.tufts.edu>\n\n\tFix problems when editing raw undecoded message (Bug#28671)\n\n\t* lisp/mail/rmailedit.el (rmail-cease-edit): If rmail-old-mime-state\n\tis set, meaning that we are editing the raw message, do not\n\tencode it again.  Delete old body after, not before, inserting\n\tnew, to avoid moving marker at beginning of next message.\n\n2017-10-09  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid encoding errors in message.el\n\n\t* lisp/gnus/message.el (message-clone-locals): Don't clone\n\tmessage-default-charset.  (Bug#25645)\n\n2017-10-09  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove doc string and prompt of 'grep-read-files'\n\n\t* lisp/progmodes/grep.el (grep-read-files): Clarify in the doc\n\tstring and in the prompt that shell wildcards can be used.\n\tSuggested by Allen Li <vianchielfaura@gmail.com>.  (Bug#28615)\n\n2017-10-09  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid assertion violations when line numbers are displayed\n\n\t* src/xdisp.c (redisplay_window): Clear the window's desired glyph\n\tmatrix before calling try_window with the same starting\tpoint.\n\tThis avoids assertion violations when switching from a buffer\n\twithout line numbers to a buffer with line numbers.  (Bug28710)\n\n2017-10-09  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tBe lazy when starting Flymake checks\n\n\tDon't start the check immediately if the buffer is not being\n\tdisplayed.  Wait until it is, using window-configuration-change-hook.\n\n\tThis enables the user to batch-enable flymake-mode on many buffers and\n\tnot have that operation exhaust system resources for checking each\n\tone.  Likewise, an editing or save operation in a currently\n\tnon-displayed buffer does not immediately start a check.\n\n\t* lisp/progmodes/flymake.el (flymake-start-on-flymake-mode):\n\tRename from flymake-start-syntax-check-on-find-file.\n\t(flymake-start-syntax-check-on-find-file): Obsolete alias for\n\tflymake-start-on-flymake-mode.\n\t(flymake-start): Redesign.  Affect the global post-command-hook\n\tand local window-configuraiton-change-hook.\n\t(flymake--schedule-timer-maybe)\n\t(flymake-after-change-function, flymake-after-save-hook): Pass\n\tt to flymake-start.\n\n\t* test/lisp/progmodes/flymake-tests.el (flymake-tests--call-with-fixture)\n\t(dummy-backends, recurrent-backend): Start flymake check\n\texplicitly and immediately.\n\n2017-10-09  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix last change in frameset.el\n\n\t* lisp/frameset.el (frameset-filter-font-param): Fix a thinko in\n\tfiltering the 'font' parameter.  (Bug#17352)\n\n2017-10-09  Martin Rudalics  <rudalics@gmx.at>\n\n\tDescribe how window dividers can replicate vertical borders (Bug#27830)\n\n\t* doc/emacs/frames.texi (Scroll Bars): Describe how window\n\tdividers can be used to replicate vertical borders when scroll\n\tbars are disabled (Bug#27830).\n\t* doc/emacs/frames.texi (Window Dividers): Mention their use\n\tin replicating vertical borders.\n\n2017-10-09  Alexander Gramiak  <agrambot@gmail.com>\n\n\tAdd line-number faces to the display-line-numbers group\n\n\tSee https://lists.gnu.org/r/emacs-devel/2017-10/msg00151.html\n\tand its resulting thread.\n\n\t* lisp/display-line-numbers.el (display-line-numbers): Add to the\n\tconvenience group.\n\t* lisp/faces.el (line-number):\n\t(line-number-current-line): Add to the display-line-numbers group.\n\n2017-10-09  Alexander Gramiak  <agrambot@gmail.com>\n\n\tIncrease xterm click count only within double-click-fuzz\n\n\t* lisp/xt-mouse.el (xterm-mouse-event): Save the last click's position\n\tand check it against the current click's position.  (Bug#28658)\n\n2017-10-08  Alan Third  <alan@idiocy.org>\n\n\tChange pause in fullscreen toggling for NS port (bug#28496)\n\n\t* lisp/frame.el (toggle-frame-fullscreen): Replace sit-for with\n\tsleep-for, and reduce time.\n\n2017-10-08  Michael Albinus  <michael.albinus@gmx.de>\n\n\tHandle PARENTS properly in tramp-*-handle-make-directory\n\n\t* lisp/net/tramp-adb.el (tramp-adb-handle-make-directory):\n\t* lisp/net/tramp-gvfs.el (tramp-gvfs-handle-make-directory):\n\tHandle PARENTS properly.\n\n\t* test/lisp/net/tramp-tests.el (tramp-test13-make-directory):\n\tExtend test.\n\n2017-10-08  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tImprove test for unreachable dirs\n\n\t* src/sysdep.c (get_current_dir_name_or_unreachable):\n\tNew function, with most of the old contents of\n\temacs_get_current_dir_name.\n\t(emacs_get_current_dir_name): Use it.  Use a simpler\n\ttest for unreachable directory strings, and also apply\n\tit to getcwd etc. (Bug#27871)\n\n2017-10-08  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* src/xsmfns.c (x_session_initialize): Fix memory leak.\n\n2017-10-08  K. Handa  <handa@gnu.org>\n\n\tNew option for handling ZWNJ in Arabic text rendering\n\n\tProvide a new option 'arabic-shaper-ZWNJ-handling' that controls how\n\tto display ZWNJ in Arabic text rendering (Bug#28339).\n\t* lisp/language/misc-lang.el: Register arabic-shape-gstring in\n\tcomposition-function-table.\n\t(arabic-shaper-ZWNJ-handling): New variable.\n\t(arabic-shape-log): New variable.\n\t(arabic-shape-gstring): New function.\n\t* lisp/composite.el (lgstring-remove-glyph): New function.\n\n2017-10-08  Noam Postavsky  <npostavs@gmail.com>\n\n\tMake python prettify symbols into a defvar (Bug#28713)\n\n\t* lisp/progmodes/python.el (python-prettify-symbols-alist): New\n\tvariable.\n\t(python--prettify-symbols-alist): Make into obsolete alias for\n\t`python-prettify-symbols-alist'.\n\n2017-10-07  Alan Third  <alan@idiocy.org>\n\n\tFix fullscreen crash on macOS (bug#28496)\n\n\t* lisp/frame.el (toggle-frame-fullscreen): Wait for animation to\n\tcomplete on macOS.\n\n2017-10-07  Alan Third  <alan@idiocy.org>\n\n\tFix crash when closing fullscreen frame on macOS (bug#28661)\n\n\t* src/nsterm.m (EmacsView::windowWillResize): Return new frame size\n\tunmodified if the frame isn't live.\n\n2017-10-07  Michael Albinus  <michael.albinus@gmx.de>\n\n\tSupport gio tool in Tramp\n\n\t\"gvfs-<command>\" utilities have been deprecated in GVFS 1.31.1.  We\n\tmust use \"gio <command>\" tool instead.\n\n\t* lisp/net/tramp-gvfs.el (tramp-gvfs-gio-mapping): New defconst.\n\t(tramp-gvfs-handle-file-notify-add-watch): Support also \"gio monitor\"\n\t(tramp-gvfs-gio-tool-p): New defun.\n\t(tramp-gvfs-send-command): Use it.  Call gio tool if available.\n\n2017-10-07  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tFix flymake-goto-next-error when message has %-constructs\n\n\t* lisp/progmodes/flymake.el (flymake-goto-next-error): Fix\n\tmessage call.  Add missing period in docstring.\n\n2017-10-07  Piotr Trojanek  <piotr.trojanek@gmail.com>\n\n\t* src/gnutls.c (syms_of_gnutls): Remove duplicated call to DEFSYM.\n\n2017-10-07  Eli Zaretskii  <eliz@gnu.org>\n\n\tMove the entry about 'format' into Incompatible Lisp Changes\n\n\t* etc/NEWS: Move the entry about 'format' refraining from allocating\n\tnew strings into Incompatible Lisp Changes.  (Bug#28625)\n\n2017-10-07  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix glitches in displaying TTY menus\n\n\t* src/dispnew.c (update_frame_line): Accept an additional argument\n\tUPDATING_MENU_P; if non-zero, home the cursor before updating a\n\tframe's line.  All callers changed.\n\t(update_frame_1): Accept an additional argument UPDATING_MENU_P,\n\tand pass it to update_frame_line.  All callers changed.\n\t(update_frame_with_menu): Call update_frame_1 with last argument\n\tnon-zero.  (Bug#17497)\n\n2017-10-06  Gemini Lasswell  <gazally@runbox.com>\n\n\tCreate new Edebug spec for docstrings and use it in closures\n\n\tSince (:documentation FORM) can be used to create a docstring\n\twhen lexical-binding is on, allow for that possibility in Edebug\n\tspecs (bug#24773).\n\t* lisp/emacs-lisp/edebug.el: Define an Edebug spec for docstrings\n\tcalled lambda-doc and modify the Edebug specs for defun and\n\tdefmacro to use it.\n\t(edebug-instrument-function): Check for generic functions first,\n\tto fix bug where edebug-step-in didn't work on methods now that\n\tcl-defgeneric has an Edebug spec.\n\t* lisp/subr.el (lambda): Modify Edebug spec to use lambda-doc.\n\t* lisp/emacs-lisp/cl-generic.el (cl-defgeneric): Add Edebug spec\n\t(bug#27747).\n\t(cl-defmethod): Use lambda-doc in Edebug spec.\n\t* lisp/emacs-lisp/cl-macs.el: Modify Edebug spec for\n\tcl-declarations-or-string to use lambda-doc, and modify Edebug\n\tspec for cl-lambda-expr to use cl-declarations-or-string.\n\t* lisp/emacs-lisp/pcase.el (pcase-lambda): Modify Edebug spec to\n\tuse lambda-doc, as well as &define and def-body which are\n\tnecessary for using Edebug on code wrapped by lambda.\n\t* lisp/emacs-lisp/generator.el (iter-defun, iter-lambda): Add\n\tEdebug specs.\n\n2017-10-06  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid byte-compilation warnings in message.el\n\n\t* lisp/gnus/message.el: Require 'subr-x' when compiling, to\n\tavoid compiler warnings.\n\n2017-10-06  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix bug in recent styled_format change\n\n\tProblem reported by Kaushal Modi in:\n\thttps://lists.gnu.org/r/emacs-devel/2017-10/msg00141.html\n\t* src/editfns.c (styled_format): Fix bug where USE_SAFE_ALLOCA was\n\tnot always followed by SAFE_FREE.  This bug was introduced in my\n\tpatch 2017-09-26T23:31:57Z!eggert@cs.ucla.edu entitled \"Avoid some\n\tunnecessary copying in Fformat etc.\"\n\n2017-10-06  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tCleanup emacs-lisp-mode's use of Flymake\n\n\t* lisp/progmodes/elisp-mode.el (elisp-flymake--checkdoc-1):\n\tDelete.\n\t(elisp-flymake-checkdoc): Incorporate old\n\telisp-flymake--checkdoc-1.\n\t(elisp-flymake--byte-compile-done): Simplify.  Don't cleanup\n\there.\n\t(elisp-flymake-byte-compile): Remove spurious interactive spec.\n\tSimplify.  Cleanup on every possible exit.\n\n2017-10-06  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tFix @include directive in Flymake doc\n\n\t* doc/misc/flymake.texi: Don't @include a relative path.\n\n2017-10-06  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tMove read-multiple-choice to its own library\n\n\t* lisp/emacs-lisp/rmc.el: New file.\n\t* lisp/emacs-lisp/subr-x.el (read-multiple-choice): Remove.\n\t* lisp/gnus/message.el:\n\t* lisp/net/nsm.el: Change required library.\n\n2017-10-06  Piotr Trojanek  <piotr.trojanek@gmail.com>\n\n\t* src/process.c (syms_of_process): Remove duplicated call to DEFSYM.\n\n\tFixes: Bug#28721\n\n2017-10-06  Lele Gaifax  <lele@metapensiero.it>\n\n\tFix typos in Flymake documentation\n\n\t* doc/misc/flymake.texi (Syntax check statuses)\n\t(Adding support for a new syntax check tool)\n\t(Implementation overview, Locating the buildfile): Fix typos.\n\n\t* lisp/progmodes/flymake-proc.el (flymake-proc--report-fn)\n\t(flymake-proc--find-possible-master-files):Fix typos.\n\t(flymake-proc--panic)\n\t(flymake-proc-legacy-flymake): Fix function reference in doc.\n\n\t* lisp/progmodes/flymake.el (flymake-error)\n\t(flymake-diagnostic-functions): Fix typos.\n\t(flymake-diagnostic-types-alist): Rephrase and fix typos.\n\t(flymake--backend-state): Fix typos and rephrase.\n\t(flymake--handle-report): Delete empty line.\n\t(flymake--disable-backend)\n\t(flymake--run-backend): Fix typos.\n\t(flymake-goto-next-error, flymake-goto-prev-error): Rephrase.\n\n2017-10-06  Eli Zaretskii  <eliz@gnu.org>\n\n\tRevert last change in 'shr-descend'\n\n\t* lisp/net/shr.el (shr-descend): Revert the part of the last\n\tchange which introduced calls to shr-indirect-call into this\n\tfunction.  Add a comment explaining the rationale for that.\n\t(Bug#28402)\n\n2017-10-06  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tDon't error when turning on Flymake with no known backends\n\n\tLeave it to the mode line indicator to inform the user that there\n\tis still some configuration to do.\n\n\t* lisp/progmodes/flymake.el (flymake-mode): Simplify.\n\n2017-10-06  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tDelete a Flymake obsolete alias that can't possibly work\n\n\tThe function `flymake-ler-make-ler' can't possibly work as an backward\n\tcompatible interface to existing extensinos (even purely hypothetical\n\tones, since none are known).  This is because every diagnostic\n\tconsidered by Flymake has to passed to a report-fn function.\n\n\t* lisp/progmodes/flymake.el (flymake-ler-make-ler): Delete.\n\n2017-10-06  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix bug with unmounted directory on GNU/Linux\n\n\t* src/sysdep.c (emacs_get_current_dir_name): Do not use\n\tget_current_dir_name result unless it is absolute (Bug#27871).\n\n\n2017-10-05  Nicolas Petton  <nicolas@petton.fr>\n\n\tUpdate authors.el\n\n\t* admin/authors.el (authors-renamed-files-alist)\n\t(authors-valid-file-names): Additions.\n\n2017-10-05  Gemini Lasswell  <gazally@runbox.com>\n\n\tFix dynamic binding wrapper in iter-lambda (bug#25965)\n\n\t* lisp/emacs-lisp/generator.el (cps--make-dynamic-binding-wrapper):\n\tRemove extra evaluation of form.\n\t* test/lisp/emacs-lisp/generator-tests.el\n\t(cps-iter-lambda-with-dynamic-binding): New test.\n\n2017-10-05  Rasmus  <rasmus@gmx.us>\n\n\tUpdate Org to v9.1.2\n\n\tPlease note this is a bugfix release.  See etc/ORG-NEWS for details.\n\n2017-10-05  Alan Mackenzie  <acm@muc.de>\n\n\tFix irregularities with CC Mode fontification, particularly with \"known types\"\n\n\t* lisp/progmodes/cc-fonts.el (c-font-lock-declarators): Introduce a new\n\toptional parameter, template-class.  In \"class <X = Y>\", fontify \"Y\" as a\n\ttype.\n\t(c-font-lock-single-decl): New variable template-class, set to non-nil when we\n\thave a construct like the above.  Pass this as argument to\n\tc-font-lock-declarators.\n\t(c-font-lock-cut-off-declarators): Check more rigorously that a declaration\n\tbeing processed starts before the function's starting position.\n\t(c-complex-decl-matchers): Remove the redundant clause which fontified \"types\n\tpreceded by, e.g., \"struct\"\".\n\n\t* lisp/progmodes/cc-langs.el (c-template-typename-kwds)\n\t(c-template-typename-key): New lang defconsts and defvar.\n\n2017-10-05  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix breakage due to recent change in tabulated-list-print-entry\n\n\t* lisp/emacs-lisp/tabulated-list.el (tabulated-list-printer):\n\tUpdate the doc string.\n\t(tabulated-list-print-entry): Revert to using only 2 arguments.\n\tUpdate the doc string.\n\t(tabulated-list-entry-lnum-width): New defvar.\n\t(tabulated-list-print): Compute the width of line-number display\n\tonce, then store that value in tabulated-list-entry-lnum-width,\n\tfor tabulated-list-printer to use.  (Bug#28704)\n\n2017-10-05  Gemini Lasswell  <gazally@runbox.com>\n\n\t* lisp/ses.el (ses-print-cell): Fix alignment of text cells.  (Bug#27653)\n\n2017-10-05  Alexander Gramiak  <agrambot@gmail.com>\n\n\tSet xterm click count to 1 even with no last click\n\n\t* lisp/xt-mouse.el (xterm-mouse-event): Move the check for\n\tthe last click so that click-count is initialized properly.\n\tHandle the value of t for double-click-time.\n\t(Bug#28658)\n\n2017-10-05  Vasilij Schneidermann  <mail@vasilij.de>\n\n\tSupport indirection for all shr-tag-* calls\n\n\tThe 'shr-external-rendering-functions' variable was previously only\n\thonored in the shr-descend function, now all direct calls to the\n\tshr-tag-* functions have been replaced by a call to\n\t'shr-indirect-call' which tries using an alternative rendering\n\tfunction first.\n\n\t* lisp/net/shr.el (shr-indirect-call): New helper function.\n\t(shr-descend, shr-tag-object, shr-tag-video):\n\t(shr-collect-extra-strings-in-table): Fix callers to call via\n\tshr-indirect-call.  (Bug#28402)\n\n2017-10-05  Eli Zaretskii  <eliz@gnu.org>\n\n\tSpeed up list-packages when 'visual' line numbers are displayed\n\n\t* lisp/emacs-lisp/tabulated-list.el (tabulated-list-printer):\n\tUpdate the doc string.\n\t(tabulated-list-print-entry): Accept an additional optional\n\targument INDENT.  Update the doc string.\n\t(tabulated-list-print): Compute the width of line-number display\n\tonce, then call tabulated-list-printer with that value as 3rd\n\targument.  (Bug#28704)\n\n2017-10-05  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tMisc. minor adjustments to Flymake\n\n\t- Add a half-decent minor-mode menu;\n\t- Fix \"waiting for backends\" mode line message;\n\t- Adjust the flymake-diag-region API;\n\t- Autoload the flymake-log macro;\n\t- Auto-disable the legacy backend in more situations;\n\t- Fix a couple of warnings in legacy backend.\n\n\t* lisp/progmodes/flymake-proc.el\n\t(flymake-proc--diagnostics-for-pattern): Use new\n\tflymake-diag-region.\n\n\t* lisp/progmodes/flymake-proc.el\n\t(flymake-proc-legacy-flymake): Do error when no\n\tbuffer-file-name or not writable.\n\t(flymake-proc-legacy-flymake)\n\t(flymake-proc-simple-cleanup): Don't reference flymake-last-change-time\n\n\t* lisp/progmodes/flymake.el (flymake-diag-region):\n\tAutoload.  Take buffer as first argument.\n\n\t* lisp/progmodes/flymake.el (flymake-switch-to-log-buffer):\n\tNew command.\n\t(flymake-menu): Add a simple menu.\n\t(flymake--mode-line-format): Use menu.  Fix message.  Switch to\n\tlog buffer when clicking exceptional warnings.\n\n2017-10-05  Johan Bockg\u00e5rd  <bojohan@gnu.org>\n\n\tFix search for ~/.Xdefaults-HOSTNAME\n\n\t* src/xrdb.c (get_environ_db): Fix typo when handling\n\t~/.Xdefaults-HOSTNAME (Bug#28708).\n\n2017-10-04  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSpeed up (format \"%s\" STRING) and the like\n\n\tAlthough the Lisp manual said that \u2018format\u2019 returns a\n\tnewly-allocated string, this was not true for a few cases like\n\t(format \"%s\" \"\"), and fixing the documentation to allow reuse of\n\targuments lets us improve performance in common cases like\n\t(format \"foo\") and (format \"%s\" \"foo\") (Bug#28625).\n\t* doc/lispref/strings.texi (Formatting Strings):\n\t* etc/NEWS:\n\tSay that the result of \u2018format\u2019 might not be newly allocated.\n\t* src/callint.c (Fcall_interactively):\n\t* src/dbusbind.c (XD_OBJECT_TO_STRING):\n\t* src/editfns.c (Fmessage, Fmessage_box):\n\t* src/xdisp.c (vadd_to_log, Ftrace_to_stderr):\n\tJust use Fformat or Fformat_message, as that\u2019s simpler and no\n\tlonger makes unnecessary copies.\n\t* src/editfns.c (styled_format): Remove last argument, as it\n\tis no longer needed: all callers now want it to behave as if it\n\twere true.  All remaining callers changed.  Make this function\n\tstatic again.  Simplify the function now that we no longer\n\tneed to worry about whether the optimization is allowed.\n\n2017-10-04  Alan Mackenzie  <acm@muc.de>\n\n\tFontify untyped function declarations in C Mode correctly.\n\n\tAlso correct two bugs where deleting WS at a BOL could leave an untyped\n\tfunction declaration unfontified.\n\n\t* lisp/progmodes/cc-engine.el (c-find-decl-spots): Don't set the flag\n\t\"top-level\" when we're in a macro.\n\t(c-forward-decl-or-cast-1): Recognize top-level \"foo(bar)\" or \"foo()\" in C\n\tMode as a implicitly typed function declaration.\n\t(c-just-after-func-arglist-p): Don't get confused by \"defined (foo)\" inside a\n\tmacro.  It's not a function plus arglist.\n\n\t* lisp/progmodes/cc-langs.el (c-cpp-expr-functions-key): New defconst and\n\tdefvar.\n\n\t* lisp/progmodes/cc-mode.el (c-fl-decl-end): After c-forward-declarator, move\n\tover any following parenthesis expression (i.e. parameter list).\n\t(c-change-expand-fl-region): When c-new-END is at a BOL, include that line in\n\tthe returned region, to cope with deletions at column 0.\n\n2017-10-04  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* lisp/net/tramp.el (tramp-tramp-file-p): Use `string-match-p'.\n\n\tReported by Cl\u00e9ment Pit-Claudel <cpitclaudel@gmail.com>.\n\n2017-10-04  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid crashes on C-g when several threads wait for input\n\n\t* src/thread.h (m_getcjmp): New member of 'struct thread_state'.\n\t(getcjmp): Define to current thread's 'm_getcjmp'.\n\t* src/thread.c (maybe_reacquire_global_lock): Switch to main\n\tthread, since this is called from a SIGINT handler, which always\n\truns in the context of the main thread.\n\t* src/lisp.h (sys_jmp_buf, sys_setjmp, sys_longjmp): Move the\n\tdefinitions before thread.h is included, as thread.h now uses\n\tsys_jmp_buf.\n\t* src/keyboard.c (getcjmp): Remove declaration.\n\t(read_char): Don't call maybe_reacquire_global_lock here.\n\t(handle_interrupt): Call maybe_reacquire_global_lock here, if\n\tinvoked from the SIGINT handler, to make sure\n\tquit_throw_to_read_char runs with main thread's Lisp bindings and\n\tuses the main thread's jmp_buf buffer.  (Bug#28630)\n\n2017-10-04  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tWarn if --without-pop is now the default\n\n\t* configure.ac (with_pop): Set to no-by-default if defaulting to \"no\".\n\tWarn about the change if defaulting to \"no\".  Update URLs.\n\n2017-10-04  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t--with-pop is now the default only on MS-Windows\n\n\tProblem reported by N. Jackson (Bug#28597).\n\tThis improves an earlier suggestion by Robert Pluim (Bug#28597#47).\n\t* INSTALL, configure.ac, etc/NEWS:\n\tMake --with-pop the default only on native MS-Windows.\n\n2017-10-03  Michael Albinus  <michael.albinus@gmx.de>\n\n\tAdd support for `file-system-info' in Tramp\n\n\t* lisp/net/tramp.el (tramp-file-name-for-operation):\n\tAdd `file-system-info'.\n\n\t* lisp/net/tramp-adb.el (tramp-adb-handle-file-system-info): New defun.\n\t(tramp-adb-file-name-handler-alist): Use it.\n\n\t* lisp/net/tramp-gvfs.el (tramp-gvfs-file-system-attributes)\n\t(tramp-gvfs-file-system-attributes-regexp): New defconst.\n\t(tramp-gvfs-handle-file-system-info): New defun.\n\t(tramp-gvfs-file-name-handler-alist): Use it.\n\t(tramp-gvfs-get-directory-attributes): Fix property name.\n\t(tramp-gvfs-get-root-attributes): Support also file system attributes.\n\n\t* lisp/net/tramp-sh.el (tramp-sh-handle-file-system-info): New defun.\n\t(tramp-sh-file-name-handler-alist): Use it.\n\t(tramp-sh-handle-insert-directory): Insert size information.\n\t(tramp-get-remote-df): New defun.\n\n\t* lisp/net/tramp-smb.el (tramp-smb-handle-file-system-info): New defun.\n\t(tramp-smb-file-name-handler-alist): Use it.\n\t(tramp-smb-handle-insert-directory): Insert size information.\n\n\t* test/lisp/net/tramp-tests.el (tramp-test37-file-system-info):\n\tNew test.\n\t(tramp-test38-asynchronous-requests)\n\t(tramp-test39-recursive-load, tramp-test40-remote-load-path)\n\t(tramp-test41-unload): Rename.\n\n2017-10-03  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tMerge branch 'scratch/flymake-refactor-clean-for-emacs-26' into emacs-26\n\n2017-10-03  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tStart rewriting Flymake manual\n\n\tMissing the parts pertaining to the new customization API.\n\n\t* doc/misc/flymake.texi (Overview of Flymake): Rewrite a bit.\n\t(Installing Flymake): Delete most of this.\n\t(Running the syntax check): Mention flymake-start.\n\t(Navigating to error lines): Rewrite.\n\t(Viewing error messages): Commente out.\n\t(Syntax check statuses, Troubleshooting): Rewrite a bit.\n\t(Customizable variables): New section under \"Using\n\tFlymake\".  Don't mention any proc variables here.\n\t(Configuring Flymake): Delete\n\t(Proc backend): New chapter\n\t(Proc customization variables): New chapter.\n\n\t* doc/misc/flymake.texi (Overview of Flymake): Rewrite a bit.\n\t(Installing Flymake): Mostly scratch. Flymake comes with Emacs.\n\t(Running the syntax check): Simplify.\n\t(Viewing error messages): Dekete,\n\t(Syntax check statuses): Rewrite.\n\t(Troubleshooting): Simplify.\n\t(Customizable variables): Rewrite.\n\t(Extending Flymake): New chapter, empty for now.\n\t(The legacy Proc backend): New chapter.\n\t(Proc customizable variables)\n\t(Adding support for a new syntax check tool)\n\t(Implementation overview)\n\t(Making a temporary copy)\n\t(Locating a master file)\n\t(Getting the include directories)\n\t(Locating the buildfile)\n\t(Starting the syntax check process)\n\t(Parsing the output)\n\t(Interaction with other modes)\n\t(Example---Configuring a tool called via make)\n\t(Example---Configuring a tool called directly): Rewrite a bit.\n\n2017-10-03  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tMinimal tweak as an attempt to future-proof Flymake API\n\n\tDiscussed with Stefan that this should allow Flymake to request more\n\tfrom backends in the future, while also allowing backends to report\n\tmore accurately.\n\n\t* lisp/progmodes/elisp-mode.el (elisp-flymake-checkdoc)\n\t(elisp-flymake-byte-compile): Adjust to new API.\n\n\t* lisp/progmodes/flymake-proc.el ()\n\t(flymake-proc-legacy-flymake): Adjust to new API.\n\n\t* lisp/progmodes/flymake.el (flymake-diagnostic-functions):\n\tReview API again.\n\t(flymake--handle-report): Allow other keys.  Change ACTION to\n\tREPORT-ACTION.\n\n2017-10-03  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tIntegrate Flymake elisp checkers into elisp-mode.el directly\n\n\t* lisp/progmodes/elisp-mode.el (emacs-lisp-mode): Use\n\telisp-flymake-checkdoc and elisp-flymake-byte-compile.\n\t(elisp-flymake--checkdoc-1, elisp-flymake-checkdoc)\n\t(elisp-flymake--byte-compile-done)\n\t(elisp-flymake--byte-compile-process)\n\t(elisp-flymake-byte-compile): Rename from flymake-elisp\n\tcounterparts in deleted flymake-elisp.el\n\t(elisp-flymake--batch-compile-for-flymake): New helper.\n\t(checkdoc-create-error-function)\n\t(checkdoc-autofix-flag)\n\t(checkdoc-generate-compile-warnings-flag)\n\t(checkdoc-diagnostic-buffer): Forward declare.\n\n\t* lisp/progmodes/flymake-elisp.el: Delete.\n\n2017-10-03  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tHook Flymake onto proper checkdoc and byte-compile interfaces\n\n\tThe interfaces in bytecomp.el and checkdoc.el are mostly boilerplate,\n\twith little knowledge of actual internals or thought given to the\n\tusefulness of said interfaces in contexts other than Flymake's.\n\n\t* lisp/emacs-lisp/bytecomp.el\n\t(byte-compile-log-warning-function): New variable.\n\t(byte-compile-log-warning): Use it.\n\t(byte-compile--log-warning-for-byte-compile): New function.\n\n\t* lisp/emacs-lisp/checkdoc.el\n\t(checkdoc-create-error-function): New variable.\n\t(checkdoc-create-error): Use it.\n\t(checkdoc--create-error-for-checkdoc): New function.xo\n\n\t* lisp/progmodes/flymake-elisp.el (flymake-elisp--checkdoc-1):\n\tUse checkdoc-create-error-function.\n\t(flymake-elisp--batch-byte-compile): Use\n\tbyte-compile-log-warning-function.\n\n2017-10-03  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tTweak Flymake autoloads and dependencies\n\n\t* lisp/progmodes/elisp-mode.el (emacs-lisp-mode): Add to\n\tflymake-diagnostic-functions here.\n\n\t* lisp/progmodes/flymake-elisp.el[top]: Don't add to\n\temacs-lisp-mode-hook.  Don't call flymake-elisp-setup-backends in\n\tevery buffer.  (flymake-elisp-checkdoc) (flymake-elisp-byte-compile):\n\tAutoload.  (flymake-elisp-setup-backends): Remove.\n\n\t* lisp/progmodes/flymake.el: Add some top-level comments.\n\t(flymake-make-diagnostic)\n\t(flymake-mode, flymake-mode-on, flymake-mode-off): Add autoloads\n\n\tWhere to fixup this shit?\n\n2017-10-03  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tCapitalize \"Flymake\" in docstrings and comments\n\n\t* lisp/progmodes/flymake-elisp.el (flymake-elisp-checkdoc)\n\t(flymake-elisp-setup-backends): Capitalize \"Flymake\"\n\n\t* lisp/progmodes/flymake-proc.el:\n\t(flymake-proc-reformat-err-line-patterns-from-compile-el)\n\t(flymake-proc--panic, flymake-proc-legacy-flymake)\n\t(flymake-start-syntax-check, flymake-proc-compile)\n\t(define-obsolete-variable-alias): Capitalize \"Flymake\"\n\n\t* lisp/progmodes/flymake.el (flymake-fringe-indicator-position)\n\t(flymake-make-diagnostic, flymake-delete-own-overlays)\n\t(flymake-diagnostic-functions)\n\t(flymake-diagnostic-types-alist, flymake-is-running)\n\t(flymake-make-report-fn, flymake-mode-on, flymake-mode-off)\n\t(flymake-goto-next-error, flymake-goto-prev-error): Capitalize \"Flymake\"\n\n2017-10-03  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tFlymake backends can report multiple times per check\n\n\tRewrote a significant part of the Flymake backend API.  Flymake now\n\tignores the return value of backend functions: a function can either\n\treturns or errors.  If it doesn't error, a backend is no longer\n\tconstrained to call REPORT-FN exactly once.  It may do so any number\n\tof times, cumulatively reporting diagnostics.  Flymake keeps track of\n\toutdated REPORT-FN instances and disconsiders obsolete reports.\n\tBackends should avoid reporting obsolete data by canceling any\n\tongoing processing at every renewed call to the backend function.\n\n\tConsolidated flymake.el internal data structures to require less\n\tbuffer-local variables.  Adjusted Flymake's mode-line indicator to the\n\tnew semantics.\n\n\tAdapted and simplified the implementation of elisp and legacy\n\tbackends, fixing potential race conditions when calling backends in\n\trapid succession.\n\n\tAdded a new test for a backend that calls REPORT-FN multiple\n\ttimes.  Simplify test infrastructure.\n\n\t* lisp/progmodes/flymake-elisp.el (flymake-elisp-checkdoc)\n\t(flymake-elisp-byte-compile): Error instead of returning nil\n\tif not in emacs-lisp-mode.\n\t(flymake-elisp--byte-compile-process): New buffer-local variable.\n\t(flymake-elisp-byte-compile): Mark (and kill) previous process\n\tobsolete process before starting a new one.  Don't report if\n\tobsolete process.\n\n\t* lisp/progmodes/flymake-proc.el\n\t(flymake-proc--current-process): New buffer-local variable.\n\t(flymake-proc--processes): Remove.\n\t(flymake-proc--process-filter): Don't bind\n\tflymake-proc--report-fn.\n\t(flymake-proc--process-sentinel): Rewrite.  Don't report if\n\tobsolete process.\n\t(flymake-proc-legacy-flymake): Rewrite.  Mark (and kill)\n\tprevious process obsolete process before starting a new\n\tone.  Integrate flymake-proc--start-syntax-check-process\n\thelper.\n\t(flymake-proc--start-syntax-check-process): Delete.\n\t(flymake-proc-stop-all-syntax-checks): Don't use\n\tflymake-proc--processes, iterate buffers.\n\t(flymake-proc-compile):\n\n\t* lisp/progmodes/flymake.el (subr-x): Require it\n\texplicitly.\n\t(flymake-diagnostic-functions): Reword docstring.\n\t(flymake--running-backends, flymake--disabled-backends)\n\t(flymake--diagnostics-table): Delete.\n\t(flymake--backend-state): New buffer-local variable and new defstruct.\n\t(flymake--with-backend-state, flymake--collect)\n\t(flymake-running-backends, flymake-disabled-backends)\n\t(flymake-reporting-backends): New helpers.\n\t(flymake-is-running): Use flymake-running-backends.\n\t(flymake--handle-report): Rewrite.\n\t(flymake-make-report-fn): Ensure REPORT-FN runs in the correct\n\tbuffer or not at all.\n\t(flymake--disable-backend, flymake--run-backend): Rewrite.\n\t(flymake-start): Rewrite.\n\t(flymake-mode): Set flymake--backend-state.\n\t(flymake--mode-line-format): Rewrite.\n\n\t* test/lisp/progmodes/flymake-tests.el\n\t(flymake-tests--wait-for-backends): New helper.\n\t(flymake-tests--call-with-fixture): Use it.\n\t(included-c-header-files): Fix whitespace.\n\t(flymake-tests--diagnose-words): New helper.\n\t(dummy-backends): Rewrite for new semantics.  Use cl-letf.\n\t(flymake-tests--assert-set): Use quote.\n\t(recurrent-backend): New test.\n\n2017-10-03  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tFlymake uses proper idle timers\n\n\tAlso, flymake-no-changes-timeout can be set to nil to disable\n\tautomatic periodic checks.  But even in that situation the idle timer\n\tstill runs at a reduced rate to detect changes in the variable and\n\trevert that decision.\n\n\t* lisp/progmodes/flymake.el (flymake-no-changes-timeout): Improve doc.\n\t(flymake-last-change-time): Delete.\n\t(flymake--schedule-timer-maybe): New helper.\n\t(flymake-after-change-function): Use it.\n\t(flymake-on-timer-event): Delete\n\t(flymake-mode): Don't scheduler timer.\n\n2017-10-03  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tFlymake variable flymake-diagnostic-functions now a special hook\n\n\t* lisp/progmodes/flymake-proc.el: Use add-hook to affect\n\tflymake-diagnostic-functions.\n\n\t* lisp/progmodes/flymake-elisp.el\n\t(flymake-elisp-setup-backends): Use add-hook.\n\n\t* lisp/progmodes/flymake.el (flymake-diagnostic-functions):\n\tRevise docstring.\n\t(flymake-start): Use run-hook-wrapped.\n\n2017-10-03  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tBatch of minor Flymake cleanup actions agreed to with Stefan\n\n\tDiscussed with Stefan, in no particular order\n\n\t- Remove aliases for symbols thought to be internal to flymake-proc.el\n\t- Don\u2019t need :group in defcustom and defface in flymake.el\n\t- Fix docstring of flymake-make-diagnostic\n\t- Fix docstring of flymake-diagnostic-functions to clarify keywords.\n\t- Mark overlays with just the property \u2019flymake, not \u2019flymake-overlay\n\t- Tune flymake-overlays for performance\n\t- Make flymake-mode-on and flymake-mode-off obsolete\n\t- Don\u2019t use hash-table-keys unless necessary.\n\t- Copyright notice in flymake-elisp.\n\n\tAdded some more\n\n\t- Clarify docstring of flymake-goto-next-error\n\t- Clarify a comment in flymake--run-backend complaining about ert-deftest.\n\t- Prevent compilation warnings in flymake-proc.el\n\t- Remove doctring from obsolete aliases\n\n\tNow the changelog:\n\n\t* lisp/progmodes/flymake-elisp.el: Proper copyright notice.\n\n\t* lisp/progmodes/flymake-proc.el (flymake-warning-re)\n\t(flymake-proc-diagnostic-type-pred)\n\t(flymake-proc-default-guess)\n\t(flymake-proc--get-file-name-mode-and-masks): Move up to\n\tbeginning of file to shoosh compiler warnings\n\t(define-obsolete-variable-alias): Delete many obsolete aliases.\n\n\t* lisp/progmodes/flymake.el (flymake-error-bitmap)\n\t(flymake-warning-bitmap, flymake-note-bitmap)\n\t(flymake-fringe-indicator-position)\n\t(flymake-start-syntax-check-on-newline)\n\t(flymake-no-changes-timeout, flymake-gui-warnings-enabled)\n\t(flymake-start-syntax-check-on-find-file, flymake-log-level)\n\t(flymake-wrap-around, flymake-error, flymake-warning)\n\t(flymake-note): Don't need :group in these defcustom and defface.\n\t(flymake--run-backend): Clarify comment\n\t(flymake-mode-map): Remove.\n\t(flymake-make-diagnostic): Fix docstring.\n\t(flymake--highlight-line, flymake--overlays): Identify flymake\n\toverlays with just \u2019flymake.\n\t(flymake--overlays): Reverse order of invocation for\n\tcl-remove-if-not and cl-sort.\n\t(flymake-mode-on)\n\t(flymake-mode-off): Make obsolete.\n\t(flymake-goto-next-error, flymake-goto-prev-error): Fix docstring.\n\t(flymake-diagnostic-functions): Clarify keyword arguments in\n\tdocstring.\n\n\tMaybe squash in that one where I remove many obsoletes\n\n2017-10-03  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tExplicitly add a(n empty) keymap for Flymake\n\n\tToo early to decide what will be in it, if anything.  Though \"M-n\" and\n\t\"M-p\" would be great.\n\n\t* lisp/progmodes/flymake-ui.el (flymake-mode-map): New variable\n\n2017-10-03  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tFlymake uses some new fringe bitmaps\n\n\tAlso fix behavior whereby flymake wouldn't react to a change in the\n\tvariable.\n\n\t* lisp/progmodes/flymake-ui.el (flymake-error-bitmap)\n\t(flymake-warning-bitmap): Update bitmaps.\n\t(flymake-note-bitmap): New defcustom.\n\t(flymake-double-exclamation-mark): New bitmap.\n\t(flymake-error, flymake-warning, flymake-note)\n\t(flymake--highlight-line): 'bitmap property must be a symbol.\n\tAlso set default face to flymake-error.\n\t(flymake--fringe-overlay-spec): Bitmap property can be a\n\tvariable symbol.\n\n2017-10-03  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tRemove old flymake-display-err-menu-for-current-line, it's useless\n\n\tSee https://lists.gnu.org/r/emacs-devel/2017-09/msg00949.html\n\n\t* lisp/progmodes/flymake-ui.el\n\t(flymake-popup-current-error-menu): Remove.\n\n2017-10-03  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tTreat Flymake errors as just another type of diagnostic\n\n\t* lisp/progmodes/flymake.el (flymake--diag-errorp): Remove.\n\t(flymake--handle-report, flymake-popup-current-error-menu):\n\tDon't use it.\n\n2017-10-03  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tFix three Flymake bugs when checking C header files\n\n\tThe first of these problems is longstanding: if an error-less B.h is\n\tincluded from error-ridden A.h, flymake's legacy parser will panic\n\t(and disable itself) since it sees a non-zero exit for a clean file.\n\tTo fix this, recommend returning 'true' in the documentation for the\n\tcheck-syntax target.\n\n\tAnother problem was introduced by the parser rewrite.  For error\n\tpatterns spanning more than one line, point may be left in the middle\n\tof a line and thus render other patterns useless.  Those patterns were\n\twritten for the old line-by-line parser.  To make them useful again,\n\tmove to the beginning of line in those situations.\n\n\tThe third problem was also longstanding and happened on newer GCC's:\n\tThe \"In file included from\" prefix confused\n\tflymake-proc-get-real-file-name.  Fix this.\n\n\tAlso updated flymake--diag-region to fallback to highlighting a full\n\tline less often.\n\n\tAdd automatic tests to check this.\n\n\t* lisp/progmodes/flymake-proc.el\n\t(flymake-proc--diagnostics-for-pattern): Fix bug when patterns\n\taccidentally spans more than one line.  Don't create\n\tdiagnostics without error messages.\n\t(flymake-proc-real-file-name-considering-includes): New\n\thelper.\n\t(flymake-proc-allowed-file-name-masks): Use it.\n\n\t* lisp/progmodes/flymake.el (flymake-diag-region): Make COL\n\targument explicitly optional.  Only fall back to full line in extreme\n\tcases.\n\n\t* test/lisp/progmodes/flymake-tests.el\n\t(included-c-header-files): New test.\n\t(different-diagnostic-types): Update.\n\n\t* test/lisp/progmodes/flymake-resources/Makefile\n\t(check-syntax): Always return success (0) error code.\n\t(CC_OPTS): Add -Wextra\n\n\t* test/lisp/progmodes/flymake-resources/errors-and-warnings.c\n\t(main): Rewrite comments.\n\n\t* test/lisp/progmodes/flymake-resources/errors-and-warnings.c:\n\tInclude some dummy header files.\n\n\t* test/lisp/progmodes/flymake-resources/no-problems.h: New file.\n\n\t* test/lisp/progmodes/flymake-resources/some-problems.h: New file.\n\n\t* doc/misc/flymake.texi (Example---Configuring a tool called\n\tvia make): Recommend adding \"|| true\" to the check-syntax target.\n\n2017-10-03  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tAdd interactive flymake-start function\n\n\t* lisp/progmodes/flymake.el (flymake-on-timer-event)\n\t(flymake-after-change-function, flymake-mode): Call\n\tflymake-start.\n\t(flymake-start): Rename from flymake--start-syntax-check.\n\n2017-10-03  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tA couple of Flymake backends for emacs-lisp-mode\n\n\tLoading flymake-elisp.el doesn't setup flymake-mode to turn on\n\tautomatically, but it affects emacs-lisp-mode-hook so that\n\tflymake-diagnostic-functions is setup with a suitable buffer-local\n\tvalue.  The variable flymake-diagnostic-funtions in every live\n\temacs-lisp-mode buffer is also adjusted.\n\n\t* lisp/progmodes/flymake.el (top): Require flymake-elisp.\n\n\t* lisp/progmodes/flymake-elisp.el: New file.\n\n2017-10-03  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tFancy Flymake mode-line construct displays status\n\n\tImitates compilation-mode's mode-line a bit, and uses its faces.\n\n\t* lisp/progmodes/flymake.el\n\t(flymake-error, flymake-warning, flymake-note): Add\n\tmode-line-face to these flymake error types.\n\t(flymake-note): Notes don't need a noisy fringe bitmap.\n\t(flymake-lighter): Delete.\n\t(flymake--update-lighter): Delete.\n\t(flymake--mode-line-format): New function and variable.\n\t(flymake--diagnostics-table): New buffer-local variable.\n\t(flymake--handle-report): Don't update \"lighters\".  Affect\n\tflymake--diagnostics-table.\n\t(flymake--run-backend): Init flymake--diagnostics-table for backend.\n\t(flymake-mode): Use flymake--mode-line-format.\n\t(flymake-mode): Don't update lighter.\n\t(flymake--highlight-line): Be more careful when overriding a\n\tnil default overlay property.\n\n2017-10-03  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tTweak Flymake commands flymake-goto-[next/prev]-error\n\n\tAdd filters, useful for backends like the upcoming\n\tflymake-elisp-checkdoc backend, for example, which litters everything\n\twith low-priority notes.\n\n\tAlso re-implement wraparound for flymake-goto-next-error. Manual\n\tmentions this, so it's probably a good idea to keep it.  Added a new\n\tcustomization variable flymake-wrap-around to control it.\n\n\t* lisp/progmodes/flymake.el (flymake-goto-prev-error)\n\t(flymake-goto-next-error): Accept FILTER argument.\n\t(flymake-wrap-around): New variable.\n\t(flymake-goto-next-error): Wrap around according to flymake-wrap-around.\n\n\t* test/lisp/progmodes/flymake-tests.el\n\t(different-diagnostic-types, dummy-backends): Pass FILTER to\n\tflymake-goto-prev-error.\n\t(different-diagnostic-types)\n\t(dummy-backends): Use flymake-wrap-around.\n\n2017-10-03  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tFlymake's flymake-proc.el backend slightly easier to debug\n\n\tMisc cleanup in flymake-proc.el\n\n\tImprove description of what this file contains.\n\n\tBetter name for the backend function.  Fix the case where it is run\n\tinteractively.\n\n\tKeep the output buffer alive iff the external process panics.\n\n\t* lisp/progmodes/flymake-proc.el\n\t(flymake-proc-legacy-flymake): Rename from\n\tflymake-proc-start-syntax-check.  Allow running interactively.\n\t(flymake-start-syntax-check): Obsolete alias for\n\tflymake-proc-legacy-flymake.\n\t(flymake-proc-start-syntax-check): Delete.\n\t(flymake-diagnostic-functions): Include flymake-proc-legacy-flymake\n\t(flymake-proc--process-sentinel): Keep output buffer alive.\n\tClarify with comments.\n\t(flymake-proc--diagnostics-for-pattern)\n\t(flymake-proc--process-sentinel)\n\t(flymake-proc--safe-delete-directory)\n\t(flymake-proc--start-syntax-check-process): Use condition-case-unless-debug.\n\n2017-10-03  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tSimplify Flymake logging and erroring\n\n\tUse display-warning and a dedicated *Flymake log* buffer.\n\n\tTo ease readability, flymake log messages are now prefixed with a\n\tcommon prefix and the buffer that originated them.\n\n\tSome situations of over-zealous logging are fixed.\n\n\tUse byte-compiler info, if available, to determine whence the\n\tflymake-related log message is coming.\n\n\t* lisp/progmodes/flymake-proc.el\n\t(flymake-proc--diagnostics-for-pattern): Improve log message.\n\t(flymake-proc--panic): Always flymake-log an error\n\t(flymake-proc--safe-delete-file)\n\t(flymake-proc--safe-delete-directory):\n\tDowngrade warning\n\t(flymake-proc-start-syntax-check): Simplify slightly.\n\t(flymake-proc--start-syntax-check-process): Simplify.\n\t(flymake-proc--init-find-buildfile-dir)\n\t(flymake-proc--init-create-temp-source-and-master-buffer-copy):\n\tNo need to warn twice.\n\n\t* lisp/progmodes/flymake.el (flymake-log): Convert to macro.\n\t(flymake--log-1): New helper.\n\t(flymake-log-level): Deprecate.\n\t(flymake-error): New helper.\n\t(flymake-ler-make-ler, flymake--handle-report, flymake-mode):\n\tUse flymake-error.\n\t(flymake-on-timer-event)\n\t(flymake--handle-report, flymake--disable-backend)\n\t(flymake--run-backend, flymake-start, flymake-mode-on)\n\t(flymake-mode-off, flymake-after-change-function)\n\t(flymake-after-save-hook, flymake-find-file-hook): Adjust\n\tflymake-log calls.\n\n\t* test/lisp/progmodes/flymake-tests.el\n\t(flymake-tests--call-with-fixture): Only log errors.\n\n2017-10-03  Philipp Stephani  <phst@google.com>\n\n\tWork around deprecation of gtk_style_context_get_background_color\n\n\t* src/gtkutil.c (xg_check_special_colors): Replace call to\n\tgtk_style_context_get_background_color with its definition.\n\n2017-10-03  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tNew Flymake API variable flymake-diagnostic-functions\n\n\tLay groundwork for multiple active backends in the same buffer.\n\n\tBackends are lisp functions called when flymake-mode sees fit.  They\n\tare responsible for examining the current buffer and telling\n\tflymake.el, via return value, if they can syntax check it.\n\tBackends should return quickly and inexpensively, but they are also\n\tpassed a REPORT-FN argument which they may or may not call\n\tasynchronously after performing more expensive work.\n\n\tREPORT-FN's calling convention stipulates that a backend calls it with\n\ta list of diagnostics as argument, or, alternatively, with a symbol\n\tdenoting an exceptional situation, usually some panic resulting from a\n\tmisconfigured backend.  In keeping with legacy behavior,\n\tflymake.el's response to a panic is to disable the issuing backend.\n\n\tThe flymake--diag object representing a diagnostic now also keeps\n\tinformation about its source backend.  Among other uses, this allows\n\tflymake to selectively cleanup overlays based on which backend is\n\tupdating its diagnostics.\n\n\t* lisp/progmodes/flymake-proc.el (flymake-proc--report-fn):\n\tNew dynamic variable.\n\t(flymake-proc--process): New variable.\n\t(flymake-can-syntax-check-buffer): Remove.\n\t(flymake-proc--process-sentinel): Simplify.  Use\n\tunwind-protect.  Affect flymake-proc--processes here.\n\tBind flymake-proc--report-fn.\n\t(flymake-proc--process-filter): Bind flymake-proc--report-fn.\n\t(flymake-proc--post-syntax-check): Delete\n\t(flymake-proc-start-syntax-check): Take mandatory\n\treport-fn.  Rewrite.  Bind flymake-proc--report-fn.\n\t(flymake-proc--process-sentinel): Rewrite and simplify.\n\t(flymake-proc--panic): New helper.\n\t(flymake-proc--start-syntax-check-process): Record report-fn\n\tin process.  Use flymake-proc--panic.\n\t(flymake-proc-stop-all-syntax-checks): Use mapc.  Don't affect\n\tflymake-proc--processes here.  Record interruption reason.\n\t(flymake-proc--init-find-buildfile-dir)\n\t(flymake-proc--init-create-temp-source-and-master-buffer-copy):\n\tUse flymake-proc--panic.\n\t(flymake-diagnostic-functions): Add\n\tflymake-proc-start-syntax-check.\n\t(flymake-proc-compile): Call\n\tflymake-proc-stop-all-syntax-checks with a reason.\n\n\t* lisp/progmodes/flymake.el (flymake-backends): Delete.\n\t(flymake-check-was-interrupted): Delete.\n\t(flymake--diag): Add backend slot.\n\t(flymake-delete-own-overlays): Take optional filter arg.\n\t(flymake-diagnostic-functions): New user-visible variable.\n\t(flymake--running-backends, flymake--disabled-backends): New\n\tbuffer-local variables.\n\t(flymake-is-running): Now a function, not a variable.\n\t(flymake-mode-line, flymake-mode-line-e-w)\n\t(flymake-mode-line-status): Delete.\n\t(flymake-lighter):  flymake's minor-mode \"lighter\".\n\t(flymake-report): Delete.\n\t(flymake--backend): Delete.\n\t(flymake--can-syntax-check-buffer): Delete.\n\t(flymake--handle-report, flymake--disable-backend)\n\t(flymake--run-backend, flymake--run-backend):  New helpers.\n\t(flymake-make-report-fn): Make a lambda.\n\t(flymake--start-syntax-check): Iterate\n\tflymake-diagnostic-functions.\n\t(flymake-mode): Use flymake-lighter.  Simplify.  Initialize\n\tflymake--running-backends and flymake--disabled-backends.\n\t(flymake-find-file-hook): Simplify.\n\n\t* test/lisp/progmodes/flymake-tests.el\n\t(flymake-tests--call-with-fixture): Use flymake-is-running the\n\tfunction.  Check if flymake-mode already active before activating it.\n\tAdd a thorough test for flymake multiple backends\n\n\t* lisp/progmodes/flymake.el (flymake--start-syntax-check):\n\tDon't use condition-case-unless-debug, use condition-case\n\n\t* test/lisp/progmodes/flymake-tests.el\n\t(flymake-tests--assert-set): New helper macro.\n\t(dummy-backends): New test.\n\n2017-10-03  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tMore Flymake cleanup before advancing to backend redesign\n\n\tDiagnostics are reported for buffers, not necessarily files.  It\u2019s the\n\tbackend\u2019s responsibility to compute the buffer where the diagnostic is\n\tapplicable.  For now, this has to match the buffer where flymake-mode\n\tis active and which is at the origin of the backend call.\n\n\tflymake.el knows nothing about line/column diagnostics (except for\n\tbackward-compatible flymake-ler-make-ler, which must yet be tested).\n\tIt\u2019s also the backend\u2019s reponsibility to compute a BEG and END\n\tpositions for the diagnostic in the relevant buffer.\n\n\t* lisp/progmodes/flymake-proc.el\n\t(flymake-proc--diagnostics-for-pattern): Convert LINE/COL to\n\tregion here.  Check file buffer here.\n\t(flymake-proc--process-sentinel): Don\u2019t kill output buffer if\n\thigh enough log level.\n\n\t* lisp/progmodes/flymake.el (flymake-diag-region): Make this a utility\n\tfunction.  (flymake--highlight-line): Diagnostic has region now.\n\t(flymake-popup-current-error-menu): Don\u2019t add file and line numbers to\n\talready this silly menu.  (flymake--fix-line-numbers): Remove.\n\t(flymake-report): No need to fix diagnostics here.\n\n2017-10-03  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tProtect Flymake's eager checks against commands like fill-paragraph\n\n\tIf flymake-start-syntax-check-on-newline is t, check should start as\n\tsoon as a newline is seen by after-change-functions.  But don't rush\n\tit: since the buffer state might not be final, we might end up with\n\tinvalid diagnostic regions after some commands silently insert and\n\tdelete newlines (looking at you, fill-paragraph).\n\n\t* lisp/progmodes/flymake.el (flymake-after-change-function): Pass\n\t`deferred' to flymake--start-syntax-check.\n\t(flymake--start-syntax-check): Take optional `deferred' arg.\n\n2017-10-03  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tFlymake highlights GCC info/notes as detected by flymake-proc.el\n\n\t* lisp/progmodes/flymake-proc.el\n\t(flymake-proc--diagnostics-for-pattern): Rewrite (using cl-loop) to\n\thonour more sophisticated flymake-proc-diagnostic-type-pred.\n\t(flymake-warning-re): Is now an obsolete alias for\n\tflymake-proc-diagnostic-type-pred.\n\t(flymake-proc-diagnostic-type-pred): Rename and augment from\n\tflymake-proc-warning-predicate.  (flymake-proc-warning-predicate):\n\tDelete.\n\n\t* lisp/progmodes/flymake.el (flymake-note): New face.\n\t(flymake-diagnostic-types-alist): Simplify.\n\t(flymake-note): New overlay category.\n\t(flymake--lookup-type-property): Only lookup single keys, not lists.\n\t(flymake--diag-errorp): Rewrite.\n\t(flymake--highlight-line): Use flymake--lookup-type-property.\n\n\t* test/lisp/progmodes/flymake-tests.el\n\t(different-diagnostic-types): Rename from errors-and-warnings.\n\tCheck notes.\n\t(flymake-tests--call-with-fixture): Use\n\tflymake-proc-diagnostic-type-pred.\n\n2017-10-03  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tFlymake checks file names before considering diagnostics\n\n\tThe error patterns for gcc picked up errors for the Makefile itself,\n\tfor example.  These shouldn't count as actual errors.\n\n\t* lisp/progmodes/flymake.el (flymake-report): Check\n\tmatching file names.\n\n2017-10-03  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tEcho Flymake error messages when navigating errors interactively\n\n\tPerhaps binding M-n and M-p to flymake-goto-next-error and\n\tflymake-goto-prev-error also wouldn't be a bad idea.\n\n\t* lisp/progmodes/flymake.el (flymake-goto-next-error): Use\n\ttarget overlay's help-echo.\n\n2017-10-03  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tAdd a new Flymake test for multiple errors and warnings\n\n\t* test/lisp/progmodes/flymake-tests.el\n\t(flymake-tests--call-with-fixture): Save excursion.\n\t(errors-and-warnings): New test.\n\n\t* test/lisp/progmodes/flymake-resources/errors-and-warnings.c:\n\tNew test fixture.\n\n2017-10-03  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tFlymake warning face easier to distinguish\n\n\tA orange wavy underline is very hard to tell from a red wavy\n\tunderline.\n\n\t* lisp/progmodes/flymake.el (flymake-warning): Change color to\n\t\"deep sky blue\"\n\n2017-10-03  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tFlymake's flymake-proc.el parses column numbers from gcc/javac errors\n\n\tColumn numbers are not a great way of marking diagnostic regions, but\n\tthat's probably all that can be expected from the flymake-proc.el\n\tbackend.  For now, try (end-of-thing 'sexp) to discover the\n\tdiagnostic's end position.\n\n\t* lisp/progmodes/flymake-proc.el ()\n\t(flymake-proc-err-line-patterns): Also parse column numbers,\n\tif available, for gcc/javac warnings.\n\n2017-10-03  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tNew Flymake variable flymake-diagnostic-types-alist and much cleanup\n\n\tA new user-visible variable is introduced where different diagnostic\n\ttypes can be categorized.  Flymake backends can also contribute to\n\tthis variable.  Anything that doesn\u2019t match an existing error type\n\tis considered.\n\n\tThe variable\u2019s alists are used to propertize the overlays pertaining\n\tto each error type.  The user can override the built-in properties by\n\teither by modifying the alist, or by modifying the properties of a\n\tspecial \"category\" symbol, named by the `flymake-category' entry in\n\tthe alist.\n\n\tThe `flymake-category' entry is especially useful for, say, the author\n\tof foo-flymake-backend, who issues diagnostics of type :foo-note, that\n\tshould behave like notes, except with no fringe bitmap:\n\n\t   (add-to-list 'flymake-diagnostic-types-alist\n\t                '(:foo-note\n\t                  . ((flymake-category . flymake-note)\n\t                     (bitmap . nil))))\n\n\tFor essential properties like `severity', `priority', etc, a default\n\tvalue is produced.  Some properties like `evaporate' cannot be\n\toverriden.\n\n\t* lisp/progmodes/flymake.el (flymake--diag): Rename from\n\tflymake-ler.\n\t(flymake-ler-make): Obsolete alias for flymake-diagnostic-make\n\t(flymake-ler-errorp): Rewrite using flymake--severity.\n\t(flymake--place-overlay): Delete.\n\t(flymake--overlays): Now a cl-defun with &key args.  Document.\n\tUse `overlays-at' if BEG is non-nil and END is nil.\n\t(flymake--lookup-type-property): New helper.\n\t(flymake--highlight-line): Rewrite.\n\t(flymake-diagnostic-types-alist): New API variable.\n\t(flymake--diag-region)\n\t(flymake--severity, flymake--face)\n\t(flymake--fringe-overlay-spec): New helper.\n\t(flymake-popup-current-error-menu): Use new flymake-overlays.\n\t(flymake-popup-current-error-menu, flymake-report): Use\n\tflymake--diag-errorp.\n\t(flymake--fix-line-numbers): Use flymake--diag-line.\n\t(flymake-goto-next-error): Pass :key to flymake-overlays\n\n\t* lisp/progmodes/flymake-proc.el\n\t(flymake-proc--diagnostics-for-pattern): Use flymake-diagnostic-make.\n\n2017-10-03  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tRefactor Flymake tests in preparation for more tests\n\n\tIntroduce a slightly more generic fixture macro.\n\n\tAlso make flymake-tests.el friendlier to interactive runs, by not\n\tkilling buffers visited by the user.\n\n\t* test/lisp/progmodes/flymake-tests.el\n\t(flymake-tests--call-with-fixture): New helper from\n\tflymake-tests--current-face.  Don't kill file buffers already\n\tbeing visited before the test starts.\n\t(flymake-tests--with-flymake): New macro.\n\t(flymake-tests--current-face): Delete.\n\t(warning-predicate-rx-gcc, warning-predicate-function-gcc)\n\t(warning-predicate-rx-perl, warning-predicate-function-perl):\n\tUse flymake-test--with-flymake.\n\n2017-10-03  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tAllow running Flymake tests from interactive sessions\n\n\t* test/lisp/progmodes/flymake-tests.el (flymake-tests-data-directory):\n\tExpand to reasonable value if no\n\tEMACS_TEST_DIRECTORY. (flymake-tests--current-face): Work around\n\t\"weirdness\" of bug 17647 with read-event.\n\n2017-10-03  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tFlymake diagnostics now apply to arbitrary buffer regions\n\n\tMake Flymake UI some 150 lines lighter\n\n\tStrip away much of the original implementation's complexity in\n\tmanipulating objects representing diagnostics as well as creating and\n\tnavigating overlays.\n\n\tLay some groundwork for a more flexible approach that allows for\n\tdifferent classes of diagnostics, not necessarily line-based.\n\tImportantly, one overlay per diagnostic is created, whereas the\n\toriginal implementation had one per line, and on it it concatenated\n\tthe results of errors and warnings.\n\n\tThis means that currently, an error and warning on the same line are\n\tproblematic and the warning might be overlooked but this will soon be\n\tfixed by setting appropriate priorities.\n\n\tSince diagnostics can highlight arbitrary regions, not just lines, the\n\tfaces were renamed.\n\n\tTests pass and backward compatibility with interactive functions is\n\tmaintained, but probably any third-party extension or customization\n\trelying on more than a trivial set of flymake.el internals has stopped\n\tworking.\n\n\t* lisp/progmodes/flymake-proc.el\n\t(flymake-proc--diagnostics-for-pattern): Use new flymake-ler-make\n\tconstructor syntax.\n\n\t* lisp/progmodes/flymake.el (flymake-ins-after)\n\t(flymake-set-at, flymake-er-make-er, flymake-er-get-line)\n\t(flymake-er-get-line-err-info-list, flymake-ler-set-file)\n\t(flymake-ler-set-full-file, flymake-ler-set-line)\n\t(flymake-get-line-err-count, flymake-get-err-count)\n\t(flymake-highlight-err-lines, flymake-overlay-p)\n\t(flymake-make-overlay, flymake-region-has-flymake-overlays)\n\t(flymake-find-err-info)\n\t(flymake-line-err-info-is-less-or-equal)\n\t(flymake-add-line-err-info, flymake-add-err-info)\n\t(flymake-get-first-err-line-no)\n\t(flymake-get-last-err-line-no, flymake-get-next-err-line-no)\n\t(flymake-get-prev-err-line-no, flymake-skip-whitespace)\n\t(flymake-goto-line, flymake-goto-next-error)\n\t(flymake-goto-prev-error, flymake-patch-err-text): Delete\n\tfunctions no longer used.\n\t(flymake-goto-next-error, flymake-goto-prev-error): Rewrite.\n\t(flymake-report): Rewrite.\n\t(flymake-popup-current-error-menu): Rewrite.\n\t(flymake--highlight-line): Rename from\n\tflymake-highlight-line.  Call `flymake--place-overlay.\n\t(flymake--place-overlay): New function.\n\t(flymake-ler-errorp): New predicate.\n\t(flymake-ler): Simplify.\n\t(flymake-error): Rename from\n\tflymake-errline.\n\t(flymake-warning): Rename from flymake-warnline.\n\t(flymake-warnline, flymake-errline): Obsoletion aliases.\n\n\t* test/lisp/progmodes/flymake-tests.el (warning-predicate-rx-gcc)\n\t(warning-predicate-function-gcc, warning-predicate-rx-perl)\n\t(warning-predicate-function-perl): Use face `flymake-warning'.\n\n2017-10-03  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tMove symbols in flymake-proc.el to separate namespace\n\n\tEvery symbol in this flymake now starts with the prefix flymake-proc-.\n\n\tMake obsolete aliases for (almost?) every symbol.\n\n\tFurthermore, many flymake-proc.el symbols are prefixed with\n\t\"flymake-proc--\", that is they were considered internal.\n\n\tSome customization variables, interactive functions, and other symbols\n\tconsidered useful to user customizations or third-party libraries are\n\tconsidered \"public\" or \"external\" and so use a \"flymake-proc-\" prefix.\n\n\t* lisp/progmodes/flymake-proc.el: Every symbol renamed.\n\n\t* test/lisp/progmodes/flymake-tests.el\n\t(flymake-tests--current-face): Use\n\tflymake-proc-warning-predicate, not flymake-warning-predicate.\n\n\t* lisp/progmodes/flymake-proc.el\n\t(flymake-proc--get-project-include-dirs-function)\n\t(flymake-proc--get-project-include-dirs-imp)\n\t(flymake-proc--get-include-dirs-dot) (flymake-proc--get-tex-args)\n\t(flymake-proc--find-make-buildfile)\n\t(flymake-proc--get-syntax-check-program-args)\n\t(flymake-proc--init-create-temp-source-and-master-buffer-copy)\n\t(flymake-proc--init-find-buildfile-dir)\n\t(flymake-proc--get-full-nonpatched-file-name)\n\t(flymake-proc--get-full-patched-file-name) (flymake-proc--base-dir,\n\tflymake-proc--temp-master-file-name) (flymake-proc--master-file-name)\n\t(flymake-proc--temp-source-file-name)\n\t(flymake-proc--delete-temp-directory) (flymake-proc--kill-process)\n\t(flymake-proc--start-syntax-check-process)\n\t(flymake-proc--compilation-is-running)\n\t(flymake-proc--safe-delete-directory) (flymake-proc--safe-delete-file)\n\t(flymake-proc--get-program-dir) (flymake-proc--restore-formatting)\n\t(flymake-proc--clear-project-include-dirs-cache)\n\t(flymake-proc--project-include-dirs-cache)\n\t(flymake-proc--get-system-include-dirs)\n\t(flymake-proc--get-project-include-dirs)\n\t(flymake-proc--add-project-include-dirs-to-cache)\n\t(flymake-proc--get-project-include-dirs-from-cache)\n\t(flymake-proc--post-syntax-check) (flymake-proc--process-sentinel)\n\t(flymake-proc--process-filter) (flymake-proc--create-master-file)\n\t(flymake-proc--find-buffer-for-file)\n\t(flymake-proc--copy-buffer-to-temp-buffer)\n\t(flymake-proc--read-file-to-temp-buffer)\n\t(flymake-proc--save-buffer-in-file) (flymake-proc--replace-region,\n\tflymake-proc--check-include)\n\t(flymake-proc--check-patch-master-file-buffer)\n\t(flymake-proc--master-file-compare)\n\t(flymake-proc--find-possible-master-files)\n\t(flymake-proc--included-file-name, flymake-proc--same-files)\n\t(flymake-proc--fix-file-name, flymake-proc--find-buildfile)\n\t(flymake-proc--clear-buildfile-cache)\n\t(flymake-proc--add-buildfile-to-cache)\n\t(flymake-proc--get-buildfile-from-cache)\n\t(flymake-proc--find-buildfile-cache)\n\t(flymake-proc--get-real-file-name-function)\n\t(flymake-proc--get-cleanup-function) (flymake-proc--get-init-function)\n\t(flymake-proc--get-file-name-mode-and-masks)\n\t(flymake-proc--processes): Rename to internal symbol from\n\tflymake-proc- version.\n\n2017-10-03  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tCompletely rewrite Flymake's subprocess output processing\n\n\tInstead of parsing and matching regexps line-by-line, insert\n\tsubprocess output in a separate buffer and parse using\n\t`search-forward-regexp'.  This eventually enables multi-line error\n\tpatterns and simplifies code all around.  Store per-check information\n\tin the subprocess using `process-get' and `process-put'.  Treat error\n\tmessages, warnings, etc. more generically as \"diagnostics\".  Create\n\tthese objects as soon as possible, reusing existing `flymake-ler'\n\tstructure.  Fix some whitespace.\n\n\t* lisp/progmodes/flymake.el (cl-lib): Require also when\n\tloading.\n\t(flymake--fix-line-numbers): Rename from\n\tflymake-fix-line-numbers.  Simplify.\n\t(flymake-report): Call flymake--fix-line-numbers.  Rearrange\n\tplain diagnostics list into alist format expected by\n\tflymake-highlight-err-lines.\n\n\t* lisp/progmodes/flymake-proc.el (flymake-process-filter): Insert\n\tprocess output and parse in dedicated output buffer.\n\t(flymake-proc--diagnostics-for-pattern): New helper function.\n\t(flymake-process-sentinel): Call flymake-post-syntax-check with\n\tcollected diagnostics.  Kill output buffer.\n\t(flymake-post-syntax-check): Receive diagnostics as third argument.\n\t(flymake-parse-output-and-residual, flymake-new-err-info)\n\t(flymake-parse-residual, flymake-parse-err-lines)\n\t(flymake-split-output, flymake-proc-parse-line)\n\t(flymake-output-residual): Delete.\n\t(flymake-start-syntax-check-process): Use make-process.\t Setup\n\tdedicated an output buffer\n\n2017-10-03  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tFlymake provides flymake-report re-entry point for backends\n\n\t* lisp/progmodes/flymake-proc.el (flymake-post-syntax-check):\n\tSimplify.  Call flymake-report.\n\n\t* lisp/progmodes/flymake.el (flymake-report): New function.\n\n2017-10-03  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tSplit Flymake into flymake.el into flymake-proc.el (again!)\n\n\tAfter deciding that this work would continue on master only, which\n\tcaused two commits named\n\n\t   Revert \"Split flymake.el into flymake-proc.el and flymake-ui.el\"\n\n\tand\n\n\t   Revert \"Add flymake-backends defcustom\"\n\n\tto be added to the emacs-26 branch, further discussion reversed that\n\tdecision.\n\n\t   See:\n\n\t     https://lists.gnu.org/r/emacs-devel/2017-09/msg01020.html\n\t     https://lists.gnu.org/r/emacs-devel/2017-09/msg01030.html\n\n\tThis means that those two commits MUST be merged to master AFTER ALL.\n\n\tflymke-proc.el contains the main syntax-checking backend, while\n\tflymake.el keeps mostly the UI part.\n\n\t* lisp/progmodes/flymake-proc.el: New file.  Require flymake.\n\n\t* lisp/progmodes/flymake.el: Require flymake-proc.el at the end.\n\n2017-10-03  Nicolas Petton  <nicolas@petton.fr>\n\n\tUpdate authors.el\n\n\t* admin/authors.el (authors-ignored-files, authors-valid-file-names)\n\t(authors-renamed-files-alist): Additions.\n\n2017-10-03  Noam Postavsky  <npostavs@gmail.com>\n\n\tGive more helpful messages for python completion setup failures\n\n\t* lisp/progmodes/python.el (python-shell-completion-native-setup): In\n\tcase the completion setup failed with some exception, print out the\n\texception type and message.  If libedit is detected, raise an\n\texception, since this is known to fail.\n\n2017-10-02  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix the --without-x build\n\n\t* src/frame.c (Ficonify_frame) [HAVE_WINDOW_SYSTEM]: Use\n\tframe_parent only in GUI builds to avoid compilation errors in\n\t--without-x builds.  (Bug#28611)\n\n2017-10-02  Paul Eggert  <eggert@day>\n\n\tFix customization of zoneinfo-style-world-list\n\n\tA customizable variable's initial value cannot depend on that of\n\tanother customizable variable, since the variables are initialized\n\tin other than textual order.  Problem reported by N. Jackson\n\t(Bug#24291).\n\t* lisp/time.el (display-time-world-list): Default to t,\n\ta special value that expands to zoneinfo-style-word-list\n\tif that works, and to legacy-style-word-list otherwise.\n\t(time--display-world-list): New function.\n\t(display-time-world, display-time-world-timer): Use it.\n\n2017-10-02  Alan Mackenzie  <acm@muc.de>\n\n\tFix a CC Mode brace stack cache bug.\n\n\t* lisp/progmodes/cc-engine.el (c-update-brace-stack): Call\n\tc-beginning-of-current-token after a failing search operation, to ensure we\n\tdon't cache a point inside a token.\n\n2017-10-02  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* etc/PROBLEMS: Document Bug#26638.\n\n2017-10-02  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPrefer HTTPS to HTTP for gnu.org\n\n\tThis fixes some URLs I omitted from my previous pass,\n\tnotably those in lists.gnu.org.  Although lists.gnu.org\n\tdoes not yet support TLS 1.1, TLS 1.0 is better than nothing.\n\t* lisp/erc/erc.el (erc-official-location):\n\t* lisp/mail/emacsbug.el (report-emacs-bug):\n\tUse https:, not http:.\n\n2017-10-02  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from Gnulib\n\n\tThis is mostly to change http: to https: in licenses.\n\t* COPYING, build-aux/config.guess, build-aux/config.sub:\n\t* doc/emacs/doclicense.texi, doc/emacs/gpl.texi:\n\t* doc/lispintro/doclicense.texi, doc/lispref/doclicense.texi:\n\t* doc/lispref/gpl.texi, doc/misc/doclicense.texi:\n\t* doc/misc/gpl.texi, etc/COPYING, leim/COPYING:\n\t* lib-src/COPYING, lib/COPYING, lisp/COPYING, lwlib/COPYING:\n\t* msdos/COPYING, nt/COPYING, src/COPYING:\n\tCopy from Gnulib.\n\n2017-10-01  Simen Heggest\u00f8yl  <simenheg@gmail.com>\n\n\tKeep eww buffer current when looking up CSS on MDN\n\n\t* lisp/textmodes/css-mode.el (css-lookup-symbol): Keep the eww buffer\n\tcurrent when looking up CSS documentation on MDN.  This fixes a bug\n\twhere the eww buffer's content sometimes get mangled when switching\n\tbuffers mid-render.\n\n2017-10-01  Charles A. Roelli  <charles@aurox.ch>\n\n\tWorkaround for faulty localtime() under macOS 10.6\n\n\t* lisp/org/org-clock.el (org-clock--oldest-date): Only execute\n\t'decode-time' on times later than year -2**31 under macOS 10.6.\n\tSee Bug#27706.\n\n2017-10-01  Alan Mackenzie  <acm@muc.de>\n\n\tDoc amendment for syntax-ppss.\n\n\t* doc/lispref/syntax.texi (Position Parse): Note, twice, that syntax-ppss is\n\tequivalent to parse-partial-sexp from the beginning of THE VISIBLE PART OF the\n\tbuffer.  Final part of the fix for bug #22983.\n\n2017-10-01  Charles A. Roelli  <charles@aurox.ch>\n\n\tRemove incorrect NEWS entry about 'find-library'\n\n\t* etc/NEWS (Changes in Emacs 26.1): Remove an entry about\n\t'find-library' taking a prefix argument to pop to a different\n\twindow.  This behavior was added in \"Allow a prefix argument to\n\tfind-library to pop to a different window\" (commit e1f2d14a), and\n\tthen removed in \"New commands: find-library-other-window,\n\tfind-library-other-frame\" (commit 021430f4).\n\n2017-10-01  Alan Mackenzie  <acm@muc.de>\n\n\tRemove inadvertent changes to syntax.texi in last commit.\n\n\t* doc/lispref/syntax.texi (Position Parse): revert changes.\n\n2017-10-01  Alan Mackenzie  <acm@muc.de>\n\n\tAmend documentation for text-quoting-style becoming a user option.\n\n\t* doc/lispref/control.texi (Signaling Errors):\n\t* doc/lispref/display.texi (Displaying Messages):\n\t* doc/lispref/strings.texi (Formatting Strings):\n\tEdit for brevity, farming out the details to the new\n\tText Quoting Style node.\n\t* doc/lispref/help.texi (Text Quoting Style): New section.\n\tMove detailed discussion of text-quoting-style here.\n\tAdd discussion about how to output grave accent and apostrophe in\n\tdocumentation and messages.  Adjust xrefs to point to this section\n\twhen appropriate.\n\t* etc/NEWS: text-quoting-style semantics have not changed.\n\n2017-10-01  Alan Mackenzie  <acm@muc.de>\n\n\tMake the value nil in text-quoting-style mean what it does in Emacs 25.\n\n\tThis is a partial reversion of yesterday's commit by the same author, which\n\tchanged the meaning of nil and introduced the new value t.\n\n\t* src/doc.c (text_quoting_style, text-quoting-style)\n\t(internal--text-quoting-flag): Revert yesterday's changes.\n\n\t* lisp/cus-start.el: (top level): Amend the entry for text-quoting-style.\n\n\t* etc/NEWS: Amend the entry for text-quoting-style.\n\n\t* doc/lispref/control.texi (Signalling Errors)\n\t* doc/lispref/display.texi (Displaying Messages)\n\t* doc/lispref/strings.texi (Formatting Strings): Bind text-quoting-style to\n\tgrave rather than nil to inhibit translation of quotes.\n\n\t* doc/lispref/help.texi (Keys in Documentation): Revert the description of the\n\tproposed new default, t.\n\n2017-10-01  Alan Mackenzie  <acm@muc.de>\n\n\tMake text-quoting-style customizable.  Introduce t and new meaning for nil.\n\n\tA value of nil for text-quoting-style now means \"no translation\".  t means\n\t\"Use curved quotes if displayable\".\n\n\t* src/doc.c (text-quoting-style (function)): modify for new semantics.\n\t(text-quoting-style (variable)): Amend the doc string, set the default value\n\tto t.\n\n\t* lisp/cus-start.el: (top level): Create a customize entry for\n\ttext-quoting-style in group display.\n\n\t* etc/NEWS: Amend the entry for text-quoting-style.\n\n\t* doc/emacs/display.texi (Text Display): Describe the translation of ASCII\n\tquotes to curved quotes, and how to influence or inhibit it.\n\n\t* doc/lispref/control.texi (Signalling Errors)\n\t* doc/lispref/display.texi (Displaying Messages)\n\t* doc/lispref/strings.texi (Formatting Strings): Describe binding\n\ttext-quoting-style to nil to inhibit unwanted quote translation.\n\n\t* doc/lispref/help.texi (Keys in Documentation): Change text-quoting-style\n\tfrom a variable to a user option.  Describe its changed set of values.  State\n\tthat it can be customized freely.\n\n2017-10-01  Michael Albinus  <michael.albinus@gmx.de>\n\n\teshell.texi improvements\n\n\t* doc/misc/eshell.texi (Built-ins): eshell/sudo is a compiled\n\tLisp function in `em-tramp.el'.  Mention also $*, $1, $2, ...\n\t(Aliases): Add $*, $1, $2, ... to the variable index.\n\n2017-08-15  Alan Third  <alan@breton-build.holly.idiocy.org>\n\n\tFix ns-win.el on GNUstep\n\n\t* lisp/term/ns-win.el: Appkit version check only works on macOS, so\n\tdon't try it when not using Cocoa.\n\n2017-10-01  Martin Rudalics  <rudalics@gmx.at>\n\n\tFix reference style in org.texi\n\n\t* doc/misc/org.texi (A Texinfo example): Fix reference style.\n\n2017-10-01  Martin Rudalics  <rudalics@gmx.at>\n\n\tImprove handling of iconification of child frames (Bug#28611)\n\n\t* src/frame.c (Ficonify_frame): Handle `iconify-child-frame' option.\n\t(syms_of_frame): New symbols Qiconify_top_level and Qmake_invisible.\n\t(iconify_child_frame): New option.\n\t* lisp/cus-start.el (iconify-child-frame): Add customization\n\tproperties.\n\t* doc/lispref/frames.texi (Child Frames): Describe new option\n\t`iconify-child-frame'.  Don't index \"top-level frame\" twice.\n\n2017-10-01  Noam Postavsky  <npostavs@gmail.com>\n\n\tRevert \"Don't lose arguments to eshell aliases (Bug#27954)\"\n\n\tIt broke the established argument handling methods provided by eshell\n\taliases (Bug#28568).\n\t* doc/misc/eshell.texi (Aliases): Fix example, call out use of\n\targuments in aliases.\n\t* lisp/eshell/em-alias.el (eshell-maybe-replace-by-alias): Ignore\n\tARGS.\n\n2017-10-01  Noam Postavsky  <npostavs@gmail.com>\n\n\tMake \"unsafe directory\" error message more informative (Bug#865)\n\n\t* lisp/server.el (server-ensure-safe-dir): Produce a description for\n\teach \"unsafe\" condition.\n\n2017-10-01  Eric Abrahamsen  <eric@ericabrahamsen.net>\n\n\tFix slot typecheck in eieio-persistent\n\n\t* lisp/emacs-lisp/eieio-base.el (eieio-persistent-slot-type-is-class-p):\n\t  An `or' form can specify multiple potential classes (or null) as\n\t  valid types for a slot, but previously only the final element of the\n\t  `or' was actually checked. Now returns all valid classes in the `or'\n\t  form.\n\t  (eieio-persistent-validate/fix-slot-value): Check if proposed value\n\t  matches any of the valid classes.\n\t* test/lisp/emacs-lisp/eieio-tests/eieio-test-persist.el\n\t  (eieio-test-multiple-class-slot): Test this behavior.\n\n2017-09-30  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tFix semantic-ia-fast-jump\n\n\t* lisp/cedet/semantic/ia.el (semantic-ia--fast-jump-helper):\n\tUse `pop-to-buffer-same-window' (bug#28645).\n\n2017-09-30  Kaushal Modi  <kaushal.modi@gmail.com>\n\n\tBind vc-region-history\n\n\t* lisp/vc/vc-hooks.el (vc-prefix-map):\n\tBind `vc-region-history' to 'C-x v h', which was earlier bound to\n\t`vc-insert-headers' (Bug#27644).\n\t* doc/emacs/maintaining.texi (VC Change Log): Mention the new binding.\n\t* doc/emacs/vc1-xtra.texi (Version Headers): Remove the association of\n\t'C-x v h' with `vc-insert-headers'.\n\t(https://lists.gnu.org/r/emacs-devel/2017-09/msg00957.html)\n\n2017-09-30  Allen Li  <vianchielfaura@gmail.com>  (tiny change)\n\n\tExit macro definition on undefined keys\n\n\t* lisp/subr.el (undefined): Error out of kmacro definition, if any.\n\t(Bug#28008)\n\n2017-09-30  Tim Landscheidt  <tim@tim-landscheidt.de>  (tiny change)\n\n\tReset bidi-paragraph-direction on article rendering\n\n\t* lisp/gnus/gnus-art.el (gnus-request-article-this-buffer): Reset\n\tbidi-paragraph-direction on article rendering.  (Bug#28454)\n\n2017-09-30  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix url-http use of url-current-object\n\n\t* lisp/url/url-http.el (url-http): Bind url-current-object before\n\tcalling url-http-find-free-connection.  (Bug#28515)\n\n2017-09-30  Andy Moreton  <andrewjmoreton@gmail.com>\n\n\tAvoid assertions in vc-hg.el on MS-Windows\n\n\t* lisp/vc/vc-hg.el (vc-hg--pcre-to-elisp-re)\n\t(vc-hg--slurp-hgignore, vc-hg--read-repo-requirements)\n\t(vc-hg-state-fast): Use file-name-absolute-p and directory-name-p\n\tinstead of relying on Unix file-name syntax.  This avoids\n\tassertion violations on MS-Windows.\n\n2017-09-30  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of 'copy-sequence'\n\n\t* src/fns.c (Fcopy_sequence):\n\t* doc/lispref/sequences.texi (Sequence Functions): Mention the\n\texception when copying an empty sequence.  (Bug#28627)\n\n2017-09-30  Eli Zaretskii  <eliz@gnu.org>\n\n\tMinor update of ack.texi\n\n\t* doc/emacs/ack.texi (Acknowledgments): Update Eli Zaretskii's\n\tcontributions.\n\n2017-09-30  N. Jackson  <nljlistbox2@gmail.com>  (tiny change)\n\n\t* doc/emacs/emacs.texi (Acknowledgments): Add more contributors.\n\n2017-09-30  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove indexing of multi-file/buffer Isearch commands\n\n\t* doc/emacs/maintaining.texi (Identifier Search): Change wording\n\tof index entries to make them different from those for multi-file\n\tisearch commands.  (Bug#28584)\n\t* doc/emacs/search.texi (Other Repeating Search): Index the\n\tmulti-* commands.  (Bug#28584)  Rearrange the indexing to keep\n\teach index entry close to its subject.\n\n2017-09-30  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tAdd CAM02 JCh and CAM02-UCS J'a'b' conversions\n\n\t* src/lcms.c (rad2deg, parse_jch_list, parse_jab_list, xyz_to_jch):\n\t(jch_to_xyz, jch_to_jab, jab_to_jch): New functions.\n\t(lcms-jch->xyz, lcms-jch->xyz, lcms-jch->jab, lcms-jab->jch): New Lisp\n\tfunctions.\n\t(lcms-cam02-ucs): Refactor.\n\t(syms_of_lcms2): Declare new functions.\n\t* test/src/lcms-tests.el (lcms-roundtrip, lcms-ciecam02-gold):\n\t(lcms-jmh->cam02-ucs-silver): New tests.\n\t* etc/NEWS: Mention new functions.\n\n2017-09-30  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix uses of @kindex in the Emacs manual\n\n\t* doc/emacs/programs.texi (Expressions, Semantic, Hungry Delete):\n\t* doc/emacs/mark.texi (Global Mark Ring)\n\t(Disabled Transient Mark):\n\t* doc/emacs/buffers.texi (Select Buffer):\n\t* doc/emacs/mule.texi (File Name Coding): Fix @kindex entries\n\twhich used @key.  Reported by Marcin Borkowski <mbork@mbork.pl>.\n\n2017-09-30  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from gnulib\n\n\tThis incorporates:\n\t2017-09-28 string: code style\n\t2017-09-25 sys_types: update URL\n\t2017-09-23 install-sh: do not assume / = //\n\t2017-09-21 mktime: port to OpenVMS\n\t* build-aux/install-sh, m4/mktime.m4, m4/string_h.m4:\n\t* m4/sys_types_h.m4: Copy from Gnulib.\n\t* lib/gnulib.mk.in: Regenerate.\n\n2017-09-30  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPrefer HTTPS to HTTP for gnu.org\n\n\tThis catches some URLs I missed in my previous scan,\n\tor perhaps were added after the scan.\n\n2017-09-30  Noam Postavsky  <npostavs@gmail.com>\n\n\tWait for frame visibility with timeout in w32term too\n\n\t* src/w32term.c (syms_of_w32term) [x-wait-for-event-timeout]: New\n\tvariable.\n\t(x_make_frame_visible): Wait for frame to become visible according to\n\tits value.\n\t(input_signal_count): Remove.\n\n2017-09-30  Noam Postavsky  <npostavs@gmail.com>\n\n\tBring back the busy wait after x_make_frame_visible (Bug#25521)\n\n\tBut wait specfically for a MapNotify event, and only for a\n\tconfigurable amount of time.\n\t* src/xterm.c (syms_of_xterm) [x-wait-for-event-timeout]: New\n\tvariable.\n\t(x_wait_for_event): Use it instead of hardcoding the wait to 0.1s.\n\t(x_make_frame_visible): Call x_wait_for_event at the end.\n\t* etc/NEWS: Announce x_wait_for_event.\n\n2017-09-29  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix last doc string change in simple.el\n\n\t* lisp/simple.el (shell-command-saved-pos)\n\t(region-extract-function, region-bounds): Doc fixes.  (Bug#28609)\n\n2017-09-29  Eli Zaretskii  <eliz@gnu.org>\n\n\tRevert \"bug#28609: simple.el\"\n\n\tThis reverts commit a75ab3b3fb8ab69ef38a94403d061f88f3b5b63e.\n\n2017-09-29  Devon Sean McCullough  <Emacs-Hacker2017@jovi.net>\n\n\tbug#28609: simple.el\n\n\tCorrect grammar; also, call a pair a pair.\n\n\t(cherry picked from commit 25ef543a97a80718cc4eb33734d393420a43f41e)\n\n2017-09-29  Rasmus  <rasmus@gmx.us>\n\n\tMerge branch 'emacs-26' into scratch/org-mode-merge\n\n2017-09-29  Noam Postavsky  <npostavs@gmail.com>\n\n\tFix ert backtrace saving for non-`signal'ed errors (Bug#28333)\n\n\t* lisp/emacs-lisp/ert.el (ert--run-test-debugger): Take the frames\n\tabove the `debugger' frame, rather than assuming there will be a\n\t`signal' frame.\n\n2017-09-28  Alan Third  <alan@idiocy.org>\n\n\tRevert \"Fix build on macOS (bug#28571)\"\n\n\tThis reverts commit fec63089d53d2196b0348086aeed70277fbc02c0.\n\n\tPrematurely pushed.\n\n2017-09-28  Alan Third  <alan@idiocy.org>\n\n\tFix build on macOS (bug#28571)\n\n\t* src/conf_post.h (HAVE_FUTIMENS, HAVE_FUTIMESAT, HAVE_UTIMENSAT)\n\t[DARWIN_OS]: Undefine.\n\n2017-09-28  Simen Heggest\u00f8yl  <simenheg@gmail.com>\n\n\tAdd tests for `css-current-defun-name'\n\n\t* test/lisp/textmodes/css-mode-tests.el (css-test-current-defun-name)\n\t(css-test-current-defun-name-nested)\n\t(css-test-current-defun-name-complex): New tests for\n\t`css-current-defun-name'.\n\n2017-09-28  Martin Rudalics  <rudalics@gmx.at>\n\n\tIn w32fullscreen_hook don't add decorations to undecorated frames\n\n\t* src/w32term.c (w32fullscreen_hook): Do not add (or try to\n\tremove) decorations for undecorated frames.\n\n2017-09-28  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tRevert \"Split flymake.el into flymake-proc.el and flymake-ui.el\"\n\n\tIn other words, re-coalesce the two files,\n\tlisp/progmodes/flymake-proc.el and lisp/progmodes/flymake-ui.el, back\n\tinto a single one, lisp/progmodes/flymake.el.\n\n\tThe changesets \"Prefer HTTPS to FTP and HTTP in documentation\" and\n\t\"allow nil init in flymake-allowed-file-name-masks to disable flymake\"\n\tare kept in place in the new lisp/progmodes/flymake.el.\n\n\tThis reverts Git commit eb34f7f5a29e7bf62326ecb6e693f28878be28cd.\n\n\tDon't merge this back to master as development happening there builds\n\tupon this work. See also\n\thttps://lists.gnu.org/r/emacs-devel/2017-09/msg00932.html.\n\n2017-09-28  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tRevert \"Add flymake-backends defcustom\"\n\n\tThis reverts Git commit 13993c46a21495167517f76d2e36b6c09ac5e89e.\n\n\tDon't merge this back to master as development happening there builds\n\tupon this work. See also\n\thttps://lists.gnu.org/r/emacs-devel/2017-09/msg00932.html\n\n2017-09-27  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* src/editfns.c (styled_format): Fix typo in previous change.\n\n2017-09-27  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tAvoid some unnecessary copying in Fformat etc.\n\n\tThis patch is just for performance; it should not affect behavior.\n\tOn my platform, it made the microbenchmark (format \"%S\" load-path)\n\trun about 45% faster.  It should also speed up calls like (message\n\t\"%s\" STRING).\n\t* src/callint.c (Fcall_interactively):\n\t* src/dbusbind.c (XD_OBJECT_TO_STRING):\n\t* src/editfns.c (Fmessage, Fmessage_box):\n\t* src/xdisp.c (vadd_to_log, Ftrace_to_stderr):\n\tUse styled_format instead of Fformat or Fformat_message,\n\tto avoid unnecessary copying.\n\t* src/editfns.c (styled_format): New arg NEW_RESULT.\n\tAll uses changed.  Reuse an input string if it has the\n\tright value and if !NEW_RESULT.\n\t* src/lisp.h (style_format): New decl.\n\n2017-09-26  John Wiegley  <johnw@newartisans.com>\n\n\tlisp/simple.el: Indicate when a list of pairs is meant in a docstring\n\n2017-09-26  Devon Sean McCullough  <Emacs-Hacker2017@jovi.net>\n\n\tbug#28609: simple.el\n\n\tCorrect grammar; also, call a pair a pair.\n\n2017-09-26  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tUse a separate syntax-ppss cache for narrowed buffers\n\n\t* lisp/emacs-lisp/syntax.el (syntax-ppss-wide):\n\tNew variable, to contain the data from `syntax-ppss-last' and\n\t`syntax-ppss-cache'.\n\t(syntax-ppss-cache, syntax-ppss-last): Remove.\n\t(syntax-ppss-narrow, syntax-ppss-narrow-start): New variables.\n\t(syntax-ppss-flush-cache): Flush both caches.\n\t(syntax-ppss--data): Return the appropriate last result and\n\tbuffer cache for the current restriction.\n\t(syntax-ppss, syntax-ppss-debug): Use it (bug#22983).\n\n2017-09-26  Joerg Behrmann  <behrmann@physik.fu-berlin.de>  (tiny change)\n\n\tImprove python3-compatibility of fallback completion (Bug#28499)\n\n\t* lisp/progmodes/python.el (python-eldoc-setup-code): Use\n\tinspect.getfullargspec instead of inspect.getargspec to avoid a\n\tdeprecation warning on every usage of eldoc in python-mode.\n\n2017-09-26  Noam Postavsky  <npostavs@gmail.com>\n\n\tFix subr-x-tests when running from elc\n\n\t* test/lisp/emacs-lisp/subr-x-tests.el (subr-x-and-let*-test-group-1):\n\tUse `eval' around the `should-error' cases.\n\n2017-09-26  Noam Postavsky  <npostavs@gmail.com>\n\n\t* lisp/eshell/esh-util.el (eshell-condition-case): Add debug declaration.\n\n2017-09-26  Noam Postavsky  <npostavs@gmail.com>\n\n\tMake sh-indentation into an alias for sh-basic-offset (Bug#21751)\n\n\t* lisp/progmodes/sh-script.el (sh-indentation): Redefine as obsolete\n\tvariable alias for `sh-basic-offset'.\n\t(sh-mode, sh-smie--indent-continuation)\n\t(sh-smie-rc-rules, sh-basic-indent-line): Replace `sh-indentation'\n\twith `sh-basic-offset'.\n\n2017-09-26  Noam Postavsky  <npostavs@gmail.com>\n\n\tFix loading of smie-config rules (Bug#24848)\n\n\t* lisp/emacs-lisp/smie.el (smie-config--setter): Use `set-default'\n\tinstead of `setq-default'.\n\t(smie-config): Use `custom-initialize-set' instead of\n\t`custom-initialize-default' as the :initialize argument.\n\n\t* lisp/progmodes/sh-script.el (sh-learn-buffer-indent): Mention that\n\twe call `smie-config-guess' so that the user will have a chance to\n\tfind the correct docstring to consult.  Remove hedging comments\n\tregarding use of abnormal hooks.\n\n2017-09-26  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tReset default-directory inside *xref-grep* buffer\n\n\t* lisp/progmodes/xref.el (xref-collect-matches):\n\tReset default-directory, too. (Bug#28575)\n\n2017-09-25  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* test/lisp/net/tramp-tests.el (tramp-test21-file-links): Special\n\tcode for smb.\n\n2017-09-25  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tLoosen strict parsing requirement for desktop files\n\n\tThere are other desktop-looking files, for instance those having to do\n\twith MIME typess, that would benefit from being able to be read by this\n\tfunction.  It helps to have some flexibility.\n\t* lisp/xdg.el (xdg-desktop-read-file): Remove an error condition.\n\t* test/lisp/xdg-tests.el: Remove a test.\n\n2017-09-25  Mark Oteiza  <mvoteiza@udel.edu>\n\n\t* lisp/xdg.el (xdg-thumb-uri): Fix doc string.\n\n2017-09-25  Martin Rudalics  <rudalics@gmx.at>\n\n\tFix documentation of `make-frame' and related variables and hooks\n\n\t* lisp/frame.el (before-make-frame-hook)\n\t(after-make-frame-functions, frame-inherited-parameters)\n\t(make-frame): Fix doc-strings.\n\t* doc/lispref/frames.texi (Creating Frames): Fix description\n\tof `make-frame' and related variables and hooks.\n\n2017-09-24  Eric Abrahamsen  <eric@ericabrahamsen.net>\n\n\tAccept new `always' value for option `buffer-offer-save'\n\n\tAlso revert ee512e9a82\n\n\t* lisp/files.el (buffer-offer-save): In addition to nil and t, now\n\t  allows a third symbol value, `always'. A buffer where this option is\n\t  set to `always' will always be offered for save by\n\t  `save-some-buffers'.\n\t  (save-some-buffers): Check the exact value of this buffer-local\n\t  variable. No longer check the buffer name, or the value of\n\t  `write-contents-functions'.\n\t* doc/lispref/buffers.texi (Killing Buffers): Note change in manual.\n\t* doc/lispref/files.texi (Saving Buffers): Remove note about buffer\n\t  names.\n\t* etc/NEWS: Mention in NEWS.\n\n2017-09-24  Alan Third  <alan@idiocy.org>\n\n\tImprove new NS scrolling variable names\n\n\t* src/nsterm.m (ns-use-system-mwheel-acceleration): Replace with\n\t'ns-use-mwheel-acceleration'.\n\t(ns-touchpad-scroll-line-height): Replace with\n\t'ns-mwheel-line-height'.\n\t(ns-touchpad-use-momentum): Replace with 'ns-use-mwheel-momentum'.\n\t* etc/NEWS: Change variable names.\n\n2017-09-24  Philipp Stephani  <phst@google.com>\n\n\tDocument 'replace-buffer-contents' in the manual.\n\n\t* doc/lispref/text.texi (Replacing): New node.\n\n2017-09-23  Alan Third  <alan@idiocy.org>\n\n\tFix undecorated frame resizing issues on NS (bug#28512)\n\n\t* src/nsterm.m (EmacsView::updateFrameSize): Don't wait for the\n\ttoolbar on undecorated frames.\n\t(EmacsView::initFrameFromEmacs): Group window flags correctly.\n\n2017-09-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix doc string of 'dired-listing-switches'\n\n\t* lisp/dired.el (dired-listing-switches): Fix the quoting\n\texample.  (Bug#28569)\n\n2017-09-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocumentation improvements for 'display-line-numbers'\n\n\t* doc/emacs/display.texi (Display Custom): Document a few more\n\toptions for display-line-numbers.  (Bug#28533)  Fix a typo.\n\n2017-09-22  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix last change in bat-mode.el\n\n\t* lisp/progmodes/bat-mode.el (bat-font-lock-keywords): Fix last\n\tchange.  (Bug#28311)\n\n2017-09-22  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix restoring in GUI sessions desktop saved in TTY sessions\n\n\t* lisp/frameset.el (frameset-filter-font-param): New function.\n\t(frameset-persistent-filter-alist): Use it for processing the\n\t'font' frame parameter.  (Bug#17352)\n\n2017-09-22  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove syntax highlighting in bat-mode\n\n\t* lisp/progmodes/bat-mode.el (bat-font-lock-keywords): Improve\n\tfont-locking of environment variables.  Suggested by Achim Gratz\n\t<Stromeko@nexgo.de>.  (Bug#28311)  (Bug#18405)\n\n2017-09-22  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument the 'list-FOO' convention\n\n\t* doc/lispref/tips.texi (Coding Conventions): Document the\n\tlist-FOO convention.\n\n2017-09-22  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tExpose viewing conditions in CAM02-UCS metric\n\n\tAlso add tests from the colorspacious library.  Finally, catch an\n\terrant calculation, where degrees were not being converted to radians.\n\t* src/lcms.c (deg2rad, default_viewing_conditions):\n\t(parse_viewing_conditions): New functions.\n\t(lcms-cam02-ucs): Add comments pointing to references used.  Expand\n\tthe docstring and explain viewing conditions.  JCh hue is given in\n\tdegrees and needs to be converted to radians.\n\t(lcms-d65-xyz): Remove.  No need to duplicate this in Lisp or make the\n\tAPI needlessly impure.\n\t* test/src/lcms-tests.el: Reword commentary.\n\t(lcms-rgb255->xyz): New function.\n\t(lcms-cri-cam02-ucs): Fix let-binding.\n\t(lcms-dE-cam02-ucs-silver): New test, assimilated from colorspacious.\n\n2017-09-21  Alan Third  <alan@idiocy.org>\n\n\tRevert \"Set frame size to actual requested size (bug#18215)\"\n\n\tThis reverts commit d31cd79b40dbd5459b16505a4ee4340210499277.\n\n\tSee bug#28536. I misunderstood bug#18215. It wasn't a bug.\n\n2017-09-21  Gemini Lasswell  <gazally@runbox.com>\n\n\tAdd tests for Edebug\n\n\t* test/lisp/emacs-lisp/edebug-tests.el: New file.\n\t* test/lisp/emacs-lisp/edebug-resources/edebug-test-code.el: New file.\n\n2017-09-21  Gemini Lasswell  <gazally@runbox.com>\n\n\tCatch more messages in ert-with-message-capture\n\n\t* lisp/emacs-lisp/ert-x.el (ert-with-message-capture): Capture\n\tmessages from prin1, princ and print.\n\t(ert--make-message-advice): New function.\n\t(ert--make-print-advice): New function.\n\n2017-09-21  Tak Kunihiro  <tkk@misasa.okayama-u.ac.jp>\n\n\tSupport setting region from secondary selection and vice versa\n\n\t* lisp/mouse.el (secondary-selection-exist-p): New function to\n\tallow callers to tell existence of the secondary selection\n\tin current buffer.\n\t(secondary-selection-to-region): New function to set\n\tbeginning and end of the region from those of the secondary\n\tselection.\n\t(secondary-selection-from-region): New function to set\n\tbeginning and end of the secondary selection from those of\n\tthe region.  (Bug#27530)\n\n\t* etc/NEWS: Mention the new functions.\n\n2017-09-20  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix new copy-directory bug with empty dirs\n\n\tProblem reported by Afdam Plaice (Bug#28520) and by Eli Zaretskii\n\t(Bug#28483#34).  This is another bug that I introduced in my\n\trecent copy-directory changes.\n\t* lisp/files.el (copy-directory): Work with empty subdirectories, too.\n\t* test/lisp/files-tests.el (files-tests--copy-directory):\n\tTest for this bug.\n\n2017-09-20  Eli Zaretskii  <eliz@gnu.org>\n\n\t* doc/lispref/strings.texi (Formatting Strings): Improve indexing.\n\n2017-09-20  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix 2 testsuite tests for MS-Windows\n\n\t* test/lisp/ibuffer-tests.el (test-buffer-list): Don't try to\n\tcreate files with \"*\" in their names.\n\t* test/src/editfns-tests.el (format-time-string-with-zone): Adapt\n\tresults to MS-Windows build.  Reported by Fabrice Popineau\n\t<fabrice.popineau@gmail.com>.\n\n2017-09-20  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tRename timer-list to list-timers\n\n\t* doc/emacs/anti.texi (Antinews):\n\t* doc/lispref/os.texi (Timers):\n\t* etc/NEWS:\n\t* lisp/emacs-lisp/timer-list.el:\n\t(timer-list-mode): Rename timer-list to list-timers.\n\n2017-09-19  Alan Third  <alan@idiocy.org>\n\n\tProvide native touchpad scrolling on macOS\n\n\t* etc/NEWS: Describe changes.\n\t* lisp/term/ns-win.el (mouse-wheel-scroll-amount,\n\tmouse-wheel-progressive-speed): Set to smarter values for macOS\n\ttouchpads.\n\t* src/nsterm.m (emacsView::mouseDown): Use precise scrolling deltas to\n\tcalculate scrolling for touchpads and mouse wheels.\n\t(syms_of_nsterm): Add variables 'ns-use-system-mwheel-acceleration',\n\t'ns-touchpad-scroll-line-height' and 'ns-touchpad-use-momentum'.\n\t* src/keyboard.c (make_lispy_event): Pass on .arg when relevant.\n\t* src/termhooks.h (event_kind): Update comments re. WHEEL_EVENT.\n\t* lisp/mwheel.el (mwheel-scroll): Use line count.\n\t* lisp/subr.el (event-line-count): New function.\n\n2017-09-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix MinGW64 build broken by recent MinGW64 import libraries\n\n\t* configure.ac (W32_LIBS): Put -lusp10 before -lgdi32, as latest\n\tMinGW64 import libraries require that.  (Bug#28493)\n\n\t* src/Makefile.in: Adjust commentary to the new order of w32\n\tlibraries.\n\n2017-09-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix crashes in 'move-point-visually' in minibuffer windows\n\n\t* src/xdisp.c (Fmove_point_visually): Fix off-by-one error in\n\tcomparing against the last valid glyph_row of a window glyph\n\tmatrix.  (Bug#28505)\n\n2017-09-19  Eli Zaretskii  <eliz@gnu.org>\n\n\t* src/emacs.c (usage_message): Don't mention 'find-file'.\n\n2017-09-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix a minor inaccuracy in the Emacs manual\n\n\t* doc/emacs/cmdargs.texi (Action Arguments): Don't mention\n\t'find-file', as the implementation has changed.  Reported by\n\tEverton J. Carpes <everton.carpes@gmail.com> in\n\thttps://lists.gnu.org/r/help-gnu-emacs/2017-09/msg00146.html.\n\n2017-09-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix errors in flyspell-post-command-hook\n\n\t* lisp/textmodes/ispell.el (ispell-get-decoded-string): Handle the\n\tcase of a nil Nth element of the language dictionary slot.  This\n\tavoids errors in 'flyspell-post-command-hook' when switching\n\tdictionaries with some spell-checkers.  (Bug#28501)\n\n2017-09-19  Michael Albinus  <michael.albinus@gmx.de>\n\n\tWork on Tramp's file-truename\n\n\t* lisp/net/tramp-sh.el (tramp-perl-file-truename):\n\tCheck also for symlinks.\n\t(tramp-sh-handle-file-truename): Move check for a symlink\n\tcycle to the end.  Do not blame symlinks which look like a\n\tremote file name.\n\n\t* lisp/net/tramp.el (tramp-handle-file-truename): Expand result.\n\n2017-09-19  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix bug with make-directory on MS-Windows root\n\n\t* lisp/files.el (files--ensure-directory): Treat any error, not\n\tjust file-already-exists, as an opportunity to check whether DIR\n\tis already a directory (Bug#28508).\n\n2017-09-19  Tom Tromey  <tom@tromey.com>\n\n\tFix log-view-diff-common when point is after last entry\n\n\tBug#28466\n\t* lisp/vc/log-view.el (log-view-diff-common): If point is after last\n\tentry, look at the previous revision.\n\n2017-09-18  Ken Brown  <kbrown@cornell.edu>\n\n\tAdapt fileio-tests--symlink-failure to Cygwin\n\n\t* test/src/fileio-tests.el (fileio-tests--symlink-failure)\n\t[CYGWIN]: Skip the case of a symlink target starting with '\\';\n\tthis is treated specially on Cygwin.\n\n2017-09-18  Eric Abrahamsen  <eric@ericabrahamsen.net>\n\n\tIgnore buffers whose name begins with a space in save-some-buffers\n\n\t* lisp/files.el (save-some-buffers): Consider these buffers\n\t  \"internal\", and don't prompt the user to save them.\n\t* doc/lispref/files.texi: Document.\n\n2017-09-18  Michael Albinus  <michael.albinus@gmx.de>\n\n\tImprove tramp-interrupt-process robustness\n\n\t* lisp/net/tramp.el (tramp-interrupt-process): Wait, until the\n\tprocess has disappeared.\n\n2017-09-18  Michael Albinus  <michael.albinus@gmx.de>\n\n\tMinor Tramp doc update\n\n\t* doc/misc/tramp.texi (Frequently Asked Questions):\n\tMention `vc-handled-backends'.\n\n2017-09-18  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tFix gensym\n\n\t* lisp/subr.el (gensym): Actually implement the default prefix.\n\t* test/lisp/subr-tests.el (subr-tests--gensym): New test.\n\n2017-09-18  Rasmus  <rasmus@gmx.us>\n\n\tUpdate Org to v9.1.1\n\n\tPlease see etc/ORG-NEWS for major changes.\n\n2017-09-18  Michael Albinus  <michael.albinus@gmx.de>\n\n\tCleanup in files-tests.el\n\n\t* test/lisp/files-tests.el (files-tests--make-directory)\n\t(files-tests--copy-directory): Cleanup temporary directories.\n\n2017-09-18  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRemove old cl-assert calls in 'newline'\n\n\t* lisp/simple.el (newline): Remove cl-assert calls\n\tthat didn't seem to be helping us debug Bug#18913,\n\tand that caused problems as reported in Bug#28280.\n\tSuggested by Glenn Morris (Bug#28280#8).\n\n2017-09-18  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tAvoid crash with C-g C-g in GC\n\n\tProblem reported by Richard Stallman (Bug#17406).\n\tBased on fix suggested by Eli Zaretskii (Bug#28279#16).\n\t* src/term.c (tty_send_additional_strings):\n\tUse only safe accessors, to avoid crash when C-g C-g in GC.\n\n2017-09-18  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix format-time-string %Z bug with negative tz\n\n\t* src/editfns.c (tzlookup): Fix sign error in %Z when a purely\n\tnumeric zone is negative (Bug#28746).\n\t* test/src/editfns-tests.el (format-time-string-with-zone):\n\tAdd test for this bug.\n\n2017-09-18  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tmessage-citation-line-format %Z is now tz name\n\n\t* etc/NEWS:\n\t* lisp/gnus/message.el (message-citation-line-format):\n\tFix doc to match new behavior (Bug#28476).\n\n2017-09-18  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tUse doc-view or pdf-tools on any window-system\n\n\t* lisp/net/mailcap.el (mailcap-mime-data): Simply check for\n\twindow-system.\n\n2017-09-18  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix bug with min and max and NaNs\n\n\t* src/data.c (minmax_driver): Fix bug with (min 0 NaN), which\n\tmistakenly yielded 0.  Also, pacify GCC in a better way.\n\t* test/src/data-tests.el (data-tests-min): Test for the bug.\n\n2017-09-17  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix recently-introduced copy-directory bug\n\n\tProblem reported by Andrew Christianson (Bug#28451):\n\t* lisp/files.el (copy-directory): If COPY-CONTENTS, make the\n\tdestination directory if it does not exist, even if it is a\n\tdirectory name.  Simplify, and omit unnecessary test for an\n\talready-existing non-directory target, since make-directory\n\tdiagnoses that for us now.\n\t* test/lisp/files-tests.el (files-tests--copy-directory):\n\tTest for this bug.\n\n2017-09-17  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from Gnulib\n\n\tThis incorporates:\n\t2017-09-16 manywarnings: port to GCC on 64-bit MS-Windows\n\t2017-09-13 all: Replace many more http URLs by https URLs\n\t* build-aux/config.guess, build-aux/config.sub:\n\t* build-aux/gitlog-to-changelog, doc/misc/texinfo.tex:\n\t* lib/allocator.h, lib/count-leading-zeros.h:\n\t* lib/count-trailing-zeros.h, lib/dup2.c, lib/filevercmp.c:\n\t* lib/fstatat.c, lib/fsync.c, lib/ftoastr.c, lib/ftoastr.h:\n\t* lib/intprops.h, lib/signal.in.h, lib/stdio-impl.h, lib/stdio.in.h:\n\t* lib/unistd.in.h, lib/utimens.c, m4/alloca.m4, m4/extern-inline.m4:\n\t* m4/fstatat.m4, m4/gnulib-common.m4, m4/manywarnings.m4:\n\t* m4/std-gnu11.m4, m4/sys_types_h.m4, m4/vararrays.m4:\n\tCopy from Gnulib.\n\t* lib/gnulib.mk.in: Regenerate.\n\n2017-09-17  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix compatibility problem in Tramp\n\n\t* lisp/net/tramp.el (tramp-interrupt-process): Better error handling.\n\n\t* lisp/net/tramp-compat.el (default-toplevel-value): Move up.\n\t(top): Do not call `tramp-change-syntax' anymore.\n\t(tramp-compat-directory-name-p): New defalias.\n\n\t* lisp/net/tramp-adb.el (tramp-adb-handle-copy-file):\n\t* lisp/net/tramp-sh.el (tramp-sh-handle-copy-directory):\n\t* lisp/net/tramp-smb.el (tramp-smb-handle-copy-directory)\n\t(tramp-smb-handle-copy-file): Use it.\n\n\t* test/lisp/net/tramp-tests.el (tramp-test28-interrupt-process):\n\tModify test.\n\n2017-09-17  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid GCC 7 compilation warning in eval.c\n\n\t* src/eval.c (push_handler_nosignal): Use CACHEABLE to work around\n\tGCC compilation warning.  Suggested by Paul Eggert <eggert@cs.ucla.edu>\n\tin https://lists.gnu.org/r/emacs-devel/2017-09/msg00492.html.\n\n2017-09-17  Michael Albinus  <michael.albinus@gmx.de>\n\n\tAdapt Tramp version.  Do not merge\n\n\t* doc/misc/trampver.texi:\n\t* lisp/net/trampver.el: Change version to \"2.3.3.26.1\".\n\t(customize-package-emacs-version-alist): Add Tramp version\n\tintegrated in Emacs 26.1.\n\n2017-09-17  Tom Tromey  <tom@tromey.com>\n\n\tSearch for Syntax section when viewing MDN\n\n\t* lisp/textmodes/css-mode.el (css--mdn-after-render): Also search for\n\t\"Syntax\" section.\n\n2017-09-17  Tom Tromey  <tom@tromey.com>\n\n\tAllow smerge-keep-current to work for empty hunks\n\n\tBug#25555\n\t* lisp/vc/smerge-mode.el (smerge-get-current): Allow point to be at\n\tmatch-end.\n\t* test/lisp/vc/smerge-mode-tests.el: New file.\n\n2017-09-17  Tom Tromey  <tom@tromey.com>\n\n\tCall vc-setup-buffer in vc-git-log-{in,out}going\n\n\tBug#28427:\n\t* lisp/vc/vc-git.el (vc-git-log-incoming, vc-git-log-outgoing): Call\n\tvc-setup-buffer.\n\n2017-09-17  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tFix last change to textmodes/page-ext.el\n\n\t* lisp/textmodes/page-ext.el (pages-directory): Make buffer writable\n\twhile we build it (bug#28431).\n\n2017-09-16  Glenn Morris  <rgm@gnu.org>\n\n\t* test/src/lcms-tests.el (lcms-cri-cam02-ucs): Skip if lcms2 not present.\n\n2017-09-16  Glenn Morris  <rgm@gnu.org>\n\n\t* test/src/lcms-tests.el (lcms-whitepoint): Skip if lcms2 not present.\n\n\t(cherry picked from commit 8081df26911c63aadfce4ee8f6a7223d814baeaf)\n\n2017-09-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix compilation warning in etags.c\n\n\t* lib-src/etags.c (etags_mktmp) [DOS_NT]: Don't dereference a NULL\n\tpointer.  Reported by Richard Copley <rcopley@gmail.com>.\n\n2017-09-16  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tAdd lisp variable lcms-d65-xyz\n\n\tThis serves as the default optional argument for functions in this\n\tlibrary.\n\t* src/lcms.c (lcms-d65-xyz): New variable.\n\t(lcms-cam02-ucs): Use it.  Use better word in docstring.  Fix bug\n\tcolor1 -> color2.\n\t* test/src/lcms-tests.el: Add some tests for lcms-cri-cam02-ucs.\n\t(lcms-colorspacious-d65): New variable.\n\n2017-09-16  Gemini Lasswell  <gazally@runbox.com>\n\n\t* lisp/emacs-lisp/cl-macs.el (cl-letf): Fix Edebug spec (bug#24765)\n\n2017-09-16  Andy Moreton  <andrewjmoreton@gmail.com>\n\n\tAvoid MinGW64 compiler warnings in unexw32.c\n\n\t* src/unexw32.c (pDWP) [MINGW_W64]: Define to \"16llx\" only for the\n\t64-bit build.\n\n2017-09-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tStart emacs-26 release branch\n\n\t* configure.ac:\n\t* nt/README.W32:\n\t* README:\n\t* msdos/sed2v2.inp: Increment Emacs version to 26.0.60.\n\n\t* lisp/cus-edit.el (customize-changed-options-previous-release):\n\tUpdate value to \"25.3\".\n\n2017-09-16  Alan Mackenzie  <acm@muc.de>\n\n\tCope better with C++ and Objective-C protection keywords in class declarations\n\n\tThis fix fixes the fontification of a method inside a class at the time it is\n\ttyped, when there is a protection keyword clause preceding it.\n\n\t* lisp/progmodes/cc-engine.el (c-forward-keyword-clause): Handle protection\n\tkeywords.\n\t(c-looking-at-decl-block): Avoid scanning forward over protection keyword\n\tclauses too eagerly.\n\n\t* lisp/progmodes/cc-langs.el (c-protection-key c-post-protection-token): New\n\tlang defconsts and defvars.\n\n\t* lisp/progmodes/cc-mode.el (c-fl-decl-start): When we encounter a protection\n\tkeyword following a semicolon or brace, move forward over it before attempting\n\tto parse a type.\n\n2017-09-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix order of sorted overlays returned by 'overlays-at'\n\n\t* src/buffer.c (Foverlays_at): If SORTED is non-nil, reverse the\n\tlist of results, to have their order as per the documentation.\n\t(Bug#28390)\n\n\t* etc/NEWS: Mention the change in the behavior of overlays-at.\n\n2017-09-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tDisable execution of unsafe Lisp by Enriched Text mode\n\n\t* src/xdisp.c (handle_display_spec): If the display property is\n\twrapped in 'disable-eval' form, disable Lisp evaluation while\n\tprocessing this property.\n\t(handle_single_display_spec): Accept new argument ENABLE_EVAL_P.\n\tIf that argument is false, don't evaluate Lisp while processing\n\tdisplay properties.\n\n\t* lisp/textmodes/enriched.el\n\t(enriched-allow-eval-in-display-props): New defcustom.\n\t(enriched-decode-display-prop): If\n\tenriched-allow-eval-in-display-props is nil, wrap the display\n\tproperty with 'disable-eval' to disable Lisp evaluation when the\n\tdisplay property is processed for display.  (Bug#28350)\n\t* lisp/gnus/mm-view.el (mm-inline-text): Re-enable processing of\n\tenriched text.\n\n\t* doc/lispref/display.texi (Display Property): Document the\n\t'disable-eval' wrapping of 'display' properties.\n\t* doc/emacs/text.texi (Enriched Properties): Document\n\t'enriched-allow-eval-in-display-props'.\n\n\t* etc/NEWS: Describe the security issues with Enriched Text mode\n\tand their solution.\n\n2017-09-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid MinGW64 compilation warning in w32.c\n\n\t* src/w32.c (sys_strerror): Provide a prototype for MinGW64.\n\n2017-09-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix MS-Windows build broken by recent changes in lcms.c\n\n\t* src/lcms.c [WINDOWSNT]: Define types for cmsWhitePointFromTemp\n\tand cmsxyY2XYZ function pointers.\n\t(init_lcms_functions) [WINDOWSNT]: Load cmsWhitePointFromTemp and\n\tcmsxyY2XYZ from liblcms2.\n\t(cmsWhitePointFromTemp, cmsxyY2XYZ) [WINDOWSNT]: Redirect to the\n\tcorresponding function pointers.\n\t(Flcms_temp_to_white_point): Minor stylistic changes.  Doc fix.\n\t(syms_of_lcms2): Defsubr Slcms_temp_to_white_point.\n\n2017-09-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid GCC 7 compilation warning in data.c\n\n\t* src/data.c (minmax_driver): Use UNINIT to avoid compilation\n\twarnings.  Reported by Fabrice Popineau\n\t<fabrice.popineau@centralesupelec.fr>.\n\n2017-09-16  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tAdd lcms-temp->white-point and initial tests\n\n\t* src/lcms.c (lcms-temp->white-point): New function.\n\t* test/src/lcms-tests.el: New file.\n\n2017-09-16  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tUse cl-print in timer list\n\n\t* lisp/emacs-lisp/timer-list.el (timer-list): Use cl-print\n\tfor handling functions.\n\t(timer-list-mode): Capitalize major mode name.  Set bidi direction\n\tas in tabulated-list-mode.\n\n2017-09-15  Vincent Bela\u00efche  <vincentb1@users.sourceforge.net>\n\n\tMake landscape layout with geometry package rather than a PostScript special.\n\n\t* lisp/calendar/cal-tex.el (cal-tex-preamble): Make 12pt the\n\tdefault class option.\n\t(cal-tex-year, cal-tex-cursor-month-landscape): Pass landscape\n\trequest to `cal-tex-insert-preamble' function call within the\n\tclass option string.\n\t(cal-tex-cursor-month): Don't pass any longer \"12pt\" argument\n\tto `cal-tex-insert-preamble' function, as it is default.\n\t(cal-tex-insert-preamble): Suppress landscape and size\n\targument, and replace them by a class-options string\n\targument. Do not insert any longer \"\\special{landscape}\" in\n\tcase of landscape layout, as the job is made by the geometry\n\tpackage.\n\n2017-09-15  Mark Oteiza  <mvoteiza@udel.edu>\n\n\t* lisp/json.el (json-read-keyword): Revert previous change to catch EOL.\n\n2017-09-15  Eli Zaretskii  <eliz@gnu.org>\n\n\tOne more attempt to avoid GCC 7 warnings in dispnew.c\n\n\t* src/dispnew.c (adjust_glyph_matrix): Use eassume instead of\n\teassert, to avoid compilation warnings about NULL pointer\n\tdereferences.\n\n2017-09-15  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tFix color-distance docstring\n\n\tAlso feed the translated color to the metric argument.\n\t* src/xfaces.c (color-distance): Reword docstring to be more helpful.\n\tAvoid duplicating effort in lcms2 by passing the translated 16 bit RGB\n\tinstead of the function's color arguments.\n\n2017-09-15  Michael Albinus  <michael.albinus@gmx.de>\n\n\tImprove Tramp behavior according to bug#27986\n\n\t* lisp/net/tramp-adb.el (tramp-adb-handle-copy-file):\n\t* lisp/net/tramp-sh.el (tramp-sh-handle-copy-directory):\n\t* lisp/net/tramp-smb.el (tramp-smb-handle-copy-directory)\n\t(tramp-smb-handle-copy-file): Check, that NEWNAME is a\n\tdirectory name when existing.  Use `file-name-as-directory'\n\twhere appropriate.\n\n2017-09-15  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tMore JSON optimization\n\n\tLast I checked, inlining json-skip-whitespace didn't make much\n\tdifference.  However, changing defsubsts to define-inline results\n\tin roughly 15% reduction in read time on a 200K file.\n\t* lisp/json.el (json-advance, json-peek, json-pop):\n\t(json-skip-whitespace): Inline with define-inline.\n\t(json-read-keyword): Don't use whitespace syntax.\n\t(json-add-to-object): Simpler condition.\n\n2017-09-15  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid crashes due to invalid error forms from sentinels/filters\n\n\t* src/process.c (exec_sentinel_error_handler): Make sure the error\n\tform passed to cmd_error_internal is a cons cell.  (Bug#28430)\n\n2017-09-15  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid compilation warnings with GCC 7 on MS-Windows\n\n\t* src/w32term.c (w32_setup_relief_color, construct_mouse_click)\n\t(w32_read_socket): Initialize variables to shut up bogus\n\tcompilation warnings from GCC 7.\n\t* src/unexw32.c (COPY_CHUNK, COPY_PROC_CHUNK): Cast to DWORD_PTR\n\tto avoid compiler warnings about printing signed values using %x\n\tformat spec.\n\t* src/dispnew.c (adjust_glyph_matrix): Add eassert to avoid\n\tcompiler warning about possible NULL pointer dereference.\n\t* src/lisp.h (pI): Tweak the definition some more for MinGW64.\n\n2017-09-15  Martin Rudalics  <rudalics@gmx.at>\n\n\tDefine gnutls_rnd for WINDOWSNT and HAVE_GNUTLS3 case only\n\n\t* src/fns.c (gnutls_rnd): Define for WINDOWSNT and HAVE_GNUTLS3\n\tcase only to avoid unused macros warning otherwise.\n\n2017-09-15  Martin Rudalics  <rudalics@gmx.at>\n\n\tIn w32heap.c bump up DUMPED_HEAP_SIZE\n\n\t* src/w32heap.c (DUMPED_HEAP_SIZE): Bump up DUMPED_HEAP_SIZE\n\tto 13*1024*1024 for 32-bit non-wide-integer builds.\n\n2017-09-15  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tBind n,p in timer-list\n\n\t* lisp/emacs-lisp/timer-list.el (timer-list-mode-map): Bind n and p\n\tto next- and previous-line, respectively.\n\n2017-09-14  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/net/tls.el (tls-program): Fix :version.\n\n2017-09-14  Eli Zaretskii  <eliz@gnu.org>\n\n\t* configure.ac (--with-lcms2, --without-lcms2): New options.\n\n2017-09-14  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid 64-bit compilation warnings in unexw32.c\n\n\t* src/unexw32.c (pDWP): New macro.\n\t(COPY_CHUNK, COPY_PROC_CHUNK): Declare 'count' as DWORD_PTR.  Use\n\tpDWP for printing values that can be either 32-bit or 64-bit wide.\n\n2017-09-14  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix warnings about formats in printf-like functions on MS-Windows\n\n\t* src/lisp.h (pI) [__MINGW32__]: Provide definition that will\n\thopefully DTRT with both MinGW64 and mingw.org's MinGW.  See\n\thttps://lists.gnu.org/r/emacs-devel/2017-09/msg00171.html\n\tfor the details.\n\t* src/conf_post.h (PRINTF_ARCHETYPE) [MINGW_W64]: Separate\n\tdefinition specific to MinGW64.\n\t(PRINTF_ARCHETYPE) [__MINGW32__]: For mingw.org's MinGW, use\n\t__mingw_printf__ in ANSI-compatible mode.\n\n2017-09-14  Eli Zaretskii  <eliz@gnu.org>\n\n\tSupport lcms2 in MS-Windows builds\n\n\t* lisp/term/w32-win.el (dynamic-library-alist): Include\n\tassociation for the lcms2 library.\n\n\t* src/lcms.c [WINDOWSNT]: Include windows.h and w32.h.  Use\n\tDEF_DLL_FN to define pointers to dynamically loaded lcms2\n\tfunctions.\n\t(cmsCIE2000DeltaE, cmsCIECAM02Init, cmsCIECAM02Forward)\n\t(cmsCIECAM02Done): New macros.\n\t(init_lcms_functions, Flcms2_available_p): New functions.\n\t(Flcms_cie_de2000, Flcms_cam02_ucs) [WINDOWSNT]: Call\n\tinit_lcms_functions.\n\t(syms_of_lcms2): Defsubr lcms2-available-p.\n\t* src/w32fns.c (syms_of_w32fns): DEFSYM Qlcms2.\n\n\t* configure.ac: Include lcms2 in the final report and in\n\temacs_config_features.\n\n\t* nt/INSTALL:\n\t* nt/INSTALL.W64: Update with the information about lcms2 library.\n\n2017-09-14  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort renameat_noreplace to openSUSE 12.3\n\n\tProblem reported by M. Nomiya in:\n\thttps://lists.gnu.org/r/emacs-devel/2017-09/msg00363.html\n\t* src/sysdep.c (renameat_noreplace):\n\tCall renameat2 only if CYGWIN.\n\n2017-09-14  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPrefer HTTPS to FTP and HTTP in documentation\n\n\tMost of this change is to boilerplate commentary such as license URLs.\n\tThis change was prompted by ftp://ftp.gnu.org's going-away party,\n\tplanned for November.  Change these FTP URLs to https://ftp.gnu.org\n\tinstead.  Make similar changes for URLs to other organizations moving\n\taway from FTP.  Also, change HTTP to HTTPS for URLs to gnu.org and\n\tfsf.org when this works, as this will further help defend against\n\tman-in-the-middle attacks (for this part I omitted the MS-DOS and\n\tMS-Windows sources and the test tarballs to keep the workload down).\n\tHTTPS is not fully working to lists.gnu.org so I left those URLs alone\n\tfor now.\n\n2017-09-14  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPrefer HTTPS to HTTP for gnu.org\n\n\tThis patch just changes code files; a followup companion patch\n\t(much larger) will affect the commentary.  This part is\n\tseparated out to make it easier to review.\n\t* .dir-locals.el (change-log-mode):\n\t* lisp/org/org-info.el (org-info-other-documents)\n\t(org-info-map-html-url):\n\t* lisp/org/ox-html.el (org-html-creator-string):\n\t* lisp/startup.el (fancy-startup-text, fancy-about-text)\n\t(fancy-splash-head):\n\t* test/lisp/ffap-tests.el (ffap-other-window--bug-25352):\n\t* test/lisp/thingatpt-tests.el (thing-at-point-test-data):\n\tUse HTTPS instead of HTTP.\n\n2017-09-13  Simen Heggest\u00f8yl  <simenheg@gmail.com>\n\n\tAdd tests for color.el\n\n\t* lisp/color.el (color-name-to-rgb, color-complement): Clarify in\n\tdocstrings that RGB triplets should use four digits per component.\n\t(color-rgb-to-hsl): Break line to avoid \"Hidden behind deeper element\"\n\twarning.\n\n\t* test/lisp/color-tests.el: New file.\n\n2017-09-13  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMake gnutls-verify-error work again with url-retrieve-synchronously\n\n\t* lisp/url/url-gw.el (url-open-stream): Only use :nowait if\n\twe're doing async connections (bug#26835).\n\n\t* lisp/url/url-parse.el (url): Add an asynchronous slot.\n\n\t* lisp/url/url.el (url-asynchronous): New variable.\n\t(url-retrieve-internal): Store the value.\n\t(url-retrieve-synchronously): Bind the variable.\n\n2017-09-13  Michael Albinus  <michael.albinus@gmx.de>\n\n\tImprove backward compatibility of tramp-tests\n\n\t* test/lisp/net/tramp-tests.el (seq): Don't require.\n\t(tramp--test-emacs26-p): New defun.\n\t(tramp-test10-write-region, tramp-test11-copy-file)\n\t(tramp-test12-rename-file, tramp-test15-copy-directory)\n\t(tramp-test21-file-links): Use it.\n\t(tramp-test16-file-expand-wildcards): Use `copy-sequence'.\n\n2017-09-13  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* lisp/net/trampver.el (customize-package-emacs-version-alist):\n\n\tAdd Tramp version integrated in Emacs 25.3.\n\n2017-09-13  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tAdd clarification to if-let* docstring\n\n\tAlso make its behavior consistent with and-let* in that empty bindings\n\tresults in success, not failure.\n\t* lisp/emacs-lisp/subr-x.el: Edit docstring, change else to then.\n\n2017-09-13  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMake fully qualified domain names more fully qualified\n\n\t* lisp/gnus/message.el (message-make-fqdn): Don't try to use a\n\tsystem-name without any periods as a fully qualified domain name.\n\n2017-09-13  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRemove unused file lib/getopt_.h\n\n\t* lib/getopt_.h: Remove.  It was renamed to lib/getopt.in.h etc.\n\ton 2011-01-08, but I forgot to remove the old file.\n\n2017-09-13  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tRemove \"baroque\" use of prefix argument from gensym\n\n\t'cl-gensym' was simply moved here, but let us take an opportunity to\n\tshed some historical baggage.\n\t* lisp/subr.el (gensym): Remove special treatment of PREFIX as a\n\tnumber.  Use \"g\" as prefix to differentiate from cl-gensym defaults.\n\t* doc/lispref/symbols.texi (Creating Symbols): Update accordingly.\n\t* lisp/emacs-lisp/cl-macs.el (cl--gensym-counter, cl-gensym): Restore.\n\n2017-09-13  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tProvide an lcms2 feature\n\n\t* src/lcms.c (syms_of_lcms2): Provide \"lcms2\".\n\n2017-09-13  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tAdd lcms2 interface\n\n\tconfigure.ac: Add boilerplate for configuring and detecting liblcms2.\n\tetc/NEWS: Mention new configure option and color-distance change.\n\tsrc/Makefile.in: Add references to lcms.c and liblcms.\n\tsrc/emacs.c: Define lcms2 symbols.\n\tsrc/lcms.c: New file.\n\tsrc/lisp.h: Add declaration for lcms2.\n\tsrc/xfaces.c: Add optional METRIC argument.\n\n2017-09-13  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tAdd other D series white points and some simple conversions\n\n\t* lisp/color.el (color-d75-xyz, color-d55-xyz, color-d50-xyz): New\n\tconstants.\n\t(color-xyz-to-xyy, color-xyy-to-xyz, color-lab-to-lch):\n\t(color-lch-to-lab): New functions.\n\n2017-09-13  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tPermit non-integral color gradients\n\n\t* lisp/color.el (color-gradient): Float the step-number.\n\n2017-09-13  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\tProtect against malformed MIME messages that cause inf-loop (bugfix)\n\n\t* lisp/gnus/gnus-art.el (gnus-article-mime-handles):\n\tProtect against malformed MIME messages that cause inf-loop.\n\n2017-09-13  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from Gnulib\n\n\tThis incorporates:\n\t2017-09-13 all: prefer https: URLs\n\tThis just changes http: to https: in comments,\n\tin files copied from Gnulib.\n\n2017-09-13  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tCall vc-resynch-buffer in vc-git-resolve-when-done\n\n\t* lisp/vc/vc-git.el (vc-git-resolve-when-done):\n\tCall vc-resynch-buffer on the current file (bug#28121).\n\tMove its autoload to before this function.\n\n2017-09-13  Eric Abrahamsen  <eric@ericabrahamsen.net>\n\n\tAllow write-contents-functions to short-circuit buffer save\n\n\tBug#28412\n\n\t* lisp/files.el (basic-save-buffer): Re-arrange function so that\n\t  write-contents-functions are run earlier. If they return non-nil,\n\t  consider the buffer saved without requiring the buffer to be\n\t  visiting a file.\n\t  (save-some-buffers): This function should consider any buffer with a\n\t  buffer-local value for write-contents-functions eligible for\n\t  saving.\n\t* test/lisp/files-tests.el (files-test-no-file-write-contents): New\n\t  test.\n\t* doc/lispref/files.texi (Saving Buffers): Mention in docs.\n\t* etc/NEWS: And in NEWS.\n\n2017-09-12  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* etc/NEWS.25: Copy from emacs-25 etc/NEWS.\n\n2017-09-12  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tLess chatter for \u2019make info/dir\u2019\n\n\t* Makefile.in (${srcdir}/info/dir): Tweak shell command so\n\tthat an ordinary make says just \"GEN info/dir\" rather than\n\talso having a seemingly-unrelated mv line.\n\n2017-09-12  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tTweak Gnus doc re gnus-copy-file\n\n\t* doc/misc/gnus.texi (Saving Articles):\n\tDocument behavior with directory name targets (Bug#27986).\n\tProblem reported by Katsumi Yamaoka in:\n\thttps://lists.gnu.org/r/emacs-devel/2017-09/msg00216.html\n\n2017-09-12  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tUpdate uses of if-let and when-let\n\n\t* lisp/dom.el (dom-previous-sibling):\n\t* lisp/emacs-lisp/package.el (package--with-work-buffer):\n\t(package--sort-deps-in-alist, package--sort-by-dependence):\n\t(package-install-from-archive, package-install):\n\t(package-menu-execute, package-menu--populate-new-package-list):\n\t* lisp/filenotify.el (file-notify--rm-descriptor):\n\t(file-notify--event-watched-file, file-notify--event-file-name):\n\t(file-notify--event-file1-name, file-notify-rm-watch):\n\t(file-notify-valid-p):\n\t* lisp/gnus/message.el (message-toggle-image-thumbnails):\n\t* lisp/gnus/nnimap.el (nnimap-request-move-article):\n\t* lisp/ibuf-ext.el (ibuffer-repair-saved-filters):\n\t* lisp/mpc.el (mpc-format):\n\t* lisp/net/eww.el (eww-tag-meta, eww-process-text-input):\n\t(eww-save-history):\n\t* lisp/net/shr.el (shr-tag-base, shr-tag-object, shr-make-table-1):\n\t* lisp/progmodes/prog-mode.el (prettify-symbols--post-command-hook):\n\t* lisp/svg.el (svg-remove):\n\t* lisp/textmodes/css-mode.el (css--named-color):\n\t(css--colon-inside-funcall):\n\t* lisp/textmodes/sgml-mode.el (html-current-buffer-classes):\n\t(html-current-buffer-ids): Use if-let* and when-let* instead.\n\n2017-09-12  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tImplement and-let*\n\n\tThis also includes changes to if-let and when-let.  The single tuple\n\tspecial case is ambiguous, and binding a symbol to nil is not as\n\tuseful as binding it to its value outside the lexical scope of the\n\tbinding.  (Bug#28254)\n\t* etc/NEWS: Mention.\n\t* lisp/emacs-lisp/subr-x.el (internal--listify):\n\t(internal--build-binding-value-form): Extend to account for\n\tsolitary symbols and (EXPR) items in binding varlist.\n\t(if-let*, when-let*): Nix single tuple case and incumbent\n\tbind-symbol-to-nil behavior.\n\t(and-let*): New macro.\n\t(if-let, when-let): Mark obsolete.  Redefine in terms of if-let*, so\n\tthey implicitly gain the new features without breaking existing code.\n\t* test/lisp/emacs-lisp/subr-x-tests.el: Adjust tests for: lack of\n\tsingle-tuple special case, lack of binding solitary symbols to nil,\n\tand the introduction of uninterned symbols for (EXPR) bindings.  Add\n\tSRFI-2 test suite adapted to Elisp.\n\n2017-09-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix minor typos in the Emacs manual\n\n\t* doc/emacs/text.texi (Org Organizer):\n\t* doc/emacs/ack.texi (Acknowledgments): Fix spelling of Org nodes.\n\n2017-09-12  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge Emacs 25.3 fixes\n\n\tThe security patches released for Emacs 25.3 were less drastic\n\tthan what we had immediately put into master.  Adjust master to\n\tmatch 25.3 (Bug#28350).\n\t* lisp/textmodes/enriched.el (enriched-translations):\n\tRe-enable FUNCTION and display translations that are safe.\n\t(enriched-handle-display-prop): Bring back.\n\t(enriched-decode-display-prop): Bring back, but disable\n\tthe unsafe part.\n\n2017-09-12  Alan Mackenzie  <acm@muc.de>\n\n\tDon't match C++ template delims starting within a token.  FIxes bug #28418.\n\n\t* lisp/progmodes/cc-engine.el (c-restore-<>-properties): After failing an\n\tattempted match from the start of a token (in particular, \"<<\"), move to the\n\tnext token rather than the nex character before searching for the next \"<\".\n\n2017-09-12  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tMove gensym to core Elisp\n\n\t* doc/lispref/symbols.texi (Creating Symbols): Mention gensym right\n\tafter make-symbol.\n\t* etc/NEWS: Mention.\n\t* lisp/emacs-lisp/cl-macs.el (cl--gensym-counter): Alias to\n\tgensym-counter.\n\t(cl-gensym): Alias to gensym.\n\t* lisp/emacs-lisp/cl.el: Remove gensym from list of aliases.\n\t* lisp/emacs-lisp/edebug.el (edebug-make-enter-wrapper):\n\t* lisp/emacs-lisp/ert-x.el (ert-with-message-capture):\n\t(ert--expand-should-1, ert--expand-should):\n\t(ert--should-error-handle-error):\n\t* lisp/emacs-lisp/generator.el (cps--gensym):\n\t* lisp/emacs-lisp/gv.el (setf):\n\t* lisp/emacs-lisp/inline.el (inline--do-letlisteval):\n\t* lisp/emacs-lisp/pcase.el (pcase--make-docstring, pcase-dolist):\n\t(pcase--funcall, pcase--u1): Use gensym.\n\t* lisp/subr.el (gensym-counter): New variable.\n\t(gensym): New function, assimilated from cl-lib.\n\n2017-09-12  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tFix cl-gentemp\n\n\t* lisp/emacs-lisp/cl-macs.el (cl--gentemp-counter): New variable.\n\t(cl-gentemp): Use it.  Change prefix to \"T\".\n\n2017-09-12  Sam Steingold  <sds@gnu.org>\n\n\tgnus-score-file-name: Do not append empty suffix.\n\n2017-09-12  Michael Albinus  <michael.albinus@gmx.de>\n\n\tExtend tramp-tests according to bug#27986\n\n\t* test/lisp/net/tramp-tests.el (tramp-test11-copy-file)\n\t(tramp-test12-rename-file, tramp-test15-copy-directory)\n\t(tramp-test21-file-links): Extend tests.\n\t(tramp-test13-make-directory, tramp-test14-delete-directory):\n\tSpecifiy error symbol in `should-error'.\n\n2017-09-12  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tAdd cl-print method for hash tables\n\n\t* lisp/emacs-lisp/cl-print.el (cl-print-object): New method.\n\n2017-09-12  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tAdd docstrings to cl-print entry points\n\n\t* lisp/emacs-lisp/cl-print.el (cl-print-compiled): Fix docstring.\n\t(cl-prin1, cl-prin1-to-string): Add docstrings.\n\n2017-09-12  Glenn Morris  <rgm@gnu.org>\n\n\tImprove reproducibility of generated leim-list.el\n\n\t* lisp/international/quail.el (quail-update-leim-list-file):\n\tSort the quail directory listing, for more stable output.\n\n2017-09-11  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tInclude sxhash of object with printed bytecode\n\n\tThis printing, while succint, is rather opaque.  At least give an\n\timmediate clue of whether different byte code printouts are for the\n\tsame or different byte code objects.\n\t* lisp/emacs-lisp/cl-print.el (cl-print-object): Add object sxhash to\n\tprinted token \"#<bytecode>\".\n\n2017-09-11  Eli Zaretskii  <eliz@gnu.org>\n\n\tUpdate documentation of 'max-lisp-eval-depth'\n\n\t* doc/lispref/eval.texi (Eval): Update the documented default\n\tvalue of 'max-lisp-eval-depth'.\n\n2017-09-11  Eli Zaretskii  <eliz@gnu.org>\n\n\tAnother place to produce debugging output in etags\n\n\t* lib-src/etags.c (Ruby_functions): One more place to print\n\tdebugging output under --debug.\n\n2017-09-11  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of etags-related features\n\n\t* doc/emacs/maintaining.texi (Looking Up Identifiers): Document\n\t'xref-prompt-for-identifier'.  (Bug#28403)\n\t(Etags Regexps): Document \\D back references in etags regexps.\n\n2017-09-11  Alan Third  <alan@idiocy.org>\n\n\tFix macOS compatibility versions for vibrant dark theme (bug#28415)\n\n\t* src/nsterm.m (ns_set_appearance, EmacsView::initFrameFromEmacs):\n\tChange macOS compatibility from 10.9 to 10.10.\n\n2017-09-11  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFurther optimization in Tramp's file name decomposition\n\n\t* lisp/net/tramp.el (tramp-syntax): Recompute all file name\n\tcomponents.  Call `custom-set-variables' after loading.\n\t(tramp-build-prefix-format, tramp-build-prefix-regexp)\n\t(tramp-build-method-regexp)\n\t(tramp-build-postfix-method-format)\n\t(tramp-build-postfix-method-regexp)\n\t(tramp-build-prefix-ipv6-format)\n\t(tramp-build-prefix-ipv6-regexp)\n\t(tramp-build-postfix-ipv6-format)\n\t(tramp-build-postfix-ipv6-regexp)\n\t(tramp-build-postfix-host-format)\n\t(tramp-build-postfix-host-regexp)\n\t(tramp-build-file-name-regexp)\n\t(tramp-build-completion-file-name-regexp): New defuns.\n\t(tramp-prefix-format, tramp-prefix-regexp)\n\t(tramp-method-regexp, tramp-postfix-method-format)\n\t(tramp-postfix-method-regexp, tramp-prefix-ipv6-format)\n\t(tramp-prefix-ipv6-regexp, tramp-postfix-ipv6-format)\n\t(tramp-postfix-ipv6-regexp, tramp-postfix-host-format)\n\t(tramp-postfix-host-regexp)\n\t(tramp-remote-file-name-spec-regexp)\n\t(tramp-file-name-structure, tramp-file-name-regexp)\n\t(tramp-completion-file-name-regexp): Convert defuns into defvars.\n\t(tramp-prefix-regexp-alist)\n\t(tramp-postfix-method-regexp-alist)\n\t(tramp-prefix-ipv6-regexp-alist)\n\t(tramp-postfix-ipv6-regexp-alist)\n\t(tramp-postfix-host-regexp-alist)\n\t(tramp-remote-file-name-spec-regexp-alist): Remove.\n\t(tramp-build-remote-file-name-spec-regexp)\n\t(tramp-build-file-name-structure): Simplify.\n\t(tramp-completion-file-name-regexp-alist): New defconst.\n\t(tramp-tramp-file-p, tramp-dissect-file-name)\n\t(tramp-make-tramp-file-name)\n\t(tramp-completion-make-tramp-file-name)\n\t(tramp-rfn-eshadow-update-overlay-regexp)\n\t(tramp-register-file-name-handlers)\n\t(tramp-completion-handle-file-name-all-completions)\n\t(tramp-completion-dissect-file-name, tramp-clear-passwd):\n\t* lisp/net/tramp-ftp.el (tramp-ftp-file-name-handler):\n\t* lisp/net/tramp-sh.el (tramp-sh-handle-vc-registered)\n\t(tramp-compute-multi-hops): Use variables but functions for\n\tfile name components.\n\n\t* test/lisp/net/tramp-tests.el (tramp-test24-file-name-completion):\n\tUse variables but functions for file name components.\n\n2017-09-11  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort tramp-tests to new copy-directory behavior\n\n\t* test/lisp/net/tramp-tests.el (tramp-test15-copy-directory):\n\tUse directory name as arg for copy-directory when we want\n\tthe special behavior.\n\n2017-09-11  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tAdjust thumbs to new rename-file behavior\n\n\t* etc/NEWS: Mention this.\n\t* lisp/thumbs.el (thumbs-rename-images): Treat the destination\n\tas special only if it is a directory name.  When there is\n\ta marked list, turn the destination into a directory name\n\tif it is not already.\n\n2017-09-11  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tAdjust ob-tangle to new copy-file behavior\n\n\t* lisp/org/ob-tangle.el (org-babel-tangle-publish):\n\tPort to new copy-file behavior.\n\n2017-09-11  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMake gnus-copy-file act like copy-file etc.\n\n\t* etc/NEWS: Mention this.\n\t* lisp/gnus/gnus-util.el (gnus-copy-file): Treat the destination\n\tas special only if it is a directory name.\n\n2017-09-11  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMake write-file act like copy-file etc.\n\n\tChange write-file to be consistent with the new behavior\n\tof copy-file, etc.\n\t* etc/NEWS: Mention this.\n\t* lisp/files.el (write-file): Treat the destination as special\n\tonly if it is a directory name.\n\n2017-09-11  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMake copy-directory act like copy-file etc.\n\n\tDo the special dance with the destination only if it is a\n\tdirectory name, for consistency with copy-file etc. (Bug#27986).\n\t* doc/emacs/files.texi (Copying and Naming):\n\t* doc/lispref/files.texi (Create/Delete Dirs):\n\t* etc/NEWS: Document this.\n\t* lisp/files.el (copy-directory): Treat NEWNAME as special\n\tonly if it is a directory name.\n\n2017-09-11  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix some make-directory bugs\n\n\t* lisp/files.el (files--ensure-directory): New function.\n\t(make-directory): Use it to avoid bugs when (make-directory FOO t)\n\tis invoked on a non-directory, or on a directory hierarchy that\n\tis being built by some other process while Emacs is running.\n\t* test/lisp/files-tests.el (files-tests--make-directory): New test.\n\n2017-09-11  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix race with rename-file etc. with dir NEWNAME\n\n\tThis changes the behavior of rename-file etc. slightly.\n\tThe old behavior mostly disagreed with the documentation, and had\n\ta race condition bug that could allow attackers to modify victims'\n\twrite-protected directories (Bug#27986).\n\t* doc/lispref/files.texi (Changing Files): Document that in\n\trename-file etc., NEWFILE is special if it is a directory name.\n\t* etc/NEWS: Document the change in behavior.\n\t* src/fileio.c (directory_like): Remove.  All uses removed.\n\t(expand_cp_target): Test only whether NEWNAME is a directory name,\n\tnot whether it is currently a directory.  This avoids a race.\n\t(Fcopy_file, Frename_file, Fadd_name_to_file, Fmake_symbolic_link):\n\tDocument behavior if NEWNAME is a directory name.\n\t(Frename_file): Simplify now that the destdir behavior occurs\n\tonly when NEWNAME is a directory name.\n\t* test/lisp/net/tramp-tests.el (tramp-test11-copy-file)\n\t(tramp-test12-rename-file, tramp--test-check-files):\n\tAdjust tests to match new behavior.\n\n2017-09-10  Eli Zaretskii  <eliz@gnu.org>\n\n\tExtend --debug printouts in etags\n\n\t* lib-src/etags.c (regex_tag_multiline, readline): Under\n\t\"--debug\", print tags found via regexps.\n\n2017-09-10  Eli Zaretskii  <eliz@gnu.org>\n\n\tAdd --debug option to etags\n\n\t* lib-src/etags.c (make_tag): Print found tags under --debug.\n\t(longopts): Add --debug.\n\n2017-09-10  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSpelling fixes\n\n\t* lisp/progmodes/cc-langs.el:\n\t(c-ambiguous-overloadable-or-identifier-prefixes): Rename from\n\tc-ambiguous-overloadable-or-identifier-prefices.  Caller changed.\n\n2017-09-10  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from gnulib\n\n\tThis incorporates:\n\t2017-09-08 stddef: Avoid conflict with system-defined max_align_t\n\t2017-08-24 warnings: fix compilation with old autoconf\n\t2017-08-23 glob: merge from glibc with Zanella glob changes\n\t2017-08-17 random: Fix test compilation failure on Cygwin 1.5.25\n\t* doc/misc/texinfo.tex, lib/flexmember.h, lib/stddef.in.h:\n\t* lib/stdlib.in.h, m4/manywarnings.m4, m4/stdlib_h.m4:\n\t* m4/warnings.m4:\n\tCopy from Gnulib.\n\t* lib/gnulib.mk.in: Regenerate.\n\n2017-09-10  Ken Brown  <kbrown@cornell.edu>\n\n\tImplement renameat_noreplace on recent Cygwin\n\n\t* src/sysdep.c [CYGWIN]: Include cygwin/fs.h.\n\t(renameat_noreplace) [RENAME_NOREPLACE]: Use renameat2.\n\t(Bug#27986)\n\n2017-09-10  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid warnings about file names in autoloads on MS-Windows\n\n\t* configure.ac (srcdir) [mingw32]: Downcase the drive letter, to\n\tavoid warnings from find-file-noselect when making autoloads.  For\n\tthe details, see\n\thttps://lists.gnu.org/r/emacs-devel/2017-09/msg00049.html.\n\n2017-09-10  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tAvoid looking at localized strings\n\n\t* lisp/xdg.el (xdg-desktop-read-group): Add condition to catch\n\tlocalized strings.\n\t* test/lisp/xdg-tests.el (xdg-desktop-parsing): Add test to ensure\n\tparsing l10n strings doesn't error but is essentially a no-op.\n\n2017-09-10  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* etc/NEWS.25: Document 25.3 changes.\n\n2017-09-10  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRemove unsafe enriched mode translations\n\n\t* lisp/gnus/mm-view.el (mm-inline-text):\n\tDo not worry about enriched or richtext type.\n\t* lisp/textmodes/enriched.el (enriched-translations):\n\tRemove translations for FUNCTION, display (Bug#28350).\n\t(enriched-handle-display-prop, enriched-decode-display-prop): Remove.\n\n2017-09-09  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tBe more consistent about \"directory name\" in manual\n\n\tThis clarifies the documentation, partly in response to the\n\tdiscussion in Bug#27986.\n\n2017-09-09  Eli Zaretskii  <eliz@gnu.org>\n\n\tRemove more compilation warnings in MinGW64 build\n\n\t* src/w32.c (faccessat, map_w32_filename):\n\t* src/w32fns.c (w32_wnd_proc):\n\t* src/w32term.c (w32_horizontal_scroll_bar_handle_click)\n\t(w32_scroll_bar_handle_click): Use FALLTHROUGH to avoid compiler\n\twarnings with GCC 7 and later.\n\n2017-09-09  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tImprove --enable-gcc-warnings for MinGW64\n\n\tThis partially reverts my 2016-05-30 patch.  Apparently MinGW64\n\tstill requires pacifications that GCC 7.1.1 x86-64 (Fedora 26)\n\tdoes not.  Also, pacify tparam.c, which isn\u2019t used on Fedora.\n\t* lib-src/etags.c (process_file_name, TeX_commands):\n\t* src/buffer.c (fix_overlays_before):\n\t* src/data.c (Fmake_variable_buffer_local, cons_to_unsigned)\n\t(cons_to_signed):\n\t* src/editfns.c (Ftranslate_region_internal):\n\tPrefer UNINIT to some stray value, as this simplifies\n\tcode-reading later.\n\t* src/eval.c (CACHEABLE): New macro.\n\t(internal_lisp_condition_case): Use it.\n\t* src/tparam.c (tparam1): Use FALLTHROUGH to pacify GCC.\n\n2017-09-09  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix font-lock in Compilation mode\n\n\t* lisp/progmodes/compile.el (compilation-face): Restore function\n\tlost during recent changes.  (Bug#28349)\n\n2017-09-09  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tAdd function to read all entries in a group\n\n\tUse that to extend xdg-desktop-read-file.  Also fix a bug where all\n\tentries in all groups were read and returned by xdg-desktop-read-file.\n\t* lisp/xdg.el (xdg-desktop-read-group): New function.\n\t(xdg-desktop-read-file): Use it.\n\t* test/data/xdg/malformed.desktop: New file.\n\t* test/data/xdg/test.desktop: Add another section.\n\t* test/lisp/xdg-tests.el (xdg-desktop-parsing): Test presence of a key\n\tin another group.  Test reading a prescribed group.  Test detecting a\n\tmalformed key=value.\n\n2017-09-09  Gemini Lasswell  <gazally@runbox.com>\n\n\tReduce Tramp's memory usage\n\n\tConstruct Tramp syntax strings and regular expressions once instead\n\tof every time they are used, and store them in alists keyed by Tramp\n\tsyntax.\n\t* lisp/net/tramp.el (tramp-build-remote-file-name-spec-regexp)\n\t(tramp-build-file-name-structure): New functions.\n\t(tramp-prefix-format-alist, tramp-prefix-regexp-alist)\n\t(tramp-method-regexp-alist)\n\t(tramp-postfix-method-format-alist)\n\t(tramp-postfix-method-regexp-alist)\n\t(tramp-prefix-ipv6-format-alist, tramp-prefix-ipv6-regexp-alist)\n\t(tramp-postfix-ipv6-format-alist)\n\t(tramp-postfix-ipv6-regexp-alist)\n\t(tramp-postfix-host-format-alist)\n\t(tramp-postfix-host-regexp-alist)\n\t(tramp-remote-file-name-spec-regexp-alist)\n\t(tramp-file-name-structure-alist): New constants.\n\t(tramp-lookup-syntax): New function.\n\t(tramp-prefix-format, tramp-prefix-regexp, tramp-method-regexp)\n\t(tramp-postfix-method-format, tramp-postfix-method-regexp)\n\t(tramp-prefix-ipv6-format, tramp-prefix-ipv6-regexp)\n\t(tramp-postfix-ipv6-format, tramp-postfix-ipv6-regexp)\n\t(tramp-postfix-host-format, tramp-postfix-host-regexp)\n\t(tramp-remote-file-name-spec-regexp, tramp-file-name-structure):\n\tUse it.\n\n2017-09-09  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix compilation warnings in MinGW64 build using GCC 7\n\n\tReported by Richard Copley <rcopley@gmail.com>.\n\t* src/w32heap.c (init_heap): Declare enable_lfh only for\n\tmingw.org's MinGW build.\n\n\t* src/w32console.c (w32con_write_glyphs):\n\t* src/unexw32.c (get_section_info, COPY_CHUNK, unexec): Fix some\n\tmismatches of data type vs format spec.\n\n\t* src/w32fns.c (compute_tip_xy):\n\t* src/w32proc.c (stop_timer_thread):\n\t* src/w32notify.c (remove_watch):\n\t* src/eval.c (internal_lisp_condition_case):\n\t* src/editfns.c (Ftranslate_region_internal):\n\t* src/data.c (Fmake_variable_buffer_local, cons_to_unsigned)\n\t(cons_to_signed):\n\t* src/buffer.c (fix_overlays_before): Initialize variables to\n\tavoid compiler warnings.\n\n\t* lib-src/etags.c (TeX_commands, process_file_name): Initialize\n\tvariables to avoid compilation warnings.\n\n2017-09-09  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid infloop when scrolling under scroll-preserve-screen-position\n\n\t* src/window.c (window_scroll_pixel_based): If screen position is\n\tto be preserved, make sure its recorded Y coordinate is outside\n\tthe scroll margin.  (Bug#28342)\n\n2017-09-09  Michael Albinus  <michael.albinus@gmx.de>\n\n\tClarification in tramp-texi\n\n\t* doc/misc/tramp.texi (Connection caching): Two connections are\n\tregarded as different now when they differ in the port number only.\n\n2017-09-09  Miles Bader  <miles@gnu.org>\n\n\t* admin/quick-install-emacs: Tweak configure.ac parsing\n\n2017-09-09  Miles Bader  <miles@gnu.org>\n\n\tUse text-property buttons in rcirc-markup-urls\n\n\t* lisp/net/rcirc.el (rcirc-markup-urls): Use `make-text-button'\n\tinstead of `make-button'; the former is much more efficient in large\n\tbuffers, and for the purposes of rcirc, changes no functionality.\n\n2017-09-08  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix line-pixel-height for lines of variable height\n\n\t* src/xdisp.c (Fline_pixel_height): Start moving from the\n\tbeginning of the screen line, to capture the full metrics of the\n\tline.  (Bug#28391)\n\n2017-09-08  Alex Branham  <branham@utexas.edu>  (tiny change)\n\n\tNew variable 'dired-confirm-killing-deleted-buffers'\n\n\t* lisp/dired-x.el (dired-clean-confirm-killing-deleted-buffers):\n\tNew variable.\n\t* lisp/dired.el (dired-clean-up-after-deletion): Kill buffers\n\tvisiting deleted files without confirming if\n\tdired-clean-confirm-killing-deleted-buffers is nil.  (Bug#28373)\n\t* etc/NEWS: Document the change.\n\n2017-09-08  Alfred M. Szmidt  <ams@gnu.org>  (tiny change)\n\n\tSupport SVN files with svn:externals property\n\n\t* lisp/vc/vc-svn.el (vc-svn-parse-status): Don't ignore files\n\tmarked with the svn:externals property.\n\n2017-09-08  Alfred M. Szmidt  <ams@gnu.org>  (tiny change)\n\n\tList locally removed files in vc-dir with SVN back-end\n\n\t* lisp/vc/vc-svn.el (vc-svn-after-dir-status): List files marked\n\twith ?! as needs-update.\n\n2017-09-08  Ken Olum  <kdo@cosmos.phy.tufts.edu>\n\n\tFix Rmail editing with reapplying encoding to message body\n\n\t* lisp/mail/rmailedit.el (rmail-cease-edit):  If no\n\tcontent-type in edited headers, look for one in original\n\theaders and add it to edited headers.  (Bug #26918)\n\tUse a marker to track start of new body, so that\n\tcontent-transfer-encoding gets applied only to body.  (Bug #27353).\n\tEnsure blank line at end of message after encoding, not\n\tbefore.\n\n2017-09-08  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument last change in dired.el\n\n\t* etc/NEWS (Dired): Document the last change in dired.el.\n\t(Bug#27435)\n\n2017-09-08  Tak Kunihiro  <tkk@misasa.okayama-u.ac.jp>\n\n\tMake mouse clicks in Dired more customizable\n\n\t* lisp/dired.el (dired-mouse-find-file): Allow callers to\n\tspecify functions to visit file/directory.\n\t(dired-mouse-find-file-other-window)\n\t(dired-mouse-find-file-other-frame): New functions to visit\n\tfiles in another window/frame.  (Bug#27435)\n\n2017-09-08  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid compiler warnings on MS-Windows with GCC 6 and 7\n\n\t* src/w32font.c (SUBRANGE): Use unsigned arithmetic for\n\tbit-shifting, to avoid compiler warnings.\n\t(w32font_text_extents): Tell GCC NGLYPHS is non-negative, to avoid\n\ta warning.  For details of the warning, see\n\thttps://lists.gnu.org/r/emacs-devel/2017-09/msg00093.html.\n\t* src/term.c (keys) [WINDOWSNT]: Don't define, as it is not used\n\tin that build.\n\t* src/sound.c (sound_perror): Ifdef away on WINDOWSNT, as this\n\tfunction is not used in that build.\n\n\t* configure.ac: Disable -Wsuggest-attribute=format on MS-Windows.\n\n2017-09-08  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix 'directory-file-name' on DOS_NT systems as well\n\n\t* src/fileio.c (directory_file_name) [DOS_NT]: Fix the DOS_NT case\n\tto be consistent with last change.\n\n\t* test/src/fileio-tests.el (fileio-tests--odd-symlink-chars):\n\tDisable on MS-Windows.\n\t(fileio-tests--directory-file-name-dos-nt)\n\t(fileio-tests--file-name-as-directory-dos-nt): New tests.\n\n2017-09-08  Wilson Snyder  <wsnyder@wsnyder.org>\n\n\tFix various verilog-mode.el issues.\n\n\t* lisp/progmodes/verilog-mode.el (verilog-expand-dirnames): Fix expanding\n\t\"*/*\", msg2284. Reported by Jonathan Ferguson.\n\t(ignore-errors): Fix ignore-errors error on Emacs 22.3, bug1177. Reported\n\tby Victor Lau.\n\t(verilog-getopt, verilog-getopt-file) (verilog-library-flags,\n\tverilog-substitute-file-name-path): Support -F in verilog getopt files,\n\tbug1171. Reported by George Cuan.\n\t(verilog-do-indent): Fix misindenting symbols starting with t,\n\tbug1169. Reported by Hoai Tran.\n\t(verilog-read-auto-template-middle): Fix slow template matching on\n\tAUTOINST. Reported by Jeffrey Huynh.\n\t(verilog-pretty-expr): The extra whitespace addition before \"=\" operators\n\tis now done only if the whole assignment block contains the 2-character\n\t\"<=\" operator.  Remove the unused argument _myre.  Use `unless',\n\t`save-excursion' and `when' functions where possible.  Internal variables\n\trefactored for clarity.  Follow elisp convention for closing parentheses.\n\tBy Kaushal Modi.\n\t(verilog-get-lineup-indent-2): Update docstring.  Internal variables\n\trefactored for clarity.  Earlier EDPOS argument was expected to be a\n\tmarker; it is now renamed to END and is now expected to be a position.\n\tUse `when' instead of `if'.  By Kaushal Modi.\n\t(electric-verilog-terminate-line): Remove the unused second argument from\n\t`verilog-pretty-expr' call.  By Kaushal Modi.\n\t(verilog-calc-1): Fix indentation of a virtual class definition after a\n\ttypedef class, bug1080.  By Kaushal Modi.\n\n2017-09-08  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\tDon't use summary window to visit group buffer (bugfix)\n\n\t* lisp/gnus/gnus-sum.el (gnus-summary-jump-to-group): Make sure that\n\tthe window to open the group buffer doesn't visit the summary buffer.\n\tThis fixes a bug: `gnus-summary-next-article' sometimes causes an error\n\tby trying to select nonexistent summary window.\n\n2017-09-08  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix bug: (directory-file-name \"///\") returned \"//\"\n\n\t* src/fileio.c (directory_file_name): For \"///\" and longer,\n\treturn \"/\", not \"//\", as per POSIX.\n\t* test/src/fileio-tests.el (fileio-tests--directory-file-name)\n\t(fileio-tests--file-name-as-directory): New tests.\n\n2017-09-08  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRemove obsolete vc-mistrust-permissions doc\n\n\t* doc/emacs/vc1-xtra.texi (RCS and SCCS): Remove documentation\n\tfor vc-mistrust-permissions, which no longer exists.\n\n2017-09-07  Alan Third  <alan@idiocy.org>\n\n\tSet frame size to actual requested size (bug#18215)\n\n\t* src/nsterm.m (x_set_window_size): Don't use\n\tFRAME_TEXT_TO_PIXEL_WIDTH or FRAME_TEXT_TO_PIXEL_HEIGHT.\n\n2017-09-07  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tautogen.sh: omit bogus chatter if no .git\n\n\tProblem reported by Angelo Graziosi in:\n\thttps://lists.gnu.org/r/emacs-devel/2017-09/msg00045.html\n\t* autogen.sh (git_config): Do not execut 'git' if $do_git fails.\n\n2017-09-07  Glenn Morris  <rgm@gnu.org>\n\n\tSkip emacsclient tests if --enable-profiling was used\n\n\t* test/lib-src/emacsclient-tests.el\n\t(emacsclient-test-call-emacsclient): Make it a macro.\n\tHandle \"Profiling timer expired\" return from emacsclient.  (Bug#28319)\n\t(emacsclient-test-alternate-editor-allows-arguments)\n\t(emacsclient-test-alternate-editor-allows-quotes): Update for above.\n\n2017-09-06  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix a minor markup problem in ELisp manual\n\n\t* doc/lispref/functions.texi (Mapping Functions): Fix the order of\n\t@example and @group.  For the details, see\n\thttps://lists.gnu.org/r/bug-texinfo/2017-09/msg00007.html.\n\n2017-09-06  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tAdd XDG desktop file parsing and tests\n\n\t* lisp/xdg.el: Add support for Desktop Entry Specification.\n\t(xdg--user-dirs-parse-line): Check if file is readable.\n\t(xdg-desktop-group-regexp, xdg-desktop-entry-regexp): New variables.\n\t(xdg--desktop-parse-line, xdg-desktop-read-file, xdg-desktop-strings):\n\tNew functions.\n\t* test/lisp/xdg-tests.el:\n\t* test/data/xdg/test.desktop:\n\t* test/data/xdg/wrong.desktop: New files.\n\n2017-09-06  Glenn Morris  <rgm@gnu.org>\n\n\tAllow for adjusting line length of test backtraces\n\n\t* test/Makefile.in (TEST_BACKTRACE_LINE_LENGTH): New option.\n\t(%.log): Respect backtrace line length.\n\n2017-09-06  Glenn Morris  <rgm@gnu.org>\n\n\tAllow customizing line length of ert backtraces in batch mode\n\n\t* lisp/emacs-lisp/ert.el (ert-batch-backtrace-right-margin):\n\tMake it a user option.\n\t(ert-run-tests-batch): Handle ert-batch-backtrace-right-margin nil.\n\n2017-09-06  Glenn Morris  <rgm@gnu.org>\n\n\tMinor emacsclient-tests simplification\n\n\t* test/lib-src/emacsclient-tests.el (emacsclient-test-emacs):\n\tSimplify.  Also work when running installed.\n\n2017-09-06  Alan Third  <alan@idiocy.org>\n\n\tRevert \"Force screen update after drawing cursor glyph (bug#23774)\"\n\n\tThis reverts commit 1b492fa5456e2b6face8d0856f11d17e432693b0.\n\n\tSee bug#28358\n\n2017-09-05  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tRefactor some loops in mailcap.el\n\n\t* lisp/net/mailcap.el (mailcap-mime-types):\n\t(mailcap-file-default-commands): Convert nested maps to loops.\n\n2017-09-05  Glenn Morris  <rgm@gnu.org>\n\n\temacsclient-tests: remove some debug statements\n\n\t* test/lib-src/emacsclient-tests.el\n\t(emacsclient-test-call-emacsclient): Remove debug statements.\n\n2017-09-05  Simen Heggest\u00f8yl  <simenheg@gmail.com>\n\n\tHandle non-zero exit status from psql more gracefully\n\n\t* lisp/progmodes/sql.el (sql-postgres-list-databases): Handle non-zero\n\texit statuses from `psql -ltX' more gracefully by returning nil.\n\n\t* test/lisp/progmodes/sql-tests.el\n\t(sql-tests-postgres-list-databases-error): New test.\n\n2017-09-05  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid losing Ctrl-C keystrokes in compilation mode on MS-Windows\n\n\t* src/w32proc.c (sys_kill): Preserve the up/down state of the\n\tCtrl key across the simulated Ctrl-C keystroke.  (Bug#28348)\n\n2017-09-05  Andreas Schwab  <schwab@linux-m68k.org>\n\n\t* src/image.c (Fimagemagick_types): Doc fix.\n\n2017-09-05  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tMove soundex.el test to a proper test\n\n\t* test/lisp/soundex-tests.el: New file.\n\t* lisp/soundex.el: Use lexical-binding.  Remove commented test.\n\n2017-09-05  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tAdd tests for mailcap.el\n\n\t* test/data/mailcap/mime.types: New file.\n\t* test/lisp/net/mailcap-tests.el: New file.\n\n2017-09-05  Michael Albinus  <michael.albinus@gmx.de>\n\n\tDoc precisment about remote link targets\n\n\t* doc/lispref/files.texi (Truenames): Explain handling of\n\ttargets of `file-truename' and `make-symbolic-link', which\n\tlook like a remote file name.\n\n\t* etc/NEWS: Precise examples for symlinks which look like\n\tremote file names.  MUSTBENEW of `write-region' is not\n\tpropagated to file name handlers.\n\n2017-09-05  John Wiegley  <johnw@newartisans.com>\n\n\tRemove an opinionated section on \"What Eshell is not\"\n\n\tI don't find this information to accurately reflect possible use cases\n\tfor Eshell; plus, it doesn't offer much in the way of information,\n\tjust opinion.\n\n2017-09-05  Ken Brown  <kbrown@cornell.edu>\n\n\tFix configure test for Xpm\n\n\tProblem reported by Ashish Shukla in\n\thttps://lists.gnu.org/r/emacs-devel/2017-09/msg00020.html.\n\t* configure.ac (HAVE_XPM) [HAVE_X11]: Include X11/xpm.h instead of\n\tnoX/xpm.h in configure test.\n\n2017-09-04  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRevert recent float\u2192double Motif change\n\n\tProblem reported by Martin Rudalics in:\n\thttps://lists.gnu.org/r/emacs-devel/2017-09/msg00014.html\n\t* src/xterm.c (xm_scroll_callback, xaw_jump_callback)\n\t(x_set_toolkit_scroll_bar_thumb)\n\t(x_set_toolkit_horizontal_scroll_bar_thumb):\n\tGo back to using \u2018float\u2019 temporaries rather than \u2018double\u2019.\n\tAlthough quite possibly this masks an underlying bug,\n\twe lack time to look into that now.\n\n2017-09-04  Glenn Morris  <rgm@gnu.org>\n\n\temacsclient-tests: add some debug statements\n\n\t* test/lib-src/emacsclient-tests.el\n\t(emacsclient-test-call-emacsclient): Add debug statements.\n\n2017-09-04  Michael Albinus  <michael.albinus@gmx.de>\n\n\tWork on Tramp's (symbolic) links\n\n\t* doc/misc/tramp.texi (Traces and Profiles): Mention the\n\tbacktrace when tramp-verbose is greater than or equal to 10.\n\n\t* lisp/net/tramp-adb.el (tramp-adb-file-name-handler-alist):\n\tUse `tramp-handle-add-name-to-file'.\n\n\t* lisp/net/tramp-gvfs.el (tramp-gvfs-file-name-handler-alist): Use\n\t`tramp-handle-add-name-to-file' and `tramp-handle-file-truename'.\n\n\t* lisp/net/tramp-sh.el (tramp-sh-handle-make-symbolic-link): Improve.\n\n\t* lisp/net/tramp-smb.el (tramp-smb-errors):\n\tAdd \"NT_STATUS_CONNECTION_DISCONNECTED\" and\n\t\"NT_STATUS_OBJECT_PATH_SYNTAX_BAD\".\n\t(tramp-smb-file-name-handler-alist): Use `tramp-handle-file-truename'.\n\t(tramp-smb-do-file-attributes-with-stat): Return non-nil only\n\tif one of the attributes is non-nil.\n\t(tramp-smb-handle-file-local-copy): Use `file-truename'.\n\t(tramp-smb-handle-file-truename): Move to tramp.el.\n\t(tramp-smb-handle-insert-directory): Show symlinks.\n\t(tramp-smb-handle-make-symbolic-link): Improve.\n\t(tramp-smb-read-file-entry): Handle extended file modes in Samba.\n\n\t* lisp/net/tramp.el (tramp-handle-add-name-to-file)\n\t(tramp-handle-file-truename): New defuns.\n\n\t* test/lisp/net/tramp-tests.el (tramp-test21-file-links): Extend test.\n\t(tramp--test-check-files): Make check for \"smb\".\n\n2017-09-04  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tEmbed JSON readtable into json-read\n\n\tAlso unroll dispatch into a cond.\n\t* lisp/json.el (json-readtable): Remove.\n\t(json-readtable-dispatch): New macro.  Assimilate json-readtable.\n\t(json-read): Use the macro.\n\n2017-09-04  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tHexify strings in EWW search queries\n\n\tPreviously, inputting \"cats & dogs\" would lose dogs because the\n\tampersand signifies a query parameter.  Instead, hexify each word while\n\tpreserving quotes with split-string.\n\t* lisp/net/eww.el (eww--dwim-expand-url): Join hexified words together\n\twith + separators, instead of replacing whitespace with +.\n\n2017-09-03  Glenn Morris  <rgm@gnu.org>\n\n\temacsclient-tests: call-process may return non-integer\n\n\t* test/lib-src/emacsclient-tests.el\n\t(emacsclient-test-alternate-editor-allows-arguments)\n\t(emacsclient-test-alternate-editor-allows-quotes):\n\tHandle non-integer return from call-process.\n\n2017-09-03  Eli Zaretskii  <eliz@gnu.org>\n\n\t* lisp/simple.el (visual-line-mode): Doc fix.  (Bug#28337)\n\n2017-09-03  Alan Third  <alan@idiocy.org>\n\n\tForce screen update after drawing cursor glyph (bug#23774)\n\n\t* src/nsterm.m (ns_draw_window_cursor): Force a screen update after\n\tdrawing the glyph over the cursor.\n\n2017-09-03  Alan Mackenzie  <acm@muc.de>\n\n\tCorrect the fontification of quote marks after buffer changes in CC Mode.\n\n\t* lisp/progmodes/cc-defs.el\n\t(c-search-forward-char-property-with-value-on-char): New macro.\n\n\t* lisp/progmodes/cc-mode.el (c-parse-quotes-before-change)\n\t(c-parse-quotes-after-change): Rewrite the functions, simplifying\n\tconsiderably, and removing unnecessary optimizations.\n\tInvalidate two caches after manipulating text properties.\n\n2017-09-03  Alan Mackenzie  <acm@muc.de>\n\n\tFix fontification of \"operator~\" in C++ Mode.\n\n\t* lisp/progmodes/cc-langs.el (c-ambiguous-overloadable-or-identifier-prefices)\n\t(c-ambiguous-overloadable-or-identifier-prefix-re): New c-lang-defconsts/vars.\n\n\t* lisp/progmodes/cc-engine.el (c-forward-name): Do not try to parse \"~\" (and\n\ttwo other symbols) as a cast without good evidence.  Prefer an overloaded\n\toperator in ambiguous cases.\n\n2017-09-03  Martin Rudalics  <rudalics@gmx.at>\n\n\tIn delete_frame do not delete terminal for any toolkit build\n\n\t* src/frame.c (delete_frame): Neither delete terminal for\n\tnon-GTK toolkit builds (Bug#5802, Bug#21509, Bug#23499,\n\tBug#27816).\n\n2017-09-02  Philipp Stephani  <phst@google.com>\n\n\tImprove error messages for improper plists (Bug#27726)\n\n\t* src/fns.c (Fplist_put, Flax_plist_get, Flax_plist_put)\n\t(Fplist_member, syms_of_fns): Use \u2018plistp\u2019 as pseudo-predicate for\n\timproper plists instead of \u2018listp.\u2019\n\n\t* test/src/fns-tests.el (plist-get/odd-number-of-elements)\n\t(lax-plist-get/odd-number-of-elements)\n\t(plist-put/odd-number-of-elements)\n\t(lax-plist-put/odd-number-of-elements)\n\t(plist-member/improper-list): Add unit tests.\n\n2017-09-02  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix decrypting in plstore.el on MS-Windows\n\n\t* lisp/plstore.el (plstore-open): Bind coding-system-for-read to\n\traw-text, instead of using insert-file-contents-literally.\n\t(Bug#28114)\n\n2017-09-02  Eli Zaretskii  <eliz@gnu.org>\n\n\t* src/fileio.c (Fexpand_file_name): Doc fix.  (Bug#27982)\n\n2017-09-02  Eli Zaretskii  <eliz@gnu.org>\n\n\tRewrite Antinews for Emacs 26\n\n\t* doc/lispref/anti.texi (Antinews): Rewrite for Emacs 26.\n\t* doc/lispref/elisp.texi (Top): Update the top-level menu's\n\tAntinews entry.\n\t* doc/emacs/anti.texi (Antinews): Rewrite for Emacs 26.\n\t* doc/emacs/emacs.texi (Top): Update the top-level menu's Antinews\n\tentry.\n\n\t* etc/NEWS: Rearrange some entries in a more reasonable order.\n\n2017-09-02  Reuben Thomas  <rrt@sc3d.org>\n\n\tFix a mis-binding in a test\n\n\t* test/lisp/progmodes/python-tests.el\n\t(python-shell-calculate-process-environment-3): Fix binding of\n\tprocess-environment.  A level of parens was missing.\n\n\tThis was found after Glenn Morris noticed a similar problem with the\n\tpatch for Bug#28319.\n\n2017-09-02  Reuben Thomas  <rrt@sc3d.org>\n\n\tFix a mis-binding and a bad defun name in a test (Bug#28319)\n\n\ttest/lib-src/emacs-client-tests.el (call-emacsclient): Rename\n\temacsclient-test-call-emacsclient.\n\t(emacsclient-test-alternate-editor-allows-arguments)\n\t(emacsclient-test-alternate-editor-allows-quotes): Fix let-binding of\n\tprocess-environment.\n\n\tThanks to Glenn Morris for noticing these errors.\n\n2017-09-02  Glenn Morris  <rgm@gnu.org>\n\n\t* test/Makefile.in (check-no-automated-subdir): Silence by default.\n\n\t* test/Makefile.in (ELFILES): Sort, for a reproducible order.\n\n2017-09-01  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tTurn off checkdoc complaint about default argument order\n\n\t* etc/NEWS: Mention change.\n\t* lisp/emacs-lisp/checkdoc.el (checkdoc-arguments-in-order-flag):\n\tDisable by default, note version.\n\n2017-09-01  Reuben Thomas  <rrt@sc3d.org>\n\n\tStop emacsclient tests hanging (Bug#28319)\n\n\t* test/lib-src/emacsclient-tests.el\n\t(emacsclient-test-alternate-editor-allows-arguments): Use a\n\tnon-existent file to communicate with server, so that any existing\n\tdefault server will not be hijacked (in fact, the test does\n\tnot need a server).\n\t(emacsclient-test-alternate-editor-allows-quotes): Likewise.\n\n2017-09-01  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/obsolete/html2text.el: Don't require CL\n\n\t(html2text-clean-anchor): Mark unused arg.\n\n2017-09-01  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\tDon't remove undisplayers from inlined MIME parts (bugfix)\n\n\t* lisp/gnus/gnus-art.el (gnus-mime-buttonize-attachments-in-header):\n\tDon't remove undisplayers from inlined MIME parts (bugfix);\n\tSimplify criterion that finds attachments.\n\n2017-08-31  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tMake ucs-names a hash table (Bug#28302)\n\n\t* etc/NEWS: Mention the type change.\n\t* lisp/descr-text.el (describe-char): Use gethash to access ucs-names.\n\tHardcode BEL's name into the function instead of needlessly mapping\n\tover the hash table in the spirit of rassoc.\n\t* lisp/international/mule-cmds.el (ucs-names): Fix variable and\n\tfunction docstrings.  Initialize a hash table for ucs-names--the\n\tnumber of entries is 42845 here.  Switch to hash-table\n\tgetters/setters.\n\t(mule--ucs-names-annotation): Use hash-table getter.\n\t(char-from-name): Upcase the string if ignore-case is truthy.\n\t* lisp/leim/quail/latin-ltx.el: Use maphash instead of dolist.\n\n2017-08-31  Alan Third  <alan@idiocy.org>\n\n\tRemove unneeded version checks (bug#28222)\n\n\t* src/macfont.h (CGContextSetFontSmoothingStyle): Remove version\n\tcheck.\n\t* src/macfont.m (macfont_draw): Remove version check, and test for\n\texistence of CGContextSetFontSmoothingStyle.\n\n2017-08-31  Alan Mackenzie  <acm@muc.de>\n\n\tFix a glitch in CC Mode's syntactic whitespace cache.\n\n\t* lisp/progmodes/cc-engine.el (c-forward-sws): Deal correctly with a block\n\tcomment close at the end of a macro.\n\n2017-08-31  Alan Mackenzie  <acm@muc.de>\n\n\tCorrect the fontification of C++ Mode enclosed declarations.\n\n\t* lisp/progmodes/cc-fonts.el (c-font-lock-enclosing-decls): abolish the\n\tspurious check that the character before the start of an enclosed declaration\n\tmust be ; or }.  It might also be {.\n\n2017-08-31  Martin Rudalics  <rudalics@gmx.at>\n\n\tIn xterm.c fix some recently introduced compiler warnings\n\n\t* src/xterm.c (xaw_jump_callback)\n\t(x_set_toolkit_scroll_bar_thumb): Fix some recently introduced\n\t-Wdouble-promotion warnings.\n\n2017-08-31  Martin Rudalics  <rudalics@gmx.at>\n\n\tRestrict fix of Bug#24963 and Bug#25887 to GTK builds\n\n\t* src/xterm.c (handle_one_xevent): Restrict earlier fix of\n\tBug#24963 and Bug#25887 to avoid that a non-GTK Emacs won't\n\treact to state changes received via ConfigureNotify.\n\n2017-08-31  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\tRespect directory a user enters (bug#28299)\n\n\t* lisp/gnus/mm-decode.el (mm-save-part):\n\tRespect directory a user enters (bug#28299).\n\n2017-08-31  Samuel Freilich  <sfreilich@google.com>\n\n\tDo not split line before width of fill-prefix\n\n\tWhen auto-filling a paragraph, don't split a line before the width of the\n\tfill-prefix, creating a subsequent line that is as long or longer (Bug#20774).\n\t* lisp/simple.el (do-auto-fill): Only consider break-points that are later in\n\tthe line than the width of the fill-prefix.  This is a more general solution\n\tthan the previous logic, which only skipped over the exact fill-prefix.  The\n\tfill-prefix doesn't necessarily match the prefix of the first line of a\n\tparagraph in adaptive-fill-mode.\n\n2017-08-31  Noam Postavsky  <npostavs@gmail.com>\n\n\tSupport lazy loading for autogenerated usage docstrings too (Bug#27748)\n\n\t* lisp/emacs-lisp/bytecomp.el (byte-compile-file-form-defmumble):\n\tConsider any documentation that ended up in code as a docstring (e.g.,\n\tautogenerated (fn ARG1 ARG2) type things), not just what the user\n\tpassed.\n\n2017-08-31  Noam Postavsky  <npostavs@gmail.com>\n\n\tDrop docstrings from cl-defsubst produced inline bodies (Bug#27748)\n\n\t* lisp/emacs-lisp/cl-macs.el (cl-defsubst): Use macroexp-parse-progn\n\tto drop the docstring.  Add a simple docstring to the compiler-macro.\n\n2017-08-30  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tQuote file-truename symlink to \"../foo:bar:\"\n\n\tProblem reported by Michael Albinus (Bug#28264#19).\n\t* lisp/files.el (files--splice-dirname-file): Fix bug where\n\ta relative symlink to \"../foo:bar:\" did not quote the result.\n\n2017-08-30  Reuben Thomas  <rrt@sc3d.org>\n\n\tAdd support for arguments in emacsclient's ALTERNATE_EDITOR (Bug #25082)\n\n\t* lib-src/emacsclient.c (fail): Parse ALTERNATE_EDITOR, or\n\tcorresponding command-line argument, into quote- or space-separated\n\ttokens.  If a token starts with a quote, then it naturally is expected\n\tto end with a quote; escaping is not supported. This is enough to cope\n\twith the typical case of requiring the initial path to be quoted,\n\tcommon on Windows where it may contain spaces.\n\t* etc/NEWS: Document.\n\t* doc/emacs/misc.texi: Likewise.\n\t* doc/man/emacsclient.1: Tweak to remove the implication that only an\n\teditor can be specified (the manual already mentions a \u201ccommand\u201d).\n\tFix a small error where \u201cEDITOR\u201d is referred to rather than\n\t\u201cALTERNATE_EDITOR\u201d.\n\t* test/lib-src/emacsclient-tests.el: Add tests.\n\n2017-08-30  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/man.el (Man-softhyphen-to-minus): Avoid string-as-multibyte.\n\n2017-08-30  Devon Sean McCullough  <Emacs-Hacker2017@jovi.net>  (tiny change)\n\n\tCorrect \"hide others\" shortcut on macOS (bug#28215)\n\n\t* lisp/term/ns-win.el: Fix shortcut for ns-do-hide-others.\n\n2017-08-30  Eli Zaretskii  <eliz@gnu.org>\n\n\tSync NEWS with the documentation\n\n\t* etc/NEWS: Mark entries according to documentation.\n\n\t* doc/lispref/functions.texi (Mapping Functions): Document 'mapcan'.\n\n2017-08-30  Michael Albinus  <michael.albinus@gmx.de>\n\n\tImprove symlinks for Tramp\n\n\t* lisp/files.el (files--splice-dirname-file): Quote whole file.\n\n\t* lisp/net/tramp-sh.el (tramp-sh-handle-make-symbolic-link):\n\tDo not expand TARGET, it could be remote.\n\t(tramp-sh-handle-file-truename): Check for cyclic symlink also\n\tin case of readlink.  Quote result if it looks remote.\n\t(tramp-sh-handle-file-local-copy): Use `file-truename'.\n\n\t* test/lisp/net/tramp-tests.el (tramp-test08-file-local-copy)\n\t(tramp-test09-insert-file-contents): Test also file missing.\n\t(tramp-test21-file-links): Extend test.\n\n2017-08-30  Martin Rudalics  <rudalics@gmx.at>\n\n\tPreserve display's foreground color when clearing internal borders (Bug#28278)\n\n\t* src/xterm.c (x_after_update_window_line): Preserve display's\n\tforeground color when clearing internal borders (Bug#28278).\n\n2017-08-30  Noam Postavsky  <npostavs@gmail.com>\n\n\tUse cl-print for all values printed by `describe-variable'\n\n\t* lisp/help-fns.el (describe-variable): Use cl-prin1 for original and\n\tglobal values too.\n\n2017-08-30  Noam Postavsky  <npostavs@gmail.com>\n\n\tMinor simplification for byte-compile-constant-push\n\n\t* lisp/emacs-lisp/bytecomp.el (byte-compile-constant): Move the meat\n\tof the code from here...\n\t(byte-compile-constant-push): ... to here.  No need to bind\n\tbyte-compile--for-effect anymore.\n\n2017-08-30  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPrefer file-name-quote to concat \"/:\"\n\n\tSuggested by Michael Albinus (Bug#28264#13).\n\t* lisp/files.el (files--splice-dirname-file): Use file-name-quote\n\trather than attempting to do it by hand.\n\n2017-08-30  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* configure.ac: fix typo in previous change\n\n2017-08-29  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tBe more conservative in link time optimization doc\n\n\tWhile testing --enable-link-time-optimization with GCC 7.1.1\n\tI ran into a serious GCC code-generation bug which makes me\n\tthink that --enable-link-time-optimization should be\n\tdiscouraged for typical installs (Bug#28213).  See:\n\thttps://bugzilla.redhat.com/show_bug.cgi?id=1486455\n\n2017-08-29  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMake garbage collection more conservative\n\n\tCheck for a pointer anywhere within the object, as opposed to just\n\tthe start of the object.  This is needed for gcc -Os -flto on\n\tx86-64 (Bug#28213).  This change means that the garbage collector\n\tis more conservative, and will incorrectly keep objects that it\n\tdoes not need to, but that is better than incorrectly discarding\n\tobjects that should be kept.\n\t* src/alloc.c (ADVANCE, VINDEX): Now functions, not macros;\n\tthis is easier to debug.\n\t(setup_on_free_list): Rename from SETUP_ON_FREE_LIST.\n\tNow a function with two args, not a macro with three.\n\tAll callers changed.\n\t(live_string_holding, live_cons_holding, live_symbol_holding)\n\t(live_misc_holding, live_vector_holding, live_buffer_holding):\n\tNew functions, which check for any object containing the addressed\n\tbyte, not just for an object at the given address.\n\t(live_string_p, live_cons_p, live_symbol_p, live_misc_p)\n\t(live_vector_p, live_buffer_p):\n\tRedefine in terms of the new functions.\n\t(live_float_p): Refactor slightly to match the new functions.\n\t(mark_maybe_object, mark_maybe_pointer): Use the new functions.\n\tDon\u2019t bother checking mark bits, as mark_object already does that,\n\tand omitting the checks here simplifies the code.  Although\n\tmark_maybe_object can continue to insist that tagged pointers\n\tstill address the start of the object, mark_maybe_pointer now is\n\tmore conservative and checks for pointers anywhere into an object.\n\n2017-08-29  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tImprove stack-top heuristic\n\n\tThis is needed for gcc -Os -flto on x86-64; otherwise, GC misses part\n\tof the stack when scanning for heap roots, causing Emacs to crash\n\tlater (Bug#28213).  The problem is that Emacs's hack for getting an\n\taddress near the stack top does not work when link-time optimization\n\tmoves stack variables around.\n\t* configure.ac (HAVE___BUILTIN_FRAME_ADDRESS): New macro.\n\t* lib-src/make-docfile.c (DEFUN_noinline): New constant.\n\t(write_globals, scan_c_stream): Support noinline.\n\t* src/alloc.c (NEAR_STACK_TOP): New macro.\n\t(SET_STACK_TOP_ADDRESS): Use it.\n\t(flush_stack_call_func, Fgarbage_collect): Now noinline.\n\n2017-08-29  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tAlign stack bottom properly.\n\n\tThis is needed for gcc -Os -flto on x86-64 (Bug#28213).\n\t* src/emacs.c (main): Align stack-bottom variable as a pointer,\n\tsince mark_memory requires this.\n\n2017-08-29  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid spinning waiting for git-gui.exe on Windows\n\n\t* src/w32proc.c (waitpid): If GetExitCodeProcess returns\n\tSTILL_ACTIVE, and we were called with WNOHANG, pretend that the\n\tprocess exited.  (Bug#28268)\n\n2017-08-29  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument '--module-assertions'\n\n\t* doc/emacs/cmdargs.texi (Initial Options): Document the\n\t'--module-assertions' command-line option.\n\t* doc/lispref/loading.texi (Dynamic Modules): Add a\n\tcross-reference to the description of '--module-assertions'.\n\n\t* etc/NEWS: Update the NEWS entry for --module-assertions.\n\n2017-08-29  Alan Third  <alan@idiocy.org>\n\n\tAdd news entry about new macOS features\n\n\t* etc/NEWS: Add entry about ns-appearance, ns-transparent-titlebar and\n\tns-use-thin-smoothing.\n\n2017-08-29  Alan Third  <alan@idiocy.org>\n\n\tFix cross macOS version building (bug#28222)\n\n\t* src/macfont.h (CGContextSetFontSmoothingStyle): Function\n\tdeclaration.\n\t* src/macfont.m (macfont_draw): Limit new code to macOS 10.8 and up.\n\n2017-08-29  Ben Bonfil  <bonfil@gmail.com>  (tiny change)\n\n\tEnable thin font smoothing in macOS (bug#28222)\n\n\t* src/nsterm.m (syms_of_nsterm): Define var ns-use-thin-smoothing.\n\t* src/macfont.m (macfont_draw): Use font smoothing.\n\n2017-08-29  Eli Zaretskii  <eliz@gnu.org>\n\n\tMinor improvement in documentation of display-line-numbers\n\n\t* doc/emacs/display.texi (Display Custom): Document the\n\tdisplay-line-numbers-mode and related options.\n\n2017-08-29  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid aborting in 'waitpid' on MS-Windows\n\n\t* src/w32proc.c (waitpid): Don't allow quitting if called with\n\tWNOHANG in OPTIONS.  (Bug#28268)\n\n2017-08-29  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/progmodes/sh-script.el: Test \"in-string\" of the right char!\n\n\t(sh-syntax-propertize-function): Fix off-by-one error.\n\tFixes bug#23526.\n\n2017-08-29  Rasmus  <rasmus@gmx.us>\n\n\tUpdate Org to v9.0.10\n\n\tPlease see etc/ORG-NEWS for major changes. Note, this is a bugfix\n\trelease.\n\n2017-08-29  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSilence false alarms for symlinks to sources\n\n\tProblem reported by Glenn Morris (Bug#28264).\n\t* lisp/files.el (files--splice-dirname-file): New function.\n\t(file-truename, file-chase-links): Use it.\n\n2017-08-29  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSimplify remove_slash_colon\n\n\t* src/process.c (remove_slash_colon): Simplify\n\tand avoid a special case for \"/:\" by itself.\n\n2017-08-28  Tassilo Horn  <tsdh@gnu.org>\n\n\tRemove font family from minibuffer-prompt face\n\n\t* etc/themes/tsdh-light-theme.el (tsdh-light): Remove font family from\n\tminibuffer-prompt face.\n\n2017-08-28  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFurther fixes in tramp-smb.el\n\n\t* lisp/net/tramp-smb.el (tramp-smb-handle-file-truename): New defun.\n\t(tramp-smb-file-name-handler-alist): Use it.\n\t(tramp-smb-handle-make-symbolic-link): Unquote target.\n\n\t* test/lisp/net/tramp-tests.el\n\t(tramp--test-ignore-make-symbolic-link-error): New defmacro.\n\t(tramp-test18-file-attributes, tramp-test21-file-links)\n\t(tramp--test-check-files): Use it.\n\n2017-08-28  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDon\u2019t assume -g3 in .gdbinit\n\n\t* src/.gdbinit (EMACS_INT_WIDTH, USE_LSB_TAG):\n\tUse reasonable defaults if not in the symbol table.\n\n2017-08-28  Robert Pluim  <rpluim@gmail.com>  (tiny change)\n\n\tUse string-match to check for dotfiles in ido\n\n\t* lisp/ido.el (ido-make-file-list): Use string-match to check\n\tfor dotfiles instead of substring, as when using tramp\n\tsimplified syntax ido-temp-list may contain empty strings.\n\n2017-08-28  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tFont-lock FDO desktop files correctly\n\n\tSingle and double quotes do not have a special meaning in\n\tdesktop files.\n\thttps://standards.freedesktop.org/desktop-entry-spec/latest/\n\t* etc/NEWS: Mention new mode.\n\t* lisp/files.el (auto-mode-alist): Split out an entry for handling\n\tthe .desktop extension with conf-desktop-mode.\n\t* lisp/textmodes/conf-mode.el (conf-desktop-font-lock-keywords): New\n\tvariable with rules for booleans and format specifiers.\n\t(conf-unix-mode): Remove desktop file entry example from docstring.\n\t(conf-desktop-mode): New derived major mode.\n\n2017-08-27  Tom Tromey  <tom@tromey.com>\n\n\tFix auto-fill bug in js-mode\n\n\t* lisp/progmodes/js.el (js-do-auto-fill): New function.\n\t(js-mode): Set normal-auto-fill-function.\n\t* test/lisp/progmodes/js-tests.el (js-mode-fill-comment-bug): New\n\ttest.\n\n2017-08-27  Noam Postavsky  <npostavs@gmail.com>\n\n\tDisable completion while entering python multiline statements\n\n\tThe \"legacy\" completion mechanism sends newlines to the running python\n\tprocess to get the list of completions, which confuses things if the\n\tuser is in the middle of entering a multiline statement (Bug#28051).\n\tIt's better to disable completion in this case.\n\t* lisp/progmodes/python.el (python-shell--block-prompt): New variable.\n\t(python-shell-prompt-set-calculated-regexps): Set it.\n\t(python-shell-completion-at-point): Return 'ignore' as the completion\n\tfunction when the current prompt is a block prompt.\n\n2017-08-27  Michael Albinus  <michael.albinus@gmx.de>\n\n\tTramp cleanup\n\n\t* lisp/net/tramp-sh.el (tramp-sh-extra-args): Remove compat code.\n\t(tramp-sh-handle-make-symbolic-link): More robust check for\n\tTARGET remoteness.\n\n\t* lisp/net/tramp-smb.el (tramp-smb-handle-copy-directory):\n\tDisable copying by tar temporarily, it doesn't work reliably.\n\t(tramp-smb-do-file-attributes-with-stat): Resolve symlink.\n\t(tramp-smb-handle-make-symbolic-link): Fix implementation.\n\n\t* lisp/net/tramp.el (tramp-handle-file-symlink-p): Simplify.\n\n\t* test/lisp/net/tramp-tests.el (tramp-test21-file-links):\n\tExtend test.\n\n2017-08-27  Glenn Morris  <rgm@gnu.org>\n\n\tFix previous xterm.h change for non-gtk builds\n\n\t* src/xterm.h (GTK_CHECK_VERSION) [!USE_GTK]: Define it.\n\n2017-08-27  Philipp Stephani  <phst@google.com>\n\n\tFix GdkSettings-related deprecation warnings\n\n\t* src/gtkutil.c (xg_initialize): Don\u2019t set deprecated and ignored\n\tgtk-menu-bar-accel setting in new versions of GTK+.  Use g_object_set\n\tinstead of deprecated gtk_settngs_set_string_property otherwise.\n\n2017-08-27  Philipp Stephani  <phst@google.com>\n\n\tAlways use gtk_window_move in new versions\n\n\t* src/gtkutil.c (my_log_handler): Don\u2019t define in new versions of\n\tGTK+.\n\t(xg_set_geometry): Always use gtk_window_move in new versions of GTK+.\n\n\t* src/xterm.c (syms_of_xterm): Document that x-gtk-use-window-move\n\tis ignored.\n\n\t* lisp/subr.el (x-gtk-use-window-move): Make obsolete.\n\n2017-08-27  Charles A. Roelli  <charles@aurox.ch>\n\n\tFix 'diff-goto-source' when buffer is narrowed (Bug#21262)\n\n\t* lisp/vc/diff-mode.el (diff-find-file-name): Save the current\n\tnarrowing, and widen the buffer before searching for the name of the\n\tfile corresponding to the diff.\n\n\tWith thanks to Noam Postavsky.\n\n2017-08-27  Philipp Stephani  <phst@google.com>\n\n\tRemove use of a deprecated GTK+ function in new versions\n\n\t* src/gtkutil.c (xg_make_tool_item): Use gtk_widget_set_focus_on_click\n\tif available\n\n2017-08-27  Philipp Stephani  <phst@google.com>\n\n\tStop using deprecated GdkScreen monitor functions in newer GDK\n\n\t* src/xfns.c (Fx_display_monitor_attributes_list): Use GdkMonitor\n\tobjects instead of the deprecated GdkScreen functions in GDK 3.22+\n\n2017-08-27  Philipp Stephani  <phst@google.com>\n\n\tUse GdkSeat in new GDK versions\n\n\t* src/gtkutil.c (xg_event_is_for_scrollbar): Use GdkSeat instead of\n\tGdkDeviceManager in GDK 3.20+\n\n2017-08-27  Philipp Stephani  <phst@google.com>\n\n\t* src/xterm.c (XTflash): Don\u2019t use gdk_cairo_create in GDK 3.22+\n\n2017-08-27  Philipp Stephani  <phst@google.com>\n\n\tRemove call of deprecated GDK function\n\n\t* src/xterm.h (XSync): Don\u2019t call gdk_window_process_all_updates in\n\tGDK 3.22 or later.\n\n2017-08-27  Alan Mackenzie  <acm@muc.de>\n\n\tAmend the CC Mode macro cache to cope with changes at the macro start\n\n\tFixes bug #28233.\n\n\t* lisp/progmodes/cc-engine.el (c-invalidate-macro-cache): Fix an off-by-1\n\terror.\n\n2017-08-27  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix over-protection of byte-compiled files\n\n\tProblem reported by Sven Joachim (Bug#28244).\n\tAlso, fix similar problem for autoload files.\n\t* lisp/emacs-lisp/autoload.el (autoload--save-buffer):\n\tSet temp file modes to the buffer-file-name file modes (or 666\n\tif not available) as adjusted by umask.\n\t* lisp/emacs-lisp/bytecomp.el (byte-compile-file):\n\tSet temp file modes to 666 as adjusted by umask.\n\n2017-08-27  Tom Tromey  <tom@tromey.com>\n\n\tRefine conf-toml-mode font-lock\n\n\tBug#28218\n\t* lisp/textmodes/conf-mode.el (conf-toml-font-lock-keywords): Use\n\tconf-toml-recognize-section.  Use \\s- in variable regexp.\n\t(conf-toml-recognize-section): New function.\n\n2017-08-27  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDo not munge contents of local symbolic links\n\n\tThis lets Emacs deal with arbitrary local symlinks without\n\tmishandling their contents (Bug#28156).  For example,\n\t(progn (shell-command \"ln -fs '~' 'x'\") (rename-file \"x\" \"/tmp/x\"))\n\tnow consistently creates a symbolic link from '/tmp/x' to '~'.\n\tFormerly, it did that only if the working directory was on the\n\tsame filesystem as /tmp; otherwise, it expanded the '~' to\n\tthe user's home directory.\n\t* lisp/dired.el (dired-get-filename): Use files--name-absolute-system-p\n\tinstead of rolling our own code.\n\t* lisp/files.el (files--name-absolute-system-p): New function.\n\t(file-truename, file-chase-links): Use it to avoid mishandling\n\tsymlink contents that begin with ~.\n\t(copy-directory, move-file-to-trash):\n\tUse concat rather than expand-file-name, to avoid mishandling\n\tsymlink contents that begin with ~.\n\t* src/fileio.c (Fmake_symbolic_link): Do not expand leading \"~\" in the\n\ttarget unless interactive.  Strip leading \"/:\" if interactive.\n\t(emacs_readlinkat): Do not prepend \"/:\" to the link target if\n\tit starts with \"/\" and contains \":\" before NUL.\n\t* test/src/fileio-tests.el (try-link): Rename from try-char,\n\tand accept a string instead of a char.  All uses changed.\n\t(fileio-tests--symlink-failure): Also test leading ~, and \"/:\",\n\tto test the new behavior.\n\n2017-08-27  Reuben Thomas  <rrt@sc3d.org>\n\n\tRemove invalid regexp for shell builtins for wksh\n\n\t* lisp/progmodes/sh-script.el (sh-builtins): Shell built-ins have to\n\tbe literal strings, so remove a regexp for wksh. In any case, it\u2019s a\n\tdefunct proprietary shell.\n\n2017-08-26  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tImprove doc for file-name-absolute-p.\n\n2017-08-26  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix Tramp part of Bug#28156\n\n\t* lisp/files.el (file-name-non-special): Use `file-name-quote'\n\tinstead prefixing \"/:\", the file could already be quoted.\n\n\t* lisp/net/tramp.el (tramp-error): Handle null arguments.\n\t(tramp-handle-make-symbolic-link):\n\t* lisp/net/tramp-sh.el (tramp-sh-handle-make-symbolic-link)\n\t(tramp-sh-handle-add-name-to-file):\n\t* lisp/net/tramp-smb.el (tramp-smb-handle-add-name-to-file)\n\t(tramp-smb-handle-make-symbolic-link): Adapt implementation to\n\tstronger semantics in Emacs.  (Bug#28156)\n\n\t* test/lisp/net/tramp-tests.el (tramp-test21-file-links):\n\tExtend test.\n\n2017-08-26  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix bugs merged with bug#25428\n\n\t* lisp/simple.el (auto-fill-mode, visual-line-mode): Doc fix.\n\t(Bug#13926)  (Bug#25434)  (Bug#25435)\n\n2017-08-26  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of Info virtual files and nodes\n\n\t* lisp/info.el (Info-virtual-files, Info-virtual-nodes): Doc fix.\n\t(Bug#28237)\n\n2017-08-26  Eli Zaretskii  <eliz@gnu.org>\n\n\t* lisp/delsel.el (delete-selection-mode): Doc fix.  (Bug#25428)\n\n2017-08-26  Gr\u00e9gory Mouni\u00e9  <Gregory.Mounie@imag.fr>  (tiny change)\n\n\tSupport multi-lingual detection of SEE ALSO man sections\n\n\t* lisp/man.el (Man-see-also-regexp): Add support for SEE ALSO\n\tsection detection in several langages: French, German, Spanish,\n\tPortuguese, Italian, Polish, Turkish, Japanese, Chinese.  (Bug#28142)\n\n2017-08-26  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tImprove expand-file-name doc\n\n\t* doc/lispref/files.texi (Relative File Names, Directory Names)\n\t(File Name Expansion):\n\t* doc/lispref/minibuf.texi (Reading File Names):\n\tDocument expand-file-name behavior with ~ more clearly\n\tand accurately.\n\t* doc/misc/org.texi (Batch execution): Simplify example\n\tscript so that it does not need expand-file-name and thus\n\twill not mishandle file names with leading ~.\n\n2017-08-26  Jefferson Carpenter  <jeffersoncarpenter2@gmail.com>  (tiny change)\n\n\tSupport all perl variable declarators and prefixes (Bug#27613)\n\n\t* lisp/progmodes/perl-mode.el (perl-imenu-generic-expression)\n\t(perl-font-lock-keywords-2): Match declators 'anon', 'argument', 'has',\n\t'local', 'state', 'supersede', 'let', and 'temp'.\n\n2017-08-25  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix file-attributes race on GNU hosts\n\n\t* doc/lispref/files.texi (File Attributes):\n\tDocument file-attributes atomicity.\n\t* etc/NEWS: Document the fix.\n\t* src/dired.c (file_attributes): New args DIRNAME and FILENAME,\n\tfor diagnostics.  All callers changed.  On platforms like\n\tGNU/Linux that support O_PATH, fix a race condition in\n\tfile-attributes and similar functions, so that these functions do\n\tnot return nonsense if a directory entry is replaced while getting\n\tits attributes.  On non-GNU platforms, do a better (though not\n\tperfect) job of detecting the race, and return nil if detected.\n\n2017-08-25  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSimplify expand_and_dir_to_file\n\n\t* src/fileio.c (expand_and_dir_to_file): Simplify by omitting 2nd\n\targument, since in practice it always has the default value.  All\n\tcallers changed.  Prefer C99 style decls in nearby code.\n\n2017-08-25  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix file-name completion on network shares\n\n\t* src/w32.c (faccessat): Don't assume that F_OK is non-zero.\n\t(Bug#28207)\n\n2017-08-25  Reuben Thomas  <rrt@sc3d.org>\n\n\tFix a FIXME with an exegetical comment\n\n\t* lisp/progmodes/sh-script.el (sh-builtins): Explain why we have a\n\tregexp for wksh builtins.\n\n2017-08-25  Reuben Thomas  <rrt@sc3d.org>\n\n\tMinor docstring language fix\n\n\t* lisp/progmodes/sh-script.el (sh-show-indent): Remove spurious \u201cthe\u201d.\n\n2017-08-25  Reuben Thomas  <rrt@sc3d.org>\n\n\tRemove old commented code from sh-script.el\n\n\t* lisp/progmodes/sh-script.el (sh-abbrevs): Remove commented function\n\tand variable, commented since 2001.\n\n2017-08-25  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/package.el: Don't let failure stop us\n\n\t(package-activate-1): Don't throw an error for missing deps.\n\t(package-unpack): Don't bother compiling if activation failed.\n\t(package-initialize): Report failures but keep activating other packages.\n\n2017-08-25  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPrefer \u2018double\u2019 for FP temps in xterm.c\n\n\t* src/xterm.c (xm_scroll_callback, xaw_jump_callback)\n\t(x_set_toolkit_scroll_bar_thumb)\n\t(x_set_toolkit_horizontal_scroll_bar_thumb): Prefer \u2018double\u2019 to\n\t\u2018float\u2019 for individual local floating-point temporaries.\n\n2017-08-24  Reuben Thomas  <rrt@sc3d.org>\n\n\tAvoid using string-to-multibyte in ispell.el\n\n\t* lisp/textmodes/ispell.el (ispell-get-decoded-string): Use\n\tdecode-coding-string instead. Note that decode-coding-string returns a\n\tstring that satisfies multibyte-string-p even if its input is pure\n\tASCII and the third argument is t, so the result of\n\tispell-get-decoded-string is always a multibyte string.\n\n2017-08-24  Tino Calancha  <tino.calancha@gmail.com>\n\n\tStore the regexp just when there are matches\n\n\t* lisp/hi-lock.el (hi-lock-set-pattern): When font-lock-mode is\n\tdisabled and there are no matches do not store REGEXP\n\tin hi-lock-interactive-patterns.\n\n2017-08-24  Tino Calancha  <tino.calancha@gmail.com>\n\n\tKeep face available if there are no matches\n\n\tIf font-lock-mode is disabled in the current buffer, and\n\tthere are no matches for REGEXP, then keep FACE available\n\tfor a next search.\n\t* lisp/hi-lock.el (hi-lock-set-pattern): Add FACE into\n\thi-lock--unused-faces if font-lock-mode is disabled and\n\tthere are no matches.\n\t* test/lisp/hi-lock-tests.el (hi-lock-test-set-pattern): Add test.\n\n2017-08-24  Michael Albinus  <michael.albinus@gmx.de>\n\n\tMinor improvements for tramp-interrupt-process, documentation\n\n\t* doc/lispref/processes.texi (Signals to Processes):\n\t* etc/NEWS: Document interrupt-process-functions.\n\n\t* lisp/net/tramp.el (tramp-interrupt-process): Test also for\n\t`process-live-p'.\n\n\t* src/process.c (Vinterrupt_process_functions): Fix docstring.\n\n\t* test/lisp/net/tramp-tests.el (tramp-test28-interrupt-process):\n\tExtend test.\n\n2017-08-24  Reuben Thomas  <rrt@sc3d.org>\n\n\tFix a comment whitespace typo.\n\n\tsrc/fileio.c: A double space was added after \"..\", used in a code\n\texample. Make it a single space.\n\n2017-08-24  Reuben Thomas  <rrt@sc3d.org>\n\n\tRemove old commented code and obsolete comments\n\n\t* lisp/files.el (locate-dominating-files): Remove old commented\n\timplementation from 9 years ago.  Since the current version\n\tappears (at least to me) not just more efficient but clearer than the\n\tversion removed, also delete a comment in the new version referring to\n\tthe old version. Remove old commented heuristic code,\n\tand explanatory comments.\n\n2017-08-24  Reuben Thomas  <rrt@sc3d.org>\n\n\tRemove old duplicate commented code\n\n\t* lisp/files.el (file-relative-name): Remove old commented version,\n\treplaced 14 years ago in commit 753ad9889.\n\n2017-08-24  Tom Tromey  <tom@tromey.com>\n\n\tAdd conf-toml-mode\n\n\t* etc/NEWS: Mention conf-toml-mode.\n\t* lisp/files.el (auto-mode-alist): Add entry for .toml.\n\t* lisp/textmodes/conf-mode.el (conf-toml-mode-syntax-table)\n\t(conf-toml-font-lock-keywords): New defvars.\n\t(conf-toml-mode): New mode.\n\n2017-08-23  Alan Third  <alan@idiocy.org>\n\n\tUse lisp type in log message (bug#28176)\n\n\t* src/nsimage.m (ns_load_image): Use make_number on index.\n\n2017-08-23  Alan Third  <alan@idiocy.org>\n\n\tFix PNGs on macOS (bug#28176)\n\n\t* src/nsimage.m (ns_load_image): Remove index check.\n\t(EmacsImage::getAnimatedBitmapImageRep): New function.\n\t(EmacsImage::getMetadata): Use getAnimatedBitmapImageRep.\n\t(EmacsImage::setFrame): Use getAnimatedBitmapImageRep and check index\n\tis valid.\n\n2017-08-23  Alan Third  <alan@idiocy.org>\n\n\tAdd ability to change macOS WM theme (bug#27973)\n\n\t* src/frame.c (make_frame, frame_parms, syms_of_frame)\n\t[NS_IMPL_COCOA]: Add ns-appearance and ns-transparent-titlebar\n\toptions.\n\t* src/frame.h (ns_appearance_type) [NS_IMPL_COCOA]: Add enum to\n\trepresent NSAppearance options.\n\t(struct frame) [NS_IMPL_COCOA]: Add ns_appearance and\n\tns_transparent_titlebar frame parameters.\n\t* src/nsfns.m (ns_frame_parm_handlers) [NS_IMPL_COCOA]: Add\n\tns_set_appearance and ns_set_transparent_titlebar handlers.\n\t(Sx_create_frame): Handle ns-appearance and ns-transparent-titlebar\n\tframe parameters.\n\t(Qdark): Add new symbol for use with ns-appearance.\n\t* src/nsterm.h (ns_set_appearance, ns_set_transparent_titlebar)\n\t[NS_IMPL_COCOA]: Add prototypes.\n\t* src/nsterm.m (ns_set_appearance, ns_set_transparent_titlebar)\n\t[NS_IMPL_COCOA]: New functions.\n\t(initFrameFromEmacs) [NS_IMPL_COCOA]: Handle ns-appearance and\n\tns-transparent-titlebar frame parameters.\n\t* doc/lispref/frames.texi (Window Management Parameters): Document\n\tns-apperance and ns-transparent-titlebar.\n\n2017-08-22  Alan Mackenzie  <acm@muc.de>\n\n\tWhen looking for the end of a declarator, prevent macros fouling up the search\n\n\tThe practical implication of this bug was a random jit-lock chunk remaining\n\tentirely unfontified.\n\n\t* lisp/progmodes/cc-mode.el (c-fl-decl-end): If point starts inside a macro,\n\trestrict two forward searches to the end of that macro.\n\n2017-08-22  Michael Albinus  <michael.albinus@gmx.de>\n\n\tTest `file-expand-wildcards' for Tramp\n\n\t* lisp/net/tramp-compat.el (tramp-advice-file-expand-wildcards):\n\tRemove, not needed anymore.\n\n\t* test/lisp/net/tramp-tests.el (top): Require seq.el.\n\t(tramp-test16-directory-files): Simplify.\n\t(tramp-test16-file-expand-wildcards): New test.\n\t(tramp-test28-interrupt-process): Skip for older Emacsen.\n\n2017-08-22  Alexander Gramiak  <agrambot@gmail.com>\n\n\tAdd tests for cl-macs.el (Bug#27559)\n\n\t* test/lisp/emacs-lisp/cl-lib-tests.el (cl-lib-test-loop): Remove\n\tduplicate.\n\t(cl-loop-destructuring-with): Move to cl-macs-tests.el.\n\t* test/lisp/emacs-lisp/cl-macs-tests.el: New file.\n\n2017-08-22  Noam Postavsky  <npostavs@gmail.com>\n\n\tOptimize skkdic conversion (Bug#28043)\n\n\tThe primary speedup comes from the optimizing lookup-nested-alist and\n\tset-nested-alist for the case where the key is a string.  This brings\n\tthe time down to less than half the original.\n\n\t* lisp/international/mule-util.el (lookup-nested-alist)\n\t(set-nested-alist): Use `assq' instead of `assoc' when KEYSEQ is a\n\tstring.\n\n\t* lisp/international/ja-dic-cnv.el (skkdic-collect-okuri-nasi)\n\t(skkdic-convert-okuri-nasi): Use progress-reporter functions instead\n\tof calculating ratio of work done inline.\n\n\t(skkdic-reduced-candidates): Call `char-category-set' on the first\n\tcharacter of the string directly, instead of using a regexp for the\n\tcharacter category.\n\t(skkdic--japanese-category-set): New constant.\n\t(skkdic-collect-okuri-nasi): Just set\n\t`skkdic-okuri-nasi-entries-count' at once at the end rather than\n\tupdating it throughout the loop.\n\n\t(skkdic-convert-postfix skkdic-convert-prefix)\n\tskkdic-get-candidate-list, skkdic-collect-okuri-nasi)\n\t(skkdic-extract-conversion-data): Use `match-string-no-properties'\n\tinstead of `match-string'.\n\n2017-08-22  Reuben Thomas  <rrt@sc3d.org>\n\n\tTreat tests in lib-src like tests in src\n\n\t* test/Makefile.in (test_template): Depend on a .c source file for a\n\ttest under lib-src, as for src.  (Thanks, Glenn Morris for pointing me\n\tin the right direction.)\n\n2017-08-22  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort /bin/sh scripts to Solaris 10\n\n\tIts /bin/sh builtin \u2018test\u2019 command does not support -e.\n\t* autogen.sh, build-aux/git-hooks/pre-commit:\n\t* build-aux/gitlog-to-emacslog, make-dist:\n\tUse test -r, not test -e.\n\n2017-08-21  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid losing the buffer restriction in flyspell-mode\n\n\t* src/intervals.c (get_local_map): Don't allow C-g to quit as long\n\tas we have the buffer widened, to make sure the restriction is\n\tpreserved.  (Bug#28161)\n\n2017-08-21  Sven Joachim  <svenjoac@gmx.de>\n\n\tFix the 'versionclean' target in src/Makefile\n\n\t* src/Makefile.in (versionclean): Don't accidentally remove\n\temacs-module.h.  (Bug#28169)\n\n2017-08-21  Michael Albinus  <michael.albinus@gmx.de>\n\n\tImplement `interrupt-process-functions'\n\n\t* lisp/net/tramp.el (tramp-interrupt-process): Rename from\n\t`tramp-advice-interrupt-process'.  Adapt according to changed API.\n\t(top): Add it to `interrupt-process-functions'.\n\n\t* src/process.c (Finternal_default_interrupt_process): New defun.\n\t(Finterrupt_process): Change implementation, based on\n\tVinterrupt_process_functions.\n\t(Vinterrupt_process_functions): New defvar.\n\n\t* test/lisp/net/tramp-tests.el (tramp-test40-unload): Do not\n\ttest removal of advice.\n\n2017-08-21  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid floating-point exceptions while drawing underwave\n\n\t* src/w32term.c (x_get_scale_factor):\n\t* src/xterm.c (x_get_scale_factor): Don't let the scale factors\n\tbecome less than 1.  Reported by Yuri D'Elia <wavexx@thregr.org> in\n\thttps://lists.gnu.org/r/emacs-devel/2017-08/msg00459.html.\n\n2017-08-21  Sam Steingold  <sds@gnu.org>\n\n\tmark flymake-mode as safe local variable when the value is nil\n\n2017-08-21  Sam Steingold  <sds@gnu.org>\n\n\tallow nil init in flymake-allowed-file-name-masks to disable flymake\n\n\t(flymake-allowed-file-name-masks): Update doc and :type.\n\t(flymake-get-file-name-mode-and-masks): Handle nil init.\n\n2017-08-20  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tRemove the workaround for bug#20719\n\n\t* lisp/cedet/semantic/symref/grep.el\n\t(semantic-symref-grep-use-template): Remove the workaround for\n\tbug#20719, it's been fixed for a while now.\n\n2017-08-20  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tFix byte-compilation warnings in semantic/symref/grep\n\n\t* lisp/cedet/semantic/symref/grep.el (greppattern): Remove.\n\t(grepflags): Rename to semantic-symref-grep-flags.\n\t(semantic-symref-grep-expand-keywords): Update accordingly.\n\t(semantic-symref-grep-use-template): Remove the last two\n\targuments to make sure they don't shadow the (not renamed)\n\tglobal variables.\n\t(semantic-symref-perform-search)\n\t(semantic-symref-parse-tool-output-one-line): Use slot names\n\tinstead of keywords, like the byte-compiler wants us to.\n\n2017-08-20  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tSimplify eldoc-message\n\n\t* lisp/emacs-lisp/eldoc.el (eldoc-message): Simplify.\n\tDon't use ARGS because no callers pass them.  Discussed in bug#27230.\n\n2017-08-20  Noam Postavsky  <npostavs@gmail.com>\n\n\tWork around w32-python-2.x bug to fix prompt detection (Bug#21376)\n\n\t* lisp/progmodes/python.el (python-shell-prompt-detect): Don't put\n\tcarriage returns into the temporary file when running in unbuffered\n\tmode, the w32 build of python 2.7 chokes on them.\n\n2017-08-20  Reuben Thomas  <rrt@sc3d.org>\n\n\tAdd missing require\n\n\t* lisp/textmodes/ispell.el: Require subr-x. (Thanks, Eli Zaretskii.)\n\n2017-08-20  Michael Albinus  <michael.albinus@gmx.de>\n\n\tImplement `interrupt-process' for remote processes (Bug#28066)\n\n\t* lisp/net/tramp-sh.el (tramp-sh-handle-start-file-process):\n\tSupport sending signals remotely.\n\t(tramp-open-connection-setup-interactive-shell):\n\tTrace \"remote-tty\" connection property.\n\n\t* lisp/net/tramp.el (tramp-advice-interrupt-process): New defun.\n\t(top): Add advice to `interrupt-process'.  (Bug#28066)\n\n\t* test/lisp/net/tramp-tests.el (tramp-test28-interrupt-process):\n\tNew test.\n\t(tramp-test29-shell-command)\n\t(tramp-test30-environment-variables)\n\t(tramp-test30-environment-variables-and-port-numbers)\n\t(tramp-test31-explicit-shell-file-name)\n\t(tramp-test32-vc-registered)\n\t(tramp-test33-make-auto-save-file-name)\n\t(tramp-test34-make-nearby-temp-file)\n\t(tramp-test35-special-characters)\n\t(tramp-test35-special-characters-with-stat)\n\t(tramp-test35-special-characters-with-perl)\n\t(tramp-test35-special-characters-with-ls, tramp-test36-utf8)\n\t(tramp-test36-utf8-with-stat, tramp-test36-utf8-with-perl)\n\t(tramp-test36-utf8-with-ls)\n\t(tramp-test37-asynchronous-requests)\n\t(tramp-test38-recursive-load, tramp-test39-remote-load-path)\n\t(tramp-test40-unload): Rename.\n\t(tramp-test40-unload): Test also removal of advice.\n\n2017-08-20  Reuben Thomas  <rrt@sc3d.org>\n\n\tDocument Enchant support\n\n\t* doc/emacs/fixit.texi: Mention Enchant.\n\t* doc/misc/efaq.texi: Likewise.\n\t* etc/NEWS: Add an item on Enchant support.\n\n2017-08-20  Reuben Thomas  <rrt@sc3d.org>\n\n\tRemove old comments and a redundant FIXME\n\n\t* lisp/textmodes/ispell.el (ispell-process-line): Remove some old\n\tcommented code, a redundant FIXME, and outdated usage instructions.\n\n2017-08-20  Reuben Thomas  <rrt@sc3d.org>\n\n\tAdd Enchant support to ispell.el (Bug#17742)\n\n\t* lisp/textmodes/ispell.el (ispell-program-name): Add \u201cenchant\u201d.\n\t(ispell-really-enchant): Add variable.\n\t(ispell-check-version): If using Enchant, check it\u2019s new enough (at\n\tleast 1.6.1).  (Like the ispell check, this is absolute: cannot work\n\twithout.)\n\t(ispell-enchant-dictionary-alist): Add variable.\n\t(ispell-find-enchant-dictionaries): Add function, based on\n\tispell-find-aspell-dictionaries.\n\t(ispell-set-spellchecker-params): Allow dictionary auto-detection for\n\tEnchant, and call ispell-find-enchant-dictionaries to find them.  Use\n\told ispell name to locale mapping code for Enchant too.\n\t(ispell-send-replacement): Make it work with Enchant.\n\n2017-08-20  Noam Postavsky  <npostavs@gmail.com>\n\n\t* lisp/term.el (term-mode): Use `window-text-height' (Bug#5615).\n\n2017-08-20  Noam Postavsky  <npostavs@gmail.com>\n\n\tStop printing '4' in .elc files after 'define-symbol-prop' calls\n\n\t* lisp/emacs-lisp/bytecomp.el (byte-compile-define-symbol-prop):\n\tReturn nil in case we have compiled the form, to prevent a redundant\n\tconstant from getting added to the compiled output.\n\n2017-08-20  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tChange recent symlink tests to just test ASCII\n\n\t* test/src/fileio-tests.el (fileio-tests--symlink-failure):\n\tBe less ambitious about testing non-ASCII chars and encoding\n\terrors, as there are too many portability issues.\n\n2017-08-20  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDon\u2019t adjust CRLF in file names\n\n\t* doc/misc/gnus.texi (Non-ASCII Group Names):\n\t* etc/NEWS:\n\t* test/lisp/net/tramp-tests.el (tramp--test-utf8):\n\tUse utf-8-unix, not utf-8, for default-file-name-coding-system, so\n\tthat CRLF in file names is left alone.\n\t* lisp/international/mule-cmds.el (set-default-coding-systems):\n\tDo not alter CRLF in file name coding systems.\n\t(prefer-coding-system): Ignore differences in CRLF processing when\n\tchecking whether we used the user-specified file name coding system.\n\t* test/src/fileio-tests.el: New file.\n\n2017-08-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tMake list-processes support display-line-numbers\n\n\t* lisp/simple.el (process-menu-mode): Move the call to\n\ttabulated-list-init-header from here...\n\t(list-processes--refresh): ...to here.  (Bug#27895)\n\n2017-08-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove support of display-line-numbers in package.el\n\n\t* lisp/emacs-lisp/package.el (package-menu--refresh): Redisplay\n\tthe header.  (Bug#27895)\n\t* lisp/emacs-lisp/tabulated-list.el\n\t(tabulated-list-line-number-width): Fix the case when\n\tdisplay-line-numbers is nil.\n\n2017-08-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove support of display-line-numbers in tabulated-list-mode\n\n\t* lisp/emacs-lisp/tabulated-list.el\n\t(tabulated-list-line-number-width): New function.\n\t(tabulated-list-init-header, tabulated-list-print-entry): Use it.\n\t(Bug#27895)\n\n2017-08-19  Martin Rudalics  <rudalics@gmx.at>\n\n\tFix one more issue reported by Alex (Bug#27999)\n\n\t* doc/lispref/windows.texi (Preserving Window Sizes)\n\t(Window Parameters): Use the term `window-preserved-size'\n\tinstead of `preserved-size' (Bug#27999).\n\n2017-08-19  Martin Rudalics  <rudalics@gmx.at>\n\n\tRename `no-delete-other-window' to `no-delete-other-windows'\n\n2017-08-19  Martin Rudalics  <rudalics@gmx.at>\n\n\tFix two side window problems noted by Alex (Bug#27999)\n\n\t* lisp/window.el (display-buffer-in-side-window): Fix doc-string\n\ttypo.\n\t(delete-other-windows): Rename the `no-delete-other-window'\n\tparameter to `no-delete-other-windows' (see the discussion in\n\tBug#27999 for the rationale of this change).\n\t* doc/lispref/windows.texi (Deleting Windows)\n\t(Frame Layouts with Side Windows, Window Parameters): Rename\n\t`no-delete-other-window' to `no-delete-other-windows'.\n\n2017-08-19  Alex Schroeder  <alex@gnu.org>\n\n\tUse define-minor-mode for rcirc-omit-mode\n\n2017-08-19  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tClarify behavior of symlinks and directories\n\n\t* doc/lispref/files.texi (Saving Buffers): Document how functions\n\tlike rename-file work with symlinks and directories.  This patch\n\tattempts to document the current behavior better, in preparation\n\tfor possibly changing it.  See Bug#27986.\n\n2017-08-19  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix recently-introduced file descriptor leak\n\n\t* src/fileio.c (Fmake_temp_file_internal):\n\tDon\u2019t leak a file descriptor if write_region signals an error.\n\n2017-08-19  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tImprove make-temp-file performance on local files\n\n\t* lisp/files.el (make-temp-file): Let make-temp-file-internal do\n\tthe work of inserting the text.\n\t* src/fileio.c (Fmake_temp_file_internal): New arg TEXT.\n\tAll callers changed.\n\n2017-08-19  Noam Postavsky  <npostavs@gmail.com>\n\n\tDon't lose arguments to eshell aliases (Bug#27954)\n\n\t* lisp/eshell/em-alias.el (eshell-maybe-replace-by-alias): Use ARGS.\n\n2017-08-19  Ted Zlatanov  <tzz@lifelogs.com>\n\n\t* lisp/files.el (make-temp-file): Fix directory use case.\n\n2017-08-19  Ted Zlatanov  <tzz@lifelogs.com>\n\n\tFix and document make-temp-file optional text parameter\n\n\t* lisp/files.el (make-temp-file): Fix initial TEXT parameter.\n\t(files--make-magic-temp-file): Support optional TEXT parameter.\n\t* etc/NEWS: Document it.\n\t* doc/lispref/files.texi: Document it.\n\t* test/lisp/auth-source-tests.el: Minor reformat.\n\n2017-08-19  Ted Zlatanov  <tzz@lifelogs.com>\n\n\t* test/lisp/auth-source-tests.el: Avoid `string-join' to be simple.\n\n\t* test/lisp/auth-source-tests.el: Minor cleanups to use CL.\n\n2017-08-19  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tFix default value of electric-pair-pairs and electric-pair-text-pairs\n\n\t(Bug#24901)\n\n\tA previous change, titled \"Add support for curly quotation marks to\n\telectric-pair-mode\", attempted to add these characters to the default\n\tvalue of these variables.  But it did so in a quoted list, preventing\n\tevaluation of the relevant expressions and resulting in an invalid\n\tformat.\n\n\t* lisp/elec-pair.el (electric-pair-pairs, electric-pair-text-pairs):\n\tUse backquote and comma.\n\n2017-08-19  Noam Postavsky  <npostavs@gmail.com>\n\n\t* lisp/elec-pair.el (electric-pair-text-pairs): Don't autoload (Bug#24901).\n\n\t* lisp/progmodes/elisp-mode.el (emacs-lisp-mode): Require `elec-pair'\n\texplicitly in the interactive case.\n\n2017-08-19  Mats Lidell  <mats.lidell@cag.se>\n\n\t* etc/tutorials/TUTORIAL.sv: synced with TUTORIAL\n\n2017-08-19  Ted Zlatanov  <tzz@lifelogs.com>\n\n\tAdd auth-source tests and codify its API better\n\n\tThe auth-source behavior was unclear in some API use cases, so these\n\textra tests codify and test it. For details see\n\thttps://github.com/DamienCassou/auth-password-store/issues/29\n\n\t* lisp/files.el (make-temp-file): Add new initial TEXT parameter.\n\t* test/lisp/auth-source-tests.el (auth-source-test-searches): Add\n\t  auth-source tests and simplify them with the new `make-temp-file'.\n\n2017-08-18  Eli Zaretskii  <eliz@gnu.org>\n\n\tDon't call the same hook twice due to obsolete aliases\n\n\t* lisp/international/robin.el (robin-activate):\n\t* lisp/international/quail.el (quail-activate):\n\t* lisp/international/mule-cmds.el (deactivate-input-method):\n\t* lisp/emulation/viper-init.el (viper-deactivate-input-method):\n\tDon't call the same hook twice, when the obsolete and the\n\tadvertised symbols are aliased.  (Bug#28118)\n\n2017-08-18  Felipe Ochoa  <felipe@fov.space>  (tiny change)\n\n\tA new face for show-paren in expression mode\n\n\t* lisp/faces.el (show-paren-match-expression): Define the new face.\n\t* lisp/paren.el (show-paren-function): Apply the different face\n\twhen in expression mode.  (Bug#28047)\n\n2017-08-18  Eli Zaretskii  <eliz@gnu.org>\n\n\tNon-ASCII support for man page section and header names\n\n\t* lisp/man.el (Man-name-regexp, Man-page-header-regexp)\n\t(Man-heading-regexp): Replace ASCII character classes by\n\tequivalent classes that allow non-ASCII characters.  Suggested by\n\tGr\u00e9gory Mouni\u00e9 <Gregory.Mounie@imag.fr>.  (Bug#27978)\n\n2017-08-18  Eli Zaretskii  <eliz@gnu.org>\n\n\tImplement HiDPI support for underwave on MS-Windows\n\n\t* src/w32term.c (x_get_scale_factor): New function.\n\t(w32_draw_underwave): Use it.\n\t* src/xterm.c (x_draw_underwave): Offset the wave starting point\n\tto make it identical with original code.\n\n2017-08-18  Stephen Pegoraro  <spegoraro@tutive.com>  (tiny change)\n\n\tSupport HiDPI displays for wave style underlines\n\n\t* src/xterm.c (x_draw_underwave): Compute height, length and thickness\n\tbased on scale factor.\n\t(x_get_scale_factor): New function.\n\n2017-08-18  Bastien  <bzg@gnu.org>\n\n\tDelete library-of-babel.org\n\n\t* etc/org/library-of-babel.org: Delete file.\n\n2017-08-18  Glenn Morris  <rgm@gnu.org>\n\n\t* doc/emacs/files.texi (Copying and Naming): Avoid confusing texi2pdf.\n\n2017-08-18  Noam Postavsky  <npostavs@gmail.com>\n\n\tRemove custom version parsing from epg-config.el (Bug#27963)\n\n\t* lisp/epg-config.el (epg-config--compare-version)\n\t(epg-config--parse-version): Remove.\n\t(epg-check-configuration): Use `version<=' instead.\n\n2017-08-18  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tTreat control characters in JSON strings as invalid\n\n\t* lisp/json.el (json-peek): Reduce to following-char.\n\t(json-pop, json-read): Zero (null char) means end of file.\n\t(json-read-escaped-char): Delimit URL properly.\n\t(json-read-string): Signal error for ASCII control characters.\n\t* test/lisp/json-tests.el (test-json-peek): Check for zero instead of\n\t:json-eof symbol.\n\t(test-json-read-string): New test for control characters in JSON\n\tstrings.\n\n2017-08-17  Eli Zaretskii  <eliz@gnu.org>\n\n\tSupport Posix semantics of 'rename' on MS-Windows\n\n\t* src/w32.c (sys_rename_replace): Support Posix semantics of\n\t'rename': return an error if OLD is a directory while NEW is not,\n\tor vice versa.\n\n2017-08-17  Eli Zaretskii  <eliz@gnu.org>\n\n\t* src/w32.c (sys_rename_replace): Support renaming a directory.\n\n2017-08-17  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix the MS-Windows build\n\n\t* nt/gnulib-cfg.mk (OMIT_GNULIB_MODULE_open): Omit Gnulib module\n\t'open'.\n\n\t* lib-src/etags.c (O_CLOEXEC) [WINDOWSNT]: Restore definition.\n\n2017-08-17  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tAdd flymake-backends defcustom\n\n\t* lisp/progmodes/flymake-proc.el (flymake-proc-can-syntax-check-buffer):\n\tRename from flymake-can-syntax-check-file.  Suitable for adding to\n\tflymake-backends.\n\t(flymake-proc-start-syntax-check): Rename from\n\tflymake-start-syntax-check.  Don't check again if buffer can be\n\tchecked.\n\t(add-to-list flymake-backends): Hook only flymake-ui.el\n\n\t* lisp/progmodes/flymake-ui.el (flymake-backends): New\n\tdefcustom.\n\t(flymake-on-timer-event, flymake-after-change-function)\n\t(flymake-after-save-hook, flymake-find-file-hook): Call new\n\tflymake--start-syntax-check-buffer and\n\tflymake--can-syntax-check-buffer.\n\t(flymake-mode): Call flymake--can-syntax-check-buffer and set\n\tflymake-backend.\n\t(flymake--backend): New buffer-local variable.\n\n2017-08-17  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tSplit flymake.el into flymake-proc.el and flymake-ui.el\n\n\tflymake.el is now a stub that requires both files.\n\n\t* lisp/progmodes/flymake-proc.el: New file.\n\n\t* lisp/progmodes/flymake-ui.el: New file.\n\n\t* lisp/progmodes/flymake.el: Split into flymake-ui.el and\n\t  flymake-proc.el.  Require both files.\n\n2017-08-17  Michael Albinus  <michael.albinus@gmx.de>\n\n\tSet `default-directory' for watchdog in tramp-test.el\n\n\t* test/lisp/net/tramp-tests.el (tramp-test36-asynchronous-requests):\n\tSet `default-directory' for watchdog.\n\n2017-08-17  Andreas Schwab  <schwab@suse.de>\n\n\t* lisp/term/konsole.el: New file.\n\n2017-08-17  Noam Postavsky  <npostavs@gmail.com>\n\n\t* lisp/woman.el (woman-push, woman-pop): Remove.  (Bug#27962)\n\n\t(woman2-RS): Use plain `push' instead of `woman-push'.\n\t(woman2-RE): Conditionally `pop' instead of `woman-pop'.\n\n2017-08-16  Paul Eggert  <eggert@Penguin.CS.UCLA.EDU>\n\n\tMerge from Gnulib; use \u2018open\u2019 for O_CLOEXEC\n\n\tThis incorporates:\n\t2017-08-15 renameat: ensure declaration in <stdio.h> on NetBSD\n\t2017-08-15 extensions: enable NetBSD specific extensions\n\t2017-08-14 open: support O_CLOEXEC\n\t2017-08-13 reallocarray: new module\n\t* admin/merge-gnulib (AVOIDED_MODULES): Remove \u2018open\u2019, since\n\tit now supports O_CLOEXEC and this simplifies Emacs.\n\t* build-aux/config.guess, lib/fcntl.in.h, lib/stdio.in.h:\n\t* lib/stdlib.in.h, m4/extensions.m4, m4/stdlib_h.m4:\n\tCopy from Gnulib.\n\t* lib/cloexec.c, lib/cloexec.h, lib/open.c:\n\t* m4/mode_t.m4, m4/open-cloexec.m4, m4/open.m4:\n\tNew files, copied from Gnulib.\n\t* lib/gnulib.mk.in, m4/gnulib-comp.m4: Regenerate.\n\t* lib-src/etags.c (O_CLOEXEC) [WINDOWSNT]:\n\tRemove, as Gnulib does this for us.\n\t* src/filelock.c (create_lock_file):\n\t* src/sysdep.c (emacs_open, emacs_pipe):\n\tDon\u2019t worry about O_CLOEXEC == 0, as Gnulib no longer sets it to 0.\n\n2017-08-16  Alan Third  <alan@idiocy.org>\n\t    Charles A. Roelli  <charles@aurox.ch>\n\n\tAllow use of run-time OS version checks on macOS (bug#27810)\n\n\t* src/nsterm.h (NSWindowTabbingMode): Define in pre-Sierra macOS.\n\t(MAC_OS_X_VERSION_10_6, MAC_OS_X_VERSION_10_7, MAC_OS_X_VERSION_10_8,\n\tMAC_OS_X_VERSION_10_9, MAC_OS_X_VERSION_10_12, HAVE_NATIVE_FS): Remove\n\tdefines.\n\t(NSWindowStyleMaskFullScreen,\n\tNSWindowCollectionBehaviorFullScreenPrimary,\n\tNSApplicationPresentationFullScreen,\n\tNSApplicationPresentationAutoHideToolbar): Define in macOS 10.6.\n\t* src/nsterm.m (colorForEmacsRed, colorUsingDefaultColorSpace,\n\tcheck_native_fs, ns_read_socket, ns_select, runAlertPanel,\n\tinitFrameFromEmacs, windowDidMiniaturize, windowDidEnterFullScreen,\n\twindowDidExitFullScreen, isFullscreen, updateCollectionBehavior,\n\ttoggleFullScreen, constrainFrameRect, scrollerWidth, syms_of_nsterm):\n\tAllow use of run-time checks and replace version check macros.\n\t* src/nsfns.m (ns_screen_name): Use run-time OS version checks.\n\t* src/macfont.m (macfont_draw): Use run-time OS version checks.\n\t* src/nsmenu.m (menuWillOpen): Use run-time OS version checks.\n\n2017-08-16  Alan Third  <alan@idiocy.org>\n\n\tAdd multiframe image support to NS port (bug#21714)\n\n\t* src/nsimage.m (ns_load_image): Handle multiple frames.\n\t(EmacsImage::getMetadata, EmacsImage::setFrame): New functions.\n\t* src/nsterm.h (EmacsImage::getMetadata, EmacsImage::setFrame): New\n\tfunction prototypes.\n\n2017-08-16  Tino Calancha  <tino.calancha@gmail.com>\n\n\tfiles-tests.el: Remove unused lexical variable\n\n\t* test/lisp/files-tests.el (file-test--do-local-variables-test);\n\tRemove unused var 'files-test-queried'.\n\n2017-08-16  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* doc/emacs/files.texi (Copying and Naming): Mention\n\n\trestrictions to add-name-to-file and make-symbolic-link on\n\tremote systems.\n\n2017-08-16  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* lisp/net/ange-ftp.el (ange-ftp-skip-msgs): Further support ftp-ssl.\n\n2017-08-16  Noam Postavsky  <npostavs@gmail.com>\n\n\tAdd tests for previous commit\n\n\t* test/lisp/progmodes/elisp-mode-tests.el\n\t(elisp-mode-tests--face-propertized-string): New function.\n\t(elisp--highlight-function-argument-indexed)\n\t(elisp--highlight-function-argument-keyed-1)\n\t(elisp--highlight-function-argument-keyed-2): New tests.\n\n2017-08-16  Thierry Volpiatto  <thierry.volpiatto@gmail.com>\n\n\tFix eldoc highlighting for &key args (Bug#27272)\n\n\t* lisp/progmodes/elisp-mode.el (elisp--highlight-function-argument):\n\tOnly switch to keyword-based searching if INDEX point beyond `&key' in\n\tthe argument list.  All arguments prior to the `&key' are position\n\tbased.  Additionally, be more strict about what is a keyword when\n\tsearching for the current keyword.\n\n2017-08-15  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDo not assume regular Git .git/hooks dir\n\n\tApparently Gitlab doesn\u2019t create .git/hooks, like regular Git does.\n\tProblem reported by Ted Zlatanov in:\n\thttps://lists.gnu.org/r/emacs-devel/2017-08/msg00380.html\n\t* autogen.sh (git_sample_hook_src): New function.  Use it to work\n\teven if .git/hooks or its samples do not exist.\n\n2017-08-15  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tNew manual section \"Copying and Naming\"\n\n\t* doc/emacs/files.texi (Copying and Naming):\n\tNew section, split off from Misc File Ops and containing the\n\toperations that copy, name or rename files.  This fixes some\n\tconfusion caused by the incorrect phrase \"The same rule applies\n\tto all the remaining commands in this section\" in the old manual.\n\tThis change does not affect the confusion about directories (see\n\tBug#27986 for ongoing discussion).\n\n2017-08-15  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix the MS-Windows build\n\n\t* src/fileio.c (Frename_file): Don't use ENOTSUP if it is equal to\n\tENOSYS.  (Bug#28097)  (Bug#27986)\n\n2017-08-15  Ted Zlatanov  <tzz@lifelogs.com>\n\n\t* .gitlab-ci.yml: run \"autogen.sh autoconf\" to avoid Git.\n\n\t* .gitlab-ci.yml: add Git to the installed packages.\n\n2017-08-15  Simen Heggest\u00f8yl  <simenheg@gmail.com>\n\n\tSupport indentation of detached Less CSS rulesets\n\n\t* lisp/textmodes/css-mode.el (css-smie-rules): Provide better support\n\tfor indentation of detached rulesets passed to Less mixins.\n\n\t* test/manual/indent/less-css-mode.less: New file.\n\n2017-08-15  Simen Heggest\u00f8yl  <simenheg@gmail.com>\n\n\tFixes and tweaks for the new Less CSS mode\n\n\t* etc/NEWS: Add an entry for the new mode.\n\n\t* lisp/textmodes/less-css-mode.el (less-css): Tweak docstring.\n\t(less-css-lessc-command): Tweak docstring. Don't mark it as\n\tsafe. Don't autoload.\n\t(less-css-compile-at-save, less-css-lessc-options)\n\t(less-css-output-directory): Tweak docstrings. Don't autoload.\n\t(less-css-output-file-name): Tweak docstring. Don't mark it as safe.\n\t(less-css-input-file-name): Tweak docstring. Don't autoload.\n\t(less-css-compile-maybe): Use `when' for one-armed `if'.\n\t(less-css--output-path): Tweak docstring.\n\t(less-css--maybe-shell-quote-command): Remove function.\n\t(less-css-compile): Don't autoload. Tweak docstring and message. Fix\n\tcompiler warning. Use `string-join' instead of `mapconcat'.\n\t(less-css-font-lock-keywords): Use `font-lock-variable-name-face' for\n\tvariables.\n\t(less-css-mode-syntax-table, less-css-mode-map): New variables.\n\t(less-css-mode): Change status line mode name from \"LESS\" to\n\t\"Less\". Tweak docstring. Move syntax table definitions to\n\t`less-css-mode-syntax-table'.\n\t(less-css-indent-line): Remove function.\n\n2017-08-15  Steve Purcell  <steve@sanityinc.com>\n\n\tNew major mode: Less CSS mode\n\n\t* lisp/textmodes/less-css-mode.el: New file.\n\n2017-08-15  Tino Calancha  <tino.calancha@gmail.com>\n\n\tarchive-int-to-mode: Fix order of testing S_ISUID, S_ISGID bits\n\n\t* lisp/arc-mode.el (archive-int-to-mode):\n\tSwap order of 2048 and 1024 tests (Bug#28092).\n\t* test/lisp/arc-mode-tests.el (arc-mode-test-archive-int-to-mode):\n\tUpdate test.\n\n2017-08-15  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tImprove rename-file port to macOS\n\n\t* src/fileio.c (Frename_file): On macOS, renameat_noreplace can\n\tfail with errno == ENOTSUP on file systems where it is not\n\tsupported, according to the Apple documentation.\n\n2017-08-15  Noam Postavsky  <npostavs@gmail.com>\n\n\tSpeed up ./configure with more caching (Bug#27960)\n\n\t* configure.ac: Cache the 'GTK compiles', 'GSettings is in gio',\n\t'LN_S', '-znocombreloc', 'sysinfo', 'gcc autodepends', '-b link',\n\t'Xkb', 'Xpm preprocessor', 'tputs library' 'GLib', 'signals via\n\tcharacters', and 'Windows API header' checks.  Remove pause after\n\twarning about GTK bug.\n\n2017-08-15  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tImprove rename-file behavior on macOS\n\n\tProblem reported by Philipp Stephani (Bug#27986).\n\t* src/fileio.c (Frename_file):\n\tWorry about file name case sensitivity only if CYGWIN or DOS_NT.\n\t* src/sysdep.c (renameat_noreplace): Use renameatx_np on macOS,\n\tsince this provides the necessary atomicity guarantees.\n\n2017-08-14  Glenn Morris  <rgm@gnu.org>\n\n\tClean up temp files after some tests\n\n\t* test/lisp/emacs-lisp/bytecomp-tests.el\n\t(bytecomp-tests--with-temp-file): Also delete .elc file if present.\n\t* test/lisp/progmodes/etags-tests.el\n\t(etags-buffer-local-tags-table-list): Delete temp file at end.\n\n2017-08-14  Eli Zaretskii  <eliz@gnu.org>\n\n\tImplement renameat_noreplace for MS-Windows\n\n\t* src/sysdep.c (renameat_noreplace) [WINDOWSNT]: Implement minimal\n\temulation for MS-Windows.  (Bug#27986)\n\n2017-08-14  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix 'rename' on MS-Windows\n\n\t* src/w32.c (sys_rename_replace): Use the FORCE argument only if\n\tthe primitive rename errors out with EEXIST.\n\n2017-08-14  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* lisp/net/ange-ftp.el (ange-ftp-skip-msgs): Support ftp-ssl.\n\n2017-08-14  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tTiny JSON performance improvement\n\n\tGet rid of some needless uses of apply.  Measuring with\n\t  (benchmark-run 10 (json-read-file \"test.json\"))\n\tshowed 1.5-2.5% reduction of execution time.\n\t* lisp/json.el (json-peek): Nix let-binding.\n\t(json-read-string): Use concat for making a string from chars.\n\t(json-read-array): Use cond and more appropriate conversion instead\n\tof blindly applying.\n\n2017-08-13  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tBe consistent in spelling 'ok-if-already-exists'.\n\n2017-08-13  Alexander Gramiak  <agrambot@gmail.com>\n\n\tUse 'header-line-highlight' face in proced and erc\n\n\t* lisp/erc/erc-list.el (erc-list-button):\n\t* lisp/proced.el (proced-format): Use the 'header-line-highlight\n\tface.  (Bug#28033)\n\n2017-08-13  Ulf Jasper  <ulf.jasper@web.de>\n\n\tRemove feeds with dead uris from newsticker--raw-url-list-defaults\n\n\t* lisp/net/newst-backend.el (newsticker--raw-url-list-defaults):\n\t  Remove feeds with dead uris.\n\n2017-08-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix vertical cursor motion when cursor is on the fringe\n\n\t* lisp/simple.el (line-move-visual): Fix an off-by-one error in\n\tsetting temporary-goal-column when newline overflows into the\n\tfringe.  Support that use case in R2L paragraphs as well.\n\n2017-08-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix vertical cursor motion across too wide images\n\n\t* src/indent.c (Fvertical_motion): If lines are truncated and we\n\tend up beyond the right margin of the window, don't assume we are\n\tin the next screen line, unless VPOS actually says so.  (Bug#28071)\n\n2017-08-13  Tino Calancha  <tino.calancha@gmail.com>\n\n\tAdd test suites for arc-mode and tar-mode\n\n\t* test/lisp/arc-mode-tests.el (arc-mode-test-archive-int-to-mode)\n\t* test/lisp/tar-mode-tests.el (tar-mode-test-tar-grind-file-mode):\n\tNew tests.\n\n2017-08-13  Tino Calancha  <tino.calancha@gmail.com>\n\n\t* lisp/tar-mode.el (tar-grind-file-mode): Fix docstring\n\n2017-08-13  Ulf Jasper  <ulf.jasper@web.de>\n\n\tFix uri of Emacs Wiki\n\n\t* lisp/net/newst-backend.el (newsticker--raw-url-list-defaults): Fix\n\t  uri of Emacs Wiki.  (Bug#27981)\n\n2017-08-13  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix make-temp-file bug with \"\"/\".\"/\"..\" prefix\n\n\tThe bug with \".\" and \"..\" has been present for a while; I\n\tintroduced the bug with \"\" earlier today in my patch for Bug#28023.\n\t* lisp/files.el (make-temp-file): Do not use expand-file-name if\n\tPREFIX is empty or \".\" or \"..\", as it does the wrong thing.\n\tCompute absolute-prefix here ...\n\t(files--make-magic-temp-file): ... instead of here ...\n\t* src/fileio.c (Fmake_temp_file_internal): ... or here.\n\n\t* lisp/files.el (make-temp-file): If the prefix is empty, append\n\t\"/\" to the absolute prefix so that the new files are children\n\trather than siblings of temporary-file-directory.  This fixes a\n\tbug introduced in the previous change.\n\t* test/lisp/files-tests.el (files-test-make-temp-file-empty-prefix):\n\tNew test, for the bug.\n\n2017-08-13  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tImprove make-temp-file performance on local files\n\n\tFor the motivation behind this patch, please see Bug#28023 and:\n\thttp://emacshorrors.com/posts/make-temp-name.html\n\tAlthough, given the recent changes to Tramp, the related security\n\tproblem in make-temp-file is already fixed, make-temp-file still has\n\tseveral unnecessary system calls.  In the typical case on GNU/Linux,\n\tthis patch replaces 8 syscalls (symlink, open, close, readlinkat, uname,\n\tgetpid, unlink, umask) by 2 (open, close).\n\t* admin/merge-gnulib (GNULIB_MODULES): Add tempname, now\n\tthat Emacs is using it directly.\n\t* configure.ac (AUTO_DEPEND): Remove AC_SYS_LONG_FILE_NAMES;\n\tno longer needed.\n\t* lib/gnulib.mk.in, m4/gnulib-comp.m4: Regenerate.\n\t* lisp/files.el (files--make-magic-temp-file): Rename from\n\tmake-temp-file.\n\t(make-temp-file): Use make-temp-file-internal for\n\tnon-magic file names.\n\t* src/fileio.c: Include tempname.h.\n\t(make_temp_name_tbl, make_temp_name_count)\n\t(make_temp_name_count_initialized_p, make_temp_name): Remove.\n\t(Fmake_temp_file_internal): New function.\n\t(Fmake_temp_name): Use it.\n\t* src/filelock.c (get_boot_time): Use Fmake_temp_file_internal\n\tinstead of make_temp_name.\n\n2017-08-12  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDocument internal-use naming conventions\n\n\t* doc/lispref/functions.texi (Function Names):\n\t* doc/lispref/variables.texi (Tips for Defining):\n\tDocument naming conventions for internal-use functions and vars.\n\tSee Bug#28023#59.\n\n2017-08-12  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSimplify re and document 'autoconf.sh all'\n\n\t* GNUmakefile (ALL_IF_GIT): Remove; no longer needed, now that\n\t./autogen.sh defaults to \"all\".  All uses removed.\n\t* README: Mention autoconf.sh's effect on Git configuration.\n\n2017-08-12  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDefault autogen.sh to 'all'\n\n\tThis addresses a problem noted by RMS in:\n\thttps://lists.gnu.org/r/emacs-devel/2017-08/msg00052.html\n\t* autogen.sh (do_git): Set to true if this script is invoked\n\twith no arguments and there is a .git subdirectory.\n\n2017-08-12  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tAdjust jka-compr to recent Tramp changes.\n\n\t* lisp/jka-compr.el (jka-compr-write-region):\n\tTwo new args LOCKNAME and MUSTBENEW.\n\n2017-08-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove doc strings of 2 functions in simple.el\n\n\t* lisp/simple.el (beginning-of-visual-line)\n\t(move-beginning-of-line): Doc fix.  Reported by\n\tJustin Burkett <justin@burkett.cc>.\n\n2017-08-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix completion on directory names on MS-DOS/MS-Windows\n\n\t* src/msdos.c (faccessat):\n\t* src/w32.c (faccessat): Support relative file names, and add D_OK\n\tto 'mode' if the argument is a directory.  This unbreaks file-name\n\tcompletion when the completion result is a directory.\n\n2017-08-12  Michael Albinus  <michael.albinus@gmx.de>\n\n\tImplement EXCL of write-region for Tramp\n\n\t* lisp/net/ange-ftp.el (ange-ftp-write-region):\n\t* lisp/net/tramp-adb.el (tramp-adb-handle-write-region)\n\t* lisp/net/tramp-gvfs.el (tramp-gvfs-handle-write-region):\n\t* lisp/net/tramp-sh.el (tramp-sh-handle-write-region)\n\t* lisp/net/tramp-smb.el (tramp-smb-handle-write-region):\n\tImplement MUSTBENEW.\n\n\t* lisp/net/tramp-gvfs.el (tramp-gvfs-do-copy-or-rename-file)\n\t* lisp/net/tramp-sh.el (tramp-sh-handle-make-symbolic-link)\n\t(tramp-sh-handle-add-name-to-file)\n\t(tramp-do-copy-or-rename-file)\n\t* lisp/net/tramp-smb.el (tramp-smb-handle-make-symbolic-link):\n\tAdapt error message for `file-already-exists'.\n\n\t* src/lisp.h:\n\t* src/eval.c (call8): New function.\n\n\t* src/fileio.c (write_region): Pass also lockname and\n\tmustbenew to the file name handler.\n\n\t* test/lisp/net/tramp-tests.el (tramp-test10-write-region):\n\tAdd tests for MUSTBENEW.\n\n2017-08-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tAdapt Proced display to display-line-numbers\n\n\t* lisp/proced.el (proced-header-line): Account for the width taken\n\tby display-line-numbers.  (Bug#27895)\n\n2017-08-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tAdapt tabulated list when display-line-number is turned on\n\n\t* lisp/emacs-lisp/tabulated-list.el (tabulated-list-mode): Add\n\ta hook to revert the display when display-line-numbers is turned\n\ton.  (Bug#27895)\n\n2017-08-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tUse Gnulib 'tempname' on MS-Windows\n\n\t* lib-src/ntlib.h (mkdir, open): Remove redefinitions.  They are\n\tnow in nt/inc/ms-w32.h.\n\t* lib-src/ntlib.c (sys_mkdir, sys_open): New functions.\n\t(mkostemp): Remove.\n\n\t* src/w32.c (mkostemp): Remove.\n\t(sys_mkdir): Accept a second (unused) argument.\n\t* src/fileio.c (Fmake_directory_internal): Remove the WINDOWSNT\n\tspecific call to mkdir.  (Bug#28023)\n\n\t* nt/inc/ms-w32.h (mkdir): Remove from \"#ifdef emacs\" and redefine\n\tto accept 2 arguments.\n\t(open): Remove from \"#ifdef emacs\".\n\t* nt/mingw-cfg.site (ac_cv_func_mkostemp): Remove.\n\t* nt/gnulib-cfg.mk (OMIT_GNULIB_MODULE_mkostemp)\n\t(OMIT_GNULIB_MODULE_tempname): Remove.\n\n2017-08-12  Alexander Gramiak  <agrambot@gmail.com>\n\n\tAdd new face 'header-line-highlight'\n\n\t* lisp/faces.el: Define the face.\n\t* lisp/emacs-lisp/tabulated-list.el (tabulated-list-init-header):\n\t* lisp/info.el (Info-fontify-node): Use the new face.\n\t* doc/emacs/display.texi (Standard Faces):\n\t* etc/NEWS: Document the new face.  (Bug#28033)\n\n2017-08-12  Arash Esbati  <arash@gnu.org>\n\n\tMake a case-sensitive match for strings\n\n\t* lisp/textmodes/reftex.el (reftex-typekey-check): Temporarily\n\tlet-bind `case-fold-search' to nil in order to be case-sensitive\n\twhen matching a string.  (Bug#27518)\n\n2017-08-11  Stephen Berman  <steve@rosalinde.fritz.box>\n\n\tFix a minor todo-mode regression\n\n\t* lisp/calendar/todo-mode.el (todo-get-overlay): Wrap in\n\tsave-excursion.  This fixes a regression introduced by the fix\n\tfor bug#27609, whereby trying to raise the priority of the\n\tfirst item or lower the priority of the last item, which\n\tshould be noops, moves point to the item's start.  Clarify\n\tcomment.\n\n\t* test/lisp/calendar/todo-mode-tests.el\n\t(todo-test-raise-lower-priority): Add test cases for trying to\n\traise first item and lower last item.\n\t(with-todo-test): Clear abbreviated-home-dir, since we change HOME.\n\t(todo-test-toggle-item-header02): Remove \":expected-result\n\t:failed\" and tests of point after todo-next-item, since the\n\teffect when using Todo mode is not reproducible in the test\n\tenvironment.  Add commentary about this.\n\n2017-08-11  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tImprove performance for rename-file etc.\n\n\tAlthough this does not fix Bug#27986, it is a step forward.\n\tI plan to propose a more-significant patch later.\n\t* lisp/files.el (directory-name-p): Move from here ...\n\t* src/fileio.c (Fdirectory_name_p): ... to here.\n\t(directory_like, cp_like_target): New static functions.\n\t(Fcopy_file, Frename_file, Fadd_name_to_file)\n\t(Fmake_symbolic_link):\n\tUse them, to avoid directory-testing syscalls on file names that\n\tmust be directories if they exist.  Omit unnecessary\n\tinitializations and CHECK_STRING calls.\n\t(Frename_file): Don't call file_name_case_insensitive_p\n\ttwice on the same file.  Compare both file names expanded, instead\n\tof the old name expanded and the new one unexpanded.\n\n2017-08-11  Noam Postavsky  <npostavs@gmail.com>\n\n\tRespect buffer-local value of tags-table-list (Bug#27772)\n\n\t* lisp/progmodes/etags.el (visit-tags-table-buffer): Save the current\n\tbuffer around the `tags-table-including' calls so as to get buffer\n\tlocal variables from the right buffer later.\n\t* test/lisp/progmodes/etags-tests.el (etags-visit-tags-table-buffer):\n\tNew test.\n\t* test/lisp/progmodes/etags-tests.el (etags-tests--test-dir): New\n\tconstant.\n\t(etags-bug-158, etags-bug-23164): Use it so that when running the test\n\tinteractively, setting EMACS_TEST_DIRECTORY is not needed.\n\n2017-08-10  Tom Tromey  <tom@tromey.com>\n\n\tFix auto-filling regression\n\n\tBug#28003\n\t* lisp/newcomment.el (comment-indent-new-line): Check\n\tcomment-auto-fill-only-comments.  Reverts earlier change.\n\t* lisp/simple.el (internal-auto-fill): Call auto-fill-function, not\n\tdo-auto-fill.\n\n2017-08-09  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from gnulib\n\n\tThis incorporates:\n\t2017-08-09 tempname: do not depend on secure_getenv\n\t2017-08-08 extensions: add _OPENBSD_SOURCE\n\t2017-08-06 manywarnings: Add support for C++\n\t2017-08-06 warnings, manywarnings: Add support for multiple languages\n\t* admin/merge-gnulib: Don't use m4/manywarnings-c++.m4.\n\t* lib/gnulib.mk.in, m4/gnulib-comp.m4: Regenerate.\n\t* lib/secure_getenv.c, m4/secure_getenv.m4: Remove.\n\t* lib/tempname.c, m4/extensions.m4, m4/manywarnings.m4, m4/warnings.m4:\n\tCopy from gnulib.\n\n2017-08-09  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix crashing emacs-module tests on MS-Windows\n\n\t* src/w32fns.c (syms_of_w32fns) <w32-disable-abort-dialog>: New\n\tvariable.\n\t(emacs_abort): If w32-disable-abort-dialog is non-nil, abort right\n\taway, without displaying the Abort dialog, which waits for the user.\n\n\t* test/src/emacs-module-tests.el (module--test-assertion): Run the\n\tinferior Emacs with the w32 abort dialog disabled.  Expect the\n\tstatus of the aborted Emacs sub-process to be 3 on MS-Windows and\n\t2 on MS-DOS.\n\n2017-08-09  Tino Calancha  <tino.calancha@gmail.com>\n\n\tdired-delete-file:  Dont't ask for empty dirs\n\n\t* lisp/dired.el (dired--yes-no-all-quit-help): New defun.\n\t(dired-delete-file): Use it.  Dont't ask for empty dirs (Bug#27940).\n\n\t* test/lisp/dired-tests.el (dired-test-with-temp-dirs):\n\tNew auxiliar macro.\n\t(dired-test-bug27940): Add new test.\n\n2017-08-09  Tino Calancha  <tino.calancha@gmail.com>\n\n\tAsk files for deletion in buffer order: top first, botton later\n\n\t* lisp/dired.el (dired-do-flagged-delete, dired-do-delete):\n\tCall `nreverse' t invert the output of `dired-map-over-marks'.\n\n2017-08-09  Alexander Gramiak  <agrambot@gmail.com>\n\n\tUse help-mode xrefs in describe-font\n\n\t* lisp/international/mule-diag.el (describe-font): Use help-setup-xref\n\t(Bug#27890).\n\n2017-08-09  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\tDon't try to jump to non-existent part (bug#28013)\n\n\t* lisp/gnus/gnus-art.el (gnus-article-edit-part): Don't try to jump to\n\tthe next part if there is the only one part in the article (bug#28013).\n\n2017-08-08  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tReplace some uses of eval\n\n\tThere are a number of places where eval is used unnecessarily to get\n\tor set the value of a symbol.\n\t* lisp/calendar/calendar.el (diary-date-forms): Use default-value in\n\tcustom setter.\n\t* lisp/desktop.el (desktop-clear): Use set-default instead.\n\t* lisp/international/ogonek.el (ogonek-read-encoding): Use\n\tsymbol-value.\n\n2017-08-08  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tConvert uses of looking-at in viper-ex to following-char\n\n\t* lisp/emulation/viper-ex.el (viper-get-ex-token): Bind\n\t(following-char) and use it in the subsequent cond's clauses.\n\t(viper-ex, ex-quit, viper-get-ex-file): Use following-char instead.\n\tConvert single branch ifs to when\n\n2017-08-08  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tSome cleanup in message.el\n\n\t* lisp/gnus/message.el (message-cross-post-insert-note):\n\t(message-strip-forbidden-properties): Mark unused args.\n\t(message-canlock-generate): Remove extinct variable\n\tsha1-maximum-internal-length.\n\t(message-make-mail-followup-to): Use loop's thereis clause.\n\n2017-08-08  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDocument make-temp-name magic limitations\n\n\t* doc/lispref/files.texi (Unique File Names):\n\t* src/fileio.c (Fmake_temp_name): Document that make-temp-name\n\tdoes not guarantee uniqueness on magic file names.\n\n2017-08-08  Tom Tromey  <tom@tromey.com>\n\n\tShow number of errors in compilation-mode mode-line\n\n\tBug#25354\n\t* lisp/progmodes/compile.el (compilation-num-errors-found): Provide\n\tdefault value.\n\t(compilation-num-warnings-found, compilation-num-infos-found): New\n\tdefvars.\n\t(compilation-mode-line-errors): New defconst.\n\t(compilation-face): Remove.\n\t(compilation-type, compilation--note-type): New functions.\n\t(compilation-parse-errors): Call compilation--note-type.\n\t(compilation-start): Include compilation-mode-line-errors in\n\tmode-line-process.\n\t(compilation-setup): Initialize compilation-num-* variables to 0.\n\t(compilation-handle-exit): Include compilation-mode-line-errors in\n\tmode-line-process.\n\t* doc/emacs/building.texi (Compilation): Document new feature.\n\n2017-08-08  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tDo some cleanup in mailcap.el\n\n\t* lisp/net/mailcap.el: Use lexical-binding.\n\t(mailcap--set-user-mime-data, mailcap-possible-viewers): Use pcase\n\tdestructuring.\n\t(mailcap-mime-data): Remove some entries for ancient functions.\n\t(mailcap-parse-mailcaps, mailcap-mime-info): Nix single-branch ifs.\n\t(mailcap-parse-mimetype-file): Just use append.\n\t(mailcap-command-p): Remove unused function.\n\n2017-08-08  Tino Calancha  <tino.calancha@gmail.com>\n\n\tquery-replace: Undo replacements performed with 'comma\n\n\tDuring a `query-replace', the char ',' replaces the character\n\tat point and doesn't move point;  right after, the char 'u'\n\tmust undo such replacement (Bug#27268).\n\t* lisp/replace.el (replace--push-stack):\n\tNew macro extracted from `perform-replace'.\n\t(perform-replace): Use it.\n\t* test/lisp/replace-tests.el (query-replace--undo): Add test.\n\n2017-08-08  Noam Postavsky  <npostavs@gmail.com>\n\n\tDon't define gv expanders in compiler's runtime (Bug#27016)\n\n\tThis prevents definitions being compiled from leaking into the current\n\tEmacs doing the compilation.\n\t* lisp/emacs-lisp/gv.el (gv-define-expander): Use function-put instead\n\tof `put' with `eval-and-compile'.\n\t* test/lisp/emacs-lisp/gv-tests.el: New tests.\n\n2017-08-08  Noam Postavsky  <npostavs@gmail.com>\n\n\tLet the cl-typep effects of defclass work during compilation (Bug#27718)\n\n\t* lisp/emacs-lisp/eieio.el (defclass): Use `define-symbol-prop'\n\tinstead of `put'.\n\t* test/lisp/emacs-lisp/eieio-tests/eieio-tests.el\n\t(eieio-tests--dummy-function): Remove.\n\t(eieio-test-25-slot-tests, eieio-test-23-inheritance-check): Don't\n\texpect to fail if compiled.\n\n2017-08-08  Stefan Monnier  <monnier@IRO.UMontreal.CA>\n\t    Noam Postavsky  <npostavs@gmail.com>\n\n\tLet `define-symbol-prop' take effect during compilation\n\n\t* src/fns.c (syms_of_fns): New variable `overriding-plist-environment'.\n\t(Fget): Consult it.\n\t* lisp/emacs-lisp/bytecomp.el (byte-compile-close-variables): Let-bind\n\tit to nil.\n\t(byte-compile-define-symbol-prop): New function, handles compilation\n\tof top-level `define-symbol-prop' and `function-put' calls by putting\n\tthe symbol setting into `overriding-plist-environment'.\n\n2017-08-08  Gemini Lasswell  <gazally@runbox.com>\n\n\tAdd a test of handling of circular values to testcover-tests\n\n\t* test/lisp/emacs-lisp-testcover-resources/testcases.el\n\t(testcover-testcase-cyc1): New function.\n\t(testcover-tests-circular-lists-bug-24402): New test.\n\n2017-08-08  Noam Postavsky  <npostavs@gmail.com>\n\n\tDon't error on circular values in testcover\n\n\t* lisp/emacs-lisp/testcover.el (testcover-after, testcover-1value):\n\tConsider circular lists to be non-equal instead of signaling error.\n\n2017-08-08  Alexander Gramiak  <agrambot@gmail.com>\n\n\tCatch argument and macroexpansion errors in ert\n\n\tThis kludge catches errors caused by evaluating arguments in ert's\n\tshould, should-not, and should-error macros; it also catches\n\tmacroexpansion errors inside of the above macros (Bug#24402).\n\n\t* lisp/emacs-lisp/ert.el: (ert--should-signal-hook): New function.\n\t(ert--expand-should-1): Catch macroexpansion errors.\n\t* test/lisp/emacs-lisp/ert-tests.el (ert-test-should-error-argument)\n\t(ert-test-should-error-macroexpansion): Tests for argument and\n\texpansion errors.\n\n2017-08-07  Reuben Thomas  <rrt@sc3d.org>\n\n\tRevert \"Add Enchant support to ispell.el (Bug#17742)\"\n\n\tThis reverts commit 7136e6723d87b51ae3089f5ceef6b14621bfaf87.\n\n2017-08-07  Reuben Thomas  <rrt@sc3d.org>\n\n\tRevert \"Add support for arguments in ALTERNATE_EDITOR to emacsclient\"\n\n\tThis reverts commit 28f1fe97daa13e13714e6c43c9a6fbb0c0e99a26.\n\n2017-08-07  Reuben Thomas  <rrt@sc3d.org>\n\n\tAdd support for arguments in ALTERNATE_EDITOR to emacsclient\n\n\t* lib-src/emacsclient.c (fail): Parse ALTERNATE_EDITOR, or\n\tcorresponding command-line argument, into space-separated tokens.\n\t* etc/NEWS: Document.\n\t* test/lib-src/emacsclient-tests.el: Add a test.\n\n2017-08-07  Reuben Thomas  <rrt@sc3d.org>\n\n\tAdd Enchant support to ispell.el (Bug#17742)\n\n\t* lisp/textmodes/ispell.el (ispell-program-name): Add \u201cenchant\u201d.\n\t(ispell-really-enchant): Add variable.\n\t(ispell-check-version): If using Enchant, check it\u2019s new enough (at\n\tleast 1.6.1).  (Like the ispell check, this is absolute: cannot work\n\twithout.)\n\t(ispell-enchant-dictionary-alist): Add variable.\n\t(ispell-find-enchant-dictionaries): Add function, based on\n\tispell-find-aspell-dictionaries.\n\t(ispell-set-spellchecker-params): Allow dictionary auto-detection for\n\tEnchant, and call ispell-find-enchant-dictionaries to find them.  Use\n\told ispell name to locale mapping code for Enchant too.\n\t(ispell-send-replacement): Make it work with Enchant.\n\n2017-08-07  Reuben Thomas  <rrt@sc3d.org>\n\n\tAllow async command output buffer to be shown only on output\n\n\t* lisp/simple.el (async-shell-command-display-buffer): Add\n\tdefcustom.\n\t(shell-command): Use the new defcustom to determine whether to show\n\tthe buffer immediately, or add a process filter that shows it only\n\twhen there is some output.\n\t* etc/NEWS: Document the new variable.\n\t* doc/emacs/misc.texi: Likewise.\n\n\tThanks to Juri Linkov and Eli Zaretskii for advice and guidance.\n\n2017-08-07  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix infinite recursion under prettify-symbols-mode and linum-mode\n\n\t* src/xdisp.c (get_overlay_strings_1)\n\t(handle_single_display_spec, push_prefix_prop): Invalidate the\n\tcomposition information before starting to iterate on a string.\n\tOtherwise we might think in set_iterator_to_next that we are\n\tdelivering characters from a composition, and do all kinds of\n\tnonsensical things, like over-step the string end.  (Bug#27761)\n\n2017-08-07  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/gnus/gnus-bcklg.el (gnus-backlog-request-article): Fix thinko.\n\n2017-08-07  Martin Rudalics  <rudalics@gmx.at>\n\n\tFix doc-string of `delete-other-windows'\n\n\t* lisp/window.el (delete-other-windows): Fix doc-string.\n\n2017-08-07  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix a couple more make-temp-file races\n\n\t* lisp/files.el (basic-save-buffer-2, move-file-to-trash):\n\tUse make-temp-name, not make-temp-file with retry.\n\t(basic-save-buffer-2): Use condition-case, instead of\n\tunwind-protect with a success flag.\n\n2017-08-07  Noam Postavsky  <npostavs@gmail.com>\n\n\tMerge null and without-null regexp alists (Bug#27840, Bug#27873)\n\n\t* lisp/progmodes/grep.el (grep-mode-font-lock-keywords): Allow for NUL\n\tcharacters following filename in grep context lines.\n\t(grep--regexp-alist-column, grep--regexp-alist-bin-matcher)\n\t(grep-with-null-regexp-alist, grep-fallback-regexp-alist): Remove.\n\t(grep-regexp-alist): Recombine their contents here.\n\t(grep-mode):\n\t* lisp/cedet/semantic/symref/grep.el\n\t(semantic-symref-parse-tool-output-one-line):\n\t* lisp/progmodes/xref.el (xref-collect-matches): Use the variable\n\t`grep-regexp-alist' rather than the function.\n\n2017-08-07  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix some crashes on self-modifying Elisp code\n\n\tPrompted by a problem report by Alex in:\n\thttps://lists.gnu.org/r/emacs-devel/2017-08/msg00143.html\n\t* src/eval.c (For, Fprogn, Fsetq, FletX, eval_sub):\n\tCompute XCDR (x) near XCAR (x); although this doesn't fix any bugs,\n\tit is likely to run a bit faster with typical hardware caches.\n\t(Fif): Use Fcdr instead of XCDR, to avoid crashing on\n\tself-modifying S-expressions.\n\t(Fsetq, Flet, eval_sub): Count the number of arguments as we go\n\tinstead of trusting an Flength prepass, to avoid problems when the\n\tcode is self-modifying.\n\t(Fquote, Ffunction, Fdefvar, Fdefconst): Prefer !NILP to CONSP\n\twhere either will do.  This is mostly to document the fact that\n\tthe value must be a proper list.  It's also a tiny bit faster on\n\ttypical machines nowadays.\n\t(Fdefconst, FletX): Prefer XCAR+XCDR to Fcar+Fcdr when either will do.\n\t(eval_sub): Check that the args are a list as opposed to some\n\tother object that has a length. This prevents e.g. (if . \"string\")\n\tfrom making Emacs dump core in some cases.\n\t* test/src/eval-tests.el (eval-tests--if-dot-string)\n\t(eval-tests--let-with-circular-defs, eval-tests--mutating-cond):\n\tNew tests.\n\n2017-08-06  Eli Zaretskii  <eliz@gnu.org>\n\n\t* etc/tutorials/TUTORIAL.he: Update to match recent changes to TUTORIAL.\n\n2017-08-06  Tino Calancha  <tino.calancha@gmail.com>\n\n\tMinor tweak in a dired test\n\n\t* test/lisp/dired-tests.el (dired-test-bug27968):\n\tEnsure the new header has different length than the original one.\n\n2017-08-06  Tino Calancha  <tino.calancha@gmail.com>\n\n\tdired-delete-file: Do not TAB complete the user answer\n\n\tThis action might delete directories containing valuable information.\n\tBefore previous commit, we prompted users with `yes-or-no-p'\n\twhich doesn't TAB complete the user answer.  Let's play safe and\n\tkeep requiring full answers.\n\t* lisp/dired.el (dired-delete-file): Use `read-string'\n\tinstead of `completing-read' to read the user answers.\n\n2017-08-06  Tino Calancha  <tino.calancha@gmail.com>\n\n\tdired-do-delete: Allow to delete dirs recursively without prompts\n\n\t* lisp/dired.el (dired-delete-file): Accept 2 additional answers:\n\t'all', to delete all directories recursively and no prompt anymore.\n\t'quit', to cancel directory deletions (Bug#27940).\n\tShow help message when user inputs 'help'.\n\t(dired-do-flagged-delete): Bind locally dired-recursive-deletes\n\tso that we can overwrite its global value.\n\tWrapp the loop within a catch '--delete-cancel to catch when\n\tthe user abort the directtry deletion.\n\t* doc/emacs/dired.texi (Dired Deletion): Update manual.\n\t* etc/NEWS (Changes in Specialized Modes and Packages in Emacs 26.1):\n\tAnnounce this change.\n\n2017-08-06  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix a couple of make-temp-file races\n\n\t* lisp/emacs-lisp/autoload.el (autoload--save-buffer):\n\t* lisp/emacs-lisp/bytecomp.el (byte-compile-file):\n\tUse make-temp-file, not make-temp-name, to avoid an unlikely race\n\tthat could lose data.  Remove the deletion hook as quickly as\n\tpossible after the file is renamed; though a race still remains\n\there, it is smaller than before.\n\n2017-08-06  Tino Calancha  <tino.calancha@gmail.com>\n\n\tDired w/ eshell-ls: Handle shell wildcards in file name\n\n\t* lisp/eshell/em-ls.el (eshell-ls--insert-directory):\n\tUse eshell-extended-glob (Bug#27844).\n\t* test/lisp/dired-tests.el (dired-test-bug27844): Add test.\n\n2017-08-06  Tino Calancha  <tino.calancha@gmail.com>\n\n\tdired-revert: save line numbers instead of positions\n\n\tPositions might change if the length of one dired header line\n\tchanges; this happen, for instance, if we add new files.\n\tInstead, line numbers are invariant under shrinks/enlargements\n\tof the file header.\n\thttps://lists.gnu.org/r/emacs-devel/2017-07/msg01092.html\n\t* lisp/dired.el (dired-save-positions): Save the line numbers at point.\n\t(dired-restore-positions): Use forward-line to restore the original\n\tposition (Bug#27968).\n\t* test/lisp/dired-tests.el (dired-test-bug27968): Add test.\n\n2017-08-06  Tom Tromey  <tom@tromey.com>\n\n\tRespect comment-auto-fill-only-comments\n\n\tRespect comment-auto-fill-only-comments when auto-filling and a\n\tcomment syntax is defined.\n\n\t* lisp/newcomment.el (comment-indent-new-line): Do not check\n\tcomment-auto-fill-only-comments.\n\t* lisp/simple.el (internal-auto-fill): New defun.\n\t* src/cmds.c (internal_self_insert): Call Qinternal_auto_fill, not\n\tauto_fill_function.\n\t(syms_of_cmds): Define Qinternal_auto_fill.\n\n2017-08-05  Richard Stallman  <rms@gnu.org>\n\n\t* etc/tutorials/TUTORIAL: Update.\n\n2017-08-05  Eli Zaretskii  <eliz@gnu.org>\n\n\tUnify CNS11643-15 in a way that avoids segfaults\n\n\t* lisp/international/mule-conf.el: Redo unification of\n\tcns11643-15.  (Bug#27964)\n\t(chinese-cns11643-15): Add the missing :unify-map attribute.\n\n2017-08-05  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid segfaults while producing Punct.el\n\n\t* lisp/international/mule-conf.el: Undo unification of\n\tcns11643-15, as that causes segfaults during bootstrap.\n\t(Bug#27964)\n\n2017-08-05  Eli Zaretskii  <eliz@gnu.org>\n\n\tMake header line in some modes be sensitive to display-line-numbers\n\n\t* lisp/ruler-mode.el (ruler-mode-ruler, ruler-mode-window-col):\n\t* lisp/emacs-lisp/tabulated-list.el (tabulated-list-init-header)\n\t(tabulated-list-print-entry): Account for the width taken by\n\tline-number display.  (Bug#27895)\n\n2017-08-05  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix a bug in 'generate-new-buffer-name'\n\n\t* src/buffer.c (Fgenerate_new_buffer_name): Test IGNORE for being\n\tnil before calling string-equal, since the latter will compare\n\t\"nil and 'nil' as equal.  (Bug#27966)\n\n\t* test/src/buffer-tests.el\n\t(test-generate-new-buffer-name-bug27966): New test.\n\n2017-08-05  Eli Zaretskii  <eliz@gnu.org>\n\n\tUnify CNS11643-15\n\n\t* lisp/international/mule-conf.el (chinese-cns11643-15): Add a\n\tunify-charset form for it.  (Bug#27964)\n\n2017-08-05  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove test of error message when Emacs cannot be suspended\n\n\t* lisp/term/x-win.el (x-win-suspend-error):\n\t* lisp/term/ns-win.el (ns-suspend-error): Improve the error\n\tmessage.  (Bug#27901)\n\n2017-08-05  Alexander Gramiak  <agrambot@gmail.com>\n\n\tMake \"C-h o\" show faces as well as variables\n\n\t* lisp/faces.el (describe-face): Return (buffer-string).  Reorder\n\tthe placement of variables/faces in describe-symbol, to put more\n\temphasis on the variable entry rather than the face.  (Bug#24543)\n\n2017-08-05  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix files-tests.el for MS-Windows\n\n\t* test/lisp/files-tests.el\n\t(files-tests--file-name-non-special--subprocess): Fix this test\n\tfor MS-Windows.\n\n2017-08-05  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of 'region-extract-function'\n\n\t* lisp/simple.el (region-extract-function): Rename the argument to\n\tMETHOD.  Doc fix.  (Bug#27927)\n\n2017-08-05  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from gnulib\n\n\tThis incorporates:\n\t2017-08-04 manywarnings: port to 64-bit GCC builds of Emacs\n\t2017-08-01 manywarnings: port to 32-bit GCC bug\n\t* lib/gnulib.mk.in: Regenerate.\n\t* m4/manywarnings.m4: Copy from gnulib.\n\n2017-08-05  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort recent rename changes to Ubuntu 14.04\n\n\t* src/sysdep.c (renameat_noreplace) [!RENAME_NOREPLACE]:\n\tDon\u2019t use syscall.  Problem reported by Tino Calancha (Bug#27946#10).\n\n2017-08-05  Tino Calancha  <tino.calancha@gmail.com>\n\n\tinsert-directory-wildcard-in-dir-p: Tweak regexp\n\n\tThis function must return non-nil for a wildcard like '/*/*.txt'.\n\t* lisp/files.el (insert-directory-wildcard-in-dir-p): Adjust regexp.\n\t* test/lisp/files-tests.el (files-tests--insert-directory-wildcard-in-dir-p):\n\tAdd test.\n\n2017-08-04  Toby S. Cubitt  <tsc25@cantab.net>\n\n\tImplement iterator generator for avl-trees.\n\n\t* lisp/emacs-lisp/avl-tree.el (avl-tree-iter): New iter-defun.\n\n2017-08-04  Tino Calancha  <tino.calancha@gmail.com>\n\n\tls-lisp: Drop eshell dependencies\n\n\tUse 'file-expand-wildcards' instead of 'eshell-extended-glob' to\n\texpand the wildcards.\n\tSuggested by Fabrice Popineau in:\n\thttps://lists.gnu.org/r/emacs-devel/2017-08/msg00108.html\n\t* lisp/ls-lisp.el (ls-lisp--dired): Use file-expand-wildcards.\n\n2017-08-04  Tino Calancha  <tino.calancha@gmail.com>\n\n\tFix dired-test-bug27631 on MS-Windows\n\n\tSkip the test if Dired use 'ls' emulation with lisp.  The same\n\tbug is tested in their respective test suites: ls-lisp-tests.el\n\tand em-ls-tests.el.\n\t* test/lisp/dired-tests.el (dired-test-bug27631): Skip test if 'ls-lisp'\n\tor 'eshell' features are enabled.\n\n2017-08-04  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix dired-test-bug25609 on MS-Windows\n\n\t* test/lisp/dired-tests.el (dired-test-bug25609): On MS-Windows,\n\tpass temporary files through file-truename, to avoid bogus\n\tfailures due to file-name comparison as strings.\n\n2017-08-04  Tino Calancha  <tino.calancha@gmail.com>\n\n\tFix 2 tests that fail in MS-Windows\n\n\thttps://lists.gnu.org/r/emacs-devel/2017-08/msg00018.html\n\t* test/lisp/vc/ediff-ptch-tests.el (ediff-ptch-test-bug26084):\n\tAdd comments to explain the test logic.\n\tPass '--binary' option to 'patch' program in windows environments.\n\tCheck explicitly that a backup is created before compare file contents.\n\n\t* test/lisp/dired-tests.el (dired-test-bug25609):\n\tDeclare variable 'dired-dwim-target' right before the test.\n\tAdd comments to explain the test logic.\n\tEnsure, before test the bug condition, that we are displaying the\n\t2 dired buffers created in this test, and no other dired buffer\n\tis shown.\n\n2017-08-04  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/shell.el (explicit-shell-file-name): Mention shell-file-name\n\n\t* lisp/files.el (insert-directory): Don't hardcode \"-c\".\n\t* lisp/term.el (term, ansi-term): Use shell-file-name.\n\n2017-08-04  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix version numbers for some GnuTLS features\n\n\tProblem reported by Glenn Morris (Bug#27708#58).\n\t* src/gnutls.c (HAVE_GNUTLS_X509_SYSTEM_TRUST):\n\tNew macro.  Use it instead of low-level version number checks.\n\t(HAVE_GNUTLS_AEAD): Move here from gnutls.h, and rename from\n\tHAVE_GNUTLS3_AEAD.  All uses changed.  Indent preprocessor lines.\n\t* src/gnutls.h (HAVE_GNUTLS3_CIPHER, HAVE_GNUTLS3_DIGEST)\n\t(HAVE_GNUTLS3_HMAC): Remove, since these were available\n\tbefore GnuTLS 3.0.0 and the code checks them only if HAVE_GNUTLS3\n\tis defined.  Remove all uses; this simplifies the code a bit.\n\n2017-08-04  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort recent rename changes to RHEL 7 + NFS\n\n\tProblem reported by Ted Zlatanov in:\n\thttps://lists.gnu.org/r/emacs-devel/2017-08/msg00082.html\n\t* src/fileio.c (Frename_file): On RHEL 7 + NFS, renameat2 can fail\n\twith errno == EINVAL when it is not supported.  So treat that case\n\tlike errno == ENOSYS.  Also, when ok_if_already_exists is neither\n\tnil nor an integer, just call plain rename; this avoids an extra\n\tsyscall to renameat2 when the latter fails with errno == EINVAL or\n\tENOSYS or ENOENT.\n\n2017-08-03  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort GnuTLS usage to Ubuntu 16.04.2 LTS\n\n\t* src/gnutls.h (HAVE_GNUTLS3_AEAD): Define only if GnuTLS 3.5.1 or\n\tlater, as opposed to the old 3.4.0 or later.\n\n2017-08-03  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSimplify configuration of HAVE_GNUTLS3 etc.\n\n\tThere's only one GnuTLS, so configuring these symbols at\n\t'configure' time is overkill.  Simplify things by moving their\n\tconfiguration to src/gnutls.h (Bug#27708).\n\t* configure.ac (HAVE_GNUTLS3, HAVE_GNUTLS3_HMAC, HAVE_GNUTLS3_AEAD)\n\t(HAVE_GNUTLS3_CIPHER, HAVE_GNUTLS3_DIGEST): Move these definitions\n\tfrom here ...\n\t* src/gnutls.h: ... to here, and simplify.\n\n2017-08-03  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDefault to --with-mailutils if it is installed\n\n\t* configure.ac (with_mailutils): Default to 'yes' if GNU Mailutils\n\tis installed.  See:\n\thttps://lists.gnu.org/r/emacs-devel/2017-08/msg00054.html\n\n2017-08-02  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tClarify when autogen.sh should run only autoconf\n\n\t* Makefile.in (configure, bootstrap): Run \u2018./autogen.sh autoconf\u2019,\n\tnot plain \u2018./autogen.sh\u2019, to make it clear that only\n\tautoconf-related tools should be run here.\n\n2017-08-02  Toon Claes  <toon@iotcl.com>\n\n\t.gitlab-ci.yml: Use stretch Debian image instead of unstable\n\n2017-08-02  Stephen Berman  <stephen.berman@gmx.net>\n\n\tAdd debugging messages to a Dired test\n\n\t* test/lisp/dired-tests.el (dired-test-bug27243-01): Log\n\tpositions saved and restored by dired-revert to try and find\n\tout why the test fails on Hydra.\n\n2017-08-02  Tino Calancha  <tino.calancha@gmail.com>\n\n\tls-lisp: Autoload call instead of cookie\n\n\t* lisp/ls-lisp.el (eshell-extended-glob): autoload call instead of cookie.\n\n2017-08-02  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tWhen renaming a file, ask only if EEXIST or ENOSYS\n\n\t* src/fileio.c (Frename_file): Avoid calling Ffile_directory_p\n\tmore than once on FILE.  Use renameat_noreplace, so that we can\n\task the user (and unlink and retry) only if this fails with errno\n\t== EEXIST or ENOSYS.  This avoids the need to ask the user for\n\tpermission to do an operation that will fail anyway.  Simplify\n\tcomputation of ok_if_already_exists for subsidiary functions.\n\t* src/filelock.c (rename_lock_file): Prefer renameat_noreplace\n\tif it works, as this avoids the need to link and unlink.\n\t* src/lisp.h (renameat_noreplace): New decl.\n\t* src/sysdep.c [HAVE_LINUX_FS_H]: Include linux/fs.h and sys/syscall.h.\n\t(renameat_noreplace): New function.\n\n2017-08-02  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tWhen creating a link, ask only if EEXIST\n\n\t* src/fileio.c (Fadd_name_to_file, Fmake_symbolic_link):\n\tAsk the user (and unlink and retry) only if link creation fails\n\twith errno == EEXIST.  This avoids the need to ask the user for\n\tpermission to do an operation that will fail anyway.\n\n2017-08-02  Tino Calancha  <tino.calancha@gmail.com>\n\n\tdired-align-file: Inherit text properties in inserted spaces\n\n\t* lisp/dired.el (dired-align-file): Inherit text\n\tproperties in inserted spaces (Bug#27899).\n\t* test/lisp/dired-tests.el (dired-test-bug27899): Add test.\n\n2017-08-02  Tino Calancha  <tino.calancha@gmail.com>\n\n\tDon't assume /bin/sh as the 'sh' location in the local host\n\n\t* lisp/dired.el (dired-insert-directory): Use executable-find in\n\ta local host.\n\n2017-08-02  Tino Calancha  <tino.calancha@gmail.com>\n\n\tMove dired tests using ls emulation to different files\n\n\tSuggested in:\n\thttps://lists.gnu.org/r/emacs-devel/2017-08/msg00018.html\n\t* test/lisp/dired-tests.el (dired-test-bug27693)\n\t(dired-test-bug27762, dired-test-bug27817)\n\t(dired-test-bug27631, dired-test-bug27843): Delete those\n\tparts requiring either ls-lisp or eshell-ls.\n\n\t* test/lisp/ls-lisp-tests.el (ls-lisp-test-bug27762)\n\t(ls-lisp-test-bug27631, ls-lisp-test-bug27693):\n\tAdd all dired tests using ls-lisp here.\n\n\t* test/lisp/eshell/em-ls-tests.el (em-ls-test-bug27631)\n\t(em-ls-test-bug27817, em-ls-test-bug27843): New test file.  Add\n\tall dired tests using eshell-ls here.\n\n2017-08-02  Tino Calancha  <tino.calancha@gmail.com>\n\n\t* test/lisp/ls-lisp-tests.el: Rename it from ls-lisp.el\n\n2017-08-02  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\t* lisp/gnus/mm-uu.el (mm-uu-org-src-code-block-extract):\n\tSay the handle is already decoded.\n\tcf. <yw.87lgnh5cfv.fsf@alex.chromebook> in the info-gnus-english list.\n\n2017-08-02  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDon\u2019t worry about unlink if errno == ENOENT\n\n\t* src/fileio.c (Fdelete_file):\n\t* src/keyboard.c (Fopen_dribble_file): Do not report failure to\n\tremove a file if unlink fails with errno == ENOENT.  This can\n\thappen even if Emacs is the only program removing the file, in\n\tcase an NFS cache overflows.  The file does not exist if errno ==\n\tENOENT, so it is OK to proceed.\n\n2017-08-01  Tino Calancha  <tino.calancha@gmail.com>\n\n\tFix misalignment in Dired when dired-directory is a cons\n\n\t* lisp/dired.el (dired--need-align-p, dired--align-all-files):\n\tNew defuns.\n\t(dired-internal-noselect): Call dired--align-all-files when\n\tdired-directory is a cons (Bug#27762).\n\t* test/lisp/dired-tests.el (dired-test-bug27762): Test should pass.\n\n2017-08-01  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix some dired-tests.el on MS-Windows\n\n\t* test/lisp/dired-tests.el (dired-test-bug27243-01)\n\t(dired-test-bug27243-02): On MS-Windows, pass test-dir through\n\tfile-truename, to avoid bogus failures due to file-name comparison\n\tas strings.\n\n2017-08-01  Tino Calancha  <tino.calancha@gmail.com>\n\n\tInsert subdir content if dir-or-list is a string w/o wildcards\n\n\t* lisp/eshell/em-ls.el (eshell-ls--insert-directory):\n\tAppend '(\"-d\") into 'eshell-ls-dired-initial-args'\n\tif 'dired-directory' is a cons or there are wildcars (Bug#27843).\n\t* test/lisp/dired-tests.el (dired-test-bug27843): Add test.\n\n2017-08-01  Stephen Berman  <stephen.berman@gmx.net>\n\n\tUpdate todo-mode defcustoms in a less hideous way\n\n\t* lisp/calendar/todo-mode.el (todo-reevaluate-filelist-defcustoms)\n\t(todo-reevaluate-default-file-defcustom)\n\t(todo-reevaluate-category-completions-files-defcustom)\n\t(todo-reevaluate-filter-files-defcustom): Delete these functions.\n\t(todo-update-filelist-defcustoms): New function.  This replaces\n\ttodo-reevaluate-filelist-defcustoms, using the 'custom-type'\n\tproperty instead of re-evaluating the defcustoms.\n\t(todo-add-file, todo-rename-file, todo-delete-file)\n\t(todo-delete-category, todo-move-category)\n\t(todo-convert-legacy-files, todo-check-file): Replace call of\n\ttodo-reevaluate-filelist-defcustoms by\n\ttodo-update-filelist-defcustoms.\n\t(todo-show, todo-category-completions): Replace call of\n\ttodo-reevaluate-* function by use of 'custom-type' property.\n\n2017-08-01  Tino Calancha  <tino.calancha@gmail.com>\n\n\tAdd more should form calls in a failing dired test\n\n\tSome dired tests fail intermittently in hydra.  Add few\n\tmore should form calls for debugging.\n\tSee:\n\thttps://lists.gnu.org/r/emacs-devel/2017-07/msg01092.html\n\t* test/lisp/dired-tests.el (dired-test-bug27243-01): Add few more should\n\tforms for debugging.\n\n2017-08-01  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFollow SAUNA recommendations for display-line-numbers-type\n\n\t* lisp/display-line-numbers.el (display-line-numbers-type): Do not autoload.\n\n\t* lisp/menu-bar.el (display-line-numbers-type): Declare.\n\n2017-07-31  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tAvoid most stat calls when completing file names\n\n\t* admin/merge-gnulib (GNULIB_MODULES): Add d-type.\n\t* lib/gnulib.mk.in, m4/gnulib-comp.m4: Regenerate.\n\t* m4/d-type.m4: New file, copied from gnulib.\n\t* src/dired.c (DT_UNKNOWN, DT_DIR, DT_LINK)\n\t[!HAVE_STRUCT_DIRENT_D_TYPE]: New constants.\n\t(dirent_type): New function.\n\t(file_name_completion): Use it, to avoid unnecessary calls to\n\tstat-like functions on GNU/Linux and other platforms with d_type.\n\t(file_name_completion_stat): Just follow the link; there is no\n\tneed to try first with AT_SYMLINK_NOFOLLOW since the directory\n\tentry was already checked to exist.\n\n2017-07-31  Tino Calancha  <tino.calancha@gmail.com>\n\n\tdired-tests: Unload tested features after test them\n\n\tSome tests are for Dired with ls-lisp or eshell-ls.\n\tRequiring these features add an advice on `dired' and\n\tmight affect other tests.\n\tDo not require these features at the top of the file; require\n\tthen inside the tests and unload then at the end.\n\t* test/lisp/dired-tests.el (dired-test-bug27693)\n\t(dired-test-bug7131, dired-test-bug27817, dired-test-bug27631):\n\trequire ls-lisp and/or eshell-ls inside the test; unload the\n\tfeatures at the end.\n\n2017-07-31  Michael Albinus  <michael.albinus@gmx.de>\n\n\tSmall adaptions for directory wildcards\n\n\t* lisp/dired.el (dired-insert-directory): Remove \"--dired\"\n\twhen there are wildcards, and the directory is remote.\n\n\t* test/lisp/net/tramp-tests.el (tramp--test-make-temp-name):\n\tAdapt docstring.\n\t(tramp-test17-dired-with-wildcards): Skip for all methods but\n\tthose from tamp-sh.p.\n\n2017-07-31  Tino Calancha  <tino.calancha@gmail.com>\n\n\t* lisp/dired.el (dired-trivial-filenames): Use \\` and \\' to match\n\tstring bounds.\n\n2017-07-31  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from gnulib\n\n\tThis incorporates:\n\t2017-07-30 Don't interpret EOVERFLOW to mean nonexistence\n\t* lib/tempname.c: Copy from gnulib.\n\n2017-07-30  Tino Calancha  <tino.calancha@gmail.com>\n\n\tls-lisp: Do not require em-glob at top of the file\n\n\tRequire em-glob inside 'ls-lisp--dired'.  This is necessary to\n\tnot break the Emacs build.\n\tSee following thread for details:\n\thttps://lists.gnu.org/r/emacs-devel/2017-07/msg01083.html\n\t* lisp/ls-lisp.el (dired-goto-next-file)\n\t(dired-read-dir-and-switches, eshell-extended-glob):\n\tAdd function declarations.\n\t* lisp/eshell/em-ls.el (dired-goto-next-file): Fix function declaration.\n\n2017-07-30  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* lisp/dired.el (dired-insert-directory): Move `file-remote-p' check up.\n\n\t* test/lisp/net/tramp-tests.el (tramp-test17-dired-with-wildcards): New test.\n\n2017-07-30  Simen Heggest\u00f8yl  <simenheg@gmail.com>\n\n\tChange default CSS property face\n\n\t* lisp/textmodes/css-mode.el (css-property): Inherit from\n\t`font-lock-keyword-face' instead of `font-lock-variable-name-face' to\n\tdistinguish CSS properties from variables.\n\n2017-07-30  Tino Calancha  <tino.calancha@gmail.com>\n\n\tDired: Handle posix wildcards in directory part\n\n\tAllow Dired to handle calls like\n\t\\(dired \\\"~/foo/*/*.el\\\"), that is, with wildcards within\n\tthe directory part of the file argument (Bug#27631).\n\t* lisp/files.el (insert-directory-wildcard-in-dir-p): New predicate.\n\t(insert-directory-clean): New defun extracted from insert-directory.\n\t(insert-directory)\n\t* lisp/dired.el (dired-internal-noselect)\n\t(dired-insert-directory): Use the new predicate; when it's true,\n\thandle the directory wildcards with a shell call.\n\t* lisp/eshell/em-ls.el (eshell-ls-use-in-dired): Add/remove both advices.\n\t(eshell-ls-unload-hook): New defun.  Use it in\n\teshell-ls-unload-hook instead of an anonymous function.\n\t(eshell-ls--dired)\n\t* lisp/ls-lisp.el (ls-lisp--dired):\n\tAdvice dired to handle wildcards in the directory part with both\n\teshell-ls and ls-lisp.\n\t* etc/NEWS: Announce it.\n\t* doc/emacs/dired.texi (Dired Enter): Update manual.\n\t* test/lisp/dired-tests.el (dired-test-bug27631): Add test.\n\n2017-07-29  Tino Calancha  <tino.calancha@gmail.com>\n\n\t* lisp/find-lisp.el: Enable lexical binding\n\n\t* lisp/find-dired.el: Enable lexical binding\n\n2017-07-29  Mark Oteiza  <mvoteiza@udel.edu>\n\n\t* lisp/kmacro.el: Use lexical binding.\n\n2017-07-29  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tUse lexical-binding in dired-aux.el\n\n\t* lisp/dired.el: Use lexical binding.\n\t(dired-do-shell-command): Remove unused bindings.\n\n2017-07-29  Mark Oteiza  <mvoteiza@udel.edu>\n\n\t* lisp/ido.el: Use lexical binding.\n\n\t* lisp/whitespace.el: Use lexical binding.\n\n2017-07-29  Stephen Berman  <stephen.berman@gmx.net>\n\n\tartist.el: Avoid error with keyboard command invocation\n\n\t* lisp/textmodes/artist.el (artist-mouse-choose-operation):\n\tCall x-popup-menu with t instead of last-nonmenu-event as the\n\tvalue of the position argument; this allows invoking the\n\tcommand from the keyboard without raising an error (bug#27819).\n\n2017-07-29  Stephen Berman  <stephen.berman@gmx.net>\n\n\tPreserve point under 'dired-auto-revert-buffer' (third case)\n\n\t* lisp/files.el (find-file): Use pop-to-buffer-same-window\n\tinstead of switch-to-buffer.  This preserves Dired window\n\tpoint when dired-auto-revert-buffer is non-nil.  (Bug#27243)\n\n\t* test/lisp/dired-tests.el (dired-test-bug27243-01)\n\t(dired-test-bug27243-02, dired-test-bug27243-03): New tests.\n\tThe first two replace a previous test that combined them; that\n\ttest intermittently fails in the Hydra build system, so maybe\n\tseparating the two cases will help locate the point of\n\tfailure.  The third test involves find-file but is here\n\tbecause it, like the others, is testing the effect of\n\tdired-auto-revert-buffer.\n\n2017-07-29  Allen Li  <vianchielfaura@gmail.com>  (tiny change)\n\n\tDo not unset user key remaps in dired-x\n\n\t* lisp/dired-x.el (dired-x-bind-find-file): Don't map any keys if user\n\tsets dired-x-hands-off-my-keys.  (Bug#27828)\n\n2017-07-29  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of 'occur'\n\n\t* doc/emacs/search.texi (Other Repeating Search):\n\t* lisp/replace.el (occur): Make the documentation of 'occur' be\n\tmore accurate when matches overlap.  (Bug#27818)\n\n2017-07-29  Eli Zaretskii  <eliz@gnu.org>\n\n\tMinor copyedits of comments in faces.el\n\n\t* lisp/faces.el (face-font-family-alternatives): More info about\n\trequirements from \"Monospace Serif\".\n\n2017-07-29  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDo not worry about paxctl on newer NetBSD\n\n\tProblem reported privately by Thomas Klausner.\n\t* configure.ac (emacs_uname_r): New var.  Use it to avoid paxctl\n\ton newer NetBSD platforms, where it is not needed.  Also use it to\n\tsimplify Cygwin diagnostic.\n\n2017-07-29  Eli Zaretskii  <eliz@gnu.org>\n\n\tClarify documentation of ':inherit' face attribute\n\n\t* doc/lispref/display.texi (Face Attributes): Document the special\n\ttreatment of 'unspecified' in the ':inherit' attribute.\n\n2017-07-28  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/password-cache.el (password-data): Use a hash-table\n\n\t* lisp/auth-source.el (auth-source-magic): Remove.\n\t(auth-source-forget+, auth-source-forget-all-cached): Adjust to new\n\tformat of password-data.\n\t(auth-source-format-cache-entry): Just use a cons.\n\n\t(password-cache-remove, password-cache-add, password-reset)\n\t(password-read-from-cache, password-in-cache-p): Adjust accordingly.\n\n\t(Bug#26699)\n\n2017-07-28  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/subr.el (define-symbol-prop): New function\n\n\t(symbol-file): Make it find symbol property definitions.\n\n\t* lisp/emacs-lisp/pcase.el (pcase-defmacro):\n\t* lisp/emacs-lisp/ert.el (ert-set-test): Use it instead of `put'.\n\t(ert-describe-test): Adjust call to symbol-file accordingly.\n\n2017-07-28  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/subr.el (method-files): Move function to cl-generic.el\n\n\t* lisp/emacs-lisp/cl-generic.el (cl-generic-p): New function.\n\t(cl--generic-method-files): New function, moved from subr.el.\n\t* lisp/emacs-lisp/edebug.el (edebug-instrument-function): Use them.\n\t* test/lisp/emacs-lisp/cl-generic-tests.el:\n\t* test/lisp/subr-tests.el: Move and adjust method-files tests accordingly.\n\n2017-07-28  Eli Zaretskii  <eliz@gnu.org>\n\n\tPreserve this-command-keys across recursive-edit invocations\n\n\t* src/minibuf.c (read_minibuf, read_minibuf_unwind): Save and\n\trestore this-command-keys, to preserve it across recursive-edit.\n\t(Bug#27470)\n\n2017-07-28  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove doc string of 'locate-dominating-file'\n\n\t* lisp/files.el (locate-dominating-file): Doc fix.  (Bug#27798)\n\n2017-07-28  Drew Adams  <drew.adams@oracle.com>\n\n\tNew commands 'apropos-local-variable', 'apropos-local-value'\n\n\t* lisp/apropos.el (apropos-local-variable, apropos-local-value):\n\tNew functions.  (Bug#27424)\n\n\t* doc/emacs/help.texi (Apropos): Document 'apropos-local-variable'\n\tand 'apropos-local-value'.\n\t* etc/NEWS: Mention the new commands.\n\n2017-07-28  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/loadhist.el (unload-feature): Remove ad-hoc ELP code\n\n\t* lisp/emacs-lisp/elp.el (loadhist-unload-element): Un-instrument functions.\n\n2017-07-27  Alan Mackenzie  <acm@muc.de>\n\n\tFix C++ class initializers not always being fontified at mode start.\n\n\tThe problem here happened when an \"outer list\" of declarations moved beyond an\n\t\"inner list\" containing class initializers.  These weren't being checked for\n\tby the code.\n\n\tAlso, fix places in c-get-fontification-context where point is undefined.\n\n\t* lisp/progmodes/cc-fonts.el (c-get-fontification-context): when argument\n\tnot-front-decl is set, test for class initializers.  Also, anchor point in\n\tplaces where it is moved and is otherwise undefined.\n\n2017-07-27  Alan Mackenzie  <acm@muc.de>\n\n\tFix variables in C++ \"for\" statement not always being fontified.\n\n\tThe error happened when there was a comma inside template delimiters.\n\n\t* lisp/progmodes/cc-fonts.el (c-get-fontification-context): In \"for\"\n\tstatements, recognize template delimiters containing \",\" and \"&\".\n\n2017-07-27  Michael Albinus  <michael.albinus@gmx.de>\n\n\tAdd watchdog process to tramp-test36-asynchronous-requests\n\n\t* test/lisp/net/tramp-tests.el (tramp--test-timeout-handler):\n\tNew defun.\n\t(tramp-test36-asynchronous-requests): Use a watchdog process,\n\tlistening for SIGUSR1.\n\n2017-07-27  Alan Mackenzie  <acm@muc.de>\n\n\tCC Mode: Fix declarator being cut off from terminator by end of jit-lock chunk\n\n\tIf a declarator is so cut off, extend the fontification chunk to include it.\n\n\t* lisp/progmodes/cc-mode.el (c-fl-decl-end): New function.\n\t(c-change-expand-fl-region, c-context-expand-fl-region): Use the new function.\n\n2017-07-27  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/vc/smerge-mode.el: Avoid N\u00b2 blow up in degenerate cases\n\n\t(smerge--refine-long-words): New var.\n\t(smerge--refine-chopup-region): Use it.\n\n2017-07-27  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/url/url-cookie.el: Use lexical-binding\n\n\t(url-cookie-host-can-set-p): Remove unused var `last'.\n\tUse string-suffix-p.\n\t(url-cookie-list): De morgan.\n\t(url-cookie-quit): Remove.\n\t(url-cookie-mode): Inherit from special-mode.\n\t(url-cookie-mode-map): Simplify accordingly.\n\n2017-07-27  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/calendar/todo-mode.el (todo-print-buffer-function): Rework docstring.\n\n\t* lisp/ruler-mode.el (ruler-mode-ruler): Document problem.\n\n2017-07-27  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/cl-generic.el (cl-generic-define-method):\n\n\tRecord this as the function's definition site if it's the first def.\n\n2017-07-26  Glenn Morris  <rgm@gnu.org>\n\n\t* doc/lispref/loading.texi (When to Autoload): New section.\n\n2017-07-26  Glenn Morris  <rgm@gnu.org>\n\n\tStop using unibyte buffers for ert backtraces\n\n\t* lisp/emacs-lisp/ert.el\n\t(ert-results-pop-to-backtrace-for-test-at-point):\n\tSet multibyte true, not false.  This copies a\n\tdebugger-setup-buffer change from 2009-08-30, and stops the\n\t\"Backtrace for\" header line containing ^X and ^Y.\n\n2017-07-26  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tFix semantic-symref-parse-tool-output-one-line after 644cdd1aa0\n\n\t* lisp/cedet/semantic/symref/grep.el\n\t(semantic-symref-grep--line-re): Delete.\n\t(semantic-symref-parse-tool-output-one-line):\n\tUse regexp and group numbers from (grep-regexp-alist).\n\n2017-07-26  Gr\u00e9goire Jadi  <daimrod@omecha.info>\n\n\tFix cl-defmethod indentation\n\n\t* lisp/emacs-lisp/cl-generic.el (cl-defmethod):\n\tDeclare (indent defun).  Fixes bug#23994.\n\n2017-07-26  Martin Rudalics  <rudalics@gmx.at>\n\n\tFix two customization types in frame.el\n\n\t* lisp/frame.el (window-divider-default-bottom-width)\n\t(window-divider-default-right-width): Fix customization types.\n\n2017-07-26  Tino Calancha  <tino.calancha@gmail.com>\n\n\tDired: Support eshell-ls from the beginning if the user wants to\n\n\t* lisp/dired.el (dired-insert-directory): Check for eshell-ls\n\tas well (Bug#27817).\n\t* test/lisp/dired-tests.el (dired-test-bug27817): Add test.\n\n2017-07-26  Mark Oteiza  <mvoteiza@udel.edu>\n\n\t* lisp/progmodes/sh-script.el (sh-mode): Recognize mkshrc.\n\n2017-07-25  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/eieio-compat.el (eieio--defgeneric-init-form):\n\n\tAdjust to change in cl-generic-ensure-function.\n\n2017-07-25  Tino Calancha  <tino.calancha@gmail.com>\n\n\tls-lisp: Add an unload function and enable lexical binding\n\n\tEnable lexical binding.\n\t* lisp/ls-lisp.el (ls-lisp-unload-function): New defun.\n\t* test/lisp/ls-lisp-tests.el (ls-lisp-unload): Add test.\n\n2017-07-25  Tino Calancha  <tino.calancha@gmail.com>\n\n\tregister-read-with-preview: Quit if user input C-g or ESC\n\n\t* lisp/register.el (register-read-with-preview):\n\tQuit if user input C-g or ESC (bug#27634).\n\t* doc/emacs/regs.texi (Registers): Update manual.\n\t* test/lisp/register-tests.el (register-test-bug27634): Add test.\n\n2017-07-25  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tRecognize MirBSD Korn shell rc file\n\n\t* lisp/files.el (auto-mode-alist): Add .mkshrc to the list.\n\n2017-07-25  Glenn Morris  <rgm@gnu.org>\n\n\t* configure.ac: Be explicit about ImageMagick version in summary.\n\n2017-07-25  Andreas Schwab  <schwab@linux-m68k.org>\n\n\tProperly align global lispsym\n\n\t* lib-src/make-docfile.c (close_emacs_globals): Wrap struct\n\tLisp_Symbols inside struct.\n\t* src/alloc.c (sweep_symbols): Update use of lispsym.\n\t* src/lisp.h (builtin_lisp_symbol): Likewise.\n\n2017-07-25  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDo not use ImageMagick 7 and later\n\n\tSuggested by Glenn Morris (Bug#25967#15).\n\t* configure.ac (IMAGEMAGICK_MODULE): Reject 7 and later.\n\n2017-07-25  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/progmodes/perl-mode.el: Add support for indented here docs\n\n\t* lisp/progmodes/perl-mode.el (perl-syntax-propertize-function):\n\tRecognize the new <<~ syntax for indented here docs.\n\t(perl-syntax-propertize-special-constructs): Adjust search of the\n\tend of here docs accordingly.\n\n\t* test/manual/indent/perl.perl: Add test for indented here docs.\n\n2017-07-24  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t(loadhist-unload-element): Move ERT and cl-generic methods\n\n\t* lisp/loadhist.el (loadhist-unload-element): Don't define cl-generic\n\tand ert methods here.\n\t(loadhist-unload-element) <(head define-type)>: Remove unused var `slots'.\n\n\t* lisp/emacs-lisp/cl-generic.el (loadhist-unload-element): Define\n\tunload method for cl-defmethod.\n\t(cl-generic-ensure-function): Remove redundant `defalias'.\n\n\t* lisp/emacs-lisp/ert.el (ert-set-test): Move the current-load-list\n\tsetting here...\n\t(ert-deftest): ...from here.\n\t(loadhist-unload-element): Define unload method for ert-deftest.\n\n2017-07-24  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix Bug#27371\n\n\t* lisp/loadhist.el (loadhist-unload-element): Declare for\n\tdifferent entry types of `load-history'.\n\t(loadhist--restore-autoload): New variable.\n\t(loadhist--unload-function): New defun.\n\t(unload-feature): Use `loadhist-unload-element'.  Recommended by\n\tStefan Monnier.  (Bug#27371)\n\n\t* test/lisp/net/tramp-tests.el (tramp-test39-unload):\n\tCheck, that the `tramp-file-name' structure has been unloaded.\n\n2017-07-24  Gr\u00e9goire Jadi  <gjadi@omecha.info>\n\n\tEnsure that we parse images right in shr.el\n\n\t* lisp/net/shr.el (shr-image-fetched): Go back to the\n\tbeginning of the buffer before trying to parse the image\n\tfetched.\n\n2017-07-24  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tUpdate .gitignore for Valgrind and no Automake\n\n\t* .gitignore: Remove .deps/ since we no longer use Automake.\n\tAdd vgcore.*[0-9], for debugging Emacs with Valgrind+GDB.\n\n2017-07-24  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from gnulib\n\n\tThis incorporates:\n\t2017-07-23 Rename module 'strftime' to 'nstrftime'\n\t* admin/merge-gnulib (GNULIB_MODULES): Add nstrftime, remove strftime.\n\t* build-aux/config.guess: Copy from gnulib.\n\t* lib/nstrftime.c: Rename from lib/strftime.c.\n\t* m4/nstrftime.m4: Rename from m4/strftime.m4.\n\t* lib/gnulib.mk.in, m4/gnulib-comp.m4: Regenerate.\n\n2017-07-23  Philipp Stephani  <phst@google.com>\n\n\tAdd 'rx' pattern for pcase.\n\n\t* lisp/emacs-lisp/rx.el (rx): New pcase macro.\n\t* test/lisp/emacs-lisp/rx-tests.el (rx-pcase): Add unit test.\n\n2017-07-23  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tUse a named function for global minor mode turn-on argument\n\n\t* lisp/display-line-numbers.el (turn-on-display-line-numbers-mode):\n\tNew function.\n\t(global-display-line-numbers-mode): Use it.\n\n2017-07-23  Charles A. Roelli  <charles@aurox.ch>\n\n\tEnable GUI Emacs without 'make install' on macOS (Bug #27645)\n\n\t* nextstep/INSTALL: Correct it, and mention that Emacs can be run\n\tfrom 'src/emacs'.\n\n\t* src/nsterm.m (applicationDidFinishLaunching:): When Emacs is\n\tlaunched outside of a macOS application bundle, change its\n\tactivation policy from the default 'prohibited' to 'regular'.\n\n2017-07-23  Alan Mackenzie  <acm@muc.de>\n\n\tConvert CC Mode's c-found-types from an obarray to a hash table.\n\n\t* lisp/progmodes/cc-engine.el (c-clear-found-types): create a hash table\n\trather than an obarray.\n\t(c-copy-found-types): Remove.\n\t(c-add-type, c-unfind-type, c-check-type, c-list-found-types): Amend to use\n\tthe new hash table.\n\t(c-forward-<>-arglist): Use copy-hash-table rather than c-copy-found-types.\n\n2017-07-23  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFix image/svg+xml display in shr\n\n\t* lisp/net/shr.el (shr-put-image): Display svg images as svg\n\t(bug#27799).  I suspect the previous change was checked in by\n\taccident in conjuction with some other svg changes.\n\n2017-07-23  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* lisp/display-line-numbers.el (display-line-numbers-type): Autoload it.\n\n2017-07-23  Glenn Morris  <rgm@gnu.org>\n\n\tDon't automatically enable Gconf if Gsettings was found\n\n\t* configure.ac (HAVE_GCONF) [HAVE_GSETTINGS]:\n\tDon't test for Gconf unless specifically requested.\n\tGconf was deprecated in favor of Gsettings several years ago.\n\n2017-07-23  Glenn Morris  <rgm@gnu.org>\n\n\t* configure.ac (MODULES_SUFFIX): Always give it a value.\n\n\tThis prevents a Makefile thinko like \"rm *${MODULE_SUFFIX}\".\n\n2017-07-23  Glenn Morris  <rgm@gnu.org>\n\n\t* doc/emacs/frames.texi (Fonts): Mention Gsettings.\n\n2017-07-22  Michael Albinus  <michael.albinus@gmx.de>\n\n\tAdd line numbers display to the Options menu\n\n\t* lisp/menu-bar.el (toggle-display-line-numbers): Remove.\n\t(menu-bar-display-line-numbers-mode): New defun.\n\t(menu-bar-showhide-line-numbers-menu): New defvar.\n\t(menu-bar-showhide-menu): Use `menu-bar-showhide-line-numbers-menu'\n\n2017-07-22  Noam Postavsky  <npostavs@gmail.com>\n\n\tSignal error for symbol names with strange quotes (Bug#2967)\n\n\t* src/lread.c (read1): Signal an error when a symbol starts with a\n\tnon-escaped quote-like character.\n\t* test/src/lread-tests.el (lread-tests--funny-quote-symbols): New\n\ttest.\n\t* etc/NEWS: Announce change.\n\n2017-07-22  Noam Postavsky  <npostavs@gmail.com>\n\n\tRevert \"Let delete-selection-mode work with popup-menu commands (Bug#27569)\"\n\n\tIt turns out that this change is not needed, and it leaves several\n\tcommand loops settings not done.\n\n\thttps://lists.gnu.org/r/emacs-devel/2017-07/msg00757.html\n\thttps://lists.gnu.org/r/emacs-devel/2017-07/msg00840.html\n\n2017-07-22  Alexander Gramiak  <agrambot@gmail.com>\n\n\tAdd a minor mode interface for display-line-numbers\n\n\t* lisp/cus-start.el: Use the new display-line-numbers group.\n\t* lisp/display-line-numbers.el: New file.\n\n\t* doc/emacs/custom.texi (Init Rebinding): Re-add entry that used to\n\tbelong to linum-mode.\n\t* doc/emacs/modes.texi (Minor Modes): Summarize the mode.\n\t* etc/NEWS: Document display-line-numbers-mode and its customization\n\tvariables, and mention that display-line-numbers-width is\n\tbuffer-local.\n\n\t* src/xdisp.c (syms_of_xdisp) <display-line-numbers-width>: Fix a\n\ttypo.\n\n2017-07-22  vividsnow  <vividsnow@gmail.com>  (tiny change)\n\n\tSupport indented HERE-DOCs in cperl-mode\n\n\t* lisp/progmodes/cperl-mode.el (cperl-find-pods-heres): Support\n\tindented here-docs.  (Bug#27254) (Bug#27697)\n\n2017-07-22  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument the support for \"scrollBar\" X resource\n\n\t* doc/emacs/xresources.texi (Table of Resources): Document the new\n\t'scrollBar' setting.\n\t* etc/NEWS: Document the new 'scrollBar' setting.\n\n2017-07-22  Matthew Bauer  <mjbauer95@gmail.com>  (tiny change)\n\n\tAdd 'scroll-bar-mode' to settings in 'x-apply-session-resources'\n\n\t* lisp/startup.el (x-apply-session-resources): Add scroll-bar-mode\n\tsettings.\n\n2017-07-22  Alexander Kuleshov  <kuleshovmail@gmail.com>\n\n\tUpdate ld-script mode (bug#27629)\n\n\t* lisp/progmodes/ld-script.el: (ld-script-keywords): New commands\n\tNOCROSSREFS_TO and HIDDEN added.  Fix documentation sections\n\tnumbers for PROVIDE/PROVIDE_HIDDEN commands.\n\t(ld-script-builtins): New builtin function LOG2CEIL added.\n\n2017-07-22  Eli Zaretskii  <eliz@gnu.org>\n\n\tIndex 'rectangle' in the ELisp manual\n\n\t* doc/lispref/text.texi (Registers): Index the \"rectangle\" value.\n\t(Bug#27541)\n\n2017-07-22  Eli Zaretskii  <eliz@gnu.org>\n\n\t* lisp/subr.el (add-to-history): Doc fix.  (Bug#27494)\n\n2017-07-22  Eli Zaretskii  <eliz@gnu.org>\n\n\tDoc fixes for kmacro.el functions\n\n\t* lisp/kmacro.el (kmacro-start-macro, kmacro-call-macro)\n\t(kmacro-end-and-call-macro): Don't use \"permanent name\", as that\n\tcould be misinterpreted.  (Bug#27492)\n\n2017-07-22  Charles A. Roelli  <charles@aurox.ch>\n\n\tElDoc: add docstrings and minor refactoring\n\n\t* lisp/emacs-lisp/eldoc.el (eldoc-edit-message-commands): Add\n\tdocstring.\n\t(turn-on-eldoc-mode): Fix capitalization.\n\t(eldoc--supported-p): Add docstring.\n\t(eldoc-schedule-timer): Add docstring and use\n\t'eldoc--supported-p'.\n\t(eldoc-message): Add docstring and make calling convention\n\tclearer.\n\t(eldoc--message-command-p):\n\t(eldoc-pre-command-refresh-echo-area):\n\t(eldoc-display-message-p):\n\t(eldoc-display-message-no-interference-p):\n\t(eldoc-print-current-symbol-info):\n\t(eldoc-docstring-format-sym-doc):\n\t(eldoc-add-command, eldoc-add-command-completions):\n\t(eldoc-remove-command, eldoc-remove-command-completions):\n\tAdd docstring.  (Bug#27230)\n\n2017-07-22  Fabrice Bauzac  <libnoon@gmail.com>  (tiny change)\n\n\tMention 'C-M-i' as key binding for 'ispell-complete-word'\n\n\t* doc/emacs/fixit.texi (Spelling): ispell-complete-word\n\tcan also be invoked by C-M-i.  (Bug#27349)\n\n2017-07-22  Fabrice Bauzac  <libnoon@gmail.com>  (tiny change)\n\n\tFix the eww-search-words description in the Emacs manual\n\n\t* doc/emacs/search.texi (Word Search):\n\tInclude the key binding for eww-search-words in the manual.\n\tFix the spelling of the 'eww-search-words' command.\n\n2017-07-22  Andrew L. Moore  <slewsys@gmail.com>\n\n\tIntroduce defcustom 'executable-prefix-env'\n\n\t* lisp/progmodes/executable.el (executable-prefix): Update the doc\n\tstring.\n\t(executable-prefix-env): New defcustom.\n\t(executable-set-magic): Use executable-prefix-env.\n\n\t* etc/NEWS: Document the new variable.\n\n2017-07-22  Glenn Morris  <rgm@gnu.org>\n\n\t* test/lisp/ibuffer-tests.el: Delete temporary files.\n\n2017-07-21  Glenn Morris  <rgm@gnu.org>\n\n\tFurther attempt to avoid hang in network-stream-tests\n\n\t* test/lisp/net/network-stream-tests.el (connect-to-tls-ipv6-nowait):\n\tLimit the time we wait for the external process.\n\n2017-07-21  Glenn Morris  <rgm@gnu.org>\n\n\tStop skipping many ibuffer tests by default\n\n\t* test/lisp/ibuffer-tests.el (ibuffer-0autoload):\n\tRename so it sorts first.\n\t(ibuffer-save-filters, ibuffer-filter-inclusion-1)\n\t(ibuffer-filter-inclusion-2, ibuffer-filter-inclusion-3)\n\t(ibuffer-filter-inclusion-4, ibuffer-filter-inclusion-5)\n\t(ibuffer-filter-inclusion-6, ibuffer-filter-inclusion-7)\n\t(ibuffer-filter-inclusion-8, ibuffer-decompose-filter)\n\t(ibuffer-and-filter, ibuffer-or-filter, ibuffer-format-qualifier)\n\t(ibuffer-unary-operand): Require ibuf-ext so tests not skipped.\n\n2017-07-21  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tUse lexical-binding in todo-mode.el\n\n\tAdjust code accordingly and make various minor improvements.\n\n\t* lisp/calendar/todo-mode.el: Enable lexical-binding.\n\t(dayname, monthname, day, month, year): Make forward defvars\n\tof these keywords from macros defined in calendar.el; wrap\n\tthem in with-no-warnings.\n\t(todo-files, todo-files-function, todo-date-pattern)\n\t(todo-mode-line-function, todo-show, todo-forward-category)\n\t(todo-edit-item--header, todo-set-category-number)\n\t(todo-adjusted-category-label-length)\n\t(todo-total-item-counts, todo-filter-items)\n\t(todo-print-buffer-function, todo-convert-legacy-date-time)\n\t(todo-category-number, todo-category-completions)\n\t(todo-read-file-name, todo-read-category)\n\t(todo-validate-name, todo-read-date)\n\t(todo-set-show-current-file, todo-modes-set-1)\n\t(todo-modes-set-2, todo-modes-set-3, todo-mode):\n\tUse #' instead of ' to quote functions.\n\t(todo-files): Use \\' instead of $ in regexp.\n\t(todo--files-type-list): New function.\n\t(todo-default-todo-file, todo-category-completions-files)\n\t(todo-filter-files, todo-multiple-filter-files)\n\t(todo-reevaluate-default-file-defcustom)\n\t(todo-reevaluate-category-completions-files-defcustom)\n\t(todo-reevaluate-filter-files-defcustom): Use it.\n\t(todo-show, todo-rename-file, todo-move-category)\n\t(todo-edit-item--text, todo-edit-quit, todo-edit-item--header)\n\t(todo-item-undone, todo-unarchive-items, todo-search)\n\t(todo-filter-items, todo-filter-items-1, todo-find-item)\n\t(todo-category-select, todo-read-date)\n\t(todo-nondiary-marker-matcher, todo-date-string-matcher)\n\t(todo-diary-expired-matcher, todo-convert-legacy-files)\n\t(todo-read-category): Reformat to avoid code hiding behind a\n\tmore deeply embedded element.\n\t(todo-forward-category, todo-set-category-number):\n\tUse 'funcall' instead of 'apply'.\n\t(todo-toggle-mark-item, todo-edit-item--diary-inclusion)\n\t(todo-edit-category-diary-inclusion)\n\t(todo-insert-sort-button, todo-insert-category-line)\n\t(todo-multiple-filter-files): Mark unused local variables.\n\t(todo-edit-item--header, todo-move-item, todo-print-buffer)\n\t(todo-edit-item--header, todo-move-item, todo-check-file)\n\t(todo-edit-item--next-key): Remove unused local variables.\n\t(todo-insert-sort-button, todo-insert-category-line):\n\tUse a closure instead of a backquoted lambda.\n\t(todo-update-categories-display, todo-print-buffer): Simplify code.\n\t(todo-print-buffer-function): Document calling convention.\n\t(todo-category-completions): Use cl-pushnew instead of add-to-list.\n\t(todo-mode-map, todo-archive-mode-map)\n\t(todo-categories-mode-map, todo-filtered-items-mode-map):\n\tRemove superfluous call of suppress-keymap, since it's already\n\tin the parent special-mode-map.\n\n2017-07-21  Tino Calancha  <tino.calancha@gmail.com>\n\n\tdired: Revert buffer when DIRNAME is a cons\n\n\t* lisp/dired.el (dired-internal-noselect): Revert buffer if DIR-OR-LIST\n\tis a cons, or dired-directory is a cons and DIR-OR-LIST a string (Bug#7131).\n\tUpdate the comments.\n\t* test/lisp/dired-tests.el (dired-test-bug7131): Test should pass.\n\n2017-07-21  Tino Calancha  <tino.calancha@gmail.com>\n\n\tHandle when dired-directory is a cons in some Dired functions\n\n\t* lisp/dired-aux.el (dired-rename-subdir-1)\n\t* lisp/dired-x.el (dired-mark-omitted):\n\tHandle when dired-directory is a cons.\n\n2017-07-21  Noam Postavsky  <npostavs@gmail.com>\n\n\tMake eshell-next-prompt more reliable (Bug#27405)\n\n\t* lisp/eshell/em-prompt.el (eshell-next-prompt): Search for\n\t`eshell-prompt-regexp' (and `read-only' text-property if\n\t`eshell-highlight-prompt' is set) rather than trying to use\n\t`forward-paragraph'.\n\t(eshell-previous-prompt): Don't count prompt on current line.\n\n2017-07-21  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSimplify recent gnutls.c changes\n\n\t* src/gnutls.c (clear_storage) [HAVE_GNUTLS3_AEAD]: Remove.\n\tAll uses replaced by calls to explicit_bzero; that\u2019s clear enough.\n\t(gnutls_symmetric_aead) [HAVE_GNUTLS3_AEAD]: Simplify by\n\tcoalescing duplicate actions.  There is no need to invoke\n\tSAFE_FREE before calling \u2018error\u2019.\n\n2017-07-20  Michael Albinus  <michael.albinus@gmx.de>\n\n\tStylistic changes in tramp-cache.el\n\n\t* lisp/net/tramp-cache.el (tramp-get-file-property)\n\t(tramp-set-file-property): Use `bound-and-true-p'.  Add\n\tcounter variables to `tramp-cache-unload-hook'.\n\n2017-07-20  Glenn Morris  <rgm@gnu.org>\n\n\t* admin/notes/hydra: Small updates.\n\n2017-07-20  Glenn Morris  <rgm@gnu.org>\n\n\tMake tramp unloading handle debug counter variables\n\n\t* lisp/net/tramp-cache.el (tramp-get-file-property)\n\t(tramp-set-file-property): Add counter variables to tramp-unload-hook.\n\n2017-07-20  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix hscrolling calculations when display-line-numbers is set\n\n\t* src/xdisp.c (move_it_in_display_line_to): Account for line\n\tnumbers in hscrolled lines.  (Bug#27756)\n\n2017-07-20  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\tFix the bogus change made 13 years ago (bug#27084)\n\n\t* lisp/gnus/gnus-sum.el (gnus-summary-toggle-header):\n\tFix the way to test if there is no visible header (bug#27084).\n\n2017-07-20  Noam Postavsky  <npostavs@gmail.com>\n\n\tUse grep's --null option (Bug#6843)\n\n\t* lisp/progmodes/grep.el (grep-use-null-filename-separator): New option.\n\t(grep--regexp-alist-column, grep--regexp-alist-bin-matcher)\n\t(grep-with-null-regexp-alist, grep-fallback-regexp-alist): New\n\tconstants, replacing `grep-regexp-alist'.\n\t(grep-regex-alist): Mark the variable obsolete, add a new function of\n\tthe same name to replace it.\n\t(grep-compute-defaults): Compute default for\n\t`grep-use-null-filename-separator'.\n\t(grep-mode): Set compilation-error-regexp-alist (buffer locally) to the\n\tvalue of `grep-with-null-regexp-alist' or `grep-fallback-regexp-alist'\n\taccording to `grep-use-null-filename-separator'.\n\t* lisp/progmodes/xref.el (xref-collect-matches): Call\n\t`grep-regex-alist' instead of the obsolete variable.  Don't hardcode\n\tgrep-regexp-alist match groups.\n\t* etc/NEWS: Announce new use of --null.  Move 'grep-save-buffers'\n\titem under \"Grep\" heading as well.\n\n2017-07-19  Philipp Stephani  <phst@google.com>\n\n\t* src/gnutls.c (clear_storage): Define only if needed.\n\n2017-07-19  Stephen Berman  <stephen.berman@gmx.net>\n\n\tAdjust todo-quit to recent change in dired\n\n\t* lisp/calendar/todo-mode.el (todo-quit): Use quit-window instead of\n\tbury-buffer to exit todo-mode.  This restores the desired behavior\n\tof not immediately returning to the exited todo-mode buffer on\n\tquitting another buffer, which a dired bug fix had changed (see\n\thttps://lists.gnu.org/r/emacs-devel/2017-07/msg00739.html).\n\n2017-07-19  Tino Calancha  <tino.calancha@gmail.com>\n\n\tAdd test for bugs 7131, 27762\n\n\tRequire 'ls-lisp' at top of the file.\n\t* test/lisp/dired-tests.el (dired-test-bug7131, dired-test-bug27762):\n\tNew tests.\n\t(dired-test-bug27693): Delete Dired buffer at the end.\n\n2017-07-18  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* admin/notes/hydra: Mention environment variable EMACS_HYDRA_CI.\n\n2017-07-18  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/nadvice.el (advice--defalias-fset): Strip advices\n\n\tThis tries to make sure that (defalias F (symbol-function F)) stays a no-op.\n\n2017-07-18  Glenn Morris  <rgm@gnu.org>\n\n\tUse a more specific test for running on hydra.nixos.org\n\n\t* lisp/emacs-lisp/ert.el (ert-summarize-tests-batch-and-exit):\n\t* test/Makefile.in (WRITE_LOG):\n\t* test/lisp/filenotify-tests.el:\n\t* test/lisp/emacs-lisp/eieio-tests/eieio-test-methodinvoke.el\n\t(eieio-test-method-order-list-6):\n\t* test/lisp/emacs-lisp/eieio-tests/eieio-tests.el\n\t(eieio-test-37-obsolete-name-in-constructor):\n\t* test/lisp/net/tramp-tests.el: Replace NIX_STORE with EMACS_HYDRA_CI.\n\n2017-07-18  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid infloop due to Eshell's \"smart\" redisplay\n\n\t* src/xdisp.c (pos_visible_p): Save and restore the window's\n\tmode-line and header-line height.  (Bug#27752)\n\n2017-07-18  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/cl-lib.el (cl--old-struct-type-of): Accept `[]'\n\n2017-07-18  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix indentation when display-line-numbers is non-nil\n\n\t* src/xdisp.c (x_produce_glyphs): Fix a typo in deciding whether\n\tto go one more tab stop to display a TAB.  (Bug#27743)\n\n2017-07-18  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDon't use gtk_widget_get_scale_factor on old GTK3 versions\n\n\t* src/gtkutil.c (xg_get_scale): gtk_widget_get_scale_factor is\n\tonly present since GTK 3.10.\n\n2017-07-18  Noam Postavsky  <npostavs@gmail.com>\n\n\tLet delete-selection-mode work with popup-menu commands (Bug#27569)\n\n\t* lisp/menu-bar.el (popup-menu): Run `pre-command-hook' with\n\t`this-command' set to the selected command.\n\n2017-07-18  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort gnutls.c to older (buggier?) GnuTLS\n\n\tProblem reported for GnuTLS 3.2.1 by Glenn Morris in:\n\thttps://lists.gnu.org/r/emacs-devel/2017-07/msg00716.html\n\thttps://lists.gnu.org/r/emacs-devel/2017-07/msg00742.html\n\tAlthough I don't see how this bug can occur with vanilla GnuTLS 3.2.1,\n\tperhaps hydra was using a modified GnuTLS.\n\t* src/gnutls.c (Fgnutls_ciphers): Don't assume GNUTLS_CIPHER_NULL\n\tis at the end of the list returned by gnutls_cipher_list,\n\tor that the earlier ciphers all have non-null names.\n\n2017-07-17  Vincent Bela\u00efche  <vincentb1@users.sourceforge.net>\n\n\tFix relocation with named cell referred to by a one-symbol formula.\n\n\t* lisp/ses.el (ses-replace-name-in-formula): Fix bug for it to\n\twork also with one symbol formulas.\n\n\t* test/lisp/ses-tests.el\n\t(ses-tests-renaming-cell-with-one-symbol-formula): Add new\n\ttest for renaming with relocating a one symbol formula.\n\n2017-07-17  Vincent Bela\u00efche  <vincentb1@users.sourceforge.net>\n\n\tFix symbol completion and document it.\n\n\t* doc/misc/ses.texi (Configuring what printer function\n\tapplies): Add description of keys for completing local printer\n\tsymbols and listing local printers in a help buffer.\n\t(Formulas): Add decription for key to list the named cell\n\tsymbols in a help buffer.\n\n\t* lisp/ses.el (ses-completion-keys): New constant.\n\t(ses--completion-table): New defvar.\n\t(ses--list-orig-buffer): New defvar.\n\t(ses-mode-edit-map): Fixed for symbol completion, plus add\n\thelp functions to list named cells or local printers.\n\t(ses-edit-cell-complete-symbol)\n\t(ses--edit-cell-completion-at-point-function): New defuns for\n\tcompletion during formula edition.\n\t(ses-edit-cell): Redefine dynamically edit keymap for\n\tcompletion keys to point at the right function.\n\t(ses-read-printer-complete-symbol)\n\t(ses--read-printer-completion-at-point-function): New defuns\n\tfor completion during printer edition.\n\t(ses-read-printer): Redefine dynamically edit keymap for\n\tcompletion keys to point at the right function.\n\t(ses-list-local-printers): New defun.\n\t(ses-list-named-cells): New defun.\n\n2017-07-17  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMove comments around\n\n2017-07-17  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMake scaling work (?) on pre-GTK3 systems\n\n\t* src/gtkutil.c (xg_get_gdk_scale): Reinstate function.\n\t(xg_get_scale): Use it on non-GTK3 systems.\n\n2017-07-17  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAlways return the GDK scale\n\n\t* src/gtkutil.c (xg_get_scale): Return the GDK scale always.\n\n2017-07-17  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRemove usage of the GDK_SCALE variable\n\n\t* src/gtkutil.c (xg_get_gdk_scale): Remove.\n\t(xg_get_default_scrollbar_height)\n\t(xg_get_default_scrollbar_width): Pass in a frame to check for\n\tscaling.\n\t(xg_frame_set_char_size): Use the API for querying scale\n\tinstead of looking at the GDK_SCALE variable.\n\t(xg_get_default_scrollbar_width): Ditto.\n\t(xg_get_default_scrollbar_height): Ditto.\n\t(xg_update_scrollbar_pos): Ditto.\n\n\t* src/xfns.c (x_set_scroll_bar_default_height): Pass in the\n\tframe to get the width.\n\n2017-07-17  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tGet positions of menus and tooltips right on HiDPI\n\n\t* src/gtkutil.c (xg_get_scale): New function.\n\t(xg_show_tooltip): Use it.\n\n\t* src/xmenu.c (create_and_show_popup_menu): Put menus in the\n\tright place.\n\n2017-07-17  Eli Zaretskii  <eliz@gnu.org>\n\n\tAllow user control on what starts and ends a paragraph for bidi\n\n\t* src/buffer.h (struct buffer): New members\n\tbidi_paragraph_separate_re_ and bidi_paragraph_start_re_.\n\t* src/buffer.c (bset_bidi_paragraph_start_re)\n\t(bset_bidi_paragraph_separate_re): New setters/\n\t(Fbuffer_swap_text): Swap the values of bidi-paragraph-start-re and\n\tbidi-paragraph-separate-re.\n\t(init_buffer_once): Init the values of bidi-paragraph-start-re and\n\tbidi-paragraph-separate-re.\n\t(syms_of_buffer) <bidi-paragraph-start-re, bidi-paragraph-separate-re>:\n\tNew per-buffer variables.\n\t* src/bidi.c (bidi_at_paragraph_end, bidi_find_paragraph_start):\n\tSupport bidi-paragraph-start-re and bidi-paragraph-separate-re.\n\t(bidi_move_to_visually_next): Handle correctly the case when the\n\tseparator matches an empty string.  (Bug#27526)\n\n\t* doc/emacs/mule.texi (Bidirectional Editing):\n\t* doc/lispref/display.texi (Bidirectional Display): Document\n\tbidi-paragraph-start-re and bidi-paragraph-separate-re.\n\n\t* etc/NEWS: Mention bidi-paragraph-start-re and\n\tbidi-paragraph-separate-re.\n\n2017-07-17  Tino Calancha  <tino.calancha@gmail.com>\n\n\t* lisp/emacs-lisp/map.el (map-put): Fix redundancy in docstring.\n\n2017-07-17  Tino Calancha  <tino.calancha@gmail.com>\n\n\talist-get: Add optional arg TESTFN\n\n\tIf TESTFN is non-nil, then it is the predicate to lookup\n\tthe alist.  Otherwise, use 'eq' (Bug#27584).\n\t* lisp/subr.el (alist-get): Add optional arg FULL.\n\t* lisp/emacs-lisp/map.el (map-elt, map-put): Add optional arg TESTFN.\n\t* lisp/emacs-lisp/gv.el (alist-get): Update expander.\n\t* doc/lispref/lists.texi (Association Lists): Update manual.\n\t* etc/NEWS: Announce the changes.\n\t* test/lisp/emacs-lisp/map-tests.el (test-map-put-testfn-alist)\n\t(test-map-elt-testfn): New tests.\n\n2017-07-17  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix `tramp-test39-unload'\n\n\t* test/lisp/net/tramp-tests.el (tramp--test-instrument-test-case-p)\n\t(tramp--test-instrument-test-case): Rename.  Adapt all callees.\n\t(tramp-test36-asynchronous-requests): Bind `timer-max-repeats'.\n\t(tramp-test39-unload): Expect it to pass.  Ignore buffer-local\n\tvariables and autoload functions; they are not removed.  Check\n\talso for `-function(s)'.\n\n2017-07-17  Stephen Berman  <stephen.berman@gmx.net>\n\n\tPreserve point under 'dired-auto-revert-buffer' (second case)\n\n\t* lisp/dired.el (dired): Use pop-to-buffer-same-window instead\n\tof switch-to-buffer.  This preserves Dired window point when\n\tdired-auto-revert-buffer is non-nil.  (Bug#27243)\n\n\t* test/lisp/dired-tests.el (dired-test-bug27243): New test.\n\n2017-07-17  Martin Rudalics  <rudalics@gmx.at>\n\n\tHave Fgnutls_available_p return Qnil when GNUTLS is undefined\n\n\t* src/gnutls.c (Fgnutls_available_p): Return Qnil when GNUTLS is\n\tundefined to allow --with-gnutls=no builds to proceed.\n\n2017-07-17  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* src/gnutls.c: Restore some comments.\n\n2017-07-17  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tUse memset, not bzero\n\n\t* src/ftcrfont.c (ftcrfont_glyph_extents): Use memset instead\n\tof the (less-portable) bzero.\n\n2017-07-17  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tUse explicit_bzero to clear GnuTLS keys\n\n\t* admin/merge-gnulib (GNULIB_MODULES): Add explicit_bzero.\n\t* lib/explicit_bzero.c, m4/explicit_bzero.m4: New files.\n\t* lib/gnulib.mk.in, m4/gnulib-comp.m4: Regenerate.\n\t* src/gnutls.c (clear_storage): New function.\n\t(gnutls_symmetric_aead): Use it instead of memset.\n\n2017-07-17  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from gnulib\n\n\tThis incorporates:\n\t2017-07-16 explicit_bzero: new module\n\t2017-07-15 getdtablesize: Add minimal support for OpenVMS.\n\t* lib/getdtablesize.c, lib/string.in.h, m4/getdtablesize.m4:\n\t* m4/string_h.m4:\n\tCopy from Gnulib.\n\t* lib/gnulib.mk.in: Regenerate.\n\n2017-07-17  Dieter Deyke  <dieter.deyke@gmail.com>\n\n\tFix vc-src-dir-status-files\n\n\t* lisp/vc/vc-src.el (vc-src-dir-status-files): Fix broken\n\tcopy-paste from b1a765b3 (bug#27641).\n\n2017-07-16  Wilfred Hughes  <me@wilfred.me.uk>\n\n\tFix mismatched parens\n\n\t* etc/NEWS.21: Remove excess parenthesis in code example\n\n2017-07-16  Alan Third  <alan@idiocy.org>\n\n\tAdd missing declare-function for new function\n\n\t* lisp/frame.el: Add declare function for\n\tns-mouse-absolute-pixel-position.\n\n2017-07-16  R. Bernstein  <rocky@gnu.org>\n\n\tRealgud for tango themes\n\n2017-07-16  Noam Postavsky  <npostavs@gmail.com>\n\n\tFix test when running from test/lisp/subr-tests.elc\n\n\t* test/lisp/subr-tests.el (subr-test-backtrace-simple-tests): Don't\n\tassume a lambda expression will be `equal' to its quoted form.  That's\n\tnot true if the lambda expression has been compiled.\n\n2017-07-15  Alan Third  <alan@idiocy.org>\n\n\tFix some frame handling issues on NS\n\n\t* lisp/frame.el (mouse-absolute-pixel-position): Use new NS function.\n\t* src/nsfns.m (Sns_mouse_absolute_pixel_position): New function.\n\t* src/nsterm.m (x_make_frame_visible): Re-establish parent-child\n\trelationship if it's broken.\n\n2017-07-15  Tino Calancha  <tino.calancha@gmail.com>\n\n\tls-lisp: Fix file size format\n\n\t* lisp/ls-lisp.el (ls-lisp-filesize-d-fmt, ls-lisp-filesize-f-fmt)\n\t(ls-lisp-filesize-b-fmt): Add space in front (Bug#27693).\n\t* test/lisp/dired-tests.el (dired-test-bug27693): Add test.\n\n2017-07-15  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid link errors with older versions of GnuTLS\n\n\t* src/gnutls.c (Fgnutls_ciphers, gnutls_symmetric_aead)\n\t(Fgnutls_macs, Fgnutls_digests): Conditionally compile code that\n\tcalls GnuTLS functions which might be unavailable in older\n\tversions of GnuTLS.\n\n2017-07-15  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove comments in faces.el\n\n\t* lisp/faces.el (face-font-family-alternatives): Improve\n\tcommentary.\n\n2017-07-15  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove some GnuTL error messages\n\n\t* src/gnutls.c (gnutls_symmetric_aead, gnutls_symmetric):\n\t* src/fns.c (Fsecure_hash_algorithms): Fix error messages.\n\n2017-07-15  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix the Elisp manual wrt GnuTL cryptography\n\n\t* doc/lispref/elisp.texi (Top): Update the master menu.\n\t* doc/lispref/text.texi (GnuTLS Cryptography): Add a @menu, to\n\tavoid errors in makeinfo.\n\n2017-07-15  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix compilation of gnutls.c with older GnuTLS\n\n\t* src/gnutls.c (syms_of_gnutls): Condition some defsubr's\n\ton HAVE_GNUTLS3, to avoid compilation errors when GnuTLS\n\tv3.X is not available.  Reported by Colin Baxter <m43cap@yandex.com>.\n\n2017-07-15  rocky  <rb@dustyfeet.com>\n\n\tRealgud for two more light themes\n\n2017-07-15  Eli Zaretskii  <eliz@gnu.org>\n\n\tRearrange MS-Windows code that dynamically loads GnuTLS functions\n\n\t* src/gnutls.c [WINDOWSNT]: Reorganize definitions and loading\n\tof functions using the same preprocessing directives as in the code.\n\n2017-07-15  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix the MS-Windows build broken in gnutls.c\n\n\t* src/gnutls.c (Fgnutls_available_p) [WINDOWSNT]: Move the DLL\n\tloading code to after 'capabilities' has been calculated.  Remove\n\tredundant comments.\n\n2017-07-15  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tsrc/image.c (compute_image_size): Remove superfluous checks.\n\n\t* src/image.c (compute_image_size): Remove superfluous checks.\n\n2017-07-15  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMake combinations of :width/:max-height image specs work reliably\n\n\t* doc/lispref/display.texi (ImageMagick Images): Document\n\t:width/:max-height combinations (etc) (bug #25583).\n\n\t* src/image.c (compute_image_size): Handle :width/:max-height\n\t(etc) combinations consistently (by letting \"max\" win and\n\tpreserve ratio).\n\n\t* test/manual/image-size-tests.el (image-size-tests): Add\n\ttests for :width/:max-height (etc) combinations.\n\n2017-07-15  Glenn Morris  <rgm@gnu.org>\n\n\tFix recent theme changes\n\n\t* etc/themes/manoj-dark-theme.el, etc/themes/tsdh-dark-theme.el:\n\tFix typos in recent changes.\n\n2017-07-15  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tGnuTLS integer-overflow and style fixes\n\n\tThis tweaks the recently-added GnuTLS improvements so that\n\tthey avoid some integer-overflow problems and follow typical\n\tEmacs style a bit better.\n\t* configure.ac (HAVE_GNUTLS3_HMAC, HAVE_GNUTLS3_AEAD)\n\t(HAVE_GNUTLS3_CIPHER): Use AC_CACHE_CHECK so that the\n\tconfigure-time results are displayed.\n\t* src/fns.c (extract_data_from_object): Return char *, not char\n\tconst *, since one gnutls caller wants a non-const pointer.  Use\n\tCONSP rather than !NILP when testing for conses.  Use CAR_SAFE\n\tinstead of rolling our own code.  Prefer signed types to unsigned\n\twhen either will do.  Report problems for lengths out of range,\n\tinstead of silently mishandling them.\n\t* src/gnutls.c (emacs_gnutls_strerror): New function, to simplify\n\tcallers.  All callers of gnutls_sterror changed.\n\t(Fgnutls_boot): Check for integers out of range rather than\n\tsilently truncating them.\n\t(gnutls_symmetric_aead): Check for integer overflow in size\n\tcalculations.\n\t(gnutls_symmetric_aead, Fgnutls_macs, Fgnutls_digests):\n\tPrefer signed to unsigned integers where either\twill do.\n\t(gnutls_symmetric_aead, gnutls_symmetric):\n\tWork even if ptrdiff_t is wider than \u2018long\u2019.\n\t(gnutls_symmetric, Fgnutls_hash_mac, Fgnutls_hash_digest):\n\tCheck for integer overflow in algorithm selection.\n\n2017-07-14  Noam Postavsky  <npostavs@gmail.com>\n\n\t* .gitlab-ci.yml: Don't install a C++ compiler.  Suppress apt interaction.\n\n2017-07-14  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix the MS-Windows build due to added GnuTLS functions\n\n\t* src/gnutls.c [WINDOWSNT]: Add DEF_DLL_FN for new functions.\n\t(init_gnutls_functions) [WINDOWSNT]: Add LOAD_DLL_FN for new\n\tfunctions.  Add #define redirections for new functions.\n\t(gnutls_symmetric_aead): Fix format specs to be more portable when\n\tprinting ptrdiff_t arguments.\n\t* src/fns.c (gnutls_rnd) [WINDOWSNT]: Redirect to w32_gnutls_rnd\n\twrapper.\n\t* src/gnutls.h [WINDOWSNT]: Add prototype for w32_gnutls_rnd.\n\n\t* test/lisp/net/gnutls-tests.el (gnutls-tests-tested-macs)\n\t(gnutls-tests-tested-digests, gnutls-tests-tested-ciphers): Call\n\tgnutls-available-p, otherwise GnuTLS functions might not be loaded\n\tfrom the DLL on MS-Windows.\n\n2017-07-14  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/bytecomp.el: Fix bug#14860.\n\n\t* lisp/emacs-lisp/bytecomp.el (byte-compile--function-signature): New fun.\n\tDig into advice wrappers to find the \"real\" signature.\n\t(byte-compile-callargs-warn, byte-compile-arglist-warn): Use it.\n\t(byte-compile-arglist-signature): Don't bother with \"new-style\" arglists,\n\tsince bytecode functions are now handled in byte-compile--function-signature.\n\n\t* lisp/files.el (create-file-buffer, insert-directory):\n\tRemove workaround introduced for (bug#14860).\n\n\t* lisp/help-fns.el (help-fns--analyse-function): `nadvice` is preloaded.\n\n\t* lisp/help.el (help-function-arglist):\n\tDig into advice wrappers to find the \"real\" signature.\n\n2017-07-14  Ted Zlatanov  <tzz@lifelogs.com>\n\n\tGnuTLS HMAC and symmetric cipher support\n\n\t    * etc/NEWS: Add news for new feature.\n\n\t    * doc/lispref/text.texi (GnuTLS Cryptography): Add\n\t    documentation.\n\n\t    * configure.ac: Add macros HAVE_GNUTLS3_DIGEST,\n\t    HAVE_GNUTLS3_CIPHER, HAVE_GNUTLS3_AEAD, HAVE_GNUTLS3_HMAC.\n\n\t    * src/fns.c (Fsecure_hash_algorithms): Add function to list\n\t    supported `secure-hash' algorithms.\n\t    (extract_data_from_object): Add data extraction function that\n\t    can operate on buffers and strings.\n\t    (secure_hash): Use it.\n\t    (Fsecure_hash): Mention `secure-hash-algorithms'.\n\n\t    * src/gnutls.h: Include gnutls/crypto.h.\n\n\t    * src/gnutls.c (Fgnutls_ciphers, gnutls_symmetric_aead)\n\t    (gnutls_symmetric, Fgnutls_symmetric_encrypt, Fgnutls_symmetric_decrypt)\n\t    (Fgnutls_macs, Fgnutls_digests, Fgnutls_hash_mac, Fgnutls_hash_digest)\n\t    (Fgnutls_available_p): Implement GnuTLS cryptographic integration.\n\n\t    * test/lisp/net/gnutls-tests.el: Add tests.\n\n2017-07-14  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/cl-lib.el (cl--random-time): Remove as well\n\n\tIt's also defined in cl-extra.el.\n\n2017-07-14  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDo not convert ij and IJ to compatibility chars\n\n\t* lisp/leim/quail/latin-alt.el: Omit lines for ij and IJ in Dutch.\n\tProblem reported by James Cloos (Bug#518#10).\n\n2017-07-14  Toon Claes  <toon@iotcl.com>\n\n\tRemove Turkish ligatures from Dutch input method\n\n\t* lisp/leim/quail/latin-alt.el: Remove Turkish ligatures (Bug#518).\n\n2017-07-14  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tImprove stack-overflow heuristic on GNU/Linux\n\n\tProblem reported by Steve Kemp (Bug#27585).\n\t* src/eval.c (near_C_stack_top): Remove.  All uses replaced\n\tby current_thread->stack_top.\n\t(record_in_backtrace): Set current_thread->stack_top.\n\tThis is for when the Lisp interpreter calls itself.\n\t* src/lread.c (read1): Set current_thread->stack_top.\n\tThis is for recursive s-expression reads.\n\t* src/print.c (print_object): Set current_thread->stack_top.\n\tThis is for recursive s-expression printing.\n\t* src/thread.c (mark_one_thread): Get stack top first.\n\t* src/thread.h (struct thread_state.stack_top): Now void *, not char *.\n\n2017-07-14  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRemove duplicate cl--random-state definition\n\n\t* lisp/emacs-lisp/cl-lib.el (cl--random-state): Remove.\n\tThis variable is now defined in cl-extra.el (Bug#27617).\n\n2017-07-14  Michael Albinus  <michael.albinus@gmx.de>\n\n\tAdjust timer in tramp-test36-asynchronous-requests\n\n\t* test/lisp/net/tramp-tests.el (tramp-test36-asynchronous-requests):\n\tAdjust timer if it takes too much time.\n\n2017-07-14  Eli Zaretskii  <eliz@gnu.org>\n\n\tAlways display rmail progress report under user control\n\n\t* lisp/mail/rmail.el (rmail-show-message-1): Delete the second\n\tcopy of '(message \"Showing message %d...\" msg)'.  (Bug#27535)\n\n2017-07-14  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid byte-compilation warnings for advised functions\n\n\t* lisp/files.el (insert-directory, create-file-buffer): Add an\n\tadvertised-calling-convention form to shut up byte-compilation\n\twarnings.  (Bug#14860)\n\n2017-07-14  Eli Zaretskii  <eliz@gnu.org>\n\n\tAdd assertion related to display-line-numbers\n\n\t* src/xdisp.c (maybe_produce_line_number): Add assertion for the\n\tcondition regarding IT->glyph_row->used[TEXT_AREA] expected by the\n\tcode.  (Bug#27668)\n\n2017-07-14  Eli Zaretskii  <eliz@gnu.org>\n\n\tPrevent display corruption when display-line-numbers is set\n\n\t* src/xdisp.c (try_window_reusing_current_matrix): If giving up\n\tdue to display-line-numbers, clear the window's desired glyph\n\tmatrix before returning, as the following call to try_window will\n\tcall display_line, which expects rows of the desired matrix\n\tcleared.  (Bug#27668)\n\n2017-07-14  Eli Zaretskii  <eliz@gnu.org>\n\n\tRevert \"Use fixed-pitch font for display-line-numbers\"\n\n\tThis reverts commit d014a5e15c1110af77e7a96f06ccd0f0cafb099f.\n\t* lisp/faces.el (line-number): Don't use a fixed-pitch font, by\n\tpopular demand.  For relevant discussions, see\n\n\t https://lists.gnu.org/r/emacs-devel/2017-07/msg00433.html\n\t https://lists.gnu.org/r/emacs-devel/2017-07/msg00445.html\n\n2017-07-14  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from gnulib\n\n\tThis incorporates:\n\t2017-07-13 Improve cross-compilation guesses for native Windows\n\t2017-07-11 More systematic m4 quoting and indentation\n\t2017-07-10 Make sure $host and $host_os are defined when used\n\t2017-07-03 stdioext: Port to OpenVMS\n\t2017-06-24 xalloc-oversized: port to icc\n\t* doc/misc/texinfo.tex, lib/fpending.c, lib/stdio-impl.h:\n\t* lib/xalloc-oversized.h, m4/dirfd.m4, m4/gettimeofday.m4:\n\t* m4/lstat.m4, m4/mktime.m4, m4/pselect.m4, m4/putenv.m4:\n\t* m4/stdint.m4, m4/strtoimax.m4, m4/utimes.m4:\n\tCopy from Gnulib.\n\n2017-07-13  Alan Mackenzie  <acm@muc.de>\n\n\tC++ Mode.  Fix anomaly occurring when a \">\" is deleted then reinserted.\n\n\tThis fontification anomaly happened because after deleting the \">\",\n\tc-forward-<>-arglist parses the preceding identifier as a putative type but\n\tstores it in c-found-types before it becomes clear it is not an unambiguous\n\ttype.  c-forward-<>-arglist fails, leaving the spurious type id in\n\tc-found-types.  Fix this by \"binding\" c-found-types \"to itself\" in\n\tc-forward-<>-arglist, and restoring the original value when that function call\n\tfails.\n\n\t* lisp/progmodes/cc-engine.el (c-copy-found-types): New function.\n\t(c-forward-<>-arglist): Record the original value of c-found-types at the\n\tbeginning of the function, and restore it at the end on failure.\n\n\t* lisp/progmodes/cc-mode.el (c-unfind-coalesced-tokens): Rewrite more\n\taccurately.\n\n2017-07-13  Vincent Bela\u00efche  <vincentb1@users.sourceforge.net>\n\n\tAdd tests for SES, and fix one more cell renaming bug.\n\n\t* lisp/ses.el (ses-relocate-all): In case of insertion, do not\n\trelocate value for named cells as they keep the same symbol.\n\t(ses-rename-cell): Set new cell name symbol to cell value --- do not\n\trely on recalculating.  Push cells with updated data --- cell name,\n\tcell reference list, or cell formula --- to deferred write list.\n\n\t* test/lisp/ses-tests.el: New file, with 7 tests for SES.\n\n2017-07-12  Alan Mackenzie  <acm@muc.de>\n\n\tFix some bugs in c-defun-name.  This fixes bug #25623.\n\n\t* lisp/progmodes/cc-cmds.el (c-defun-name): Fix some bugs to do with structs,\n\tetc.\n\n2017-07-12  Vasilij Schneidermann  <mail@vasilij.de>\n\n\tMake prog-mode-map the parent of c-mode-base-map.  Fixes bug #26658.\n\n\t* lisp/progmodes/cc-mode.el (top level): Make prog-mode-map the parent of\n\tc-mode-base-map if possible.\n\n2017-07-12  Alan Mackenzie  <acm@muc.de>\n\n\tCC Mode: create and use c-set-keymap-parent.\n\n\t* lisp/progmodes/cc-defs.el (c-set-keymap-parent): New macro.\n\n\t* lisp/progmodes/cc-mode.el (top-level): Remove cc-bytecomp-defun for\n\tset-keymap-parents.\n\t(c-make-inherited-keymap): Use c-set-keymap-parent in place of inline code.\n\n2017-07-12  Martin Rudalics  <rudalics@gmx.at>\n\n\tMinor tweaks of new line number display variables\n\n\t* src/xdisp.c (Vdisplay_line_numbers): Tweak doc-string.\n\t(Vdisplay_line_number_width): Rename to\n\tVdisplay_line_numbers_width.\n\t(maybe_produce_line_number): Comply with above rename.\n\t* lisp/cus-start.el (standard):\n\t* lisp/frame.el (top-level):\n\t* etc/NEWS: Comply with renaming of\n\t`display-line-number-width' to `display-line-numbers-width'.\n\n2017-07-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid assertion violations in close_infile_unwind\n\n\t* src/lread.c (close_infile_unwind): A temporary band-aid solution\n\tfor bug#27642: allow 'infile' be NULL.\n\n2017-07-11  Eli Zaretskii  <eliz@gnu.org>\n\n\tUse fixed-pitch font for display-line-numbers\n\n\t* lisp/faces.el (line-number): Use a fixed-pitch font by default,\n\teven if the default face uses a variable-pitch font.  Reported by\n\tJames Cloos <cloos@jhcloos.com>.\n\n2017-07-11  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of display-line-numbers\n\n\t* src/xdisp.c (syms_of_xdisp) <display-line-numbers>: Improve the\n\tdoc string.  Suggested by Alex <agrambot@gmail.com>.\n\n2017-07-11  Nicolas Petton  <nicolas@petton.fr>\n\n\tAdd an optional testfn parameter to assoc\n\n\t* src/fns.c (assoc): New optional testfn parameter used for comparison\n\twhen provided.\n\t* test/src/fns-tests.el (test-assoc-testfn): Add tests for the new\n\t'testfn' parameter.\n\t* src/buffer.c:\n\t* src/coding.c:\n\t* src/dbusbind.c:\n\t* src/font.c:\n\t* src/fontset.c:\n\t* src/gfilenotify.c:\n\t* src/image.c:\n\t* src/keymap.c:\n\t* src/process.c:\n\t* src/w32fns.c:\n\t* src/w32font.c:\n\t* src/w32notify.c:\n\t* src/w32term.c:\n\t* src/xdisp.c:\n\t* src/xfont.c: Add a third argument to Fassoc calls.\n\t* etc/NEWS:\n\t* doc/lispref/lists.texi: Document the new 'testfn' parameter.\n\n2017-07-10  Michael Albinus  <michael.albinus@gmx.de>\n\n\tUse `with-demoted-errors' in Tramp\n\n\t* lisp/net/tramp.el (tramp-with-demoted-errors): New defmacro.\n\n\t* lisp/net/tramp-sh.el (tramp-sh-handle-vc-registered): Use it.\n\n2017-07-10  Michael Albinus  <michael.albinus@gmx.de>\n\n\tAdd Quick Start Guide to Tramp manual\n\n\t* doc/misc/tramp.texi: Use consequently \"@value{tramp}\" and\n\t\"MS Windows\".\n\t(Quick Start Guide): New node.\n\n\t* doc/misc/trampver.texi:\n\t* lisp/net/trampver.el: Change version to \"2.3.3-pre\".\n\n2017-07-10  Glenn Morris  <rgm@gnu.org>\n\n\tFix failing module tests on GNU/Linux\n\n\t* test/src/emacs-module-tests.el\n\t(module--test-assertions--load-non-live-object)\n\t(module--test-assertions--call-emacs-from-gc):\n\tAvoid test failures due to backtraces.\n\n2017-07-10  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix core dump in substitute-object-in-subtree\n\n\tWithout this fix, (substitute-object-in-subtree #0=(#0# 'a) 'a)\n\twould dump core, since the C code would recurse indefinitely through\n\tthe infinite structure.  This patch adds an argument to the function,\n\tand renames it to lread--substitute-object-in-subtree as the function\n\tis not general-purpose and should not be relied on by outside code.\n\tSee Bug#23660.\n\t* src/intervals.c (traverse_intervals_noorder): ARG is now void *,\n\tnot Lisp_Object, so that callers need not cons unnecessarily.\n\tAll callers changed.  Also, remove related #if-0 code that was\n\t\u201ctemporary\u201d in the early 1990s and has not been compilable for\n\tsome time.\n\t* src/lread.c (struct subst): New type, for substitution closure data.\n\t(seen_list): Remove this static var, as this info is now part of\n\tstruct subst.  All uses removed.\n\t(Flread__substitute_object_in_subtree): Rename from\n\tFsubstitute_object_in_subtree, and give it a 3rd arg so that it\n\tdoesn\u2019t dump core when called from the top level with an\n\talready-cyclic structure.  All callers changed.\n\t(SUBSTITUTE): Remove.  All callers expanded and then simplified.\n\t(substitute_object_recurse): Take a single argument SUBST rather\n\tthan a pair OBJECT and PLACEHOLDER, so that its address can be\n\tpassed around as part of a closure; this avoids the need for an\n\tAUTO_CONS call.  All callers changed.  If the COMPLETED component\n\tis t, treat every subobject as potentially circular.\n\t(substitute_in_interval): Take a struct subst * rather than a\n\tLisp_Object, for the closure data.  All callers changed.\n\t* test/src/lread-tests.el (lread-lread--substitute-object-in-subtree):\n\tNew test, to check that the core dump does not reoccur.\n\n2017-07-10  Philipp Stephani  <phst@google.com>\n\n\tMinor simplification of module_free_global_ref\n\n\t* src/emacs-module.c (module_free_global_ref): Remove unused variable\n\t'hashcode'.  Inline variable 'value' that's only used once.\n\n2017-07-10  Philipp Stephani  <phst@google.com>\n\n\tRe-add a useful assertion\n\n\t* src/emacs-module.c (module_free_global_ref): Re-add assertion that\n\tthe reference count is zero.  This assertion was removed in commit\n\t8afaa1321f8088bfb877fe4b6676e8517adb0bb7, but it's not included in the\n\ttest performed by XFASTINT before, because the previous reference\n\tcount could have been zero already in the case of a buggy\n\timplementation.  This assertion might have detected Bug#27587.\n\n2017-07-10  Valentin Gatien-Baron  <vgatien-baron@janestreet.com>  (tiny change)\n\n\tFix bug in module_free_global_ref (Bug#27587)\n\n\t* src/emacs-module.c (module_free_global_ref): Actually remove entry\n\tfrom hash table.\n\n2017-07-09  Philipp Stephani  <phst@google.com>\n\n\tFurther improve electric quote support for Markdown (Bug#24709)\n\n\tMarkdown sets both 'comment-start' and 'comment-use-syntax' to non-nil\n\tvalues.  Therefore 'electric-quote-mode' recognized it as a\n\tprogramming mode.  Fix this by first checking whether the current\n\tmajor mode is derived from 'text-mode'.\n\n\t* lisp/electric.el (electric-quote-post-self-insert-function): Treat\n\t'text-mode' as stronger signal than comment syntax.\n\n\t* test/lisp/electric-tests.el (electric-quote-markdown-in-text)\n\t(electric-quote-markdown-in-code): Adapt unit tests.\n\n2017-07-09  Philipp Stephani  <phst@google.com>\n\n\tRemove pointless code in 'electric-quote-mode'\n\n\t* lisp/electric.el (electric-quote-post-self-insert-function): Remove\n\tpointless form.\n\n2017-07-09  Philipp Stephani  <phst@google.com>\n\n\tRefactor 'electric-quote-mode'\n\n\t* lisp/electric.el (electric-quote-post-self-insert-function): Remove\n\tlocal variable 'start', which was misnamed and only used once.\n\n2017-07-09  Saulius Menkevi\u010dius  <saulius.menkevicius@gmail.com>  (tiny change)\n\n\tAvoid crashes on MS-Windows starting 64-bit .NET executables\n\n\t* src/w32proc.c (w32_executable_type): Don't assume that the\n\timport directory in a DLL will always be non-NULL.  (Bug#27527)\n\n2017-07-09  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid compilation warning in files.el\n\n\t* lisp/files.el (auto-save-visited-file-name): Avoid obsoletion\n\twarning due to its use in auto-save-visited-mode.\n\n2017-07-09  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove indexing of VC-related stuff in the Emacs manual\n\n\t* doc/emacs/maintaining.texi (Version Control): Add a \"VC\" index\n\tentry.  (Bug#27627)\n\n2017-07-09  Eli Zaretskii  <eliz@gnu.org>\n\n\tSpeed up display of line numbers for very large buffers\n\n\t* src/xdisp.c (maybe_produce_line_number): Speed up line counting\n\tusing values cached by mode-line display of line numbers.\n\t(Bug#27622)\n\n2017-07-09  Alexander Kuleshov  <kuleshovmail@gmail.com>\n\n\tDefine internal_border_parts for window systems only (Bug#27615)\n\n\t* src/keyboard.c: (internal_border_parts): Define only\n\twhen HAVE_WINDOW_SYSTEM is enabled.  (Bug#27615)\n\n2017-07-09  R. Bernstein  <rocky@gnu.org>\n\n\tAdd realgud faces faces to whiteboard...\n\n\tAdjust wheatgrass to use underline for enabled/disabled breakpoints\n\n2017-07-08  Noam Postavsky  <npostavs@gmail.com>\n\n\tOptimize UCS normalization tests\n\n\tBrings the the time for `ucs-normalize-part1' from 200s down to 130s.\n\t* test/lisp/international/ucs-normalize-tests.el\n\t(ucs-normalize-tests--parse-column): Use character instead of string\n\tof length 1 for terminator.  Convert return value into string since\n\tall callers need that form anyway.\n\t(ucs-normalize-tests--normalization-equal-p): Rename from\n\tucs-normalize-tests--normalize.  Use dedicated buffer instead of\n\tmessing with narrowing.  Take string to compare against and insert it\n\tinto buffer so that compare-buffer-substrings can be used instead of\n\tallocating a new string from buffer contents.\n\t(ucs-normalize-tests--normalization-chareq-p): New macro, specialized\n\tfor comparing single character.\n\t(ucs-normalize-tests--rule1-holds-p)\n\t(ucs-normalize-tests--rule2-holds-p): Turn into defsubst.\n\t(ucs-normalize-tests--rule1-failing-for-partX): Use `eq' instead of\n\t`='.\n\n2017-07-08  Noam Postavsky  <npostavs@gmail.com>\n\n\tUpdate failing lines for UCS normalize tests\n\n\t* test/lisp/international/ucs-normalize-tests.el\n\t(ucs-normalize-tests--failing-lines-part2): Update for new\n\tadmin/unidata/NormalizationTest.txt version.\n\n2017-07-08  Noam Postavsky  <npostavs@gmail.com>\n\n\tSemi-automate the procedure for updating UCS normalize test bad lines\n\n\t* test/lisp/international/ucs-normalize-tests.el: Remove incorrect\n\tcommentary describing a manual procedure for producing the updated\n\tfailing lines, it did not actually work.  Replace it with pointer to\n\tnew function which prints the updated values.\n\t(ucs-normalize-tests--rule1-holds-p): Renamed from\n\tucs-normalize-tests--invariants-hold-p.\n\t(ucs-normalize-tests--rule2-holds-p): Renamed from\n\tucs-normalize-tests--invariants-rule2-hold-p.\n\t(ucs-normalize-tests--rule1-failing-for-partX): Renamed from\n\tucs-normalize-tests--invariants-failing-for-part.\n\t(ucs-normalize-tests--rule1-failing-for-lines): Renamed from\n\tucs-normalize-tests--invariants-failing-for-lines.\n\t(ucs-normalize-tests--part2-rule1-failed-lines): New variable.\n\t(ucs-normalize-part2): Set it.\n\t(ucs-normalize-part1): Always run through to end of test before\n\tchecking for failures.\n\t(ucs-normalize-tests--insert-failing-lines)\n\t(ucs-normalize-check-failing-lines): New functions, used to update\n\tthe *--failing-lines-part* variables.\n\n2017-07-08  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* lisp/cus-start.el (standard): Spelling fix.\n\n2017-07-08  Philipp Stephani  <phst@google.com>\n\n\tModule assertions: check for garbage collections\n\n\tIt's technically possible to write a user pointer finalizer that calls\n\tinto Emacs module functions.  This would be disastrous because it\n\twould allow arbitrary Lisp code to run during garbage collection.\n\tTherefore extend the module assertions to check for this case.\n\n\t* src/emacs-module.c (module_assert_thread): Also check whether a\n\tgarbage collection is in progress.\n\n\t* test/data/emacs-module/mod-test.c (invalid_finalizer)\n\t(Fmod_test_invalid_finalizer): New test module functions.\n\t(emacs_module_init): Register new test function.\n\n\t* test/src/emacs-module-tests.el (module--test-assertion)\n\t(module--with-temp-directory): New helper macros.\n\t(module--test-assertions--load-non-live-object): Rename existing\n\tunit test, use helper macros.\n\t(module--test-assertions--call-emacs-from-gc): New unit test.\n\n2017-07-08  Eli Zaretskii  <eliz@gnu.org>\n\n\tCapitalize the menu entry for display-line-numbers\n\n\t* lisp/menu-bar.el (menu-bar-showhide-menu): Capitalize menu item\n\tfor display-line-numbers.  Suggested by Martin Rudalics\n\t<rudalics@gmx.at>.\n\n2017-07-08  Eli Zaretskii  <eliz@gnu.org>\n\n\tUpdate Unicode data and files to Unicode 10.0\n\n\t* admin/notes/unicode:\n\t* admin/unidata/README:\n\t* admin/unidata/BidiBrackets.txt:\n\t* admin/unidata/BidiMirroring.txt:\n\t* admin/unidata/Blocks.txt:\n\t* admin/unidata/IVD_Sequences.txt:\n\t* admin/unidata/NormalizationTest.txt:\n\t* admin/unidata/SpecialCasing.txt:\n\t* admin/unidata/UnicodeData.txt:\n\t* lisp/international/characters.el:\n\t* lisp/international/fontset.el (script-representative-chars):\n\t* lisp/international/mule-cmds.el (ucs-names): Update per Unicode 10.0.\n\n2017-07-08  Alexander Gramiak  <agrambot@gmail.com>\n\n\tSupport '=' in Scheme and Lisp tags in 'etags'\n\n\t* lib-src/etags.c (get_lispy_tag): New function.\n\t(L_getit, Scheme_functions): Use get_lispy_tag (Bug#5624).\n\t* test/manual/etags/CTAGS.good:\n\t* test/manual/etags/ETAGS.good_1:\n\t* test/manual/etags/ETAGS.good_2:\n\t* test/manual/etags/ETAGS.good_3:\n\t* test/manual/etags/ETAGS.good_4:\n\t* test/manual/etags/ETAGS.good_5:\n\t* test/manual/etags/ETAGS.good_6:\n\t* test/manual/etags/Makefile:\n\t* test/manual/etags/el-src/TAGTEST.EL: Update tests.\n\t* test/manual/etags/scm-src/test.scm: New tests for Scheme.\n\n2017-07-08  Alexander Kuleshov  <kuleshovmail@gmail.com>\n\n\tAvoid compiler warnings in xdisp.c debugging code\n\n\t* src/xdisp.c (dump_glyph, dump_glyph_row, Fdump_glyph_matrix):\n\tUse pD directives for ptrdiff_t values instead of pI, to avoid\n\tcompilation warnings on 64-bit hosts.  (Bug#27597)\n\n2017-07-08  Eli Zaretskii  <eliz@gnu.org>\n\n\tCommentary enhancement in frame.el\n\n\t* lisp/frame.el: Explain how to test whether a variable needs to\n\tbe added to the list of those which are watched for buffer\n\tredisplay.\n\n2017-07-08  Eli Zaretskii  <eliz@gnu.org>\n\n\tSupport display of line numbers natively\n\n\tThis merges branch 'line-numbers'.\n\t* src/buffer.c (disable_line_numbers_overlay_at_eob): New\n\tfunction.\n\t* src/lisp.h (disable_line_numbers_overlay_at_eob): Add prototype.\n\t* src/dispextern.h (struct it): New members pt_lnum, lnum,\n\tlnum_bytepos, lnum_width, and lnum_pixel_width.\n\t* src/indent.c (line_number_display_width): New function,\n\trefactored from line-number width calculations in vertical-motion.\n\t(Fvertical_motion): Call line_number_display_width when the width\n\tof line-number display is needed.\n\t(Fline_number_display_width): New defun.\n\t(syms_of_indent): Defsubr it.\n\t* src/indent.c (Fvertical_motion): Help C-n/C-p estimate correctly\n\tthe width used up by line numbers by looking near the window-start\n\tpoint.  If window-start is outside of the accessible portion,\n\ttemporarily widen the buffer.\n\t* src/term.c (produce_glyphs): Adjust tab stops for the horizontal\n\tspace taken by the line-number display.\n\t* src/xdisp.c (display_count_lines_logically)\n\t(display_count_lines_visually, maybe_produce_line_number)\n\t(should_produce_line_number, row_text_area_empty): New functions.\n\t(try_window_reusing_current_matrix): Don't use this method when\n\tdisplay-line-numbers is in effect.\n\t(try_window_id, try_cursor_movement): Disable these optimizations\n\twhen the line-number-current-line face is different from\n\tline-number face and for relative line numbers.\n\t(try_window_id, redisplay_window, try_cursor_movement): For\n\tvisual line-number display, disable the same redisplay\n\toptimizations as for relative.\n\t(x_produce_glyphs): Adjust tab stops for the horizontal\n\tspace taken by the line-number display.\n\t(hscroll_window_tree): Adjust hscroll calculations to line-number\n\tdisplay.\n\t(DISP_INFINITY): Renamed from INFINITY to avoid clashes with\n\tmath.h; all users changed.\n\t(set_cursor_from_row): Fix calculation of cursor X coordinate in\n\tR2L rows with display-produced glyphs at the beginning.\n\t(display_line): Use should_produce_line_number to determine\n\twhether a line number should be produced for each glyph row, and\n\tmaybe_produce_line_number to produce line numbers.\n\tDon't display line numbers in the minibuffer and in tooltip\n\tframes.\n\tCall row_text_area_empty to verify that a glyph\n\trow's text area is devoid of any glyphs that came from a buffer or\n\ta string.  This fixes a bug with empty-lines indication\n\tdisappearing when line numbers or line-prefix are displayed.\n\t(syms_of_xdisp) <display-line-numbers, display-line-numbers-widen>\n\t<display-line-number-width>: New buffer-local variables.\n\t<display-line-numbers-current-absolute>: New variable.\n\n\t* lisp/cus-start.el (standard): Provide customization forms for\n\tdisplay-line-numbers and its sub-features.\n\t* lisp/faces.el (line-number, line-number-current-line): New faces.\n\t* lisp/frame.el: Add display-line-numbers, display-line-numbers-widen,\n\tdisplay-line-numbers-current-absolute, and\n\tdisplay-line-number-width to the list of variables that should\n\ttrigger redisplay of the current buffer.\n\t* lisp/menu-bar.el (menu-bar-showhide-menu): Add menu-bar item to\n\tturn display-line-numbers on and off.\n\t(toggle-display-line-numbers): New function.\n\t* lisp/simple.el (last--line-number-width): New internal variable.\n\t(line-move-visual): Use it to adjust temporary-goal-column when\n\tline-number display changes its width.\n\n\t* doc/emacs/basic.texi (Position Info): Add cross-reference to\n\t\"Display Custom\", for line-number display.\n\t* doc/emacs/custom.texi (Init Rebinding):\n\t* doc/emacs/modes.texi (Minor Modes): Remove references to\n\tlinum-mode.\n\t* doc/emacs/display.texi (Display Custom): Describe the\n\tline-number display.\n\t* doc/lispref/display.texi (Size of Displayed Text): Document\n\tline-number-display-width.\n\n\t* etc/NEWS: Document display-line-numbers and its customizations.\n\n2017-07-08  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix more ungetc bugs with encoding errors\n\n\t* src/lread.c (infile): New variable, replacing ...\n\t(instream): ... this.  All uses changed.\n\t(readbyte_from_stdio): New function, which deals with lookahead.\n\t(readbyte_from_file, Fget_file_char): Use it.\n\t(Fget_file_char): When misused, signal an error instead of\n\trelying on undefined behavior.\n\t(close_infile_unwind): New function.\n\t(Fload): Use it.\n\t(readevalloop): 2nd arg is now struct infile *, not FILE *.\n\tAll callers changed.\n\t(read1): Handle lookahead when copying doc strings with\n\tencoding errors.\n\n2017-07-08  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tAvoid ungetc when loading charset maps from files\n\n\t* src/charset.c (read_hex): New args LOOKAHEAD and TERMINATOR,\n\treplacing the old EOF.  All callers changed.  This avoids the\n\tneed to call ungetc.\n\n2017-07-08  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix ungetc bug when reading an encoding error\n\n\t* src/lread.c (readchar, read_emacs_mule_char): Fix off-by-one\n\terror when reading an encoding error from a file, e.g., a symbol\n\tin an .elc file whose name is \"\\360\\220\\200\\360\".\n\n2017-07-07  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/wid-edit.el (widget-color--choose-action): Use a closure\n\n\t* lisp/window.el (display-buffer--special-action): Use a closure.\n\n2017-07-07  Stephen Berman  <stephen.berman@gmx.net>\n\n\tAdd new todo-mode.el tests\n\n\t* test/lisp/calendar/todo-mode-tests.el (with-todo-test):\n\tDeclare an Edebug spec.  Restore pre-test-run state of test files.\n\t(todo-test--show, todo-test--move-item)\n\t(todo-test--insert-item): New functions.\n\t(todo-test-get-archive): Remove, as subsumed by\n\ttodo-test--show.  Adjust all callers.\n\t(todo-test--is-current-buffer): Rename from\n\ttodo-test-is-current-buffer and adjust uses.\n\t(todo-test-item-highlighting): Use todo-test--show.\n\t(todo-test-revert-buffer01, todo-test-revert-buffer02)\n\t(todo-test-raise-lower-priority)\n\t(todo-test-todo-mark-unmark-category, todo-test-move-item01)\n\t(todo-test-move-item02, todo-test-move-item03)\n\t(todo-test-move-item04, todo-test-move-item05)\n\t(todo-test-toggle-item-header01)\n\t(todo-test-toggle-item-header02)\n\t(todo-test-toggle-item-header03)\n\t(todo-test-toggle-item-header04)\n\t(todo-test-toggle-item-header05)\n\t(todo-test-toggle-item-header06)\n\t(todo-test-toggle-item-header07): New tests.\n\n\t* test/lisp/calendar/todo-mode-resources/todo-test-1.toda:\n\t* test/lisp/calendar/todo-mode-resources/todo-test-1.todo:\n\tModify to accommodate new tests.\n\n2017-07-07  Stephen Berman  <stephen.berman@gmx.net>\n\n\ttodo-mode.el: Fix handling of hidden item headers (bug#27609)\n\n\t* lisp/calendar/todo-mode.el (todo--item-headers-hidden): New variable.\n\t(todo-toggle-item-header): Use it.  Make this command a noop\n\tif the file has no items.\n\t(todo-move-item, todo-item-done): Instead of concatenating the\n\titems to move into one string, make a list of them to\n\tfacilitate handling hidden headers.  Adjust insertion accordingly.\n\t(todo-archive-done-item): Handle hidden headers in archive file.\n\t(todo-unarchive-items): Handle hidden headers in todo file.\n\t(todo-backward-item): Use todo--item-headers-hidden and handle\n\tmoving backward work when item date-time headers are hidden.\n\t(todo-remove-item): Delete date-time header overlay.\n\t(todo-get-overlay, todo-insert-with-overlays): Make them work\n\twith hidden date-time headers.\n\t(todo-modes-set-2): Make todo--item-headers-hidden buffer local.\n\n2017-07-07  Stephen Berman  <stephen.berman@gmx.net>\n\n\tFix several todo-mode bugs found while debugging bug#27609\n\n\t* lisp/calendar/todo-mode.el (todo-toggle-mark-item): Calculate\n\tcurrent category only once.\n\t(todo-mark-category): Update number of marked items to avoid\n\tspurious duplication in todo-categories-with-marks alist and\n\tcorruption of the todo-categories alist.  Handle empty line\n\twhen there are no todo items and done items are shown.\n\t(todo-set-item-priority): Make noop if called from\n\ttodo-raise-item-priority or todo-lower-item-priority when\n\tpoint is on a done todo item or an empty line.\n\t(todo-move-item): Use markers instead of integer positions to\n\tcorrectly handle deleting the now moved items from the source\n\tcategory (without markers an infinite loop arises when moving\n\tmarked item to a preceding category).\n\t(todo-unarchive-items): Put point on the (first) restored done\n\titem, instead of leaving it at the end of the done items\n\tseparator string.\n\t(todo-revert-buffer): Ensure buffer remains read-only after\n\treverting.\n\n2017-07-07  Eli Zaretskii  <eliz@gnu.org>\n\n\tExclude blank columns from value of line-number-display-width\n\n\t* src/indent.c (Fline_number_display_width): Don't add 2 to the\n\tnumber of columns we return, to make this consistent with\n\tdisplay-line-number-width.\n\n2017-07-07  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix vertical-motion across the place where line-number width changes\n\n\t* src/indent.c (line_number_display_width): New function,\n\trefactored from line-number width calculations in vertical-motion.\n\t(Fvertical_motion): Call line_number_display_width when the width\n\tof line-number display is needed.\n\t(Fline_number_display_width): New defun.\n\t(syms_of_indent): Defsubr it.\n\n\t* doc/lispref/display.texi (Size of Displayed Text): Document\n\tline-number-display-width.\n\n\t* etc/NEWS: Mention line-number-display-width.\n\n\t* lisp/simple.el (last--line-number-width): New internal variable.\n\t(line-move-visual): Use it to adjust temporary-goal-column when\n\tline-number display changes its width.\n\n2017-07-07  Martin Rudalics  <rudalics@gmx.at>\n\n\tRemove Vwindow_text_change_functions and related code\n\n\tVwindow_text_change_functions had been provided for implementing\n\tline numbers but apparently was never functional or in use.\n\n\t* src/xdisp.c (redisplay_window): Remove handling of\n\tVwindow_text_change_functions.\n\t(syms_of_xdisp): Remove Qwindow_text_change_functions.\n\t(Vwindow_text_change_functions): Remove variable.\n\t* doc/lispref/hooks.texi (Standard Hooks): Remove entry for\n\t`window-text-change-functions'.\n\n2017-07-07  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tConvert more uses of looking-at to following-char\n\n\tMore followup to Karl Fogel's commit a84da83c1.\n\t* lisp/dired-aux.el (dired-add-entry, dired-subdir-hidden-p):\n\t* lisp/dired-x.el (dired-mark-unmarked-files, dired-mark-sexp):\n\t* lisp/help-fns.el (doc-file-to-man, doc-file-to-info):\n\t* lisp/proced.el (proced-toggle-marks):\n\t* lisp/progmodes/f90.el (f90-indent-line):\n\t* lisp/ses.el (ses-load):\n\t* lisp/tar-mode.el (tar-expunge): Replace instances of looking-at with\n\tchar comparisons using following-char.\n\n2017-07-07  Noam Postavsky  <npostavs@gmail.com>\n\n\tDon't skip epg tests (Bug#23561)\n\n\t* test/lisp/epg-tests.el (with-epg-tests): Ignore REQUIRE-PASSPHRASE\n\tparameter, since we supply the passphrase via pinentry-program for all\n\tGPG versions (as of 2017-02-28 \"Fix epg-tests with dummy-pinentry\n\tprogram (Bug#23619)\").\n\t(epg-tests-program-alist-for-passphrase-callback): Remove.\n\n2017-07-06  Eli Zaretskii  <eliz@gnu.org>\n\n\tImplement line numbers that disregard narrowing\n\n\t* src/xdisp.c (display_count_lines_logically): New function,\n\tcounts line numbers disregarding narrowing.  Suggested by Andy\n\tMoreton <andrewjmoreton@gmail.com>.\n\t(maybe_produce_line_number): Call display_count_lines_logically\n\tinstead of display_count_lines.  Adapt BEGV, ZV, etc. to\n\tdisplay-line-numbers-widen.\n\t(syms_of_xdisp) <display-line-numbers-widen>: New buffer-local\n\tvariable.\n\n\t* lisp/cus-start.el (standard): Provide a customization form for\n\tdisplay-line-numbers-widen.\n\t* lisp/frame.el: Add display-line-numbers-widen,\n\tdisplay-line-numbers-current-absolute, and\n\tdisplay-line-number-width to the list of variables that should\n\ttrigger redisplay of the current buffer.\n\n\t* doc/emacs/display.texi (Display Custom): Document\n\tdisplay-line-numbers-widen.\n\n2017-07-06  Noam Postavsky  <npostavs@gmail.com>\n\n\tFix lisp-comment-indent for single-semicolon case\n\n\t* lisp/emacs-lisp/lisp-mode.el (lisp-comment-indent): Only check for\n\topen paren if we're looking at multiple comment characters.\n\t* test/lisp/emacs-lisp/lisp-mode-tests.el (lisp-comment-indent-1)\n\t(lisp-comment-indent-2): New tests.\n\n2017-07-06  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSpelling fixes\n\n\t* lisp/org/org-table.el (org-table-sort-lines):\n\tFix misspelling in prompt.\n\t* lisp/org/ox-ascii.el (org-ascii--describe-datum):\n\tFix misspelling in call to org-element-lineage.\n\n2017-07-06  Noam Postavsky  <npostavs@gmail.com>\n\n\tDon't put whitespace between open paren and comment in Lisp modes (Bug#19740)\n\n\t* lisp/emacs-lisp/lisp-mode.el (lisp-comment-indent): If current\n\tline's code ends in open paren, set comment indentation exactly to\n\tcolumn following it.\n\t(lisp-mode-variables): Set `comment-indent-function' to\n\t`lisp-comment-indent'.\n\n2017-07-06  Noam Postavsky  <npostavs@gmail.com>\n\n\tAllow comment-indent-functions to specify exact indentation (Bug#385)\n\n\t* lisp/newcomment.el (comment-choose-indent): Interpret a cons of two\n\tintegers as indicating a range of acceptable indentation.\n\t(comment-indent): Don't apply `comment-inline-offset',\n\t`comment-choose-indent' already does that.\n\t(comment-indent-function):\n\t* doc/emacs/programs.texi (Options for Comments): Document new\n\tacceptable return values.\n\t* etc/NEWS: Announce it.\n\n2017-07-06  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tCheck for integer overflow in xbm images\n\n\t* src/image.c (XBM_TK_OVERFLOW): New constant.\n\t(xbm_scan): Check for integer overflow instead of relying on\n\tundefined behavior.  Check that octal digits are actually octal.\n\n2017-07-06  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tConvert hex digits more systematically\n\n\tThis makes the code a bit smaller and presumably faster, as\n\tit substitutes a single lookup for conditional jumps.\n\t* src/character.c (hexdigit): New constant.\n\t(syms_of_character) [HEXDIGIT_IS_CONST]: Initialize it.\n\t* src/character.h (HEXDIGIT_CONST, HEXDIGIT_IS_CONST): New macros.\n\t(hexdigit): New decl.\n\t(char_hexdigit): New inline function.\n\t* src/charset.c: Do not include c-ctype.h.\n\t* src/charset.c (read_hex):\n\t* src/editfns.c (styled_format):\n\t* src/image.c (xbm_scan):\n\t* src/lread.c (read_escape):\n\t* src/regex.c (ISXDIGIT) [emacs]:\n\tUse char_hexdigit insted of doing it by hand.\n\n2017-07-06  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDon\u2019t use -Woverride-init\n\n\tI have some further changes in mind that would also need to\n\tdisable the -Woverride-init warnings.  In practice these warnings\n\tseem to be more trouble than they\u2019re worth, so disable them in the\n\tcc command line.\n\t* configure.ac: Disable -Woverride-init here ...\n\t* src/bytecode.c: ... rather than here.\n\n2017-07-05  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/progmodes/python.el (auto-mode-alist): Add .pyi.  (Bug#27847)\n\n\t* lisp/org/ox-html.el (org-html-infojs-template): Update copyright.\n\n2017-07-05  Glenn Morris  <rgm@gnu.org>\n\n\tSmall fix for bug-reference.el\n\n\t* lisp/progmodes/bug-reference.el (bug-reference-bug-regexp):\n\tAutoload safety property.  (Bug#27481)\n\n2017-07-05  Michael Albinus  <michael.albinus@gmx.de>\n\n\tSuppress timers in Tramp\n\n\t* lisp/net/tramp.el (tramp-file-name-handler): Don't trigger timers.\n\n\t* test/lisp/net/tramp-tests.el\n\t(tramp-test36-asynchronous-requests): Trigger timers.\n\t(tramp-test37-recursive-load, tramp-test38-remote-load-path):\n\tSet `default-directory' to a trustworthy value.\n\n2017-07-05  rocky  <rb@dustyfeet.com>\n\n\tAdd realgud face definitions\n\n\tAdd realgud faces to tdsh-dark-theme\n\n2017-07-05  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/progmodes/cc-awk.el: Mark unused args\n\n\t* lisp/progmodes/cc-bytecomp.el: Mark unused args\n\n2017-07-05  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/progmodes/cc-defs.el (lookup-syntax-properties): Move ...\n\n\t... before first use\n\n2017-07-05  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/progmodes/cc-vars.el: Mark unused args\n\n2017-07-05  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/progmodes/cc-langs.el: Mark unused args\n\n\t(c-primary-expr-regexp): Remove unused vars ambiguous-prefix-ops and\n\tunambiguous-prefix-ops.\n\n2017-07-05  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/progmodes/cc-engine.el: Mark unused args\n\n\t(c-beginning-of-statement-1, c-guess-basic-syntax):\n\tRemove unused var c-in-literal-cache.\n\t(c-debug-sws-msg): Silence byte-compiler, even if we don't use the arg.\n\t(c-append-to-state-cache): Remove unused var `bra+1s'.\n\t(c-remove-stale-state-cache): Remove unused var `pps-point-state'.\n\t(c-invalidate-state-cache-1): Remove unused var `pa'.\n\t(c-forward-decl-or-cast-1): Change comments so they don't look like\n\toutline headers.\n\t(c-restricted-<>-arglists, c-parse-and-markup-<>-arglists):\n\tDeclare before first use.\n\t(c-forward-decl-or-cast-1): Remove unused var `backup-kwd-sym'.\n\t(c-backward-over-enum-header): Remove unused var `up-sexp-pos'.\n\n2017-07-05  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/progmodes/cc-cmds.el: Remove unused vars\n\n\t(c-syntactic-context): Declare as dynbound.\n\t(c-beginning-of-defun, c-end-of-defun): Remove unused var `start'.\n\n2017-07-05  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/progmodes/cc-guess.el: Remove unused var\n\n\t(c-guess-view-reorder-offsets-alist-in-style): Remove redundantly bound\n\tand computed variable `guessed-syntactic-symbols'.\n\n2017-07-05  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/progmodes/cc-align.el: Mark unused arguments\n\n2017-07-05  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/progmodes/cc-mode.el: Mark unused arguments\n\n\t(c-parse-quotes-before-change, c-parse-quotes-after-change):\n\tRemove unused vars.\n\n2017-07-05  Noam Postavsky  <npostavs@gmail.com>\n\n\tMention `ffap-url-unwrap-local' in find-file-at-point's docstring (Bug#27564)\n\n\t* lisp/ffap.el (find-file-at-point): Mention `ffap-url-unwrap-local'\n\tand `ffap-url-unwrap-remote'.\n\n2017-07-05  Noam Postavsky  <npostavs@gmail.com>\n\n\tFix infloop in uncomment-region-default (Bug#27112)\n\n\tWhen `comment-continue' has only blanks, `comment-padright' produces a\n\tregexp that matches the empty string, so `uncomment-region-default'\n\twill loop infinitely.\n\t* lisp/newcomment.el (comment-padright): Only return a regexp if STR\n\thas nonblank characters.\n\n2017-07-04  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix display of current line number in visual mode\n\n\t* src/xdisp.c (maybe_produce_line_number): Fix visual-mode display\n\tof current line when line-number-current-line face was customized.\n\tReported by Filipe Silva <filipe.silva@gmail.com>.\n\n2017-07-03  Philipp Stephani  <phst@google.com>\n\n\tUse hook instead of face list to inhibit electric quoting\n\n\tThis is more flexible and doesn't couple electric quoting to font\n\tlocking.\n\tGive that 'electric-quote-code-faces' was just introduced, remove it\n\twithout formal deprecation.\n\n\t* lisp/electric.el (electric-quote-inhibit-functions): New abnormal\n\thook variable.\n\t(electric-quote-post-self-insert-function): Run the hook.  Remove\n\tuse of old 'electric-quote-code-faces' variable.\n\n\t* test/lisp/electric-tests.el (electric-quote-markdown-in-text)\n\t(electric-quote-markdown-in-code): Adapt unit tests.\n\n2017-07-03  Ingo Lohmar  <i.lohmar@gmail.com>\n\n\tOffer non-aligned indentation in lists in js-mode (Bug#27503)\n\n\t* lisp/progmodes/js.el (js--proper-indentation):\n\tNew customization option 'js-indent-align-list-continuation'.\n\tAffects argument lists as well as arrays and object properties.\n\t* test/manual/indent/js-indent-align-list-continuation-nil.js:\n\tTest the change.\n\n2017-07-03  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid errors in vertical-motion when buffer is narrowed\n\n\t* src/indent.c (Fvertical_motion): If need to start from\n\twindow-start, and it is outside of the accessible portion,\n\ttemporarily widen the buffer.  This avoids errors in evil-mode.\n\tReported by James Nguyen <james@jojojames.com>.\n\n2017-07-03  Michael Albinus  <michael.albinus@gmx.de>\n\n\t(Re-)activate remote tests of filenotify-tests.el\n\n\t* test/lisp/filenotify-tests.el\n\t(file-notify-test-remote-temporary-file-directory):\n\tDeclare default host for mock method.  Offer home directory\n\tfor mock method if it doesn't exist.\n\t(file-notify-test09-watched-file-in-watched-dir-remote):\n\tRemove, it doesn't work reliably.\n\n2017-07-03  Noam Postavsky  <npostavs@gmail.com>\n\n\tReset ansi escape context before printing eshell prompt (Bug#27407)\n\n\t* lisp/eshell/em-prompt.el (eshell-emit-prompt): Reset\n\t`ansi-color-context-region'.\n\n2017-07-03  Noam Postavsky  <npostavs@gmail.com>\n\n\tLet ansi-color overlay hooks work in eshell (Bug#27407)\n\n\t* lisp/ansi-color.el (ansi-color-make-extent): Add\n\t`ansi-color-freeze-overlay' to `insert-behind-hooks' as well.\n\t* lisp/eshell/esh-mode.el (eshell-output-filter): Let-bind\n\t`inhibit-modification-hooks' to nil while inserting the string.\n\n2017-07-03  Noam Postavsky  <npostavs@gmail.com>\n\n\tFix and simplify ansi escape detection (Bug#21381)\n\n\t* lisp/ansi-color.el (ansi-color-regexp, ansi-color-drop-regexp):\n\tRemove.\n\t(ansi-color-control-seq-regexp): New constant, matches all escape\n\tsequences.\n\t(ansi-color-filter-apply, ansi-color-apply)\n\t(ansi-color-filter-region, ansi-color-apply-on-region): Use it instead\n\tof matching color sequences separately from ignored sequences.\n\tDifferentiate color sequences simply by checking the last character.\n\n2017-07-03  Damien Cassou  <damien@cassou.me>\n\n\tAdd absolute optional parameter to line-number-at-pos (Bug#26417)\n\n\t* lisp/simple.el (line-number-at-pos): Add a second optional\n\t  argument 'absolute'.\n\t* test/lisp/simple-tests.el: Add tests for 'line-number-at-pos'.\n\n2017-07-03  R. Bernstein  <rocky@gnu.org>\n\n\tAdd realgud faces\n\n2017-07-03  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix tramp-tests.el for hydra\n\n\t* test/Makefile.in: Remove instrumentation for tramp-tests.\n\n\t* test/lisp/net/tramp-tests.el (tramp-test36-asynchronous-requests):\n\tRemove instrumentation.  Wrap with a timeout.  Give hydra\n\tanother timer value.  Set `default-directory' in timer.\n\n2017-07-03  Bastien  <bzg@gnu.org>\n\n\tMerge branch 'master' into scratch/org-mode-merge\n\n\tMerge branch 'master' into scratch/org-mode-merge\n\n2017-07-03  Tino Calancha  <tino.calancha@gmail.com>\n\n\tdired-do-shell-command: Fix check for wildcards\n\n\t* lisp/dired-aux.el (dired-do-shell-command): Replace just '?', '*'\n\tand '`?' i.e., keep the whitespaces.\n\t* test/lisp/dired-aux-tests.el (dired-test-bug27496): Add test.\n\n2017-07-02  Noam Postavsky  <npostavs@gmail.com>\n\n\tSplit shr-copy-url dwim behavior into separate functions (Bug#26826)\n\n\t* lisp/net/shr.el (shr-url-at-point, shr-probe-url)\n\t(shr-probe-and-copy-url, shr-maybe-probe-and-copy-url): New functions,\n\tsplit out from `shr-copy-url'.\n\t(shr-copy-url): Only copy the url, don't fetch it.\n\t(shr-map): Bind 'w' and 'u' to `shr-maybe-probe-and-copy-url', which\n\thas the same behavior as the old `shr-copy-url'.\n\t* etc/NEWS: Announce changes.\n\n2017-07-02  Alex Branham  <branham@utexas.edu>  (tiny change)\n\n\tMake eww-search-words prompt for query if nothing selected\n\n\t* lisp/net/eww.el (eww-search-words): Make eww-search-words prompt the\n\tuser for a search query if the region is inactive or if the region is\n\tjust whitespace.\n\n2017-07-02  Noam Postavsky  <npostavs@gmail.com>\n\n\t* lisp/emacs-lisp/cl-print.el (cl-print-compiled-button): t by default.\n\n\t* lisp/emacs-lisp/debug.el (debugger-insert-backtrace):\n\t* lisp/help-fns.el (describe-variable): No need to let-bind\n\t`cl-print-compiled-button' to t anymore.\n\n2017-07-02  Philipp Stephani  <phst@google.com>\n\n\tElectric quotes: Improve support for Markdown mode (Bug#24709)\n\n\tIntroduce a new user option 'electric-quote-context-sensitive'.  If\n\tnon-nil, have ' insert an opening quote if sensible.\n\n\tAlso introduce a new variable 'electric-quote-code-faces'.  Major\n\tmodes such as 'markdown-mode' can add faces to this list to treat text\n\tas inline code and disable electric quoting.\n\n\t* lisp/electric.el (electric-quote-context-sensitive): New user\n\toption.\n\t(electric-quote-code-faces): New variable.\n\t(electric-quote-post-self-insert-function): Treat ' as ` if\n\tdesired and applicable; disable electric quoting for given faces.\n\n\t* test/lisp/electric-tests.el (electric-quote-opening-single)\n\t(electric-quote-closing-single, electric-quote-opening-double)\n\t(electric-quote-closing-double)\n\t(electric-quote-context-sensitive-backtick)\n\t(electric-quote-context-sensitive-bob-single)\n\t(electric-quote-context-sensitive-bob-double)\n\t(electric-quote-context-sensitive-bol-single)\n\t(electric-quote-context-sensitive-bol-double)\n\t(electric-quote-context-sensitive-after-space-single)\n\t(electric-quote-context-sensitive-after-space-double)\n\t(electric-quote-context-sensitive-after-letter-single)\n\t(electric-quote-context-sensitive-after-letter-double)\n\t(electric-quote-context-sensitive-after-paren-single)\n\t(electric-quote-context-sensitive-after-paren-double)\n\t(electric-quote-markdown-in-text)\n\t(electric-quote-markdown-in-code): New unit tests.\n\n2017-07-02  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* doc/misc/tramp.texi: Replace ftp:// and http:// URLs by https://.\n\n2017-07-02  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid off-by-one errors in column C-n/C-p calculations\n\n\t* src/indent.c (Fvertical_motion): Help C-n/C-p estimate correctly\n\tthe width used up by line numbers by looking near the window-start\n\tpoint.\n\n2017-07-02  Tino Calancha  <tino.calancha@gmail.com>\n\n\tAsk confirmation for all suspicious wildcards\n\n\t* lisp/dired-aux.el (dired-do-shell-command): Check that all\n\tthe wildcards are right.  Otherwise, ask for confirmation (Bug#27496).\n\n2017-07-02  Tino Calancha  <tino.calancha@gmail.com>\n\n\tExtend dired-do-shell-command substitutions\n\n\tSubstitute \"`?`\" inside command with the current file name.\n\tSee details in:\n\thttps://lists.gnu.org/r/emacs-devel/2017-06/msg00618.html\n\t* lisp/dired-aux.el (dired-quark-subst-regexp, dired-star-subst-regexp):\n\tMark as obsolete.\n\t(dired-isolated-string-re): New defun.\n\t(dired--star-or-qmark-p): New predicate.\n\t(dired-do-shell-command): Use dired--star-or-qmark-p.  Substitute \"`?`\"\n\twith the current file name.\n\t* doc/emacs/dired.texi (Shell Commands in Dired): Update manual.\n\n2017-07-02  Alan Mackenzie  <acm@muc.de>\n\n\tFix bug in yesterday's CC Mode commit.\n\n\t* lisp/progmodes/cc-mode.el (c-quoted-number-head-before-point): Check a\n\tsearch has succeded before using the match data.\n\t(c-quoted-number-head-before-point, c-quoted-number-head-after-point):\n\tSpecify that the position of the extremity of the head or tail is in the\n\tmatch data.\n\n2017-07-02  Philipp Stephani  <phst@google.com>\n\n\tRemove FIXME comments about sentinel values\n\n\tThese FIXMEs can't be addressed because they would require breaking\n\tchanges to the module API.  Furthermore, other module functions don't\n\treturn sentinel values as well, so users generally have to call\n\tnon_local_exit_check anyway.\n\n\t* src/emacs-module.c (module_set_user_ptr)\n\t(module_set_user_finalizer, module_vec_set, module_vec_size): Remove\n\tFIXME comments.\n\n2017-07-02  Philipp Stephani  <phst@google.com>\n\n\tAdapt Lisp reference to reader changes\n\n\tThe reader now warns about some unescaped character literals, but\n\tstill allows them for compatibility reasons.  Slightly adapt the\n\tmanual to forbid them officially.\n\n\t* doc/lispref/objects.texi (Basic Char Syntax): Document that\n\tbackslashes are now required before some characters.\n\n2017-07-02  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix Bug#27502\n\n\t* lisp/autorevert.el (auto-revert-find-file-function): New defun.\n\t(find-file-hook): Use it.  (Bug#27502)\n\t(auto-revert-remove-current-buffer): New defun.\n\t(auto-revert-mode, auto-revert-buffers): Use it.\n\n2017-07-02  Noam Postavsky  <npostavs@gmail.com>\n\n\tLet test summary go through even if some logs were not generated\n\n\t* lisp/emacs-lisp/ert.el (ert-summarize-tests-batch-and-exit): Check\n\tfor existence of log files before reading.\n\n2017-07-01  Philipp Stephani  <phst@google.com>\n\n\t* src/module-env-25.h (copy_string_contents): Fix comment.\n\n2017-07-01  Philipp Stephani  <phst@google.com>\n\n\tAlso mark module init function as noexcept if possible\n\n\t* src/emacs-module.h.in (emacs_module_init): Mark as noexcept if\n\tpossible.\n\n2017-07-01  Philipp Stephani  <phst@google.com>\n\n\tImprove C++98 compatibility\n\n\t* src/emacs-module.h.in (emacs_funcall_exit): Lose trailing comma.\n\tC++98 doesn't allow trailing commas in enumerations.\n\n2017-07-01  Eli Zaretskii  <eliz@gnu.org>\n\n\tMinor copyedits of manuals regarding bidi conformance\n\n\t* doc/emacs/mule.texi (Bidirectional Editing):\n\t* doc/lispref/display.texi (Bidirectional Display): Update the\n\tbidi conformance text.\n\n2017-07-01  Alan Mackenzie  <acm@muc.de>\n\n\tMake C++ digit separators work.  Amend the handling of single quotes generally\n\n\tSingle quotes, even in strings and comments, are now marked with the\n\t\"punctuation\" syntax-table property, except where they are validly bounding a\n\tcharacter literal.  They are font locked with font-lock-warning-face except\n\twhere they are valid.  This is done in C, C++, ObjC, and Java Modes.\n\n\t* lisp/progmodes/cc-defs.el (c-clear-char-property-with-value-on-char-function)\n\t(c-clear-char-property-with-value-on-char, c-put-char-properties-on-char): New\n\tfunctions/macros.\n\n\t* lisp/progmodes/cc-fonts.el (c-font-lock-invalid-single-quotes): New function.\n\t(c-basic-matchers-before): invoke c-font-lock-invalid-single-quotes.\n\n\t* lisp/progmodes/cc-langs.el (c-get-state-before-change-functions): Remove\n\tc-before-after-change-digit-quote from wherever it occurs.  Insert\n\tc-parse-quotes-before-change into the entries for the languages where it is\n\tneeded.\n\t(c-before-font-lock-functions): Remove c-before-after-change-digit-quote from\n\twherever it occurs.  Insert c-parse-quotes-after-change into the entries for\n\tthe languages which need it.\n\t(c-has-quoted-numbers): New lang-defconst/-defvar.\n\n\t* lisp/progmodes/cc-mode.el (c-before-after-change-digit-quote): Remove.\n\t(c-maybe-quoted-number-head, c-maybe-quoted-number-tail)\n\t(c-maybe-quoted-number): New defconsts.\n\t(c-quoted-number-head-before-point, c-quoted-number-tail-after-point)\n\t(c-quoted-number-straddling-point, c-parse-quotes-before-change)\n\t(c-parse-quotes-after-change): New functions.\n\n2017-07-01  Noam Postavsky  <npostavs@gmail.com>\n\n\tIgnore mouse-movement for describe-key-briefly (Bug#12204)\n\n\t* lisp/help.el (help-read-key-sequence): Add optional argument ot\n\tignore `mouse-movement' events.\n\t(describe-key-briefly): Use it.\n\t* doc/emacs/help.texi (Key Help):\n\t* etc/NEWS: Mention that mouse movement is ignored.\n\n2017-07-01  Noam Postavsky  <npostavs@gmail.com>\n\n\tRefactor key describing commands\n\n\t* lisp/help.el (help-read-key-sequence, help--analyze-key): New\n\tfunctions, extracted from `describe-key' and `describe-key-briefly'.\n\t(describe-key, describe-key-briefly): Use them.\n\n2017-07-01  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove display of tabs with line numbers\n\n\t* src/xdisp.c (x_produce_glyphs): Improve calculation of next tab\n\tstop in hscrolled lines.  Prevent aborts in compute_line_metrics.\n\n2017-07-01  Alan Third  <alan@idiocy.org>\n\n\tFix threads on NS (bug#25265)\n\n\tsrc/nsterm.h (ns_select): Compiler doesn't like sigmask being const.\n\t(ns_run_loop_break) [HAVE_PTHREAD]: New function.\n\tsrc/nsterm.m (ns_select): Call thread_select from within ns_select.\n\t(ns_run_loop_break) [HAVE_PTHREAD]: New function.\n\t(ns_send_appdefined): Don't wait for main thread when sending app\n\tdefined event.\n\tsrc/process.c (wait_reading_process_output): Call thread_select from\n\twithin ns_select.\n\tsrc/systhread.c (sys_cond_broadcast) [HAVE_NS]: Break ns_select out of\n\tits event loop using ns_run_loop_break.\n\n2017-07-01  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid slow redisplay under 'visual' mode of line numbers\n\n\t* src/xdisp.c (display_count_lines_visually): Avoid very slow\n\tredisplay when this function is invoked very far from point.\n\tReported by Alex <agrambot@gmail.com>.\n\n2017-07-01  Noam Postavsky  <npostavs@gmail.com>\n\n\t* lisp/help-fns.el (describe-variable): Let-bind cl-print-compiled-button.\n\n2017-07-01  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/cl-extra.el (cl--random-state): New defstruct\n\n\t(cl--random-state, cl--random-time): Move from cl-lib.el.\n\t(cl-random): Use struct accessors.\n\t(cl-random-state-p): Remove, provided by the defstruct.\n\t(cl-make-random-state): Rewrite to struct constructor.\n\n2017-07-01  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/debug.el (debugger-list-functions): Remove obsolete msg\n\n2017-06-30  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of faces related to display-line-numbers\n\n\t* lisp/faces.el (line-number, line-number-current-line): Warn\n\tagainst using non-monospaced fonts.\n\n2017-06-30  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix relative-number display with non-nil display-line-number-width\n\n\t* src/xdisp.c (maybe_produce_line_number): Don't treat a zero\n\tvalue of display-line-number-width as acceptable.\n\tHandle the case of 'relative' with display-line-number-width\n\tnon-nil and smaller than the absolute line number requires.\n\tReported by Alex <agrambot@gmail.com>.\n\n2017-06-30  Michael Albinus  <michael.albinus@gmx.de>\n\n\tRelease Tramp 2.3.2\n\n\t* doc/misc/tramp.texi (Android shell setup): Show default file name.\n\tStructure section.\n\n\t* doc/misc/trampver.texi:\n\t* lisp/net/trampver.el: Change version to \"2.3.2\".\n\n\t* test/lisp/net/tramp-tests.el (tramp-test-temporary-file-directory):\n\tOffer home directory for mock method if it doesn't exist.\n\n2017-06-30  Eli Zaretskii  <eliz@gnu.org>\n\n\tAdd documentation for display-line-numbers\n\n\t* doc/emacs/custom.texi (Init Rebinding):\n\t* doc/emacs/modes.texi (Minor Modes): Remove references to\n\tlinum-mode.\n\t* doc/emacs/display.texi (Display Custom): Describe the\n\tline-number display.\n\t(Optional Mode Line): Fix the index entry to not conflict with\n\tthat in \"Display Custom\".\n\t* doc/emacs/basic.texi (Position Info): Add cross-reference to\n\t\"Display Custom\", for line-number display.\n\n\t* src/xdisp.c (syms_of_xdisp): <display-line-numbers>: Mention\n\tdisplay-line-numbers-disable in the doc string.\n\n\t* lisp/cus-start.el (standard): Fix lst change.\n\n2017-06-30  Eli Zaretskii  <eliz@gnu.org>\n\n\tSupport displaying zero as the number of the current line\n\n\t* src/xdisp.c (syms_of_xdisp)\n\t<display-line-numbers-current-absolute>: New variable.\n\t<display-line-numbers>: Doc fix.\n\t(maybe_produce_line_number): Support nil value of\n\tdisplay-line-numbers-current-absolute.\n\n\t* lisp/cus-start.el (standard): Add customization form for\n\tdisplay-line-numbers-current-absolute.\n\n\t* etc/NEWS: Document recently introduced features.\n\n2017-06-30  Eli Zaretskii  <eliz@gnu.org>\n\n\tSpeed up the visual-mode relative line numbers\n\n\t* src/xdisp.c (display_count_lines_visually): Introduce a\n\tshortcut: if a relative line number was already calculated for\n\tthis iterator object, just increase it instead of the\n\texpensive call to move_it_to.  Argument list changed to pass a\n\tpointer to the iterator object.\n\t(maybe_produce_line_number): Adjust for change in signature of\n\tdisplay_count_lines_visually.  Record the relative line number and\n\tthe corresponding byte position in the iterator object also in the\n\t'visual' mode.\n\n2017-06-30  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix hscrolling with line numbers on TTY frames\n\n\t* src/xdisp.c (hscroll_window_tree): Correct the X offset\n\tcalculations on TTY frames.\n\t* src/term.c (produce_glyphs): Use it->lnum_pixel_width instead of\n\ta kludge using it->lnum_width.\n\n2017-06-30  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix TAB display when the line-number face uses a smaller/larger font\n\n\t* src/dispextern.h (struct it): New member lnum_pixel_width.\n\t* src/xdisp.c (maybe_produce_line_number): Compute the width of\n\tthe line-number display in pixels.\n\t(x_produce_glyphs): Use it->lnum_pixel_width instead of a kludge\n\tthat used it->lnum_width and made assumptions about pixel width.\n\n2017-06-30  Noam Postavsky  <npostavs@gmail.com>\n\n\tEscape NUL bytes in X selections (Bug#6991)\n\n\t* lisp/term/w32-win.el (w32--set-selection):\n\t* lisp/select.el (xselect--encode-string): Replace NUL bytes with\n\t\"\\0\".\n\t* doc/emacs/killing.texi: Document new behavior.\n\t* etc/NEWS (times): Announce it.\n\n2017-06-30  Noam Postavsky  <npostavs@gmail.com>\n\n\tHide byte code in backtraces (Bug#6991)\n\n\t* lisp/emacs-lisp/debug.el (debugger-print-function): New defcustom,\n\tdefaulting to `cl-print'.\n\t(debugger-insert-backtrace, debugger-setup-buffer): Use it instead of\n\t`prin1'.\n\t* etc/NEWS: Announce it.\n\n2017-06-30  Noam Postavsky  <npostavs@gmail.com>\n\n\tDon't redundantly cl-print arglist in function docstring again\n\n\t* lisp/emacs-lisp/cl-print.el (cl-print-object): Don't print arglist\n\tpart of docstring.\n\t* test/lisp/emacs-lisp/cl-print-tests.el (cl-print-tests-1): Update\n\ttest accordingly.\n\n2017-06-30  Noam Postavsky  <npostavs@gmail.com>\n\n\tEscape control characters in backtraces (Bug#6991)\n\n\t* src/print.c (syms_of_print): Add new variable,\n\tprint-escape-control-characters.\n\t(print_object): Print control characters with octal escape codes when\n\tprint-escape-control-characters is true.\n\t* lisp/subr.el (backtrace):\n\t* lisp/emacs-lisp/debug.el (debugger-setup-buffer): Bind\n\t`print-escape-control-characters' to t.\n\n2017-06-30  Noam Postavsky  <npostavs@gmail.com>\n\n\tImprove ert backtrace recording\n\n\tChange ert to use the new `backtrace-frames' function instead of\n\tcollecting frames one by one with `backtrace-frame'.  Additionally,\n\tcollect frames starting from `signal' instead the somewhat arbitrary\n\t\"6 from the bottom\".  Skipping 6 frames would skip the expression that\n\tactually caused the signal that triggered the debugger.  Possibly 6\n\twas chosen because in the case of a failed test, the triggering frame\n\tis an `ert-fail' call, which is not so interesting.  But in case of a\n\ttest throwing an error, this drops the `error' call which is too much.\n\n\t* lisp/emacs-lisp/debug.el (debugger-make-xrefs): Remove.\n\t* lisp/emacs-lisp/ert.el (ert--make-xrefs-region): Bring in relevant\n\tcode from `debugger-make-xrefs'.\n\t(ert--print-backtrace): Add DO-XREFS parameter, delegate to\n\t`debugger-insert-backtrace'.\n\t(ert--run-test-debugger): Record the backtrace frames starting from\n\tthe instigating `signal' call.\n\t(ert-run-tests-batch): Pass nil for `ert--print-backtrace's new\n\tDO-XREFS parameter.\n\t(ert-results-pop-to-backtrace-for-test-at-point): Pass t as DO-XREFS\n\tto `ert--print-backtrace' and remove call to `debugger-make-xrefs'.\n\t* test/lisp/emacs-lisp/ert-tests.el (ert-test-record-backtrace): Check\n\tthe backtrace list instead of comparing its string representation.\n\tExpect `signal' to be the first frame.\n\n2017-06-30  Noam Postavsky  <npostavs@gmail.com>\n\n\tOperate on frame list instead of printed backtrace\n\n\t* lisp/emacs-lisp/debug.el (debugger-insert-backtrace): New function,\n\tprints the given backtrace frames.\n\t(debugger-setup-buffer): Use it instead of editing the backtrace\n\tbuffer text.\n\n2017-06-29  Eli Zaretskii  <eliz@gnu.org>\n\n\tMinor fixes\n\n\t* src/xdisp.c (maybe_produce_line_number): Fix bug that caused\n\tline numbers to be displayed in empty lines beyond ZV.\n\t(x_produce_glyphs): Start fixing TAB display in truncated lines.\n\n2017-06-29  Michael Albinus  <michael.albinus@gmx.de>\n\n\tImprove timer handling when Tramp accepts output\n\n\t* lisp/net/tramp-compat.el: Avoid compiler warning.\n\n\t* lisp/net/tramp-sh.el (tramp-sh-file-name-handler):\n\tRemove lock machinery.\n\n\t* lisp/net/tramp.el (tramp-locked, tramp-locker): Move up.\n\t(tramp-file-name-handler): Add lock machinery from\n\t`tramp-sh-file-name-handler'.  Allow timers to run.\n\t(tramp-accept-process-output): Remove nasty workaround.\n\tSuppress timers.\n\n\t* test/lisp/net/tramp-tests.el (shell-command-sentinel):\n\tSuppress run in tests.\n\t(tramp--instrument-test-case-p): New defvar.\n\t(tramp--instrument-test-case): Use it in order to allow nested calls.\n\t(tramp--test-message, tramp--test-backtrace): New defsubst,\n\twill be used for occasional test instrumentation.\n\t(tramp-test00-availability, tramp-test31-vc-registered): Use them.\n\t(tramp-test28-shell-command)\n\t(tramp--test-shell-command-to-string-asynchronously): Suppress\n\tnasty messages.  Don't overwrite sentinel.\n\t(tramp-test36-asynchronous-requests): Rewrite major parts.\n\tExpect :passed.\n\n2017-06-28  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/url/url-history.el: Use lexical-binding\n\n\t(url-completion-function): Mark as obsolete.\n\tMark unused args accordingly.\n\n2017-06-28  Noam Postavsky  <npostavs@gmail.com>\n\n\tDon't assume url structs are vectors (Bug#27333)\n\n\t* lisp/url/url-history.el (url-history-update-url): Use `url-p'\n\tinstead of `vectorp'.\n\n2017-06-28  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tReplace with dolist some uses of while\n\n\t* lisp/calc/calc-units.el (calc-permanent-units):\n\t(math-compare-unit-names, math-simplify-units-quotient):\n\t(math-build-units-table-buffer): Use dolist to replace extra bindings\n\tand some while loops.\n\n2017-06-28  Noam Postavsky  <npostavs@gmail.com>\n\n\tMake tcl-auto-fill-mode obsolete (Bug#10772)\n\n\t* lisp/progmodes/tcl.el (tcl-auto-fill-mode): Declare obsolete.\n\t* etc/NEWS: Announce it.\n\n2017-06-28  Noam Postavsky  <npostavs@gmail.com>\n\n\tDon't read eshell/which output from *Help* buffer (Bug#26894)\n\n\t* lisp/help-fns.el (help-fns--analyse-function)\n\t(help-fns-function-description-header): New functions, extracted from\n\tdescribe-function-1.\n\t(describe-function-1): Use them.\n\t* lisp/eshell/esh-cmd.el (eshell/which): Use\n\t`help-fns-function-description-header' instead of\n\t`describe-function-1'.\n\n2017-06-27  Eli Zaretskii  <eliz@gnu.org>\n\n\tSupport default-text-properties\n\n\t* src/xdisp.c (should_produce_line_number): Call get-char-property\n\tat ZV as well, to support default-text-properties.\n\n2017-06-27  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid segfaults when some display vector is an empty string\n\n\t* src/xdisp.c (next_element_from_display_vector): Don't try\n\taccessing the dpvec[] array if its size is zero.  (Bug#27504)\n\n2017-06-26  Eli Zaretskii  <eliz@gnu.org>\n\n\tInitial support for visually-relative line numbers\n\n\tWorks very slowly.\n\n\t* src/xdisp.c (display_count_lines_visually): New function.\n\t(maybe_produce_line_number): Support 'visual' mode of line-number\n\tdisplay.\n\t* src/xdisp.c (maybe_produce_line_number): Update IT's metrics\n\talso when glyph_row is NULL.  This is important for move_it_*\n\tfunctions.\n\t(syms_of_xdisp) <display-line-number-width>: Now buffer-local.\n\t(try_window_id, redisplay_window, try_cursor_movement): For\n\t'visual' line-number display, disable the same redisplay\n\toptimizations as for 'relative'.\n\n\t* lisp/cus-start.el (standard): Add new value for the\n\tcustomization form of display-line-numbers.\n\n2017-06-26  Eli Zaretskii  <eliz@gnu.org>\n\n\tUpdate IT's metrics while simulating display\n\n\t* src/xdisp.c (maybe_produce_line_number): Update IT's metrics\n\talso when glyph_row is NULL.  This is important for move_it_*\n\tfunctions.\n\n2017-06-26  Teemu Likonen  <tlikonen@iki.fi>\n\n\tFix bug in handling GnuPG's TRUST_MARGINAL status\n\n\t* lisp/epg.el (epg--status-TRUST_MARGINAL): Change symbol `marginal'\n\tto `good'.\n\n2017-06-26  Tino Calancha  <tino.calancha@gmail.com>\n\n\tPrefer `when' instead of 1-branch `if'\n\n\t* lisp/dired-aux.el (dired-do-shell-command): Store condition value\n\tin local variable ok.\n\tUse `when' instead of 1-branch `if'.\n\n2017-06-26  Tino Calancha  <tino.calancha@gmail.com>\n\n\tUse #' instead of (function ...)\n\n\t* lisp/dired-aux.el (dired-do-chxxx, dired-clean-directory)\n\t(dired-mark-confirm, dired-query, dired-byte-compile)\n\t(dired-load, dired-update-file-line, dired-after-subdir-garbage)\n\t(dired-relist-file, dired-rename-subdir, dired-do-create-files)\n\t(dired-mark-read-file-name, dired-do-copy, dired-do-symlink)\n\t(dired-do-hardlink, dired-do-rename, dired-do-rename-regexp)\n\t(dired-do-copy-regexp, dired-do-hardlink-regexp)\n\t(dired-do-symlink-regexp, dired-create-files-non-directory)\n\t(dired-upcase, dired-downcase)\n\n\t* lisp/dired.el (dired-mode, dired-copy-filename-as-kill)\n\t(dired-internal-do-deletions, dired-internal-do-deletions):\n\tPrefer #' instead of (function ...).\n\n2017-06-26  Tino Calancha  <tino.calancha@gmail.com>\n\n\tDon't quote lambda forms\n\n\t* lisp/dired.el (dired-re-maybe-mark, dired-map-over-marks)\n\t(dired-mark, dired-desktop-buffer-misc-data)\n\n\t* lisp/dired-aux.el (dired-do-create-files, dired-do-create-files-regexp)\n\t(dired-create-files-non-directory, dired-insert-subdir-validate)\n\t(dired-alist-sort, dired-do-shell-command): Don't quote lambda forms.\n\n2017-06-26  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/progmodes/cc-fonts.el: Remove/mark unused vars\n\n\t(c-font-lock-declarators): Remove unused vars `id-end', `paren-depth',\n\tand `brackets-after-id'.\n\t(c-font-lock-objc-methods): Mark unused args.\n\n2017-06-25  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tOmit null-pointer test in intervals.h FRAME\n\n\t* src/intervals.h (ROOT_INTERVAL_P, ONLY_INTERVAL_P)\n\t(INTERVAL_LAST_POS): Omit unnecessary parens.\n\t(LENGTH): Omit test for null pointer.  The argument is never null.\n\tThe unnecessary test causes GCC 7.1.0 to assume that the argument\n\tmight be null, and therefore to issue false alarms when the\n\targument is dereferenced in other expressions.\n\n2017-06-25  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tParenthesize frame.h macro definitions\n\n\t* src/frame.h (FRAME_TOOL_BAR_POSITION)\n\t(FRAME_VERTICAL_SCROLL_BAR_TYPE, FRAME_HAS_VERTICAL_SCROLL_BARS)\n\t(FRAME_HAS_VERTICAL_SCROLL_BARS_ON_LEFT)\n\t(FRAME_HAS_VERTICAL_SCROLL_BARS_ON_RIGHT)\n\t(FRAME_OVERRIDE_REDIRECT, FRAME_UNDECORATED, FRAME_PARENT_FRAME)\n\t(FRAME_SKIP_TASKBAR, FRAME_NO_FOCUS_ON_MAP)\n\t(FRAME_NO_ACCEPT_FOCUS, FRAME_NO_SPECIAL_GLYPHS, FRAME_Z_GROUP)\n\t(FRAME_Z_GROUP_NONE, FRAME_Z_GROUP_ABOVE, FRAME_Z_GROUP_BELOW)\n\t(FRAME_HAS_HORIZONTAL_SCROLL_BARS): Parenthesize macro definiens\n\tto allow arbitrary expression arguments.\n\n2017-06-25  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort recent frame changes to GCC 7\n\n\t* src/frame.c (keep_ratio): New arg P.  Caller changed.  Since it\n\tis non-null, it avoids a GCC 7 warning that FRAME_PARENT_FRAME\n\tmight return null.  This also avoids a run-time test.\n\n2017-06-25  Eli Zaretskii  <eliz@gnu.org>\n\n\tMinor aesthetic fix of last change.\n\n2017-06-25  Eli Zaretskii  <eliz@gnu.org>\n\n\tAllow to disable display of line numbers beyond EOB\n\n\t* src/buffer.c (disable_line_numbers_overlay_at_eob): New\n\tfunction.\n\t* src/lisp.h (disable_line_numbers_overlay_at_eob): Add prototype.\n\t* src/xdisp.c (should_produce_line_number): When at ZV, call\n\tdisable_line_numbers_overlay_at_eob to determine whether line\n\tnumbers should be displayed beyond ZV.\n\n2017-06-25  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix Android 6/7 problems in Tramp\n\n\t* lisp/net/tramp-adb.el (tramp-adb-ls-toolbox-regexp): Fix link part.\n\t(tramp-adb-handle-directory-files-and-attributes)\n\t(tramp-adb-handle-file-name-all-completions): Insert \".\"  and\n\t\"..\" only when needed.\n\t(tramp-adb-get-ls-command): Force one column output for toybox.\n\n2017-06-25  Stefan-W. Hahn  <stefan.hahn@s-hahn.de>  (tiny change)\n\n\t* lisp/subr.el (setq-local): Add debug declaration (Bug#27408).\n\n2017-06-25  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix line number display for overlay/display strings with newlines\n\n\t* src/xdisp.c (maybe_produce_line_number): Fix the condition for\n\tproducing space glyphs instead of a line number to include the\n\tcase of display strings and overlays.\n\n2017-06-25  Alan Mackenzie  <acm@muc.de>\n\n\tMake CC Mode load cl-lib rather than cl in Emacs 26.\n\n\t* lisp/progmodes/cc-cmds.el (c-declaration-limits): Remove unused local\n\tvariable.\n\n\t* lisp/progmodes/cc-defs.el (c--mapcan-status): Remove.\n\t(c--cl-library): New variable.\n\t(Top level): Amend the form which requires library cl or cl-lib.\n\t(c--mapcan, c--set-difference, c--intersection, c--macroexpand-all)\n\t(c--delete-duplicate): Amend to use c--cl-library instead of\n\tc--mapcan-status.\n\n\t* lisp/progmodes/cc-engine.el (c-syntactic-skip-backward)\n\t(c-back-over-compound-identifier): Remove unused local variables.\n\n\t* lisp/progmodes/cc-fonts.el (c-font-lock-declarations): Remove an unused\n\tlocal variable.\n\n\t* lisp/progmodes/cc-langs.el (Top level): Amend to use c--cl-library instead\n\tof c--mapcan-status.\n\n\t* lisp/progmodes/cc-styles.el (Top level): Add a cc-bytecomp-defun to try to\n\tsilence a compiler warning.\n\n2017-06-25  Martin Rudalics  <rudalics@gmx.at>\n\n\tProvide additional support for child frames\n\n\tProvide mouse dragging and resizing of frames.  Allow resizing\n\tframes proportionally.  Provide additional functionality for\n\tchild frames.  Minor bug fixes.\n\n\t* lisp/frame.el (frame-border-width, frame-pixel-width)\n\t(frame-pixel-height): Alias to `frame-internal-border-width',\n\t`frame-native-width' and `frame-native-height'.\n\t(frame-inner-width, frame-inner-height, frame-outer-width)\n\t(frame-outer-height): New functions.\n\t* lisp/minibuffer.el (completion-auto-help): Fix typo.\n\t* lisp/mouse.el (mouse-drag-line, mouse-drag-mode-line)\n\t(mouse-drag-header-line): Allow moving a frame by dragging the\n\tmode line of its bottommost window (on a minibuffer-less frame)\n\tor the header line of its topmost window.\n\t(mouse-drag-vertical-line): Mention argument in doc-string.\n\t(mouse-resize-frame, mouse-drag-frame, mouse-drag-left-edge)\n\t(mouse-drag-top-left-corner, mouse-drag-top-edge)\n\t(mouse-drag-top-right-corner, mouse-drag-right-edge)\n\t(mouse-drag-bottom-right-corner, mouse-drag-bottom-edge)\n\t(mouse-drag-bottom-left-corner): New functions for resizing a\n\tframe by dragging its internal border together with\n\tcorresponding key bindings.\n\t* lisp/tooltip.el (tooltip-frame-parameters): Add\n\t'no-special-glyphs' to default parameters and update version\n\ttag.\n\t* lisp/window.el (frame-auto-hide-function): Add choice to make\n\tframe invisible and update version tag.\n\t(window--delete): Handle 'auto-hide-function' frame parameter.\n\t(window--maybe-raise-frame): Respect 'no-focus-on-map' and\n\t'no-accept-focus' frame parameters.\n\t(display-buffer--action-function-custom-type): Add\n\t`display-buffer-in-child-frame'.\n\t(display-buffer): Mention `display-buffer-in-child-frame' in\n\tdoc-string.\n\t(display-buffer-in-child-frame): New action function for\n\t`display-buffer'.\n\t(window--sanitize-margin): Return zero when MARGIN cannot be\n\tsanitized.\n\t(fit-frame-to-buffer): Major rewrite to handle child frames and\n\t'fit-frame-to-buffer-sizes' and 'fit-frame-to-buffer-margins'\n\tframe parameters.\n\t(window-largest-empty-rectangle--maximums-1)\n\t(window-largest-empty-rectangle--maximums)\n\t(window-largest-empty-rectangle--disjoint-maximums)\n\t(window-largest-empty-rectangle): New functions.\n\n\t* src/dispextern.h (WINDOW_WANTS_MODELINE_P)\n\t(WINDOW_WANTS_HEADER_LINE_P): Remove.  Functionality is now\n\tprovided by corresponding functions window_wants_modeline and\n\twindow_wants_header_line in window.c.  Adjust users.\n\t* src/dispnew.c (adjust_glyph_matrix)\n\t(buffer_posn_from_coords): Use window_wants_modeline and\n\twindow_wants_header_line instead of WINDOW_WANTS_MODELINE_P and\n\tWINDOW_WANTS_HEADER_LINE_P.\n\t* src/frame.c (keep_ratio): New function.\n\t(adjust_frame_size): Call keep_ratio for each of F's child\n\tframes.\n\t(make_frame): Initialize no_special_glyphs slot.\n\t(frame_internal_border_part): New function.\n\t(Fframe_pixel_width, Fframe_pixel_height, Fborder_width): Rename\n\tto Fframe_native_width, Fframe_native_height mand\n\tFframe_internal_border_width.\n\t(frame_parm_table): Add Qno_special_glyphs entry.\n\t(frame_float_type): New enumeration type.\n\t(frame_float): New function to handle frame size and position\n\tratios.\n\t(x_set_frame_parameters): Handle size and position ratios.\n\t(x_set_no_special_glyphs): New function\n\t(x_figure_window_size): Handle size and position ratios.\n\t(syms_of_frame): Add Qdisplay_monitor_attributes_list,\n\tQno_special_glyphs, Qframe_edges, Qkeep_ratio, Qwidth_only,\n\tQheight_only, Qleft_only and Qtop_only.\n\t* src/frame.h (internal_border_part): New enumeration type.\n\t(struct frame): New slot no_special_glyphs.\n\t(FRAME_NO_SPECIAL_GLYPHS): New macro.\n\t* src/gtkutil.c (xg_frame_restack): Return immediately for\n\tGTK versions before 2.18.0.\n\t* src/keyboard.c (internal_border_parts): New array constant.\n\t(make_lispy_position): For frames with border dragging enabled\n\treturn internal border part.\n\t(syms_of_keyboard): New symbols Qdrag_internal_border,\n\tQleft_edge, Qtop_left_corner, Qtop_edge, Qtop_right_corner,\n\tQright_edge, Qbottom_right_corner, Qbottom_edge and\n\tQbottom_left_corner.\n\t* src/minibuf.c (read_minibuf_unwind): When exiting the\n\tminibuffer deal with frames that have the 'minibuffer-exit'\n\tparameter set.\n\t(syms_of_minibuf): New symbol Qminibuffer_exit.\n\t* src/nsfns.m (frame_parm_handler): Add entry for\n\tx_set_no_special_glyphs.\n\t(Fx_create_frame): Handle 'no-special-glyphs' parameter.\n\tIntitialize new cursor types for dragging frame borders.\n\t* src/nsterm.h (struct ns_output): Add new cursor types for\n\tdragging frame borders.\n\t* src/w32fns.c (w32_frame_parm_handlers): Add entry for\n\tx_set_no_special_glyphs.\n\t(Fx_create_frame): Handle 'no-special-glyphs' parameter.\n\tIntitialize new cursor types for dragging frame borders.\n\t* src/w32term.h (struct w32_output): Add new cursor types for\n\tdragging frame borders.\n\t* src/window.c (coordinates_in_window)\n\t(Fwindow_line_height, window_internal_height): Use\n\twindow_wants_modeline and window_wants_header_line instead of\n\tWINDOW_WANTS_MODELINE_P and WINDOW_WANTS_HEADER_LINE_P.\n\t(Fwindow_lines_pixel_dimensions): New function.\n\t(window_parameter): New function.\n\t(Fwindow_parameter): Call window_parameter.\n\t(window_wants_mode_line, window_wants_header_line): New\n\tfunctions replacing the macros WINDOW_WANTS_MODELINE_P and\n\tWINDOW_WANTS_HEADER_LINE_P from dispextern.h.\n\t(syms_of_window): New symbols Qmode_line_format and\n\tQheader_line_format.\n\t* src/window.h: Reorganize and re-comment macros.  Use\n\twindow_wants_modeline and window_wants_header_line instead of\n\tWINDOW_WANTS_MODELINE_P and WINDOW_WANTS_HEADER_LINE_P.\n\t(MINI_NON_ONLY_WINDOW_P, MINI_ONLY_WINDOW_P): Minor rewrite.\n\t(WINDOW_BUFFER): New macro.\n\t(WINDOW_BOX_LEFT_EDGE_COL, WINDOW_BOX_RIGHT_EDGE_COL): Remove.\n\t* src/xdisp.c (window_text_bottom_y, window_box_height)\n\t(window_box, start_display)\n\t(compute_window_start_on_continuation_line)\n\t(try_cursor_movement, redisplay_window)\n\t(try_window_reusing_current_matrix, try_window_id)\n\t(display_line, expose_window): Use window_wants_modeline and\n\twindow_wants_header_line instead of WINDOW_WANTS_MODELINE_P and\n\tWINDOW_WANTS_HEADER_LINE_P.\n\t(pos_visible_p, display_mode_lines): Respect W's\n\t'mode-line-format' and 'header-line-format' window parameters.\n\t(init_iterator): Use window_wants_modeline and\n\twindow_wants_header_line instead of WINDOW_WANTS_MODELINE_P and\n\tWINDOW_WANTS_HEADER_LINE_P.  For tip frames respect\n\tno_special_glyphs value.\n\t(note_mouse_highlight): Set frame border cursors when on\n\tinternal border.\n\t(x_draw_right_divider, x_draw_bottom_divider): Try to improve\n\tdrawing of window dividers.\n\t* src/xfns.c (mouse_cursor): Add entries for border parts.\n\t(mouse_cursor_types): Add entries for cursor types to drag\n\tframe borders.\n\t(INSTALL_CURSOR): Add entries for new cursor types to drag\n\tframe borders.\n\t(Fx_create_frame): Handle 'no-special-glyphs' parameter.\n\t(x_frame_parm_handlers): Add entry for\n\tx_set_no_special_glyphs.\n\t(Vx_window_left_edge_shape, Vx_window_top_left_corner_shape)\n\t(Vx_window_top_edge_shape, Vx_window_top_right_corner_shape)\n\t(Vx_window_right_edge_shape)\n\t(Vx_window_bottom_right_corner_shape)\n\t(Vx_window_bottom_edge_shape)\n\t(Vx_window_bottom_left_corner_shape): New variables.\n\t(x_frame_restack): Call xg_frame_restack only for GTK versions\n\tstarting with 2.18.0.\n\t* src/xterm.c (x_free_frame_resources): Remove new cursors for\n\tdragging frame borders.\n\t* src/xterm.h (struct x_output): Add new cursor types for\n\tdragging frame borders.\n\n\t* doc/lispref/display.texi (Size of Displayed Text): Document\n\t`window-lines-pixel-dimensions'.\n\t* doc/lispref/elisp.texi (Top): Add entry for \"Mouse Dragging\n\tParameters\".\n\t* doc/lispref/frames.texi (Frame Size): Replace\n\tframe-pixel-width/-height by frame-native-width/-height.  Add\n\tframe-inner-width/-height and frame-outer-width/-height docs.\n\t(Position Parameters): Describe specifying position as ratios.\n\tClarify remark about positions relative to bottom/ridge display\n\tedge.\n\t(Size Parameters): Describe specifying sizes as ratios.\n\tDescribe 'fit-frame-to-buffer-margins' and\n\t'fit-frame-to-buffer-sizes' parameters.\n\t(Layout Parameters): Describe 'no-special-glyphs' parameter.\n\t(Frame Interaction Parameters): Describe 'auto-hide-function',\n\t'minibuffer-exit' and 'keep-ratio' parameters.\n\t(Mouse Dragging Parameters): New section describing\n\t'drag-internal-border', 'drag-with-header-line',\n\t'drag-with-mode-line', 'snap-width', 'top-visible' and\n\t'bottom-visible' parameters.\n\t(Management Parameters): Mention that `override-redirect' has\n\tno effect on MS Windows.\n\t(Font and Color Parameters): Mention child frames for `alpha'\n\tparameter.\n\t(Child Frames): Rewrite section with description and cross\n\treferences to new frame parameters added.\n\t* doc/lispref/modes.texi (Mode Line Basics): Mention\n\t'mode-line-format' and 'header-line-format' window parameters.\n\t* doc/lispref/windows.texi (Resizing Windows): Mention effect\n\tof `fit-frame-to-buffer-margins' for child frames.\n\t(Display Action Functions): New action function\n\t`display-buffer-in-child-frame'.\n\t(Quitting Windows): Mention `make-frame-invisible' as optional\n\tvalue of `frame-auto-hide-function' and `auto-hide-function'\n\tframe paameter.\n\t(Coordinates and Windows): Describe new function\n\t`window-largest-empty-rectangle'.\n\t(Window Parameters): Describe new parameters 'mode-line-format'\n\tand 'header-line-format'.  Index all window parameters described\n\tin this section.\n\n2017-06-25  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tAdjust lm-verify to accept current notices\n\n\tProblem reported by Mike Kupfer in:\n\thttps://lists.gnu.org/r/emacs-devel/2017-06/msg00512.html\n\t* lisp/emacs-lisp/lisp-mnt.el (lm-crack-copyright):\n\tDo not require later lines in a copyright notice to have more\n\tindentation than earlier lines.\n\n2017-06-24  Eli Zaretskii  <eliz@gnu.org>\n\n\tMinor change in NEWS.\n\n\tImprove documentation in NEWS.\n\n2017-06-24  Eli Zaretskii  <eliz@gnu.org>\n\n\tMove additional hscrolling code into a suitable 'if'\n\n\t* src/xdisp.c (hscroll_window_tree): Make additional calculations\n\tregarding glyphs produced for line numbers conditional on\n\tline-number display.\n\n2017-06-24  Eli Zaretskii  <eliz@gnu.org>\n\n\tPartial fix of hscroll of truncated lines with line numbers\n\n\t* src/xdisp.c (x_produce_glyphs, hscroll_window_tree): Adjust\n\thscroll calculations to line-number display.\n\t* src/term.c (produce_glyphs): Adjust tab stop to window's\n\thscroll.  These two changes fix horizontal scrolling when line\n\tnumbers are displayed.  But there's still a bug: the horizontal\n\tshift of lines that begin with a TAB is different from the rest.\n\t* src/xdisp.c (move_it_in_display_line_to): Call\n\tshould_produce_line_number to determine whether a line number\n\tshould be produced for this screen line.\n\n2017-06-24  Noam Postavsky  <npostavs@gmail.com>\n\n\tDon't change byte-compile-delete-errors at runtime (Bug#27340)\n\n\t* lisp/emacs-lisp/eieio-core.el: Confine `cl-declaim' calls to compile\n\ttime.\n\n2017-06-24  Eli Zaretskii  <eliz@gnu.org>\n\n\tAllow Lisp program to disable line-number display for specific lines\n\n\t* etc/NEWS: Update the documentation.\n\n\t* src/xdisp.c (syms_of_xdisp) <display-line-numbers-disable>: New\n\tsymbol.\n\t(should_produce_line_number): New function.\n\t(display_line): Use should_produce_line_number to determine\n\twhether a line number should be produced for each glyph row.\n\n2017-06-24  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/net/html2text.el: Move to obsolete/.\n\n2017-06-24  Eli Zaretskii  <eliz@gnu.org>\n\n\tSupport a separate face for displaying the current line's number\n\n\t* lisp/faces.el (line-number-current-line): New face.\n\n\t* src/xdisp.c (syms_of_xdisp) <line-number-current-line>: New\n\tsymbol.\n\t(try_window_id, try_cursor_movement): Disable these optimizations\n\twhen the line-number-current-line face is different from\n\tline-number face.\n\t(maybe_produce_line_number): Display the current line in the\n\tline-number-current-line face, if it's different from line-number.\n\n2017-06-24  Eli Zaretskii  <eliz@gnu.org>\n\n\tChange display of current line in relative mode\n\n\t* src/xdisp.c (maybe_produce_line_number): In relative mode\n\tdisplay the current line number as its absolute value, not as zero.\n\n2017-06-24  Eli Zaretskii  <eliz@gnu.org>\n\n\tRename display-line-width\n\n\t* etc/NEWS:\n\t* src/xdisp.c (syms_of_xdisp, maybe_produce_line_number):\n\t* lisp/cus-start.el: Rename display-line-width to\n\tdisplay-line-number-width.\n\n2017-06-24  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix tab stops when line numbers are displayed\n\n\t* src/xdisp.c (x_produce_glyphs):\n\t* src/term.c (produce_glyphs): Adjust tab stops for the horizontal\n\tspace taken by the line-number display.\n\n2017-06-24  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix crashes on TTY frames due to negative lnum_width.\n\n\tDon't display line numbers in the minibuffer and in tooltip frames.\n\n2017-06-24  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix problems with line-number updates in Follow mode\n\n\t* src/xdisp.c (redisplay_window): If forced window-start requires\n\tto move a window's point, and the window is under relative\n\tline-number display, force another round of redisplay to update\n\tthe relative line numbers.  This fixes follow-mode \"redisplay\" of\n\tits window group.\n\n\t* lisp/frame.el: Add display-line-numbers to the list of variables\n\tthat should trigger redisplay of the current buffer.\n\n2017-06-24  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix display of line numbers with fonts larger than the default\n\n\t* src/xdisp.c (maybe_produce_line_number): Update the metrics in\n\tIT, not in IT->glyph_row, since the latter gets overwritten in\n\tdisplay_line.  Fixes display of line numbers when the font used\n\tfor them is larger than that of the default face.\n\n2017-06-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix background color beyond EOB and cursor display\n\n\t* src/xdisp.c: \t(maybe_produce_line_number): Use the default face\n\tfor background of the blank glyphs in the line-number area which\n\tare drawn beyond EOB.\n\t(display_line): Reset the glyph row's displays_text_p flag only on\n\tempty lines that don't display line numbers.  This fixes cursor\n\tdisplay beyond EOB.  Fix the bidi information in the glyphs\n\tproduced for line numbers.  Set the avoid_cursor_p flag of glyphs\n\tproduced for line numbers.\n\n2017-06-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix display of indicate-empty-lines when line numbers are displayed\n\n\t* src/xdisp.c (row_text_area_empty): New function.\n\t(display_line): Call row_text_area_empty to verify that a glyph\n\trow's text area is devoid of any glyphs that came from a buffer or\n\ta string.  This fixes a bug with empty-lines indication\n\tdisappearing when line numbers or line-prefix are displayed.\n\t(display_line): Delete the argument FORCE; all callers changed.\n\tRemove the condition for actually producing the glyphs for the\n\tline number, as even if the number didn't change we need to\n\tproduce empty space.\n\n2017-06-23  Vincent Bela\u00efche  <vincentb1@users.sourceforge.net>\n\n\tFix symbol relocation when the relocated cell is renamed.\n\n\t* lisp/ses.el (ses-sym-rowcol):  Check that the renamed cell\n\thashmap has been instantiated before getting data from it.  When\n\tediting several spreadsheets, and you have spreadsheet #1 with a\n\tcell named `foo', and no renamed cell in spreadsheet #2, then if\n\tyou make a formula with `foo' in spreadsheet #2, not doing this\n\tcheck will make an error.\n\t(ses-cell-set-formula): Robustify versus incorrect cell references\n\tgiven in the user provided formula.  An explicit error message is\n\tprovided after the action when the user gives an incorrect cell\n\treference, but the formula edition is not changed.  This means that\n\tif the incorrect reference is to a cell that is created someday,\n\tthen this new cell will not have the edited cell in its reference\n\tlist.  Fixing this can still be done by editing again the first\n\tcell formula.\n\t(ses-relocate-symbol): Do not create symbol of referred-to cell\n\twhen this is a renamed cell.\n\n2017-06-23  Rasmus  <rasmus@gmx.us>\n\n\tSynchronize with the \"emacs-sync\" branch from Org\n\n2017-06-22  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRemove getc_unlocked configure-time check\n\n\t* configure.ac (getc_unlocked): Remove check, as unlocked-io now\n\tdoes this for us.\n\n2017-06-22  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tUse unlocked stdio more systematically\n\n\tThis can improve performance significantly on stdio-bottlenecked code.\n\tE.g., make-docfile is 3x faster on my Fedora 25 x86-64 desktop.\n\t* admin/merge-gnulib (GNULIB_MODULES): Add unlocked-io.\n\t* lib-src/ebrowse.c, lib-src/emacsclient.c, lib-src/etags.c:\n\t* lib-src/hexl.c, lib-src/make-docfile.c, lib-src/movemail.c:\n\t* lib-src/profile.c, lib-src/update-game-score.c:\n\tInclude unlocked-io.h instead of stdio.h, since these programs are\n\tsingle-threaded.\n\t* lib/gnulib.mk.in, m4/gnulib-comp.m4: Regenerate.\n\t* lib/unlocked-io.h, m4/unlocked-io.m4: New files, copied from Gnulib.\n\t* src/charset.c, src/cm.c, src/emacs.c, src/image.c, src/keyboard.c:\n\t* src/lread.c, src/term.c:\n\tInclude sysstdio.h, possibly instead of stdio.h, to define\n\tthe unlocked functions if the system does not provide them.\n\t* src/charset.c, src/lread.c (getc_unlocked):\n\tRemove, since sysstdio.h now defines it if needed.\n\t* src/cm.c (cmputc, cmcheckmagic):\n\t* src/dispnew.c (update_frame, update_frame_with_menu)\n\t(update_frame_1, Fsend_string_to_terminal, Fding, bitch_at_user):\n\t* src/emacs.c (main, Fdump_emacs):\n\t* src/fileio.c (Fdo_auto_save, Fset_binary_mode):\n\t* src/image.c (slurp_file, png_read_from_file, png_load_body)\n\t(our_stdio_fill_input_buffer):\n\t* src/keyboard.c (record_char, kbd_buffer_get_event, handle_interrupt):\n\t* src/lread.c (readbyte_from_file):\n\t* src/minibuf.c (read_minibuf_noninteractive):\n\t* src/print.c (printchar_to_stream, strout)\n\t(Fredirect_debugging_output):\n\t* src/sysdep.c (reset_sys_modes, procfs_ttyname)\n\t(procfs_get_total_memory):\n\t* src/term.c (tty_ring_bell, tty_send_additional_strings)\n\t(tty_set_terminal_modes, tty_reset_terminal_modes)\n\t(tty_update_end, tty_clear_end_of_line, tty_write_glyphs)\n\t(tty_write_glyphs_with_face, tty_insert_glyphs)\n\t(tty_menu_activate):\n\t* src/xfaces.c (Fx_load_color_file):\n\tUse unlocked stdio when it should be safe.\n\t* src/sysstdio.h (clearerr_unlocked, feof_unlocked, ferror_unlocked)\n\t(fflush_unlocked, fgets_unlocked, fputc_unlocked, fputs_unlocked)\n\t(fread_unlocked, fwrite_unlocked, getc_unlocked, getchar_unlocked)\n\t(putc_unlocked, putchar_unloced): Provide substitutes if not declared.\n\n2017-06-22  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/net/shr.el (shr-fill-text): Actually fill the text.  (Bug#27399)\n\n2017-06-22  Michal Nazarewicz  <mina86@mina86.com>\n\n\tunidata: don\u2019t check special casing in unidata-check  (bug#26656)\n\n\t* admin/unidata/unidata-gen.el (unidata-check): Do not test special\n\tcasing mapping of characters since that mapping is not constructed from\n\tthe unidata.txt file.\n\tAlso, check for integer decoder and cons char earlier so that less\n\tunnecessary processing is performed.\n\n2017-06-22  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/descr-text.el (describe-char): Avoid string-*-multibyte\n\n\tAvoid string-to-multibyte and string-as-unibyte.\n\tDon't make *Help* unibyte just because the char was in a unibyte buffer.\n\n2017-06-22  Rasmus  <rasmus@gmx.us>\n\n\tAdd Org schemas.xml contents to Emacs schemas.xml\n\n\tEntries from the Org version of schemas.xml have been added to\n\tthe Emacs version of schemas.xml.\n\n2017-06-22  Rasmus  <rasmus@gmx.us>\n\n\tUpdate Org to v9.0.9\n\n\tPlease see etc/ORG-NEWS for details.\n\n2017-06-22  Vincent Bela\u00efche  <vincentb1@users.sourceforge.net>\n\n\tDo not hard code A1 cell reference, as it may be renamed.\n\n\t* lisp/ses.el (ses-recalculate-all): `A1' -> `(ses-cell-symbol 0 0)'\n\n2017-06-22  Martin Rudalics  <rudalics@gmx.at>\n\n\tFix make_hash_table calls in lread.c\n\n\t* src/lread.c (readevalloop, read_internal_start): Fix\n\tmake_hash_table calls to make build succeed.\n\n2017-06-22  Ken Raeburn  <raeburn@raeburn.org>\n\n\tMerge several Lisp reader speedups.\n\n2017-06-22  Ken Raeburn  <raeburn@raeburn.org>\n\n\tCreate less garbage to collect while reading symbols.\n\n\t* src/lread.c (read1): When interning a symbol, only create a new\n\tstring object for the name if we're going to use it for a new symbol\n\tobject.\n\n2017-06-22  Ken Raeburn  <raeburn@raeburn.org>\n\n\tReplace read_objects assoc list with two hash tables.\n\n\tFor larger input files with lots of shared data structures, an\n\tassociation list is too slow.\n\n\t* src/lread.c (read_objects_map, read_objects_completed): New\n\tvariables, replacing read_objects.\n\t(readevalloop): Initialize them with hash tables before starting a\n\ttop-level read, if they're not already empty hash tables, and reset\n\tthem to Qnil afterwards if something was added to the hash tables.\n\t(read_internal_start): Likewise.\n\t(read1): Store first the placeholder and later the newly read object\n\tinto read_objects_map under the specified object number.  If the new\n\tobject can contain a reference to itself, store it in\n\tread_objects_completed.\n\t(substitute_objects_recurse): Check read_objects_completed instead of\n\tread_objects for the known possibly-recursive objects.\n\t(syms_of_lread): Update initializations.\n\n2017-06-22  Ken Raeburn  <raeburn@raeburn.org>\n\n\tUse getc_unlocked.\n\n\t* configure.ac: Check for getc_unlocked.\n\t* src/charset.c (read_hex, load_charset_map_from_file): Use\n\tgetc_unlocked instead of getc.\n\t(getc_unlocked) [!HAVE_GETC_UNLOCKED]: Fall back to getc.\n\t* src/lread.c (readbyte_from_file, Fget_file_char, read1,\n\tgetc_unlocked): Likewise.\n\n2017-06-22  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tReduce lread substitutions.\n\n\t* src/lread.c (read1): After reading an object using the \"#n=\" syntax,\n\tif the read object is a cons cell, instead of recursively substituting\n\tthe placeholder with the new object, mutate the placeholder cons cell\n\titself to have the correct car and cdr values.\n\n2017-06-22  Ken Raeburn  <raeburn@raeburn.org>\n\n\tShort-circuit substitutions for some simple types.\n\n\tValues that don't contain other values cannot be circular, so checking\n\tfor circular objects is a waste of cycles.\n\n\t* src/lread.c (substitute_object_recurse): If the subtree being\n\texamined is a symbol, number, or property-less string, just return\n\tit.\n\n2017-06-22  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tLimit style_format to MAX_ALLOCA\n\n\t* src/editfns.c (styled_format): Subtract initial buffer size\n\tfrom sa_avail, since it is nontrivial.\n\n2017-06-22  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tLimit bidi_find_bracket_pairs to MAX_ALLOCA\n\n\t* src/bidi.c (MAX_BPA_STACK): Now a constant, not a macro.\n\tShrink it to allow for the two struct bidi_it objects in\n\tthe same frame.\n\t(PUSH_BPA_STACK): Avoid integer overflow with enormous bidi cache.\n\t(bidi_find_bracket_pairs): Use compile-time check instead of runtime.\n\n2017-06-22  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tLimit insert-file-contents to MAX_ALLOCA\n\n\t* src/fileio.c (READ_BUF_SIZE): Don\u2019t allocate more than\n\tMAX_ALLOCA bytes in a single stack array.\n\n2017-06-21  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRemove malloc_find_address relic\n\n\t* src/gmalloc.c (register_heapinfo, _malloc_internal_nolock):\n\tOmit unnecessary initialization.\n\n2017-06-21  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix temacs hybrid_malloc core dump\n\n\tWithout this patch, ./temacs would dump core sometimes on Fedora\n\t25 x86-64.  The problem was that the hybrid allocator assumed that\n\tall pointers into bss_sbrk_buffer are allocated via gmalloc.  This\n\tassumption is not true on Fedora, because the standard memory\n\tallocator calls gdefault_morecore, which means its blocks are\n\tinterleaved with our blocks.  Usually the code happened to work,\n\tbecause our data structures agreed with the glibc data structures,\n\tbut this was merely luck due to a shared pedigree, and as glibc\n\tmutates our luck has run out.\n\t* src/gmalloc.c (ALLOCATED_BEFORE_DUMPING) [HYBRID_MALLOC]:\n\tRemove; no longer needed.\n\t(BLOCK): Use unsigned division, as that does the right thing near zero.\n\t(register_heapinfo, __malloc_internal_nolock, __free_internal_nolock)\n\t(_realloc_internal_nolock):\n\tBig blocks now have type -1, not 0, as 0 now means the block is\n\tnot ours.\n\t(morecore_nolock): Omit now-unnecessary casts to size_t.\n\t(allocated_via_gmalloc) [HYBRID_MALLOC]: New function.\n\t(hybrid_free, hybrid_realloc) [HYBRID_MALLOC]: Use it, to\n\tavoid calling the wrong free or realloc function in some cases.\n\n2017-06-21  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\tMake gnus-article-date-user work\n\n\t* lisp/gnus/gnus-art.el (article-date-ut):\n\tWork for unfolded multi-line Date header.\n\t(article-transform-date):\n\tRefactor; add header name if it is missing in user-defined date line.\n\t(article-date-user): Fix name of date type.\n\n2017-06-21  Noam Postavsky  <npostavs@gmail.com>\n\n\tKeep order of completion candidates (Bug#25995, Bug#24676)\n\n\t* lisp/minibuffer.el (completion-pcm--filename-try-filter)\n\t(completion-pcm--all-completions): Use nreverse to undo the reversing\n\tcaused by using push in the loop.\n\n2017-06-21  Glenn Morris  <rgm@gnu.org>\n\n\t* src/lread.c (syms_of_lread) <load-history>: Doc fix.\n\n2017-06-21  Alex Gramiak  <agrambot@gmail.com>\n\n\tMark prolog indent variables as safe (bug#27369)\n\n\t* lisp/progmodes/prolog.el (prolog-indent-width)\n\t(prolog-left-indent-regexp, prolog-paren-indent-p)\n\t(prolog-paren-indent): Add :safe property.\n\n2017-06-20  Simen Heggest\u00f8yl  <simenheg@gmail.com>\n\n\tRemove `:options' from `css-electric-keys'\n\n\t* lisp/textmodes/css-mode.el (css-electric-keys): Remove `:options`\n\tsince it just duplicates the default value.\n\n2017-06-20  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix crash when built by GNU Gold linker on x86\n\n\tProblem reported by Andr\u00e9s Musetti (Bug#27248).\n\t* src/widget.c (emacsFrameClassRec): Do not initialize superclass here.\n\t(emacsFrameClass): Now a function (which initializes the\n\tsuperclass) instead of a variable.  All uses changed.\n\n2017-06-20  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSimplify autogen.sh version checking\n\n\t* autogen.sh (get_version): Simplify and make more reliable\n\tby using expr rather than echo | sed.  Check exit status of program.\n\tRun program in subshell in case it cannot be executed.\n\t(check_version): Check exit status of command rather than its output.\n\tCheck return status of get_version.\n\n2017-06-20  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\tDelete old Date header in a simple way\n\n\t* lisp/gnus/gnus-art.el (article-date-ut): Don't rely on text prop\n\twhen searching the old Date header boundary in order to delete it.\n\n2017-06-20  Bastien  <bzg@gnu.org>\n\n\tRevert \"Don't bind org-agenda key to an anonymous function\"\n\n\tThis reverts commit 49c0ff29c2e0243ba35ec17e3e3af49369be43db.\n\n2017-06-20  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\tBind enable-local-variables to nil globally (fix dbe3e41)\n\n\t* lisp/gnus/mm-view.el (mm-display-inline-fontify):\n\tBind enable-local-variables to nil globally instead of making it\n\tbuffer-local; remove let-bind of local-enable-local-variables.\n\tcf. <b4mtw3bbfp5.fsf@jpl.org> in the emacs-devel list.\n\n2017-06-20  Glenn Morris  <rgm@gnu.org>\n\n\tkill-matching-buffers to optionally not confirm\n\n\t* lisp/files.el (kill-matching-buffers):\n\tAdd option to not confirm killing.  (Bug#27286)\n\n2017-06-20  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/files.el (local-enable-local-variables): Doc fix.\n\n2017-06-20  Glenn Morris  <rgm@gnu.org>\n\n\tautogen.sh: try to check for tool being present but broken\n\n\t* autogen.sh (get_version): Check return status of \"--version\".\n\t(check_version): Try to distinguish between a missing tool\n\tand a broken one.  (Bug#27288)\n\n2017-06-19  Glenn Morris  <rgm@gnu.org>\n\n\tAvoid a custom-variable-type error (bug#27363)\n\n\t* lisp/cus-edit.el (custom-variable-type):\n\tAvoid an error due to plist-put becoming stricter of late.\n\n2017-06-19  Glenn Morris  <rgm@gnu.org>\n\n\tDon't put deleted packages in the trash (bug#14967)\n\n\t* lisp/emacs-lisp/package.el (package-delete):\n\tDon't pay attention to delete-by-moving-to-trash.\n\n2017-06-19  Nicolas Petton  <nicolas@petton.fr>\n\n\tRevert \"Add current-line in simple.el\"\n\n\tThis reverts commit ae98cdf9431604d0f722f1db217ca06debfbb7b6.\n\n2017-06-19  Damien Cassou  <damien@cassou.me>\n\n\tAdd current-line in simple.el\n\n\t* lisp/simple.el (current-line): New function.\n\t* test/lisp/simple-tests.el: Add tests for current-line.\n\n2017-06-19  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\tDon't try to eval local variables in Gnus article\n\n\t* lisp/gnus/mm-view.el (mm-display-inline-fontify): Disable local vars.\n\n2017-06-18  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix emacs-module.h cleaning\n\n\t* src/Makefile.in (clean): Do not remove emacs-module.h.in.\n\t(bootstrap-clean): Remove emacs-module.h.\n\n2017-06-18  Andreas Schwab  <schwab@linux-m68k.org>\n\n\t* lisp/url/url-util.el (url-get-url-at-point): Add missing group\n\tin regex.\n\n2017-06-18  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* lib/gettext.h: Merge from gnulib.\n\n2017-06-18  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from gnulib\n\n\tThis (and my previous patch) incorporate:\n\t2017-06-17 diffseq: port to GCC 7 with --enable-gcc-warnings\n\t2017-06-15 gettext-h: Update comment\n\t* lib/diffseq.h: Copy from gnulib.\n\n2017-06-17  Noam Postavsky  <npostavs@gmail.com>\n\n\t* test/Makefile.in: Don't suppress test failure for single tests.\n\n2017-06-17  Philipp Stephani  <phst@google.com>\n\n\temacs-module.h: Create emacs_env_26\n\n\tThis was part of the original design of the module\n\tAPI (https://lists.gnu.org/r/emacs-devel/2015-02/msg00960.html),\n\tbut I didn't take it into account when adding the should_quit\n\tfunction.\n\n\tInstead of duplicating the environment fields or using the C\n\tpreprocessor, use configure to build emacs-module.h.\n\n\t* configure.ac: Expand emacs-module.h template.\n\n2017-06-17  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of replace-buffer-contents\n\n\t* etc/NEWS (replace-buffer-contents): Fix formatting.\n\n\t* src/editfns.c (Freplace_buffer_contents): Doc fix.\n\n2017-06-17  Eli Zaretskii  <eliz@gnu.org>\n\n\tFinish up native display of line numbers\n\n\t* src/xdisp.c (maybe_produce_line_number): Produce a blank before\n\tthe number, for R2L rows.  Increment 'g' in the loop even if\n\tglyph_row is NULL.  Accept 2nd argument FORCE and produce the\n\tline-number glyphs if it is non-zero.\n\t(move_it_in_display_line_to): Account for the space taken by the\n\tline-number glyphs.  Call maybe_produce_line_number with 2nd\n\targument non-zero.\n\t(set_cursor_from_row): Fix calculation of cursor X coordinate in\n\tR2L rows with display-produced glyphs at the beginning.\n\t(syms_of_xdisp) <line-number>: New face symbol.\n\t<relative, display-line-width>: New symbols.\n\t(maybe_produce_line_number): Use the line-number face for\n\tdisplaying line numbers.  Support relative line-number display.\n\tSupport user-defined width for displaying line numbers.\n\t(try_cursor_movement, try_window_id): Disable these optimizations\n\twhen displaying relative line numbers.\n\t* src/dispextern.h (struct it): New member 'pt_lnum'.\n\n\t* lisp/faces.el (line-number): New face.\n\t* lisp/cus-start.el (standard): Provide customization forms for\n\tdisplay-line-numbers and display-line-width.\n\t* lisp/menu-bar.el (menu-bar-showhide-menu): Add menu-bar item to\n\tturn display-line-numbers on and off.\n\n\t* etc/NEWS: Document the new feature.\n\n2017-06-17  Philipp Stephani  <phst@google.com>\n\n\tAllow local variables section to begin with a square bracket\n\n\tFixes Bug#27391.\n\n\t* lisp/international/mule.el (find-auto-coding): Fix regular\n\texpression for \"Local Variables\" section.\n\n\t* test/lisp/international/mule-tests.el (find-auto-coding--bug27391):\n\tAdd unit test.\n\n2017-06-17  Philipp Stephani  <phst@google.com>\n\n\tRemove unnecessary point motion\n\n\t* src/editfns.c (Freplace_buffer_contents): Remove unnecessary point\n\tmotion.\n\n2017-06-17  Philipp Stephani  <phst@google.com>\n\n\tAdd command to replace buffer contents\n\n\tAdd a new command 'replace-buffer-contents' that uses the Myers diff\n\talgorithm to non-destructively replace the accessible portion of the\n\tcurrent buffer.  The Myers algorithm is implemented in Gnulib.\n\n\t* src/editfns.c (Freplace_buffer_contents): New command.\n\t(set_bit, bit_is_set, buffer_chars_equal): New helper functions.\n\t(syms_of_editfns): Define new command.\n\n\t* test/src/editfns-tests.el (replace-buffer-contents-1)\n\t(replace-buffer-contents-2): New unit tests.\n\n\t* src/buffer.h (BUF_FETCH_CHAR_AS_MULTIBYTE): New helper macro.\n\n\t* admin/merge-gnulib (GNULIB_MODULES): Add diffseq.h and minmax.h.\n\n2017-06-17  Andreas Schwab  <schwab@linux-m68k.org>\n\n\t* lisp/international/characters.el: Update list of zero and full\n\twidth characters according to Unicode 9.0.0.\n\n2017-06-17  Simen Heggest\u00f8yl  <simenheg@gmail.com>\n\n\tComplete CSS property values less eagerly (Bug#27392)\n\n\t* lisp/textmodes/css-mode.el (css--complete-property-value): Be less\n\teager by looking for a colon after the property which values are being\n\tcompleted for.\n\n\t* test/lisp/textmodes/css-mode-tests.el (css-test-complete-property):\n\tAdd a test case ensuring that properties that are prefixes of other\n\tproperties don't hinder further completion.\n\n2017-06-17  Noam Postavsky  <npostavs@gmail.com>\n\n\tHandle integer indices for eshell variables (Bug#26055)\n\n\t* lisp/eshell/esh-var.el (eshell-index-value): Convert index to number\n\tif it's been marked as one, just like `eshell-lisp-command' does.\n\n2017-06-17  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tDon't bind org-agenda key to an anonymous function\n\n\t* lisp/org/org-agenda.el: Bind \"g\" to named command.\n\t(org-agenda-redo-all): New command.  Extend the previous functionality\n\tthrough a prefix argument.\n\n2017-06-17  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tAdd test for the fix in the parent commit\n\n\t* test/src/undo-tests.el (undo-test-skip-invalidated-markers):\n\tNew test, for the fix in the parent commit.\n\n2017-06-17  Nitish Chandra  <nitishchandrachinta@gmail.com>  (tiny change)\n\n\tprimitive-undo: Update only the currently valid markers\n\n\t* lisp/simple.el (primitive-undo):\n\tUpdate only the currently valid markers (bug#25599).\n\n2017-06-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tInitial version of native display of line numbers\n\n\t* src/xdisp.c (syms_of_xdisp) <display-line-numbers>: New\n\tbuffer-local variable.\n\tInclude <math.h>.\n\t(maybe_produce_line_number): New function.\n\t(DISP_INFINITY): Rename from INFINITY, since math.h defines INFINITY.\n\t(try_window_reusing_current_matrix): Don't use this method when\n\tdisplay-line-numbers is in effect.\n\t* src/dispextern.h (struct it): New members 'lnum'.\n\n2017-06-16  Philipp Stephani  <phst@google.com>\n\n\tCorrectly detect URLs surrounded by parentheses in comments\n\n\t* lisp/thingatpt.el (thing-at-point--bounds-of-well-formed-url):\n\tMake parentheses match work inside comments.\n\n\t* test/lisp/thingatpt-tests.el (thing-at-point-url-in-comment): Add\n\tunit test.\n\n2017-06-16  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix load-path issue when it contains remote directories\n\n\t* lisp/net/tramp.el (tramp-file-name-handler): Use `autoloadp'.\n\t(tramp-use-absolute-autoload-file-names): New defun.  Call it\n\tafter loading tramp.el.\n\n\t* test/lisp/net/tramp-tests.el (tramp-test38-remote-load-path):\n\tNew test.\n\t(tramp-test39-unload): Rename.\n\n2017-06-16  Alan Mackenzie  <acm@muc.de>\n\n\tEnsure C++ initializer lists don't get fontified.\n\n\t* lisp/progmodes/cc-cmds.el (c-block-comment-flag): Move declaration to solve\n\tcompiler warning.\n\n\t* lisp/progmodes/cc-fonts.el (c-get-fontification-context): Add an extra\n\tclause to handle C++ member initialization lists.\n\t(c-font-lock-single-decl): New function, extracted from\n\tc-font-lock-declarations.\n\t(c-font-lock-declarations): Call c-font-lock-single-decl in place of inline\n\tcode.\n\t(c-font-lock-cut-off-declarators): Make more rigorous by calling\n\tc-get-fontification-context, c-forward-decl-or-cast-1, and\n\tc-font-lock-single-decl in place of rather approximate code.\n\n2017-06-16  Alan Mackenzie  <acm@muc.de>\n\n\tFix hang in CC Mode when \":\" is typed after identifier at EOB.\n\n\t* lisp/progmodes/cc-engine.el (c-forward-declarator): Fix coding error\n\tconfusing \":\" and EOB.\n\n2017-06-15  Alan Mackenzie  <acm@muc.de>\n\n\tCreate a toggle between block and line comments in CC Mode.\n\n\tAlso (unrelated change) initialize the modes' keymaps at each loading.\n\n\t* lisp/progmodes/cc-cmds.el (c-update-modeline): amend for the new information\n\ton the modeline.\n\t(c-block-comment-flag): New variable.\n\t(c-toggle-comment-style): New function.\n\n\t* lisp/progmodes/cc-langs.el (c-block-comment-starter)\n\t(c-line-comment-starter): Make them c-lang-defvars.\n\t(c-block-comment-is-default): New c-lang-defvar.\n\t(comment-start, comment-end): Make the default values dependent on\n\tc-block-comment-is-default.\n\n\t* lisp/progmodes/cc-mode.el (c-mode-base-map): Define C-c C-k in this map.\n\t(c-basic-common-init): Initialize c-block-comment-flag.\n\t(c-mode-map, c++-mode-map, objc-mode-map, java-mode-map, idl-mode-map)\n\t(pike-mode-map, awk-mode-map): Make entries in these key maps each time the\n\tmode is loaded rather than just once per Emacs session.\n\n\t* doc/misc/cc-mode.texi (Comment Commands): Introduce the notion of comment\n\tstyle.\n\t(Minor Modes): Define comment style.  Describe how comment style influences\n\tthe information displayed on the modeline.  Document c-toggle-comment-style.\n\t(FAQ): Add a question about toggling the comment style.\n\n2017-06-15  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPacify clang without munging C source\n\n\t* configure.ac (WARN_CFLAGS): With Clang, use\n\t-Wno-tautological-compare regardless of --enable-gcc-warnings.\n\t(WERROR_CFLAGS): Simplify assignments, and guarantee it\u2019s always set.\n\t* lib/strftime.c: Copy from gnulib, reverting Clang-specific\n\tchange which I hope is no longer needed.\n\t* src/emacs.c (main): Revert rlim_t change, as rlim_t is signed on\n\tsome older non-POSIX hosts.\n\n2017-06-15  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tNo need to complicate make-docfile.c for Clang\n\n\t* lib-src/make-docfile.c (put_filename): Undo recent change.\n\tThe Clang false alarm occurs only with CFLAGS=-save-temps and\n\twe needn\u2019t worry about pacifying unusual compiler configurations.\n\n2017-06-15  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort './configure CC=clang' to Fedora 25\n\n\t* configure.ac (HAVE_IMAGEMAGICK): Disable if even a\n\tstandard function like MagickRelinquishMemory does not link.\n\n2017-06-15  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDon\u2019t worry about __STDC_VERSION__ in emacs-module\n\n\t* src/emacs-module.h: Remove __STDC_VERSION__ check.  In the past\n\twe\u2019ve found that some compilers do not define this symbol even\n\twhen they work well enough.  If necessary features like stdbool.h\n\tare missing the compiler will complain eventually anyway.\n\n2017-06-14  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort cleanup check to Oracle Studio 12.5\n\n\t* src/conf_post.h (__has_attribute_cleanup): Resurrect.\n\t* src/emacs-module.c: Verify __has_attribute (cleanup), but in an\n\t#if this time.\n\n2017-06-14  Bastien  <bzg@gnu.org>\n\n\tFix misformatted changelog entry\n\n2017-06-14  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid compiler warning in image.c on MS-Windows\n\n\t* src/image.c (x_create_x_image_and_pixmap) [HAVE_NTGUI]: Avoid\n\tcompilation warning under -Warray-bounds by temporarily disabling\n\tthe -Warray-bounds option.\n\n2017-06-14  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix Bug#27315\n\n\t* lisp/net/tramp-cache.el (tramp-cache-read-persistent-data):\n\tNew defvar.\n\t(top): Use it.\n\n\t* lisp/net/tramp.el (tramp-handle-file-name-case-insensitive-p):\n\tCheck for connected, not for connectable.  (Bug#27315)\n\t(tramp-process-actions):\n\t* lisp/net/tramp-gvfs.el (tramp-gvfs-maybe-open-connection):\n\tUse `tramp-cache-read-persistent-data'.\n\n\t* test/lisp/net/tramp-tests.el (top): Set also\n\t`tramp-cache-read-persistent-data'.\n\n2017-06-14  Noam Postavsky  <npostavs@gmail.com>\n\n\tGive a fixed default value for icomplete-prospects-height (Bug#26939)\n\n\t* lisp/icomplete.el (icomplete-prospects-height): Default to 2.\n\t(icomplete-prospects-length): Remove.\n\t* etc/NEWS: Announce removal.\n\n2017-06-14  Philipp Stephani  <phst@google.com>\n\n\tRemove some tautological comparisons involving rlim_t\n\n\tClang on macOS warns about these with -Wtautological-compare.  POSIX\n\tguarantees that rlim_t is\n\tunsigned (cf.\n\thttp://pubs.opengroup.org/onlinepubs/009695399/basedefs/sys/resource.h.html),\n\tso these resource limits can never be negative.\n\n\t* src/emacs.c (main): Remove tautological comparisons.\n\n2017-06-14  Philipp Stephani  <phst@google.com>\n\n\tUse --module-assertions if modules are available\n\n\tUsing --module-assertions helps us find bugs in the test module.  But\n\twe can use it only if Emacs was compiled with module support.\n\n\t* test/Makefile.in (MODULES_EMACSOPT): New variable.\n\t(emacs): Use it.\n\n2017-06-14  Philipp Stephani  <phst@google.com>\n\n\tDefine --module-assertions only of modules are available\n\n\tFixes Bug#27352.\n\n\t* src/emacs.c (usage_message, standard_args): Define\n\t--module-assertions only if Emacs has been compiled with module\n\tsupport.\n\n2017-06-14  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\tgnus-article-read-summary-keys: Don't move point for WDD and WDW commands\n\n\t* lisp/gnus/gnus-art.el (gnus-article-read-summary-keys):\n\tNo need to restore window config for WDD and WDW commands.\n\n2017-06-14  Thomas Fitzsimmons  <fitzsim@fitzsim.org>\n\n\tlisp/net/soap-client.el: Bump version to 3.1.3\n\n\t* lisp/net/soap-client.el: Bump version to 3.1.3.\n\t(soap-name-p): Fix checkdoc issue.\n\n2017-06-14  Alex Harsanyi  <AlexHarsanyi@gmail.com>\n\n\tFix an HTTP encoding error in soap-client.el\n\n\t* lisp/net/soap-client.el (soap-invoke-internal): Make\n\tSOAPAction header a UTF-8 encoded string.\n\n2017-06-14  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort cleanup attribute to Oracle Studio 12.5\n\n\t* INSTALL (--with-modules): List cleanup attribute as prereq.\n\t* src/conf_post.h (__has_attribute_cleanup): Remove; no longer needed.\n\t* src/emacs-module.c (MODULE_SETJMP_1): Don\u2019t attempt to verify\n\t(__has_attribute (cleanup)), as Oracle Studio 12.5 supports\n\t__has_attribute only inside preprocessor expressions.  The C\n\tcompiler should check the cleanup attribute in the next line anyway.\n\t(module_reset_handlerlist): Remove an unnecessary \u2018const\u2019\n\tthat causes Oracle Studio 12.5 to refuse to compile.\n\n2017-06-14  Glenn Morris  <rgm@gnu.org>\n\n\tFix running tests in without-modules builds\n\n\t* test/Makefile.in (EMACSOPT): Remove option that is only defined\n\twith-modules.  emacs-module-tests.el passes it where needed.\n\n2017-06-13  Glenn Morris  <rgm@gnu.org>\n\n\t* test/Makefile.in (src/emacs-module-tests.log): Out-of-tree fix.\n\n2017-06-13  Philipp Stephani  <phst@google.com>\n\n\tInline test module Makefile into main test Makefile\n\n\tThe test/data/emacs-module/Makefile only built a single target, and\n\tinlining it into test/Makefile simplifies dependency tracking and\n\treduces code duplication.\n\n\t* configure.ac: Don't build test/data/emacs-module/Makefile.\n\n\t* Makefile.in ($(test_module)): Inline compilation.\n\t(clean): Also clean test module outputs.\n\n2017-06-13  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* lisp/net/tramp-sh.el (tramp-set-file-uid-gid): Do not handle locally on w32.\n\n2017-06-13  Michael Albinus  <michael.albinus@gmx.de>\n\n\tMinor tweaks in Tramp manual\n\n\t* doc/misc/trampver.texi: Add prefixwithspace flag.\n\n\t* doc/misc/tramp.texi (Password handling): Harmonize example.\n\t(File name completion): Use prefixwithspace flag.\n\t(Frequently Asked Questions): Explain `tramp-histfile-override'.\n\n2017-06-13  Philipp Stephani  <phst@google.com>\n\n\tSilence two Clang warnings by introducing additional local variables\n\n\t* lib/strftime.c (libc_hidden_def):\n\t* lib-src/make-docfile.c (put_filename): Introduce local variables to\n\tsilence Clang warnings.\n\n2017-06-13  Noam Postavsky  <npostavs@gmail.com>\n\n\tFix wrong indentation after string literal (Bug#27306)\n\n\t* lisp/emacs-lisp/lisp-mode.el (lisp-indent-state)\n\t(lisp-indent-calc-next): Remove `depth' field, use (car ppss) instead.\n\t* test/lisp/emacs-lisp/lisp-mode-tests.el\n\t(lisp-indent-region-after-string-literal): New test.\n\n2017-06-13  Philipp Stephani  <phst@google.com>\n\n\tFix version checks for emacs-module.h\n\n\tWe don't need C11 or C++11 because stdbool.h is in C99, and for C++ we\n\tdon't need it at all.\n\n2017-06-13  Noam Postavsky  <npostavs@gmail.com>\n\n\tButtonize #<bytecode> part of printed functions (Bug#25226)\n\n\t* lisp/emacs-lisp/cl-print.el: Autoload `disassemble-1'.\n\t(cl-print-compiled-button): New variable.\n\t(help-byte-code): New button type, calls `disassemble' in its action.\n\t(cl-print-object): Use it if `cl-print-compiled-button' is\n\tnon-nil.\n\n2017-06-12  Philipp Stephani  <phst@google.com>\n\n\tPrint module structure sizes when initializing test module\n\n\t* test/data/emacs-module/mod-test.c (emacs_module_init): Print\n\tcompile-time and runtime sizes of module structures to ease debugging\n\n2017-06-12  Glenn Morris  <rgm@gnu.org>\n\n\tSmall portability fix for emacs-module.h (bug#27346)\n\n\t* src/emacs-module.h (EMACS_ATTRIBUTE_NONNULL) [!__has_attribute]:\n\tAvoid 'error: missing binary operator before token \"(\"'.\n\n2017-06-12  Glenn Morris  <rgm@gnu.org>\n\n\tGive a more informative failure in module assertion test\n\n\t* test/src/emacs-module-tests.el (module--test-assertions):\n\tRephrase final check to give a more informative failure.\n\n2017-06-12  Philipp Stephani  <phst@google.com>\n\n\tFix off-by-one error\n\n\t* test/data/emacs-module/mod-test.c (emacs_module_init): Fix\n\toff-by-one error.\n\n2017-06-12  Glenn Morris  <rgm@gnu.org>\n\n\tClean up after module assertion tests\n\n\t* test/src/emacs-module-tests.el (module--test-assertions):\n\tUse a temporary directory to contain any core dumps.\n\n2017-06-12  Glenn Morris  <rgm@gnu.org>\n\n\tSmall improvement for module assertion test\n\n\t* test/src/emacs-module-tests.el (module--test-assertions):\n\tDon't rely on the precise form of an \"Abort\" message.\n\n2017-06-12  Glenn Morris  <rgm@gnu.org>\n\n\tImprove previous test/data/emacs-module/Makefile change\n\n\t* test/data/emacs-module/Makefile.in (clean):\n\tAvoid doing unpleasant things if run in a build without modules.\n\n2017-06-12  Glenn Morris  <rgm@gnu.org>\n\n\tSmall improvements for test/data/emacs-module/Makefile\n\n\t* test/data/emacs-module/Makefile.in (%.o):\n\tFix emacs-module dependency.\n\t(SECONDARY): Stop make automatically deleting *.o.\n\t(clean): New rule.\n\n2017-06-12  Glenn Morris  <rgm@gnu.org>\n\n\t* make-dist: Skip some more generated files in test/.\n\n2017-06-12  Alan Third  <alan@idiocy.org>\n\n\tNote how fullscreen differs on the NS port\n\n\tdoc/lispref/frames.texi (Size Parameters):\n\tdoc/emacs/frames.texi (Tool Bars): Add a description of how macOS\n\thides the tool-bar and menu-bar in fullscreen.\n\n2017-06-12  Alan Third  <alan@idiocy.org>\n\n\tAdd no-focus-on-map to NS build (bug#25408)\n\n\t* src/nsfns.m (ns_frame_parm_handlers): Add x_set_no_focus_on_map.\n\t(x-create-frame): Check for no-focus-on-map.\n\t* src/nsterm.h (x_set_no_focus_on_map): New function.\n\t* src/nsterm.m (x_set_no_focus_on_map): New function.\n\t(ns_raise_frame): Add parameter for specifying whether to focus the\n\tframe.\n\t(ns_frame_raise_lower):\n\t(x_make_frame_visible): Handle new parameter for ns_raise_frame.\n\n2017-06-12  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t_Noreturn not noreturn\n\n\t_Noreturn is more portable to non-C11 platforms.  See:\n\thttps://www.gnu.org/software/gnulib/manual/html_node/stdnoreturn_002eh.html\n\t* src/emacs-module.c: Use _Noreturn, not noreturn.  No need to\n\tinclude <stdnoreturn.h>.  Reindent to fit in 80 columns.\n\n2017-06-12  Glenn Morris  <rgm@gnu.org>\n\n\tUpdate make-dist for recent test/ changes\n\n\t* make-dist: No longer distribute test/data/emacs-module/Makefile.\n\n2017-06-12  Michael Albinus  <michael.albinus@gmx.de>\n\n\tHandle port and domain in Tramp's password cache\n\n\t* doc/misc/tramp.texi (Password handling): Explain port and\n\tdomain handling in authinfo.\n\n\t* lisp/net/tramp.el (tramp-process-actions, tramp-clear-passwd):\n\t* lisp/net/tramp-gvfs.el (tramp-gvfs-handler-askpassword):\n\t* lisp/net/tramp-sh.el (tramp-do-copy-or-rename-file-out-of-band)\n\t(tramp-maybe-open-connection):\n\t* lisp/net/tramp-smb.el (tramp-smb-handle-copy-directory)\n\t(tramp-smb-handle-file-acl, tramp-smb-handle-set-file-acl)\n\t(tramp-smb-maybe-open-connection): Handle also domain and port.\n\n2017-06-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid compilation warnings with pre-C99 libc\n\n\t* src/emacs-module.c (module_free_global_ref)\n\t(module_assert_runtime, module_assert_env, value_to_lisp): Use 'pD'\n\tinstead of C99 't' format descriptor.\n\n2017-06-12  Philipp Stephani  <phst@google.com>\n\n\tFlush all output streams before aborting\n\n\tMaybe the stdout buffer still contains something interesting that\n\tshould be flushed.\n\n\t* src/emacs-module.c (module_abort): Flush all output streams before\n\taborting.\n\n2017-06-12  Philipp Stephani  <phst@google.com>\n\n\tRemove an assertion that doesn't test Emacs invariants\n\n\t* src/emacs-module.c (module_copy_string_contents): Remove an\n\tassertion that doesn't test Emacs invariants.\n\n2017-06-12  Philipp Stephani  <phst@google.com>\n\n\tTest module: add necessary version checks\n\n\t* test/data/emacs-module/mod-test.c (emacs_module_init): Add necessary\n\tversion checks.\n\n2017-06-12  Philipp Stephani  <phst@google.com>\n\n\tUse additional CFLAGS from configure\n\n2017-06-12  Philipp Stephani  <phst@google.com>\n\n\tUse Autoconf to generate the test module Makefile\n\n\tThis makes it easier to pass compilation flags around.\n\n\t* configure.ac: Also build test module Makefile.\n\n\t* test/data/emacs-module/Makefile.in: New makefile template.\n\n\t* test/Makefile.in ($(test_module)): No longer necessary to pass\n\t@MODULES_SUFFIX@ around.\n\n\t* .gitignore: Test module Makefile can now be ignored.\n\n2017-06-12  Philipp Stephani  <phst@google.com>\n\n\tAlso compile test module as C11\n\n\t* test/data/emacs-module/Makefile (CFLAGS): Compile test module as C11\n\n2017-06-12  Philipp Stephani  <phst@google.com>\n\n\tImplement module assertions for users\n\n\tAdd a new command-line option '-module-assertions' that users can\n\tenable developing or debugging a module.  If this option is present,\n\tEmacs performs additional checks to verify that modules fulfill their\n\trequirements.  These checks are expensive and crash Emacs if modules\n\tare invalid, so disable them by default.\n\n\tThis is a command-line option instead of an ordinary variable because\n\tchanging it while Emacs is running would cause data structure\n\timbalances.\n\n\t* src/emacs.c (main): New command line option '-module-assertions'.\n\n\t* src/emacs-module.c (module_assert_main_thread)\n\t(module_assert_runtime, module_assert_env, module_assert_value):\n\tNew functions to assert module requirements.\n\t(syms_of_module): New uninterned variable 'module-runtimes'.\n\t(init_module_assertions, in_main_thread, module_abort): New helper\n\tfunctions.\n\t(initialize_environment): Initialize value list.  If assertions are\n\tenabled, use a heap-allocated environment object.\n\t(finalize_environment): Add assertion that environment list is never\n\tempty.\n\t(finalize_runtime_unwind): Pop module runtime object stack.\n\t(value_to_lisp): Assert that the value is valid.\n\t(lisp_to_value): Record new value if assertions are enabled.\n\t(mark_modules): Mark allocated object list.\n\t(MODULE_FUNCTION_BEGIN_NO_CATCH)\n\t(module_non_local_exit_check, module_non_local_exit_clear)\n\t(module_non_local_exit_get, module_non_local_exit_signal)\n\t(module_non_local_exit_throw): Assert thread and environment.\n\t(module_get_environment): Assert thread and runtime.\n\t(module_make_function, module_funcall, module_intern)\n\t(module_funcall, module_make_integer, module_make_float)\n\t(module_make_string, module_make_user_ptr, module_vec_get)\n\t(funcall_module, Fmodule_load): Adapt callers.\n\t(module_make_global_ref): If assertions are enabled, use the global\n\tenvironment to store global values.\n\t(module_free_global_ref): Remove value from global value list.\n\n\t* test/Makefile.in (EMACSOPT): Enable module assertions when testing\n\tmodules.\n\n\t* test/data/emacs-module/mod-test.c (Fmod_test_invalid_store)\n\t(Fmod_test_invalid_load): New functions to test module assertions.\n\t(emacs_module_init): Bind the new functions.\n\n\t* test/src/emacs-module-tests.el (mod-test-emacs): New constant for\n\tthe Emacs binary file.\n\t(mod-test-file): New constant for the test module file name.\n\t(module--test-assertions): New unit test.\n\n2017-06-12  Philipp Stephani  <phst@google.com>\n\n\temacs-module: Use __attribute__((nonnull))\n\n\tAnnotate all parameters with __attribute__((nonnull)) that may not be\n\tNULL.\n\n2017-06-12  Philipp Stephani  <phst@google.com>\n\n\tExplicitly require C11 or C++11 in emacs-module.h\n\n\tWe already implicitly require them by including stdbool.h.  Just make\n\tthe error message a bit clearer, and remove an unnecessary version\n\tcomparison.\n\n2017-06-12  Philipp Stephani  <phst@google.com>\n\n\tAdd missing 'require' forms to prevent compiler warnings.\n\n\t* lisp/eshell/esh-ext.el (esh-arg, esh-proc): Add missing\n\trequirements.\n\n2017-06-12  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from gnulib\n\n\tThis incorporates:\n\t2017-06-11 getopt-posix: port to glibc 2.25.90\n\t2017-06-04 same-inode: port better to VMS 8.2 and later\n\t* doc/misc/texinfo.tex, lib/getopt-pfx-core.h, lib/getopt-pfx-ext.h:\n\t* m4/sys_types_h.m4: Copy from gnulib.\n\n2017-06-12  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRemove Lisp_Misc_Float\n\n\t* src/data.c (Ftype_of): Do not worry about Lisp_Misc_Float.\n\t* src/lisp.h (Lisp_Misc_Float): Remove.  This placeholder has been\n\tunused for two decades; if we ever want to change floats to be a\n\tmisc type we can bring it back then.\n\n2017-06-12  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMake two symbols private to emacs-module.c\n\n\t* src/lisp.h (allocate_module_function, XSET_MODULE_FUNCTION):\n\tMove from here ...\n\t* src/emacs-module.c: ... to here.\n\n2017-06-12  Glenn Morris  <rgm@gnu.org>\n\n\tMerge from origin/emacs-25\n\n\tda62c1532e4 (origin/emacs-25) Improve the documentation of filesets\n\n2017-06-12  Glenn Morris  <rgm@gnu.org>\n\n\tMerge from origin/emacs-25\n\n\te80f6a210b0 Describe problems with Microsoft Intellipoint\n\ta73ec1edb07 More accurate documentation of the ':box' face attribute\n\n2017-06-12  Glenn Morris  <rgm@gnu.org>\n\n\tMerge from origin/emacs-25\n\n\teaa00584ceb Improve documentation of 'gnutls-verify-error'\n\t908498cc01b ; etc/PROBLEMS: Describe GTK-related crashes on elementar...\n\t741daec617e ; Describe the problem with ksh when resizing shell window\n\n2017-06-11  Michael Albinus  <michael.albinus@gmx.de>\n\n\tSome further improvements for tramp-gvfs.el\n\n\t* lisp/net/tramp-gvfs.el (tramp-gvfs-handle-expand-file-name)\n\t(tramp-gvfs-get-file-attributes)\n\t(tramp-gvfs-maybe-open-connection): Handle davs? properly.\n\t(tramp-gvfs-handler-askquestion): Improve `yes-or-no-p' prompt.\n\tShow question also in batch mode.  Cache result.\n\n\t* test/lisp/net/tramp-tests.el (tramp-test24-file-name-completion):\n\tSupport completion for host names and ports.\n\n2017-06-11  Simen Heggest\u00f8yl  <simenheg@gmail.com>\n\n\tFix highlighting of CSS selectors with double hyphens\n\n\t* lisp/textmodes/css-mode.el (css--font-lock-keywords): Fix\n\thighlighting of selectors that contain double hyphens.  They would be\n\tmistaken for a variable.\n\n2017-06-11  Philipp Stephani  <phst@google.com>\n\n\tSupport threads in modules\n\n\tRather than checking for the main thread, check for the current\n\tthread.\n\n\t* src/emacs-module.c (check_thread): New function.\n\t(MODULE_FUNCTION_BEGIN_NO_CATCH, module_get_environment)\n\t(module_non_local_exit_check, module_non_local_exit_clear)\n\t(module_non_local_exit_get, module_non_local_exit_signal)\n\t(module_non_local_exit_throw, module_is_not_nil, module_eq): Use it.\n\n2017-06-11  Philipp Stephani  <phst@google.com>\n\n\tAllow non-local exits in module initializers\n\n\tPreviously signals, throws, and quits from module initialization\n\tfunctions were ignored.  These function aren't special, and better\n\terrors can be reported using signals than with the initialization\n\treturn code, so allow non-local exits.\n\n\t* src/emacs-module.c (module_signal_or_throw): New helper function.\n\t(Fmodule_load, funcall_module): Use it.\n\t(Fmodule_load): Also allow quitting.\n\n2017-06-11  Noam Postavsky  <npostavs@gmail.com>\n\n\tLet eshell/sudo handle absolute command names (Bug#27167)\n\n\t* lisp/eshell/esh-ext.el (eshell-find-interpreter): Don't change\n\tabsolute paths into relative ones.\n\n2017-06-10  Alan Third  <alan@idiocy.org>\n\n\tDon't wait for toolbar in NS native fullscreen\n\n\t* src/nsterm.m (EmacsView:updateFrameSize): Don't short-circuit the\n\tfunction when in fullscreen.\n\n2017-06-10  Alexander Gramiak  <agrambot@gmail.com>\n\n\tFix the placement of GTK menus on multi-monitor systems\n\n\tmenu_position_func did not properly use the current monitor's\n\tresolution.  Also see commit '2016-02-06 22:12:53 +0100'.\n\n\t* lisp/frame.el (frame-monitor-attribute, frame-monitor-geometry)\n\t(frame-monitor-workarea): New functions.\n\n\t* src/xmenu.c (menu_position_func): Take into account the workarea of\n\tthe monitor that contains the mouse.  (Bug#23568)\n\n2017-06-10  Eli Zaretskii  <eliz@gnu.org>\n\n\tClarify documentation of 'face-spec-set'\n\n\t* lisp/faces.el (face-spec-set): Clarify the description of\n\tSPEC-TYPE in the doc string.\n\n\t* doc/lispref/display.texi (Defining Faces): Clarify the\n\tdescription of 'face-spec-set's SPEC-TYPE argument.  (Bug#27246)\n\n2017-06-10  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix domain port and handling in tramp-gvfs.el\n\n\t* lisp/net/tramp-gvfs.el (tramp-gvfs-dbus-byte-array-to-string):\n\tReturn nil if BYTE-ARRAY is nil.\n\t(tramp-gvfs-url-file-name, tramp-gvfs-handler-mounted-unmounted)\n\t(tramp-gvfs-connection-mounted-p, tramp-gvfs-mount-spec):\n\tFix domain and port handling.\n\n\t* lisp/net/tramp.el (tramp-handle-file-name-case-insensitive-p):\n\tIgnore errors.\n\n2017-06-10  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of 'face-spec-set-2'\n\n\t* lisp/faces.el (face-spec-recalc, face-spec-set-2): Rename 'spec'\n\tto 'face-attrs'.\n\t(face-spec-choose, face-spec-set-2): Doc fix.  (Bug#27238)\n\n2017-06-10  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix handling of Python/Guile commands with arguments in gdb-mi.el\n\n\t* lisp/progmodes/gdb-mi.el (gdb-python-guile-commands-regexp): New\n\tvariable.\n\t(gdb-control-commands-regexp): Use it.\n\t(gdb-send): Don't increment gdb-control-level if the command\n\tmatches gdb-python-guile-commands-regexp and has non-empty\n\targuments.  Reported by David Boles <boles@ieee.org> in\n\thttps://lists.gnu.org/r/emacs-devel/2017-06/msg00009.html.\n\n2017-06-10  Eli Zaretskii  <eliz@gnu.org>\n\n\tPreserve point in Dired windows under 'dired-auto-revert-buffer'\n\n\t* lisp/dired.el (dired-find-file): When dired-auto-revert-buffer\n\tis non-nil, bind switch-to-buffer-preserve-window-point to nil\n\twhile calling find-file.  (Bug#27243)\n\n2017-06-09  Philipp Stephani  <phst@google.com>\n\n\tGive test files a -tests.el suffix\n\n\tRename a couple of test files that have the same name as the library\n\tthey test.  This harmonizes the naming pattern and makes it possible\n\tto have the tests directories in the load path.\n\n2017-06-09  Philipp Stephani  <phst@google.com>\n\n\tFix another compiler warning on macOS\n\n\t* src/image.c (x_query_frame_background_color): Don't define if we\n\thave NextStep but no image support.\n\n2017-06-09  Philipp Stephani  <phst@google.com>\n\n\tAdd garbage collection support for module environments\n\n\t* src/emacs-module.c (mark_modules): New function.\n\t(initialize_environment): Properly initialize Lisp objects.\n\t* src/alloc.c (garbage_collect_1): Call it.\n\n2017-06-08  Glenn Morris  <rgm@gnu.org>\n\n\tMake autogen.sh report relevant environment variables\n\n\t* autogen.sh (check_version):\n\tIndicate if using an environment variable.\n\n2017-06-08  Noam Postavsky  <npostavs@gmail.com>\n\n\tSplit variable macro env from function env\n\n\t* lisp/emacs-lisp/cl-macs.el (cl--sm-macroexpand): Remove.\n\t(cl-symbol-macrolet): Instead of adding each binding directly into the\n\tmain environment with a special key format, put all symbol macro\n\tbindings into a single entry in the main environment under\n\t`:cl-symbol-macros'.\n\t(cl--sm-macroexpand): Look up symbol bindings in the\n\t`:cl-symbol-macros' entry of the environment.\n\n2017-06-07  Glenn Morris  <rgm@gnu.org>\n\n\t* make-dist: Directory modules/mod-test no longer exists.\n\n2017-06-07  Glenn Morris  <rgm@gnu.org>\n\n\tMore authors.el updates\n\n\t* admin/authors.el (authors-ignored-files, authors-valid-file-names)\n\t(authors-renamed-files-alist): Additions.\n\n2017-06-07  Glenn Morris  <rgm@gnu.org>\n\n\t* make-dist: Check a release has a ChangeLog with a release notice.\n\n\t* make-dist: Use existing ChangeLog if present.\n\n2017-06-07  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* lisp/net/tramp-sh.el (tramp-maybe-open-connection): Fix port handling.\n\n2017-06-07  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\t(url-cookie-host-can-set-p): Protect against zero-length domains\n\n\t* lisp/url/url-cookie.el (url-cookie-host-can-set-p): Protect\n\tagainst zero-length domains.\n\n\tBacktrace of a real-world site that triggers a bug:\n\n\tDebugger entered--Lisp error: (args-out-of-range \"\" 0)\n\t  url-cookie-host-can-set-p(\"www.washingtonpost.com\" \"\")\n\t  url-cookie-handle-set-cookie(\"utm_term=0;Expires=Thursday,\n\t  01-January-1970 00:00:00 GMT; path=/; domain=\")\n\t  url-http-handle-cookies()\n\n2017-06-06  Glenn Morris  <rgm@gnu.org>\n\n\tMore authors.el updates\n\n\t* admin/authors.el (authors-obsolete-files-regexps)\n\t(authors-valid-file-names, authors-renamed-files-alist)\n\t(authors-renamed-files-regexps): Additions.\n\n2017-06-06  Glenn Morris  <rgm@gnu.org>\n\n\tMore small authors.el updates\n\n\t* admin/authors.el (authors-aliases): Fix recent addition.\n\t(authors-obsolete-files-regexps, authors-no-scan-regexps)\n\t(authors-ignored-files, authors-valid-file-names)\n\t(authors-renamed-files-alist): Additions.\n\n2017-06-06  Glenn Morris  <rgm@gnu.org>\n\n\tMake authors.el report names that were ignored\n\n\t* admin/authors.el (authors-ignored-names): New.\n\t(authors-canonical-author-name): Add file and position arguments.\n\tRecord ignored authors.\n\t(authors-scan-change-log, authors-scan-el):\n\tPass file and position to authors-canonical-author-name.\n\t(authors): Also print authors that were ignored.\n\n2017-06-06  Glenn Morris  <rgm@gnu.org>\n\n\t* admin/authors.el (authors-aliases): Additions.\n\n2017-06-06  Tino Calancha  <tino.calancha@gmail.com>\n\n\t* test/lisp/subr-tests.el (subr-tests-bug22027): Add test.\n\n2017-06-06  Noam Postavsky  <npostavs@gmail.com>\n\n\t* lisp/subr.el (read-passwd): Don't delete return value (Bug#22027).\n\n2017-06-06  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tEnable ElDoc messages after the newline command\n\n\t* lisp/emacs-lisp/eldoc.el:\n\tAdd \"newline\" to the eldoc-add-command-completions call (bug#27228).\n\n2017-06-06  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tEnable eldoc-mode explicitly inside read--expression\n\n\t* lisp/simple.el (read--expression): Call eldoc-mode (bug#27202).\n\n2017-06-06  Andy Moreton  <andrewjmoreton@gmail.com>\n\n\tFix check for package-unsigned-archives during retrieval\n\n\t* lisp/emacs-lisp/package.el (package--download-one-archive):\n\tFix check for package-unsigned-archives.\n\n2017-06-05  Noah Friedman  <friedman@splode.com>\n\n\tMerge etc/emacs-buffer.gdb from emacs-25 to master.\n\n2017-06-05  Philipp Stephani  <phst@google.com>\n\n\tFix undefined behavior in mapbacktrace\n\n\t* src/eval.c (Fmapbacktrace): Don't assume that PDL is still valid.\n\n2017-06-05  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix emacs-module-tests on MS-Windows\n\n\t* src/print.c (print_vectorlike): Make sure module function's\n\taddress prints with a leading \"0x\".  This fixes emacs-module-tests\n\ton MS-Windows.  Fix whitespace.\n\t* src/dynlib.c (dynlib_addr): Remove unused variable.  Update\n\tcommentary.\n\n2017-06-05  Philipp Stephani  <phst@google.com>\n\n\tUse unwind protection to clean up data structures in modules\n\n\tReuse existing functionality and simplify the code a bit.\n\n\t* src/emacs-module.c (Fmodule_load): Use unwind protection to clean up\n\truntime object.\n\t(funcall_module): Use unwind protection to clean up environment\n\tobject.\n\t(finalize_environment): Simplify signature.\n\t(finalize_environment_unwind, finalize_runtime_unwind): New functions.\n\n2017-06-05  Michael Albinus  <michael.albinus@gmx.de>\n\n\tSome minor tweaks in tramp-tests.el\n\n\t* test/lisp/net/tramp-tests.el (tramp-test05-expand-file-name-relative):\n\tLet it pass for all gfvs based methods.\n\t(tramp-test24-file-name-completion): Run method and host\n\tcompletion for all syntaxes only when expensive tests are enabled.\n\tDo not check host completion for gvfs based methods.\n\t(tramp--test-gvfs-p): Add optional METHOD argument.\n\t(tramp--test-afp-or-smb-p): Remove.\n\n2017-06-05  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix error in Tramp rsync method\n\n\t* lisp/net/tramp-sh.el (tramp-methods) <rsync>: Add \"-c\" argument.\n\tOtherwise, `tramp-test10-write-region' could fail.\n\n2017-06-05  Philipp Stephani  <phst@google.com>\n\n\tInline module_has_cleanup\n\n\tThis constant is only used once, and we fail compilation anyway if\n\tit's false.\n\n\t* src/emacs-module.c (MODULE_SETJMP_1): Inline __has_attribute.\n\n2017-06-05  Philipp Stephani  <phst@google.com>\n\n\tAdd missing dependency to test module source file\n\n2017-06-05  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tOmit space that broke \u2018make check\u2019\n\n\t* src/print.c (print_vectorlike): Omit stray space.\n\n2017-06-05  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRemove easserts etc. from emacs-module.c\n\n\tMost of these seem to run afoul of the comment \"Do NOT use\n\t'eassert' for checking validity of user code in the module.\"\n\t* src/emacs-module.c (MODULE_FUNCTION_BEGIN_NO_CATCH)\n\t(module_non_local_exit_check, module_non_local_exit_clear)\n\t(module_non_local_exit_get, module_non_local_exit_signal)\n\t(module_non_local_exit_throw, module_make_string):\n\tRemove unnecessary easserts that pointers are nonnull.\n\tHardware checks this for us nowadays, and the checks\n\tjust clutter up the code.\n\t(module_extract_integer): Remove unnecessary verify that\n\ta C signed integer is in the range INTMAX_MIN..INTMAX_MAX.\n\tThe C standard guarantees this.\n\t(module_copy_string_contents): Remove unnecessary eassert\n\tthat Lisp strings are null-terminated.\n\t(module_function_arity): Remove unnecessary easserts that\n\tfunction arities are in range.\n\n2017-06-05  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRemove unnecessary checking in emacs-module.c\n\n\t* src/emacs-module.c (module_copy_string_contents):\n\tRemove checking, as string lengths are always nonnegative and less\n\tthan STRING_BYTES_BOUND, and this is checked elsewhere.\n\t(module_make_string): Check length against STRING_BYTES_BOUND, a\n\ttighter bound than MOST_POSITIVE_FIXNUM.  (funcall_module): Don't\n\tassume that an out-of-range integer is nonnegative.\n\n2017-06-05  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSCHARS and STRING_BYTES are nonnegative\n\n\tTell the compiler that SCHARS and STRING_BYTES are nonnegative, in\n\tthe hopes that this will optimize a bit better.  Also, check this\n\tat runtime if ENABLE_CHECKING.\n\t* src/lisp.h (SCHARS, STRING_BYTES):\n\teassume that these functions return nonnegative values.\n\t(STRING_SET_CHARS) [ENABLE_CHECKING]:\n\teassert that newsize is nonnegative.\n\n2017-06-05  Noam Postavsky  <npostavs@gmail.com>\n\n\t* lisp/desktop.el (desktop-clear): Skip the daemon's frame (Bug#26912).\n\n2017-06-04  Philipp Stephani  <phst@google.com>\n\n\tRemove an unused error symbol\n\n\t* src/emacs-module.c (syms_of_module): Remove unused error symbol\n\t'invalid-module-call'.\n\n2017-06-04  Philipp Stephani  <phst@google.com>\n\n\tSupport quitting in modules\n\n\tThe idea is that modules should call env->should_quit from time to\n\ttime and return as quickly as possible if it returns true.\n\n\t* src/emacs-module.c (module_should_quit): New module function.\n\t(initialize_environment): Use it.\n\t(funcall_module): Process potential pending quit.\n\n\t* src/eval.c (maybe_quit): Add reference to module_should_quit.\n\n2017-06-04  Philipp Stephani  <phst@google.com>\n\n\tUse more specific errors for module load failure\n\n\t* src/emacs-module.c (syms_of_module): Add more specific error\n\tsymbols.\n\t(Fmodule_load): Use them.\n\n2017-06-04  Philipp Stephani  <phst@google.com>\n\n\tRemove an unneeded assertion\n\n\t* src/emacs-module.c (module_copy_string_contents): Remove unneeded\n\tassertion.  If this assertion triggers, we raise an error anyway.\n\n2017-06-04  Philipp Stephani  <phst@google.com>\n\n\tGuard against signed integer overflows\n\n\t* src/emacs-module.c (module_extract_integer)\n\t(module_copy_string_contents, module_make_string): Guard against\n\tsigned integer overflows.\n\n2017-06-04  Philipp Stephani  <phst@google.com>\n\n\tAdd a couple more assertions to the module code\n\n\tThese can help module authors debug crashes.\n\n\t* src/emacs-module.c (module_non_local_exit_check)\n\t(module_non_local_exit_clear, module_non_local_exit_get)\n\t(module_non_local_exit_signal, module_non_local_exit_throw)\n\t(module_copy_string_contents, module_make_string)\n\t(funcall_module, initialize_environment): Add assertions\n\n2017-06-04  Philipp Stephani  <phst@google.com>\n\n\tUse ATTRIBUTE_MAY_ALIAS where alias violations are likely\n\n\tIn particular, alias violations are likely for the return values of\n\tdlsym(3), which get cast around arbitrarily.\n\n\t* src/emacs-module.c (Fmodule_load): Use ATTRIBUTE_MAY_ALIAS.\n\n2017-06-04  Philipp Stephani  <phst@google.com>\n\n\tSimplify interface of dynlib_attr.\n\n\tInstead of returning bool, set the argument pointers to NULL if the\n\tinformation is not available.\n\n\t* src/dynlib.c (dynlib_addr): Don't return bool.\n\n2017-06-04  Philipp Stephani  <phst@google.com>\n\n\tRationalize environment lifetime management functions\n\n\t* src/emacs-module.c (Fmodule_load, funcall_module): Adapt callers.\n\t(finalize_environment): Add parameter for public part of the\n\tenvironment, like 'initialize_environment'.  Add assertions.\n\n2017-06-04  Philipp Stephani  <phst@google.com>\n\n\tRework printing of module functions\n\n\tFix a FIXME in emacs-module.c.  Put the printing into print.c, like\n\tother types.\n\n\t* src/print.c (print_vectorlike): Add code to print module functions.\n\n\t* src/emacs-module.c (funcall_module): Stop calling\n\t'module_format_fun_env'.  Now that module functions are first-class\n\tobjects, they can be added to signal data directly.\n\t(module_handle_signal): Remove now-unused function\n\t'module_format_fun_env'.\n\n\t* test/src/emacs-module-tests.el (mod-test-sum-test): Adapt unit test.\n\n\t* src/eval.c (funcall_lambda): Adapt call to changed signature of\n\t'funcall_module'.\n\n2017-06-04  Philipp Stephani  <phst@google.com>\n\n\tDefine helper macro to reduce code duplication\n\n\t* src/emacs-module.c (MODULE_FUNCTION_BEGIN_NO_CATCH): New helper\n\tmacro.\n\t(MODULE_FUNCTION_BEGIN, module_type_of, module_is_not_nil, module_eq):\n\tUse it.\n\n2017-06-04  Philipp Stephani  <phst@google.com>\n\n\tRemove two FIXMEs that can't be fixed\n\n2017-06-04  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid slow startup in daemon mode when global-linum-mode is on\n\n\t* lisp/linum.el (linum-on): Don't turn on linum-mode in a\n\tnon-client frame of a daemon session.  (Bug#27210)\n\n2017-06-04  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix eldoc bug with curved quote\n\n\t* lisp/progmodes/elisp-mode.el (elisp-get-fnsym-args-string):\n\tSubstitute quotes in documentation before returning it (Bug#27159).\n\n2017-06-04  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tTune \u2018format\u2019 after recent fix\n\n\t* doc/lispref/strings.texi (Formatting Strings):\n\t* src/editfns.c (Fformat): Format field numbers no longer need\n\tto be unique, reverting the previous doc change since that has\n\tnow been fixed.  Also, document that %% should not have modifiers.\n\t* src/editfns.c (styled_format): Improve performance.  Remove\n\tthe need for the new prepass over the format string, by using\n\ta typically-more-generous bound for the info array size.\n\tInitialize the info array lazily.  Move string inspection to\n\tthe same area to help caching.  Avoid the need for a\n\tconverted_to_string bitfield by using EQ.  Cache arg in a\n\tlocal and avoid some potential aliasing issues to help the\n\tcompiler.  Info array is now 0-origin, not 1-origin.\n\n2017-06-04  Nikolay Kudryavtsev  <nikolay.kudryavtsev@gmail.com>\n\n\tImprove of file-local-name use in vc-git-checkin\n\n\t* lisp/vc/vc-git.el (vc-git-checkin): Use file-local-name only\n\twhen calling git commit.\n\n2017-06-03  Simen Heggest\u00f8yl  <simenheg@gmail.com>\n\n\tSupport a new CSS indentation style\n\n\t* lisp/textmodes/css-mode.el (css-smie-rules): Indent after property\n\timmediately followed by a newline.\n\n\t* test/manual/indent/css-mode.css: Add test for the change above.\n\n\t* test/manual/indent/scss-mode.scss: Ditto.\n\n2017-06-03  Philipp Stephani  <phst@google.com>\n\n\tFix a bug when using format field numbers\n\n\tPreviously styled_format overwrite the argument vector.  This is no\n\tlonger possible because there might be more than one specification per\n\targument.  Use the existing auxiliary info array instead.\n\n\t* src/editfns.c (styled_format): Record arguments in the info\n\tstructure instead of overwriting them.\n\t* test/src/editfns-tests.el (format-with-field): Add unit test.\n\n2017-06-03  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDocument uniqueness limitation of \u2018format\u2019\n\n\t* doc/lispref/strings.texi (Formatting Strings):\n\t* src/editfns.c (Fformat):\n\tDocument that field numbers should be unique within a format.\n\n2017-06-03  Glenn Morris  <rgm@gnu.org>\n\n\tSmall rmailmm fix (bug#27203)\n\n\t* lisp/mail/rmailmm.el (rmail-mime-insert-bulk):\n\tFall back to HOME if no match in rmail-mime-attachment-dirs-alist.\n\n2017-06-03  Glenn Morris  <rgm@gnu.org>\n\n\t* admin/authors.el (authors-aliases): Addition.\n\n2017-06-03  Glenn Morris  <rgm@gnu.org>\n\n\tAdd watch for password back to inferior python comint filter\n\n\tIt was removed along with other items for speed (bug#16875),\n\tbut doesn't seem to have been causing an issue, and it's useful to\n\thave it there (bug#27154).\n\t* lisp/progmodes/python.el (inferior-python-mode):\n\tAdd comint-watch-for-password-prompt to comint-output-filter-functions.\n\n2017-06-03  Ryan  <rct@thompsonclan.org>  (tiny change)\n\n\tUse completing-read-default in tmm-prompt\n\n\ttmm uses completing-read, but customizes its behavior so much\n\tthat any alternative completing-read-function will almost\n\tcertainly break it.  For example, both ido-ubiquitous and ivy have\n\tspecial code to deactivate themselves for tmm.\n\t* lisp/tmm.el (tmm-prompt): Use completing-read-default instead of\n\tcompleting-read.  (Bug#27193)\n\n2017-06-02  Mats Lidell  <mats.lidell@cag.se>\n\n\t* etc/tutorials/TUTORIAL.sv: synced with TUTORIAL (Bug#20371)\n\n2017-06-02  Glenn Morris  <rgm@gnu.org>\n\n\tFix with-todo-test\n\n\t* test/lisp/calendar/todo-mode-tests.el (with-todo-test):\n\tHOME should be a directory, not a file.  Delete it when finished.\n\n2017-06-02  Lele Gaifax  <lele@metapensiero.it>  (tiny change)\n\n\tUpdate TUTORIAL.it\n\n\t* etc/tutorials/TUTORIAL.it: Adjust to recent changes in TUTORIAL.\n\n2017-06-02  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix cursor position in Dired buffers after dired-sort-toggle\n\n\t* src/xdisp.c (display_and_set_cursor): Record cursor coordinates\n\teven if the frame is marked as garbaged.  (Bug#27187)\n\n2017-06-02  Eli Zaretskii  <eliz@gnu.org>\n\n\tUpdate TUTORIAL.he\n\n\t* etc/tutorials/TUTORIAL.he: Adjust to recent changes in TUTORIAL.\n\n2017-06-02  Noam Postavsky  <npostavs@gmail.com>\n\n\t* etc/tutorials/TUTORIAL: Explain how to stop the tutorial (Bug#20371).\n\n2017-06-02  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tLimit format fields to more POSIX-like spec\n\n\t* doc/lispref/strings.texi (Formatting Strings):\n\tDon\u2019t allow mixing numbered with unnumbered format specs.\n\t* src/editfns.c (styled_format): Don\u2019t bother checking for field 0,\n\tsince it doesn\u2019t crash and the behavior is not specified.\n\t* test/src/editfns-tests.el (format-with-field): Adjust tests to\n\tmatch current doc.  Add more tests for out-of-range fields.\n\n2017-06-02  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tImprove performance by avoiding strtoumax\n\n\tThis made (string-to-number \"10\") 20% faster on my old desktop,\n\tan AMD Phenom II X4 910e running Fedora 25 x86-64.\n\t* admin/merge-gnulib (GNULIB_MODULES): Remove strtoumax.\n\t* lib/gnulib.mk.in, m4/gnulib-comp.m4: Regenerate.\n\t* lib/strtoul.c, lib/strtoull.c, lib/strtoumax.c, m4/strtoull.m4:\n\t* m4/strtoumax.m4: Remove.\n\t* src/editfns.c (str2num): New function.\n\t(styled_format): Use it instead of strtoumax.  Use ptrdiff_t\n\tinstead of uintmax_t.  Check for integer overflow.\n\t* src/lread.c (LEAD_INT, DOT_CHAR, TRAIL_INT, E_EXP):\n\tMove to private scope and make them enums.\n\t(string_to_number): Compute integer value directly during\n\tfirst pass instead of revisiting it with strtoumax later.\n\n2017-06-02  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMinor improvements to format field numbers\n\n\t* src/editfns.c (styled_format): Allow field numbers in a %% spec.\n\tNo need for a special diagnostic for field numbers greater than\n\tPTRDIFF_MAX.  Reword diagnostic for field 0.\n\t* test/src/editfns-tests.el (format-with-field): Adjust to match.\n\n2017-06-02  Philipp Stephani  <phst@google.com>\n\n\tImplement field numbers in format strings\n\n\tA field number explicitly specifies the argument to be formatted.\n\tThis is especially important for potential localization work, since\n\tgrammars of various languages dictate different word orders.\n\n\t* src/editfns.c (Fformat): Update documentation.\n\t(styled_format): Implement field numbers.\n\n\t* doc/lispref/strings.texi (Formatting Strings): Document field numbers.\n\n\t* lisp/emacs-lisp/bytecomp.el (byte-compile-format-warn): Adapt.\n\n\t* test/src/editfns-tests.el (format-with-field): New unit test.\n\n2017-06-01  Alexander Gramiak  <agrambot@gmail.com>\n\n\tLimit scope of local overriding-terminal-local-map\n\n\tThe function `binding' may call isearch-done, which globally sets\n\toverriding-terminal-local-map to nil (Bug#23007).\n\t* lisp/isearch.el (isearch-mouse-2): Don't bind\n\toverriding-terminal-local-map around the call to `binding'.\n\n2017-06-01  Stephen Berman  <stephen.berman@gmx.net>\n\n\tCorrect and isolate the todo-mode test environment\n\n\tThis avoids having to set todo-mode variables globally in the test\n\tfile and prevents any exisiting user todo-mode files from influencing\n\tthe tests.\n\n\t* test/lisp/calendar/todo-mode-tests.el:\n\t(with-todo-test): New macro.\n\t(todo-test-todo-quit01, todo-test-todo-quit02)\n\t(todo-test-item-highlighting): Use it.\n\n2017-06-01  Alan Third  <alan@idiocy.org>\n\n\tFix build errors on macOS 10.6 (bug#27059)\n\n\t* src/nsfns.m (compute_tip_xy): Don't use CGRectContainsPoint.\n\n2017-06-01  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove testing of octal and hex display of raw bytes\n\n\t* test/manual/redisplay-testsuite.el (test-redisplay-5-toggle)\n\t(test-redisplay-5): Add a test with a large codepoint.\n\n2017-06-01  Vasilij Schneidermann  <mail@vasilij.de>\n\n\tAdd customizable to display raw bytes as hex\n\n\t* src/xdisp.c (get_next_display_element): Dispatch used format string\n\tfor unprintables based on new display-raw-bytes-as-hex variable.\n\t(display-raw-bytes-as-hex): New variable.  (Bug#27122)\n\n\t* lisp/cus-start.el: Add defcustom form for display-raw-bytes-as-hex.\n\n\t* doc/emacs/display.texi: Document the new variable.\n\t* etc/NEWS: Mention display-raw-bytes-as-hex.\n\n\t* test/manual/redisplay-testsuite.el (test-redisplay-5-toggle)\n\t(test-redisplay-5): New tests.\n\t(test-redisplay): Call test-redisplay-5.\n\n2017-06-01  Eli Zaretskii  <eliz@gnu.org>\n\n\tRevert \"Add customizable to display raw bytes as hex\"\n\n\tThis reverts commit 7c9ac111c5e5d92e620b666893993d5dc562e483.\n\n2017-06-01  Eli Zaretskii  <eliz@gnu.org>\n\n\tAdd customizable to display raw bytes as hex\n\n\t* src/xdisp.c (get_next_display_element): Dispatch used format string\n\tfor unprintables based on new display-raw-bytes-as-hex variable.\n\t(display-raw-bytes-as-hex): New variable.  (Bug#27122)\n\n\t* lisp/cus-start.el: Add defcustom form for display-raw-bytes-as-hex.\n\n\t* doc/emacs/display.texi: Document the new variable.\n\t* etc/NEWS: Mention display-raw-bytes-as-hex.\n\n\t* test/manual/redisplay-testsuite.el (test-redisplay-5-toggle)\n\t(test-redisplay-5): New tests.\n\t(test-redisplay): Call test-redisplay-5.\n\n2017-06-01  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix linum under text-scaling when leuven-theme is used\n\n\t* etc/themes/leuven-theme.el (linum): Make the 'linum' face\n\tinherit from 'default' and 'shadow', so that margins are enlarged\n\tas expected under text-scaling.\n\n2017-06-01  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFree cwd when no longer needed\n\n\t* lib-src/emacsclient.c (main): Don\u2019t dally when freeing cwd.\n\n2017-06-01  Anders Waldenborg  <anders@0x63.nu>  (tiny change)\n\n\tFix memory leak of cwd string in emacsclient (Bug#26628)\n\n\t* lib-src/emacsclient.c (main): emacsclient retrieves the current\n\tworking directory using get_current_dir_name which returns a newly\n\tallocated string.  Make sure this string is freed before exiting.\n\n2017-06-01  Glenn Morris  <rgm@gnu.org>\n\n\tQuieten compilation of some test files\n\n\t* test/lisp/dired-tests.el (dired-test-bug25609): Mark unused args.\n\t* test/src/data-tests.el (binding-test-set-constant-t)\n\t(binding-test-set-constant-nil, binding-test-set-constant-keyword)\n\t(binding-test-set-constant-nil): Silence compiler.\n\t* test/src/regex-tests.el (regex-tests-BOOST): Escape char literal.\n\n2017-06-01  Glenn Morris  <rgm@gnu.org>\n\n\tUse true names for invocation- and source-directory\n\n\t* src/emacs.c (init_cmdargs) <Vinvocation_directory>:\n\t* src/lread.c (init_lread) <Vsource_directory>: Use true names.\n\n2017-06-01  Glenn Morris  <rgm@gnu.org>\n\n\tAvoid elisp-mode test failures when source dir has multiple names\n\n\t* test/lisp/progmodes/elisp-mode-tests.el (emacs-test-dir):\n\tUse the true name of the directory.\n\n2017-06-01  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix bug with \"%%\" in error format\n\n\t* src/doprnt.c (doprnt): Format \"%%\" correctly.\n\tProblem reported by Philipp Stephani in:\n\thttps://lists.gnu.org/r/emacs-devel/2017-05/msg00901.html\n\n2017-06-01  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* src/editfns.c (Fmessage): Improve doc string (Bug#23425#130).\n\n2017-06-01  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\tRevert mml-generate-mime-1 (bug#27141)\n\n\t* lisp/gnus/mml.el (mml-generate-mime-1): Reverted to emacs-25 version\n\twith slight modernizations (bug#27141).\n\n2017-05-31  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix Bug#27108\n\n\t* lisp/recentf.el (recentf-load-list): Bind `non-essential',\n\tin order to avoid Tramp password requests during Emacs\n\tstartup.  (Bug#27108)\n\n2017-05-31  Glenn Morris  <rgm@gnu.org>\n\n\t* test/Makefile.in (.SECONDARY): Stop make deleting .elc files.\n\n2017-05-31  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument current-line hscrolling in ELisp manual\n\n\t* doc/lispref/windows.texi (Horizontal Scrolling): Document the\n\tnew mode of auto-hscrolling only the current line.\n\n2017-05-31  Eli Zaretskii  <eliz@gnu.org>\n\n\tSupport lower bound on hscrolling when only current line scrolls\n\n\t* doc/emacs/display.texi (Horizontal Scrolling): Document the new\n\tmode of auto-hscrolling only the current line.\n\n\t* src/xdisp.c (init_iterator): When hscrolling only the\n\tcurrent line, apply the\twindow's min_hscroll here, so that\n\tnon-current lines will be hscrolled by that minimum.\n\tSuggested by Stephen Berman <stephen.berman@gmx.net>.\n\t(hscroll_window_tree): Account for window's min_hscroll when\n\tdeciding whether to recompute the hscroll.\n\t(display_line): Subtract window's min_hscroll from x_incr, as that\n\twas already accounted for in init_iterator.  (Bug#27008)\n\n2017-05-31  Noam Postavsky  <npostavs@gmail.com>\n\n\tcl-print: handle circular objects when `print-circle' is nil (Bug#27117)\n\n\t* lisp/emacs-lisp/cl-print.el (cl-print--currently-printing): New variable.\n\t(cl-print-object): When `print-circle' is nil, bind it to a list of\n\tobjects that are currently printing to avoid printing the same object\n\tendlessly.\n\t* test/lisp/emacs-lisp/cl-print-tests.el (cl-print-circle): New test.\n\n2017-05-31  Noam Postavsky  <npostavs@gmail.com>\n\n\tFurther simplify test/Makefile, optionally load elc tests\n\n\t* test/Makefile.in: Use make's error ignoring feature instead of\n\tsuppressing test errors with shell.  Compile test files in the main\n\tmake invocation instead of a recursive 'make' call.  Optionally load\n\t.elc test files if TEST_LOAD_EL is set to something other than 'yes'.\n\tRemove obsolete commentary.\n\n2017-05-31  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid inflooping in redisplay due to Spacemacs and linum-mode\n\n\t* src/xdisp.c (redisplay_internal): Limit the number of redisplay\n\tretries when a frame becomes garbaged as result of redisplaying\n\tit.  (Bug#27115)\n\n2017-05-31  Tino Calancha  <tino.calancha@gmail.com>\n\n\t* src/editfns.c (decode-time): Fix docstring.\n\n2017-05-31  Glenn Morris  <rgm@gnu.org>\n\n\t* admin/update_autogen: Remove bzr support.\n\n2017-05-31  Glenn Morris  <rgm@gnu.org>\n\n\tAvoid subr test failure when source dir has multiple names\n\n\t* test/lisp/subr-tests.el (subr-tests--this-file):\n\tUse the true name of the file.  The following test does a string\n\tcomparison of this value with that from method-files, which uses\n\tload-history, which contains true names.\n\n2017-05-31  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tExtract eldoc--supported-p\n\n\t* lisp/emacs-lisp/eldoc.el (eldoc--supported-p): New function.\n\t(turn-on-eldoc-mode, eldoc-mode): Use it.\n\t(https://lists.gnu.org/r/emacs-devel/2017-05/msg00865.html)\n\n2017-05-30  Glenn Morris  <rgm@gnu.org>\n\n\tMake \"make check\" less verbose by default\n\n\t* test/Makefile.in (AM_DEFAULT_VERBOSITY, AM_V_ELC, am__v_ELC_)\n\t(am__v_ELC_0, am__v_ELC_1, AM_V_GEN, am__v_GEN_, am__v_GEN_0)\n\t(am__v_GEN_1, AM_V_at, am__v_at_, am__v_at_0, am__v_at_1):\n\tNew, copied from lisp/Makefile.in.\n\t(%.elc, %.log): Simplify and quieten.\n\n2017-05-30  Alan Mackenzie  <acm@muc.de>\n\n\tMode line \"%q\" construct: Just use one number when both would be the same.\n\n\t* src/xdisp.c (decode_mode_spec): recode the \"%q\" bit appropriately.\n\n2017-05-30  Alan Mackenzie  <acm@muc.de>\n\n\tMerge branch 'master' of /home/acm/emacs/emacs.git/master\n\n2017-05-30  Alan Mackenzie  <acm@muc.de>\n\n\tc-defun-name: Return fully qualified method names when wanted in C++, etc.\n\n\t* lisp/progmodes/cc-cmds.el (c-defun-name): Use\n\tc-back-over-compound-identifier in place of c-backward-token-2 near the end\n\tof the function.\n\n2017-05-30  Glenn Morris  <rgm@gnu.org>\n\n\tReduce scope of recent test/Makefile HOME change\n\n\t* test/Makefile.in (%.log): Move setting of HOME here from top-level.\n\n2017-05-30  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSkip .#* temporaries when finding sources\n\n\tWithout this patch, \u2018make check\u2019 can fail with the diagnostic\n\t\u2018invalid syntax in conditional\u2019 if there is an Emacs temporary\n\tfile whose name starts with \u2018.#\u2019, because the \u2018#\u2019 is treated as\n\tthe start of a Make comment.\n\t* lisp/Makefile.in (loaddefs, tagsfiles, check-defun-deps):\n\t* test/Makefile.in (ELFILES):\n\tSkip files starting with \u2018.\u2019, so that the .#* files do not cause\n\ttrouble.  (We cannot easily skip just files starting with \u2018.#\u2019,\n\tsince \u2018#\u2019 starts a Make comment!)\n\n2017-05-30  Alan Mackenzie  <acm@muc.de>\n\n\tMerge branch 'master' of /home/acm/emacs/emacs.git/master\n\n2017-05-30  Alan Mackenzie  <acm@muc.de>\n\n\tFix the mouse help/key map on the \"%p\" part of the mode line.\n\n\t* lisp/bindings.el (mode-line-percent-position): give it a\n\t`risky-local-variable' property.\n\t(mode-line-position): correct the quoting on the mode-line-percent-position\n\tpart of the variable, allowing the properties to be properly recognized.\n\n2017-05-30  Alan Mackenzie  <acm@muc.de>\n\n\tFix the mouse help/key map on the \"%p\" part of the mode line.\n\n\t* lisp/bindings.el (mode-line-percent-position): give it a\n\t`risky-local-variable' property.\n\t(mode-line-position): correct the quoting on the mode-line-percent-position\n\tpart of the variable, allowing the properties to be properly recognized.\n\n2017-05-30  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from gnulib\n\n\t* build-aux/config.guess: Copy from gnulib.\n\t* lib/gnulib.mk.in: Regenerate.\n\n2017-05-30  Glenn Morris  <rgm@gnu.org>\n\n\tStop make check interacting with HOME\n\n\t* test/Makefile.in (HOME): Export a non-existent value.\n\n2017-05-30  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tUpdate .gitattributes to match sources better\n\n\t* .gitattributes: Remove nt/nmake.defs.  Move dostorture.c, c.C,\n\talgrthms.html.  Use pattern for todo-mode.  Improve patterns for\n\tAda, C, ObjC, shell.  Add Pascal.  Remove unused pattern *.ruby.\n\tAdd config.guess and config.sub as shell files.\n\n2017-05-30  Noam Postavsky  <npostavs@gmail.com>\n\n\tRename '--new-daemon' to 'fg-daemon' and '--old-daemon' to '--bg-daemon'\n\n\t* doc/emacs/cmdargs.texi (Initial Options):\n\t* doc/lispref/os.texi (Startup Summary):\n\t* etc/NEWS:\n\t* etc/emacs.service:\n\t* src/emacs.c (main):\n\t* src/lisp.h: Rename '--new-daemon' to 'fg-daemon' and '--old-daemon' to\n\t'--bg-daemon'.\n\n2017-05-30  Glenn Morris  <rgm@gnu.org>\n\n\ttodo-mode: don't assume an ordering of tests\n\n\t* test/lisp/calendar/todo-mode-tests.el (todo-test-todo-quit02)\n\t(todo-test-item-highlighting): Avoid prompting for input file.\n\n2017-05-30  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tImprove .gdbinit Lisp value pretty-printing\n\n\t* src/.gdbinit (to_string): Use an unsigned representation for\n\tLisp values, as requested by Eli Zaretskii (Bug#27098).\n\tAlso, use \"make_number(N)\" for Lisp integers.\n\n2017-05-30  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tTurn global-eldoc-mode into a globalized minor mode\n\n\t* lisp/emacs-lisp/eldoc.el (global-eldoc-mode):\n\tTurn into globalized mode (bug#19853).\n\t(turn-on-eldoc-mode): Make it into a wrapper instead of alias.\n\t(eldoc-mode): Only show the message when called interactively.\n\n2017-05-29  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tUse regexp matching instead of checking exit status\n\n\t* lisp/progmodes/xref.el (xref-collect-matches):\n\tSee if the output buffer contents look like Grep output\n\tinstead of checking exit status (bug#23451).\n\n2017-05-29  Stephen Berman  <stephen.berman@gmx.net>\n\n\tAdd initial tests for todo-mode.el\n\n\t*test/lisp/calendar/todo-mode-tests.el:\n\t*test/lisp/calendar/todo-mode-resources/todo-test-1.toda:\n\t*test/lisp/calendar/todo-mode-resources/todo-test-1.todo: New files.\n\n\t* .gitattributes: Ignore trailing whitespace in todo-mode test\n\tdata files, since it is part of the todo-mode file format.\n\n2017-05-29  Stephen Berman  <stephen.berman@gmx.net>\n\n\tMake `todo-toggle-item-highlighting' work on multiline items (bug#27133)\n\n\t* lisp/calendar/todo-mode.el (todo-hl-line-range): New named function,\n\treplacing an anonymous function for the sake of `describe-variable'.\n\t(todo-modes-set-2): Use it as buffer-local value of hl-line-range-function\n\tand remove boundp test of this variable, so its value is available on\n\tinvoking `todo-toggle-item-highlighting'.\n\n2017-05-29  Alan Third  <alan@idiocy.org>\n\n\tFix build error on macOS 10.6\n\n\t* src/nsfns.m (compute_tip_xy): Cast NSRect to CGRect and NSPoint to\n\tCGPoint.\n\n2017-05-29  Jules Tamagnan  <jtamagnan@gmail.com>  (tiny change)\n\n\tComply with pep 8 style guide for backslash in assignment (Bug#24809)\n\n\t* lisp/progmodes/python.el (python-indent--calculate-indentation):\n\tIncrease indent by `python-indent-offset' after\n\t`:after-backslash-assignment-continuation'.\n\n2017-05-29  Wilfred Hughes  <me@wilfred.me.uk>\n\n\tAdd suggestion to docstring\n\n\t* lisp/subr.el (interactive-p): Mention commandp, as this is often\n\t  what users are actually looking for.\n\n2017-05-29  Wilfred Hughes  <me@wilfred.me.uk>\n\n\tEnsure button-get works in any buffer\n\n\t* lisp/button.el (button-get): Previously we assumed that button-get\n\t  was called in the buffer containing the button.  In other buffers,\n\t  button-get always returned nil.  Fix this by passing the relevant\n\t  buffer from the marker.\n\n2017-05-29  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tSignal error if find-grep returns a nonzero status\n\n\t* lisp/progmodes/xref.el (xref-collect-matches): Signal error\n\tif find-grep returns a nonzero status (bug#23451).  Remove the\n\tcomment: even if some output is present, a non-zero status\n\tmeans something went wrong and it can't be relied upon.\n\n2017-05-29  Stephen Berman  <stephen.berman@gmx.net>\n\n\tMake sure exiting todo-mode buffer buries it (bug#27121)\n\n\tThis failed due to commit ea3ae33b from 2013-05-16, which prevented\n\tquitting todo-mode buffer after visiting todo-archive buffer from\n\tmaking the archive buffer current again.  Avoid this now by simply\n\tkilling the archive buffer, since there's no need to keep it a live\n\tbuffer.  Consequently, quitting a todo-mode buffer can now use\n\tbury-buffer without an argument, which ensures that is will not\n\tbecomes current on quitting the buffer that replaced it in the window.\n\n\t* lisp/calendar/todo-mode.el (todo-quit): Kill todo-archive-mode\n\tbuffer instead of burying it.  This now allows exiting the\n\ttodo-mode buffer by bury-buffer without an argument, so do that.\n\n2017-05-28  Michael Albinus  <michael.albinus@gmx.de>\n\n\tSome tweaks, almost all for Tramp adb method\n\n\t* lisp/net/tramp-adb.el (tramp-adb-parse-device-names):\n\tUse `make-tramp-file-name'.\n\t(tramp-adb-get-device): Use `tramp-file-name-port-or-default'.\n\t(tramp-adb-maybe-open-connection): Set \"prompt\" property.\n\t(tramp-adb-wait-for-output): Use it.\n\n\t* lisp/net/tramp-cache.el (tramp-cache-print): Use `elt'.\n\t(tramp-dump-connection-properties): Check also that there are\n\tproperties to be saved.  Don't save \"started\" property of\n\t\"ftp\" method.\n\n\t* lisp/net/tramp-gvfs.el (tramp-gvfs-handle-expand-file-name):\n\tUse `make-tramp-file-name'.\n\n\t* lisp/net/tramp.el (tramp-remote-file-name-spec-regexp):\n\tHost could be empty.\n\t(tramp-file-name-port-or-default): New defun.\n\t(tramp-dissect-file-name): Simplify `make-tramp-file-name' call.\n\t(tramp-handle-file-name-case-insensitive-p): Use a progress reporter.\n\t(tramp-call-process, tramp-call-process-region):\n\tUse `make-tramp-file-name'.\n\n\t* test/lisp/net/tramp-tests.el (tramp-test03-file-name-defaults):\n\tRevert change from 2017-05-24.\n\t(tramp-test05-expand-file-name-relative): Let it also pass for\n\t\"adb\" method.\n\n2017-05-28  J\u00fcrgen H\u00f6tzel  <juergen@archlinux.org>\n\n\tFix Tramp for Android 7\n\n\t* lisp/net/tramp-adb.el (tramp-adb-ls-toolbox-regexp):\n\tUsername part of prompt is empty on Android 7.\n\t(tramp-adb-ls-toolbox-regexp):\n\tIgnore addition links column on Android 7.\n\t(tramp-adb-get-ls-command):\n\tDont use --color=none when using toybox (Android 7).  It's not\n\tpossible to disable coloring explicitly for toybox ls.\n\n2017-05-27  Svante Carl v. Erichsen  <Svante.v.Erichsen@web.de>  (tiny change)\n\n\tFix cl-indent for `loop' with :keywords (Bug#15543)\n\n\t* lisp/emacs-lisp/cl-indent.el (lisp-extended-loop-p): Allow for\n\t\":keywords\".\n\n2017-05-27  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDepromiscuify inotify with IN_MASK_ADD\n\n\tUse IN_MASK_ADD instead of using a no-longer-promiscuous-enough\n\tmask.  This simplifies the code and restores the ability to\n\tuse IN_ACCESS, IN_CLOSE_WRITE, IN_CLOSE_NOWRITE, and IN_OPEN\n\tin some cases (Bug#26973).\n\t* src/inotify.c (INOTIFY_DEFAULT_MASK): Remove.\n\t(Finotify_add_watch): Use IN_MASK_ADD instead.\n\n2017-05-27  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRestore inotify onlydir support\n\n\tThere was no need to remove it in the 2017-03-26 inotify change,\n\tas it is like IN_DONT_FOLLOW and does not affect other watchers\n\tfor the same file.\n\t* src/inotify.c (symbol_to_inotifymask, Finotify_add_watch)\n\t(syms_of_inotify): Bring back onlydir.\n\n2017-05-27  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSimplify computation of inotify mask\n\n\t* src/inotify.c (add_watch): Accept uint32_t imask instead\n\tof Lisp_Object aspect.  Caller changed.\n\t(Finotify_add_watch): Use aspect_to_inotifymask earlier, to\n\tsimplify the code.\n\n2017-05-27  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove the documentation of filesets\n\n\t* doc/emacs/files.texi (Filesets): Fix the description of\n\tfileset-init's effect on the menu bar.  (Bug#27015)\n\n2017-05-27  Philipp Stephani  <phst@google.com>\n\n\tDon't attempt to recover from undefined behavior in some cases\n\n\tThese functions can only be run in batch mode and exit Emacs on\n\treturn, so nothing can be recovered.  Disable unsafe recover\n\tmechanisms so that we get real failures and good stack traces on\n\tfatal signals.\n\n\t* lisp/emacs-lisp/bytecomp.el (batch-byte-compile)\n\t(batch-byte-recompile-directory):\n\t* lisp/emacs-lisp/ert.el (ert-run-tests-batch-and-exit)\n\t(ert-summarize-tests-batch-and-exit): Don't attempt to recover\n\tfrom undefined behavior.\n\n2017-05-27  Philipp Stephani  <phst@google.com>\n\n\tAvoid another compiler warning on macOS\n\n\tWhen configured with --without-ns, HAVE_NS is not defined on macOS,\n\tthus 'memory-limit' calls the deprecated sbrk(2) function.  Avoid that\n\tby using the pre-defined __APPLE__ preprocessor macro.\n\n\t* src/alloc.c (Fmemory_limit): Never use sbrk(2) on macOS.\n\n2017-05-27  Luke Yen-Xun Lee  <luke.yx.lee@gmail.com>\n\n\tFix ruler-mode text-scaling issues\n\n\t* lisp/ruler-mode.el (ruler-mode-text-scaled-width): New function\n\tfor computing scaled text width.\n\t(ruler-mode-text-scaled-window-hscroll)\n\t(ruler-mode-text-scaled-window-width): Compute text scaled\n\t`window-width' value.\n\t(ruler-mode-mouse-grab-any-column, ruler-mode-mouse-add-tab-stop)\n\t(ruler-mode-ruler): Change `window-hscroll' into\n\t`ruler-mode-text-scaled-window-hscroll', and change `window-width'\n\tinto `ruler-mode-text-scaled-window-width'.\n\n2017-05-27  Martin Rudalics  <rudalics@gmx.at>\n\n\tMinor doc and doc-string fixes (Bug#27091)\n\n\t* src/window.c (Fset_window_scroll_bars): Fix doc-string.\n\n\t* doc/lispref/display.texi (Fringe Size/Pos, Scroll Bars)\n\t(Display Margins): Mention that `set-window-buffer' may override\n\tsettings made by `set-window-fringes', `set-window-scroll-bars'\n\tand `set-window-margins'.\n\t* doc/lispref/windows.texi (Buffers and Windows): Fix doc of\n\t`set-window-buffer'.\n\n2017-05-27  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid args-out-of-range errors on fringe clicks after \"C-h k\"\n\n\t* src/keyboard.c (echo_truncate): Don't call Ftruncate if the echo\n\tmessage is already shorter than NCHARS.  (Bug#27040)\n\n2017-05-27  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix GUD \"Stop\" display when running pdb\n\n\t* lisp/progmodes/gud.el (gud-menu-map): Don't call gdb-show-stop-p\n\twhen GUD mode is 'pdb'.  (Bug#27024)\n\n2017-05-27  Tak Kunihiro  <tkk@misasa.okayama-u.ac.jp>\n\n\tSupport drag and drop of region by mouse (Bug#26725)\n\n\t* doc/emacs/frames.texi (Drag and Drop): Document support of drag\n\tand drop region by mouse.\n\t* lisp/mouse.el (mouse-drag-region): Call mouse-drag-and-drop-region\n\twhen start-event is on region.\n\t(mouse-drag-and-drop-region): New function, moves the region by\n\t(mouse-drag-and-drop-region): New defcustom.\n\t* etc/NEWS: Mention mouse-drag-and-drop-region.\n\n2017-05-27  Noam Postavsky  <npostavs@gmail.com>\n\n\t* lisp/emacs-lisp/eieio.el (defclass): Fix quote in warning message.\n\n2017-05-27  Alan Third  <alan@idiocy.org>\n\n\tCheck if instancetype supported in ObjC\n\n\t* configure.ac: Add check for instancetype.\n\t* src/nsterm.h [!NATIVE_OBJC_INSTANCETYPE]: Define instancetype.\n\n2017-05-26  Wilfred Hughes  <me@wilfred.me.uk>\n\n\tMark keywordp as a safe, error-free function\n\n\t* lisp/emacs-lisp/byte-opt.el: Add keywordp to\n\t  side-effect-and-error-free-fns.\n\n2017-05-26  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* src/inotify.c: Add FIXME comments.\n\n2017-05-26  Andreas Politz  <politza@hochschule-trier.de>\n\n\tFix Bug#26973\n\n\t* src/inotify.c (INOTIFY_DEFAULT_MASK): Removing ACCESS, OPEN\n\tand CLOSE events on order do let other processes also reading\n\tfrom their descriptors.  (Bug#26973).\n\n2017-05-26  Michael Albinus  <michael.albinus@gmx.de>\n\n\tRemove Emacs 23 compat code from Tramp\n\n\t* doc/misc/tramp.texi (Remote processes): Don't mention\n\tEmacs 24 explicitly.\n\t(Frequently Asked Questions): Remove Emacs 23 from\n\tcompatibility list.\n\n\t* lisp/net/tramp.el:\n\t* lisp/net/tramp-adb.el:\n\t* lisp/net/tramp-cache.el:\n\t* lisp/net/tramp-gvfs.el:\n\t* lisp/net/tramp-sh.el:\n\t* lisp/net/tramp-smb.el: Replace compat function calls.\n\n\t* lisp/net/tramp-compat.el (remote-file-name-inhibit-cache)\n\t(tramp-compat-condition-case-unless-debug)\n\t(tramp-compat-copy-file, tramp-compat-copy-directory)\n\t(tramp-compat-delete-file, tramp-compat-delete-directory)\n\t(tramp-compat-process-live-p): Remove them.\n\n\t* lisp/net/trampver.el: Make version check fit for Emacs 24.\n\n2017-05-26  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\tWork for application/x-tar-gz and image/svg+xml\n\n\t;; Try inlining the attachment in the article <87wp94dzj6.fsf@gmail.com>\n\t;; of bug#27078 in the Emacs bug list using Gnus.\n\n\t* lisp/gnus/mm-archive.el (mm-archive-decoders):\n\tAdd a decoder for application/x-tar-gz.\n\t(mm-dissect-archive): Error out if a decoder is not found.\n\n\t* lisp/gnus/mm-decode.el (mm-get-image): Allow image/svg+xml.\n\n2017-05-26  Tino Calancha  <tino.calancha@gmail.com>\n\n\ttest-calc-23889: Skip test on 32-bit platforms\n\n\tThis test fails on some 32-bit platforms as mentioned in\n\thttps://lists.gnu.org/r/emacs-devel/2017-05/msg00737.html\n\t* test/lisp/calc/calc-tests.el (test-calc-23889): Skip when\n\tthe Lisp integer is not big enough.\n\n2017-05-25  Alan Third  <alan@idiocy.org>\n\n\tFix NS tooltips showing in the wrong place (bug#27053)\n\n\t* src/nsfns.m (compute_tip_xy): Get current mouse position instead of\n\tlast recorded position.\n\n2017-05-25  Thomas Fitzsimmons  <fitzsim@fitzsim.org>\n\n\tlisp/net/soap-client.el: Bump version to 3.1.2\n\n\t* lisp/net/soap-client.el: Bump version to 3.1.2.\n\n2017-05-25  Thomas Fitzsimmons  <fitzsim@fitzsim.org>\n\n\tFix soap-inspect.el doc strings\n\n\t* lisp/net/soap-inspect.el (soap-inspect-xs-attribute): Fix doc\n\tstring.\n\t(soap-inspect-xs-attribute-group): Likewise.\n\n2017-05-25  Thomas Fitzsimmons  <fitzsim@fitzsim.org>\n\n\tFix two soap-client.el byte compilation warnings\n\n\t* lisp/net/soap-client.el (url-http-response-status): Add defvar.\n\t(soap-fetch-xml-from-url): Remove special declaration of\n\turl-http-response-status.\n\t(soap-invoke-internal): Likewise.\n\n2017-05-25  Thomas Fitzsimmons  <fitzsim@fitzsim.org>\n\n\tlisp/net/soap-client.el: Require cl-lib version 0.6.1\n\n\t* lisp/net/soap-client.el: Require cl-lib version 0.6.1.\n\n2017-05-25  Thomas Fitzsimmons  <fitzsim@fitzsim.org>\n\t    Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tlisp/net/soap-client.el: Shorten some long lines\n\n\t* lisp/net/soap-client.el (soap-encode-xs-element): Remove\n\tunnecessary progn.\n\t(soap-xs-add-union): Wrap long line.\n\n2017-05-25  Alex Harsanyi  <AlexHarsanyi@gmail.com>\n\t    Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tRemove cl dependency in soap-client.el and soap-inspect.el\n\n\t* lisp/net/soap-inspect.el: Replace cl library with cl-lib, case\n\twith cl-case, destructuring-bind with cl-destructuring-bind and\n\tloop with cl-loop.\n\n\t* lisp/net/soap-client.el: Replace cl library with cl-lib,\n\tdefstruct with cl-defstruct, assert with cl-assert, case with\n\tcl-case, ecase with cl-ecase, loop with cl-loop and\n\tdestructuring-bind with cl-destructuring-bind.\n\n2017-05-25  Michael Albinus  <michael.albinus@gmx.de>\n\n\tSwitch Tramp to cl-lib\n\n\t* lisp/net/tramp-compat.el (cl-lib): Require it rather than cl.\n\n\t* lisp/net/tramp-ftp.el: Don't require cl.\n\n\t* lisp/net/tramp-gvfs.el: Don't require cl.\n\t(tramp-gvfs-handler-mounted-unmounted)\n\t(tramp-gvfs-connection-mounted-p): Use `cl-*' macros.\n\n\t* lisp/net/tramp-sh.el: Don't require cl.\n\t(tramp-set-file-uid-gid): Use `shell-quote-argument'.\n\t(tramp-sh-gvfs-monitor-dir-process-filter)\n\t(tramp-sh-inotifywait-process-filter): Use `cl-*' macros.\n\n\t* lisp/net/tramp-smb.el: Don't require cl.\n\t(tramp-smb-read-file-entry): Use `cl-*' macros.\n\n\t* lisp/net/tramp.el (cl-lib): Require it rather than cl.\n\t(tramp-parse-file, tramp-parse-shostkeys-sknownhosts)\n\t(tramp-parse-passwd, tramp-parse-etc-group)\n\t(tramp-parse-putty): Use `cl-*' macros.\n\n2017-05-25  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* CONTRIBUTE: Suggest autogen.sh's 'all' operand.\n\n2017-05-25  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort ATTRIBUTE_MAY_ALIAS to recent icc\n\n\t* src/conf_post.h (ATTRIBUTE_MAY_ALIAS) [__ICC]:\n\tDefine to empty.  Otherwise, icc (ICC) 17.0.4 20170411 says\n\t\u201cwarning #2621: attribute \"__may_alias__\" does not apply here\u201d\n\tfor constructs like \u2018struct sockaddr *sa = (whatever);\n\tstruct sockaddr_in __attribute__ ((__may_alias__)) *sin\n\t= (struct sockaddr_in *) sa;\u2019.\n\n2017-05-25  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from gnulib\n\n\tThis incorporates:\n\t2017-05-25 port to recent icc\n\t* lib/intprops.h: Copy from gnulib.\n\n2017-05-24  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix Tramp for python.el\n\n\t* lisp/net/tramp.el (tramp-get-connection-process): Check,\n\tthat VEC is a `tramp-file-name' structure.\n\n2017-05-24  Alan Third  <alan@idiocy.org>\n\n\tRaise version of macOS we define instancetype for (bug#27059)\n\n\t* src/nsterm.m: Increase supported version number.\n\n2017-05-24  Alan Third  <alan@idiocy.org>\n\n\tDefine new types on macOS 10.6 (bug#27041)\n\n\t* src/nsterm.h: Enable instancetype typedef for older macOS, and use\n\tcorrect NSUInteger instead of int.\n\n2017-05-24  Glenn Morris  <rgm@gnu.org>\n\n\tDon't autoload new dns-mode command\n\n\t* lisp/textmodes/dns-mode.el (dns-mode-ipv6-to-nibbles):\n\tRemove autoload cookie.\n\n2017-05-24  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* src/fns.c (sxhash): Fix records hashing (bug#27057, bug#26639)\n\n\t(sxhash_vector): Make it work on pseudo vectors as well.\n\t(sxhash): Treat records like vectors.\n\n2017-05-24  Michael Albinus  <michael.albinus@gmx.de>\n\n\tAdapt tramp-tests.el according to new defstruct\n\n\t* test/lisp/net/tramp-tests.el (tramp-test03-file-name-defaults):\n\tFix test according to new defstruct.\n\t(tramp-test29-environment-variables-and-port-numbers):\n\tExpect it now as passed.  Cleanup at the end.\n\n2017-05-24  Michael Albinus  <michael.albinus@gmx.de>\n\n\tIntroduce a defstruct `tramp-file-name' as central data structure.\n\n\tThis solves also Bug#27009.\n\n\t* lisp/net/tramp.el (tramp-current-domain)\n\t(tramp-current-port): New defvars.\n\t(tramp-file-name): New defstruct.\n\t(tramp-file-name-user-domain, tramp-file-name-host-port)\n\t(tramp-file-name-equal-p): New defuns.\n\t(tramp-file-name-p, tramp-file-name-method)\n\t(tramp-file-name-user, tramp-file-name-host)\n\t(tramp-file-name-localname, tramp-file-name-hop)\n\t(tramp-file-name-real-user, tramp-file-name-domain)\n\t(tramp-file-name-real-host, tramp-file-name-port):\n\tRemove defuns.  They are provided by the defstruct, or not\n\tneeded anymore.\n\t(tramp-dissect-file-name, tramp-buffer-name)\n\t(tramp-make-tramp-file-name, tramp-get-buffer)\n\t(tramp-set-connection-local-variables)\n\t(tramp-debug-buffer-name, tramp-message)\n\t(tramp-error-with-buffer, with-parsed-tramp-file-name)\n\t(tramp-completion-dissect-file-name1)\n\t(tramp-handle-file-name-as-directory)\n\t(tramp-handle-file-name-directory)\n\t(tramp-handle-file-remote-p, tramp-handle-file-symlink-p)\n\t(tramp-handle-find-backup-file-name)\n\t(tramp-handle-insert-file-contents, tramp-process-actions)\n\t(tramp-check-cached-permissions, tramp-local-host-p)\n\t(tramp-get-remote-tmpdir, tramp-call-process)\n\t(tramp-call-process-region, tramp-read-passwd)\n\t(tramp-clear-passwd):\n\t* lisp/net/tramp-adb.el (tramp-adb-parse-device-names)\n\t(tramp-adb-handle-expand-file-name)\n\t(tramp-adb-handle-file-truename, tramp-adb-handle-copy-file)\n\t(tramp-adb-handle-process-file)\n\t(tramp-adb-maybe-open-connection):\n\t* lisp/net/tramp-cache.el (tramp-get-hash-table)\n\t(tramp-get-file-property, tramp-set-file-property)\n\t(tramp-flush-file-property, tramp-flush-directory-property)\n\t(tramp-get-connection-property)\n\t(tramp-set-connection-property, tramp-connection-property-p)\n\t(tramp-flush-connection-property, tramp-cache-print)\n\t(tramp-list-connections, tramp-dump-connection-properties)\n\t(tramp-parse-connection-properties):\n\t* lisp/net/tramp-cmds.el (tramp-cleanup-connection):\n\t* lisp/net/tramp-ftp.el (tramp-ftp-file-name-handler):\n\t* lisp/net/tramp-gvfs.el (tramp-gvfs-handle-expand-file-name)\n\t(tramp-gvfs-url-file-name, tramp-gvfs-handler-askpassword)\n\t(tramp-gvfs-handler-mounted-unmounted)\n\t(tramp-gvfs-mount-spec, tramp-gvfs-get-remote-uid)\n\t(tramp-gvfs-get-remote-gid)\n\t(tramp-gvfs-maybe-open-connection):\n\t* lisp/net/tramp-sh.el (tramp-sh-handle-file-truename)\n\t(tramp-do-copy-or-rename-file-out-of-band)\n\t(tramp-sh-handle-expand-file-name)\n\t(tramp-sh-handle-start-file-process)\n\t(tramp-sh-handle-process-file, tramp-compute-multi-hops)\n\t(tramp-maybe-open-connection)\n\t(tramp-make-copy-program-file-name, tramp-get-remote-path)\n\t(tramp-get-inline-coding):\n\t* lisp/net/tramp-smb.el (tramp-smb-handle-copy-directory)\n\t(tramp-smb-handle-expand-file-name)\n\t(tramp-smb-handle-file-acl, tramp-smb-handle-process-file)\n\t(tramp-smb-handle-set-file-acl)\n\t(tramp-smb-maybe-open-connection): Adapt according to defstruct.\n\n2017-05-24  Stephen Berman  <steve@rosalinde.fritz.box>\n\n\tFix and improve UI of scroll bar menu (bug#27047)\n\n\tIn addition, since the Emacs manual writes \"scroll bar\", \"tool\n\tbar\" and \"menu bar\", use this convention in the Show/Hide menues\n\tand tooltips as well.\n\n\t* lisp/menu-bar.el (menu-bar-showhide-scroll-bar-menu): Make\n\tpressing a radio button in the menu actually show that it was\n\tpressed.  Replace the two radio buttons to turn the horizontal\n\tscroll bar on and off with a single check-box toggle and add a\n\tseparator between this and the vertical scroll bar radio\n\tbuttons.  Use conventional spelling.\n\t(menu-bar-horizontal-scroll-bar)\n\t(menu-bar-no-horizontal-scroll-bar): Remove, since now unused.\n\t(menu-bar-showhide-tool-bar-menu, menu-bar-showhide-menu)\n\t(menu-bar-mode): Use conventional spelling.\n\n2017-05-24  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\tRemove string-as-unibyte\n\n\t* lisp/gnus/canlock.el (canlock-sha1): Remove useless variable.\n\t(canlock-make-cancel-key): No need to use string-as-unibyte.\n\n2017-05-24  Tino Calancha  <tino.calancha@gmail.com>\n\n\tFix concatenation of \"^\" with diff-file-junk-re\n\n\tThis regexp contains \"\\\\|\", thus a concatenation\n\tof \"^\" with it just matches the beginning of line for the\n\tfirst alternative in diff-file-junk-re.\n\t* lisp/vc/ediff-ptch.el (ediff-map-patch-buffer): Concat \"^\" with\n\tdiff-file-junk-re wrapped in a shy group.\n\n2017-05-24  Glenn Morris  <rgm@gnu.org>\n\n\tSuppress intermittent test failure on hydra\n\n\t* test/lisp/emacs-lisp/eieio-tests/eieio-tests.el\n\t(eieio-test-37-obsolete-name-in-constructor): Skip on hydra.\n\n2017-05-24  Peder O. Klingenberg  <peder@klingenberg.no>\n\n\tNew dns-mode command for IPv6 address conversion\n\n\tThis converts IPv6 addresses to a format suitable for\n\treverse lookup zone files.  (Bug#26820)\n\t* lisp/textmodes/dns-mode.el (dns-mode-map, dns-mode-menu):\n\tAdd dns-mode-ipv6-to-nibbles.\n\t(dns-mode-ipv6-to-nibbles, dns-mode-reverse-and-expand-ipv6):\n\tNew functions.\n\t* test/lisp/dns-mode-tests.el: New file.\n\n2017-05-24  Noam Postavsky  <npostavs@gmail.com>\n\n\tProtect *Backtrace* from being killed (Bug#26650)\n\n\t* lisp/emacs-lisp/debug.el (debugger-mode): Call `top-level' in\n\t`kill-buffer-hook'.\n\n2017-05-24  Noam Postavsky  <npostavs@gmail.com>\n\n\tGive a name to lisp-mode's adaptive-fill-function (Bug#22730)\n\n\t* lisp/emacs-lisp/lisp-mode.el (lisp-adaptive-fill): New function.\n\t(lisp-mode-variables): Use it.\n\n2017-05-23  Philipp Stephani  <phst@google.com>\n\n\tvc-hg.el: Silence byte compiler warning\n\n\t* lisp/vc/vc-hg.el (compilation-arguments): Forward-declare.\n\n2017-05-23  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDon't warn about missing brances on macOS\n\n\tOn macOS, removing -Wmissing-braces is not enough; the warning has to\n\tbe disabled explicitly.\n\n2017-05-23  Wilfred Hughes  <me@wilfred.me.uk>\n\n\tDon't treat ' as a string delimiter in RPM spec files\n\n\t' is commonly used as an apostrophe in the prose sections of spec\n\tfiles, which was erroneously highlighted as strings. See for example\n\thttp://kmymoney2.sourceforge.net/phb/rpm-example.html\n\n\t* lisp/progmodes/sh-script.el (sh-mode-syntax-table): Treat ' as\n\t  punctuation in RPM spec files.\n\n2017-05-23  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/cl-indent.el: Don't require CL.  Use lexical-binding.\n\n\t(common-lisp-indent-function-1): Remove unused var `last-point`.\n\t(lisp-indent-error-function): Move defvar before first use.\n\n2017-05-23  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/international/rfc1843.el: Don't require CL.  Use lexical-binding.\n\n\t* lisp/international/utf7.el: Don't require CL.  Use lexical-binding.\n\n\t* lisp/net/shr.el: Use cl-lib instead of cl.\n\n2017-05-23  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* test/src/fns-tests.el, test/src/data-tests.el: Don't use `cl`\n\n\t* test/src/data-tests.el (binding-test-manual, binding-test-setq-default)\n\t(binding-test-makunbound, data-tests-varalias-watchers)\n\t(data-tests-local-variable-watchers): Silence compiler warnings.\n\n2017-05-23  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/vc/vc-hg.el (compilation-directory): Silence byte-compiler.\n\n2017-05-23  Alan Third  <alan@idiocy.org>\n\n\tFix GNUstep build\n\n\t* src/nsterm.h [NS_IMPL_GNUSTEP]: Add typedefs for Cocoa-only types.\n\t(NSWindowStyleMaskUtilityWindow): #define to NSUtilityWindowMask in\n\tGNUstep and old versions of macOS.\n\t* src/nsfns.m (ns-set-mouse-absolute-pixel-position): Function only\n\tworks in cocoa, not GNUstep.\n\n2017-05-23  Michael Albinus  <michael.albinus@gmx.de>\n\n\tAdd test for Bug#27009 in tramp-tests.el\n\n\t* lisp/net/tramp-sh.el (tramp-compute-multi-hops):\n\tCheck `tramp-file-name-real-host' for being a local host.\n\n\t* lisp/net/tramp.el (tramp-postfix-host-regexp): Fix docstring.\n\n\t* test/lisp/net/tramp-tests.el (tramp-test-temporary-file-directory):\n\tDeclare default host for mock method.\n\t(tramp-test29-environment-variables-and-port-numbers): New test.\n\n2017-05-23  Glenn Morris  <rgm@gnu.org>\n\n\tDon't advertise s_client in tls.el docs\n\n\t* lisp/net/tls.el (tls-end-of-info, tls-success, tls-untrusted):\n\tDon't mention s_client in docs.\n\n\t(cherry picked from commit 622c24a2b75a564b9861fc3ca7a7878741e8568d)\n\n2017-05-23  Rob Browning  <rlb@defaultvalue.org>\n\n\tRemove s_client usage from tls.el\n\n\t* lisp/net/tls.el (tls-program, tls-checktrust): Remove s_client.\n\tRef http://bugs.debian.org/766397\n\thttps://lists.gnu.org/r/emacs-devel/2014-10/msg00803.html\n\n\n\t(cherry picked from commit 6e45de6bacc508db11b15b2c8ba86aad8c0570df)\n\n2017-05-22  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/mail/rfc2047.el (rfc2047-decode-encoded-words): Set `words` to nil.\n\n2017-05-22  Sam Steingold  <sds@gnu.org>\n\n\tFix \"g\" in hg&git push&pull buffers\n\n\tlisp/vc/vc-git.el (vc-git--pushpull): Set locally\n\t`compilation-directory' and `compilation-arguments'.\n\tlisp/vc/vc-hg.el (vc-hg--pushpull): Likewise.\n\n2017-05-22  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix current-line hscrolling in buffers with header-line\n\n\t* src/xdisp.c (display_line): When testing the glyph row's\n\tvertical position against the cursor position, account for header\n\tline, if any.  (Bug#27014)\n\n2017-05-22  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/mail/rfc2047.el: Use cl-lib & lexical-binding, silence warning\n\n\t(rfc2047-decode-encoded-words): Use dolist.\n\t(rfc2047-decode-string): Avoid string-to-multibyte.\n\t(rfc2047-pad-base64): Use pcase.\n\n2017-05-21  Dima Kogan  <dima@secretsauce.net>\n\n\tMake ff-find-other-file symmetric for C++ (Bug#20192)\n\n\t`cc-other-file-alist' has a mapping of file extensions to switch\n\tbetween headers and sources, but the mappings weren't completely\n\tsymmetric.  In particular .cpp would map to .hh, but .hh would NOT map\n\tto .cpp.\n\n\t* lisp/find-file.el (cc-other-file-alist): Map \".hh\" and \".h\" to all\n\tC++ extensions to make them symmetric with the C++ extensions that map\n\tto them.  This lets repeated invocations of `ff-find-other-file'\n\ttoggle between all pairs of sources/headers.\n\n2017-05-21  Philipp Stephani  <phst@google.com>\n\n\tFix definition of whitespace in JSON\n\n\tSee\n\thttps://lists.gnu.org/r/emacs-devel/2017-05/msg00115.html.\n\n\t* lisp/json.el (json-skip-whitespace): Fix definition.\n\t* test/lisp/json-tests.el (test-json-skip-whitespace): Adapt unit\n\ttest.\n\n2017-05-21  Philipp Stephani  <phst@google.com>\n\n\tImprove module function terminology\n\n\tModule functions were previously called \"function environments\" when\n\tthe functions created by module_make_functions were lambdas.  Now we\n\tcan adapt the terminology and rename \"function environments\" to\n\t\"module functions\" everywhere.  This also removes the name clash\n\tbetween \"function environments\" and \"module environments.\"\n\n\t* src/emacs-module.c (module_make_function): Adapt comment to reality;\n\tstop using \"function environment\" terminology.\n\t(funcall_module): Stop using \"function environment\" terminology.\n\n2017-05-21  Philipp Stephani  <phst@google.com>\n\n\tAvoid uninitialized read\n\n\t* src/nsterm.m (ns_read_socket): Don't read uninitialized variable 'nevents'.\n\n2017-05-21  Philipp Stephani  <phst@google.com>\n\n\tFix call of registerServicesMenuSendTypes\n\n\t* src/nsterm.m (initFrameFromEmacs:): nil is not allowed for\n\treturnTypes; pass an empty array instead.\n\n2017-05-21  Philipp Stephani  <phst@google.com>\n\n\tClean up code around 'ns-list-services'\n\n\t* src/nsfns.m (Fns_list_services): Remove unreachable code.  In this\n\tbranch NS_IMPL_COCOA cannot be defined.\n\t(interpret_services_menu): Define only if called to avoid compiler\n\twarnings about unused static functions.\n\n2017-05-21  Philipp Stephani  <phst@google.com>\n\n\tRemove unused automatic variables\n\n\t* src/nsterm.m (ns_read_socket):\n\t* src/macfont.m (macfont_open): Remove unused automatic variables.\n\n2017-05-21  Philipp Stephani  <phst@google.com>\n\n\tNextstep: Replace deprecated enumerators\n\n\t* src/nsmenu.m (initWithContentRect:styleMask:backing:defer:): Replace\n\tdeprecated enumerator.\n\n2017-05-21  Philipp Stephani  <phst@google.com>\n\n\tNextstep: remove some deprecated method calls\n\n\t* src/nsterm.m (mouseDown:):\n\t* src/nsmenu.m (runMenuAt:forFrame:keymaps:): Remove call to\n\tdeprecated method.  The return value is always nil.\n\t* src/macfont.m (mac_font_shape_1): Replace call to deprecated method.\n\n2017-05-21  Philipp Stephani  <phst@google.com>\n\n\tRemove trailing semicolons in method definitions\n\n\tThese semicolons are ignored and cause compiler warnings.\n\n\t* src/nsimage.m (setPixelAtX:Y:toRed:green:blue:alpha:):\n\t* src/nsterm.m (init, updateFrameSize:):\n\t(setFrame:): Remove trailing semicolon.\n\n2017-05-21  Philipp Stephani  <phst@google.com>\n\n\tRemove calls to deprecated setUsesScreenFonts\n\n\t* src/macfont.m (mac_screen_font_get_metrics): Don't call setUsesScreenFonts.\n\t(mac_font_shape_1): Remove screen_font_p parameter.\n\t(mac_screen_font_shape): Remove screen_font_p argument.\n\n2017-05-21  Philipp Stephani  <phst@google.com>\n\n\tMake a function static that isn't used outside this file\n\n\t* src/kqueue.c (kqueue_directory_listing): Make static.\n\n2017-05-21  Philipp Stephani  <phst@google.com>\n\n\tUse NSCharacterCollection instead of CTCharacterCollection\n\n\tThis should not cause behavior changes, but fixes a compiler warning\n\tdue to implicit conversions between the enums.\n\n\t* src/macfont.m (macfont_cache, macfont_lookup_cache)\n\t(macfont_get_glyph_for_cid, macfont_get_uvs_table)\n\t(macfont_variation_glyphs): Use NSCharacterCollection.\n\n2017-05-21  Philipp Stephani  <phst@google.com>\n\n\tRemove unused function print_regions\n\n2017-05-21  Philipp Stephani  <phst@google.com>\n\n\tDeclare Nextstep unexec functions in lisp.h\n\n\tThis removes compiler warnings about missing prototypes on macOS.\n\n2017-05-21  Philipp Stephani  <phst@google.com>\n\n\tNextstep: Use instancetype explicit return type\n\n\tThis removes compiler warnings on macOS and improves type safety.\n\n\t* src/nsterm.m (initFrameFromEmacs:):\n\t(menuDown:):\n\t(toolbarClicked:):\n\t(toggleToolbar:):\n\t(setMiniwindowImage:):\n\t(initFrame:window:):\n\t(condemn, reprieve, setPosition:portion:whole:):\n\t(repeatScroll:):\n\t* src/nsmenu.m (initWithTitle:):\n\t(initWithTitle:frame:):\n\t(initForView:withIdentifier:):\n\t(init, initWithContentRect:styleMask:backing:defer:):\n\t(initFromContents:isQuestion:):\n\t* src/nsimage.m (allocInitFromFile:):\n\t(initFromXBM:width:height:fg:bg:):\n\t(setXBMColor:):\n\t(initForXPMWithDepth:width:height:): Use instancetype as return\n\ttype instead of implicit id.\n\n2017-05-21  Tino Calancha  <tino.calancha@gmail.com>\n\n\t* lisp/emacs-lisp/package.el (package-delete): Delete readme file as well.\n\n2017-05-21  Alan Mackenzie  <acm@muc.de>\n\n\tEnhance mode-line percentage offset facility, with \"%o\" and \"%q\"\n\n\t\"%o\" will display the percentage \"travel\" of the window through the buffer.\n\t\"%q\" will display a combination of the percentage offsets of the top and\n\tbottom of the window.  The new user option mode-line-percent-position will\n\tfacilitate selecting a setting for this part of the mode line.\n\n\t* lisp/bindings.el (mode-line-percent-position): New customizable user option.\n\t(mode-line-position): Use mode-line-percent-position in place of \"%p\", etc.\n\n\t* src/xdisp.c (decode_mode_spec): Add handlers for \"%o\" and \"%q\".\n\n\t* doc/lispref/modes.texi (Mode Line Variables): Document\n\tmode-line-percent-position.\n\t(%-Constructs): Document %o and %q.\n\n\t* etc/NEWS: Add an entry for these new facilities.\n\n2017-05-21  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tWork around macOS bug in create_process, too\n\n\t* src/process.c (create_process) [DARWIN_OS]:\n\tReset SIGCHLD after vfork here, too.\n\n2017-05-21  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tWork around macOS bug with vforked child\n\n\t* src/callproc.c (call_process) [DARWIN_OS]:\n\tInclude workaround for apparent macOS bug.\n\n2017-05-21  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPacify --enable-gcc-warnings without modules\n\n\t* src/print.c (print_vectorlike): New function, taken from\n\tpart of print_object.  This one is indented properly, and\n\tpacifies --enable-gcc-warnings by using a default case\n\tinstead of listing all the enum values, sometimes\n\tincompletely.\n\t(print_object): Use it.\n\n2017-05-21  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRemove DARWIN_OS_CASE_SENSITIVE_FIXME code\n\n\tIt does not appear to be needed (Bug#24441).\n\t* etc/PROBLEMS: Remove DARWIN_OS_CASE_SENSITIVE_FIXME stuff.\n\t* src/fileio.c (file_name_case_insensitive_p):\n\tRemove DARWIN_OS_CASE_SENSITIVE_FIXME code.\n\n2017-05-21  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tNarrow DARWIN_OS_CASE_SENSITIVE_FIXME to 1 choice\n\n\t* etc/PROBLEMS: Document this (Bug#24441).\n\t* src/fileio.c (file_name_case_insensitive_p): Prefer pathconf\n\twith _PC_CASE_SENSITIVE, if it works, to\n\tDARWIN_OS_CASE_SENSITIVE_FIXME code.\n\tSupport just one method for DARWIN_OS_CASE_SENSITIVE_FIXME,\n\twhich matches the Apple documentation more precisely.\n\n2017-05-21  Tom Tromey  <tom@tromey.com>\n\n\tFix mhtml-mode fontification bug\n\n\tBug#26922\n\t* lisp/textmodes/mhtml-mode.el (mhtml-syntax-propertize): Call\n\tsgml-syntax-propertize-inside if not in a submode.\n\t* test/manual/indent/html-multi-4.html: New file.\n\n2017-05-21  Ryan  <rct@thompsonclan.org>  (tiny change)\n\n\tFix ido-enable-dot-prefix for empty choice (Bug#26997)\n\n\t* lisp/ido.el (ido-set-matches-1): Only check first character of\n\titem if it's non-empty.\n\n2017-05-21  Ari Roponen  <ari.roponen@gmail.com>\n\n\t* lisp/svg.el (svg-line): Fix x/y typo.  (Bug#26953)\n\n2017-05-21  Glenn Morris  <rgm@gnu.org>\n\n\tPrevent loading vc-bzr writing to ~/.bzr.log\n\n\t* lisp/vc/vc-bzr.el (vc-bzr-status-switches): Disable bzr logging.\n\n2017-05-21  Glenn Morris  <rgm@gnu.org>\n\n\tPrevent running vc-tests writing to ~/.bzr.log\n\n\t* test/lisp/vc/vc-tests.el (vc-test--create-repo)\n\t(vc-test--register, vc-test--working-revision)\n\t(vc-test--checkout-model): Set temporary BZR_HOME, to disable logging.\n\n2017-05-21  Noam Postavsky  <npostavs@gmail.com>\n\n\tDon't end non-hook variable with \"-hook\" (Bug#26623)\n\n\t* lisp/follow.el (follow-inside-post-command-hook-call): Renamed from\n\tfollow-inside-post-command-hook, update uses.\n\n2017-05-21  Charles A. Roelli  <charles@aurox.ch>\n\n\tFix macOS mouse movement\n\n\t* lisp/frame.el (ns-set-mouse-absolute-pixel-position): New\n\tfunction (Lisp).\n\t(set-mouse-absolute-pixel-position): Change it to call\n\t`ns-set-mouse-absolute-pixel-position' on macOS.\n\t* src/nsfns.m (Fns_set_mouse_absolute_pixel_position): New\n\tfunction.\n\t* src/nsterm.h (NS_PARENT_WINDOW_TOP_POS): Use the primary\n\tscreen's height as a base for calculating global coordinates.\n\t* src/nsterm.m (frame_set_mouse_pixel_position): Fix it in macOS.\n\t* test/lisp/mouse-tests.el (bug26816-mouse-frame-movement): Test\n\tmovement of mouse relative to frame.\n\n2017-05-21  Alan Third  <alan@idiocy.org>\n\n\tShow tooltip on correct screen (bug#26905)\n\n\t* src/nsfns.m (compute_tip_xy): Find the correct screen for the\n\ttooltip and constrain it to that screen.\n\n2017-05-21  Andreas Politz  <politza@hochschule-trier.de>\n\n\tDon't save unrelated buffers before recompiling directory (Bug#25964)\n\n\t* lisp/emacs-lisp/bytecomp.el (byte-recompile-directory): Only save\n\tbuffers visiting lisp files under the directory being compiled.\n\n2017-05-20  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMinor fixes for arity ranges in emacs modules\n\n\t* src/emacs-module.c (module_make_function):\n\tCheck that arities fit into fixnums, for func-arity\u2019s benefit.\n\t(funcall_module): Avoid unnecessary conversion to EMACS_INT.\n\t(module_function_arity): Allow arities greater than SHRT_MAX.\n\n2017-05-20  Philipp Stephani  <phst@google.com>\n\n\tReimplement module functions\n\n\tInstead of a lambda, create a new type containing all data required to\n\tcall the function, and support it in the evaluator.  Because this type\n\tnow also needs to store the function documentation, it is too big for\n\tLisp_Misc; use a pseudovector instead.  That also has the nice benefit\n\tthat we don't have to add special support to the garbage collector.\n\n\tSince the new type is user-visible, give it a predicate.\n\n\tNow we can easily support 'help-function-args' and 'func-arity'; add\n\tunit tests for these.\n\n\t* src/lisp.h (allocate_module_function, MODULE_FUNCTIONP)\n\t(XMODULE_FUNCTION): New pseudovector type 'module function'.\n\n\t* src/eval.c (FUNCTIONP): Also treat module functions as functions.\n\t(funcall_lambda, Ffuncall, eval_sub): Add support for calling module\n\tfunctions.\n\t(Ffunc_arity): Add support for detecting the arity of module\n\tfunctions.\n\n\t* src/emacs-module.c (module_make_function): Adapt to new structure.\n\tReturn module function object directly instead of wrapping it in a\n\tlambda; remove FIXME.\n\t(funcall_module): New function to call module functions.  Replaces\n\t`internal--module-call' and is called directly from eval.c.\n\t(syms_of_module): Remove internal helper function, which is no longer\n\tneeded.\n\t(module_function_arity): New helper function.\n\n\t* src/data.c (Ftype_of): Adapt to new implementation.\n\t(Fmodule_function_p, syms_of_data): New user-visible function.  Now\n\tthat module functions are first-class objects, they deserve a\n\tpredicate.  Define it even if not compiled with --enable-modules so\n\tthat Lisp code doesn't have to check for the function's existence.\n\n\t* src/doc.c (Fdocumentation): Support module functions.\n\n\t* src/print.c (print_object): Adapt to new implementation.\n\n\t* src/alloc.c (mark_object): Specialized garbage collector support is\n\tno longer needed.\n\n\t* lisp/help.el (help-function-arglist): Support module functions.\n\tWhile there, simplify the arity calculation by using `func-arity',\n\twhich does the right thing for all kinds of functions.\n\n\t* test/data/emacs-module/mod-test.c: Amend docstring so we can test\n\tthe argument list.\n\n\t* test/src/emacs-module-tests.el (mod-test-sum-docstring): Adapt to\n\tnew docstring.\n\t(mod-test-non-local-exit-signal-test): Because `internal--module-call'\n\tis gone, the backtrace has changed and no longer leaks the\n\timplementation.\n\t(module--func-arity): New test for `func-arity'.\n\t(module--help-function-arglist): New test for `help-function-arglist'.\n\n2017-05-20  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid crashes in GC due to unescaped characters warning\n\n\t* src/lread.c (load_warn_unescaped_character_literals): Don't cons\n\tLisp objects from stack-based variables.  (Bug#26961)\n\n2017-05-20  Charles A. Roelli  <charles@aurox.ch>\n\n\tNew commands: find-library-other-window, find-library-other-frame\n\n\t* lisp/emacs-lisp/find-func.el (find-library-other-window)\n\t(find-library-other-frame): New commands to complement the\n\texisting 'find-library' command.  (Bug#26712)\n\t(read-library-name): New function to read a library name.\n\t* etc/NEWS: Mention 'find-library-other-window' and\n\t'find-library-other-frame'.\n\n2017-05-20  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix automatic hscrolling of only the current line\n\n\t* src/xdisp.c (display_line): When hscrolling only the current\n\tline, increment iterator's first_visible_x and last_visible_x\n\tvalues to account for the hscroll.  This propagates the hscroll\n\teffect on the iterator geometry all the way down to the\n\tsubroutines called by display_line, and avoids scrolling bugs\n\tunder large hscroll values.  (Bug#26994)\n\n2017-05-20  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tAdd handlerlist assertion to module code\n\n\t* src/emacs-module.c (module_reset_handlerlist):\n\tCheck handlerlist.  Suggested by Philipp Stephani in:\n\thttps://lists.gnu.org/r/emacs-devel/2017-05/msg00521.html\n\n2017-05-20  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort --enable-gcc-warnings to clang 3.9.1\n\n\t* configure.ac (WERROR_CFLAGS): Omit -Wmissing-braces for Clang,\n\tto shut off a false alarm.  Problem reportd by Philipp Stephani in:\n\thttps://lists.gnu.org/r/emacs-devel/2017-05/msg00521.html\n\n2017-05-20  Noam Postavsky  <npostavs@gmail.com>\n\n\tLimit integers printed as characters (Bug#16828)\n\n\t* lisp/simple.el (eval-expression-print-maximum-character): New\n\tvariable.\n\t(eval-expression-print-format): Only display value as character if\n\tit's less than or equal to `eval-expression-print-maximum-character'.\n\t(eval-expression-get-print-arguments): Check\n\teval-expression-print-maximum-character, allow negative arg to\n\toverride it.\n\t(eval-expression):\n\t* lisp/progmodes/elisp-mode.el (elisp--eval-last-sexp):\n\t(elisp--eval-last-sexp-print-value): Handle new variable.\n\t* doc/emacs/building.texi (Lisp Eval): Document new variable and\n\tbehavior.\n\t* etc/NEWS: Announce it.\n\t* test/lisp/progmodes/elisp-mode-tests.el\n\t(eval-last-sexp-print-format-small-int)\n\t(eval-last-sexp-print-format-small-int-echo)\n\t(eval-last-sexp-print-format-large-int)\n\t(eval-last-sexp-print-format-large-int-echo):\n\t* test/lisp/simple-tests.el (eval-expression-print-format-small-int)\n\t(eval-expression-print-format-small-int-echo)\n\t(eval-expression-print-format-large-int)\n\t(eval-expression-print-format-large-int-echo): New tests.\n\n2017-05-20  Noam Postavsky  <npostavs@gmail.com>\n\n\tRefactor lisp eval result printing\n\n\t* lisp/simple.el (eval-expression-print-format): Don't check\n\t`standard-output' or `current-prefix-arg'.\n\t(eval-expression-get-print-arguments): New function, centralizes\n\tdecision about how to print results of `eval-expression' and\n\t`eval-last-sexp'.\n\t(eval-expression):\n\t* lisp/progmodes/elisp-mode.el (elisp--eval-last-sexp-print-value):\n\tUse it.\n\n2017-05-19  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tCheck that signed right shift is arithmetic\n\n\t* src/data.c (ash_lsh_impl): Verify that signed right shift is\n\tarithmetic; if we run across a compiler that uses a logical shift\n\twe\u2019ll need to complicate the code before removing this\n\tcompile-time check.  Help the compiler do common subexpression\n\telimination better.\n\n2017-05-19  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMinor .gitignore fixes\n\n\t* .gitignore: modules/mod-test/Makefile was renamed to\n\ttest/data/emacs-module/Makefile.\n\tOmit [0-9]*.core, subsumed by *.core.\n\ttest/indent/*.new was renamed to test/manual/indent/*.new.\n\tAdd *.swp, for Vim.\n\n2017-05-19  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/package.el: Quote `package-desc' in docstrings\n\n2017-05-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tDescribe problems with Microsoft Intellipoint\n\n\t* etc/PROBLEMS: Describe problems with Microsoft Intellipoint and\n\tmouse-2 events.  For the details, see\n\thttps://lists.gnu.org/r/help-emacs-windows/2017-05/msg00009.html.\n\n2017-05-19  Nick Helm  <nick@tenpoint.co.nz>  (tiny change)\n\n\tFix turning off whitespace-mode\n\n\t* lisp/whitespace.el (whitespace-display-char-on): Correct the way\n\tthe original buffer-display-table is saved and restored when\n\tglobal-whitespace-mode is active.  (Bug#26892)\n\n\t* test/lisp/whitespace-tests.el\n\t(whitespace-tests-whitespace-mode-on): New function.\n\t(whitespace-tests-display-tables): New test.\n\n2017-05-19  Michael Albinus  <michael.albinus@gmx.de>\n\n\tMinor tweaks in tramp-tests.el\n\n\t* test/lisp/net/tramp-tests.el (tramp--test-afp-or-smb-p): New defun.\n\t(tramp-test05-expand-file-name-relative): Use it.\n\t(tramp-test38-unload): Run only in batch mode.\n\n2017-05-19  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix a problem with OpenSSH 7 in Tramp\n\n\t* lisp/net/tramp-sh.el (tramp-ssh-controlmaster-options): Set also\n\t\"ConnectTimeout\" during test.  Otherwise, OpenSSH 7 will hang.\n\n2017-05-19  Jean-Christophe Helary  <jean.christophe.helary@gmail.com>\n\n\tImprove documentation of 'split-string'\n\n\t* doc/lispref/strings.texi (Creating Strings): Rearrange text to\n\tmake it more readable.  (Bug#26925)\n\n2017-05-19  Ruslan Bekenev  <furyinbox@gmail.com>\n\n\tFix typos in doc strings\n\n\t* lisp/mail/rfc2231.el (rfc2231-encode-string):\n\t* lisp/mail/rfc2047.el (rfc2047-encode-parameter):\n\t* lisp/mail/rfc2045.el (rfc2045-encode-string): Fix typos in doc\n\tstrings.  (Bug#26103)\n\n2017-05-19  Philipp Stephani  <phst@google.com>\n\n\tFix module tests on some systems\n\n\tIf dladdr(3) isn't available or didn't work, the printed\n\trepresentation of a module function will not include the file name,\n\tbut only the address.  Make the tests pass in that case.\n\n\t* test/src/emacs-module-tests.el (module-function-object): Fix match for\n\tmodule function printed representation\n\n2017-05-19  Jean-Christophe Helary  <jean.christophe.helary@gmail.com>\n\n\tAdd an optional arguments to string-trim\n\n\t* lisp/emacs-lisp/subr-x.el (string-trim-left, string-trim-right)\n\t(string-trim): Add optional args that serve as defaults per the\n\toriginal behavior.  (Bug#26908)\n\n2017-05-19  Stephen Berman  <steve@rosalinde.fritz.box>\n\n\tFix typo in last change to auto-hscroll-mode\n\n\t* lisp/cus-start.el (standard): Fix typo in value of auto-hscroll-mode.\n\n2017-05-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tSupport remote editing in emacsclient via Tramp\n\n\t* lib-src/emacsclient.c (main, decode_options)\n\t(print_help_and_exit, longopts): New option '--tramp' / '-T' which\n\tspecifies how emacs should use tramp to find remote files.\n\n\t* doc/emacs/misc.texi (TCP Emacs server): New subsection describing\n\tthe various knobs to tune server.el for TCP opereation.\n\t(emacsclient Options): Reference \"TCP Emacs server\" from description of\n\t--server-file.  Document the new '--tramp' / '-T' options.\n\t* doc/emacs/emacs.texi (Top): Update the top-level menu.\n\n\t* etc/NEWS: Mention the new option.\n\n2017-05-19  Eli Zaretskii  <eliz@gnu.org>\n\n\t* lisp/replace.el (query-replace-regexp-eval): Doc fix.\n\n2017-05-19  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tAttempt to work around macOS vfork bug\n\n\tProblem reported by YAMAMOTO Mitsuharu in:\n\thttps://lists.gnu.org/r/emacs-devel/2017-05/msg00342.html\n\tThis is related to the fix for Bug#26397.\n\t* src/callproc.c (call_process_cleanup, call_process) [!MSDOS]:\n\tReport internal error if wait_for_termination fails.\n\t* src/sysdep.c (get_child_status): Return -1 if waitpid is\n\tbuggy, instead of aborting.\n\t(wait_for_termination): Return bool success value.\n\tAll callers changed.\n\n2017-05-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tAdjust defcustom form for 'auto-hscroll-mode'\n\n\t* lisp/cus-start.el (standard) <auto-hscroll-mode>: Adjust the\n\tdefcustom form.  Suggested by Stephen Berman <stephen.berman@gmx.net>.\n\n2017-05-19  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix DARWIN_OS_CASE_SENSITIVE_FIXME==2 false alarm\n\n\t* src/fileio.c (file_name_case_insensitive_p):\n\tDon\u2019t compile the (DARWIN_OS_CASE_SENSITIVE_FIXME == 2)\n\tcode unless DARWIN_OS_CASE_SENSITIVE_FIXME is 2.\n\tProblem reported by Philipp Stephani in:\n\thttps://lists.gnu.org/r/emacs-devel/2017-05/msg00495.html\n\n2017-05-19  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort --enable-gcc-warnings to clang 3.9.1\n\n\t* configure.ac (WERROR_CFLAGS): Omit -Wdouble-promotion if clang.\n\tProblem reported by Philipp Stephani in:\n\thttps://lists.gnu.org/r/emacs-devel/2017-05/msg00495.html\n\n2017-05-19  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tClean up compiler warning in emacs-module.c\n\n\t* src/emacs-module.c (MODULE_SETJMP_1): Use the local var\n\tinstead of leaving it unused, to pacify picky compilers.\n\t(module_reset_handlerlist): Now takes a dummy pointer to a struct\n\thandler *, instead of a dummy pointer to an int.  All uses changed.\n\n2017-05-19  Philipp Stephani  <phst@google.com>\n\n\tClean up some compiler warnings\n\n\t* src/sysdep.c (system_process_attributes) [DARWIN_OS]:\n\tRemove unused locals.\n\n2017-05-18  Eli Zaretskii  <eliz@gnu.org>\n\n\tSupport hscrolling only the current line\n\n\t* src/xdisp.c (hscrolling_current_line_p): New function.\n\t(init_iterator): If auto-hscrolling just the current line, don't\n\tincrement the iterator's first_visible_x and last_visible_x\n\tvariables.\n\t(hscroll_window_tree): Recompute window's hscroll when moving\n\tvertically to another screen line.\n\t(redisplay_window): If we are hscrolling only the current line,\n\tdisable the optimizations that rely on the current matrix being\n\tup-to-date.\n\t(display_line): Accept an additional argument CURSOR_VPOS, the\n\tvertical position of the current screen line which might need\n\thscrolling; all callers changed.  Compute first_visible_x and\n\tlast_visible_x specially when auto-hscrolling current line, by\n\trepeating the calculation that is done in init_iterator in other\n\tmodes.\n\t(syms_of_xdisp) <auto-hscroll-mode>: No longer boolean, it can now\n\taccept a 3rd value 'current-line, to turn on the mode where\n\tonly the current line is hscrolled.\n\n\t* etc/NEWS: Mention the new auto-hscroll-mode value.\n\n2017-05-18  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix last change in line-move-finish\n\n\t* lisp/simple.el (line-move-finish): Fix last change.  This corrects a\n\tregression in C-n and C-p when lines are truncated, introduced by the\n\tchange in 2017-05-10.\n\n2017-05-18  Simen Heggest\u00f8yl  <simenheg@gmail.com>\n\n\tExpand docstring for CSS mode\n\n\t* lisp/textmodes/css-mode.el (css-completion-at-point, css-mode):\n\tExpand docstrings.\n\n2017-05-18  Tino Calancha  <tino.calancha@gmail.com>\n\n\tUse the expression angle units while simplifying it\n\n\tDon't use the angle mode, use the angle units included\n\tin the expression instead (Bug#23889).\n\t* lisp/calc/calc-alg.el (calc-input-angle-units): New defun.\n\t(math-simplify): Use it.\n\t* lisp/calc/calc-forms.el (math-to-hms, math-from-hms):\n\tDon't use calc-angle-mode if math-simplifying-units is non-nil.\n\t* lisp/calc/calc-math.el (calcFunc-nroot, math-from-radians)\n\t(math-to-radians-2, math-from-radians-2): Don't convert angle\n\tto radians if math-simplifying-units is non-nil.\n\t* test/lisp/calc/calc-tests.el (test-calc-23889): Add test.\n\n2017-05-18  Tino Calancha  <tino.calancha@gmail.com>\n\n\tRevert \"Ignore angle mode while simplifying units\"\n\n\tThis reverts commit 713e922243fb60d850f7b0ff83f3e2a3682f1832.\n\tThis commit causes Bug#25652.\n\n2017-05-17  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tAvoid undefined behavior in struct sockaddr\n\n\tProblem noted by Philipp Stephani in:\n\thttps://lists.gnu.org/r/emacs-devel/2017-05/msg00391.html\n\t* src/conf_post.h (ATTRIBUTE_MAY_ALIAS, DECLARE_POINTER_ALIAS):\n\tNew macros.\n\t* src/process.c (conv_sockaddr_to_lisp, conv_lisp_to_sockaddr)\n\t(connect_network_socket, network_interface_info)\n\t(server_accept_connection): Use it when aliasing non-char objects.\n\n2017-05-17  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/vc/smerge-mode.el (smerge-refine-regions): Work in multi-bufs\n\n\tRename from smerge-refine-subst.  Allow the `beg's to be markers.\n\tAdd autoload cookie.\n\t(smerge--refine-forward): Rename from smerge-refine-forward.\n\t(smerge--refine-chopup-region): Rename from smerge-refine-chopup-region.\n\tAssume that its `beg` arg is a marker.\n\t(smerge--refine-highlight-change): Rename from\n\tsmerge-refine-highlight-change.  Remove `buf` arg.\n\t(smerge-refine-subst): Redefine as an obsolete alias.\n\n2017-05-17  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tWork around AddressSanitizer bug with vfork\n\n\tProblem reported by Jim Meyering in:\n\thttps://lists.gnu.org/r/emacs-devel/2017-05/msg00246.html\n\t* src/conf_post.h (vfork) [ADDRESS_SANITIZER]: Define to fork.\n\tUnfortunately with the AddressSanitizer in Fedora 25 x86-64, the\n\tvforked child messes up the parent\u2019s shadow memory.  This is too\n\tbad, as we\u2019d rather have AddressSanitizer catch memory-access bugs\n\trelated to vfork.\n\n2017-05-17  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tCatch IPv4/IPv6 issues at compile time\n\n\t* src/process.c (connect_network_socket): Use verify,\n\tnot eassert, so that any problems are caught at compile-time.\n\tAvoid dodgy cast by using a local var of the correct type.\n\n2017-05-17  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPacify --enable-gcc-warnings --with-x-toolkit=no\n\n\t* src/composite.c (autocmp_chars) [!HAVE_WINDOW_SYSTEM]:\n\tAvoid unused local.\n\n2017-05-17  Glenn Morris  <rgm@gnu.org>\n\n\t* admin/update_autogen (commit): Pull before push.\n\n2017-05-17  Glenn Morris  <rgm@gnu.org>\n\n\tautoload-rubric no longer provides a feature by default\n\n\t* lisp/emacs-lisp/autoload.el (autoload-rubric):\n\tStop providing a feature unless explicitly requested.\n\t(autoload-find-generated-file): Update autoload-rubric call.\n\n2017-05-17  Eli Zaretskii  <eliz@gnu.org>\n\n\tRemove redundant code in connect_network_socket\n\n\t* src/process.c (connect_network_socket) [HAVE_GETSOCKNAME]:\n\tRemove redundant type-casting and variables.  Don't call\n\t'getsockname' to find the port for AF_LOCAL sockets.\n\t[AF_INET6]: Add an assertion to verify that the ports in the IPv4\n\tand IPv6 structures are at the same offset and have the same size.\n\n2017-05-16  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix minor timezone memory leak\n\n\t* src/editfns.c (wall_clock_tz): Remove; unused.\n\n2017-05-16  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDo not discard AddressSanitizer stderr\n\n\t* src/emacs.c (close_output_streams) [ADDRESS_SANITIZER]:\n\tDo not close stderr.\n\n2017-05-16  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSimplify procname code to avoid GCC bug\n\n\t* src/process.c (server_accept_connection): Simplify and avoid\n\tmultiple calls and struct literals in the last case of a switch.\n\tThe old code ran afoul of GCC bug 80659, which caused an internal\n\tcompiler error.  Problem reported by Jim Meyering in:\n\thttps://lists.gnu.org/r/emacs-devel/2017-05/msg00182.html\n\thttps://gcc.gnu.org/bugzilla/show_bug.cgi?id=80659\n\n2017-05-16  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPacify GCC 7 with --enable-gcc-warnings\n\n\t* src/regex.c (regex_compile): Swap labels, so that the\n\tFALLTHROUGH immediately precedes the case label.\n\n2017-05-16  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge with gnulib, pacifying GCC 7\n\n\tThis incorporates:\n\t2017-05-16 manywarnings: update for GCC 7\n\t2017-05-15 sys_select: Avoid \"was expanded before it was required\"\n\t* configure.ac (nw): Suppress GCC 7\u2019s new -Wduplicated-branches and\n\t-Wformat-overflow=2 options, due to too many false alarms.\n\t* doc/misc/texinfo.tex, lib/strftime.c, m4/manywarnings.m4:\n\tCopy from gnulib.\n\t* m4/gnulib-comp.m4: Regenerate.\n\t* src/coding.c (decode_coding_iso_2022):\n\tFix bug uncovered by -Wimplicit-fallthrough.\n\t* src/conf_post.h (FALLTHROUGH): New macro.\n\tUse it to mark all switch cases that fall through.\n\t* src/editfns.c (styled_format): Use !, not ~, on bool.\n\t* src/gtkutil.c (xg_check_special_colors):\n\tWhen using sprintf, don\u2019t trust Gtk to output colors in [0, 1] range.\n\t(xg_update_scrollbar_pos): Avoid use of possibly-uninitialized bool;\n\tthis bug was actually caught by Clang.\n\t* src/search.c (boyer_moore):\n\tTell GCC that CHAR_BASE, if nonzero, must be a non-ASCII character.\n\t* src/xterm.c (x_draw_glyphless_glyph_string_foreground):\n\tTell GCC that glyph->u.glyphless.ch must be a character.\n\n2017-05-16  Michael Albinus  <michael.albinus@gmx.de>\n\n\tMake autoloading Tramp more robust\n\n\t* lisp/net/tramp.el (tramp-file-name-for-operation):\n\tUse `default-directory' where appropriate.\n\t(tramp-file-name-handler): Do not autoload.\n\t(tramp-autoload-file-name-handler): Reintroduce function.\n\t(tramp-register-autoload-file-name-handlers): Use it.\n\n2017-05-16  Michael Albinus  <michael.albinus@gmx.de>\n\n\tExtend tramp-tests.el\n\n\t* test/lisp/net/tramp-tests.el (tramp-change-syntax):\n\tRemove declaration, not needed anymore.\n\t(tramp-test05-expand-file-name-relative): New test.\n\t(tramp-test10-write-region): Extend test.\n\n2017-05-16  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* lisp/net/tramp.el: Avoid recursive load of Tramp.  (Bug#26943)\n\n2017-05-16  Noam Postavsky  <npostavs@gmail.com>\n\n\tMake `indent-line-to' respect field boundaries (Bug#26891)\n\n\t* lisp/indent.el (indent-line-to): Use `back-to-indentation' instead\n\tof `backward-to-indentation'.\n\n2017-05-16  Noam Postavsky  <npostavs@gmail.com>\n\n\tMake sure indent-sexp stops at end of sexp (Bug#26878)\n\n\t* lisp/emacs-lisp/lisp-mode.el (indent-sexp): Check endpos before\n\tindenting.\n\t* test/lisp/emacs-lisp/lisp-mode-tests.el (indent-sexp-stop): New\n\ttest.\n\n2017-05-16  Glenn Morris  <rgm@gnu.org>\n\n\tStop some epg tests failing on rhel7 with gpg 2.0.22 (bug#23619)\n\n\t* test/lisp/epg-tests.el (with-epg-tests):\n\tAlso set GNUPGHOME in the environment of child processes.\n\tThis avoids problems if gpg does not pass --homedir to spawned agent.\n\n2017-05-16  Glenn Morris  <rgm@gnu.org>\n\n\tAdd oldxmenu to system-configuration-features\n\n\t* configure.ac (HAVE_OLDXMENU): New.\n\t(emacs_config_features): Add oldxmenu.\n\n2017-05-15  Ted Zlatanov  <tzz@lifelogs.com>\n\n\t* .gitlab-ci.yml: Adjust disclaimer as per RMS.\n\n2017-05-15  Eli Zaretskii  <eliz@gnu.org>\n\n\tRemove unneeded stuff from nt/inc/sys/time.h\n\n\t* nt/inc/sys/time.h (_TIMEVAL_DEFINED, struct timevat, timerisset)\n\t(timercmp, timerclear): Don't define.  Instead, include the system\n\theader sys/time.h, and add only the interval timers stuff.  This\n\tavoids compiler warnings about 'gettimeofday's prototype, and also\n\tavoids redefinition of macros from system headers.\n\n2017-05-15  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix address violation found by AddressSanitizer\n\n\t* src/process.c (connect_network_socket):\n\tUse struct sockaddr_storage, not struct sockaddr_in, to store info\n\tabout a socket address.  Problem reported by Philipp Stephani in:\n\thttps://lists.gnu.org/r/emacs-devel/2017-05/msg00314.html\n\tThis fix is based on a patch by Philipp in:\n\thttps://lists.gnu.org/r/emacs-devel/2017-05/msg00357.html\n\n2017-05-14  Gemini Lasswell  <gazally@runbox.com>\n\n\tMake edebug-step-in work on generic methods (Bug#22294)\n\n\t* lisp/emacs-lisp/edebug.el (edebug-match-cl-generic-method-args):\n\tNew function to implement the edebug-form-spec property of\n\tthe symbol cl-generic-method-args.\n\t(edebug-instrument-function): If the function is a generic\n\tfunction, find and instrument all of its methods. Return a list\n\tinstead of a single symbol.\n\t(edebug-instrument-callee): Now returns a list. Update docstring.\n\t(edebug-step-in): Handle the list returned by edebug-instrument-callee.\n\t* lisp/emacs-lisp/cl-generic.el (cl-defmethod): Use name and\n\tcl-generic-method-args in its Edebug spec.\n\t* lisp/emacs-lisp/eieio-compat.el (defmethod): Use name and\n\tcl-generic-method-args in its Edebug spec.\n\t* lisp/subr.el (method-files): New function.\n\t* test/lisp/subr-tests.el (subr-tests--method-files--finds-methods)\n\t(subr-tests--method-files--nonexistent-methods): New tests.\n\n2017-05-14  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from gnulib\n\n\tThis incorporates:\n\t2017-05-14 same-inode: Adapt for windows-stat-inodes\n\t2017-05-14 windows-stat-inodes: New module\n\t2017-05-14 stat-time: Adapt for windows-stat-timespec\n\t* lib/gnulib.mk.in: Regenerate.\n\t* lib/stat-time.h, lib/sys_types.in.h, m4/sys_types_h.m4:\n\tCopy from gnulib.\n\n2017-05-14  Eli Zaretskii  <eliz@gnu.org>\n\n\tRemove gettimeofday from w32 sources\n\n\t* lib-src/ntlib.c (gettimeofday):\n\t* nt/inc/sys/time.h (gettimeofday, struct timezone): Remove unused\n\tfunction 'gettimeofday' and all of its supporting code.\n\n2017-05-14  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix the MS-Windows build\n\n\t* nt/inc/sys/time.h (gettimeofday):\n\t* src/w32.c (gettimeofday): Adjust signature to match Gnulib.\n\n2017-05-14  Eli Zaretskii  <eliz@gnu.org>\n\n\tMore accurate documentation of the ':box' face attribute\n\n\t* doc/lispref/display.texi (Face Attributes): Fix the description\n\tof negative width of the ':box' attribute.  (Bug#26920)\n\n2017-05-14  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from gnulib\n\n\tThis incorporates:\n\t2017-05-13 largefile: Simplify\n\t2017-05-13 largefile: Improve and document\n\t2017-05-13 truncate: New module\n\t2017-05-13 windows-stat-timespec: New module\n\t2017-05-13 windows-stat-override: New module\n\t2017-05-11 getopt-posix: port to mingw\n\t2017-05-11 gettimeofday: Increase precision on mingw\n\t2017-05-10 time: Fix missing initialization of HAVE_TIMEZONE_T\n\t2017-05-10 Implement a way to opt out from MSVC support\n\t2017-05-09 tzset: Expand comment about TZ problem on native Windows\n\t* build-aux/config.guess, lib/dup2.c, lib/fcntl.c, lib/fsync.c:\n\t* lib/getdtablesize.c, lib/getopt.c, lib/gettimeofday.c:\n\t* lib/mktime.c, lib/stat-time.h, lib/sys_stat.in.h, lib/unistd.in.h:\n\t* lib/utimens.c, m4/gettimeofday.m4, m4/largefile.m4:\n\t* m4/sys_stat_h.m4, m4/sys_time_h.m4, m4/time_h.m4, m4/time_rz.m4:\n\t* m4/unistd_h.m4: Copy from gnulib.\n\t* lib/gnulib.mk.in, m4/gnulib-comp.m4: Regenerate.\n\n2017-05-14  Marcin Borkowski  <mbork@mbork.pl>\n\n\tMerge branch 'fix/bug-21072'\n\n2017-05-14  Ted Zlatanov  <tzz@lifelogs.com>\n\n\t* .gitlab-ci.yml: Add setup for GitLab CI builds.\n\n2017-05-13  Tak Kunihiro  <tkk@misasa.okayama-u.ac.jp>\n\n\tNew minor mode 'pixel-scroll-mode'\n\n\t* lisp/pixel-scroll.el: New file.\n\n\t* etc/NEWS: Mention pixel-scroll-mode.\n\n2017-05-13  Philipp  <phst@google.com>\n\n\tMake `old-style-backquotes' variable internal\n\n\t* src/lread.c (load_warn_old_style_backquotes, Fload, read1)\n\t(syms_of_lread): Rename `old-style-backquotes' to\n\t`lread--old-style-backquotes', and clarify that it's for internal\n\tuse only.\n\t* lisp/emacs-lisp/bytecomp.el (byte-compile-from-buffer): Rename\n\tvariable.\n\t* test/src/lread-tests.el (lread-tests--old-style-backquotes): Add\n\tunit test.\n\t* test/lisp/emacs-lisp/bytecomp-tests.el\n\t(bytecomp-tests--old-style-backquotes): Add unit test.\n\n2017-05-13  Philipp Stephani  <phst@google.com>\n\n\tImprove unescaped character literal warnings\n\n\t* src/lread.c (load_warn_unescaped_character_literals)\n\t(syms_of_lread):\n\tlisp/emacs-lisp/bytecomp.el (byte-compile-from-buffer): Improve\n\tformatting of unescaped character literal warnings.\n\n\t* test/src/lread-tests.el (lread-tests--unescaped-char-literals):\n\ttest/lisp/emacs-lisp/bytecomp-tests.el\n\t(bytecomp-tests--unescaped-char-literals): Adapt unit tests.\n\n2017-05-12  Alan Mackenzie  <acm@muc.de>\n\n\tFontify C++ for loop variable as variable, even when followed by parentheses\n\n\tIn the following: \"for (auto *Friend : Class->friends()) {\", \"Friend\" was\n\tgetting fontified as a function, due to insufficient checking of the tokens\n\tbetween it and \"()\".\n\n\t* lisp/progmodes/cc-langs.el (c-:-op-cont-tokens, c-:-op-cont-regexp): New\n\tlang-consts/vars.\n\n\t* lisp/progmodes/cc-engine.el (c-forward-declarator): After finding a putative\n\tdeclarator's identifier, check for a \":\" token inside a for's parentheses, and\n\tabort the search for \"(\" if this is found.\n\n2017-05-12  Michael Albinus  <michael.albinus@gmx.de>\n\n\tMake Tramp backward compatible\n\n\t* lisp/net/tramp-cmds.el (tramp-change-syntax):\n\tSet tramp-autoload cookie.\n\n\t* lisp/net/tramp-compat.el: Run `tramp-change-syntax' at\n\tstartup, if necessary.\n\n\t* lisp/net/tramp.el (tramp-syntax): Use `tramp-compat-user-error'.\n\t(tramp-register-autoload-file-name-handlers): Do not mark\n\t`operations' for `tramp-file-name-handler'.\n\t(tramp-register-file-name-handlers): Remove also\n\t`tramp-autoload-file-name-handler' for backward compatibility.\n\t(tramp-register-foreign-file-name-handler): Use `delete-dups'.\n\n\t* test/lisp/net/tramp-tests.el (tramp-change-syntax): Declare.\n\n2017-05-12  Noam Postavsky  <npostavs@gmail.com>\n\n\tModify `beginning-of-defun-comments'\n\n\t* lisp/emacs-lisp/lisp.el (beginning-of-defun-comments): Try not to stop\n\tin the middle of a multiline comment.\n\n2017-05-12  Noam Postavsky  <npostavs@gmail.com>\n\n\tFix elisp-tests-with-temp-buffer compilation\n\n\t* test/lisp/emacs-lisp/lisp-tests.el (elisp-tests-with-temp-buffer):\n\tDon't refer to the =!NAME= as \"markers\" since they produce variables\n\twith just plain positions, not marker objects.  Explicitly specify\n\tthat CONTENTS is evaluated at compile time.  Don't re-evaluate\n\tCONTENTS at runtime.  Fix debug specification.  Suppress warnings due\n\tto BODY not using =!NAME= variables.\n\t(elisp-test-point-position-regex): Rename from\n\t`elisp-test-point-marker-regex'.\n\t(mark-defun-test-buffer): Wrap in `eval-and-compile'.\n\n2017-05-12  Noam Postavsky  <npostavs@gmail.com>\n\n\t* lisp/emacs-lisp/lisp.el (mark-defun): Simplify moving the point.\n\n2017-05-12  Marcin Borkowski  <mbork@mbork.pl>\n\n\tFix Bug#21072 and rework `mark-defun'\n\n\t* test/lisp/progmodes/elisp-mode-tests.el (mark-defun-test-buffer):\n\t  New variable\n\t(mark-defun-no-arg-region-inactive)\n\t(mark-defun-no-arg-region-active)\n\t(mark-defun-arg-region-active)\n\t(mark-defun-pos-arg-region-inactive)\n\t(mark-defun-neg-arg-region-inactive, mark-defun-bob): Add tests for\n\tthe new `mark-defun'.\n\n\t* lisp/emacs-lisp/lisp.el (beginning-of-defun--in-emptyish-line-p):\n\t  New function.\n\t(beginning-of-defun-comments): New function.\n\t(mark-defun): Fix bug#21072, also rewrite large parts of `mark-defun'\n\tto accept a numerical prefix argument.\n\n2017-05-12  Alfred M. Szmidt  <ams@gnu.org>\n\n\t* lisp/mail/rmail.el (rmail-ignored-headers): Add 3 headers to ignore.\n\n2017-05-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove doc strings in net-utils.el\n\n\t* lisp/net/net-utils.el (ifconfig, iwconfig, netstat, arp)\n\t(route, traceroute, nslookup, ftp, smbclient)\n\t(smbclient-list-shares, finger, whois)\n\t(network-connection-to-service, network-service-connection)\n\t(network-connection-reconnect): Improve doc strings.\n\n2017-05-12  Andrew Robbins  <contact@andrewrobbins.info>\n\n\tExtend DNS lookup commands to allow specifying the name server\n\n\t* lisp/net/net-utils.el (ffap-string-at-point): Removed due to\n\t'net-utils-machine-at-point' obviating this autoloaded\n\tfunction (Bug#25426).\n\t(dig-program-options): New customization variable.\n\t(nslookup-host, dns-lookup-host, run-dig): Can now specify\n\toptional name server argument interactively (by prefix arg) and\n\tnon-interactively.\n\n\t* etc/NEWS: Mention the extension of DNS lookup commands.\n\n2017-05-12  Glenn Morris  <rgm@gnu.org>\n\n\tDon't hard-code loaddefs files in lisp/Makefile\n\n\t* lisp/Makefile.in (loaddefs): New variable.\n\t(AUTOGENEL): Use $loaddefs, and include directory.\n\t(bootstrap-clean): Update for AUTOGENEL change.\n\n2017-05-11  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\tKill modified buffers silently when quitting (bug#26862)\n\n\t* lisp/gnus/gnus-start.el (gnus-clear-system): Run do-auto-save to make\n\tsure that latest drafts are saved, and kill modified buffers silently.\n\n2017-05-10  Perry E. Metzger  <perry@piermont.com>\n\n\tImplement 1-based column numbering in mode line\n\n\t* src/xdisp.c (decode_mode_spec): Implement the %C construct.\n\n\t* lisp/bindings.el (column-number-indicator-zero-based): New\n\tdefcustom.\n\t(mode-line-position): Use %C when\n\tcolumn-number-indicator-zero-based is nil.\n\n\t* src/xdisp.c (syms_of_xdisp) <frame-title-format>:\n\t* src/buffer.c (syms_of_buffer) <mode-line-format>:\n\t* doc/lispref/modes.texi (%-Constructs):\n\t* doc/lispref/frames.texi (Frame Titles): Document the %C\n\tconstruct.\n\n\t* doc/emacs/display.texi (Optional Mode Line): Document\n\t'column-number-indicator-zero-based'.\n\n\t* etc/NEWS: Mention 'column-number-indicator-zero-based' and the\n\t%C construct.\n\n2017-05-10  Eli Zaretskii  <eliz@gnu.org>\n\n\tEnsure cursor's foreground color is in sync with 'default' face\n\n\t* src/w32term.c (x_set_cursor_gc): Don't reuse cursor GC if its\n\tforeground color is different from the background of the glyph\n\tstring's face.  (Bug#26851)\n\n2017-05-10  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix vertical cursor motion when columns are of unequal size\n\n\t* lisp/simple.el (line-move-finish): In line-move-visual mode, use\n\tvertical-motion to move to the goal column, as the goal column\n\tshould in that case be interpreted in units of frame's canonical\n\tcharacter width.  (Bug#26852)\n\n2017-05-10  Glenn Morris  <rgm@gnu.org>\n\n\tFix finding test .el files\n\n\t* test/Makefile.in (ELFILES): Exclude the data/ directory.\n\t* test/src/lread-tests.el (lread-test-bug26837): Revert previous.\n\n2017-05-10  Tino Calancha  <tino.calancha@gmail.com>\n\n\tTweak a recent test\n\n\tThis test fails in my local machine because the data files\n\tare compiled, and the test doesn't expect that.\n\t* test/src/lread-tests.el (lread-test-bug26837): Match a suffix\n\tending with '.elc' when the data files are compiled.\n\n2017-05-10  Glenn Morris  <rgm@gnu.org>\n\n\tPut license information in each generated uni-*.el\n\n\t* admin/unidata/unidata-gen.el (unidata-gen-file):\n\tGet Copyright line from copyright.html.\n\tPut information in file header, not separate README.\n\t(unidata-gen-charprop): Mention the source location.\n\t* lisp/international/README: Remove file.\n\n2017-05-10  Noam Postavsky  <npostavs@gmail.com>\n\n\tFix lisp-indent-region and indent-sexp (Bug#26619)\n\n\tThe new lisp-indent-region introduced in 2017-04-22 \"Add new\n\t`lisp-indent-region' that doesn't reparse the code.\" is broken because\n\tit doesn't save the calculated indent amounts for already seen sexp\n\tdepths.  Fix this by unifying the indent-sexp and lisp-indent-region\n\tcode.  Furthermore, only preserve position 2 of the running parse\n\twhen the depth doesn't change.\n\t* lisp/emacs-lisp/lisp-mode.el (lisp-ppss): Use an OLDSTATE that\n\tcorresponds with the start point when calling parse-partial-sexp.\n\t(lisp-indent-state): New struct.\n\t(lisp-indent-calc-next): New function, extracted from indent-sexp.\n\t(indent-sexp, lisp-indent-region): Use it.\n\t(lisp-indent-line): Take indentation, instead of parse state.\n\t* test/lisp/emacs-lisp/lisp-mode-tests.el\n\t(lisp-mode-tests--correctly-indented-sexp): New constant.\n\t(lisp-indent-region, lisp-indent-region-defun-with-docstring):\n\t(lisp-indent-region-open-paren, lisp-indent-region-in-sexp): New\n\ttests.\n\n2017-05-10  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tSimplify url-encode-url and add a test\n\n\t* lisp/url/url-util.el (url-encode-url): Simplify.\n\turl-generic-parse-url copes with multibyte strings just fine\n\t(https://debbugs.gnu.org/cgi/bugreport.cgi?bug=24117#185).\n\n\t* test/lisp/url/url-parse-tests.el\n\t(url-generic-parse-url/multibyte-host-and-path): New test.\n\n2017-05-10  Glenn Morris  <rgm@gnu.org>\n\n\tMore informative error when required feature missing\n\n\t* src/fns.c (Frequire): Include file name in missing feature error.\n\t* doc/lispref/loading.texi (Named Features): Don't quote actual error.\n\n2017-05-10  Glenn Morris  <rgm@gnu.org>\n\n\tPut re-loaded file back at start of load-history (bug#26837)\n\n\t* src/lread.c (readevalloop): Fix the \"whole buffer\" check to\n\toperate in the correct buffer.\n\t(Feval_buffer): Move point back to the start after checking\n\tfor lexical binding.\n\t* test/src/lread-tests.el (lread-test-bug26837): New test.\n\t* test/data/somelib.el, test/data/somelib2.el: New test data files.\n\n2017-05-09  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of 'gnutls-verify-error'\n\n\t* lisp/net/gnutls.el (gnutls-verify-error): Improve and expand\n\tdoc string.  (Bug#26845)\n\n2017-05-09  Glenn Morris  <rgm@gnu.org>\n\n\tDon't duplicate autoload code in package.el\n\n\t* lisp/emacs-lisp/autoload.el (autoload-rubric): Add a package option.\n\t* lisp/emacs-lisp/package.el (autoload-rubric): Declare.\n\t(package-autoload-ensure-default-file): Use autoload-rubric.\n\n2017-05-09  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* test/lisp/net/tramp-tests.el: Keep additional test.\n\n2017-05-09  Marcin Borkowski  <mbork@mbork.pl>\n\n\tAdd elisp-tests-with-temp-buffer, a new testing macro\n\n\t* test/lisp/emacs-lisp/lisp-tests.el\n\t(elisp-test-point-marker-regex) New variable.\n\t(elisp-tests-with-temp-buffer): New macro to help test functions\n\tmoving the point and/or mark.\n\n2017-05-09  Noam Postavsky  <npostavs@gmail.com>\n\n\tRevert \"Output number of characters added to file (Bug#354)\"\n\n\tThe extra message text turned out to be quite annoying in practice,\n\tand is generally more trouble than it's worth.  Also revert several\n\trelated changes.\n\n\tPartially revert \"Handle `write-region' messages in Tramp properly\"\n\tRevert \"New var write-region-verbose, default nil\"\n\tRevert \"* src/fileio.c (write_region): Don't say \"1 characters\".  (Bug#26796)\"\n\tRevert \"Minor tuneup of write-region change\"\n\tRevert \"Adjust write-region so file name is at the beginning again\"\n\tRevert \"Fix handling of non-integer START param to write-region\"\n\tRevert \"Output number of characters added to file (Bug#354)\"\n\n\t* doc/emacs/files.texi (Misc File Ops):\n\t* etc/NEWS:\n\t* lisp/epa-file.el (epa-file-write-region):\n\t* lisp/gnus/mm-util.el (mm-append-to-file):\n\t* lisp/jka-compr.el (jka-compr-write-region):\n\t* lisp/net/ange-ftp.el (ange-ftp-write-region):\n\t* lisp/net/tramp-adb.el (tramp-adb-handle-write-region):\n\t* lisp/net/tramp-gvfs.el (tramp-gvfs-handle-write-region):\n\t* lisp/net/tramp-sh.el (tramp-sh-handle-write-region):\n\t* lisp/net/tramp-smb.el (tramp-smb-handle-write-region):\n\t* lisp/net/tramp.el (tramp-handle-write-region-message):\n\t* src/fileio.c (write_region, syms_of_fileio):\n\t* test/lisp/net/tramp-tests.el (tramp-test10-write-region): Remove\n\textra characters from file writing messages.\n\n2017-05-09  Noah Friedman  <friedman@splode.com>\n\n\t(ybuffer-list): $alist must be ptr-unmasked at the end of the loop,\n\tbecause $ptr is modified by ygetptr and we use $ptr immediately at the\n\tbeginning.\n\n2017-05-08  Ken Brown  <kbrown@cornell.edu>\n\n\tSkip a test from filenotify-tests.el on Cygwin\n\n\t* test/lisp/filenotify-tests.el (file-notify-test02-rm-watch):\n\tSkip the last part of the test on Cygwin; it fails due to timing\n\tissues.\n\t(file-notify--test-read-event):  Remove `sit-for' that was added\n\tfor Cygwin.\n\n2017-05-08  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from gnulib\n\n\tThis incorporates:\n\t2017-05-08 intprops: don\u2019t depend on \u2018verify\u2019\n\t2017-05-07 utimens: on native Windows, improve resolution if fd < 0\n\t2017-05-07 utimens: Improve error code on native Windows\n\t* lib/intprops.h, lib/utimens.c: Copy from gnulib.\n\n2017-05-08  Wilson Snyder  <wsnyder@wsnyder.org>\n\n\tFix various verilog-mode.el issues.\n\n\t* lisp/progmodes/verilog-mode.el (verilog-read-decls): Fix SystemVerilog\n\t2012 import breaking AUTOINST.  Reported by Johannes Schaefer.\n\t(verilog-auto-wire-type, verilog-insert-definition): Fix AUTOWIRE using\n\tlogic in top-level non-SystemVerilog module, bug1142.  Reported by Marcin K.\n\t(verilog-define-abbrev-table) (verilog-mode-abbrev-table): Don't expand\n\tabbrev inside comment/strings, bug1102. Reported by Slava Yuzhaninov.\n\t(verilog-auto): Fix AUTORESET widths pulling from AUTOREGINPUT,\n\tmsg2143. Reported by Galen Seitz.\n\t(verilog-modify-compile-command): Fix expansion of __FLAGS__ when\n\tcompile-command is globally set, bug1119.  Reported by Galen Seitz.\n\n2017-05-08  Michael Albinus  <michael.albinus@gmx.de>\n\n\tHandle `write-region' messages in Tramp properly\n\n\t* lisp/net/tramp.el (tramp-handle-write-region-message): New defsubst.\n\t* lisp/net/tramp-adb.el (tramp-adb-handle-write-region):\n\t* lisp/net/tramp-gvfs.el (tramp-gvfs-handle-write-region):\n\t* lisp/net/tramp-sh.el (tramp-sh-handle-write-region):\n\t* lisp/net/tramp-smb.el (tramp-smb-handle-write-region): Use it.\n\n\t* lisp/net/tramp.el (tramp-password-prompt-regexp)\n\t(tramp-completion-mode-p):\n\t* lisp/net/tramp-cmds.el (tramp-reporter-dump-variable)\n\t(tramp-append-tramp-buffers):\n\t* lisp/net/tramp-smb.el (tramp-smb-maybe-open-connection):\n\tUse `bound-and-true-p'.\n\n\t* lisp/net/tramp-compat.el (tramp-compat-delete-file):\n\tDon't check for `boundp' anymore.\n\n\t* test/lisp/net/tramp-tests.el (ert-x): Require it.\n\t(tramp--test-messages): New defvar.\n\t(tramp-test10-write-region): Extend test.\n\n2017-05-08  YAMAMOTO Mitsuharu  <mituharu@math.s.chiba-u.ac.jp>\n\n\tFix glyph string generation for multi-font compositions (Bug#26742)\n\n\t* src/xdisp.c (glyph_string_containing_background_width): New function.\n\t(draw_glyphs): Use it to get correct background width.\n\t(compute_overhangs_and_x): Don't change x in the middle of composite\n\tcharacters.\n\n2017-05-07  Philipp Stephani  <phst@google.com>\n\n\tFix all unescaped character literals\n\n2017-05-07  Alan Mackenzie  <acm@muc.de>\n\n\tCC Mode internal cache: Handle a cache pos being inside a two-char construct.\n\n\tCache c-state-semi-nonlit-pos-cache was failing when a cache position was,\n\te.g., between the two characters of an opening comment \"/*\", and additionally\n\tthere were an odd number of quote marks (apostrophes) in the comment.  This\n\thappened in .../src/xdisp.c in the Emacs master branch around 2017-05-02 at\n\tbuffer position 615001.\n\n\t* lisp/progmodes/cc-defs.el (c-emacs-features): Repurpose symbol\n\tpps-extended-state to mean that there are at least 11 elements in the parser\n\tstate.\n\n\t* lisp/progmodes/cc-engine.el (c-cache-to-parse-ps-state)\n\t(c-parse-ps-state-to-cache): Rewrite these to use enhanced cache element list\n\ttypes which indicate potentially being inside two-char constructs.\n\t(c-parse-ps-state-below): Rewrite to use the new versions of the above two\n\tfunctions.\n\n2017-05-07  Glenn Morris  <rgm@gnu.org>\n\n\tSilence an mh-compat compiler warning\n\n\t* lisp/mh-e/mh-compat.el (mh-url-unreserved-chars): Always define.\n\n2017-05-07  Glenn Morris  <rgm@gnu.org>\n\n\tEvaluate mh-require when compiling\n\n\t* lisp/mh-e/mh-alias.el, lisp/mh-e/mh-folder.el:\n\t* lisp/mh-e/mh-gnus.el, lisp/mh-e/mh-search.el:\n\tEvaluate mh-require when compiling, as require is automatically.\n\t* lisp/mh-e/mh-gnus.el: No longer disable byte-compilation.\n\n2017-05-07  Glenn Morris  <rgm@gnu.org>\n\n\tRemove obsolete method of changing byte-compile-dest-file\n\n\t* lisp/emacs-lisp/bytecomp.el (byte-compile-dest-file):\n\tDefine unconditionally.\n\n2017-05-07  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tNew var write-region-verbose, default nil\n\n\tBy popular demand, write-region char counts are now off by default\n\t(Bug#26796).\n\t* src/fileio.c (write-region-verbose): New Lisp var.\n\t(write_region): Output char count only if the var is non-nil.\n\t* doc/emacs/files.texi (Misc File Ops), etc/NEWS: Document this.\n\n2017-05-07  Glenn Morris  <rgm@gnu.org>\n\n\tWrite autoloads file atomically\n\n\t* lisp/emacs-lisp/autoload.el (autoload--save-buffer):\n\tNew function, to save buffer atomically.\n\t(autoload-save-buffers, update-directory-autoloads):\n\tUse autoload--save-buffer.\n\t* lisp/Makefile.in ($(lisp)/loaddefs.el):\n\tNo longer write to a temp file by hand.\n\n2017-05-07  Glenn Morris  <rgm@gnu.org>\n\n\tWrite autoloads file once only\n\n\t* lisp/emacs-lisp/autoload.el (autoload-find-generated-file):\n\tSimplify.  Don't bother about ensuring the output file exists.\n\t(autoload-generated-file): Add doc.\n\t(autoload-ensure-writable): Update doc.\n\t(autoload-ensure-file-writeable): Handle non-existing file.\n\t(autoload-ensure-default-file): Remove function.\n\n2017-05-07  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort .gdbinit to GDB 7.11.1 + Python 2.7.12\n\n\t* src/.gdbinit (Lisp_Object_Printer.to_string):\n\tExplicitly convert integer val to 'int', so that\n\tolder GDBs do not complain about the conversion.\n\t* src/lisp.h (Lisp_Object) [CHECK_LISP_OBJECT_TYPE]:\n\tGive the struct a tag, so that older GDB pretty-printers have a\n\ttag to hang their hat on.\n\n2017-05-06  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPretty-print const Lisp_Objects in .gdbinit\n\n\t* src/.gdbinit (Emacs_Pretty_Printers.__call__):\n\tCompare unqualified type to Lisp_Object, to do the right thing\n\twhen the expression has type \u2018Lisp_Object const\u2019.\n\tProblem reported by Eli Zaretskii in:\n\thttps://lists.gnu.org/r/emacs-devel/2017-05/msg00138.html\n\n2017-05-06  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPacify GCC setjmp/longjmp warning\n\n\t* src/eval.c (internal_lisp_condition_case): Do not modify local\n\tvar VAR, to pacify GCC\u2019s setjmp/longjmp warning which in some\n\tcases mistakenly diagnoses VAR possibly being modified between a\n\tsetjmp and a longjmp.\n\n2017-05-06  Philipp  <phst@google.com>\n\n\tFix bootstrap build of files.el\n\n\t* lisp/files.el (file-name-non-special): Don't use cl-letf.\n\n2017-05-06  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix last change for MS-Windows\n\n\t* test/src/emacs-module-tests.el (module-function-object): Port to\n\tMS-Windows.\n\n2017-05-06  Philipp Stephani  <phst@google.com>\n\n\tIntroduce new misc type for module function\n\n\tThis resolves a couple of FIXMEs in emacs-module.c.\n\n\t* src/lisp.h (MODULE_FUNCTIONP, XMODULE_FUNCTION): New functions.\n\n\t* src/alloc.c (make_module_function): New function.\n\t(mark_object): GC support.\n\n\t* src/data.c (Ftype_of, syms_of_data): Handle module function type.\n\n\t* src/print.c (print_object): Print support for new type.\n\n\t* src/emacs-module.c (module_make_function, Finternal_module_call):\n\tUse new module function type, remove FIXMEs.\n\t(module_format_fun_env): Adapt and give it external linkage.\n\n\t* test/src/emacs-module-tests.el (module-function-object): Add unit\n\ttest.\n\n2017-05-06  Philipp Stephani  <phst@google.com>\n\n\tFix quoted files for 'verify-visited-file-modtime'\n\n\tFixes Bug#25951.\n\n\t* lisp/files.el (file-name-non-special): Set the file name for the\n\tcorrect buffer.\n\n\t* test/lisp/files-tests.el (files-tests--file-name-non-special--buffers):\n\tAdd unit test.\n\t(files-tests--with-advice, files-tests--with-temp-file): New helper\n\tmacros.\n\n2017-05-06  Eli Zaretskii  <eliz@gnu.org>\n\n\t* src/fileio.c (write_region): Don't say \"1 characters\".  (Bug#26796)\n\n2017-05-06  Eli Zaretskii  <eliz@gnu.org>\n\n\tTurn on GC_CHECK_MARKED_OBJECTS by default under ENABLE_CHECKING\n\n\t* src/alloc.c (GC_CHECK_MARKED_OBJECTS): Define to 1 by default of\n\tENABLE_CHECKING is defined.\n\t(mark_object): Test for GC_CHECK_MARKED_OBJECTS being non-zero,\n\tinstead of being defined.\n\n2017-05-06  Tom Tromey  <tom@tromey.com>\n\n\tFix erc-join with channel password\n\n\tBug#25349\n\t* lisp/erc/erc-join.el (erc-autojoin-after-ident): Switch order of\n\tserver names.\n\t(erc-autojoin-channels, erc-autojoin-add, erc-autojoin-remove):\n\tLikewise.\n\t(erc-server-join-channel): Move to erc.el.\n\t* lisp/erc/erc.el (erc-server-join-channel): Move from erc-join.el.\n\t(erc-cmd-JOIN): Use erc-server-join-channel.\n\n2017-05-06  Tino Calancha  <tino.calancha@gmail.com>\n\n\tEnsure the created temp file in a test is new\n\n\t* test/lisp/buff-menu-tests.el (buff-menu-24962): Use `make-temp-file'\n\tto create the temp file.\n\n2017-05-06  Glenn Morris  <rgm@gnu.org>\n\n\tDecruftify dns-mode.el a little bit\n\n\t* lisp/textmodes/dns-mode.el (dns-mode-control-entities):\n\tNew constant.\n\t(dns-mode-control-entity, dns-mode-bad-control-entity)\n\t(dns-mode-type, dns-mode-class): New faces.\n\t(dns-mode-control-entity-face, dns-mode-bad-control-entity-face)\n\t(dns-mode-type-face, dns-mode-class): Make these variables use the\n\tnew faces, and mark as obsolete.\n\t(dns-mode-font-lock-keywords): Use dns-mode-control-entities.\n\n2017-05-06  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPretty-print Lisp_Object values in GDB\n\n\t* src/.gdbinit: Add a pretty-printer for Lisp_Object values.  Now,\n\tGDB displays them as \"XIL(0xXXX)\" rather than displaying them\n\tas \"...\" when CHECK_LISP_OBJECT_TYPE is in effect and as \"DDDDD\"\n\totherwise.\n\n2017-05-05  Peder O. Klingenberg  <peder@klingenberg.no>\n\n\tTweak dns-mode font-lock\n\n\t* lisp/textmodes/dns-mode.el (dns-mode-font-lock-keywords):\n\tHighlight $TTL as a control entity.  (Bug#26780)\n\n2017-05-05  Glenn Morris  <rgm@gnu.org>\n\n\tFontify the doc-string in some CL forms as such\n\n\t* lisp/emacs-lisp/lisp-mode.el (defconstant, defparameter):\n\tAdd the doc-string-elt property.  (Bug#26778)\n\n2017-05-05  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/emacs-lisp/cl-lib.el (cl-mapcar): Remove recent autoload cookie.\n\n2017-05-05  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tcl-defmethod: Make the edebug spec more technically correct\n\n\t* lisp/emacs-lisp/cl-generic.el (cl-defmethod): Denote the\n\tedebug spec part for qualifiers as [&rest atom], per\n\thttps://lists.gnu.org/r/emacs-devel/2017-05/msg00053.html.\n\n2017-05-05  Mike Kupfer  <mkupfer@alum.berkeley.edu>\n\n\tFix MH-E not to load cl at runtime (Bug#25552)\n\n\t* lisp/mh-e/mh-acros.el (defun-mh): Check at runtime, not\n\tcompile time, whether the target is bound.\n\t* lisp/mh-e/mh-compat.el: Enable compilation.  Pull in\n\tmh-acros at compile time.\n\tAuthored-by: Glenn Morris <rgm@gnu.org>, Noam Postavsky\n\t<npostavs@users.sourceforge.net>\n\n2017-05-04  Jean-Christophe Helary  <jean.christophe.helary@gmail.com>\n\n\tMultiline support in NS \"Open Selected File\" service.\n\n\t* lisp/term/ns-win.el (ns-open-file-service): new function. Wraps the\n\toriginal call in a (split-string) to create as many calls as there\n\tare lines.\n\t(ns-spi-service-call): Call `ns-open-file-service' instead of\n\t`dnd-open-file'.\n\n2017-05-04  G\u00f6ktu\u011f Kayaalp  <self@gkayaalp.com>\n\n\tRequire cl-lib at runtime in vc-hg\n\n\t* lisp/vc/vc-hg.el: Require cl-lib at runtime as well (bug#26609).\n\n2017-05-04  Tino Calancha  <tino.calancha@gmail.com>\n\n\tInherit incompatible/obsolete package faces from error\n\n\tDon't use the same face for installed packages as for incompatible\n\tor obsolete ones.\n\t* lisp/emacs-lisp/package.el (package-status-incompat): Inherit from error.\n\n2017-05-04  Michael Albinus  <michael.albinus@gmx.de>\n\n\tSet process property `adjust-window-size-function' to `ignore' in Tramp\n\n\t* lisp/net/tramp-adb.el (tramp-adb-parse-device-names)\n\t(tramp-adb-maybe-open-connection):\n\t* lisp/net/tramp-gvfs.el (tramp-gvfs-handle-file-notify-add-watch):\n\t* lisp/net/tramp-sh.el (tramp-do-copy-or-rename-file-out-of-band)\n\t(tramp-maybe-open-connection):\n\t* lisp/net/tramp-smb.el (tramp-smb-handle-copy-directory)\n\t(tramp-smb-handle-file-acl, tramp-smb-handle-set-file-acl)\n\t(tramp-smb-maybe-open-connection): Set process property\n\t`adjust-window-size-function' to `ignore'.\n\n2017-05-04  Nicolas Petton  <nicolas@petton.fr>\n\n\t* lisp/emacs-lisp/seq.el: Bump seq version.\n\n2017-05-04  Damien Cassou  <damien@cassou.me>\n\n\tAdd seq-set-equal-p to test for set equality\n\n\t* lisp/emacs-lisp/seq.el (seq-set-equal-p): Add function to compare\n\t  two lists as if they were sets.\n\n\t* test/lisp/emacs-lisp/seq-tests.el (test-seq-set-equal-p): Add test\n\t  for seq-set-equal-p.\n\n2017-05-04  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSpelling fixes\n\n\t* lisp/gnus/nndiary.el (nndiary-last-occurrence):\n\tRename from nndiary-last-occurence.\n\t(nndiary-next-occurrence):\n\tRename from nndiary-next-occurence.  All uses changed.\n\n2017-05-04  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from pkg-config\n\n\t* m4/pkg.m4: Copy from pkg-config 0.29.1.\n\n2017-05-04  Tom Tromey  <tom@tromey.com>\n\n\tAdd color highlighting to css-mode\n\n\tBug#25525\n\t* lisp/textmodes/css-mode.el (css--color-map): New constant.\n\t(css-value-class-alist): Use css--color-map.\n\t(css--number-regexp, css--percent-regexp)\n\t(css--number-or-percent-regexp, css--angle-regexp): New constants.\n\t(css--color-skip-blanks, css--rgb-color, css--hsl-color): New\n\tfunctions.\n\t(css--colors-regexp): New constant.\n\t(css--hex-color, css--named-color, css--compute-color)\n\t(css--contrasty-color, css--fontify-colors)\n\t(css--fontify-region): New functions.\n\t(css-mode): Set font-lock-fontify-region-function.\n\t(css-mode-syntax-table): Set syntax on more characters.\n\t(css-fontify-colors): New defcustom.\n\t(scss-mode-syntax-table): Define syntax for ?$ and ?%.\n\t* test/lisp/textmodes/css-mode-tests.el (css-test-property-values):\n\tUpdate.\n\t(css-test-rgb-parser, css-test-hsl-parser)\n\t(css-test-named-color): New tests.\n\t* etc/NEWS: Add entry.\n\n2017-05-03  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix Bug#26763\n\n\t* lisp/files.el (delete-directory): Call file name handler\n\twith `trash' argument.\n\n\t* lisp/net/ange-ftp.el (ange-ftp-delete-directory):\n\t* lisp/net/tramp-sh.el (tramp-sh-handle-delete-directory):\n\tAdd TRASH arg.  Implement it.  (Bug#26763)\n\t(tramp-get-remote-trash): Check for `delete-by-moving-to-trash'.\n\n\t* lisp/net/tramp-adb.el (tramp-adb-handle-delete-directory):\n\t* lisp/net/tramp-smb.el (tramp-smb-handle-delete-directory):\n\tAdd _TRASH arg.\n\n2017-05-03  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tUse ptrdiff_t, not int, for stack sizes\n\n\t* src/thread.c (invoke_thread_function):\n\t* src/xterm.c (x_cr_export_frames):\n\tDon\u2019t assume SPECPDL_INDEX fits in \u2018int\u2019.\n\n2017-05-03  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tCheck list object type if --enable-gcc-warnings\n\n\t* configure.ac (--enable-check-lisp-object-type):\n\tDefault to \"yes\" if --enable-gcc-warnings is not \"no\".\n\t* etc/NEWS: Mention this.\n\t* src/eval.c (internal_lisp_condition_case): Fix some glitches\n\twith 'volatile' uncovered by the above: in particular, 'clauses'\n\tshould be a pointer to volatile storage on the stack, and need not\n\tbe volatile itself.  Use an int, not ptrdiff_t, to count clauses.\n\tDon\u2019t bother gathering binding count if VAR is nil.  Use\n\tmore-specific local names to try to clarify what\u2019s going on.\n\n2017-05-02  Glenn Morris  <rgm@gnu.org>\n\n\tTweak auth-source-pass.el to avoid run-time subr-x\n\n\t* lisp/auth-source-pass.el (auth-source-pass--parse-data):\n\tAvoid needing subr-x at run-time.\n\n2017-05-02  Charles A. Roelli  <charles@aurox.ch>\n\n\tConstrain non-child frames to screen area in OS X\n\n\t* src/nsterm.m (constrainFrameRect:toScreen:): Constrain non-child\n\tframes in OS X, if they would otherwise go offscreen.\n\n\t(Bug#25818)\n\n2017-05-02  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix error in completion for separate Tramp syntax\n\n\t* lisp/net/tramp.el (tramp-completion-file-name-regexp-separate):\n\tTweak regexp.\n\n\t* test/lisp/net/tramp-tests.el (tramp-test24-file-name-completion):\n\tRun method and host name completion for all syntaxes.\n\n2017-05-02  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid compilation warnings\n\n\t* src/w32fns.c (Fx_file_dialog, w32_parse_and_hook_hot_key):\n\t* src/w32term.c (x_draw_glyph_string):\n\t* src/w32fns.c (compute_tip_xy):\n\t* src/w32font.c (w32font_text_extents):\n\t* src/w32menu.c (set_frame_menubar):\n\t* src/search.c (Freplace_match): Avoid compiler warnings in\n\toptimized builds.\n\n2017-05-02  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from gnulib\n\n\tThis incorporates:\n\t2017-05-02 utimens: port to Emacs + MS-Windows\n\t* lib/utimens.c: Copy from gnulib.\n\n2017-05-02  Gemini Lasswell  <gazally@runbox.com>\n\n\tFix Edebug specs for 'cl-defmethod' and 'defmethod'\n\n\t* lisp/emacs-lisp/cl-generic.el (cl-defmethod): Change Edebug spec\n\tto make Edebug generate a new symbol for each method (Bug#24753) and\n\tto support a string following :extra (Bug#23995).\n\t* lisp/emacs-lisp/eieio-compat.el (defmethod): Change Edebug spec to\n\tmake Edebug generate a new symbol for each method (Bug#24753).\n\n2017-05-02  Eli Zaretskii  <eliz@gnu.org>\n\n\tTemporary fix for the MS_Windows build\n\n\t* nt/inc/ms-w32.h (WIN32_LEAN_AND_MEAN): Define to an empty value,\n\tto be consistent with Gnulib's utimens.c.  This is because utimens.c\n\tunconditionally defines WIN32_LEAN_AND_MEAN to an empty value, so the\n\tprevious definition here conflicted with that.\n\n2017-05-02  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort format-time-string to MS-Windows better\n\n\t* test/src/editfns-tests.el (format-time-string-with-zone):\n\tPort test cases to MS-Windows.\n\n2017-05-02  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from gnulib\n\n\tThis incorporates:\n\t2017-05-01 New module 'localtime-buffer'\n\t2017-04-30 utimens: Add support for native Windows\n\t* admin/merge-gnulib (AVOIDED_MODULES): Add tzset.\n\t* configure.ac (tzset): No need for Emacs itself to check now.\n\t* lib/gettimeofday.c, lib/time.in.h, lib/time_rz.c, lib/utimens.c:\n\t* m4/gettimeofday.m4, m4/time_h.m4, m4/time_rz.m4: Copy from gnulib.\n\t* lib/gnulib.mk.in, m4/gnulib-comp.m4: Regenerate.\n\t* lib/localtime-buffer.c, lib/localtime-buffer.h:\n\t* m4/localtime-buffer.m4: New files, copied from gnulib.\n\t* src/editfns.c (init_editfns): Assume tzset is callable.\n\n2017-05-01  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tSpeed up project-find-regexp for simple regexps\n\n\t* lisp/progmodes/xref.el (xref--regexp-syntax-dependent-p):\n\tNew function.\n\t(xref--collect-matches): Use it.  Don't try to enable the\n\tappropriate major mode and file-local variables if the regexp\n\tdoes not depend on the buffer's syntax (bug#26710).\n\t(xref--collect-matches-1): Don't syntax-propertize in that\n\tcase either.\n\n2017-05-01  Philipp Stephani  <phst@google.com>\n\n\tWarn about missing backslashes during load\n\n\t* src/lread.c (load_warn_unescaped_character_literals, Fload, read1)\n\t(syms_of_lread): Warn if unescaped character literals are\n\tfound (Bug#20152).\n\t* lisp/emacs-lisp/bytecomp.el (byte-compile-from-buffer): Check for\n\tunescaped character literals during byte compilation.\n\t* test/src/lread-tests.el (lread-tests--unescaped-char-literals): New\n\tunit test.\n\t(lread-tests--with-temp-file, lread-tests--last-message): Helper\n\tfunctions for unit test.\n\t* test/lisp/emacs-lisp/bytecomp-tests.el\n\t(bytecomp-tests--unescaped-char-literals): New unit test.\n\t* test/lisp/emacs-lisp/bytecomp-tests.el (bytecomp-tests--with-temp-file):\n\tHelper macro for unit test.\n\n2017-05-01  Ken Brown  <kbrown@cornell.edu>\n\n\t* configure.ac: Suggest Mailutils on Cygwin.\n\n2017-05-01  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDon\u2019t stress-test time zones near the Epoch\n\n\t* test/src/editfns-tests.el (format-time-string-with-zone)\n\t(format-time-string-with-outlandish-zone): Don\u2019t format\n\ttimestamps near the Epoch, as this runs into bugs on MS-Windows,\n\tand we don\u2019t want to worry about those bugs.\n\n2017-05-01  Glenn Morris  <rgm@gnu.org>\n\n\tTweak vc-tests.el for bzr\n\n\t* test/lisp/vc/vc-tests.el (vc-test--working-revision):\n\tHandle test environments where HOME does not exist.\n\n2017-05-01  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tvc-git-state: Return `ignored' as appropriate with newer Git\n\n\t* lisp/vc/vc-git.el\n\t(vc-git--program-version): New variable.\n\t(vc-git--program-version): New function.\n\t(vc-git-state): Use it to choose whether to add '--ignored' (bug#19343).\n\n2017-05-01  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tvc-git-state: Bring back CentOS 6 compatibility\n\n\t* lisp/vc/vc-git.el (vc-git-state):\n\tBring back CentOS 6 compatibility (bug#19343).\n\n2017-05-01  Martin Rudalics  <rudalics@gmx.at>\n\n\tRewrite w32fns.c's `x_set_menu_bar_lines'\n\n\t* src/w32fns.c (x_set_menu_bar_lines): Redraw frame immediately\n\tregardless of whether menu bar is added or removed.  Clear\n\tunder internal border iff a W32 window exists.  Store either 0\n\tor 1 as new parameter value.\n\t(x_change_tool_bar_height): Use FRAME_W32_WINDOW instead of\n\tFRAME_X_WINDOW.\n\n2017-05-01  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix filenotify-tests.el for cygwin\n\n\t* test/lisp/filenotify-tests.el (file-notify--test-read-event):\n\tAdd an additional `sit-for'.\n\t(file-notify-test02-rm-watch): Add an additional\n\t`file-notify--test-read-event' call.\n\n2017-05-01  Jonathan Ganc  <jonganc@gmail.com>\n\n\tSpeed up vc-git-status and make it more precise\n\n\t* lisp/vc/vc-git.el (vc-git-state)\n\t(vc-git--git-status-to-vc-state): Update 'vc-git-state' to use\n\t'git status', so that 'vc-git-state' can now return 'ignored',\n\t'conflict', or 'unregistered' when appropriate.  Discussed in\n\tbug#26066.  Fixes bug#19343.\n\n2017-05-01  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tFix Git revision navigation in currently removed directories\n\n\t* lisp/vc/vc-git.el (vc-git-next-revision): Use the repo root as\n\tdefault-directory because FILE's parent directory might not exist\n\tanymore (bug#26345).\n\n2017-04-30  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from gnulib\n\n\tThis incorporates:\n\t2017-04-30 strftime-fixes: New module\n\t2017-04-30 mktime: Work around TZ problem on native Windows\n\t2017-04-30 ctime, localtime: New modules\n\t2017-04-30 gettimeofday: Provide higher resolution on native Windows\n\t2017-04-29 utime-h: Modernize handling of 'struct utimbuf'\n\t2017-04-29 Make use of module 'utime-h'\n\t2017-04-30 Fix a few typos\n\t* admin/merge-gnulib (AVOIDED_MODULES): Avoid utime-h, too.\n\t* lib/gettimeofday.c, lib/mktime.c, lib/time.in.h, lib/utimens.c:\n\t* m4/gettimeofday.m4, m4/include_next.m4, m4/mktime.m4:\n\t* m4/strftime.m4, m4/time_h.m4, m4/timegm.m4, m4/utimens.m4:\n\tCopy from gnulib.\n\t* lib/gnulib.mk.in, m4/gnulib-comp.m4: Regenerate.\n\n2017-04-30  Eli Zaretskii  <eliz@gnu.org>\n\n\tDon't lose key bindings on mis-spelled text in flyspell-mode\n\n\t* lisp/textmodes/flyspell.el (flyspell-mouse-map): Bind mouse-2\n\texplicitly.\n\t(make-flyspell-overlay): If the mis-spelled text already has a\n\t'keymap' property, make that keymap the parent of\n\tflyspell-mouse-map, so as not to lose the parent's bindings.\n\t(Bug#26672)\n\n2017-04-30  Martin Rudalics  <rudalics@gmx.at>\n\n\tFix `delete-frame' behavior including Bug#26682\n\n\t* src/frame.c (other_frames): Accept two arguments now.  Don't\n\tcare about minibuffer window.  Don't care about visibility when\n\tcalled from delete_frame with FORCE true (Bug#26682).\n\t(delete_frame, Fmake_frame_invisible): Adjust other_frames\n\tcalls.\n\t* src/w32term.c (w32_read_socket): Don't add a move frame event\n\tfor an invisible frame.\n\t* lisp/frame.el (handle-delete-frame): Don't kill Emacs when\n\tattempting to delete a surrogate minibuffer frame.\n\n2017-04-30  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from gnulib\n\n\tThis avoids incorporating the following, which I suspect are\n\tmore trouble for Emacs than they\u2019re worth:\n\t2017-04-29 stat, fstat: fix time_t etc. on native Windows platforms\n\t* admin/merge-gnulib (AVOIDED_MODULES): Avoid stat, too.\n\t* lib/gnulib.mk.in, m4/gnulib-comp.m4: Regenerate.\n\t* lib/pathmax.h, lib/stat.c, m4/pathmax.m4, m4/stat.m4: Remove.\n\n2017-04-30  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix buffer overflow in make-docfile\n\n\t* lib-src/make-docfile.c (scan_c_stream): Check for buffer\n\toverflow when reading an identifier.  Use a static buffer for NAME\n\trather than a small dynamically-allocated buffer.\n\n2017-04-30  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from gnulib\n\n\tThis incorporates:\n\t2017-04-29 getopt: port to Solaris 10 with circa-1997 glibc getopt.h\n\t* lib/getopt-pfx-ext.h: Copy from gnulib.\n\t* lib/gnulib.mk.in: Regenerate.\n\n2017-04-30  Tino Calancha  <tino.calancha@gmail.com>\n\n\tFix dependency error during bootstrap\n\n\t* lisp/files.el: Require pcase and easy-mmode at compile time.\n\n2017-04-30  Mats Lidell  <mats.lidell@cag.se>\n\n\t* etc/tutorials/TUTORIAL.sv: synced with TUTORIAL\n\n2017-04-29  Philipp Stephani  <phst@google.com>\n\n\tReimplement auto-saving to visited files\n\n\tThis reacts to confusing behavior of 'auto-save-visited-file-name',\n\tcf. Bug#25478.\n\n\t* lisp/files.el (auto-save-visited-interval): New customization option.\n\t(auto-save-visited-mode): New global minor mode.\n\t(auto-save-visited-file-name): Make obsolete.\n\t(auto-save--timer): New internal helper variable.\n\n\t* doc/emacs/files.texi (Auto Save Files): Document\n\t'auto-save-visited-mode' instead of obsolete\n\t'auto-save-visited-file-name'.\n\t(Auto Save Control): Document customization option\n\t'auto-save-visited-interval'.\n\n2017-04-29  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tAllow bypassing of some checks when merging\n\n\t* build-aux/git-hooks/pre-commit: Don't check merged-in changes.\n\n2017-04-29  Philipp Stephani  <phst@google.com>\n\n\tIntegrate module test with normal test suite\n\n\t* test/Makefile.in (ELFILES): Exclude module test if modules aren't\n\tconfigured.\n\t(EMACS_TEST_DIRECTORY): Expand test directory so that it's set\n\tcorrectly even if Emacs changes the current directory.\n\t($(srcdir)/src/emacs-module-tests.log)\n\t($(test_module)): Proper dependency tracking for test module.\n\n\t* test/data/emacs-module/Makefile (ROOT): Adapt to new location.\n\tRemove 'check' target and EMACS variable, which are no longer\n\tnecessary.\n\t(SO): Change to include period.\n\n\t* test/src/emacs-module-tests.el (mod-test): Use EMACS_TEST_DIRECTORY\n\tenvironment variable to reliably find test data.\n\n\t* configure.ac (HAVE_MODULES, MODULES_SUFFIX): Add necessary\n\tsubstitutions.\n\n2017-04-28  Glenn Morris  <rgm@gnu.org>\n\n\tBroaden comint-password-prompt-regexp\n\n\t* lisp/comint.el (comint-password-prompt-regexp):\n\tBroaden the regexp, for non-English locales.  (Bug#26698)\n\n2017-04-28  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/auth-source.el (auth-source-backend-parse): `return' -> cl-return.\n\n2017-04-28  Bartosz Duszel  <bartosz.duszel@gmail.com>\n\n\tDon't pass the value of point to 'push-mark', as that's the default.\n\n\t* lisp/textmodes/bib-mode.el (mark-bib):\n\t* lisp/simple.el (mark-whole-buffer, yank):\n\t* lisp/ses.el (ses--advice-yank, ses-mark-row, ses-mark-column):\n\t* lisp/progmodes/xscheme.el (xscheme-yank):\n\t* lisp/progmodes/verilog-mode.el (verilog-mark-defun):\n\t* lisp/progmodes/perl-mode.el (perl-mark-function):\n\t* lisp/progmodes/pascal.el (pascal-mark-defun):\n\t* lisp/progmodes/meta-mode.el (meta-mark-defun):\n\t* lisp/progmodes/icon.el (mark-icon-function):\n\t* lisp/progmodes/cc-cmds.el (c-mark-function):\n\t* lisp/obsolete/vip.el (ex-goto):\n\t* lisp/obsolete/vi.el (vi-put-before):\n\t* lisp/mouse.el (mouse-yank-primary):\n\t* lisp/menu-bar.el (menu-bar-select-yank):\n\t* lisp/mail/sendmail.el (mail-yank-original):\n\t* lisp/hexl.el (hexl-beginning-of-buffer, hexl-end-of-buffer):\n\t* lisp/emulation/viper-cmd.el (viper-mark-beginning-of-buffer)\n\t(viper-mark-end-of-buffer):\n\t* lisp/cedet/semantic/senator.el (senator-mark-defun):\n\t* lisp/allout.el (allout-mark-topic): Remove unnecessary argument\n\t`(point)' from calls to `push-mark'.  (Bug#25565)\n\n2017-04-28  Glenn Morris  <rgm@gnu.org>\n\n\tMerge from origin/emacs-25\n\n\t784602b1050 (origin/emacs-25) ; Add release notice\n\t3a34412caae (tag: emacs-25.2) Set Emacs version to 25.2 and update AU...\n\t56a4461a48d ; Move stray item from admin/notes/repo to CONTRIBUTE\n\t2b0d1118199 ; CONTRIBUTE: Remove stray header.\n\tf2ab09ec60d Fix a typo in indexing the user manual\n\tbc55a574235 * lisp/menu-bar.el (kill-this-buffer): Doc fix.  (Bug#26466)\n\ta6d50401b4b Document 'line-pixel-height'\n\t0c55cf43e61 * search.c (Fre_search_forward, Fre_search_backward): Imp...\n\tc7ed57eaef4 Mention that processes start in default-directory (Bug#18...\n\t856ec9ffa1f * src/xdisp.c (vmessage, message): Clarify commentary.\n\t849a0aaa1c9 Belated fixes for admin.el's M-x make-manuals-dist\n\t84938d79698 default-directory: Remark that it must be a directory name\n\t3f0d047d2eb Delete confuse statement in manual\n\tee1bd94dd0c Improve packaging documentation\n\tfb18bff91f0 Expand manual section on quitting windows\n\t9a737079645 Fix docstring of dabbrev-abbrev-char-regexp\n\tafe8849bac1 * doc/misc/cl.texi (Iteration Clauses): Clarify example (...\n\tada79442c07 ;* doc/misc/info.texi (Choose menu subtopic): Improve ind...\n\td38fd9229c0 Narrow scope of modification hook renabling in org-src fo...\n\te0e9db4c84a ; Spelling fix\n\n\t# Conflicts:\n\t#\tREADME\n\t#\tetc/AUTHORS\n\t#\tetc/HISTORY\n\t#\tlisp/ldefs-boot.el\n\n2017-04-28  Glenn Morris  <rgm@gnu.org>\n\n\t* doc/misc/auth.texi: Commas don't work in node names.\n\n\t* test/lisp/auth-source-pass-tests.el: Fix loading of cl-lib.\n\n2017-04-28  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tTest format-time-string with zone arg\n\n\t* test/src/editfns-tests.el (format-time-string-with-zone)\n\t(format-time-string-with-outlandish-zone): New tests.\n\n2017-04-28  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from gnulib\n\n\tThis incorporates:\n\t2017-04-24 time_rz: fix heap buffer overflow vulnerability\n\t2017-04-23 stat-time: Update comments.\n\t2017-04-22 ftoastr: cite a newer paper\n\t2017-04-21 gettext-h: Avoid -Wundef warning.\n\t* lib/ftoastr.c, lib/gettext.h, lib/stat-time.h, lib/time_rz.c:\n\t* m4/getopt.m4: Copy from gnulib.\n\t* m4/gnulib-comp.m4: Regenerate.\n\n2017-04-27  Damien Cassou  <damien@cassou.me>\n\n\tauth-source-pass: Add documentation; fix tests and indentation.\n\n\t* doc/misc/auth.texi: Document new integration with Pass. Use @itemize\n\t  instead of @enumerate.\n\t* lisp/auth-source-pass.el: Fix indentation.\n\t  (auth-source-pass--remove-directory-name): Remove.\n\t* test/lisp/auth-source-pass-tests.el: Adjust test macros.\n\n2017-04-27  foudfou  <foudil.newbie+git@gmail.com>\n\n\tauth-source-pass: Enable finding entries by \"host/username\"\n\n\t* lisp/auth-source-pass.el: Enable finding entries by \"host/username\".\n\t* test/lisp/auth-source-pass-tests.el: Adjust tests to check it.\n\n2017-04-27  Damien Cassou  <damien@cassou.me>\n\n\tIntegrate auth-source with password-store\n\n\t* lisp/auth-source-pass.el: auth-source backend for password-store.\n\t* test/lisp/auth-source-pass-tests.el: Tests for auth-source-pass\n\t  behavior.\n\n2017-04-27  Damien Cassou  <damien@cassou.me>\n\n\t* lisp/auth-source.el: Document parser functions.\n\n2017-04-27  Ted Zlatanov  <tzz@lifelogs.com>\n\n\tauth-source: factor out parsers and add tests\n\n\t* lisp/auth-source.el: Factor out the source parsers. Clean up comments.\n\t* test/lisp/auth-source-tests.el: Add tests.\n\n2017-04-27  Martin Rudalics  <rudalics@gmx.at>\n\n\tFix doc and customization type of `window-combination-limit' (Bug#26673)\n\n\t* src/window.c (Vwindow_combination_limit): Fix doc-string.\n\t* lisp/cus-start.el (window-combination-limit): Fix\n\tcustomization type.\n\t* doc/lispref/windows.texi (Recombining Windows): Fix\n\tdocumentation of `window-combination-limit'.\n\n2017-04-27  Tino Calancha  <tino.calancha@gmail.com>\n\n\tDrop face from hi-lock--unused-faces only when used\n\n\t* lisp/hi-lock.el (hi-lock-set-pattern): If REGEXP is already\n\thighlighted, then push FACE into hi-lock--unused-faces (Bug#26666).\n\t* test/lisp/hi-lock-tests.el (hi-lock-bug26666): Add test.\n\n2017-04-26  Alan Third  <alan@idiocy.org>\n\n\tFix macOS version check (bug#26664)\n\n\t* src/nsterm.m (initFrameFromEmacs): Prevent window tabbing mode on\n\tmacOS versions 10.12+.\n\n2017-04-26  Glenn Morris  <rgm@gnu.org>\n\n\tMake charprop.el provide a feature\n\n\t* admin/unidata/unidata-gen.el (unidata-gen-charprop):\n\tProvide a feature.\n\t* lisp/loadup.el: Use the charprop feature.\n\n2017-04-26  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/loadup.el: Get charprop.el into etc/DOC again.\n\n2017-04-26  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/ido.el (ido-everywhere): Use add-function.\n\n2017-04-26  Martin Rudalics  <rudalics@gmx.at>\n\n\tTry to fix latest fix of w32_mouse_position\n\n\t* src/w32term.c (w32_mouse_position): Fix a bug introduced by\n\tlatest fix and try to make the affected code more rigorous.\n\n2017-04-26  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid segfaults when 'find-font' is invoked for a TTY frame\n\n\t* src/font.c (font_pixel_size): Don't call GUI functions if F is a\n\ttext-mode frame.  (Bug#26646)\n\n2017-04-26  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* lisp/net/tramp.el (tramp-set-connection-local-variables-for-buffer):\n\n\tNew defun.\n\n2017-04-26  Glenn Morris  <rgm@gnu.org>\n\n\t* src/Makefile.in (leimdir): Remove variable, no longer used.\n\n2017-04-26  Glenn Morris  <rgm@gnu.org>\n\n\tGenerate leim-list via lisp/Makefile, not src/Makefile\n\n\t* src/Makefile.in ($(leimdir)/leim-list.el): Remove rule.\n\t(emacs$(EXEEXT)): Don't depend on leim-list.\n\t* lisp/Makefile.in ($(lisp)/loaddefs.el): Depend on gen-lisp again.\n\n2017-04-25  Alan Third  <alan@idiocy.org>\n\n\tFix define for GNUstep builds\n\n\t* src/nsterm.m (initFrameFromEmacs): Fix the ifdef so that GNUstep\n\tdoesn't see the code.\n\n2017-04-25  Glenn Morris  <rgm@gnu.org>\n\n\tSuppress intermittent test failure on hydra\n\n\t* test/lisp/emacs-lisp/eieio-tests/eieio-test-methodinvoke.el\n\t(eieio-test-method-order-list-6): Skip on hydra.\n\n2017-04-25  Alan Third  <alan@idiocy.org>\n\n\tFix some NS frame handling issues\n\n\t* src/nsterm.m (FRAME_DECORATED_FLAGS, FRAME_UNDECORATED_FLAGS): New\n\tdefines intended to make things tidier.\n\t(x_set_undecorated): Use the new defines.\n\t(windowWillResize): Don't use new macOS 12+ only feature.\n\t(initFrameFromEmacs): Use the new defines, and disable automatic\n\twindow tabbing feature in macOS 12.\n\t(x_set_undecorated, x_set_parent_frame, x_set_no_accept_focus,\n\tx_set_z_group): Add NSTRACE notices.\n\n2017-04-25  Glenn Morris  <rgm@gnu.org>\n\n\tAvoid parallel race condition\n\n\t* lisp/Makefile.in ($(lisp)/loaddefs.el): Remove gen-lisp for now.\n\n2017-04-25  Glenn Morris  <rgm@gnu.org>\n\n\tGenerate each unicode lisp file independently\n\n\tThis is better for parallel builds, eg it eliminates race\n\tconditions from having one process write multiple files.\n\t* admin/unidata/Makefile.in (lparen, unifiles): New variables.\n\tParse unidata-gen.el, not charprop.el, to get the list of uni- files.\n\t(all): Explicitly list the output lisp files.\n\t(PHONY_EXTRAS): Remove.\n\t(${unidir}/charprop.el): Change rule to just be for this file.\n\t(${unifiles}): New rule to write each unicode lisp file.\n\t(extraclean): Simplify.\n\t* admin/unidata/unidata-gen.el (unidata-gen-charprop):\n\tQuieten in batch mode.\n\t(unidata-gen-files): Remove, no longer used.\n\t* lisp/loadup.el: Update command-line parser.\n\n2017-04-25  Glenn Morris  <rgm@gnu.org>\n\n\tFurther refactoring in unidata-gen.el\n\n\t* admin/unidata/unidata-gen.el (unidata-gen-charprop):\n\tNew function, split from unidata-gen-files.\n\t(unidata-gen-files): Use unidata-gen-charprop.\n\n2017-04-25  Glenn Morris  <rgm@gnu.org>\n\n\tAllow unidata-gen-file to work independently\n\n\t* admin/unidata/unidata-gen.el (unidata-gen-file):\n\tMake it work as a stand-alone function in batch mode.\n\t(unidata-gen-files): Pass extra arguments to unidata-gen-file.\n\n2017-04-25  Glenn Morris  <rgm@gnu.org>\n\n\tPreparatory refactoring in unidata-gen.el\n\n\t* admin/unidata/unidata-gen.el (unidata-gen-file):\n\tNew function, split from unidata-gen-files.\n\t(unidata-gen-files): Use unidata-gen-file.\n\n2017-04-25  Glenn Morris  <rgm@gnu.org>\n\n\tWrite each generated character property lisp file only once\n\n\t* admin/unidata/unidata-gen.el (unidata-file-alist):\n\tRename from unidata-prop-alist.  All users changed.\n\tUse file name rather than property name as the key.\n\t(unidata-prop-prop): New function.\n\t(unidata-prop-index, unidata-prop-generator, unidata-prop-docstring)\n\t(unidata-prop-describer, unidata-prop-default, unidata-prop-val-list):\n\tChange to parse the argument rather than unidata-prop-alist.\n\t(unidata-gen-table-character, unidata-gen-table)\n\t(unidata-gen-table-symbol, unidata-gen-table-integer)\n\t(unidata-gen-table-numeric, unidata-gen-table-word-list)\n\t(unidata-gen-table-name, unidata-gen-table-decomposition)\n\t(unidata-gen-table-special-casing): Pass index as an argument.\n\t(unidata-check): Adapt to unidata-file-alist.\n\tPass index to generator functions.\n\t(unidata-gen-files): Adapt to unidata-file-alist.\n\tWrite each output file once only.  Overwrite rather than delete.\n\n2017-04-25  Andrew G Cohen  <cohen@andy.bu.edu>\n\n\tFix requesting sparse articles in gnus\n\n\t* lisp/gnus/gnus-art.el (gnus-request-article-this-buffer): Delete the\n\tsparse article number from the list, not its id.\n\n2017-04-25  Glenn Morris  <rgm@gnu.org>\n\n\tDon't advertise s_client in tls.el docs\n\n\t* lisp/net/tls.el (tls-end-of-info, tls-success, tls-untrusted):\n\tDon't mention s_client in docs.\n\n2017-04-25  Rob Browning  <rlb@defaultvalue.org>\n\n\tRemove s_client usage from tls.el\n\n\t* lisp/net/tls.el (tls-program, tls-checktrust): Remove s_client.\n\tRef http://bugs.debian.org/766397\n\thttps://lists.gnu.org/r/emacs-devel/2014-10/msg00803.html\n\n2017-04-25  Glenn Morris  <rgm@gnu.org>\n\n\tFurther robustify cedet bootstrap to loaddefs not yet built\n\n\t* lisp/cedet/semantic/util.el (semantic-something-to-tag-table):\n\tAvoid void-function error when bootstrapping and semantic/loaddefs.el\n\tdoes not yet exist.\n\n2017-04-24  Alan Third  <alan@idiocy.org>\n\n\tFix XBM color rendering in NS port (bug#22060)\n\n\tsrc/nsimage.m (setXBMColor): Fix calculation of xbm_fg.\n\n2017-04-24  Vibhav Pant  <vibhavp@gmail.com>\n\n\tAdd support for IRCv3 message tags.\n\n\t* lisp/erc/erc-backend.el:\n\t  erc-response: Add `tags' element.\n\t  Add (erc-parse-tags).\n\t  (erc-parse-server-response): Use (erc-parse-tags) to parse message\n\t  tags (if any), and store them in `erc-resopnse' struct.\n\n\t* lisp/erc/erc.el: (erc-display-message): Expose message tags with text\n\t  properties of the corresponding message line.\n\n2017-04-24  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAdd image sizing tests for an image that's narrow\n\n\tNeedlessly refactor tests for clarity\n\n2017-04-23  Philipp Stephani  <phst@google.com>\n\n\tAdd missing remappings for Ido mode\n\n\tAmong others, add a remapping for C-x 4 d, cf. Bug#26360.\n\n\t* lisp/ido.el (ido-mode): Remap missing commands.\n\t(ido-file-internal, ido-visit-buffer): Add support for new\n\tmethods.\n\t(ido-display-buffer-other-frame)\n\t(ido-find-alternate-file-other-window, ido-dired-other-window)\n\t(ido-dired-other-frame): New commands.\n\n\t* test/lisp/ido-tests.el (ido-tests--other-window-frame): Add unit\n\ttest for the bindings.\n\n2017-04-23  Martin Rudalics  <rudalics@gmx.at>\n\n\tLet w32_mouse_position pick a child window only if it has a child frame\n\n\t* src/w32term.c (w32_mouse_position): When using a frame found\n\tby ChildWindowFromPoint make sure it's a child frame (Bug#26615,\n\tmaybe).\n\n2017-04-23  Noam Postavsky  <npostavs@gmail.com>\n\n\tDon't require bytecomp for running ert tests\n\n\t\"Fix ert-tests when running compiled\" 2016-12-06 accidentally\n\tintroduced a dependency on `bytecomp' into `ert'.  As mentioned in\n\t\"Avoid ert test failures\" 2017-04-18, the accidental dependency of ert\n\ton bytecomp was masked by loading other libraries until recently.\n\n\t* lisp/emacs-lisp/ert.el (ert--expand-should-1): Only use\n\t`byte-compile-macro-environment' if it's bound.\n\t* test/src/eval-tests.el: Add defvar for dynamic variable\n\t`byte-compile-debug'.\n\n2017-04-23  Andrew G Cohen  <cohen@andy.bu.edu>\n\n\tEliminate unneeded warp-to-article in gnus article referral\n\n\t* lisp/gnus/gnus-sum.el (gnus-summary-refer-thread):\n\t(gnus-summary-refer-article): Remove gnus-warp-to article call.\n\n2017-04-23  Andrew G Cohen  <cohen@andy.bu.edu>\n\n\tAllow limiting gnus summary buffers to a thread\n\n\t* lisp/gnus/gnus-sum.el (gnus-summary-limit-include-thread): Include\n\tan optional argument to allow limiting the summary buffer to just the\n\tthread-related articles.\n\t(gnus-refer-thread-limit-to-thread): Introduce customizable variable\n\tto control whether thread-referral adds the thread to the summary\n\tbuffer or limits to just the thread.\n\t(gnus-summary-refer-thread): Use the new variable.\n\n2017-04-23  Andrew G Cohen  <cohen@andy.bu.edu>\n\n\tCorrect gnus-newsgroup-limits in gnus when including thread\n\n\t* lisp/gnus/gnus-sum.el (gnus-summary-limit-include-thread): Should\n\tonly add one list of thread-related articles to gnus-newsgroup-limits\n\trather than two.\n\n2017-04-23  Andrew G Cohen  <cohen@andy.bu.edu>\n\n\tImprove gnus thread matching of similar subjects\n\n\t* lisp/gnus/gnus-sum.el (gnus-summary-limit-include-thread):\n\tUse the more liberal gnus-general-simplify-subject regexp to\n\tfind thread articles with similar subjects.\n\n2017-04-22  Noam Postavsky  <npostavs@gmail.com>\n\n\tAdd new `lisp-indent-region' that doesn't reparse the code.\n\n\tBoth `lisp-indent-region' and `lisp-indent-line' now use `syntax-ppss'\n\tto get initial state, so they will no longer indent string literal\n\tcontents.\n\n\t* lisp/emacs-lisp/lisp-mode.el (lisp-ppss): New function, like\n\t`syntax-ppss', but with a more dependable item 2.\n\t(lisp-indent-region): New function, like `indent-region-line-by-line'\n\tbut additionally keep a running parse state to avoid reparsing the\n\tcode repeatedly.  Use `lisp-ppss' to get initial state.\n\t(lisp-indent-line): Take optional PARSE-STATE argument, pass it to\n\t`calculate-lisp-indent', use `lisp-ppss' if not given.\n\t(lisp-mode-variables): Set `indent-region-function' to\n\t`lisp-indent-region'.\n\n2017-04-22  Noam Postavsky  <npostavs@gmail.com>\n\n\tRemove ignored argument from lisp-indent-line\n\n\t* lisp/emacs-lisp/lisp-mode.el (lisp-indent-line): Remove WHOLE-EXP\n\targument, the behavior has long since been handled in\n\t`indent-for-tab-command'.  Also remove redundant `beg' and `shift-amt'\n\tvariables and use `indent-line-to'.\n\n2017-04-22  Noam Postavsky  <npostavs@gmail.com>\n\n\t* lisp/emacs-lisp/lisp-mode.el (indent-sexp): Clean up marker.\n\n2017-04-22  Noam Postavsky  <npostavs@gmail.com>\n\n\tDon't reparse the sexp in indent-sexp (Bug#25122)\n\n\t* lisp/emacs-lisp/lisp-mode.el (calculate-lisp-indent): Let\n\tPARSE-START be a parse state that can be reused.\n\t(indent-sexp): Pass the running parse state to calculate-lisp-indent\n\tinstead of the sexp beginning position.  Saving the\n\tCONTAINING-SEXP-START returned by `calculate-lisp-indent' is no longer\n\tneeded.  Don't bother stopping if we don't descend below init-depth,\n\tsince we now alway scan the whole buffer (via syntax-ppss) anyway.\n\t* test/lisp/emacs-lisp/lisp-mode-tests.el (indent-sexp): Add blank\n\tline to test case.\n\n2017-04-22  Vibhav Pant  <vibhavp@gmail.com>\n\n\tAdd cond test cases for singleton clauses.\n\n\t* test/lisp/emacs-lisp/bytecomp-tests.el: Add test cond forms where\n\t  the default clause is a single non-nil expression.\n\n2017-04-22  Vibhav Pant  <vibhavp@gmail.com>\n\n\tb-c--cond-jump-table-info: Use correct body for singleton clauses\n\n\t* lisp/emacs-lisp/bytecomp.el (byte-compile-cond-jump-table-info):\n\tWhen a clause's body consists of a single constant expression, use\n\tthat expression as the body to be compiled. This fixes switch bytecode\n\tevaluating to nil to such clauses.\n\n2017-04-22  Philipp Stephani  <phst@google.com>\n\n\tffap: Don't switch window unless needed\n\n\tWhen using ffap-other-window, don't change the window configuration\n\tunless a new buffer has actually been created (Bug#25352).\n\n\t* lisp/ffap.el (ffap-other-frame): Don't change the window\n\tconfiguration if no new buffer has been created.\n\t* test/lisp/ffap-tests.el (ffap-other-window--bug-25352): Add unit\n\ttest.\n\n2017-04-22  Alan Mackenzie  <acm@muc.de>\n\n\tFix fontification of C++ declaration with type FOO::FOO.\n\n\t* lisp/progmodes/cc-engine.el (c-find-decl-spots): Initialize\n\tcfd-top-level properly.\n\t(c-forward-decl-or-cast-1): On finding FOO::FOO, check it is followed by \"(\"\n\tbefore deciding it is a constructor.\n\n\t* lisp/progmodes/cc-fonts.el (c-font-lock-complex-decl-prepare): Negate the\n\tresult of the c-bs-at-toplevel-p call passed to c-font-lock-declarators\n\t(simple bug fix).\n\n2017-04-22  Philipp Stephani  <phst@google.com>\n\n\tFix usage of FRAME_Z_GROUP\n\n\t* src/nsterm.m (initFrameFromEmacs:): FRAME_Z_GROUP does not return a\n\tLisp object, cf. Bug#26597.\n\n2017-04-22  Alan Third  <alan@idiocy.org>\n\n\tFix GNUstep build\n\n\t* src/nsfns.m (Fns_frame_z_list_order): Rewrite for GNUstep\n\tcompatibility.\n\t* src/nsmenu.m (update_frame_tool_bar): Remove unused variable.\n\n2017-04-21  Alan Third  <alan@idiocy.org>\n\n\tAdd no-accept-focus and frame-list-z-order to NS port\n\n\t* lisp/frame.el (frame-list-z-order): Add NS.\n\t* src/nsfns.m: Add x_set_no_accept_focus to handler struct.\n\t(Fx_create_frame): Handle no-accept-focus parameter.\n\t(ns_window_is_ancestor):\n\t(Fns_frame_list_z_order): New functions.\n\t* src/nsterm.m (x_set_no_accept_focus): New function.\n\t(initFrameFromEmacs): Use EmacsWindow instead of EmacsFSWindow for\n\tnon-fullscreen windows.\n\t(EmacsWindow:canBecomeKeyWindow): New function.\n\n2017-04-21  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tImprove prefix handling for dash.el\n\n\t* lisp/emacs-lisp/autoload.el (autoload--make-defs-autoload):\n\tDon't drop dash's \"-<letter>\" prefixes.\n\n2017-04-21  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/cl-macs.el: Fix symbol-macrolet\n\n\tRevert 0d112c00ba0ec14bd3014efcd3430b9ddcfe1fc1 (to fix bug#26325)\n\tand use a different fix for bug#26068.\n\t(cl--symbol-macro-key): New function.\n\t(cl--sm-macroexpand, cl-symbol-macrolet): Use it instead of `symbol-name`.\n\t* test/lisp/emacs-lisp/cl-lib-tests.el (cl-lib-symbol-macrolet):\n\tFailure is not expected any more.\n\n2017-04-21  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid infinite loop in redisplay when header-line-format is invalid\n\n\t* src/xdisp.c (handle_invisible_prop): Avoid inflooping when the\n\tstring has an invalid %-construct in it and is displayed as part\n\tof mode-line or header-line.  (Bug#26586)\n\n2017-04-21  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAdd tests to check image scaling functionality\n\n\tThis is in preparation to doing further work in this area to avoid\n\tregressions.\n\n\t* test/data/image/blank-200x100.png: New file for testing\n\timage scaling.\n\n\t* test/manual/image-size-tests.el: New file.\n\n2017-04-21  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAllow svg-image to take all create-image PROPS\n\n\t* lisp/svg.el (svg-image): Allow passing in PROPS when\n\tcreating an image for convenience.\n\n2017-04-21  George D. Plymale II  <georgedp@orbitalimpact.com>  (tiny change)\n\n\tTreat non-erroring lisp call as successful eshell command (Bug#26161)\n\n\tThis lets a compound command like 'cd .. && echo ok' print 'ok',\n\tsimilar to how most other shells behave.\n\n\t* lisp/eshell/esh-cmd.el (eshell-exit-success-p): Only check if the\n\tlast exit code was zero, rather than first checking whether the last\n\tcommand returned nil.\n\t(eshell-exec-lisp): Set `eshell-last-command-status' to 1 on error.\n\n2017-04-21  Reuben Thomas  <rrt@sc3d.org>\n\n\tFix reading of tab settings in whitespace-mode\n\n\tlisp/whitespace.el (whitespace-indent-tabs-mode)\n\twhitespace-tab-width): Remove these variables. The underlying\n\tvariables `indent-tabs-mode' and `tab-width' are already buffer-local\n\twhen needed, and whitespace-mode never changes them.\n\t(whitespace-ensure-local-variables): Remove this function, which only\n\texisted to set the above variables.\n\t(whitespace-cleanup-region, whitespace-regexp)\n\t(whitespace-indentation-regexp, whitespace-report-region)\n\t(whitespace-turn-on, whitespace-color-on): Adjust these functions to\n\tuse `indent-tabs-mode' and `tab-width' directly, and not call\n\t`whitespace-ensure-local-variables'.\n\n2017-04-20  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/vc/vc-hg.el (vc-hg-state-fast): Fix compiler warning\n\n\tby simplifying ascii-test.\n\n2017-04-20  Vibhav Pant  <vibhavp@gmail.com>\n\n\tbytecomp: Don't inline functions that use byte-switch (Bug#26518)\n\n\t* lisp/emacs-lisp/bytecomp.el (byte-compile-unfold-bcf): Don't inline\n\t  FORM if the bytecode uses the byte-switch instruction. It is\n\t  impossible to guess the correct stack depth while inlining such\n\t  bytecode, resulting in faulty code.\n\n2017-04-20  Nicolas Petton  <nicolas@petton.fr>\n\n\tSet Emacs version to 25.2 and update AUTHORS file\n\n\t* README: Set Emacs version to 25.2.\n\t* etc/HISTORY: Add release log.\n\t* lisp/ldefs-boot.el:\n\t* etc/AUTHORS:\n\t* ChangeLog.2: Update.\n\n2017-04-20  Noam Postavsky  <npostavs@gmail.com>\n\n\tDon't register \"def\" as an autoload prefix (Bug#26412)\n\n\t* lisp/emacs-lisp/autoload.el (autoload--make-defs-autoload): Don't\n\taccept \"def\" as a prefix.\n\n2017-04-20  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tUse substring completion for Info menus and index\n\n\t* lisp/info.el (Info-complete-menu-item): Add `category' metadata.\n\t(Info-menu): Simplify now that we use the `default' arg of completing-read.\n\t* lisp/minibuffer.el (completion-category-defaults): Use substring\n\tcompletion for `info-menu`.\n\n2017-04-19  Glenn Morris  <rgm@gnu.org>\n\n\tRemove some explicit runtime loads of pcase\n\n\tPcase is macros, so these should have used eval-when-compile.\n\tAnyway, pcase entry points are autoloaded, so the compiler handles it.\n\t* lisp/profiler.el, lisp/emacs-lisp/eieio-core.el:\n\t* lisp/emacs-lisp/generator.el, lisp/emacs-lisp/subr-x.el:\n\t* lisp/progmodes/xref.el: No need to require pcase.\n\n2017-04-19  Glenn Morris  <rgm@gnu.org>\n\n\tStop cl-lib loading pcase at runtime\n\n\tThe cause was an unexpanded pcase-defmacro in cl-loaddefs.\n\t* lisp/emacs-lisp/autoload.el (make-autoload):\n\tTreat pcase-defmacro like defmacro.\n\n2017-04-19  Alan Third  <alan@idiocy.org>\n\n\tNote frame documentation exceptions for NS builds\n\n\t* doc/lispref/frames.texi (Management Parameters, Child Frames): Note\n\tNS differences.\n\n2017-04-19  Alan Third  <alan@idiocy.org>\n\n\tFix bug introduced by my last commit\n\n\t* src/nsterm.m (ns_draw_fringe_bitmap): Revert key-mashing accident.\n\n2017-04-19  Alan Third  <alan@idiocy.org>\n\n\tAdd new frame functionality to NS port\n\n\t* lisp/frame.el (frame-restack): Call ns-frame-restack.\n\t* src/keyboard.c (kbd_buffer_get_event) [HAVE_NS]: Enable\n\tMOVE_FRAME_EVENT handling.\n\t* src/frame.h:\n\t* src/frame.c: Enable 'z-group', 'undecorated' and 'parent' frame\n\tdefinitions.\n\t* src/nsfns.m: Add x_set_z_group, x_set_parent_frame and\n\tx_set_undecorated (Cocoa only) to handler struct.\n\t(Fx_create_frame): Handle 'z-group', 'parent-frame' and 'undecorated'\n\tframe parameter.\n\t(Fns_frame_restack): New function.\n\t* src/nsmenu.m (free_frame_tool_bar, update_frame_tool_bar):\n\tFRAME_TOOLBAR_HEIGHT is no longer a variable.\n\t* src/nsterm.h (NS_PARENT_WINDOW_LEFT_POS, NS_PARENT_WINDOW_TOP_POS):\n\tAdd #defines to find the screen position of the parent frame.\n\t(NS_TOP_POS): Remove defun.\n\t(EmacsView): Remove redundant toolbar variables and add createToolbar\n\tmethod.\n\t(FRAME_NS_TITLEBAR_HEIGHT, FRAME_TOOLBAR_HEIGHT): Always calculate the\n\tvalues instead of storing them in a variable.\n\t* src/nsterm.m (x_set_offset, windowDidMove): Take parent frame\n\tposition into account when positioning frames.\n\t(initFrameFromEmacs): Remove toolbar creation code and handle new\n\tframe parameters.\n\t(x_set_window_size): Remove toolbar height calculation.\n\t(x_set_z_group):\n\t(x_set_parent_frame):\n\t(x_set_undecorated) [NS_IMPL_COCOA]: New function.\n\t(x_destroy_window): Detach parent if child closes.\n\t(updateFrameSize): Change NSTRACE message to reflect new reality and\n\tno longer reset frame size.\n\t(windowWillResize): Don\u2019t change NS window name when the titlebar\n\tis invisible.\n\t(createToolbar): Move toolbar creation code into it\u2019s own method.\n\t(toggleFullScreen): FRAME_TOOLBAR_HEIGHT and FRAME_NS_TITLEBAR_HEIGHT\n\tare no longer variables.\n\t(windowDidMove): Fire MOVE_FRAME_EVENT Emacs event.\n\n2017-04-19  Glenn Morris  <rgm@gnu.org>\n\n\tTweak bytecomp's loading of cl-extra\n\n\t* lisp/emacs-lisp/bytecomp.el: Don't force load of cl-extra in a\n\tpost-bootstrap emacs where cl-loaddefs does exist.\n\n2017-04-19  Glenn Morris  <rgm@gnu.org>\n\n\tAvoid unnecessary loading of subr-x at run-time\n\n\t* lisp/doc-view.el, lisp/filenotify.el, lisp/info-look.el:\n\t* lisp/svg.el, lisp/emacs-lisp/byte-opt.el, lisp/net/shr.el:\n\t* lisp/textmodes/sgml-mode.el, test/lisp/dom-tests.el:\n\tNo need to load subr-x at run-time.\n\t* lisp/gnus/nnheader.el: No need to load subr-x.\n\n2017-04-18  michael schuldt  <mbschuldt@gmail.com>  (tiny change)\n\n\tUse iteration in math-factorial-iter\n\n\t* lisp/calc/calc-comb.el (math-factorial-iter):\n\tUse iteration instead of recursion to avoid max-specpdl-size problem.\n\n2017-04-18  Glenn Morris  <rgm@gnu.org>\n\n\t* test/lisp/kmacro-tests.el: Require seq, for seq-concatenate.\n\n2017-04-18  Glenn Morris  <rgm@gnu.org>\n\n\tAvoid ert test failures\n\n\t* lisp/emacs-lisp/ert.el (ert--expand-should-1):\n\tAvoid errors related to undefined byte-compile-macro-environment.\n\tSomehow masked until very recently because loading seq (eg)\n\tloads bytecomp.  http://hydra.nixos.org/build/51730765\n\n2017-04-18  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix a typo in indexing the user manual\n\n\t* doc/emacs/cmdargs.texi (General Variables): Fix a horrible typo.\n\n2017-04-18  Noam Postavsky  <npostavs@gmail.com>\n\n\tFix find-library-name for load-history entries with nil FILE-NAME (Bug#26355)\n\n\t* lisp/emacs-lisp/find-func.el (find-library--from-load-history):\n\tRename from find-library--from-load-path.  Check for `load-history'\n\tentries with nil FILE-NAMEs.  Simplify by not double\n\tchecking for suffixes and making use of `locate-file'.\n\n2017-04-18  Alan Third  <alan@idiocy.org>\n\t    YAMAMOTO Mitsuharu  <mituharu@math.s.chiba-u.ac.jp>\n\n\tUse vfork if possible on Darwin (bug#26397)\n\n\n\t* src/conf_post.h (HAVE_WORKING_VFORK): Don't undef.\n\t(vfork): Don't define.\n\t* src/process.c (create_process) [DARWIN_OS]: Use fork if pty_flag is\n\tset, otherwise vfork.\n\t* src/callproc.c (call_process) [DARWIN_OS]: Use TIOCNOTTY to detach\n\tthe controlling terminal instead of setsid.\n\n2017-04-18  Fran Litterio  <flitterio@gmail.com>\n\n\tSmall erc-kill-channel fix (bug#23700)\n\n\t* lisp/erc/erc.el (erc-kill-channel): Handle null erc-default-target.\n\n2017-04-18  Glenn Morris  <rgm@gnu.org>\n\n\tediff: use user-error rather than debug-ignored-errors\n\n\t* lisp/vc/ediff-diff.el (ediff-prepare-error-list):\n\t* lisp/vc/ediff-help.el (ediff-help-for-quick-help):\n\t* lisp/vc/ediff-init.el (ediff-barf-if-not-control-buffer)\n\t(ediff-check-version):\n\t* lisp/vc/ediff-merg.el (ediff-shrink-window-C):\n\t* lisp/vc/ediff-mult.el (ediff-draw-dir-diffs, ediff-show-dir-diffs)\n\t(ediff-append-custom-diff, ediff-meta-show-patch)\n\t(ediff-filegroup-action, ediff-show-meta-buffer, ediff-show-registry)\n\t(ediff-get-meta-info, ediff-patch-file-form-meta):\n\t* lisp/vc/ediff-ptch.el (ediff-patch-file-internal):\n\t* lisp/vc/ediff-util.el (ediff-toggle-autorefine)\n\t(ediff--check-ancestor-exists, ediff-toggle-read-only)\n\t(ediff-toggle-wide-display, ediff-toggle-multiframe)\n\t(ediff-toggle-use-toolbar, ediff-toggle-show-clashes-only)\n\t(ediff-next-difference, ediff-previous-difference)\n\t(ediff-pop-diff, ediff-read-file-name, ediff-verify-file-buffer)\n\t(ediff-save-buffer):\n\t* lisp/vc/ediff-wind.el (ediff-make-wide-display):\n\t* lisp/vc/ediff.el (ediff-find-file, ediff-buffers-internal)\n\t(ediff-directories-internal, ediff-directory-revisions-internal)\n\t(ediff-regions-wordwise, ediff-regions-linewise)\n\t(ediff-load-version-control): Use user-error.\n\t(debug-ignored-errors): No longer modify.\n\n2017-04-18  Glenn Morris  <rgm@gnu.org>\n\n\tmh-e: use user-error rather than debug-ignored-errors\n\n\t* lisp/mh-e/mh-alias.el (mh-alias-grab-from-field):\n\t* lisp/mh-e/mh-utils.el (mh-get-msg-num): Use user-error.\n\t(debug-ignored-errors): No longer modify.\n\n2017-04-18  Glenn Morris  <rgm@gnu.org>\n\n\tispell.el: use user-error rather than debug-ignored-errors\n\n\t* lisp/textmodes/ispell.el (ispell-get-word): Use user-error.\n\t(debug-ignored-errors): No longer modify.\n\n2017-04-17  Paul Eggert  <eggert@Penguin.CS.UCLA.EDU>\n\n\t* src/xterm.c (x_fill_rectangle): Now static.\n\n2017-04-17  Paul Eggert  <eggert@Penguin.CS.UCLA.EDU>\n\n\tTighten recently-added UTF-8 check\n\n\t* src/coding.c (encode_coding_utf_8): Now extern.\n\t* src/terminal.c (terminal_glyph_code) [HAVE_STRUCT_UNIPAIR_UNICODE]:\n\tCheck for UTF-8, not just for multibyte.\n\n2017-04-17  David Engster  <deng@randomsample.de>\n\n\txml: Properly handle symbol-qnames for attribute parsing\n\n\t* lisp/xml.el (xml-parse-attlist): Do not strip 'symbol-qnames from\n\t  xml-ns argument (reverts aea67018) (Bug#26533).\n\t  (xml-maybe-do-ns): Properly handle default namespace by not\n\t  interning new symbol when 'special' flag is set.\n\n\t* test/lisp/xml-tests.el (xml-parse-test--namespace-attribute-qnames)\n\t  (xml-parse-namespace-attribute-qnames): Add test for Bug#26533.\n\n2017-04-17  Paul Eggert  <eggert@Penguin.CS.UCLA.EDU>\n\n\t* src/lisp.h (STRING_SET_CHARS): Simplify assertion.\n\n2017-04-17  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix assertion violations when displaying thread-related error\n\n\t* src/process.c (Faccept_process_output): Don't assume a thread's\n\tname is always a string.\n\n2017-04-17  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tdired \u2018M\u2019 should not complain about \u2018.\u2019 and \u2018..\u2019\n\n\t* lisp/dired-aux.el (dired-do-redisplay):\n\tAllow redisplay of \u2018.\u2019 and \u2018..\u2019 (Bug#26528).\n\n2017-04-17  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRemove unused coding enums\n\n\t* src/coding.h (enum coding_system_type, enum end_of_line_type):\n\tRemove; unused.\n\n2017-04-17  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tWork around bug with unibyte Linux consoles\n\n\t* src/terminal.c (terminal_glyph_code): Skip the UTF-8 stuff if\n\tthe terminal's coding system is unibyte (Bug#26396).\n\n2017-04-16  Teemu Likonen  <tlikonen@iki.fi>\n\n\tFix org-agenda's command for calendar-lunar-phases\n\n\tFunction org-agenda-phases-of-moon tries to call a non-existing\n\tfunction calendar-phases-of-moon. The correct function is\n\tcalendar-lunar-phases.\n\n2017-04-16  Michael Albinus  <michael.albinus@gmx.de>\n\n\tTuning for `separate' Tramp syntax\n\n\t* lisp/net/tramp.el (tramp-method-regexp): Fix it for `separate' syntax.\n\t(tramp-completion-file-name-regexp-separate): Simplify.\n\n\t* test/lisp/net/tramp-tests.el (tramp-test02-file-name-dissect-separate):\n\tExtend test.\n\n2017-04-16  Alan Mackenzie  <acm@muc.de>\n\n\tFix bug #26529: C-h k errors with a lambda function bound to a key.\n\n\t* lisp/help-fns.el (help-fns--signature, describe-function-1): Check\n\t`function' is a symbol before trying to get property `reader-construct' from\n\tit.\n\n2017-04-16  Simen Heggest\u00f8yl  <simenheg@gmail.com>\n\n\tFix highlighting of short selectors in CSS mode\n\n\t* lisp/textmodes/css-mode.el (css--font-lock-keywords): Highlight\n\tselectors where the part before a colon is only one character long,\n\tsuch as `a:hover'.\n\n2017-04-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix redisplay performance problems with some fonts\n\n\t* src/font.c (font_list_entities): Revert part of the changes\n\tintroduced on Apr 2, 2014 to fix bug#17125.  It turns out having\n\tzero_vector in the font-cache is an important indication that\n\tcannot be removed.  (Bug#21028)\n\n2017-04-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tAdd assertion to STRING_SET_CHARS\n\n\t* src/lisp.h (STRING_SET_CHARS): Add an assertion and commentary\n\tto prevent incorrect usage.  For details, see this discussion:\n\thttps://lists.gnu.org/r/emacs-devel/2017-04/msg00412.html.\n\n2017-04-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid compilation warnings on MS-Windows\n\n\t* src/w32term.c (w32_read_socket): Avoid compiler warnings about\n\tparentheses around assignment.\n\t* src/w32fns.c (w32_createwindow): Remove unused variable\n\tdwStyle.  Use \"|=\" where appropriate.\n\n2017-04-16  Paul Eggert  <eggert@Penguin.CS.UCLA.EDU>\n\n\tMerge from gnulib\n\n\tThis incorporates:\n\t2017-04-14 intprops: try to avoid tickling similar bugs\n\t2017-04-14 intprops: port to Oracle Studio 12.3 x86\n\t* doc/misc/texinfo.tex, lib/intprops.h: Copy from gnulib.\n\n2017-04-15  Martin Rudalics  <rudalics@gmx.at>\n\n\tFix bugs in `with-displayed-buffer-window' and `fit-window-to-buffer'\n\n\t* lisp/window.el (with-displayed-buffer-window): When a\n\t'window-height' action alist entry specifies a function, call\n\t`temp-buffer-window-show' with a '(window-height . t)' dummy\n\tentry so `window--try-to-split-window' will bind\n\t`window-combination-limit' to t and that function does not\n\tresize any other window but the one we split this one off\n\t(Bug#25055, Bug#25179).\n\t(fit-window-to-buffer): Call `window-max-delta' with NOUP t so\n\twe steal space only from windows in the same combination.\n\tStealing space from other windows would not allow us to return\n\tthat space later when this window is deleted (Bug#25055,\n\tBug#25179).\n\n2017-04-15  Glenn Morris  <rgm@gnu.org>\n\n\tAvoid userlock queries hanging forever in batch mode\n\n\t* lisp/userlock.el (ask-user-about-lock)\n\t(ask-user-about-supersession-threat): Abort in batch mode.\n\n2017-04-14  Martin Rudalics  <rudalics@gmx.at>\n\n\tFix segfault when calling frame_ancestor_p (Bug#26493)\n\n\t* src/xterm.c (handle_one_xevent): Check that hf was not reset\n\tbefore calling frame_ancestor_p (Bug#26493).\n\n2017-04-14  Martin Rudalics  <rudalics@gmx.at>\n\n\tA few additional copy-edits in documentation of frames\n\n\t* doc/lispref/frames.texi (Frame Layout)\n\t(Implied Frame Resizing): Windows -> MS-Windows.\n\t(Deleting Frames): Fix typo.\n\n2017-04-14  Glenn Morris  <rgm@gnu.org>\n\n\tUse user-error for some ert.el errors\n\n\t* lisp/emacs-lisp/ert.el (ert-read-test-name, ert-delete-all-tests)\n\t(ert-results-find-test-at-point-other-window, ert-describe-test):\n\tUse user-error.\n\n2017-04-14  Glenn Morris  <rgm@gnu.org>\n\n\tUse user-error for customize's \"invalid face\" error\n\n\t* lisp/cus-edit.el (customize-face): Use user-error.\n\t(debug-ignored-errors): No more need to add \"Invalid face\".\n\n2017-04-14  Glenn Morris  <rgm@gnu.org>\n\n\tRemove duplicate lisp-eval-defun definition\n\n\t* lisp/emacs-lisp/lisp-mode.el (lisp-eval-defun):\n\tAutoload rather than defining a stub.\n\n2017-04-14  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/Makefile.in (check-defun-dups): Ignore obsolete files.\n\n2017-04-14  Glenn Morris  <rgm@gnu.org>\n\n\tCreate generated lisp files before main loaddefs.el\n\n\tThis should improve reproducibility of lisp/loaddefs.el.\n\t* lisp/Makefile.in (gen-lisp): New phony target.\n\t($(lisp)/loaddefs.el, compile-main): Depend on gen-lisp.\n\t* src/Makefile.in ($(leimdir)/leim-list.el): Depend on all of ../leim.\n\t* lisp/cedet/semantic.el (semantic-mode):\n\t* lisp/cedet/semantic/fw.el (top-level):\n\t* lisp/emacs-lisp/eieio-core.el (top-level):\n\tRobustify to generated input files maybe not yet existing.\n\n2017-04-14  Paul Eggert  <eggert@Penguin.CS.UCLA.EDU>\n\n\tFix minor quoting issues in Makefile.in\n\n\t* Makefile.in (install-arch-dep, uninstall):\n\tQuote EMACS and EMACS_NAME more consistently.\n\n2017-04-13  Glenn Morris  <rgm@gnu.org>\n\n\t* Makefile.in (install-etc): Use existing Makefile variables.\n\n2017-04-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tMinor copyedits of recent changes in documentation\n\n\t* doc/lispref/frames.texi (Frame Layout, Frame Position)\n\t(Frame Size, Frame Interaction Parameters, Input Focus)\n\t(Raising and Lowering, Child Frames): Improve wording and indexing.\n\t* doc/emacs/cmdargs.texi (Borders X): Improve indexing.\n\n2017-04-13  Glenn Morris  <rgm@gnu.org>\n\n\tSmall src/Makefile simplification\n\n\t* src/Makefile.in ($(lispsource)/international/ucs-normalize.elc)\n\t($(lispsource)/term/ns-win.elc): Combine rules.\n\n2017-04-13  Simen Heggest\u00f8yl  <simenheg@gmail.com>\n\n\tAdd grid layout module to CSS property list\n\n\t* lisp/textmodes/css-mode.el (css-property-alist)\n\t(css-value-class-alist): Add new properties and value classes from CSS\n\tGrid Layout Module.\n\n2017-04-13  Martin Rudalics  <rudalics@gmx.at>\n\n\tDescribe recent frame and window changes in manuals\n\n\t* doc/emacs/emacs.texi (Top):\n\t* doc/emacs/cmdargs.texi (Borders X): Clearly separate the terms\n\t\"outer border\" (for the X border which can be set from within\n\tEmacs) and \"external border\" (for the border which is added by\n\tthe window manager).\n\t* doc/lispref/display.texi (Tooltips): Clarify slightly.\n\t* doc/lispref/elisp.texi (Top): Update node and section names.\n\t* doc/lispref/frames.texi (Frames): Describe difference between\n\ttop-level and child frames.\n\t(Frame Layout): Describe outer border.  Add more details about\n\thow Emacs obtains the outer size and position of a frame and\n\tabout menu bar/tool bar wrapping.  Add references to new frame\n\tparameters.\n\t(Size and Position): Remove subsection.\n\t(Frame Position): New subsection excerpted from the earlier Size\n\tand Position subsection.  Clarify positioning concepts and\n\tsome of their shortcomings.  Describe `move-frame-functions'.\n\t(Frame Size): New subsection excerpted from the earlier Size\n\tand Position subsection.  Describe how to track frame size\n\tchanges and the new function `frame-size-changed-p'.\n\t(Position Parameters): Describe child frame positioning.  Warn\n\tabout negative offsets.  Describe 'z-group' parameter.\n\t(Size Parameters): Describe 'text-pixels' specification\n\tfacility and new 'min-width' and 'min-height' parameters.\n\t(Layout Parameters): Clarify description of 'tool-bar-lines' and\n\t'menu-bar-lines' parameters.\n\t(Frame Interaction Parameters): New subsubsection describing\n\t'parent-frame', 'delete-before', 'mouse-wheel-frame' and\n\t'no-other-frame' parameters.\n\t(Management Parameters): Describe 'skip-taskbar',\n\t'no-focus-on-map', 'no-accept-focus', 'undecorated' and\n\t'override-redirect' parameters.\n\t(Deleting Frames): Describe handling of 'delete-before'\n\tparameter and child frames for `delete-frame' and\n\t`delete-other-frames'.\n\t(Finding All Frames): Describe `frame-list-z-order' and handling\n\tof 'no-other-frame' parameter by `next-frame'.\n\t(Minibuffers and Frames): Minor clarifications.\n\t(Input Focus): Document `x-focus-frame'.  Clarify descriptions\n\tof `focus-in-hook', `focus-out-hook' and `focus-follows-mouse'.\n\t(Visibility of Frames): Describe mapping and how the visibility\n\tof a parent frame affects that of its child frames.\n\t(Raising and Lowering): Describe restacking of frames and\n\tz-groups.\n\t(Child Frames): New section.\n\t* doc/lispref/windows.texi (Selecting Windows): Describe\n\tadditional semantics of NORECORD argument of `select-window' and\n\thow `buffer-list-update-hook' can emulate a \"select window\n\thook\".\n\t(Mouse Window Auto-selection): New section.\n\n2017-04-13  Damien Cassou  <damien@cassou.me>\n\n\tFix imenu--sort-by-position for non-pairs parameters (bug#26457)\n\n\t* lisp/imenu.el (imenu--sort-by-position): Fix to accept lists beyond\n\t  pairs.\n\t* test/lisp/imenu-tests.el: Add 2 tests for `imenu--sort-by-position`.\n\n2017-04-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid unnecessary regeneration of the entire loaddefs.el\n\n\t* lisp/Makefile.in (autoloads .PHONY): Add commentary explaining\n\twhy $(lisp)/loaddefs.el is a dependency of '.PHONY'.\n\t($(lisp)/loaddefs.el): Copy an existing loaddefs.el to\n\tloaddefs.tmp before running 'batch-update-autoloads' on it, to\n\tavoid slow regeneration of the full contents.  (Bug#26459)\n\tUse 'move-if-change' instead of 'mv', to avoid producing a new\n\tEmacs binary when not necessary.\n\n2017-04-13  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tHandle indentation of nested ternary operators in JS\n\n\t* lisp/progmodes/js.el (js--looking-at-operator-p):\n\tHandle nested ternary operators.\n\n2017-04-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tDon't call 'kill-this-buffer' outside of menus\n\n\t* lisp/simple.el (kill-current-buffer): New function.\n\t(completion-list-mode-map): Use it instead of kill-this-buffer.\n\t* lisp/type-break.el (type-break-mode):\n\t* lisp/term/ns-win.el (global-map):\n\t* lisp/progmodes/gdb-mi.el (gdb-memory-mode-map)\n\t(gdb-disassembly-mode-map, gdb-frames-mode-map)\n\t(gdb-locals-mode-map, gdb-registers-mode-map):\n\t* lisp/org/org-mhe.el (org-mhe-follow-link):\n\t* lisp/net/secrets.el (secrets-mode-map):\n\t* lisp/net/eudc.el (eudc-mode-map):\n\t* lisp/net/eudc-hotlist.el (eudc-hotlist-mode-map): Use\n\tkill-current-buffer instead of kill-this-buffer.  (Bug#26466)\n\n2017-04-12  Eli Zaretskii  <eliz@gnu.org>\n\n\t* lisp/menu-bar.el (kill-this-buffer): Doc fix.  (Bug#26466)\n\n2017-04-12  Martin Rudalics  <rudalics@gmx.at>\n\n\tNew internal-border face and args for select-window and x-focus-frame\n\n\tAdd `internal-border' face and handle it whenever clearing the\n\tinternal border.  If NORECORD equals the symbol\n\t'mark-for-redisplay', `select-window' will not record the window\n\tbut still mark it for redisplay.  The new argument NOACTIVATE\n\tfor `x-focus-frame' tries to not activate FRAME when set.\n\n\t* lisp/faces.el (internal-border): New face.\n\t* lisp/mwheel.el (mwheel-scroll): Select window to scroll with\n\t`mark-for-redisplay'.\n\t* lisp/scroll-bar.el (scroll-bar-drag)\n\t(scroll-bar-horizontal-drag, scroll-bar-scroll-down)\n\t(scroll-bar-scroll-up, scroll-bar-toolkit-scroll)\n\t(scroll-bar-toolkit-horizontal-scroll): Select window to scroll\n\twith `mark-for-redisplay'.\n\t* lisp/window.el (handle-select-window): When\n\t`focus-follows-mouse' is not 'auto-raise' try to not activate\n\tFRAME.\n\t* src/dispextern.h (face_id): Add INTERNAL_BORDER_FACE_ID.\n\t* src/frame.c (Fx_focus_frame): New argument NOACTIVATE.\n\t* src/frame.h (x_focus_frame): Update extern declaration.\n\t* src/gtkutil.c (xg_clear_under_internal_border): Remove\n\tfunction.\n\t(xg_frame_resized, xg_frame_set_char_size): Call\n\tx_clear_under_internal_border.\n\t(xg_tool_bar_callback): Adapt x_focus_frame call.\n\t* src/gtkutil.h (xg_clear_under_internal_border): Remove\n\tdeclaration.\n\t* src/nsfns.m (x_focus_frame): Add argument NOACTIVATE.\n\t* src/w32fns.c (x_clear_under_internal_border): Fill border\n\twith internal-border background if specified.\n\t* src/w32term.h (x_clear_under_internal_border): Add extern\n\tdeclaration.\n\t* src/w32term.c (x_after_update_window_line): Fill border\n\twith internal-border background if specified.\n\t(w32_set_vertical_scroll_bar, w32_set_horizontal_scroll_bar)\n\t(x_scroll_bar_clear, w32_read_socket): Call\n\tx_clear_under_internal_border.\n\t(x_focus_frame): New argument NOACTIVATE.\n\t* src/window.c (select_window): Mark WINDOW for redisplay when\n\tNORECORD equals 'mark-for-redisplay'.\n\t(Fselect_window): Update doc-string.\n\t(syms_of_window): Define Qmark_for_redisplay.\n\t* src/xdisp.c (clear_garbaged_frames, echo_area_display)\n\t(redisplay_internal): Call x_clear_under_internal_border.\n\t* src/xfaces.c (lookup_basic_face): Handle `window-divider'\n\tand `internal-border' faces.\n\t(realize_basic_faces): Realize `internal-border' face.\n\t(syms_of_xfaces): Define Qinternal_border.\n\t* src/xfns.c (x_set_internal_border_width): Remove call for\n\txg_clear_under_internal_border.\n\t(x_focus_frame): New argument NOACTIVATE.  When non-nil try to not\n\tactivate frame.\n\t* src/xterm.c (x_fill_rectangle): No more static.\n\t(x_clear_under_internal_border, x_after_update_window_line):\n\tFill border with internal-border background if specified.\n\t(xt_horizontal_action_hook): Rewrite.\n\t(handle_one_xevent): Call x_clear_under_internal_border.\n\t* src/xterm.h (x_fill_rectangle): Add extern declaration.\n\n2017-04-12  Paul Eggert  <eggert@Penguin.CS.UCLA.EDU>\n\n\tPort recent frame changes to --enable-gcc-warnings\n\n\t* src/frame.c (next_frame, prev_frame):\n\tRemove now-redundant assertions.\n\t* src/frame.h (FOR_EACH_FRAME): Assume Vframe_list is nonempty.\n\n2017-04-12  Tak Kunihiro  <tkk@misasa.okayama-u.ac.jp>\n\n\tScroll right and left using wheel-right and wheel-left.\n\n\tThese changes also make use of touchpad and trackpad (Bug#26347).\n\n\t* doc/emacs/frames.texi (Mouse Commands): Document horizontal\n\tscrolling using the mouse wheel.\n\n\t* lisp/mwheel.el (mwheel-scroll): Respond to wheel-right and wheel-left.\n\t(mwheel-tilt-scroll-p, mwheel-flip-direction)\n\t(mwheel-scroll-left-function, mwheel-scroll-right-function): New\n\tdefcustoms.\n\t(mouse-wheel-left-event, mouse-wheel-right-event): New variables,\n\tevents that calls wheel-left/right.\n\n\t* etc/NEWS: Mention horizontal scrolling using the mouse wheel.\n\n2017-04-12  Eli Zaretskii  <eliz@gnu.org>\n\n\t* lisp/Makefile.in (autoloads-force): Fix usage of \".PHONY\".\n\n2017-04-12  Martin Rudalics  <rudalics@gmx.at>\n\n\tAdd new frame parameters and associated functions\n\n\tAdd new frame parameters `undecorated', `override-redirect',\n\t`parent-frame', `skip-taskbar', `no-focus-on-map',\n\t`no-accept-focus', `z-group', `delete-before', `no-other-frame',\n\t`mouse-wheel-frame', `min-width', `min-height'.  Add new\n\tfunctions `frame-restack' and `frame-list-z-order'.\n\n\t* lisp/cus-start.el (focus-follows-mouse): Adapt customization\n\ttype.\n\t* lisp/frame.el (handle-delete-frame): Handle child and\n\t`delete-before' frames.\n\t(other-frame): Stop looking for other frame after one round.\n\t(frame-list-z-order, frame-restack): New functions.\n\t(delete-other-frames): Handle child frames.\n\t* lisp/frameset.el (frameset-persistent-filter-alist)\n\t(frameset--record-relationships): Handle `delete-before',\n\t`parent-frame' and `mouse-wheel-frame' parameters.  Rename\n\tlatter from `frameset--record-minibuffer-relationships'.\n\t(frameset--restore-frame): Handle \u2018parent-frame\u2019 parameter\n\tspecially.\n\t(frameset-restore): Handle `delete-before', `parent-frame' and\n\t`mouse-wheel-frame' parameters.\n\t* lisp/mwheel.el (mwheel-scroll): Handle `mouse-wheel-frame'\n\tparameter.\n\t* lisp/window.el (window--min-size-ignore-p): Fix doc-string.\n\t(mouse-autoselect-window-select, handle-select-window): Major\n\trewrite.  Try to not ignore errors.  Handle auto-selection of\n\tchild frames and different values of `focus-follows-mouse'.\n\t* src/frame.c (frame_windows_min_size): Handle new `min-width'\n\tand `min-height' frame parameters.\n\t(make_frame): Initialize new frame structure members.\n\t(do_switch_frame): Don't reset internal_last_event_frame for\n\tdescendant frames.\n\t(Fframe_parent, frame_ancestor_p, Fframe_ancestor_p): New\n\tfunctions.\n\t(candidate_frame): Don't return `no-other-frame' frame.\n\t(other_frames): New function replacing other_visible_frames.\n\t(delete_frame): Rewrite.  Handle child and `delete-before' frames.\n\t(Fmake_frame_invisible): Call other_frames.\n\t(store_frame_param): Check `delete-before' and `parent-frame'\n\tparameters for circular dependencies.\n\t(frame_parms, syms_of_frame): Add entries for and define new\n\tframe parameters.\n\t(focus_follows_mouse): New meaningful value `auto-raise'.\n\t* src/frame.h (z_group): New enumeration type.\n\t(frame): New slots parent_frame, undecorated, override_redirect,\n\tskip_taskbar, no_focus_on_map, no_accept_focus, z_group.\n\t(fset_parent_frame): New inlined function.\n\t(FRAME_UNDECORATED, FRAME_OVERRIDE_REDIRECT)\n\t(FRAME_PARENT_FRAME, FRAME_SKIP_TASKBAR, FRAME_NO_FOCUS_ON_MAP)\n\t(FRAME_NO_ACCEPT_FOCUS, FRAME_Z_GROUP, FRAME_Z_GROUP_NONE)\n\t(FRAME_Z_GROUP_ABOVE, FRAME_Z_GROUP_ABOVE_SUSPENDED)\n\t(FRAME_Z_GROUP_BELOW): New macros.\n\t(frame_ancestor_p): Add declaration.\n\t* src/gtkutil.c (xg_create_frame_widgets): Handle\n\t`undecorated' and `override-redirect' frame parameters.\n\t(x_wm_set_size_hint): None for child frames.\n\t(xg_set_undecorated, xg_frame_restack, xg_set_skip_taskbar)\n\t(xg_set_no_focus_on_map, xg_set_no_accept_focus)\n\t(xg_set_override_redirect): New functions.\n\t(xg_update_scrollbar_pos, xg_update_horizontal_scrollbar_pos):\n\tDon't let scrollbars obscure child frames.\n\t* src/gtkutil.h: (xg_set_undecorated, xg_frame_restack)\n\t(xg_set_skip_taskbar, xg_set_no_focus_on_map)\n\t(xg_set_no_accept_focus, xg_set_override_redirect): Add extern\n\tdeclarations.\n\t* src/nsfns.m (ns_frame_parm_handlers): Add entries for new\n\tframe parameters.\n\t(Fx_create_frame): Install `min-width' and `min-height' frame\n\tparameters.\n\t* src/nsterm.m (mouseMoved:): Handle focus_follows_mouse change.\n\t* src/w32fns.c (WS_EX_NOACTIVATE): Define if necessary.\n\t(x_real_positions): Handle child frames.\n\t(x_set_menu_bar_lines): Don't for child frames.\n\t(x_set_undecorated, x_set_parent_frame, x_set_skip_taskbar)\n\t(x_set_no_focus_on_map, x_set_no_accept_focus)\n\t(x_set_z_group): New functions.\n\t(w32_createvscrollbar, w32_createhscrollbar): Don't draw\n\tscroll bars over child frames.\n\t(w32_createwindow): Handle new frame parameters and child frames.\n\t(w32_wnd_proc): Let mouse clicks into a child frame activate\n\tthe frame.  Try to handle the `no-accept-focus' parameter.  Do\n\tSetFocus when our window is brought to top or becomes the\n\tforeground window.\n\t(w32_window): Don't initialize menu bar for child frames.\n\t(Fx_create_frame): Handle new frame parameters.\n\t(x_create_tip_frame): Set explicit_parent slot.\n\t(w32_dialog_in_progress): New function.\n\t(Fx_file_dialog): Handle `z-group-above' frames.\n\t(w32_frame_list_z_order, Fw32_frame_list_z_order)\n\t(w32_frame_restack, Fw32_frame_restack): New functions.\n\t(w32_frame_parm_handlers): Add entries for new frame\n\tparameters.\n\t* src/w32font.c (Fx_select_font): Handle `z-group-above'\n\tframes during font selection dialogue.\n\t* src/w32term.c (construct_mouse_wheel): Construct mouse wheel\n\tevent from F's w32 window.\n\t(w32_mouse_position): Handle child frames.\n\t(w32_set_vertical_scroll_bar, w32_set_horizontal_scroll_bar):\n\tDon't draw scroll bars over child frames.\n\t(w32_read_socket): Always erase background of child frames.\n\tWhen generating SELECT_WINDOW_EVENTs handle new value of\n\t`focus-follows-mouse' and handle `no-accept-focus' parameter.\n\tHandle `mouse-wheel-frame' parameter.\n\t(x_calc_absolute_position, x_set_offset, x_set_window_size):\n\tHandle child frames.\n\t(x_make_frame_visible): Handle child frames specially.  Handle\n\t`no-focus-on-map' parameter.\n\t* src/w32term.h (w32_dialog_in_progress): Add external\n\tdeclaration.\n\t* src/xdisp.c (x_consider_frame_title, prepare_menu_bars): Not\n\tfor child frames.\n\t* src/xfns.c (Xm/MwmUtil.h): Include for WM hints.\n\t(PropMotifWmHints, PROP_MOTIF_WM_HINTS_ELEMENTS): Define for\n\tnon-Motif, non-GTK case.\n\t(x_real_pos_and_offsets): Handle child frames.\n\t(x_set_undecorated, x_set_parent_frame)\n\t(x_set_no_focus_on_map, x_set_no_accept_focus)\n\t(x_set_override_redirect): New functions.\n\t(x_set_menu_bar_lines): Not for child frames.\n\t(x_window): Handle `undecorated' and `override_redirect' cases.\n\t(Fx_create_frame): Handle new frame parameters.\n\t(frame_geometry): Handle child frames and outer border.\n\t(x_frame_list_z_order, Fx_frame_list_z_order)\n\t(x_frame_restack, Fx_frame_restack): New functions.\n\t(Fx_file_dialog, Fx_select_font): Set x_menu_set_in_use.\n\t(x_frame_parm_handlers): Add entries for new frame parameters.\n\t* src/xmenu.c (x_menu_set_in_use): Handle `z-group-above'\n\tframes.\n\t* src/xterm.c (x_set_frame_alpha): Don't set alpha of parent\n\tfor child frames.\n\t(XTmouse_position): Handle child frames.\n\t(x_scroll_bar_create, x_scroll_bar_expose): Don't let scroll\n\tbars obscure child frames.\n\t(handle_one_xevent): Handle child frame positions.  If necessary\n\tset `skip-taskbar' and reassign proper `z-group' when we are\n\tmapped.  When generating SELECT_WINDOW_EVENTs handle new value\n\tof `focus-follows-mouse'.  Handle `mouse-wheel-frame' parameter.\n\tLet mouse clicks into a child frame activate the frame.\n\t(x_calc_absolute_position, x_set_offset): Handle child frames\n\tspecially.\n\t(x_set_skip_taskbar, x_set_z_group): New functions.\n\t(x_make_frame_visible): Handle child frames.\n\t(ATOM_REFS_INIT): Add entries for\n\tXatom_net_wm_state_skip_taskbar, Xatom_net_wm_state_above,\n\tXatom_net_wm_state_below.\n\t* src/xterm.h (top-level): Declare Xatom_net_wm_state_above,\n\tXatom_net_wm_state_below and Xatom_net_wm_state_skip_taskbar.\n\t(x_set_skip_taskbar, x_set_z_group): Add extern declarations.\n\n2017-04-11  Glenn Morris  <rgm@gnu.org>\n\n\tUpdate a package test for hydra\n\n\t* test/lisp/emacs-lisp/package-tests.el (with-package-test):\n\tAlso bind package-gnupghome-dir, see eg\n\thttp://hydra.nixos.org/build/51462182 .\n\n2017-04-11  Martin Rudalics  <rudalics@gmx.at>\n\n\tFrame movement, focus and hook related changes\n\n\tNew hook `move-frame-functions'.  Run `focus-in-hook'\n\tafter switching to frame that gets focus.  Don't run\n\tXMoveWindow for GTK.\n\n\t* lisp/frame.el (handle-move-frame, frame-size-changed-p): New\n\tfunctions.\n\n\t* src/frame.c (do_switch_frame): Simplify code.\n\t(Fhandle_switch_frame): Switch frame before running\n\t`handle-focus-in'.\n\t(Vfocus_in_hook, Vfocus_out_hook): Clarify doc-strings.\n\t(Vmove_frame_functions): New hook variable.\n\t* src/keyboard.c (kbd_buffer_get_event): Handle\n\tMOVE_FRAME_EVENT.  Handle SELECT_WINDOW_EVENT separately.\n\t(head_table): Add Qmove_frame entry.\n\t(syms_of_keyboard): Add Qmove_frame.\n\t(keys_of_keyboard): Define key for `move-frame'.\n\t* src/termhooks.h (event_kind): Add MOVE_FRAME_EVENT.\n\t* src/w32term.c (w32_read_socket): Create MOVE_FRAME_EVENT.\n\t* src/window.c (run_window_size_change_functions): Record size of\n\tFRAME's minibuffer window too.\n\t* src/xterm.c (handle_one_xevent): Create MOVE_FRAME_EVENT.\n\t(x_set_offset): For GTK call gtk_widget_move instead of\n\tXMoveWindow.\n\n2017-04-11  Werner LEMBERG  <wl@gnu.org>\n\n\tAvoid abort in ftfont.c due to faulty fonts\n\n\t* src/ftfont.c (ftfont_get_metrics): Try loading the font without\n\thinting, before aborting.  (Bug#25945)\n\n2017-04-11  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument 'line-pixel-height'\n\n\t* doc/lispref/display.texi (Size of Displayed Text): Document\n\tline-pixel-height.  Suggested by Tak Kunihiro\n\t<tkk@misasa.okayama-u.ac.jp>.  (Bug#26379)\n\n2017-04-11  Jens Lechtenboerger  <jens.lechtenboerger@fsfe.org>\n\n\tIntroduce customizable variable 'package-gnupghome-dir'\n\n\t* lisp/emacs-lisp/package.el (package-import-keyring)\n\t(package--check-signature-content, package-check-signature):\n\tUse new variable package-gnupghome-dir to control which GnuPG\n\thomedir to use.\n\t* doc/emacs/package.texi: Mention package-gnupghome-dir.\n\t* etc/NEWS: Mention package-gnupghome-dir.\n\n2017-04-11  Martin Rudalics  <rudalics@gmx.at>\n\n\tSet x_gtk_use_window_move by default for fixing bug#25851 and bug#25943\n\n\tThis activates a change that was installed a few weeks ago but whose\n\tChangeLog was inadvertently dropped during its commit.  The proper\n\tChangeLog is included below as part of the present commit.\n\n\t* src/gtkutil.c (xg_set_geometry): When x_gtk_use_window_move\n\tis set avoid calling x_gtk_parse_geometry (Bug#25851).\n\t(x_wm_set_size_hint): When x_gtk_use_window_move is set, set\n\tPPosition, USPosition and USSize flags if requested.\n\t* src/xterm.c (x_set_offset): With GTK when\n\tx_gtk_use_window_move is set, leave it entirely to\n\tgtk_window_move to position the window and skip any\n\tpost-adjustments (Bug#25851 and Bug#25943).\n\t(x_gtk_use_window_move): New variable.\n\n2017-04-10  Alan Mackenzie  <acm@muc.de>\n\n\tFix a loop in C Mode caused by inadequate analysis of comments.\n\n\tAfter M-;, and the insertion of the opening \"/*\", the CC Mode after-change\n\tfunction got confused, since the new comment opener matched the end of a\n\tsubsequent comment, but moving back over that comment did not come back to the\n\tstarting point.  Fix this.\n\n\t* lisp/progmodes/cc-engine.el (c-end-of-macro): Add a limit parameter, wherer\n\tpoint is left if no end-of-macro is found before it.\n\t(c-forward-sws): Change the `safe-start' mechanism.  Now `safe-start' is\n\tnon-nil except where we have an unclosed block comment at the end of a macro.\n\tThis enables us to populate the cache more fully, at the cost of some run\n\ttime.\n\n2017-04-10  Lars Brinkhoff  <lars@nocrew.org>\n\n\tAdd PVSIZE function to return the size of a pseudovector.\n\n\t* src/lisp.h (PVSIZE): New function.\n\n\t* src/chartab.c (copy_char_table):\n\t* src/data.c (Ftype_of, Finteractive_form, Faref, Faset):\n\t* src/doc.c (Fdocumentation, store_function_docstring):\n\t* src/eval.c (Fcommandp, funcall_lambda, lambda_arity, Ffetch_bytecode):\n\t* src/fns.c (Flength, Fcopy_sequence):\n\t* src/font.h (FONT_SPEC_P, FONT_ENTITY_P, FONT_OBJECT_P):\n\t* src/lread.c (substitute_object_recurse):\n\t* src/print.c (print_object):\n\t  Use it.\n\n2017-04-10  Michael Albinus  <michael.albinus@gmx.de>\n\n\tAdd Tramp tests\n\n\t* lisp/net/tramp.el (tramp-syntax): Adapt docstring.\n\n\t* test/lisp/net/tramp-tests.el\n\t(tramp-test01-file-name-syntax-simplified)\n\t(tramp-test01-file-name-syntax-separate)\n\t(tramp-test02-file-name-dissect-simplified)\n\t(tramp-test02-file-name-dissect-separate): New tests.\n\n2017-04-10  Martin Rudalics  <rudalics@gmx.at>\n\n\tMake sure that `shell' makes BUFFER current\n\n\t* lisp/shell.el (shell): Restrict scope of recently added\n\t`with-current-buffer' to make sure that BUFFER is current when\n\t`shell' returns.\n\n2017-04-10  Jim Blandy  <jimb@red-bean.com>\n\n\tDefault to PCRE syntax when reading .hgignore\n\n\t* lisp/vc/vc-hg.el (vc-hg--slurp-hgignore-1):\n\tDefault to the PCRE syntax (bug#26249).\n\n2017-04-09  Michael Albinus  <michael.albinus@gmx.de>\n\n\tDocument Tramp changes\n\n\t* doc/misc/tramp.texi (Change file name syntax): New node.\n\n\t* etc/NEWS: Mention `tramp-change-syntax'.\n\n\t* lisp/net/tramp.el (tramp-file-name-regexp): Reinsert it.\n\tExternal packages uses it.\n\t(tramp-syntax): Set also `tramp-file-name-regexp'.\n\n2017-04-09  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from gnulib (Bug#26398)\n\n\tThis incorporates:\n\t2017-04-08 getopt: prefer - to _ in new file names\n\t2017-04-08 getopt: port recent getopt changes to macOS\n\t* .gitignore: Add lib/getopt-cdefs.h.\n\t* lib/getopt-cdefs.in.h: Rename from lib/getopt_cdefs.in.h.\n\t* lib/getopt-core.h: Rename from lib/getopt_core.h.\n\t* lib/getopt-ext.h: Rename from lib/getopt_ext.h.\n\t* lib/getopt-pfx-core.h: Rename from lib/getopt_pfx_core.h.\n\t* lib/getopt-pfx-ext.h: Rename from lib/getopt_pfx_ext.h.\n\t* lib/getopt.in.h, lib/unistd.in.h, m4/getopt.m4:\n\tCopy from Gnulib.\n\t* lib/gnulib.mk.in, m4/gnulib-comp.m4: Regenerate.\n\n2017-04-09  Ken Raeburn  <raeburn@raeburn.org>\n\n\tWrite updated loaddefs to a temporary file and rename into place.\n\n\tIn a parallel build, byte compilation can be running at the same times\n\tas loaddefs.el is being regenerated.  However, in a CANNOT_DUMP build,\n\tloaddefs.el is read at startup and must always be in a usable state.\n\n\t* lisp/Makefile.in ($(lisp)/loaddefs.el): Write generated output to\n\tloaddefs.el.new and then rename it to loaddefs.el.\n\n2017-04-09  Glenn Morris  <rgm@gnu.org>\n\n\tIn the manual, mention pops and imaps\n\n\t* doc/emacs/rmail.texi (Movemail, Remote Mailboxes):\n\tMention pops and imaps protocols.\n\n2017-04-09  Glenn Morris  <rgm@gnu.org>\n\n\t* doc/emacs/rmail.texi: Prefer @command to @code for movemail.\n\n2017-04-09  Sergey Poznyakoff  <gray@gnu.org>\n\n\tFix rmail handling of movemail protocols (bug#18278)\n\n\t* lisp/mail/rmail.el (rmail-remote-proto-p): New function.\n\t(rmail-parse-url): Return protocol in second list element.\n\tOnly use passwords with remote mailboxes.\n\t(rmail-insert-inbox-text): Handle non-simple local\n\tmailboxes (maildir, MH, etc.).\n\n2017-04-09  Glenn Morris  <rgm@gnu.org>\n\n\tFix typos in manual re movemail local mailboxes\n\n\t* doc/emacs/rmail.texi (Movemail, Other Mailbox Formats):\n\tFix examples of local mailbox urls.\n\n2017-04-08  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/gnus/nnmail.el (nnmail-crosspost-link-function): Simplify.\n\n2017-04-08  Glenn Morris  <rgm@gnu.org>\n\n\tRemove references to OS/2 in code, doc, and comments\n\n\t* lisp/gnus/nnheader.el (nnheader-read-timeout)\n\t(nnheader-file-name-translation-alist): Remove OS/2 case, and simplify.\n\t* lisp/emulation/viper-util.el (viper-color-defined-p):\n\t* lisp/net/pop3.el (pop3-read-timeout):\n\t* lisp/net/imap.el (imap-read-timeout):\n\t* lisp/url/url-privacy.el (url-setup-privacy-info): Remove OS/2 case.\n\t* lisp/emulation/viper-ex.el (viper-glob-function):\n\t* lisp/vc/ediff-util.el (ediff-submit-report): Doc fix.\n\t* lisp/cus-edit.el (custom-display): Remove \"pm\" (OS/2).\n\t* doc/emacs/msdos-xtra.texi (MS-DOS):\n\t* doc/misc/gnus.texi (Various Various):\n\t* doc/misc/viper.texi (Rudimentary Changes): Remove mentions of OS/2.\n\n2017-04-08  Michael Albinus  <michael.albinus@gmx.de>\n\n\tTune Tramp syntax\n\n\t* lisp/net/tramp-cmds.el (tramp-change-syntax):\n\tUse `tramp-syntax-values'.\n\n\t* lisp/net/tramp-compat.el (tramp-compat-tramp-syntax): New defsubst.\n\n\t* lisp/net/tramp.el (tramp-syntax): Rename possible values.\n\t(tramp-syntax-values): New defun.\n\t(tramp-prefix-format, tramp-method-regexp)\n\t(tramp-postfix-method-format, tramp-prefix-ipv6-format)\n\t(tramp-postfix-ipv6-format, tramp-postfix-host-format)\n\t(tramp-completion-file-name-regexp): Use `tramp-compat-tramp-syntax'\n\tand changed values.\n\t(tramp-completion-file-name-regexp-default): Rename from\n\t`tramp-completion-file-name-regexp-unified'.  Adapt docstring.\n\t(tramp-completion-file-name-regexp-simplified): Rename from\n\t`tramp-completion-file-name-regexp-old-style'.  Adapt docstring.\n\t(tramp-initial-completion-file-name-regexp):\n\tUse `tramp-completion-file-name-regexp-default'.\n\t(tramp-run-real-handler): Do not autoload any longer.\n\n2017-04-08  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tReplace more nested ifs with cond\n\n\tThis is a continuation of d526047 \"Replace more nested ifs with cond\".\n\t* lisp/play/dunnet.el (dun-firstword, dun-firstwordl, dun-cat): Use\n\twhen and cond where appropriate.\n\n2017-04-08  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tAdjust the edebug spec of if-let*\n\n\tThis was fixed in Bug#24748, but now looking more closely, using gate in\n\tthe spec seems correct.  See (info \"(elisp) Backtracking\").\n\t* lisp/emacs-lisp/subr-x.el (if-let*): Use gate in edebug spec.\n\n2017-04-08  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tReplace some uses of cl-member-if with apply\n\n\tFrom the mhtml-mode series.  Some of the uses of cl-lib are not\n\tnecessary.\n\t* lisp/align.el: Don't require cl-lib.\n\t(align-region): Use apply instead of cl-member-if.\n\t* lisp/emulation/viper.el: Don't require cl-lib.\n\t(viper-mode, this-major-mode-requires-vi-state): Use apply instead of\n\tcl-member-if.\n\n2017-04-08  Philipp Stephani  <phst@google.com>\n\n\tValidate SPEC of `dolist', cf. Bug#25477.\n\n\t* lisp/subr.el (dolist): Test type and length of SPEC.\n\t* test/lisp/subr-tests.el (subr-tests--dolist--wrong-number-of-args):\n\tAdd unit test.\n\n2017-04-08  Philipp Stephani  <phst@google.com>\n\n\tAdd unit test for Bug#26378\n\n\t* test/lisp/vc/ediff-diff-tests.el\n\t(ediff-diff-tests--ediff-exec-process--nil): New unit test.\n\n2017-04-08  Lars Brinkhoff  <lars@nocrew.org>\n\n\tFix circular read syntax for records.\n\n\t* src/lread.c (substitute_object_recurse): Work with records.\n\n\t* test/src/lread-tests.el (lread-record-1): New test.\n\n2017-04-08  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDeprecate copy-record in favor of copy-sequence\n\n\tSince copy-sequence seems to be needed anyway for records, have it\n\twork on records, and remove copy-record as being superfluous.\n\t* doc/lispref/records.texi (Records, Record Functions):\n\t* lisp/emacs-lisp/cl-macs.el (cl-defstruct):\n\t* lisp/emacs-lisp/eieio.el (make-instance, clone):\n\t* test/src/alloc-tests.el (record-3):\n\tUse copy-sequence, not copy-record, to copy records.\n\t* doc/lispref/sequences.texi (Sequence Functions)\n\t(Array Functions): Document that aref and copy-sequence\n\twork on records.\n\t* etc/NEWS: Omit copy-record.\n\t* src/alloc.c (Fcopy_record): Remove.\n\t* src/data.c (Faref): Document that arg can be a record.\n\t* src/fns.c (Fcopy_sequence): Copy records, too.\n\n2017-04-08  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix dependency checking in src/Makefile.in\n\n\t* src/Makefile.in (AUTO_DEPEND, DEPDIR, DEPFLAGS): Move includes of\n\tdependency files until after ALLOBJS is defined, since it uses ALLOBJS.\n\tOtherwise, some dependencies will be missed.\n\n2017-04-08  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMinor tuneup of write-region change\n\n\t* src/fileio.c (write_region): Use SCHARS, not Flength,\n\ton a value known to be a string.\n\n2017-04-08  Noam Postavsky  <npostavs@gmail.com>\n\n\tAdjust write-region so file name is at the beginning again\n\n\t* lisp/epa-file.el (epa-file-write-region):\n\t* lisp/gnus/mm-util.el (mm-append-to-file):\n\t* lisp/jka-compr.el (jka-compr-write-region):\n\t* lisp/net/ange-ftp.el (ange-ftp-write-region):\n\t* lisp/net/tramp-gvfs.el (tramp-gvfs-handle-write-region):\n\t* lisp/net/tramp-sh.el (tramp-sh-handle-write-region):\n\t* src/fileio.c (write_region): Put file name at the beginning and move\n\tnumber of characters to the end of the message.\n\n2017-04-08  Kaushal Modi  <kaushal.modi@gmail.com>\n\n\tCheck that file argument is a string\n\n\t* lisp/vc/ediff-diff.el (ediff-exec-process): Check that the argument\n\t  passed to `file-local-copy' is a string (Bug#26378).  Also fix\n\t  the existing comment for this function, and convert it to its\n\t  doc-string.\n\n2017-04-08  Noam Postavsky  <npostavs@gmail.com>\n\n\tFix handling of non-integer START param to write-region\n\n\tThe previous patch for Bug#354 incorrectly assumed that START would\n\talways be an integer.\n\n\t* lisp/epa-file.el (epa-file-write-region):\n\t* lisp/jka-compr.el (jka-compr-write-region):\n\t* lisp/net/ange-ftp.el (ange-ftp-write-region):\n\t* lisp/net/tramp-gvfs.el (tramp-gvfs-handle-write-region):\n\t* lisp/net/tramp-sh.el (tramp-sh-handle-write-region):\n\t* src/fileio.c (write_region): Handle nil and string values of START.\n\n2017-04-07  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/textmodes/rst.el (rst-package-emacs-version-alist): Fixes.\n\n2017-04-07  Michael Albinus  <michael.albinus@gmx.de>\n\n\tAdd Tramp versions to `customize-package-emacs-version-alist'\n\n\t* lisp/net/trampver.el (customize-package-emacs-version-alist):\n\tAdd Tramp versions to `customize-package-emacs-version-alist'.\n\n2017-04-07  Tom Tromey  <tom@tromey.com>\n\n\t* lisp/textmodes/rst.el (rst-toc-link-keymap): Move before first use.\n\n2017-04-07  Lars Brinkhoff  <lars@nocrew.org>\n\n\t* doc/lispref/records.texi (Record Functions): fix typo.\n\n2017-04-07  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMore casefiddle minor fixes\n\n\t* src/casefiddle.c (case_character_impl): Omit unnecessary casts.\n\t(case_character_impl): Avoid reevaluation of CHAR_TABLE_REF.\n\t(GREEK_CAPITAL_LETTER_SIGMA): Fix typo in my previous change.\n\n2017-04-07  Jeff Clough  <kb1vqh@gmail.com>\n\n\tOutput number of characters added to file (Bug#354)\n\n\t* src/fileio.c (write_region):\n\t* lisp/epa-file.el (epa-file-write-region):\n\t* lisp/jka-compr.el (jka-compr-write-region):\n\t* lisp/net/ange-ftp.el (ange-ftp-write-region):\n\t* lisp/net/tramp-gvfs.el (tramp-gvfs-handle-write-region):\n\t* lisp/net/tramp-sh.el (tramp-sh-handle-write-region):\n\t* lisp/gnus/mm-util.el (mm-append-to-file): Functions now output\n\tcharacters written in addition to file name.\n\t* doc/lispref/files.texi: Added documentation to write-region and\n\tappend-to-file describing their output.\n\n2017-04-07  Noam Postavsky  <npostavs@users.sourceforge.net>\n\n\tFix \u2018!NILP (Vpurify_flag)\u2019 assertion failure during temacs bootstrap\n\n\tThe recent changes to src/casefiddle.c cause build failure as seen\n\tbelow:\n\n\t    Starting program: /home/npostavs/src/emacs/emacs-bootstrapping/src/temacs\n\t\t--batch --load loadup bootstrap\n\t    [Thread debugging using libthread_db enabled]\n\t    Using host libthread_db library \"/usr/lib/libthread_db.so.1\".\n\t    Loading loadup.el (source)...\n\t    Using load-path (/home/npostavs/src/emacs/emacs-bootstrapping/lisp\n\t\t/home/npostavs/src/emacs/emacs-bootstrapping/lisp/emacs-lisp\n\t\t/home/npostavs/src/emacs/emacs-bootstrapping/lisp/language\n\t\t/home/npostavs/src/emacs/emacs-bootstrapping/lisp/international\n\t\t/home/npostavs/src/emacs/emacs-bootstrapping/lisp/textmodes\n\t\t/home/npostavs/src/emacs/emacs-bootstrapping/lisp/vc)\n\t    Loading emacs-lisp/byte-run (source)...\n\t    Loading emacs-lisp/backquote (source)...\n\t    Loading subr (source)...\n\t    Loading version (source)...\n\t    Loading widget (source)...\n\t    Loading custom (source)...\n\t    Loading emacs-lisp/map-ynp (source)...\n\t    Loading international/mule (source)...\n\t    Loading international/mule-conf (source)...\n\n\t    lread.c:3914: Emacs fatal error: assertion failed: !NILP (Vpurify_flag)\n\n\t    Breakpoint 1, terminate_due_to_signal at emacs.c:363\n\t    363\t  signal (sig, SIG_DFL);\n\t    (gdb) bt\n\t    #0  0x0000000000579826 in terminate_due_to_signal at emacs.c:363\n\t    #1  0x000000000060ec33 in die at alloc.c:7352\n\t    #2  0x000000000066db40 in intern_c_string_1 at lread.c:3914\n\t    #3  0x0000000000576884 in intern_c_string at lisp.h:3790\n\t    #4  0x00000000005dc84f in prepare_casing_context at casefiddle.c:69\n\t    #5  0x00000000005dd37f in casify_object at casefiddle.c:311\n\t    #6  0x00000000005dd47f in Fcapitalize at casefiddle.c:356\n\t    #7  0x00000000006325ac in eval_sub at eval.c:2219\n\t    #8  0x0000000000632368 in eval_sub at eval.c:2184\n\t    #9  0x000000000063446c in apply_lambda at eval.c:2875\n\t    #10 0x00000000006329af in eval_sub at eval.c:2294\n\t    #11 0x000000000062d462 in Fprogn at eval.c:449\n\t    #12 0x000000000062d4cf in prog_ignore at eval.c:461\n\t    #13 0x000000000062f19c in Fwhile at eval.c:982\n\t    #14 0x00000000006321f4 in eval_sub at eval.c:2172\n\t    #15 0x000000000062d462 in Fprogn at eval.c:449\n\t    #16 0x000000000062f0c4 in Flet at eval.c:963\n\t    #17 0x00000000006321f4 in eval_sub at eval.c:2172\n\t    #18 0x0000000000632963 in eval_sub at eval.c:2290\n\t    #19 0x000000000062d462 in Fprogn at eval.c:449\n\t    #20 0x000000000062f0c4 in Flet at eval.c:963\n\t    #21 0x00000000006321f4 in eval_sub at eval.c:2172\n\t    #22 0x0000000000668caa in readevalloop at lread.c:1927\n\t    #23 0x0000000000667253 in Fload at lread.c:1332\n\t    #24 0x0000000000632683 in eval_sub at eval.c:2233\n\t    #25 0x0000000000668caa in readevalloop at lread.c:1927\n\t    #26 0x0000000000667253 in Fload at lread.c:1332\n\t    #27 0x0000000000632683 in eval_sub at eval.c:2233\n\t    #28 0x0000000000631be5 in Feval at eval.c:2041\n\t    #29 0x000000000057e1af in top_level_2 at keyboard.c:1121\n\t    #30 0x000000000062ffc7 in internal_condition_case at eval.c:1324\n\t    #31 0x000000000057e1f0 in top_level_1 at keyboard.c:1129\n\t    #32 0x000000000062f51e in internal_catch at eval.c:1091\n\t    #33 0x000000000057e0ea in command_loop at keyboard.c:1090\n\t    #34 0x000000000057d6d5 in recursive_edit_1 at keyboard.c:697\n\t    #35 0x000000000057d8b4 in Frecursive_edit at keyboard.c:768\n\t    #36 0x000000000057b55b in main at emacs.c:1687\n\n\t    Lisp Backtrace:\n\t    \"capitalize\" (0xffffcf70)\n\t    \"format\" (0xffffd130)\n\t    \"define-charset\" (0xffffd370)\n\t    \"while\" (0xffffd560)\n\t    \"let\" (0xffffd7c0)\n\t    \"dolist\" (0xffffd910)\n\t    \"let\" (0xffffdb70)\n\t    \"load\" (0xffffdfe0)\n\t    \"load\" (0xffffe4a0)\n\n\t* src/casefiddle.c (syms_of_casefiddle): Declare four new symbols:\n\tQtitlecase, Qspecial_uppercase, Qspecial_lowercase and\n\tQspecial_titlecase.\n\t(prepare_casing_context): Use aforementioned symbols.\n\n2017-04-07  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from gnulib\n\n\tThis merges some getopt fixes from Zack Weinberg, and affects only\n\tnon-GNUish platforms.  It incorporates:\n\t2017-04-06 getopt-gnu: omit some duplicate code\n\t2017-04-06 getopt-posix: use angle-bracket include\n\t2017-04-06 getopt: annotate files with relationship to glibc\n\t2017-04-06 getopt: split up getopt.in.h and eliminate __need_getopt\n\t2017-04-06 getopt: better handling of ambiguous options\n\t2017-04-06 getopt: refactor long-option handling\n\t2017-04-06 getopt: tidy up _getopt_initialize a bit\n\t2017-04-06 getopt: merge from glibc: repetition reduction\n\t2017-04-06 getopt: clean up error reporting\n\t2017-04-06 getopt: fix fencepost error in ambiguous-W-option handling\n\t2017-04-06 getopt: clean up getopt.c and getopt1.c file headers\n\t2017-04-06 getopt: harmonize comments with glibc\n\t2017-04-06 getopt: remove USE_NONOPTION_FLAGS\n\t2017-04-06 getopt: tabify, in preparation for merge with glibc\n\t2017-04-06 md5, sha1, sha256, sha512: Add comments re correctness\n\t* build-aux/config.sub, doc/misc/texinfo.tex, lib/getopt.c:\n\t* lib/getopt.in.h, lib/getopt1.c, lib/getopt_int.h, lib/md5.c:\n\t* lib/md5.h, lib/sha1.c, lib/sha1.h, lib/sha256.c, lib/sha256.h:\n\t* lib/sha512.c, lib/sha512.h, lib/unistd.in.h, m4/getopt.m4:\n\tCopy from gnulib.\n\t* lib/getopt_cdefs.in.h, lib/getopt_core.h, lib/getopt_ext.h:\n\t* lib/getopt_pfx_core.h, lib/getopt_pfx_ext.h:\n\tNew files, taken from gnulib.\n\t* lib/gnulib.mk.in, m4/gnulib-comp.m4:\n\tRegenerate.\n\n2017-04-07  Hong Xu  <hong@topbug.net>\n\n\t* src/search.c (Fre_search_forward, Fre_search_backward): Improve\n\tdoc (Bug#25193).\n\n2017-04-07  Noam Postavsky  <npostavs@gmail.com>\n\n\tMention that processes start in default-directory (Bug#18515)\n\n\t* doc/lispref/processes.texi (Synchronous Processes):\n\t(Asynchronous Processes):\n\t* lisp/subr.el (start-process):\n\t* src/callproc.c (call-process): Mention that the subprocess starts in\n\t`default-directory' when local, suggest `start-file-process' and\n\t`process-file' otherwise.\n\n2017-04-07  Noam Postavsky  <npostavs@gmail.com>\n\n\t* src/xdisp.c (vmessage, message): Clarify commentary.\n\n2017-04-07  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMinor casefiddle.c cleanups\n\n\t* src/casefiddle.c: Redo recent changes to match GNU style,\n\tand prefer C99-style decls within blocks.\n\t(GREEK_CAPITAL_LETTER_SIGMA): Rename from CAPITAL_SIGMA, so that\n\twe are merely using the Unicode name, and make it a constant\n\trather than a macro.  All uses changed.\n\t(SMALL_SIGMA): Remove; unused.\n\t(GREEK_SMALL_LETTER_FINAL_SIGMA): Rename from SMALL_FINAL_SIGMA,\n\tand make it a constant rather than a macro.  All uses changed.\n\t(do_casify_multibyte_string): Use \u2018verify\u2019 rather than an\n\tunportable static_assertion local.\n\n2017-04-07  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* lisp/international/README: Update to match current list.\n\n2017-04-06  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix 'make clean' in lib subdirectory\n\n\t* lib/Makefile.in (clean): Remove *-t files.\n\t(mostlyclean): Remove MOSTLYCLEANFILES that are not *-t files.\n\tThis removes files like lib/getopt.h that should be removed\n\teven if this configuration did not need to build them.\n\t(maintainer-clean): Remove TAGS here, not in distclean,\n\tto be consistent with ../src/Makefile.in.\n\n2017-04-06  Michael Albinus  <michael.albinus@gmx.de>\n\n\tAdd new Tramp syntax\n\n\t* lisp/net/tramp-cmds.el (tramp-change-syntax): New defun.\n\n\t* lisp/net/tramp.el (tramp-syntax): Change default to `def'.\n\tAdd :set function.\n\t(tramp-prefix-port-format): Simplify.\n\t(tramp-file-name-regexp-separate): Remove.\n\t(tramp-initial-file-name-regexp)\n\t(tramp-completion-file-name-regexp-old-style)\n\t(tramp-initial-completion-file-name-regexp): New defconst.\n\t(tramp-prefix-format, tramp-prefix-regexp)\n\t(tramp-method-regexp, tramp-postfix-method-format)\n\t(tramp-postfix-method-regexp, tramp-prefix-ipv6-format)\n\t(tramp-prefix-ipv6-regexp, tramp-postfix-ipv6-format)\n\t(tramp-postfix-ipv6-regexp)\n\t(tramp-postfix-host-format, tramp-postfix-host-regexp)\n\t(tramp-remote-file-name-spec-regexp)\n\t(tramp-file-name-structure, tramp-file-name-regexp)\n\t(tramp-completion-file-name-regexp)\n\t(tramp-rfn-eshadow-update-overlay-regexp): Change them to be defuns.\n\t(tramp-tramp-file-p, tramp-find-method)\n\t(tramp-dissect-file-name, tramp-make-tramp-file-name)\n\t(tramp-completion-make-tramp-file-name)\n\t(tramp-rfn-eshadow-update-overlay)\n\t(tramp-register-autoload-file-name-handlers)\n\t(tramp-register-file-name-handlers)\n\t(tramp-unload-file-name-handlers)\n\t(tramp-completion-handle-file-name-all-completions)\n\t(tramp-completion-dissect-file-name, tramp-clear-passwd):\n\t* lisp/net/tramp-ftp.el (tramp-ftp-file-name-handler):\n\t* lisp/net/tramp-sh.el (tramp-sh-handle-vc-registered)\n\t(tramp-compute-multi-hops): Use them.\n\n2017-04-06  Michal Nazarewicz  <mina86@mina86.com>\n\n\tImplement special sigma casing rule  (bug#24603)\n\n\tIn Greek, a sigma character has two lower case forms which depend on\n\ttheir position in the word.  Implement logic determining it.\n\n\t* src/casefiddle.c (struct casing_context, case_character_impl): Don\u2019t\n\tassume inword is true when flag is CASE_UP and false when flag is\n\tCASE_DOWN.  For final sigma detection we need this information tracked\n\treliably;.\n\t(CAPITAL_SIGMA, SMALL_SIGMA, SMALL_FINAL_SIGMA): New macros defining\n\tUnicode code point of different forms of sigma letter.\n\t(case_character): Implement support for final sigma casing.\n\t(do_casify_multibyte_string, do_casify_multibyte_region): Update after\n\tchanges to case_character.\n\n\t* test/src/casefiddle-tests.el (casefiddle-tests-casing): Add test\n\tcases for final sigma.\n\n2017-04-06  Michal Nazarewicz  <mina86@mina86.com>\n\n\tSupport casing characters which map into multiple code points  (bug#24603)\n\n\tImplement unconditional special casing rules defined in Unicode standard.\n\n\tAmong other things, they deal with cases when a single code point is\n\treplaced by multiple ones because single character does not exist (e.g.\n\t\u2018\ufb01\u2019 ligature turning into \u2018FL\u2019) or is not commonly used (e.g. \u00df turning\n\tinto SS).\n\n\t* admin/unidata/SpecialCasing.txt: New data file pulled from Unicode\n\tstandard distribution.\n\t* admin/unidata/README: Mention SpecialCasing.txt.\n\n\t* admin/unidata/unidata-gen.el (unidata-gen-table-special-casing,\n\tunidata-gen-table-special-casing--do-load): New functions generating\n\t\u2018special-uppercase\u2019, \u2018special-lowercase\u2019 and \u2018special-titlecase\u2019\n\tcharacter Unicode properties built from the SpecialCasing.txt Unicode\n\tdata file.\n\n\t* src/casefiddle.c (struct casing_str_buf): New structure for\n\trepresenting short strings used to handle one-to-many character\n\tmappings.\n\n\t(case_character_imlp): New function which can handle one-to-many\n\tcharacter mappings.\n\t(case_character, case_single_character): Wrappers for the above\n\tfunctions.  The former may map one character to multiple (or no)\n\tcode points while the latter does what the former used to do (i.e.\n\thandles one-to-one mappings only).\n\n\t(do_casify_natnum, do_casify_unibyte_string,\n\tdo_casify_unibyte_region): Use case_single_character.\n\t(do_casify_multibyte_string, do_casify_multibyte_region): Support new\n\tfeatures of case_character.\n\t* (do_casify_region): Updated to reflact do_casify_multibyte_string\n\tchanges.\n\n\t(casify_word): Handle situation when one character-length of a word\n\tcan change affecting where end of the word is.\n\n\t(upcase, capitalize, upcase-initials): Update documentation to mention\n\tlimitations when working on characters.\n\n\t* test/src/casefiddle-tests.el (casefiddle-tests-char-properties):\n\tAdd test cases for the newly introduced character properties.\n\t(casefiddle-tests-casing): Update test cases which are now passing.\n\n\t* test/lisp/char-fold-tests.el (char-fold--ascii-upcase,\n\tchar-fold--ascii-downcase): New functions which behave like old \u2018upcase\u2019\n\tand \u2018downcase\u2019.\n\t(char-fold--test-match-exactly): Use the new functions.  This is needed\n\tbecause otherwise \ufb01 and similar characters are turned into their multi-\n\t-character representation.\n\n\t* doc/lispref/strings.texi: Describe issue with casing characters versus\n\tstrings.\n\t* doc/lispref/nonascii.texi: Describe the new character properties.\n\n2017-04-06  Michal Nazarewicz  <mina86@mina86.com>\n\n\tSplit up casify_region function  (bug#24603)\n\n\tNo functional changes at this time but splitting casify_region into\n\ta function dealing with multibyte and another dealing with unibyte\n\tbuffers will make future code changes slightly easier.\n\n\t* src/casefiddle.c (casify_region): Move most of the code into two\n\tnew functions:\n\t(do_casify_multibyte_region, do_casify_unibyte_region): new functions.\n\n2017-04-06  Michal Nazarewicz  <mina86@mina86.com>\n\n\tAdd support for title-casing letters  (bug#24603)\n\n\t* src/casefiddle.c (struct casing_context, prepare_casing_context): Add\n\ttitlecase_char_table member.  It\u2019s set to the \u2018titlecase\u2019 Unicode\n\tproperty table if capitalization has been requested.\n\t(case_character): Make use of the titlecase_char_table to title-case\n\tinitial characters when capitalising.\n\n\t* test/src/casefiddle-tests.el (casefiddle-tests--characters,\n\tcasefiddle-tests-casing): Update test cases which are now passing.\n\n2017-04-06  Michal Nazarewicz  <mina86@mina86.com>\n\n\tIntroduce case_character function\n\n\tMove single-character casing logic into a separate function so that\n\tit is collected in a single place.  This will make future changes to\n\tthe logic easier.  This commit introduces no functionality changes.\n\n\t* src/casefiddle.c (struct casing_context, prepare_casing_context): New\n\tstructure for saving casing context and function to initialize it.\n\t(case_character): New function which cases character base on provided\n\tcontext.\n\t(do_casify_integer, do_casify_multibyte_string,\n\tdo_casify_unibyte_string, casify_object, casify_region): Convert to\n\tuse casing_context and case_character.\n\n2017-04-06  Michal Nazarewicz  <mina86@mina86.com>\n\n\tSplit casify_object into multiple functions\n\n\tcasify_object had three major cases to cover and those were mostly\n\tindependent of each other.  Move those branches to separate function\n\tso it\u2019s easier to comprehend each individual case.\n\n\tWhile at it, use somewhat more descriptive ch and cased variable names\n\trather than c and c1.\n\n\tThis commit introduces no functional changes.\n\n\t* src/casefiddle.c (casify_object): Split into\u2026\n\t(do_casify_integer, do_casify_multibyte_string,\n\tdo_casify_unibyte_string): \u2026new functions.\n\n2017-04-06  Lars Brinkhoff  <lars@nocrew.org>\n\n\tUpdate documentation for type semantics of records.\n\n\t* doc/lispref/objects.texi (Record Type): improve description of what\n\t`type-of' returns for records.\n\t(Type Descriptors): new section.\n\t* doc/lispref/elisp.texi: reference it.\n\t* doc/lispref/records.texi (Records): reference it.  Document\n\tbehavior when type slot is a record.\n\n\t* admin/alloc-colors.c (Fmake_record, Frecord): mention type desciptors.\n\n2017-04-06  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/help-fns.el (describe-symbol): `nil' is not an interesting default.\n\n2017-04-06  Tom Tromey  <tom@tromey.com>\n\n\trequire cl-lib to fix fallout from mhtml series\n\n\t* lisp/align.el, lisp/calc/calc-embed.el, lisp/cedet/semantic.el,\n\tlisp/emulation/viper.el: Require cl-lib.\n\n2017-04-06  Ken Raeburn  <raeburn@raeburn.org>\n\n\tIn CANNOT_DUMP builds, allow editing of files named \"dump\".\n\n\t* lisp/loadup.el: Perform the \"dump\" or \"bootstrap\" actions like\n\tcalling dump-emacs only if dump-emacs is defined; otherwise, don't\n\ttreat those command-line argument specially.\n\n2017-04-06  Ken Raeburn  <raeburn@raeburn.org>\n\n\tIn CANNOT_DUMP builds, don't prepare for unexec.\n\n\tHaving a command-line argument of \"dump\" or \"bootstrap\" would trigger\n\tbehavior like not installing signal handlers.  In CANNOT_DUMP modes,\n\twe should get signal handlers installed regardless of whatever funny\n\tfile names we decide to edit.\n\n\tsrc/emacs.c (main) [CANNOT_DUMP]: Don't enable the \"dumping\"\n\talterations to initialization that prepares the process for unexec.\n\n2017-04-06  Ken Raeburn  <raeburn@raeburn.org>\n\n\tAllow a CANNOT_DUMP build to use exec-path during bootstrap.\n\n\tDuring a bootstrap, loading rmail.el invokes movemail to determine its\n\tflavor, but call-process doesn't work if exec-path is nil.\n\n\t* lisp/loadup.el: Only clear exec-path if dumping.\n\n2017-04-06  Ken Raeburn  <raeburn@raeburn.org>\n\n\tFix CANNOT_DUMP build on Darwin/macOS.\n\n\t* src/conf_post.h (malloc, realloc, free) [DARWIN_OS && emacs &&\n\tCANNOT_DUMP]: Don't define as unexec_malloc, etc.\n\t* src/emacs.c (main): Don't call unexec_init_emacs_zone.\n\n2017-04-05  Tom Tromey  <tom@tromey.com>\n\n\tadd two more mhtml tests\n\n\t* test/manual/indent/html-multi-2.html: New file.\n\t* test/manual/indent/html-multi-3.html: New file.\n\n2017-04-05  Tom Tromey  <tom@tromey.com>\n\n\tenable mhtml-mode by default\n\n\t* lisp/files.el (auto-mode-alist): Reference mhtml-mode, not\n\thtml-mode.\n\t(magic-fallback-mode-alist): Likewise.\n\t* lisp/net/eww.el (eww-view-source): Use mthml-mode.\n\n2017-04-05  Tom Tromey  <tom@tromey.com>\n\n\tadd mhtml-mode.el\n\n\t* etc/NEWS: Update.\n\t* lisp/textmodes/mhtml-mode.el: New file.\n\t* test/manual/indent/html-multi.html: New file.\n\t* test/lisp/textmodes/mhtml-mode-tests.el: New file.\n\t* doc/emacs/text.texi (HTML Mode): Mention mhtml-mode.\n\n2017-04-05  Tom Tromey  <tom@tromey.com>\n\n\tchange sgml-mode to help multi-html mode\n\n\t* lisp/textmodes/sgml-mode.el (sgml-syntax-propertize-rules): New\n\tdefconst.\n\t(sgml-syntax-propertize): Use it.\n\t(sgml--find-<>-backward): New function.\n\t(sgml-parse-tag-backward): Use it.\n\n2017-04-05  Tom Tromey  <tom@tromey.com>\n\n\tmake js.el respect prog-first-column\n\n\t* lisp/progmodes/js.el (js--proper-indentation): Call prog-first-column.\n\n2017-04-05  Tom Tromey  <tom@tromey.com>\n\n\tmake smie.el respect prog-first-column\n\n\t* lisp/emacs-lisp/smie.el (smie-indent-bob): Call prog-first-column.\n\n2017-04-05  Tom Tromey  <tom@tromey.com>\n\n\tchange viper to use derived-mode-p\n\n\t* lisp/subr.el (provided-mode-derived-p): New function.\n\t(derived-mode-p): Use it.\n\t* lisp/emulation/viper.el (viper-mode): Use derived-mode-p.\n\t(this-major-mode-requires-vi-state): Use provided-mode-derived-p.\n\t(set-viper-state-in-major-mode): Use derived-mode-p.\n\n2017-04-05  Tom Tromey  <tom@tromey.com>\n\n\tchange align to use derived-mode-p\n\n\t* lisp/align.el (align-region): Use derived-mode-p.\n\n2017-04-05  Tom Tromey  <tom@tromey.com>\n\n\tchange org to use derived-mode-p\n\n\t* lisp/org/org-list.el (org-list-insert-radio-list): Use\n\tderived-mode-p.\n\t* lisp/org/org-table.el (orgtbl-setup, orgtbl-toggle-comment): Use\n\tderived-mode-p.\n\n2017-04-05  Tom Tromey  <tom@tromey.com>\n\n\tchange semantic to use derived-mode-p\n\n\t* lisp/cedet/semantic.el (semantic-new-buffer-fcn): Use derived-mode-p.\n\n2017-04-05  Tom Tromey  <tom@tromey.com>\n\n\tchange calc to use derived-mode-p\n\n\t* lisp/calc/calc-embed.el (calc-embedded-find-modes)\n\t(calc-embedded-make-info): Use derived-mode-p.\n\n2017-04-05  Tom Tromey  <tom@tromey.com>\n\n\tchange auto-insert to use derived-mode-p\n\n\t* lisp/autoinsert.el (auto-insert): Use derived-mode-p.\n\n2017-04-05  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* lisp/info.el (Info-search): Fix typo in April 1 change.\n\n2017-04-05  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMinor cleanups related to type-of\n\n\t* src/data.c (Frecordp): Rename from Frecordp_p, for consistency.\n\t* src/data.c (syms_of_data):\n\t* src/frame.c (syms_of_frame): Put all the primitive type names\n\ttogether, under the \"Types that type-of returns\" comment.\n\n2017-04-05  Glenn Morris  <rgm@gnu.org>\n\n\t* doc/lispref/package.texi (Package Archives): Mention https.\n\n2017-04-05  Glenn Morris  <rgm@gnu.org>\n\n\tAdvertise https for homepage of gnu.org packages\n\n\t* lisp/emacs-lisp/package.el (describe-package-1):\n\tUse https, if supported, for the homepage of packages on gnu.org.\n\n2017-04-05  Glenn Morris  <rgm@gnu.org>\n\n\tDefault to https for elpa.gnu.org if gnutls available\n\n\t* lisp/emacs-lisp/package.el (package-archives):\n\tDefault to https for elpa.gnu.org if gnutls is available.  Ref:\n\thttps://lists.gnu.org/r/emacs-devel/2015-05/msg00130.html\n\n2017-04-04  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMinor simplifications and doc for records\n\n\t* doc/lispref/records.texi (Records): Mention size limit.\n\t* etc/NEWS: Mention records.\n\t* src/alloc.c (allocate_pseudovector, allocate_record):\n\tPrefer 'PSEUDOVECTOR_SIZE_MASK' to its definiens.\n\t(allocate_record): Check arg range here, not in callers, as this\n\tsimplifies the code.  Use allocate_vectorlike instead of\n\tallocate_vector, to avoid duplicate runtime tests.\n\t(Fmake_record, record): Don't mention PSEUDOVECTOR_SIZE_BITS in\n\tthe doc string, as it is not visible to the user.\n\t(Fmake_record, record, Fcopy_record):\n\tPrefer make_lisp_ptr to XSETVECTOR.\n\t(record): Broaden memcpy to copy the type, too.\n\n2017-04-04  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix recent changes in record data type\n\n\t* src/alloc.c (Fmake_record, Frecord, Fcopy_record): Avoid\n\tcompiler warnings when 'ptrdiff_t' is narrower than 'long int'.\n\n2017-04-04  Philipp Stephani  <phst@google.com>\n\n\tMake subprocess functions resolve the default directory\n\n\t`call-process' doesn't respect file name handlers in\n\t`default-directory', so `file-name-non-special' has to resolve them\n\tfor `process-file', `start-file-process', and\n\t`shell-command' (Bug#25949).\n\n\t* lisp/files.el (file-name-non-special): Also resolve default\n\tdirectory for 'process-file', 'start-file-process', and\n\t'shell-command'.\n\t* test/lisp/files-tests.el\n\t(files-tests--file-name-non-special--subprocess): Add unit test.\n\n2017-04-04  Philipp Stephani  <phst@google.com>\n\n\tMake ediff handle remote and quoted file names\n\n\tQuoted file names need to be unquoted before passed to\n\tsubprocesses (Bug#25950).\n\n\t* lisp/vc/ediff-diff.el (ediff-exec-process): Handle remote and quoted\n\tfile names.\n\t* test/lisp/vc/ediff-diff-tests.el\n\t(ediff-diff-tests--ediff-exec-process--quoted-file): Add unit test.\n\n2017-04-04  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tBackward compatibility with pre-existing struct instances.\n\n\t* lisp/emacs-lisp/cl-lib.el (cl--old-struct-type-of): New function.\n\t(cl-old-struct-compat-mode): New minor mode.\n\n\t* lisp/emacs-lisp/cl-macs.el (cl-defstruct): Pass `record' to\n\tcl-struct-define to signal use of record objects.\n\n\t* lisp/emacs-lisp/cl-preloaded.el (cl--struct-get-class,\n\tcl-struct-define): Enable legacy defstruct compatibility.\n\n\t* test/lisp/emacs-lisp/cl-lib-tests.el (cl-lib-old-struct,\n\told-struct): New tests.\n\n\t* doc/lispref/elisp.texi, doc/lispref/records.texi: Document\n\t`old-struct-compat'.\n\n2017-04-04  Lars Brinkhoff  <lars@nocrew.org>\n\n\tMake the URL library use records.\n\n\t* lisp/url/url.el, lisp/url/url-cache.el, lisp/url/url-dav.el,\n\tlisp/url/url-expand.el, lisp/url/url-file.el, lisp/url/url-imap.el,\n\tlisp/url/url-ldap.el: Use `url-p' instead of `vectorp'.\n\n\t* lisp/url/url-http.el (url-http): Check for type `url' instead of\n\t`vector'.\n\n2017-04-04  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tMake EIEIO use records.\n\n\t* lisp/emacs-lisp/eieio-compat.el\n\t(eieio--generic-static-object-generalizer): Adjust to new tags.\n\n\t* lisp/emacs-lisp/eieio-core.el: Use records, and place the class object\n\tdirectly as tag.\n\t(eieio--object-class): Adjust to new tag representation.\n\t(eieio-object-p): Rewrite, and adapt to new `type-of' behavior.\n\t(eieio-defclass-internal): Use `make-record'.\n\t(eieio--generic-generalizer): Adjust generalizer code accordingly.\n\n\t* lisp/emacs-lisp/eieio.el (make-instance, clone): Use copy-record.\n\n\t* lisp/emacs-lisp/pcase.el (pcase-mutually-exclusive-predicates):\n\tAdd `recordp'.\n\n\t* doc/lispref/records.texi, doc/misc/eieio.texi: Update for records.\n\n2017-04-04  Lars Brinkhoff  <lars@nocrew.org>\n\n\tMake cl-defstruct use records.\n\n\t* lisp/emacs-lisp/cl-extra.el (cl--describe-class)\n\t(cl--describe-class-slots): Use the new `type-of'.\n\n\t* lisp/emacs-lisp/cl-generic.el (cl--generic-struct-tag): Use type-of.\n\t(cl--generic-struct-specializers): Adjust to new tag.\n\n\t* lisp/emacs-lisp/cl-macs.el (cl-defstruct): When type is nil, use records.\n\tUse the type symbol as the tag.  Use copy-record to copy structs.\n\t(cl--defstruct-predicate): New function.\n\t(cl--pcase-mutually-exclusive-p): Use it.\n\t(cl-struct-sequence-type): Can now return `record'.\n\n\t* lisp/emacs-lisp/cl-preloaded.el (cl--make-slot-desc): Adjust ad-hoc\n\tcode to new format.\n\t(cl--struct-register-child): Work with records.\n\t(cl-struct-define): Don't touch the tag's symbol-value and\n\tsymbol-function slots when we use the type as tag.\n\n\t* lisp/emacs-lisp/cl-print.el (cl-print-object): Adjust to new tag.\n\n\t* test/lisp/emacs-lisp/cl-lib-tests.el (cl-lib-defstruct-record):\n\tNew test.\n\n\t* doc/lispref/records.texi, doc/misc/cl.texi: Update for records.\n\n2017-04-04  Lars Brinkhoff  <lars@nocrew.org>\n\n\tAdd record objects with user-defined types.\n\n\t* src/alloc.c (allocate_record): New function.\n\t(Fmake_record, Frecord, Fcopy_record): New functions.\n\t(syms_of_alloc): defsubr them.\n\t(purecopy): Work with records.\n\n\t* src/data.c (Ftype_of): Return slot 0 for record objects, or type\n\tname if record's type holds class.\n\t(Frecordp): New function.\n\t(syms_of_data): defsubr it.  Define `Qrecordp'.\n\t(Faref, Faset): Work with records.\n\n\t* src/fns.c (Flength): Work with records.\n\n\t* src/lisp.h (prec_type): Add PVEC_RECORD.\n\t(RECORDP, CHECK_RECORD, CHECK_RECORD_TYPE): New functions.\n\n\t* src/lread.c (read1): Add syntax for records.\n\n\t* src/print.c (PRINT_CIRCLE_CANDIDATE_P): Add RECORDP.\n\t(print_object): Add syntax for records.\n\n\t* test/lisp/emacs-lisp/cl-print-tests.el (cl-print-tests-2):\n\tNew test.\n\n\t* test/src/alloc-tests.el (record-1, record-2, record-3):\n\tNew tests.\n\n\t* doc/lispref/elisp.texi, doc/lispref/objects.texi,\n\tdoc/lispref/records.texi: Add documentation for records.\n\n2017-04-04  Tino Calancha  <tino.calancha@gmail.com>\n\n\tFix a test in python-test.el\n\n\tFix a test that breaks the test suite when it is run within a\n\tvirtual environment.\n\tSee following link for details:\n\thttps://lists.gnu.org/r/emacs-devel/2017-03/msg00857.html\n\t* test/lisp/progmodes/python-tests.el\n\t(python-shell-calculate-process-environment-7): Bind\n\tpython-shell-virtualenv-root to VIRTUAL_ENV when this var is set; otherwise\n\tbind it to '/env'.\n\n2017-04-04  Noam Postavsky  <npostavs@gmail.com>\n\n\tThrow a `search-failed' derived error in Info search\n\n\tThe original fix for Bug#6106 switched from signaling `search-failed'\n\tto `user-error'.  However, this breaks incremental searching over\n\tmultiple nodes because the isearch code doesn't expect a `user-error'.\n\n\t* src/search.c (syms_of_search): New error, `user-search-failed',\n\twith `user-error' and `search-failed' as parents.\n\t* doc/lispref/errors.texi (Standard Errors): Document it.\n\t* etc/NEWS: Announce it.\n\t* lisp/info.el (Info-search): Use it instead of `user-error' so that\n\tisearch will handle failed searches correctly.\n\n2017-04-03  Michael Albinus  <michael.albinus@gmx.de>\n\n\tAdd Tramp test\n\n\t* doc/misc/tramp.texi (Remote processes): Fix typo.\n\n\t* lisp/shell.el (shell): Fix typo.\n\n\t* lisp/net/tramp.el (tramp-set-connection-local-variables): Simplify.\n\n\t* test/lisp/net/tramp-tests.el (tramp-test30-explicit-shell-file-name):\n\tNew test.\n\t(tramp--test-special-characters, tramp--test-utf8): Adapt docstring.\n\t(tramp-test31-vc-registered)\n\t(tramp-test32-make-auto-save-file-name)\n\t(tramp-test33-make-nearby-temp-file)\n\t(tramp-test34-special-characters)\n\t(tramp-test34-special-characters-with-stat)\n\t(tramp-test34-special-characters-with-perl)\n\t(tramp-test34-special-characters-with-ls, tramp-test35-utf8)\n\t(tramp-test35-utf8-with-stat, tramp-test35-utf8-with-perl)\n\t(tramp-test35-utf8-with-ls)\n\t(tramp-test36-asynchronous-requests)\n\t(tramp-test37-recursive-load, tramp-test38-unload): Rename.\n\n2017-04-03  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/ses.el: Silence byte-compiler warnings.\n\n\t(ses-jump, ses-recalculate-cell, ses-define-local-printer): Silence\n\tbyte-compiler warnings.\n\n2017-04-02  Glenn Morris  <rgm@gnu.org>\n\n\tBelated fixes for admin.el's M-x make-manuals-dist\n\n\t* admin/admin.el (make-manuals-dist-output-variables): Additions.\n\t(make-manuals-dist--1): Also copy docstyle.texi.\n\n2017-04-02  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix bugs in simplified test dependencies\n\n\tProblem reported by Glenn Morris in:\n\thttps://lists.gnu.org/r/emacs-devel/2017-04/msg00017.html\n\t* test/Makefile.in (LOGFILES, TESTS): Omit leading \"./\".\n\t(TESTS): Omit unnecessary patsubst.\n\t(test_template): Redo dependency heuristic, hopefully\n\tcorrectly this time.  It's the .log file that depends,\n\tnot the phony test target.  Declare the phonies to be PHONY.\n\tResurrect the exception for the *-tests subdirectory.\n\tAdjust to the fact that leading \"./\" is omitted now.\n\n2017-04-02  Wilfred Hughes  <me@wilfred.me.uk>\n\n\tFix typo in docstring\n\n\t* lisp/help.el: Fix typo.\n\n2017-04-02  Michael Albinus  <michael.albinus@gmx.de>\n\n\tApply connecion-local variables for shells\n\n\t* doc/misc/tramp.texi (Remote processes): Show use of connection-local\n\tvariables.  Don't mention Emacs 23 anymore.\n\t(Frequently Asked Questions): Precise Emacs and MS Windows version.\n\n\t* lisp/files-x.el (connection-local-normalize-criteria):\n\tSuppress nil properties.\n\t(connection-local-set-profiles, with-connection-local-profiles):\n\tAdapt docstring.\n\n\t* lisp/shell.el (shell): Apply connecion-local variables.\n\n2017-04-01  Evgeni Kolev  <evgenysw@gmail.com>  (tiny change)\n\n\tPropertize only perl prototype chars `][$%&*;+@\\' as punctuation\n\n\tThis prevents variables in signatures such as `sub add ($a, $b)' from\n\tbeing treated as punctuation.\n\t* lisp/progmodes/perl-mode.el (perl-syntax-propertize-function):\n\tStrictly match only prototype characters as punctuation.  (Bug#26037)\n\n2017-04-01  Tom Tromey  <tom@tromey.com>\n\n\tfix two js-mode syntax propertization bugs\n\n\tBug#26070:\n\t* lisp/progmodes/js.el (js--syntax-propertize-regexp-regexp): Add\n\tzero-or-one to regular expression.\n\t(js-syntax-propertize-regexp): Update.  Propertize body of regexp\n\tliteral up to END.\n\t* test/lisp/progmodes/js-tests.el (js-mode-propertize-bug-1)\n\t(js-mode-propertize-bug-2): New tests.\n\n2017-04-01  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSimplify test dependency generation\n\n\tGenerate default dependencies by using GNU extensions to \u2018make\u2019\n\trather than via a hacky auxiliary program and script.\n\t* .gitignore: Remove test/make-test-deps.mk.\n\t* test/Makefile.in (ELFILES, LOGFILES, TESTS):\n\tUse :=, not =, to avoid multiple redundant invocations of \u2018find\u2019.\n\t(test_template): Infer dependency directly instead of via\n\tmake-test-deps.mk.\n\t(check-doit): Prepend \u2018@\u2019 to avoid excessively long \u2018make\u2019 output.\n\t(clean): No need to clean make-test-deps.mk.\n\t(make-test-deps.mk): Remove rule.\n\t* test/make-test-deps.emacs-lisp: Remove.\n\n2017-04-01  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* test/lisp/emacs-lisp/cl-lib-tests.el: Improve symbol-macrolet tests\n\n\t(cl-lib-symbol-macrolet): Fix last test so it doesn't break the whole\n\ttest suite.\n\t(cl-lib-symbol-macrolet-2): New test.\n\n2017-04-01  Tino Calancha  <tino.calancha@gmail.com>\n\n\tUse only posix options in a ediff-ptch test\n\n\t* test/lisp/vc/ediff-ptch-tests.el (ediff-ptch-test-bug26084):\n\tUse just \"-b\" patch option.  Don't assume a particular suffix for\n\tthe backup files.\n\n2017-04-01  Jarno Malmari  <jarno@malmari.fi>\n\n\tInitial implementation of HTTP Digest qop for url\n\n\tThis also refactors digest authentication functions in url-auth.el.\n\n\t* lisp/url/url-auth.el (url-digest-auth, url-digest-auth-create-key):\n\t(url-digest-auth-build-response, url-digest-auth-directory-id-assoc):\n\t(url-digest-auth-name-value-string, url-digest-auth-source-creds):\n\t(url-digest-cached-key, url-digest-cache-key, url-digest-find-creds):\n\t(url-digest-find-new-key, url-digest-prompt-creds): Add new functions\n\tto simplify code and aid in unit testing.\n\t(url-digest-auth-build-response): Hook up new functionality, or fall\n\tback to previous.\n\t(url-digest-auth-make-request-digest-qop):\n\t(url-digest-auth-make-cnonce, url-digest-auth-nonce-count):\n\t(url-digest-auth-name-value-string): Add new helper functions.\n\t* test/lisp/url/url-auth-tests.el (url-auth-test-colonjoin):\n\t(url-auth-test-digest-ha1, url-auth-test-digest-ha2):\n\t(url-auth-test-digest-request-digest): Add a few tests as now more\n\tfeatures are testable via intermediate functions.\n\t(url-auth-test-challenges, url-auth-test-digest-request-digest): Test\n\tthe new implementation.  Parts of these were accidentally already\n\tmerged in the past.\n\n2017-04-01  Tino Calancha  <tino.calancha@gmail.com>\n\n\tTweak ediff-ptch test in previous commit a bit more\n\n\t* test/lisp/vc/ediff-ptch-tests.el (ediff-ptch-test-bug26084):\n\tApply patches without requiring a shell.  Add some comments.\n\n2017-03-31  Glenn Morris  <rgm@gnu.org>\n\n\tTweak an ediff-ptch test\n\n\t* test/lisp/vc/ediff-ptch-tests.el (ediff-ptch-test-bug26084):\n\tAdd skip conditions.  Avoid going through shell where not needed.\n\n2017-03-31  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* lisp/net/tramp-smb.el (tramp-smb-errors):\n\n\tAdd \"NT_STATUS_PASSWORD_MUST_CHANGE\".\n\n2017-03-31  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* test/lisp/emacs-lisp/cl-lib-tests.el (cl-lib-symbol-macrolet): New test.\n\n2017-03-31  Tino Calancha  <tino.calancha@gmail.com>\n\n\tdired-mark-suffix: New command\n\n\tNow dired-mark-extension prepends '.' to extension when not present.\n\tAdd command dired-mark-suffix to preserve the previous\n\tbehavior (Bug#25942).\n\t* lisp/dired-x.el (dired-mark-suffix): New command;\n\tmark files ending in a given suffix.\n\t(dired--mark-suffix-interactive-spec): New defun.\n\t(dired-mark-extension, dired-mark-suffix): Use it.\n\t* doc/misc/dired-x.texi (Advanced Mark Commands): Update manual.\n\t* test/lisp/dired-x-tests.el: New test suite; add test for these features.\n\n2017-03-31  Tino Calancha  <tino.calancha@gmail.com>\n\n\tdefault-directory: Remark that it must be a directory name\n\n\t* src/buffer.c (default-directory): Update docstring (Bug#26272).\n\n2017-03-31  Tino Calancha  <tino.calancha@gmail.com>\n\n\tDelete confuse statement in manual\n\n\t* doc/misc/cl.texi (For Clauses): Delete confuse statement\n\tand its example (Bug#23550).\n\n2017-03-31  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tUse find -delete if available\n\n\tThis shortens the \u2018make\u2019 output and should avoid some\n\trepetitive scanning of directories during a build.\n\t* configure.ac (FIND_DELETE): New var.\n\t* lisp/Makefile.in (compile-always, bootstrap-clean):\n\t* test/Makefile.in (clean, bootstrap-clean): Use it.\n\t* test/Makefile.in (ELCFILES, LOGSAVEFILES): Remove; no longer needed.\n\n2017-03-31  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tRemove gnus-boundp\n\n\t* lisp/gnus/gnus-start.el (gnus-display-time-event-handler): Use\n\tbound-and-true-p.\n\t* lisp/gnus/gnus-util.el (gnus-boundp): Remove.\n\n2017-03-31  Niels M\u00f6ller  <nisse@lysator.liu.se>  (tiny change)\n\n\tStop `fixup-whitespace' adding trailing whitespace (Bug#18783)\n\n\t* lisp/simple.el (fixup-whitespace): Insert no spaces if point is at\n\tend of line after deleting horizontal whitespace.\n\n2017-03-31  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* src/inotify.c (add_watch): Add comment.\n\n2017-03-31  Andreas Politz  <politza@hochschule-trier.de>\n\n\tMinor filenotify.el fixes\n\n\t* lisp/filenotify.el: Require subr-x.\n\t(file-notify-callback): Use equal, not eq.\n\n2017-03-31  Noam Postavsky  <npostavs@gmail.com>\n\n\tImprove packaging documentation\n\n\t* doc/lispref/package.texi (Packaging Basics):\n\t* doc/lispref/tips.texi (Library Headers): Clarify some header\n\tformats, relation between file headers and package\n\tattributes (Bug#13281).\n\n2017-03-31  John Mastro  <john.b.mastro@gmail.com>\n\n\tFix a small incompatibility in ibuffer\n\n\tTranslate nil values from column functions to the empty string, so that\n\tsubsequent calls to string-width don't signal an error (Bug#26317).\n\t* lisp/ibuffer.el (ibuffer-compile-format): If a column function returns\n\tnil, treat it like the empty string.\n\n2017-03-30  Alan Mackenzie  <acm@muc.de>\n\n\tFix C++ fontification problems 500 bytes after typing a space, and other bugs\n\n\tAlso implement the \"asymmetric space\" rule for fontifying otherwise\n\tambiguous\n\tdeclarations/expressions.\n\n\t* lisp/progmodes/cc-engine.el (c-before-change-check-<>-operators): Don't set\n\tc-new-BEG or c-new-END when there is no need.\n\t(c-forward-decl-or-cast-1): Add \"CASE 17.5\" to implement the \"asymmetric\n\tspace\" rule.\n\n\t* lisp/progmodes/cc-fonts.el (c-get-fontification-context): New function,\n\textracted from c-font-lock-declarations.  Add to this function processing to\n\tmake `context' 'decl for lines contained within parens when these are also\n\tdeclarations.\n\t(c-font-lock-declarations): Call the newly extracted function above in place\n\tof inline code.\n\n\t* lisp/progmodes/cc-mode.el (c-fl-decl-start): Set point before calling\n\tc-literal-start.\n\n\t* lisp/progmodes/cc-vars.el (c-asymmetry-fontification-flag): New user option.\n\n\t* doc/misc/cc-mode.texi (Misc Font Locking): New node documenting the new\n\t\"asymmetric fontification\" rule, including the variable\n\tc-asymmetric-fontification-flag.\n\n2017-03-30  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSome inotify cleanup\n\n\tThis catches some problems with integer overflow and races\n\tthat I noticed in inotify.c after reviewing the changes\n\tinstalled to fix Bug#26126.\n\t* src/fns.c, src/lisp.h (equal_no_quit): Now extern.\n\t* src/inotify.c (aspect_to_inotifymask):\n\tCheck for cycles and for improper lists.\n\t(make_lispy_mask, lispy_mask_match_p): Remove.\n\tAll callers changed to use INTEGER_TO_CONS and CONS_TO_INTEGER.\n\t(inotifyevent_to_event, add_watch):\n\tDon\u2019t assume watch descriptors and cookies fit in fixnums.\n\t(add_watch): Use assoc_no_quit, not Fassoc.\n\tAvoid integer overflow in (very!) long-running processes where\n\tthe Emacs watch ID could overflow.  Avoid some duplicate code.\n\t(find_descriptor): New function.\n\t(remove_descriptor): First arg is now the returned value from\n\tfind_descriptor, rather than the descriptor.  This way, the\n\tvalue can be removed without calling Fdelete, which might quit.\n\tWait until the end (when watch_list is consistent) before signaling\n\tany errors.\n\t(remove_watch, inotify_callback):\n\tUse find_descriptor to avoid the need for Fdelete.\n\t(inotify_callback): Use simpler tests for ioctl failure.\n\tFree temporary buffer if signaled, and put it on the stack if small.\n\tUse ssize_t to index through read results, to avoid a cast.\n\t(valid_watch_descriptor): New function, with a tighter check.\n\t(Finotify_rm_watch, Finotify_valid_p): Use it.\n\t(Finotify_valid_p): Use assoc_no_quit and ass_no_quit instead\n\tof Fassoc.  Do not assume the first assoc succeeds.\n\t* test/src/inotify-tests.el (inotify-valid-p-simple):\n\tAdd inotify-valid-p tests, some of which dump core without\n\tthe fixes noted above.\n\n2017-03-30  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* lisp/net/tramp-sh.el (tramp-get-remote-locale): Add \"C.UTF-8\" as candidate.\n\n2017-03-30  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/cedet/semantic/wisent/wisent.el (wisent-automaton-p): Use obarrayp.\n\n2017-03-30  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix assoc_no_quit so that it does not quit\n\n\tThe problem was that it called Fequal, which can quit.\n\t* src/fns.c (enum equal_kind):\n\tNew enum, to be used in place of a boolean.\n\t(equal_no_quit): New function.\n\t(Fmemql, Feql): Use it to compare floats, as a minor tuneup.\n\t(assoc_no_quit): Use it to avoid quitting, the main point here.\n\t(internal_equal): Generalize bool to enum equal_kind arg, so that\n\tthere are now 3 possibilities instead of 2.  Do not signal an\n\terror if EQUAL_NO_QUIT.  Put the arg before the depth, since depth\n\tshould be irrelevant if the arg is EQUAL_NO_QUIT.  All callers\n\tchanged.\n\n2017-03-29  Alan Mackenzie  <acm@muc.de>\n\n\tAmend gitmerge to recognize the injunction \"don't merge\".\n\n\t* admin/gitmerge.el (gitmerge-skip-regexp): amend regexp to match \"don't\" as\n\twell as \"do not\".\n\n2017-03-29  Simen Heggest\u00f8yl  <simenheg@gmail.com>\n\n\tAdd one more CSS pseudo-class\n\n\t* lisp/textmodes/css-mode.el (css-pseudo-class-ids): Add\n\t`focus-within'.\n\n2017-03-29  Simen Heggest\u00f8yl  <simenheg@gmail.com>\n\n\tUpdate list of CSS pseudo-classes\n\n\t* lisp/textmodes/css-mode.el (css-pseudo-class-ids): Update list of\n\tpseudo-classes.\n\n2017-03-29  Noam Postavsky  <npostavs@gmail.com>\n\n\tAdjust some search failure errors in info.el\n\n\t* lisp/info.el (Info-select-node): The search for beginning of node is\n\tan internal detail, and is not normally expected to fail, so it should\n\tnot be a user error.\n\t(Info-complete-menu-item): Failing to find a menu indicates the user\n\tsearched for a menu when there isn't one, so change to `use-error'.\n\n2017-03-28  Alan Mackenzie  <acm@muc.de>\n\n\t* lisp/progmodes/cc-defs.el (c-version):  Restore c-version to 5.33\n\n2017-03-28  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDon\u2019t mishandle (format \"%i\" -1.0)\n\n\t* src/editfns.c (styled_format): Treat %i like %d when converting arg.\n\n2017-03-28  Noam Postavsky  <npostavs@gmail.com>\n\n\t* lisp/emacs-lisp/ert.el (ert-run-tests): Make INTERACTIVE arg optional.\n\n2017-03-28  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* src/inotify.c (Finotify_add_watch): aspect can also be a symbol.\n\n2017-03-28  Noam Postavsky  <npostavs@gmail.com>\n\n\tDon't add `search-failed' to ignored errors in info.el (Bug#6106)\n\n\t* lisp/info.el: Stop adding `search-failed' to `debug-ignored-errors'.\n\t(Info-select-node, Info-search): Replace (signal 'search-failed ...)\n\twith (user-error \"Search failed: \"...).\n\n2017-03-27  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix obsolete \u2018test/automated\u2019 references\n\n\t* Makefile.in (mostlyclean, clean, maybeclean_dirs, distclean)\n\t(bootstrap-clean, maintainer-clean):\n\tClean \u2018test\u2019, not \u2018test/automated\u2019.  Test for existence of\n\tsubdirectory only for \u2018test\u2019, not for directories that should\n\talways exist.\n\t* admin/MAINTAINERS, etc/TODO, lisp/emacs-lisp/bytecomp.el:\n\t* lisp/emacs-lisp/seq.el, lisp/emacs-lisp/thunk.el:\n\t* lisp/man.el (Man-parse-man-k):\n\t* lisp/url/url-domsuf.el, make-dist:\n\t* test/file-organization.org:\n\tFix obsolete references to test/automated.\n\n2017-03-27  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\tshr-image-fetched: Work for narrowed Gnus article\n\n\tSee <8737e3msun.fsf@gmail.com> of bug#26231 in the bug-gnu-emacs list.\n\n\t* lisp/net/shr.el (shr-image-fetched): Work for narrowed article.\n\n2017-03-27  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* lisp/net/tramp.el (tramp-file-name-handler): Autoload it.\n\n2017-03-27  Eric Abrahamsen  <eric@ericabrahamsen.net>\n\n\tExpand manual section on quitting windows\n\n\t* doc/lispref/windows.texi (Quitting Windows): Provide more\n\t  information about the elements of the quit-restore window parameter,\n\t  and how they affect the behavior of quit-restore-window.\n\n2017-03-26  Philipp Stephani  <phst@google.com>\n\n\tAdd check for expected backtrace in module calls.\n\n\t* test/manual/cedet/tests/test.el\n\t(mod-test-non-local-exit-signal-test): Compare actual backtrace to\n\texpected backtrace.\n\n2017-03-26  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix redisplay glitches due to recent change in redisplay_internal\n\n\t* src/xdisp.c (redisplay_internal): A better fix for bug#26097.\n\tSee https://lists.gnu.org/r/emacs-devel/2017-03/msg00695.html\n\tfor the problems caused by the original fix.\n\n2017-03-26  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix Bug#26258\n\n\t* lisp/net/tramp-adb.el (tramp-adb-file-name-handler-alist):\n\t* lisp/net/tramp-gvfs.el (tramp-gvfs-file-name-handler-alist):\n\t* lisp/net/tramp-sh.el (tramp-sh-file-name-handler-alist):\n\t* lisp/net/tramp-smb.el (tramp-smb-file-name-handler-alist):\n\tAutoload.  Call `tramp-register-foreign-file-name-handler'.  (Bug#26258)\n\n\t* lisp/net/tramp.el (tramp-autoload-file-name-handler): Remove.\n\t(tramp-register-autoload-file-name-handlers)\n\t(tramp-register-file-name-handlers): Do not handle\n\t`tramp-autoload-file-name-handler' anymore.  Mark `operations'\n\tthe handlers are responsible for.\n\t(tramp-register-foreign-file-name-handler): New defun.\n\n2017-03-26  Noam Postavsky  <npostavs@gmail.com>\n\n\tFix docstring of dabbrev-abbrev-char-regexp\n\n\t* lisp/dabbrev.el (dabbrev-abbrev-char-regexp): Using a value of nil\n\tis equivalent to \"\\\\sw\\\\|\\\\s_\", and has no special behavior.  If the\n\tprevious character doesn't match, we search backwards for one that\n\tdoes, not throw an error.  Replace Lisp example with C based one to\n\tmake it clear that \"symbol\" means a sequence of word and symbol\n\tconstituent characters, not a Lisp symbol (Bug#358).\n\n2017-03-26  Johan Claesson  <johanclaesson@bredband.net>  (tiny change)\n\n\t* doc/misc/cl.texi (Iteration Clauses): Clarify example (Bug#19515).\n\n2017-03-26  Andreas Politz  <politza@hochschule-trier.de>\n\n\tMinor fixes for inotify.c and filenotify.el\n\n\t* lisp/filenotify.el (file-notify--watch-absolute-filename):\n\tAdd docstring.\n\t(file-notify-callback): Simplify.\n\n\t* src/inotify.c (Finotify_add_watch): Adapt docstring.\n\n2017-03-26  Andreas Politz  <politza@hochschule-trier.de>\n\n\tFix issues regarding inotify file-notification\n\n\tRemove special code handling the inotify back-end.\n\t* lisp/filenotify.el (file-notify--watch): New struct\n\trepresenting a file-watch.\n\t(file-notify-descriptors): Use the new struct as hash-value.\n\t(file-notify-handle-event): Check that event is a cons.\n\t(file-notify--rm-descriptor, file-notify--event-watched-file)\n\t(file-notify--event-file-name, file-notify--event-file1-name)\n\t(file-notify-callback, file-notify-add-watch)\n\t(file-notify-rm-watch, file-notify-valid-p): Use new struct.\n\tRemove special code handling inotify descriptors.  Remove code\n\thandling multiple clients per descriptor.\n\t(file-notify--descriptor): Remove unused function.\n\n\tLet inotify-add-watch return a unique descriptor on every\n\tcall, like every other back-end does (Bug#26126).  Prevent\n\tmultiple clients from interfering with each other, when\n\twatching a shared descriptor.\n\t* src/inotify.c (watch_list): Extend the format by including a\n\tid and the provided mask.\n\t(INOTIFY_DEFAULT_MASK): Default mask used for all clients.\n\t(make_watch_descriptor): Removed.\n\t(make_lispy_mask, lispy_mask_match_p): New functions.\n\t(inotifyevent_to_event): Match event against the mask provided\n\tby the client.\n\t(add_watch, remove_descriptor, remove_watch): New functions\n\tfor managing the watch_list.\n\t(inotify_callback): Use the new functions.\n\t(Finotify_add_watch, Finotify_rm_watch): Remove deprecated\n\tflags from documentation.  Add check for validity of provided\n\tdescriptor.  Use the new functions.  Use the default mask.\n\t(INOTIFY_DEBUG): Add new debug conditional.\n\t(inotify-watch-list, inotify-allocated-p): New debug functions.\n\t(symbol_to_inotifymask, syms_of_inotify): Remove deprecated symbols.\n\n\t* test/lisp/filenotify-tests.el:\n\t(file-notify-test02-rm-watch): Remove expected failure for inotify.\n\n2017-03-26  Paul Pogonyshev  <pogonyshev@gmail.com>\n\n\t* lisp/emacs-lisp/pcase.el (pcase): Comment debug message (Bug#26177).\n\n2017-03-25  Jens Uwe Schmidt  <ju.schmidt@gmx.de>  (tiny change)\n\n\tStop edebug getting stuck on backquote (Bug#23651)\n\n\t* lisp/emacs-lisp/edebug.el (edebug-read-sexp): Move forward after\n\treading backquote or comma.\n\n2017-03-25  Eric Abrahamsen  <eric@ericabrahamsen.net>\n\n\tExpand manual section on quitting windows\n\n\t* doc/lispref/windows.texi (Quitting Windows): Provide more\n\t  information about the elements of the quit-restore window parameter,\n\t  and how they affect the behavior of quit-restore-window.\n\n2017-03-25  Eli Zaretskii  <eliz@gnu.org>\n\n\tSupport in ispell.el multiple dictionaries loaded by Hunspell\n\n\t* lisp/textmodes/ispell.el (ispell-find-hunspell-dictionaries):\n\tSupport Hunspell configurations that load more than one dictionary\n\tby default.  Doc fix.  (Bug#25830)\n\n2017-03-25  Michael Albinus  <michael.albinus@gmx.de>\n\n\tSimplify Tramp autoloading.\n\n\t* lisp/net/tramp.el (tramp-completion-file-name-handler):\n\tSimplify autoloading.  Give it the `operations' property.\n\t(tramp-completion-handle-expand-file-name): Remove.\n\n2017-03-25  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix a segfault due to failure to realize some faces\n\n\t* src/xdisp.c (redisplay_internal): If the frame becomes garbaged\n\twhile redisplaying its windows, redisplay all of its windows\n\tagain.  (Bug#26097)\n\t(init_iterator): When freeing all realized faces on all frames,\n\treset the 'face_change' flag of the frame whose window we are\n\tabout to iterate.\n\n2017-03-25  Philipp Stephani  <phst@google.com>\n\n\tUse a named function for 'safe-local-variable\n\n\tThis improves the help screen for `version-control' (Bug#25431).\n\n\t* lisp/files.el (version-control-safe-local-p): New function.\n\t(version-control): Use it.\n\n2017-03-25  Eli Zaretskii  <eliz@gnu.org>\n\n\t;* doc/misc/info.texi (Choose menu subtopic): Improve indexing.  (Bug#26236)\n\n2017-03-25  Helmut Eller  <eller.helmut@gmail.com>\n\n\tMake it easier to abort a series of tests with C-g\n\n\t* lisp/emacs-lisp/ert.el (ert-run-tests): Add \"interactively\" arg.  If\n\tinteractively is true and a test was aborted then ask if the remaining\n\ttests should be aborted too.\n\t(ert-run-tests-batch, ert-run-tests-interactively): Pass in\n\tinteractively arg.\n\n2017-03-24  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDon\u2019t require chown/chgrp for game installation\n\n\tProblem reported by Joseph Mingrone in:\n\thttps://lists.gnu.org/r/emacs-devel/2017-03/msg00622.html\n\t* lib-src/Makefile.in (exp_archlibdir): Don\u2019t fail if chown or\n\tchgrp fails with update-game-score and the game directory.\n\tInstead, expect the installer to fix this up afterwards.\n\n2017-03-24  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/lisp-mode.el: Don't highlight \\( at BOL\n\n\t(elisp--font-lock-backslash): Extract from lisp-el-font-lock-keywords-2.\n\tDon't highlight \\ at BOL.  Don't assume syntax-ppss preserves match-data.\n\n2017-03-23  Philipp Stephani  <phst@google.com>\n\n\tProtect against an infloop in python-mode\n\n\tThere appears to be an edge case caused by using `syntax-ppss' in a\n\tnarrowed buffer during JIT lock inside of Python triple-quote strings.\n\tUnfortunately it is impossible to reproduce without manually\n\tdestroying the syntactic information in the Python buffer, but it has\n\tbeen observed in practice.  In that case it can happen that the syntax\n\tcaches get sufficiently out of whack so that there appear to be\n\toverlapping strings in the buffer.  As Python has no nested strings,\n\tthis situation is impossible and leads to an infloop in\n\t`python-nav-end-of-statement'.  Protect against this by checking\n\twhether the search for the end of the current string makes progress.\n\n\t* lisp/progmodes/python.el (python-nav-end-of-statement): Protect\n\tagainst infloop.\n\t* test/lisp/progmodes/python-tests.el\n\t(python-tests--python-nav-end-of-statement--infloop): Add unit test.\n\n2017-03-23  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* doc/lispref/os.texi (File Notifications):\n\n\tStrengthen the recommendation to use filenotify.el.\n\n2017-03-23  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from gnulib\n\n\tThis incorporates:\n\t2017-03-22 getopt: merge from glibc\n\t* build-aux/config.sub, lib/getopt.c, lib/getopt.in.h:\n\t* lib/getopt1.c, lib/getopt_int.h: Copy from gnulib.\n\t* lib/gnulib.mk.in: Regenerate.\n\n2017-03-23  Michael Albinus  <michael.albinus@gmx.de>\n\n\tUse lexical-bind in Tramp\n\n\t* lisp/net/tramp*.el: Add lexical-binding cookie.  Move declarations up.\n\n\t* lisp/net/tramp-adb.el (tramp-adb-parse-device-names): Use `push'\n\trather than `add-to-list'.\n\t(tramp-adb-get-device): Remove unused variable.\n\n\t* lisp/net/tramp-gvfs.el (tramp-gvfs-parse-device-names): Remove unused\n\tvariable.\n\n\t* lisp/net/tramp.el (auto-save-file-name-transforms): Declare.\n\t(tramp-find-file-name-coding-system-alist): Use `push' rather\n\tthan `add-to-list'.\n\n\t* test/lisp/net/tramp-tests.el: Add lexical-binding cookie.\n\tRequire 'dired.  Move declarations up.\n\t(tramp-test32-make-nearby-temp-file): Wrap `make-nearby-temp-file'\n\tand `temporary-file-directory' calls with `with-no-warnings'.\n\t(tramp-test35-asynchronous-requests): Mark unused variable.\n\n2017-03-23  Kaushal Modi  <kaushal.modi@gmail.com>\n\t    Noam Postavsky  <npostavs@gmail.com>\n\n\tDo not include comment start chars in ffap string\n\n\t* lisp/ffap.el (ffap-string-at-point): If the point is in a comment,\n\tensure that the returned string does not contain the comment start\n\tcharacters (especially for major modes that have '//' as comment start\n\tcharacters).  Otherwise, in a major mode like c-mode, with `ido-mode'\n\tenabled and `ido-use-filename-at-point' set to `guess', doing \"C-x\n\tC-f\" on a \"//foo\" comment will initiate an attempt to access a path\n\t\"//foo\" (Bug#24057).\n\n2017-03-23  Martin Rudalics  <rudalics@gmx.at>\n\n\tc:/Temp/gtk-window-move/ChangeLog.txt\n\n2017-03-22  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix filenotify.el issue for kqueue\n\n\t* lisp/filenotify.el (file-notify-add-watch): Use directory\n\tfor remote file name handlers.\n\n\t* test/lisp/filenotify-tests.el (file-notify-test01-add-watch):\n\tCreate/delete temporary file only for \"kqueue\".\n\t(file-notify-test02-rm-watch): Create/delete temporary files.\n\n2017-03-22  Michael Albinus  <michael.albinus@gmx.de>\n\n\tExtend `file-notify-test02-rm-watch'\n\n\t* test/lisp/filenotify-tests.el (file-notify-test02-rm-watch):\n\tExpect it failed for inotify.  Divide tests into different\n\t`unwind-protect' clauses.  Check, that removing watch\n\tdescriptors out of order do not harm.  (Bug#26126)\n\n2017-03-22  Noam Postavsky  <npostavs@gmail.com>\n\n\t* test/lisp/emacs-lisp/lisp-mode-tests.el (indent-subsexp): Test for Bug#26187\n\n2017-03-22  Graham Dobbins  <gdobbins@protonmail.com>  (tiny change)\n\n\t* lisp/emacs-lisp/lisp-mode.el (indent-sexp): Fix null endpos case\n\n2017-03-21  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tImprove configure --with-pop etc. diagnostics\n\n\t* configure.ac: Improve diagnostics re --with-pop and\n\t--with-mailutils (Bug#26102).\n\n2017-03-21  Eli Zaretskii  <eliz@gnu.org>\n\n\tRevert \"Make --without-pop the default.\"\n\n\tThis reverts commit 9319de675e395517f9a7b50cae1a3aad9cd0abc2.\n\n2017-03-21  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDon\u2019t remove dependency files when configuring\n\n\tProblem reported by Tom Tromey in:\n\thttps://lists.gnu.org/r/emacs-devel/2017-03/msg00533.html\n\t* configure.ac: Don\u2019t remove */*.o and */deps/* when\n\t--enable-autodepend is in effect.\n\n2017-03-21  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMake --without-pop the default.\n\n\tSuggested by Angelo Graziosi in:\n\thttps://lists.gnu.org/r/emacs-devel/2017-03/msg00431.html\n\t* configure.ac: Change the default from --with-pop to\n\t--without-pop.  Adjust diagnostics to match.\n\n2017-03-21  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tStreamline dependency-file generation\n\n\t* configure.ac (AUTODEPEND_PARENTS): New var.\n\tmkdir the dependency directories here, to simplify \u2018make\u2019.\n\tRemove dependency files just before outputting Makefiles, so that\n\tthey are preserved if \u2018configure\u2019 exits early due to some other problem.\n\t* lib/Makefile.in, lwlib/Makefile.in, oldXMenu/Makefile.in:\n\t* src/Makefile.in: Adjust deps strategies to be similar, as follows:\n\t(MKDEPDIR): Remove.  All uses removed.  This cuts down on the\n\tnumber of processes spun off by \u2018make\u2019.\n\t(clean mostlyclean): Remove $(DEPDIR) contents, not $(DEPDIR) itself.\n\t(distclean): Remove $(DEPDIR) itself.\n\t* lwlib/Makefile.in (all): Move to front, so that depdir includes\n\tdo not alter default action.\n\n2017-03-21  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort and simplify example sh script\n\n\t* doc/misc/org.texi (noweb-ref): Simplify shell script example and\n\tdon\u2019t use \u2018tail -1\u2019, which is not portable.\n\n2017-03-21  Noam Postavsky  <npostavs@gmail.com>\n\n\tNarrow scope of modification hook renabling in org-src fontification\n\n\tModification hooks should be enabled while modifying text in the\n\torg-src temp buffer, but in 2017-01-29 \"Call modification hooks in\n\torg-src fontify buffers\" the hooks were enabled also for modifications\n\tto the original org buffer.  This causes fontification errors when\n\tcombined with certain packages, as reported in\n\thttps://lists.gnu.org/r/emacs-orgmode/2017-03/msg00420.html.\n\n\t* lisp/org/org-src.el (org-src-font-lock-fontify-block): Reduce scope\n\tof inhibit-modification-hooks let-binding.\n\n2017-03-21  Tino Calancha  <tino.calancha@gmail.com>\n\n\tepatch: Save right backups in Git multipatches\n\n\tMultipatches on N Git files save wrong backups for\n\tN-1 files; only the last one has a correct backup (Bug#26084).\n\t* lisp/vc/diff-mode.el (diff-file-junk-re): Add 'Prereq: '\n\t* lisp/vc/ediff-ptch.el (ediff-map-patch-buffer): Use 'diff-file-junk-re'.\n\t* test/lisp/vc/ediff-ptch-tests.el (ediff-ptch-test-bug25010):\n\tRename from ibuffer-test-bug25010.\n\t(ediff-ptch-test-bug26084): New test.\n\n2017-03-21  Michael R. Mauger  <michael@mauger.com>\n\n\t    * lisp/progmodes/sql.el: Version 3.6\n\n\t    (sql-login-params): Added :must-match for completition of\n\t    `server' and `database' login parameters.\n\t    (sql-sqlite-login-params, sql-postgres-login-params): Set\n\t    :must-match to `confirm'.\n\t    (sql-get-login-ext): Use :must-match value to control\n\t    `read-file-name' or `completing-read'.\n\t    (sql-connect): Added optional BUF-NAME parameter; Reworked\n\t    connection variable processing; Pass buffer name to\n\t    `sql-product-interactive'.\n\t    (sql-product-interactive): Pass buffer name along.\n\t    (sql-comint): Add optional BUF-NAME and calculate reasonable default.\n\t    (sql-comint-oracle, sql-sybase-comint, sql-comint-informix)\n\t    (sql-comint-sqlite, sql-comint-mysql, sql-comint-solid)\n\t    (sql-comint-ingres, sql-comint-ms, sql-comint-postgres)\n\t    (sql-comint-interbase, sql-comint-db2, sql-comint-linter)\n\t    (sql-comint-vertica): Add optional BUF-NAME, pass to\n\t    `sql-comint'.\n\t    (sql-oracle--list-oracle-name): New function.\n\t    (sql-oracle-list-all): Use it.\n\t    (sql-oracle-completion-object): Enhanced.\n\n2017-03-20  Vincent Bela\u00efche  <vincentb1@users.sourceforge.net>\n\n\tSolve ses-recalculate-cell updating only current line bug.\n\n\t* lisp/ses.el (ses-recalculate-cell): Add optional argument\n\tses--curcell to avoid overwriting ses--curcell when function is\n\tcalled from ses-recalculate-all.  Update docstring accordingly.\n\t(ses-recalculate-all): Call ses-recalculate-cell with argument\n\tses--curcell to avoid its overwriting.\n\n2017-03-20  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix problem with out-of-date dependencies\n\n\tProblem reported by Robert Marshall in:\n\thttps://lists.gnu.org/r/emacs-devel/2017-03/msg00501.html\n\tAlthough this problem has been with us for a while, the recent\n\tchange from Automake to GNU Make exposed it again.\n\t* configure.ac (AUTO_DEPEND): When autodepending, clean out any\n\tleftover dependency and object files, since the previous sources'\n\tdependencies may disagree with the current ones.  Reconfiguring\n\ttypically needs to force a rebuild anyway.\n\n2017-03-20  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tSimpler filter implementation\n\n\t* lisp/play/dunnet.el (dun-endgame-question): Get or set\n\tdun-endgame-questions one time only.  Use dolist and an index to\n\tprune the list.\n\n2017-03-20  Mark Oteiza  <mvoteiza@udel.edu>\n\n\t* lisp/button.el (forward-button): Use user-error instead.\n\n2017-03-19  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from gnulib\n\n\tThis gets Emacs working again with HP-UX Itanium cc.\n\tIt incorporates:\n\t2017-03-19 stdalign: tweak version# and test for HP-UX IA64\n\t2017-03-18 stdalign: restore previous behavior for HP-UX IA64\n\t2017-03-17 stat-time, timespec: Support header files in C++ mode\n\t2017-03-17 stdalign: Make it work with HP-UX cc\n\t2017-03-17 flexmember: try to detect HP-UX 11.31 cc bug\n\t2017-03-16 stdint: Fix test compilation failure with HP-UX 11 cc.\n\t2017-03-14 gnulib-tool: don't produce tests with only snippets\n\t2017-03-14 limits-h: Make it work with HP-UX cc.\n\t* etc/PROBLEMS: Remove now-obsolete entry for HP-UX 11.31.\n\t* lib/gnulib.mk.in, m4/gnulib-comp.m4: Regenerate.\n\t* lib/limits.in.h, lib/stat-time.h, lib/stdalign.in.h:\n\t* lib/stdint.in.h, lib/timespec.h, m4/flexmember.m4, m4/stdalign.m4:\n\tCopy from gnulib.\n\n2017-03-19  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* ChangeLog.2: Merge from emacs-25.\n\n2017-03-19  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFixups after merge from emacs-25\n\n\t* etc/NEWS: Remove stray entry.\n\t* etc/NEWS.25: Copy from Emacs emacs-25 etc/NEWS.\n\t* lisp/textmodes/rst.el (rst-package-emacs-version-alist):\n\tMake it nondecreasing.\n\n2017-03-19  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\td71e071 Improve documentation of interactive \"r\".\n\n2017-03-19  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\ta094732 * etc/PROBLEMS: Say that HP-UX cc doesn't work.\n\t1925dd9 Fix duplicate wording in Emacs manual\n\t6de8429 * lisp/paren.el (show-paren--default, show-paren-function): A...\n\t2d671fd Fix wording in Emacs manual\n\ta8766a2 Document how to customize input methods\n\t6eb8995 * lisp/net/eww.el (eww-reload): Doc fix.  (Bug#25981)\n\taceac95 Fix warning message about native completion (Bug#25984)\n\ta314c1f Clarify documentation of 'raise' and 'height' display specs\n\tf366f6e Mention problems with GPaste in PROBLEMS\n\t6e788ef ; etc/PROBLEMS: Explain about the python+libedit problem (Bug...\n\t6406618 Fix doc strings in info.el\n\tc1ed152 ; * src/keyboard.c (Fposn_at_point): Fix last change.\n\teed9677 Fix doc string of 'posn-at-point'\n\t0d5957e Documentation fix in elisp reference manual\n\n2017-03-19  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\tec4226d * lisp/woman.el (woman): Fix docstring prefix arg description.\n\t2b774fa Mention \"editor\" in Emacs man page header\n\tae60d0c Document problems with nerd-fonts\n\t2fdb5a9 ; Details about pinning Emacs to w32 task bar\n\t5c3105e * doc/lispref/modes.texi (Derived Modes): Make example more i...\n\t4c51ef4 Clarify what is the \"cursor\"\n\t8303c32 ; * etc/NEWS: Copyedits.\n\t3f7493e ; Fix a typo in comment\n\tc54cf8d Improve commentary in lisp.h\n\t8b92f86 ; * admin/make-tarball.txt: Cross-reference admin/release-pro...\n\t0ba9932 Disable native completion for ipython (Bug#25067)\n\t38fc456 Fix a typo in ada-mode manual\n\t00e75ba ; * src/coding.c (Fencode_coding_region): Fix a typo in the d...\n\ta541c21 Clarify documentation of 'bufferpos-to-filepos' and 'filepos-...\n\n\t# Conflicts:\n\t#\tetc/NEWS\n\t#\tetc/PROBLEMS\n\n2017-03-19  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\t02d9ad8 * admin/make-tarball.txt: Add documentation regarding the rel...\n\n2017-03-19  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\te1171de * CONTRIBUTE (Documenting your changes): Index new vars/comma...\n\n2017-03-19  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\tab0a60a ; * CONTRIBUTE (Generating ChangeLog entries): Drop duplicate...\n\t7e02a47 Index byte-compile-debug\n\t7c1e598 Document `byte-compile-debug' in the ELisp manual\n\t4d81eb4 Document variable `byte-compile-debug'\n\t72ef710 Fix call to debugger on assertion failure\n\tae8264c Call modification hooks in org-src fontify buffers\n\tb3139da ; Fix last change in doc/lispref/strings.texi\n\tc331f39 Improve documentation of 'format' conversions\n\t9f52f67 Remove stale functions from ert manual\n\tc416b14 Fix a typo in Eshell manual\n\t06695a0 ; Fix a typo in ediff-merg.el\n\t954e9e9 Improve documentation of hooks related to saving buffers\n\t9fcab85 Improve documentation of auto-save-visited-file-name\n\t2236c53 fix typo in mailcap-mime-extensions\n\t85a3e4e Fix typos in flymake.el\n\ta1ef10e More NEWS checking for admin.el's set-version\n\n\t# Conflicts:\n\t#\tlisp/emacs-lisp/bytecomp.el\n\n2017-03-19  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\t5569e64 ; Spelling fixes\n\t24a5f57 * lisp/net/eww.el (eww-tag-meta): Handle single quoted URLs (...\n\t9b89896 * lisp/progmodes/sql.el (sql-product-alist): Doc tweak\n\t69b50f5 * lisp/progmodes/sql.el (sql-product-alist): Doc fix.  (Bug#2...\n\t42eae54 Improve documentation of dabbrevs\n\tb0ade0d Clarify that easy-menu-add is a nop (Bug#25382)\n\t3c69f2c * lisp/textmodes/rst.el (rst-package-emacs-version-alist): Fi...\n\n\t# Conflicts:\n\t#\tlisp/textmodes/rst.el\n\n2017-03-19  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\t0e35405 Improve documentation of coding-systems\n\tc2fd04c Improve definition of 'variable-pitch' face on MS-Windows\n\t16fb50d Fix an error message in python.el\n\ta2a2073 Clarify major mode switching\n\tfc38671 Add helpful comment to compile-command's docstring\n\tee65d85 Fix ':version' of 'select-enable-primary'\n\n2017-03-19  Paul Pogonyshev  <pogonyshev@gmail.com>\n\n\tFix bug in generator function with pcase (Bug#26068)\n\n\t* lisp/emacs-lisp/cl-macs.el (cl--sm-macroexpand): Remove some calls\n\tto symbol-name.\n\n2017-03-19  Alan Mackenzie  <acm@muc.de>\n\n\tFix chaotic indentation of C++ lambda.  Enhance documentation thereof\n\n\t* lisp/progmodes/cc-engine.el (c-looking-at-inexpr-block): qualify an\n\tinvocation of c-on-identifier with a check we're not at the _end_ of an\n\tidentifier.\n\n\t* doc/misc/cc-mode.texi: (Tex title page): Remove @subtitlefont because the\n\tperl versions of texi2dvi haven't implemented it.\n\t(Syntactic Symbols): Note that `inlambda' is also used in C++ Mode, not just\n\tin Pike Mode.\n\t(Statement Block Symbols): Add a section illustrating a C++ lambda function.\n\t(FAQ): Add a question about \"excessive\" indentation of the contents of a C++\n\tlambda function, and how to get rid of it.\n\n2017-03-19  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tRemove unused vars in cl-extra.el and tramp.el.\n\n\t* lisp/emacs-lisp/cl-extra.el (cl--print-table): Remove unused vars.\n\n\t* lisp/net/tramp.el (tramp-dissect-file-name): Remove unused `match'.\n\t(outline-regexp, ls-lisp-use-insert-directory-program): Declare.\n\t(tramp-find-foreign-file-name-handler): Mark unused arg, remove unused `v`.\n\n2017-03-19  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tImprove describe-symbol's layout of slots when describing types\n\n\t* lisp/emacs-lisp/cl-extra.el (cl--print-table): New function.\n\t(cl--describe-class-slots): Use it.\n\n2017-03-18  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix Bug#26156\n\n\t* lisp/net/tramp.el (tramp-completion-file-name-handler-alist):\n\t<expand-file-name>: Remove handler.  (Bug#26156)\n\n2017-03-18  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/obarray.el (obarray-size): Avoid compiler warning.\n\n2017-03-18  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix last change in lib/Makefile.in\n\n\t* lib/Makefile.in (srcdir): Define, as including\n\t$(srcdir)/../nt/gnulib-cfg.mk needs that.\n\n2017-03-18  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* configure.ac: Fix typo in diagnostic.\n\n2017-03-18  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort out-of-source builds to windows-nt\n\n\tProblem reported by Angelo Graziosi in:\n\thttps://lists.gnu.org/r/emacs-devel/2017-03/msg00431.html\n\t* lib/Makefile.in: Prepend $(srcdir) to ../nt/gnulib-cfg.mk,\n\tto handle out-of-source builds if windows-nt.\n\n2017-03-17  Eli Zaretskii  <eliz@gnu.org>\n\n\tMS-Windows followup for switch from Automake\n\n\t* nt/INSTALL:\n\t* nt/INSTALL.W64: Remove references to Automake.  (Bug#26100)\n\n2017-03-17  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of interactive \"r\".\n\n\t* doc/lispref/commands.texi (Interactive Codes): Mention that mark\n\tmust be set for \"r\" to work.\n\n2017-03-17  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFixups for GNU Make switchover\n\n\tThis fixes some minor problems introduced in the recent switch to GNU\n\tMake, discovered by further testing.  Without some of these changes\n\t'make -j' would sometimes have race conditions caused by missing\n\tdependencies.  (Bug#26100)\n\t* .gitignore: Remove src/stamp-h.in, src/stamp-h1.\n\t* Makefile.in ($(MAKEFILE_NAME)): Depend on configure, not\n\tsrc/config.in, since the former's timestamp now represents\n\tthe latter's.\n\t($(srcdir)/configure): Use plain ./autogen.sh, for consistency\n\twith other autogen.sh invocations.\n\t($(srcdir)/src/stamp-h.in):\n\tRemove rule, as this file is no longer created.\n\t* Makefile.in (top_distclean):\n\t* src/Makefile.in (bootstrap-clean):\n\tNo need to remove stamp-h1, as that was an Automake byproduct\n\tand Automake is no longer in use.\n\t* lib/Makefile.in, src/Makefile.in:\n\t(AUTOCONF_INPUTS, $(top_srcdir)/configure): Remove.\n\t(../config.status, Makefile): Simplify by limiting dependencies\n\tto files we care about and files in the repository, and by\n\tusing just one file to represent the timestamps on multiple\n\ttargets updated by the same rule.\n\t* autogen.sh: Do not create or use src/stamp-h.in.\n\tInstead, have 'find' test the two output files directly.\n\n2017-03-17  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSwitch from Automake to GNU Make\n\n\tEmacs assumes GNU Make, and GNU Make has much of the functionality of\n\tAutomake built-in.  The Emacs build process uses Automake primarily\n\tbecause Emacs uses some Gnulib code and Gnulib formerly required\n\tAutomake.  Now that Gnulib no longer requires Automake, Emacs can\n\tstop using Automake and this should simplify Emacs maintenance\n\tin the future (Bug#26100).  Although this patch may look long, most of\n\tit is generated automatically: the changes to build-aux/config.guess,\n\tbuild-aux/config.sub, build-aux/install-sh, and lib/gnulib.mk.in are\n\tall done by admin/merge-gnulib.\n\t* .gitignore: Remove build-aux/ar-lib, build-aux/compile,\n\tbuild-aux/config.guess, build-aux/config.sub, build-aux/depcomp,\n\tbuild-aux/install-sh, build-aux/missing, and lib/Makefile.in,\n\tas they are no longer built by autogen.sh.\n\tAdd lib/gnulib.mk, as it is now built by 'configure'.\n\tRemove nt/gnulib.mk, as it is no longer built by 'make'.\n\t* INSTALL.REPO, README, admin/make-tarball.txt:\n\tRemove mention of Automake.\n\t* Makefile.in (AUTOCONF, AUTOMAKE, AUTOHEADER, ACLOCAL, lib)\n\t(AUTOCONF_INPUTS, ACLOCAL_PATH, ACLOCAL_INPUTS)\n\t($(srcdir)/aclocal.m4, AUTOMAKE_INPUTS)\n\t($(srcdir)/lib/Makefile.in, $(srcdir)/nt/gnulib.mk, am--refresh):\n\tRemove.\n\t($(MAKEFILE_NAME)): Depend on lib/gnulib.mk.in.\n\t($(srcdir)/configure, $(srcdir)/src/stamp-h.in)\n\t($(srcdir)/src/config.in):\n\tUse autogen.sh instead of doing it by hand.\n\t* admin/merge-gnulib (AVOIDED_MODULES, avoided_flags)):\n\tNew vars, to simplify processing of avoided modules.\n\t(GNULIB_TOOL_FLAGS): Move --avoid flags into AVOIDED_MODULES.\n\tAdd --gnu-make, and change makefile name to gnulib.mk.in.\n\tCopy config.guess, config.sub, and install-sh too, since\n\tAutomake no longer does that for us.\n\t* admin/notes/copyright:\n\t* admin/update_autogen (genfiles):\n\tUpdate list of files.\n\tRemove hack for nt/gnulib.mk, a file that is no longer needed.\n\t* autogen.sh (progs): Remove Automake.\n\t(automake_min): Remove.\n\tBuild aclocal.m4 so that autoreconf need not use aclocal.\n\t* build-aux/config.guess, build-aux/config.sub:\n\t* build-aux/install-sh:\n\tNew files, copied from Gnulib.  These are now updated by\n\tadmin/merge-gnulib instead by autogen.sh.\n\t* configure.ac (AC_PROG_MAKE_SET, ACLOCAL_PATH, AM_CONDITIONAL):\n\tRemove.\n\t(AM_INIT_AUTOMAKE, AM_SILENT_RULES): Remove call.\n\t(AC_PROG_CC_C_O): Call this instead of AM_PROG_CC_C_O.\n\t(BUILDING_FOR_WINDOWSNT, HYBRID_MALLOC_LIB): Remove; no longer needed.\n\t(--disable-silent-rules): New option, since Automake no longer\n\tdoes this for us.\n\t(AM_V, AM_DEFAULT_V): Set unconditionally, and do not bother\n\twith AM_SUBST_NOTMAKE.\n\t(AC_PROG_INSTALL): Add call.\n\t(MAKEINFO): Do not bother with the 'missing' program.\n\t(MAKEINFO, SYSTEM_TYPE): AC_SUBST.\n\t(AC_CONFIG_FILES): Add Makefile, lib/gnulib.mk.\n\t(SUBDIR_MAKEFILES): Remove duplication.\n\t* lib/Makefile.am: Remove, replacing with:\n\t* lib/Makefile.in: New file, with the old Makefile.am contents\n\tand with the following changes:\n\t(AUTOMAKE_OPTIONS, BUILT_SOURCES, CLEANFILES, EXTRA_DIST)\n\t(MOSTLYCLEANDIRS, MOSTLYCLEANFILES, noinst_LIBRARIES, SUFFIXES)\n\t(AM_CFLAGS, DEFAULT_INCLUDES, libegnu_a_SOURCES, libegnu_a_LIBADD)\n\t(EXTRA_libegnu_a_SOURCES, libegnu_a_SHORTNAME, libegnu_a_CPPFLAGS):\n\tRemove.\n\t(VPATH, abs_top_builddir, top_builddir, top_srcdir, all, AM_V_AR)\n\t(AM_V_CC, AM_V_GEN, AM_V_at, DEPDIR, DEPFLAGS, MKDEPDIR, SYSTEM_TYPE)\n\t(libgnu.a, libegnu.a, ETAGS, $(ETAGS), tags, TAGS, clean)\n\t(mostlyclean, distclean, bootstrap-clean, maintainer-clean):\n\tNew macros and rules, since Automake no longer does them.\n\tInclude ../nt/gnulib-cfg.mk if SYSTEM_TYPE is windows-nt,\n\tinstead of including ../nt/gnulib.mk if BUILDING_FOR_WINDOWS_NT.\n\tInclude dependency files if AUTO_DEPEND.\n\t(ALL_CFLAGS, AUTOCONF_INPUTS, libgnu_a_OBJECTS, libegnu_a_OBJECTS):\n\tNew macros.\n\t(bootstrap-clean): Depend on distclean, not maintainer-clean,\n\tand remove gnulib.mk.\n\t(AUTOCONF_INPUTS, $(top_srcdir)/configure, ../config.status, Makefile):\n\tNew macros and rules, copied from ../Makefile.in.\n\t($(libegnu_a_OBJECTS), $(libgnu_a_OBJECTS)): Depend on BUILT_SOURCES.\n\t(.c.o, e-%.o): New generic rules.\n\t* lib/gnulib.mk: Remove.\n\t* lib/gnulib.mk.in: New file, which is built by autogen.sh\n\tand contains much of what used to be in lib/gnulib.mk.\n\t* m4/gnulib-common.m4: Copy from gnulib.\n\t* make-dist: Do not distribute build-aux/compile, build-aux/depcomp,\n\tbuild-aux/missing, build-aux/ar-lib, lib/Makefile.am, nt/gnulib.mk,\n\tnt/gnulib-modules-to-delete.cfg.  Distribute lib/Makefile.in,\n\tlib/gnulib.mk.in, and nt/gnulib-cfg.mk instead.\n\t* nt/Makefile.in (AM_V_GEN, am__v_GEN_, am__v_GEN_0)\n\t(am__v_GEN_1, ${srcdir}/gnulib.mk): Remove.\n\t* nt/gnulib-cfg.mk: New file, which supersedes ...\n\t* nt/gnulib-modules-to-delete.cfg: ... this file, which is removed.\n\t* src/Makefile.in (ACLOCAL_INPUTS): Remove.\n\t(AUTOCONF_INPUTS): Merge ACLOCAL_INPUTS into it.\n\t($(top_srcdir)/configure, ../config.status, config.in Makefile):\n\tDefer to parent Makefile.\n\n2017-03-17  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDon't suggest Mailutils on MS-Windows\n\n\t* configure.ac: Don't suggest GNU Mailutils on MS-Windows, as it\n\thasn't been ported.\n\n2017-03-17  Thien-Thi Nguyen  <ttn@gnu.org>\n\n\tFix bug: Range-check integer \u2018alpha\u2019 frame parm value\n\n\tTypo introduced 2013-04-01, \"Prefer < to >\n\tin range checks such as 0 <= i && i < N\".\n\n\t* src/frame.c (x_set_alpha): Use \u2018ialpha\u2019, not \u2018alpha\u2019.\n\n2017-03-17  Thien-Thi Nguyen  <ttn@gnu.org>\n\n\tFix bug: Range-check integer \u2018alpha\u2019 frame parm value\n\n\tTypo introduced 2013-04-01, \"Prefer < to >\n\tin range checks such as 0 <= i && i < N\".\n\n\t* src/frame.c (x_set_alpha): Use \u2018ialpha\u2019, not \u2018alpha\u2019.\n\n2017-03-17  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix Bug#26127\n\n\t* lisp/filenotify.el (file-notify--rm-descriptor): Check, that\n\tthere is a function which could be called.  (Bug#26127)\n\n\t* test/lisp/filenotify-tests.el (file-notify--test-cleanup):\n\tClear also `file-notify-descriptors'.\n\t(file-notify--test-make-temp-name): Move up.\n\t(file-notify-test02-rm-watch): New test.\n\t(file-notify-test03-events, file-notify-test04-autorevert)\n\t(file-notify-test05-file-validity)\n\t(file-notify-test06-dir-validity)\n\t(file-notify-test07-many-events, file-notify-test08-backup)\n\t(file-notify-test09-watched-file-in-watched-dir)\n\t(file-notify-test10-sufficient-resources): Rename.\n\n2017-03-17  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* etc/PROBLEMS: Say that HP-UX cc doesn't work.\n\n2017-03-17  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tEmacs 'movemail' is now a configure-time option\n\n\tThe new configure option --with-mailutils lets the builder say\n\tthat Emacs should assume that GNU Mailutils is installed, instead\n\tof continuing to build and install its own limited and insecure\n\tsubstitute for 'movemail'.\n\t* INSTALL, etc/NEWS, etc/PROBLEMS: Mention --with-mailutils.\n\t* configure.ac: Add --with-mailutils option.\n\t(with_mailutils): New variable.\n\tDo not bother configuring 'movemail' when not building it.\n\tWarn about issues relating to --with-mailutils.\n\t* doc/emacs/rmail.texi (Movemail): Mention --with-mailutils.\n\t(Movemail, Remote Mailboxes): Document port numbers in\n\tPOP and IMAP URLs.\n\t* lib-src/Makefile.in (with_mailutils): New macro.\n\t(UTILITIES): Use it.\n\n2017-03-16  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tAdd obarray-size and fix tests accordingly.  Use obarrayp in cedet.\n\n\t* lisp/obarray.el (obarray-size): New function.\n\n\t* lisp/cedet/semantic/lex-spp.el (semantic-lex-spp-symbol)\n\t(semantic-lex-spp-save-table, semantic-lex-spp-macros):\n\t* lisp/cedet/semantic/bovine/c.el (semantic-c-describe-environment):\n\tUse obarrayp.\n\n\t* test/lisp/obarray-tests.el (obarray-make-default-test)\n\t(obarray-make-with-size-test): Use it.\n\n2017-03-16  Michael Albinus  <michael.albinus@gmx.de>\n\n\tDocument remote file name syntax change\n\n\t* doc/emacs/files.texi (Remote Files, Quoted File Names):\n\t* doc/misc/org.texi (dir): Change examples to use a method.\n\n\t* doc/misc/tramp.texi (Top) [trampf]: Remove macro.  Add\n\t`Testing' menu entry.\n\t(History): Fix typos.  Mention syntax change.\n\t(Configuration, Default Host, File name Syntax)\n\t(File name completion, Frequently Asked Questions):\n\tChange examples to use a method.\n\t(External methods, Default Host, Multi-hops, Remote processes):\n\tFix typos.\n\t(Default Method): Mention pseudo method \"-\".\n\t(External packages): Rewrite intention of `non-essential'.\n\n\t* etc/NEWS: Mark recent Tramp entries as documented.\n\n2017-03-16  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t(semantic-lex-type-invalid): Fix nested backquote.\n\n\t* lisp/cedet/semantic/lex.el: Use lexical-binding.\n\t(semantic-lex-type-invalid): Fix nested backquote.\n\t(semantic-lex-map-symbols, semantic-lex-type-symbol)\n\t(semantic-lex-keyword-symbol): Use obarrayp.\n\n2017-03-15  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* lisp/ido.el (ido-read-internal, ido-complete): Do not bind `non-essential'.\n\n2017-03-15  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tWrite a named function\n\n\t* lisp/comint.el (comint-nonblank-p): New function.\n\t(comint-input-filter): Use it.\n\n2017-03-15  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tReplace more nested ifs with cond\n\n\tThis is a continuation of 0db5ba4 \"Replace nested ifs with cond\".\n\t* lisp/play/dunnet.el (dun-special-object, dun-inven, dun-drop):\n\t(dun-drop-check, dun-swim, dun-break): Use when and cond where\n\tappropriate.\n\t(dun-examine): Fix indentation.\n\t(dun-doverb): Use when.\n\t(dun-read-line): Refactor.\n\n2017-03-15  Noam Postavsky  <npostavs@gmail.com>\n\n\tRecomplexify \u2018delete-trailing-whitespace\u2019 by treating \\n as whitespace again\n\n\tMostly reverts \"Simplify \u2018delete-trailing-whitespace\u2019 by not treating\n\t\\n as whitespace\" from 2016-07-04.  Setting \\n to non-whitespace\n\tcauses the regex engine to backtrack a lot when searching for\n\t\"\\\\s-+$\" (Bug#26079).\n\n\t* lisp/simple.el (delete-trailing-whitespace): Don't change newline\n\tsyntax, search for \"\\\\s-$\" and then skip backward over trailing\n\twhitespace.\n\n2017-03-14  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from gnulib\n\n\tThis incorporates:\n\t2017-03-14 snippets: move unadjusted snippet sources to lib\n\t2017-03-14 gnulib-tool: fix typo in comment output\n\t2017-03-14 snippets: work around GNU Make 3.82 VPATH\n\t2017-03-13 gnulib-tool: minor --gnu-make fixups\n\t2017-03-12 gnulib-tool: new option --gnu-make\n\t* .gitignore: Remove lib/arg-nonnull.h, lib/c++defs.h,\n\tlib/warn-on-use.h.  Change exception from\n\tbuild-aux/snippet/_Noreturn.h to lib/_Noreturn.h.\n\t* admin/authors.el (authors-renamed-files-regexps):\n\t* admin/notes/copyright, make-dist:\n\tThe snippet files moved from build-aux/snippet to lib.\n\t* lib/_Noreturn.h: Rename from build-aux/snippet/_Noreturn.h.\n\t* lib/arg-nonnull.h: Rename from build-aux/snippet/arg-nonnull.h.\n\t* lib/c++defs.h: Rename from build-aux/snippet/c++defs.h.\n\t* lib/gnulib.mk, m4/gnulib-comp.m4: Regenerate.\n\t* lib/warn-on-use.h: Rename from build-aux/snippet/warn-on-use.h.\n\n2017-03-14  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix duplicate wording in Emacs manual\n\n\t* doc/emacs/programs.texi (Which Function): Delete duplicate\n\twording.  (Bug#26098)\n\n2017-03-14  Michael Albinus  <michael.albinus@gmx.de>\n\n\tReenable lost Tramp test case\n\n\t* test/lisp/net/tramp-tests.el (tramp-test24-file-name-completion):\n\tReenable lost test case.\n\n2017-03-14  Alan Third  <alan@idiocy.org>\n\n\tRevert \"Remove NSEvent loop from ns_select (bug#25265)\"\n\n\tThis reverts commit 3bd2e9e975ed29daaf03ca7559e4664aade0674f.\n\n2017-03-14  Alan Third  <alan@idiocy.org>\n\n\tRevert \"Add missing timeout value in ns_select\"\n\n\tThis reverts commit a65236214d9202fb69a6ba5169d4ac1a4bcb0b0d.\n\n2017-03-14  Alan Third  <alan@idiocy.org>\n\n\tRemove old macOS compatibility code\n\n\t* src/nsimage.m, src/nsmenu.m, src/nsterm.m: Remove code only for\n\tmacOS versions below 10.6 as they are not supported in Emacs 25+.\n\n2017-03-14  Michael Albinus  <michael.albinus@gmx.de>\n\n\tTune `tramp-completion-file-name-regexp-unified'\n\n\t* lisp/net/tramp.el (tramp-completion-file-name-regexp-unified):\n\tExtend this regexp to match also \"/\".\n\n2017-03-14  Tino Calancha  <tino.calancha@gmail.com>\n\n\tShow ancestor buffer in 3way merges\n\n\tAdd an option ediff-show-ancestor', to control if the ancestor buffer\n\tmust be shown in 3way merges (Bug#25493); set it non-nil by default.\n\tAdd a toggle to change this option interactively; the original\n\tvalue of the option is restored on exit.\n\n\tUpdate the window setup so that the ancestor buffer is\n\tshown in 3way merges when ediff-show-ancestor is non-nil.\n\n\tAny operation on ediff windows must take in account the\n\tancestor window as well, when this is shown.\n\n\t* lisp/vc/ediff-init.el (ediff-show-ancestor): New option.\n\t(ediff--show-ancestor-orig): New defvar.\n\t* lisp/vc/ediff-wind.el (ediff-window-Ancestor): New defvar.\n\t(ediff-setup-windows-plain-merge, ediff-setup-windows-multiframe-merge):\n\tDisplay ancestor buffer if ediff-show-ancestor is non-nil.\n\t(ediff-keep-window-config): Expect ancestor window in\n\tediff-window-config-saved.\n\t(ediff-window-alist): Add entry for the ancestor window.\n\t* lisp/vc/ediff-util.el (ediff-setup-control-buffer):\n\tediff-window-config-saved contains ancestor window.\n\t(ediff-show-ancestor): Delete this command.\n\t(ediff-setup-keymap): Bind ediff-toggle-show-ancestor to '/' for merge jobs.\n\t(ediff-update-diffs): Compute new diffs using ancestor buffer in 3way merges;\n\tdon't cheat it to think that is performing a comparison, that trick is not\n\tnecessary anymore: simply call 'ediff-setup-diff-regions-function'\n\twith file-A, file-B and the file ancestor.\n\t(ediff-recenter): Update doc string.  Consider the ancestor buffer.\n\t(ediff--check-ancestor-exists): New defun.\n\t(ediff-toggle-show-ancestor): New command; toggle ediff-show-ancestor.\n\t(ediff--restore-options-on-exit): Restore ediff-show-ancestor on exit.\n\t(ediff-scroll-vertically, ediff-scroll-horizontally)\n\t(ediff-operate-on-windows): Consider the ancestor as well.\n\t* lisp/vc/ediff-help.el (ediff-long-help-message-merge):\n\tList ediff-toggle-show-ancestor.\n\t* doc/misc/ediff.texi (Introduction, Quick Help Commands): Update manual.\n\n2017-03-14  Tino Calancha  <tino.calancha@gmail.com>\n\n\tdiff-mode: Improve default faces for buffer ancestor\n\n\t* lisp/vc/ediff-init.el (ediff-current-diff-Ancestor)\n\t(ediff-fine-diff-Ancestor): Use defaults consistent with\n\tfaces for 'ediff-buffer-A' and 'ediff-buffer-B'.\n\n2017-03-14  Hong Xu  <hong@topbug.net>\n\n\t* lisp/paren.el (show-paren--default, show-paren-function): Add docstring.\n\n2017-03-13  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix make-dist typo\n\n\t* make-dist: Fix typo introduced in the Bug#25895 fix.\n\n2017-03-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix wording in Emacs manual\n\n\t* doc/emacs/text.texi (Paragraphs): Fix a garbled sentence.\n\t(Bug#26086)\n\n2017-03-13  Michael Albinus  <michael.albinus@gmx.de>\n\n\tetc/NEWS: Remote file names require a method.\n\n2017-03-13  Michael Albinus  <michael.albinus@gmx.de>\n\n\tRequire method in remote file name syntax\n\n\t* lisp/minibuffer.el (completion--nth-completion):\n\tDo not bind `non-essential'.\n\n\t* lisp/net/tramp-adb.el (tramp-adb-maybe-open-connection):\n\t* lisp/net/tramp-gvfs.el (tramp-gvfs-maybe-open-connection):\n\t* lisp/net/tramp-sh.el (tramp-maybe-open-connection):\n\t* lisp/net/tramp-smb.el (tramp-smb-maybe-open-connection): Do not call\n\t`tramp-check-proper-method-and-host'.\n\n\t* lisp/net/tramp-sh.el (tramp-ssh-controlmaster-options): Better traces.\n\t(tramp-maybe-open-connection): Do not use argument for\n\t\u00b4tramp-completion-mode-p'.\n\n\t* lisp/net/tramp.el (tramp-default-method-marker): New defconst.\n\t(tramp-prefix-format, tramp-postfix-method-format)\n\t(tramp-prefix-ipv6-format, tramp-postfix-ipv6-format)\n\t(tramp-prefix-port-format, tramp-postfix-host-format)\n\t(tramp-file-name-regexp, tramp-completion-file-name-regexp):\n\tUse `eq' instead of `eqal'.\n\t(tramp-method-regexp, tramp-domain-regexp)\n\t(tramp-remote-file-name-spec-regexp)\n\t(tramp-file-name-regexp-unified)\n\t(tramp-completion-file-name-regexp-unified)\n\t(tramp-completion-file-name-regexp-separate): Adapt regexp.\n\t(tramp-completion-file-name-handler-alist)\n\t(tramp-run-real-handler): Autoload them.\n\t(tramp-find-method): Handle `tramp-default-method-marker'.\n\t(tramp-check-proper-method-and-host)\n\t(tramp-completion-run-real-handler): Remove them.\n\t(tramp-error-with-buffer, tramp-connectable-p): Do not use\n\targument for \u00b4tramp-completion-mode-p'.\n\t(tramp-find-foreign-file-name-handler): Remove COMPLETION\n\targument.  Do not apply heuristic for completion.\n\t(tramp-file-name-handler): Do not modify `non-essential'.\n\t(tramp-completion-file-name-handler): Change implementation.\n\t(tramp-autoload-file-name-handler)\n\t(tramp-completion-handle-file-name-all-completions):\n\tCall `tramp-run-real-handler'.\n\t(tramp-completion-mode-p): Do not autoload.  Remove argument.\n\tDo not apply heuristic for completion.\n\t(tramp-completion-dissect-file-name): Simplify implementation.\n\t(tramp-handle-file-name-as-directory): Call `tramp-connectable-p'.\n\n\t* test/lisp/net/tramp-tests.el (tramp-test01-file-name-syntax)\n\t(tramp-test02-file-name-dissect)\n\t(tramp-test03-file-name-defaults)\n\t(tramp-test06-directory-file-name): Adapt to the new syntax.\n\t(tramp-test11-copy-file, tramp-test12-rename-file)\n\t(tramp--test-check-files): Deactivate temporarily tests with\n\tquoted file names.\n\t(tramp-test16-directory-files, tramp-test17-insert-directory):\n\tAdapt tests.\n\t(tramp-test24-file-name-completion): Do not check for\n\tcompletion mode.\n\t(tramp-test31-make-auto-save-file-name): Deactivate temporarily\n\ttwo tests.\n\n2017-03-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix bidi paragraph direction when inserting text at newline\n\n\t* src/insdel.c (invalidate_buffer_caches): Invalidate the bidi\n\tparagraph cache when inserting immediately after a newline.\n\t(Bug#26083)\n\n2017-03-13  Tino Calancha  <tino.calancha@gmail.com>\n\n\t* test/lisp/emacs-lisp/cl-print-tests.el (cl-print-tests-1): Fix regexp.\n\n2017-03-13  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/cl-print.el (cl-print-compiled): New variable\n\n\t(cl-print-object) <compiled-function>: Print the docstring and\n\tinteractive form.  Obey cl-print-compiled.\n\n2017-03-13  Noam Postavsky  <npostavs@gmail.com>\n\n\tFix indent-sexp when called from inside a string (Bug#21343)\n\n\t* lisp/emacs-lisp/lisp-mode.el (indent-sexp): Get initial syntax parse\n\tstate from `syntax-ppss'.\n\n2017-03-13  Noam Postavsky  <npostavs@gmail.com>\n\n\t* lisp/emacs-lisp/lisp-mode.el (indent-sexp): Simplify.\n\n\t* test/lisp/emacs-lisp/lisp-mode-tests.el (indent-sexp):\n\t(indent-subsexp, indent-sexp-in-string): New tests.\n\n2017-03-12  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tUse switch on pseudovector types; plus cleanups along the way\n\n\t* src/lisp.h (PSEUDOVECTOR_TYPE): New function, extracted from mark_object.\n\t(PSEUDOVECTOR_TYPEP): Change type of `code'.\n\n\t* src/alloc.c (sweep_vectors): Remove out-of-date assertion.\n\t(mark_object): Use PSEUDOVECTOR_TYPE.\n\n\t* src/data.c (Ftype_of): Use switch on pvec type.\n\n\t* src/print.c (print_object): Use switch on pvec type.\n\n\t* lisp/emacs-lisp/cl-generic.el (cl--generic-typeof-types):\n\tAdd recently added types.\n\n2017-03-12  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tInstall update-game-score only on request\n\n\tMost distributions do not install update-game-score properly\n\tdue to setuid/setgid complications, so install it only when\n\tthe installer specifies a user or group (Bug#25895).\n\t* .gitattributes: Remove lib-src/update-game-score.exe.manifest.\n\t* Makefile.in (gameuser, gamegroup, use_gamedir, PATH_GAME):\n\tNew vars.\n\t(epaths-force): Use PATH_GAME.\n\t(uninstall): Remove snake-scores and tetris-scores only if shared.\n\t* configure.ac: Default --with-gameuser to 'no'.\n\t(UPDATE_MANIFEST): Remove.\n\t* etc/NEWS: Mention this.\n\t* lib-src/Makefile.in (UPDATE_MANIFEST): Remove.\n\t(use_gamedir): New macro.\n\t(UTILITIES): Remove update-game-score unless use_gamedir.\n\t(SCRIPTS): Remove $(UPDATE_MANIFEST).\n\t($(DESTDIR)${archlibdir}): Install game directory program and data\n\tonly if use_gamedir.\n\t* lib-src/update-game-score.exe.manifest: Remove, as\n\tupdate-game-score is no longer installed on MS-Windows.\n\t* lisp/play/gamegrid.el (gamegrid-add-score-with-update-game-score):\n\tUse auxiliary program only if setuid or setgid.\n\t* make-dist: Do not distribute update-game-score.exe.manifest.\n\t* src/callproc.c (init_callproc):\n\tSet Vshared_game_score_directory based on PATH_GAME, not DOS_NT.\n\t(syms_of_callproc): Remove unnecessary initialization of\n\tVshared_game_score_directory.\n\n2017-03-12  Simen Heggest\u00f8yl  <simenheg@gmail.com>\n\n\tAdd `touch-action' to list of CSS properties\n\n\t* lisp/textmodes/css-mode.el (css-property-alist): Add `touch-action'\n\tproperty.\n\n2017-03-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tTeach etags to process ENUM_BF correctly\n\n\t* lib-src/etags.c (sym_type): New enumeration value st_C_enum_bf.\n\t(hash): Regenerated values for asso_values[] array.\n\t(in_word_set): Update values of TOTAL_KEYWORDS and\n\tMAX_HASH_VALUE.  Add \"ENUM_BF\" to the wordlist[] array.\n\t(in_enum_bf): New file-global variable.\n\t(consider_token): Skip ENUM_BF if not in a macro definition.\n\t(C_entries): Reset the in_enum_bf flag when past its closing\n\tparenthesis.\n\n\t* test/manual/etags/ETAGS.good_1:\n\t* test/manual/etags/ETAGS.good_2:\n\t* test/manual/etags/ETAGS.good_3:\n\t* test/manual/etags/ETAGS.good_4:\n\t* test/manual/etags/ETAGS.good_5:\n\t* test/manual/etags/ETAGS.good_6:\n\t* test/manual/etags/CTAGS.good: Adapt to changes in etags.\n\n2017-03-12  Michael Albinus  <michael.albinus@gmx.de>\n\n\tUse path/to/file instead of path/to.file in tramp.texi\n\n\t* doc/misc/tramp.texi (Configuration, File name Syntax):\n\tUse path/to/file instead of path/to.file.\n\n2017-03-12  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRemove some stray gnulib files\n\n\t* admin/merge-gnulib: rm m4/gnulib-tool.m4 too.\n\t(GNULIB_MODULES): Remove unsetenv, as it is not needed and\n\tthe --avoid=unsetenv option avoided most of it anyway.\n\t* lib/unsetenv.c, m4/gnulib-tool.m4, m4/setenv.m4: Remove.\n\t* lib/gnulib.mk: Regenerate.\n\n2017-03-12  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from gnulib\n\n\tThis incorporates:\n\t2017-03-11 gnulib-common.m4: avoid aclocal.m4 bloat\n\t* doc/misc/texinfo.tex, m4/gnulib-common.m4: Copy from gnulib.\n\n2017-03-12  Glenn Morris  <rgm@gnu.org>\n\n\tRemove trivial duplication in epg-config\n\n\t* lisp/epg-config.el (epg-config--program-alist):\n\tUse epg-gpg-minimum-version.\n\n2017-03-12  Glenn Morris  <rgm@gnu.org>\n\n\tSmall epg-find-configuration improvement\n\n\t* lisp/epg-config.el (epg-find-configuration):\n\tHandle epg-gpg-program customized but not saved.  (Bug#25947)\n\n2017-03-11  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tImprove last change\n\n\t* lisp/emacs-lisp/lisp-mode.el (lisp-el-font-lock-keywords-2):\n\tUse ppss to check escaping and add help-echo.\n\n2017-03-11  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tHighlight useless backslashes in Elisp strings\n\n\t* lisp/emacs-lisp/lisp-mode.el (lisp-el-font-lock-keywords-2):\n\tPut warning face on backslashes that have no effect.\n\n2017-03-11  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument how to customize input methods\n\n\t* doc/emacs/mule.texi (Input Methods): Document how to customize\n\tinput methods.\n\n2017-03-11  Eli Zaretskii  <eliz@gnu.org>\n\n\t* lisp/net/eww.el (eww-reload): Doc fix.  (Bug#25981)\n\n2017-03-11  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix generation of nt/gnulib.mk on macOS\n\n\t* nt/Makefile.in (${srcdir}/gnulib.mk): Don't use the -f- option\n\tto Sed, as that is not portable with non-GNU Sed variants.\n\t(Bug#26043)\n\n2017-03-11  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid aborts/assertion violations due to 'vim-empty-lines-mode'\n\n\t* src/xdisp.c (handle_single_display_spec): If position to be\n\trestored after processing the display property comes from an\n\toverlay, protect against that overlay's end point being outside of\n\tthe narrowed region.\n\tReported by Filipe Silva <filipe.silva@gmail.com> in\n\thttps://lists.gnu.org/r/emacs-devel/2017-03/msg00176.html.\n\n2017-03-10  Glenn Morris  <rgm@gnu.org>\n\n\tSmall improvement for epa-display-error (bug#24553)\n\n\t* lisp/epa.el (epa-display-error): Report the actual program in use.\n\n2017-03-10  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tTweak X toolkit code to pacify modern GCC\n\n\t* lwlib/lwlib-Xaw.c, lwlib/lwlib-Xm.c, lwlib/lwlib.c:\n\tDon\u2019t include <stdlib.h>, since this code now calls emacs_abort\n\trather than abort.\n\t* lwlib/lwlib-Xaw.c (make_dialog, xaw_generic_callback)\n\t(wm_delete_window):\n\t* lwlib/lwlib-Xm.c (make_menu_in_widget, do_call):\n\t* lwlib/lwlib.c (instantiate_widget_instance, lw_make_widget):\n\t* lwlib/xlwmenu.c (abort_gracefully, draw_separator)\n\t(separator_height, XlwMenuInitialize):\n\tUse emacs_abort, not abort.  Without this change, some calls\n\tto \u2018abort\u2019 were invalid, as stdlib.h was not always included.\n\t* src/widget.c (resources, emacsFrameClassRec):\n\t* src/xfns.c (x_window) [USE_X_TOOLKIT]:\n\t* src/xmenu.c (create_and_show_popup_menu) [USE_X_TOOLKIT]:\n\t* src/xterm.c (emacs_options) [USE_X_TOOLKIT}:\n\t(x_term_init) [USE_X_TOOLKIT]:\n\tCast string constants to char * to pacify --enable-gcc-warnings.\n\n2017-03-10  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* doc/misc/tramp.texi (Android shell setup): Require adb program\n\n2017-03-10  Michael Albinus  <michael.albinus@gmx.de>\n\n\tAdapt tramp-tests.el\n\n\t* test/lisp/net/tramp-tests.el (tramp-test06-directory-file-name)\n\t(tramp-test24-file-name-completion): Call\n\t`tramp-completion-mode-p' with argument.\n\n2017-03-10  Thien-Thi Nguyen  <ttn@gnu.org>\n\n\t[doc] Replace bindat example: s/fortune cookie/rfc868 payload/\n\n\t* doc/lispref/processes.texi (Bindat Examples):\n\tMention two examples in intro blurb; rewrite first example.\n\n2017-03-10  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSimplify checks for xdg-open and xdg-email\n\n\tbrowse-url's xdg-open detection was too picky on some GNU/Linux\n\tdesktops; see Bug#25778.  Simplify the code by assuming xdg-open works\n\tif it is executable, as nowadays this is more likely to be correct than\n\ttrying to use heuristics from a few years ago.  Don't test for nohup: it\n\tis ineffective nowadays, as xdg-open's child uses the default action for\n\tSIGHUP even if xdg-open's invoker ignores SIGHUP.  While we're at it,\n\tallow for Wayland here, as \"emacs -nw\" might be running in a non-X\n\tWayland terminal.\n\t* lisp/mail/emacsbug.el (report-emacs-bug-can-use-xdg-email):\n\t* lisp/net/browse-url.el (browse-url-can-use-xdg-open):\n\tSimplify to a test for DISPLAY and whether the helper program is\n\texecutable.  Allow WAYLAND_DISPLAY as an option.\n\n2017-03-09  Vibhav Pant  <vibhavp@gmail.com>\n\n\tByte compile cond clauses without any bodies correctly.\n\n\t* lisp/emacs-lisp/bytecomp.el (byte-compile-cond-jump-table): When a\n\tcond clause has no body, push t on to the stack.\n\n2017-03-09  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix bug#23006\n\n\t* lisp/minibuffer.el (completion--nth-completion):\n\tLet-bind `non-essential'.\n\n\t* lisp/net/tramp.el (tramp-completion-mode): Fix docstring.\n\t(tramp-completion-mode-p): Optional parameter VEC.  Replace\n\tcheck for `last-input-event' by analysing VEC argument.\n\t(tramp-error-with-buffer, tramp-file-name-handler)\n\t(tramp-connectable-p, tramp-handle-file-name-as-directory):\n\t* lisp/net/tramp-sh.el (tramp-maybe-open-connection): Use it.\n\n2017-03-09  Vibhav Pant  <vibhavp@gmail.com>\n\n\tetc/NEWS: Add entry for new `switch' bytecode.\n\n2017-03-08  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* src/data.c (arithcompare): Add comments.\n\n2017-03-08  Glenn Morris  <rgm@gnu.org>\n\n\tUpdate a cl-print test\n\n\t* test/lisp/emacs-lisp/cl-print-tests.el (cl-print-tests-1):\n\tUpdate for recent change in cl-print-object function output.\n\n2017-03-08  Sam Steingold  <sds@gnu.org>\n\n\tReplace change-log-date-face -> change-log-date\n\n\tThis fixes c430f7e23fc2c22f251ace4254e37dea1452dfc3.\n\n2017-03-08  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix bug#26011\n\n\t* lisp/net/tramp-sh.el (tramp-do-copy-or-rename-file-via-buffer):\n\tCheck, whether file is too large.  (Bug#26011)\n\n2017-03-08  Andreas Schwab  <schwab@linux-m68k.org>\n\n\t* src/data.c (minmax_driver): Use CHECK_NUMBER_OR_FLOAT_COERCE_MARKER.\n\t(Fmax, Fmin): Restore documentation.\n\n\t* src/data.c (cons_to_unsigned, cons_to_signed, Fstring_to_number): Reorder\n\tcomparisons that are written backward.\n\n2017-03-08  Thien-Thi Nguyen  <ttn@gnu.org>\n\n\t[doc elisp] Add some index entries for \"old\" advice mechanism\n\n\t* doc/lispref/functions.texi (Porting old advice):\n\tAdd one @cindex and two @findex entries.\n\n2017-03-08  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* etc/NEWS: Adjust to match previous patch.\n\n2017-03-08  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tmin and max should not return markers\n\n\tProblem reported by Glenn Morris in:\n\thttps://lists.gnu.org/r/emacs-devel/2017-03/msg00147.html\n\t* src/data.c (minmax_driver): Convert any marker result to an\n\tinteger, since some callers assume this.\n\t* test/src/data-tests.el (data-tests-max, data-tests-min):\n\tTest for this.\n\n2017-03-08  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/cl-print.el (cl-print-object): Use #f(..) for functions.\n\n2017-03-08  Alan Third  <alan@idiocy.org>\n\n\tAdd missing timeout value in ns_select\n\n\t* src/nsterm.m (ns_select): Set timeout to distant future when relying\n\ton fd_handler's timeout.\n\n2017-03-07  Glenn Morris  <rgm@gnu.org>\n\n\t* admin/update_autogen: Ensure nt/gnulib.mk exists, for autoreconf.\n\n2017-03-07  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRemove isnan hack for Solaris 10 gcc 3.4.3\n\n\tThis seems to have been a false alarm (Bug#26018).\n\t* src/data.c (isnan):\n\t* src/floatfns.c (isfinite, isnan):\n\tUse standard implementation if available.\n\n2017-03-07  Eli Zaretskii  <eliz@gnu.org>\n\n\tSupport browsing URLs with embedded spaces on MS-Windows\n\n\t* lisp/net/browse-url.el (browse-url-default-windows-browser):\n\tUnhex %XX hex-encoded characters, as w32-shell-execute doesn't\n\tsupport that in file:// URLs.  (Bug#26014)\n\n2017-03-07  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDefine copysign on all platforms\n\n\t* configure.ac (copysign): Remove test.\n\t* src/floatfns.c (signbit): New macro, if not already defined.\n\t(Fcopysign): Use it instead of copysign.\n\t(Fcopysign, syms_of_floatfns): Define the function on all platforms.\n\n2017-03-07  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\tRevert \"Replace ldefs-boot with a much smaller file\"\n\n\tThis reverts commit c27b645956a11fab1dd8fa189254d525390958f5.\n\n\tThis commit has been reverted because the new mechanism was too\n\tsensitive to changes in the lisp source, generation of new ldefs-boot\n\tfiles was platform specific and resulted in warnings about undefined\n\tvariables.\n\n\tSee also 11436e2890d.\n\n2017-03-07  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\tRevert \"Record autoloads till emacs dump\"\n\n\tThis reverts commit 72c668a9042ac6475eadedfee5c87fb1e6b2d753.\n\n\tThis commit has been reverted because the new mechanism was too\n\tsensitive to changes in the lisp source, generation of new ldefs-boot\n\tfiles was platform specific and resulted in warnings about undefined\n\tvariables.\n\n\tSee also 11436e2890d.\n\n2017-03-07  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\tRevert \"Remove unused ldefs-boot.el\"\n\n\tThis reverts commit ef8c9f8fc922b615aca91b47820d1f1900fddc96.\n\n\tThis commit has been reverted because the new mechanism was too\n\tsensitive to changes in the lisp source, generation of new ldefs-boot\n\tfiles was platform specific and resulted in warnings about undefined\n\tvariables.\n\n\tSee also 11436e2890d.\n\n2017-03-07  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\tRevert \"Remove conditional includes from bootstrap\"\n\n\tThis reverts commit 1b946305182312faa7fcd838caf55dcb07b2ab04.\n\n\tThis commit has been reverted because the new mechanism was too\n\tsensitive to changes in the lisp source, generation of new ldefs-boot\n\tfiles was platform specific and resulted in warnings about undefined\n\tvariables.\n\n\tSee also 11436e2890d.\n\n2017-03-07  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\tRevert \"Speed generation of ldefs-boot-auto\"\n\n\tThis reverts commit 7b5e1c8238ef961fd3305b1dce053b9bced684ba.\n\n\tThis commit has been reverted because the new mechanism was too\n\tsensitive to changes in the lisp source, generation of new ldefs-boot\n\tfiles was platform specific and resulted in warnings about undefined\n\tvariables.\n\n\tSee also 11436e2890d.\n\n2017-03-07  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\tRevert \"Fix minor problems with loaddefs autogeneration\"\n\n\tThis reverts commit f2bd2c1e6476acc71e71f6cb2a1c56c5edd900ba.\n\n\tThis commit has been reverted because the new mechanism was too\n\tsensitive to changes in the lisp source, generation of new ldefs-boot\n\tfiles was platform specific and resulted in warnings about undefined\n\tvariables.\n\n2017-03-07  Noam Postavsky  <npostavs@gmail.com>\n\n\tSet default when asking for send-mail-function (Bug#25874).\n\n\t* lisp/mail/sendmail.el (sendmail-query-user-about-smtp): Pass first\n\toption as default for `completing-read'.\n\n2017-03-07  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tmin and max now return one of their arguments\n\n\t* doc/lispref/numbers.texi (Comparison of Numbers):\n\t* etc/NEWS: Document this.\n\t* src/data.c (Amax, Amin): Remove constants.  All uses removed.\n\t(minmax_driver): New function.\n\t(Fmax, Fmin): Use it instead of arith_driver.\n\t* test/src/data-tests.el (data-tests-max, data-tests-min): New tests.\n\n2017-03-06  Alan Third  <alan@idiocy.org>\n\n\tRemove NSEvent loop from ns_select (bug#25265)\n\n\t* src/nsterm.m (ns_select): Remove event processing loop and replace\n\twith simple test for a new event.\n\n2017-03-06  Eli Zaretskii  <eliz@gnu.org>\n\n\tA better fix for bug#25845\n\n\t* src/xdisp.c (font_for_underline_metrics): New function.\n\t* src/dispextern.h: Add its prototype.\n\t* src/xterm.c (x_draw_glyph_string):\n\t* src/w32term.c (x_draw_glyph_string):\n\t* src/nsterm.m (ns_draw_text_decoration): Call it.  This avoids\n\thaving identical code 3 times in 3 different files.\n\n2017-03-06  Noam Postavsky  <npostavs@gmail.com>\n\n\tFix warning message about native completion (Bug#25984)\n\n\t* lisp/progmodes/python.el (python-shell-completion-native-turn-on-maybe):\n\tThe relevant variable is `python-shell-completion-native-enable'.\n\n2017-03-06  Tom Tromey  <tom@tromey.com>\n\n\tFix typos in EIEIO manual\n\n\t* doc/misc/eieio.texi (Slot Options, Class Options): Fix typos.\n\n2017-03-05  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from gnulib\n\n\tThis incorporates:\n\t2017-03-04 dtotimespec: simplify\n\t* lib/dtotimespec.c: Copy from gnulib.\n\n2017-03-05  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tffloor etc. now accept only floats\n\n\t* etc/NEWS: Say why.\n\t* src/floatfns.c (Ffceiling, Fffloor, Ffround, Fftruncate):\n\tRequire arg to be float.\n\t* test/src/floatfns-tests.el (fround-fixnum): Check this.\n\n2017-03-05  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix display of cursor on underlined text\n\n\t* src/nsterm.m (ns_draw_text_decoration):\n\t* src/xterm.c (x_draw_glyph_string):\n\t* src/w32term.c (x_draw_glyph_string): Compute the position and\n\tthickness of the underline by looking for the first glyph of the\n\trun of underlined glyphs that includes the glyph string we are\n\tdrawing.  (Bug#25845)\n\n2017-03-05  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tAdd more CL concept index items, print Concept Index\n\n\t* doc/misc/cl.texi: Print concept index.\n\t(Generalized Variables, Variable Bindings):\n\t(Dynamic Bindings, Function Bindings, Macro Bindings, Conditionals):\n\t(Blocks and Exits, Iteration, Multiple Values): Add concept index\n\titems.\n\n2017-03-05  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tAdd 'loop facility' to the CL concept index\n\n\t* doc/misc/cl.texi (Loop Facility): Add \"loop facility\" as a concept\n\tindex item.\n\n2017-03-05  martin rudalics  <rudalics@gmx.at>\n\n\tIn `window--display-buffer' fix behavior reported in Bug#25946\n\n\t* lisp/window.el (window--display-buffer): Set the dedicated\n\tstatus of the window used and clear its history of previous\n\tbuffers also for the case that the window already shows the\n\tbuffer to be displayed.  (Bug#25946)\n\n2017-03-05  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tCompare and round more carefully\n\n\t* etc/NEWS: Document this.\n\t* src/data.c (store_symval_forwarding):\n\t* src/sound.c (parse_sound):\n\tDo not botch NaN comparison.\n\t* src/data.c (cons_to_unsigned, cons_to_signed):\n\tSignal an error if a floating-point arg is not integral.\n\t* src/data.c (cons_to_unsigned, cons_to_signed):\n\t* src/fileio.c (file_offset):\n\tUse simpler overflow check.\n\t* src/dbusbind.c (xd_extract_signed, xd_extract_unsigned):\n\tAvoid rounding error in overflow check.\n\t(Fcar_less_than_car): Use arithcompare directly.\n\t* test/src/charset-tests.el: New file.\n\n2017-03-05  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFewer rounding errors with (format \"%f\" fixnum)\n\n\t* etc/NEWS: Document this.\n\t* src/editfns.c (styled_format): When formatting integers via a\n\tfloating-point format, use long double instead of double\n\tconversion, if long double\u2019s extra precision might help.\n\n2017-03-05  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* src/floatfns.c (Fftruncate): Simplify via emacs_trunc.\n\n\t* src/editfns.c (styled_format): Omit unnecessary code for \"%0d\" etc.\n\n2017-03-04  Eli Zaretskii  <eliz@gnu.org>\n\n\tClarify documentation of 'raise' and 'height' display specs\n\n\t* doc/lispref/display.texi (Other Display Specs): Clarify the\n\teffect of 'height' display spec on the following 'raise'.\n\t(Bug#25824)\n\n2017-03-04  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix header shown by Info 'L' command\n\n\t* lisp/info.el (Info-history-find-node): A better heading for the\n\tlist of visited nodes.  (Bug#25876)\n\n2017-03-04  K. Handa  <handa@gnu.org>\n\n\tAdd a section about incorrect Bengali rendering.\n\n2017-03-04  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix minor problems with loaddefs autogeneration\n\n\t* admin/ldefs-clean.el (ldefs-clean): Bind coding-system-for-read\n\tand coding-system-for-write, to produce a UTF-8 file with Unix\n\tEOLs on MS-Windows.\n\n\t* lisp/ldefs-boot-manual.el (image-type): Add autoload cookie.\n\n2017-03-04  David Bremner  <david@tethera.net>  (tiny change)\n\n\tFix issues with dedicated windows in shr.el\n\n\t* lisp/net/shr.el (shr-pixel-buffer-width, shr-render-td-1): Make\n\tthe window not dedicated, to avoid errors if it was, before\n\tsetting its buffer temporarily.  (Bug#25828)\n\n2017-03-04  Eli Zaretskii  <eliz@gnu.org>\n\n\tMention problems with GPaste in PROBLEMS\n\n\t* etc/PROBLEMS (GPaste): Mention the problem in yanking caused by\n\tGPaste, and its solution.  (Bug#25902)\n\n2017-03-04  Glenn Morris  <rgm@gnu.org>\n\n\tAvoid duplicate gud menu items with gdb-mi\n\n\t* lisp/progmodes/gud.el (gud-menu-map): Avoid duplicate \"Run\"\n\tentries in gdbmi mode.  (Bug#23923)\n\n2017-03-03  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* src/editfns.c (styled_format): Omit unnecessary code.\n\n2017-03-03  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tlogb now works correctly on large integers\n\n\t* admin/merge-gnulib (GNULIB_MODULES): Add count-leading-zeros.\n\t* etc/NEWS: Document the change.\n\t* lib/count-leading-zeros.c, lib/count-leading-zeros.h:\n\t* m4/count-leading-zeros.m4: New files, copied from Gnulib.\n\t* lib/gnulib.mk, m4/gnulib-comp.m4: Regenerate.\n\t* src/floatfns.c: Include count-leading-zeros.h.\n\t(Flogb): Do not convert fixnum to float before taking the log,\n\tas the rounding error can cause the answer to be off by 1.\n\t* src/lisp.h (EMACS_UINT_WIDTH): New constant.\n\t* test/src/floatfns-tests.el (logb-extreme-fixnum): New test.\n\n2017-03-03  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from gnulib\n\n\tThis incorporates:\n\t2017-02-25 maintainer-makefile: Fix AC_PROG_SED with autoconf cache.\n\t2017-02-24 ftoastr: port to -Wdouble-promotion\n\t* lib/ftoastr.c, m4/gnulib-common.m4: Copy from gnulib.\n\n2017-03-03  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid duplicating characters recorded in macros\n\n\t* src/keyboard.c (record_char): Don't store in macro definitions\n\tcharacters that came from executing a macro.  (Bug#25860)\n\n2017-03-03  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix color component calculations in color.el\n\n\t* lisp/color.el (color-name-to-rgb): Use 16 bits per color component.\n\t(color-rgb-to-hex): Accept an optional argument\n\tDIGITS-PER-COMPONENT, defaulting to 4, and format the hexadecimal\n\tnotation either for 8 or 16 bits per component.  (Bug#25890)\n\t* lisp/net/shr-color.el (shr-color->hexadecimal): Call\n\tcolor-rgb-to-hex with the optional argument of 2, to match color\n\tprocessing on the Web.\n\n2017-03-03  Tino Calancha  <tino.calancha@gmail.com>\n\n\tUse lexical binding in benchmark.el\n\n\t* lisp/emacs-lisp/benchmark.el: Enable lexical binding.\n\t(benchmark-elapse): Use 'declare'.\n\t* test/lisp/emacs-lisp/benchmark-tests.el: Add test suite.\n\n2017-03-03  Noam Postavsky  <npostavs@gmail.com>\n\n\tSwitch pp.el to lexical binding\n\n\tAdditionally, do some minor code cleanup.\n\n\t* lisp/emacs-lisp/pp.el: Set lexical-binding.\n\t(pp-buffer): Use skip-syntax-forward.\n\t(pp-eval-expression): Use push.\n\t(pp-last-sexp): Use with-syntax-table.\n\t* test/lisp/emacs-lisp/pp-tests.el: New tests.\n\n2017-03-03  Chunyang Xu  <mail@xuchunyang.me>  (tiny change)\n\n\tFix completing-read call in reb-change-syntax\n\n\t* lisp/emacs-lisp/re-builder.el (reb-change-syntax): Use 'default' arg\n\tof completing-read.\n\n2017-03-03  Rolf Ade  <rolf@pointsman.de>  (tiny change)\n\n\tsql-mode w/ sqlite: In-memory database\n\n\tEnable the usage of an in-memory database. Prior to this, sql-mode w/\n\tsqlite could only be used with file databases.\n\t* lisp/progmodes/sql.el (sql-get-login-ext): Don't expand an empty\n\tfile name provided by the user, but call sub-process sqlite with that,\n\tin which case it uses an in-memory database.\n\n2017-03-03  Allen Li  <vianchielfaura@gmail.com>\n\n\tStop abbrev-prefix-mark from adding extra newline (Bug#25767)\n\n\t`abbrev--before-point' does not adjust `pos' to account for when it\n\tdeletes the \"-\" left by abbrev-prefix-mark.  Therefore, when\n\t`abbrev-before-point' goes to restore point, it moves point one\n\tcharacter too far forward.\n\n\t* lisp/abbrev.el (abbrev--before-point): Adjust pos when deleting \"-\".\n\n2017-03-03  Tino Calancha  <tino.calancha@gmail.com>\n\n\t* lisp/subr.el (apply-partially): Move to 'Basic Lisp functions' section.\n\n2017-03-02  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRestore XFLOATINT but with restricted args\n\n\tTurn instances of extract_float into XFLOAT_DATA when possible,\n\tand to a resurrected XFLOATINT when the arg is a number.\n\tThe resurrected XFLOATINT is more like XFLOAT and XINT in\n\tthat is valid only if its arg is a number.  This clarifies\n\tthe ways in which floats can be extracted at the C level.\n\t* src/editfns.c (styled_format):\n\t* src/floatfns.c (extract_float, Fexpt):\n\tUse XFLOATINT rather than open-coding it.\n\t* src/fns.c (internal_equal):\n\t* src/image.c (imagemagick_load_image):\n\t* src/xdisp.c (resize_mini_window):\n\tPrefer XFLOAT_DATA to extract_float on values known to be floats.\n\t* src/frame.c (x_set_screen_gamma):\n\t* src/frame.h (NUMVAL):\n\t* src/image.c (x_edge_detection, compute_image_size):\n\t* src/lread.c (read_filtered_event):\n\t* src/window.c (Fset_window_vscroll):\n\t* src/xdisp.c (handle_single_display_spec, try_scrolling)\n\t(redisplay_window, calc_pixel_width_or_height, x_produce_glyphs)\n\t(on_hot_spot_p):\n\tPrefer XFLOATINT to extract_float on values known to be numbers.\n\t* src/lisp.h (XFLOATINT): Bring back this function, except\n\tit now assumes its argument is a number.\n\n2017-03-02  Glenn Morris  <rgm@gnu.org>\n\n\tErt commands to error if no test at point (bug#25931)\n\n\t* lisp/emacs-lisp/ert.el (ert-results-mode-menu):\n\tDeactivate some items if no test at point.\n\t(ert--results-test-at-point-no-redefinition):\n\tAdd option to signal an error rather than return nil.\n\t(ert-results-pop-to-backtrace-for-test-at-point)\n\t(ert-results-pop-to-messages-for-test-at-point)\n\t(ert-results-pop-to-should-forms-for-test-at-point)\n\t(ert-results-describe-test-at-point): Error if no test at point.\n\n2017-03-02  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRemove XFLOATINT\n\n\t* src/lisp.h (XFLOATINT): Remove this alias for extract_float.\n\tAll callers changed to use extract_float.\n\t* src/frame.h (NUMVAL): Now an inline function, not a macro.\n\n2017-03-02  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix rounding errors in <, =, etc.\n\n\t* etc/NEWS: Document this.\n\t* src/bytecode.c (exec_byte_code):\n\t* src/data.c (arithcompare):\n\tDo not lose information when comparing floats to integers.\n\t* test/src/data-tests.el (data-tests-=, data-tests-<)\n\t(data-tests->, data-tests-<=, data-tests->=):\n\tTest this.\n\n2017-03-02  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix display of mouse-highlight produced by overlapping overlays\n\n\t* src/xfaces.c (face_at_buffer_position): If called to find the\n\tmouse-face, only consider the highest-priority source for that\n\tface, and ignore the rest.  Previously, all the mouse-face\n\tdefinitions at POS were merged in that case.\n\t* src/xdisp.c (note_mouse_highlight): Record the overlay that\n\tspecifies mouse-face _after_ clearing the info about the previous\n\toverlay, so as not to clear the information about the just-recorded\n\toverlay.  (Bug#25906)\n\n2017-03-02  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix display of strike-through text in variable-height lines\n\n\t* src/nsterm.m (ns_draw_text_decoration):\n\t* src/xterm.c (x_draw_glyph_string):\n\t* src/w32term.c (x_draw_glyph_string): Fix calculation of the\n\tstrike-through y-coordinate for a glyph row which is taller than\n\tthe strike-through text.  (Bug#25907)\n\n2017-03-02  Martin Rudalics  <rudalics@gmx.at>\n\n\tDon't call x_net_wm_state for scroll bar windows (Bug#24963, Bug#25887)\n\n\t* src/xterm.c (handle_one_xevent): For ConfigureNotify events\n\tdon't call x_net_wm_state when the window is a scroll bar window.\n\t(Bug#24963, Bug#25887)\n\n2017-03-02  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\tgnus-summary-select-article-buffer: Don't re-render existing article\n\n\t* lisp/gnus/gnus-sum.el (gnus-summary-select-article-buffer):\n\tDon't re-render existing article.\n\n2017-03-02  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\tDon't add debbugs address to message body (bug#25896)\n\n\t* lisp/gnus/gnus-group.el (gnus-read-ephemeral-bug-group):\n\tDon't add debbugs address to message body (bug#25896), and\n\tdon't add it to message header either if it already exists.\n\n2017-03-02  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/cedet/semantic/db-global.el: Make dynbind use explicit\n\n\t(semanticdb--ih): Declare.\n\t(semanticdb-enable-gnu-global-databases): Use it instead of `ih'.\n\t(semanticdb-enable-gnu-global-in-buffer, semanticdb-get-database-tables)\n\t(semanticdb-find-tags-for-completion-method): Silence compiler warning.\n\n2017-03-02  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/help-fns.el (describe-variable): Use cl-print for the value\n\n\tUse `pp-buffer' rather than `pp' so as to avoid calling prin1 twice.\n\n2017-03-02  Glenn Morris  <rgm@gnu.org>\n\n\t* test/lisp/net/puny-tests.el: New file.\n\n2017-03-02  Glenn Morris  <rgm@gnu.org>\n\n\tSmall puny.el fix\n\n\t* lisp/net/puny.el (puny-decode-string-internal):\n\tHandle strings with no ascii parts.  (Bug#23688)\n\n2017-03-02  Glenn Morris  <rgm@gnu.org>\n\n\tSmall recover-this-file improvement\n\n\t* lisp/files.el (recover-this-file): Explicit error if not\n\tvisiting a file.  (Bug#23671)\n\n2017-03-01  Glenn Morris  <rgm@gnu.org>\n\n\tFix for coding-system completion (bug#23670)\n\n\t* lisp/international/mule.el (read-buffer-file-coding-system):\n\tEnsure that completion-pcm--delim-wild-regex is enclosed in parens,\n\tso that completion-pcm--pattern->regex can append \"*?\".\n\n2017-03-01  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix rounding error in \u2018ceiling\u2019 etc.\n\n\tWithout this fix, (ceiling most-negative-fixnum -1.0) returns\n\tmost-negative-fixnum instead of correctly signaling range-error,\n\tand similarly for floor, round, and truncate.\n\t* configure.ac (trunc): Add a check, since Gnulib\u2019s doc says\n\t\u2018trunc\u2019 is missing from MSVC 9.  The Gnulib doc says \u2018trunc\u2019 is\n\talso missing from some other older operating systems like Solaris\n\t9 which I know we don\u2019t care about any more, so MSVC is the only\n\treason to worry about \u2018trunc\u2019 here.\n\t* src/editfns.c (styled_format): Formatting a float with %c is now an\n\terror.  The old code did not work in general, because FIXNUM_OVERFLOW_P\n\thad rounding errors.  Besides, the \"if (FLOATP (...))\" was in there\n\tonly as a result of my misunderstanding old code that I introduced\n\t2011.  Although %d etc. is sometimes used on floats that represent\n\thuge UIDs or PIDs etc. that do not fit in fixnums, this cannot\n\thappen with characters.\n\t* src/floatfns.c (rounding_driver): Rework to do the right thing\n\twhen the intermediate result equals 2.305843009213694e+18, i.e.,\n\tis exactly 1 greater than MOST_POSITIVE_FIXNUM on a 64-bit host.\n\tSimplify so that only one section of code checks for overflow,\n\trather than two.\n\t(double_identity): Remove.  All uses changed to ...\n\t(emacs_trunc): ... this new function.  Add replacement for\n\tplatforms that lack \u2018trunc\u2019.\n\t* src/lisp.h (FIXNUM_OVERFLOW_P, make_fixnum_or_float):\n\tMake it clear that the arg cannot be floating point.\n\t* test/src/editfns-tests.el (format-c-float): New test.\n\t* test/src/floatfns-tests.el: New file, to test for this bug.\n\n2017-03-01  Glenn Morris  <rgm@gnu.org>\n\n\tSmall help--loaded-p fix\n\n\t* lisp/help-fns.el (help--loaded-p): Handle entry in load-history\n\twith nil file name.  (Bug#25847)\n\n2017-03-01  Leo Liu  <sdl.web@gmail.com>\n\n\t* src/fns.c (Fbuffer_hash): Doc fix.\n\n2017-03-01  Eric Abrahamsen  <eric@ericabrahamsen.net>\n\n\tDon't use mapconcat with chars in gnus registry marks (Bug#25839)\n\n\t* lisp/gnus/gnus-registry.el (gnus-registry-article-marks-to-chars):\n\tInstead, use a plain concat, which will create a string out of a list\n\tof characters.\n\n2017-03-01  Noam Postavsky  <npostavs@gmail.com>\n\n\tFix epg-tests with dummy-pinentry program (Bug#23619)\n\n\t* test/data/epg/dummy-pinentry: New file.\n\t* test/lisp/epg-tests.el (with-epg-tests): Add it to gpg-agent.conf\n\twhen a passphrase is required.  Add debug declaration.  Set\n\tGPG_AGENT_INFO non-destructively.\n\n2017-02-28  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\tSpeed generation of ldefs-boot-auto\n\n\tPreviously, generation of ldefs-boot-auto required at least one full\n\tbootstrap and, in extreme cases, two. Now, from build system, it\n\trequires the same time as taken to dump Emacs.\n\n\t* Makefile.in: Remove all calls, pass to src.\n\t* admin/ldefs-clean.el: Update for changed messages.\n\t* lisp/Makefile.in (compile-first-delete): Add.\n\t* lisp/ldefs-boot-auto.el: Update.\n\t* src/Makefile.in (generate-ldefs-boot): Add.\n\n2017-02-28  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\tAdd error handling to magic-mode-alist\n\n\t* lisp/files.el (set-auto-mode): Add explicit error handling in two\n\t  places.\n\n2017-02-28  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\tRemove conditional includes from bootstrap\n\n\tPreviously, bootstrap-emacs includes optional functionality, depending\n\ton the platform which is not needed for bootstrap function.  As a\n\tresult, bootstrap-emacs contains different functions in different\n\tcircumstances.  If ldefs-boot-auto.el is generated, then loaded\n\tfunctions will not be added to ldefs-boot-auto.el, although they may be\n\trequired during some builds.  With this change, bootstrap-emacs should\n\talways behave the same way and, therefore, require the same autoloads.\n\n\t * lisp/loadup.el: No longer load optional includes during bootstrap\n\t   dumping.\n\t * lisp/ldefs-boot-auto.el: Regenerate.\n\t * lisp/ldefs-boot-manual.el: Add two autoloads.\n\n2017-02-28  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\tDo not use find-file non-interactively\n\n\t * lisp/international/titdic-cnv.el (miscdic-convert): Use\n\t   insert-file-contents in place of find-file.\n\n2017-02-28  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* src/xdisp.c (overlay_arrows_changed_p): Fix return value and doc\n\n\t(update_overlay_arrows): Skip non-markers.\n\n2017-02-28  Ken Brown  <kbrown@cornell.edu>\n\n\tTry to avoid hang when logging out of MS-Windows\n\n\t* src/w32term.c (x_update_window_begin, x_update_window_end)\n\t(my_show_window, my_set_window_pos, my_set_focus)\n\t(my_set_foreground_window, my_destroy_window)\n\t(my_bring_window_to_top, x_iconify_frame): Replace calls to\n\tSendMessage by calls to SendMessageTimeout with a 6-second\n\ttimeout.  (Bug#25875)\n\n2017-02-28  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/textmodes/reftex-toc.el (reftex-re-enlarge): Demote errors.\n\n2017-02-28  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* doc/misc/eieio.texi: Update to account for the cl-generic facilities\n\n\t(Quick Start, Class Options, Generics): Adjust names for cl-generic.\n\t(Methods): Document cl-defmethod.\n\tExplain in more detail the order in which the various\n\tmethods are executed.  Document the conditions under which a method\n\tis redefined.  Remove reference to `eieio-generic-call-arglst`.\n\tDon't document the precise return value of cl-next-method-p.\n\t(Static Methods): Adjust to use `subclass` specializer.\n\t(Method Invocation): Use cl-call-next-method and drop mention of :primary.\n\t(Signal Handling, Signals): Adjust names and args for cl-generic; add\n\tcl-no-primary-method.\n\t(CLOS compatibility, Wish List): Adjust to new featureset.\n\n2017-02-28  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/cedet/mode-local.el (define-mode-local-override): Declare doctring.\n\n\t* lisp/nxml/nxml-mode.el (nxml-mode): Use new sgml-syntax-propertize.\n\n2017-02-28  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/textmodes/sgml-mode.el: syntax-propertize <![CDATA and <?..?>\n\n\t(sgml-syntax-propertize-function): Mark <![CDATA and <?..?>.\n\t(sgml-syntax-propertize-inside): New fun.\n\n2017-02-28  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/textmodes/css-mode.el (css-completion-at-point): Auto-insert\n\n\t\": ;\" after completing a property.\n\n2017-02-28  Tino Calancha  <tino.calancha@gmail.com>\n\n\tShow Ibuffer and jump to line listing current buffer\n\n\t* lisp/ibuffer.el (ibuffer-jump): New command (Bug#25577).\n\n2017-02-27  Juri Linkov  <juri@linkov.net>\n\n\t* lisp/vc/add-log.el (change-log-next-buffer): Check if file exists\n\n\tbefore adding it to the list of files.\n\n2017-02-27  Juri Linkov  <juri@linkov.net>\n\n\tPut text properties on query-replace separator string instead of \"\\0\"\n\n\t* lisp/replace.el (query-replace--split-string):\n\tSplit at a substring instead of just character.\n\t(query-replace-read-from): Put text properties on the\n\tseparator string instead of \"\\0\".  (Bug#25482)\n\n2017-02-27  Juri Linkov  <juri@linkov.net>\n\n\tAdd file name and its extension to suggestions in dired-mark-files-regexp\n\n\t* lisp/dired.el (dired-mark-files-regexp): Add file name\n\tand its extension to the list of suggested defaults.  (Bug#25578)\n\n2017-02-27  Chunyang Xu  <mail@xuchunyang.me>  (tiny change)\n\n\tPrompt default extension in dired-mark-extension\n\n\t* lisp/dired-x.el (dired-mark-extension): Prompt default extension\n\tbased on extension of file at point.  (Bug#25578)\n\n2017-02-27  Tino Calancha  <tino.calancha@gmail.com>\n\n\tPrevent for consing in cl-mapc and cl-mapl\n\n\t* lisp/emacs-lisp/cl-extra.el (cl--mapcar-many): Add optional arg ACC;\n\tIf non-nil, accumulate values in the result (Bug#25826).\n\t(cl-mapc): Do computations inside function instead of call cl-map.\n\t(cl-mapl): Do computations inside function instead of call cl-maplist.\n\t* lisp/emacs-lisp/cl-lib.el (mapcar): Add autoload cookie.\n\tCall cl--mapcar-many with non-nil 3rd argument.\n\t* test/lisp/emacs-lisp/cl-extra-tests.el (cl-extra-test-map)\n\t(cl-extra-test-mapc, cl-extra-test-mapcar, cl-extra-test-mapl)\n\t(cl-extra-test-maplist): New tests.\n\n2017-02-27  Tino Calancha  <tino.calancha@gmail.com>\n\n\tChoose the right target dir on dired operations\n\n\tPrevent from changing the input target dir\n\twhen dired-dwim-target is non-nil (Bug#25609).\n\t* lisp/dired-aux.el (dired-do-create-files):\n\tIf dired-dwim-target is non-nil, then bind 'default' to nil.\n\t* test/lisp/dired-tests.el (dired-test-bug25609): Add test.\n\n2017-02-27  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* src/xdisp.c (overlay_arrows_changed_p): Fix last change.\n\n2017-02-27  Noam Postavsky  <npostavs@gmail.com>\n\n\tDon't record eshell/clear \"command\" in history (Bug#25838)\n\n\t`eshell/clear' is implemented by sending a series of blank lines,\n\twhich is not a useful thing to have in the history.\n\n\t* lisp/eshell/em-hist.el (eshell-input-filter-default): Use\n\t`string-blank-p' which does check for newlines (even though newlines\n\thave comment-end syntax, not whitespace syntax class).\n\t* lisp/eshell/esh-mode.el (eshell/clear): Remove\n\t`eshell-add-to-history' from `eshell-input-filter-functions' while\n\tsending the blank lines.  This change is needed to solve the bug if\n\tthe user customizes `eshell-input-filter' to something that doesn't\n\tfilter newlines.\n\n2017-02-26  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRemove a few unused C functions\n\n\t* src/eval.c (let_shadows_global_binding_p):\n\t* src/print.c (write_string):\n\t* src/systhread.c (sys_mutex_destroy, sys_thread_equal):\n\tRemove.\n\t* src/print.c (write_string): Rename from write_string_1.\n\tAll uses changed.\n\n2017-02-26  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid segfault in overlay_arrows_changed_p\n\n\t* src/xdisp.c (overlay_arrows_changed_p): Fix recent change\n\tto avoid a segfault.\n\n2017-02-26  Noam Postavsky  <npostavs@gmail.com>\n\n\tDon't call package--ensure-init-file if initialized during startup\n\n\t* lisp/emacs-lisp/package.el (package-initialize): Check\n\t`after-init-time' rather than `load-file-name' to decide if\n\t`package--ensure-init-file' should be called.  Depending on\n\t`load-file-name' will fail if the user calls `pacakge-initialize' in\n\tfile which is loaded from the init file (Bug#24643, Bug#25819).\n\n2017-02-26  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix display of before- and after-strings at invisible text\n\n\t* src/xdisp.c (next_overlay_string): Don't raise the\n\tignore_overlay_strings_at_pos_p flag if the iterator is already\n\tset to continue at a buffer position different from the one\n\twhere the overlay strings we just processed were loaded.  (Bug#25856)\n\n2017-02-26  Michael Albinus  <michael.albinus@gmx.de>\n\n\tWork on `tramp-completion-mode-p'\n\n\t* etc/NEWS: Say that `tramp-completion-mode' is obsolete.\n\n\t* lisp/net/tramp.el (tramp-completion-mode): Make it obsolete.\n\t(tramp-completion-mode-p): Reintroduce the check for 'tab.\n\n2017-02-25  Tom Tromey  <tom@tromey.com>\n\n\tUse font-lock-doc-face in js-mode\n\n\tBug#25858:\n\t* lisp/progmodes/js.el (js-font-lock-syntactic-face-function): New\n\tdefun.\n\t(js-mode): Use it.\n\t* test/lisp/progmodes/js-tests.el (js-mode-doc-comment-face): New\n\ttest.\n\n2017-02-25  Noam Postavsky  <npostavs@gmail.com>\n\n\tDon't use IP 0.0.0.0 for package test server (Bug#22582)\n\n\t* test/lisp/emacs-lisp/package-resources/package-test-server.py: Set\n\t'server_address' when port number is given on the command line.  Print\n\tIP and port number as a URL, and flush it after printing.\n\t* test/lisp/emacs-lisp/package-tests.el:\n\t(package-test-update-archives-async): Grab the whole URL from server\n\toutput.\n\n2017-02-25  Tom Tromey  <tom@tromey.com>\n\n\tAdd more branch support to vc-dir\n\n\tBug#25859:\n\t* lisp/vc/vc-dir.el (vc-dir-mode-map) Add \"B\" bindings.\n\t* lisp/vc/vc.el (vc-revision-history): New defvar.\n\t(vc-read-revision): Use vc-revision-history.\n\t(vc-print-branch-log): New function.\n\t* doc/emacs/maintaining.texi (VC Directory Commands): Document new\n\tbindings.\n\t* etc/NEWS: Mention new vc-dir bindings.\n\n2017-02-25  Alan Mackenzie  <acm@muc.de>\n\n\tAllow for the :: operator in C++ \"enum class\" declarations.\n\n\t* lisp/progmodes/cc-engine.el (c-backward-typed-enum-colon): Check for\n\t\"::\".\n\n2017-02-25  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix bug#25854\n\n\t* lisp/net/tramp-sh.el (tramp-do-file-attributes-with-ls):\n\tSimplify error handling for huge inodes.\n\t(tramp-convert-file-attributes): Handle very huge inodes.  (Bug#25854)\n\n2017-02-25  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid leaving garbage on screen when using 'raise' display property\n\n\t* src/xdisp.c (display_line): Reset voffset value of the iterator\n\twhen it hits ZV, to avoid \"inheriting\" it to glyph rows past ZV,\n\twhich then leaves stuff on screen that needs to be cleared by\n\tredisplay.  (Bug#25855)\n\n2017-02-25  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix doc strings in info.el\n\n\t* lisp/info.el (Info-selection-hook, Info-mode-hook)\n\t(Info-edit-mode-hook): Doc fixes.  (Bug#25794)\n\n2017-02-25  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix doc string of 'posn-at-point'\n\n\t* src/keyboard.c (Fposn_at_point): Clarify the doc string.\n\t(Bug#25796)\n\n2017-02-25  Peder O. Klingenberg  <peder@klingenberg.no>\n\n\tNew option -u / --suppress-output to emacsclient\n\n\t* lib-src/emacsclient.c (print_help_and_exit, longopts)\n\t(decode_options, main): Implement new option --suppress-output / -u to\n\tsuppress printing of eval-results.\n\t* doc/emacs/misc.texi (emacsclient Options): Document the new\n\t\"--suppress-output/-u\" options.\n\t* etc/NEWS: Mention the new options.\n\n2017-02-25  Noam Postavsky  <npostavs@gmail.com>\n\n\tFix scrolling with partial line corner case (Bug#25792)\n\n\tAlso fix up the scrolling tests so that they don't make so many\n\tassumptions about the current window configuration.\n\n\t* src/xdisp.c (try_window): Take partial line height into account when\n\tcomparing cursor position against scroll margin.\n\n\t* test/manual/scroll-tests.el (scroll-tests-with-buffer-window): Add\n\tHEIGHT argument, to allow setting up window with exact height and\n\tpartial line.\n\t(scroll-tests-display-buffer-with-height): New display-buffer action\n\tfunction.\n\t(scroll-tests-scroll-margin-over-max):\n\t(scroll-tests--scroll-margin-whole-window): Pass HEIGHT to\n\t`scroll-tests--scroll-margin-whole-window'.\n\t(scroll-tests-conservative-show-trailing-whitespace): New test.\n\t(scroll-tests-scroll-margin-negative): Fix line counting.\n\t(scroll-tests--point-in-middle-of-window-p): Set window height\n\tproperly.\n\n2017-02-25  Tom Tromey  <tom@tromey.com>\n\n\tFix indentation error in js.el\n\n\t* lisp/progmodes/js.el (js--indent-in-array-comp): Wrap forward-sexp\n\tcall in condition-case.\n\t* test/lisp/progmodes/js-tests.el (js-mode-indentation-error): New\n\ttest.\n\n2017-02-24  Tom Tromey  <tom@tromey.com>\n\n\tadd \"async\" and \"await\" keywords\n\n\t* lisp/progmodes/js.el (js--keyword-re): Add async, await.\n\n2017-02-24  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tUse cl-print for Edebug and EIEIO\n\n\t* lisp/emacs-lisp/edebug.el (edebug-prin1-to-string): Use cl-print.\n\t(edebug-prin1, edebug-print): Remove.\n\n\t* lisp/emacs-lisp/eieio.el (object-print): Declare obsolete.\n\t(cl-print-object): Add a method for EIEIO objects.\n\t(eieio-edebug-prin1-to-string): Delete.\n\t(edebug-prin1-to-string): Don't advise any more.\n\n\t* lisp/emacs-lisp/eieio-datadebug.el (data-debug-insert-object-button):\n\tReplace `object-print' -> `cl-prin1-to-string'.\n\n2017-02-24  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tFix left over uses of `call-next-method'\n\n\t* lisp/cedet/semantic/db-global.el (object-print):\n\t* lisp/cedet/semantic/db.el (object-print): Use `cl-call-next-method'.\n\n2017-02-24  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tMinor redisplay optimizations\n\n\t* src/frame.c (Ficonify_frame): No need to redisplay everything.\n\n\t* src/xdisp.c (overlay_arrows_changed_p): Add `set_redisplay' argument.\n\t(redisplay_internal): Use it to avoid redisplaying everything.\n\t(try_window_id): Use it keep the same behavior as before.\n\n2017-02-24  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/cl-print.el: New file\n\n\t* lisp/emacs-lisp/nadvice.el (advice--where): New function.\n\t(advice--make-docstring): Use it.\n\n\t* src/print.c (print_number_index): Don't declare here any more.\n\t(Fprint_preprocess): New function.\n\n\t* test/lisp/emacs-lisp/cl-print-tests.el: New file.\n\n2017-02-24  Peder O. Klingenberg  <peder@klingenberg.no>\n\n\tMake calc's least common multiple positive (bug#25255)\n\n\t* lisp/calc/calc-comb.el (calcFunc-lcm): Return absolute value.\n\t* doc/misc/calc.texi (Combinatorial Functions): Update for the above.\n\n2017-02-24  Tino Calancha  <tino.calancha@gmail.com>\n\n\tDocumentation fix in elisp reference manual\n\n\t* doc/lispref/macros.texi (Defining Macros): Drop redundant mention\n\ton 'declare' forms (Bug#25846).\n\n2017-02-24  Gemini Lasswell  <gazally@runbox.com>\n\n\tSupport read syntax for circular objects in Edebug (Bug#23660)\n\n\t* lisp/emacs-lisp/edebug.el (edebug-read-special): New name\n\tfor edebug-read-function. Handle the read syntax for circular\n\tobjects.\n\t(edebug-read-objects): New variable.\n\t(edebug-read-and-maybe-wrap-form1): Reset edebug-read-objects.\n\n\t* src/lread.c (Fsubstitute_object_in_subtree): Make\n\tsubstitute_object_in_subtree into a Lisp primitive.\n\n2017-02-24  Lixin Chin  <lixinchin@gmail.com>  (tiny change)\n\n\tAdd Conference to the list of valid bibtex entry types\n\n\t* lisp/textmodes/bibtex.el (bibtex-BibTeX-entry-alist):\n\tAdd Conference as a duplicate of InProceedings.  (Bug#25143)\n\n2017-02-23  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/comint.el (comint-password-prompt-regexp): Add SUDO. (Bug#24817)\n\n2017-02-23  Glenn Morris  <rgm@gnu.org>\n\n\tSmall dunnet score file improvements\n\n\t* lisp/play/dunnet.el (dun-log-file): Switch to per-user default.\n\t(dun-do-logfile): Handle non-existing score file.\n\n2017-02-23  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/play/dunnet.el (dun-help): Doc fix.\n\n2017-02-23  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tDeclare dun-line and dun-line-list\n\n\tPreviously, there were free variables 'line' and 'line-list'.\n\t* lisp/play/dunnet.el (dun-line, dun-line-list): New variables.\n\t(dun-press, dun-vparse, dun-parse2, dun-unix-parse, dun-batch-parse):\n\t(dun-batch-parse2, dun-batch-loop, dun-batch-dos-interface):\n\t(dun-batch-unix-interface): Use them.\n\n2017-02-23  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from gnulib\n\n\tThis incorporates:\n\t2017-02-16 xbinary-io: rename from xsetmode\n\t2017-02-15 xsetmode: new module\n\t* lib-src/etags.c (main):\n\t* lib-src/hexl.c (main):\n\t* src/emacs.c (main) [MSDOS]:\n\tPrefer set_binary_mode to the obsolescent SET_BINARY.\n\t* lib/binary-io.c, lib/binary-io.h: Copy from gnulib.\n\n2017-02-23  Paul Eggert  <eggert@cs.ucla.edu>\n\n\thexl: handle large files and I/O errors\n\n\t* lib-src/hexl.c: Include inttypes.h, for PRIxMAX etc.\n\tDo not include ctype.h, as the code no longer uses isdigit.\n\t(DEFAULT_GROUPING, un_flag, iso_flag, group_by): Now local to \u2018main\u2019.\n\t(DEFAULT_BASE, endian): Remove; was not really used.\n\t(usage): Remove; now done by \u2018main\u2019, as that\u2019s simpler.\n\t(progname): Now static.\n\t(output_error, hexchar): New functions.\n\t(main): Use them.  Simplify.  Remove \"-oct\", \"-big-endian\", and\n\t\"-little-endian\" options, as they did not work and were not used.\n\tUse SET_BINARY only on stdin, and fopen with \"rb\" otherwise.\n\tUse SET_BINARY only once on stdout.\n\tDo not assume file offsets fit in \u2018long\u2019.\n\tIf an I/O error occurs, report it and exit with nonzero status.\n\n2017-02-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid quitting inside a critical section on MS-Windows\n\n\t* src/w32uniscribe.c (uniscribe_list_family):\n\t* src/w32font.c (w32font_list_family, w32font_text_extents)\n\t(w32font_list_internal, w32font_match_internal)\n\t(list_all_matching_fonts): Prevent quitting while these functions\n\tcons lists of fonts, to avoid leaving the critical section taken\n\tby the main thread, which will then cause any other thread\n\tattempting to enter the critical section to hang.  (Bug#25279)\n\n2017-02-22  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tUse revision-completion-table in vc-retrieve-tag\n\n\t* lisp/vc/vc.el (vc-retrieve-tag): Use the\n\trevision-completion-table command for completion (bug#25710).\n\n2017-02-22  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/cl-generic.el (cl--generic-typeof-types): Add `atom'\n\n\tremove entries whose car can't be returned by type-of.\n\t(cl--generic-all-builtin-types): New var.\n\t(cl-generic-generalizers): Use it to avoid requiring\n\textra entries in cl--generic-typeof-types.\n\n2017-02-22  Noam Postavsky  <npostavs@gmail.com>\n\n\tFind macro binding for symbol-bound macros too (Bug#6848)\n\n\tThere are 2 ways to bind a macro: with global-set-key or\n\tkmacro-bind-to-key.  The former binds a key to a symbol, while the\n\tlatter binds to a lambda.  In 2010-03-03 \"Fix keyboard macro key\n\tlookup (Bug#5481)\", `insert-kbd-macro' was fixed to detect the lambda\n\tcase, but broke the symbol case.\n\n\t* lisp/macros.el (insert-kbd-macro): Also check for bindings of\n\tMACRONAME.\n\n2017-02-22  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/cl-generic.el (cl-defgeneric): Fix last change\n\n2017-02-22  Juri Linkov  <juri@linkov.net>\n\n\t* lisp/isearch.el (lazy-highlight-max-at-a-time): Doc fix (bug#21092).\n\n2017-02-22  Juri Linkov  <juri@linkov.net>\n\n\t* lisp/isearch.el (isearch-lazy-highlight): New choice \u2018all-windows\u2019.\n\n\t(isearch-lazy-highlight-update): Check it to decide whether to apply\n\toverlays only on the selected window.\n\n\t* lisp/follow.el (follow-mode): Set isearch-lazy-highlight to \u2018all-windows\u2019.\n\t(Bug#17453, bug#21092)\n\n2017-02-22  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMinor weak hash table performance tweaks\n\n\t* src/fns.c (make_hash_table): Omit unnecessary assignment to\n\th->next_weak when the hash table is not weak.\n\t(copy_hash_table): Put the copy next to the original in the\n\tweak_hash_tables list, as this should have better locality\n\twhen scanning the weak hash tables.\n\n2017-02-22  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tUse float instead of Lisp_Object for rehash_size\n\n\t* src/alloc.c (purecopy_hash_table):\n\t* src/fns.c (maybe_resize_hash_table, Fmake_hash_table):\n\t(Fhash_table_rehash_size):\n\t* src/lisp.h (struct Lisp_Hash_Table.rehash_size):\n\tThe rehash_size member of struct Lisp_Hash_Table is now a\n\tfloat, not a Lisp_Object.\n\t* src/alloc.c (purecopy_hash_table): Assign members in order.\n\t* src/fns.c (make_hash_table): Use EMACS_INT for size and\n\tfloat for rehash_size, instead of Lisp_Object for both.\n\tAll callers changed.\n\t* src/lisp.h (DEFAULT_REHASH_SIZE): Now float, not double,\n\tand 1 smaller.\n\t* src/print.c (print_object): Simplify by calling\n\tFhash_table_rehash_size and Fhash_table_rehash_threshold.\n\tAvoid unnecessary NILP.\n\n2017-02-22  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tUse ptrdiff_t instead of Lisp_Object for collision\n\n\t* src/alloc.c (purecopy_hash_table): Assign, don\u2019t purecopy.\n\t* src/fns.c (set_hash_next_slot, set_hash_index_slot): Hash index\n\targ is now ptrdiff_t index (or -1 if empty), not Lisp_Object\n\tinteger (or Qnil if empty).  All callers changed.\n\t(larger_vecalloc): New static function.\n\t(larger_vector): Use it.\n\t(HASH_NEXT, HASH_INDEX): Move here from lisp.h.  Return ptrdiff_t\n\tindex (or -1) not Lisp_Object integer (or Qnil).  All callers changed.\n\t* src/fns.c (make_hash_table, maybe_resize_hash_table, hash_lookup)\n\t(hash_put, hash_remove_from_table, hash_clear, sweep_weak_table):\n\t* src/profiler.c (evict_lower_half, record_backtrace):\n\t-1, not nil, is now the convention for end of collision list.\n\t* src/fns.c (maybe_resize_hash_table): Avoid double-initialization\n\tof the free list.  Reallocate H->next last, in case other\n\treallocations exhaust memory.\n\t* src/lisp.h (struct Lisp_Hash_Table): \u2018next_free\u2019 is now\n\tptrdiff_t, not Lisp_Object.  Adjust commentary for \u2018next\u2019 and\n\t\u2018index\u2019, which no longer contain nil.\n\t(HASH_NEXT, HASH_INDEX): Move to src/fns.c.\n\n2017-02-22  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tHash table threshold is now float, not double\n\n\tChange default from 0.8 to 0.8125 so it fits in float without\n\trounding glitches.\n\t* doc/lispref/hash.texi (Creating Hash):\n\t* doc/lispref/objects.texi (Hash Table Type):\n\t* etc/NEWS:\n\tDocument change.\n\t* src/fns.c (make_hash_table, maybe_resize_hash_table)\n\t(Fmake_hash_table): Threshold is now float, not double.\n\tBe consistent about how this is rounded.\n\t* src/lisp.h (struct Lisp_Hash_Table.rehash_threshold):\n\tChange back to float, now that the other code rounds consistently.\n\t(DEFAULT_REHASH_THRESHOLD): Now float 0.8125 instead of double 0.8.\n\n2017-02-22  Juri Linkov  <juri@linkov.net>\n\n\tAvoid flicker in lazy-highlight by doing all updates without redisplay.\n\n\t* lisp/isearch.el (lazy-highlight-max-at-a-time):\n\tChange default value from 20 to nil to not trigger redisplay\n\tbetween updating iterations.\n\t(lazy-highlight-cleanup): New arg \u2018procrastinate\u2019 to not remove\n\toverlays when non-nil.\n\t(isearch-lazy-highlight-new-loop): Call lazy-highlight-cleanup\n\twith non-nil second arg when the search string is not empty.\n\tRun timer with isearch-lazy-highlight-start instead of\n\tisearch-lazy-highlight-update.\n\t(isearch-lazy-highlight-start): New function. (Bug#25751)\n\n2017-02-21  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/autoload.el (make-autoload): Support cl-defgeneric\n\n\t* lisp/emacs-lisp/cl-generic.el (cl-defgeneric): Tweak for autoloading.\n\n2017-02-21  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/cl-preloaded.el (cl-struct-define): Fix duplication\n\n\twhich resulted in incomplete list of parents in one copy of the\n\tcl-structure-class class.\n\n2017-02-21  Glenn Morris  <rgm@gnu.org>\n\n\tTweak recent custom-reevaluate-setting change\n\n\t* lisp/custom.el (custom-reevaluate-setting):\n\tTweak previous change to avoid font-lock init issues.\n\n2017-02-21  Glenn Morris  <rgm@gnu.org>\n\n\tEnsure delayed-init custom variables get marked special\n\n\t* lisp/custom.el (custom-reevaluate-setting):\n\tIf the variable has never been set, defvar it.  (Bug#25770)\n\n2017-02-21  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tTurn on lexical-binding in dunnet.el\n\n\t* lisp/play/dunnet.el: Turn on lexical-binding.  Re-instate lexical\n\tbyte compile warnings.\n\n2017-02-21  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tMake dunnet insertion functions n-ary\n\n\t* lisp/play/dunnet.el (dun-mprinc, dun-mprincl, dun-minsert):\n\t(dun-minsertl, dun-batch-mprinc, dun-batch-mprincl): Change to accept\n\tany number of arguments.\n\t(dun-parse, dun-describe-room, dun-quit, dun-inven, dun-shake):\n\t(dun-take, dun-go, dun-move, dun-press, dun-score):\n\t(dun-compile-save-out, dun-do-logfile): Collect arguments from\n\tmultiple insertion calls into less calls with more args.\n\n2017-02-21  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\tmessage-goto-body-1: Fix regexp so as not to match multi-line\n\n\t* lisp/gnus/message.el (message-goto-body-1):\n\tFix regexp so as not to match multi-line.\n\n2017-02-20  Noam Postavsky  <npostavs@gmail.com>\n\n\tSimplify cl-get using `plist-member'\n\n\t* lisp/emacs-lisp/cl-extra.el (cl-get, cl-getf, cl--set-getf): Use\n\t`plist-member' instead of explicit loop.\n\t* test/lisp/emacs-lisp/cl-extra-tests.el: New tests.\n\n2017-02-20  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tVerify xwidget USE_LSB_TAG assumption\n\n\t* src/xwidget.c (Fxwidget_webkit_execute_script):\n\tAdd verification.  Problem reported by Andreas Schwab (Bug#25816#8).\n\n2017-02-20  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* src/insdel.c (make_gap): Improve comment.\n\n2017-02-20  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tDo not use switch-to-buffer for working in a temp buffer\n\n\t* lisp/play/dunnet.el (dunnet): Use pop-to-buffer-same-window instead,\n\tcf. Bug#22244.\n\t(dun-load-d, dun-eval, dun-save-game, dun-do-logfile): Use\n\twith-temp-buffer instead.\n\n2017-02-20  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tMake dun-room-shorts a defconst\n\n\t* lisp/play/dunnet.el (dun-room-shorts): Make defconst and collect\n\tinitial value into the declaration.\n\t(dun-space-to-hyphen): Remove.\n\n2017-02-20  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort xwidget to -DCHECK_LISP_OBJECT_TYPE\n\n\t* src/xwidget.c (webkit_javascript_finished_cb)\n\t(Fxwidget_webkit_execute_script): Don't assume Lisp_Object is an\n\tinteger.  This fix is just a hack; I\u2019ll file a bug report about\n\tthe underlying problem.\n\n2017-02-20  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\tmm-decode.el: Simplify regexp used to search html meta tag\n\n\t* lisp/gnus/mm-decode.el (mm-add-meta-html-tag, mm-shr):\n\tSimplify regexp used to search html meta tag.\n\n2017-02-20  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\tmm-shr: Ignore coding-system `ascii'\n\n\t* lisp/gnus/mm-decode.el (mm-shr): Ignore coding-system `ascii'.\n\n2017-02-20  Tom Tromey  <tom@tromey.com>\n\n\tvc-log-outgoing fixes for git; add binding to vc-dir\n\n\t* lisp/vc/vc-dir.el (vc-dir-mode-map): Bind \"O\" to vc-log-outgoing.\n\t* lisp/vc/vc-git.el (vc-git-log-outgoing, vc-git-log-incoming): Use\n\tasync execution.\n\t(vc-git-log-view-mode): Also truncate lines for log-outgoing and\n\tlog-incoming.\n\t* lisp/vc/vc.el (vc-log-incoming, vc-log-outgoing): Don't pass nil\n\tas remote-location argument.\n\n2017-02-20  Tom Tromey  <tom@tromey.com>\n\n\tRemove stale comments from vc-git and vc-hg\n\n\t* lisp/vc/vc-git.el (vc-git-retrieve-tag): Remove comment.\n\t* lisp/vc/vc-hg.el (vc-hg-retrieve-tag): Remove comment.\n\n2017-02-20  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tRemove member clone\n\n\t* lisp/play/dunnet.el (dun-answer): Use member instead.\n\t(dun-members): Remove.\n\n2017-02-20  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tPrefix global var\n\n\t* lisp/play/dunnet.el (room): Rename to dun-room.\n\t(dun-messages, dunnet, dun-describe-room, dun-drop, dun-move):\n\t(dun-restore, dun-do-logfile, dun-batch-loop): Use new name.\n\n2017-02-20  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tReplace nested ifs with cond\n\n\t* lisp/play/dunnet.el (dun-messages, dun-describe-room, dun-examine):\n\t(dun-eat, dun-put-objs, dun-turn, dun-press, dun-ls, dun-cd): Use when\n\tand cond where appropriate.\n\t(dun-sauna-heat): Accept sauna level as an argument.  Use cond.\n\t(dun-take): Use null and dun-mprincl.\n\t(dun-inven-weight, dun-load-d): Reformat.\n\t(dun-remove-obj-from-inven, dun-remove-obj-from-room): Nix setq to nil.\n\n2017-02-19  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix glitches in recent hash table changes\n\n\t* src/fns.c (Fmake_hash_table): Simplify the machine code slightly\n\tby using 0 rather than -1.\n\t* src/lisp.h (struct Lisp_Hash_Table.pure): Now bool rather\n\tthan a bitfield, for speed (the bitfield did not save space).\n\t(struct Lisp_Hash_Table.rehash_threshold): Now double rather than\n\tfloat, since the float caused unwanted rounding errors, e.g.,\n\t(hash-table-rehash-threshold (make-hash-table)) yielded\n\t0.800000011920929 instead of the correct 0.8.\n\n2017-02-19  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* src/insdel.c (make_gap): Increase enough to avoid O(N^2) behavior.\n\n2017-02-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid aborts during loadup\n\n\t* src/emacs-module.c (syms_of_module):\n\t* src/image.c (xpm_make_color_table_h): Update calls to\n\tmake_hash_table to adjust to a recent change in fns.c.\n\t* src/fns.c (make_hash_table):\n\t* src/lisp.h (make_hash_table): 4th arg is now of type double.\n\n2017-02-19  Michael Albinus  <michael.albinus@gmx.de>\n\n\tRework connection local variables\n\n\tFor connection local variables interface, `class' is renamed\n\tto `profile'.  All arguments `criteria' are a plist now.\n\n\t* doc/lispref/variables.texi (Connection Local Variables):\n\tRewrite.\n\n\t* lisp/files-x.el (connection-local-profile-alist): Rename\n\tfrom `connection-local-class-alist'.  Adapt docstring.\n\t(connection-local-criteria-alist): Adapt docstring.\n\t(connection-local-normalize-criteria): New defun.\n\t(connection-local-get-profiles): Rename from\n\t`connection-local-get-classes'.  Rewrite.\n\t(connection-local-set-profiles): Rename from\n\t`connection-local-set-classes'.  Rewrite.\n\t(connection-local-get-profile-variables): Rename from\n\t`connection-local-get-class-variables'.  Rewrite.\n\t(connection-local-set-profile-variables): Rename from\n\t`connection-local-set-class-variables'.  Rewrite.\n\t(hack-connection-local-variables)\n\t(hack-connection-local-variables-apply)): Rewrite.\n\t(with-connection-local-profiles): Rename from\n\t`ith-connection-local-classes'.  Rewrite.\n\n\t* lisp/net/tramp.el (tramp-set-connection-local-variables):\n\tCompute criteria.\n\n\t* lisp/net/tramp-cmds.el (tramp-bug):\n\tUse `connection-local-profile-alist'.\n\n\t* test/lisp/files-x-tests.el (files-x-test--variables1)\n\t(files-x-test--variables2, files-x-test--variables3)\n\t(files-x-test--variables4, files-x-test--criteria1)\n\t(files-x-test--criteria2): Make them a defconst.\n\t(files-x-test--application)\n\t(files-x-test--another-application, files-x-test--protocol)\n\t(files-x-test--user, files-x-test--machine): New defconst.\n\t(files-x-test--criteria): New defvar.\n\t(files-x-test--criteria3): Remove.\n\t(files-x-test-connection-local-set-profile-variables):\n\tRename from `files-x-test-connection-local-set-class-variables'.\n\tRewrite.\n\t(files-x-test-connection-local-set-profiles): Rename from\n\t`files-x-test-connection-local-set-classes'.  Rewrite.\n\t(files-x-test-hack-connection-local-variables-apply)  Rewrite.\n\t(files-x-test-with-connection-local-profiles): Rename from\n\t`files-x-test-with-connection-local-classes'.  Rewrite.\n\n2017-02-19  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tSet up combination and random item location\n\n\t* lisp/play/dunnet.el (dun-combination): Make defconst.\n\t(tloc, tcomb): Remove.  Replace with a top-level form.\n\n2017-02-19  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tReplace movement variables with an alist and accessor\n\n\t* lisp/play/dunnet.el (north, south, east, west, northeast, southeast):\n\t(northwest, southwest, up, down, in, out): Remove.\n\t(dun-movement-alist): New constant.\n\t(dun-movement): New function.\n\t(dun-n, dun-s, dun-e, dun-w, dun-ne, dun-se, dun-nw, dun-sw, dun-up):\n\t(dun-down, dun-in, dun-out): Use a symbol for indicating movement.\n\t(dun-move, dun-special-move): Translate movement symbol to an\n\tenumeration.\n\n2017-02-19  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tChange top-level setq forms to defvar or defconst\n\n\tAlso collect some code onto fewer lines and reindent.\n\t* lisp/play/dunnet.el (dun-visited, dun-current-room, dun-exitf):\n\t(dun-badcd, dun-computer, dun-floppy, dun-key-level, dun-hole):\n\t(dun-correct-answer, dun-lastdir, dun-numsaves, dun-jar, dun-dead):\n\t(room, dun-numcmds, dun-wizard, dun-endgame-question, dun-logged-in):\n\t(dungeon-mode, dun-unix-verbs, dun-dos-verbs, dun-batch-mode):\n\t(dun-cdpath, dun-cdroom, dun-uncompressed, dun-ethernet):\n\t(dun-restricted, dun-ftptype, dun-endgame, dun-rooms):\n\t(dun-light-rooms, dun-verblist, dun-inbus, dun-nomail, dun-ignore):\n\t(dun-mode, dun-sauna-level, north, south, east, west, northeast):\n\t(southeast, northwest, southwest, up, down, in, out, dungeon-map):\n\t(dun-objnames, obj-special, dun-room-objects, dun-room-silents):\n\t(dun-inventory, dun-objects, dun-object-lbs, dun-object-pts):\n\t(dun-objfiles, dun-perm-objects, dun-physobj-desc, dun-permobj-desc):\n\t(dun-diggables, dun-room-shorts, dun-endgame-questions): Change\n\tdeclaration to use defvar or defconst.\n\t(dun-doverb, dun-vparse, dun-vparse2, dun-batch-parse):\n\t(dun-batch-parse2): Omit the dun- prefix from arguments dun-ignore\n\tdun-verblist.  Those are now constants and the byte compiler doesn't\n\tallow defconsts in lambda lists.\n\n2017-02-19  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tMove all dunnet globals up to the top\n\n\t* lisp/play/dunnet.el: Adjust comments to reflect moved forms.\n\t(dun-visited, dun-current-room, dun-exitf):\n\t(dun-badcd, dun-computer, dun-floppy, dun-key-level, dun-hole):\n\t(dun-correct-answer, dun-lastdir, dun-numsaves, dun-jar, dun-dead):\n\t(room, dun-numcmds, dun-wizard, dun-endgame-question, dun-logged-in):\n\t(dungeon-mode, dun-unix-verbs, dun-dos-verbs, dun-batch-mode):\n\t(dun-cdpath, dun-cdroom, dun-uncompressed, dun-ethernet):\n\t(dun-restricted, dun-ftptype, dun-endgame, dun-rooms):\n\t(dun-light-rooms, dun-verblist, dun-inbus, dun-nomail, dun-ignore):\n\t(dun-mode, dun-sauna-level, north, south, east, west, northeast):\n\t(southeast, northwest, southwest, up, down, in, out, dungeon-map):\n\t(dun-objnames, obj-special, dun-room-objects, dun-room-silents):\n\t(dun-inventory, dun-objects, dun-object-lbs, dun-object-pts):\n\t(dun-objfiles, dun-perm-objects, dun-physobj-desc, dun-permobj-desc):\n\t(dun-diggables, dun-room-shorts, dun-endgame-questions): Move to the\n\ttop of the file, before any uses.\n\n2017-02-19  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix bug#25788\n\n\t* lisp/net/tramp.el (tramp-autoload-file-name-handler):\n\tDo not load tramp.el just for \"/\".  (Bug#25788)\n\n2017-02-19  YAMAMOTO Mitsuharu  <mituharu@math.s.chiba-u.ac.jp>\n\n\tFix fringe bitmap initialization on MS-Windows\n\n\t* src/fringe.c (init_fringe_bitmap) [HAVE_NTGUI]: Fix initialization\n\tof fb->bits.  (Bug#25673)\n\n2017-02-19  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tChange type of `rehash_threshold' and `pure' fields in hash-tables\n\n\t* src/lisp.h (struct Lisp_Hash_Table): Change type of\n\t`rehash_threshold' and `pure' fields and move them after `count'.\n\t* src/fns.c (make_hash_table): Change type of `rehash_threshold' and `pure'.\n\t(Fmake_hash_table, Fhash_table_rehash_threshold):\n\t* src/category.c (hash_get_category_set):\n\t* src/xterm.c (syms_of_xterm):\n\t* src/profiler.c (make_log):\n\t* src/print.c (print_object):\n\t* src/alloc.c (purecopy_hash_table, purecopy): Adjust accordingly.\n\n2017-02-19  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tUse 'char *FOO' instead of 'char* FOO'\n\n2017-02-19  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tMore json.el changes\n\n\t* lisp/json.el (json-read-keyword, json-read-number, json-read-object):\n\t(json-read-array): Just use = for char comparison.\n\n2017-02-18  Noam Postavsky  <npostavs@gmail.com>\n\n\t* lisp/woman.el (woman): Fix docstring prefix arg description.\n\n2017-02-18  Alan Mackenzie  <acm@muc.de>\n\n\tFix edebug-spec on c-lang-defvar.\n\n\tThis allows c-lang-defvars with the symbol 'dont-doc in the place of the\n\toptional documentation to be instrumented for edebug.\n\n\tlisp/progmodes/cc-langs.el (top-level): Amend the edebug-spec for\n\tc-lang-defvar.\n\t(c-opt-identifier-concat-key, c-decl-prefix-or-start-re): remove redundant\n\t'dont-doc.\n\n2017-02-18  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tLists used as plists now have to be an even length\n\n\t* lisp/net/eww.el (eww-size-text-inputs): `eww-form' isn't a plist.\n\t(eww-process-text-input): Not here, either.\n\n2017-02-18  Michael Albinus  <michael.albinus@gmx.de>\n\n\tUnset `non-essential' in Tramp when not needed anymore\n\n\t* doc/misc/trampver.texi:\n\t* lisp/net/trampver.el: Change version to \"2.3.2-pre\".\n\n\t* lisp/net/tramp-sh.el (tramp-maybe-open-connection):\n\tUse `tramp-completion-mode-p'.\n\n\t* lisp/net/tramp.el (tramp-file-name-handler): Unset `non-essential'\n\twhen file name doesn't match `tramp-completion-file-name-regexp'.\n\n2017-02-18  Eli Zaretskii  <eliz@gnu.org>\n\n\tAutomatically regenerate emacs.1 and *.rc files\n\n\t* Makefile.in (CONFIG_STATUS_FILES_IN): New variable, lists\n\tnon-Makefile files produced by config.status.\n\t($(MAKEFILE_NAME)): Depend on $(CONFIG_STATUS_FILES_IN), so that\n\ttheir targets are regenerated when the source changes.\n\n2017-02-18  Alan Mackenzie  <acm@muc.de>\n\n\tSet the syntax table in AWK Mode.\n\n\tThis is a partial reversion of CC Mode commit on 2016-05-09 17:49:45 +0000.\n\tIt fixes bug #25722.\n\n\tlisp/progmodes/cc-mode.el (awk-mode): Explicitly set the syntax table.\n\n2017-02-18  Eli Zaretskii  <eliz@gnu.org>\n\n\tMention \"editor\" in Emacs man page header\n\n\t* doc/man/emacs.1.in: Mention \"editor\" in the header line.\n\t(Bug#25771, Bug#25779)\n\n2017-02-18  G\u00f6ktu\u011f Kayaalp  <self@gkayaalp.com>\n\n\tFix Turkish language environment setup\n\n\t* lisp/language/european.el (\"Turkish\"): Fix a typo in Turkish\n\tlanguage setup.  (Bug#25763)\n\n2017-02-18  Rami Ylim\u00e4ki  <rami.ylimaki@vincit.fi>\n\n\tSupport 24-bit direct colors on text terminals\n\n\t* src/term.c (init_tty): Use 24-bit terminal colors if corresponding\n\tforeground and background functions are present in terminal type\n\tdefinition.\n\t* src/tparam.h: Define prototype for tigetstr.\n\n\t* lisp/term/tty-colors.el (tty-color-define): Convert color palette\n\tindex to pixel value on 16.7M color terminals.\n\t(tty-color-24bit): New function to convert color palette index to\n\tpixel value on 16.7M color terminals.\n\t(tty-color-desc): Don't approximate colors on 16.7M color terminals.\n\t* lisp/term/xterm.el (xterm-register-default-colors): Define all named\n\tTTY colors on 16.7M color terminals.\n\n\t* doc/misc/efaq.texi (Colors on a TTY): Add instructions on how to\n\tenable direct color TTY mode.\n\t* etc/NEWS: Mention direct color TTY mode and point to FAQ.\n\n2017-02-18  Rami Ylim\u00e4ki  <rami.ylimaki@vincit.fi>\n\n\tRemove unused TN_max_pairs field\n\n\t* src/termchar.h (tty_display_info): Remove TN_max_pairs field,\n\tdescribing maximum number of terminal background/foreground color pairs.\n\t* src/term.c (tty_default_color_capabilities, tty_setup_colors)\n\t(init_tty): Remove references to TN_max_pairs.\n\n2017-02-18  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of query-replace-from-to-separator\n\n\t* doc/emacs/search.texi (Query Replace): Document the meaning of\n\tthe nil value of query-replace-from-to-separator.  (Bug#25482)\n\n2017-02-18  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument problems with nerd-fonts\n\n\t* etc/PROBLEMS (fonts): Describe the potential problems with\n\tnerd-fonts that cause slow display.  (Bug#25697)\n\n2017-02-18  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove commentary for a recent change in keyboard.c\n\n\t* src/keyboard.c (Fset__this_command_keys): Add a comment about\n\tthe magic 248 value.  (Bug#25612)\n\n2017-02-18  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid infloop in rect.el\n\n\t* lisp/rect.el (rectangle--*-char): Avoid inflooping when called\n\twith argument N whose absolute value is greater than 1.  (Bug#25773)\n\n2017-02-18  Eli Zaretskii  <eliz@gnu.org>\n\n\tRemove annoying warnings about let-binding\n\n\t* src/data.c (Fmake_variable_buffer_local, Fmake_local_variable):\n\tRemove warnings about making symbols local while let-bound.\n\t(Bug#25561)\n\n2017-02-18  Hong Xu  <hong@topbug.net>\n\n\tAvoid errors when flyspell-generic-check-word-predicate is a lambda.\n\n\t* lisp/textmodes/flyspell.el (flyspell-auto-correct-word, flyspell-word): Apply\n\tfunctionp instead of fboundp on\n\tflyspell-generic-check-word-predicate (Bug#25765).\n\n2017-02-18  Glenn Morris  <rgm@gnu.org>\n\n\tRemove the build number from emacs-version variable\n\n\tIt's a largely internal detail that can confuse users.  (Bug#25590)\n\t* lisp/version.el (emacs-build-number): New constant.\n\t(emacs-version): Use emacs-build-number.\n\t* lisp/loadup.el (top-level): When dumping, increment\n\temacs-build-number rather than emacs-version.\n\t* src/emacs.c (emacs-version): Doc fix.\n\t* doc/lispref/intro.texi (Version Info): Update emacs-version details.\n\tMention emacs-build-number.\n\t* lisp/gnus/gnus-util.el (gnus-emacs-version):\n\t* lisp/mail/emacsbug.el (report-emacs-bug):\n\t* admin/admin.el (set-version): Update for emacs-version change.\n\n2017-02-18  Glenn Morris  <rgm@gnu.org>\n\n\tEnsure that user-mail-address always has a value\n\n\t* lisp/startup.el (user-mail-address): Initialize in the normal way.\n\t(command-line): Reset user-mail-address if needed using\n\tstandard custom machinery.\n\t* lisp/mail/feedmail.el (feedmail-fiddle-from):\n\t* lisp/mail/rmail.el (rmail-unknown-mail-followup-to):\n\t* lisp/mail/rmailsum.el (rmail-header-summary):\n\tSimplify now that user-mail-address is always set.\n\n2017-02-18  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tTurn on lexical-binding in ruby-mode\n\n\t* lisp/progmodes/ruby-mode.el: Turn on lexical-binding.\n\t(ruby-font-lock-syntax-table): Use make-syntax-table.\n\t(ruby-mode): 'define-derived-mode' writes the keys for us.\n\n2017-02-18  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tTurn on lexical-binding in elint.el\n\n\t* lisp/emacs-lisp/elint.el: Quote entry point commands in commentary.\n\t(elint-running, elint-current-pos): Move these dynamic vars to toward\n\tthe top of the file.\n\t(elint-check-quote-form): Ignore unused argument.\n\t(elint-check-conditional-form): Remove unused binding.\n\n2017-02-18  Gemini Lasswell  <gazally@runbox.com>\n\n\t* lisp/emacs-lisp/subr-x.el (if-let*): Fix Edebug spec (Bug#24748)\n\n2017-02-18  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tEnable erc-accidental-paste-threshold-seconds by default\n\n\t* lisp/erc/erc.el (erc-accidental-paste-threshold-seconds): Set\n\tdefault to 0.2 (Bug#25709).\n\n2017-02-17  Michal Nazarewicz  <mina86@mina86.com>\n\n\tFix build failure caused by \u2018Generate upcase and downcase tables from Unicode\u2019\n\n\tThe [5ec3a584: Generate upcase and downcase tables from Unicode data]\n\tcommit broke bootstrap from a truly clean tree (e.g. a fresh clone or\n\tone created with \u2018make extraclean\u2019), see\n\t<http://hydra.nixos.org/build/48774928>.\n\n\tThe failure was caused by characters.el trying to read Unicode\n\tproperty tables which aren\u2019t available so early in the build process.\n\n\tWrap the part that requires Unicode property tables in a condition\n\tchecking if those are available.  If they aren\u2019t they case and syntax\n\ttables won\u2019t be fully set but later on, the characters.el file will be\n\tevaluated again and this time with Unicode properties available so\n\tfinal Emacs ends up with the exact same case and syntax tables.\n\n2017-02-17  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\tmm-add-meta-html-tag: Improve regexp\n\n\t* lisp/gnus/mm-decode.el (mm-add-meta-html-tag):\n\tImprove regexp to search html meta tag.\n\n2017-02-17  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\tmm-shr: Prefer charset specified in html meta tag\n\n\t* lisp/gnus/mm-decode.el (mm-shr): Prefer charset specified in html\n\tmeta tag than mail-parse-charset in the case there is no charset spec\n\tin MIME header.\n\n2017-02-17  Glenn Morris  <rgm@gnu.org>\n\n\tStop duplicating some custom-types in message.el\n\n\t* lisp/gnus/message.el (user-mail-address, user-full-name):\n\tNo need to re-specify custom-type.\n\n2017-02-17  Glenn Morris  <rgm@gnu.org>\n\n\tWhitespace trivia in dunnet.el\n\n\t* lisp/play/dunnet.el (dun-special-object, dun-put-objs)\n\t(dun-rlogin-endgame): Whitespace trivia.\n\n2017-02-17  Glenn Morris  <rgm@gnu.org>\n\n\tExplicit error on changing case of negative integers\n\n\t* src/casefiddle.c (casify_object): Reject negative integers:\n\tEmacs characters are positive integers.  (Bug#25684)\n\n2017-02-17  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tFix buffers update in vc-retrieve-tag\n\n\t* lisp/vc/vc.el (vc-retrieve-tag): When the granularity is\n\t`repository', use the repository root and pass it to\n\tvc-resynch-buffer (bug#25714).\n\n2017-02-16  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* src/buffer.h: Fix indenting.\n\n2017-02-16  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tAdd sanity checks for Bswitch hash tables\n\n\t* src/bytecode.c (exec_byte_code) [BYTE_CODE_SAFE]:\n\tCheck that operand is a hash table and hashes to ints.\n\n2017-02-16  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* src/keyboard.c (read_key_sequence): Fix integer-overflow glitch.\n\n2017-02-16  Vibhav Pant  <vibhavp@gmail.com>\n\n\tbytecomp.el: Avoid unnecessary calculation for jump table addresses.\n\n\t* lisp/emacs-lisp/bytecomp.el (byte-compile-lapcode): Don't do\n\t  redundant operations while calculating the correct jump addresses\n\t  from TAGs in jump tables.\n\n2017-02-16  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tMinor changes in json.el\n\n\t* lisp/json.el (json-advance): Simpler docstring.\n\t(json-read-escaped-char): Use xdigit subform in rx expression.\n\t(json-read-string): Just use = for char comparison.\n\n2017-02-16  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tDon't expand body inside a let-binding when there are no bindings\n\n\t* lisp/emacs-lisp/pcase.el (pcase-codegen): Only let-bind if VARS\n\tis non-nil.\n\n2017-02-16  Glenn Morris  <rgm@gnu.org>\n\n\tHandle user-mail-address being the empty string\n\n\t* lisp/mail/feedmail.el (feedmail-fiddle-from):\n\t* lisp/mail/rmail.el (rmail-unknown-mail-followup-to):\n\t* lisp/mail/rmailsum.el (rmail-header-summary):\n\tBelated update for 2002-09-29 startup.el change, 680ebfa, where\n\tthe value of user-mail-address during initialization was changed\n\tfrom nil to the empty string.\n\n2017-02-15  Michael Albinus  <michael.albinus@gmx.de>\n\n\tContinue to fix bug#25607\n\n\t* lisp/ido.el (ido-complete): Let-bind `non-essential' to nil.\n\t(ido-file-name-all-completions-1): Do not bind `non-essential'.\n\n\t* lisp/net/tramp.el: (tramp-completion-file-name-handler):\n\tImprove autoloaded version.\n\t(tramp-completion-file-name-handler): Remove old compat code.\n\tCheck only for `tramp-completion-mode-p'.\n\t(tramp-completion-mode-p): Autoload.  Do not check any longer\n\tfor `last-input-event'.\n\t(tramp-completion-handle-expand-file-name): Simplify.  (Bug#25607)\n\n2017-02-15  Michal Nazarewicz  <mina86@mina86.com>\n\n\tcasing: don\u2019t assume letters are *either* upper- or lower-case  (bug#24603)\n\n\tA compatibility digraph characters, such as \u01c5, are neither upper- nor\n\tlower-case.  At the moment however, those are reported as upper-case\u00b9\n\tdespite the fact that they change when upper-cased.\n\n\tStop checking if a character is upper-case before trying to up-case it\n\tso that title-case characters are handled correctly.  This fixes one of\n\tthe issues mentioned in bug#24603.\n\n\t\u00b9 Because they change when converted to lower-case.  Notice an asymmetry\n\t  in that for a character to be considered lower-case it must not be\n\t  upper-case (plus the usual condition of changing when upper-cased).\n\n\t* src/buffer.h (upcase1): Delete.\n\t(upcase): Change to upcase character unconditionally just like downcase\n\tdoes it.  This is what upcase1 was.\n\n\t* src/casefiddle.c (casify_object, casify_region): Use upcase instead\n\tof upcase1 and don\u2019t check !uppercasep(x) before calling upcase.\n\n\t* src/keyboard.c (read_key_sequence): Don\u2019t check if uppercase(x), just\n\tdowncase(x) and see if it changed.\n\n\t* test/src/casefiddle-tests.el (casefiddle-tests--characters,\n\tcasefiddle-tests-casing): Update test cases which are now passing.\n\n2017-02-15  Michal Nazarewicz  <mina86@mina86.com>\n\n\tGenerate upcase and downcase tables from Unicode data  (bug#24603)\n\n\tUse Unicode data to generate case tables instead of mostly repeating\n\tthem in lisp code.  Do that in a way which maps \u2018Dz\u2019 (and similar)\n\tdigraph to \u2018dz\u2019 when down- and \u2018DZ\u2019 when upcasing.\n\n\thttps://debbugs.gnu.org/cgi/bugreport.cgi?msg=89;bug=24603 lists all\n\tchanges to syntax table and case tables introduced by this commit.\n\n\t* lisp/international/characters.el: Remove case-pairs defined with\n\texplicit Lisp code and instead use Unicode character properties.\n\n\t* test/src/casefiddle-tests.el (casefiddle-tests--characters,\n\tcasefiddle-tests-casing): Update test cases which are now working\n\tas they should.\n\n2017-02-15  Michal Nazarewicz  <mina86@mina86.com>\n\n\tAdd tests for casefiddle.c  (bug#24603)\n\n\tFixes cases marked FIXME upcoming in followup commits.\n\n\t* test/src/casefiddle-tests.el (casefiddle-tests-char-properties,\n\tcasefiddle-tests-case-table, casefiddle-tests-casing-character,\n\tcasefiddle-tests-casing, casefiddle-tests-casing-byte8,\n\tcasefiddle-tests-casing-byte8-with-changes): New tests.\n\t(casefiddle-tests--test-casing): New helper function for runnig\n\tsome of the tests.\n\n2017-02-15  Michal Nazarewicz  <mina86@mina86.com>\n\n\toldXMenu: add missing #include <string.h>\n\n\tSome of the files in oldXMenu use functions from string.h without\n\tincluding that header which results in compile warnings:\n\n\t\tChgPane.c:46:5: warning: implicit declaration of function \u2018strlen\u2019\n\t\tChgPane.c:46:20: warning: incompatible implicit declaration of\n\t\t\tbuilt-in function \u2018strlen\u2019\n\t\tChgSel.c:62:2: warning: implicit declaration of function \u2018strlen\u2019\n\t\tChgSel.c:62:17: warning: incompatible implicit declaration of built-in\n\t\t\tfunction \u2018strlen\u2019\n\t\tCreate.c:220:5: warning: implicit declaration of function \u2018strcmp\u2019\n\t\tInsPane.c:65:5: warning: implicit declaration of function \u2018strlen\u2019\n\t\tInsPane.c:65:20: warning: incompatible implicit declaration of\n\t\t\tbuilt-in function \u2018strlen\u2019\n\t\tInsSel.c:68:5: warning: implicit declaration of function \u2018strlen\u2019\n\t\tInsSel.c:68:20: warning: incompatible implicit declaration of built-in\n\t\t\tfunction \u2018strlen\u2019\n\t\tInsSel.c:75:5: warning: implicit declaration of function \u2018strcmp\u2019\n\n\tAdd the necessary \u2018#include <string.h>\u2019.\n\n\toldXMenu/ChgPane.c, oldXMenu/ChgSel.c, oldXMenu/Create.c, oldXMenu/InsPane.c,\n\toldXMenu/InsSel.c: add missing #include <string.h>\n\n2017-02-15  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFixup recent rmail patch\n\n\t* lisp/mail/rmail.el (rmail-epa-decrypt): Remove unused local.\n\n2017-02-15  Richard Stallman  <rms@gnu.org>\n\n\tRmail fix\n\n\t* lisp/mail/rmail.el (rmail-epa-decrypt-1): Include the just-decrypted text\n\tas element 4 of the value.\n\t(rmail-epa-decrypt): Take the text to insert from that element.\n\n2017-02-15  Vibhav Pant  <vibhavp@gmail.com>\n\n\tbytecomp-tests.el: Store all test forms in one constant.\n\n\t* test/lisp/emacs-lisp/bytecomp-tests.el: Store all test expressions\n\tin a single constant (byte-opt-testsuite-arith-data), add new forms\n\twhich generate lapcode with adjacent/redundant tags.\n\n2017-02-15  Glenn Morris  <rgm@gnu.org>\n\n\tSmall lispref edit\n\n\t* doc/lispref/os.texi (User Identification):\n\tRemove extraneous detail about user-mail-address.\n\n2017-02-15  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\tDocument fill-separate-heterogeneous-words-with-space (bug#25685)\n\n\t* doc/lispref/text.texi (Filling):\n\tDocument fill-separate-heterogeneous-words-with-space (bug#25685).\n\n2017-02-15  Noam Postavsky  <npostavs@gmail.com>\n\n\tTest comment-multi-line = nil auto fill case too\n\n\t* test/lisp/progmodes/js-tests.el (js-mode-auto-fill): Test with\n\t`comment-multi-line' both nil and non-nil.\n\t* lisp/newcomment.el (comment-multi-line): Mark safe if it's a\n\tboolean.\n\t* etc/NEWS: Mention that `js-mode' now sets `comment-multi-line'.\n\n2017-02-15  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\tDon't delete leading and trailing space from CJK word (bug#25685)\n\n\t* lisp/textmodes/fill.el (fill-delete-newlines):\n\tDon't delete leading and trailing space from CJK word.\n\t(fill-separate-heterogeneous-words-with-space):\n\tNew user option that controls it (bug#25685).\n\n2017-02-15  Juri Linkov  <juri@linkov.net>\n\n\t\u2018M-s w RET word C-s\u2019 repeats incremental search.\n\n\t* lisp/isearch.el (isearch-new-nonincremental): New variable.\n\t(with-isearch-suspended): Bind isearch-new-nonincremental to\n\tisearch-nonincremental, and restore it afterwards.\n\t(isearch-forward-exit-minibuffer, isearch-reverse-exit-minibuffer):\n\tSet isearch-new-nonincremental to nil.  (Bug#25562)\n\n2017-02-14  Tom Tromey  <tom@tromey.com>\n\n\tMake vc-git detect conflict state for vc-dir\n\n\t* lisp/vc/vc-git.el (vc-git-dir-status-state): New struct.\n\t(vc-git-dir-status-update-file): New function.\n\t(vc-git-after-dir-status-stage, vc-git-dir-status-goto-stage): Use\n\tvc-git-dir-status-state; add 'ls-files-conflict state.\n\t(vc-git-dir-status-files): Create a vc-git-dir-status-state.\n\n2017-02-14  Vibhav Pant  <vibhavp@gmail.com>\n\n\tbyte-opt: Replace merged tags in jump tables too. (bug#25716)\n\n\t* lisp/emacs-lisp/byte-opt.el (byte-optimize-lapcode): While merging\n\t  adjacent tags, make sure that the old tag is replaced in all jump\n\t  tables, if any. This fixes the bytecode VM jumping to the wrong\n\t  address in compiled cond forms where the body of a clause was a loop\n\t  of any sort.\n\n2017-02-14  Glenn Morris  <rgm@gnu.org>\n\n\tRemove overly broad element from default mail-dont-reply-to-names\n\n\t* lisp/mail/mail-utils.el (mail-dont-reply-to):\n\tDo not include just \"user@\" in mail-dont-reply-to-names, and simplify.\n\tRef: lists.gnu.org/archive/html/help-gnu-emacs/2017-02/msg00049.html\n\t* lisp/gnus/message.el (message-dont-reply-to-names): Doc fix.\n\t* doc/misc/message.texi (Wide Reply): Tiny fix re dont-reply-to-names.\n\n2017-02-14  Juri Linkov  <juri@linkov.net>\n\n\t* etc/NEWS: Mention query-replace-from-to-separator.  (Bug#25482)\n\n2017-02-13  Arash Esbati  <arash@gnu.org>\n\n\tMatch all characters in optional argument of \\documentclass\n\n\t* lisp/textmodes/reftex.el (reftex-TeX-master-file): Match all\n\tcharacters in optional argument containing name of the main file.\n\n2017-02-13  Vibhav Pant  <vibhavp@gmail.com>\n\n\tMerge branch 'master' into feature/byte-switch\n\n2017-02-13  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\tFix non-ASCII text encoding (bug#25658)\n\n\t* lisp/gnus/mm-bodies.el (mm-encode-body):\n\tFix non-ASCII text encoding (bug#25658).\n\n2017-02-13  Vibhav Pant  <vibhavp@gmail.com>\n\n\ttest/lisp/emacs-lisp/bytecomp-tests.el: Add more tests for switch.\n\n2017-02-13  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* doc/lispref/modes.texi (Derived Modes): Make example more idiomatic\n\n2017-02-13  Glenn Morris  <rgm@gnu.org>\n\n\tFix recent bootstrap issue by moving string-to-list\n\n\t* lisp/international/mule-util.el (string-to-list, string-to-vector):\n\tMove from here...\n\t* lisp/subr.el (string-to-list, string-to-vector): ...to here.\n\tThe implementation is trivial and at least string-to-list\n\thas ended up being needed early during bootstrap.\n\n2017-02-13  Glenn Morris  <rgm@gnu.org>\n\n\tDoc fixes related to mail-host-address\n\n\t* lisp/startup.el (mail-host-address): Doc fix.\n\t* doc/lispref/os.texi (System Environment):\n\tRemove extraneous details of mail-host-address.\n\n2017-02-13  Glenn Morris  <rgm@gnu.org>\n\n\tSimplify time-stamp mail host usage\n\n\t* lisp/time-stamp.el (time-stamp-mail-host-name): Remove function.\n\t(time-stamp-string-preprocess): Handle \"h\" (mail host) directly.\n\n2017-02-13  Glenn Morris  <rgm@gnu.org>\n\n\tDoc fix for vhdl-mode re mail-host-address\n\n\t* lisp/progmodes/vhdl-mode.el (vhdl-file-header): Doc fix.\n\t(mail-host-address): Do not add to vhdl-related custom group,\n\tsince vhdl-template-replace-header-keywords doesn't use it.\n\n2017-02-13  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tSubstitute leading $HOME/ in xdg-user-dirs\n\n\t* lisp/xdg.el (xdg--substitute-home-env): New function.\n\t(xdg--user-dirs-parse-line): Use it.\n\t(xdg-user-dir): Expand ~/ in xdg-user-dirs values.\n\n2017-02-13  Mark Oteiza  <mvoteiza@udel.edu>\n\n\t* lisp/buff-menu.el: Turn on lexical-binding.\n\n2017-02-13  Juri Linkov  <juri@linkov.net>\n\n\t* lisp/replace.el (query-replace-from-to-separator): Move propertize\n\n\tand char-displayable-p test to query-replace-read-from.\n\tAdd choice nil to disable this feature.\n\t(query-replace-read-from): Don't reevaluate custom setting.\n\tUse char-displayable-p to test the first non-whitespace character\n\tin query-replace-from-to-separator, use \" -> \" when fails.\n\tAdd prompt for the case when separator is nil but\n\tquery-replace-defaults is non-nil.\n\tRemove unused test for regexp-flag.\n\tThanks to Thierry Volpiatto <thierry.volpiatto@gmail.com>\n\n2017-02-13  Karl Fogel  <kfogel@red-bean.com>\n\n\tConvert more uses of `looking-at' to `following-char'\n\n\tThis follows up to Mark Oteiza's commit of 12 Feb 2017, 14:46:03 UTC\n\t(commit 91478f46238a) with more of the same.\n\n\t* lisp/bookmark.el (bookmark-send-edited-annotation):\n\t  (bookmark-bmenu-execute-deletions): Replace instances of looking-at\n\t  with char comparisons using following-char.\n\n2017-02-12  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix typos in tests for lax-plist-get etc.\n\n\tProblem reported by Eli Zaretskii (Bug#25606#62).\n\t* test/src/fns-tests.el (test-cycle-lax-plist-get)\n\t(test-cycle-plist-put, test-cycle-lax-plist-put):\n\tFix tests to match behavior.\n\n2017-02-12  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix bug#25607\n\n\t* lisp/net/tramp.el (tramp-completion-file-name-handler):\n\tImprove autoloaded version.\n\t(tramp-autoload-file-name-handler): Avoid recursive load.\n\t(tramp-completion-handle-expand-file-name): Handle empty NAME.\n\t(Bug#25607)\n\n2017-02-12  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tRemove server-buffer-clients string from minor-mode-alist\n\n\t* lisp/server.el: Don't put an element for server-buffer-clients into\n\tminor-mode-alist. (Bug#20201)\n\n2017-02-12  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tNix some useless uses of looking-at, looking-back\n\n\t* lisp/allout.el (allout-kill-topic):\n\t(allout-next-topic-pending-encryption):\n\t* lisp/bookmark.el (bookmark-kill-line):\n\t* lisp/cus-edit.el (custom-save-variables, custom-save-faces):\n\t* lisp/cus-theme.el (custom-theme-write-variables):\n\t(custom-theme-write-faces):\n\t* lisp/emacs-lisp/autoload.el (autoload-generate-file-autoloads):\n\t* lisp/emacs-lisp/bytecomp.el (byte-compile-from-buffer):\n\t* lisp/emacs-lisp/checkdoc.el (checkdoc-interactive-loop):\n\t(checkdoc-interactive-ispell-loop):\n\t(checkdoc-message-interactive-ispell-loop, checkdoc-this-string-valid):\n\t(checkdoc-this-string-valid-engine):\n\t* lisp/emacs-lisp/elint.el (elint-get-top-forms):\n\t* lisp/emulation/viper-cmd.el (viper-backward-indent):\n\t* lisp/image-dired.el (image-dired-delete-char):\n\t* lisp/simple.el (kill-visual-line): Replace instances of looking-at,\n\tlooking-back with char comparisons using following-char, preceding-char.\n\n2017-02-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tClarify what is the \"cursor\"\n\n\t* doc/lispref/windows.texi (Window Point): Clarify the notion of\n\t\"cursor\".\n\n2017-02-11  Tom Tromey  <tom@tromey.com>\n\n\tRecognize JS regexp literals more correctly\n\n\tBug#25529\n\t* lisp/progmodes/js.el (js--syntax-propertize-regexp-regexp): New\n\tconstant.\n\t(js-syntax-propertize-regexp): Use it.  Remove \"end\" argument.\n\t(js--syntax-propertize-regexp-syntax-table): Remove.\n\t(js-syntax-propertize): Update.\n\t* test/lisp/progmodes/js-tests.el (js-mode-regexp-syntax-bug-25529):\n\tNew test.\n\n2017-02-11  Vibhav Pant  <vibhavp@gmail.com>\n\n\tsrc/bytecode.c (exec_byte_code): Make hash_code a Lisp_Object.\n\n\tThis avoids using XUINT every time while comparing it with\n\tHASH_HASH (h, i), replacing it with EQ.\n\n2017-02-11  Vibhav Pant  <vibhavp@gmail.com>\n\n\tsrc/bytecode.c (exec_byte_code): Remove unnecessary (e)assert.\n\n2017-02-11  Tom Tromey  <tom@tromey.com>\n\n\tFix bug in css--mdn-find-symbol\n\n\t* lisp/textmodes/css-mode.el (css--mdn-find-symbol): Skip whitespace\n\tbefore skipping word characters.\n\ttest/lisp/textmodes/css-mode-tests.el (css-mdn-symbol-guessing): Add\n\tregression test.\n\n2017-02-11  Vibhav Pant  <vibhavp@gmail.com>\n\n\tsrc/bytecode.c: Add optional sanity check for jump tables.\n\n\t* src/bytecode.c (exec_byte_code): When sanity checks are enabled,\n\t  check that the jump table's size is equal to it's count.\n\n2017-02-11  Vibhav Pant  <vibhavp@gmail.com>\n\n\tMerge branch 'master' into feature/byte-switch\n\n\t* src/bytecode.c: Refactor to follow GNU coding standards\n\n2017-02-11  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix handling of XBM images on MS-Windows\n\n\t* src/image.c (xbm_load) [HAVE_NTGUI]: Fix calculation of\n\t'nbytes' when inverting XBM data bits.  (Bug#25661)\n\n2017-02-11  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix handling of PBM data\n\n\t* src/image.c (pbm_load): Handle PBM data with no blanks between\n\tindividual pixel values correctly.  (Bug#25660)\n\n2017-02-10  Noam Postavsky  <npostavs@gmail.com>\n\n\tFix warnings in debug tracing code\n\n\t* src/xdisp.c (dump_glyph, dump_glyph_string):\n\t* src/xfaces.c (dump_realized_face): Cast arguments or adjust format\n\tspecifiers to match signedness.\n\n2017-02-10  Sam Steingold  <sds@gnu.org>\n\n\tExtract grep-find-ignored-directories processing from rgrep-default-command\n\n\t(rgrep-find-ignored-directories): Extract from `rgrep-default-command'.\n\tSome Emacs packages use `grep-find-ignored-directories' to ignore some\n\tdirectories, so will use this function instead of custom code.\n\t(rgrep-default-command): Use `rgrep-find-ignored-directories'.\n\n2017-02-10  Vibhav Pant  <vibhavp@gmail.com>\n\n\tsrc/bytecode.c: Avoid comparing values unnecessarily in Bswitch\n\n\t* src/bytecode.c: (exec_byte_code) While linear searching the jump\n\t  table, compare the value's hash table first to avoid calling\n\t  h->test.cmpfn every time.\n\n2017-02-10  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix a few integer-overflow glitches\n\n\t* src/composite.c (composition_compute_stop_pos, composition_reseat_it):\n\t* src/dispextern.h (struct composition_it.rule_idx):\n\t* src/keyboard.c (Fset__this_command_keys):\n\t* src/xwidget.c (webkit_js_to_lisp):\n\tDon\u2019t assume object sizes fit in \u2018int\u2019.\n\t* src/xwidget.c (Fxwidget_resize):\n\tDon\u2019t assume Emacs integers fit in \u2018int\u2019.\n\n2017-02-10  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix a bug with displaying an image after a TAB\n\n\t* src/xdisp.c (display_line): Handle TAB at end of screen line\n\tspecially only when we are displaying characters.  (Bug#25662)\n\n2017-02-10  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove commentary in lisp.h\n\n\t* src/lisp.h: Explain in the comment why enlarging a Lisp_Misc\n\tobject is discouraged.\n\n2017-02-10  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMove cyclic tests to fns-tests.el\n\n\t* test/src/fns-tests.el (cyc1, cyc2, dot1, dot2): New functions.\n\t(test-cycle-length, test-cycle-safe-length, test-cycle-member)\n\t(test-cycle-memq, test-cycle-memql, test-cycle-assq)\n\t(test-cycle-assoc, test-cycle-rassq, test-cycle-rassoc)\n\t(test-cycle-delq, test-cycle-delete, test-cycle-reverse)\n\t(test-cycle-plist-get, test-cycle-lax-plist-get)\n\t(test-cycle-plist-member, test-cycle-plist-put)\n\t(test-cycle-lax-plist-put, test-cycle-equal, test-cycle-nconc):\n\tNew tests.\n\t* test/manual/cyclic-tests.el: File deleted.\n\n2017-02-10  Gemini Lasswell  <gazally@runbox.com>\n\n\tFix instrumenting code with propertized strings in Edebug\n\n\t* lisp/emacs-lisp/edebug.el (edebug-read-function): Allow\n\t'read' to decide what is and isn't a syntax error.  (Bug#25068)\n\n2017-02-10  Vladimir Panteleev  <vladimir@thecybershadow.net>\n\n\tImprove fontification in bat-mode\n\n\t* lisp/progmodes/bat-mode.el (bat-font-lock-keywords): Match\n\tword and symbol constituents when looking for variable names\n\tto fontify; also, correct the syntax table and mark the equal\n\tsign (=) character as punctuation.  Improve fontification\n\taccuracy of iteration/positional variables.\n\t(bat-mode): Set comment-start-skip.  (Bug#25541)\n\n\t* test/lisp/progmodes/bat-mode-tests.el: New file, tests for\n\tbat-mode.el.\n\n2017-02-10  Eli Zaretskii  <eliz@gnu.org>\n\n\tRestore special setting of this-command-keys by M-x\n\n\tIt was lost when execute-extended-command was reimplemented in Lisp.\n\n\t* src/keyboard.c (Fset__this_command_keys): New function.\n\t(syms_of_keyboard): Defsubr it.\n\n\t* lisp/simple.el (execute-extended-command): Set this-command-keys\n\tas novice.el expects.  (Bug#25612)\n\n2017-02-09  Juri Linkov  <juri@linkov.net>\n\n\t* lisp/isearch.el (isearch-search-fun-default): Set isearch-adjusted\n\n\tto t to display \"Pending\" in the search prompt for lax\n\tword/symbol search (bug#25562).  Don't use lax for lazy-highlighting\n\twhen 'bound' is non-nil.\n\t(word-search-regexp, isearch-symbol-regexp): Don't depend on lax\n\tat the beginning of regexp (bug#22589).\n\n\t* lisp/info.el (Info-isearch-search):\n\tUse isearch--lax-regexp-function-p.\n\n\t* doc/emacs/search.texi (Word Search, Symbol Search):\n\tMention \"Pending\" prompt for lax word/symbol search.\n\n2017-02-09  Vibhav Pant  <vibhavp@gmail.com>\n\n\tsrc/bytecode.c (exec_byte_code): Remove unneeded assert.\n\n\tbytecode.c (exec_byte_code): Use h->count instead of HASH_TABLE_SIZE\n\n2017-02-09  Vibhav Pant  <vibhavp@gmail.com>\n\n\tbytecode.c (exec_byte_code): don't check hash code in linear search.\n\n\t* src/bytecode.c (exec_byte_code): Don't check that the hash code is\n\t  not nil when linear scanning the jump table. Hash tables for are\n\t  declared with :size as the exact number of cases, so each entry i\n\t  should have a hash code. When BYTE_CODE_SAFE, do it as a sanity\n\t  check.\n\n2017-02-09  Tino Calancha  <tino.calancha@gmail.com>\n\n\tIbuffer: Update mode documentation\n\n\t* lisp/ibuffer.el (ibuffer-mode): List newest commands in mode documentation.\n\n2017-02-09  Steven Allen  <steven@stebalien.com>  (tiny change)\n\n\tFix environment variable for xdg-data-dirs\n\n\t* lisp/xdg.el (xdg-data-dirs): Use XDG_DATA_DIRS, not XDG_CONFIG_DIRS\n\n2017-02-09  Tino Calancha  <tino.calancha@gmail.com>\n\n\tIbuffer: Erase output buffer before shell commands\n\n\t* lisp/ibuf-macs.el (define-ibuffer-op): Add keyword arguments\n\tBEFORE and AFTER; they are forms to run before/after the operation.\n\t* lisp/ibuf-ext.el (ibuffer--maybe-erase-shell-cmd-output):\n\tNew defun; if shell-command-dont-erase-buffer is nil, then\n\terase shell command output buffer.\n\t(ibuffer-do-shell-command-pipe, ibuffer-do-shell-command-file): Use it.\n\n2017-02-09  Tino Calancha  <tino.calancha@gmail.com>\n\n\tIbuffer: Don't truncate shell command output\n\n\t* lisp/ibuf-ext.el (ibuffer-do-shell-command-pipe)\n\t(ibuffer-do-shell-command-pipe-replace)\n\tUse 'call-shell-region' (Bug#22679).\n\t(ibuffer-do-shell-command-file): Use call-process-shell-command.\n\tIf FILE, the file that the buffer object is visiting,\n\texists and the buffer is up-to-date, then use\n\tFILE instead of creating a temporary file (Bug#22679).\n\n2017-02-09  Vibhav Pant  <vibhavp@gmail.com>\n\n\tImprove byte-switch execution.\n\n\t* lisp/emacs-lisp/byte-opt.el,\n\t  lisp/emacs-lisp/bytecomp.el (byte-decompile-bytecode-1),\n\t  (byte-compile-lapcode): Calculate the actual jump address while\n\t  compiling, store it in the jump table.\n\n\t* src/bytecode.c: Jump to the looked up value directly, do a linear\n\t  search when the number of elements is <= 5.\n\n2017-02-09  Noam Postavsky  <npostavs@gmail.com>\n\n\tMake sure eshell pipelines don't drop data\n\n\t* lisp/eshell/esh-proc.el (eshell-sentinel): If called while still\n\thandling output of the process, make sure to close the pipes only later,\n\tso that the next process in the pipeline recieves EOF only after getting\n\tall its input (Bug#25549).\n\n2017-02-09  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\tMake mm-shr use mail-parse-charset by default\n\n\t* lisp/gnus/mm-decode.el (mm-shr): Use mail-parse-charset by default.\n\tThis helps an html message with no charset spec to be decoded.\n\n2017-02-08  Stephen Berman  <stephen.berman@gmx.net>\n\n\tdescribe-char: unambiguous name for inserting ASCII 7\n\n\t* lisp/descr-text.el (describe-char): Make the input\n\tsuggestion for inserting ASCII character 7 by name use the\n\tunambiguous name \"BELL (BEL)\" (bug#25641).\n\n2017-02-08  Michael Albinus  <michael.albinus@gmx.de>\n\n\tModify suppressing `vc-refresh-state' in filenotify-tests.el\n\n\t* test/lisp/filenotify-tests.el (file-notify-test03-autorevert):\n\tUse an advice rather than an alias for suppressing `vc-refresh-state'.\n\n2017-02-08  Noam Postavsky  <npostavs@gmail.com>\n\n\tDisable native completion for ipython (Bug#25067)\n\n\t* lisp/progmodes/python.el:\n\t(python-shell-completion-native-disabled-interpreters): Add \"ipython\".\n\n2017-02-07  Michael Albinus  <michael.albinus@gmx.de>\n\n\tSuppress undesired error messages in filenotify-tests.el\n\n\t* test/lisp/filenotify-tests.el (file-notify-test03-autorevert):\n\tSuppress `vc-refresh-state', it produces undesired error messages.\n\n2017-02-07  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix a typo in ada-mode manual\n\n\t* doc/misc/ada-mode.texi (Project file variables): Add a missing\n\tright bracket.  Reported by Jean-Christophe Helary\n\t<jean.christophe.helary@gmail.com>.\n\n2017-02-07  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tEnsure that Gnus bugs show up in the Emacs tracker\n\n\t* lisp/gnus/gnus.el (gnus-bug-package): Include Emacs in the\n\tpackage spec.\n\n2017-02-07  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRevert \"Don't tag Gnus bugs with \"gnus\"\"\n\n\tThis reverts commit b6fa58072304c2a24f1fe8a0e06a4739a7f8211b.\n\n\tThe debbugs syntax requires a package name\n\n2017-02-07  Vibhav Pant  <vibhavp@gmail.com>\n\n\tAdd tests for checking byte-switch code.\n\n\t* test/lisp/emacs-lisp/bytecomp-tests.el (bytecomp-cond): New test,\n\t  test byte-switch bytecode.\n\n2017-02-07  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tAdd xdg library\n\n\t* etc/NEWS: Mention new library.\n\t* lisp/xdg.el: New file.\n\n2017-02-07  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDo not trick info/dir\u2019s timestamp\n\n\t* Makefile.in (${srcdir}/info/dir): When making this file, do not\n\tdo anything special about its timestamp.  Previously this rule\n\tused move-if-change, which meant that this file\u2019s timestamp could\n\tend up being older than the files it depends on, and this caused\n\t\u2018make --question info\u2019 to fail, which caused \u2018make-dist\u2019 to fail\n\tnow that \u2018make-dist\u2019 invokes \u2018make --question info\u2019.\n\n2017-02-07  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMake FOR_EACH_TAIL more like other FOR_EACH macros\n\n\tSee comments by Stefan Monnier in:\n\thttps://lists.gnu.org/r/emacs-devel/2017-02/msg00181.html\n\tand by Eli Zaretskii in:\n\thttps://lists.gnu.org/r/emacs-devel/2017-02/msg00207.html\n\t* src/fns.c (internal_equal): Do not bypass check for depth\n\toverflow when tail-recursing via a dotted list tail or an overlay\n\tplist, to avoid a rare infloop.\n\t* src/lisp.h (FOR_EACH_TAIL, FOR_EACH_TAIL_SAFE): Take TAIL as an\n\targ, and update it at each iteration, rather than have callers\n\taccess it.tail.  All callers changed.\n\t(FOR_EACH_TAIL): Do not check for dotted lists, as this is now\n\tthe caller\u2019s responsibility.  All callers changed.\n\t(FOR_EACH_TAIL_CONS): Remove.  All callers changed.\n\t(struct for_each_tail_internal.tail): Remove; no longer needed.\n\t(FOR_EACH_TAIL_INTERNAL): Remove dotted arg, and set the tail\n\targ each time through the loop.  All callers changed.\n\n2017-02-05  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort to clang 3.8.0\n\n\tIt does not allow a for-loop's control var to be an anonymous struct.\n\t* src/lisp.h (struct for_each_tail_internal): New type.\n\t(FOR_EACH_TAIL_INTERNAL): Use it.\n\n2017-02-05  Paul Eggert  <eggert@Penguin.CS.UCLA.EDU>\n\n\tAdd cyclic-list tests\n\n\t* test/manual/cycle-tests.el: New file (Bug#25606).\n\n2017-02-05  Paul Eggert  <eggert@Penguin.CS.UCLA.EDU>\n\n\tFOR_EACH_TAIL now checks for quit\n\n\tAs per Eli Zaretskii (Bug#25606#20).  Although these calls to\n\tmaybe_quit are unnecessary in practice, Eli was not convinced\n\tthat the calls are unnecessary.\n\t* src/lisp.h (FOR_EACH_TAIL, FOR_EACH_TAIL_CONS):\n\tCall maybe_quit every so often.\n\t(FOR_EACH_TAIL_INTERNAL): New arg CHECK_QUIT.  All callers changed.\n\n2017-02-05  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSignal list cycles in \u2018length\u2019 etc.\n\n\tUse macros like FOR_EACH_TAIL instead of maybe_quit to\n\tcatch list cycles automatically instead of relying on the\n\tuser becoming impatient and typing C-g (Bug#25606).\n\t* src/fns.c (Flength, Fmember, Fmemq, Fmemql, Fassq, Fassoc, Frassq)\n\t(Frassoc, Fdelete, Freverse):\n\tUse FOR_EACH_TAIL instead of maybe_quit.\n\t(Fnreverse): Use simple EQ to check for circular list instead\n\tof rarely_quit, as this suffices in this unusual case.\n\t(Fplist_put, Flax_plist_put, Flax_plist_put):\n\tUse FOR_EACH_TAIL_CONS instead of maybe_quit.\n\t(internal_equal): Use FOR_EACH_TAIL_CONS to check lists, instead\n\tof by-hand tail recursion that did not catch cycles.\n\t* src/fns.c (Fsafe_length, Fplist_get):\n\t* src/xdisp.c (display_mode_element):\n\tUse FOR_EACH_TAIL_SAFE instead of by-hand Floyd\u2019s algorithm.\n\t* src/lisp.h (QUIT_COUNT_HEURISTIC): Remove; no longer needed.\n\t(rarely_quit): Simply count toward USHRT_MAX + 1, since the\n\tfancier versions are no longer needed.\n\t(FOR_EACH_TAIL_CONS, FOR_EACH_TAIL_SAFE)\n\t(FOR_EACH_TAIL_INTERNAL): New macros, the last with definiens\n\tmostly taken from FOR_EACH_TAIL.\n\t(FOR_EACH_TAIL): Rewrite in terms of FOR_EACH_TAIL_INTERNAL.\n\n2017-02-05  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSimplify use of FOR_EACH_TAIL\n\n\t* src/data.c (circular_list): New function.\n\t* src/lisp.h (FOR_EACH_TAIL): Use Brent\u2019s algorithm and C99 for-loop\n\tdecl, to eliminate the need for the args TAIL, TORTOISE and N, and\n\tto speed things up a bit on typical hosts with optimization.\n\tAll uses changed (Bug#25605).\n\n2017-02-05  Simen Heggest\u00f8yl  <simenheg@gmail.com>\n\n\t* lisp/textmodes/css-mode.el: Require subr-x at compile time\n\n2017-02-05  Eli Zaretskii  <eliz@gnu.org>\n\n\tClarify documentation of 'bufferpos-to-filepos' and 'filepos-to-bufferpos'\n\n\t* doc/lispref/nonascii.texi (Text Representations): Clarify that\n\t'exact' value of QUALITY argument to 'bufferpos-to-filepos' and\n\t'filepos-to-bufferpos' can lead to expensive and slow processing.\n\n\t* lisp/international/mule-util.el (filepos-to-bufferpos)\n\t(bufferpos-to-filepos): Doc fix.  (Bug#25626)\n\n2017-02-05  Vibhav Pant  <vibhavp@gmail.com>\n\n\tMerge remote-tracking branch 'origin/master' into feature/byte-switch\n\n2017-02-05  Vibhav Pant  <vibhavp@gmail.com>\n\n\tbytecomp.el: Use macroexp-const-p instead of bc-cond-valid-obj2-p.\n\n\t* lisp/emacs-lisp/bytecomp.el (byte-compile-cond-vars): Use\n\t  (macroexp-cons-p) instead of (byte-compile-cond-valid-obj2-p) to\n\t  make sure that obj1/obj2 can be compared with `eq'.\n\n2017-02-05  Vibhav Pant  <vibhavp@gmail.com>\n\n\t* lisp/emacs-lisp/byte-opt.el (byte-decompile-bytecode-1): Use eq instead of =.\n\n2017-02-05  Vibhav Pant  <vibhavp@gmail.com>\n\n\tbytecomp.el: Inline lapcode containing `byte-switch' correctly.\n\n\t* lisp/emacs-lisp/bytecomp.el (byte-compile-inline-lapcode):\n\t  Restore value of byte-compile-depth after emitting a jump to a tag\n\t  in a jump table, or default/done tags.\n\t  Set the depth of final tags for byte-switch to nil after emitting\n\t  any jumps to them.\n\n2017-02-05  Vibhav Pant  <vibhavp@gmail.com>\n\n\tbyte-opt.el: Replace jump tables while decompiling correctly.\n\n\t* lisp/emacs-lisp/byte-opt.el (byte-decompile-bytecode-1):\n\t  Don't make a copy of the constant vector, as it isn't used with\n\t  the decompiled lapcode.\n\t  Make sure that the correct lapcode pair/list is being modified while\n\t  replacing the jump table.\n\n2017-02-05  Vibhav Pant  <vibhavp@gmail.com>\n\n\tbytecomp.el: Don't store non-keyword symbols in jump-tables.\n\n\t* lisp/emacs-lisp/bytecomp.el (byte-compile-cond-valid-obj2-p) return\n\t  nil when OBJ is a non-keyword symbol (i.e a variable), as the jump\n\t  table can only be used when comparing variables with constant values.\n\n2017-02-04  Tom Tromey  <tom@tromey.com>\n\n\ttypo fix\n\n\t(css--colon-inside-selector-p): Fix typo in docstring.\n\n2017-02-04  Tom Tromey  <tom@tromey.com>\n\n\tSet comment-multi-line in js-mode\n\n\tBug#6806:\n\t* lisp/progmodes/js.el (js-mode): Set comment-multi-line to t.\n\t* test/lisp/progmodes/js-tests.el (js-mode-auto-fill): New test.\n\n2017-02-04  Simen Heggest\u00f8yl  <simenheg@gmail.com>\n\n\t* test/manual/indent/scss-mode.scss: Fix indentation\n\n2017-02-04  Simen Heggest\u00f8yl  <simenheg@gmail.com>\n\n\tFix indentation of multiline CSS property values\n\n\t* lisp/textmodes/css-mode.el (css-smie-grammar): Give colons belonging\n\tto properties higher precedence.\n\t(css--colon-inside-selector-p, css--colon-inside-funcall): New\n\tfunctions for helping SMIE during tokenization.\n\t(css-smie--forward-token, css-smie--backward-token): Distinguish\n\tcolons belonging to properties from other colons.\n\n\t* test/manual/indent/css-mode.css: Add tests for the changes above.\n\n\t* test/manual/indent/scss-mode.scss: Ditto.\n\n2017-02-04  Gemini Lasswell  <gazally@runbox.com>\n\n\tAdd tests for lisp/kmacro.el\n\n\t* test/lisp/kmacro-tests.el: New file.  (Bug#24939)\n\n2017-02-04  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix autorevert-tests on MS-Windows\n\n\t* test/lisp/autorevert-tests.el\n\t(auto-revert-test02-auto-revert-deleted-file): Don't check that\n\tauto-revert-use-notify was reset to nil on w32.\n\n2017-02-04  Gemini Lasswell  <gazally@runbox.com>\n\n\tNew macro 'ert-with-message-capture'\n\n\t* lisp/emacs-lisp/ert-x.el (ert-with-message-capture): New macro.\n\t(Bug#25158)\n\n\t* test/lisp/autorevert-tests.el (auto-revert--wait-for-revert)\n\t(auto-revert-test00-auto-revert-mode)\n\t(auto-revert-test01-auto-revert-several-files)\n\t(auto-revert-test02-auto-revert-deleted-file)\n\t(auto-revert-test03-auto-revert-tail-mode)\n\t(auto-revert-test04-auto-revert-mode-dired):\n\t* test/lisp/filenotify-tests.el (file-notify-test03-autorevert): Use\n\tert-with-message-capture.\n\n2017-02-04  Gemini Lasswell  <gazally@runbox.com>\n\n\tAvoid invalid read syntax errors due to 'ert-with-test-buffer'\n\n\t* lisp/emacs-lisp/ert-x.el (ert-with-test-buffer): Fix the\n\t'declare' form.  (Bug#24722)\n\n2017-02-04  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix a syntax error when evaluating pcase.el under Edebug\n\n\t* lisp/emacs-lisp/pcase.el (pcase-MACRO): Replace def-edebug-spec\n\twith an explicit 'put' form.  Suggested by Gemini Lasswell\n\t<gazally@runbox.com>.  (Bug#24717)\n\n2017-02-04  Gemini Lasswell  <gazally@runbox.com>\n\t    Eli Zaretskii  <eliz@gnu.org>\n\n\tChange edebug-max-depth from defconst to defcustom\n\n\t* lisp/emacs-lisp/edebug.el (edebug-max-depth): Add defcustom.\n\t(Bug#24713)\n\n\t* etc/NEWS: Mention edebug-max-depth.\n\n\t* doc/lispref/edebug.texi (Checking Whether to Stop): Mention\n\tedebug-max-depth and index it.  Add cross-references for\n\tmax-lisp-eval-depth and max-specpdl-size.\n\n2017-02-04  Eli Zaretskii  <eliz@gnu.org>\n\n\tSupport options with embedded whitespace in 'dired-listing-switches'\n\n\t* lisp/dired.el (dired-listing-switches): Document how to quote\n\toptions with embedded whitespace.\n\n\t* lisp/files.el (insert-directory): Use split-string-and-unquote\n\tto support dired-listing-switches that specify command-line\n\toptions with embedded spaces.  (Bug#25485)\n\n2017-02-04  Gemini Lasswell  <gazally@runbox.com>\n\t    Noam Postavsky  <npostavs@users.sourceforge.net>\n\n\tAdd tests for lisp/emacs-lisp/testcover.el\n\n\t* test/lisp/emacs-lisp/testcover-tests.el: New file.\n\t* test/lisp/emacs-lisp/testcover-resources/testcases.el: New file.\n\n2017-02-04  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument 'save-some-buffers-default-predicate'\n\n\t* doc/lispref/files.texi (Saving Buffers):\n\t* doc/emacs/files.texi (Save Commands): Document\n\tsave-some-buffers-default-predicate.\n\n2017-02-04  Richard Stallman  <rms@gnu.org>\n\n\tNew defcustom 'save-some-buffers-default-predicate'\n\n\t* lisp/files.el (save-some-buffers-default-predicate): New defcustom.\n\t(save-some-buffers): Use it when PRED is nil or omitted.\n\n2017-02-04  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tRename to if-let* and when-let*\n\n\tMake the existing if-let and when-let aliases.\n\t* lisp/emacs-lisp/subr-x.el (if-let*, when-let*): New macros.  Rewrite\n\tdocstrings, incorporating that from let* and the existing if-let.\n\t(if-let, when-let, and-let*): Alias them.\n\n2017-02-03  Vibhav Pant  <vibhavp@gmail.com>\n\n\tRevert \"Use maphash instead of cl-loop.\"\n\n\tThis reverts commit bfa88520136dd6b187ba101e6db5a5f8f0d5e874.\n\n2017-02-03  Nicolas Petton  <nicolas@petton.fr>\n\n\tBump Emacs version to 25.2 RC1\n\n\t* README:\n\t* configure.ac:\n\t* msdos/sed2v2.inp:\n\t* nt/README.W32: Bump Emacs version.\n\t* lisp/ldefs-boot.el: Update.\n\n2017-02-03  Nicolas Petton  <nicolas@petton.fr>\n\n\t* admin/make-tarball.txt: Add documentation regarding the release banner.\n\n2017-02-03  Tino Calancha  <tino.calancha@gmail.com>\n\n\t* CONTRIBUTE (Documenting your changes): Index new vars/commands in manual.\n\n2017-02-03  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRe-port alloc.c to Solaris sparc and simplify\n\n\talloc.c had bitrotted a bit, and used an undefined symbol\n\tstack_base when Emacs was built on Solaris sparc, leading to\n\tcompilation failures.  Also, code related to __builtin_unwind_init\n\twas unnecessarily duplicated.  Fix the bitrot and remove some\n\tduplication.\n\t* src/alloc.c: Remove uses of GC_SAVE_REGISTERS_ON_STACK, since it\n\tis never defined.\n\t(test_setjmp) [!HAVE___BUILTIN_UNWIND_INIT && GC_SETJMP_WORKS]:\n\tDefine a no-op dummy, to simplify use.\n\t(test_setjmp) [!GC_SETJMP_WORKS]: Test setjmp_tested_p here rather\n\tthan in the caller, to simplify use.\n\t(stacktop_sentry): New type.\n\t(__builtin_unwind_init) [!HAVE___BUILTIN_UNWIND_INIT]: New macro.\n\t(SET_STACK_TOP_ADDRESS): New macro, containing code that was duplicated.\n\t(flush_stack_call_func, Fgarbage_collect): Use it.\n\t(init_alloc): Omit unnecessary initialization.\n\tAfter dumping, Emacs need not re-test setjmp.\n\n2017-02-03  Noam Postavsky  <npostavs@gmail.com>\n\n\tAdd tests for scrolling\n\n\t* test/manual/scroll-tests.el: New tests for scroll-margin behavior.\n\n2017-02-03  Noam Postavsky  <npostavs@gmail.com>\n\n\tFix scrolling with partial lines\n\n\t* src/xdisp.c (partial_line_height): New function.\n\t(try_scrolling):\n\t* src/window.c (window_scroll_pixel_based): Use it for calculating the\n\tpixel scroll margin correctly in a window with partial lines.\n\n2017-02-03  Noam Postavsky  <npostavs@gmail.com>\n\n\tMake limit on scroll-margin variable\n\n\t* src/xdisp.c (maximum-scroll-margin): New variable.\n\t* lisp/cus-start.el: Make it customizable.\n\t* etc/NEWS: Mention it.\n\t* doc/emacs/display.texi (Auto Scrolling):\n\t* doc/lispref/windows.texi (Textual Scrolling): Document it.\n\t* src/window.c (window_scroll_pixel_based): Use it instead of hardcoding\n\tdivision by 4 (Bug #5718).\n\n2017-02-03  Noam Postavsky  <npostavs@gmail.com>\n\n\tDon't count mode line for scroll-margin limit\n\n\t* src/window.c (window_scroll_margin): Use window_box_height to avoid\n\tcounting header line, scrollbars for scroll-margin limit (Bug #5718).\n\n2017-02-03  Noam Postavsky  <npostavs@gmail.com>\n\n\tRefactor uses of scroll_margin to a function\n\n\tIts effective range needs to be clamped between 0 and (window height /\n\t4), so it's better to have this constraint in a single place.\n\n\t* src/window.c (window_scroll_margin): New function.\n\t(window_scroll_pixel_based, window_scroll_line_based):\n\t(Frecenter, Fmove_to_window_line):\n\t* src/xdisp.c (try_scrolling, try_cursor_movement):\n\t(redisplay_window, try_window, try_window_id): Use it.\n\n2017-02-03  Dmitry Gutov  <dgutov@yandex.ru>\n\n\t(xref-collect-matches): Use '-E' together with '-e'\n\n\t* lisp/progmodes/xref.el (xref-collect-matches): Use '-E'\n\ttogether with '-e', as suggested by Noam Postavsky\n\t(https://lists.gnu.org/r/emacs-devel/2017-01/msg00780.html).\n\n2017-02-03  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPacify Oracle Studio 12.5\n\n\t* src/emacs.c (main): Do not silently convert char * to bool.\n\n2017-02-02  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix lisp.h underparenthesization\n\n\t* src/lisp.h (STACK_CONS, AUTO_STRING_WITH_LEN):\n\tParenthesize compound literals that are function call args.\n\tAlthough this does not fix any bugs, it is the proper style for\n\tmacro parenthesization as it means this code will continue to\n\twork even if make_lisp_ptr is changed to a macro.\n\n2017-02-02  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/doc-view.el (doc-view-mode): Don't require a final newline\n\n\t(doc-view-revert-buffer): Silence overflow warnings.\n\n2017-02-02  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from gnulib\n\n\t2017-01-30 Port to PGI 16.10 x86-64\n\t2017-01-20 time_rz: fix comment typo\n\t2017-01-14 strftime: %z is -00 if unknown\n\tThis incorporates:\n\t* doc/misc/texinfo.tex, lib/c-ctype.h, lib/strftime.c:\n\t* lib/time-internal.h, lib/verify.h:\n\tCopy from gnulib.\n\n2017-02-02  Tino Calancha  <tino.calancha@gmail.com>\n\n\tCheck if there are hunks before kill or refine a hunk\n\n\t* lisp/vc/diff-mode.el (diff--some-hunks-p): New predicate.\n\t(diff-hunk-kill, diff-file-kill, diff-refine-hunk): Use it (Bug#25571).\n\n2017-02-02  Tino Calancha  <tino.calancha@gmail.com>\n\n\tIgnore error after kill last file or hunk\n\n\t* lisp/vc/diff-mode.el (diff-hunk-kill): Go to beginning of hunk before kill.\n\tIgnore error after kill last hunk (Bug#25570).\n\t(diff-file-kill): Idem.\n\n2017-02-02  Tino Calancha  <tino.calancha@gmail.com>\n\n\tShow current line highlighted in *Occur* buffer\n\n\t* lisp/replace.el (list-matching-lines-current-line-face)\n\t(list-matching-lines-jump-to-current-line): New user options.\n\t(occur--orig-line, occur--orig-line-str): New variables.\n\t(occur, occur-engine): Use them.\n\t(occur--final-pos): New variable.\n\t(occur-1): Use it.\n\t(occur-engine): Idem.\n\tShow the current line with 'list-matching-lines-current-line-face'.\n\tSet point on the first matching line after the current one.\n\t* etc/NEWS: Add entry for the new option.\n\n2017-02-02  Tino Calancha  <tino.calancha@gmail.com>\n\n\tAllow occur command to operate on the region\n\n\tSee discussion in:\n\thttps://lists.gnu.org/r/emacs-devel/2016-12/msg01084.html\n\t* lisp/replace.el (occur--region-start, occur--region-end)\n\t(occur--matches-threshold): New variables.\n\t(occur-engine): Use them.\n\t(occur): Idem.\n\tAdd optional arg REGION; if non-nil occur applies in that region.\n\t* doc/lispintro/emacs-lisp-intro.texi (Keybindings): Update manual\n\t* doc/emacs/search.texi (Other Repeating Search): Idem.\n\n2017-02-02  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tTreat list-buffers-directory as a string\n\n\tAnother step in the long history of list-buffers-directory.  A thread\n\tbranch discussing the meaning/use of the variable starts here\n\thttps://lists.gnu.org/r/emacs-devel/2009-09/msg00684.html\n\tAlso see (info \"(elisp) Buffer File Name\").\n\t* lisp/buff-menu.el: Relocate special case code into info.el.  Nix\n\tInfo-* defvars.\n\t(Buffer-menu--pretty-file-name): Remove special case.  Use\n\tbound-and-true-p.\n\t(Buffer-menu-info-node-description): Remove.\n\t* lisp/ibuffer.el (ibuffer-buffer-file-name): Treat\n\tlist-buffers-directory as a string.\n\t* lisp/info.el (Info-node-description): New function.\n\t(Info-select-node): Use it.\n\n2017-02-02  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tTurn on lexical-binding in parse-time.el\n\n\t* lisp/calendar/parse-time.el: Turn on lexical-binding.\n\t(parse-time-iso8601-regexp, parse-iso8601-time-string): Remove unused\n\tbindings.\n\n2017-02-02  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tPrevent creating thumbnails of all gif frames\n\n\tWith the previous defaults, doing image-dired on a directory with an\n\tanimated foo.gif would cause creation of foo.thumb-N.gif for each of\n\tN frames in foo.gif.  By default image-dired looks for foo.thumb.gif, so\n\tthere additionally is no usable thumbnail after all the needless effort.\n\timage-dired never handled animation, regardless.\n\t* lisp/image-dired.el: Mention limitation.\n\t(image-dired-cmd-create-thumbnail-options):\n\t(image-dired-cmd-create-temp-image-options):\n\t(image-dired-cmd-create-standard-thumbnail-options): Append [0] to\n\tfilename to indicate only converting the 0th frame.\n\t(image-dired-display-image-mode): Don't show a cursor.\n\n2017-02-02  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix quitting bug when buffers are frozen\n\n\tProblem noted by Eli Zaretskii in:\n\thttps://lists.gnu.org/r/emacs-devel/2017-01/msg00721.html\n\tThis patch also fixes some other issues in that report.\n\t* src/lisp.h (incr_rarely_quit): Remove.\n\tAll callers changed to use rarely_quit directly.\n\t* src/search.c (freeze_buffer_relocation)\n\t(thaw_buffer_relocation): New functions.\n\t(looking_at_1, fast_looking_at, search_buffer):\n\tUse them to fix bug when quitting when buffers are frozen.\n\t* src/sysdep.c (emacs_intr_read): Rename from emacs_nointr_read.\n\tAll uses changed.\n\n2017-02-02  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRevamp quitting and fix infloops\n\n\tThis fixes some infinite loops that cannot be quitted out of,\n\te.g., (defun foo () (nth most-positive-fixnum '#1=(1 . #1#)))\n\twhen byte-compiled and when run under X.  See:\n\thttps://lists.gnu.org/r/emacs-devel/2017-01/msg00577.html\n\tThis also attempts to keep the performance improvements I recently\n\tadded, as much as possible under the constraint that the infloops\n\tmust be caught.  In some cases this fixes infloop bugs recently\n\tintroduced when I removed immediate_quit.\n\t* src/alloc.c (Fmake_list):\n\tUse rarely_quit, not maybe_quit, for speed in the usual case.\n\t* src/bytecode.c (exec_byte_code):\n\t* src/editfns.c (Fcompare_buffer_substrings):\n\t* src/fns.c (Fnthcdr):\n\t* src/syntax.c (scan_words, skip_chars, skip_syntaxes)\n\t(Fbackward_prefix_chars):\n\tUse rarely_quit so that users can C-g out of long loops.\n\t* src/callproc.c (call_process_cleanup, call_process):\n\t* src/fileio.c (read_non_regular, Finsert_file_contents):\n\t* src/indent.c (compute_motion):\n\t* src/syntax.c (scan_words, Fforward_comment):\n\tRemove now-unnecessary maybe_quit calls.\n\t* src/callproc.c (call_process):\n\t* src/doc.c (get_doc_string, Fsnarf_documentation):\n\t* src/fileio.c (Fcopy_file, read_non_regular, Finsert_file_contents):\n\t* src/lread.c (safe_to_load_version):\n\t* src/sysdep.c (system_process_attributes) [GNU_LINUX]:\n\tUse emacs_read_quit instead of emacs_read in places where\n\tC-g handling is safe.\n\t* src/eval.c (maybe_quit): Move comment here from lisp.h.\n\t* src/fileio.c (Fcopy_file, e_write):\n\tUse emacs_write_quit instead of emacs_write_sig in places where\n\tC-g handling is safe.\n\t* src/filelock.c (create_lock_file): Use emacs_write, not\n\tplain write, as emacs_write no longer has a problem.\n\t(read_lock_data): Use emacs_read, not read, as emacs_read\n\tno longer has a problem.\n\t* src/fns.c (rarely_quit): Move to lisp.h and rename to\n\tincr_rarely_quit.  All uses changed..\n\t* src/fns.c (Fmemq, Fmemql, Fassq, Frassq, Fplist_put, Fplist_member):\n\t* src/indent.c (compute_motion):\n\t* src/syntax.c (find_defun_start, back_comment, forw_comment)\n\t(Fforward_comment, scan_lists, scan_sexps_forward):\n\tUse incr_rarely_quit so that users can C-g out of long loops.\n\t* src/fns.c (Fnconc): Move incr_rarely_quit call to within\n\tinner loop, so that it catches C-g there too.\n\t* src/keyboard.c (tty_read_avail_input): Remove commented-out\n\tand now-obsolete code dealing with interrupts.\n\t* src/lisp.h (rarely_quit, incr_rarely_quit): New functions,\n\tthe latter moved here from fns.c and renamed from rarely_quit.\n\t(emacs_read_quit, emacs_write_quit): New decls.\n\t* src/search.c (find_newline, search_buffer, find_newline1):\n\tAdd maybe_quit to catch C-g.\n\t* src/sysdep.c (get_child_status): Always invoke maybe_quit\n\tif interruptible, so that the caller need not bother.\n\t(emacs_nointr_read, emacs_read_quit, emacs_write_quit):\n\tNew functions.\n\t(emacs_read): Rewrite in terms of emacs_nointr_read.\n\tDo not handle C-g or signals; that is now for emacs_read_quit.\n\t(emacs_full_write): Replace PROCESS_SIGNALS two-way arg\n\twith INTERRUPTIBLE three-way arg.  All uses changed.\n\n2017-02-02  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRemove immediate_quit.\n\n\tThe old code that sets and clears immediate_quit was\n\tineffective except when Emacs is running in terminal mode, and\n\thas problematic race conditions anyway, so remove it.  This\n\twill introduce some hangs when Emacs runs in terminal mode,\n\tand these hangs should be fixed in followup patches.\n\t* src/keyboard.c (immediate_quit): Remove.  All uses removed.\n\n2017-02-01  Alan Mackenzie  <acm@muc.de>\n\n\tAllow C++ nested brace-list-entries to be better indented.\n\n\tThis fixes bug #24431.  The key change of this bug fix is correctly analyzing\n\tnested brace lists when the opening element stands on the same line as both\n\tits introductory brace and an enclosing parameter list parenthesis.\n\n\t* lisp/progmodes/cc-align.el (c-lineup-under-anchor): New line-up function.\n\n\t* lisp/progmodes/cc-engine.el (c-looking-at-or-maybe-in-bracelist): Accept the\n\tpresence of exactly an identifier between an open parenthesis and an open\n\tbrace as evidence of the brace starting a brace list.\n\t(c-looking-at-statement-block): New function, extracted from\n\tc-looking-at-inexpr-block.  Enhance it to analyze inner blocks recursively\n\twhen needed.\n\t(c-looking-at-inexpr-block): Extract new function (see above) and call it.\n\t(c-add-stmt-syntax): Enhance, with new &optional parameter, to supply the\n\tprime syntactic symbol with a fixed anchor point.  When this is used, restrict\n\tall added syntactic symbols to those having an anchor point on the same line.\n\tAdd, in addition to the current additional symbols, c-brace-list-entry when\n\tneeded; use c-looking-at-statement-block to determine the latter.\n\t(c-guess-basic-syntax, CASE 9D): Use c-add-stmt-syntax rather than just\n\tc-add-syntax, to assemble the syntactic context of a 'brace-list-entry, thus\n\tgetting, possibly, several accompanying syntactic entries.\n\n\t* lisp/progmodes/cc-styles.el (c-style-alist, \"gnu\" style): New entry for\n\t'brace-list-intro, namely c-lineup-arglist-intro-after-paren.\n\n\t* lisp/progmodes/cc-vars.el (c-offsets-alist): Change the factory default\n\toffset for 'brace-list-entry from 0 to c-lineup-under-anchor.\n\n\t* doc/misc/cc-mode.texi (Syntactic Symbols): Amend the definition of\n\tbrace-list-intro.\n\t(Brace List Symbols): Amend the example to show the new analysis of brace\n\tlists when the first element comes on the same line as the opening brace.\n\t(Misc Line-Up): Document the new line-up function c-lineup-under-anchor.\n\n2017-02-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRevert \"DOn't use string-as-unibyte in Gnus\"\n\n\tThis reverts commit d1c931009004aef847105b7bac6b6ffafd985b82.\n\n\tNot all the cases where we had string-as-unibyte were characters,\n\tso this needs to be considered more thoroughly before being redone.\n\n2017-02-01  Vibhav Pant  <vibhavp@gmail.com>\n\n\tUse maphash instead of cl-loop.\n\n\t* lisp/emacs-lisp/bytecomp.el: (byte-compile-lapcode) Use maphash\n\t  instead of cl-loop\n\n2017-02-01  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix a subtle problem in Tramp with timers\n\n\t* lisp/net/tramp.el (tramp-accept-process-output): Change argument\n\tlist.  Make it work when called inside a timer.  See\n\t<https://lists.gnu.org/r/tramp-devel/2017-01/msg00010.html>.\n\n2017-01-31  Eli Zaretskii  <eliz@gnu.org>\n\n\tIndex byte-compile-debug\n\n\t* doc/lispref/compile.texi (Compilation Functions): Index\n\tbyte-compile-debug.\n\n2017-01-31  Philipp Stephani  <phst@google.com>\n\n\tDocument `byte-compile-debug' in the ELisp manual\n\n\t* doc/lispref/compile.texi: Document variable `byte-compile-debug'.\n\n2017-01-31  Ted Zlatanov  <tzz@lifelogs.com>\n\n\tread-multiple-choice: explain dialog popups more\n\n\t* lisp/emacs-lisp/subr-x.el (read-multiple-choice): Explain\n\twhen a graphical popup is used and how it can be avoided.\n\n2017-01-31  Ted Zlatanov  <tzz@lifelogs.com>\n\n\tauth-source-user-and-password: add forgotten user parameter\n\n\t\t* lisp/auth-source.el (auth-source-user-and-password): Use\n\t          accidentally unused \"user\" parameter.\n\t          Reported by Oscar Najera <najera.oscar@gmail.com>.\n\n2017-01-31  Simen Heggest\u00f8yl  <simenheg@gmail.com>\n\n\tFix typo in a NEWS entry for CSS mode\n\n2017-01-31  Philipp Stephani  <phst@google.com>\n\n\tDocument variable `byte-compile-debug'\n\n\t* lisp/emacs-lisp/bytecomp.el (byte-compile-debug): Document variable.\n\n2017-01-31  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDOn't use string-as-unibyte in Gnus\n\n\t* lisp/gnus/nnmail.el (nnmail-parse-active): Don't use\n\tstring-as-unibyte.\n\t(nnmail-insert-xref): Ditto.\n\n\t* lisp/gnus/canlock.el (canlock-make-cancel-key): Ditto.\n\n\t* lisp/gnus/gnus-art.el (gnus-article-browse-html-parts): Ditto.\n\n\t* lisp/gnus/gnus-srvr.el (gnus-browse-foreign-server): Ditto.\n\t(gnus-browse-foreign-server): Ditto.\n\t(gnus-browse-foreign-server): Ditto.\n\n\t* lisp/gnus/gnus-start.el\n\t(gnus-update-active-hashtb-from-killed): Ditto.\n\t(gnus-read-newsrc-el-file): Ditto.\n\n\t* lisp/gnus/mml.el (mml-generate-mime-1): Ditto.\n\n\t* lisp/gnus/nnir.el (nnir-get-active): Ditto.\n\t(nnir-get-active): Ditto.\n\n2017-01-31  Juri Linkov  <juri@linkov.net>\n\n\tAllow C-s C-w to yank ' to the search ring in the Gnus article buffer\n\n\t* lisp/gnus/gnus-art.el (gnus-article-mode-syntax-table): Make\n\tM-. in article buffers work for `foo' strings, and still allow\n\tC-s C-w to yank ' to the search ring (bug#22248).\n\n2017-01-31  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* src/alloc.c, src/lisp.h: Fix minor glitches in recent changes.\n\n2017-01-31  Tino Calancha  <tino.calancha@gmail.com>\n\n\t* test/lisp/vc/diff-mode-tests.el: Require diff-mode.\n\n2017-01-31  Dima Kogan  <dima@secretsauce.net>\n\n\tNew test for diff-mode handling trailing --\n\n\ttest/lisp/vc/diff-mode-tests.el: New test file\n\n2017-01-31  Dima Kogan  <dima@secretsauce.net>\n\n\tHandle patch terminators produced by git and bzr patch export\n\n\tPatch by Juri Linkov posted in the #9597 bug report\n\n\t* lisp/vc/diff-mode.el (diff-sanity-check-hunk): Find and ignore\n\tterminator (Bug #9597, #5302)\n\n2017-01-31  Dima Kogan  <dima@secretsauce.net>\n\n\tRevert two accidental commits\n\n\tThis reverts commit f3c77d11af65f3b319b1784b4c3cf08c51aa7997.\n\tThis reverts commit 3c941b900007c9e79c00af0f21d88154f6d8af1a.\n\n2017-01-31  Dima Kogan  <dima@secretsauce.net>\n\n\tstash\n\n2017-01-31  Dima Kogan  <dima@secretsauce.net>\n\n\tcomint-get-old-input-default: behavior follows docstring\n\n\tlisp/comint.el (comint-get-old-input-default): Modify behavior to follow\n\tdocstring: if `comint-use-prompt-regexp' is nil, then return the CURRENT LINE,\n\tif point is on an output field.\n\n2017-01-31  Noam Postavsky  <npostavs@gmail.com>\n\n\tFix call to debugger on assertion failure\n\n\t* lisp/emacs-lisp/cl-preloaded.el (cl--assertion-failed): The first\n\targument must be `error', and the second is a list of arguments for\n\t`signal'.\n\n2017-01-30  Tom Tromey  <tom@tromey.com>\n\n\tcss-mode documentation lookup feature\n\n\t* etc/NEWS: Mention new feature.\n\t* lisp/textmodes/css-mode.el (css-mode-map): New defvar.\n\t(css--mdn-lookup-history): New defvar.\n\t(css-lookup-url-format): New defcustom.\n\t(css--mdn-property-regexp, css--mdn-completion-list): New defconsts.\n\t(css--mdn-after-render, css--mdn-find-symbol, css-lookup-symbol): New\n\tdefuns.\n\t* test/lisp/textmodes/css-mode-tests.el (css-mdn-symbol-guessing): New\n\ttest.\n\n2017-01-30  Glenn Morris  <rgm@gnu.org>\n\n\tedt-mapper: just loading a library should not run code\n\n\t* lisp/emulation/edt-mapper.el (edt-mapper): New function,\n\tcontaining code previously at top-level.\n\t* lisp/emulation/edt.el (edt-load-keys): After loading edt-mapper,\n\trun edt-mapper function.\n\n2017-01-30  Glenn Morris  <rgm@gnu.org>\n\n\tmh-compat.el: remove duplicate definition\n\n\t* lisp/mh-e/mh-compat.el (mh-make-obsolete-variable):\n\tRemove duplicate definition.\n\n2017-01-30  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tAdd delq list arg check\n\n\t* src/fns.c (Fdelq): Check that list is a proper list.\n\tThis is more compatible with what \u2018delete\u2019 does.\n\n2017-01-30  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/indent.el (indent-region-line-by-line): New function.\n\n\tExtracted from indent-region.\n\t(indent-region, indent-region-function): Use it.\n\n2017-01-30  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/subr.el (string-make-unibyte, string-make-multibyte): Obsolete.\n\n2017-01-30  Eli Zaretskii  <eliz@gnu.org>\n\n\tMore fixes to prevent crashes on C-g\n\n\t* src/fns.c (Fassq, Frassq, Fplist_put): Reset immediate_quit\n\tbefore returning, to avoid crashes in quit.  (Bug#25566)\n\n2017-01-30  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid crashes on C-g in TTY sessions\n\n\t* src/keyboard.c (handle_interrupt): Don't quit if\n\twaiting_for_input is set, as doing that is \"unsafe\": it will\n\tabort.  (Bug#25566)\n\n2017-01-30  Vibhav Pant  <vibhavp@gmail.com>\n\n\t* lisp/emacs-lisp/bytecomp.el: Create jump tables with :purecopy t\n\n\tMerge remote-tracking branch 'origin/master' into feature/byte-switch\n\n2017-01-30  Vibhav Pant  <vibhavp@gmail.com>\n\n\tFix hash tables not being purified correctly.\n\n\t* src/alloc.c\n\t(purecopy_hash_table) New function, makes a copy of the given hash\n\ttable in pure storage.\n\tAdd new struct `pinned_object' and `pinned_objects' linked list for\n\tpinning objects.\n\t(Fpurecopy) Allow purifying hash tables\n\t(purecopy) Pin hash tables that are either weak or not declared with\n\t`:purecopy t`, use purecopy_hash_table otherwise.\n\t(marked_pinned_objects) New function, marks all objects in pinned_objects.\n\t(garbage_collect_1) Use it. Mark all pinned objects before sweeping.\n\t* src/lisp.h: Add new field `pure' to struct `Lisp_Hash_Table'.\n\t* src/fns.c: Add `purecopy' parameter to hash tables.\n\t(Fmake_hash_table): Check for a `:purecopy PURECOPY' argument, pass it\n\tto make_hash_table.\n\t(make_hash_table): Add `pure' parameter, set h->pure to it.\n\t(Fclrhash, Fremhash, Fputhash): Enforce that the table is impure with\n\tCHECK_IMPURE.\n\t* src/lread.c: (read1) Parse for `purecopy' parameter while reading\n\t  hash tables.\n\t* src/print.c: (print_object) add the `purecopy' parameter while\n\t  printing hash tables.\n\t* src/category.c, src/emacs-module.c, src/image.c, src/profiler.c,\n\t  src/xterm.c: Use new (make_hash_table).\n\n2017-01-29  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tEscape dash in xref rgrep regexp\n\n\t* lisp/progmodes/xref.el (xref-collect-matches): Escape dash\n\tin REGEXP if it's the first character.\n\n2017-01-29  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tSay JavaScript, not Javascript\n\n\t* lisp/progmodes/js.el (js-mode-map, js-syntax-propertize)\n\t(js-js-error, js-eval, js-set-js-context)\n\t(js--get-js-context):\n\tRefer to the language consistently as JavaScript.\n\n2017-01-29  Juanma Barranquero  <lekktu@gmail.com>\n\n\tlisp/*.el: Fix some warnings\n\n\t* lisp/battery.el (dbus-get-property):\n\t* lisp/dired-aux.el (format-spec): Declare function.\n\n\t* lisp/net/zeroconf.el (zeroconf-list-service-names)\n\t(zeroconf-list-service-types, zeroconf-list-services):\n\tMark unused lexical arg.\n\n\t* lisp/progmodes/hideshow.el (hs-hide-block-at-point):\n\t* lisp/progmodes/sql.el (sql-end-of-statement):\n\tPass LIMIT to 'looking-back'.\n\n2017-01-29  Noam Postavsky  <npostavs@gmail.com>\n\n\tDon't warn about obsolete defgenerics when defining them\n\n\t* lisp/emacs-lisp/cl-generic.el (cl-defgeneric): The declaration code\n\tshould run after the definition code (Bug#25556).\n\n2017-01-29  Noam Postavsky  <npostavs@gmail.com>\n\n\tCall modification hooks in org-src fontify buffers\n\n\t* lisp/org/org-src.el (org-src-font-lock-fontify-block): Let-bind\n\t`inhibit-modification-hooks' to nil, since this function can be called\n\tfrom jit-lock-function which binds that variable to t (Bug#25132).\n\n2017-01-29  Tino Calancha  <tino.calancha@gmail.com>\n\n\tFix Bug#25524\n\n\t* lisp/vc/diff-mode.el (diff-beginning-of-hunk):\n\tReturn position at the beginning off the hunk.\n\t(diff-file-junk-re): Add SVN keywords.\n\n2017-01-28  Stephen Berman  <stephen.berman@gmx.net>\n\n\thl-line.el: Don't try to operate on a killed buffer\n\n\t* lisp/hl-line.el (hl-line-maybe-unhighlight): Examine only\n\tlive buffers (bug#25522).\n\n2017-01-28  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tUse access-file in EWW to check before downloading a file\n\n\t* lisp/net/eww.el (eww-download): Check accessibility of\n\teww-download-directory to prevent starting a download that will fail\n\tto write.\n\t* src/fileio.c (Faccess_file): Clarify the use of string argument in\n\tthe docstring.\n\n2017-01-28  Yuri D'Elia  <wavexx@thregr.org>\n\n\tSubject: Check Bcc after the Messag hook has run\n\n\t* lisp/gnus/message.el (message-send): If the hook modifies\n\tthe message (mml tags or headers), we should check bcc on the\n\tfinal message, not on the original.\n\n2017-01-28  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of 'format' conversions\n\n\t* src/editfns.c (Fformat): More accurate description of %g and\n\teffects of the various flags on it.  More accurate description of\n\tinteger conversions.\n\n\t* doc/lispref/strings.texi (Formatting Strings): More accurate\n\tdescription of %g and effects of the various flags on it.  More\n\taccurate description of integer conversions.  (Bug#25557)\n\n2017-01-28  Juanma Barranquero  <lekktu@gmail.com>\n\n\ttest/*.el: Avoid byte-compiler warnings\n\n\t* test/lisp/abbrev-tests.el (abbrev-table-p-test): Remove unused 'let*'.\n\n\t* test/lisp/faces-tests.el (faces--test): New customization group.\n\t(faces--test1, faces--test2): Use it.\n\n\t* test/lisp/ffap-tests.el (ffap-tests-25243):\n\tCall 'mark-whole-buffer' interactively.\n\n\t* test/lisp/ibuffer-tests.el (ibuffer-filter-groups, ibuffer-filtering-alist)\n\t(ibuffer-filtering-qualifiers, ibuffer-save-with-custom)\n\t(ibuffer-saved-filter-groups, ibuffer-saved-filters): Defvar.\n\t(ibuffer-format-qualifier, ibuffer-unary-operand): Declare.\n\n\t* test/lisp/minibuffer-tests.el (completion-test1):\n\tMark unused lexical arguments.\n\n\t* test/lisp/simple-tests.el (simple-test--dummy-buffer): Wrap result in\n\t'with-no-warnings' to avoid them when the macro is invoked for effect.\n\n\t* test/lisp/emacs-lisp/cl-seq-tests.el (cl-seq-count-test):\n\tMark unused lexical arguments.\n\n\t* test/lisp/emacs-lisp/let-alist-tests.el (let-alist-surface-test):\n\tMark unused lexical arguments.\n\t(let-alist-cons): Remove unused let binding.\n\n\t* test/lisp/net/dbus-tests.el (dbus-debug): Defvar.\n\t(dbus-get-unique-name): Declare.\n\n\t* test/lisp/progmodes/python-tests.el (python-bob-infloop-avoid):\n\tCall 'font-lock-fontify-buffer' interactively.\n\n\t* test/lisp/textmodes/tildify-tests.el (tildify-space-undo-test--test):\n\tMark unused lexical argument.\n\n2017-01-27  Eli Zaretskii  <eliz@gnu.org>\n\n\tRestore a test that was removed by a recent commit\n\n\t* src/fileio.c (Ffile_accessible_directory_p): Don't overwrite the\n\terrno value unless it's necessary.  (Bug#25419)\n\n2017-01-27  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tFix a couple eww customization types\n\n\t* lisp/new/eww.el (eww-download-directory, eww-bookmarks-directory):\n\tChange customization type to \"directory\".\n\n2017-01-27  Philipp Stephani  <phst@google.com>\n\n\tDon't require a shell when loading htmlfontify\n\n\t* lisp/htmlfontify.el (hfy-which-etags): Don't call a shell for\n\tdetecting the etags version (Bug#25468).\n\t* test/lisp/htmlfontify-tests.el (htmlfontify-bug25468): Add unit\n\ttest.\n\n2017-01-27  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSlightly tune file-accessible-directory-p fix\n\n\t* src/fileio.c (Ffile_accessible_directory_p):\n\tRemove unnecessary test (Bug#25419).\n\n2017-01-27  Arash Esbati  <arash@gnu.org>\n\n\tAdd \\citetitle to biblatex cite format\n\n\t* lisp/textmodes/reftex-vars.el (reftex-cite-format-builtin): Add\n\t\\citetitle[*] to `reftex-cite-format' and bind them to keys i/I\n\tper user request\n\thttps://lists.gnu.org/r/auctex/2017-01/msg00049.html.\n\n2017-01-27  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFix charsets and encodings from non-file MIME parts\n\n\t* lisp/gnus/mml.el (mml-generate-mime-1): Get the charsets and\n\tencoding right for parts that do not originate from files.\n\n2017-01-27  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix 'describe-variable' for longish variable values\n\n\t* lisp/help-fns.el (describe-variable): Don't accidentally remove\n\tthe last character of a variable's value.  (Bug#25545)\n\n2017-01-27  Vladimir Panteleev  <git@thecybershadow.net>  (tiny change)\n\n\tRemove stale functions from ert manual\n\n\t* doc/misc/ert.texi (Useful Techniques when Writing Tests):\n\tReplace ert--mismatch references with its cl-lib replacement,\n\tcl-mismatch.\n\n2017-01-27  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix a typo in Eshell manual\n\n\t* doc/misc/eshell.texi (History): Fix a typo.  Reported by Mak\n\tKolybabi <mak@kolybabi.com>.\n\n2017-01-27  Eli Zaretskii  <eliz@gnu.org>\n\n\tEnsure last line is at window bottom in shell buffers\n\n\t* lisp/shell.el (shell-mode): Use setq-local.  Set\n\tscroll-conservatively to 101 locally.  See the discussion at\n\thttps://lists.gnu.org/r/emacs-devel/2016-12/msg00736.html\n\tfor the reasons.\n\n2017-01-27  Michael Hoffman  <emacs-hoffman@sneakemail.com>  (tiny change)\n\n\tSupport Bash Ctrl-Z indication of directory name in term.el\n\n\t* lisp/term/xterm.el (term-emulate-terminal): Do not display ?\\032 escape\n\tcodes even when 'handled-ansi-message' is non-nil.  (Bug#11919)\n\n2017-01-27  Eli Zaretskii  <eliz@gnu.org>\n\n\tDon't report zero errno for inaccessible directory\n\n\t* src/fileio.c (Ffile_accessible_directory_p): Report EACCES when\n\ta file handler reports a failure.  (Bug#25419)\n\n2017-01-27  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix filenotify-tests on MS-Windows\n\n\t* test/lisp/filenotify-tests.el (file-notify-test04-file-validity)\n\t(file-notify-test05-dir-validity)\n\t(file-notify-test06-many-events)\n\t(file-notify-test08-watched-file-in-watched-dir): Manually remove\n\tthe watch descriptor before calling file-notify--test-cleanup-p.\n\t(Bug#25539)\n\n2017-01-27  Hong Xu  <hong@topbug.net>\n\n\tpython-mode: Fix detection for opening blocks.\n\n\t* lisp/progmodes/python.el\n\t(python-info-dedenter-opening-block-positions): There can't be any\n\tback-indented lines between an opening block and the current line.\n\n\t* test/lisp/progmodes/python-tests.el\n\t(python-indent-electric-colon-4): Add an indent test case where\n\tthere is one-more indented previous opening block.\n\n2017-01-27  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFix Message check for bogus domain names\n\n\t* lisp/gnus/message.el (message-make-fqdn): Fix check for\n\tbogus system names (bug#24570).\n\n2017-01-27  \u00d8yvind Stegard  <oyvind@stegard.net>  (tiny change)\n\n\tSubject: Restore correct Gnus newsgroup name after sending message\n\n\t* lisp/gnus/gnus-msg.el (gnus-msg-mail): Set the value of\n\tgnus-newsgroup-name in the correct buffer (bug#24329).\n\n2017-01-27  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMention the new Gnus sorting command\n\n2017-01-27  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDon't try to find charsets of non-text MIME parts\n\n\t* lisp/gnus/mml.el (mml-generate-mime-1): It seems nonsensical\n\tto try to determine the charset of non-text message parts, so\n\tskip that (bug#24190).  This will also remove messages like\n\t\"bunzip2ing /tmp/acsb.cpio.bz2...done\" while sending messages\n\tif you include such files.\n\n2017-01-27  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAdd new command gnus-article-sort-by-marks\n\n\t* doc/misc/gnus.texi (Summary Sorting): Mention\n\tgnus-summary-sort-by-marks.\n\n\t* lisp/gnus/gnus-sum.el (gnus-article-sort-by-marks): New\n\tfunction (bug#23393).\n\t(gnus-thread-sort-by-marks): Ditto.\n\t(gnus-summary-sort-by-mark): New command suggested by Dan Jacobson.\n\t(gnus-summary-mode-map): Add keystroke.\n\t(gnus-summary-make-menu-bar): Add to menu.\n\n2017-01-26  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\tMake `C-h b' work correctly in Gnus article buffer (bug#18257)\n\n\t* lisp/gnus/gnus-art.el (gnus-article-describe-bindings):\n\tIgnore summary commands that aren't bound to\n\tgnus-article-read-summary-keys keys (bug#18257).\n\n2017-01-26  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFix crossposting in non-primary groups\n\n\t* lisp/gnus/message.el\n\t(message-cross-post-followup-to-header): Gnus server prefixes\n\tshouldn't be included in the group names (bug#21661).\n\t(message-cross-post-followup-to): Ditto.\n\n2017-01-26  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tGnus doc clarification\n\n\t* doc/misc/gnus.texi (Unavailable Servers): Explicitly say\n\tthat \"unreachable\" is the same as disabling it (bug#21630).\n\n2017-01-26  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRemove dead code from rfc2047\n\n\t* lisp/mail/rfc2047.el (rfc2047-fold-field): Remove dead code.\n\n\tIt's been disabled since 2005, when I made the change with the\n\tfollowing comment.\n\n\t(rfc2047-encode-message-header): Disabled header folding -- not\n\tall headers can be folded, and this should be done by the message\n\tcomposition mode.  Probably.  I think.\n\n2017-01-26  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFill too long mail headers\n\n\t* lisp/gnus/message.el (message--fold-long-headers): New\n\tfunction to fold too-long headers (bug#21608).\n\t(message-send-mail): Use it to fill headers longer than 998\n\tcharacters (which is the protocol limit).\n\n2017-01-26  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMake nndoc more resilient against corrupted files\n\n\t* lisp/gnus/nndoc.el (nndoc-possibly-change-buffer): Don't bug\n\tout on invalid files, like invalid .gz files (bug#21538).\n\tThis may hinder Gnus from starting up.\n\n2017-01-26  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRespect buffer-local message-fcc-handler-function\n\n\t* lisp/gnus/message.el (message-do-fcc): Copy the local\n\tvariables from the Message buffer so that local settings of\n\t`message-fcc-handler-function' etc are respected (bug#21174).\n\n2017-01-26  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\t(message-do-fcc): Modernize the code slightly.\n\n\t* lisp/gnus/message.el (message-do-fcc): Modernize the code slightly.\n\n2017-01-26  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAvoid a regexp overflow in message-goto-body\n\n\t* lisp/gnus/message.el (message-goto-body-1): Avoid using a\n\tcomplicated backtracking regexp, because they may overflow on\n\tlarge headers (bug#21160).\n\n2017-01-26  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRefactor message-goto-body\n\n\t* lisp/gnus/message.el (message-goto-body-1): Refactor out for reuse.\n\n2017-01-26  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFix typo in last checkin\n\n\t* lisp/gnus/nnimap.el (nnimap-shell-program): Document\n\tnnimap-shell-program (bug#20651).\n\n2017-01-26  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDocument nnimap-shell-program\n\n\t* lisp/gnus/nnimap.el (nnimap-shell-program): Document\n\tnnimap-shell-program (bug#20651).\n\n2017-01-26  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDocument :shell-command in `make-network-process'\n\n\t* doc/lispref/processes.texi (Network): Document :shell-command.\n\n\t* lisp/net/network-stream.el (open-network-stream): Document\n\tthe :shell-command parameter (bug#20651).\n\n2017-01-26  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tGnus doc clarification\n\n\t* lisp/gnus/gnus-sum.el (gnus-summary-save-article): Mention\n\tthe gnus-prompt-before-saving variable (bug#20500).\n\n2017-01-26  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFix the previous mml patch better\n\n\t* lisp/gnus/mml.el (mml-minibuffer-read-file): Fix the\n\tprevious patch in a better way (bug#20480).\n\n2017-01-26  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tGive a slight better error message in mml-minibuffer-read-file\n\n\t* lisp/gnus/mml.el (mml-minibuffer-read-file): Give a slightly\n\tbetter error message when the user enters nothing (bug#20480).\n\n2017-01-26  Vibhav Pant  <vibhavp@gmail.com>\n\n\t* lisp/emacs-lisp/bytecomp.el:(bc-cond-jump-table-info)add docstring\n\n2017-01-26  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMake eww buffers prettier in the buffer listing\n\n\t* lisp/net/eww.el (eww-render): Put the currently visited URL\n\tinto the buffer listing (bug#23738).\n\t(eww-render): Ditto.\n\n2017-01-26  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAllow mml-attach-file to prompt less\n\n\t* lisp/gnus/mml.el (mml-attach-file): If given a prefix, don't\n\tprompt for type/description/disposition, but use defaults\n\t(bug#19202).\n\n2017-01-26  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDon't allow message-newline-and-reformat to be run outside the body\n\n\t* lisp/gnus/message.el (message-newline-and-reformat): Error\n\tout if run outside the body of a message (bug#18820).\n\n2017-01-26  Vibhav Pant  <vibhavp@gmail.com>\n\n\t* lisp/emacs-lisp/bytecomp.el: Use correct function to push nil\n\n\t* lisp/emacs-lisp/bytecomp.el: (byte-compile-cond-jump-table) Use\n\t  byte-compile-constant instead of byte-compile-form to push nil.\n\n2017-01-26  Vibhav Pant  <vibhavp@gmail.com>\n\n\t* lisp/emacs-lisp/disass.el: Fix spacing while showing jump tables\n\n2017-01-26  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tReplace QUIT with maybe_quit\n\n\tThere\u2019s no longer need to have QUIT stand for a slug of C statements.\n\tUse the more-obvious function-call syntax instead.\n\tAlso, use true and false when setting immediate_quit.\n\tThese changes should not affect the generated machine code.\n\t* src/lisp.h (QUIT): Remove.  All uses replaced by maybe_quit.\n\n2017-01-26  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tA quicker check for quit\n\n\tOn some microbenchmarks this lets Emacs run 60% faster on my\n\tplatform (AMD Phenom II X4 910e, Fedora 25 x86-64).\n\t* src/atimer.c: Include keyboard.h, for pending_signals.\n\t* src/editfns.c (Fcompare_buffer_substrings):\n\t* src/fns.c (Fnthcdr, Fmemq, Fmemql, Fassq, Frassq, Fplist_put)\n\t(Fnconc, Fplist_member):\n\tSet and clear immediate_quit before and after loop instead of\n\texecuting QUIT each time through the loop.  This is OK for loops\n\tthat affect only locals.\n\t* src/eval.c (process_quit_flag): Now static.\n\t(maybe_quit): New function, containing QUIT\u2019s old body.\n\t* src/fns.c (rarely_quit): New function.\n\t(Fmember, Fassoc, Frassoc, Fdelete, Fnreverse, Freverse)\n\t(Flax_plist_get, Flax_plist_put, internal_equal, Fnconc):\n\tUse it instead of QUIT, for\n\tspeed in tight loops that might modify non-locals.\n\t* src/keyboard.h (pending_signals, process_pending_signals):\n\tThese belong to keyboard.c, so move them here ...\n\t* src/lisp.h: ... from here.\n\t(QUIT): Redefine in terms of the new maybe_quit function, which\n\tcontains this macro\u2019s old definiens.  This works well with branch\n\tprediction on processors with return stack buffers, e.g., x86\n\tother than the original Pentium.\n\n2017-01-26  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSimplify make-list implementation\n\n\t* src/alloc.c (Fmake_list): Don\u2019t unroll loop, as the complexity\n\tis not worth it these days.\n\n2017-01-26  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tMake use of cl-loop destructuring\n\n\t* lisp/progmodes/js.el (js--get-tabs): Replace extraneous bits with\n\tdestructuring.\n\t(with-js): Add declare forms.\n\n2017-01-25  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRevert \"Bind C-c keys in the article buffer\"\n\n\tThis reverts commit 6b4195f2ace1f6328c5a833fde40f39babef4fa6.\n\n\tThe commit somehow lead to problems in other parts of Emacs.\n\n2017-01-25  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDocument how to quote MML tags\n\n\t* doc/misc/emacs-mime.texi (MML Definition): Mention how to\n\tquote MML tags (bug#18881).\n\n2017-01-25  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMake address parsing more robust\n\n\t* lisp/mail/ietf-drums.el (ietf-drums-parse-address): Don't\n\tbug out on addresses like\n\t(ietf-drums-parse-address \"\\\"Foo \\\"bar\\\" <larsi@gnus.org>\")\n\t(bug#18572).\n\n2017-01-25  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFix the %P (line number) thing in Gnus summary buffers\n\n\t* lisp/gnus/gnus-salt.el (gnus-pick-line-number): Remove hack.\n\n\t* lisp/gnus/gnus-sum.el (gnus-summary-read-group-1): Reset the\n\t\"pick\" mode line number on entry instead of relying in a hack (bug#18311).\n\n2017-01-25  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFix wrong documentation on nnmairix keystrokes\n\n\t* doc/misc/gnus.texi (nnmairix keyboard shortcuts): The\n\tnnmairix commands are on G G, not $ (bug#18260).\n\n2017-01-25  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tBind C-c keys in the article buffer\n\n\t* lisp/gnus/gnus-art.el (gnus-article-mode-map): Also bind the\n\tC-c keys so that they execute in the summary buffer\n\t(bug#18257).  This makes commands like `C-c C-f' work from the\n\tarticle buffer.\n\n2017-01-25  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDon't mark articles in Gnus as displayed when they aren't\n\n\t* lisp/gnus/gnus-sum.el (gnus-summary-read-group-1): Don't\n\tmark any articles as selected if we're not selecting any\n\tarticles (bug#18255).\n\n2017-01-25  Vibhav Pant  <vibhavp@gmail.com>\n\n\t* lisp/emacs-lisp/disass.el: Display jump tables for switch.\n\n\t* lisp/emacs-lisp/bytecomp.el:Use correct size for switch jump-table\n\n\t* lisp/emacs-lisp/bytecomp.el: Simplify b-c-cond-valid-obj2-p\n\n\t* lisp/emacs-lisp/bytecomp.el: Fix byte-switch codegen with symbols.\n\n2017-01-25  Vibhav Pant  <vibhavp@gmail.com>\n\n\t* lisp/emacs-lisp/byte-opt.el: Add support for decompiling switch\n\n\t* lisp/emacs-lisp/byte-opt.el: (byte-decompile-bytecode-1) When the\n\t  constant encountered precedes a byte-switch op, replace all the\n\t  addresses in the jump table with tags.\n\n2017-01-25  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tMove cXXXr and cXXXXr to subr.el\n\n\t* etc/NEWS: Mention new core Elisp.\n\t* doc/lispref/lists.texi (List Elements): Document and index the new\n\tfunctions.\n\t* doc/misc/cl.texi (List Functions): Change \"defines\" to \"aliases\".\n\t* lisp/subr.el (caaar, caadr, cadar, caddr, cdaar, cdadr, cddar)\n\t(cdddr, caaaar caaadr, caadar, caaddr, cadaar, cadadr, caddar):\n\t(cadddr, cdaaar, cdaadr, cdadar, cdaddr, cddaar, cddadr, cdddar):\n\t(cddddr): New functions.\n\t* lisp/emacs-lisp/cl-lib.el (cl-caaar, cl-caadr, cl-cadar, cl-caddr):\n\t(cl-cdaar, cl-cdadr, cl-cddar cl-cdddr, cl-caaaar cl-caaadr):\n\t(cl-caadar, cl-caaddr, cl-cadaar, cl-cadadr, cl-caddar, cl-cadddr):\n\t(cl-cdaaar, cl-cdaadr, cl-cdadar, cl-cdaddr, cl-cddaar, cl-cddadr):\n\t(cl-cdddar, cl-cddddr): Alias to new subr functions.\n\t* lisp/emacs-lisp/cl.el (cl-unload-function): Remove cXXXr and cXXXXr\n\telements.\n\n2017-01-25  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tOnly save .newsrc file if the native method is NNTP\n\n\t* lisp/gnus/gnus-start.el (gnus-save-newsrc-file): Only save\n\tthe .newsrc file if the native select method is NNTP\n\t(bug#18198).  This avoids problems with invalid IMAP group\n\tnames and the like in the .newsrc file.\n\n2017-01-25  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tOnly save .newsrc file if the native method is NNTP\n\n\t* lisp/gnus/gnus-start.el (gnus-save-newsrc-file): Only save\n\tthe .newsrc file if the native select method is NNTP\n\t(bug#18198).  This avoids problems with invalid IMAP group\n\tnames and the like in the .newsrc file.\n\n2017-01-25  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tGnus custom spec fix\n\n\t* lisp/gnus/gnus-art.el (gnus-signature-limit): Fix customize\n\tspec to match the doc string (bug#17679).\n\n2017-01-25  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tClarify confusing Gnus error message\n\n\t* lisp/gnus/gnus-topic.el (gnus-topic-unindent): Clarify\n\tconfusing error message (bug#17677).\n\n2017-01-25  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMake C-u C-x m work with Message as documented\n\n\t* lisp/gnus/message.el (message-mail): Respect the CONTINUE\n\tparameter (bug#17175).\n\n2017-01-25  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFix problem with auto-mode and dir-locals-collect-variables\n\n\t* lisp/files.el (dir-locals-collect-variables): When run from\n\tauto-mode, the file in question may not be an absolute path\n\tname (bug#24016).\n\n\tExample backtrace:\n\n\tDebugger entered--Lisp error: (args-out-of-range \"compile-1st-in-loa\n\t  dir-locals-collect-variables(((emacs-lisp-mode (indent-tabs-mode))\n\t  hack-dir-local-variables()\n\t  hack-local-variables(no-mode)\n\t  run-mode-hooks(diff-mode-hook)\n\t  diff-mode()\n\t  mm-display-inline-fontify((#<buffer  *mm*-923037> (\"text/x-diff\" (\n\n2017-01-25  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAttach text files correctly in Message\n\n\t* lisp/gnus/mml.el (mml-generate-mime-1): Detect which coding\n\tsystem has been used in attached text files, and don't try to\n\tdo any encoding of these files (bug#13808).\n\n2017-01-25  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tBuild fix for older gnutls versions\n\n\t* src/gnutls.c (emacs_gnutls_handle_error):\n\tGNUTLS_E_PREMATURE_TERMINATION is apparently only present in\n\tgnutls-3.\n\n2017-01-25  Tino Calancha  <tino.calancha@gmail.com>\n\n\tediff-difference-vector-alist: Drop duplicated definition\n\n\t* lisp/vc/ediff-init.el (ediff-difference-vector-alist):\n\tDrop duplicated definition.\n\t(ediff-difference-vector-A, ediff-difference-vector-B)\n\t(ediff-difference-vector-C, ediff-difference-vector-Ancestor):\n\tMove definition before 'ediff-difference-vector-alist'.\n\n2017-01-25  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRevert \"nnimap.el: support additional expunge options\"\n\n\tThis reverts commit 4e9baea6aba1633074889339dcc7cdc9d73880d3.\n\n\tThe patch broke fetching new mail:\n\n\tDebugger entered--Lisp error: (error \"Format specifier doesn\u2019t match argument type\")\n\t  format(\"%d .*\\n\" (t (\"OK\" (\"HIGHESTMODSEQ\" \"914696\") \"Expunge\" \"completed.\") (\"VANISHED\" \"1825937\") (\"0\" \"RECENT\")))\n\t  (looking-at (format \"%d .*\\n\" sequence))\n\t  (not (looking-at (format \"%d .*\\n\" sequence)))\n\t  (progn (while (and (not (bobp)) (progn (forward-line -1) (looking-at \"\\\\*\\\\|[0-9]+ OK NOOP\")))) (not (looking-at (format \"%d .*\\n\" sequence))))\n\n2017-01-25  Nikolaus Rath  <Nikolaus@rath.org>\n\n\tnnimap.el: support additional expunge options\n\n\t* lisp/gnus/nnimap.el (nnimap-close-group)\n\t(nnimap-request-expire-articles, nnimap-delete-article)\n\t(nnimap-request-scan): add new 'never, 'immediate, and 'on-exit\n\tsettings for nnimap-expunge (bug#20670).\n\n2017-01-25  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDon't tag Gnus bugs with \"gnus\"\n\n\t* lisp/gnus/gnus-msg.el (gnus-bug): Remove the bug package tags.\n\n\t* lisp/gnus/gnus.el (gnus-bug-package): Removed; Gnus doesn't\n\thave its own package any more in the bug tracker.\n\n2017-01-25  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tTweak TLS error messaging on closed connections\n\n\t* src/gnutls.c (emacs_gnutls_handle_error): Demote the normal\n\tpeer-closed-connection \"The TLS connection was non-properly\n\tterminated\" message to a lower level so that it isn't shown to\n\tthe user by default.\n\n2017-01-24  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAvoid having eww unexpectedly open external browsers\n\n\t* lisp/net/eww.el (eww-render): Instead of opening unsupported\n\tcontent types like audio/mpeg directly in an external browser\n\t(which can be very confusing especially when something\n\tredirects to a file like that), just display a simple\n\tinterstitial that people can choose to click on or not\n\t(bug#22671).\n\n2017-01-24  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tWhen opening new eww buffers, use buffer names based on the host name\n\n\t* lisp/net/eww.el (eww-browse-url): When opening in a new\n\twindow, use a buffer name based on the host name (bug#23738).\n\t(eww--dwim-expand-url): Refactored out into its own function\n\tfor easier reuse.\n\n2017-01-24  David Engster  <deng@randomsample.de>\n\n\txml: Fix parsing of default namespace with quoted names\n\n\t* lisp/xml.el (xml-parse-attlist): Properly extract namespace when\n\t  parsing is done with quoted symbol names (bug#23440).\n\t* test/lisp/xml-tests.el (xml-parse-test--default-namespace-qnames)\n\t  (xml-parse-test-default-namespace-qnames): Test for the above.\n\n2017-01-24  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFix rendering of some complex SVG images\n\n\t* lisp/net/shr.el (shr-parse-image-data): Don't transform\n\tSVG->DOM->XML unless we're blocking images, as this is apt to\n\tdestroy the SVG (bug#24111).\n\n2017-01-24  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tClarify the last clarification\n\n\t* lisp/net/shr.el (shr-width): Clarify the interaction with\n\t`shr-use-fonts' (bug#24928).\n\n2017-01-24  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tshr-width doc clarification\n\n\t* lisp/net/shr.el (shr-width): Clarify the interaction with\n\t`shr-use-fonts' (bug#24928).\n\n2017-01-24  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAllow passing in max-width/height\n\n\t* lisp/net/shr.el (shr-rescale-image): Allow passing in\n\tmax-width/height (bug#25287).\n\n2017-01-24  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/progmodes/vhdl-mode.el: Avoid add-to-list on local vars\n\n\tRequire `cl' for `pushnew'.\n\t(vhdl-scan-project-contents, vhdl-compose-wire-components)\n\t(vhdl-uniquify): Use `pushnew' instead of `add-to-list'.\n\n2017-01-24  Noam Postavsky  <npostavs@gmail.com>\n\n\tFix comment detection on open parens\n\n\tCharacters having both open paren syntax and comment start syntax were\n\tbeing detected as open parens even when they should have been part a\n\tcomment starter (Bug#24870).\n\n\t* src/syntax.c (in_2char_comment_start): New function, extracted from\n\t`scan_sexps_forward'.\n\t(scan_sexps_forward): Add check for a 2-char comment starter before the\n\tloop.  Inside the loop, do that check after incrementing the 'from'\n\tcharacter index.  Move the single char comment syntax cases into the\n\tswitch instead of special casing them before.\n\t* test/src/syntax-tests.el (parse-partial-sexp-paren-comments):\n\t(parse-partial-sexp-continue-over-comment-marker): New tests.\n\n2017-01-23  Alan Mackenzie  <acm@muc.de>\n\n\tGive , and .@ doc strings.  Fixes bug #24561.\n\n\tAlso make *Help* links to ``' possible.  Also make usable as such doc strings\n\ton the function-documentation property of a symbol.\n\n\t* lisp/emacs-lisp/backquote.el (top-level): Give , and '@ doc strings on the\n\tfunction-documentation property.  Also give these symbols a reader-construct\n\tproperty.\n\n\t* lisp/help-fns.el (describe-function): Allow the function-documentation\n\tproperty to work.  Use princ rather than prin1 to print the function's name\n\twhen it has a reader-construct property.\n\t(help-fns-signature): Don't insert `high-usage' for a reader-construct.\n\t(describe-function-1): Adapt to process documentation on the\n\tfunction-documentation property.  Print \"a reader construct\" when appropriate.\n\n\t* lisp/help-mode.el (help-xref-symbol-regexp): Amend this regexp also to match\n\t``'.\n\n2017-01-22  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tImprove uses of CHECK_LIST etc.\n\n\t* src/eval.c (FletX): Report an error for invalid constructs like\n\t\u2018(let* (a . 0))\u2019, so that \u2018let*\u2019 is more consistent with \u2018let\u2019.\n\t(lambda_arity): Use plain CHECK_CONS.\n\t* src/fns.c (CHECK_LIST_END): Move from here to lisp.h.\n\t(Fcopy_alist): Remove unnecessary CHECK_LIST call, since\n\tconcat does that for us.\n\t(Fnthcdr, Fmember, Fmemql, Fdelete, Fnreverse):\n\tUse CHECK_LIST_END, not CHECK_LIST_CONS.  This hoists a\n\truntime check out of the loop.\n\t(Fmemq): Simplify and use CHECK_LIST_END instead of CHECK_LIST.\n\t(Fassq, Fassoc, Frassq, Frassoc):\n\tSimplify and use CHECK_LIST_END instead of CAR.\n\t(assq_no_quit, assoc_no_quit): Simplify and assume proper list.\n\t(Fnconc): Use plain CHECK_CONS, and do-while instead of while loop.\n\t* src/fontset.c (Fnew_fontset):\n\t* src/frame.c (Fmodify_frame_parameters):\n\tUse CHECK_LIST_END at end, rather than CHECK_LIST at start, for a\n\tmore-complete check.\n\t* src/gfilenotify.c (Fgfile_add_watch):\n\tOmit unnecessary CHECK_LIST, since Fmember does that for us.\n\t* src/lisp.h (lisp_h_CHECK_LIST_CONS, CHECK_LIST_CONS):\n\tRemove; no longer used.\n\t(CHECK_LIST_END): New inline function.\n\n2017-01-22  Tino Calancha  <tino.calancha@gmail.com>\n\n\tPrevent to use tabulated-list--near-rows unbound\n\n\t* lisp/emacs-lisp/tabulated-list.el (tabulated-list-print-entry):\n\tMake sure 'tabulated-list--near-rows' is bound before use it (Bug#25506).\n\n2017-01-22  Juri Linkov  <juri@linkov.net>\n\n\t* lisp/simple.el (region-bounds): New function.\n\n\t(region-noncontiguous-p): Use it.\n\thttps://lists.gnu.org/r/emacs-devel/2017-01/msg00044.html\n\n2017-01-21  Alan Mackenzie  <acm@muc.de>\n\n\tFix low-level handling of (big) C macros.\n\n\tIn particular, ensure that a comment detected by its syntax is not a CPP\n\tconstruct marked with generic comment delimiter syntax-table text\n\tproperties.\n\n\t* lisp/progmodes/cc-engine.el (c-beginning-of-macro, c-end-of-macro): Set\n\tc-macro-cache-syntactic to nil when the cached macro changes.\n\t(c-syntactic-end-of-macro, c-no-comment-end-of-macro)\n\t(c-state-semi-pp-to-literal, c-state-full-pp-to-literal)\n\t(c-state-pp-to-literal, c-parse-ps-state-to-cache)\n\t(c-state-cache-non-literal-place, c-literal-limits, c-literal-start)\n\t(c-determine-limit): When checking a parse syntax for a comment, check that\n\twe're not in a CPP construct marked by syntax-table generic comment delimiter\n\ttext property.\n\t(c-state-pp-to-literal): Change from a defsubst to a defun.\n\n\t* lisp/progmodes/cc-mode.el (c-neutralize-syntax-in-and-mark-CPP): Check a\n\tparse syntax as described above under cc-engine.el.\n\n2017-01-21  Vibhav Pant  <vibhavp@gmail.com>\n\n\t* lisp/emacs-lisp/bytecomp.el: Remove unused debugging statements.\n\n2017-01-21  Noam Postavsky  <npostavs@gmail.com>\n\n\tDon't wait for frame to become visible\n\n\t* src/xterm.c (x_make_frame_visible): Remove code that waits for the\n\tframe to become visible.  We have to deal with invisible frames anyway,\n\tthe loop could sometimes before the frame turned visible, and for some\n\twindow managers (e.g., XMonad, i3wm) it caused Emacs to get stuck in a\n\tbusy loop (Bug#24091).\n\n2017-01-21  Tino Calancha  <tino.calancha@gmail.com>\n\n\tdiff-hunk-kill independent of point inside headers\n\n\tMake diff-apply-hunk and diff-hunk-kill independent of the point\n\tposition in a diff header (Bug#17544).\n\tThis change allows to apply hunks in order.  It also makes possible to\n\tpress M-k repeatedly to kill hunks in the order they appear in the buffer.\n\tSee discussion on #Bug25105.\n\t* lisp/vc/diff-mode.el (diff-file-junk-re):\n\tMove definition before it's used.\n\t(diff--at-diff-header-p): New predicate; return non-nil when point\n\tis inside a hunk header, a file header, or within a line\n\tmatching diff-file-junk-re.\n\t(diff-beginning-of-hunk): Use it.\n\tCheck if the point is inside a diff header, in the middle of a hunk,\n\tor before the first hunk.\n\t(diff-apply-hunk): Call diff-beginning-of-hunk with non-nil arg\n\tbefore apply the hunk.\n\t(diff-hunk-kill, diff-file-kill):\n\tCall diff-beginning-of-hunk with non-nil arg after kill the hunks.\n\t(diff-post-command-hook): Call diff-beginning-of-hunk with non-nil argument.\n\n2017-01-20  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of hooks related to saving buffers\n\n\t* lisp/files.el (write-file-functions, write-contents-functions)\n\t(before-save-hook, after-save-hook): Note that these are only used\n\tby save-buffer.\n\n\t* doc/lispref/backups.texi (Auto-Saving):\n\t* doc/lispref/files.texi (Saving Buffers): Mention that\n\tsave-related hooks are not run by auto-saving.  (Bug#25460)\n\n2017-01-20  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of auto-save-visited-file-name\n\n\t* doc/emacs/files.texi (Auto Save Files): Mention subtle\n\tdifferences between saving the buffer and auto-saving with\n\tauto-save-visited-file-name set non-nil.  (Bug#25478)\n\n2017-01-20  Noam Postavsky  <npostavs@gmail.com>\n\n\tFix free var FOO-mode-{syntax,abbrev}-table warnings\n\n\t* lisp/emacs-lisp/derived.el (define-derived-mode): Unconditionally\n\tdefvar the syntax and abbrev tables so that the compiler will know that\n\tthey are dynamically bound variables (Bug#25446).\n\n2017-01-19  Vibhav Pant  <vibhavp@gmail.com>\n\n\t* lisp/emacs-lisp/bytecomp.el: Fix errors with matching quoted forms\n\n\t* lisp/emacs-lisp/bytecomp.el: (byte-compile-cond-jump-table-info)\n\t  eval obj2 to avoid quoted forms being stored as is.\n\n2017-01-19  Vibhav Pant  <vibhavp@gmail.com>\n\n\tlisp/emacs-lisp/bytecomp.el: Use byte-switch only for quoted symbols\n\n2017-01-19  Vibhav Pant  <vibhavp@gmail.com>\n\n\t* lisp/emacs-lisp/bytecomp.el: Add default-case for last cond clause.\n\n\t* lisp/emacs-lisp/bytecomp.el: (byte-compile-cond-jump-table) Add\n\tdefault-case for last cond clause.\n\n2017-01-19  Philipp Stephani  <phst@google.com>\n\n\tCheck that variable lists are actually lists\n\n\t'let' and 'let*' document that their first argument has to be a list,\n\tbut don't check for that; instead, they allow (and silently ignore)\n\tother types.  Introduce an explicit type check.\n\n\t* src/eval.c (Flet, FletX): Check that the variable list is indeed a\n\tlist.\n\t* test/src/eval-tests.el: Add unit tests.\n\n2017-01-19  Vibhav Pant  <vibhavp@gmail.com>\n\n\tAdd type checking for Bswitch, when enabled at compile time.\n\n\t* src/bytecode.c: (exec_byte_code) If BYTE_CODE_SAFE is enabled at\n\t  compile time, use CHECK_TYPE to verify that the jump table is a hash table.\n\n2017-01-19  Vibhav Pant  <vibhavp@gmail.com>\n\n\tUse byte-switch for all symbols.\n\n\t* lisp/emacs-lisp/bytecomp.el: (byte-compile-cond-valid-obj2-p) Return\n\t  t for all symbols (instead for just keywords)\n\n2017-01-19  Noam Postavsky  <npostavs@gmail.com>\n\n\tAvoid inefficient regex in diff-refine-hunk (Bug#25410)\n\n\t* lisp/vc/diff-mode.el (diff--forward-while-leading-char): New function.\n\t(diff-refine-hunk): Use it instead of trying to match multiple lines\n\twith a single lines.\n\n2017-01-18  Eli Zaretskii  <eliz@gnu.org>\n\n\tRemove lock file when auto-saving into the visited file\n\n\t* src/fileio.c (write_region): When auto-saving into the visited\n\tfile, unlock the file whenever we mark the buffer unmodified.\n\t(Bug#25470)\n\n2017-01-18  Vibhav Pant  <vibhavp@gmail.com>\n\n\t* src/bytecode.c: (exec_byte_code) Use hash_lookup for Bswitch\n\n\tFgethash type checks the provided table object, which is unnecessary\n\tfor compiled bytecode.\n\n2017-01-18  Tom Tromey  <tom@tromey.com>\n\n\tfix typo in mailcap-mime-extensions\n\n\t* lisp/net/mailcap.el (mailcap-mime-extensions): Use \"text/x-patch\",\n\tnot \"test/x-patch\".  (Bug#25472)\n\n2017-01-18  Lele Gaifax  <lele@metapensiero.it>  (tiny change)\n\n\tFix typos in flymake.el\n\n\t* lisp/progmodes/flymake.el (flymake-check-patch-master-file-buffer):\n\tSpelling fixes in the doc string.\n\n2017-01-18  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix a bug with signaling a thread that waits for condvar\n\n\t* src/thread.c (lisp_mutex_lock_for_thread): New function,\n\twith all the guts of lisp_mutex_lock.\n\t(lisp_mutex_lock): Call lisp_mutex_lock_for_thread.\n\t(condition_wait_callback): Don't call post_acquire_global_lock\n\tbefore locking the mutex, as that could cause a signaled thread to\n\texit prematurely, because the condvar's mutex is recorded to be\n\tnot owned by any thread, and with-mutex wants to unlock it as part\n\tof unwinding the stack in response to the signal.\n\n2017-01-18  Eli Zaretskii  <eliz@gnu.org>\n\n\tRudimentary error handling for non-main threads\n\n\t* src/thread.c (last_thread_error): New static variable.\n\t(syms_of_threads): Staticpro it.\n\t(record_thread_error, Fthread_last_error): New functions.\n\t(syms_of_threads): Defsubr Fthread_last_error.\n\n\t* doc/lispref/threads.texi (Basic Thread Functions): Document\n\tthread-last-error.\n\n\t* test/src/thread-tests.el (thread-errors, thread-signal-early)\n\t(threads-condvar-wait): Test the values returned by\n\tthread-last-error.\n\n2017-01-17  Tom Tromey  <tom@tromey.com>\n\n\tAdd info-lookup help for gdb-script-mode\n\n\tBug#25464:\n\t* lisp/info-look.el (info-lookup-guess-gdb-script-symbol): New\n\tfunction.\n\tAdd help for gdb-script-mode.\n\n2017-01-17  Tom Tromey  <tom@tromey.com>\n\n\tTreat \":root\" as a css-selector\n\n\t* lisp/textmodes/css-mode.el (css--font-lock-keywords): Recognize bare\n\t\":root\" as selector.\n\n2017-01-17  Tom Tromey  <tom@tromey.com>\n\n\tFix JS regexp literal syntax propertization in expressions\n\n\tBug#25465:\n\t* lisp/progmodes/js.el (js-syntax-propertize): Recognize a regexp\n\tliteral after \"!\", \"&\", and \"|\".\n\ttest/lisp/progmodes/js-tests.el (js-mode-regexp-syntax): New test.\n\n2017-01-17  Glenn Morris  <rgm@gnu.org>\n\n\tMore NEWS checking for admin.el's set-version\n\n\t* admin/admin.el (set-version): Warn if temporary NEWS markup\n\tstill present in release candidates.\n\n2017-01-17  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tMark unused arguments and remove unused variables\n\n\t* lisp/play/dunnet.el (dun-mode, dun-die, dun-inven, dun-try-take):\n\t(dun-dig, dun-type, dun-n, dun-s, dun-e, dun-w, dun-ne, dun-se):\n\t(dun-nw, dun-sw, dun-up, dun-down, dun-in, dun-out, dun-long):\n\t(dun-swim, dun-score, dun-flush, dun-piss, dun-sleep, dun-drive):\n\t(dun-superb, dun-power, dun-unix-parse, dun-bin, dun-fascii):\n\t(dun-ftpquit, dun-ftphelp, dun-uexit, dun-pwd, dun-dos-parse):\n\t(dun-dos-invd, dun-dos-spawn, dun-dos-exit, dun-dos-nil):\n\t(dungeon-nil): Mark arguments as unused.\n\t(dun-drop, dun-objnum-from-args, dun-get-path, dun-ftp):\n\t(dun-restore): Remove unused variable.\n\n2017-01-17  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix auto-save-file-name problem in Tramp on MS Windows\n\n\t* lisp/files.el (make-auto-save-file-name): Use `file-remote-p'\n\trather than an ange-ftp regexp.\n\n\t* lisp/net/tramp.el (tramp-handle-make-auto-save-file-name):\n\tFix a problem when running on MS Windows.\n\n\t* test/lisp/net/tramp-tests.el (tramp-test31-make-auto-save-file-name):\n\tAdapt test.\n\n2017-01-17  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix auto-save-file-name problem in Tramp on MS Windows. Do not merge\n\n\t* lisp/net/tramp.el (tramp-handle-make-auto-save-file-name):\n\tFix a problem when running on MS Windows.\n\n2017-01-17  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\t42614fa Update remaining copyright years with admin.el M-x set-copyright\n\tf17a006 * lisp/ffap.el (ffap-lax-url): Bump :version after recent cha...\n\n2017-01-17  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tNix some uses of eval\n\n\t* lisp/play/dunnet.el: Fix triple negative.\n\t(dun-doverb): Use funcall instead of eval.\n\t(dun-echo): Just call dun-mprinc.\n\t(dun-save-val): Just bind value without eval.\n\n2017-01-17  Tom Tromey  <tom@tromey.com>\n\n\tFix comment in css-mode.el\n\n\t* lisp/textmodes/css-mode.el: Remove obsolete comment.\n\n2017-01-16  Vibhav Pant  <vibhavp@gmail.com>\n\n\tupdate branch\n\n2017-01-16  Ian Dunn  <dunni@gnu.org>  (tiny change)\n\n\t* lisp/net/eww.el (eww-tag-meta): Handle single quoted URLs (Bug#25445).\n\n2017-01-15  Noam Postavsky  <npostavs@gmail.com>\n\n\tImprove ffap-gopher-at-point handling of long lines\n\n\t* lisp/ffap.el (ffap-gopher-regexp): Only match the KEY part.  Note\n\tsetting to nil is now supported.\n\t(ffap--gopher-var-on-line): New function.\n\t(ffap-gopher-at-point): Use it instead of the old ffap-gopher-regexp\n\twhich could overflow the regexp stack on long lines (Bug#25391).  Use\n\t`let-alist' instead of calling `set' on local variables.\n\t* test/lisp/ffap-tests.el (ffap-gopher-at-point): New test.\n\n2017-01-15  Vibhav Pant  <vibhavp@gmail.com>\n\n\t* lisp/emacs-lisp/byte-opt.el: Optimize how tags are checked for use.\n\n\t* lisp/emacs-lisp/byte-opt.el: (byte-optimize-lapcode): Return nil instantly on\n\t  finding the tag in a jump table.\n\n2017-01-15  Vibhav Pant  <vibhavp@gmail.com>\n\n\t* lisp/emacs-lisp/bytecomp.el: Add documentation, remove code duplication\n\n2017-01-14  Vibhav Pant  <vibhavp@gmail.com>\n\n\tAdd new 'switch' byte-code.\n\n\t'switch' takes two arguments from the stack: the variable to test, and\n\ta jump table (implemented as a hash-table with the appropriate :test\n\tfunction). By looking up the value of the variable in the hash table,\n\tthe interpreter can jump to the label pointed to by the value, if any.\n\tThis implementation can only be used for `cond' forms of the type\n\t`(cond ((test x 'foo) 'bar) ...)`, such that the function `test` and\n\tvariable `x` is same for all clauses.\n\n\t* lisp/emacs-lisp/bytecomp.el:\n\n\t  * Add (byte-compile-cond-valid-obj2-p), (byte-compile-cond-vars),\n\t    (byte-compile-cond-jump-table-info), (byte-compile-jump-table-add-tag),\n\t    (byte-compile-cond-jump-table), byte-compile-jump-tables.\n\n\t  * Add defcustom `byte-compile-cond-use-jump-table'.\n\n\t  * (byte-compile-cond): Use them.\n\n\t  * (byte-compile-lapcode): Patch tags present in jump tables, if any.\n\n\t* lisp/emacs-lisp//byte-opt.el: (byte-optimize-lapcode): Add checks to\n\t  some peephole optimizations to prevent them from messing up any code\n\t  involving `byte-switch`.\n\n\t* src/bytecode.c: (exec_byte_code): Add bytecode Bswitch.\n\n2017-01-14  Alan Third  <alan@idiocy.org>\n\n\tFix NS main thread check (bug#25265)\n\n\t* src/nsterm.m (ns_read_socket, ns_select): Replace mainThread with\n\tisMainThread.\n\n2017-01-14  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/progmodes/sql.el (sql-product-alist): Doc tweak\n\n\t`:sqli-comint-func' does not have to be a symbol.\n\n2017-01-14  Alan Mackenzie  <acm@muc.de>\n\n\tCorrect c-parse-state-get-strategy for moving HERE backward into a macro.\n\n\t* lisp/progmodes/cc-engine.el (c-parse-state-get-strategy): When HERE is below\n\tits previous value, we chose strategy 'forward, and the new HERE is in a\n\t(different) macro, ensure the returned START-POINT is not above the start of\n\tthe macro.\n\n2017-01-14  Eli Zaretskii  <eliz@gnu.org>\n\n\tInclude \"Date:\" in mail messages filed by 'sendmail-send-it'\n\n\t* lisp/mail/sendmail.el (mail-do-fcc): Insert a 'Date:' header\n\tinto the filed message.  In the outgoing message, sendmail will\n\tadd the date, but the composed message body doesn't have it.\n\t(Bug#25436)\n\n2017-01-14  Eli Zaretskii  <eliz@gnu.org>\n\n\t* lisp/progmodes/sql.el (sql-product-alist): Doc fix.  (Bug#25440)\n\n2017-01-14  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tRemove leftover references to log-view-message-face\n\n\t* lisp/vc/vc-bzr.el (vc-bzr-log-view-mode): Use log-view-message.\n\n\t* lisp/vc/vc-git.el (vc-git-root-log-format): Same.\n\n\t* lisp/vc/vc-hg.el (vc-hg-root-log-format): Same.\n\n2017-01-13  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\tRecord autoloads till emacs dump\n\n\t* admin/ldefs-clean.el (ldefs-clean-up): Record autoloads till emacs dump\n\t* lisp/ldefs-boot-auto.el (batch-byte-compile): Update\n\n\tPreviously, autoloads were collected till loaddefs.el was generated as\n\tpart of the build. However, bootstrap-emacs does not load\n\tloaddefs (rather it is dumped), hence we must record autoloads until the\n\tfull emacs binary is dumped.\n\n2017-01-13  Tom Tromey  <tom@tromey.com>\n\n\tAdd chained indentation to js-mode\n\n\tBug#20896\n\t* lisp/progmodes/js.el (js-chain-indent): New variable.\n\t(js--skip-term-backward, js--skip-terms-backward)\n\t(js--chained-expression-p): New functions.\n\t(js--proper-indentation): Call js--chained-expression-p.\n\t* test/manual/indent/js-chain.js: New file.\n\t* test/manual/indent/js.js: Add (non-)chained indentation test.\n\n2017-01-13  Tom Tromey  <tom@tromey.com>\n\n\tFix js-mode indentation bug\n\n\tBug#15582:\n\t* lisp/progmodes/js.el (js--find-newline-backward): New function.\n\t(js--continued-expression-p): Use it.\n\t* test/manual/indent/js.js: Add new test.\n\n2017-01-13  Tom Tromey  <tom@tromey.com>\n\n\tFix definition of EMACS in test/manual/indent/Makefile\n\n\t* test/manual/indent/Makefile (EMACS): Add one more \"..\".\n\n2017-01-13  Tom Tromey  <tom@tromey.com>\n\n\tAdd .jsx to auto-mode-alist\n\n\tBug#25389:\n\t* lisp/files.el (auto-mode-alist): Add entry for .jsx.\n\n2017-01-13  Tom Tromey  <tom@tromey.com>\n\n\tFix two js-mode filling bugs\n\n\tBug#19399 and Bug#22431:\n\t* lisp/progmodes/js.el (js-mode): Set comment-line-break-function and\n\tc-block-comment-start-regexp.\n\t* test/lisp/progmodes/js-tests.el: New file.\n\n2017-01-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix last change\n\n\t* test/src/thread-tests.el (threads-condvar-wait): Revert\n\tprevious change.  Make sure no other threads from previous\n\ttests are running, to avoid interfering with our thread counts.\n\n2017-01-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix the new condvar test\n\n\t* test/src/thread-tests.el (threads-condvar-wait): Enlarge the\n\ttime we sleep in the main thread to let the other thread\n\tprocess notifications.\n\n2017-01-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tMinor improvements in the new condvar test\n\n\t* test/src/thread-tests.el (threads-test-condvar-wait): Use\n\twith-mutex instead of emulating it inline.\n\t(threads-condvar-wait): Improve comments.  Check that the new\n\tthread is alive before waiting for it to become blocked on the\n\tconditional variable.\n\n2017-01-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix a bug in waiting for condition variable\n\n\t* src/thread.c (lisp_mutex_lock, lisp_mutex_unlock)\n\t(lisp_mutex_unlock_for_wait, condition_wait_callback)\n\t(condition_notify_callback): Improve commentary.\n\t(condition_wait_callback): Call post_acquire_global_lock before\n\tattempting to lock the mutex, to make sure the lock's owner is\n\trecorded correctly.\n\n\t* test/src/thread-tests.el (threads-condvar-wait): New test.\n\n2017-01-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of dabbrevs\n\n\t* doc/emacs/abbrevs.texi (Dynamic Abbrevs): Add a cross reference\n\tto \"Dabbrev Customization\".\n\t(Dabbrev Customization): More details about the default value of\n\tdabbrev-abbrev-char-regexp and use cases when it might not be good\n\tenough.  (Bug#25432)\n\n2017-01-13  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\tFix last change of dd80ee6 (was: mm-uu.el: Don't dissect patch part)\n\n2017-01-13  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\tmm-uu.el: Don't dissect patch part\n\n\tThis fixes a bug that the patch part is broken in the article\n\t<87inpjzhpb.fsf@users.sourceforge.net> in the bug-gnu-emacs list.\n\n\t* lisp/gnus/mm-uu.el (mm-uu-dissect-text-parts):\n\tDon't dissect patch part.\n\n2017-01-13  Dmitry Lazurkin  <dilaz03@gmail.com>\n\n\tFix extracting async def type and name in python mode imenu\n\n\t* lisp/progmodes/python.el (python-imenu--get-defun-type-name):\n\tNew function.\n\t(python-imenu--build-tree): Use python-imenu--get-defun-type-name for\n\textract async or simple def type and name at current\n\tposition (Bug#24820).\n\t* test/lisp/progmodes/python-tests.el (python-imenu-create-index-1):\n\t(python-imenu-create-flat-index-1): Add async def's.\n\n2017-01-13  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\tRemove garbage from Content-Transfer-Encoding value (bug#25420)\n\n\t* lisp/mail/ietf-drums.el (ietf-drums-strip-cte): New function.\n\t(ietf-drums-remove-garbage): New function.\n\t(ietf-drums-remove-whitespace): Remove CR as well.\n\n\t* lisp/mail/mail-parse.el (mail-header-strip-cte):\n\tAlias to ietf-drums-strip-cte.\n\n\t* lisp/gnus/gnus-art.el (article-decode-charset):\n\t* lisp/gnus/gnus-sum.el (gnus-summary-enter-digest-group):\n\t* lisp/gnus/mm-decode.el (mm-dissect-buffer):\n\t* lisp/gnus/nndoc.el (nndoc-decode-content-transfer-encoding)\n\t(nndoc-rfc822-forward-generate-article):\n\t* lisp/mh-e/mh-mime.el (mh-decode-message-body):\n\tReplace mail-header-strip with mail-header-strip-cte.\n\n2017-01-13  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRestore behavior of \u2018./autogen.sh autoconf git\u2019\n\n\t* autogen.sh: Do both autoconf and git setup when invoked\n\tas \u2018./autogen.sh autoconf git\u2019.  Avoid unnecessary newline in chatter.\n\tMention new --no-check option in usage message.  (Bug#25359)\n\n2017-01-12  Glenn Morris  <rgm@gnu.org>\n\n\t* autogen.sh: Simplify argument parsing.\n\n2017-01-12  Noam Postavsky  <npostavs@gmail.com>\n\n\tClarify that easy-menu-add is a nop (Bug#25382)\n\n\t* lisp/emacs-lisp/easymenu.el (easy-menu-add): Make it into an alias of\n\t`ignore', like `easy-menu-remove'.\n\n2017-01-12  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/textmodes/rst.el (rst-package-emacs-version-alist): Fix entry.\n\n2017-01-11  Glenn Morris  <rgm@gnu.org>\n\n\t* autogen.sh: Add --no-check option.  (Bug#25359)\n\n2017-01-11  Glenn Morris  <rgm@gnu.org>\n\n\tConvert some network test failures to skipping\n\n\tThese tests intermittently fail on hydra.nixos.org for unclear\n\treasons related to starting the external process.\n\tThis isn't an Emacs issue, and the failures cause noise on\n\tthe emacs-buildstatus list.  (Bug#24503)\n\t* test/lisp/net/network-stream-tests.el (echo-server-nowait)\n\t(connect-to-tls-ipv4-nowait): Skip rather than fail if the\n\texternal process fails to start properly.\n\n2017-01-11  Eli Zaretskii  <eliz@gnu.org>\n\n\tRevert \"Add DNS keywords and remove duplications\"\n\n\tThis reverts commit 1cb9aa5b14867983d0013a61709b4d0af18364ff.\n\n2017-01-11  Alexander Kuleshov  <kuleshovmail@gmail.com>\n\n\tAdd DNS keywords and remove duplications\n\n\t* lisp/textmodes/dns-mode.el (dns-mode-types): Add two TLSA and\n\tNSEC\" DNS related keywords and remove duplication of \"NSAP\".\n\n2017-01-11  Alexander Kuleshov  <kuleshovmail@gmail.com>\n\n\tAdd DNS keywords and remove duplications\n\n\t* lisp/textmodes/dns-mode.el (dns-mode-types): Add two TLSA and\n\tNSEC\" DNS related keywords and remove duplication of \"NSAP\".\n\n2017-01-11  Alan Mackenzie  <acm@muc.de>\n\n\tHandle syntactic WS cache properties more accurately at buffer changes.\n\n\tThis fixes bug #25362.\n\n\t* lisp/progmodes/cc-engine.el (c-sws-lit-type, c-sws-lit-limits)\n\t(c-invalidate-sws-region-before, c-invalidate-sws-region-after-del)\n\t(c-invalidate-sws-region-after-ins): New variables and functions.\n\t(c-invalidate-sws-region-after): Change from a defsubst to a defun.\n\tAlso pass\n\tit the standard OLD-LEN argument.  Call both\n\tc-invalidate-sws-region-after-{ins,del} to check for \"dangerous\" WS\n\tcache\n\tproperties.\n\n\t* lisp/progmodes/cc-langs.el (c-block-comment-ender-regexp): New language\n\tvariable.\n\n\t* lisp/progmodes/cc-mode.el (c-before-change): Call\n\tc-invalidate-sws-region-before.\n\t(c-after-change): Pass old-len to c-invalidate-sws-region-after.\n\n2017-01-11  Michael Albinus  <michael.albinus@gmx.de>\n\n\tSupport stat 8.26 in Tramp\n\n\t* lisp/net/tramp-sh.el (tramp-get-remote-stat): Use QUOTING_STYLE\n\tenvironment variable of newer coreutils.  (Bug#23422)\n\n2017-01-10  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of coding-systems\n\n\t* doc/lispref/nonascii.texi (Coding System Basics): Mention\n\t'prefer-utf-8'.  Index it and 'undecided'.\n\t(Encoding and I/O): Fix a typo.\n\t(User-Chosen Coding Systems): Improve the documentation of\n\tACCEPT-DEFAULT-P argument to select-safe-coding-system.  Document\n\tselect-safe-coding-system-function.\n\t(Specifying Coding Systems): Document coding-system-require-warning.\n\n2017-01-10  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from gnulib\n\n\tThis incorporates:\n\t2017-01-09 maint: time stamp -> timestamp\n\t2017-01-07 stdioext: Port to Minix 3.2 and newer\n\t2017-01-06 glob, intprops, xalloc: work around Clang bug\n\t2017-01-02 revert copyright-year change to synced files\n\t* doc/misc/texinfo.tex, lib/fpending.c, lib/intprops.h, lib/mktime.c:\n\t* lib/stat-time.h, lib/stdio-impl.h, lib/time.in.h, lib/timespec.h:\n\t* lib/utimens.c, lib/xalloc-oversized.h:\n\tCopy from gnulib.\n\n2017-01-10  Eli Zaretskii  <eliz@gnu.org>\n\n\tDon't use unsafe encoding for the bookmark file\n\n\t* lisp/bookmark.el (bookmark-write-file): Handle the case when the\n\texplicitly specified encoding of the bookmark file cannot encode the\n\tadditional bookmarks just added.  (Bug#25365)\n\n2017-01-09  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove definition of 'variable-pitch' face on MS-Windows\n\n\t* lisp/faces.el (variable-pitch): Don't specify too many\n\tattributes of the font, otherwise faces that request different\n\tweight or slant or size will not get them.\n\n2017-01-09  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix an error message in python.el\n\n\t* lisp/progmodes/python.el (python-shell-get-process-or-error):\n\tDon't repeat the same key binding twice.  (Bug#25405)\n\n2017-01-09  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\tRemove unused ldefs-boot.el\n\n\t * lisp/ldefs-boot.el: Remove\n\n\tThis file was not removed as reported in c27b645956a11, but accidentally\n\tleft.\n\n2017-01-09  Noam Postavsky  <npostavs@gmail.com>\n\t    Eli Zaretskii  <eliz@gnu.org>\n\n\tUse expanded stack during regex matches\n\n\tWhile the stack is increased in main(), to allow the regex stack\n\tallocation to use alloca we also need to modify regex.c to actually take\n\tadvantage of the increased stack, and not limit stack allocations to\n\tSAFE_ALLOCA bytes.\n\n\t* src/regex.c (MATCH_MAY_ALLOCATE): Remove obsolete comment about\n\tallocations in signal handlers which no longer happens and correct\n\tdescription about when and why MATCH_MAY_ALLOCATE should be defined.\n\t(emacs_re_safe_alloca): New variable.\n\t(REGEX_USE_SAFE_ALLOCA): Use it as the limit of stack allocation instead\n\tof MAX_ALLOCA.\n\t(emacs_re_max_failures): Rename from `re_max_failures' to avoid\n\tconfusion with glibc's `re_max_failures'.\n\t* src/emacs.c (main): Increase the amount of fixed 'extra' bytes we add\n\tto the stack.  Instead of changing emacs_re_max_failures based on the\n\tnew stack size, just change emacs_re_safe_alloca; emacs_re_max_failures\n\tremains constant regardless, since if we run out stack space SAFE_ALLOCA\n\twill fall back to heap allocation.\n\n2017-01-09  Noam Postavsky  <npostavs@gmail.com>\n\n\tFix computation of regex stack limit\n\n\tThe regex stack limit was being computed as the number of stack entries,\n\twhereas it was being compared with the current size as measured in\n\tbytes.  This could cause indefinite looping when nearing the stack limit\n\tif re_max_failures happened not to be a multiple of sizeof\n\tfail_stack_elt_t (Bug #24751).\n\n\t* src/regex.c (GROW_FAIL_STACK): Compute both current stack size and\n\tlimit as numbers of stack entries.\n\n2017-01-08  Alan Third  <alan@idiocy.org>\n\n\tRemove apploopnr\n\n\t* src/nsterm.m (ns_select, ns_read_socket): Remove apploopnr and only\n\tallow app loop to run in main thread.\n\n2017-01-08  Glenn Morris  <rgm@gnu.org>\n\n\tRemove unused configure output variable\n\n\t* configure.ac (GNULIB_MK):\n\t* Makefile.in (gnulib_mk): Remove, no longer used.\n\n2017-01-08  Glenn Morris  <rgm@gnu.org>\n\n\tFix automake dependencies\n\n\t* Makefile.in (AUTOMAKE_INPUTS): Add nt/gnulib.mk.  (Bug#25372)\n\tAll platforms need this file to exist.\n\n2017-01-08  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRemove unnecessary blankp code\n\n\t* src/character.c (blankp): Remove redundant code that slows Emacs\n\tdown a bit.  The caller already does the test.\n\n2017-01-08  Stefan Merten  <stefan@merten-home.de>\n\n\t* lisp/textmodes/rst.el: Fix rst-forward-indented-block.\n\n\t* lisp/textmodes/rst.el (rst-cvs-header, rst-svn-rev)\n\t(rst-svn-timestamp)\n\t(rst-official-version, rst-official-cvs-rev)\n\t(rst-package-emacs-version-alist): Maintain version numbers.\n\t(rst-forward-indented-block): Fix. Start searching at next\n\tline again. Fixes fontification of comments continuing on the\n\tsame line they started.\n\n2017-01-08  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRemove @SET_MAKE@ from manually-maintained files\n\n\tEmacs now assumes GNU Make, so @SET_MAKE@ is no longer needed.\n\t* Makefile.in, lwlib/Makefile.in, nextstep/Makefile.in:\n\t* src/Makefile.in: Remove @SET_MAKE@.\n\n2017-01-07  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix a problem with `start-file-process' in Tramp\n\n\t* lisp/net/tramp-sh.el (tramp-maybe-open-connection):\n\t`start-file-process' shall work when `non-essential' is\n\tnon-nil, but there is already an established connection.\n\t<https://github.com/company-mode/company-mode/issues/462>\n\n2017-01-07  Rolf Ade  <rolf@pointsman.de>  (tiny change)\n\n\tFix selecting SQLite database files with sql-mode (Bug#23566)\n\n\t* lisp/progmodes/sql.el (sql-sqlite-login-params): Allow any name as\n\tSQLite database file name, by default.\n\t(sql-get-login-ext): Fixed read-file-name arguments to provide\n\tpath completion even if a database name pattern is customized and to\n\tallow creation of new SQLite database files.\n\n2017-01-07  Noam Postavsky  <npostavs@gmail.com>\n\n\tClarify major mode switching\n\n\t* doc/emacs/modes.texi (Major Modes):\n\t* doc/lispref/modes.texi (Modes, Major Modes): Explictly say that each\n\tbuffer has exactly one major mode and can't be \"turned off\", only\n\tswitched away from (Bug#25357).\n\n2017-01-07  Noam Postavsky  <npostavs@gmail.com>\n\n\tAdd helpful comment to compile-command's docstring\n\n\t* lisp/progmodes/compile.el (compile-command): Mention trailing space in\n\tdocstring (Bug#25337).\n\n2017-01-07  Eli Zaretskii  <eliz@gnu.org>\n\n\tSpecify encoding of the bookmark file\n\n\t* lisp/bookmark.el (bookmark-insert-file-format-version-stamp):\n\tAccept an argument CODING and include a 'coding:' cookie in the\n\tbookmark file preamble.\n\t(bookmark-upgrade-file-format-from-0): Call\n\t'bookmark-insert-file-format-version-stamp' with the file buffer's\n\tencoding, as detected when it was read.\n\t(bookmark-file-coding-system): New variable.\n\t(bookmark-load): Set bookmark-file-coding-system to the encoding\n\tof the loaded file.\n\t(bookmark-write-file): Bind coding-system-for-write to either the\n\tuser setting via \"C-x RET c\" or to the existing file encoding,\n\tdefaulting to 'utf-8-emacs'.  Update the value of\n\tbookmark-file-coding-system.  (Bug#25365)\n\n2017-01-07  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid infloop in 'ispell-region'\n\n\t* lisp/textmodes/ispell.el (ispell-begin-skip-region-regexp):\n\tProtect against 'ispell-skip-region-alist' being nil.  Reported by\n\tErnest Adrogu\u00e9 <nfdisco@gmail.com>, see\n\thttps://lists.gnu.org/r/help-gnu-emacs/2017-01/msg00007.html.\n\n2017-01-06  Philipp Stephani  <phst@google.com>\n\n\tAdd support for Unicode whitespace in [:blank:]\n\n\tSee Bug#25366.\n\n\t* src/character.c (blankp): New function for checking Unicode\n\thorizontal whitespace.\n\t* src/regex.c (ISBLANK): Use 'blankp' for non-ASCII horizontal\n\twhitespace.\n\t(BIT_BLANK): New bit for range table.\n\t(re_wctype_to_bit, execute_charset): Use it.\n\t* test/lisp/subr-tests.el (subr-tests--string-match-p--blank): Add\n\tunit test for [:blank:] character class.\n\t* test/src/regex-tests.el (test): Adapt unit test.\n\t* doc/lispref/searching.texi (Char Classes): Document new Unicode\n\tbehavior for [:blank:].\n\n2017-01-06  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix ':version' of 'select-enable-primary'\n\n\t* lisp/select.el (select-enable-primary): Fix a typo in\n\t':version'.  (Bug#25375)\n\n2017-01-06  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t(feedmail-deduce-address-list): Avoid add-to-list on local variables.\n\n\tAuthor:\n\n\t* lisp/mail/feedmail.el (feedmail-deduce-address-list):\n\tAvoid add-to-list on local variables.\n\n2017-01-06  Noam Postavsky  <npostavs@gmail.com>\n\n\tFix isearch handling of C-u C-u...\n\n\t* lisp/isearch.el: Add `isearch-scroll' property to\n\tuniversal-argument-more so that `isearch-allow-scroll' will apply to it\n\tas well.\n\t(isearch-pre-command-hook): Let `isearch-allow-prefix' apply to\n\t`universal-argument-more' as well (Bug#25302).\n\n2017-01-05  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tShorten autogen.sh script\n\n\t* autogen.sh: Use a shorter script, as some 'sed' implementations\n\tmishandle long scripts.\n\n2017-01-05  Eli Zaretskii  <eliz@gnu.org>\n\n\tYet another fix for autogen.sh\n\n\t* autogen.sh (gnulib.mk): Make the Sed script more portable.\n\n\t* nt/Makefile.in (${srcdir}/gnulib.mk): Adapt the Sed command to\n\tthe changes in autogen.sh.\n\n2017-01-05  Eli Zaretskii  <eliz@gnu.org>\n\n\t* autogen.sh (gnulib.mk): Another attempt to fix macOS build.\n\n2017-01-05  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix dependencies of nt/gnulib.mk\n\n\t* Makefile.in ($(srcdir)/nt/gnulib.mk): Avoid circular dependency\n\tof nt/gnulib.mk on lib/Makefile.in.\n\n2017-01-05  Eli Zaretskii  <eliz@gnu.org>\n\n\tUnbreak macOS build\n\n\t* autogen.sh (gnulib.mk): Don't use non-portable extensions of GNU\n\tSed.\n\n2017-01-05  Johan Claesson  <johanclaesson@bredband.net>  (tiny change)\n\n\tFix term.el handling of ^Z-sequences spanning chunks\n\n\tBash will after each command send ?\\032 and the current directory \"/tmp\"\n\tto inform term.el.  Bash output is buffered in 4096 bytes chunks.  If a\n\tcommand outputs roughly 4096 bytes then the end of the first chunk will\n\tbe \"/tm\" (Bug#13350).\n\n\t* lisp/term.el (term-emulate-terminal): Change the regexp to find the\n\tend of the ?\\032 sequence to use \\n instead of $, the latter can match\n\tend of string as well.\n\n2017-01-05  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tTurn on lexical-binding in mb-depth.el\n\n\t* lisp/mb-depth.el: Turn on lexical-binding.\n\t(minibuffer-depth-setup): Bind things used multiple times.\n\n2017-01-04  Alan Third  <alan@idiocy.org>\n\n\tRevert \"Rework NS event handling (bug#25265)\"\n\n\tThis reverts commit e0e5b0f4a4ce1d19ee0240c514dedd873d4165dc.\n\n2017-01-04  Glenn Morris  <rgm@gnu.org>\n\n\tUpdate remaining copyright years with admin.el M-x set-copyright\n\n\t* etc/refcards/ru-refcard.tex (cyear): Set to 2017.\n\n2017-01-04  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/ffap.el (ffap-lax-url): Bump :version after recent change.\n\n2017-01-04  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort recent autogen.sh changes to Darwin\n\n\tProblem reported by Sam Steingold (Bug#25347).\n\t* autogen.sh: Don't assume 'sed -f-' reads a script from stdin, as\n\tPOSIX does not require it and it does not work on Darwin.\n\n2017-01-04  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tAvoid add-to-list on local variables\n\n\t* lisp/gnus/nnir.el: Use lexical-binding and cl-lib.\n\t(nnir-retrieve-headers): Use pcase.\n\t(nnir-search-thread): Avoid add-to-list on local variables.\n\n\t* lisp/gnus/smime.el: Use lexical-binding and cl-lib.\n\t(smime-verify-region): Avoid add-to-list on local variables.\n\n\t* lisp/mail/undigest.el: Use lexical-binding and cl-lib.\n\t(rmail-digest-parse-mime, rmail-digest-rfc1153)\n\t(rmail-digest-parse-rfc934): Avoid add-to-list on local variable.\n\n\t* lisp/net/ldap.el (ldap-search): Move init into declaration.\n\n\t* lisp/net/newst-backend.el (newsticker--cache-add):\n\tAvoid add-to-list on local variables; Simplify code with `assq'.\n\n\t* lisp/net/zeroconf.el: Use lexical-binding and cl-lib.\n\t(dbus-debug): Remove declaration, unused.\n\t(zeroconf-service-add-hook, zeroconf-service-remove-hook)\n\t(zeroconf-service-browser-handler, zeroconf-publish-service):\n\tAvoid add-to-list and *-hook on local variables.\n\n\t* lisp/org/org-archive.el (org-all-archive-files):\n\t* lisp/org/org-agenda.el (org-agenda-get-restriction-and-command):\n\tAvoid add-to-list on local variables.\n\n\t* lisp/org/ox-publish.el (org-publish--run-functions): New function.\n\t(org-publish-projects): Use it to avoid run-hooks on a local variable.\n\t(org-publish-cache-file-needs-publishing): Avoid add-to-list on\n\tlocal variables.\n\n\t* lisp/progmodes/ada-prj.el: Use setq instead of (set '...).\n\t(ada-prj-load-from-file): Avoid add-to-list on local variables.\n\n\t* lisp/progmodes/ada-xref.el (ada-initialize-runtime-library): Simplify.\n\t(ada-gnat-parse-gpr, ada-parse-prj-file-1)\n\t(ada-xref-find-in-modified-ali): Avoid add-to-list on local variables.\n\n\t* lisp/progmodes/idlw-shell.el (idlwave-shell-update-bp-overlays):\n\tAvoid add-to-list on local variables.\n\n2017-01-04  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tTurn on lexical-binding in md4.el\n\n\t* lisp/md4.el: Turn on lexical-binding.\n\t* test/lisp/md4-tests.el: New file.\n\n2017-01-03  Stefan Merten  <stefan@merten-home.de>\n\n\tLots of refactorings and a few minor improvements.\n\n\tUser visible improvements and changes:\n\t* Improve and debug `rst-forward-section` and `rst-backward-section`.\n\t* Auto-enumeration may be used with all styles for list insertion.\n\t* Improve and debug `rst-toc-insert`.\n\t* Adapt change in Emacs to use customization group `text` instead of `wp`.\n\t* Bind `n` and `p` in `rst-toc-mode`.\n\t* `z` in `toc-mode` returns to the previous window configuration.\n\t* Require Emacs version >= 24.1.\n\n\tLots of refactorings including:\n\t* Silence byte compiler.\n\t* Use lexical binding.\n\t* Use `cl-lib`.\n\t* Add tests and raise test coverage.\n\n2017-01-03  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t(cl-defstruct): Improve error message for slots w/o value (bug#25312)\n\n\t* lisp/emacs-lisp/cl-macs.el (cl-defstruct): Don't signal an error but\n\temit a warning for those coders who forgot to put a default value in\n\ttheir slot.\n\n2017-01-03  Philipp Stephani  <p.stephani2@gmail.com>\n\n\tSmall patch for ffap.el\n\n\t* lisp/ffap.el (ffap-alist): Document that ffap sets the match data\n\twhile walking 'ffap-alist'.\n\n2017-01-03  Eli Zaretskii  <eliz@gnu.org>\n\n\tGenerate nt/gnulib.mk from lib/gnulib.mk\n\n\tThis was proposed by Paul Eggert <eggert@cs.ucla.edu>,\n\twith the purpose of avoiding manual maintenance of\n\tnt/gnulib.mk.\n\n\t* nt/gnulib-modules-to-delete.cfg: New file.\n\t* nt/Makefile.in (AM_V_GEN, am__v_GEN_, am__v_GEN_0)\n\t(am__v_GEN_1): New variables.\n\t(${srcdir}/gnulib.mk): Rules to generate gnulib.mk from\n\tlib/gnulib.mk and list of modules in gnulib-modules-to-delete.cfg.\n\n\t* make-dist (nt): Add gnulib-modules-to-delete.cfg to the list of\n\tfiles to link.\n\t* configure.ac (GNULIB_MK): Compute the value according to $opsys.\n\t* autogen.sh: Create nt/gnulib.mk if it doesn't exist, before\n\trunning autoreconf.\n\t* Makefile.in (gnulib_mk): New variable.\n\t($(srcdir)/nt/gnulib.mk): Rule to produce it.\n\t(AUTOMAKE_INPUTS): Use $(gnulib_mk) instead of a literal file\n\tname.\n\t* .gitignore: Add nt/gnulib.mk.\n\n\t* src/w32.c (acl_errno_valid): Implement it here, as we no longer\n\tbuild the acl-permissions module from Gnulib.\n\n2017-01-03  Noam Postavsky  <npostavs@gmail.com>\n\n\tHandle multibyte chars spanning chunks in term.el\n\n\t* lisp/term.el (term-terminal-undecoded-bytes): New variable.\n\t(term-mode): Make it buffer local.  Don't make `term-terminal-parameter'\n\tbuffer-local twice.\n\t(term-emulate-terminal): Check for bytes of incompletely decoded\n\tcharacters, and save them until the next call when they can be fully\n\tdecoded (Bug#25288).\n\n2017-01-03  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFinish work on filenotify-tests.el\n\n\t* test/lisp/filenotify-tests.el (file-notify--test-monitors):\n\tNew variable.\n\t(file-notify--test-cleanup, file-notify--test-monitor): Use it.\n\t(file-notify--test-read-event, file-notify-test02-events)\n\t(file-notify-test04-file-validity): Handle \"gvfs-monitor-dir.exe\".\n\t(file-notify-test03-autorevert)\n\t(file-notify-test08-watched-file-in-watched-dir):\n\tSet `file-notify--test-desc' for proper work of\n\t`file-notify--test-monitor'.  (Bug#21804)\n\n2017-01-02  Michael Albinus  <michael.albinus@gmx.de>\n\n\tCheck also for \"gvfs-monitor-dir.exe\" in Tramp\n\n\t* lisp/net/tramp-sh.el (tramp-get-remote-gvfs-monitor-dir): Check also\n\tfor \"gvfs-monitor-dir.exe\".\n\n2017-01-02  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix compilation --without-x\n\n\t* src/composite.c (autocmp_chars) [HAVE_WINDOW_SYSTEM]: Call\n\tfont_range only if it is compiled in.  (Bug#25334)\n\n2017-01-02  Sa\u0161o \u017divanovi\u0107  <saso.zivanovic@guest.arnes.si>\n\n\tFix RefTeX to show table of contents for dtx files (tiny change)\n\n\t* lisp/textmodes/reftex.el (reftex-compile-variables): Change the\n\t  section regexp so that it accepts lines starting with the comment\n\t  character. (tiny change)\n\t* lisp/textmodes/reftex-parse.el (reftex-parse-from-file): Filter\n\t  gathered toc entries, accepting a commented entry if and only if the\n\t  source file is a \".dtx\" file. (tiny change)\n\n2017-01-02  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRemove mistakenly-added files\n\n\tProblem reported by Glenn Morris in:\n\thttps://lists.gnu.org/r/emacs-devel/2017-01/msg00008.html\n\t* lisp/gnus/gnus-ems.el, lisp/gnus/gnus-sync.el:\n\t* lisp/gnus/messcompat.el, lisp/nxml/nxml-glyph.el:\n\t* lisp/nxml/nxml-uchnm.el, lisp/obsolete/awk-mode.el:\n\t* lisp/obsolete/iso-acc.el, lisp/obsolete/iso-insert.el:\n\t* lisp/obsolete/iso-swed.el, lisp/obsolete/resume.el:\n\t* lisp/obsolete/scribe.el, lisp/obsolete/spell.el:\n\t* lisp/obsolete/swedish.el, lisp/obsolete/sym-comp.el:\n\tRemove files that were added by mistake during a merge.\n\n2017-01-01  Noam Postavsky  <npostavs@gmail.com>\n\n\tWarn about incomplete untarring of link files\n\n\tThe current tar-mode doesn't really support unpacking symlinks, it\n\tsimply creates an empty file of the same name.\n\n\t* lisp/tar-mode.el (tar--describe-as-link): New function extracted from\n\t`tar--check-descriptor'.\n\t(tar-untar-buffer): Use it to warn about imperfectly untarred link\n\tfiles.\n\n2017-01-01  Noam Postavsky  <npostavs@gmail.com>\n\n\tRemove sh-mode's skeleton-end-hook\n\n\t* lisp/progmodes/sh-script.el (sh-mode): Remove local setting of\n\t`skeleton-end-hook', `skeleton-insert' already does `newline-and-indent'\n\tand also respects `skeleton-end-newline' (Bug#16634).\n\n2017-01-01  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* nt/gnulib.mk (stdint.h): Update to match lib/gnulib.mk here.\n\n2017-01-01  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tAdd term/tmux.el\n\n\tSince tmux version 2.1, new tmux terminfos are shipped due to oddities\n\twith xterm and screen terminfos.  This is simply a duplication of\n\tterm/screen.el with screen -> tmux.\n\t* lisp/term/tmux.el: New file.\n\n2017-01-01  Philipp Stephani  <phst@google.com>\n\n\tFix encoding of JSON surrogate pairs\n\n\tJSON requires that such pairs be treated as UTF-16 surrogate pairs, not\n\tindividual code points; cf. Bug #24784.\n\n\t* lisp/json.el (json-read-escaped-char): Fix decoding of surrogate\n\tpairs.\n\t(json--decode-utf-16-surrogates): New defun.\n\n\t* test/lisp/json-tests.el (test-json-read-string): Add test for\n\tsurrogate pairs.\n\n2017-01-01  Michael Albinus  <michael.albinus@gmx.de>\n\n\tRemove tramp-gw.el, which was synced from emacs-25 by accident\n\n2017-01-01  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDo not use Gnulib\u2019s m4/wint_t.m4.\n\n\t* admin/merge-gnulib: Remove m4/wint_t.m4 when merging.\n\tFix typo so that warn-on-use.m4 is removed too.\n\t* configure.ac (gt_TYPE_WINT_T): New macro, replacing Gnulib\u2019s.\n\t* m4/wint_t.m4: Remove.\n\n2017-01-01  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from gnulib, continued\n\n\t* m4/wint_t.m4: New file, copied from gnulib.\n\n2017-01-01  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tUpdate copyright year to 2017 in master\n\n\tRun admin/update-copyright in the master branch.  This fixes files\n\tthat were not already fixed in the emacs-25 branch before it was\n\tmerged here.\n\n2017-01-01  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRemove test/automated detritus from merge\n\n2017-01-01  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from gnulib\n\n\tThis incorporates:\n\t2016-12-19 stdint: Fix WINT_MAX to match wint_t on mingw\n\t2016-12-18 getopt: Fix link error for users of getopt() in <unistd.h>\n\t2016-12-17 getlogin: Port to newer mingw\n\t2016-12-17 stdint: Fix WINT_MAX to match wint_t on MSVC\n\t2016-12-17 Avoid redefinition errors on MSVC\n\t* lib/getopt.in.h, lib/stdint.in.h, lib/stdio.in.h, lib/unistd.in.h:\n\t* m4/stdint.m4, m4/unistd_h.m4:\n\tCopy from gnulib.\n\t* lib/gnulib.mk, m4/gnulib-comp.m4: Regenerate.\n\tPlus, this commit updates the indenting on copyright notices to\n\tmatch that of gnulib.\n\n2017-01-01  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\t2e2a806 Fix copyright years by hand\n\t5badc81 Update copyright year to 2017\n\n2017-01-01  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\t665be69 ; Update ChangeLog.2 and AUTHORS files\n\n\t# Conflicts:\n\t#\tetc/AUTHORS\n\n2017-01-01  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\t697167b ; Improve wording of previous change in variables.texi\n\td7973e8 Document 'default-toplevel-value' and 'set-default-toplevel-v...\n\t8b71826 Don't modify minibuffer variables globally\n\t5b5e036 Revert to pre-25.1 behavior in ffap\n\t19994a1 * lisp/ffap.el: Fix obsolete comment referencing ffap-bug.\n\t3ace730 Attempt to fix 64-bit AIX build\n\tf69bd79 Clarify usage of 'ediff-cleanup-hook' (Bug#24675)\n\tc04ac8a Document that variable binding order is unspecified\n\t272554a * lisp/desktop.el (desktop-buffers-not-to-save): Doc fix.\n\t08de101 Fix M-x hints on Mac port\n\t86a297a Work around reporting a dpi change in apply_xft_settings\n\tcf1f985 ; lisp/skeleton.el (skeleton-insert): Fix typo in last change\n\t9e1209d Amend the version number of CC Mode 5.33 -> 5.32.99.  Don't m...\n\t88cdf14 Improve skeleton docstrings\n\n2017-01-01  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\t4179238 Improve documentation of 'w32-scroll-lock-modifier'\n\n2017-01-01  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\t9adb101 Document 'describe-fontset'\n\t229315c ; Add missing symbol quoting.\n\t3d94931 Repair desktop restoration on text terminals\n\t43022f9 Ignore forward-sexp-function in js-mode indentation code\n\tb19fb49 Improve documentation of 'define-coding-system'\n\t467768f Fix Bug#25162\n\t6db78ae Fix a typo in define-abbrev-table\n\t5f7d906 Bump makeinfo requirement from 4.7 to 4.13\n\t442e2f6 Fixes related to select-enable-clipboard\n\te4ac450 Define struct predicate before acccesors\n\t08decbd Doc fix for vc-git\n\t5531e75 Further improve make-dist checking\n\t953bf67 Improve previous make-dist change\n\t129645a Make make-dist --snapshot do some sanity checks\n\n\t# Conflicts:\n\t#\tlisp/menu-bar.el\n\n2017-01-01  Alan Mackenzie  <acm@muc.de>\n\n\tGive eval-and-compile a correct edebug spec.  Fixes bug #16184 properly.\n\n\t* lisp/emacs-lisp/edebug.el (edebug_offset_indices): Revert abortive commit\n\tfrom Thu Dec 29 09:22:36 2016 +0000 which didn't really fix the bug.\n\n\t* lisp/emacs-lisp/byte-run.el (eval-and-compile): Change the edebug spec from\n\tt to (&rest def-form).\n\n2017-01-01  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix copyright years by hand\n\n\tThese are dates that admin/update-copyright did not update, or\n\tupdated incorrectly.\n\n2017-01-01  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tUpdate copyright year to 2017\n\n\tRun admin/update-copyright.\n\n2016-12-31  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tClarify internal_catch etc.\n\n\tThe recent change to internal_catch and friends relied on some\n\tconfusion I introduced to the code in 2013.  Attempt to fix\n\tthe confusion by clarifying the code instead.  This saves an\n\tinstruction and a load dependency in the typical case.\n\t* src/eval.c (internal_catch, internal_condition_case)\n\t(internal_condition_case_1, internal_condition_case_2)\n\t(internal_condition_case_n): Undo the previous change.  Instead,\n\tuse use \u2018c\u2019 rather than \u2018handlerlist\u2019 in the typical case.\n\tAlso, use \u2018eassert\u2019 rather than \u2018clobbered_eassert\u2019 when possible.\n\n2016-12-31  Ken Brown  <kbrown@cornell.edu>\n\n\tFurther improve filenotify-tests.el\n\n\t* test/lisp/filenotify-tests.el\n\t(file-notify--test-read-event): Adapt to file monitors of type\n\tGFamFileMonitor, which occur on Cygwin.\n\t(file-notify--test-monitor): Update doc string.\n\n2016-12-31  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* src/xdisp.c (string_from_display_spec): Simplify.\n\n2016-12-31  Alan Third  <alan@idiocy.org>\n\n\tRework NS event handling (bug#25265)\n\n\t* src/nsterm.m (unwind_apploopnr): Remove.\n\t(ns_read_socket): Remove references to apploopnr.  Make processing the\n\tNS event loop conditional on being in the main thread.\n\t(ns_select): Remove references to apploopnr.  Remove all fd_handler\n\trelated stuff.  Check if there are events waiting on the NS event\n\tqueue rather than running the event loop.  Remove unused variables and\n\tcode.\n\t(fd_handler): Remove.\n\t(ns_term_init): Remove creation of fd_handler thread.\n\t(hold_event, EmacsApp:sendEvent, EmacsView:mouseMoved,\n\tEmacsView:windowDidExpose): Remove send_appdefined.\n\t(ns_send_appdefined): Always check the event queue for\n\tapplicationDefined events rather than relying on send_appdefined var.\n\t* src/nsterm.h: Remove reference to fd_handler method.\n\n2016-12-31  Philipp Stephani  <phst@google.com>\n\n\tCheckdoc: use syntax functions instead of regex\n\n\tIn checkdoc.el, get rid of the error-prone regex to find definition\n\tforms, and use existing syntax-based navigation functions instead.\n\tThis fixes a corner case with one-argument `defvar' forms.\n\n\t* lisp/emacs-lisp/checkdoc.el (checkdoc--next-docstring): New function.\n\t(checkdoc-next-docstring, checkdoc-defun): Use it.\n\t* test/lisp/emacs-lisp/checkdoc-tests.el (checkdoc-tests--next-docstring):\n\tAdd unit test.\n\n2016-12-31  Eli Zaretskii  <eliz@gnu.org>\n\n\tDon't define NOMINMAX on MS-Windows\n\n\t* src/callproc.c (NOMINMAX) [WINDOWSNT]: Don't define.  This is no\n\tlonger needed with the current sources and MinGW headers, while\n\tdefining NOMINMAX causes an annoying compiler warning.\n\n2016-12-31  Chris Gregory  <czipperz@gmail.com>  (tiny change)\n\n\tSimplify code in eval.c that calls 'setjmp'\n\n\t* src/eval.c (internal_catch, internal_condition_case)\n\t(internal_condition_case_1, internal_condition_case_2)\n\t(internal_condition_case_n): Factor out the common tail of the\n\tfunctions.\n\n2016-12-31  Chris Gregory  <czipperz@gmail.com>  (tiny change)\n\n\tSimplify code in 'string_from_display_spec'\n\n\t* src/xdisp.c (string_from_display_spec): Eliminate a redundant\n\ttest before the loop.\n\n2016-12-31  Eli Zaretskii  <eliz@gnu.org>\n\n\tSerialize random number generation on MS-Windows\n\n\t* src/w32.c (rand_as183): New function.\n\t(random): Use it instead of MS runtime's 'rand'.  This avoids\n\tproducing separate and identical random series in each Lisp\n\tthread.\n\t(srandom): Modify to supply 3 seed values to 'rand_as183'.\n\n2016-12-31  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* src/gfilenotify.c (Fgfile_monitor_name): Return interned symbol.\n\n2016-12-30  Ken Raeburn  <raeburn@raeburn.org>\n\n\tDon't call xg_select for a NextStep build.\n\n\tNextStep builds use glib but don't use xg_select.\n\n\t* src/process.c (wait_reading_process_output): Don't call xg_select\n\tfor a NextStep build.\n\n2016-12-30  Ken Raeburn  <raeburn@raeburn.org>\n\n\tIncrease the obarray size.\n\n\tIn a typical GNU/Linux/X11 build, we wind up with over 15k symbols by\n\tthe time we've started.  The old obarray size ensured an average chain\n\tlength of 10 or more.\n\n\t* src/lread.c (OBARRAY_SIZE): Increase to 15121.\n\n2016-12-30  Ken Raeburn  <raeburn@raeburn.org>\n\n\tInitialize thread support for Xlib.\n\n\t* src/xterm.c (x_initialize) [THREADS_ENABLED]: Call XInitThreads\n\tbefore doing anything else with X.\n\n2016-12-30  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRename primary_thread to main_thread\n\n\tThis avoids the confusion of using two different phrases \"main thread\"\n\tand \"primary thread\" internally to mean the same thing.  See:\n\thttps://lists.gnu.org/r/emacs-devel/2016-12/msg01142.html\n\t* src/thread.c (main_thread): Rename from primary_thread,\n\tsince the new name no longer clashes with main_thread_id\n\tand Emacs internals normally call this the \"main thread\".\n\t(init_main_thread): Rename from init_primary_thread.\n\t(main_thread_p): Rename from primary_thread_p.\n\tAll uses changed.\n\n2016-12-30  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRename main_thread to main_thread_id and simplify\n\n\t* src/emacs-module.c: Include syssignal.h, for main_thread_id.\n\t[HAVE_PTHREAD]: Do not include pthread.h.\n\t(main_thread): Remove.  All uses replaced by main_thread_id,\n\tor by dwMainThreadId on NT.  Since the HAVE_PTHREAD code is now using\n\tthe main_thread_id established by sysdep.c, there is no need for a\n\tseparate copy of the main thread ID here.\n\t(module_init): Remove.  All uses removed.\n\t* src/sysdep.c (main_thread_id) [HAVE_PTHREAD]:\n\tRename from main_thread.  All uses changed.  Now extern.\n\n2016-12-30  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* src/gfilenotify.c (Fgfile_monitor_name): Return a symbol.\n\n2016-12-30  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* src/sysdep.c (deliver_process_signal): Improve comment.\n\n2016-12-30  Alan Mackenzie  <acm@muc.de>\n\n\tCC Mode: Fix the fontification of a spuriously recognized enum member.\n\n\tThe \"enum\" was in an argument list, but triggered the fontification of a\n\tfollowing identifier in the function block as though it were in an enum\n\tdeclaration.\n\n\t* lisp/progmodes/cc-fonts.el (c-font-lock-enum-body): New function.\n\t(c-basic-matchers-after): Replace the inline stanza for enum elements with a\n\tcall to c-font-lock-enum-body.\n\n\t* lisp/progmodes/cc-langs.el (c-enum-clause-introduction-re): New language\n\tvariable.\n\n2016-12-30  Nicolas Petton  <nicolas@petton.fr>\n\n\tBump Emacs version to 25.1.91\n\n\t* README:\n\t* configure.ac:\n\t* msdos/sed2v2.inp:\n\t* nt/README.W32: Bump Emacs version.\n\t* lisp/ldefs-boot.el: Update.\n\n2016-12-30  Eli Zaretskii  <eliz@gnu.org>\n\n\tAttempt to fix crashes with threads in GTK builds\n\n\t* src/xgselect.c (xg_select): Call pselect via thread_select, not\n\tdirectly, to avoid running Lisp (via unblock_input) when more than\n\tone thread could be running.  (Bug#25247)\n\t* src/process.c (wait_reading_process_output) [HAVE_GLIB]: Call\n\txg_select directly instead of through thread_select.\n\t* src/xgselect.h (xg_select): Last 2 arguments are no longer\n\t'const', for consistency with thread_select.\n\n2016-12-30  Arash Esbati  <arash.esbati@gmail.com>\n\n\tAdd entry for biblatex\n\n\t* lisp/textmodes/reftex-vars.el (reftex-cite-format-builtin): Add\n\tentry for biblatex macros.\n\n2016-12-30  Alan Mackenzie  <acm@muc.de>\n\n\tBackport: Remove an ambiguity from defvar's doc string.  Fixes bug #25292.\n\n\tThe ambiguity was whether INITVALUE is evaluated when it's not going to be\n\tused to set SYMBOL's value.\n\n\t* src/eval.c (defvar): Rewrite a paragraph of the doc string.\n\n\t(cherry picked from commit 8295e97f18490a535d1188a3daf0b0fd1bf4fa0d)\n\n2016-12-30  Tino Calancha  <tino.calancha@gmail.com>\n\n\tffap-string-at-point: Limit max length of active region\n\n\tPrevents that 'ffap-guesser' waste time checking large strings\n\twhich are likely not valid candidates (Bug#25243).\n\t* lisp/ffap.el (ffap-max-region-length): New variable.\n\t(ffap-string-at-point): Use it.\n\t* test/lisp/ffap-tests.el: New test suite.\n\t(ffap-tests-25243): Add test for this bug.\n\n2016-12-30  Thien-Thi Nguyen  <ttn@gnu.org>\n\n\tlast-chance: Also ignore NEWS files + typo fixes\n\n\t* admin/last-chance.el: Fix typo in copyright notice.\n\t(last-chance-uninteresting-regexps): Add entry to match NEWS files.\n\t(last-chance-cleanup): Fix typo in docstring.\n\n2016-12-29  Mike Kupfer  <mkupfer@alum.berkeley.edu>\n\n\t* lisp/mh-e/mh-e.el (mh-fetch-x-image-url): Fix a docstring typo.\n\n2016-12-29  Alan Mackenzie  <acm@muc.de>\n\n\tRemove an ambiguity from defvar's doc string.  Fixes bug #25292.\n\n\tThe ambiguity was whether INITVALUE is evaluated when it's not going to be\n\tused to set SYMBOL's value.\n\n\t* src/eval.c (defvar): Rewrite a paragraph of the doc string.\n\n2016-12-29  Michael Albinus  <michael.albinus@gmx.de>\n\n\tImprove filenotify-tests.el\n\n\t* src/inotify.c (Finotify_valid_p):\n\t* src/kqueue.c (Fkqueue_valid_p):\n\t* src/w32notify.c (Fw32notify_valid_p):\n\t* src/gfilenotify.c (Fgfile_valid_p): Fix typo in docstring.\n\t(Fgfile_monitor_name): New defun.\n\t(syms_of_gfilenotify): Declare Sgfile_monitor_name.\n\n\t* test/lisp/filenotify-tests.el\t(file-notify--test-read-event):\n\tNew defun, derived from `file-notify--test-read-event-timeout'.\n\tReplace all calls of `read-event' by this.\n\t(file-notify--test-timeout): Fix docstring.\n\t(file-notify--test-monitor): New defun.\n\t(file-notify--deftest-remote): Do not bind\n\t`file-notify--test-read-event-timeout' anymore.\n\t(file-notify-test00-availability): Print also monitor, if existent.\n\t(file-notify--test-with-events): Add an additional\n\t`file-notify--test-read-event' call, in order to get it work\n\tafter `file-notify-add-watch'.  Remove special timeout for cygwin.\n\t(file-notify-test02-events): Make a better check for cygwin.\n\t(file-notify-test06-many-events): Improve event list for cygwin.\n\t(file-notify-test08-watched-file-in-watched-dir): Add cygwin case.\n\n2016-12-29  Alan Mackenzie  <acm@muc.de>\n\n\tPartially correct fontification of \"(b*3)\", and the like, in C++ Mode\n\n\tThis problem is caused by the fundamental ambiguity in C++ between\n\targument declarations and initialization clauses.\n\n\t* lisp/progmodes/cc-fonts.el (c-font-lock-declarations): If we have an open\n\tparen preceded by an arithmetic operator, we give this the context nil, not\n\t'arglist.\n\n\t* lisp/progmodes/cc-langs.el (c-arithmetic-operators, c-arithmetic-op-regexp):\n\tNew lang consts and vars.\n\n2016-12-29  Alan Mackenzie  <acm@muc.de>\n\n\tInitialize edebug-offset-indices to a cons, not nil.  Fixes bug #16184.\n\n\tThis is because there are times when this variable is changed by setcar before\n\tan atom is pushed onto it by debug-enter.  This happens, for example, whilst\n\tinstrumenting c-font-lock-declarations in .../lisp/progmodes/cc-fonts.el.\n\n\t* lisp/emacs-lisp/edebug.el (edebug-offset-indices): initialize to '(0).\n\n2016-12-28  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/inline.el: Fix apply-conversion (bug#25280)\n\n\t(inline--dont-quote): Quote the function with #' when passing it to `apply'.\n\tCherry picked from commit e6161f648903d821865b9610b3b6aa0f82a5dcb7.\n\n2016-12-27  Michael Albinus  <michael.albinus@gmx.de>\n\n\tRelease Tramp 2.3.1\n\n\t* doc/misc/trampver.texi:\n\t* lisp/net/trampver.el: Change version to \"2.3.1\".\n\n\t* lisp/net/tramp.el (tramp-eshell-directory-change): Add it to\n\t`eshell-mode-hook' but `eshell-first-time-mode-hook'.\n\n\t* lisp/net/tramp-compat.el (tramp-compat-file-name-quoted-p)\n\t(tramp-compat-file-name-quote)\n\t(tramp-compat-file-name-unquote): Embed them in `eval-and-compile'.\n\n2016-12-27  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSimplify prog1 implementation\n\n\tInspired by a suggestion from Chris Gregory in:\n\thttps://lists.gnu.org/r/emacs-devel/2016-12/msg00965.html\n\tOn my platform, this generates exactly the same machine insns.\n\t* src/eval.c (prog_ignore): Rename from unwind_body, since\n\tit\u2019s more general than that.  All callers changed.\n\t(Fprog1): Simplify by using prog_ignore.\n\t(Fwhile): Clarify by using prog_ignore.\n\n2016-12-27  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/inline.el: Fix apply-conversion (bug#25280)\n\n\t(inline--dont-quote): Quote the function with #' when passing it to `apply'.\n\n2016-12-27  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tRemove a use of lexical-let\n\n\t* lisp/gnus/message.el (message-completion-function): Just use let,\n\tsince the file now uses lexical-binding.\n\n2016-12-27  Ken Brown  <kbrown@cornell.edu>\n\n\tImprove filenotify-tests.el on Cygwin (Bug #21804)\n\n\t* test/lisp/filenotify-tests.el [CYGWIN]\n\t(file-notify--test-read-event-timeout): Increase.\n\t(file-notify--test-with-events): Add delay before executing body.\n\t(file-notify-test02-events, file-notify-test04-file-validity):\n\tAdjust expected results.\n\n2016-12-27  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix expand-file-name on DOS_NT systems when /: escaping is used\n\n\t* src/fileio.c (Fexpand_file_name) [DOS_NT]: Don't expand \"~\" in\n\tfile names escaped by \"/:\".  Don't recursively expand\n\tdefault-directory escaped with \"/:\" which is not followed by a\n\tdrive spec.  (Bug#25183)\n\n2016-12-27  Bake Timmons  <65pandas@gmail.com>\n\n\tFix `mail-sources' value of `(group)' in Gnus manual (bug#25275)\n\n\t* doc/misc/gnus.texi (Mail Source Specifiers):\n\tReplace wrong `mail-sources' value of `(group)' in Gnus manual with\n\tthe correct `((group))' value.  (bug#25275) (tiny change)\n\n2016-12-27  Bake Timmons  <65pandas@gmail.com>\n\n\tFix bug in customizing `mail-sources' variable (bug#25274)\n\n\t* lisp/gnus/mail-source.el (mail-sources): Use list instead of cons\n\tfor lone argument. (bug#25274) (tiny change)\n\n2016-12-26  Philipp Stephani  <phst@google.com>\n\n\tCheckdoc: Don't require a space before an arg list\n\n\tSee Bug#24998.\n\n\t* lisp/emacs-lisp/checkdoc.el (checkdoc-defun-regexp): Don't require a\n\tspace before a argument list.\n\t* test/lisp/emacs-lisp/checkdoc-tests.el (checkdoc-tests--bug-24998):\n\tAdd unit test.\n\n2016-12-26  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument 'default-toplevel-value' and 'set-default-toplevel-value'\n\n\t* doc/lispref/variables.texi (Default Value): Document\n\t'default-toplevel-value' and 'set-default-toplevel-value'.\n\n2016-12-25  Michihito Shigemura  <m_shigemura@shigemk2.com>  (tiny change)\n\n\tAdd zshrc and zshenv detection to sh-mode (bug#25217)\n\n\t* lisp/progmodes/sh-script.el (sh-mode): Add zsh string-match\n\n2016-12-25  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix typo in lisp.h reordering patch\n\n\t* src/lisp.h (XUNTAG) [!USE_LSB_TAG]: Remove duplicate defn.\n\tReported by Eli Zaretskii (Bug#25128#19).\n\n2016-12-25  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tregex.h now includes sys/types.h\n\n\t* src/dired.c, src/emacs.c, src/search.c, src/syntax.c, src/thread.h:\n\tDo not include sys/types.h; no longer needed.\n\t* src/regex.h: Include <sys/types.h>, as that's what Gnulib and\n\tglibc regex.h does, and POSIX has blessed this since 2008.\n\n2016-12-25  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tReorder lisp.h to declare types before using them\n\n\tThis puts basic functions for types to be after the corresponding\n\ttype definitions.  This is a more-common programming style in C,\n\tand will make it easier to port Emacs to gcc\n\t-fcheck-pointer-bounds, since the functions now have access to the\n\tcorresponding types' sizes.  This patch does not change the code;\n\tit just moves declarations and definitions and removes\n\tno-longer-needed forward declarations (Bug#25128).\n\t* src/buffer.c, src/data.c, src/image.c:\n\tInclude process.h, for PROCESSP.\n\t* src/buffer.h (BUFFERP, CHECK_BUFFER, XBUFFER):\n\t* src/process.h (PROCESSP, CHECK_PROCESS, XPROCESS):\n\t* src/termhooks.h (TERMINALP, XTERMINAL):\n\t* src/window.h (WINDOWP, CHECK_WINDOW, XWINDOW):\n\t* src/thread.h (THREADP, CHECK_THREAD, XTHREAD, MUTEXP, CHECK_MUTEX)\n\t(XMUTEX, CONDVARP, CHECK_CONDVAR, XCONDVAR):\n\tMove here from lisp.h.\n\t* src/intervals.h: Include buffer.h, for BUFFERP.\n\tInclude lisp.h, for Lisp_Object.\n\t* src/lisp.h: Reorder declarations and definitions as described\n\tabove.  Move thread includes to be later, so that they can use the\n\treordered definitions.  Move some symbols to other headers (noted\n\telsewhere).  Remove forward decls that are no longer needed.\n\t* src/thread.h: Include systhread.h here, not in lisp.h,\n\tsince lisp.h itself does not need systhread.h.\n\n2016-12-25  Leo Liu  <sdl.web@gmail.com>\n\n\tDon't modify minibuffer variables globally\n\n\t* lisp/files.el (cd): Use setq-local instead.  (Bug#25260)\n\n2016-12-25  Dima Kogan  <dima@secretsauce.net>\n\n\tdiff-mode auto-refines only after a successful motion\n\n\tPrior to this patch (if enabled) auto-refinement would kick in after all\n\thunk navigation commands, even if the motion failed.  This would result\n\tin a situation where the hunk navigation would signal an error and beep,\n\tbut yet still accomplish potentially useful work, by auto-refining.\n\tThis patch moves the auto-refinement code to only run when a motion was\n\tsuccessful\n\n\t* lisp/vc/diff-mode.el (diff--internal-hunk-next,\n\t  diff--internal-hunk-prev): Removed auto-refinement-triggering code\n\t* lisp/vc/diff-mode.el (diff--wrap-navigation): Added\n\t  auto-refinement-triggering code\n\n2016-12-25  Dima Kogan  <dima@secretsauce.net>\n\n\tdiff-mode is able to better handle file headers\n\n\tThis fixes a regression introduced in\n\n\t  https://git.savannah.gnu.org/gitweb/?p=emacs.git;a=commit;h=2c8a7e50d24daf19ea7d86f1cfeaa98a41c56085\n\n\tThis bug was filed in\n\n\t  https://debbugs.gnu.org/cgi/bugreport.cgi?bug=25105\n\n\tPatches generated from a VCS such as git contain a patch message at the\n\tstart, and diff-mode is now once-again able to properly able to ignore\n\tthis message when issuing navigation commands around the message.\n\n\t* lisp/vc/diff-mode.el (diff-beginning-of-file-and-junk): More\n\t  thoroughly ignore the header when looking for a beginning of file\n\t  diffs.\n\n2016-12-25  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tUse libpng-config --ldflags, not --libs\n\n\tProblem reported by James K. Lowden (Bug#25268).\n\t* configure.ac (LIBPNG): Pass --ldflags, not --libs, to libpng-config.\n\n2016-12-24  Eli Zaretskii  <eliz@gnu.org>\n\n\tRevert to pre-25.1 behavior in ffap\n\n\t* lisp/ffap.el (ffap-lax-url): Change the default to t, to produce\n\tthe same behavior as in Emacs 24.x.  (Bug#25264)\n\tExplain the trade-offs of customizing this in the doc string.\n\n2016-12-24  Noam Postavsky  <npostavs@gmail.com>\n\n\t* lisp/ffap.el: Fix obsolete comment referencing ffap-bug.\n\n2016-12-24  Noam Postavsky  <npostavs@gmail.com>\n\n\tRemove redundant `save-match-data' in whitespace.el\n\n\t* lisp/whitespace.el (whitespace-cleanup, whitespace-cleanup-region):\n\t(whitespace-report-region): Remove redundant `save-match-data' calls.\n\n2016-12-24  Noam Postavsky  <npostavs@gmail.com>\n\n\tFix whitespace eob cleanup\n\n\t* lisp/whitespace.el (whitespace-empty-at-eob-regexp): Match any number\n\tof empty lines at end of buffer.\n\t* test/lisp/whitespace-tests.el (whitespace-cleanup-eob): New test.\n\t(whitespace-tests--cleanup-string): New helper function for tests.\n\n2016-12-24  Hong Xu  <hong@topbug.net>\n\n\tFix timezone detection of parse-iso8601-time-string\n\n\t* lisp/calendar/parse-time.el (parse-iso8601-time-string): Fix timezone\n\tparsing.  Add a doc string.  (Bug#25086)\n\t* src/editfns.c (Fdecode-time): Doc fix.\n\t* doc/misc/emacs-mime.texi (time-date): Add an example for\n\tparse-iso8601-time-string.\n\t* test/lisp/calendar/parse-time-tests.el (parse-time-tests): Add\n\ttests for parse-iso8601-time-string.\n\n2016-12-24  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSimplify exec_byte_code via moving decls etc.\n\n\t* src/bytecode.c (exec_byte_code): Simplify, mostly by moving\n\tinitializers into decls, and by omitting some unnecessary changes\n\tto \u2018top\u2019.\n\n2016-12-24  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRemove interpreter\u2019s byte stack\n\n\tThis improves performance overall on my benchmark on x86-64,\n\tsince the interpreted program-counter resides in a machine\n\tregister rather than in RAM.\n\t* etc/DEBUG, src/.gdbinit: Remove xbytecode GDB command, as there\n\tis no longer a byte stack to decode.\n\t* src/bytecode.c (struct byte_stack, byte_stack_list)\n\t(relocate_byte_stack): Remove.  All uses removed.\n\t(FETCH): Simplify now that pc is now local (typically, in a\n\tregister) and no longer needs to be relocated.\n\t(CHECK_RANGE): Remove.  All uses now done inline, in a different way.\n\t(BYTE_CODE_QUIT): Remove; now done by op_relative_branch.\n\t(exec_byte_code): Allocate a copy of the function\u2019s bytecode,\n\tso that there is no problem if GC moves it.\n\t* src/lisp.h (struct handler): Remove byte_stack member.\n\tAll uses removed.\n\t* src/thread.c (unmark_threads): Remove.  All uses removed.\n\t* src/thread.h (struct thread_state): Remove m_byte_stack_list member.\n\tAll uses removed.  m_stack_bottom is now the first non-Lisp field.\n\n2016-12-24  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tBYTE_CODE_SAFE typo fix\n\n\t* src/bytecode.c (FETCH): Depend on the value of BYTE_CODE_SAFE,\n\tnot on whether it is defined.\n\n2016-12-24  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tBYTE_CODE_SAFE cleanups\n\n\t* src/bytecode.c (BYTE_MAINTAIN_TOP): Remove; no longer needed.\n\t(struct byte_stack) [BYTE_MAINTAIN_TOP]:\n\tRemove unused members \u2018top\u2019 and \u2018bottom\u2019.\n\t(exec_byte_code): Nest inside { } to avoid GCC warning about\n\tjumping over declaration when compiled with -DBYTE_CODE_SAFE.\n\n2016-12-24  Thien-Thi Nguyen  <ttn@gnu.org>\n\n\tlast-chance: new utility lib for dangling deterrence\n\n\t* admin/last-chance.el: New file.\n\n2016-12-24  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tUse max_align_t instead of void *\n\n\t* src/thread.c (run_thread): Don\u2019t assume void * is aligned enough.\n\n2016-12-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tAttempt to fix 64-bit AIX build\n\n\t* src/unexaix.c (make_hdr, copy_text_and_data, write_segment): Fix\n\ttype-casts that assumed 32-bit pointers.  (Bug#25141)\n\n2016-12-23  Philipp Stephani  <phst@google.com>\n\n\tClarify usage of 'ediff-cleanup-hook' (Bug#24675)\n\n\t* doc/misc/ediff.texi (Hooks): Clarify usage of 'ediff-cleanup-hook'\n\n2016-12-23  Philipp Stephani  <phst@google.com>\n\n\tDocument that variable binding order is unspecified\n\n\t* doc/lispref/variables.texi (Local Variables):\n\t* doc/misc/cl.texi (Modify Macros): Document that binding order in 'let' and\n\t'cl-letf' is unspecified.\n\n2016-12-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tPrevent infloops in redisplay due to truncate-lines and overlays\n\n\t* src/xdisp.c (hscroll_window_tree): Avoid inflooping in\n\tredisplay_window when a screen line ends in an overlay string with\n\ta newline.  (Bug#25246)\n\n2016-12-23  Philipp Stephani  <phst@google.com>\n\n\tTreat incomplete integer literals as errors\n\n\tSee Bug#25120.\n\n\t* src/lread.c (read_integer): Treat incomplete integer literals as errors.\n\t* test/src/lread-tests.el (lread-empty-int-literal): New unit test for\n\tincomplete integer literals.\n\n2016-12-23  Eli Zaretskii  <eliz@gnu.org>\n\n\t* lisp/desktop.el (desktop-buffers-not-to-save): Doc fix.\n\n2016-12-23  Stefan Monnier  <monnier@IRO.UMontreal.CA>\n\n\tFix M-x hints on Mac port\n\n\t* lisp/simple.el (execute-extended-command--shorter): Call\n\tinput-pending-p to trigger input processing on some systems, such\n\tas Mac port.  (Bug#23002)\n\n2016-12-23  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* test/lisp/net/tramp-tests.el (tramp--test-check-files): Make it robust.\n\n2016-12-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid aborts due to unaligned byte stack of threads\n\n\t* src/thread.c (run_thread): Make sure the pointers to thread byte\n\tstack are properly aligned.  (Bug#25247)\n\n2016-12-22  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPacify --enable-gcc-warnings\n\n\t* src/charset.c (load_charset_map):\n\t* src/coding.c (decode_coding_object):\n\t* src/frame.c (make_frame):\n\t* src/window.c (Frecenter):\n\tMark locals with UNINIT to silence false alarms from\n\t-Wmaybe-uninitialized.\n\t* src/lisp.h (SYMBOL_ALIAS, SYMBOL_BLV, SYMBOL_FWD)\n\t(SET_SYMBOL_ALIAS, SET_SYMBOL_BLV, SET_SYMBOL_FWD):\n\tCheck and assume that values are nonnull.  This pacifies\n\t-Wmaybe-uninitialized in Fmake_variable_buffer_local and\n\tFmake_local_variable.\n\n2016-12-22  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix last change with thread marking under GC_CHECK_MARKED_OBJECTS\n\n\t* src/thread.c (primary_thread_p): New function.\n\t* src/alloc.c (mark_object): Use 'primary_thread_p' to bypass tests\n\tmeant for thread objects allocated dynamically.\n\t* src/thread.h (primary_thread_p): Add prototype.\n\n2016-12-22  Martin Rudalics  <rudalics@gmx.at>\n\n\tWork around reporting a dpi change in apply_xft_settings\n\n\t* src/xsettings.c (apply_xft_settings): Don't report a change\n\twhen dpi settings do not differ substantially.\n\n2016-12-22  Noam Postavsky  <npostavs@gmail.com>\n\n\tUse completion-at-point in verilog-mode\n\n\tThere were some functions in verilog-mode that implemented in-buffer\n\tcompletion, but this needlessly duplicates completion-at-point\n\tfunctionality, and the popup window management had problems\n\t(see Bug #23842).  We need to keep them for backwards compatibility with\n\tolder emacs versions, but use completion-at-point if available.\n\n\t* lisp/progmodes/verilog-mode.el (verilog-toggle-completions): Mark as\n\tobsolete if completion-cycle-threshold is available.\n\t(verilog-mode-map, verilog-menu): Bind completion-at-point and\n\tcompletion-help-at-point in preference to verilog-complete-word and\n\tverilog-show-completions, respectively.\n\t(verilog-mode): Add verilog-completion-at-point to\n\tcompletion-at-point-functions.\n\t(verilog-completion-at-point): New function.\n\t(verilog-show-completions, verilog-complete-word): Use it to avoid code\n\tduplication.\n\n2016-12-21  Reuben Thomas  <rrt@sc3d.org>\n\n\tKeep default CASECHARS/NOT-CASECHARS for ispell built-in dictionaries\n\n\t* lisp/textmodes/ispell.el (ispell-set-spellchecker-params): Do not\n\toverride CASECHARS and NOT-CASECHARS.  The ispell dictionaries\n\tretain their hardwired values, and all other dictionaries are given\n\tsensible defaults.\n\n2016-12-21  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/textmodes/tex-mode.el (tex-compile-commands): Add luatex\n\tand xetex commands.\n\n2016-12-21  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix aborts in GC under GC_CHECK_MARKED_OBJECTS\n\n\t* src/alloc.c (mark_object) [GC_CHECK_MARKED_OBJECTS]: Don't abort\n\tfor thread objects.  They are marked via the all_threads list, and\n\ttherefore don't need to be inserted into the red-black tree, so\n\tmem_find will never find them.  Reported by Daniel Colascione\n\t<dancol@dancol.org> in\n\thttps://lists.gnu.org/r/emacs-devel/2016-12/msg00817.html.\n\n2016-12-21  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* src/data.c (Fmake_variable_frame_local): Remove\n\n\t* src/lisp.h (struct Lisp_Buffer_Local_Value): Remove `frame_local'.\n\n\t* src/data.c (swap_in_symval_forwarding, set_internal)\n\t(set_symbol_trapped_write, make_blv, Fmake_variable_buffer_local)\n\t(Fmake_local_variable, Fkill_local_variable, Flocal_variable_p):\n\tDon't pay attention to ->frame_local any more.\n\t(syms_of_data): Remove Qtrapping_frame_local and don't defsubr\n\tSmake_variable_frame_local.\n\n\t* etc/NEWS (Incompatible Lisp Changes in Emacs 26.1): Announce removal\n\tof make-variable-frame-local.\n\n\t* lisp/help-fns.el (describe-variable): Don't handle the now impossible\n\tframe-local case.\n\n\t* lisp/subr.el (make-variable-frame-local): Remove obsolescence data.\n\n\t* src/frame.c (store_frame_param):\n\t* src/eval.c (specbind): Don't pay attention to ->frame_local any more.\n\n\t* src/widget.c (first_frame_p): Remove, unused.\n\n2016-12-21  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort dumping better to WSL\n\n\tProblem reported by Angelo Graziosi in:\n\thttps://lists.gnu.org/r/emacs-devel/2016-12/msg00822.html\n\t* src/sysdep.c (disable_address_randomization):\n\tDetect buggy platforms where 'personality' always returns 0.\n\n2016-12-21  Michael Albinus  <michael.albinus@gmx.de>\n\n\tRemove gateway methods in Tramp\n\n\t* doc/misc/tramp.texi (Top, Configuration): Remove section\n\t`Gateway methods', insert section `Firewalls' in menu.\n\t(History): Gateways are removed now.\n\t(Gateway methods): Remove section.\n\t(Multi-hops, Traces and Profiles): Don't reference to gateways anymore.\n\t(Firewalls): New section.\n\n\t* etc/NEWS: Gateway methods in Tramp have been removed.\n\n\t* lisp/net/tramp.el (tramp-methods): Adapt docstring.\n\t(tramp-file-name-port, tramp-accept-process-output): Simplify.\n\n\t* lisp/net/tramp-gw.el: Remove.\n\n\t* lisp/net/tramp-sh.el (tramp-gw-tunnel-method)\n\t(tramp-gw-socks-method): Remove declarations.\n\t(tramp-methods) <scp, scpx, ssh, sshx, telnet, nc, plink, pscp>:\n\tRemove `tramp-gw-args' and `tramp-default-port'.  (Bug#18967)\n\t(tramp-do-copy-or-rename-file-out-of-band)\n\t(tramp-compute-multi-hops, tramp-maybe-open-connection):\n\tRemove gateway support.\n\n\t* test/lisp/net/tramp-tests.el (tramp-test03-file-name-defaults):\n\tRemove gateway tests.\n\n2016-12-20  Alan Mackenzie  <acm@muc.de>\n\n\tAmend the version number of CC Mode 5.33 -> 5.32.99.  Don't merge to trunk.\n\n\tlisp/progmodes/cc-defs.el: Amend the version number.\n\tetc/NEWS: Add an item explaining the change.\n\n2016-12-20  Tino Calancha  <tino.calancha@gmail.com>\n\n\tfiles-test-read-file-in-: Delete temporary dir on exit\n\n\t* test/lisp/files-tests.el (files-test-read-file-in-~):\n\tCreate subdir inside dir.\n\n2016-12-20  Christopher Genovese  <genovese@cmu.edu>\n\n\tibuffer: New filters and commands\n\n\tAdd several new filters and improve documentation.\n\tSee discussion on:\n\thttps://lists.gnu.org/r/emacs-devel/2016-11/msg00399.html\n\t* lisp/ibuf-ext.el: Add paragraph to file commentary.\n\t(ibuffer-saved-filters, ibuffer-filtering-qualifiers)\n\t(ibuffer-filter-groups): Update doc string.\n\t(ibuffer-unary-operand): Add new function that transparently\n\thandles 'not' formats for compound filters.\n\t(ibuffer-included-in-filter-p): Handle 'not' fully; update doc string.\n\t(ibuffer-included-in-filter-p-1): Handle 'and' compound filters.\n\t(ibuffer-decompose-filter): Handle 'and' as well,\n\tand handle 'not' consistently with other uses.\n\t(ibuffer-and-filter): New defun analogous to 'ibuffer-or-filter'.\n\t(ibuffer--or-and-filter): New defun.\n\t(ibuffer-or-filter, ibuffer-and-filter): Use it.\n\t(ibuffer-format-qualifier): Handle 'and' filters as well.\n\t(ibuffer-filter-by-basename, ibuffer-filter-by-file-extension)\n\t(ibuffer-filter-by-directory, ibuffer-filter-by-starred-name)\n\t(ibuffer-filter-by-modified, ibuffer-filter-by-visiting-file):\n\tAdd new pre-defined filters.\n\t(ibuffer-filter-chosen-by-completion): Add new interactive command\n\tfor easily choosing a filter from the descriptions.\n\t* lisp/ibuffer.el (ibuffer-mode-map):\n\tBind ibuffer-filter-by-basename, ibuffer-filter-by-file-extension,\n\tibuffer-filter-by-starred-name, ibuffer-filter-by-modified,\n\tibuffer-filter-by-visiting-file to '/b', '/.', '/*', '/i', '/v'\n\trespectively; bind 'ibuffer-or-filter', 'ibuffer-and-filter',\n\t'ibuffer-pop-filter' ,'ibuffer-pop-filter-group' and\n\t'ibuffer-filter-disable' to '/|', '/&', '/<up>', '/S-<up>'\n\tand '/ DEL' respectively.\n\t* test/lisp/ibuffer-tests.el (ibuffer-autoload): Add appropriate\n\tskip specification.\n\tAdd menu entries for the new filters.\n\t(ibuffer-filter-inclusion-1, ibuffer-filter-inclusion-2\n\tibuffer-filter-inclusion-3, ibuffer-filter-inclusion-4\n\tibuffer-filter-inclusion-5, ibuffer-filter-inclusion-6\n\tibuffer-filter-inclusion-7, ibuffer-filter-inclusion-8\n\tibuffer-decompose-filter, ibuffer-and-filter\n\tibuffer-or-filter): Add new tests; they are skipped unless\n\tibuf-ext is loaded.\n\n2016-12-20  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tUpdate NEWS\n\n\t* etc/NEWS (Image-Dired): New section.\n\n2016-12-20  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tRecognize graphicsmagick in image-dired\n\n\t* lisp/image-dired.el (image-dired-cmd-create-thumbnail-program):\n\t(image-dired-cmd-create-thumbnail-options):\n\t(image-dired-cmd-create-temp-image-program):\n\t(image-dired-cmd-create-temp-image-options):\n\t(image-dired-cmd-create-standard-thumbnail-options):\n\t(image-dired-cmd-rotate-thumbnail-program):\n\t(image-dired-cmd-rotate-thumbnail-options): Account for existence of\n\tgm(1) executable.\n\n2016-12-20  Noam Postavsky  <npostavs@gmail.com>\n\n\tImprove skeleton docstrings\n\n\t* lisp/skeleton.el (skeleton-end-newline): Remove mention of\n\t`skeleton-end-hook', its default code was moved into `skeleton-insert'.\n\t(skeleton-insert): Mention `skeleton-end-newline' and move reference to\n\t`skeleton-end-hook' above the explanation of skeleton syntax.\n\n2016-12-20  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tImplement asynchronous thumbnail generation in image-dired\n\n\tAdditionally, all FOO-options defcustoms that were in fact shell command\n\tstrings have been converted to argument lists.  Another method for\n\tshrinking PNG thumbs with optipng(1) has been added.\n\t* lisp/image-dired.el: Remove TODO item in commentary.\n\t(image-dired-cmd-create-thumbnail-options):\n\t(image-dired-cmd-create-temp-image-options):\n\t(image-dired-cmd-rotate-thumbnail-options):\n\t(image-dired-cmd-rotate-original-options):\n\t(image-dired-cmd-write-exif-data-options):\n\t(image-dired-cmd-read-exif-data-options): Convert to argument lists.\n\t(image-dired-cmd-pngnq-program, image-dired-cmd-pngcrush-program):\n\tChange string type to file.\n\t(image-dired-cmd-create-standard-thumbnail-command): Remove.\n\t(image-dired-cmd-pngnq-options):\n\t(image-dired-cmd-create-standard-thumbnail-options):\n\t(image-dired-cmd-optipng-program, image-dired-cmd-optipng-options):\n\tNew defcustoms.\n\t(image-dired-queue, image-dired-queue-active-jobs):\n\t(image-dired-queue-active-limit): New variables.\n\t(image-dired-pngnq-thumb, image-dired-pngcrush-thumb):\n\t(image-dired-optipng-thumb): New functions.\n\t(image-dired-create-thumb-1): Renamed from image-dired-create-thumb.\n\tUse start-process instead of call-process.  Set file modes.  Trigger\n\tPNG file optimization in process sentinel.\n\t(image-dired-thumb-queue-run, image-dired-create-thumb): New functions.\n\t(image-dired-display-thumbs):\n\t(image-dired-create-thumbs): Don't expect call-process return value.\n\t(image-dired-display-image, image-dired-rotate-thumbnail): Use\n\tstart-process instead of call-process.\n\t(image-dired-rotate-original, image-dired-set-exif-data):\n\t(image-dired-get-exif-data): Adapt to arguments being an arg list.\n\n2016-12-19  Andreas Schwab  <schwab@linux-m68k.org>\n\n\tProtect change of window's buffer in vertical-motion against unwinds (bug#25209)\n\n\t* src/indent.c (restore_window_buffer): New function.\n\t(Fvertical_motion): Use it to restore window's buffer.\n\n2016-12-19  Glenn Morris  <rgm@gnu.org>\n\n\tImprove default load-path for uninstalled CANNOT_DUMP builds\n\n\t* src/lread.c (load_path_default) [CANNOT_DUMP]:\n\tUse build load-path if we seem to be running uninstalled.  (Bug#24974)\n\tI think this became an issue several years ago when we stopped\n\tusing EMACSLOADPATH in the Makefiles; however this change should\n\timprove the CANNOT_DUMP uninstalled case in general.\n\n2016-12-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of 'w32-scroll-lock-modifier'\n\n\t* doc/emacs/msdos.texi (Windows Keyboard): Document how to set up\n\tw32-scroll-lock-modifier so that Scroll Lock toggles the LED.\n\n\t* src/w32fns.c (syms_of_w32fns) <w32-scroll-lock-modifier>: Doc\n\tfix.  (Bug#25204)\n\n2016-12-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument 'describe-fontset'\n\n\t* doc/emacs/mule.texi (Fontsets): Document 'describe-fontset'.\n\t(Bug#25216)\n\n2016-12-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument 'describe-fontset'\n\n\t* doc/emacs/mule.texi (Fontsets): Document 'describe-fontset'.\n\t(Bug#25216)\n\n2016-12-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix crashes upon C-g on Posix TTY frames\n\n\t* src/thread.h (struct thread_state): New member not_holding_lock.\n\t(maybe_reacquire_global_lock): Add prototype.\n\t* src/thread.c: Include syssignal.h.\n\t(maybe_reacquire_global_lock): New function.\n\t(really_call_select): Set the not_holding_lock member of the\n\tthread state before releasing the lock, and rest it after\n\tre-acquiring the lock when the select function returns.  Block\n\tSIGINT while doing this to make sure we are not interrupted on TTY\n\tframes.\n\t* src/sysdep.c (block_interrupt_signal, restore_signal_mask): New\n\tfunctions.\n\t* src/syssignal.h (block_interrupt_signal, restore_signal_mask):\n\tAdd prototypes.\n\t* src/keyboard.c (read_char) [THREADS_ENABLED]: Call\n\tmaybe_reacquire_global_lock.  (Bug#25178)\n\n2016-12-19  Sam Steingold  <sds@gnu.org>\n\n\tavoid Eager macro-expansion failure: (void-function string-to-list)\n\n\t* lisp/loadup.el [ns]: \"ucs-normalize\" uses `string-to-list' which is defined\n\t  in \"mule-util\", so we have to load \"mule-util\" before \"ucs-normalize\",\n\t  otherwise I get \"Eager macro-expansion failure\" on \"make bootstrap\"\n\n2016-12-19  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix Bug#24980\n\n\t* lisp/ido.el (ido-add-virtual-buffers-to-list):\n\tSuppress Tramp invocation.  (Bug#24980)\n\n2016-12-18  Philipp Stephani  <phst@google.com>\n\n\tAdd a new compile error regexp for Clang includes\n\n\tClang uses a slight variation of GCC's include format, causing includes\n\tto be treated as warnings instead of informational messages.  Use a new\n\tregular expression instead.\n\n\t* lisp/progmodes/compile.el\n\t(compilation-error-regexp-alist-alist): New element\n\t`clang-include' for Clang-style \"included from\" lines.\n\t* test/lisp/progmodes/compile-tests.el\n\t(compile-tests--test-regexps-data): Add unit test.\n\n2016-12-18  Alan Third  <alan@idiocy.org>\n\n\tReinstate ispell character offset (bug#25219)\n\n\t* lisp/textmodes/ispell.el (ispell-process-line): insert -1 where\n\tispell-offset used to be.\n\n2016-12-18  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tBind new image-mode scroll commands in image-dired\n\n\t* lisp/image-dired.el (image-dired-display-image-mode-map): Add bindings\n\tto new image-mode commands.\n\n2016-12-18  Noam Postavsky  <npostavs@gmail.com>\n\n\tFix rx-any with range with ?\\] and ?-\n\n\t* lisp/emacs-lisp/rx.el: Make sure not to produce a circular\n\tlist (Bug#25123).\n\t* test/lisp/emacs-lisp/rx-tests.el (rx-char-any): New test.\n\n2016-12-18  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tUse floor of mtime instead of rounding for thumb property\n\n\tThis seems to be the correct thing to do, at least more in line with\n\twhat at least one other implementation does.  Anything using\n\tgnome-desktop [0] effectively does the same, as\n\tgnome_desktop_thumbnail_is_valid applies atol(3) to mtime for\n\tcomparison and time_t on GNU/Linux is a signed int.\n\t[0] https://git.gnome.org/browse/gnome-desktop/\n\t* lisp/image-dired.el (image-dired-create-thumb): Use floor here.\n\n2016-12-17  Reuben Thomas  <rrt@sc3d.org>\n\n\tFix spelling mistake in private defun name (Bug#25218)\n\n\tlisp/textmodes/flyspell.el (flyspell-ajust-cursor-point): Rename to\n\t`flyspell-adjust-cursor-point'.\n\n2016-12-17  Reuben Thomas  <rrt@sc3d.org>\n\n\tRemove XEmacs support from flyspell.el (Bug#25218)\n\n\tlisp/textmodes/flyspell.el (flyspell-prog-mode, flyspell-mode-on):\n\t(flyspell-word, flyspell-delete-region-overlays):\n\t(flyspell-correct-word-before-point): Remove XEmacs support.\n\t(flyspell-xemacs-popup): Remove XEmacs-specific defun.\n\n2016-12-17  Michael Albinus  <michael.albinus@gmx.de>\n\n\tMore tests for Tramp\n\n\t* lisp/net/tramp.el (tramp-drop-volume-letter): Handle quoted\n\tfile names.\n\n\t* lisp/net/tramp-sh.el (tramp-make-copy-program-file-name): Quote file\n\tname properly.\n\n\t* test/lisp/net/tramp-tests.el (tramp-test05-expand-file-name):\n\tMark quoted file name as absolute.  (Bug#25183)\n\t(tramp--test-windows-nt-and-batch)\n\t(tramp--test-windows-nt-and-pscp-psftp-p): New defuns.\n\t(tramp--test-windows-nt-or-smb-p): Rename from\n\t`tramp--test-smb-windows-nt-p'.  Adapt callees.\n\t(tramp--test-check-files): Improve checks for environment variables.\n\t(tramp-test33-special-characters)\n\t(tramp-test33-special-characters-with-stat)\n\t(tramp-test33-special-characters-with-perl)\n\t(tramp-test33-special-characters-with-ls, tramp-test34-utf8)\n\t(tramp-test34-utf8-with-stat, tramp-test34-utf8-with-perl)\n\t(tramp-test34-utf8-with-ls): Add more checks for skip.\n\n2016-12-17  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix comments\n\n\t* src/thread.h (struct thread_state): Fix comments.\n\t* src/process.c (wait_reading_process_output): Fix a typo in\n\tcommentary.\n\n2016-12-17  Eli Zaretskii  <eliz@gnu.org>\n\n\tRepair desktop restoration on text terminals\n\n\t* lisp/desktop.el (desktop-restoring-frameset-p): Test for the GUI\n\tframe here, instead of in desktop-restoring-frameset.  That's\n\tbecause desktop-read wants to know whether frameset will actually\n\tbe restored, and has fallback procedures up its sleeve when it\n\twon't be; these fallbacks need to be invoked when the frameset is\n\tnot going to be restored.  (Bug#24298)\n\n2016-12-17  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix crashes on MS-Windows during dumping\n\n\t* src/unexw32.c (get_section_info): Make extra_bss_size be the\n\tmaximum of extra_bss_size and extra_bss_size_static.  This avoids\n\tcomputing the size of the output file smaller than it actually\n\tneeds to be, which then causes copy_executable_and_dump_data to\n\twrite beyond the requested size of the file mapping, thus relying\n\ton the OS roundup to page boundary to save us from ourselves.  See\n\thttps://lists.gnu.org/r/emacs-devel/2016-12/msg00642.html\n\tfor the details.\n\n\t* lib/stdio-impl.h: Revert the workaround fix of not including\n\terrno.h for MinGW.\n\n2016-12-17  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tIgnore forward-sexp-function in js-mode indentation code\n\n\t* lisp/progmodes/js.el (js--multi-line-declaration-indentation)\n\t(js--maybe-goto-declaration-keyword-end):\n\tBind forward-sexp-function to nil (bug#25215).\n\n2016-12-16  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tBe more selective clearing the image cache\n\n\t* lisp/image-dired.el (image-dired-create-thumbs):\n\t(image-dired-rotate-thumbnail, image-dired-refresh-thumb): Only clear\n\tthe current thumbnail file from the image cache.\n\n2016-12-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tUnbreak the MinGW build\n\n\t* lib/stdio-impl.h [__MINGW32__]: Don't include errno.h.  Without\n\tthis, temacs crashes while dumping.\n\n2016-12-16  Nicolas Petton  <nicolas@petton.fr>\n\n\tMake seq-into return the sequence when no conversion needed\n\n\t* lisp/emacs-lisp/seq.el (seq-into): Do not convert the sequence when\n\t  no conversion is needed.\n\t* test/lisp/emacs-lisp/seq-tests.el (test-seq-into-and-identity): Add\n\t  a regression test checking for identity.\n\n2016-12-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of 'define-coding-system'\n\n\t* lisp/international/mule.el (define-coding-system): Warn against\n\tpossible infinite recursion in pre-write-conversion and\n\tpost-read-conversion functions.  (Bug#25203)\n\n2016-12-16  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tNew commands image-scroll-left and image-scroll-right\n\n\t* etc/NEWS: Mention them.\n\t* lisp/image-mode.el (image-scroll-left, image-scroll-right): New\n\tfunctions.\n\n2016-12-16  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tMore image-dired refactoring\n\n\t* lisp/image-dired.el (image-dired-thumbnail-mode):\n\t(image-dired-display-image-mode): Add :group 'image-dired so\n\tcustomize-mode works.\n\t(image-dired-display-image): Rearrange.\n\t(image-dired-copy-with-exif-file-name): This map is for side effect.\n\t(image-dired-dired-edit-comment-and-tags): Just use #'identity.\n\n2016-12-16  Mark Oteiza  <mvoteiza@udel.edu>\n\n\t* lisp/image-dired.el: Turn on lexical-binding.\n\n2016-12-16  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tTeach image-dired to also generate large thumbs\n\n\t* lisp/image-dired.el (image-dired-thumbnail-storage): Add\n\tstandard-large option.\n\t(image-dired-thumb-size): Add condition for standard-large storage.\n\t(image-dired-insert-thumbnail): Check for new option.  Change\n\tthumbnail path conditionally.\n\t(image-dired-thumb-size): New function.\n\t(image-dired-create-thumb, image-dired-line-up-dynamic): Use it.\n\n2016-12-15  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from gnulib\n\n\tThis incorporates:\n\t2016-12-14 xalloc-oversized: check for PTRDIFF_MAX too\n\t2016-12-12 fpending: port to native Windows with MSVC\n\t* .gitignore: Do not ignore lib/stdio-impl.h.\n\t* lib/fpending.c, lib/xalloc-oversized.h, m4/fpending.m4:\n\tCopy from gnulib.\n\t* lib/gnulib.mk, m4/gnulib-comp.m4: Regenerate.\n\t* lib/stdio-impl.h:\n\tNew file, copied from gnulib.\n\t* nt/gnulib.mk (EXTRA_DIST): Add stdio-impl.h.\n\n2016-12-15  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* etc/images/icons/hicolor/scalable/mimetypes/emacs-document.svg:\n\tAppend newline.\n\n2016-12-15  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tDon't abuse princ and spam messages\n\n\t* lisp/image-dired.el (image-dired-format-properties-string): Nix princ.\n\t(image-dired-display-thumb-properties):\n\t(image-dired-dired-display-properties): Nix princ.  Bind\n\tmessage-log-max to nil.\n\n2016-12-15  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tInherit things from special-mode and image-mode\n\n\t* lisp/image-dired.el: Require image-mode library.\n\t(image-dired-thumbnail-mode-map): Remove superfluous binding.\n\t(image-dired-display-image-mode-map): Remove superfluous binding.\n\tAdd movement remaps from image-mode-map.\n\t(image-dired-thumbnail-mode): Derive from special-mode.\n\t(image-dired-display-image-mode): Derive from special-mode. Call\n\timage-mode-setup-winprops.\n\n2016-12-15  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tFix some image-dired customization types\n\n\t* lisp/image-dired.el (image-dired): Add info link to defgroup.\n\t(image-dired-dir, image-dired-gallery-dir): Set type to directory.\n\t(image-dired-db-file, image-dired-temp-image-file):\n\t(image-dired-cmd-create-thumbnail-program):\n\t(image-dired-cmd-create-temp-image-program):\n\t(image-dired-cmd-rotate-thumbnail-program):\n\t(image-dired-cmd-rotate-original-program):\n\t(image-dired-temp-rotate-image-file):\n\t(image-dired-cmd-write-exif-data-program):\n\t(image-dired-cmd-read-exif-data-program): Set type to file.\n\t(image-dired-create-thumb, image-dired-line-up-dynamic): Check storage\n\ttype at runtime, since setting image-dired-thumb-size does not\n\tautomatically set image-dired-thumb-width and image-dired-thumb-height.\n\n2016-12-15  Eli Zaretskii  <eliz@gnu.org>\n\n\tPrevent crashes in xg_select due to concurrency\n\n\t* src/xgselect.c (xg_select): Don't call Glib functions that use\n\t'context' if we failed to acquire it.  This means some other\n\tthread owns the context, in which case both using the context and\n\tcalling block_input/unblock_input will step on that thread's toes\n\tand eventually lead to crashes.  (Bug#25172)\n\n2016-12-15  Nicolas Petton  <nicolas@petton.fr>\n\n\tFix circular list handling in seq-mapn\n\n\t* lisp/emacs-lisp/seq.el (seq-mapn): Do not copy list arguments.\n\t* test/lisp/emacs-lisp/seq-tests.el (test-seq-mapn-circular-lists):\n\t  Add a regression test.\n\n2016-12-15  Michael Albinus  <michael.albinus@gmx.de>\n\n\tCheck in tramp-tests.el, that environment variables are set correctly\n\n\t* test/lisp/net/tramp-tests.el (tramp--test-check-files):\n\tCheck also, that environment variables are set correctly.\n\n2016-12-15  Dominique Quatravaux  <dominique.quatravaux@epfl.ch>  (tiny change)\n\n\tProtect environment variables with double quotes in Tramp\n\n\t* lisp/net/tramp-sh.el (tramp-open-connection-setup-interactive-shell):\n\tProtect environment variables with double quotes.\n\n2016-12-15  Tino Calancha  <tino.calancha@gmail.com>\n\n\t* lisp/ibuf-macs.el (define-ibuffer-filter): Wrap ,@body in a progn.\n\n2016-12-15  Mark Oteiza  <mvoteiza@udel.edu>\n\n\t* lisp/image-dired.el (image-dired-create-thumb): Create parent directories.\n\n2016-12-14  Mark Oteiza  <mvoteiza@udel.edu>\n\n\t* lisp/image-mode.el (image-mode-winprops-alist): Add docstring.\n\n2016-12-14  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tRecognize pngnq or pngnq-s9\n\n\t* lisp/image-dired.el (image-dired-cmd-pngnq-program): Also consider\n\tpngnq-s9 as a possible executable.\n\n2016-12-14  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tUpdate standard image-dired thumbnail location\n\n\t* lisp/image-dired.el (image-dired-thumb-name): Conform to the latest\n\tstandard: consider XDG_CACHE_HOME, falling back on ~/.cache.\n\n2016-12-14  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tReset window scroll when displaying an image\n\n\tWhen viewing a large image full size and scrolling, for instance, to\n\tthe lower right corner, then selecting a much smaller image in the\n\tthumbnail buffer, the window stays scrolled so the new image is out of\n\tthe window.  One must scroll back to the \"origin\" to view the new\n\tdisplayed image, or just kill the image-dired-display-image buffer and\n\ttry again.  This fixes the issue.\n\t* lisp/image-dired.el (image-dired-display-window-width):\n\t(image-dired-display-window-height): Operate on a window as argument.\n\t(image-dired-display-image): Bind (image-dired-display-window) and use\n\tit. Set window vscroll and hscroll to zero when refreshing the\n\tbuffer's contents.\n\n2016-12-14  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tMore image-dired polish\n\n\t* lisp/image-dired.el (image-dired-file-name-at-point): New function.\n\t(image-dired-thumbnail-mode, image-dired-display-image-mode): Disable\n\tundo list. Add image-dired-file-name-at-point to\n\tfile-name-at-point-functions to facilitate find-file and friends.\n\t(image-dired-thumbnail-display-external):\n\t(image-dired-dired-display-external): Use start-process instead, to\n\tavoid needlessly blocking and using a shell.\n\n2016-12-13  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\tReplace ldefs-boot with a much smaller file\n\n\t * Makefile.in (bootstrap-build,generate-ldefs-boot): New targets.\n\t   (bootstrap): Depend on bootstrap-build.\n\t * admin/ldefs-clean.el: New file.\n\t * lisp/Makefile.in (compile-first): Depend on loaddefs.el\n\t * lisp/ldefs-boot.el: Remove.\n\t * lisp/ldefs-boot-auto.el: New file.\n\t * lisp/ldefs-boot-manual.el: New file.\n\t * lisp/loadup.el: Load ldefs-boot-manual.el.\n\t * src/emacs.c (generating_ldefs_boot): New variable.\n\t   (main): Check whether we are generating ldefs.\n\t * src/eval.c (autoload-do-load): Dump autoload forms to stderr when\n\t   requested.\n\t * src/lisp.h (generating_ldefs_boot): New variable.\n\t * admin/gitmerge.el, admin/make-tarball.txt, admin/notes/copyright,\n\t   lisp/Makefile.in, lisp/cus-dep.el, lisp/emacs-lisp/elint.el,\n\t   lisp/finder.el, lisp/loadup.el, msdos/mainmake.v2: Update reference to\n\t   ldefs-boot.\n\t * admin/update_autogen: Alter mechanism for ldefs-boot generation.\n\n2016-12-13  Reuben Thomas  <rrt@sc3d.org>\n\n\tRemove support for aspell < 0.60 (from 2004)\n\n\tlisp/textmodes/ispell.el (ispell-check-version): Require Aspell 0.60.\n\t(ispell-aspell-dictionary-alist): Remove check that we have Aspell 0.60.\n\n2016-12-13  Reuben Thomas  <rrt@sc3d.org>\n\n\tMinor docstring and comment fixes to ispell.el\n\n\tlisp/textmodes/ispell.el (ispell-aspell-dictionary-alist): Mention\n\tispell-aspell-dictionary-alist, not ispell-dictionary-alist.\n\t(ispell-set-spellchecker-params): Change double-single quotes to\n\tsingle single quotes in comment.\n\n2016-12-13  Reuben Thomas  <rrt@sc3d.org>\n\n\tRemove unused variable\n\n\t* lisp/textmodes/ispell.el (current-ispell-directory): Remove.\n\n2016-12-13  Reuben Thomas  <rrt@sc3d.org>\n\n\tRemove XEmacs-specific ispell-with-no-warnings\n\n\t* lisp/textmodes/ispell.el (ispell-with-no-warnings): Remove this\n\tdefmacro, needed only for XEmacs.\n\t(ispell-command-loop, ispell-message): Use with-no-warnings directly.\n\n2016-12-13  Reuben Thomas  <rrt@sc3d.org>\n\n\tRemove meaningless defconst ispell-version\n\n\t* lisp/textmodes/ispell.el (ispell-version): Since ispell.el is now\n\tfirmly part of Emacs, and the version hasn\u2019t changed since 2003, and\n\tisn\u2019t used anywhere, remove it.  3rd-party code can better use the\n\tEmacs version, or feature or function checks.\n\t(ispell-check-version): No longer report ispell.el version.\n\n2016-12-13  Reuben Thomas  <rrt@sc3d.org>\n\n\tRemove boundp test for always-bound symbol\n\n\t* lisp/textmodes/ispell.el (ispell-message): mail-yank-prefix is\n\tdefvar\u2019d at the top of the file, so remove a test to see if it is\n\tbound.\n\n2016-12-13  Reuben Thomas  <rrt@sc3d.org>\n\n\tRemove support for ispell < 3.1.12\n\n\t* lisp/textmodes/ispell.el (ispell-offset): Remove.\n\t(ispell-check-version): Require ispell >= 3.1.12, released in 1994.\n\t(ispell-process-line): No longer use ispell-offset.\n\n2016-12-13  Reuben Thomas  <rrt@sc3d.org>\n\n\tRemove unused constant\n\n\t* lisp/textmodes/ispell.el (ispell-required-version): Remove.\n\n2016-12-13  Reuben Thomas  <rrt@sc3d.org>\n\n\tRemove support for old versions of supercite and GNUS from ispell.el\n\n\t* lisp/textmodes/ispell.el (ispell-message): Require supercite >= 3.0\n\tand GNUS >= 5.  Not exactly the bleeding edge!\n\n2016-12-13  Reuben Thomas  <rrt@sc3d.org>\n\n\tRemove remaining mentions of XEmacs from ispell.el\n\n\t* lisp/textmodes/ispell.el (ispell-valid-dictionary-list):\n\t(ispell-add-per-file-word-list): Remove mentions of XEmacs from\n\tcomments.\n\n2016-12-13  Reuben Thomas  <rrt@sc3d.org>\n\n\tRemove XEmacs-specific minibuffer handling code from ispell.el\n\n\t* lisp/textmodes/ispell.el (ispell-init-process): Assume we are not in\n\tXEmacs.\n\n2016-12-13  Reuben Thomas  <rrt@sc3d.org>\n\n\tRemove XEmacs-specific horizontal scrollbar handling in ispell.el\n\n\t* lisp/textmodes/ispell.el (ispell-command-loop): Remove\n\tXEmacs-specific code.\n\n2016-12-13  Reuben Thomas  <rrt@sc3d.org>\n\n\tRemove XEmacs-specific code dealing with enable-multibyte-characters\n\n\t* lisp/textmodes/ispell.el (ispell-decode-string):\n\t(ispell-init-process):  Remove XEmacs-specific guard.\n\n2016-12-13  Reuben Thomas  <rrt@sc3d.org>\n\n\tRemove XEmacs-specific code from ispell.el\n\n\t* lisp/textmodes/ispell.el (ispell-menu-xemacs): Remove\n\t(ispell-menu-map-needed): Remove XEmacs-specific check.\n\t(ispell-word): Remove XEmacs-specific extent code.\n\t(ispell-init-process): Remove XEmacs workaround for local add-hook.\n\tAssume we have set-process-query-on-exit-flag.\n\t(ispell-kill-ispell, ispell-change-dictionary): Remove XEmacs\n\tworkaround for called-interactively-p.\n\n2016-12-13  Reuben Thomas  <rrt@sc3d.org>\n\n\tRemove some commented-out code\n\n\tlisp/textmodes/ispell.el (ispell-process)\n\tispell-valid-dictionary-list): Remove commented-out code.\n\n2016-12-13  Reuben Thomas  <rrt@sc3d.org>\n\n\tRemove XEmacs and old Emacs highlighting code\n\n\t* lisp/textmodes/ispell.el\n\t(ispell-highlight-spelling-error-xemacs): Remove.\n\t(ispell-highlight-spelling-error): Assume display-color-p exists.\n\n2016-12-13  Reuben Thomas  <rrt@sc3d.org>\n\n\tAssume Emacs supports [:alpha:] in regexps\n\n\t* lisp/textmodes/ispell.el (ispell-emacs-alpha-regexp): Remove.\n\t(ispell-set-spellchecker-params): Remove tests of\n\tispell-emacs-alpha-regexp.\n\n2016-12-13  Reuben Thomas  <rrt@sc3d.org>\n\n\tRemove some XEmacs-specific code from ispell.el\n\n\t* lisp/textmodes/ispell.el: Remove XEmacs menubar setup.\n\t(ispell-int-char): Remove.\n\n2016-12-13  Reuben Thomas  <rrt@sc3d.org>\n\n\tGeneralize over-specific documentation\n\n\t* lisp/textmodes/ispell.el (ispell-personal-dictionary): Rather than\n\tdocument precise personal wordlist filenames for only two supported\n\tspelling checkers, simply say that the default personal dictionary\n\tdepends on the chosen spelling checker.  The user can check the\n\tspelling checker\u2019s documentation if necessary.  This is simpler, and\n\tworks for other supported (and future, or unknown) spelling checkers.\n\n2016-12-13  Reuben Thomas  <rrt@sc3d.org>\n\n\tRemove tests for built-in functions\n\n\t* lisp/textmodes/ispell.el (buffer-substring-no-properties): Remove\n\tback-up definition.\n\t(ispell-add-per-file-word-list): Remove tests for comment-padright and\n\tcomment-normalize-vars.\n\n2016-12-13  Reuben Thomas  <rrt@sc3d.org>\n\n\tRemove unused ispell-looking-back\n\n\t* lisp/textmodes/ispell.el (ispell-looking-back): Remove unused alias.\n\n2016-12-13  Reuben Thomas  <rrt@sc3d.org>\n\n\tAssume we have version<= for checking ispell version\n\n\t* lisp/textmodes/ispell.el (ispell-check-minver): Remove.\n\t(ispell-check-version): Use version<= directly.\n\n2016-12-13  Reuben Thomas  <rrt@sc3d.org>\n\n\tRemove ispell.el pre-GNU Emacs comments\n\n\t* lisp/textmodes/ispell.el (Commentary): Remove original maintainer\n\t  details, as Emacs version, bug report address and so forth should be\n\t  used instead for this version.  Remove in-line change history; use\n\t  git instead.\n\n2016-12-13  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tMore small fixes for image-dired\n\n\t* lisp/image-dired.el: Fix commentary to refer to correct Emacs manual\n\tnode.\n\t(image-dired--with-db-file): Add declare forms.\n\t(image-dired-hidden-p): Rewrite with cl-loop.  It's not necessary to\n\trun through the whole list.\n\n2016-12-13  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tRemove image-dired-kill-buffer-and-window\n\n\tThis breaks window layout, especially when quitting a\n\timage-dired-display-image-mode buffer.\n\t* lisp/image-dired.el (image-dired-thumbnail-mode-map):\n\t(image-dired-display-image-mode-map): Replace in keymap and menu items\n\tbindings to image-dired-kill-buffer-and-window with quit-window.\n\t(image-dired-kill-buffer-and-window): Remove.\n\n2016-12-13  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tReplace image-dired-setup-dired-keybindings with a minor mode\n\n\t* lisp/image-dired.el (image-dired-thumbnail-mode): Fix docstring to\n\tremove mention of nonexistent image-dired-dired and to refer to the\n\tnew minor mode.\n\t(image-dired-minor-mode-map): New keymap assimilated from\n\timage-dired-setup-dired-keybindings.  In the future, the keymap parent\n\tshould be removed, and perhaps also the duplicate bindings that\n\talready exist in dired-mode-map.\n\t(image-dired-setup-dired-keybindings): Remove.  Replace with an\n\tobsolete function alias.\n\t(image-dired-minor-mode): New minor mode, assuming the role of\n\timage-dired-setup-dired-keybindings.\n\n2016-12-13  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* test/src/regex-resources/PTESTS: Convert to UTF-8.\n\n2016-12-13  Noam Postavsky  <npostavs@gmail.com>\n\n\tClarify thread-signal semantics\n\n\t* doc/lispref/threads.texi (Basic Thread Functions): Explain that the\n\tthread will be signaled as soon as possible.\n\n2016-12-13  Noam Postavsky  <npostavs@gmail.com>\n\n\tClean up var watcher disabling on thread switching\n\n\t* src/data.c (Fset_default): Move code into new C level function,\n\t`set_default_internal'.\n\t(set_default_internal): New function, like `Fset_default' but also takes\n\tadditional bindflag parameter.\n\t(set_internal): Only call `notify_variable_watchers' if bindflag is not\n\tSET_INTERNAL_THREAD_SWITCH.\n\t* src/eval.c (do_specbind, do_one_unbind): Add bindflag parameter,\n\tpassed on to set_internal and set_default_internal.  Adjust callers.\n\t(rebind_for_thread_switch, unbind_for_thread_switch): Pass\n\tSET_INTERNAL_THREAD_SWITCH to do_specbind, do_one_unbind instead of\n\ttemporarily adjusting symbol's trapped_write field.\n\n2016-12-13  Glenn Morris  <rgm@gnu.org>\n\n\tMinor fix for define-derived-mode\n\n\t* lisp/emacs-lisp/derived.el (define-derived-mode):\n\tDo not let eg eval-defun reset the values of syntax or abbrev tables,\n\tsince they might have been defined externally.  (Bug#16160)\n\n2016-12-12  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* build-aux/git-hooks/pre-commit: Add whitespace comment.\n\n2016-12-12  Cl\u00e9ment Pit--Claudel  <clement.pitclaudel@live.com>\n\n\tMove backtrace to ELisp using a new mapbacktrace primitive\n\n\t* src/eval.c (get_backtrace_starting_at, backtrace_frame_apply)\n\t(Fmapbacktrace, Fbacktrace_frame_internal): New functions.\n\t(get_backtrace_frame, Fbacktrace_debug): Use `get_backtrace_starting_at'.\n\n\t* lisp/subr.el (backtrace--print-frame): New function.\n\t(backtrace): Reimplement using `backtrace--print-frame' and `mapbacktrace'.\n\t(backtrace-frame): Reimplement using `backtrace-frame--internal'.\n\n\t* lisp/emacs-lisp/debug.el (debugger-setup-buffer): Pass a base to\n\t`mapbacktrace' instead of searching for \"(debug\" in the output of\n\t`backtrace'.\n\n\t* test/lisp/subr-tests.el (subr-test-backtrace-simple-tests)\n\t(subr-test-backtrace-integration-test): New tests.\n\n\t* doc/lispref/debugging.texi (Internals of Debugger): Document\n\t`mapbacktrace' and missing argument BASE of `backtrace-frame'.\n\n2016-12-12  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tUse C99 syntax for font drivers\n\n\tProblem reported by Daniel Colascione in:\n\thttps://lists.gnu.org/r/emacs-devel/2016-12/msg00515.html\n\t* src/ftcrfont.c (ftcrfont_driver):\n\t* src/ftfont.c (ftfont_driver):\n\t* src/ftxfont.c (ftxfont_driver):\n\t* src/macfont.m (macfont_driver):\n\t* src/nsfont.m (nsfont_driver):\n\t* src/xfont.c (xfont_driver):\n\t* src/xftfont.c (xftfont_driver):\n\tUse C99 syntax, not the old GNU C syntax.\n\n2016-12-12  Glenn Morris  <rgm@gnu.org>\n\n\tObsolete gs.el\n\n\t* lisp/gs.el: Move to lisp/obsolete.  (Bug#1524)\n\t* doc/lispref/display.texi (Image Formats): Remove postscript.\n\t(PostScript Images): Remove section.\n\t* doc/lispref/elisp.texi: Update menu.\n\n2016-12-12  Glenn Morris  <rgm@gnu.org>\n\n\tUn-revert recent Ffset change\n\n\t* src/data.c (Ffset): Reinstate the check for \"nil\".\n\n2016-12-12  Glenn Morris  <rgm@gnu.org>\n\n\tMinor advice.el fix\n\n\t* lisp/emacs-lisp/advice.el (ad-preactivate-advice):\n\tAvoid setting the function definition of nil.\n\tThis was happening during bootstrap of org-compat.el,\n\tapparently due to eager macro expansion of code behind\n\ta (featurep 'xemacs) test.\n\n2016-12-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tMake etags-tests work in out-of-tree builds\n\n\t* test/lisp/progmodes/etags-tests.el (etags-bug-158)\n\t(etags-bug-23164): Make them work in an out-of-tree build.\n\tReported by Ken Brown <kbrown@cornell.edu>.\n\n2016-12-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid crashing if a new thread is signaled right away\n\n\t* src/thread.c (post_acquire_global_lock): Don't raise the pending\n\tsignal if the thread's handlers were not yet set up, as that will\n\tcause Emacs to exit with a fatal error.  This can happen if a\n\tthread is signaled as soon as make-thread returns, before the new\n\tthread had an opportunity to acquire the global lock, set up the\n\thandlers, and call the thread function.\n\n\t* test/src/thread-tests.el (thread-signal-early): New test.\n\n2016-12-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix point motion in cloned buffers\n\n\t* src/thread.c (post_acquire_global_lock): Call\n\tset_buffer_internal_2 instead of tricking set_buffer_internal_1\n\tinto resetting the current buffer even if it didn't change.  This\n\tavoids bug#25165, caused by failing to record the modified values\n\tof point and mark, because current_buffer was set to NULL.  Also,\n\tdon't bother re-setting the buffer if there was no thread switch,\n\tas that just wastes cycles.\n\t* src/buffer.c (set_buffer_internal_2): New function, with most of\n\tthe body of set_buffer_internal_1, but without the test for B\n\tbeing identical to the current buffer.\n\t(set_buffer_internal_1): Call set_buffer_internal_2 if B is not\n\tidentical to the current buffer.\n\t* src/buffer.h (set_buffer_internal_2): Add prototype.\n\n\t* test/src/thread-tests.el (thread-sticky-point): New test.\n\n2016-12-12  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFurther improvements in Tramp's file name unquoting\n\n\t* lisp/net/tramp-adb.el (tramp-adb-handle-file-local-copy)\n\t(tramp-adb-handle-write-region): Unquote localname.\n\t(tramp-adb-handle-copy-file): Implement direct copy on remote device.\n\t(tramp-adb-handle-rename-file): Quote arguments, add \"-f\" to force.\n\n\t* lisp/net/tramp.el (tramp-file-name-unquote-localname): New defun.\n\t(tramp-handle-file-name-case-insensitive-p):\n\t* lisp/net/tramp-gvfs.el (tramp-gvfs-get-file-attributes)\n\t(tramp-gvfs-connection-mounted-p, tramp-gvfs-mount-spec)\n\t(tramp-gvfs-maybe-open-connection):\n\t* lisp/net/tramp-sh.el (tramp-make-copy-program-file-name):\n\t* lisp/net/tramp-smb.el (tramp-smb-get-share)\n\t(tramp-smb-get-localname): Use it.\n\n\t* test/lisp/net/tramp-tests.el (tramp--test-docker-p): New defun.\n\t(tramp--test-special-characters, tramp-test34-utf8)\n\t(tramp-test34-utf8-with-stat, tramp-test34-utf8-with-perl)\n\t(tramp-test34-utf8-with-ls): Use it.\n\n2016-12-12  Martin Rudalics  <rudalics@gmx.at>\n\n\tStrengthen conditions for resizing sibling windows (Bug#25169)\n\n\t* lisp/window.el (window-resize, delete-window): Resize other siblings\n\tonly if `window-combination-resize' equals t (Bug#25169).\n\n2016-12-12  Noam Postavsky  <npostavs@gmail.com>\n\n\tQuote filenames containing '~' in prompts\n\n\tWhen in a directory named '~', the default value given by\n\t`read-file-name' should be quoted by prepending '/:', in order to\n\tprevent it from being interpreted as referring to the $HOME\n\tdirectory (Bug#16984).\n\n\t* lisp/minibuffer.el (minibuffer-maybe-quote-filename): New function.\n\t(completion--sifn-requote, read-file-name-default): Use it instead of\n\t`minibuffer--double-dollars'.\n\t* test/lisp/files-tests.el (files-test-read-file-in-~): Test it.\n\n2016-12-11  Eli Zaretskii  <eliz@gnu.org>\n\n\tUndo part of last change\n\n\t* src/thread.h:\n\t* src/keyboard.c:\n\t* src/keyboard.h: Undo part of last change:\n\tinput_available_clear_time is again a global variable.\n\n2016-12-11  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid aborts when a thread signals an error\n\n\t* src/thread.h (struct thread_state): Add members\n\tm_waiting_for_input and m_input_available_clear_time.\n\t(waiting_for_input, input_available_clear_time): New macros.\n\t* src/keyboard.c (waiting_for_input, input_available_clear_time):\n\tRemove; they are now macros that reference the current thread.\n\t(Bug#25171)\n\t* src/w32select.c: Don't include keyboard.h.\n\n\t* test/src/thread-tests.el (thread-errors): New test.\n\n2016-12-11  Philipp Stephani  <phst@google.com>\n\n\tClean up compile-tests.el\n\n\tSwitch to lexical binding.  Make checkdoc happy.\n\n\t* test/lisp/progmodes/compile-tests.el (compile--test-error-line)\n\t(compile-test-error-regexps): Instead of checking a single Boolean\n\tvalue, use `should' for each attribute of the message to be compared.\n\t(compile-tests--test-regexps-data): Document sixth list element\n\tTYPE.\n\n2016-12-11  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix Bug#25162\n\n\t* doc/emacs/files.texi (Reverting): Document\n\tauto-revert-remote-files and auto-revert-verbose.\n\n\t* lisp/autorevert.el (auto-revert-verbose, auto-revert-mode)\n\t(auto-revert-tail-mode, global-auto-revert-mode): Fix docstring.\n\n2016-12-11  Glenn Morris  <rgm@gnu.org>\n\n\tFix a typo in define-abbrev-table\n\n\t* lisp/abbrev.el (define-abbrev-table): Fix typo in docstring handling.\n\n2016-12-11  Glenn Morris  <rgm@gnu.org>\n\n\tImprove previous cperl-mode change\n\n\t* lisp/progmodes/cperl-mode.el (cperl-mode-abbrev-table):\n\tImprove previous change.\n\n2016-12-11  Glenn Morris  <rgm@gnu.org>\n\n\tMark default cperl abbrevs as system ones\n\n\t* lisp/progmodes/cperl-mode.el (cperl-mode):\n\tMark our abbrevs as system ones.  (Bug#10934)\n\n2016-12-11  Glenn Morris  <rgm@gnu.org>\n\n\tRevert earlier Ffset change\n\n\t* src/data.c (Ffset): Allow nil again, since it caused\n\teager macro-expansion failures.\n\n2016-12-11  Glenn Morris  <rgm@gnu.org>\n\n\tTweaks for message bogus address detection\n\n\t* lisp/gnus/message.el (message-bogus-recipient-p):\n\tDo not require \"@\", since some mailers deliver to local addresses\n\twithout one.  (Bug#23054)\n\tMove \"@.*@\" from here...\n\t(message-bogus-addresses): ...to here, so it can be customized.\n\n2016-12-11  Glenn Morris  <rgm@gnu.org>\n\n\tDo not allow nil to be defined as a function\n\n\t* lisp/emacs-lisp/byte-run.el (defun):\n\t* src/data.c (Ffset): Do not allow \"nil\".  (Bug#25110)\n\n2016-12-11  Glenn Morris  <rgm@gnu.org>\n\n\tBump makeinfo requirement from 4.7 to 4.13\n\n\t* configure.ac: Bump makeinfo version requirement from 4.7 to 4.13.\n\tWe need at least 4.8, and that may be buggy, so go for the last\n\tof the 4 series, which is 8 years old.  (Bug#25108)\n\n2016-12-11  Glenn Morris  <rgm@gnu.org>\n\n\tFixes related to select-enable-clipboard\n\n\t* lisp/menu-bar.el (clipboard-yank, clipboard-kill-ring-save)\n\t(clipboard-kill-region):\n\t* lisp/eshell/esh-io.el (eshell-virtual-targets)\n\t(eshell-clipboard-append):\n\tReplace option gui-select-enable-clipboard with\n\tselect-enable-clipboard; renamed October 2014.  (Bug#25145)\n\n2016-12-11  Nicolas Richard  <theonewiththeevillook@yahoo.fr>\n\n\tAdd some sanity checking of defun arglist\n\n\t* lisp/emacs-lisp/byte-run.el (defun):\n\tCheck for malformed argument lists.  (Bug#15715)\n\n2016-12-11  Matt Armstrong  <marmstrong@google.com>  (tiny change)\n\n\tMinor shell-mode fix for zsh\n\n\t* lisp/shell.el (shell-mode): Prevent shell-dirstack-query\n\tbecoming confused by zsh abbreviations.  (Bug#24632)\n\n2016-12-10  Noam Postavsky  <npostavs@gmail.com>\n\n\tDefine struct predicate before acccesors\n\n\tThe accessor functions use the predicate function, which causes problems\n\twhen reloading after unload-feature: the compiler-macro property is\n\tstill present on the predicate symbol, and the compiler fails to find\n\tthe definition when trying to inline it into the accessor\n\tfunction (Bug#25088).\n\n\t* lisp/emacs-lisp/cl-macs.el (cl-defstruct): Move predicate definition\n\tbefore field accessor definitions.\n\n2016-12-10  Andreas Schwab  <schwab@linux-m68k.org>\n\n\t* Makefile.in (install-etc): Don't prepend $(DESTDIR) to commands in\n\tsystem unit file.\n\n2016-12-10  Eli Zaretskii  <eliz@gnu.org>\n\n\tSupport concurrency in Emacs Lisp\n\n\tMerge branch 'test-concurrency'\n\n\t* src/thread.c:\n\t* src/thread.h:\n\t* src/systhread.c:\n\t* src/systhread.h: New files.\n\t* src/xgselect.c (xg_select): Avoid using SAFE_NALLOCA and use\n\txnmalloc unconditionally.\n\t* src/window.c (struct save_window_data): Rename current_buffer to\n\tf_current_buffer.\n\t* src/w32proc.c (sys_select): Change the function signature to\n\tcloser fit 'pselect' on Posix hosts.\n\t* src/search.c:\n\t* src/regex.h: Convert some globals to macros that reference\n\tthread-specific values.\n\t* src/process.c (pset_thread, add_non_keyboard_read_fd)\n\t(add_process_read_fd, add_non_blocking_write_fd)\n\t(recompute_input_desc, compute_input_wait_mask)\n\t(compute_non_process_wait_mask, compute_non_keyboard_wait_mask)\n\t(compute_write_mask, clear_waiting_thread_info)\n\t(update_processes_for_thread_death, Fset_process_thread)\n\t(Fprocess_thread): New functions.\n\t(enum fd_bits): New enumeration.\n\t(fd_callback_data): Add 'thread' and 'waiting_thread', rename\n\t'condition' to 'flags'.\n\t(set_process_filter_masks, create_process, create_pty)\n\t(Fmake_serial_process, finish_after_tls_connection)\n\t(connect_network_socket, deactivate_process)\n\t(server_accept_connection, wait_reading_process_output)\n\t(Fcontinue_process, Fstop_process, keyboard_bit_set)\n\t(add_timer_wait_descriptor, add_keyboard_wait_descriptor)\n\t(delete_keyboard_wait_descriptor): Use the new functions instead\n\tof manipulating fd flags and masks directly.\n\t(syms_of_process): Defsubr the new primitives.\n\t* src/print.c (print_object): Print threads, mutexes, and\n\tconditional variables.\n\t* src/lisp.h (enum pvec_type): New values PVEC_THREAD, PVEC_MUTEX,\n\tand PVEC_CONDVAR.\n\t(XTHREAD, XMUTEX, XCONDVAR, THREADP, MUTEXP, CONDVARP)\n\t(CHECK_THREAD, CHECK_MUTEX, CHECK_CONDVAR): New inline functions.\n\t(XSETTHREAD, XSETMUTEX, XSETCONDVAR): New macros.\n\t(struct handler): Add back byte_stack.  Rename lisp_eval_depth to\n\tf_lisp_eval_depth.\n\t* src/eval.c (specpdl_kind, specpdl_arg, do_specbind)\n\t(rebind_for_thread_switch, do_one_unbind)\n\t(unbind_for_thread_switch): New functions.\n\t(init_eval): 'handlerlist' is not malloc'ed.\n\t(specbind): Call do_specbind.\n\t(unbind_to): Call do_one_unbind.\n\t(mark_specpdl): Accept 2 arguments.\n\t(mark_specpdl): Mark the saved value in a let-binding.\n\t* src/emacs.c (main): Call init_threads_once, init_threads, and\n\tsyms_of_threads.\n\t* src/data.c (Ftype_of): Support thread, mutex, and condvar\n\tobjects.\n\t(Fthreadp, Fmutexp, Fcondition_variable_p): New functions.\n\t(syms_of_data): DEFSYM and defsubr new symbols and primitives.\n\t* src/bytecode.c (struct byte_stack, FETCH, CHECK_RANGE)\n\t(BYTE_CODE_QUIT): Add back.\n\t(exec_byte_code): Add back byte stack manipulation.\n\t* src/alloc.c (cleanup_vector): Handle threads, mutexes, and\n\tconditional variables.\n\t(mark_stack): Now extern; accept additional argument 'bottom'.\n\t(flush_stack_call_func): New function.\n\t(garbage_collect_1): Call mark_threads and unmark_threads.  Don't\n\tmark handlers.\n\t* src/.gdbinit (xbytecode): Add back.\n\n\t* test/src/thread-tests.el: New tests.\n\t* test/src/data-tests.el (binding-test-manual)\n\t(binding-test-setq-default, binding-test-makunbound)\n\t(binding-test-defvar-bool, binding-test-defvar-int)\n\t(binding-test-set-constant-t, binding-test-set-constant-nil)\n\t(binding-test-set-constant-keyword)\n\t(binding-test-set-constant-nil): New tests.\n\n\t* doc/lispref/processes.texi (Processes and Threads): New\n\tsubsection.\n\t* doc/lispref/threads.texi: New file\n\t* doc/lispref/elisp.texi (Top): Include it.\n\t* doc/lispref/objects.texi (Thread Type, Mutex Type)\n\t(Condition Variable Type): New subsections.\n\t(Type Predicates): Add thread-related predicates.\n\t* doc/lispref/objects.texi (Editing Types):\n\t* doc/lispref/elisp.texi (Top): Update higher-level menus.\n\n\t* etc/NEWS: Mention concurrency features.\n\n2016-12-10  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix error messages in thread.c\n\n\t* src/thread.c (lisp_mutex_unlock, Fcondition_wait)\n\t(Fcondition_notify, Fthread_join): Fix error messages.\n\n2016-12-10  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove doc strings in thread.c\n\n\t* src/thread.c (Fmake_condition_variable, Fcondition_wait)\n\t(Fcondition_notify, Fcondition_mutex, Fcondition_name, Fmake_thread)\n\t(Fthread_join, Fall_threads): Doc fixes.\n\n2016-12-10  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix building with check-lisp-object-type\n\n\t* src/thread.c (mark_one_thread): Use NILP to compare with\n\tm_saved_last_thing_searched, which is a Lisp object.  Reported by\n\tAndreas Politz <politza@hochschule-trier.de>.\n\n2016-12-10  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocumentation and commentary improvements\n\n\t* src/lisp.h:\n\t* src/regex.c:\n\t* src/xgselect.c (xg_select): Improve commentary and formatting.\n\n\t* doc/lispref/objects.texi (Thread Type, Mutex Type)\n\t(Condition Variable Type): New subsections.\n\t(Type Predicates): Add thread-related predicates.\n\t* doc/lispref/objects.texi (Editing Types):\n\t* doc/lispref/elisp.texi (Top): Update higher-level menus.\n\n2016-12-09  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix further problems with quoted file names in Tramp\n\n\t* lisp/net/tramp.el (tramp-quoted-name-p, tramp-quote-name)\n\t(tramp-unquote-name): Move defsubst ...\n\t* lisp/net/tramp-compat.el (tramp-compat-file-name-quoted-p)\n\t(tramp-compat-file-name-quote)\n\t(tramp-compat-file-name-unquote): ... here. Adapt callees.\n\n\t* lisp/net/tramp-cache.el (tramp-flush-file-property)\n\t(tramp-flush-directory-property):\n\t* lisp/net/tramp-gvfs.el (tramp-gvfs-url-file-name):\n\t* lisp/net/tramp-sh.el (tramp-make-copy-program-file-name):\n\t* lisp/net/tramp-smb.el (tramp-smb-handle-copy-file)\n\t(tramp-smb-handle-substitute-in-file-name)\n\t(tramp-smb-get-share, tramp-smb-get-localname): Handle quoted files.\n\n2016-12-09  Eli Zaretskii  <eliz@gnu.org>\n\n\t*src/sysdep.c: Fix a comment.\n\n2016-12-09  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix compilation error on Fedora 24\n\n\t* src/sysdep.c [HAVE_H_ERRNO]: Remove declaration of h_errno.\n\tReported by Paul Eggert <eggert@cs.ucla.edu>.\n\n2016-12-09  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix compilation warnings due to prototype of thread_select\n\n\t* src/thread.h <int select_func>: Make the 5th and 6th arguments\n\tbe 'const'.\n\t* src/process.c [WINDOWSNT]:\n\t* src/w32proc.c: Make the 5th and 6th argument to sys_select be\n\t'const'.\n\n2016-12-09  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix compilation on Debian GNU/Linux\n\n\t* src/thread.h: Include sys/types.h, for ssize_t that regex.h\n\tuses.  Reported by Robert Marshall <robert.marshall@codethink.co.uk>.\n\n2016-12-09  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix subtle errors with let-binding of localized variables\n\n\t* src/eval.c (do_specbind): Don't require a \"symbol\" that is\n\tactually a cons cell, in order to call set-default, as there are\n\tno longer such bindings.  This makes do_specbind work like the\n\tpre-concurrency implementation in specbind for bindings of\n\tforwarded symbols.  Use specpdl_kind to access the type of the\n\tbinding.\n\t(specpdl_kind): New function.\n\n2016-12-09  Michael Albinus  <michael.albinus@gmx.de>\n\n\tDocument file-name-quote, file-name-unquote and file-name-quoted-p\n\n\t* doc/lispref/files.texi (File Name Expansion):\n\t* etc/NEWS: Mention file-name-quote, file-name-unquote and\n\tfile-name-quoted-p.\n\n\t* lisp/files.el (file-name-non-special): Revert using\n\tfile-name-quote, file-name-unquote and file-name-quoted-p.\n\n2016-12-09  Noam Postavsky  <npostavs@gmail.com>\n\n\tFix bad quoting of python-shell-interpreter\n\n\t`python-shell-calculate-command' was using `shell-quote-argument' as if\n\tit was generating a shell command, but its callers don't pass the result\n\tto a shell, and they expect to parse it with `split-string-and-unquote'.\n\tThis caused problems depending on the flavor of shell quoting in\n\teffect (Bug#25025).\n\n\t* lisp/progmodes/python.el (python-shell-calculate-command): Use\n\t`combine-and-quote-strings' to quote the interpreter, so that it can be\n\tparsed by `python-shell-make-comint' successfully using\n\t`split-string-and-unquote'.\n\n2016-12-09  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* src/lisp.h (struct terminal): Remove unnecessary forward decl.\n\n2016-12-08  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMake read1 more reentrant\n\n\tThis is needed if \u2018read\u2019 is called soon after startup, before the\n\tUnicode tables have been set up, and it reads a \\N escape and\n\tneeds to look up a value the Unicode tables, a lookup that in turn\n\tcalls read1 recursively.  Although this change doesn\u2019t make \u2018read\u2019\n\tfully reentrant, it\u2019s good enough to handle this case.\n\t* src/lread.c (read_buffer_size, read_buffer): Remove static vars.\n\t(grow_read_buffer): Revamp to use locals, not statics, and to\n\trecord memory allocation un the specpdl.  All callers changed.\n\t(read1): Start with a stack-based buffer, and use the heap\n\tonly if the stack buffer is too small.  Use unbind_to to\n\tfree any heap buffer allocated.  Use bool for boolean.\n\tRedo symbol loop so that only one call to grow_read_buffer\n\tis needed.\n\t(init_obarray): Remove no-longer-needed initialization.\n\n2016-12-08  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix compilation warnings\n\n\t* src/thread.c (Fmake_thread): Call emacs_abort, to avoid\n\tcompilation warning.\n\n2016-12-08  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix unlikely substitute-command-keys memory leak\n\n\t* src/doc.c (Fsubstitute_command_keys):\n\tFree buffer when unwinding.\n\n2016-12-08  Michael Albinus  <michael.albinus@gmx.de>\n\n\tAdd file-name-quoted-p, file-name-quote, file-name-unquote\n\n\t* lisp/files.el (file-name-quoted-p, file-name-quote)\n\t(file-name-unquote): New defsubst.\n\t(find-file--read-only, find-file-noselect)\n\t(file-name-non-special): Use them.\n\n2016-12-08  Eli Zaretskii  <eliz@gnu.org>\n\n\tAdd a NEWS entry.\n\n2016-12-08  Glenn Morris  <rgm@gnu.org>\n\n\tMinor fix for symbol-file\n\n\t* lisp/subr.el (symbol-file): Avoid false matches with \"require\"\n\telements in load-history.  (Bug#25109)\n\n2016-12-08  Glenn Morris  <rgm@gnu.org>\n\n\tDoc fix for vc-git\n\n\t* lisp/vc/vc-git.el (vc-git-region-history): Add a doc string.\n\n2016-12-08  Tino Calancha  <tino.calancha@gmail.com>\n\n\tFix Bug#24962\n\n\t* lisp/buff-menu.el (list-buffers--refresh):\n\tList buffers with name starting with \" \" if they visit a file.\n\t* test/lisp/buff-menu-tests.el (buff-menu-24962):\n\tUpdate test result as pass.\n\n2016-12-08  Tino Calancha  <tino.calancha@gmail.com>\n\n\tediff-fixup-patch-map: Improve prompt\n\n\t* lisp/vc/ediff-ptch.el (ediff-fixup-patch-map):\n\tMake clear in the prompt when we are applying a multi patch.\n\n2016-12-08  Glenn Morris  <rgm@gnu.org>\n\n\tRetain message logging in map-y-or-n-p\n\n\t* lisp/emacs-lisp/map-ynp.el (map-y-or-n-p):\n\tStop disabling logging to Messages buffer.  (Bug#13326)\n\n2016-12-08  Glenn Morris  <rgm@gnu.org>\n\n\tDoc fix for recent change\n\n\t* lisp/simple.el (region-modifiable-p): Doc fix.\n\n2016-12-08  Glenn Morris  <rgm@gnu.org>\n\n\tQuieten make-dist default operation\n\n\t* make-dist: Add --verbose option.  Default to quieter operation.\n\n2016-12-08  Glenn Morris  <rgm@gnu.org>\n\n\tFurther improve make-dist checking\n\n\t* make-dist: Print status messages when checking.\n\n2016-12-08  Glenn Morris  <rgm@gnu.org>\n\n\tImprove previous make-dist change\n\n\t* make-dist: Let make check the info files more thoroughly.\n\n2016-12-08  Glenn Morris  <rgm@gnu.org>\n\n\tMake make-dist --snapshot do some sanity checks\n\n\t* make-dist: Snapshot mode no longer disables checks.\n\tChecks now includes checks for freshness.  (Bug#25084)\n\tChecks now exits with an error if problems were found.\n\n2016-12-07  Tino Calancha  <tino.calancha@gmail.com>\n\n\tFix regression introduced by commit 7b1e97f\n\n\t* lisp/ibuf-ext.el (ibuffer-decompose-filter): Use cdr instead\n\tof cadr; required after commit 20f5a5b.\n\n2016-12-07  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPut post-25 ChangeLog entries into ChangeLog.3\n\n\t* ChangeLog.2: Copy from emacs-25 branch.\n\t* ChangeLog.3: New file, with changes only in master.\n\t* Makefile.in (CHANGELOG_HISTORY_INDEX_MAX): Bump from 2 to 3.\n\n2016-12-07  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix network streams.\n\n\tThe original code messed up flags in fd_callback_data[], and also\n\tdidn't call add_process_read_fd for process-related file descriptors.\n\n2016-12-07  Eli Zaretskii  <eliz@gnu.org>\n\n\tMinimize spurious diffs from master.\n\n2016-12-06  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix the test suite\n\n\t* test/automated/bindings.el: Contents moved to\n\ttest/src/data-tests.el.\n\t* test/automated/threads.el: Moved to test/src/thread-tests.el.\n\n2016-12-06  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix a typo in bytecode.c.\n\n2016-12-05  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix compilation problems.\n\n\tFix merged code in process.c and eval.c.\n\n2016-12-04  Eli Zaretskii  <eliz@gnu.org>\n\n\tMerge branch 'concurrency'\n\n\tConflicts (resolved):\n\t\tconfigure.ac\n\t\tsrc/Makefile.in\n\t\tsrc/alloc.c\n\t\tsrc/bytecode.c\n\t\tsrc/emacs.c\n\t\tsrc/eval.c\n\t\tsrc/lisp.h\n\t\tsrc/process.c\n\t\tsrc/regex.c\n\t\tsrc/regex.h\n\n2015-11-02  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix the MS-Windows build\n\n\t* src/thread.h [WINDOWSNT]: Include sys/socket.h.\n\n\t* src/sysselect.h: Don't define fd_set and FD_* macros for\n\tMS-Windows here.\n\t* src/w32.h: Define them here.\n\n\t* src/process.h (sys_select): Declare prototype.\n\n\t* src/sysdep.c:\n\t* src/process.c:\n\t* src/filelock.c:\n\t* src/emacs.c:\n\t* src/callproc.c: Move inclusion of sys/select.h after lisp.h.\n\t* nt/inc/socket.h: Include w32.h instead of sysselect.h\n\n2015-11-01  Ken Raeburn  <raeburn@raeburn.org>\n\n\tmerge from trunk\n\n2013-10-19  Barry O'Reilly  <gundaetiapo@gmail.com>\n\n\t* src/eval.c (unbind_for_thread_switch): Fix iteration over the\n\tspecpdl stack.\n\n2013-10-18  Tom Tromey  <tromey@redhat.com>\n\n\tchange condition-variablep to condition-variable-p\n\n2013-09-01  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix crashes when unbind_for_thread_switch signals an error.\n\n\t src/eval.c (unbind_for_thread_switch): Accept a 'struct\n\t thread_state *' argument and use specpdl_ptr and specpdl of that\n\t thread.  Fixes crashes if find_symbol_value signals an error.\n\t src/thread.c (post_acquire_global_lock): Update current_thread\n\t before calling unbind_for_thread_switch.  Pass the previous thread\n\t to unbind_for_thread_switch.\n\n2013-08-31  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove MS-Windows implementation of threads.\n\n\t src/systhread.c (sys_cond_init): Set the 'initialized' member to\n\t true only if initialization is successful.  Initialize wait_count\n\t and wait_count_lock.\n\t (sys_cond_wait, sys_cond_signal, sys_cond_broadcast): If\n\t 'initialized' is false, do nothing.\n\t (sys_cond_wait): Fix the implementation to avoid the \"missed\n\t wakeup\" bug: count the waiting threads, and reset the broadcast\n\t event once the last thread was released.\n\t (sys_cond_signal, sys_cond_broadcast): Use SetEvent instead of\n\t PulseEvent.  Don't signal the event if no threads are waiting.\n\t (sys_cond_destroy): Only close non-NULL handles.\n\t (sys_thread_create): Return zero if unsuccessful, 1 if successful.\n\t src/systhread.h (w32thread_cond_t): New member 'initialized'.\n\t Rename waiters_count and waiters_count_lock to wait_count and\n\t wait_count_lock, respectively.\n\n2013-08-30  Eli Zaretskii  <eliz@gnu.org>\n\n\tEnable thread support in the MS-Windows build.\n\n\t src/systhread.h (w32thread_critsect, w32thread_cond_t, sys_mutex_t)\n\t (sys_cond_t, sys_thread_t) [WINDOWSNT]: New data types.\n\t src/systhread.c (sys_mutex_init, sys_mutex_lock, sys_mutex_unlock)\n\t (sys_mutex_destroy, sys_cond_init, sys_cond_wait)\n\t (sys_cond_signal, sys_cond_broadcast, sys_cond_destroy)\n\t (sys_thread_self, sys_thread_equal, w32_beginthread_wrapper)\n\t (sys_thread_create, sys_thread_yield) [WINDOWSNT]: New functions.\n\n\t configure.ac (THREADS_ENABLED): Enable threads for MinGW, even\n\t if pthreads is not available.\n\n2013-08-27  Tom Tromey  <tromey@redhat.com>\n\n\tuse condition-notify in the docs, not condition-signal\n\n\tzap until-condition docs\n\n\tzap until-condition\n\n\trename thread-blocker to thread--blocker\n\n\tremove binding_symbol\n\n\tfix style of threadp, mutexp, and condition-variable-p\n\n\tmake thread_check_current_buffer return bool\n\n\tadd a comment before flush_stack_call_func\n\n\tfix whitespace_regexp warning\n\n2013-08-26  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix MS-Windows build.\n\n\t src/callproc.c:\n\t src/emacs.c:\n\t src/filelock.c:\n\t src/process.c:\n\t src/sysdep.c:\n\t src/w32.c: Reshuffle Windows-specific headers to avoid errors with\n\t redefinition of fd_set etc.\n\t src/process.c: Don't use num_pending_connects when\n\t NON_BLOCKING_CONNECT is not defined.\n\t src/sysselect.h: Move definitions of FD_* macros and of SELECT_TYPE\n\t here from w32.h.\n\t src/w32proc.c (sys_select): Adjust the argument types to what\n\t thread.h expects.\n\n\t nt/inc/sys/socket.h: Include stdint.h.  Include sysselect.h instead\n\t of w32.h.\n\n2013-08-26  Tom Tromey  <tromey@redhat.com>\n\n\tuse record_unwind_protect_void, avoid warning\n\n\timplement --enable-threads and a thread-less mode\n\n2013-08-25  Tom Tromey  <tromey@redhat.com>\n\n\tmerge from trunk\n\n2013-08-20  Tom Tromey  <tromey@redhat.com>\n\n\tfix up some merge errors in process.c\n\n\tremove a dead function\n\tclean up a fixme I added in create_pty during the merge\n\n2013-08-20  Tom Tromey  <tromey@redhat.com>\n\n\tmerge from trunk\n\n2013-07-26  Tom Tromey  <tromey@redhat.com>\n\n\tmerge from trunk\n\n2013-07-13  Tom Tromey  <tromey@redhat.com>\n\n\tMerge from trunk\n\n2013-07-12  Tom Tromey  <tromey@redhat.com>\n\n\tUse thread_alive_p in a couple more spots\n\n2013-07-07  Tom Tromey  <tromey@redhat.com>\n\n\tfix xfree bug in run_thread\n\n\tthis fixes run_thread to account for the dummy slot\n\tin specpdl\n\n2013-07-07  Tom Tromey  <tromey@redhat.com>\n\n\tmerge from trunk\n\n\tthis merges frmo trunk and fixes various build issues.\n\tthis needed a few ugly tweaks.\n\tthis hangs in \"make check\" now\n\n2013-07-06  Tom Tromey  <tromey@redhat.com>\n\n\tadd assertion to flush_stack_call_func\n\n\tfunctions called via flush_stack_call_func are assumed\n\tto return with the global lock held again, and with\n\tcurrent_thread reset.  this assertion verifies part of this\n\n2013-07-06  Tom Tromey  <tromey@redhat.com>\n\n\tcall init_primary_thread from init_threads\n\n2013-07-05  Tom Tromey  <tromey@redhat.com>\n\n\tavoid SAFE_ALLOCA\n\n\tavoid SAFE_ALLOCA in xgselect.c.\n\tin this code it is just as easy to always use malloc;\n\tand it avoids thread-switching problems, as the safe-alloca\n\tstuff implicitly refers to the current thread\n\n2013-07-05  Tom Tromey  <tromey@redhat.com>\n\n\tavoid current_thread sometimes\n\n\tthis tweaks thread.c to use 'self' instead of current_thread\n\tin a couple spots.  this is clearer and more robust\n\n2013-07-05  Tom Tromey  <tromey@redhat.com>\n\n\tinitialize saved_value\n\n\tinitialize the saved_value field in all needed cases\n\talso, add an assertion to do_one_unbind\n\n2013-07-04  Tom Tromey  <tromey@redhat.com>\n\n\tfix buglet in test case\n\n2013-07-04  Tom Tromey  <tromey@redhat.com>\n\n\tunlink thread later\n\n\tunlink thread from global list later\n\talso remove some unnecessary destruction code\n\n2013-07-04  Tom Tromey  <tromey@redhat.com>\n\n\tintroduce thread_alive_p macro\n\n\tThis introduces the thread_alive_p macro and changes\n\tthread-alive-p to use it.  This is a minor cleanup.\n\tIt also changes all-threads to ignore dead threads.\n\n2013-07-03  Tom Tromey  <tromey@redhat.com>\n\n\tDon't call unbind_for_thread_switch in run_thread\n\n\tThis removes the call to unbind_for_thread_switch from run_thread.\n\tThis isn't necessary because acquire_global_lock does it properly.\n\n2013-07-03  Tom Tromey  <tromey@redhat.com>\n\n\tremove unused field from struct thread_state\n\n\tFix a comment.\n\n2013-06-13  Tom Tromey  <tromey@redhat.com>\n\n\tmerge from trunk\n\n2013-06-06  Tom Tromey  <tromey@redhat.com>\n\n\tfix a few latent issues in the thread patch\n\n\t* we called unbind_for_thread_switch unconditionally, but this\n\t  is wrong if the previous thread exited\n\t* likewise, exiting a thread should clear current_thread\n\t* redundant assignment in run_thread\n\t* clean up init_threads - no need to re-init the primary thread\n\n\tThis patch still sometimes causes weird hangs in \"make check\".\n\tHowever, I think that is a kernel bug, since Emacs enters the zombie\n\tstate but its parent process hangs in wait.  This shouldn't happen.\n\n2013-06-04  Tom Tromey  <tromey@redhat.com>\n\n\tupdate eval.c to make it build again after the merge\n\n2013-06-03  Tom Tromey  <tromey@redhat.com>\n\n\tmerge from trunk; clean up some issues\n\n2013-03-18  Tom Tromey  <tromey@redhat.com>\n\n\tdon't let kill-buffer kill a buffer if it is current in any thread\n\n2013-03-18  Tom Tromey  <tromey@redhat.com>\n\n\tfix process bugs\n\n\tFix some process-related bugs, mostly thinkos from the conversion to\n\trecording fd state as flags.\n\tThis now passes the test suite without hanging.\n\n2013-03-17  Tom Tromey  <tromey@redhat.com>\n\n\tmerge from trunk\n\n2013-03-08  Tom Tromey  <tromey@redhat.com>\n\n\tmerge from trunk\n\n2013-01-16  Tom Tromey  <tromey@redhat.com>\n\n\tmerge from trunk\n\n2013-01-06  Tom Tromey  <tromey@redhat.com>\n\n\tmerge from trunk\n\n2012-12-23  Tom Tromey  <tromey@redhat.com>\n\n\tmention let bindings and lack of other ways to rewind\n\n2012-12-17  Tom Tromey  <tromey@redhat.com>\n\n\tRemove bit accidentally left over from the merge\n\n\tmerge from trunk\n\n2012-09-04  Tom Tromey  <tromey@redhat.com>\n\n\tmerge from trunk\n\n\tlink from thread docs to match data\n\n2012-08-27  Tom Tromey  <tromey@redhat.com>\n\n\tcannot thread-join the current thread\n\n\tfix test suite for condition-variable-p name change\n\n\tadd tests for variable bindings\n\n2012-08-25  Tom Tromey  <tromey@redhat.com>\n\n\tminor update to thread-join docs\n\n2012-08-24  Tom Tromey  <tromey@redhat.com>\n\n\tminor documentation updates\n\n2012-08-23  Tom Tromey  <tromey@redhat.com>\n\n\tdocument until-condition\n\n\tfirst draft of threads documentation\n\n\trename condition-variablep to condition-variable-p\n\n\tdocument process-thread and set-process-thread\n\n2012-08-20  Tom Tromey  <tromey@redhat.com>\n\n\tpass the thread name to the OS if possible\n\n\tuse prctl to pass the thread name to the OS, if possible\n\n2012-08-20  Tom Tromey  <tromey@redhat.com>\n\n\tadd convenience macros with-mutex and until-condition\n\n\twith-mutex is a safe way to run some code with a mutex held.\n\tuntil-condition is a safe way to wait on a condition variable.\n\n2012-08-20  Tom Tromey  <tromey@redhat.com>\n\n\tMerge from trunk\n\n2012-08-19  Tom Tromey  <tromey@redhat.com>\n\n\tanother docstring fixlet\n\n\tminor docstring fixup\n\n\tadd condition-mutex and condition-name\n\n\tensure name of a thread is a string\n\n\tensure name of a mutex is a string\n\n\tuse NILP\n\n2012-08-19  Tom Tromey  <tromey@redhat.com>\n\n\tcondition variables\n\n\tThis implements condition variables for elisp.\n\tThis needs more tests.\n\n2012-08-19  Tom Tromey  <tromey@redhat.com>\n\n\tcomment fixes\n\n2012-08-19  Tom Tromey  <tromey@redhat.com>\n\n\trefactor systhread.h\n\n\tThis refactors systhread.h to move the notion of a \"lisp mutex\"\n\tinto thread.c.  This lets us make make the global lock and\n\tpost_acquire_global_lock static.\n\n2012-08-17  Tom Tromey  <tromey@redhat.com>\n\n\twrite docstrings for the thread functions\n\n\tdeclare unbind_for_thread_switch and rebind_for_thread_switch in lisp.h\n\n2012-08-15  Tom Tromey  <tromey@redhat.com>\n\n\tadd test case for I/O switching\n\n2012-08-15  Tom Tromey  <tromey@redhat.com>\n\n\tprocess changes\n\n\tThis changes wait_reading_process_output to handle threads better.  It\n\tintroduces a wrapper for select that releases the global lock, and it\n\tensures that only a single thread can select a given file descriptor\n\tat a time.\n\n\tThis also adds the thread-locking feature to processes.  By default a\n\tprocess can only have its output accepted by the thread that created\n\tit.  This can be changed using set-process-thread.  (If the thread\n\texits, the process is again available for waiting by any thread.)\n\n\tNote that thread-signal will not currently interrupt a thread blocked\n\ton select.  I'll fix this later.\n\n2012-08-15  Tom Tromey  <tromey@redhat.com>\n\n\tPrepare process.c for threads by not having global select masks.\n\tThe next step is to make it so selects can choose fds by thread.\n\n2012-08-15  Tom Tromey  <tromey@redhat.com>\n\n\tfix a latent bug in process.c\n\n\t* src/process.c (wait_reading_process_output): Check Writeok bits,\n\tnot write_mask.\n\n2012-08-15  Tom Tromey  <tromey@redhat.com>\n\n\tThis adds thread-blocker, a function to examine what a thread is\n\tblocked on.  I thought this would be another nice debugging addition.\n\n\tThis adds names to mutexes.  This seemed like a nice debugging\n\textension.\n\n\tThis adds some tests of the threading code.\n\n2012-08-15  Tom Tromey  <tromey@redhat.com>\n\n\tThis supplies the mutex implementation for Emacs Lisp.\n\n\tA lisp mutex is implemented using a condition variable, so that we can\n\tinterrupt a mutex-lock operation by calling thread-signal on the\n\tblocking thread.  I did things this way because pthread_mutex_lock\n\tcan't readily be interrupted.\n\n2012-08-15  Tom Tromey  <tromey@redhat.com>\n\n\tThis adds most of the thread features visible to emacs lisp.\n\n\tI roughly followed the Bordeaux threads API:\n\n\thttp://trac.common-lisp.net/bordeaux-threads/wiki/ApiDocumentation\n\n\t... but not identically.  In particular I chose not to implement\n\tinterrupt-thread or destroy-thread, but instead a thread-signaling\n\tapproach.\n\n\tI'm still undecided about *default-special-bindings* (which I did not\n\timplement).  I think it would be more emacs-like to capture the let\n\tbindings at make-thread time, but IIRC Stefan didn't like this idea\n\tthe first time around.\n\n\tThere are one or two semantics issues pointed out in the patch where I\n\tcould use some advice.\n\n2012-08-15  Tom Tromey  <tromey@redhat.com>\n\n\tThis turns thread_state into a pseudovector and updates various bits\n\tof Emacs to cope.\n\n2012-08-15  Tom Tromey  <tromey@redhat.com>\n\n\tThis introduces some new functions to handle the specpdl.  The basic\n\tidea is that when a thread loses the interpreter lock, it will unbind\n\tthe bindings it has put in place.  Then when a thread acquires the\n\tlock, it will restore its bindings.\n\n\tThis code reuses an existing empty slot in struct specbinding to store\n\tthe current value when the thread is \"swapped out\".\n\n\tThis approach performs worse than my previously planned approach.\n\tHowever, it was one I could implement with minimal time and\n\tbrainpower.  I hope that perhaps someone else could improve the code\n\tonce it is in.\n\n2012-08-15  Tom Tromey  <tromey@redhat.com>\n\n\tThis introduces the low-level system threading support.  It also adds\n\tthe global lock.  The low-level support is a bit over-eager, in that\n\teven at the end of the present series, it will not all be used.  I\n\tthink thiat is ok since I plan to use it all eventually -- in\n\tparticular for the emacs lisp mutex implementation.\n\n\tI've only implemented the pthreads-based version.  I think it should\n\tbe relatively clear how to port this to other systems, though.\n\n\tI'd also like to do a \"no threads\" port that will turn most things\n\tinto no-ops, and have thread-creation fail.  I was thinking perhaps\n\tI'd make a future (provide 'threads) conditional on threads actually\n\tworking.\n\n\tOne other minor enhancement available here is to make it possible to\n\tset the name of the new thread at the OS layer.  That way gdb, e.g.,\n\tcould display thread names.\n\n2012-08-15  Tom Tromey  <tromey@redhat.com>\n\n\tThis parameterizes the GC a bit to make it thread-ready.\n\n\tThe basic idea is that whenever a thread \"exits lisp\" -- that is,\n\treleases the global lock in favor of another thread -- it must save\n\tits stack boundaries in the thread object.  This way the boundaries\n\tare always available for marking.  This is the purpose of\n\tflush_stack_call_func.\n\n\tI haven't tested this under all the possible GC configurations.\n\tThere is a new FIXME in a spot that i didn't convert.\n\n\tArguably all_threads should go in the previous patch.\n\n2012-08-15  Tom Tromey  <tromey@redhat.com>\n\n\tThis introduces a thread-state object and moves various C globals\n\tthere.  It also introduces #defines for these globals to avoid a\n\tmonster patch.\n\n\tThe #defines mean that this patch also has to rename a few fields\n\twhose names clash with the defines.\n\n\tThere is currently just a single \"thread\"; so this patch does not\n\timpact Emacs behavior in any significant way.\n\n2016-12-07  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\teeecac7 Fix minor quoting problems in doc strings\n\n2016-12-07  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\t35ce3fb Don't assume window-point and point are the same\n\n2016-12-07  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\tba2847f ; * lisp/vc/ediff-util.el (ediff-janitor): Fix last change.  ...\n\t8b43f97 * lisp/vc/ediff-util.el (ediff-janitor): Doc fix.  (Bug#25046)\n\tc20035c ; * doc/emacs/programs.texi (Man Page): Fix last change.\n\t93d8346 Improve indexing of 'man'\n\n2016-12-07  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\td31298d Fix documentation of `window-combination-resize'\n\t2086f4c Typo fixes in elisp manual\n\n2016-12-07  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\t3980903 ; Update ChangeLog.2, etc/AUTHORS and ldef-boot.el for Emacs ...\n\t5878abf Fix 'expand-file-name' during startup on MS-Windows\n\n2016-12-07  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\t9a857b9 * admin/authors.el (authors-renamed-files-alist): Addition.\n\t6d27423 Tweak refcard note about documentation location\n\te46a134 Improve treatment of Fortran's \"class is\"\n\n2016-12-07  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\t93c0f51 Handle TeX comments when making new paragraph\n\te0884f1 Restore keystroke echo in 'C-q'\n\ta6213ce Improve documentation of 'current-word'\n\t0828126 Fix a typo in an Eshell defcustom\n\t2e361c7 Minor copyedits of electric-pair-mode\n\t7499ee8 ; Minor copyedit in the Emacs manual\n\t45b652b Fix documentation of 'invocation-directory'\n\t7f43d7c * admin/authors.el (authors-aliases): Add an entry.\n\tba48880 ; Fix pl-refcard.tex\n\n2016-12-07  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\t7287e96 ; * src/lread.c (openp): Correct an inaccuracy in commentary.\n\n2016-12-07  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\t3d63b48 Update ChangeLog files and authors.el\n\t9d30264 Fix menu bindings of Dired 'A' and 'Q' commands\n\ta725592 Avoid errors in shr-pixel-column due to dedicated windows\n\t3138598 Update format-time-string documentation\n\n2016-12-07  Sam Steingold  <sds@gnu.org>\n\n\tdelete-trailing-whitespace: handle read-only text in buffer\n\n\t* lisp/simple.el (region-modifiable-p): New function.\n\t(delete-trailing-whitespace): Us it to avoid trying to delete read-only text.\n\n2016-12-07  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix minor quoting problems in doc strings\n\n2016-12-07  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix --enable-gcc-warnings --with-ns on Fedora\n\n\t* src/Makefile.in (NON_OBJC_CFLAGS): New macro.\n\t(ALL_OBJC_CFLAGS): Use it.\n\t(EMACS_CFLAGS): New macro, with most of the old ALL_CFLAGS.\n\t(ALL_CFLAGS, ALL_OBJC_FLAGS): Use it.\n\n2016-12-07  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix problems in quoting Tramp file names\n\n\t* lisp/net/tramp.el (tramp-get-remote-tmpdir): Add also hop to result.\n\t(tramp-unquote-shell-quote-argument): New defun.\n\t(tramp-shell-quote-argument):\n\t* lisp/net/tramp-sh.el (tramp-do-copy-or-rename-file-out-of-band)\n\t(tramp-make-copy-program-file-name):\n\t* lisp/net/tramp-smb.el (tramp-smb-handle-copy-directory)\n\t(tramp-smb-handle-file-acl, tramp-smb-handle-set-file-acl)\n\t(tramp-smb-shell-quote-argument): Use it.\n\n2016-12-07  Tino Calancha  <tino.calancha@gmail.com>\n\n\tibuffer-map-deletion-lines: Re-included it\n\n\tIt was deleted in previous commit, but it's referenced\n\tby the macro 'define-ibuffer-op'.\n\t* lisp/ibuffer.el (ibuffer-map-deletion-lines): Reinclude it.\n\n2016-12-07  Tino Calancha  <tino.calancha@gmail.com>\n\n\tibuffer-unmark-all: simplify code\n\n\t* lisp/ibuffer.el (ibuffer-map-deletion-lines): Delete it.\n\t(ibuffer-unmark-all): Simplify code.\n\n2016-12-07  Tino Calancha  <tino.calancha@gmail.com>\n\n\tdefine-ibuffer-filter: Discard wrong filters\n\n\t* lisp/ibuf-macs.el (define-ibuffer-filter): Do not store\n\tin 'ibuffer-filtering-qualifiers' a wrong filter (Bug#25042).\n\t* test/lisp/ibuffer-tests.el (ibuffer-test-Bug25042): Add test.\n\n2016-12-07  Philipp Stephani  <p.stephani2@gmail.com>\n\n\t* lisp/emacs-lisp/easy-mmode.el (define-minor-mode): Fix docstring\n\n\tso that it matches the actual implementation.\n\tSee https://lists.gnu.org/r/help-gnu-emacs/2016-04/msg00071.html\n\n2016-12-07  Tino Calancha  <tino.calancha@gmail.com>\n\n\tibuffer-decompose-filter-group avoid unwanted side effects\n\n\t* lisp/ibuf-ext.el (ibuffer-delete-alist): Remove it.\n\t(ibuffer-remove-alist): New defun; it supersedes 'ibuffer-delete-alist'.\n\tAll callers changed (Bug#25058).\n\t* test/lisp/ibuffer-tests.el (ibuffer-test-Bug25058): Add test.\n\n2016-12-07  Tino Calancha  <tino.calancha@gmail.com>\n\n\tibuffer-unmark-backward: Unmark the region when is active\n\n\t* lisp/ibuffer.el (ibuffer-unmark-backward):\n\tUse 'ibuffer-get-region-and-prefix'; call 'ibuffer-unmark-forward'\n\twith the region boundary as the first 2 arguments (Bug#24987).\n\n2016-12-07  Nicolas Petton  <nicolas@petton.fr>\n\n\tDocstring improvement for seq-some (bug#25129)\n\n\t* lisp/emacs-lisp/seq.el (seq-some): Make the docstring less confusing\n\t  regarding the returned value.\n\n2016-12-07  Tino Calancha  <tino.calancha@gmail.com>\n\n\tdired-unmark-backward: Unmark the region when is active\n\n\t* lisp/dired.el (dired-unmark-backward): Call 'dired-unmark' with\n\ta non-nil second argument (Bug#24986).\n\n2016-12-07  Tino Calancha  <tino.calancha@gmail.com>\n\n\tNew test file for ediff\n\n\tFix previous commit.\n\t* test/lisp/vc/ediff-ptch-tests.el: New test.\n\n2016-12-07  Tino Calancha  <tino.calancha@gmail.com>\n\n\tediff-context-diff-label-regexp: Detect the end of second file\n\n\t* lisp/vc/ediff-ptch.el (ediff-context-diff-label-regexp): Skip\n\t'\\n' in file names (Bug#25010).\n\t* test/lisp/vc/ediff-ptch-tests.el: New file.\n\t(ibuffer-test-bug25010): Add test for Bug#25010.\n\n2016-12-07  Tino Calancha  <tino.calancha@gmail.com>\n\n\tibuffer-decompose-filter: Avoid side effects on error\n\n\t* lisp/ibuf-ext.el (ibuffer-decompose-filter):\n\tUpdate 'ibuffer-filtering-qualifiers' only if there is no error (Bug#24997).\n\t* test/lisp/ibuffer-tests.el (ibuffer-test-Bug24997):\n\tUpdate test result as pass.\n\n2016-12-07  Tino Calancha  <tino.calancha@gmail.com>\n\n\tibuffer: compare marks with EQ\n\n\t* lisp/ibuffer.el:\n\t(ibuffer-update-title-and-summary)\n\t(ibuffer-redisplay-current)\n\t(ibuffer-buffer-name-face, ibuffer-unmark-all)\n\t(ibuffer-count-deletion-lines, ibuffer-buffer-names-with-mark):\n\tUse 'eq' instead of 'char-equal' when comparing mark characters\n\t(Bug#25000).\n\t* test/lisp/ibuffer-tests.el (ibuffer-test-Bug25000):\n\tUpdate test result as pass.\n\n2016-12-07  Christopher Genovese  <genovese@cmu.edu>\n\n\tibuffer-saved-filters: Remove extra nesting level\n\n\tFix Bug#25049.\n\t* lisp/ibuf-ext.el (ibuffer-saved-filters): Remove extra\n\tnesting level; add transparent setter to adjust old-format values;\n\tupdate doc string.\n\t(ibuffer-save-filters): Remove extra level of nesting\n\tin ibuffer-saved-filters values when saving new filters.\n\t(ibuffer-old-saved-filters-warning): New variable with\n\tclickable message with repair options to be displayed\n\tas a warning if 'ibuffer-repair-saved-filters' detects\n\ta format mismatch.\n\t(ibuffer-repair-saved-filters): Add new command to check and\n\trepair saved filters format.\n\t(ibuffer-included-in-filter-p, ibuffer-decompose-filter):\n\tChange access of saved filter data (cadr->cdr) to account\n\tfor reduced nesting.\n\t* test/lisp/ibuffer-tests.el (ibuffer-save-filters):\n\tNew test; check that filters are saved in the proper format.\n\n2016-12-06  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tClean out some IRIX cruft\n\n\t* etc/MACHINES: Remove obsolete discussion of IRIX.\n\t* src/process.c (allocate_pty) [__sgi]: Remove SGI-specific code.\n\t(create_process) [HAVE_PTYS]: Don't worry about IRIX.\n\t* src/syntax.c (scan_sexps_forward): Remove obsolete comment.\n\t* src/unexelf.c [__sgi]: Don't include <syms.h>.\n\t(unexec) [__sgi]: Remove SGI-specific code.\n\n2016-12-06  Paul Eggert  <eggert@Penguin.CS.UCLA.EDU>\n\n\tSimplify FUNCTIONP implementation\n\n\t* src/bytecode.c (exec_byte_code):\n\t* src/image.c (parse_image_spec):\n\tPrefer FUNCTIONP (x) to !NILP (Ffunctionp (x)).\n\t* src/eval.c (FUNCTIONP): Move here ...\n\t* src/lisp.h: ... from here.  No longer inline, as that\n\tbloats the text and does not help speed (at least on my platform).\n\t(functionp): Remove this name, since callers use FUNCTIONP.\n\n2016-12-06  Noam Postavsky  <npostavs@gmail.com>\n\n\tDon't assume window-point and point are the same\n\n\tThe function `cursor-sensor--detect' calls `bobp' to decide whether to\n\tcheck properties at (1- (window-point)).  However, (window-point) may be\n\tat beginning of buffer, even if (point) is not.  In this case an\n\t`args-out-of-range' error will be signaled (Bug#25104).\n\n\t* lisp/emacs-lisp/cursor-sensor.el (cursor-sensor--detect): Check the\n\tvalue of (window-point) against (point-min), rather than (bobp) to\n\tdecide if (1- (window-point)) is accessible.\n\n2016-12-06  Noam Postavsky  <npostavs@gmail.com>\n\n\tGive test-completion's PREDICATE the hashtable key\n\n\tFor hashtable entries with symbol keys, `test-completion' would convert\n\tthe key to a string before calling PREDICATE, unlike `try-completion'\n\tand `all-completions'.\n\n\t* src/minibuf.c (Ftest_completion): Pass original key from hashtable.\n\n2016-12-06  Noam Postavsky  <npostavs@gmail.com>\n\n\tGive test-completion's PREDICATE full alist entry\n\n\tSince 2016-06-26 \"Fix test-completion with completion-regexp-list\", when\n\tcalling test-completion with an alist collection, the predicate was\n\trecieving the string value instead of the alist entry (Bug#24966).\n\n\t* src/minibuf.c (Ftest_completion): Don't modify the found element, just\n\ttest STRING against `completion-regexp-list'.\n\t* test/src/minibuf-tests.el: New tests for `try-completion',\n\t`all-completions', and `test-completion'.\n\n2016-12-06  Noam Postavsky  <npostavs@gmail.com>\n\n\tFix ert-tests when running compiled\n\n\t* test/lisp/emacs-lisp/ert-tests.el (ert-test-deftest): Don't test for\n\tspecific macroexpansion, just check result of evaluation.\n\t(ert-test-record-backtrace): Don't hardcode representation of closure in\n\texpected backtrace, this lets the test succeed even when the test code\n\tis compiled.\n\n\t* lisp/emacs-lisp/ert.el (ert--expand-should-1): Also pass\n\t`byte-compile-macro-environment' to `macroexpand', this allows the\n\t`should' macro to properly handle macroexpansion of macros that were\n\tdefined in the same file when it's being compiled (Bug #17851).\n\n2016-12-06  Glenn Morris  <rgm@gnu.org>\n\n\tMake \"g\" in vc push/pull buffers re-push/pull\n\n\t* lisp/vc/vc-bzr.el (vc-bzr--pushpull):\n\t* lisp/vc/vc-git.el (vc-git--pushpull):\n\t* lisp/vc/vc-hg.el (vc-hg--pushpull):\n\tSet compile-command so that \"g\" works.  (Bug#11446)\n\n2016-12-06  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tChange two _Noreturn functions to return void\n\n\tThis is a bit clearer than _Noreturn functions that (do not)\n\treturn a non-void type.\n\t* src/callproc.c (call_process) [MSDOS]:\n\tUse 'status' local to record status.\n\t(child_setup): Return CHILD_SETUP_TYPE.\n\t* src/data.c, src/lisp.h (wrong_type_argument): Return void.\n\tAll callers changed.\n\t* src/lisp.h (CHILD_SETUP_TYPE): New macro.\n\n2016-12-05  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix GPG bug introduced by Oct file-missing change\n\n\tProblem with visiting nonexistent .gpg file\n\treported by Herbert J Skuhra.\n\t* lisp/epa-file.el (epa-file--find-file-not-found-function):\n\t(epa-file-insert-file-contents, epa-file-write-region):\n\tSignal file-missing or file-error instead of epa-error.\n\n2016-12-05  Glenn Morris  <rgm@gnu.org>\n\n\tTweak recent flymake change\n\n\t* lisp/progmodes/flymake.el (flymake-report-fatal-status):\n\tAvoid double message when flymake-log-level >= 0.\n\t* doc/misc/flymake.texi (Customizable variables):\n\tNo longer mention flymake-gui-warnings-enabled.\n\n2016-12-05  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\tMake TAB and M-TAB run widget-forward and widget-backward (bug#25091)\n\n\t* lisp/gnus/mm-decode.el (mm-convert-shr-links): Avoid `shr-next-link'\n\tand `shr-previous-link' so TAB and M-TAB run `widget-forward' and\n\t`widget-backward' instead (bug#25091).\n\n2016-12-05  Michael Albinus  <michael.albinus@gmx.de>\n\n\tRemove compat code in Tramp\n\n\t* lisp/net/tramp.el (tramp-parse-time-months): Remove.\n\n\t* lisp/net/tramp-compat.el (top): Require parse-time.\n\n\t* lisp/net/tramp-smb.el (tramp-smb-read-file-entry):\n\tUse `parse-time-months'.\n\n2016-12-05  Martin Rudalics  <rudalics@gmx.at>\n\n\tDon't try to split side windows in ibuffer (Bug#25115)\n\n\t* lisp/ibuffer.el (ibuffer-confirm-operation-on): Don't try to\n\tsplit a side window (Bug#25115).\n\n2016-12-04  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* src/lisp.h: Update comment to kick -Og down the road.\n\n2016-12-04  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tMore image-dired refactoring\n\n\t* lisp/image-dired.el: Remove TODO comment. This appears to have been\n\timplemented in 5d7433a \"image-dired: Signal an error before calling a\n\tmissing executable\".\n\t(image-dired-cmd-create-standard-thumbnail-command): Use %p specifier.\n\tAdd :version.\n\t(image-dired-display-thumbs, image-dired-create-thumbs): Use dolist and\n\twhen. Remove superfluous call to image-dired-thumb-name. Move single nil\n\tbinding and setq into dolist form.\n\n2016-12-04  Michael Albinus  <michael.albinus@gmx.de>\n\n\tImplement quoting the local part of a remote file name\n\n\t* doc/emacs/files.texi (Quoted File Names):\n\t* etc/NEWS: Mention quoting the local part of a remote file name.\n\n\t* lisp/net/tramp.el (tramp-dissect-file-name): Check with\n\t`tramp-tramp-file-p'.\n\t(tramp-quoted-name-p, tramp-quote-name, tramp-unquote-name):\n\tNew defsubst.\n\t(tramp-handle-substitute-in-file-name)\n\t(tramp-handle-make-auto-save-file-name): Handle quoted files.\n\t(tramp-shell-quote-argument): Unquote argument.\n\n\t* lisp/net/tramp-sh.el (tramp-sh-handle-file-truename):\n\tHandle quoted files.\n\n\t* test/lisp/net/tramp-tests.el (tramp--test-expensive-test): New defvar.\n\t(tramp--test-make-temp-name): New argument QUOTED.\n\t(tramp-test01-file-name-syntax)\n\t(tramp-test02-file-name-dissect)\n\t(tramp-test04-substitute-in-file-name)\n\t(tramp-test05-expand-file-name, tramp-test07-file-exists-p)\n\t(tramp-test08-file-local-copy)\n\t(tramp-test09-insert-file-contents)\n\t(tramp-test10-write-region, tramp-test11-copy-file)\n\t(tramp-test12-rename-file, tramp-test13-make-directory)\n\t(tramp-test14-delete-directory, tramp-test15-copy-directory)\n\t(tramp-test16-directory-files)\n\t(tramp-test17-insert-directory)\n\t(tramp-test18-file-attributes)\n\t(tramp-test19-directory-files-and-attributes)\n\t(tramp-test20-file-modes, tramp-test21-file-links)\n\t(tramp-test22-file-times, tramp-test23-visited-file-modtime)\n\t(tramp-test24-file-name-completion, tramp-test25-load)\n\t(tramp-test26-process-file, tramp-test27-start-file-process)\n\t(tramp-test28-shell-command, tramp-test30-vc-registered)\n\t(tramp-test31-make-auto-save-file-name)\n\t(tramp--test-check-files)\n\t(tramp-test35-asynchronous-requests): Test also quoted file names.\n\t(tramp--test-shell-command-to-string-asynchronously): Rename.\n\t(tramp-test29-environment-variables): Use it.\n\n2016-12-04  Tino Calancha  <tino.calancha@gmail.com>\n\n\tFix typo in dired-omit-case-fold-p\n\n\t* lisp/dired-x.el (dired-omit-case-fold-p):\n\tWrite 'file-name-case-insensitive-p' instead of\n\t'file-name-case-sensitive-p'.\n\tAdd declaration of 'file-name-case-insensitive-p'.\n\n2016-12-04  Simen Heggest\u00f8yl  <simenheg@gmail.com>\n\n\tAdd HTML5 attributes for the input element\n\n\t* lisp/textmodes/sgml-mode.el (html-tag-alist): Add HTML5 attributes\n\tfor the input element.\n\n2016-12-03  Glenn Morris  <rgm@gnu.org>\n\n\tObsolete sc-load-hook in favor of eval-after-load\n\n\t* lisp/mail/supercite.el (sc-load-hook): Make obsolete.\n\t* doc/misc/sc.texi (Getting Connected, Filling Cited Text):\n\tNo longer mention sc-load-hook.\n\n2016-12-03  Glenn Morris  <rgm@gnu.org>\n\n\tObsolete calendar-load-hook in favor of eval-after-load\n\n\t* lisp/calendar/calendar.el (calendar-load-hook): Make obsolete.\n\t(calendar): Doc fix - no longer mention calendar-load-hook.\n\t* doc/emacs/cal-xtra.texi (Calendar Customizing):\n\tNo longer mention calendar-load-hook.\n\t* doc/lispintro/emacs-lisp-intro.texi (X11 Colors):\n\tReplace calendar-load-hook in example with with-eval-after-load.\n\n2016-12-03  Glenn Morris  <rgm@gnu.org>\n\n\tFix markup in read-multiple-choice doc (Bug#25102)\n\n\t* lisp/emacs-lisp/subr-x.el (read-multiple-choice): Doc fix.\n\n2016-12-03  Glenn Morris  <rgm@gnu.org>\n\n\tStop flymake using dialog boxes for errors (Bug#16622)\n\n\t* lisp/progmodes/flymake.el (flymake-gui-warnings-enabled):\n\tMark as obsolete.\n\t(flymake-display-warning): Turn into an obsolete alias.\n\t(flymake-report-fatal-status): Just use message for a warning that\n\twas formerly displayed by default.\n\n2016-12-03  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tClean up keymap and menu code in image-dired\n\n\tA function to populate these maps is not necessary, just define the maps\n\tonce and for all.\n\t* lisp/image-dired.el (image-dired-show-all-from-dir): Make prompt\n\tclearer and in the spirit of dired's.\n\t(image-dired-define-display-image-mode-keymap):\n\t(image-dired-define-thumbnail-mode-keymap): Remove.\n\t(image-dired-thumbnail-mode-map):\n\t(image-dired-thumbnail-mode-line-up-map):\n\t(image-dired-thumbnail-mode-tag-map): Assimilate all define-key and mode\n\tmenu code from the aforementioned removed functions.  Reorder so that\n\tthe definitions are inherited properly.\n\t(image-dired-display-current-image-sized): Fix erroneous message.\n\t(image-dired-thumbnail-mode):\n\t(image-dired-display-image-mode): Remove defunct call.\n\n2016-12-03  Michael Albinus  <michael.albinus@gmx.de>\n\n\tMention `file-name-case-insensitive-p' as magic file name\n\n\t* doc/lispref/files.texi (Magic File Names):\n\tMention `file-name-case-insensitive-p'.\n\n\t* doc/lispref/variables.texi (Connection Local Variables):\n\tFix typo.\n\n2016-12-03  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tClean up uses of cl-foo in image-dired\n\n\tBoth instances here are just emulating cl-find-if.\n\t* lisp/image-dired.el: Use cl-lib at compile time.\n\t(image-dired-dired-toggle-marked-thumbs): Don't need let* at the top.\n\tReplace the cl-foo instances with equivalent cl-loops.\n\n2016-12-03  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid compilation warnings in nt/*.c files\n\n\t* nt/cmdproxy.c (fail, vfprintf, fprintf, printf, warn)\n\t(console_event_handler): Add prototypes.\n\t(canon_filename, skip_space, skip_nonspace, get_next_token)\n\t(batch_file_p, search_dir, make_absolute, try_dequote_cmdline)\n\t(spawn, get_env_size): Now static.\n\t* nt/ddeclient.c (DdeCallback): Provide prototype.\n\t* nt/addpm.c (DdeCallback): Provide prototype.\n\t(add_registry): Now static.\n\n2016-12-02  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tDisplay window before calculating width\n\n\t* lisp/image-dired.el (image-dired-display-thumbs): Display the buffer\n\tbefore calling image-dired-line-up and friends, which in turn calculate\n\tthe window width. Otherwise, the thumbnail layout will be wrong in\n\ta side-by-side split.\n\n2016-12-02  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tUse pop-to-buffer-same-window\n\n\t* lisp/image-dired.el (image-dired-dired-with-window-configuration):\n\t(image-dired-dired-edit-comment-and-tags): Instead of switch-to-buffer,\n\tuse pop-to-buffer-same-window cf. Bug#22244.\n\t(image-dired-forward-image, image-dired-backward-image): Ignore unused.\n\n2016-12-02  Noam Postavsky  <npostavs@gmail.com>\n\n\tDocument watchpoints\n\n\t* doc/lispref/debugging.texi (Variable Debugging):\n\t* doc/lispref/variables.texi (Watching Variables): New section.\n\t* etc/NEWS: Add entry for watchpoints\n\n2016-12-02  Noam Postavsky  <npostavs@gmail.com>\n\n\tAdd tests for watchpoints\n\n\t* test/src/data-tests.el (data-tests-variable-watchers):\n\t(data-tests-local-variable-watchers): New tests.\n\n2016-12-02  Noam Postavsky  <npostavs@gmail.com>\n\n\tEnsure redisplay using variable watcher\n\n\tThis replaces looking up the variable name in redisplay--variables when\n\tsetting it.\n\n\t* lisp/frame.el: Replace redisplay--variables with add-variable-watcher\n\tcalls.\n\t* src/xdisp.c (Fset_buffer_redisplay): Rename from maybe_set_redisplay,\n\tset the redisplay flag unconditionally.\n\t(Vredisplay__variables): Remove it.\n\t* src/data.c (set_internal): Remove maybe_set_redisplay call.\n\n2016-12-02  Noam Postavsky  <npostavs@gmail.com>\n\n\tAdd function to trigger debugger on variable write\n\n\t* lisp/emacs-lisp/debug.el (debug-on-variable-change):\n\t(debug--variable-list):\n\t(cancel-debug-on-variable-change): New functions.\n\t(debugger-setup-buffer): Add watchpoint clause.\n\n2016-12-02  Noam Postavsky  <npostavs@gmail.com>\n\n\tShow watchpoints when describing variables\n\n\t* src/data.c (Fget_variable_watchers): New function.\n\t* lisp/help-fns.el (describe-variable): Use it to detect watching\n\tfunctions.\n\n2016-12-02  Noam Postavsky  <npostavs@gmail.com>\n\n\tAdd lisp watchpoints\n\n\tThis allows calling a function whenever a symbol-value is changed.\n\n\t* src/lisp.h (lisp_h_SYMBOL_TRAPPED_WRITE_P):\n\t(SYMBOL_TRAPPED_WRITE_P): New function/macro.\n\t(lisp_h_SYMBOL_CONSTANT_P): Check for SYMBOL_NOWRITE specifically.\n\t(enum symbol_trapped_write): New enumeration.\n\t(struct Lisp_Symbol): Rename field constant to trapped_write.\n\t(make_symbol_constant): New function.\n\n\t* src/data.c (Fadd_variable_watcher, Fremove_variable_watcher):\n\t(set_symbol_trapped_write, restore_symbol_trapped_write):\n\t(harmonize_variable_watchers, notify_variable_watchers): New functions.\n\n\t* src/data.c (Fset_default): Call `notify_variable_watchers' for trapped\n\tsymbols.\n\t(set_internal): Change bool argument BIND to 3-value enum and call\n\t`notify_variable_watchers' for trapped symbols.\n\n\t* src/data.c (syms_of_data):\n\t* src/data.c (syms_of_data):\n\t* src/font.c (syms_of_font):\n\t* src/lread.c (intern_sym, init_obarray):\n\t* src/buffer.c (syms_of_buffer): Use make_symbol_constant.\n\n\t* src/alloc.c (init_symbol):\n\t* src/bytecode.c (exec_byte_code): Use SYMBOL_TRAPPED_WRITE_P.\n\t* src/data.c (Fmake_variable_buffer_local, Fmake_local_variable):\n\t(Fmake_variable_frame_local):\n\t* src/eval.c (Fdefvaralias, specbind): Refer to Lisp_Symbol's\n\ttrapped_write instead of constant.\n\t(Ffuncall): Move subr calling code into separate function.\n\t(funcall_subr): New function.\n\n2016-12-02  Glenn Morris  <rgm@gnu.org>\n\n\tStarting doc of user options with \"*\" is long obsolete\n\n\t* lisp/battery.el (battery-upower-device): Doc fix.\n\n2016-12-02  Nicolas Petton  <nicolas@petton.fr>\n\n\tFix bug#25087\n\n\t* etc/themes/manoj-dark-theme.el: Fix two typos.\n\n\t(cherry picked from commit 66d6e7e9ecf5e481f8c2c3a4f88411f66c869a6e)\n\n2016-12-02  Reuben Thomas  <rrt@sc3d.org>\n\n\tFix docstrings to have a complete sentence in first line\n\n\t* lisp/dired-x.el (dired-omit-case-fold, dired-omit-case-fold-p): Fix\n\tdocstrings.\n\n2016-12-02  Reuben Thomas  <rrt@sc3d.org>\n\n\tRemove obsolete comments and commented code from dired-x.el\n\n\t* lisp/dired-x.el (dired-mark-sexp): Remove a query from 1993 and its\n\t1997 answer about whether dired-mark-sexp is used.\n\t* lisp/dired-x.el (dired-buffers-for-dir-exact): Remove this function\n\tcommented out since before dired-x.el was added to RCS in 1994.\n\n2016-12-02  Reuben Thomas  <rrt@sc3d.org>\n\n\tRemove pre-customize dired-x.el documentation\n\n\t* lisp/dired-x.el (Commentary): Remove USAGE section explaining how to\n\tuse dired-x from .emacs.  It is now fully customizable.\n\t* lisp/dired-x.el (dired-guess-shell-alist-user): Remove explanation of\n\thow to set this custom variable in .emacs.  It should be customized.\n\n2016-12-02  Reuben Thomas  <rrt@sc3d.org>\n\n\tAllow files to be matched case-sensitively in dired-x\n\n\t* lisp/dired-x.el (dired-mark-unmarked-files): Add an argument which\n\tcontrols case folding for matching the regex (Bug#18716).\n\t(dired-omit-case-fold): New variable.  Defaults to `t' on case-sensitive\n\tsystems, `nil' otherwise.\n\t(dired-mark-omitted, dired-omit-expunge): Use dired-omit-case-fold.\n\t* doc/misc/dired-x.texi, etc/NEWS: Document dired-omit-case-fold.\n\n2016-12-02  Reuben Thomas  <rrt@sc3d.org>\n\n\tAdd support for curly quotation marks to electric-pair-mode\n\n\t* lisp/elec-pair.el (electric-pair-pairs, electric-pair-text-pairs): Add\n\tentries for left/right single/double quotation marks, from\n\telectric-quote-chars. Note that this is safe for single quotation marks,\n\tunlike with the ASCII apostrophe, since, although the right quotation\n\tmark can be used as an apostrophe, it is the left quotation mark that is\n\ttyped to get a pair (Bug#24901).\n\n2016-12-02  Nicolas Petton  <nicolas@petton.fr>\n\n\tFix bug#25087\n\n\t* etc/themes/manoj-dark-theme.el: Fix two typos.\n\n2016-12-02  Michael Albinus  <michael.albinus@gmx.de>\n\n\tHandle quoted file names in Tramp\n\n\t* lisp/net/tramp.el (tramp-file-name-handler): Handle also the\n\tcase the file name is quoted.  This is not trapped by the\n\treassigned `tramp-file-name-regexp' anymore.\n\n2016-12-02  Evgeny Zajcev  <lg.zevlg@gmail.com>\n\n\t* lisp/battery.el: Add 'battery-upower' -- very fast battery status.\n\n2016-12-02  Evgeny Zajcev  <lg.zevlg@gmail.com>\n\n\tSupport for rawrgb images using imagemagick\n\n\t* src/image.c (imagemagick_load_image): Set wand size before loading\n\tblob when ':width' and ':height' are provided.\n\n\t* lisp/image.el (image-format-suffixes): Add 'image/x-rgb'.\n\n2016-12-02  Nikolay Kudryavtsev  <nikolay.kudryavtsev@gmail.com>\n\n\tFix 'sql-connect' on first invocation\n\n\t* lisp/progmodes/sql.el (sql-connect): Reorder code which sets\n\tparam-var.  (Bug#19452)\n\n2016-12-02  Eli Zaretskii  <eliz@gnu.org>\n\n\t* lisp/vc/ediff-util.el (ediff-janitor): Doc fix.  (Bug#25046)\n\n2016-12-02  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove indexing of 'man'\n\n\t* doc/emacs/programs.texi (Man Page): Index 'man', not\n\t'manual-entry', as the latter is an alias for the former.\n\tSuggested by Hong Xu <hong@topbug.net>.  (Bug#25033)\n\n2016-12-01  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort to Sun C 5.14\n\n\tBackport from master.  Sun C 5.14 supports C11 but not GCC\n\textensions, and so refuses to compile Emacs without this patch.\n\t* src/alloc.c (lmalloc, lrealloc): Don't use INT_ADD_WRAPV on\n\tsize_t, as in general this macro is restricted to signed types.\n\n2016-12-01  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix type typo on Solaris\n\n\t* src/sysdep.c (system_process_attributes) [SOLARIS2 && HAVE_PROCFS]:\n\tFix type mismatch, caught by --enable-check-lisp-object-type.\n\n2016-12-01  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from gnulib\n\n\tThis incorporates:\n\t2016-11-27 md4,md5,sha*: tune for recent glibc _STRING_INLINE_unaligned\n\t2016-11-21 snippet/c++defs: Simplify _GL_CXXALIAS_* macros.\n\t* build-aux/snippet/c++defs.h:\n\t* lib/md5.c, lib/sha1.c, lib/sha256.c, lib/sha512.c:\n\tCopy from gnulib.\n\n2016-12-01  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMake struct font_drivers read-only\n\n\tThis simplifies the code a bit, and makes the structs more\n\tshareable and less likely to become corrupt.\n\t* src/alloc.c (cleanup_vector):\n\t* src/font.c (valid_font_driver, font_prepare_cache)\n\t(font_finish_cache, font_get_cache, font_clear_cache)\n\t(register_font_driver, font_update_drivers):\n\t* src/font.h (struct font, struct font_driver_list)\n\t(valid_font_driver):\n\tstruct font_drivers are now const.\n\t* src/font.c, src/ftcrfont.c, src/ftfont.c, src/nsfont.m, src/xfont.c:\n\tOmit no-longer-necessary decls.\n\t* src/ftcrfont.c (syms_of_ftcrfont):\n\t* src/ftxfont.c (syms_of_ftxfont):\n\t* src/xftfont.c (syms_of_xftfont):\n\tOmit no-longer-necessary initialization code.\n\t* src/ftcrfont.c (ftcrfont_driver):\n\t* src/ftfont.c (ftfont_driver):\n\t* src/ftxfont.c (ftxfont_driver):\n\t* src/macfont.m (macfont_driver):\n\t* src/nsfont.m (nsfont_driver):\n\t* src/xfont.c (xfont_driver):\n\t* src/xftfont.c (xftfont_driver):\n\tUse C99-style initializer for ease of maintenance, and make it const.\n\t* src/ftcrfont.c, src/ftxfont.c, src/xftfont.c:\n\tRefer to functions like ftfont_text_extents directly.\n\t* src/ftfont.c (ftfont_get_cache, ftfont_list, ftfont_list_family)\n\t(ftfont_has_char, ftfont_encode_char, ftfont_text_extents)\n\t(ftfont_get_bitmap, ftfont_anchor_point, ftfont_otf_capability)\n\t(ftfont_variation_glyphs, ftfont_filter_properties)\n\t(ftfont_combining_capability):\n\t* src/xfont.c (xfont_get_cache):\n\tNow extern, so that other modules\u2019 struct font_drivers can use\n\tthem directly.\n\t* src/macfont.m (macfont_descriptor_entity):\n\t* src/nsfont.m (nsfont_open):\n\tUse constant directly; this is clearer.\n\n2016-12-01  Richard Stallman  <rms@gnu.org>\n\n\tFix mail-combine-fields\n\n\t* lisp/mail/sendmail.el (mail-combine-fields): Call `save-excursion' to\n\tavoid losing our place in the search loop.\n\n\t(cherry picked from commit 5fbba6cceaf843cfca449eb000a0a65243b61808)\n\n2016-12-01  Helmut Eller  <eller.helmut@gmail.com>\n\n\tForth related improvements for etags\n\n\tGenerate correct tags names for things like \"(foo)\".\n\tPreviously \"(foo\" created.\n\n\tFix a bug where a tag for \"-bar\" was created when encountering things\n\tlike \"create-bar\".\n\n\tRecognize more words from the Forth-2012 Standard.\n\n\t* lib-src/etags.c (Forth_words): Check for whitespace after defining\n\twords.  Create tag with make_tag instead of get_tag to avoid notiname\n\twhich isn't appropriate for Forth.\n\n\t* test/manual/etags/forth-src/test-forth.fth: Add some test cases.\n\t* test/manual/etags/ETAGS.good_1:\n\t* test/manual/etags/ETAGS.good_2:\n\t* test/manual/etags/ETAGS.good_3:\n\t* test/manual/etags/ETAGS.good_4:\n\t* test/manual/etags/ETAGS.good_5:\n\t* test/manual/etags/ETAGS.good_6:\n\t* test/manual/etags/CTAGS.good: Adapt to the changes in etags.c and\n\tnew test cases.\n\n2016-12-01  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix bugs with buffer-local tags tables\n\n\t* lisp/progmodes/etags.el (visit-tags-table): After\n\t'visit-tags-table-buffer' returns, retrieve the value of\n\t'tags-file-name' from the buffer we started in.  Force\n\trecomputation of 'tags-completion-table' next time it is used,\n\tsince the list of tags table has changed.\n\t(visit-tags-table-buffer): Accept an additional optional argument\n\tCBUF, the buffer in which to start processing, and switch to that\n\tbuffer if CBUF is non-nil.  All callers changed to supply a\n\tnon-nil CBUF when they call 'visit-tags-table-buffer' in a loop.\n\tDoc fix.\n\t(tags-completion-table): Accept an optional argument, the buffer\n\tfor which to build 'tags-completion-table', and build that\n\tbuffer's completion table.\n\t(tags-lazy-completion-table): Pass the current buffer to\n\t'tags-completion-table'.\n\t(tags-file-name): Don't say in the doc string that setting this\n\tvariable directly is enough; say that 'visit-tags-table' should be\n\tused for that.  (Bug#158)  (Bug#17326)  (Bug#23164)\n\n\t* doc/emacs/maintaining.texi (Select Tags Table): Delete the\n\tadvice to set 'tags-file-name' directly.\n\n\t* test/lisp/progmodes/etags-tests.el: New tests.\n\n2016-12-01  Martin Rudalics  <rudalics@gmx.at>\n\n\tFix documentation of `window-combination-resize'\n\n\t* src/window.c (Vwindow_combination_resize): Fix doc-string.\n\t* doc/lispref/windows.texi (Recombining Windows): Fix\n\tdocumentation of `window-combination-resize'.\n\n2016-12-01  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* src/lisp.h (LISP_INITIALLY_ZERO): Remove.\n\n\tAll uses replaced by LISPSYM_INITIALLY.\n\n2016-12-01  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMake Cairo safer for --enable-gcc-warnings\n\n\t* src/image.c (xcolor_to_argb32, pbm_load, jpeg_load_body, gif_load):\n\tAvoid overflow warnings about \u20180xff << 24\u2019.\n\t(xpm_load, gif_load): Avoid unnecessary casts.\n\t(gif_load): Fewer ifdefs.\n\n2016-11-30  Thierry Volpiatto  <thierry.volpiatto@gmail.com>\n\n\tFix Condition in kbd_buffer_store_buffered_event (bug#19547).\n\n\t* src/keyboard.c (kbd_buffer_store_buffered_event): Should be NILP and not\n\t!NILP.\n\n2016-11-29  Noam Postavsky  <npostavs@gmail.com>\n\n\tFix previous commit\n\n\t* lisp/vc/diff-mode.el (diff-refine-hunk): Make sure to go to beginning\n\tof hunk before calling `diff-hunk-style'.\n\n2016-11-29  Noam Postavsky  <npostavs@gmail.com>\n\n\t* lisp/vc/diff-mode.el (diff-refine-hunk): Remove redundant variable.\n\n2016-11-29  Glenn Morris  <rgm@gnu.org>\n\n\tUse archive-mode for .cbr files\n\n\t* lisp/files.el (auto-mode-alist): Add cbr.  (Bug#24994)\n\n2016-11-29  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPacify Sun C 5.14\n\n\t* src/lisp.h (enum Lisp_Save_Type): Put SAVE_UNUSED,\n\tSAVED_INTEGER, SAVE_FUNCPOINTER, SAVE_POINTER, and SAVE_OBJECT\n\tinto this enum rather than into an anonymous enum.  This avoids\n\tdiagnostics from Sun C 5.14 and is a bit clearer anyway.\n\n2016-11-29  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tAdjust lwlib to recent config.h change\n\n\t* lwlib/lwlib-Xaw.c: Include <stdlib.h> for 'abort' (Bug#24506).\n\n2016-11-29  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* src/eval.c (clobbered_eassert): Check E's syntax.\n\n2016-11-29  Michael Albinus  <michael.albinus@gmx.de>\n\n\tImprove user retrieval from auth-source in Tramp\n\n\t* lisp/net/tramp.el (tramp-read-passwd, tramp-clear-passwd):\n\tUse user for auth-source request only in case it exists.\n\n2016-11-29  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\tshr.el: Don't render a normal table twice\n\n\t* lisp/net/shr.el (shr-collect-extra-strings-in-table):\n\tDon't render a table if it is called for the first time,\n\tIOW, recognize it to never be invalid (bug#25051).\n\n2016-11-29  Bogdan Creanga  <bogdan.creanga@gmail.com>  (tiny change)\n\n\tTypo fixes in elisp manual\n\n\t* doc/lispref/sequences.texi: Add missing '4' in result (Bug#25047).\n\t* doc/lispref/strings.texi (Text Comparison): Avoid duplicate\n\tdefinitions of 'string-prefix-p' and 'string-suffix-p'.\n\t* doc/lispref/symbols.texi (Definitions): Pluralize 'definitions'.\n\n2016-11-28  Dima Kogan  <Dmitriy.Kogan@jpl.nasa.gov>\n\n\tImprove diff-mode navigation/manipulation\n\n\tThis is Bug #17544.\n\n\tNavigation and use of diff buffers had several annoying corner cases\n\tthat this patch fixes.  These corner cases were largely due to\n\tinconsistent treatment of file headers.  Say you have a diff such as\n\tthis:\n\n\t --- aaa\n\t +++ bbb\n\t @@ -52,7 +52,7 @@\n\t hunk1\n\t @@ -74,7 +74,7 @@\n\t hunk2\n\t --- ccc\n\t +++ ddd\n\t @@ -608,6 +608,6 @@\n\t hunk3\n\t @@ -654,7 +654,7 @@\n\t hunk4\n\n\tThe file headers here are the '---' and '+++' lines.  With the point on\n\tsuch a line, hunk operations would sometimes refer to the next hunk and\n\tsometimes to the previous hunk.  Most of the time it would be the\n\tprevious hunk, which is not what the user would expect.  This patch\n\tconsistently treats such headers as the next hunk.  So with this patch,\n\tif the point is on the '--- ccc' line, the point is seen as referring to\n\thunk3.\n\n\tSpecific behaviors this fixes are:\n\n\t1. It should be possible to place the point in the middle of a diff\n\tbuffer, and press M-k repeatedly to kill hunks in the order they appear\n\tin the buffer.  With the point on hunk1, M-k M-k would kill hunk1 then\n\thunk2.  With the point on hunk3, it would kill hunk3 then hunk4; this is\n\tfine.  However, with the point on hunk2, it'd kill hunk2 then hunk1.\n\tThis is fixed by this patch.\n\n\t2. Similarly, it should be possible to apply hunks in order.  Previously\n\twith the point at the start, C-c C-a would apply the hunk1, then move\n\tthe point to the first @@ header, and thus C-c C-a would try to apply\n\tthe same hunk again.\n\n\t* lisp/vc/diff-mode.el (diff--wrap-navigation): New function to add better\n\tnavigation logic to diff-{hunk,file}-{next,prev}.\n\t(diff-hunk-next, diff-hunk-prev):\n\t(diff-file-next, diff-file-prev): Better navigation logic if\n\tskip-hunk-start is true, which happens when called interactively.\n\t(diff-bounds-of-hunk, diff-find-source-location):\n\t(diff-apply-hunk, diff-current-defun, diff-refine-hunk): Small tweaks to\n\timprove hunk navigation.\n\n2016-11-28  Noam Postavsky  <npostavs@gmail.com>\n\n\tUpcase Path and ComSpec in process-environment\n\n\tSince 2016-07-18 \"Keep w32 environment settings internal only\", the\n\tupcasing of environment variables \"Path\" and \"ComSpec\" occurred after\n\tinitializing process-environment.  This meant that Lisp code trying to\n\toverride \"PATH\" environment had no effect (Bug #24956).\n\n\t* src/w32.c (init_environment): Upcase the \"Path\" and \"ComSpec\" entries\n\tin Vprocess_environment.\n\n2016-11-28  Philipp Stephani  <phst@google.com>\n\n\tGuard terminal parameter in XTerm mouse mode\n\n\tIt has been observed (in the HTerm terminal emulator) that the\n\tevent stored in the 'xterm-mouse-last-down' terminal parameter gets\n\toverwritten during a mouse drag operation, causing Emacs to attempt to\n\tsynthesize the non-existing <drag-mouse-0> event.  Copy the event into\n\tthe terminal parameter to protect against such modifications.\n\n\t* lisp/xt-mouse.el (xterm-mouse-translate-1): Guard against modification\n\tof input event list.\n\n2016-11-28  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix template for module functions\n\n\tReported by Syohei YOSHIDA (Bug#24932).\n\t* modules/modhelp.py (TEMPLATES):\n\tc_func\u2019s 2nd arg is ptrdiff_t, not int.\n\n2016-11-27  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPacify gcc -Wswitch.\n\n\t* src/keyboard.c (kbd_buffer_store_buffered_event):\n\tMove initialization into default case.\n\n2016-11-27  Thierry Volpiatto  <thierry.volpiatto@gmail.com>\n\n\tReuse already existing lisp symbols for ignore_event (bug#19547).\n\n\t* lisp/subr.el (while-no-input-ignore-events): Use them instead.\n\t* src/keyboard.c (kbd_buffer_store_buffered_event):\n\tUse help-echo for HELP_EVENT, iconify-frame for ICONIFY_EVENT,\n\tand make-frame-visible for DEICONIFY_EVENT.\n\t(syms_of_keyboard): Remove unneeded symbols.\n\n2016-11-27  Thierry Volpiatto  <thierry.volpiatto@gmail.com>\n\n\tAllow configuring which event throw-on-input should ignore (bug#19547).\n\n\t* src/keyboard.c (kbd_buffer_store_buffered_event):\n\tTranslate event to corresponding symbol from `while-no-input-ignore-events`\n\tand check them with Fmemq.\n\t(syms_of_keyboard): Declare new lisp variable `while-no-input-ignore-events`\n\tand its symbols.\n\n\t* lisp/subr.el (while-no-input-ignore-events): Add default values.\n\n\t* doc/lispref/commands.texi (Event Input Misc):\n\tDocument while-no-input-ignore-events.\n\t* etc/NEWS: Same.\n\n2016-11-26  Tino Calancha  <tino.calancha@gmail.com>\n\n\tash, lsh avoid code duplication\n\n\tSee discussion in:\n\thttps://lists.gnu.org/r/emacs-devel/2016-11/msg00469.html\n\t* src/data.c (ash_lsh_impl): New function.\n\t(ash, lsh): Use it.\n\n2016-11-26  Simen Heggest\u00f8yl  <simenheg@gmail.com>\n\n\tAdd will change module to CSS property list\n\n\t* lisp/textmodes/css-mode.el (css-property-alist)\n\t(css-value-class-alist): Add new property and value class from CSS\n\tWill Change Module.\n\n2016-11-26  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDon't access pointers to freed storage in regex.c\n\n\tRemove __BOUNDED_POINTERS__ code, which does not work with\n\t-fcheck-pointer-bound and which has undefined behavior anyway.\n\tProblem found when trying to port to gcc -fcheck-pointer-bounds.\n\t(This code was removed from glibc and gnulib regex.c many years ago.)\n\t* src/regex.c (ELSE_EXTEND_BUFFER_HIGH_BOUND): Remove.\n\t(EXTEND_BUFFER): Use a more-portable approach that avoids\n\tundefined behavior due to inspecting pointers to freed storage.\n\n2016-11-25  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort build to gcc -fcheck-pointer-bounds\n\n\tThis does not let Emacs run, just build.\n\t* lib-src/etags.c (main):\n\t* lib-src/profile.c (main):\n\tUse return, not exit.\n\t* src/bytecode.c (BYTE_CODE_THREADED) [__CHKP__]:\n\tDo not define, as -fcheck-pointer-bounds is incompatible with taking\n\taddresses of labels.\n\t* src/menu.c (Fx_popup_dialog): Use eassume, not eassert,\n\tto pacify gcc -fcheck-pointer-bounds -Wnull-dereference.\n\n2016-11-25  Tino Calancha  <tino.calancha@gmail.com>\n\n\t* lisp/emacs-lisp/subr-x.el (hash-table-keys, hash-table-values): Use cl-loop.\n\n2016-11-25  Simen Heggest\u00f8yl  <simenheg@gmail.com>\n\n\t* lisp/rot13.el: Use lexical-binding\n\n2016-11-25  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tAdd \"using\" to cl-loop debug spec (Bug#24750)\n\n\t* lisp/emacs-lisp/cl-macs.el (cl-loop): Add element to account for\n\t\"using\" hash table clause.\n\n2016-11-25  Hong Xu  <hong@topbug.net>  (tiny change)\n\n\tAllow user control of progress messages in cpp.el\n\n\t* lisp/progmodes/cpp.el (cpp-message-min-time-interval): New defcustom.\n\t(cpp-progress-time): Use 'cpp-message-min-time-interval'.  Improve\n\tthe doc string.\n\t(cpp-highlight-buffer): Use 'cpp-progress-message' instead of\n\t'message' to print messages.  (Bug#24861)\n\n2016-11-25  Wojciech Gac  <wojciech.s.gac@gmail.com>  (tiny change)\n\n\tNew input method 'polish-prefix'\n\n\t* lisp/leim/quail/latin-pre.el (\"polish-prefix\"): New input\n\tmethod.  (Bug#24967)\n\n\t* etc/NEWS: Mention the new input method.\n\n2016-11-25  Damien Cassou  <damien@cassou.me>\n\n\t* lisp/isearch.el: Add 'provide'.  (Bug#25026)\n\n2016-11-25  Philippe Vaucher  <philippe.vaucher@gmail.com>\n\n\tAdd missing 'provide's in preloaded packages\n\n\t* lisp/composite.el:\n\t* lisp/replace.el:\n\t* lisp/textmodes/text-mode.el: Add provide statement.  (Bug#24985)\n\n2016-11-24  Alan Mackenzie  <acm@muc.de>\n\n\tHandle correctly an (undocumented) bare mode in hack-local-variables.\n\n\tlisp/files.el (hack-local-variables-prop-line): When a file's first line\n\tcontains only a mode specification without the string \"mode:\", return the mode\n\tsymbol only when `handle-mode' is t.\n\n2016-11-23  Dima Kogan  <dima@secretsauce.net>\n\n\tClarify ediff-directories prompt\n\n\t* lisp/vc/ediff-mult.el (ediff-filegroup-action):\n\t* lisp/vc/ediff.el (ediff-directories,ediff-directory-revisions,\n\tediff-directories3, ediff-merge-directories,\n\tediff-merge-directories-with-ancestor, ediff-merge-directory-revisions,\n\tediff-merge-directory-revisions-with-ancestor): Clarify prompt message for\n\tfilename filter in interactive ediff. The new message makes it clear what is\n\tbeing filtered\n\n2016-11-23  Tino Calancha  <tino.calancha@gmail.com>\n\n\t* test/lisp/ibuffer-tests.el (ibuffer-test-Bug24997): Add test for Bug#24997.\n\n2016-11-23  Ulf Jasper  <ulf.jasper@web.de>\n\n\tFix Bug#24199.\n\n\t* lisp/calendar/icalendar.el (icalendar--do-create-ical-alarm): Quote\n\t  bracket in doc string (make checkdoc happy).\n\t  (icalendar-import-buffer),\n\t  (icalendar-import-buffer),\n\t  (icalendar--convert-ical-to-diary),\n\t  (icalendar--add-diary-entry): Rename argument diary-file to\n\t  diary-filename (make checkdoc happy).\n\t  (icalendar--convert-recurring-to-diary): Take care of byday-clause\n\t  in monthly recurring events.  Actually fix Bug#24199.\n\n\t* test/lisp/calendar/icalendar-tests.el (icalendar-import-bug-24199): New.\n\n2016-11-23  Tino Calancha  <tino.calancha@gmail.com>\n\n\t* test/lisp/ibuffer-tests.el (ibuffer-test-Bug25000): Add test for Bug25000.\n\n2016-11-22  Philipp Stephani  <phst@google.com>\n\n\tComint: new user option for C-c M-r and C-c M-s\n\n\tThis option allows the user to specify where to place point after these\n\tcommands.\n\n\t* lisp/comint.el (comint-move-point-for-matching-input): New user option.\n\t(comint-previous-matching-input-from-input): Use user option.\n\n2016-11-22  Michael Albinus  <michael.albinus@gmx.de>\n\n\tAdd tramp-eshell-directory-change to eshell-first-time-mode-hook\n\n\t* lisp/net/tramp.el (tramp-eshell-directory-change): Add it also to\n\t`eshell-first-time-mode-hook'.\n\n2016-11-22  Michael Albinus  <michael.albinus@gmx.de>\n\n\tDump also connection local variables in Tramp bug reports\n\n\t* lisp/net/tramp-cmds.el (tramp-bug, tramp-append-tramp-buffers):\n\tDump also connection local variables.\n\n2016-11-21  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tMake sure elided long buffer names have ellipses added (Bug#24972)\n\n\t* lisp/ibuffer.el (ibuffer-compile-make-eliding-form): Restore the\n\tstring concat, and chop \"strvar\" less the width of the ellipsis.\n\t(ibuffer-compile-make-substring-form): Add space as padding, to fix\n\toff-by-one in alignment.\n\n2016-11-21  Tino Calancha  <tino.calancha@gmail.com>\n\n\tBuffer-menu-no-header: Detect a fake header\n\n\t* lisp/buff-menu.el (Buffer-menu-no-header): Use\n\t'tabulated-list-header-overlay-p' (Bug#24855).\n\n2016-11-21  Tino Calancha  <tino.calancha@gmail.com>\n\n\tbuff-menu: Add command to unmark all buffers\n\n\tBind 'U' in buff-menu, bs and electric-buff-menu to commands\n\tto unmark all buffers (Bug#24880).\n\t* lisp/emacs-lisp/tabulated-list.el (tabulated-list-header-overlay-p):\n\tNew predicate; return non-nil if tabulated-list has a fake header.\n\t* lisp/buff-menu.el (Buffer-menu-unmark-all-buffers):\n\tNew command; remove all flags that use a particular mark from all the lines.\n\tBind it to 'M-DEL'.\n\t(Buffer-menu-unmark-all):\n\tNew command; remove all flags from all the lines.  Bind it to 'U'.\n\t(Buffer-menu-marker-char, Buffer-menu-del-char): New variables.\n\t(Buffer-menu-delete, Buffer-menu-mark): Use them.\n\t(Buffer-menu-mode-map): Update menus.\n\t(Buffer-menu-mode): Update mode doc.\n\t* lisp/bs.el (bs-unmark-all, bs-unmark-previous): New commands.\n\t(bs-mode-map): Bind them to 'U' and '<backspace>' respectively.\n\t(bs-mode): Update mode doc.\n\t* lisp/ebuff-menu.el (electric-buffer-menu-mode-map):\n\tBind Buffer-menu-unmark-all to 'U' and Buffer-menu-unmark-all-buffers\n\tto 'M-DEL'.\n\t(bs--down, bs-down, bs--up, bs-up, bs-unmark-current, bs-mark-current):\n\tUse point instead of cursor in doc string.\n\t(electric-buffer-list): Update mode doc.\n\t* doc/emacs/buffers.texi (Several Buffers): Mention Buffer-menu-unmark-all\n\tand Buffer-menu-unmark-all-buffers.\n\n2016-11-21  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tRevert \"* lisp/htmlfontify.el (hfy-force-fontification): Use font-lock-ensure.\"\n\n\tThis reverts commit 10efaf718c5258af0ba62077cf4e2aaf9fb90227.\n\n2016-11-21  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tPort htmlfontify to cl-lib\n\n\t* lisp/htmlfontify.el: (hfy-box-to-border-assoc, hfy-box-to-style):\n\t(hfy-decor, hfy-face-to-style-i, hfy-face-at, hfy-merge-adjacent-spans):\n\t(hfy-fontify-buffer, htmlfontify-string, hfy-mark-tag-names): Replace\n\tinstances of cl aliases with their cl-lib counterparts.\n\n2016-11-21  Mark Oteiza  <mvoteiza@udel.edu>\n\n\t* lisp/htmlfontify.el (hfy-force-fontification): Use font-lock-ensure.\n\n2016-11-21  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix another CANNOT_DUMP problem\n\n\tReported by Robert Pluim in:\n\thttps://lists.gnu.org/r/emacs-devel/2016-11/msg00468.html\n\t* src/emacs.c (might_dump) [CANNOT_DUMP]: Move enum decl from here ...\n\t* src/lisp.h: ... to here.\n\n2016-11-21  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tAdd further consideration to string-width (Bug#24972)\n\n\t* lisp/ibuffer.el (ibuffer-compile-make-eliding-form):\n\t(ibuffer-compile-make-substring-form): Use truncate-string-to-width.\n\n2016-11-21  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\tDon't collect strings existing out of <tr>...</tr>\n\n\t* lisp/net/shr.el (shr-collect-extra-strings-in-table):\n\tDon't collect strings existing out of <tr>...</tr> to avoid\n\tduplication with what `shr-tag-table' renders.\n\n2016-11-20  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\t* lisp/gnus/gnus-mh.el (gnus-summary-save-in-folder): Slightly change\n\tthe last commit.\n\n2016-11-20  Mike Kupfer  <m.kupfer@acm.org>\n\n\tAdd a variable to pass additional options to rcvstore\n\n\t* lisp/gnus/gnus-mh.el (gnus-rcvstore-options): New variable.\n\t(gnus-summary-save-in-folder): Include gnus-rcvstore-options in\n\tthe arguments that are passed to rcvstore.\n\n\tcf. <nntp://news.gmane.org/gmane.emacs.gnus.general/87263>\n\tand followups, i.e., ding mailing list.\n\n2016-11-20  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix undefined refs on some GNU/Linux hosts\n\n\tProblem reported by Ken Raeburn in:\n\thttps://lists.gnu.org/r/emacs-devel/2016-11/msg00463.html\n\t* src/emacs.c (heap_bss_diff) [CANNOT_DUMP]: Remove, as this is\n\tnot needed in the CANNOT_UNDUMP case.  All uses removed.  This\n\tremoves unwanted references to my_endbss and my_endbss_static,\n\twhich are not optimized away on some platforms.\n\n2016-11-20  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMake CANNOT_DUMP work better on GNU/Linux\n\n\tClean up some of the bitrot affecting the CANNOT_DUMP code.  This\n\tlets the build succeed again, and fixes the testing framework so\n\tthat most test cases now pass.  About twenty test cases still\n\tfail, though, and we still have Bug#24974.\n\t* configure.ac (CANNOT_DUMP): Now empty if CANNOT_DUMP.\n\t(SYSTEM_MALLOC): Now true if CANNOT_DUMP.  There should no longer\n\tbe any point to messing with a private memory allocator unless\n\tEmacs is dumping.\n\t* src/alloc.c (alloc_unexec_pre, alloc_unexec_post, check_pure_size):\n\t* src/image.c (reset_image_types):\n\t* src/lastfile.c (my_endbss, _my_endbss, my_endbss_static):\n\tDo not define if CANNOT_DUMP.\n\t* src/emacs.c (might_dump) [CANNOT_DUMP]: Now always false and local.\n\t(daemon_pipe) [!WINDOWSNT]: Now static.\n\t* test/Makefile.in (mostlyclean): Remove *.tmp files.\n\t(make-test-deps.mk): Elide CANNOT_DUMP chatter.\n\n2016-11-20  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* src/xdisp.c (block_buffer_flips, unblock_buffer_flips): Now static.\n\n2016-11-20  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPacify --enable-gcc-warnings CANNOT_DUMP=yes\n\n\t* src/editfns.c (dump_tz_string) [CANNOT_DUMP || !HAVE_TZSET]:\n\tDo not define.  If defining, do it in a smaller scope.\n\n2016-11-20  Mark Oteiza  <mvoteiza@udel.edu>\n\n\t* lisp/ibuffer.el (ibuffer-compile-format): Use string-width instead of length\n\n2016-11-20  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix redrawing non-selected frame after resize on MS-Windows\n\n\t* src/xdisp.c (redisplay_internal): If all the frames were\n\tsuccessfully updated, reset the \"garbaged\" flag of each frame, to\n\tmake sure it doesn't stay set.\n\n\t* src/w32term.c (w32_read_socket): Don't clear the frame if it's\n\t\"garbaged\", since expose_frame won't redraw the foreground then.\n\t(Bug#24642)\n\n2016-11-20  Michael Albinus  <michael.albinus@gmx.de>\n\n\tAdd file-local-name\n\n\t* doc/lispref/files.texi (Magic File Names): Add `file-local-name'.\n\t(Unique File Names): Use it.\n\n\t* etc/NEWS: Mention `file-local-name'.\n\n\t* lisp/files.el (file-local-name): New defun.\n\t(file-expand-wildcards):\n\t* lisp/eshell/em-tramp.el (eshell/su, eshell/sudo):\n\t* lisp/eshell/esh-ext.el (eshell-remote-command):\n\t* lisp/eshell/esh-proc.el (eshell-gather-process-output):\n\t* lisp/org/ob-core.el (org-babel-local-file-name):\n\t* lisp/progmodes/gud.el (gud-common-init, gud-format-command):\n\t* lisp/progmodes/python.el (python-shell-send-file):\n\t* lisp/shell.el (shell):\n\t* lisp/vc/ediff-diff.el (ediff-same-file-contents):\n\t* lisp/vc/vc-git.el (vc-git-checkin): Use it.\n\n2016-11-20  Tino Calancha  <tino.calancha@gmail.com>\n\n\t* lisp/ibuffer.el (ibuffer-formats): Mention locked column in doc string.\n\n2016-11-19  Tino Calancha  <tino.calancha@gmail.com>\n\n\t* src/editfns.c (format-time-string): Mention %q in doc string.\n\n2016-11-19  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDocument format-time-string %q\n\n\t* doc/lispref/os.texi (Time Parsing):\n\t* etc/NEWS: Document new %q functionality taken from gnulib.\n\n2016-11-19  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from gnulib\n\n\tThis incorporates:\n\t2016-11-15 sys_time: add gnulib::timeval for C++\n\t2016-11-14 snippet/c++defs: fix real-floating arg functions in C++ mode\n\t2016-11-13 strftime: don't use __THROW\n\t2016-11-12 strftime: tune %q\n\t2016-11-12 Merge strftime.c changes from glibc\n\t2016-11-09 manywarnings: fix -Wno-missing-field-initializers detection\n\t2016-11-05 strftime,strptime: support %q to represent the quarter\n\n\tThe glibc changes in turn incorporate the following strftime.c changes:\n\t2015-10-20 Convert misc function definitions to prototype style\n\t2015-09-26 [BZ #18985] out of range data to strftime() causes segfault\n\t2010-01-09 Add support for XPG7 testing\n\t2009-10-30 Implement Burmese language locale for Myanmar\n\t2008-06-13 [BZ #6612] pass reference to tzset_called around\n\t2007-10-16 [BZ #5184] Add tzset_called argument\n\n\t* build-aux/snippet/c++defs.h, lib/strftime.c, lib/sys_time.in.h:\n\t* m4/manywarnings.m4: Copy from gnulib.\n\n2016-11-19  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\t07f45d7 ; Spelling fix\n\t1a210f0 * admin/release-process: Update versions and blocking bug num...\n\t36bafc9 Improve documentation of functions that accept time values\n\n\t# Conflicts:\n\t#\tadmin/release-process\n\t#\tsrc/editfns.c\n\n2016-11-19  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\t4af5981 Add a comment in generated refcards about the source\n\tef880a5 ; * etc/refcards/calccard.tex: Remove obsolete comment.\n\t4887e7c js-mode: Fix indent problem after a regexp\n\te992ac0 Fix sluggish display of symbols in UTF-8 language environment\n\t1fc101b Don't confuse how Texinfo outputs @var with the input\n\t91aa5d1 * doc/lispref/display.texi (Scroll Bars): * doc/lispref/frame...\n\tf758fcd * doc/emacs/cmdargs.texi (Initial Options): Copyedit for --da...\n\t5b0cddd More fixes in copyright notices in etc/refcards/\n\tf994c20 Update copyright text in refcards\n\t9ad2ae7 Fix Outline command names\n\t26c3554 Send text received by bracketed paste to process\n\tdb0b58d Correct the statement about programming modes always running ...\n\t78aece4 Improve documentation of 'occur'\n\teb364fd Do call debugger on failed cl-assert\n\t3ef4ee8 Avoid infloop in python\n\t8da810f Don't refer to obsolete FEATURE-unload-hook\n\t4f478ca Improve documentation of dabbrevs\n\t7272e5d * lisp/chistory.el (list-command-history): Doc fix.  (Bug#24890)\n\t89b7482 * lisp/simple.el (set-mark-command): Doc fix.  (Bug#24890)\n\t3b199f7 Improve documentation of some Help commands\n\t93d3a0e Fix documentation of yes-or-no prompts\n\taf04919 Fix documentation of partial completion style\n\ted80184 Fix documentation of the mode line on emacsclient frames\n\te6be855 Fix description of 'C-z' in User manual\n\t16f7007 Improve and clarify documentation of Outline Mode\n\t31d93aa Add Emacs version number to nt/README.W32\n\t0b6b815 Fix python-mode hideshow regexp\n\tdc152c5 Modernize usage of 'macOS' in doc and comments\n\t84c5343 Prefer comments /* like this */ in C code\n\tbb61e50 * doc/lispref/loading.texi (Autoload): Better link (Bug#24845).\n\t3ef86fd Clarify documentation of face attribute functions\n\tde51d59 ; * nt/README.W32: Minor copyedits.\n\tdb436e9 Don't call debug on failed cl-assert\n\n\t# Conflicts:\n\t#\tdoc/emacs/cmdargs.texi\n\t#\tetc/NEWS\n\t#\tetc/PROBLEMS\n\t#\tlisp/auth-source.el\n\t#\tlisp/net/tramp-sh.el\n\n2016-11-19  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tPort RefTeX to cl-lib\n\n\t* lisp/textmodes/reftex-auc.el:\n\t* lisp/textmodes/reftex-cite.el: Use cl-lib.\n\t(reftex-do-citation, reftex-create-bibtex-file): Substitute cl-lib\n\tmacros.\n\t* lisp/textmodes/reftex-dcr.el: Use cl-lib.\n\t(reftex-view-regexp-match): Substitute cl-lib macro.\n\t* lisp/textmodes/reftex-global.el: Use cl-lib.\n\t(reftex-find-duplicate-labels, reftex-renumber-simple-labels):\n\t(reftex-translate): Substitute cl-lib macros.\n\t* lisp/textmodes/reftex-index.el: Use cl-lib.\n\t(reftex-index, reftex-index-select-tag, reftex-index-mode-map):\n\t(reftex-index-next-phrase, reftex-index-phrases-info):\n\t(reftex-query-index-phrase): Substitute cl-lib macros.\n\t* lisp/textmodes/reftex-parse.el: Use cl-lib.\n\t(reftex-parse-from-file, reftex-where-am-I, reftex-what-macro):\n\t(reftex-nth-arg, reftex-init-section-numbers, reftex-section-number):\n\tSubstitute cl-lib macros.\n\t* lisp/textmodes/reftex-ref.el: Use cl-lib.\n\t(reftex-uniquify-label, reftex-offer-label-menu): Substitute cl-lib\n\tmacros.\n\t* lisp/textmodes/reftex-sel.el: Use cl-lib.\n\t(reftex-select-shared-map): Set keymap parent to special-mode-map.\n\tFlatten loop and remove digits and hyphen definitions from the map.\n\t(reftex-select-label-mode-map):\n\t(reftex-select-bib-mode-map): Use cl-lib macro, and flatten other loop.\n\t(reftex-insert-docstruct, reftex-select-unmark): Use cl-lib macros.\n\t* lisp/textmodes/reftex-vars.el (reftex-vref-is-default): Use\n\tcl-pushnew.\n\t* lisp/textmodes/reftex.el: Use cl-lib.\n\t(reftex-docstruct-symbol): Use cl-incf.\n\t(reftex-ref-style-toggle): Replace add-to-list with append.\n\t(reftex-compile-variables): Use cl-lib macros, and functions with\n\tcompiler macros. cl-first is just an alias.\n\t(reftex-parse-args, reftex-scanning-info-available-p):\n\t(reftex-select-external-document, reftex-get-file-buffer-force): Use\n\tcl-lib macros.\n\t(reftex-isearch-minor-mode): Replace add-to-list with append.\n\n2016-11-19  Tino Calancha  <tino.calancha@gmail.com>\n\n\tibuffer-exchange-filters: Simplify code\n\n\t* lisp/ibuf-ext.el (ibuffer-exchange-filters): Use cl-rotatef.\n\n2016-11-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tImplement getrlimit and setrlimit for MS-Windows\n\n\t* src/w32heap.c (getrlimit, setrlimit): New functions.\n\tInclude w32.h.\n\t* src/emacs.c (main): Use 'rlim_t', not 'long', for values that\n\tshould be compatible with 'struct rlimit' members.\n\n\t* nt/inc/sys/resource.h: New header file.\n\n\t* nt/mingw-cfg.site (ac_cv_func_getrlimit, ac_cv_func_setrlimit):\n\tSet to \"yes\".\n\n2016-11-18  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tMove key mappings into reftex-mode-map defvar\n\n\t* lisp/textmodes/reftex.el (reftex-mode-map): Assimilate top-level\n\tkey mappings.\n\t(reftex-reset-mode): Just use dolist.\n\n2016-11-18  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tDerive reftex-index-mode from special-mode\n\n\t* lisp/textmodes/reftex-index.el (reftex-index-mode-map): Flatten\n\tloop.  Remove digit keys and hyphen, as reftex-index-mode is derived\n\tfrom special-mode now.\n\t(reftex-index-mode): Derive from special-mode.\n\t(reftex-index-phrases-mode-map): Flatten loop. Fix erroneous docstring.\n\n2016-11-18  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tClean up reftex-toc-mode-map\n\n\t* lisp/textmodes/reftex-toc.el: Remove cl.\n\t(reftex-toc-mode-map): Flatten loop.  Remove mapping digit keys and\n\thyphen, as reftex-toc-mode is derived from special-mode nowadays.\n\n2016-11-18  Philipp Stephani  <phst@google.com>\n\n\tPrevent dubious argument lists\n\n\tSee Bug#24912 and Bug#24913.\n\n\t* src/eval.c (funcall_lambda): Detect more dubious argument lists.\n\t* lisp/emacs-lisp/bytecomp.el (byte-compile-check-lambda-list): Detect\n\tmore dubious argument lists.\n\t* test/src/eval-tests.el (eval-tests--bugs-24912-and-24913): Add unit\n\ttest.\n\n2016-11-18  Tino Calancha  <tino.calancha@gmail.com>\n\n\tAdd test suite for buff-menu.el\n\n\t* test/lisp/buff-menu-tests.el: New file.\n\t(buff-menu-24962): Add test for Bug#24962.\n\n2016-11-18  Wojciech Gac  <wojciech.s.gac@gmail.com>  (tiny change)\n\n\tAdd cyrillic-tuvan input method\n\n\t* lisp/leim/quail/cyrillic.el (\"cyrillic-tuvan\"): New input\n\tmethod.  (Bug#24942)\n\n\t* etc/NEWS: Mention addition of 'cyrillic-tuvan' input method.\n\n2016-11-18  Alexander Gramiak  <agrambot@gmail.com>\n\n\tExtend 'indent-relative' when its arg is non-nil\n\n\t* lisp/indent.el (indent-relative-maybe): New obsolete alias.\n\t(indent-relative-first-indent-point): Renamed from\n\t'indent-relative-maybe'.\n\t(indent-relative): Now accepts an additional optional argument.\n\tThe first argument was renamed to FIRST-ONLY.  Doc fix.  Support\n\tthe additional arg.  (Bug#24766)\n\n2016-11-17  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tAdd example for bug#24854\n\n\t* test/manual/indent/js.js: Add example for bug#24854.\n\n2016-11-17  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tPort registry.el the rest of the way to cl-lib\n\n\tThis file already is using cl-lib functions at runtime; eieio ultimately\n\tloads cl-lib, which explains why doing so wasn't an issue.\n\t* lisp/registry.el: Require cl-lib.\n\t(registry-db, registry--match, registry-search, registry-delete):\n\t(registry-insert, registry-reindex): Replace cl macros with cl-lib ones.\n\t(registry-collect-prune-candidates): Replace cl function with cl-lib one.\n\n2016-11-17  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tFix arglist in python.el (Bug#24762)\n\n\t* lisp/progmodes/python.el: Remove unneeded second args.\n\t(python-define-auxiliary-skeleton): DOC arg should be &optional.\n\n2016-11-17  Simen Heggest\u00f8yl  <simenheg@gmail.com>\n\n\tAdd tests for rot13.el\n\n\t* lisp/rot13.el (rot13): Docstring correction.\n\n\t* test/lisp/rot13-tests.el: New file with tests for rot13.el.\n\n2016-11-17  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix Bug#24947 (Tramp + ido)\n\n\t* lisp/ido.el (ido-read-internal): Prevent eager Tramp connection.\n\n\t* lisp/net/tramp.el (tramp-handle-file-name-case-insensitive-p):\n\tRun remote tests only if a connection is established only.  (Bug#24947)\n\n2016-11-16  Ken Brown  <kbrown@cornell.edu>\n\n\tUnbreak the build on Darwin (Bug#24957)\n\n\t* src/fileio.c (file_name_case_insensitive_p) [DARWIN_OS]: Fix\n\tmistakes in recent commit.\n\n2016-11-16  Nicolas Petton  <nicolas@petton.fr>\n\n\tDo not use map.el in seq-tests.el\n\n\t* test/lisp/emacs-lisp/seq-tests.el: Do not use map.el.  map.el was\n\tintroduced in Emacs 25.1, but seq.el is also available in GNU ELPA for\n\tEmacs 24.5.\n\n2016-11-16  Tino Calancha  <tino.calancha@gmail.com>\n\n\tUpdate parameter :version to 26.1 in several defcustom\n\n\tFollowing defcustom where added or modified for 25.2 release.\n\tIn fact all these changes belong to 26.1 release.\n\t* lisp/battery.el (battery-linux-sysfs-regexp)\n\t* lisp/comint.el (comint-password-prompt-regexp)\n\t* lisp/dired.el (dired-always-read-filesystem)\n\t* lisp/image.el (image-scaling-factor)\n\t* lisp/ibuf-ext.el (ibuffer-never-search-content-name)\n\t(ibuffer-never-search-content-mode)\n\t* lisp/mouse.el (mouse-select-region-move-to-beginning)\n\t* lisp/net/net-utils.el (iwconfig-program, iwconfig-program-options)\n\t(netstat-program, route-program, route-program-options)\n\t* lisp/net/sieve-manage.el (sieve-manage-default-stream)\n\t* lisp/progmodes/grep.el (grep-save-buffers)\n\t* lisp/vc/add-log.el (change-log-directory-files)\n\t* lisp/url/url-vars.el (url-user-agent)\n\t* lisp/vc/vc-hg.el (vc-hg-symbolic-revision-styles)\n\t(vc-hg-use-file-version-for-mode-line-version)\n\t(vc-hg-parse-hg-data-structures)\n\t* lisp/wdired.el (wdired-create-parent-directories)\n\t* lisp/faces.el (homoglyph, nobreak-hyphen, read-multiple-choice-face)\n\t* lisp/gnus/gnus-art.el (gnus-article-encrypt-protocol)\n\t(gnus-button-url-regexp)\n\t* lisp/window.el (switch-to-buffer-preserve-window-point)\n\t* lisp/ibuffer.el (ibuffer-formats, ibuffer-locked-char)\n\t(ibuffer-locked-buffer)\n\t* lisp/textmodes/flyspell.el (flyspell-sort-corrections-function)\n\t* lisp/emacs-lisp/edebug.el (edebug-sit-on-break)\n\t* lisp/gnus/message.el (message-user-fqdn)\n\t* lisp/simple.el (shell-command-dont-erase-buffer)\n\t(extended-command-suggest-shorter)\n\t* lisp/net/shr.el (shr-use-fonts)\n\t* lisp/files.el (mounted-file-systems, kill-emacs-query-functions)\n\n2016-11-15  Glenn Morris  <rgm@gnu.org>\n\n\tAdd --new-daemon, which runs in the foreground and does not fork\n\n\tThis is intended for modern init systems such as systemd,\n\twhich manage many of the traditional aspects of daemon behavior\n\tthemselves.  (Bug#2677)\n\t* src/emacs.c (daemon_type): New integer.\n\t(usage, standard_args): Add --old-daemon and --new-daemon.\n\t(main): Handle --old-daemon and --new-daemon arguments.\n\tRestrict all the forking and complicated daemon stuff to old-daemon.\n\t(Fdaemon_initialized): Handle new-style daemon.\n\t* src/lisp.h (IS_DAEMON, DAEMON_RUNNING) [!WINDOWNT]:\n\tReplace daemon_pipe with daemon_type.\n\t* doc/emacs/cmdargs.texi (Initial Options):\n\t* doc/emacs/glossary.texi (Glossary):\n\t* doc/emacs/misc.texi (Emacs Server):\n\t* doc/lispref/display.texi (Window Systems):\n\t* doc/lispref/os.texi (Startup Summary): Related doc updates.\n\t* etc/NEWS: Mention this.\n\t* etc/emacs.service: Use Type=simple and --new-daemon.\n\n2016-11-15  Glenn Morris  <rgm@gnu.org>\n\n\t* src/emacs.c (usage_message): Mention named daemon.  (Bug#24949)\n\t* doc/man/emacs.1.in: Likewise.\n\n2016-11-15  Ken Brown  <kbrown@cornell.edu>\n\n\tSimplify case-insensitivity checks on Mac OS X\n\n\t* src/fileio.c (file_name_case_insensitive_p): Try skipping the\n\tDarwin code and instead using pathconf with _PC_CASE_SENSITIVE.\n\tLeave in two alternatives conditionally compiled based on\n\tDARWIN_OS_CASE_SENSITIVE_FIXME in case pathconf doesn't work.\n\n\t* etc/PROBLEMS: Mention the possible problem with pathconf on\n\tMac OS X.\n\n2016-11-15  Glenn Morris  <rgm@gnu.org>\n\n\t* src/emacs.c (sort_args): Warn about multiple matches.\n\n2016-11-15  Michael Albinus  <michael.albinus@gmx.de>\n\n\tImplement file name handler for `file-name-case-insensitive-p'\n\n\t* doc/lispref/files.texi (Truenames): `file-name-case-insensitive-p'\n\tis also applicable for remote hosts.\n\n\t* lisp/net/tramp.el (tramp-methods): Improve docstring.\n\t(tramp-file-name-for-operation): Add `file-name-case-insensitive-p'.\n\t(tramp-handle-file-name-case-insensitive-p): New defun.\n\n\t* lisp/net/tramp-smb.el (tramp-methods) <smb>:\n\tAdd `tramp-case-insensitive' entry.\n\n\t* lisp/net/tramp-adb.el (tramp-adb-file-name-handler-alist)\n\t* lisp/net/tramp-gvfs.el (tramp-gvfs-file-name-handler-alist)\n\t* lisp/net/tramp-sh.el (tramp-sh-file-name-handler-alist)\n\t* lisp/net/tramp-smb.el (tramp-smb-file-name-handler-alist)\n\t<file-name-case-insensitive-p>: Add handler.  (Bug#22300, Bug#24441)\n\n2016-11-15  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tNix more uses of default-FOO variables (Bug#24946)\n\n\t* lisp/cedet/semantic/util-modes.el (semantic-stickyfunc-mode):\n\tCheck for header-line-format instead.\n\t* lisp/emulation/viper.el (viper-load-custom-file): Reference\n\tmajor-mode instead.\n\t* lisp/mail/feedmail.el (feedmail-fill-to-cc-fill-column): Use\n\tfill-column instead.\n\n2016-11-15  Simen Heggest\u00f8yl  <simenheg@gmail.com>\n\n\tComplete the name of PostgreSQL databases\n\n\t* lisp/progmodes/sql.el (sql-postgres-login-params): Complete database\n\tname.\n\t(sql-postgres-list-databases): New function returning a list of\n\tavailable PostgreSQL databases.\n\n\t* test/lisp/progmodes/sql-tests.el: New file with tests for sql.el.\n\n2016-11-14  Sam Steingold  <sds@gnu.org>\n\n\tadd `vc-git-print-log-follow' and use it in `vc-git-print-log'\n\n\tWhen `vc-git-print-log-follow' is true and all files are\n\tnon-directory, pass \"--follow\" to \"git log\".\n\tThis works around bug#8756 and bug#16422.\n\n2016-11-14  Sam Steingold  <sds@gnu.org>\n\n\t`toggle-truncate-lines' obsoletes `gnus-summary-toggle-truncation'\n\n\tvc-git-print-log: pass \"--follow\" to \"log\" to handle renamed files\n\n2016-11-14  Eli Zaretskii  <eliz@gnu.org>\n\n\tRevert \"Improve case-insensitive checks (Bug#24441)\"\n\n\tThis reverts commit 2f5e0b1bf7b0ac4f450847db34d599a072020600.\n\tI see no reason for removing code, documentation, and comments\n\tin the original commit.\n\n2016-11-14  Wilson Snyder  <wsnyder@wsnyder.org>\n\n\tUpdate verilog-mode.el\n\n\t* lisp/progmodes/verilog-mode.el (verilog-read-decls)\n\t(verilog-calc-1): Fix \"default clocking\" indentation and\n\tpreventing AUTOs from working, bug1084.  Reported by Alan Morgan.\n\t(verilog-diff-report): Fix `verilog-diff-report'\n\tnot returning bad status on differences, bug1087.  Reported by\n\tEric Jackowski.\n\t(verilog-auto-inst-param-value)\n\t(verilog-auto-inst-param-value-type, verilog-read-sub-decls)\n\t(verilog-read-sub-decls-expr, verilog-read-sub-decls-gate)\n\t(verilog-read-sub-decls-line, verilog-read-sub-decls-sig)\n\t(verilog-read-sub-decls-type): When\n\t`verilog-auto-inst-param-value-type' is set, which is now the\n\tdefault, AUTOINPUT etc will now substitute parameter types from\n\tsubmodules, bug1061.  Reported by Brad Dobbie.\n\t(verilog-auto-reset, verilog-backward-case-item)\n\t(verilog-extended-case-re, verilog-read-always-signals-recurse):\n\tFix indentation of randcase, bug1072. Reported by David Rogoff.\n\t(verilog-read-sub-decls-expr)\n\t(verilog-sig-multidim-string): Fix AUTOINST ordering of dimensions\n\tin generated comments, bug1057. Reported by Kaushal Modi.\n\t(verilog-auto-wire-comment, verilog-insert-definition):\n\tAdd `verilog-auto-wire-comment' to suppress wire comments. Reported by\n\tEric Jackowski.\n\t(verilog-extended-complete-re): Fix indentation\n\tof class static functions, bug1053. Reported by Gregory\n\tCzajkowski.\n\t(verilog-module-filenames): Support tramp for\n\tfinding verilog modules. Reported by Nevada Sanchez.\n\n2016-11-14  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tImprove case-insensitive checks (Bug#24441)\n\n\t* doc/lispref/files.texi (Truenames): Simplify documentation,\n\tto avoid giving too much platform-specific information that\n\tmay not be accurate anyway.\n\t* src/fileio.c (file_name_case_insensitive_p): Use pathconf with\n\t_PC_CASE_SENSITIVE if _PC_CASE_INSENSITIVE is not available.\n\tOtherwise if one approach fails (e.g., with errno == EINVAL), fall\n\tback on an alternative rather than returning false.  Try skipping\n\tthe Darwin code, as it (1) no longer seems to be needed and (2)\n\tdoes not seem to match the Apple documentation.  Leave in two\n\talternatives conditionally compiled based on\n\tDARWIN_OS_CASE_SENSITIVE_FIXME in case (1) or (2) is incorrect.\n\n2016-11-14  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix documentation changes of connection-local variables\n\n\t* etc/NEWS: Fix last change.\n\t* doc/lispref/variables.texi (Connection Local Variables): Minor fixes.\n\t* doc/lispref/elisp.texi (Top): Update the master menu.\n\n2016-11-14  Michael Albinus  <michael.albinus@gmx.de>\n\n\tImplement connection-local variables\n\n\t* doc/lispref/variables.texi (Connection Local Variables): New section.\n\n\t* etc/NEWS: Mention connection-local variables.\n\n\t* lisp/files-x.el (enable-connection-local-variables)\n\t(connection-local-variables-alist, connection-local-class-alist)\n\t(connection-local-criteria-alist): New defvars.\n\t(connection-local-get-classes)\n\t(connection-local-get-class-variables): New defsubst.\n\t(connection-local-set-classes)\n\t(connection-local-set-class-variables)\n\t(hack-connection-local-variables)\n\t(hack-connection-local-variables-apply): New defuns.\n\t(with-connection-local-classes): New defmacro.\n\n\t* lisp/net/tramp.el (tramp-set-connection-local-variables): New defun.\n\n\t* lisp/net/tramp-adb.el (tramp-adb-maybe-open-connection):\n\t* lisp/net/tramp-gvfs.el (tramp-gvfs-maybe-open-connection):\n\t* lisp/net/tramp-sh.el (tramp-maybe-open-connection):\n\t* lisp/net/tramp-smb.el (tramp-smb-maybe-open-connection): Use it.\n\n\t* test/lisp/files-x-tests.el: New file.\n\n2016-11-14  Tino Calancha  <tino.calancha@gmail.com>\n\n\ttabulated-list: extend truncation into next align-right column\n\n\tSee discussion on:\n\thttps://lists.gnu.org/r/emacs-devel/2016-10/msg01101.html\n\t* lisp/emacs-lisp/tabulated-list.el\n\t(tabulated-list--near-rows): New variable.\n\t(tabulated-list-print, tabulated-list-set-col): Use it.\n\t(tabulated-list--col-local-max-widths): New defsubst.\n\t(tabulated-list-print-col): Use it.  If the next column is\n\talign-right, and has some space left then don't truncate to width,\n\tuse some of the available space from the next column.\n\n2016-11-13  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\t* lisp/net/shr.el (shr-collect-extra-strings-in-table): Fix indentation.\n\n\t* lisp/net/shr.el (shr-tag-table): Avoid duplication of images.\n\t(shr-collect-extra-strings-in-table): Render images as well.\n\n2016-11-13  Ken Brown  <kbrown@cornell.edu>\n\n\tUse the new 'file-name-case-insensitive-p' function\n\n\t* lisp/international/mule.el (auto-coding-alist-lookup):\n\t* lisp/files.el (file-truename):\n\t(abbreviate-file-name, set-auto-mode, file-relative-name):\n\t* lisp/emacs-lisp/package.el (package-untar-buffer): Use\n\t'file-name-case-insensitive-p' instead of 'system-type' to test\n\tcase-insensitivity.\n\n2016-11-13  Glenn Morris  <rgm@gnu.org>\n\n\tInclude a systemd user unit file.  (Bug#16507)\n\n\t* etc/emacs.service: New file.\n\t* doc/emacs/misc.texi (Emacs Server): Mention systemcl --user.\n\t* Makefile.in (libdir): New, set by configure.\n\t(systemdunitdir): New variable.\n\t(install-etc, uninstall): Handle the emacs.service file.\n\n2016-11-13  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort --enable-gcc-warnings to Ubuntu 16.10\n\n\t* src/gmalloc.c: Include <stdlib.h>, so it declares\n\thybrid_aligned_alloc (the definiens of the aligned_alloc macro),\n\tso that GCC doesn't complain that hybrid_aligned_alloc is\n\tdefined without being declared.\n\n2016-11-13  Ken Brown  <kbrown@cornell.edu>\n\n\tSilence tramp warning\n\n\t* lisp/net/tramp.el (tramp-file-name-for-operation): Add\n\t'file-name-case-insensitive-p' as a known file primitive.\n\t(Bug#24936)\n\n2016-11-12  Ken Brown  <kbrown@cornell.edu>\n\n\tCheck case-sensitivity when renaming files\n\n\t* src/fileio.c (file_name_case_insensitive_p)\n\t(Ffile_name_case_insensitive_p):  New functions.\n\t(Frename_file): Allow renames that simply change case when the\n\tFILE argument is on a case-insensitive filesystem.  (Bug#24441)\n\n\t* lisp/dired-aux.el (dired-do-create-files): Use\n\t'file-name-case-insensitive-p' instead of 'system-type' to check\n\tfor case-insensitivity.  (Bug#24441)\n\n\t* doc/lispref/files.texi (Truenames): Document\n\t'file-name-case-insensitive-p'.\n\n2016-11-12  Ken Brown  <kbrown@cornell.edu>\n\n\tUnbreak the build on Cygwin\n\n\t* configure.ac (system_malloc) [CYGWIN]: Unset.\n\n2016-11-11  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tUpdate chart.el\n\n\t* lisp/emacs-lisp/chart.el (chart-mode): Derive from special-mode.\n\t(chart-draw): Wrap in with-silent-modifications.  Instead of inserting a\n\tfixed number of newlines, use window-height.\n\t(chart-bar):\n\t(chart-trim): Use dolist.\n\t(chart-file-count): The previous implementation was buggy and missed\n\textensions.  Use file-name-extension instead to detect file extensions.\n\tAlso use dolist and cl-incf to reduce verbosity.\n\n2016-11-11  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\t* lisp/net/shr.el (shr--preferred-image): Add CR to whitespace regexps.\n\t(shr-collect-extra-strings-in-table):\n\tRender extra tables in an invalid html as well.\n\n2016-11-10  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\t* lisp/net/shr.el (shr--preferred-image): Ignore whitespace (bug#24893).\n\n2016-11-09  Eli Zaretskii  <eliz@gnu.org>\n\n\tResurrect 'memory-limit' on MS-Windows\n\n\t* nt/mingw-cfg.site (ac_cv_func_sbrk): Set to \"yes\", otherwise\n\t'memory-limit' will produce a trivial and useless result on Windows.\n\n2016-11-09  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tUpdate quickurl.el\n\n\t* lisp/net/quickurl.el (quickurl-format-function):\n\t(quickurl-sort-function): Use named function.\n\t(quickurl-list-mode-map): Remove lines that are extraneous now that the\n\tparent mode is special-mode.\n\t(quickurl-format-url, quickurl-sort-urls): New functions.\n\t(quickurl-read, quickurl): Use defun, as no cl-defun feature appears to\n\tbe used.\n\t(quickurl-list-mode): Derive from special-mode.  Nix setting\n\tbuffer-read-only: special-mode does that.\n\t(quickurl-list-populate-buffer): Use dolist instead.\n\t(quickurl-list-quit): Use quit-window.  It looks like this was written\n\tbefore the quit-window rewrite.  quit-window is very useful now.\n\n2016-11-09  Michael Albinus  <michael.albinus@gmx.de>\n\n\tRefine multi-hop specs in Tramp\n\n\t* lisp/net/tramp.el (tramp-tramp-file-p): Suppress \"/:\" and \"/c:\".\n\n\t* test/lisp/net/tramp-tests.el\n\t(tramp-test01-file-name-syntax): Multi-hop specs don't need a\n\tmethod.  \"/h:\" is allowed on non MS Windows.\n\n2016-11-08  Daniel Colascione  <dancol@dancol.org>\n\n\tAvoid infloop in python\n\n\tFix bug#24905\n\n\t* lisp/progmodes/python.el (python-info-docstring-p): Improve\n\tinfloop avoidance: replace (bobp) with generic test for\n\tforward progress.\n\t* test/lisp/progmodes/python-tests.el (python-bob-infloop-avoid): Add\n\ttest for bug#24905\n\n2016-11-08  Daniel Colascione  <dancol@dancol.org>\n\n\tMake gnus/message.el work correctly under lexical binding\n\n\t* lisp/gnus/message.el (message-send-mail): Rename `arg' to\n\t`_' to shut up the byte compiler.\n\t(sha1-maximum-internal-length, smtpmail-smtp-server)\n\t(smtpmail-smtp-service): add missing defvars\n\n2016-11-08  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix Bug#24889\n\n\t* lisp/net/tramp.el (tramp-file-name-regexp): Make it a\n\tdefvar.  Fix docstring.\n\t(tramp-completion-file-name-handler-alist): Fix docstring.\n\t(tramp-register-file-name-handlers): Reassign\n\t`tramp-file-name-regexp' to the car of\n\t`tramp-file-name-structure'.  (Bug#24889)\n\n2016-11-08  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort to FreeBSD 11 AMD\n\n\tProblem reported by Ashish Shukla (Bug#24892).  I tested\n\tthis on FreeBSD 11 x86-64 with HAVE_SBRK manually undefined.\n\t* configure.ac (system_malloc): Set to 'yes' if there is no sbrk.\n\t(sbrk): Check whether it exists.\n\t* src/alloc.c (my_heap_start) [!GNU_LINUX]:\n\tDo not define, since this function is now used only on GNU/Linux,\n\tand sbrk might not exist on other platforms.\n\t(malloc_initialize_hook) [!GNU_LINUX]:\n\tDo not call my_heap_start, since its side effect will never be used.\n\t(Fmemory_limit) [!HAVE_SBRK]: Do not call sbrk.\n\t* src/unexelf.c (unexec) [!HAVE_SBRK]: Assume that nothing like\n\tsbrk exists.\n\n2016-11-08  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort emacsclient to FreeBSD 11 etc.\n\n\t* lib-src/emacsclient.c: Include <string.h>.  This is needed on\n\tplatforms like FreeBSD 11 that use code involving strlen etc., and\n\tbecause <config.h> no longer includes string.h.\n\n2016-11-07  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tPrescribe history for read-regexp in query-replace\n\n\tIn the fix for bug#24580, the history argument for read-regexp was\n\tremoved erroneously; read-regexp's history argument defaults to\n\tregexp-history, not minibuffer-history.\n\t* lisp/replace.el (query-replace-read-from): Tell read-regexp to use\n\tminibuffer-history.  Fixes bug#24873.\n\n2016-11-07  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tRemove obsolete default-FOO variables\n\n\t* etc/NEWS: Indicate the removed variables.\n\t* lisp/emacs-lisp/edebug.el (edebug-outside-mark): Fix comment.\n\t* lisp/subr.el (default-mode-line-format, default-header-line-format):\n\t(default-line-spacing, default-abbrev-mode, default-ctl-arrow):\n\t(default-truncate-lines, default-left-margin, default-tab-width):\n\t(default-case-fold-search, default-left-margin-width):\n\t(default-right-margin-width, default-left-fringe-width):\n\t(default-right-fringe-width, default-fringes-outside-margins):\n\t(default-scroll-bar-width, default-vertical-scroll-bar):\n\t(default-indicate-empty-lines, default-indicate-buffer-boundaries):\n\t(default-fringe-indicator-alist, default-fringe-cursor-alist):\n\t(default-scroll-up-aggressively, default-scroll-down-aggressively):\n\t(default-fill-column, default-cursor-type):\n\t(default-cursor-in-non-selected-windows):\n\t(default-buffer-file-coding-system, default-major-mode):\n\t(default-enable-multibyte-characters): Remove obsolete declarations.\n\t* src/buffer.c (default-mode-line-format, default-header-line-format):\n\t(default-line-spacing, default-abbrev-mode, default-ctl-arrow):\n\t(default-truncate-lines, default-left-margin, default-tab-width):\n\t(default-case-fold-search, default-left-margin-width):\n\t(default-right-margin-width, default-left-fringe-width):\n\t(default-right-fringe-width, default-fringes-outside-margins):\n\t(default-scroll-bar-width, default-vertical-scroll-bar):\n\t(default-indicate-empty-lines, default-indicate-buffer-boundaries):\n\t(default-fringe-indicator-alist, default-fringe-cursor-alist):\n\t(default-scroll-up-aggressively, default-scroll-down-aggressively):\n\t(default-fill-column, default-cursor-type):\n\t(default-cursor-in-non-selected-windows):\n\t(default-buffer-file-coding-system, default-major-mode):\n\t(default-enable-multibyte-characters): Remove.\n\t* src/fileio.c (choose_write_coding_system): Fix comment.\n\t* src/lisp.h (DEFVAR_BUFFER_DEFAULTS): Remove.\n\n2016-11-07  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove the tutorial\n\n\t* etc/tutorials/TUTORIAL: Minor copyedits.  (Bug#24890)\n\t* etc/tutorials/TUTORIAL.he: Follow suit.\n\n2016-11-06  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRestore file descriptor limit in subprocesses\n\n\tProblem reported by Philipp Stephani (Bug#24869).\n\t* src/callproc.c (child_setup) [!DOS_NT]:\n\tCall restore_nofile_limit in the child.\n\t* src/process.c (nofile_limit) [HAVE_SETRLIMIT]: New static var.\n\t(restore_nofile_limit): New function.\n\t(init_process_emacs) [HAVE_SETRLIMIT]: Set the new var.\n\n2016-11-06  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tRemove some subr.el functions obsoleted in 22.1\n\n\t* etc/NEWS: Document removed functions.  Also mention the \"face\"\n\tvariables that have been removed recently.\n\t* lisp/subr.el (window-dot, set-window-dot, read-input, show-buffer):\n\t(eval-current-buffer, string-to-int, insert-string, makehash): Remove.\n\n2016-11-05  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPrefer comments /* like this */ in C code\n\n2016-11-05  Johan Bockg\u00e5rd  <bojohan@gnu.org>\n\n\t* lisp/subr.el (copy-tree): Handle vector in cdr. (Bug#24876)\n\n2016-11-05  Nick Terrell  <nickrterrell@gmail.com>  (tiny change)\n\n\tSupport zstd compressed files\n\n\t* lisp/jka-cmpr-hook.el (jka-compr-compression-info-list): Add\n\tzstd compression info: <http://facebook.github.io/zstd/>.\n\t(jka-compr-mode-alist-additions): Handle .tzst suffix for zstd\n\tcompressed tar archives.  (Bug#24853)\n\n2016-11-05  Eli Zaretskii  <eliz@gnu.org>\n\n\tEnlarge DUMPED_HEAP_SIZE\n\n\t* src/w32heap.c (DUMPED_HEAP_SIZE) [_WIN64 || WIDE_EMACS_INT]:\n\tEnlarge to 21MB.  Reported by Richard Copley <rcopley@gmail.com>.\n\n2016-11-04  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tUpdate from gnulib\n\n\tThis incorporates:\n\t2016-11-03 intprops: port to older XL C\n\t* lib/intprops.h: Copy from gnulib.\n\n2016-11-04  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\tacae275 ; Spelling fixes\n\td8fac73 Update README for precompiled windows Emacs.\n\t23570fd Clarify documentation of 'vc-responsible-backend' wrt symlinks\n\tf708cb2 Clarify doc string of 'transpose-sexps'\n\tcd05b1d Fix docstring of 'browse-url-firefox-new-window-is-tab'\n\tbdc89eb Improve documentation of 'font-lock-remove-keywords'\n\t4a0c590 Fix documentation of the command summary key\n\t0221b7a Mark relocation workarounds with REL_ALLOC\n\n2016-11-04  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\tdbb3410 python.el: Fix detection of native completion in Python 3 (bu...\n\t91c97b6 * Makefile.in (install-arch-indep): Skip etc/refcards/emacsve...\n\t9c1cb8d * lisp/subr.el (set-transient-map): Exit for unbound events (...\n\t9c247d2 Update category-table for Chinese characters\n\t43986d1 Inhibit buffer relocation during regex searches\n\tfee4cef Revert fixes to allocation of regex matching\n\n2016-11-04  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tFix references to long obsoleted functions/aliases\n\n\t* doc/lispintro/emacs-lisp-intro.texi (Miscellaneous):\n\t* doc/misc/cl.texi (Conditionals):\n\t* doc/misc/speedbar.texi (Major Display Modes): Use string-to-number,\n\tnot string-to-int.\n\t* lisp/emulation/viper.el (viper-go-away): Use major-mode, not\n\tdefault-major-mode.\n\t* lisp/textmodes/reftex-toc.el (reftex-toc-visit-location): show-window\n\there is not a function call, but shorten the binding names anyways.\n\tAlso, use pop-to-buffer-same-window instead of switch-to-buffer cf\n\tBug#22244.\n\t* lisp/textmodes/sgml-mode.el (html-tag-alist): Use read-string, not\n\tread-input.\n\n2016-11-04  Mark Oteiza  <mvoteiza@udel.edu>\n\n\t* lisp/emacs-lisp/pcase.el (pcase-dolist): Add a docstring.\n\n2016-11-04  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\t* lisp/net/shr.el (shr-collect-extra-strings-in-table) New function\n\tthat gathers extra strings in an invalid html.  (bug#24831)\n\t(shr-tag-table): Use it.\n\n2016-11-04  Vasilij Schneidermann  <v.schneidermann@gmail.com>\n\n\tAdd 'x-ctrl-keysym' support on X window system\n\n\t* src/xterm.c (x_x_to_emacs_modifiers, x_emacs_to_x_modifiers):\n\tSupport 'x-ctrl-keysym'.\n\t(syms_of_xterm): DEFSYM \"ctrl\" and put a proper modifier-value\n\tproperty on it.\n\t<x-ctrl-keysym>: New DEFVAR_LISP.\n\t<x-alt-keysym, x-hyper-keysym, x-meta-keysym, x-super-keysym>: Doc\n\tfix.  (Bug#24822)\n\n\t* etc/NEWS: Mention the addition of 'x-ctrl-keysym'.\n\n\t* doc/lispref/os.texi (X11 Keysyms): Document 'x-ctrl-keysym'.\n\n2016-11-04  Alexander Gramiak  <agrambot@gmail.com>\n\n\tImprove autoload error reporting\n\n\t* src/eval.c (Fautoload_do_load): Include the absolute file name\n\tin the error message.\n\n2016-11-03  Reuben Thomas  <rrt@sc3d.org>\n\n\tStop force parameter of whitespace-report-region having global effect\n\n\t* lisp/whitespace.el (whitespace-report-region): Force parameter\n\tpreviously changed whitespace-style globally.  Fix this, and use\n\twhitespace-active-style, to take account of any changes the user may\n\thave made.  Simplify the documentation: the force parameter simply\n\tforces all classes of whitespace problem to be considered.\n\t(Bug#24745)\n\n2016-11-03  Reuben Thomas  <rrt@sc3d.org>\n\n\tDocument use of `tab-width'\n\n\t* lisp/whitespace.el: When talking about `8 or more spaces', mention\n\t`tab-width' instead of 8.  (Bug#24745)\n\n2016-11-03  Reuben Thomas  <rrt@sc3d.org>\n\n\tMake whitespace-report-region respect current settings\n\n\t* lisp/whitespace.el (whitespace-report-region): Make it respect\n\twhitespace-style, including any additions made by the force parameter.\n\tThis means that the function does not return t unless a whitespace\n\tproblem that the user cares about is reported.  (Bug#24745)\n\n2016-11-03  Reuben Thomas  <rrt@sc3d.org>\n\n\tFix whitespace-space-after-tab-regexp\n\n\t* lisp/whitespace.el (whitespace-space-after-tab-regexp)\n\t(whitespace-regexp): Match all the spaces after tabs for highlighting,\n\tnot just the first tab-width.  Fix whitespace-space-after-tab::space\n\tversion so that it requires at least tab-width spaces, not just 1.\n\t(Bug#24745)\n\n2016-11-03  Reuben Thomas  <rrt@sc3d.org>\n\n\tRemove duplicate documentation\n\n\t* lisp/whitespace.el: Remove duplicate documentation from the Commentary\n\t  section which duplicate and in some places contradict (due to being\n\t  out of date) the docstrings (Bug#24745).\n\n2016-11-03  Reuben Thomas  <rrt@sc3d.org>\n\n\tFix bob/eob checks\n\n\t* lisp/whitespace.el (whitespace-empty-at-bob-regexp)\n\t(whitespace-empty-at-eob-regexp, whitespace-cleanup): Make `empty' checks\n\twork at beginning & end of buffer in whitespace-report-region, and only\n\tthere (i.e. they will never match in regions that don't include the\n\tstart or end of the buffer).  (Bug#24745)\n\n2016-11-03  Tino Calancha  <tino.calancha@gmail.com>\n\n\t(thing-at-point 'list) return nil if no list at point\n\n\t* lisp/thingatpt.el (thing-at-point-bounds-of-list-at-point):\n\tCheck first if we are at the beginning of a top-level sexp (Bug#24627).\n\tIf point is inside a comment or string, look for a list out of the\n\tcomment/string.\n\tEscape '[' in doc string.\n\t* test/lisp/thingatpt-tests.el (thing-at-point-bug24627): Update\n\texpected test result as pass.\n\n2016-11-02  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tRemove antlr face aliases obsoleted in 22.1\n\n\t* lisp/progmodes/antlr-mode.el: Remove obsolete aliases\n\t(antlr-default-face, antlr-keyword-face, antlr-syntax-face):\n\t(antlr-ruledef-face, antlr-tokendef-face, antlr-ruleref-face):\n\t(antlr-tokenref-face, antlr-literal-face):\n\t(antlr-literal-face): Remove.\n\t(antlr-font-lock-additional-keywords): Use face symbols instead.\n\n2016-11-02  Daniel Colascione  <dancol@dancol.org>\n\n\tRevert \"Disable bracketed paste in a terminal in char mode\"\n\n\tThis change causes regressions, and besides, disabling BPM frame-wide\n\tfor the sake of one buffer is the wrong solution.\n\n\tThis reverts commit cf566b46a6cf85c6d54d0b0db80e32ed6ae8d1ca.\n\n2016-11-02  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tRevert change to eww-suggest-uris\n\n\tThe introduced append is ugly and can yield '(nil); doing delq on it\n\twould be hacks on hacks.\n\t* lisp/net/eww.el: Require cl-lib at run time.\n\t(eww-suggest-uris): Restore eww-current-url, reverting previous change.\n\t(eww): Remove erroneous append.\n\t(eww-open-in-new-buffer): Check if the return from eww-suggested-uris is\n\tequal to eww-current-url, which is nil anyways if we are not in an EWW\n\tbuffer.\n\n2016-11-02  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tAdd eww-open-in-new-buffer to EWW\n\n\t* doc/misc/eww.texi (Basic): Document new command and key.\n\t* etc/NEWS: Mention new key and its purpose.\n\t* lisp/net/eww.el (eww-suggest-uris): Remove eww-current-url.\n\t(eww): Append (eww-current-url) to the prompt defaults.\n\t(eww-open-in-new-buffer): New command.\n\t(eww-mode-map): Bind it and add a menu item.\n\n2016-11-02  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tMigrate auth-source to cl-lib\n\n\t* lisp/auth-source.el: Use cl-lib.\n\t(auth-source-read-char-choice, auth-source-backend-parse-parameters):\n\t(auth-source-search): Replace cl calls with cl-lib ones.\n\t(auth-source-netrc-cache):\n\t(auth-source-forget+): Use cl-do-symbols instead.\n\t(auth-source-specmatchp, auth-source-netrc-parse):\n\t(auth-source-netrc-search, auth-source-netrc-create):\n\t(auth-source-netrc-saver, auth-source-secrets-listify-pattern):\n\t(auth-source-secrets-search, auth-source-secrets-create):\n\t(auth-source-macos-keychain-search, auth-source--decode-octal-string):\n\t(auth-source-macos-keychain-search-items, auth-source-plstore-search):\n\t(auth-source-plstore-create): Replace cl calls with cl-lib ones.\n\n2016-11-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDon't segfault on timed-out TLS connections\n\n\t* src/process.c (finish_after_tls_connection): Check that the\n\tfile descriptor is still alive before proceeding (bug#24811).\n\tAlso clean up the code slightly.\n\n2016-11-01  Eli Zaretskii  <eliz@gnu.org>\n\n\tSupport 'TARGETS' in clipboard selections on MS-Windows\n\n\t* src/w32select.c (Fw32_selection_targets): New function.\n\n\t* lisp/term/w32-win.el (w32--get-selection): Call\n\t'w32-selection-targets' to obtain the list of data formats\n\tavailable in the clipboard.\n\n2016-11-01  Thomas Fitzsimmons  <fitzsim@fitzsim.org>\n\n\tFix documentation for 'eudc-options-file'\n\n\t* doc/misc/eudc.texi (The Server Hotlist): Update the default\n\tvalue of 'eudc-options-file'.\n\n2016-11-01  Tibor Cs\u00f6g\u00f6r  <tibi@tiborius.net>\n\n\tFix documentation of 'eudc-inline-expansion-format'\n\n\t* doc/misc/eudc.texi (Inline Query Expansion): Fix the default value of\n\t'eudc-inline-expansion-format'. (Bug#24840)\n\n2016-10-31  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tTurn on lexical-binding in some more libs\n\n\t* lisp/calendar/icalendar.el:\n\t* lisp/emacs-lisp/regexp-opt.el:\n\t* lisp/emacs-lisp/timer.el:\n\t* lisp/gnus/message.el:\n\t* lisp/hex-util.el: Turn on lexical-binding.\n\n2016-10-31  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tTurn on lexical-binding in some net libs\n\n\t* lisp/net/dbus.el: Turn on lexical-binding.\n\t(dbus-list-hash-table, dbus-list-known-names):\n\t(dbus-introspect-get-node-names, dbus-introspect-get-interface-names):\n\t(dbus-introspect-get-method-names, dbus-introspect-get-signal-names):\n\t(dbus-introspect-get-property-names):\n\t(dbus-introspect-get-argument-names, dbus-get-all-properties):\n\t(dbus-property-handler, dbus-get-all-managed-objects):\n\t(dbus-managed-object-handler): Replace add-to-list with push. Add\n\tnreverse in some places where the APPEND argument of add-to-list was\n\tused.\n\t* lisp/net/network-stream.el: Turn on lexical-binding.\n\t* lisp/net/newsticker.el: Turn on lexical-binding.\n\t* lisp/net/shr.el: Turn on lexical-binding.\n\t(shr-make-placeholder-image): Remove unused variable binding.\n\t(shr-inspect-table): Replace ignored bindings with underscore.\n\n2016-10-31  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tTurn on lexical-binding in some url libs\n\n\t* lisp/url/url-auth.el:\n\t* lisp/url/url-expand.el:\n\t* lisp/url/url-future.el:\n\t* lisp/url/url-parse.el:\n\t* lisp/url/url-util.el: Turn on lexical-binding.\n\n2016-10-31  Johan Bockg\u00e5rd  <bojohan@gnu.org>\n\n\t* lisp/emacs-lisp/cl-macs.el (cl-symbol-macrolet): Fix debug spec\n\n\t(Bug#24733)\n\n2016-10-30  Alan Mackenzie  <acm@muc.de>\n\n\tHandle chars of syntax word which are also flagged as comment delimiters\n\n\tsrc/syntax.c (scan_sexps_forward): When chars of syntax word are also flagged\n\tas the start/end of two char comment delimiters, recognize a comment delimiter\n\tin preference to a portion of a word.  This fixes bug #24767.\n\n2016-10-29  Daniel Colascione  <dancol@dancol.org>\n\n\tSpeed up initialization by preferring /dev/urandom to GnuTLS\n\n\t* src/sysdep.c (init_random): Try /dev/urandom before GnuTLS.\n\n2016-10-29  Jos\u00e9 L. Dom\u00e9nech  <domenechjosel@gmail.com>\n\n\tQuote file names in dired compression commands\n\n\t* lisp/dired-aux.el (dired-do-compress-to): Change the string\n\tused as shell command for compression by quoting the filenames\n\tused for input and output (Bug #24620).\n\n2016-10-29  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid errors in posn-at-point for large images\n\n\t* src/keyboard.c (Fposn_at_point): If pos-visible-in-window-p\n\treturns a 6-member list for a partially visible glyph, pass the\n\tsum of Y and RTOP to posn-at-x-y, since that's where the visible\n\tportion of that glyph begins on display.  (Bug#24804)  (Bug#21832)\n\t(Bug#23809)\n\n2016-10-29  Eli Zaretskii  <eliz@gnu.org>\n\n\tUnbreak MS-Windows build\n\n\t* src/w32term.c (XCreateGC): Second argument is now HWND, and its\n\tname is \"wignore\".\n\t(x_set_cursor_gc, x_set_mouse_face_gc)\n\t(x_draw_glyph_string_background, x_draw_glyph_string_bg_rect)\n\t(x_draw_image_glyph_string, x_draw_stretch_glyph_string): Don't\n\tuse s->window, which doesn't exist anymore.\n\n\t* src/w32term.h (XCreateGC): Adjust prototype.\n\n2016-10-28  Daniel Colascione  <dancol@dancol.org>\n\n\tAdd double-buffering support to reduce flicker\n\n\t* src/dispextern.h (struct glyph_string): Remove window member\n\t(block_buffer_flips, unblock_buffer_flips)\n\t(buffer_flipping_blocked_p): Declare.\n\n\t* src/xterm.h (struct x_display_info): New member supports_xdbe.\n\t(struct x_output): New members draw_desc and need_buffer_flip.\n\t(FRAME_X_DRAWABLE, FRAME_X_RAW_DRAWABLE)\n\t(FRAME_X_DOUBLE_BUFFERED_P)\n\t(FRAME_X_NEED_BUFFER_FLIP): New macros.\n\t(set_up_x_back_buffer, tear_down_x_back_buffer)\n\t(initial_set_up_x_back_buffer): Declare.\n\n\t* src/xterm.c: Include Xdbe.h.\n\t(x_begin_cr_clip, x_fill_rectangle, x_draw_rectangle)\n\t(x_draw_vertical_window_border, x_update_end)\n\t(x_setup_relief_color, x_draw_relief_rect)\n\t(x_draw_fringe_bitmap, x_shift_glyphs_for_insert)\n\t(x_scroll_run, x_draw_hollow_cursor, x_draw_bar_cursor): Use\n\tFRAME_X_DRAWABLE instead of FRAME_X_WINDOW; rename local\n\tvariables appropriately; substitute calls to XClearArea with\n\tx_clear_area, which DTRT for double buffering.\n\t(x_clear_window, x_clear_area): In double-buffering mode, use\n\trect-drawing X functions instead of XClearWindow and\n\tXClearArea, which always operate on the front buffer.\n\t(show_back_buffer): New function.\n\t(XTframe_up_to_date): Call show_back_buffer when done.\n\t(x_clear_frame, x_clear_frame_area): Remove obsolete calls to\n\tgtk_widget_queue_draw to refresh scroll bars; scroll bars are\n\tnow independent X windows.\n\t(handle_one_xevent): Call font_drop_xrender_surfaces when\n\tXftDraw might need regenerating; perform buffer flip when\n\tresponding to Expose events; issue front-buffer clearing\n\tcommands as stopgap while we wait for redisplay.\n\tCall flush_dirty_back_buffers.\n\t(x_make_frame_visible): Un-bitrot comment; move XSETFRAME\n\tearlier in function.\n\t(x_free_frame_resources): Call tear_down_x_back_buffer when\n\tdestroying frame.\n\t(x_term_init): Attempt to initialize double buffer extension.\n\t(x_flip_and_flush): New function.\n\t(x_redisplay_interface): Point to x_flip_and_flush instead of\n\tx_flip directly.\n\t(flush_dirty_back_buffers): New function.\n\t(x_create_terminal): Register buffer_flipping_unblocked_hook.\n\n\t* src/xftfont.c (xftfont_drop_xrender_surfaces): Use\n\tFRAME_X_DRAWABLE instead of FRAME_X_WINDOW.\n\t(xftfont_draw): Call x_mark_frame_dirty.\n\t(xftfont_drop_xrender_surfaces): New function.\n\t(syms_of_xftfont): Register it.\n\n\t* src/xfont.c (xfont_draw): Use FRAME_X_DRAWABLE instead of\n\tFRAME_X_WINDOW.\n\n\t* src/xfns.c: Include Xdbe.h.\n\t(x_set_inhibit_double_buffering, set_up_x_back_buffer)\n\t(Fx_double_buffered_p): New functions.\n\t(x_window): Call initial_set_up_x_back_buffer.\n\t(x_make_gc): Use FRAME_X_DRAWABLE instead of FRAME_X_WINDOW.\n\t(Fx_create_frame): Configure `inhibit-double-buffering'\n\tframe parameter.\n\t(x_create_tip_frame): Call initial_set_up_x_back_buffer.\n\t(x_frame_parm_handlers): Register\n\tx_set_inhibit_double_buffering.\n\t(syms_of_xfns): Register Sx_double_buffered_p.\n\t(x_mark_frame_dirty): Define.\n\n\t* src/xfaces.c (x_create_gc): Use FRAME_X_DRAWABLE instead of\n\tFRAME_X_WINDOW.\n\n\t* src/xdisp.c (remember_mouse_glyph, init_glyph_string): Use\n\tFRAME_X_DRAWABLE instead of FRAME_X_WINDOW.\n\t(redisplay_internal): Restart redisplay if a frame is garbaged\n\tduring updating; explain why. Block buffer flips\n\tduring redisplay.\n\t(redisplay_preserve_echo_area): Block buffer flip during call\n\tto redisplay_internal.\n\t(buffer_flip_blocked_depth): New variable.\n\t(block_buffer_flips, unblock_buffer_flips)\n\t(buffer_flipping_blocked_p): New functions.\n\t(init_glyph_string): Stop setting window member of struct\n\tglyph_string.\n\n\t* src/w32fns.c (w32_frame_parm_handlers): Add placeholder for\n\tx_set_inhibit_double_buffering.\n\n\t* src/termhooks.h (struct terminal): Add\n\tbuffer_flipping_unblocked_hook.\n\n\t* src/nsfns.m (ns_frame_parm_handlers): Add placeholder for\n\tx_set_inhibit_double_buffering.\n\n\t* src/image.c (x_create_bitmap_from_data)\n\t(x_create_bitmap_from_file, x_create_x_image_and_pixmap)\n\t(Create_Pixmap_From_Bitmap_Data)\n\t(x_create_bitmap_from_xpm_data, xpm_load, gs_load): Use\n\tFRAME_X_DRAWABLE instead of FRAME_X_WINDOW; rename local\n\tvariables appropriately.\n\n\t* src/gtkutil.c: Include Xdbe.h.\n\t(xg_get_widget_from_map): Forward declare.\n\t(xg_clear_under_internal_border): Remove obsolete calls to\n\trefresh scroll bars.\n\t(xg_create_frame_widgets): Call initial_set_up_x_back_buffer.\n\t(xg_free_frame_widgets): Call tear_down_x_back_buffer; reset\n\tFRAME_X_DRAWABLE as well as FRAME_X_WINDOW and for the\n\tsame reason.\n\t(xg_set_background_color): Set scroll bar background colors.\n\t(xg_finish_scroll_bar_creation): New function with common\n\tlogic of xg_create_scroll_bar, xg_create_horizontal_scroll_bar. Force\n\tscroll bars to be real X11 windows.\n\t(xg_create_scroll_bar, xg_create_horizontal_scroll_bar): Call\n\txg_finish_scroll_bar_creation.\n\t(xg_update_scrollbar_pos, xg_update_horizontal_scrollbar_pos):\n\tRemove obsolete calls to refresh scroll bars; fix comments.\n\n\t* src/ftxfont.c (ftxfont_get_gcs, ftxfont_draw_bitmap,\n\t(ftxfont_draw_background): Use FRAME_X_DRAWABLE instead of\n\tFRAME_X_WINDOW.\n\n\t* src/frame.c (frame_parms): Add table entry for new\n\t`inhibit-double-buffering' frame parameter\n\t(syms_of_frame): Register Qinhibit_double_buffering.\n\n\t* src/font.h (struct font_driver): Add new `flush_frame_caches' hook.\n\t(font_drop_xrender_surfaces): Declare.\n\n\t* src/font.c (font_drop_xrender_surfaces): New function.\n\n\t* src/Makefile.in (XDBE_LIBS, XDBE_CFLAGS): Substitute.\n\n\t* etc/NEWS: Mention use of double buffering\n\n\t* doc/lispref/frames.texi (Management Parameters): Document\n\t`inhibit-double-buffering' frame parameters.\n\t(Visibility of Frames): Document `x-double-buffered-p'.\n\n\t* configure.ac: Check for the X double buffer extension\n\n2016-10-28  Michael Albinus  <michael.albinus@gmx.de>\n\n\tImprove result of `auth-source-search' in Tramp\n\n\t* lisp/net/tramp.el (tramp-read-passwd): Require :secret and\n\t:user in result of `auth-source-search'.\n\n2016-10-27  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tFix avl-tree alias docstrings\n\n\t* lisp/emacs-lisp/avl-tree.el (avl-tree--node-branch):\n\t(avl-tree-stack-p, avl-tree-create):\n\t(avl-tree-compare-function): Add calling convention to docstrings.\n\n2016-10-27  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tUpdate from gnulib\n\n\tThis incorporates:\n\t2016-10-16 qsort_r: Fix macrology for platforms that lack the function.\n\t2016-10-13 stdint: port SIZE_MAX to glibc s390\n\t2016-10-11 maint: remove stray space after \".\" in AC_DEFINE comment.\n\t* lib/gnulib.mk: Regenerate.\n\t* lib/stdlib.in.h, m4/st_dm_mode.m4, m4/stdint.m4, m4/stdlib_h.m4:\n\t* m4/utimes.m4: Copy from gnulib.\n\n2016-10-27  Paul Eggert  <eggert@cs.ucla.edu>\n\n\telectric-quote-chars fixups\n\n\t* lisp/electric.el (electric-quote-chars): Check types and safety\n\tmore carefully.\n\t(electric-quote-post-self-insert-function): Use more-mnemonic locals.\n\tOmit no-longer-necessary runtime error diagnostic.\n\n2016-10-27  G\u00f6ktu\u011f Kayaalp  <self@gkayaalp.com>\n\n\tNew user variable 'electric-quote-chars'\n\n\t* doc/emacs/text.texi (Quotation Marks), etc/NEWS: Document this.\n\t* lisp/electric.el (electric-quote-chars): New defcustom.\n\t(electric-quote-post-self-insert-function): Use it.\n\n2016-10-27  Tino Calancha  <tino.calancha@gmail.com>\n\n\tAdd more tests for Bug#24627\n\n\t* test/lisp/thingatpt-tests.el (thing-at-point-bug24627):\n\tAdd tests for 'list-at-point'.\n\n2016-10-26  Filipp Gunbin  <fgunbin@fastmail.fm>\n\n\t* lisp/shell.el (shell--unquote&requote-argument): Match data misuse\n\n\t* lisp/shell.el (shell--unquote&requote-argument): Fix\n\toff-by-one thinko.  Don't use match data after a failed string-match.\n\n2016-10-25  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* src/xwidget.c (webkit_js_to_lisp): Now static.\n\n2016-10-25  Ricardo Wurmus  <rekado@elephly.net>\n\n\txwidget: Map \"previous-line\" and \"next-line\" to scroll\n\n\t* lisp/xwidget.el: Map \"previous-line\" and \"next-line\" to scrolling\n\tprocedures.\n\n2016-10-25  Ricardo Wurmus  <rekado@elephly.net>\n\n\txwidget: Bind \"beginning-of-buffer\" and \"end-of-buffer\"\n\n\t* lisp/xwidget.el: Rebind \"beginning-of-buffer\" and \"end-of-buffer\" to\n\t\"xwidget-webkit-scroll-top\" and \"xwidget-webkit-scroll-bottom\",\n\trespectively.\n\t(xwidget-webkit-scroll-top,\n\txwidget-webkit-scroll-bottom): New procedures.\n\n2016-10-25  Ricardo Wurmus  <rekado@elephly.net>\n\n\tImplement zoom for WebKit widget.\n\n\t* src/xwidget.c (xwidget-webkit-zoom): New procedure.\n\t* lisp/xwidget.el: Bind \"+\" and \"-\" to zoom in and out, respectively.\n\t(xwidget-webkit-zoom): Declare procedure.\n\t(xwidget-webkit-zoom-in, xwidget-webkit-zoom-out): New procedures.\n\n2016-10-25  Ricardo Wurmus  <rekado@elephly.net>\n\n\tDynamically resize WebKit widget.\n\n\t* lisp/xwidget.el (xwidget-webkit-auto-adjust-size,\n\txwidget-webkit-adjust-size-in-frame): New procedures.\n\t(xwidget-webkit-new-session): Remove hint to resize widget with `a'.\n\t(xwidget-webkit-adjust-size-dispatch): Resize current webkit widget.\n\t(xwidget-webkit-adjust-size-to-window): Make non-interactive,\n\tadd widget and window as arguments.\n\t(xwidget-webkit-callback): Use xwidget-webkit-adjust-size-to-window.\n\n2016-10-25  Ricardo Wurmus  <rekado@elephly.net>\n\n\tLet initial WebKit view fill window\n\n\t* lisp/xwidget.el (xwidget-webkit-new-session): Change default size of\n\tWebKit widget to window size.\n\n2016-10-25  Ricardo Wurmus  <rekado@elephly.net>\n\n\txwidget: Remove title hack.\n\n\t* src/xwidget.c (xwidget-webkit-get-title): Remove procedure.\n\t* lisp/xwidget.el (xwidget-webkit-get-title,\n\txwidget-webkit-execute-script-rv): Remove procedures.\n\n2016-10-25  Ricardo Wurmus  <rekado@elephly.net>\n\n\txwidget: Get URL asynchronously.\n\n\t* lisp/xwidget.el (xwidget-webkit-current-url): Kill URL in callback.\n\n2016-10-25  Ricardo Wurmus  <rekado@elephly.net>\n\n\txwidget: Get selection with asynchronous JavaScript\n\n\t* lisp/xwidget.el (xwidget-webkit-get-selection): Add PROC argument to\n\tprocess selection.\n\t(xwidget-webkit-copy-selection-as-kill): Kill selection in callback.\n\n2016-10-25  Ricardo Wurmus  <rekado@elephly.net>\n\n\txwidget: Add function to find element by CSS selector\n\n\t* lisp/xwidget.el (xwidget-webkit-show-element): New procedure.\n\n2016-10-25  Ricardo Wurmus  <rekado@elephly.net>\n\n\txwidget: Simplify functions to scroll to elements\n\n\t* lisp/xwidget.el (xwidget-webkit-show-named-element,\n\txwidget-webkit-show-id-element,\n\txwidget-webkit-show-id-or-named-element): Simplify functions by\n\tscrolling exclusively with JavaScript.\n\n2016-10-25  Ricardo Wurmus  <rekado@elephly.net>\n\n\txwidget: Get title via asynchronous JavaScript.\n\n\t* lisp/xwidget.el (xwidget-webkit-callback): Get document title\n\tasynchronously.\n\n2016-10-25  Ricardo Wurmus  <rekado@elephly.net>\n\n\txwidget: Do not use `xwidget-execute-script-rv' to insert string\n\n\t* lisp/xwidget.el (xwidget-webkit-insert-string): Obtain JavaScript\n\treturn value via callback instead of using\n\t`xwidget-webkit-execute-script-rv'.\n\n2016-10-25  Ricardo Wurmus  <rekado@elephly.net>\n\n\tRemove scrolled window container around WebKit widget\n\n\tThe WebKit widget can scroll on its own and does not need to wrapped\n\twith a scrolled window container.\n\n\t* src/xwidget.h: Remove struct member widgetscrolledwindow_osr.\n\t* src/xwidget.c: Remove widgetscrolledwindow_osr.\n\t(xwidget-set-adjustment): Remove.\n\t(xwidget-resize): Resize Webkit widget last.\n\t* lisp/xwidget.el (xwidget-set-adjustment): Remove.\n\t(xwidget-webkit-scroll-up, xwidget-webkit-scroll-down,\n\txwidget-webkit-scroll-forward, xwidget-webkit-scroll-backward):\n\tImplement scrolling via JavaScript.\n\n2016-10-25  Ricardo Wurmus  <rekado@elephly.net>\n\n\txwidget: Pass JavaScript return value to optional callback procedure\n\n\t* lisp/xwidget.el (xwidget-webkit-execute-script): Accept optional\n\tcallback argument.\n\t(xwidget-webkit-callback): Handle \"javascript-callback\" event type.\n\t* src/xwidget.c (xwidget-webkit-execute-script): Accept optional\n\targument FUN, a Lisp procedure to execute on the JavaScript return\n\tvalue.\n\t(store_xwidget_js_callback_event, webkit_javascript_finished_cb,\n\twebkit_js_to_lisp): New procedures.\n\n2016-10-25  Ricardo Wurmus  <rekado@elephly.net>\n\n\txwidget: Use WebKit2 API\n\n\t* configure.ac: Check for webkit2gtk-4.0.\n\t* src/xwidget.c: Adjust to use WebKit2 API.\n\t* lisp/xwidget.el (xwidget-webkit-callback): Adjust matches for\n\t`xwidget-event-type'.\n\n2016-10-25  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\t4c3f738 Comment for bug#24793\n\n2016-10-25  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\t96ac0c3 Yet another fix for using pointers into buffer text\n\t1047496 Another fix for using pointer to buffer text\n\t3121992 Fix Bug#24478\n\n2016-10-25  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\tee04aed Fix handling of buffer relocation in regex.c functions\n\t71ca4f6 Avoid relocating buffers while libxml2 reads its text\n\t1b3fc8a ; Remove redundant code in gmalloc.c\n\t9afea93 Attempt to catch reads from a buffer that is relocated\n\n2016-10-25  Nicolas Petton  <nicolas@petton.fr>\n\n\tMinor fix in the documentation of seq-random-elt\n\n\t* doc/lispref/sequences.texi (Sequence Functions): Remove false\n\t  sentence.\n\n2016-10-25  Eli Zaretskii  <eliz@gnu.org>\n\n\tMinor copyedits in documentation of 'seq-random-elt'\n\n\t* doc/lispref/sequences.texi (Sequence Functions): Fix markup in\n\tlast change.  Use 2 spaces between sentences.\n\n2016-10-25  Nicolas Petton  <nicolas@petton.fr>\n\n\t* lisp/emacs-lisp/seq.el (seq-random-elt): Fix docstring.\n\n2016-10-25  Damien Cassou  <damien@cassou.me>\n\n\tAdd seq-random-elt to seq.el\n\n\t* lisp/emacs-lisp/seq.el (seq-random-elt): Add function to return a\n\t  random element from it's sequence parameter.\n\n\t* test/lisp/emacs-lisp/seq-tests.el (test-seq-random-elt-take-all\n\t  test-seq-random-elt-return-nil): Test the new function\n\n\t* doc/lispref/sequences.texi: Document the new function\n\n2016-10-24  Ken Brown  <kbrown@cornell.edu>\n\n\t* configure.ac: Stop using mmap for buffers on Cygwin.\n\n2016-10-24  Nicolas Petton  <nicolas@petton.fr>\n\n\t* lisp/emacs-lisp/seq.el (seq-let): Fix debug spec (Bug#24738)\n\n2016-10-24  Karl Chen  <Karl.Chen@quarl.org>\n\n\tDon't prompt user when killing Flymake processes\n\n\t* lisp/progmodes/flymake.el (flymake-start-syntax-check-process):\n\tDon\u2019t prompt the user when killing Flymake processes.\n\n\t* doc/misc/flymake.texi (Starting the syntax check process):\n\tDocument new behavior.\n\n2016-10-23  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* src/regex.c (re_search_2): Use UNINIT, not IF_LINT.\n\n\tThis finishes the merge of the recent emacs-25 regex changes into\n\tmaster.\n\n2016-10-23  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\t50fa7d6 ;* src/w32heap.c: Fix typo and wording of the comments.\n\t6f1325e electric-quote mode no longer worries about coding\n\tc2a1792 * src/regex.c (re_search_2): Make new code safe for -Wjump-mi...\n\tf6134bb Port to GCC 6.2.1 + --enable-gcc-warnings\n\tb2ba630 Explain how to debug emacsclient lisp errors\n\t9da53e2 Let describe-function work for lambda again\n\t5c2da93 Fix kill-line's docstring\n\tad66b3f Fix handling of allocation in regex matching\n\t5a26c9b * lisp/electric.el (electric-quote-mode): Improve doc (Bug#24...\n\t3877c91 vc-region-history: Search just on lines intersecting the region\n\t8988327 Fix documentation of 'alist-get'\n\tb6998ea * src/regex.h (re_match_object): Improve commentary.\n\n\t# Conflicts:\n\t#\tetc/NEWS\n\t#\tlisp/help-fns.el\n\n2016-10-23  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\t8ad0d7d ; Fix quoting in etc/NEWS\n\t6b9dee1 Change Tramp version to \"2.2.13.25.2\"\n\t62f2684 * lisp/emacs-lisp/autoload.el (update-directory-autoloads): F...\n\tb2f32e4 Don't scan compiled module files for autoloads\n\t9a758b4 Fix Bug#24698\n\tbaa8ba4 * lisp/subr.el (start-process): Doc fix.  (Bug#24693)\n\te535ca4 Fix display of vc-dir CVS file statuses in subdirectories\n\t12da149 Update URL of MS-Windows optional DLLs\n\t2331056 Merge branch 'emacs-25' of git.savannah.gnu.org:/srv/git/emac...\n\ta4285bc * lisp/simple.el (process-menu-mode, list-processes--refresh)...\n\tb0c447e * lisp/ibuf-ext.el (ibuffer-do-shell-command-file): Fix non-f...\n\tcf3c19b * lisp/ibuffer.el (ibuffer): Improve 'other-window' case.  (B...\n\n\t# Conflicts:\n\t#\tdoc/misc/trampver.texi\n\t#\tetc/NEWS\n\t#\tlisp/net/tramp-sh.el\n\t#\tlisp/net/trampver.el\n\n2016-10-23  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\tb73f466 * lisp/cus-start.el (exec-path): Handle nil elements.  (Bug#2...\n\t55ebb70 Catch the imenu-unavailable error in sh-mode completion table\n\t993acb5 ; Minor fix for last change in characters.el\n\t30c4bb5 More char-width fixes\n\t4eb4463 Fix char-width-table values for some Emoji\n\t528997d Keep point when switching from and to *terminal* buffer\n\t2130005 * INSTALL: Use correct Emacs release number 25.\n\t10835b1 Avoid crashes due to objects read with the #n=object form\n\t4de671d Improve doc string of 'completion-at-point-functions'\n\tceb46f0 Fix crash in evaluating functions\n\td8374c4 * src/filelock.c (current_lock_owner): Update comment.\n\n2016-10-23  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\t2deb20c Port last_marked change to full-program optimizers\n\t27eb668 Adapt GDB scripts to '--enable-check-lisp-object-type' builds\n\tdac64e3 Avoid optimizing out the last_marked[] array\n\n2016-10-22  Noam Postavsky  <npostavs@gmail.com>\n\n\tAvoid infinite hscrolling in redisplay\n\n\t* src/xdisp.c (redisplay_internal): Add a counter to avoid horizontal\n\tscrolling (e.g., caused by pre-redisplay-functions) triggering infinite\n\tredisplay (Bug #24633).\n\n2016-10-22  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix error codes in Tramp\n\n\t* lisp/net/tramp-compat.el (tramp-compat-user-error): New defsubst,\n\ttaken from tramp.el.\n\t(tramp-file-missing): New defconst.\n\n\t* lisp/net/tramp.el (tramp-user-error): Remove it.\n\t(tramp-check-proper-method-and-host)\n\t(tramp-dissect-file-name, tramp-debug-message)\n\t(tramp-handle-shell-command):\n\t* lisp/net/tramp-adb.el (tramp-adb-handle-shell-command):\n\t* lisp/net/tramp-gvfs.el (tramp-gvfs-file-name-handler):\n\tUse `tramp-compat-user-error'.\n\n\t* lisp/net/tramp.el (tramp-handle-insert-file-contents)\n\t(tramp-handle-load):\n\t* lisp/net/tramp-adb.el (tramp-adb-handle-file-local-copy):\n\t* lisp/net/tramp-gvfs.el (tramp-gvfs-handle-file-local-copy)\n\t* lisp/net/tramp-sh.el (tramp-sh-handle-file-local-copy):\n\t* lisp/net/tramp-smb.el (tramp-smb-handle-file-local-copy):\n\tUse `tramp-file-missing'.  (Bug#24714)\n\n\t* lisp/net/tramp-sh.el (tramp-sh-handle-add-name-to-file):\n\t* lisp/net/tramp-smb.el (tramp-smb-handle-make-symbolic-link):\n\tUse `file-already-exists'.\n\n2016-10-22  Jorgen Schaefer  <contact@jorgenschaefer.de>\n\n\tAutoload all commands from misc.el\n\n\tOnly two of the commands there were autoloaded, one of which is an\n\teaster egg.\n\t* lisp/misc.el (copy-from-above-command):\n\t* lisp/misc.el (zap-up-to-char):\n\t* lisp/misc.el (mark-beginning-of-buffer):\n\t* lisp/misc.el (mark-end-of-buffer):\n\t* lisp/misc.el (upcase-char):\n\t* lisp/misc.el (forward-to-word):\n\t* lisp/misc.el (backward-to-word):\n\tAdd autoload cookie.\n\n2016-10-22  Martin Rudalics  <rudalics@gmx.at>\n\n\tOn terminal frames ignore minibuffer frame parameter (Bug#24758)\n\n\t* src/frame.c (Fmake_terminal_frame): Don't complain when the\n\tcaller asks for a deviant minibuffer setting (Bug#24758).\n\n2016-10-21  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tNew error file-missing\n\n\tThis fixes a recently-introduced bug in delete-directory,\n\twhere the code assumes the C locale when determining\n\twhether a file-error corresponds to a missing file (Bug#24714).\n\t* doc/lispref/errors.texi (Standard Errors):\n\t* doc/lispref/files.texi (Changing Files):\n\t* etc/NEWS:\n\tDocument this.\n\t* doc/lispref/loading.texi (How Programs Do Loading):\n\tSay \"a file-error\" rather than \"the error file-error\" since\n\tit might be a file-missing now.\n\t* lisp/emacs-lisp/bytecomp.el (byte-compile-file):\n\t* lisp/epa-file.el (epa-file--find-file-not-found-function):\n\t(epa-file-insert-file-contents, epa-file-write-region):\n\t* lisp/ffap.el (find-file-at-point, dired-at-point):\n\t* lisp/jka-compr.el (jka-compr-insert-file-contents)\n\t(jka-compr-insert-file-contents):\n\t* lisp/net/ange-ftp.el (ange-ftp-barf-if-not-directory)\n\t(ange-ftp-insert-file-contents, ange-ftp-copy-file-internal):\n\t* lisp/progmodes/etags.el (visit-tags-table):\n\t* lisp/url/url-handlers.el (url-copy-file):\n\t* src/fileio.c (report_file_errno):\n\tSignal file-missing if appropriate.\n\t* lisp/epa-file.el (epa-file-insert-file-contents):\n\t* lisp/jka-compr.el (jka-compr-insert-file-contents):\n\tDon't assume file-error is a leaf in the error hierarchy.\n\t* lisp/files.el (files--force):\n\t* lisp/gnus/nnmaildir.el (nnmaildir--enoent-p):\n\t* lisp/jka-compr.el (jka-compr-insert-file-contents):\n\tUse file-missing to detect whether the file is missing.\n\t* lisp/url/url-handlers.el (url-copy-file):\n\tSignal file-already-exists if appropriate.\n\t* src/fileio.c (syms_of_fileio): Define file-missing.\n\n\t2016-10-18  Paul Eggert  <eggert@cs.ucla.edu>\n\n2016-10-21  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tTeach browse-url to open man page urls\n\n\t* lisp/net/browse-url.el (browse-url-man-function): New custom option.\n\t(browse-url): Add a condition to catch links matching \"^man:\".\n\t(browse-url-man): New function.\n\n2016-10-21  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove fontification of footnote references in Info buffers\n\n\t* lisp/info.el (Info-fontify-node): Don't fontify random numbers\n\tin parentheses as if they were footnote references.  See\n\thttps://lists.gnu.org/r/bug-texinfo/2016-10/msg00007.html\n\tfor the details.\n\n2016-10-20  Philipp Stephani  <phst@google.com>\n\n\tMinor fixes to cc-mode-tests.el\n\n\tSee Bug#24747.\n\n\t* test/lisp/progmodes/cc-mode-tests.el: Rename from cc-mode.el; fix typo in\n\tfile-local variable; add comments to make checkdoc happy.\n\n2016-10-20  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* etc/NEWS: Fix typos.  Remove entries backported to Emacs 25.2.\n\n2016-10-20  Michael Albinus  <michael.albinus@gmx.de>\n\n\tDocument, how to suppress iTerm2 shell integration in Tramp\n\n\t* doc/misc/tramp.texi (Frequently Asked Questions):\n\tSuppress iTerm2 shell integration.\n\n2016-10-20  Tino Calancha  <tino.calancha@gmail.com>\n\n\tcl-seq: Remove max limit on input sequence length\n\n\t* lisp/emacs-lisp/cl-seq.el (cl-fill, cl-replace, cl-delete)\n\t(cl--position, cl-nsubstitute, cl-substitute, cl-remove):\n\tRemove limit on maximum length for the input sequence\n\t(#Bug24264).\n\t* test/lisp/emacs-lisp/cl-seq-tests.el: Update test expected result as passed.\n\n2016-10-19  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tDerive dig-mode from special-mode\n\n\t* lisp/net/dig.el: Remove unused cl dependency.  Remove top level\n\tmode-class assignment.\n\t(dig-mode-map): Unmap g, as dig has no notion of reverting the buffer.\n\t(dig-mode): Derive from special-mode.\n\t(dig-exit): Use quit-window instead.\n\t(dig): Use pop-to-buffer-same-window.  Remove redundant assignments.\n\t(query-dig): Use pop-to-buffer-same-window.\n\n2016-10-18  Johan Bockg\u00e5rd  <bojohan@gnu.org>\n\n\tcl-defstruct: Fix debug spec and check of slot options\n\n\t* lisp/emacs-lisp/cl-macs.el (cl-defstruct): Improve checking of slot\n\toption syntax.  Fix debug spec.  (Bug#24700)\n\n2016-10-18  Johan Bockg\u00e5rd  <bojohan@gnu.org>\n\n\tisearch: Fix bug in defstruct syntax\n\n\t* lisp/isearch.el (isearch--state): Use correct form of defstruct slot\n\toptions.  (Bug#24685)\n\n2016-10-18  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tAdd an option for eshell-input-filter\n\n\t* etc/NEWS: Document changes.\n\t* lisp/eshell/em-hist.el (eshell-input-filter): Set value to function\n\tsymbol.  Change type to a radio for choosing functions.  Refer to both\n\tnew functions.\n\t(eshell-input-filter-default): New function.  Same body as the previous\n\tvalue of eshell-input-filter.\n\t(eshell-input-filter-initial-space): New function.\n\n2016-10-18  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tdelete-directory no longer errors when racing\n\n\tProblem reported by Glenn Morris for package-test.el (Bug#24714).\n\t* doc/lispref/files.texi (Create/Delete Dirs), etc/NEWS: Document this.\n\t* lisp/files.el (files--force): New function.\n\t(delete-directory): Use it to avoid error in this case.\n\n2016-10-17  Yuri Khan  <yuri.v.khan@gmail.com>  (tiny change)\n\n\tSupport Shift selection in nxml-mode commands\n\n\t* lisp/nxml/nxml-mode.el (nxml-forward-balanced-item)\n\t(nxml-up-element, nxml-backward-up-element, nxml-down-element)\n\t(nxml-backward-down-element, nxml-forward-element)\n\t(nxml-backward-element, nxml-forward-paragraph)\n\t(nxml-backward-paragraph): Use \"^p\" as the interactive spec, to\n\tsupport shift-selection.\n\n2016-10-17  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tSimplify some loops and cons\n\n\t* lisp/net/mailcap.el: Replace cl with cl-lib.\n\t(mailcap--get-user-mime-data, mailcap--set-user-mime-data):\n\t(mailcap-parse-mailcaps, mailcap-parse-mailcap-extras):\n\t(mailcap-possible-viewers): Use push and dolist where possible.\n\t(mailcap-viewer-passes-test): Remove unused binding.\n\t(mailcap-add-mailcap-entry): Use push.\n\t(mailcap-mime-info): Remove unused binding.  Use push.\n\t(mailcap-parse-mimetypes): Use dolist.\n\n2016-10-17  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tTurn on lexical-binding in auth-source\n\n\t* lisp/auth-source.el: Turn on lexical-binding.\n\t(auth-source-netrc-parse, auth-source-netrc-normalize):\n\t(auth-source-token-passphrase-callback-function):\n\t(auth-source-netrc-create, auth-source-secrets-search):\n\t(auth-source-macos-keychain-search-items):\n\t(auth-source-plstore-search): Use let instead of lexical-let.\n\n2016-10-17  Martin Rudalics  <rudalics@gmx.at>\n\n\tFix frame focus redirection with shared minibuffer windows (Bug#24500)\n\n\t* src/frame.c (do_switch_frame): Redirect frame focus also when\n\tthe frame switched to has its minibuffer window on the selected\n\tframe.\n\t* src/window.c (candidate_window_p): To qualify as candidate\n\tit's not sufficient for the window's frame to just share the\n\tminibuffer window - it must be active as well.\n\n2016-10-17  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix time-related data types in 2 editfns.c functions\n\n\t* src/editfns.c (format_time_string, Fcurrent_time_zone): Pass a\n\tpointer to 'time_t' value to 'emacs_localtime_rz' and 'gmtime_r',\n\tinstead of relying on struct timespec's 'tv_sec' member to be of\n\tcompatible type.\n\n2016-10-16  Martin Rudalics  <rudalics@gmx.at>\n\n\tDocument atomic windows in Elisp manual (Bug#18170)\n\n\t* lisp/window.el (display-buffer-in-atom-window): If no `side'\n\talist entry was specified, use `below' as the doc tells.\n\t* doc/lispref/elisp.texi (Atomic Windows): Add menu entry.\n\t* doc/lispref/windows.texi (Atomic Windows): New section.\n\t(Window Parameters): Update reference.\n\n2016-10-16  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tNew face homoglyph\n\n\tSuggested by Eli Zaretskii, from a feature request by\n\tAlan Mackenzie (Bug#24468).\n\t* doc/emacs/display.texi (Standard Faces, Text Display):\n\t* etc/NEWS: Document this.\n\t* etc/themes/dichromacy-theme.el, etc/themes/leuven-theme.el:\n\t* etc/themes/light-blue-theme.el, etc/themes/manoj-dark-theme.el:\n\t* etc/themes/tango-dark-theme.el, etc/themes/tango-theme.el:\n\t* etc/themes/wombat-theme.el:\n\tCustomize homoglyph to be the same as escape-glyph.\n\t* lisp/cus-theme.el (custom-theme--listed-faces):\n\tAdd homoglyph.\n\t* lisp/faces.el (homoglyph): New face.\n\t* lisp/startup.el (startup--setup-quote-display): Use it.\n\n2016-10-16  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort to Ubuntu 16.10, which needs gcc -nopie\n\n\t* configure.ac (emacs_cv_prog_cc_no_pie): Rename from\n\temacs_cv_prog_cc_nopie.  All usages changed.  Check for -no-pie in\n\tpreference to -nopie (Bug#24682).\n\n2016-10-16  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix bug#24665 in Tramp\n\n\t* doc/misc/tramp.texi (External methods): Do not confuse\n\tmethod names.  (Bug#24665)\n\n2016-10-15  Sam Steingold  <sds@gnu.org>\n\n\tuse full time objects (lists) instead of floats when possible\n\n\t* lisp/midnight.el (midnight-buffer-display-time): Remove\n\t(clean-buffer-list): Use float time only for time comparison\n\n2016-10-15  Sam Steingold  <sds@gnu.org>\n\n\tSave and restore buffer-display-time\n\n\t* lisp/desktop.el (desktop-locals-to-save): Add `buffer-display-time'\n\t(desktop-read): Set `desktop-file-modtime' before loading the desktop file\n\t(desktop-create-buffer): Adjust `buffer-display-time' for the downtime\n\n2016-10-15  Philipp Stephani  <phst@google.com>\n\n\tDisable bracketed paste in a terminal in char mode\n\n\tIn char mode, a terminal doesn't accept bracketed paste events,\n\ttherefore we should disable them; see Bug#24639.  To decouple the XTerm\n\tmanagement from term.el, introduce a per-buffer setting to disable\n\tbracketed paste for that buffer.  If bracketed paste is inhiited for at\n\tleast one buffer in a terminal, it is disabled for the whole terminal.\n\n\t* lisp/term/xterm.el (xterm-inhibit-bracketed-paste-mode): New mode to\n\tinhibit XTerm bracketed paste per buffer.\n\t(xterm--buffer-terminals, xterm--update-bracketed-paste)\n\t(xterm--bracketed-paste-possible, xterm--is-xterm): New helper\n\tfunctions.\n\t(xterm--init-bracketed-paste-mode): Remove unused helper\n\tfunction.\n\t(terminal-init-xterm): Update bracketed paste status when\n\tinitializing an XTerm and on window configuration change.\n\n\t* lisp/term.el (term-char-mode, term-line-mode): Inhibit XTerm\n\tbracketed paste in char mode.\n\n2016-10-15  Dima Kogan  <dima@secretsauce.net>\n\n\tUndo the effect of CapsLock when other modifiers are present\n\n\t* src/keyboard.c (make_lispy_event): Effectively undo the effect\n\tof CapsLock if any modifiers other than Shift are present in a key.\n\t(Bug#24456)\n\n2016-10-15  Simen Heggest\u00f8yl  <simenheg@gmail.com>\n\n\tAdd tests for foreign completions in CSS mode\n\n\t* test/lisp/textmodes/css-mode-tests.el\n\t(css-test-foreign-completions): New test for\n\t`css--foreign-completions'.\n\t(css-test-complete-selector-tag): Rename test.\n\t(css-test-complete-selector-class): New test testing completion of\n\tclass names in selectors.\n\t(css-test-complete-selector-id): New test testing completion of IDs in\n\tselectors.\n\n2016-10-13  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tCosmetic change to last mm-url change\n\n\t* lisp/gnus/mm-url.el (mm-url-encode-multipart-form-data):\n\tTweak last change slightly for more readability.\n\n2016-10-13  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFix problem with submitting binary data via HTTP forms\n\n\t* lisp/gnus/mm-url.el (mm-url-encode-multipart-form-data):\n\tDocument the parameters, clean up the code, and make uploading\n\tbinary data really work (which it didn't if the binary bits\n\twere in the last part of the data).\n\n2016-10-13  Mark Oteiza  <mvoteiza@udel.edu>\n\n\t* lisp/time.el (display-time-string-forms): Fix custom type.\n\n2016-10-13  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tDerive Man and WoMan modes from special-mode\n\n\t* lisp/man.el (Man-mode-map): Set parent to map composed from both\n\tbutton-buffer-map and special-mode-map.  Remove redundant bindings.\n\tFix menu to refer to the quit-window command.\n\t(Man-mode): Derive from special-mode.  Fix docstring.  Remove redundant\n\tbuffer-read-only binding.\n\t(Man-quit): Remove.\n\t* lisp/woman.el (woman-really-find-file): Use setq-local.\n\t(woman-mode-map): Refer to woman-mode in docstring.\n\t(woman-mode): Derive from special-mode.  Document woman-mode-map in\n\tdocstring.  Use setq-local where possible; imenu-generic-expression is\n\talready buffer-local.\n\t(woman-negative-vertical-space): Replace unused binding with _.\n\n2016-10-13  Philipp Stephani  <phst@google.com>\n\n\tFix crash in evaluating functions\n\n\tSee Bug#24673\n\n\t* src/eval.c (funcall_lambda): Fix crash for bogus functions such\n\tas (closure).\n\n\t* test/src/eval-tests.el (eval-tests--bug24673): Add test.\n\n2016-10-13  Tino Calancha  <tino.calancha@gmail.com>\n\n\tAdd test for Bug#24627\n\n\t* test/lisp/thingatpt-tests.el (thing-at-point-bug24627): New test.\n\n2016-10-12  Eli Zaretskii  <eliz@gnu.org>\n\n\t* lib-src/etags.c (invalidate_nodes): Remove a redundant nullp test.\n\n2016-10-11  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tWork around Samba bug with ':' in symlink contents\n\n\t* src/filelock.c (current_lock_owner): When reading the contents\n\tof a lock, treat the UTF-8 for U+F022 as if it were ':' (Bug#24656).\n\n2016-10-11  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tIf autoloads buffer is unchanged, mark it as such (bug#23692)\n\n\t* lisp/emacs-lisp/autoload.el (update-directory-autoloads):\n\tIf autoloads buffer is unchanged, mark it as such (bug#23692).\n\n2016-10-11  Michael Albinus  <michael.albinus@gmx.de>\n\n\tUse \"26.1\" version string in Tramp, fix some comments\n\n\t* lisp/net/tramp-gvfs.el (tramp-gvfs-methods):\n\t* lisp/net/tramp-sh.el (tramp-remote-process-environment):\n\tUse \"26.1\" version string.\n\n2016-10-10  Tino Calancha  <tino.calancha@gmail.com>\n\n\tform-at-point work for all kind of THINGS\n\n\t* lisp/thingatpt.el (form-at-point):\n\tUse thing-at-point--read-from-whole-string only if thing-at-point\n\treturns a string (Bug#24605).\n\n2016-10-10  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix compilation warnings on MS-Windows\n\n\t* src/w32.c (_ANONYMOUS_UNION, _ANONYMOUS_STRUCT): Remove\n\tdefinitions of these macros, which seem to be unneeded and cause\n\tcompiler warnings.\n\t* src/fileio.c (NOMINMAX): Avoid compiler warnings about unused\n\tmacros.\n\t* src/firstfile.c (dummy_main_reference): Rename from 'dummy' and\n\tmake it external, to avoid compiler warning.\n\n2016-10-10  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSpelling and clarity fixes\n\n2016-10-10  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\t4f406e9 CC Mode manual: remove reference to former Emacs variable las...\n\t44e402e Allow to disable compaction of font caches\n\t4ff4b66 Allow selection of font for symbols as in Emacs 24.x\n\tc03d44b ; Fix last commit\n\td4be4f3 ; Fix indexing in lispref manual\n\ted399f2 ; Minor improvement in documentation of generators\n\t197a6bc Fix horizontal scrolling during Isearch\n\t3566644 Fix infloop in redisplay due to truncated lines and invisible...\n\n\t# Conflicts:\n\t#\tetc/NEWS\n\n2016-10-10  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\tc4a5e7e Improve documentation of 'menu-bar-open'\n\n2016-10-10  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\t4b347fe Clarify that doc fixes are okay in feature freeze\n\t01669ad Avoid crashes when setting the cursor\n\tf2144ee Restore 'command-debug-status' functionality\n\tec6e4b9 ; Minor addition to CONTRIBUTE\n\n2016-10-10  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\t74b4f13 Document nil args of compare-buffer-substrings\n\t9fc81bc * doc/misc/message.texi (Bcc Warning): Fix markup.\n\t95baa25 * doc/misc/message.texi (Bcc Warning): Document mml-secure-sa...\n\n2016-10-10  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\tf1247f0 * lisp/frame.el (blink-cursor-delay): Doc fix.  (Bug#24372)\n\tace7f14 * lisp/gnus/gnus-art.el (gnus-button-handle-library): Fix typo.\n\tbbf1ffd Regexp Functions doc minor fixes\n\n2016-10-08  Philipp Stephani  <phst@google.com>\n\n\tDon\u2019t consider nested let-alist forms\n\n\tSee Bug#24641.\n\n\t* lisp/emacs-lisp/let-alist.el (let-alist--deep-dot-search): Don\u2019t\n\tconsider symbols in nested \u2018let-alist\u2019 forms.\n\n\t* test/lisp/emacs-lisp/let-alist-tests.el\n\t(let-alist--deep-dot-search--nested): Add a unit test.\n\n2016-10-08  Alain Schneble  <a.s@realize.ch>\n\n\tSupport SIGTRAP in kill emulation on Windows\n\n\t* src/w32proc.c (sys_kill): Translate SIGTRAP signal into a call to\n\t'DebugBreakProcess' to cause a breakpoint exception to occur in the\n\tspecified process.  On Windows versions prior to Windows XP that do\n\tnot support 'DebugBreakProcess' return -1 and set errno to ENOTSUP\n\t(as opposed to EINVAL before this change).\n\t* src/w32proc.c: Add typedef for 'DebugBreakProcess' function pointer\n\tand global variable to track state of run-time dynamic linking of this\n\tfunction.\n\n\t* etc/NEWS: Add entry to document that 'signal-process' now supports\n\tSIGTRAP.\n\n2016-10-08  Eli Zaretskii  <eliz@gnu.org>\n\n\tDeprecate 'wp' group and introduce a new group 'text'\n\n\t* lisp/textmodes/tildify.el (tildify):\n\t* lisp/textmodes/text-mode.el (text-mode-hook):\n\t* lisp/textmodes/table.el (table):\n\t* lisp/textmodes/rst.el (rst):\n\t* lisp/textmodes/refer.el (refer):\n\t* lisp/textmodes/refbib.el (refbib):\n\t* lisp/textmodes/picture.el (picture):\n\t* lisp/textmodes/nroff-mode.el (nroff):\n\t* lisp/textmodes/enriched.el (enriched):\n\t* lisp/textmodes/bib-mode.el (bib):\n\t* lisp/progmodes/ebnf2ps.el (ebnf2ps):\n\t* lisp/nxml/rng-valid.el (relax-ng):\n\t* lisp/view.el (view):\n\t* lisp/ps-print.el (ps-print):\n\t* lisp/printing.el (printing):\n\t* lisp/outline.el (outlines):\n\t* lisp/lpr.el (lpr):\n\t* lisp/delim-col.el (columns): Use 'text' group instead of 'wp'.\n\t* lisp/cus-edit.el (wp): Remove the \"text\" tag.\n\t(text): New defgroup, inherits from the deprecated 'wp'.\n\t(outlines): Remove, in favor of the definition in outline.el.\n\t(tex): Inherit from 'text'.\n\tSuggested by Drew Adams <drew.adams@oracle.com>.  (Bug#24549)\n\n2016-10-08  Laimonas V\u0117bra  <laimonas.vebra@yahoo.com>  (tiny change)\n\n\tExtend dictionary and library-directory handling for Ispell\n\n\t* lisp/textmodes/ispell.el (ispell-check-version): Allow\n\toverriding LIBDIR via the variable defined by LIBRARYVAR (usually\n\tISPELL_DICTDIR).\n\t(ispell-valid-dictionary-list): If the -d option to Ispell\n\tspecifies an absolute file name, use that regardless of\n\tispell-library-directory.  (Bug#24439)\n\n2016-10-07  Tassilo Horn  <tsdh@gnu.org>\n\n\tFix unescaped \\begin{...} in docstring\n\n\t* lisp/textmodes/reftex-cite.el (reftex-bib-or-thebib): Fix unescaped\n\t\\begin{...} in docstring.\n\n2016-10-06  Noah Friedman  <friedman@splode.com>\n\n\tUpdate comment.\n\n2016-10-06  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix compilation with MinGW runtime 3.22.2 and w32api 3.18.2\n\n\t* nt/inc/ms-w32.h (_WIN32_WINNT) [!MINGW_W64]: Undefine before\n\tdefining to avoid redefinition warnings.\n\n\t* nt/inc/sys/stat.h (_SYS_STAT_H, _INC_STAT_H): Define, to avoid\n\tinclusion of sys/stat.h from the system headers, which could then\n\tlead to compilation errors due to redefinition of 'struct stat'\n\tetc.  This is needed because latest versions of MinGW runtime\n\tinclude sys/stat.h from wchar.h.\n\n\t* src/image.c (__MINGW_MAJOR_VERSION) [WINDOWSNT]: Temporarily\n\tredefine to 4 to avoid conflict between 2 definitions of\n\tMemoryBarrier.  (Bug#24613)\n\n2016-10-05  Mark Oteiza  <mvoteiza@udel.edu>\n\n\t* lisp/url/url-parse.el (url-generic-parse-url): Unquote macro URL argument.\n\n2016-10-05  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tAutoload entry point testcover-start\n\n\t* lisp/emacs-lisp/testcover.el: Add autoload cookie for\n\ttestcover-start.\n\n2016-10-05  Thomas Fitzsimmons  <fitzsim@fitzsim.org>\n\n\tBump version of ntlm.el to 2.1.0\n\n\t* lisp/net/ntlm.el: Bump version to 2.1.0.\n\n2016-10-05  Thomas Fitzsimmons  <fitzsim@fitzsim.org>\n\n\tlisp/net/ntlm.el: Fix comment and docstring formatting\n\n2016-10-05  Thomas Fitzsimmons  <fitzsim@fitzsim.org>\n\n\tlisp/net/ntlm.el: Match Mozilla Type 1 and 3 message behavior\n\n\t* lisp/net/ntlm.el (ntlm-build-auth-request): Only set\n\t\"negotiate domain supplied\" bit when a domain is supplied.  Do\n\tnot set \"negotiate workstation supplied\" bit.\n\t(ntlm-build-auth-response): Set domain to empty string by\n\tdefault.  Set workstation name to \"WORKSTATION\".  Set flags to\n\tlogical and of Type 1 and Type 2 message flags.  Remove four\n\ttrailing 0 bytes.  Always set LM response.  Hard-code domain\n\toffset.  Reorder buffer fields.\n\n2016-10-05  Martin Rudalics  <rudalics@gmx.at>\n\n\tDocument return value of `display-buffer-in-side-window'\n\n\t* doc/lispref/windows.texi (Displaying Buffers in Side Windows):\n\t* lisp/window.el (display-buffer-in-side-window): Describe\n\treturn value of `display-buffer-in-side-window'.\n\n2016-10-05  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove wording in side windows documentation\n\n\t* doc/lispref/windows.texi (Displaying Buffers in Side Windows)\n\t(Side Window Options and Functions)\n\t(Frame Layouts with Side Windows): Minor wording improvements.\n\n2016-10-05  Martin Rudalics  <rudalics@gmx.at>\n\n\tDocument and fix some bugs with side windows\n\n\tAdd a documentation for side windows and fix some bugs\n\tfound when testing their behavior.  Also add a new window\n\tparameter `no-delete-other-window', a new `display-buffer'\n\talist member called `window-parameters', and functions to\n\ttoggle and reverse side windows on a frame.  Add new function\n\t`window-swap-states' to exchange states of two live windows.\n\n\t* lisp/window.el (display-buffer-in-atom-window): Use\n\t`split-window-no-error'.\n\t(window-sides-vertical): Maybe change layouts when setting this\n\tvariable.\n\t(window-sides-reversed): New option.\n\t(window-sides-slots): Rewrite doc-string and help echoes.\n\t(window-sides-shown): New buffer-local variable set when showing\n\ta buffer in a side window.\n\t(window--sides-inhibit-check): New variable.\n\t(window--sides-reverse-on-frame-p, window-toggle-side-windows)\n\t(window--sides-reverse-all, window--sides-reverse-frame)\n\t(window--sides-reverse-side, window--sides-reverse)\n\t(window--sides-verticalize-frame, window--sides-verticalize)\n\t(window--sides-check-failed): New functions.\n\t(window--side-window-p): Remove function.\n\t(window--major-non-side-window): Rename to `window-main-window',\n\tadjust callers, rewrite doc-string.\n\t(window--major-side-window): Rename to\n\t`window--make-major-side-window-next-to', adjust caller, fix\n\tdoc-string.\n\t(display-buffer-in-major-side-window): Rename to\n\t`window--make-major-side-window', adjust\n\tcaller, rewrite doc-string.  Make `window-side' and\n\t`window-slot' parameters persistent (Bug#23858).  Don't set\n\t`delete-window' parameter.  Add `preserve-size' entry to ALIST.\n\t(delete-side-window): Remove function.\n\t(display-buffer-in-side-window): Fix doc-string.  Don't set\n\t`delete-window' parameter.  Add `preserve-size' entry to ALIST.\n\t(window--side-check): Rename to window--sides-check.  Rewrite\n\tcompletely.  Adjust caller.\n\t(window-resize-no-error): Don't describe PIXELWISE argument.\n\t(adjust-window-trailing-edge): Fix bug that disallowed\n\tre-enlarging windows that were too small.\n\t(window-deletable-p): Don't tell that a minibuffer window on a\n\tnon-minibuffer-only frame can be deleted.  Fix doc-string.\n\t(delete-window): Handle deleting a side window here (the\n\t`delete-window' parameter is no more set for side windows).\n\t(delete-other-windows): Handle \u2018no-delete-other-window'\n\tparameter. Don't treat side windows separately (see discussion\n\tof Bug#24368) but keep optimization that makes the main window\n\tthe root window of its frame.\n\t(switch-to-prev-buffer, switch-to-next-buffer): Handle side\n\twindows and buffers shown in side windows separately.\n\t(split-window-no-error): New function.\n\t(window--state-get-1): Use right buffer when storing window\n\tpoint and start positions and WRITABLE is nil (Bug#24368).\n\t(window--state-put-1): Fix handling of `window-combination-limit'.\n\tUse `split-window-no-error'.\n\t(window--state-put-2): Try to restore windows with preserved\n\tsize to their original size.  Fix bug where a fixed window's width\n\twas not preserved.\n\t(window-state-put): When reducing an internal window to a live\n\tone, don't choose a side window.\n\t(window-swap-states): New function.\n\t(window-splittable-p): Don't call `window--side-window-p'.\n\t(window--display-buffer): Handle `window-parameters' ALIST entry.\n\tMinor rewrite.\n\t(display-buffer): Mention `window-parameters' entry in\n\tdoc-string.\n\t(display-buffer-at-bottom): Call `split-window-no-error'.\n\n\t* doc/lispref/elisp.texi (Top): New section \"Side Windows\".\n\t* doc/lispref/windows.texi (Deleting Windows): Fix descriptions\n\tof `delete-window' and `delete-other-windows' wrt window\n\tparameters and side windows.\n\t(Display Action Functions): Mention `window-parameters' ALIST\n\tentry.\n\t(Side Windows): New section (Bug#18170).\n\t(Window Configurations): Describe new function `window-swap-states'.\n\t(Window Parameters): Say that functions may behave specially when\n\ttheir homonymous window parameter has been set.  Mention new\n\tparameter `no-delete-other-window'.  Add cross reference for\n\t`window-side' and `window-slot' parameters.\n\n2016-10-04  John Wiegley  <johnw@newartisans.com>\n\n\tAdd documentation note from Alex\n\n2016-10-04  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tAvoid dynamic binding on a symbol\n\n\tInstead, bind history in the default minibuffer-history.\n\tFixes bug#24580.\n\t* lisp/replace.el (query-replace-read-from): Let-bind\n\tminibuffer-history.  Change read-regexp and read-from-minibuffer's\n\tHISTORY arguments to nil so that they use minibuffer-history.\n\n2016-10-03  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* src/fileio.c (Finsert_file_contents): Fix hook handling (bug#24340)\n\n\t* src/fileio.c (Finsert_file_contents): Run before-change-hooks before\n\tdeleting the old buffer content.\n\t* src/lisp.h (del_range_byte):\n\t* src/insdel.c (del_range_byte): Drop the last argument.\n\t* src/fns.c (Fbase64_encode_region): Adjust accordingly.\n\n2016-10-03  Tino Calancha  <tino.calancha@gmail.com>\n\n\tIbuffer: 'w' and 'B' default to buffer at current line\n\n\tSee discussion in:\n\thttps://lists.gnu.org/r/emacs-devel/2016-09/msg00384.html\n\t* lisp/ibuffer.el (ibuffer--near-buffers): New defun;\n\treturn buffers near current line.\n\t* lisp/ibuf-ext.el (ibuffer-copy-buffername-as-kill): Use it.\n\tAdd argument ARG; if a non-zero integer, return next ARG buffers.\n\tOtherwise return the marked buffers.\n\tIf there are not marked buffers, return buffer at current line\n\twithout prompting the user.\n\tUse ibuffer-get-marked-buffers instead of ibuffer-map-marked-lines.\n\tAppend to kill ring when last command was a kill-region.\n\t(ibuffer-copy-filename-as-kill): Idem.\n\tSimplify the code.\n\tUse ibuffer-buffer-file-name instead of buffer-file-name to\n\tinclude buffers in Dired mode.\n\n2016-10-03  Tino Calancha  <tino.calancha@gmail.com>\n\n\tdired-mark-extension: Unmark if called with C-u prefix\n\n\tSee discussion in #Bug2518 and:\n\thttps://lists.gnu.org/r/emacs-devel/2016-09/msg00711.html\n\t* lisp/dired-x.el (dired-mark-extension):\n\tUpdate interactive calls: a prefix arg C-u unmark files;\n\ta prefix C-u C-u prompt for MARKER-CHAR and mark files with it.\n\t(dired-mark-sexp):\n\tShow in the prompt that we are unmarking if called with a prefix argument.\n\t* doc/misc/dired-x.texi (Advanced Mark Commands):\n\tUpdate documentation for 'dired-mark-extension'.\n\n2016-10-02  Karl Fogel  <kfogel@red-bean.com>\n\n\tDocument yank behavior in the right place\n\n\t* lisp/simple.el (yank): Document the handling of the\n\t`yank-handled-properties' and `yank-excluded-properties' variables,\n\tand the `yank-handler' text property.\n\t(yank-pop): Refer to `yank' now (bug#286)\n\n\t* lisp/subr.el (insert-for-yank): Refer to `yank' now.\n\t(insert-for-yank-1): Refer to `insert-for-yank' now.\n\n\tSee this thread for discussion:\n\n\t  https://lists.gnu.org/r/emacs-devel/2016-09/threads.html#00329\n\t  From: Karl Fogel\n\t  To: Emacs Devel\n\t  Subject: Question about intended behavior of 'insert-for-yank-1'.\n\t  Date: Mon, 12 Sep 2016 00:17:14 -0500\n\t  Message-ID: <874m5lr92d.fsf@red-bean.com>\n\n2016-10-02  Philipp Stephani  <phst@google.com>\n\n\tRestart blink cursor timers on interval changes\n\n\tThis prevents surprising behavior when timer interval customizations are\n\tonly applied whenever the timers happen to be restarted (see Bug#24372).\n\n\t* lisp/frame.el (blink-cursor--start-idle-timer)\n\t(blink-cursor--start-timer): New functions.\n\t(blink-cursor-start, blink-cursor-check, blink-cursor-mode): Use\n\tthe new helper functions.\n\t(blink-cursor-delay, blink-cursor-interval): Restart timers when\n\tthe value is changed.\n\n2016-10-01  Philipp Stephani  <phst@google.com>\n\n\tUse a simple keyword for a non-nil argument\n\n\tThe second argument of `run-with-idle-timer' is Boolean, i.e. only nil\n\tand non-nil values are distinguished.  Passing a number here is\n\tconfusing.  Pass a descriptive symbol instead.\n\n\t* lisp/frame.el (blink-cursor-mode, blink-cursor-check): Use\n\t:repeat symbol instead of number for second argument of\n\t`run-with-idle-timer'\n\n2016-10-01  Philipp Stephani  <phst@google.com>\n\n\tMake querying to kill processes customizable\n\n\tIntroduce a new customization option, `confirm-kill-processes', that\n\tusers can set to nil if they don't want Emacs to nag them about killing\n\tprocesses.\n\n\t* lisp/files.el (confirm-kill-processes): New customization option.\n\t(save-buffers-kill-emacs): Use customization option.\n\n\t* test/lisp/files-tests.el\n\t(files-test--save-buffers-kill-emacs--confirm-kill-processes): Add\n\ttest for new customization option.\n\n\t* doc/emacs/entering.texi (Exiting): Document new user option.\n\n\t* doc/lispref/processes.texi (Query Before Exit): Document new\n\tuser option.\n\n\t* etc/NEWS: Document new user option.\n\n2016-10-01  Eli Zaretskii  <eliz@gnu.org>\n\n\tSet :version of 'debugger-stack-frame-as-list'\n\n\t* lisp/cus-start.el (debugger-stack-frame-as-list): Give value to\n\tthe ':version' attribute.\n\n2016-10-01  Eli Zaretskii  <eliz@gnu.org>\n\n\tBump Emacs version to 26.0.50\n\n\t* README:\n\t* configure.ac:\n\t* etc/NEWS:\n\t* etc/refcards/ru-refcard.tex:\n\t* msdos/sed2v2.inp:\n\t* src/msdos.c: Increment Emacs version to 26.0.50.\n\t* etc/NEWS.25: New file, copied from etc/NEWS with post-25.1 stuff\n\tmoved to etc/NEWS.\n\n2016-10-01  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid compilation warning on MinGW\n\n\t* src/w32.c: Include string.h, needed for the prototype of\n\t'strerror', shadowed by 'sys_strerror'.  This avoids a compiler\n\twarning about \"no previous prototype\".  The string.h header\n\tmust be included after ms-w32.h, but before \"#undef strerror\".\n\n2016-09-30  Alan Third  <alan@idiocy.org>\n\n\tFix compatibility with macOS 10.12 pmset (bug#24537)\n\n\t* lisp/battery.el (battery-pmset): Recognize and ignore battery id if\n\tpresent in output.\n\n2016-09-30  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tLimit <config.h>\u2019s includes\n\n\tThis follows up on recent problems with the fact that config.h\n\tincludes stdlib.h etc.; some files need to include stdlib.h later.\n\tconfig.h generally should limit itself to includes that are\n\tuniversally safe; outside of MS-Windows, only stdbool.h makes\n\tthe cut among the files currently included.  So, move the\n\tother includes to just the files that need them (Bug#24506).\n\t* configure.ac (config_opsysfile): Remove, as this generic hook\n\tis no longer needed.\n\t* lib-src/etags.c, src/unexmacosx.c, src/w32.c, src/w32notify.c:\n\t* src/w32proc.c (_GNU_SOURCE):\n\tRemove, as it\u2019s OK for config.h to do this now.\n\t* src/conf_post.h: Include <ms-w32.h>, instead of the generic\n\tconfig_opsysfile, for simplicity as this old way of configuring is\n\tnow done only for the MS-Windows port.  Do not include <ms-w32.h>\n\tif DEFER_MS_W32_H, for the benefit of the few files that want its\n\teffects later.  Do not include <alloca.h>, <string.h>, or\n\t<stdlib.h>.  Other files modified to include these headers as\n\tneeded, or to not include headers that are no longer needed.\n\t* src/lisp.h: Include <alloca.h> and <string.h> here, since\n\tsome of the inline functions need them.\n\t* src/regex.c: Include <alloca.h> if not emacs.  (If emacs,\n\twe can rely on SAFE_ALLOCA.)  There is no longer any need to\n\tworry about HAVE_ALLOCA_H.\n\t* src/unexmacosx.c: Rely on config.h not including stdlib.h.\n\t* src/w32.c, src/w32notify.c, src/w32proc.c (DEFER_MS_W32_H):\n\tDefine before including <config.h> first, and include <ms-w32.h>\n\tafter the troublesome headers.\n\n2016-09-30  Vasilij Schneidermann  <v.schneidermann@gmail.com>\n\n\tNew user option 'debugger-stack-frame-as-list'\n\n\t* src/eval.c (syms_of_eval) <debugger-stack-frame-as-list>: New\n\tvariable.\n\t* lisp/cus-start.el (standard): Add debugger-stack-frame-as-list.\n\t* lisp/emacs-lisp/debug.el (debugger-setup-buffer): Adjust\n\tbacktrace processing for the value of debugger-stack-frame-as-list.\n\t* lisp/emacs-lisp/edebug.el (edebug-backtrace): Adjust backtrace\n\tprocessing for the value of debugger-stack-frame-as-list.\n\t* doc/lispref/debugging.texi (Internals of Debugger): Document\n\tdebugger-stack-frame-as-list.\n\t* etc/NEWS: Mention 'debugger-stack-frame-as-list'.\n\n2016-09-30  Aurelien Aptel  <aaptel@suse.com>\n\n\t* src/alloc.c: call only non-null finalizers\n\n2016-09-30  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid compiler warnings in image.c on MS-Windows\n\n\t* src/image.c (DrawText, g_type_init) [WINDOWSNT]: Avoid compiler\n\twarning about unused macros.\n\n2016-09-30  Paul Rankin  <hello@paulwrankin.com>\n\n\t* lisp/outline.el (outline-invisible-p): Only return `t' for\n\tthe 'outline property.\n\n2016-09-29  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix problems found by static checking --with-ns\n\n\tThis is for Fedora 24 when configured with --enable-gcc-warnings.\n\tAlthough it does not fix all the problems, it fixes many of them.\n\t* src/frame.c (XParseGeometry):\n\t* src/nsterm.m (mouseDown:):\n\tMark locals with UNINIT to pacify --enable-gcc-warnings.\n\t* src/image.c (PIX_MASK_DRAW, DefaultDepthOfScreen):\n\tRemove unused macros.\n\t(slurp_file xbm_scan, xbm_read_bitmap_data, xbm_load_image)\n\t(xbm_file_p, xbm_load, xpm_scan, xpm_make_color_table_v)\n\t(xpm_put_color_table_v, xpm_get_color_table_v)\n\t(xpm_make_color_table_h, xpm_put_color_table_h)\n\t(xpm_get_color_table_h, xpm_load_image, xpm_load)\n\t(pbm_next_char, pbm_scan_number, pbm_load, svg_load)\n\t(svg_load_image):\n\t* src/nsfns.m (x_get_string_resource):\n\t* src/nsimage.m (ns_image_from_XBM):\n\tFix pointer signedness problems.\n\t* src/image.c (xpm_load_image, x_build_heuristic_mask, pbm_load)\n\t(imagemagick_load_image): Omit unused locals.\n\t* src/nsfns.m (ns_send_types, ns_return_types, ns_drag_types)\n\t(Fx_open_connection):\n\t* src/nsfont.m (ns_antialias_threshold):\n\tMove extern decl to nsterm.h so it can be checked.\n\t* src/nsmenu.m (svcsMenu, dockMenu):\n\tMove to the only file that uses them, so they can be static.\n\t* src/nsterm.h (find_and_call_menu_selection):\n\t* src/nsterm.m (x_set_frame_alpha):\n\tOmit duplicate decls.\n\t* src/nsterm.h (ns_dump_glyphstring): Mark as EXTERNALLY_VISIBLE.\n\t* src/nsfns.m (ns_tooltip, ns_display_info_for_name)\n\t(ns_set_name_as_filename, x_set_menu_bar_lines)\n\t(x_set_tool_bar_lines, x_set_internal_border_width):\n\t* src/nsterm.m (ns_drag_types, ns_draw_text_decoration):\n\tNow static.\n\t* src/nsfns.m (ns_lisp_to_cursor_type, ns_cursor_type_to_lisp):\n\t* src/nsterm.m (ns_free_indexed_color, ns_color_to_lisp):\n\tRemove; unused.\n\t* src/nsfont.m (ns_dump_glyphstring):\n\t* src/nsterm.m (hide_bell, ns_get_color, ns_color_to_lisp)\n\t(ns_clear_frame, keyDown:):\n\tFix signedness problem with printf arg.\n\t* src/nsterm.h (ns_input_events, ns_finish_events):\n\t* src/nsterm.m (ns_finish_events, hide_bell):\n\tPrototype the decls.\n\t* src/nsterm.m (NSMenuDidBeginTrackingNotification):\n\tOmit unnecessary decl.\n\t(dockMenu):\n\t(mainMenu) [NS_IMPL_COCOA]: Now static, and in this file.\n\t(ns_dumpglyphs_box_or_relief, changeFont:, initFrameFromEmacs:)\n\t(toggleFullScreen:): Use FACE_FROM_ID instead of\n\tFACE_FROM_ID_OR_NULL in contexts where the caller expects the\n\tresult to be non-null.\n\t(applicationShouldTerminate:): Fix misleading indentation.\n\n2016-09-28  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tTurn on more lexical-binding\n\n\t* lisp/dom.el:\n\t* lisp/faces.el:\n\t* lisp/htmlfontify.el: Turn on lexical-binding.\n\t(htmlfontify-string): Use pushnew instead of add-to-list.\n\t* lisp/info-xref.el:\n\t* lisp/isearch.el:\n\t* lisp/man.el:\n\t* lisp/ps-def.el:\n\t* lisp/ps-print.el:\n\t* lisp/replace.el: Turn on lexical-binding.  Require cl-lib at compile\n\ttime.\n\t(multi-occur): Use cl-pushnew instead of add-to-list.\n\t(replace-match-string-symbols): Remove unused lexical variable.\n\t(replace-search, replace-highlight): Fix argument shadowing.\n\t* lisp/sort.el:\n\t* lisp/xml.el: Turn on lexical-binding.\n\t(xml--parse-buffer): Use push instead of add-to-list.\n\t* lisp/xt-mouse.el: Turn on lexical-binding.\n\n2016-09-27  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* admin/notes/bug-triage: Do not mention closed bugs\n\n\t* admin/notes/bug-triage: Do not mention closed bugs, they are\n\tsuppressed by default in debbugs-{gnu,org}.\n\n2016-09-27  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* etc/PROBLEMS: Remove problem Bug#22814, again.\n\n2016-09-26  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tStick with debbugs-supported tags in triage\n\n\t* admin/notes/bug-triage: Stick to the tag \"unreproducible\", which\n\tdebbugs supports, rather than suggesting \"doneunreproducible\" or\n\t\"unreproducable\".\n\n2016-09-26  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\t9fc9988 Improve documentation of 'expand-abbrev' and wrapper hooks\n\tc14a1d4 Minor copyedits of MS-Windows installation instructions\n\tf281924 Fix display of cursor when 'blink-cursor-delay' has small value\n\n\t# Conflicts:\n\t#\tlisp/minibuffer.el\n\n2016-09-26  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\t0ae9a81 Document 'timerp'\n\t2c72c46 Improve documentation of overlay priorities\n\tf6fa160 Fix 'dired-compress-files'\n\t2b8c5f0 Update commentary of STRING_CHAR and FETCH_MULTIBYTE_CHAR\n\n\t# Conflicts:\n\t#\tlisp/dired.el\n\t#\tsrc/buffer.h\n\t#\tsrc/character.h\n\n2016-09-26  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\tcf9e174 Document the optional zlib library in MS-Windows builds\n\t84eb144 ; * admin/notes/unicode: Mention BidiCharacterTest.txt.\n\t73c67dd Fix tagging of DEFUN by etags\n\tea1960b Avoid resetting track-mouse by mouse clicks\n\t505fef3 Improve nt/README.W32 instructions\n\t1229cc4 Document that desktop file overrides frame parameters\n\tf0eb70d ; Update ChangeLog.2 and ldef-boot.el for Emacs 25.1 release\n\n\t# Conflicts:\n\t#\tChangeLog.2\n\t#\tadmin/notes/unicode\n\t#\tlisp/ldefs-boot.el\n\n2016-09-26  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\t0ffc9ce Update admin/authors.el\n\t0ad7410 Update Antinews in ELisp manual\n\tea0f750 Fix comments on window height macros\n\t0bbdeed Fix 'url-http-create-request' when cookies are used\n\t0045998 Fix cross reference in frames.texi\n\t1392894 ; * etc/DEBUG: Minor copyedits.\n\t304a5c8 ; * etc/DEBUG: Improve documentation of getting control to GDB.\n\t56bf7d7 Fix regexp-opt documentation (bug #17862)\n\t803ad6f ; Fix documentation of seq-subseq\n\ted4530d * lisp/emacs-lisp/gv.el (gv-ref): Fix example of PLACE in doc...\n\t88ea396 ; Spelling fixes\n\t17197d0 Fix tags-query-replace docstring\n\t80a7f8b Clarify documentation of precision in format specs\n\t88a5052 Improve and clarify documentation of subprocesses\n\t89eb09f * etc/PROBLEMS: Mention gnutls-cli 3.5.3 (Bug#24247).\n\n\t# Conflicts:\n\t#\tetc/PROBLEMS\n\t#\tsrc/process.c\n\n2016-09-26  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* lisp/net/tramp-compat.el (tramp-compat-funcall): Don't use `subrp'.\n\n2016-09-24  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix 'dired-mark-extension' with prefix argument\n\n\t* lisp/dired-x.el (dired-mark-extension): Allow to specify\n\tMARKER-CHAR interactively as a string, not as a character's\n\tcodepoint.  (Bug#24518)\n\n\t* doc/misc/dired-x.texi (Advanced Mark Commands): Document the\n\tbehavior when invoked with a prefix arg.\n\n2016-09-24  Simen Heggest\u00f8yl  <simenheg@gmail.com>\n\n\tSupport completion of classes and IDs in CSS mode\n\n\t* lisp/textmodes/css-mode.el (css-class-list-function): New variable\n\tholding the function to call for retrieving completions of class\n\tnames.\n\t(css-id-list-function): New variable holding the function to call for\n\tretrieving completions of IDs.\n\t(css--foreign-completions): New function for retrieving completions\n\tfrom other buffers.\n\t(css--complete-selector): Support completing HTML class names and IDs\n\tfrom other buffers in addition to completing HTML tags.\n\n\t* lisp/textmodes/sgml-mode.el (html--buffer-classes-cache): New\n\tvariable holding a cache for `html-current-buffer-classes'.\n\t(html--buffer-ids-cache): New variable holding a cache for\n\t`html-current-buffer-ids'.\n\t(html-current-buffer-classes): New function returning a list of class\n\tnames used in the current buffer.\n\t(html-current-buffer-ids): New function returning a list of IDs used\n\tin the current buffer.\n\t(html-mode): Set `css-class-list-function' and `css-id-list-function'\n\tto `html-current-buffer-classes' and `html-current-buffer-ids'\n\trespectively.\n\n2016-09-24  Eli Zaretskii  <eliz@gnu.org>\n\n\tUpdate test suite files due to removal of test/lisp/legacy\n\n\t* test/README: Reference file-organization.org.\n\t* test/file-organization.org: Remove the description of files in\n\tthe lisp/legacy/ directory.\n\n2016-09-24  Eli Zaretskii  <eliz@gnu.org>\n\n\tIncorporate syntax-tests in lisp-tests.\n\n\t* test/lisp/emacs-lisp/lisp-tests.el: Add tests from\n\ttest/lisp/legacy/syntax-tests.el.\n\t* test/lisp/legacy/syntax-tests.el: File deleted.\n\n2016-09-24  Eli Zaretskii  <eliz@gnu.org>\n\n\tIncorporate occur-tests in replace-tests\n\n\t* test/lisp/replace-tests.el: Add tests from\n\ttest/lisp/legacy/occur-tests.el.\n\t* test/lisp/legacy/occur-tests.el: File deleted.\n\n2016-09-24  Eli Zaretskii  <eliz@gnu.org>\n\n\tIncorporate lexbind-tests.el in bytecomp-test.el\n\n\t* test/lisp/emacs-lisp/bytecomp-tests.el: Added tests from\n\ttest/lisp/legacy/lexbind-tests.el.\n\t* test/lisp/legacy/lexbind-tests.el: File deleted.\n\n2016-09-24  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tImprove integer overflow handling a bit\n\n\t* src/charset.c (read_hex): Use INT_LEFT_SHIFT_OVERFLOW for clarity.\n\tThe machine code is the same on my platform.\n\t* src/doprnt.c (doprnt):\n\t* src/emacs-module.c (module_funcall):\n\t* src/font.c (font_intern_prop):\n\t* src/keyboard.c (Frecursion_depth):\n\t* src/lread.c (read1):\n\tUse WRAPV macros instead of checking overflow by hand.\n\t* src/editfns.c (hi_time, time_arith, decode_time_components):\n\t* src/emacs-module.c (Fmodule_load):\n\tSimplify by using FIXNUM_OVERFLOW_P.\n\t* src/emacs-module.c: Include intprops.h.\n\t* src/xdisp.c (percent99): New function.\n\t(decode_mode_spec): Use it to simplify overflow avoidance and\n\tformatting of %p and %P.\n\n2016-09-24  Eli Zaretskii  <eliz@gnu.org>\n\n\tIncorporate core-elisp-tests in lisp-tests\n\n\t* test/lisp/emacs-lisp/lisp-tests.el: Added tests from\n\ttest/lisp/legacy/core-elisp-tests.el.\n\t* test/lisp/legacy/core-elisp-tests.el: File removed.\n\n2016-09-24  Eli Zaretskii  <eliz@gnu.org>\n\n\tMove coding-tests.el and decoder-test.el to their places\n\n\t* test/src/coding-tests.el: Added all the tests from\n\ttest/lisp/legacy/decoder-tests.el.\n\t* test/lisp/legacy/decoder-tests.el: File deleted.\n\n2016-09-23  Vibhav Pant  <vibhavp@gmail.com>\n\n\tUse correct TYPE value for displaying error messages in (erc-display-message)\n\n2016-09-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tBump the version to 25.2.50\n\n\t* README:\n\t* configure.ac:\n\t* etc/NEWS:\n\t* msdos/sed2v2.inp: Increment the Emacs version to 25.2.50.\n\n2016-09-22  Tino Calancha  <tino.calancha@gmail.com>\n\n\tibuffer-do-view-other-frame: Display each buffer in a new frame\n\n\t* lisp/ibuffer.el (ibuffer-do-view-1):\n\tWhen TYPE equals 'other-frame, then display each buffer\n\tin a new frame (Bug#24086).\n\n2016-09-22  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tUpdate from gnulib\n\n\tThis incorporates:\n\t2016-09-22 stdint: port to GCC 7\n\t2016-09-22 limits-h, stdint: don't assume extensions\n\t* doc/misc/texinfo.tex, m4/limits-h.m4, m4/stdint.m4: Copy from gnulib.\n\n2016-09-22  Alan Mackenzie  <acm@muc.de>\n\n\t* lisp/progmodes/cc-engine.el (c-forward-decl-or-cast-1): Fix coding error\n\n2016-09-21  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort recent flexmember changes to NetBSD\n\n\tThe NetBSD library supports localtime_rz directly, and without\n\tthis change 'configure' omitted the flexmember test that is marked\n\tas conditional on localtime_rz.  Emacs now needs to use\n\tflexmember.m4 even when localtime_rz works.\n\tProblem reported by Thomas Klausner.\n\t* admin/merge-gnulib (GNULIB_MODULES): Add flexmember.\n\t* lib/gnulib.mk, m4/gnulib-comp.m4: Regenerate.\n\n2016-09-21  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* doc/misc/texinfo.tex: Copy from gnulib.\n\n2016-09-21  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* lisp/net/tramp.el (tramp-clear-passwd): Call also `auth-source-forget'.\n\n2016-09-20  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tUse flexmembers on IBM XL C for AIX\n\n\tThis removes a workaround where Emacs did not use flexible\n\tarray members when compiled with IBM XL C.  Instead, avoid\n\tthe problem by making the aliasing issues more obvious to\n\tthis compiler.\n\t* admin/merge-gnulib: Don\u2019t remove m4/flexmember.m4.\n\t* m4/flexmember.m4: Copy from gnulib.\n\t* configure.ac (AC_C_FLEXIBLE_ARRAY_MEMBER): Remove workaround.\n\t* src/alloc.c (allocate_string_data): Rephrase to avoid aliasing\n\tproblem that would otherwise mess up code generated for flexible\n\tarray members by IBM XL C for AIX, V12.1.\n\t* src/conf_post.h (FLEXIBLE_ARRAY_MEMBER): Remove; now done\n\tby gnulib code.\n\n2016-09-19  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix a problem with Tramp when the temporary dir isn't C:/Temp on w32\n\n\t* lisp/net/tramp-sh.el (tramp-sh-handle-expand-file-name): Don't use\n\t`tramp-drop-volume-letter' any longer, it causes collateral\n\tdamages.  Reported by Chris Zheng <chriszheng99@gmail.com>.\n\n2016-09-17  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort January __morecore changes to AIX 7.1\n\n\t* src/vm-limit.c (__MALLOC_HOOK_VOLATILE, __morecore)\n\t(__after_morecore_hook):\n\t* src/ralloc.c (__morecore):\n\tDeclare if DOUG_LEA_MALLOC is not defined, not if HAVE_MALLOC_H is\n\tnot defined.  <malloc.h> does not declare these in AIX 7.1.\n\n2016-09-17  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDefine _GNU_SOURCE in files delaying config.h\n\n\tProblem reported by Richard Copley in:\n\thttps://lists.gnu.org/r/emacs-devel/2016-09/msg00440.html\n\t* src/w32.c, src/w32notify.c, src/w32proc.c (_GNU_SOURCE):\n\tDefine early.\n\n2016-09-17  Eli Zaretskii  <eliz@gnu.org>\n\n\tUpdate the bidi test code and data\n\n\t* test/manual/BidiCharacterTest.txt: Import the version from\n\tUnicode Standard 9.0.0.\n\t* test/manual/biditest.el (biditest-generate-testfile): Allow 'x'\n\tin the 4th field of the test data.\n\n2016-09-17  Tino Calancha  <tino.calancha@gmail.com>\n\n\tibuffer-do-toggle-read-only: Fix unused argument\n\n\t* lisp/ibuffer.el (ibuffer-do-toggle-read-only): Call\n\t'read-only-mode' with ARG when its an integer.\n\tClarify the meaning of ARG in doc string.\n\n2016-09-17  Alan Mackenzie  <acm@muc.de>\n\n\tImprove accuracy of line/column numbers in byte compiler's warning messages.\n\n\t* lisp/emacs-lisp/bytecomp.el (byte-compile-set-symbol-position): ensure new\n\tvalue of byte-compile-last-position is not lower than old value.\n\t(byte-compile-function-warn): call byte-compile-set-symbol-position.\n\n2016-09-17  Michael Albinus  <michael.albinus@gmx.de>\n\n\tMinor Tramp tweaks\n\n\t* lisp/net/tramp.el (tramp-get-buffer): Reuse connection\n\tproperty \"process-buffer\" if already existing.\n\t(tramp-connectable-p): Suppress debug messages.\n\n2016-09-16  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDefine _GNU_SOURCE in unexmacosx.c\n\n\tProblem reported by Bob Halley in:\n\thttps://lists.gnu.org/r/emacs-devel/2016-09/msg00427.html\n\t* src/unexmacosx.c (_GNU_SOURCE): Define if not already defined.\n\n2016-09-16  Alan Mackenzie  <acm@muc.de>\n\n\tC Mode: Fix mis-fontification of macro invocation as function declaration\n\n\tThis happened with a macro invocation which was followed by a statement block\n\tin braces.\n\n\t* lisp/progmodes/cc-engine.el (c-forward-decl-or-cast-1): CASE 11: distinguish\n\tbetween contexts nil and top, being less permissive in the former case.\n\t(c-just-after-func-arglist-p): call c-forward-decl-or-cast-1 with context top.\n\n2016-09-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove the doc string of 'format'\n\n\t* src/editfns.c (Fformat): Fix ambiguity in the doc string's usage\n\tof a literal period.  (Bug#24407)\n\n2016-09-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove doc strings in whitespace.el\n\n\t* lisp/whitespace.el (whitespace-mode, whitespace-newline-mode)\n\t(global-whitespace-mode, global-whitespace-newline-mode): Improve\n\tthe doc strings.  (Bug#24413)\n\n2016-09-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove detectability of 'next-logical-line' and 'previous-logical-line'\n\n\t* lisp/simple.el (next-line, previous-line): Mention\n\t'next-logical-line' and 'previous-logical-line' in the doc\n\tstrings.  (Bug#24443)\n\n2016-09-16  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tUpdate from gnulib\n\n\tThis incorporates:\n\t2016-09-16 extensions: fix typo in comment\n\t2016-09-16 stdio: don't redefine __USE_MINGW_ANSI_STDIO\n\t* m4/extensions.m4, m4/stdio_h.m4: Copy from gnulib.\n\n2016-09-15  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPrefer now-standard int width macros\n\n\t* src/data.c (ULL_WIDTH):\n\t* src/lisp.h (EMACS_INT_WIDTH, BITS_PER_BITS_WORD):\n\t* src/lread.c (read_integer):\n\t* src/term.c (produce_glyphless_glyph):\n\t* src/xterm.c (x_send_scroll_bar_event):\n\tUse *_WIDTH macros instead of CHAR_BIT * sizeof.\n\t* src/data.c (ULL_WIDTH): Rename from BITS_PER_ULL for consistency\n\twith the *_WIDTH standard macros.  All uses changed.\n\t* src/gmalloc.c (INT_BIT): Remove.  All uses replaced with INT_WIDTH.\n\t* src/lisp.h (EMACS_INT_WIDTH): Rename from BITS_PER_EMACS_INT\n\tfor consistency with the *_WIDTH standard macros.  All uses changed.\n\t(BITS_PER_CHAR): Remove; all uses replaced by CHAR_BIT.  This must\n\tbe the same as CHAR_WIDTH and avoids confusion with Elisp\n\tchar-width, which counts columns not bits.\n\t(BITS_PER_SHORT): Remove; all uses replaced by SHRT_WIDTH.\n\t(BITS_PER_LONG): Remove; all uses replaced by LONG_WIDTH.\n\t* src/lread.c: Do not include limits.h since CHAR_BIT is no longer\n\tused directly.\n\n2016-09-15  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tUpdate from gnulib\n\n\tThis incorporates:\n\t2016-09-15 stdint: support new _WIDTH macros\n\t2016-09-15 limits-h: new module\n\t2016-09-15 sys_types: avoid glibc 2.25 warnings about major()\n\t2016-09-15 extensions: port to more ISO C TSes\n\t2016-09-13 intprops: new macro TYPE_WIDTH\n\t2016-09-13 extensions: port to recent ISO C TRs\n\t* .gitignore: Add lib/limits.h.\n\t* doc/misc/texinfo.tex, lib/ftoastr.h, lib/intprops.h:\n\t* lib/stdint.in.h, m4/extensions.m4, m4/stdint.m4, m4/stdio_h.m4:\n\t* m4/sys_types_h.m4: Copy from gnulib.\n\t* lib/gnulib.mk, m4/gnulib-comp.m4: Regenerate.\n\t* lib/limits.in.h, m4/limits-h.m4: New files, copie from gnulib.\n\t* nt/gnulib.mk: Merge changes from lib/gnulib.mk.\n\n2016-09-15  Michael Albinus  <michael.albinus@gmx.de>\n\n\tRework fixing Bug#24432\n\n\t* lisp/net/tramp.el (tramp-get-buffer): Set connection property\n\t\"process-buffer\" in order to mark connection as active.\n\n\t* lisp/net/tramp-cache.el (tramp-get-hash-table)\n\t(tramp-set-connection-property)\n\t(tramp-dump-connection-properties): Do not use \"active\" property.\n\t(tramp-list-connections): Use \"process-buffer\" property.\n\n\t* lisp/net/tramp-cmds.el (tramp-cleanup-connection): Flush process\n\tproperties prior deletion of process.\n\n2016-09-14  Johan Bockg\u00e5rd  <bojohan@gnu.org>\n\n\t* lisp/emacs-lisp/cl-macs.el (cl-defstruct): Fix debug spec (Bug#24430).\n\n\t* lisp/emacs-lisp/edebug.el (defun): Fix debug spec.\n\n2016-09-14  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid compiler warning on MS-Windows due to clone_file\n\n\t* src/fileio.c (clone_file): Condition on !WINDOWSNT, since the\n\tcall to it is not compiled in that build, and having it defined\n\tcauses compiler warnings.\n\n2016-09-14  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid aborts in GC due to abort_on_gc\n\n\t* src/lisp.h:\n\t* src/print.c (Fprin1_to_string):\n\t* src/eval.c (signal_or_quit):\n\t* src/alloc.c (garbage_collect_1): Remove declarations, setting,\n\tand testing the value of abort_on_gc.  It is no longer needed, and\n\tusing it causes rare aborts in GC for no good reason.  (Bug#23912)\n\n2016-09-14  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix Bug#24432\n\n\t* lisp/net/tramp-cache.el (tramp-get-hash-table): Initialize a\n\tconnection as inactive.\n\t(tramp-set-connection-property): Make the connection active.\n\t(tramp-dump-connection-properties): Don't save \"active\" property.\n\t(tramp-list-connections): List only active connections.  (Bug#24432)\n\n2016-09-14  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDon't bug out on all-whitespace URLs\n\n\t* lisp/net/shr.el (shr-expand-url): Don't bug out on\n\tdegenerate all-whitespace URLs.\n\n2016-09-13  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\tsieve-manage.el: Rename sieve-manage-ignore-broken-tls\n\n\t* lisp/net/sieve-manage.el (sieve-manage-ignore-starttls):\n\tRename from sieve-manage-ignore-broken-tls.  If it is set,\n\tsieve-manage will never use STARTTLS even if the server says\n\tit is capable (but may be broken).\n\n2016-09-13  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort to ISO/IEC TS 18661-1:2014\n\n\t* src/character.h (CHARACTER_WIDTH): Rename from CHAR_WIDTH.\n\tAll uses changed.\n\n2016-09-13  Tino Calancha  <tino.calancha@gmail.com>\n\n\tdired-jump: Expand file-name before dired-goto-file call\n\n\tCommand dired-goto-file requires its argument to be an absolute\n\tfile name.  Interactively FILE-NAME is read with read-file-name,\n\twhich could return an abbreviated file name (Bug#24409).\n\t* lisp/dired-x.el (dired-jump): Use expand-file-name on FILE-NAME.\n\tClarify in doc string the meaning of arg FILE-NAME.\n\n2016-09-13  Tino Calancha  <tino.calancha@gmail.com>\n\n\tAdd test for Bug#21454\n\n\t* test/lisp/legacy/files-tests.el (files-test-bug-21454): New test.\n\n2016-09-12  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\t* lisp/net/sieve-manage.el (sieve-manage-ignore-broken-tls): Add :version.\n\n2016-09-12  TSUCHIYA Masatoshi  <tsuchiya@namazu.org>\n\n\tsieve.el: Make the buffer to edit unmodified initially (bug#24423)\n\n\t* lisp/net/sieve.el (sieve-edit-script):\n\tMake the buffer to edit be not modified-p initially (bug#24423).\n\n2016-09-12  TSUCHIYA Masatoshi  <tsuchiya@namazu.org>\n\n\tsieve-manage.el: Allow user to avoid STARTTLS capability test (bug#24422)\n\n\t* lisp/net/sieve-manage.el\n\t(sieve-manage-ignore-broken-tls): New user option.\n\t(sieve-manage-open-server):\n\tDon't test STARTTLS capability if the option is set (bug#24422).\n\n2016-09-12  Michal Nazarewicz  <mina86@mina86.com>\n\n\tFix compiler thinking width and height may be unitialized in frame.c\n\n\tThis fixes the following warning:\n\n\t\tframe.c: In function \u2018x_set_frame_parameters\u2019:\n\t\tframe.c:3329:25: error: \u2018width\u2019 may be used uninitialized in\n\t\t\tthis function [-Werror=maybe-uninitialized]\n\t\t       adjust_frame_size (f, width_change ? width : -1,\n\t                         ^\n\n\t* src/frame.c (x_set_frame_parameters): Drop width_changed and\n\theight_changed variables in favor of storing that information in\n\twidth and height variables.\n\n2016-09-12  Michal Nazarewicz  <mina86@mina86.com>\n\n\tFix compiler thinking tmpdir may be unitialized in emacsclient\n\n\tThis fixes the following warning:\n\n\t\temacsclient.c: In function \u2018set_local_socket\u2019:\n\t\t/usr/include/x86_64-linux-gnu/bits/string3.h:111:3: error:\n\t\t\t\u2018tmpdir\u2019 may be used uninitialized in this function\n\t\t\t[-Werror=maybe-uninitialized]\n\t\t   return __builtin___stpcpy_chk (__dest, __src, __bos (__dest));\n\t\t   ^\n\t\temacsclient.c:1197:17: note: \u2018tmpdir\u2019 was declared here\n\t\t     const char *tmpdir;\n\n\t* lib-src/emacsclient.c (set_local_socket): Get rid of use_tmpdir\n\tvariable and instead use tmpdir being non-NULL as sign that it should\n\tbe used.\n\n2016-09-12  Tino Calancha  <tino.calancha@gmail.com>\n\n\timage-dired: Signal an error before calling a missing executable\n\n\tReverts commit ca473907\n\tAdd a defun to check if an executable exists, and call it\n\ton each function using an external program: when the executable\n\tis not available signal an error.\n\tSee discussion on:\n\thttps://lists.gnu.org/r/emacs-devel/2016-09/msg00135.html\n\t* lisp/image-dired.el (image-dired--check-executable-exists): New defun.\n\tThrow and error when the executable arg is missing.\n\t(image-dired-display-image, image-dired-rotate-thumbnail)\n\t(image-dired-rotate-original, image-dired-set-exif-data)\n\t(image-dired-get-exif-data):\n\tUse it.\n\n2016-09-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix daemon shutdown when emacs-kill-hooks ask questions\n\n\t* lisp/server.el (server-start): Put the server's kill-emacs-hook\n\tlast, to allow other hooks to have a frame to interact with the\n\tuser.  (Bug#24326)\n\n2016-09-12  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* src/casefiddle.c (casify_word): Simplify.\n\n\t* src/casefiddle.c (casify_word): Return Qnil.\n\n2016-09-12  Michal Nazarewicz  <mina86@mina86.com>\n\n\tRefactor common code in {upcase,downcase,capitalize}-word functions\n\n\t* src/casefiddle.c (operate_on_word): Removed in favor of\u2026\n\t(casify_word) \u2026new function which does what operate_on_word did plus\n\twhat all of the common code from *-word functions.\n\t(upcase-word, downcase-word, capitalize-word): Move code common between\n\tthose functions (pretty much the whole body of those functions) into\n\tcasify_word and use that instead of now deleted operate_on_word.\n\n2016-09-11  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* doc/lispref/files.texi: Remove @vindex.\n\n2016-09-11  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRemove unnecessary ref to coreutils manual\n\n\t* doc/lispref/files.texi: Document write-region-inhibit-fsync.\n\n2016-09-11  Alan Mackenzie  <acm@muc.de>\n\n\tCorrectly fontify C++ direct initializations with parens inside functions\n\n\tOr, more clearly, when something looks like a function declaration and it's\n\tinside a function, fontify it as a direct initialization.\n\n\tFor this purpose, introduce a \"brace stack\" for each buffer, where an entry on\n\tthe brace stack states how deeply nested a particular position is inside\n\tbraces inside a \"top level\", which includes classes and namespaces.\n\n\tAlso introduce a new \"context\", \"top\", with which c-font-lock-declarations\n\tsignals to c-forward-decl-or-cast-1 that point is at the top level.\n\n\t* lisp/progmodes/cc-langs.el (c-get-state-before-change-functions): add\n\tc-truncate-bs-cache.\n\t(c-flat-decl-block-kwds, c-brace-stack-thing-key, c-brace-stack-no-semi-key)\n\t(c-type-decl-operator-prefix-key): new language constants/variables.\n\n\t* lisp/progmodes/cc-engine.el (c-bs-interval, c-bs-cache, c-bs-cache-limit)\n\t(c-bs-prev-pos, c-bs-prev-stack): New mostly local variables for the brace\n\tstack cache.\n\t(c-init-bs-cache, c-truncate-bs-cache, c-truncate-bs-cache, c-brace-stack-at)\n\t(c-bs-at-toplevel-p): New functions which manipulate the brace stack (cache).\n\t(c-find-decl-prefix-search): Keep track of whether we're at top level.\n\t(c-find-decl-spots): New local variable cfd-top-level which records what it\n\tsays.  On calling cfd-fun, pass cfd-top-level as an additional argument.\n\t(c-forward-declarator): Add new element DECORATED to the result list.  Set it\n\tto non-nil when a match for c-type-decl-operator-prefix-key is found.\n\t(c-forward-decl-or-cast-1): Handle the newly introduced context \"top\".\n\tIntroduce \"CASE 9.5\", which recognizes direct initializations.\n\n\t* lisp/progmodes/cc-fonts.el (c-font-lock-complex-decl-prepare)\n\t(c-font-lock-enum-tail, c-font-lock-cut-off-declarators)\n\t(c-font-lock-enclosing-decls, c-simple-decl-matchers, c-basic-matchers-after):\n\tAdd appropriate `not-top' argument to calls to c-font-lock-declarators.\n\t(c-font-lock-declarators): Additional parameter `not-top'.  Use not-top to\n\tparticipate in the decision whether to fontify an identifier as a function or\n\ta variable.\n\t(c-font-lock-declarations): The internal lambda function takes an additional\n\targument `toplev' from c-find-decl-spots, which it uses in determining the\n\t\"context\" of a declaration.  Add appropriate `not-top' argument to calls to\n\tc-font-lock-declarators.\n\t(c-font-lock-objc-methods): Add extra parameter to internal lambda function,\n\tlike for c-font-lock-declarators.\n\n\t* lisp/progmodes/cc-mode.el (c-basic-common-init): Initialize the brace stack\n\tcache.\n\n2016-09-11  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid signaling errors when computing \"Stop\" in GDB menu\n\n\t* lisp/progmodes/gdb-mi.el (gdb-show-stop-p): Don't assume\n\t'gdb-running-threads-count' must have a numeric value.\n\t(Bug#24414)\n\n2016-09-11  Philipp Stephani  <phst@google.com>\n\n\tStop calling \u2018byte-compile-log-warning\u2019\n\n\tFor errors, use \u2018byte-compile-report-error\u2019 instead so that the error\n\tis registered and causes compilation to fail (Bug#24359).\n\n\tFor warnings, use \u2018byte-compile-warn\u2019 instead so that\n\t\u2018byte-compile-error-on-warn\u2019 is honored (Bug#24360).\n\n\t* lisp/emacs-lisp/macroexp.el (macroexp--funcall-if-compiled)\n\t(macroexp--warn-and-return): Use \u2018byte-compile-warn\u2019 instead of\n\t\u2018byte-compile-log-warning\u2019.\n\n\t* lisp/emacs-lisp/bytecomp.el (byte-compile-form, byte-compile-unfold-bcf)\n\t(byte-compile-setq, byte-compile-funcall): Use\n\t\u2018byte-compile-report-error\u2019 instead of \u2018byte-compile-log-warning\u2019.\n\t(byte-compile-log-warning): Convert comment to documentation\n\tstring.  Explain that the function shouldn\u2019t be called directly.\n\t(byte-compile-report-error): Add optional FILL argument.\n\n\t* lisp/emacs-lisp/cconv.el (cconv-convert, cconv--analyze-use)\n\t(cconv--analyze-function, cconv-analyze-form): Use\n\t\u2018byte-compile-warn\u2019 instead of \u2018byte-compile-log-warning\u2019.\n\n\t* lisp/emacs-lisp/byte-opt.el (byte-compile-inline-expand): Use\n\t\u2018byte-compile-warn\u2019 instead of \u2018byte-compile-log-warning\u2019.\n\n\t* lisp/subr.el (add-to-list): Use \u2018byte-compile-report-error\u2019 instead\n\tof \u2018byte-compile-log-warning\u2019.\n\t(do-after-load-evaluation): Use \u2018byte-compile-warn\u2019 instead of\n\t\u2018byte-compile-log-warning\u2019.\n\n2016-09-10  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* etc/NEWS: Remove comment lost in emacs-25 merge.\n\n2016-09-10  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDocument file synchronization issues\n\n\t* doc/lispref/files.texi (Files and Storage): New section.\n\n2016-09-10  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tcopy-file now uses GNU/Linux file cloning\n\n\tFrom a suggestion by Kieran Colford (see Bug#23904).\n\t* configure.ac: Check for linux/fs.h.\n\t* src/fileio.c [HAVE_LINUX_FS_H]: Include sys/ioctl.h and linux/fs.h.\n\t(clone_file): New function.\n\t(Fcopy_file): Use it.\n\n2016-09-10  Alan Third  <alan@idiocy.org>\n\n\tInvert y coord of NS image files (bug#7847)\n\n\t* src/nsterm.m (ns_dumpglyphs_image): Invert y co-ordinate of the image\n\twhen compositing.\n\n2016-09-10  Noam Postavsky  <npostavs@gmail.com>\n\n\tDon't require isearch-update before isearch-done\n\n\tIt is useful to be able to call `isearch-done' unconditionally to\n\tensure a non-isearching state.\n\n\t* lisp/isearch.el (isearch-done): Check that `isearch--current-buffer'\n\tis a live buffer before using it (Bug #21091).\n\t* test/lisp/isearch-tests.el (isearch--test-done): Test it.\n\n2016-09-09  Simen Heggest\u00f8yl  <simenheg@gmail.com>\n\n\t* lisp/emacs-lisp/ring.el: Use lexical-binding\n\n\t* lisp/emacs-lisp/ring.el (ring-elements): Don't use the RESULT\n\targument of `dotimes' when the iteration variable isn't referred by\n\tit.\n\t(ring-member): Don't pass nil as the RESULT argument of `dotimes'\n\tsince it's the default.\n\n2016-09-08  Michal Nazarewicz  <mina86@mina86.com>\n\n\tSplit regex character class test into smaller chunks\n\n\tHaving one test for all character classes it is not always trivial to\n\tdetermine which class is failing.  This happens when failure is caused\n\tby \u2018(should (equal (point) (point-max)))\u2019 not being met.\n\n\tWith per-character class tests, it is immidiatelly obvious which test\n\tcauses issues plus tests for all classes are run even if some of them\n\tfail.\n\n\t* test/src/regex-tests.el (regex-character-classes): Delete and split\n\tinto\u2026\n\t(regex-tests-alnum-character-class, regex-tests-alpha-character-class,\n\tregex-tests-ascii-character-class, regex-tests-blank-character-class,\n\tregex-tests-cntrl-character-class, regex-tests-digit-character-class,\n\tregex-tests-graph-character-class, regex-tests-lower-character-class,\n\tregex-tests-multibyte-character-class,\n\tregex-tests-nonascii-character-class,\n\tregex-tests-print-character-class, regex-tests-punct-character-class,\n\tregex-tests-space-character-class,\n\tregex-tests-unibyte-character-class,\n\tregex-tests-upper-character-class, regex-tests-word-character-class,\n\tregex-tests-xdigit-character-class): \u2026new tests.\n\n2016-09-08  Michal Nazarewicz  <mina86@mina86.com>\n\n\tDon\u2019t allocate char-table\u2019s extra slots in regexp-out-charset\n\n\t* lisp/emacs-lisp/regexp-opt.el (regexp-opt-charset): Do not use\n\t'case-table as charmap char-table\u2019s property.  The function has nothing\n\tto do with casing and in addition using 'case-table causes unnecessary\n\textra slots to be allocated which \u2018regexp-opt-charset\u2019 does not use.\n\n2016-09-08  Michal Nazarewicz  <mina86@mina86.com>\n\n\tRemove dead loop iterations in regex.c\n\n\tRE_CHAR_TO_MULTIBYTE(c) yields c for ASCII characters and a byte8\n\tcharacter for c \u2265 0x80.  Furthermore, CHAR_BYTE8_P(c) is true only\n\tfor byte8 characters.  This means that\n\n\t\tc = RE_CHAR_TO_MULTIBYTE (ch);\n\t\tif (! CHAR_BYTE8_P (c) && re_iswctype (c, cc))\n\n\tis equivalent to:\n\n\t\tc = c;\n\t\tif (! false && re_iswctype (c, cc))\n\n\tfor 0 \u2aac c < 0x80, and\n\n\t\tc = BYTE8_TO_CHAR (c);\n\t\tif (! true && re_iswctype (c, cc))\n\n\tfor 0x80 \u2aac c < 0x100.  In other words, the loop never executes for\n\tc \u2265 0x80 and RE_CHAR_TO_MULTIBYTE call is unnecessary for c < 0x80.\n\n\t* src/regex.c (regex_compile): Simplyfy a for loop by eliminating\n\tdead iterations and unnecessary macro calls.\n\n2016-09-08  Michal Nazarewicz  <mina86@mina86.com>\n\n\tReplace decimalnump with alphanumericp\n\n\tdecimalnump was used in regex.c only in ISALNUM macro which ored it with\n\talphabeticp.  Because both of those functions require Unicode general\n\tcategory lookup, this resulted in unnecessary lookups (if alphabeticp\n\treturn false decimalp had to perform another lookup).  Drop decimalnump\n\tin favor of alphanumericp which combines decimelnump with alphabeticp.\n\n\t* src/character.c (decimalnump): Remove in favor of\u2026\n\t(alphanumericp): \u2026new function.\n\n\t* src/regex.c (ISALNUM): Use alphanumericp.\n\n2016-09-08  Michal Nazarewicz  <mina86@mina86.com>\n\n\tRemove inaccurate comment in regex.c\n\n\t* src/regex.c (regex_compile): Remove comment indicating that wctype of\n\tsome character classes may be negative.  All wctypes are in fact\n\tnon-negative.\n\n2016-09-08  Michal Nazarewicz  <mina86@mina86.com>\n\n\tSTRING_CHAR does not unify characters; update documentation\n\n\t* src/character.h (STRING_CHAR): Update doc.\n\t* src/buffer.h (FETCH_MULTIBYTE_CHAR): Update doc.  While at it, change\n\tthe function to use BYTE_POS_ADDR instead of open-coding it.\n\n2016-09-08  Simen Heggest\u00f8yl  <simenheg@gmail.com>\n\n\tAdd tests for ring.el\n\n\t* test/lisp/emacs-lisp/ring-tests.el: New file with tests for ring.el.\n\n2016-09-07  Martin Rudalics  <rudalics@gmx.at>\n\n\tNew file test/src/marker-tests.el\n\n2016-09-07  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort flexible array members to GCC + valgrind\n\n\tThese changes are needed to conform to the C standard's rule for\n\tallocating structs containing flexible array members.  C11 says\n\tthat malloc (offsetof (struct s, m) + n) does not suffice to\n\tallocate a struct with an n-byte tail; instead, malloc\u2019s arg\n\tshould be rounded up to the nearest multiple of alignof (struct s).\n\tAlthough this is arguably a defect in C11, gcc -O2 + valgrind\n\tsometimes complains when this rule is violated, and when debugging\n\tit\u2019s better to keep valgrind happy.\n\tFor details please see the thread containing the message at:\n\thttps://gcc.gnu.org/ml/gcc-patches/2016-09/msg00416.html\n\t* lib-src/ebrowse.c, src/alloc.c, src/image.c, src/process.c:\n\tInclude flexmember.h.\n\t* lib-src/ebrowse.c (add_sym, add_member, make_namespace)\n\t(register_namespace_alias):\n\t* src/alloc.c (SDATA_SIZE, allocate_string_data):\n\t* src/image.c (xpm_cache_color, imagemagick_create_cache):\n\t* src/process.c (Fmake_network_process):\n\tUse FLEXSIZEOF instead of offsetof and addition.\n\t* src/alloc.c (SDATA_SIZE, vector_alignment):\n\tUse FLEXALIGNOF instead of sizeof (ptrdiff_t).\n\t* src/lisp.h (ALIGNOF_STRUCT_LISP_VECTOR):\n\tRemove, as alloc.c can now calculate this on its own.\n\n2016-09-07  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tUpdate from gnulib\n\n\tThis incorporates:\n\t2016-09-07 flexmember: new macro FLEXALIGNOF\n\t2016-09-07 flexmember: port better to GCC + valgrind\n\t2016-08-18 Port modules to use getprogname explicitly\n\t2016-09-02 manywarnings: add -fno-common\n\t* admin/merge-gnulib (GNULIB_TOOL_FLAGS): Don\u2019t avoid flexmember,\n\tsince time_rz now uses part of it.  Instead, remove m4/flexmember.m4.\n\t* configure.ac (AC_C_FLEXIBLE_ARRAY_MEMBER): Define away,\n\tsince Emacs assumes C99 and therefore removes m4/flexmember.m4.\n\t* lib/euidaccess.c, lib/group-member.c, lib/time_rz.c:\n\t* m4/manywarnings.m4: Copy from gnulib.\n\t* lib/flexmember.h: New file, from gnulib.\n\t* lib/gnulib.mk, m4/gnulib-comp.m4: Regenerate.\n\n2016-09-07  Noam Postavsky  <npostavs@gmail.com>\n\n\tDon't --load directories\n\n\t* lisp/startup.el (command-line-1): Only pass expanded FILENAME argument\n\tof --load when it refers to a normal file, since `load' doesn't handle\n\tdirectories (Bug #16406).\n\n2016-09-07  Peder O. Klingenberg  <peder@klingenberg.no>\n\n\tAvoid error in icalendar--read-element\n\n\t* lisp/calendar/icalendar.el (icalendar--read-element): Avoid a regex\n\tstack overflow by not using regex to extract values from calendar\n\tevents. (Bug#24315)\n\n2016-09-07  Kaushal Modi  <kaushal.modi@gmail.com>\n\n\tFix back-white <-> black-white typo\n\n\t* lisp/ps-print.el (ps-begin-job): back-white -> black-white (Bug#24308)\n\n2016-09-07  Alan Third  <alan@idiocy.org>\n\n\tFix cursor at bottom left of rectangle (bug#24364)\n\n\t* lisp/rect.el (rectangle--col-pos): Don't assume point at EOL doesn't\n\trequire rectangle--point-crutches to be set.\n\n2016-09-07  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix documentation of convert-standard-filename on MS-Windows\n\n\t* lisp/files.el (convert-standard-filename): Doc fix.  (Bug#24387)\n\n\t* etc/NEWS: Suggest a way for mirroring slashes where previously\n\t'convert-standard-filename' was used.\n\n2016-09-06  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tUse DEV_TTY more consistently\n\n\t* src/conf_post.h (DEV_TTY): Move from here ...\n\t* src/keyboard.c, src/keyboard.h: ... to here, as it doesn\u2019t need\n\tto be visible everywhere.  Make it a constant.\n\t* src/keyboard.c (handle_interrupt, Fset_quit_char):\n\t* src/process.c (create_process): Prefer DEV_TTY to \"/dev/tty\".\n\n2016-09-06  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid assertion violations when using marker positions\n\n\t* src/intervals.c (set_point_from_marker): If MARKER comes from\n\tanother buffer, recalculate its byte position before using it to\n\tset point.\n\t* src/marker.c (set_marker_internal): If POSITION is a marker from\n\tanother buffer, recalculate its byte position before using it.\n\t(Bug#24368)\n\n2016-09-06  Alan Mackenzie  <acm@muc.de>\n\n\t* lisp/progmodes/cc-engine.el (c-syntactic-re-search-forward): Fix coding bug\n\n2016-09-06  Alan Mackenzie  <acm@muc.de>\n\n\tNew options for handling of literals in c-syntactic-re-search-forward\n\n\t* lisp/progmodes/cc-engine.el (c-syntactic-re-search-forward): `noerror' can\n\tbe given the values `before-literal' and `after-literal', so that when a\n\tsearch fails, and the `bound' is inside a literal, point is left respectively\n\tbefore or after that literal.\n\n2016-09-05  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid assertion violations when scrolling narrowed buffer\n\n\t* src/window.c (window_scroll_pixel_based):\n\t* src/xdisp.c (pos_visible_p): Don't allow simulated redisplay to\n\tstart outside the accessible portion of the buffer.  This avoids\n\tassertion violations when some Lisp narrows the buffer to less\n\tthan the current window, and then attempts to scroll the buffer.\n\n2016-09-05  Eli Zaretskii  <eliz@gnu.org>\n\n\tTreat SIGINT correctly in GUI sessions on MS-Windows\n\n\t* src/w32proc.c (sys_signal): Don't reject SIGINT, as it is\n\tsupported by MS runtime.\n\t* src/term.c (DEV_TTY): Move from here ...\n\t* src/conf_post.h (DEV_TTY): ... to here.  Separate definitions\n\tfor WINDOWSNT and for the rest.\n\t* src/keyboard.c (handle_interrupt_signal): Use DEV_TTY instead of\n\ta literal \"/dev/tty\".\n\n\t* etc/NEWS: Mention the behavior change.\n\n2016-09-04  Alan Third  <alan@idiocy.org>\n\n\tFix synthetic bold on macOS retina displays\n\n\t* src/macfont.m (macfont_draw): Multiply the synthetic bold scaling\n\tfactor by the OS window backing scale factor.\n\n2016-09-04  Tino Calancha  <tino.calancha@gmail.com>\n\n\timage-dired: Report when a necessary executable is not found\n\n\tSee discussion on:\n\thttps://lists.gnu.org/r/emacs-devel/2016-08/msg00552.html\n\t* lisp/image-dired.el (image-dired-cmd-rotate-original-program)\n\t(image-dired-cmd-create-thumbnail-program)\n\t(image-dired-cmd-create-temp-image-program)\n\t(image-dired-cmd-rotate-thumbnail-program)\n\t(image-dired-cmd-write-exif-data-program)\n\t(image-dired-cmd-read-exif-data-program):\n\tUse executable-find to set the default value of this option.\n\t(image-dired-cmd-rotate-original-program): Idem.\n\tSearch for program 'convert' if 'jpegtran' is not available.\n\t(image-dired-cmd-rotate-original-options):\n\tSet the default value consistent with the executable in\n\timage-dired-cmd-rotate-original-program.\n\t(image-dired-create-thumb, image-dired-display-image)\n\t(image-dired-rotate-thumbnail, image-dired-rotate-original)\n\t(image-dired-set-exif-data, image-dired-get-exif-data):\n\tThrow and error when the executable used in the function is missing.\n\t(image-dired-next-line, image-dired-previous-line):\n\tUse 'forward-line'.\n\n2016-09-03  Tino Calancha  <tino.calancha@gmail.com>\n\n\timage-type-from-file-name: Perform a case insensitive match\n\n\tFix Bug#24317\n\t* lisp/image.el (image-type-from-file-name): Bind case-fold-search\n\tto a non-nil value to force a case insensitive match.\n\t* lisp/image-dired.el (image-dired-rotate-original):\n\tUse image-type (Bug#24317).\n\t(image-dired-get-exif-file-name): Idem.\n\tSet 'no-exif-data-found' and 'data' in same setq call.\n\tUse file-attribute-modification-time.\n\n2016-09-03  Tino Calancha  <tino.calancha@gmail.com>\n\n\timage-increase-size: Fix non-interactive calls\n\n\t* lisp/image.el (image-increase-size, image-decrease-size):\n\tCompute a floating point division.\n\tProblem reported in:\n\thttps://lists.gnu.org/r/emacs-devel/2016-09/msg00067.html\n\n2016-09-03  Robert Cochran  <robert-git@cochranmail.com>\n\n\tFix uses of (call-interactively) in lisp/emacs-lisp/checkdoc.el\n\n\tPassing the prefix argument as the 3rd argument to 'call-interactively'\n\tcauses the prefix argument to be interpreted as events, which is not\n\tonly wrong, but also causes a type error, as 'current-prefix-arg' can\n\tnever be a vector as 'call-interactively' expects.  'call-interactively'\n\tautomatically passes its prefix argument to the called function, so just\n\tdo that, eliminating faulty behavior.\n\n\t* lisp/emacs-lisp/checkdoc.el (checkdoc-ispell):\n\t(checkdoc-ispell-current-buffer):\n\t(checkdoc-ispell-interactive):\n\t(checkdoc-ispell-message-text):\n\t(checkdoc-ispell-start):\n\t(checkdoc-ispell-continue):\n\t(checkdoc-ispell-comments):\n\t(checkdoc-ispell-defun):\n\tDo not pass 'current-prefix-arg' to 'call-interactively' as an event\n\tvector; merely allow it to propagate forward to the interactive call.\n\n2016-09-03  Richard Stallman  <rms@gnu.org>\n\n\tFix mail-combine-fields\n\n\t* lisp/mail/sendmail.el (mail-combine-fields): Call `save-excursion' to\n\tavoid losing our place in the search loop.\n\n2016-09-02  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tCheck actual contents before promting about changed file\n\n\t* lisp/userlock.el (userlock--check-content-unchanged)\n\t(userlock--ask-user-about-supersession-threat): New functions.\n\t* src/filelock.c (lock_file): Use them to avoid spurious prompting.\n\t* doc/lispref/buffers.texi (Modification Time): Update doc of\n\task-user-about-supersession-threat.\n\n2016-09-02  Michael Albinus  <michael.albinus@gmx.de>\n\n\tMake a reference to fakecygpty in the Tramp manual\n\n\t* doc/misc/tramp.texi (Windows setup hints): Make a reference to\n\tfakecygpty on the Emacs Wiki.\n\t(Frequently Asked Questions): Fix url.\n\n2016-09-01  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDon\u2019t create fd >= FD_SETSIZE\n\n\tThis avoids a potential crash if too many subprocesses (Bug#24325).\n\t* src/process.c [HAVE_SETRLIMIT]: Include <sys/resource.h>.\n\t(init_process_emacs): If ulimit -n is greater than FD_SETSIZE,\n\tset it to FD_SETSIZE.\n\n2016-09-01  Alan Mackenzie  <acm@muc.de>\n\n\tFix c-declaration-limits to return correct limits in all cases.\n\n\tThis function is the guts of c-indent-defun and c-mark-function.\n\n\tIn particular, when c-defun-tactic is nil, return a correct value rather than\n\talways nil, and when it's 'go-outward, go through an intricate algorithm to\n\tdetermine the requisite narrowing before the \"top-level\" defuns go to work.\n\n\t* lisp/progmodes/cc-cmds.el (c-narrow-to-most-enclosing-decl-block): Enhance\n\tto take additional optional parameter LEVEL, saying how many enclosing levels\n\tof decl-block to narrow to.\n\t(c-declaration-limits): Introduce algorithm to determine narrowing.  Use\n\tc-where-wrt-to-brace-block to determine whether to go back to BOD to determine\n\tlower bound.\n\n2016-09-01  Eli Zaretskii  <eliz@gnu.org>\n\n\t* nt/inc/ms-w32.h (execve) [MINGW_W64]: Make commentary more accurate.\n\n2016-09-01  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid compiler warnings with MinGW64 GCC 6\n\n\t* nt/inc/ms-w32.h (execve) [MINGW_W64]: Make the prototype match\n\tthe GCC 6 builtin, to avoid warnings.  For more details, see\n\thttps://lists.gnu.org/r/emacs-devel/2016-08/msg00721.html.\n\n2016-08-31  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix over-substitution of quotes on error\n\n\tProblem reported by Tino Calancha in:\n\thttps://lists.gnu.org/r/emacs-devel/2016-09/msg00000.html\n\t* src/print.c (print_error_message):\n\tSubstitute quotes in errmsg only when gotten from a property.\n\n2016-08-31  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove testing of etags\n\n\t* test/manual/etags/y-src/cccp.c:\n\t* test/manual/etags/y-src/parse.c: Correct #line directives to\n\tallow testing invalidate_nodes in etags.c.\n\t* test/manual/etags/ETAGS.good_1:\n\t* test/manual/etags/ETAGS.good_2:\n\t* test/manual/etags/ETAGS.good_3:\n\t* test/manual/etags/ETAGS.good_4:\n\t* test/manual/etags/ETAGS.good_5:\n\t* test/manual/etags/ETAGS.good_6:\n\t* test/manual/etags/CTAGS.good: Adapt to changes in test files.\n\n2016-08-31  Eli Zaretskii  <eliz@gnu.org>\n\n\t* lib-src/etags.c (invalidate_nodes): Fix another thinko.\n\n2016-08-31  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix etags problems found by static checking\n\n\t* lib-src/etags.c (invalidate_nodes, put_entry):\n\tRemove now-unnecessary tests for null pointers.  Simplify.\n\t(put_entries): Rewrite to avoid GCC 6.2 warning about\n\tdereferencing null pointer.\n\n2016-08-31  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix a thinko in etags.c\n\n\t* lib-src/etags.c (invalidate_nodes): Don't try to dereference\n\ta null pointer.\n\n2016-08-31  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid recursive calls in etags\n\n\t* lib-src/etags.c (stack_entry): New struct.\n\t(push_node, pop_node, put_entry): New functions.\n\t(free_tree, add_node, invalidate_nodes, put_entries): Re-implement\n\tin a non-recursive way, to avoid stack overflow.  (Bug#5847)\n\n2016-08-31  Leo Liu  <sdl.web@gmail.com>\n\n\tAdd 451 to url-http-codes\n\n\t* lisp/url/url-http.el (url-http-codes): Add 451.\n\n2016-08-30  Paul Eggert  <eggert@Penguin.CS.UCLA.EDU>\n\n\t* src/editfns.c (Fformat_message): Fix doc to match current behavior.\n\n2016-08-30  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMinor doc quoting fixes\n\n\t* doc/misc/htmlfontify.texi (Interactive):\n\t* lisp/htmlfontify.el (htmlfontify-buffer):\n\tSpell out character names, for clarity.  The old doc string\n\tgenerated the *Help* text \u2018^L ([FF]) or \u00a4 (244)\u2019, where \u2018[FF]\u2019\n\tstands for a form feed character; this was confusing.\n\t* lisp/electric.el (electric-quote-mode):\n\t* src/doc.c (syms_of_doc):\n\t* src/editfns.c (Fformat_message):\n\tRemove no-longer-necessary \u2018\\=\u2019s in doc strings.\n\n2016-08-30  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tUpdate from gnulib\n\n\tThis incorporates:\n\t2016-08-30 intprops: tune INT_NEGATE_OVERFLOW for GCC 5 and 6\n\t2016-08-29 xalloc-oversized.h: port change to GCC 6.2.0\n\t2016-08-29 intprops.h: port recent changes to GCC 6.2.0\n\t2016-08-29 intprops.h: use __typeof__ with GCC 7\n\t2016-08-29 intprops.h, xalloc-oversized.h: work with gcc 7\n\t2016-08-24 intprops: fix paren typo on old platforms\n\t2016-08-24 intprops: port to OpenVMS\n\t* lib/intprops.h, lib/xalloc-oversized.h: Copy from gnulib.\n\n2016-08-30  Tassilo Horn  <tsdh@gnu.org>\n\n\tFix rules for \\phi and \\varphi which were reversed\n\n\t* lisp/leim/quail/latin-ltx.el: Special-case phi/varphi because those\n\t  are reversed in ucs-names.  Also remove FIXME stating sigma/varsigma\n\t  were reversed which is not true (anymore?).\n\n2016-08-30  Tassilo Horn  <tsdh@gnu.org>\n\n\tFix prettification of \\phi, \\varphi, and \\varsigma\n\n\t* lisp/textmodes/tex-mode.el (tex--prettify-symbols-alist): Fix\n\t  prettification of \\phi, \\varphi, and \\varsigma.\n\n\tConcretely, \\phi's symbol was actually varphi, \\varphi was missing, and\n\t\\varsigma was commented out with a FIXME that it was reversed with\n\t\\sigma which it was not.\n\n2016-08-30  Karl Fogel  <kfogel@red-bean.com>\n\n\tUse normal double quotes in TeX / LaTeX comments\n\n\t* lisp/textmodes/tex-mode.el (tex-insert-quote): When in a comment,\n\t  default to inserting a normal double quote (\") instead of TeX-style\n\t  open (``) or close ('') quote marks.\n\n\t* etc/NEWS (TeX mode): Note the change.\n\n\t* test/lisp/electric-tests.el (autowrapping-7): Adjust accordingly.\n\n\tSee this thread for discussion:\n\n\t  https://lists.gnu.org/r/emacs-devel/2016-08/msg00611.html\n\t  From: Karl Fogel <kfogel {_AT_} red-bean.com>\n\t  To: Emacs Development <emacs-devel {_AT_} gnu.org>\n\t  Subject: [PATCH] Have LaTeX mode use normal double quotes in comments.\n\t  Date: Mon, 29 Aug 2016 14:44:12 -0500\n\t  Message-ID: <87twe3icmr.fsf@red-bean.com>\n\n2016-08-30  Alan Mackenzie  <acm@muc.de>\n\n\tCorrectly analyze C++ list initialization in member init areas.\n\n\t* lisp/progmodes/cc-engine.el (c-back-over-list-of-member-inits): Remove a\n\tsuperfluous call to c-backward-syntactic-ws.\n\t(c-looking-at-or-maybe-in-bracelist): Change calling convention, so that it\n\treports encountering the Java \"new\" keyword.  Add, as an alternative, a check\n\tthat we can move back over member initializations, and handle this as finding\n\ta brace block.\n\t(c-looking-at-special-brace-list, c-guess-continued-construct): Adapt to the\n\tnew calling convention of c-looking-at-or-maybe-in-bracelist.\n\t(c-guess-basic-syntax, CASE 5A.3): Replace lots of inline ad-hoc code with\n\tcalls to c-backward-over-enum-header and c-looking-at-or-maybe-in-bracelist,\n\tusing the extra info from the value of that function to generate a\n\ttopmost-into-cont element where needed (in Java).\n\n\t* lisp/progmodes/cc-fonts.el (c-font-lock-declarations): Adapt to the new\n\tcalling convention of c-looking-at-or-maybe-in-bracelist.\n\n\t* lisp/progmodes/cc-mode.el (c-fl-decl-start): Adapt to the new calling\n\tconvention of c-looking-at-or-maybe-in-bracelist.\n\n2016-08-30  Michael Albinus  <michael.albinus@gmx.de>\n\n\tUse `file-attribute-*' in Tramp\n\n\t* lisp/net/tramp-compat.el (tramp-compat-file-attribute-type)\n\t(tramp-compat-file-attribute-link-number)\n\t(tramp-compat-file-attribute-user-id)\n\t(tramp-compat-file-attribute-group-id)\n\t(tramp-compat-file-attribute-modification-time)\n\t(tramp-compat-file-attribute-size)\n\t(tramp-compat-file-attribute-modes): New defaliases.\n\n\t* lisp/net/tramp.el (tramp-handle-file-modes)\n\t(tramp-handle-file-newer-than-file-p)\n\t(tramp-handle-file-regular-p, tramp-handle-file-symlink-p)\n\t(tramp-handle-set-visited-file-modtime)\n\t(tramp-handle-verify-visited-file-modtime)\n\t(tramp-get-local-gid, tramp-check-cached-permissions):\n\t* lisp/net/tramp-adb.el (tramp-adb-handle-file-directory-p)\n\t(tramp-adb-handle-file-truename, tramp-adb-handle-copy-file):\n\t* lisp/net/tramp-gvfs.el (tramp-gvfs-handle-delete-directory)\n\t(tramp-gvfs-handle-file-directory-p)\n\t(tramp-gvfs-handle-write-region, tramp-gvfs-get-remote-uid)\n\t(tramp-gvfs-get-remote-gid):\n\t* lisp/net/tramp-sh.el (tramp-sh-handle-file-truename)\n\t(tramp-sh-handle-set-visited-file-modtime)\n\t(tramp-sh-handle-verify-visited-file-modtime)\n\t(tramp-sh-handle-file-newer-than-file-p)\n\t(tramp-sh-handle-file-ownership-preserved-p)\n\t(tramp-do-copy-or-rename-file)\n\t(tramp-do-copy-or-rename-file-via-buffer)\n\t(tramp-do-copy-or-rename-file-directly)\n\t(tramp-do-copy-or-rename-file-out-of-band)\n\t(tramp-sh-handle-file-local-copy)\n\t(tramp-sh-handle-write-region):\n\t* lisp/net/tramp-smb.el (tramp-smb-handle-copy-directory)\n\t(tramp-smb-handle-copy-file)\n\t(tramp-smb-handle-file-directory-p)\n\t(tramp-smb-handle-file-writable-p)\n\t(tramp-smb-handle-insert-directory): Use them.\n\n2016-08-30  Martin Rudalics  <rudalics@gmx.at>\n\n\tIn `pop-to-buffer' handle case where `display-buffer' fails (Bug#24332)\n\n\t* lisp/window.el (pop-to-buffer): Don't assume that\n\t`display-buffer' has supplied a window (Bug#24332).\n\tRename BUFFER argument to BUFFER-OR-NAME.\n\t* doc/lispref/windows.texi (Switching Buffers): Fix\n\t`pop-to-buffer' documentation.\n\n2016-08-29  Alan Third  <alan@idiocy.org>\n\n\tClarify docstrings\n\n\t* src/nsterm.m: Clarified that ns-x-modifier variables require a symbol.\n\n2016-08-29  Michael Albinus  <michael.albinus@gmx.de>\n\n\tUse `process-live-p' in Tramp\n\n\t* lisp/net/tramp-compat.el (tramp-compat-process-live-p): New defun.\n\n\t* lisp/net/tramp.el (tramp-connectable-p, tramp-handle-file-remote-p)\n\t(tramp-handle-file-notify-valid-p)\n\t(tramp-action-process-alive, tramp-action-out-of-band)\n\t(tramp-wait-for-regexp):\n\t* lisp/net/tramp-adb.el (tramp-adb-parse-device-names)\n\t(tramp-adb-maybe-open-connection):\n\t* lisp/net/tramp-cache.el (tramp-get-connection-property):\n\t* lisp/net/tramp-gvfs.el (tramp-gvfs-handle-file-notify-add-watch):\n\t* lisp/net/tramp-gw.el (tramp-gw-gw-proc-sentinel)\n\t(tramp-gw-aux-proc-sentinel, tramp-gw-open-connection):\n\t* lisp/net/tramp-sh.el (tramp-process-sentinel)\n\t(tramp-sh-handle-file-notify-add-watch)\n\t(tramp-maybe-open-connection):\n\t* lisp/net/tramp-smb.el (tramp-smb-action-with-tar)\n\t(tramp-smb-handle-copy-directory, tramp-smb-action-get-acl)\n\t(tramp-smb-handle-process-file, tramp-smb-action-set-acl)\n\t(tramp-smb-get-cifs-capabilities)\n\t(tramp-smb-get-stat-capability)\n\t(tramp-smb-maybe-open-connection, tramp-smb-wait-for-output)\n\t(tramp-smb-kill-winexe-function): Use it.\n\n2016-08-29  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid crashes for invalid value of key modifiers\n\n\t* src/keyboard.c (parse_solitary_modifier): If the argument SYMBOL\n\tis not a symbol, don't try to recognize it.  See\n\thttps://lists.gnu.org/r/emacs-devel/2016-08/msg00502.html\n\tfor the details.\n\n\t* test/src/keymap-tests.el (keymap-where-is-internal-test): New\n\ttest, for testing the above fix.\n\n2016-08-29  Oleh Krehel  <ohwoeowho@gmail.com>\n\n\tMake dired-do-compress understand files with spaces in them\n\n\t* lisp/dired-aux.el (dired-compress-file): Add `shell-quote-argument'\n\t  and `literal' flag to `replace-regexp-in-string'.\n\n2016-08-28  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* INSTALL.REPO: Suggest Texinfo 4.13 or later.\n\n2016-08-28  Simen Heggest\u00f8yl  <simenheg@gmail.com>\n\n\tAdd tests for dom.el\n\n\t* test/lisp/dom-tests.el: New file with tests for dom.el.\n\n2016-08-28  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMemory allocator alignment fixes\n\n\tThese changes remove some assumptions about heap allocator\n\talignment that may not be true on unusual platforms.\n\t* src/alloc.c (POWER_OF_2): New macro.\n\t(ROUNDUP): Use it.\n\t(BLOCK_ALIGN): Verify that it is a power of 2.\n\t(aligned_alloc): Check that alignment passed to posix_memalign\n\tsatisfies POSIX restrictions.\n\t(lisp_align_malloc): Check that size passed to aligned_alloc\n\tsatisfies C11 restrictions.\n\t(MALLOC_IS_GC_ALIGNED): Check that GCALIGNMENT is 8, since the\n\tcode has not been verified to work with other GCALIGNMENT values\n\tand the ice is thin here.  On GNU/Linux, malloc can return a value\n\tthat is a multiple of 8 but not 16, even though __alignof__\n\t(max_align_t) is 16.  See:\n\thttps://gcc.gnu.org/ml/gcc-patches/2016-08/msg01902.html\n\t(lmalloc) [USE_ALIGNED_ALLOC]: Use aligned_alloc only if size\n\tis a multiple of alignment, since C11 says the behavior is\n\tundefined otherwise.\n\t(lmalloc, lrealloc): Don't use INT_ADD_WRAPV on size_t, as in\n\tgeneral this macro is restricted to signed types.  Remove\n\tassertion that the result is a multiple of GCALIGNMENT, as that\n\tneed not be true.\n\n2016-08-28  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPacify --enable-gcc-warnings for lib-src/pop.c\n\n\t* lib-src/pop.c: Include c-ctype.h.\n\t(socket_connection): Pacify --enable-gcc-warnings by rewriting to\n\tavoid 'if (v = E) ...'.  Use c_tolower, instead of a combination\n\tof the (undeclared) isupper and tolower.  Fix pointer constness\n\tproblem.\n\n2016-08-27  Alan Mackenzie  <acm@muc.de>\n\n\tHandle the C++ \"identifiers\" \"final\" and \"override\" correctly.\n\n\tThis fixes bug #24319, allowing destructors affixed with these identifiers to\n\tbe correctly fontified.\n\n\t* lisp/progmodes/cc-engine.el (c-forward-type, c-forward-decl-or-cast-1):\n\tAfter reaching the \"end\" of a type expression, skip over any occurrences of\n\tc-type-decl-suffix-ws-ids-key.\n\n\t* lisp/progmodes/cc-langs.el (c-type-modifier-kwds): Remove \"override\" and\n\t\"final\" from the C++ value.\n\t(c-type-decl-suffix-ws-ids-kwds, c-type-decl-suffix-ws-ids-key): New lang\n\tconstants/variables for \"final\" and \"override\".\n\n2016-08-27  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/textmodes/page-ext.el (pages-directory-mode): Use special-mode.\n\n2016-08-27  Alan Mackenzie  <acm@muc.de>\n\n\tHandle template delimiters in C++ member init constructs.\n\n\t* lisp/progmodes/cc-engine.el (c-back-over-list-of-member-inits): Add\n\thandling for \"<....>\"s.\n\n2016-08-26  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix etags test suite messed up by merges from emacs-25\n\n\t* test/manual/etags/go-src/test.go:\n\t* test/manual/etags/go-src/test1.go: Move from test/etags/.\n\t* test/manual/etags/ruby-src/test1.ru: Replace test1.ruby.\n\t* test/etags/: Directory deleted.\n\n2016-08-26  Simen Heggest\u00f8yl  <simenheg@gmail.com>\n\n\tAdd \"supports\" to list of CSS at-rules\n\n\t* lisp/textmodes/css-mode.el (css-at-ids): Add \"supports\" at-rule.\n\n2016-08-26  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* lisp/net/tramp-sh.el (tramp-get-remote-perl): Perform a basic check.\n\n\t(Bug#22478)\n\n2016-08-25  Tino Calancha  <tino.calancha@gmail.com>\n\n\tRename option to shell-command-dont-erase-buffer\n\n\tSuggested by Cl\u00e9ment Pit--Claudel in:\n\thttps://lists.gnu.org/r/emacs-devel/2016-08/msg00487.html\n\t* lisp/simple.el (shell-command-dont-erase-buffer):\n\t(shell-command--save-pos-or-erase):\n\t(shell-command--set-point-after-cmd):\n\t(shell-command-on-region):\n\t* doc/emacs/misc.texi (shell-command-dont-erase-buffer):\n\t* etc/NEWS (Changes in Emacs 25.2):\n\tRename from shell-command-not-erase-buffer.\n\n2016-08-25  Alan Mackenzie  <acm@muc.de>\n\n\tFix an infinite loop in C++ Mode when we have \"{ .... [ .... }\"\n\n\t* lisp/progmodes/cc-fonts.el (c-font-lock-c++-lambda-captures): In the inner\n\t`while' form's condition, check for \"\\\\s)\" rather than merely \"\\\\]\", so that\n\tthe loop won't hang at a \"terminating\" paren of a different type (due to the\n\tc-syntactic-re-search-forward at the end of the loop stopping at such\n\tcharacters).\n\n2016-08-25  Tino Calancha  <tino.calancha@gmail.com>\n\n\tcall-shell-region: New defun\n\n\tSuggested by Stefan Monnier in Bug#22679.\n\t* lisp/subr.el (call-shell-region): New defun; execute a command\n\tin an inferior shell with the buffer region as input.\n\t* lisp/simple.el (shell-command-on-region): Use it.\n\t* lisp/gnus/message.el (message-do-fcc): Idem.\n\t* doc/lispref/processes.texi: Document call-shell-region in the manual.\n\t;* etc/NEWS: Add entry for this new function.\n\n2016-08-25  Martin Rudalics  <rudalics@gmx.at>\n\n\tIn \u2018clone-indirect-buffer\u2019 fix argument mixup (Bug#24306)\n\n\t* lisp/simple.el (clone-indirect-buffer): Add value for ACTION\n\targument in `pop-to-buffer' call (Bug#24306).\n\n2016-08-25  Martin Rudalics  <rudalics@gmx.at>\n\n\tSome fixes around `delete-other-frames' and `next-frame'\n\n\t* src/frame.c (Fdelete_frame): Clarify doc-string.\n\t* lisp/frame.el (delete-other-frames): Delete other frames on\n\tFRAME's terminal instead of the current terminal.  Delete\n\tnon-minibuffer-only surrogate frames too.  See\n\thttps://lists.gnu.org/r/emacs-devel/2016-08/msg00467.html\n\t* doc/lispref/frames.texi (Deleting Frames): Minor fixes for\n\tdocs of `delete-frame' and `frame-live-p'.  Add entry for\n\t`delete-other-frames'.\n\t(Finding All Frames): Fix doc of `next-frame'.\n\n2016-08-24  Lars Magne Ingebrigtsen  <larsi@gnus.org>\n\n\tFind message.el thumbnail toggling\n\n\t* lisp/gnus/message.el (message-toggle-image-thumbnails):\n\tDon't infloop when toggling thumbnails.\n\n2016-08-24  Alan Third  <alan@idiocy.org>\n\n\tFix macOS 12 deprecation notices\n\n\t* src/nsterm.h: Add #defines to allow older versions of macOS to use the\n\tnew constant names.\n\t* src/nsmenu.m: Replace old constant names with\n\tnew.\n\t(fillWithWidgetValue): Remove calls to deprecated\n\tsetMenuChangedMessagesEnabled.\n\t* src/nsterm.m: Replace old constant names with new.\n\t* src/nsfns.m: Replace old constant names with new.\n\n2016-08-23  Alan Mackenzie  <acm@muc.de>\n\n\tAnalyze and fontify correctly a C++ `enum' with colon, but lacking a tag.\n\n\t* lisp/progmodes/cc-engine.el (c-backward-typed-enum-colon): Check for \"enum\"\n\tdirectly preceding the colon, and handle it.\n\n2016-08-23  Noah Friedman  <friedman@splode.com>\n\n\t* src/xfns.c (Fx_change_window_property): Modify previous change.\n\tInstead of forcing format to 8 for strings, check that the length of\n\tthe string is appropriate for whatever format given.\n\t(Fx_window_property_attributes): If prop isn't found on frame's inner window,\n\ttry its outer window.  This mimics the behavior of Fx_window_property.\n\n2016-08-23  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFix invalid image rotations\n\n\t* lisp/image.el (image-rotate): Limit rotation to 360 degrees.\n\n2016-08-23  Tino Calancha  <tino.calancha@gmail.com>\n\n\tcall-process instead of call-process-region with empty region\n\n\t* lisp/calc/calc-graph.el (calc-graph-show-tty):\n\tUse call-process and shell-command-switch.\n\n2016-08-22  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\t927afa1 ; Update ChangeLog.2 and ldef-boot.el for Emacs 25.1 RC2\n\t6bf83b5 * etc/AUTHORS: Update the AUTHORS file\n\t73cbb81 ; ChangeLog spelling fixes\n\t9b99772 Some assorted documentation clarifications\n\t37d4723 Improve commentary in src/character.h\n\t5ccd593 ; Fix typo in /etc/NEWS\n\t96e3d16 * etc/NEWS: Mention the change in json-encode-string.\n\t2e524034 ; * etc/NEWS: Mention incompatible change in url-http-create...\n\t2e4e74e Merge branch 'emacs-25' of git.savannah.gnu.org:/srv/git/emac...\n\t66dea65 ; * doc/lispref/windows.texi (Window Parameters): Grammar twe...\n\n\t# Conflicts:\n\t#\tChangeLog.2\n\t#\tlisp/ldefs-boot.el\n\n2016-08-22  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\t66dea65 ; * doc/lispref/windows.texi (Window Parameters): Grammar twe...\n\n2016-08-22  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\t8c2946e In NEWS describe new handling of window margins (Bug#24193)\n\t0cee66c Facultatively ignore margins when splitting and resizing wind...\n\t8d68147 Document CATEGORY arg to modify-category-entry\n\t8342e74 Document char-script-table's effect on word motion\n\te9ff485 Further fix for 'url-http-create-request' and multibyte strings\n\t0695235 Fix docstring of eval-expression\n\t98b01dd Clarify when 'cursor' property is in effect\n\t75f1882 Convert the remaining strings to unibyte before concatenating\n\td2db5dd Fix bug with handling the bidi cache\n\tccd0e92 * doc/lispref/text.texi (Change Hooks): Minor copyedits.\n\tf785ff4 Clarify documentation of before/after-change-functions\n\t3c9cb57 Document use of vectors in keymaps\n\n\t# Conflicts:\n\t#\tsrc/xdisp.c\n\n2016-08-22  Michael Albinus  <michael.albinus@gmx.de>\n\n\tHandle remote file names in gdb-mi.el\n\n\t* lisp/progmodes/gdb-mi.el (gdb-jsonify-buffer):\n\tIf `default-directory' is remote, full file names are adapted\n\taccordingly.  (Bug#23608)\n\n2016-08-22  Eli Zaretskii  <eliz@gnu.org>\n\n\tDisplay mini-window resized even when there are several frames\n\n\t* src/xdisp.c (x_consider_frame_title): Bind inhibit-redisplay to\n\tt to avoid resizing back the mini-window as result of considering\n\tthe title of other frames.  (Bug#24285)\n\t(redisplay_window): No need to bind inhibit-redisplay here.\n\n2016-08-22  Michael Albinus  <michael.albinus@gmx.de>\n\n\tExplain gdb warning on remote hosts\n\n\t* doc/misc/tramp.texi (Remote processes): Explain gdb warning\n\ton remote hosts.  (Bug#4604, Bug#6360, Bug#622569)\n\n2016-08-21  Martin Rudalics  <rudalics@gmx.at>\n\n\tFix (next-frame nil t) crash (Bug#24281)\n\n\t* src/frame.c (candidate_frame): Check minibuf argument before\n\tcomparing it to zero (Bug#24281).\n\n2016-08-21  Noah Friedman  <friedman@splode.com>\n\n\tFix interpretation of signed vs unsigned values when retrieving X\n\tWindow properties, and make sure the full value is returned when not\n\tparsed.\n\n\tNew subr to export type and format information about X Window\n\tproperties to lisp.\n\n\t* src/xselect.c (selection_data_to_lisp_data): Treat any data as\n\tunsigned unless its actual type is INTEGER.\n\tCARDINALs, in particular, are unsigned.\n\n\t* src/xfns.c (Fx_change_window_property): If value is a string, ignore\n\tany provided format and force to 8.\n\t(x_window_property_intern): If returning value as a string, the length\n\tis actual_size times the actual format of each element, which is not\n\tnecessarily bytes.\n\t(Fx_window_property_attributes): New subr.\n\t(syms_of_xfns): Declare it.\n\n2016-08-21  Noam Postavsky  <npostavs@gmail.com>\n\n\tImprove error when installing non-package dirs\n\n\t* lisp/emacs-lisp/package.el (package-dir-info): Throw meaningful error\n\twhen no file with package info is found (Bug #19851).\n\n2016-08-21  Alan Mackenzie  <acm@muc.de>\n\n\tAdapt CC Mode for C++11 uniform initialization.\n\n\tFor fontification, introduce a new \"context\", 'non-decl, to be used for\n\tbrace\n\tlists; also a new value for the property 'c-type, called 'c-not-decl.\n\n\t* lisp/progmodes/cc-engine.el (c-back-over-compound-identifier): Check that\n\tan ostensible symbol we're going to move over isn't a keyword.\n\t(c-forward-decl-or-cast-1): CASE 1: Where we have two consecutive identifiers\n\t(hence a declaration), and an unmatched open paren, perform\n\tc-fdoc-shift-type-backwards to recognize the partial construct correctly.\n\tWhilst checking a type decl expression, check for and handle C++11's \"copy\n\tinitialization\", where we have <type>(<constant>).  Recognize\n\t<id><id>(... (where the paren is unclosed) as a declaration.\n\t(c-looking-at-or-maybe-in-bracelist): New function, extracted from\n\tc-inside-bracelist-p.  Recognize as bracelists \"{\"s which are preceded by\n\tvalid tokens other than \"=\".  Recognize a bracelist when preceded by a\n\ttemplate declaration.\n\t(c-inside-bracelist-p): Call c-looking-at-or-maybe-in-bracelist in place of\n\tmuch inline code.\n\t(c-looking-at-inexpr-block): Amend so that it won't wrongly recognize an\n\tinitialization starting \"({\" as an in-expression block, by checking for\n\tsemicolons, as opposed to commas, separating elements inside it.\n\t(c-guess-continued-construct): (CASE B-2): Recognize a brace-list-open by\n\tcalling c-looking-at-or-maybe-in-bracelist rather than checking for a\n\tpreceding \"=\".  (CASE B-5): New code to recognize new construct \"return {\n\t...}\".\n\t(c-guess-basic-syntax): (CASE 5A.3): Additionally recognize a \"{\" preceded by\n\t\"return\", or \"{\" preceded by <type><identifier> as a bracelist.\n\n\t* lisp/progmodes/cc-fonts.el (c-font-lock-declarations): Recognize brace\n\tlists, giving them `context' 'non-decl.  Pass over elements of one by regexp\n\tsearch for \",\" rather than calling c-forward-decl-or-cast-1.\n\n\t* lisp/progmodes/cc-langs.el (c-return-kwds, c-return-key): New lang\n\tconstants/variables to recognize \"return\".\n\t(c-pre-id-bracelist-key): New lang constant/variable to recognize tokens\n\twhich, when preceding an identifier followed by a brace, signify the brace as\n\ta bracelist.\n\n\t* lisp/progmodes/cc-mode.el (c-fl-decl-start): When searching outwards for\n\tthe start of a \"local\" declaration, move out from an enclosing brace when\n\tthat is the start of a brace list.\n\n2016-08-21  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tUpdate from gnulib\n\n\tThis incorporates:\n\t2016-08-17 maint: preprocessor changes to support z/OS\n\t2016-08-17 string: rename to avoid '__string'\n\t* doc/misc/texinfo.tex, lib/alloca.in.h, lib/string.in.h:\n\tCopy from gnulib.\n\n2016-08-21  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMinor text-quoting-style fixes\n\n\t* src/charset.c (check_iso_charset_parameter):\n\t* src/frame.c (store_frame_param):\n\t* src/xselect.c (x_fill_property_data):\n\tUse grave accent for left single quote in \u2018error\u2019 format strings.\n\n2016-08-21  Martin Rudalics  <rudalics@gmx.at>\n\n\tFix semantics of 'minibuffer' frame parameter\n\n\tThe 'minibuffer' frame parameter is now t for a normal frame\n\t(a frame with a root window plus a minibuffer window) and the\n\tframe's minibuffer window for a minibuffer-less frame (a frame\n\twhose minibuffer window is on another frame).  See also:\n\thttps://lists.gnu.org/r/emacs-devel/2016-07/msg01259.html\n\n\t* src/frame.c (make_frame, make_frame_without_minibuffer)\n\t(make_minibuffer_frame): When assigning the frame's minibuffer\n\twindow also store corresponding 'minibuffer' frame parameter.\n\t(store_frame_param): Move the 'minibuffer' parameter checks to\n\tthe beginning so we can silently override the value before it\n\tgets stored in the parameter alist.  Fix error handling.\n\t(Fframe_parameters): Return value of 'minibuffer' parameter\n\tunmodified.\n\n\t* lisp/frameset.el (frameset-filter-minibuffer): When the cdr of\n\tthe parameter is a minibuffer window, save (minibuffer . nil)\n\tinstead of (minibuffer . t).\n\t(frameset--reuse-frame): To find a non-minibuffer-only frame\n\tlook out for a frame whose 'minibuffer' parameter is t instead\n\tof that frame's minibuffer window.\n\t(frameset-minibufferless-first-p): To find a minibuffer-less\n\tframe look out for a frame whose 'minibuffer' parameter is a\n\twindow instead of nil.\n\n2016-08-20  Alan Mackenzie  <acm@muc.de>\n\n\t* lisp/progmodes/cc-defs.el (c-safe-scan-lists): Resolve overelaborate \"nil\"\n\n2016-08-20  Alan Mackenzie  <acm@muc.de>\n\n\tIn c-\\(go-\\)?-\\(up-\\|down-\\)?list-\\(forward\\|backward\\) check limit isn't nil\n\n\tCheck the limit both at macro expansion time (for a hard coded nil) and at run\n\ttime in the generated code.  Tidy up these macros generally.\n\n\t* lisp/progmodes/cc-defs.el (c-safe-scan-lists): Check `limit' is present and\n\tnot identically nil before generating a narrow-to-region call.  Generate code\n\tto check `limit' is not nil at run time.\n\t(c-go-list-forward, c-go-list-backward): Remove the generation of redundant\n\tnarrow-to-region, instead calling c-safe-scan-lists directly.\n\t(c-go-up-list-forward, c-go-up-list-backward, c-go-down-list-forward)\n\t(c-go-down-list-backward): Invoke the corresponding macros without the \"go-\"\n\tto determine the destination position instead of generating a redundant\n\tnarrow-to-region.\n\n2016-08-19  Robert Cochran  <robert-git@cochranmail.com>\n\n\t* lisp/emacs-lisp/map.el (map--dispatch): Fix docstring\n\n\tThe docstring referenced a non-existant parameter, as well as a\n\tparameter that has been renamed since the docstring was written. Fix\n\tboth errors, fixing (Bug#24182).\n\n2016-08-19  Alan Mackenzie  <acm@muc.de>\n\n\tAmend hack-local-variables-prop-line not always to return any mode on line 1.\n\n\tThis fixes bug #24266.\n\n\t* lisp/files.el (hack-local-variables-prop-line): Change the name of the\n\tparameter mode-only to handle-mode.  Change its meaning, such that it being\n\tset to a value non-nil and not t removes any mode parameter from the result\n\tlist.  Leave its values nil and t with the same meanings they had.\n\t(hack-local-variables): Call hack-local-variables-prop-line appropriately.\n\n2016-08-19  Daiki Ueno  <ueno@gnu.org>\n\n\tImprove doc string of epg-*-program\n\n\t* lisp/epg-config.el (epg-gpg-program, epg-gpgsm-program):\n\tSuggest to use Customize when setting.  (Bug#24229)\n\n2016-08-19  Tino Calancha  <tino.calancha@gmail.com>\n\n\tAdd tests for Bug#24264\n\n\t* test/lisp/emacs-lisp/cl-seq-tests.el (cl-seq-test-bug24264):\n\tAdd test for Bug#24264.\n\t(cl-seq-fill-test, cl-seq-replace-test)\n\t(cl-seq-remove-test ,cl-seq-delete-test)\n\t(cl-seq-remove-duplicates-test, cl-seq-substitute-test)\n\t(cl-seq-nsubstitute-test, cl-seq-position-test)\n\t(cl-seq-count-test, cl-seq-mismatch-test)\n\t(cl-seq-search-test, cl-seq-test-bug24264):\n\tAdd tests for all functions in the file; test all keywords.\n\n2016-08-18  Johan Bockg\u00e5rd  <bojohan@gnu.org>\n\n\tFix bug in --eval reply message from server\n\n\t* lisp/server.el (server-reply-print): Fix check for truncated quote\n\tsequence at end of message. Problem reported in:\n\thttps://lists.gnu.org/r/emacs-devel/2016-08/msg00101.html\n\n2016-08-18  Eli Zaretskii  <eliz@gnu.org>\n\n\tAdd tests for 'substitute-command-keys'\n\n\t* test/src/doc-tests.el (doc-test-substitute-command-keys): New\n\ttests.\n\n2016-08-18  Oleh Krehel  <ohwoeowho@gmail.com>\n\n\tlisp/textmodes/table.el (table-generate-source): Fix completing-read call\n\n\tDoesn't make sense to pass '((\"html\") (\"latex\") (\"cals\")) to\n\t`completing-read'.\n\n2016-08-18  Oleh Krehel  <ohwoeowho@gmail.com>\n\n\tlisp/dired-aux.el (dired-compress-file-suffixes): Add entry for tgz\n\n\tThe previous behavior resulted in a \"tgz\" -> \"tar\" -> \"tgz\" loop,\n\twithout any files being extracted.\n\n2016-08-18  Andreas Politz  <politza@hochschule-trier.de>\n\n\tDon't let window start override window point in `window-state-put' (Bug#24240)\n\n\t* lisp/window.el (window--state-put-2): Set 'noforce argument\n\twhen restoring a window's start position.  This avoids that the\n\teffect of `set-window-point' gets overidden by that of\n\t`set-window-start' (Bug#24240).\n\n2016-08-17  Alan Mackenzie  <acm@muc.de>\n\n\tFontify constructs following \"::\" in C++ argument lists correctly - part 2.\n\n\tThis fixes bug #24246.\n\n\t* lisp/progmodes/cc-engine.el (c-find-decl-prefix-search): Put a\n\t`save-match-data' around the new `looking-at' introduced by the previous CC\n\tMode patch this evening.\n\n2016-08-17  Alan Mackenzie  <acm@muc.de>\n\n\tFontify constructs following \"::\" in C++ argument lists correctly.\n\n\tThis fixes bug #24246.\n\n\t* lisp/progmodes/cc-engine.el (c-find-decl-prefix-search): In the \"pseudo\n\tmatch\" loop, test a found string for a match with c-opt-identifier-concat-key\n\t(e.g. with \"::\").\n\n2016-08-17  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* src/doc.c (Fsubstitute_command_keys): Clarify GC comments.\n\n2016-08-17  K. Handa  <handa@gnu.org>\n\n\tFix hz encoding and decoding (bug#23814)\n\n\t* lisp/language/china-util.el (decode-hz-region): Pay\n\tattention to \"~~}\" sequence at the end of Chinese character\n\trange.\n\t(hz-category-table): New variable.\n\t(encode-hz-region): Convert non-encodable characters to\n\t\\u... and \\U...  Preserve ESC on ecoding.  Put\n\t`chinese-gb2312' `charset' text property in advance to force\n\tiso-2022-encoding to select chinese-gb2312 designation.\n\n2016-08-17  Tino Calancha  <tino.calancha@gmail.com>\n\n\tfile-attribute-collect: New defun\n\n\t* lisp/files.el (file-attribute-collect):\n\tReturn a sublist of the attributes returned by 'file-attributes'.\n\tSuggested by Ted Zlatanov in:\n\n\thttps://lists.gnu.org/r/emacs-devel/2016-07/msg01195.html\n\n2016-08-17  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix Bug#24203\n\n\t* lisp/comint.el (comint-password-prompt-regexp): Relax regexp.  (Bug#24203)\n\n2016-08-16  Karl Fogel  <kfogel@red-bean.com>\n\n\tImprove doc string.\n\n\t* src/fileio.c (Ffile_name_as_directory): Be precise about the\n\tconditions under which a slash is appended.\n\n2016-08-16  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tOmit substitute-command-keys code no longer needed\n\n\t* src/doc.c (Fsubstitute_command_keys):\n\tRemove duplicate initializations.\n\n2016-08-16  Tino Calancha  <tino.calancha@gmail.com>\n\n\tAllow not erase output buffer in shell commands\n\n\t* lisp/simple.el (shell-command-not-erase-buffer): New option to allow\n\tnot erasing the output buffer between shell commands.  Defaults to nil.\n\t(shell-command-on-region): Use it.\n\t(shell-command--save-pos-or-erase): New defun; store a buffer position\n\tif 'shell-command-not-erase-buffer' is non-nil; otherwise\n\terase the output buffer of the shell command.\n\t(shell-command, shell-command-on-region): Use it.\n\t(shell-command--set-point-after-cmd): New defun;\n\tif 'shell-command-not-erase-buffer' is non-nil, set point\n\tin the output buffer to the position in 'shell-command-saved-pos'.\n\t(shell-command-sentinel, shell-command-on-region): Use it.\n\t* doc/emacs/misc.texi (shell-command-not-erase-buffer):\n\tDocument this feature in the manual.\n\tSee discussion on:\n\thttps://lists.gnu.org/r/emacs-devel/2016-07/msg00610.html\n\n2016-08-16  Michael Albinus  <michael.albinus@gmx.de>\n\n\tRearrange Tramp manual title page\n\n\t* doc/misc/tramp.texi: Move @insertcopying out of the title\n\tpage.  Do not use @ifnottex anymore.\n\n2016-08-15  Glenn Morris  <rgm@gnu.org>\n\n\t* doc/misc/tramp.texi: Adapt 2016-08-14 change for makeinfo 4.\n\n2016-08-15  Alan Mackenzie  <acm@muc.de>\n\n\tFix minor bug in c-syntactic-re-search-forward.\n\n\tBug was: when NOERROR is neither nil nor t, BOUND is non-nil, PAREN-LEVEL is\n\tnon-nil, and the first internal search attempt fails, point wrongly ends up at\n\tBOUND, rather than just before the next closing paren.\n\n\t* lisp/progmodes/cc-engine.el (c-syntactic-re-search-forward): Guard against\n\tthe above situation.\n\n2016-08-15  Alan Mackenzie  <acm@muc.de>\n\n\tHandle C++11 lambda functions.\n\n\t* lisp/progmodes/cc-engine.el (c-looking-at-inexpr-block): Enhance also to\n\thandle C++ lambda functions.\n\t(c-looking-at-c++-lambda-capture-list): New function.\n\n\t* lisp/progmodes/cc-fonts.el (c-font-lock-declarations): Recognize the\n\tparameter list of a lambda function and set `context' and\n\t`c-restricted-<>-arglists' suitably for it.\n\t(c-font-lock-c++-lambda-captures): New function.\n\t(c-complex-decl-matchers): Insert c-font-lock-c++-lambda-captures into it.\n\n\t* lisp/progmodes/cc-langs.el (c-pre-lambda-tokens, c-pre-lambda-tokens-re):\n\tNew language constants/variables.\n\t(c-paren-nontype-kwds): Include \"noexcept\" in the C++ value.\n\n\t* lisp/progmodes/cc-mode.el (c-fl-decl-start): Handle being in a C++ lambda\n\tfunction capture list.\n\n2016-08-15  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix stale cache problem in Tramp\n\n\t* lisp/net/tramp-cache.el (tramp-get-connection-property):\n\tCheck, that a process as key is still running.  (Bug#22478)\n\n2016-08-14  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* doc/misc/tramp.texi (Configuration): Fix @xref typo.\n\n2016-08-14  Eli Zaretskii  <eliz@gnu.org>\n\n\tAnother fix for scroll-conservatively and overlay strings\n\n\t* src/xdisp.c (redisplay_window): Handle also the case where the\n\tcalculated window-start point has an overlay string touching it.\n\t(Bug#24179)\n\n2016-08-14  Michael Albinus  <michael.albinus@gmx.de>\n\n\tImprove handling of defcustoms in tramp\n\n\t* doc/misc/tramp.texi: Protect all multi-line examples by\n\t@group ... @end group.  Use proper `custom-set-variables'\n\texamples.  Use consequently @option for user options.  Remove\n\tsuperfluous @cindex and @vindex entries.\n\t(Top): Remove reference to outdated mail archives.\n\t(Configuration): Tune references.\n\t(Default Method): Make `tramp-default-method' and\n\t`tramp-default-method-alist' a @defopt.\n\t(Default User): Make `tramp-default-user' and\n\t`tramp-default-user-alist' a @defopt.\n\t(Default Host): Make `tramp-default-host' and\n\t`tramp-default-host-alist' a @defopt.\n\n\t* lisp/net/tramp.el (tramp-mode, tramp-verbose)\n\t(tramp-backup-directory-alist, tramp-auto-save-directory)\n\t(tramp-encoding-shell, tramp-encoding-command-switch)\n\t(tramp-encoding-command-interactive, tramp-default-method)\n\t(tramp-default-method-alist, tramp-default-user)\n\t(tramp-default-user-alist, tramp-default-host)\n\t(tramp-default-host-alist, tramp-default-proxies-alist)\n\t(tramp-save-ad-hoc-proxies)\n\t(tramp-restricted-shell-hosts-alist)\n\t(tramp-local-end-of-line, tramp-rsh-end-of-line)\n\t(tramp-login-prompt-regexp, tramp-shell-prompt-pattern)\n\t(tramp-password-prompt-regexp, tramp-wrong-passwd-regexp)\n\t(tramp-yesno-prompt-regexp, tramp-yn-prompt-regexp)\n\t(tramp-terminal-prompt-regexp)\n\t(tramp-operation-not-permitted-regexp)\n\t(tramp-copy-failed-regexp, tramp-process-alive-regexp)\n\t(tramp-syntax, tramp-chunksize)\n\t(tramp-process-connection-type, tramp-connection-timeout)\n\t(tramp-connection-min-time-diff)\n\t(tramp-completion-reread-directory-timeout):\n\t* lisp/net/tramp-adb.el (tramp-adb-program)\n\t(tramp-adb-connect-if-not-connected, tramp-adb-prompt):\n\t* lisp/net/tramp-cache.el (tramp-connection-properties)\n\t(tramp-persistency-file-name):\n\t* lisp/net/tramp-gvfs.el (tramp-gvfs-methods)\n\t(tramp-gvfs-zeroconf-domain)\n\t(tramp-bluez-discover-devices-timeout):\n\t* lisp/net/tramp-sh.el (tramp-inline-compress-start-size)\n\t(tramp-copy-size-limit, tramp-terminal-type)\n\t(tramp-histfile-override)\n\t(tramp-use-ssh-controlmaster-options, tramp-remote-path)\n\t(tramp-remote-process-environment, tramp-sh-extra-args):\n\t* lisp/net/tramp-smb.el (tramp-smb-program, tramp-smb-acl-program)\n\t(tramp-smb-conf, tramp-smb-winexe-program)\n\t(tramp-smb-winexe-shell-command)\n\t(tramp-smb-winexe-shell-command-switch): Add :require 'tramp.\n\n2016-08-13  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMinor text-quoting-style fixes\n\n\t* lisp/cus-edit.el (custom-buffer-create-internal):\n\t* lisp/recentf.el (recentf-edit-list):\n\tFollow text-quoting-style preference when quoting in UI strings.\n\t* src/doc.c (Fsubstitute_command_keys): Don\u2019t say that curved\n\tquotes are substituted for, as this is no longer true.\n\n2016-08-13  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix substitute-command-keys unibyte, alloc bugs\n\n\t* src/doc.c (Fsubstitute_command_keys): Fix some problems with\n\tunibyte strings and with buffer allocation.  Make strings\n\tmultibyte, to avoid problems with unibyte strings that are not\n\tvalid UTF-8 (Bug#24206).  Redo buffer allocation so that it is\n\tO(N), not O(N**2).  Avoid going past the end of the input string\n\twhen given invalid input.  Avoid some unlikely problems in\n\taccessing the wrong storage after a GC.\n\n2016-08-13  Joakim Jalap  <joakim.jalap@fastmail.com>\n\n\tFix \"C-u\" when an input method is active\n\n\t* lisp/international/quail.el (quail-input-method): Defer to the\n\tinput method iff 'overriding-terminal-local-map' is\n\t'universal-argument-map' and the given key has no binding there.\n\t(Bug#22958)\n\n2016-08-13  Martin Rudalics  <rudalics@gmx.at>\n\n\tFix docs on `display-buffer-below-selected' (Bug#24213)\n\n\t* lisp/window.el (display-buffer-below-selected): Fix\n\tdoc-string (Bug#24213).\n\t* doc/lispref/windows.texi (Display Action Functions): Fix\n\tdocumentation of `display-buffer-below-selected'.\n\n2016-08-12  Tino Calancha  <tino.calancha@gmail.com>\n\n\tcl-fill: Rename arguments to cl-seq and cl-item\n\n\t* lisp/emacs-lisp/cl-seq.el (cl-fill):\n\tRename arguments to 'cl-seq' and 'cl-item' as elsewhere.\n\n2016-08-12  Thomas Fitzsimmons  <fitzsim@fitzsim.org>\n\n\tFix display.texi typo\n\n\t* doc/lispref/display.texi (Faces): Fix typo.\n\n2016-08-11  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix process leak with make-network-process\n\n\tThis problem was introduced by the recent async changes (Bug#23808).\n\t* src/process.c (Fmake_process): Move USE_SAFE_ALLOCA later,\n\tso that it follows the start_process_unwind unwind-protect.\n\tSet pid to -1 while the process is being created.\n\t(start_process_unwind): Omit unnecessary emacs_abort test.\n\t(connect_network_socket): Simplify use of counts.  Unwind\n\tbind_polling_period a bit earlier, so that a remove_process\n\tunwind-protect can be added when needed; this is the heart of\n\tthe fix.  Undo the unwind-protect just before returning.\n\n2016-08-11  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid annoying re-scroll when buffer has many overlay strings\n\n\t* src/xdisp.c (redisplay_window): Add better recovery from a\n\tsituation where window-start is on buffer position which has a\n\tbefore-string that includes newlines, with the result that point\n\tis not visible in the window, because the display engine starts\n\tdisplaying with the before-string.  (Bug#24179)\n\n2016-08-10  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tOmit unnecessary process initialization\n\n\t* src/process.c (make_process, Fmake_process)\n\t(Fmake_pipe_process, Fmake_serial_process)\n\t(Fmake_network_process, server_accept_connection):\n\tOmit unnecessary initialization of already-cleared storage.\n\n2016-08-10  Tino Calancha  <tino.calancha@gmail.com>\n\n\tcl-delete-duplicates: Parse :if to have cl-if bound\n\n\t* lisp/emacs-lisp/cl-seq.el (cl--delete-duplicates):\n\tWe need also to parse keyword :if, otherwise cl-if\n\tis unbound.\n\tThis reverts commit:\n\t68fdbeb917b80e29e0b15506f18f7ed41d8ffdfd\n\n2016-08-10  Tino Calancha  <tino.calancha@gmail.com>\n\n\tcl-delete-duplicates: do not parse :if keyword\n\n\t* lisp/emacs-lisp/cl-seq.el (cl--delete-duplicates):\n\tParse only the supported keywords.\n\n2016-08-10  Michael Albinus  <michael.albinus@gmx.de>\n\n\tAdd compatibility layer for `temporary-file-directory-function'\n\n\t* lisp/net/tramp-compat.el\n\t(tramp-compat-temporary-file-directory-function): New defalias.\n\n\t* lisp/net/tramp.el (tramp-handle-make-nearby-temp-file): Use it.\n\n\t* test/lisp/net/tramp-tests.el (tramp-test32-make-nearby-temp-file):\n\tSkip for older Emacs versions.\n\n2016-08-10  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* lisp/comint.el (comint-password-prompt-regexp): Add \"PEM\" for OpenVPN.\n\n\t(Bug#24059)\n\n2016-08-10  Vincent Bela\u00efche  <vincentb1@users.sourceforge.net>\n\n\tHandle nil cell value in compiled printer functions.\n\n\t* doc/misc/ses.texi (Quick Tutorial): Minor clarification about the\n\tses-range `!' modifier.\n\t(More on cell printing): Fix this that the fallback printer is\n\t`ses-prin1', not \"%S\".  That makes a difference for any cell value for\n\twhich \"%S\" would insert a backslash characters.\n\n\t* lisp/ses.el (ses-local-printer-compile): Handle the nil cell value\n\t--- contrary to emacs-25 branches ses-call-printer does not handle\n\tprior to calling a function printer.  Not doing this would still work\n\tbecause the compiled function would throw and error and SES would in\n\tthe end resort to the ses-prin1 fallback, however this way would not\n\tbe in line with the raison d'\u00eatre of compiling printer which is speed.\n\n2016-08-09  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tTurn on lexical-binding in json.el\n\n\tMeasuring with (benchmark-run 100 (json-read-file \"foobar.json\"))\n\tshowed 12-31% reduction in execution time.\n\t* lisp/json.el: Turn on lexical-binding.\n\n2016-08-09  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tNudge WoMan toward lexical-binding\n\n\t* lisp/woman.el (woman-parse-man.conf, woman-manpath-add-locales):\n\tUse cl-pushnew instead of add-to-list.\n\t(woman-justify-list): Rename to woman-justify-styles.\n\t(woman-justify-styles): New array.\n\t(woman-justify, woman-decode-region, woman2-ad, woman2-na): Use it.\n\t(woman-cached-data): Use cl-pushnew instead of add-to-list.\n\n2016-08-09  Vincent Bela\u00efche  <vincentb1@users.sourceforge.net>\n\n\tApply changes from commits 3c97b0f758 and 8a38e948b0 to master branch.\n\n\tHere follows the logs from the two commits which I apply to master.\n\n\tcommit 3c97b0f7589e06aeb1ab0147f0ee32974c32926d\n\tAuthor: Vincent Bela\u00efche <vincentb1@users.sourceforge.net>\n\tDate:   Fri Jul 29 13:44:14 2016 +0200\n\n\tFix ses-delete-blanks to delete only blanks + documentation.\n\n\t* doc/misc/ses.texi (Quick Tutorial): Mention the '!'\n\t'ses-range' modifier as an alternative to 'ses+'.\n\t(Advanced Features): Add a refernce to node 'Nonrelocatable\n\treferences' concerning function 'ses-rename-cell'.\n\t(Standard formula functions): Mention the '!' 'ses-range'\n\tmodifier as an alternative to 'ses-delete-blanks'.\n\t(More on cell printing): Fix fallback printer\n\tdefinition.  Minor editorial formatting changes.\n\t(Nonrelocatable references): Document the use of\n\t'ses-rename-cell' as a better way to make cell reference\n\tnon-relocatable.\n\t(The data area): Document the presence of local printer\n\tdefinitions in the data area.\n\n\t* lisp/ses.el (ses-delete-blanks): Do not remove\n\t*error*.  Any error in an argument should propagate into the\n\tusing formula rather than being silently hidden !\n\n\tcommit 8a38e948b039516e70176ebe20c5349e2ade6ac5\n\tAuthor: Vincent Bela\u00efche <vincentb1@users.sourceforge.net>\n\tDate:   Thu Jul 28 19:49:37 2016 +0200\n\n\tFix local printer set to left aligned string formatter.\n\n\t* lisp/ses.el (ses-local-printer-compile): Add missing case\n\tfor left-aligned string formatter.\n\n2016-08-09  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* .dir-locals.el (c-noise-macro-names): Remove NONVOLATILE.\n\n2016-08-09  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/cconv.el: Fix \u03bb-lifting in the presence of shadowing\n\n\tChange the code which detects and circumvents the case where one of the\n\tvariables used in \u03bb-lifting is shadowed, so that it also works when the\n\tshadowing comes before the \u03bb-lifted function (bug#24171).\n\n\t(cconv--remap-llv): New function, extracted from cconv-convert.\n\t(cconv-convert): Use it, but differently for `let' and `let*'.\n\n2016-08-09  Alan Mackenzie  <acm@muc.de>\n\n\tCC Mode: check for and fix missing call to before_change_functions.\n\n\tFixes bug #24094 and bug #24074.\n\n\tThis can happen with `revert-buffer' or sometimes `find-file', when the file\n\tis already in a buffer, but the file has been changed outside of Emacs.\n\n\t* lisp/progmodes/cc-mode.el (c-after-change): When we detect a missing\n\tinvocation of c-before-change-functions, we assume the changed region is the\n\tentire buffer, and call c-before-change explicitly before proceding.\n\n2016-08-09  Alan Mackenzie  <acm@muc.de>\n\n\tMake c-deprepertize-CPP work on deletion/insertion of \"s.  Fixes bug #24132.\n\n\t* lisp/progmodes/cc-mode.el (c-depropertize-CPP): Rewrite function.\n\n2016-08-09  Michael Albinus  <michael.albinus@gmx.de>\n\n\tSupport $ENV in Tramp\n\n\t* doc/misc/tramp.texi (Remote processes): Explain setting $ENV.\n\n\t* etc/NEWS: Explain the \"ENV\" environment variable in\n\t`tramp-remote-process-environment'.\n\n\t* lisp/net/tramp-sh.el (tramp-remote-process-environment): Add \"ENV=''\".\n\t(tramp-open-shell): Read $ENV value from\n\t`tramp-remote-process-environment'.\n\t(tramp-open-connection-setup-interactive-shell): Set values in\n\tproper order.\n\n2016-08-09  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSimplify exec_byte_code via moving decls etc.\n\n\t* src/bytecode.c (exec_byte_code): Simplify, mostly by moving\n\tinitializers into decls, and by omitting some unnecessary\n\tchanges to \u2018top\u2019.  This improves performance a bit on x86-64,\n\tas it happens.\n\n2016-08-09  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRemove interpreter\u2019s byte stack\n\n\tThis improves performance overall on my benchmark on x86-64,\n\tsince the interpreted program-counter resides in a machine\n\tregister rather than in RAM.\n\t* etc/DEBUG, src/.gdbinit: Remove xbytecode GDB command, as there\n\tis no longer a byte stack to decode.\n\t* src/bytecode.c (struct byte_stack, byte_stack_list)\n\t(relocate_byte_stack): Remove.  All uses removed.\n\t(FETCH): Simplify now that pc is now local (typically, in a\n\tregister) and no longer needs to be relocated.\n\t(CHECK_RANGE): Remove.  All uses now done inline, in a different way.\n\t(BYTE_CODE_QUIT): Remove; now done by op_relative_branch.\n\t(exec_byte_code): Allocate a copy of the function\u2019s bytecode,\n\tso that there is no problem if GC moves it.\n\t* src/lisp.h (struct handler): Remove byte_stack member.\n\tAll uses removed.\n\t(SAFE_ALLOCA_LISP_EXTRA): New macro, a generalization of\n\tSAFE_ALLOCA_LISP.\n\t(SAFE_ALLOCA_LISP): Use it.\n\n2016-08-09  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRemove arbitrary limit on bytecode maxdepth\n\n\t* src/bytecode.c (exec_byte_code): Remove MAX_ALLOCA-based limit\n\ton bytecode maxdepth, by using SAFE_ALLOCA_LISP instead of alloca.\n\n\tpipeline is fuller.\n\n2016-08-09  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tTune bytecode quitting\n\n\t* src/bytecode.c (BYTE_CODE_QUIT): Check for GC, too.  Do the\n\tcheck only once every 256 times.  This should be good enough, and\n\timproves performance significantly on x86-64 as branch-prediction\n\ttypically assumes checking will not be done so the instruction\n\tpipeline stays fuller.\n\t(exec_byte_code): Set up the quit counter.  Don\u2019t call maybe_gc\n\tdirectly, as BYTE_CODE_QUIT does that now.\n\n2016-08-09  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSimplify BYTE_CODE_SAFE checking\n\n\t* src/bytecode.c (BYTE_CODE_SAFE): Default to false, so that it\n\tcan be used outside #if.  All uses of \u2018defined BYTE_CODE_SAFE\u2019\n\tchanged to \u2018BYTE_CODE_SAFE\u2019.  Use BYTE_CODE_SAFE in plain\n\texpressions instead of #if expressions when this is easy.\n\t(struct byte_stack) [BYTE_CODE_SAFE]: Remove member \u2018bottom\u2019,\n\tas it is no longer needed.\n\t(exec_byte_code): Omit #if BYTE_CODE_SAFE when this is easy.\n\tSimplify stack-overflow checking when BYTE_CODE_SAFE.\n\n2016-08-09  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tGet BYTE_CODE_METER working again\n\n\tBYTE_CODE_METER hasn\u2019t worked since 2013, and nobody seems to have\n\tnoticed.  Perhaps we should remove it?\n\t* src/bytecode.c (METER_2) [BYTE_CODE_METER]:\n\tUse *aref_addr instead of AREF, since it needs to be an lvalue.\n\n2016-08-08  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix cursor position under scroll-conservatively and overlay strings\n\n\t* src/xdisp.c (try_scrolling): Handle the case where the last\n\tvisible screen line of a window displays a before- or after-string\n\tthat takes up the whole screen line, and therefore there's no\n\tplace to display the cursor, even though the window does seem to\n\tinclude the position of point.  (Bug#24179)\n\n2016-08-08  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* lisp/files.el (file-ownership-preserved-p): Fix docstring.  (Bug#23998)\n\n2016-08-07  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tTune interpretation of integer arglist descriptor\n\n\t* src/bytecode.c (exec_byte_code):\n\tSimplify and tune when INTEGERP (args_template).\n\n2016-08-07  Noam Postavsky  <npostavs@gmail.com>\n\n\tFix debugging of string-match-p errors\n\n\t* src/eval.c (call_debugger): Bind inhibit-changing-match-data to nil so\n\tthat debugger code that needs to do regexp match won't break\n\t(Bug #23949, Bug #24166, Bug#16294).\n\n2016-08-07  Michael Albinus  <michael.albinus@gmx.de>\n\n\tAdd `make-nearby-temp-file' and `temporary-file-directory'\n\n\t* doc/lispref/files.texi (Unique File Names):\n\tIntroduce `make-nearby-temp-file' and `temporary-file-directory'.\n\t(Magic File Names): Mention `make-nearby-temp-file' and\n\t`temporary-file-directory'.\n\n\t* etc/NEWS (provided): Mention `make-nearby-temp-file' and\n\t`temporary-file-directory'.\n\n\t* lisp/files.el (mounted-file-systems): New defcustom.\n\t(temporary-file-directory, make-nearby-temp-file): New defuns.\n\t(normal-backup-enable-predicate): Fix docstring.\n\n\t* lisp/net/tramp-adb.el (tramp-adb-file-name-handler-alist):\n\t* lisp/net/tramp-gvfs.el (tramp-gvfs-file-name-handler-alist):\n\t* lisp/net/tramp-sh.el (tramp-sh-file-name-handler-alist):\n\t* lisp/net/tramp-smb.el (tramp-smb-file-name-handler-alist):\n\t<make-nearby-temp-file, temporary-file-directory>: Add handler.\n\n\t* lisp/net/tramp.el (tramp-file-name-for-operation):\n\tAdd `make-nearby-temp-file' and `temporary-file-directory'.\n\t(tramp-get-remote-tmpdir): Remove compatibility code.\n\t(tramp-handle-temporary-file-directory)\n\t(tramp-handle-make-nearby-temp-file): New defuns.\n\n\t* lisp/org/ob-core.el (org-babel-local-file-name):\n\t* lisp/progmodes/gud.el (gud-common-init):\n\t* lisp/vc/vc-hooks.el (vc-user-login-name): Use `file-remote-p'.\n\n\t* lisp/vc/vc-git.el (vc-git-checkin): Handle remote log message.\n\n\t* test/lisp/net/tramp-tests.el (tramp-test06-directory-file-name):\n\tCheck `tramp--test-enabled'.\n\t(tramp-test18-file-attributes): Add tests for\n\t`file-ownership-preserved-p'.\n\t(tramp-test27-start-file-process, tramp-test28-shell-command):\n\tReduce timeouts in `accept-process-output'.\n\t(tramp-test--shell-command-to-string-asynchronously): Add timeout.\n\t(tramp-test29-environment-variables): Remove additional sleep calls.\n\t(tramp-test32-make-nearby-temp-file): New test.\n\t(tramp--test-special-characters, tramp--test-utf8): Adapt docstring.\n\t(tramp-test33-special-characters)\n\t(tramp-test33-special-characters-with-stat)\n\t(tramp-test33-special-characters-with-perl)\n\t(tramp-test33-special-characters-with-ls, tramp-test34-utf8)\n\t(tramp-test34-utf8-with-stat, tramp-test34-utf8-with-perl)\n\t(tramp-test34-utf8-with-ls)\n\t(tramp-test35-asynchronous-requests)\n\t(tramp-test36-recursive-load, tramp-test37-unload): Rename.\n\t(tramp--test-ftp-p): Simplify check.\n\t(tramp--test-sh-p): New defun.\n\t(tramp-test20-file-modes, tramp-test22-file-times)\n\t(tramp-test26-process-file, tramp-test27-start-file-process)\n\t(tramp-test28-shell-command)\n\t(tramp-test29-environment-variables)\n\t(tramp-test30-vc-registered)\n\t(tramp-test33-special-characters-with-stat)\n\t(tramp-test33-special-characters-with-perl)\n\t(tramp-test33-special-characters-with-ls)\n\t(tramp-test34-utf8-with-stat, tramp-test34-utf8-with-perl)\n\t(tramp-test34-utf8-with-ls)\n\t(tramp-test35-asynchronous-requests): Use it.\n\n2016-08-06  Michael Albinus  <michael.albinus@gmx.de>\n\n\tAdd missing dcstrings in Tramp, remove chec for obsolee methods\n\n\t* lisp/net/tramp.el (tramp-progress-reporter-update)\n\t(tramp-unload-file-name-handlers, tramp-get-local-uid)\n\t(tramp-get-local-gid, tramp-get-local-locale):\n\t* lisp/net/tramp-adb.el (tramp-adb-ls-date-regexp)\n\t(tramp-adb-ls-toolbox-regexp, tramp-adb-get-ls-command):\n\t* lisp/net/tramp-compat.el (tramp-compat-funcall):\n\t* lisp/net/tramp-ftp.el (tramp-ftp-enable-ange-ftp):\n\t* lisp/net/tramp-gw.el (tramp-gw-process-filter):\n\t* lisp/net/tramp-sh.el (tramp-get-remote-path)\n\t(tramp-get-remote-locale, tramp-get-ls-command)\n\t(tramp-get-ls-command-with-dired)\n\t(tramp-get-ls-command-with-quoting-style)\n\t(tramp-get-ls-command-with-w-option)\n\t(tramp-get-test-nt-command, tramp-get-file-exists-command)\n\t(tramp-get-remote-ln, tramp-get-remote-perl)\n\t(tramp-get-remote-stat, tramp-get-remote-readlink)\n\t(tramp-get-remote-trash, tramp-get-remote-touch)\n\t(tramp-get-remote-gvfs-monitor-dir)\n\t(tramp-get-remote-inotifywait, tramp-get-remote-id)\n\t(tramp-get-remote-uid-with-id)\n\t(tramp-get-remote-uid-with-perl, tramp-get-remote-python)\n\t(tramp-get-remote-uid-with-python, tramp-get-remote-uid)\n\t(tramp-get-remote-gid-with-id)\n\t(tramp-get-remote-gid-with-perl)\n\t(tramp-get-remote-gid-with-python, tramp-get-remote-gid)\n\t(tramp-get-env-with-u-option): Add missing docstrings.\n\n\t* lisp/net/tramp.el (tramp-obsolete-methods)\n\t(tramp-warned-obsolete-methods): Remove.\n\t(tramp-find-method): Do not check for obsolete methods any longer.\n\n2016-08-06  Noam Postavsky  <npostavs@gmail.com>\n\n\tMake sh-mode always use p-s-lookup-properties\n\n\tThis lets functions which rely on syntax-propertize for parsing\n\twork correctly even before font lock has a chance to run.\n\n\t* lisp/progmodes/sh-script.el (sh-set-shell): Set\n\tparse-sexp-lookup-properties unconditionally (Bug #4920).\n\n2016-08-06  Noam Postavsky  <npostavs@gmail.com>\n\n\tFix cl-assert with atomp FORM, non-nil SHOW-ARGS\n\n\t* lisp/emacs-lisp/cl-macs.el (cl-assert): Don't require that FORM is a\n\tlist when showing its (non-existent) arguments (Bug #18587).\n\n2016-08-06  Noam Postavsky  <npostavs@gmail.com>\n\n\tDon't delete selection after indent-rigidly\n\n\t* lisp/indent.el (indent-rigidly): Pass `deactivate-mark' as the ON-EXIT\n\tfunction to `set-transient-map', this prevents `delete-selection-mode'\n\tfrom deleting the text that was just indented (Bug #20408).\n\n2016-08-06  Noam Postavsky  <npostavs@gmail.com>\n\n\tFix byte-compile of interactive closures\n\n\t* lisp/emacs-lisp/bytecomp.el (byte-compile--reify-function): Put\n\tbindings after docstring and `interactive' form, if any (Bug #24122).\n\n2016-08-06  Noam Postavsky  <npostavs@gmail.com>\n\n\tError if --eval arg has text beyond 1 expression\n\n\t* lisp/startup.el (command-line-1): If --eval argument has more data\n\tthan constitutes a single Lisp expression, signal an error (Bug #23159).\n\n2016-08-06  Noam Postavsky  <npostavs@gmail.com>\n\n\tFix quoted lambda warning from lexical-let\n\n\t* lisp/emacs-lisp/cl.el (cl--function-convert): Quote the inner lambda\n\twith `function', not `quote' (Bug #11357).\n\n2016-08-06  Noam Postavsky  <npostavs@gmail.com>\n\n\tMake emerge always use shell-quote-argument\n\n\t* lisp/vc/emerge.el (emerge-metachars): Obsolete.\n\t(emerge-protect-metachars): Delete.\n\t(emerge-make-diff-list, emerge-make-diff3-list): Replace all calls to\n\t`emerge-protect-metachars' with `shell-quote-argument' so that shell\n\tquoting is done the same on all system types (Bug #6136).  Also shell\n\tquote `emerge-diff-program' and `emerge-diff3-program'.\n\n2016-08-06  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix 'dired-diff' when backup file is in another directory\n\n\t* lisp/dired-aux.el (dired-diff): Clarify the doc string wrt how\n\tthe default for FILE is computed, especially when backup files\n\tare involved.  Support backup files in another directory.\n\tDon't suggest the default FILE if it doesn't exist.  (Bug#24089)\n\n2016-08-06  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix the 'T' command in Dired with non_ASCII file names\n\n\t* lisp/dired-aux.el (dired-do-chxxx): Bind coding-system-for-write\n\tto correctly encode file names passed to the invoked PROGRAM.\n\t(Bug#24162)\n\n2016-08-05  Noam Postavsky  <npostavs@gmail.com>\n\n\t* lisp/files.el (version-control): Drop :group vc (Bug #14687)\n\n2016-08-05  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\td841a03 ; Spelling fix\n\ta6ae479 Post AppDefined events from the main thread ONLY (bug#23934)\n\td35d398 Update to the AUTHORS file for Bob Weiner\n\t4d2f4df Revert \"Fix local printer set to left aligned string formatter.\"\n\tcd1b4d6 Revert \"Fix ses-delete-blanks to delete only blanks + documen...\n\tf7ceb8e Revert \"Fix English.\"\n\tbaa7abd Improve doc strings of 'gud-gdb' and 'gdb'\n\taa4271a Fix doc string of 'minibuffer-message-timeout'\n\tb275cc7 Fix English.\n\t3c97b0f Fix ses-delete-blanks to delete only blanks + documentation.\n\t272391f profiler: document prefix arg for tree expansion\n\t442cc39 Clarify usage of eshell-visual-options\n\tb443c3c Fix comment in files-in-below-directory\n\t8a38e94 Fix local printer set to left aligned string formatter.\n\t0f0b191 ; Fix typos in NEWS\n\t6bdf687 ; * etc/NEWS: Remove temporary marks\n\n2016-08-05  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\td08afa1 * etc/AUTHORS: Update the AUTHORS file\n\t2668500 ;; * ChangeLog.2: ChangeLog update.\n\t7acfaea ; ChangeLog fixes\n\t97d28b4 * admin/authors.el (authors-valid-file-names): Addition.\n\t9ab52f6 * admin/authors.el: Additions.\n\t0e646c7 Warn about Cairo-related problems\n\tbc4c07f Don't let completion break `declare' handling\n\t66f95e0 Adjust match data before calling after-change-funs\n\t52cf0d5 Do not show string-rectangle preview if minibuffer is empty\n\t6a3d031 * etc/PROBLEMS: Add entry about selection problems under Plas...\n\n\t# Conflicts:\n\t#\tChangeLog.2\n\t#\tsrc/lisp.h\n\n2016-08-05  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\t9a41cd1 ; Fix typo\n\t9356fe2 Expand FIXME near definition of fboundp\n\t219b39f kill-rectangle should mention killed-rectangle\n\t59fa4c3 Avoid assertion violations in nhexl-mode\n\n2016-08-05  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\t9ba51ed Document buffer-swap-text+save-excursion interaction\n\t452aa94 Fix eieio vs cl-generic incompatibilities found in Rudel (bug...\n\t248d5dd Include cl-generic in package--builtin-versions (bug#22817)\n\t8f5a8b6 Improve timing in `tramp-test29-environment-variables'\n\t05ba7a0 Add test for handling environment variables in Tramp\n\te393d4f * lisp/emacs-lisp/package.el (describe-package-1) (package-st...\n\t5e38887 ; * lisp/net/tramp.el: Fix 2010-10-04 comment typo.  (Bug#23913)\n\t90f2169 ; Spelling fixes\n\t069fc05 Improve documentation of search functions\n\t0a0144a Delete environment variables in Tramp when needed\n\tf624671 Add \"New in Emacs 25\" section to the FAQ\n\t658daf9 Fix 'vertical-motion' in non-interactive sessions\n\t686b520 Fix memory leak in imagemagick-types\n\t4069b71 Update ELisp manual to match 'string-collate-equalp' doc string\n\t1b2d6a6 Clarify docstring of find-feature-regexp\n\taac62a6 Add details to cl-lib defining macros' docstrings\n\td6aa4da Clarify doc string of 'save-buffer'\n\t03bcf11 Un-confuse doc string of 'string-collate-equalp'\n\tc53135b Clarify documentation of 'mouse-on-link-p'\n\n\t# Conflicts:\n\t#\tlisp/emacs-lisp/eieio-core.el\n\n2016-08-05  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\t6f285d9 Amend last addition to etc/PROBLEMS\n\t7067890 * etc/PROBLEMS: Mention GTK+ problem with unexpected frame wi...\n\n2016-08-05  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\td4c6774 Fix missing point information in undo\n\t3a9d629 Avoid crashes when buffer modification hooks clobber match data\n\t178b2f5 Note combine-and-quote-strings doesn't shell quote\n\tdec7567 Explain when package-initialize isn't called\n\t113d1e2 Fix escaping in sh-indent-after-continuation docstr\n\t80e2044 ; * etc/NEWS: Improve previous change.\n\t5bb9e6c ; * etc/NEWS: Document how to avoid horizontal scroll bars.\n\t38f4b8e Clarify the documentation of back-references in replacements\n\n2016-08-05  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\t850ba44 Clarify lexical binding with symbol args behavior\n\tf981b31 * lisp/net/tramp-sh.el (tramp-remote-path): Doc fix.\n\t68fc964 * lisp/net/tramp-sh.el (tramp-remote-path): Doc fix.  (Bug#23...\n\t21110af Avoid assertion violations when rendering some fonts\n\t6192b6c Document more details of package activation\n\t272ddc6 Fixup warning message regarding HOME a bit more\n\t43206d6 * lisp/leim/quail/indian.el (\"bengali-probhat\"): Change indic...\n\td41f7ff Fix input method \"probhat\" for Bengali\n\tc150a64 ; Fix typo in commit before last\n\tebf0472 Add to elisp-completion-at-point's docstring\n\tfd9fad0 Give more helpful warning about setting HOME\n\tea6b01d ; * lisp/term.el (term-mode): FIXME comment about bidi reorde...\n\n\t# Conflicts:\n\t#\tlisp/term.el\n\n2016-08-05  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\t26d4da0 New input method \"probhat\" for Bengali\n\t4f445bf ; Spelling fix\n\tf403f03 ; Fix typo\n\n2016-08-05  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSpelling and minor grammar fixes\n\n\t* test/file-organization.org: Rename from test/file-organisation.org.\n\n2016-08-04  Alan Mackenzie  <acm@muc.de>\n\n\tWiden in certain low level CC Mode functions.  This fixes bug #24148.\n\n\t* lisp/progmodes/cc-engine.el (c-state-semi-pp-to-literal)\n\t(c-state-full-pp-to-literal): Widen around the functionality.\n\t(c-parse-ps-state-below): Correct the order of save-excursion and\n\tsave-restriction.\n\n2016-08-04  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tFix Bug#24149\n\n\t* lisp/subr.el (set-transient-map): Don't wait if MAP not present in\n\toverriding-terminal-local-map.  (Bug#24149)\n\n2016-08-03  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tUpdate from gnulib\n\n\tThis incorporates:\n\t2016-07-03 mktime: call tzset as per POSIX\n\t* doc/misc/texinfo.tex, lib/mktime.c, m4/mktime.m4:\n\tCopy from gnulib.\n\n2016-08-03  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix GnuTLS includes\n\n\t* src/gnutls.c [HAVE_GNUTLS]: Don\u2019t include gnutls/gnutls.h\n\ta second time; although it doesn\u2019t hurt, it\u2019s not needed.\n\t* src/sysdep.c [!HAVE_GNUTLS]: Don\u2019t include gnutls/crypto.h,\n\tas it may not be available.  Problem reported by Glenn Morris in:\n\thttps://lists.gnu.org/r/emacs-devel/2016-08/msg00100.html\n\n2016-08-03  Michal Nazarewicz  <mina86@mina86.com>\n\n\tFix accessing regex-resources in out-of-tree test runs in regex-tests\n\n\t[82a487d: Fix reading of regex-resources in regex-tests] attempted to\n\tfix regex-tests failing when run from the source tree (i.e. via make)\n\tby hard-coding path to regex-resources directory relative to the test\n\tdirectory.\n\n\tThis fixed runs from the tree but broke the test when run using other\n\tmethods.\n\n\tFix by trying \u2018load-file-name\u2019 or \u2018buffer-file-name\u2019, whichever is set.\n\n\t* test/src/regex-tests.el (regex-tests--resources-dir): New variable\n\tstoring path to the regex-resources directory.\n\t(regex-tests-generic-line): Use aforementioned variable.\n\n2016-08-03  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSimplify by assuming GnuTLS 2.12.2 or later\n\n\t* src/gnutls.c (gnutls_certificate_details):\n\t* src/sysdep.c: Assume GnuTLS 2.12.2 or later.\n\n2016-08-03  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort to systems lacking GNUTLS_NONBLOCK\n\n\tProblem reported by Colin Baxter in:\n\thttps://lists.gnu.org/r/emacs-devel/2016-08/msg00096.html\n\t* src/gnutls.c (Fgnutls_boot): Don\u2019t assume GNUTLS_NONBLOCK is defined.\n\n2016-08-03  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix non-blocking GnuTLS with slow connection\n\n\tAlthough the problem is reported for OS X (Bug#23982), it seems to\n\tbe possible on other POSIXish platforms.\n\t* src/gnutls.c (emacs_gnutls_nonblock_errno) [!WINDOWSNT]:\n\tNew function.\n\t(emacs_gnutls_handshake) [!WINDOWSNT]:\n\tUse it as the errno function, if non-blocking.\n\t(Fgnutls_boot): Use GNUTLS_NONBLOCK if non-blocking.\n\n2016-08-03  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRequire GnuTLS 2.12.2 or later\n\n\t* configure.ac, etc/NEWS: Require GnuTLS 2.12.2 or later,\n\tinstead of merely 2.6.6 or later (Bug#23982#20).\n\t* src/gnutls.c (init_gnutls_functions, emacs_gnutls_handshake)\n\t[WINDOWSNT]: Don\u2019t bother with gnutls_check_version or\n\tgnutls_transport_set_lowat, as they are no longer needed now that\n\twe require gnutls 2.12.2 or later.\n\n2016-08-02  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* src/window.c (sanitize_window_sizes): Remove unused arg `frame'\n\n\t* src/window.h (sanitize_window_sizes): Adjust prototype.\n\t* src/frame.c (adjust_frame_size): Adjust calls.\n\n2016-08-02  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix (mapcar F S) crash when F alters S\u2019s length\n\n\t* src/fns.c (mapcar1): Return number of elements computed,\n\twhich can be less than LENI if the function alters the list.\n\tAll callers changed.  (Bug#24118)\n\n2016-08-02  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort window changes to --enable-gcc-warnings\n\n\t* src/window.c (sanitize_window_sizes): Return void.\n\tThis pacifies GCC, and no caller uses the return value anyway.\n\n2016-08-02  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* src/window.c: Fix bootstrap failure due to window.el changes\n\n\t(sanitize_window_sizes): Adjust to new calling convention of\n\twindow--sanitize-window-sizes and only call it if defined.\n\t(Fwindow__sanitize_window_sizes): Remove.\n\t(syms_of_window): Don't defsubr it.\n\n2016-08-02  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix Bug#23883\n\n\t* lisp/net/tramp-sh.el (tramp-maybe-open-connection):\n\tCall `process-actions' with adapted position.  The connection\n\tbuffer might have been cleaned up already.  (Bug#23883)\n\n2016-08-02  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort regex changes to strict ISO C\n\n\t* src/regex.c (regex_compile): Redo casts.\n\n2016-08-02  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/window.el: Use lexical-binding\n\n\t(window--min-size-ignore-p): Remove unused arg `horizontal'.\n\t(window--sanitize-window-sizes): Remove unused arg `frame'.\n\t(window-edges): Remove unused vars left-off and right-off.\n\t(display-buffer-reuse-mode-window): Remove unused var `frame?'.\n\tAvoid extraneous setq and do a bit of CSE.\n\t(fit-frame-to-buffer): Remove unused vars `window', `fit-width',\n\tand `toolbar-extra-height'.\n\t(window-adjust-process-window-size): Remove unused arg `process'.\n\n2016-08-02  Michal Nazarewicz  <mina86@mina86.com>\n\n\tFix unused lexical variable\n\n\tThis fixes the following warning:\n\n\t    In toplevel form:\n\t    src/regex-tests.el:416:1:Warning: Unused lexical variable \u2018newline\u2019\n\n\t* test/src/regex-tests.el (regex-tests-BOOST): Remove unused lexical\n\tvariable.\n\n2016-08-02  Michal Nazarewicz  <mina86@mina86.com>\n\n\tRemove unused STREQ macro\n\n\tThis fixes the following compilation warning:\n\n\t    regex.c:516:0: warning: macro \"STREQ\" is not used [-Wunused-macros]\n\t     #define STREQ(s1, s2) ((strcmp (s1, s2) == 0))\n\t     ^\n\n\t* src/regex.c (STREQ): Remove unused macro.  It should have been removed\n\tin a [4538a5e: Refactor regex character class parsing in [:name:]]\n\tcommit but was mistakenly left out.\n\n2016-08-02  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/cl-generic.el: Fix problems introduced by new\n\tload-history format\n\n\t* lisp/emacs-lisp/cl-generic.el (cl--generic-load-hist-format): New function.\n\t(cl-generic-define-method, cl--generic-describe): Use it.\n\t(cl--generic-search-method): Adjust for new format.\n\n\t* lisp/progmodes/elisp-mode.el (elisp--xref-find-definitions):\n\t* test/lisp/progmodes/elisp-mode-tests.el:\n\tUse cl--generic-load-hist-format rather than hard-coding cl-generic's\n\tinternal format.\n\n2016-08-02  Michal Nazarewicz  <mina86@mina86.com>\n\n\tHardcode regex syntax to remove dead code handling different syntax\n\n\tEmacs only ever uses its own regex syntax so support for other syntaxes\n\tis never used.  Hardcode the syntax so that the compilar can detect such\n\tdead code and remove it from compiled code.\n\n\tThe only exception is RE_NO_POSIX_BACKTRACKING which can be separatelly\n\tspecified.  Handle this separatelly with a function argument (replacing\n\tnow unnecessary syntax argument).\n\n\tWith this patchset, size of Emacs binary on x86_64 machine is reduced by\n\taround 60 kB:\n\n\t\tnew-sizes:-rwx------ 3 mpn eng 30254720 Jul 27 23:31 src/emacs\n\t\told-sizes:-rwx------ 3 mpn eng 30314828 Jul 27 23:29 src/emacs\n\n\t* src/regex.h (re_pattern_buffer): Don\u2019t define syntax field #ifdef emacs.\n\t(re_compile_pattern): Replace syntax with posix_backtracking argument.\n\n\t* src/regex.c (print_compiled_pattern): Don\u2019t print syntax #ifdef emacs.\n\t(regex_compile): #ifdef emacs, replace syntax argument with\n\tposix_backtracking which is now used instead of testing for\n\tRE_NO_POSIX_BACKTRACKING syntax.\n\t(re_match_2_internal): Don\u2019t access bufp->syntax #ifndef emacs.\n\t(re_compile_pattern): Replace syntax with posix_backtracking argument.\n\n\t* src/search.c (compile_pattern_1): Pass boolean posix_backtracking\n\tinstead of syntax to re_compile_pattern.\n\n2016-08-02  Michal Nazarewicz  <mina86@mina86.com>\n\n\tGet rid of re_set_whitespace_regexp\n\n\t* src/regex.h (re_set_whitespace_regexp): Delete.\n\t(re_compile_pattern): Add whitespace_regexp argument #ifdef emacs.\n\n\t* src/regex.c (re_set_whitespace_regexp, whitespace_regexp): Delete.\n\t(regex_compile): Add whitespace_regexp argument #ifdef emacs and wrap\n\twhitespace_regexp-related code in an #ifdef emacs so it\u2019s compiled out\n\tunless building Emacs.\n\t(re_compile_pattern): Pass whitespace_regexp argument to regex_compile\n\n\t* src/search.c (compile_pattern_1): Don\u2019t use re_set_whitespace_regexp,\n\tpass the regex as argument to re_compile_pattern instead.\n\n2016-08-02  Michal Nazarewicz  <mina86@mina86.com>\n\n\tGet rid of re_set_syntax\n\n\tInstead of using a global variable for storing regex syntax, pass it\n\tto re_compile_pattern.  This is only enabled when compiling Emacs (i.e.\n\t\u2018#ifdef emacs\u2019).\n\n\t* src/regex.h (re_set_syntax): Declare only #ifndef emacs.\n\t(re_compile_pattern): Now takes syntax argument #ifdef emacs.\n\n\t* src/regex.c (re_syntax_options): Define only #ifndef emacs.\n\t(re_compile_pattern): Use the new syntax argument #ifdef emacs.\n\n\t* src/search.c (compile_pattern_1): Don\u2019t use re_set_syntax and\n\tinstead pass syntax to re_compile_pattern directly.\n\n2016-08-02  Michal Nazarewicz  <mina86@mina86.com>\n\n\tRemove dead opcodes in regex bytecode\n\n\tThere is no way to specify before_dot and after_dot opcodes in a regex\n\tso code handling those ends up being dead.  Remove it.\n\n\t* src/regex.c (print_partial_compiled_pattern, regex_compile,\n\tanalyze_first, re_match_2_internal): Remove handling and references to\n\tbefore_dot and after_dot opcodes.\n\n2016-08-02  Michal Nazarewicz  <mina86@mina86.com>\n\n\tRefactor regex character class parsing in [:name:]\n\n\tre_wctype function is used in three separate places and in all of\n\tthose places almost exact code extracting the name from [:name:]\n\tsurrounds it.  Furthermore, re_wctype requires a NUL-terminated\n\tstring, so the name of the character class is copied to a temporary\n\tbuffer.\n\n\tThe code duplication and unnecessary memory copying can be avoided by\n\tpushing the responsibility of parsing the whole [:name:] sequence to\n\tthe function.\n\n\tFurthermore, since now the function has access to the length of the\n\tcharacter class name (since it\u2019s doing the parsing), it can take\n\tadvantage of that information in skipping some string comparisons and\n\tusing a constant-length memcmp instead of strcmp which needs to take\n\tcare of NUL bytes.\n\n\t* src/regex.c (re_wctype): Delete function.  Replace it with:\n\t(re_wctype_parse): New function which parses a whole [:name:] string\n\tand returns a RECC_* constant or -1 if the string is not of [:name:]\n\tformat.\n\t(regex_compile): Use re_wctype_parse.\n\t* src/syntax.c (skip_chars): Use re_wctype_parse.\n\n2016-08-02  Michal Nazarewicz  <mina86@mina86.com>\n\n\tSplit regex glibc test cases into separet tests\n\n\t* test/src/regex-tests.el (regex-tests): Remove and split into multiple\n\ttests cases.\n\t(regex-tests-glbic-BOOST, regex-tests-glibc-PCRE,\n\tregex-tests-glibc-PTESTS, regex-tests-glibc-TESTS): New test cases split\n\tfrom \u2018regex-tests\u2019.\n\n2016-08-02  Michal Nazarewicz  <mina86@mina86.com>\n\n\tDon\u2019t (require 'cl)\n\n\t* test/src/regex-tests.el: Don\u2019t (require 'cl).\n\t(regex-tests-PCRE): s/loop/cl-loop/\n\n2016-08-02  Michal Nazarewicz  <mina86@mina86.com>\n\n\tFix reading of regex-resources in regex-tests\n\n\t* test/src/regex-tests.el (regex-tests-generic-line): Referring to\n\t\u2018buffer-file-name\u2019 does not work when running the test from command\n\tline, i.e. via make, which results in (wrong-type-argument stringp nil)\n\tfailures.  Replace it with hard-coded path.\n\t(regex-tests-BOOST, regex-tests-PCRE, regex-tests-PTESTS-whitelist,\n\tregex-tests-TESTS-whitelist): \u2018regex-tests-generic-line\u2019 now  includes\n\tthe \u2018regex-resources\u2019 path component so the tests don\u2019t need to specify\n\tit explicitly.\n\n2016-08-02  Dima Kogan  <dima@secretsauce.net>\n\n\tAdded driver for the regex tests\n\n\t* test/src/regex-tests.el (regex-tests): Test executing glibc tests\n\tcases.\n\n\t[mina86@mina86.com: merged test with existing file]\n\n2016-08-02  Dima Kogan  <dima@secretsauce.net>\n\n\tNew regex tests imported from glibc 2.21\n\n\t* test/src/regex-resources/BOOST.tests:\n\t* test/src/regex-resources/PCRE.tests:\n\t* test/src/regex-resources/PTESTS:\n\t* test/src/regex-resources/TESTS:\n\tNew test data files\n\n\t[mina86@mina86.com: Moved files from test/src/regex/* to test/src/*.]\n\n2016-08-02  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix use-after-close in connect_network_socket\n\n\t* src/process.c (connect_network_socket):\n\tReverse sense of previous fix.  Problem reported by Ken Brown in:\n\thttps://lists.gnu.org/r/emacs-devel/2016-08/msg00004.html\n\n2016-08-01  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/emacs-lisp/autoload.el (autoload-generate-file-autoloads):\n\tRespect autoload-timestamps for \"actual autoloads are elsewhere\" case.\n\n2016-07-31  Stefan Merten  <stefan@merten-home.de>\n\n\t* lisp/textmodes/rst.el: Major refactoring, minor changes, minor fixes\n\n\t(rst-Ado, rst-Hdr, rst-Ttl, rst-Stn): Introduce classes\n\trepresenting reStructuredText section header concepts.\n\t(rst-mode-map, rst-new-preferred-hdr)\n\t(rst-update-section, rst-classify-adornment)\n\t(rst-ttl-at-point, rst-all-ttls-cache)\n\t(rst-hdr-hierarchy-cache, rst-reset-section-caches)\n\t(rst-all-ttls, rst-infer-hdr-hierarchy, rst-hdr-hierarchy)\n\t(rst-all-ttls-with-level, rst-get-previous-hdr)\n\t(rst-adornment-complete-p, rst-next-hdr, rst-adjust)\n\t(rst-adjust-section, rst-promote-region)\n\t(rst-display-hdr-hierarchy, rst-straighten-sections)\n\t(rst-all-stn, rst-remaining-stn, rst-toc-insert)\n\t(rst-toc-insert-node, rst-toc-node, rst-toc)\n\t(rst-forward-section, rst-adornment-level)\n\t(rst-font-lock-handle-adornment-pre-match-form)\n\t(rst-imenu-convert-cell, rst-imenu-create-index): Refactor\n\tusing classes.\n\t(rst-compare-adornments, rst-get-adornment-match): Remove\n\tfunctions now in classes.\n\t(rst-re-alist-def, rst-toc-mode)\n\t(rst-font-lock-extend-region-extend): Minor improvements.\n\t(rst-mode, rst-compile): Use `setq-local'.\n\t(rst-cvs-header, rst-svn-rev, rst-svn-timestamp)\n\t(rst-official-version, rst-official-cvs-rev)\n\t(rst-package-emacs-version-alist): Maintain version tags.\n\n2016-07-30  Martin Rudalics  <rudalics@gmx.at>\n\n\tFix calculation of tool bar width reported by `frame-geometry' (Bug#24107)\n\n\t* src/w32fns.c (Fw32_frame_geometry): Fix calculation of tool\n\tbar width (Bug#24107).  Reindent.\n\t* src/xfns.c (frame_geometry): Fix calculation of tool bar\n\twidth on non-GTK builds.\n\n2016-07-30  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix region display while dragging mouse\n\n\t* lisp/mouse.el (mouse-drag-track): Reset deactivate-mark in the\n\tbuffer of the drag event, to allow mark to be set and the region\n\tbe shown as we drag the mouse.  (Bug#24030)\n\n2016-07-30  Tino Calancha  <tino.calancha@gmail.com>\n\n\tCopy just non-empty strings to kill-ring\n\n\t* lisp/dired.el (dired-copy-filename-as-kill):\n\tDo not change the kill ring when the string is empty (Bug#24103).\n\n2016-07-30  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid warnings about undo list while decoding\n\n\t* src/coding.c (coding_restore_undo_list): New function.\n\t(decode_coding_gap, decode_coding_object): Temporarily set the\n\tbuffer's undo list to t, to avoid warnings when decoding changes\n\tthe buffer many times, e.g. due to post-read-conversion.  Use\n\tcoding_restore_undo_list to make sure the undo list is restored.\n\t(Bug#23813)\n\n2016-07-28  Noam Postavsky  <npostavs@gmail.com>\n\n\tprofiler: Add mouse-1 binding for tree expansion\n\n\t(profiler-report-mode-map): Add mouse-1 binding for\n\tprofiler-report-toggle-entry (Bug #13455).\n\n2016-07-28  Vincent Bela\u00efche  <vincentb1@users.sourceforge.net>\n\n\tEnable addition of local printers from a mode hook.\n\n\t* doc/misc/ses.texi (Printer functions): Split the node into 5\n\tsub-nodes + add some extra documentation.\n\t(Various kinds of printer functions): Make an itemization to\n\tdisintguish better the 3 types of printers, give an example of\n\tlambda printer definition.\n\t(Standard printer functions): Add documentation for ses-prin1\n\tprinter function.\n\t(Local printer functions): Add documentation for creating\n\tlocal printers programmatically from a hook.\n\t(Writing a lambda printer function): Add documentation about\n\tanti-stackoverflow precautions to take when you call the\n\tstandard printer functions from inside a local printer.\n\n\t* lisp/ses.el (ses-standard-printer-functions): Add ses-prin1\n\tamong standard printer function, and update docstring\n\taccordingly.\n\t(ses-call-printer, ses-export-tab): Call `ses-prin1' instead\n\tof prin1-to-string.\n\t(ses-define-local-printer): Add definition to arguments so\n\tthat a local printer can be defined programmatically from a\n\tmode hook.  Make docstring more substantial.  Use completing\n\tread for local printer name input.  Plus some minor\n\toptimization.\n\t(ses-define-if-new-local-printer): New defsubst.\n\t(ses-center, ses-center-span, ses-dashfill)\n\t(ses-dashfill-span, ses-tildefill-span): Allow to pass printer\n\tas an optional argument to superseed column printer/default\n\tspreadsheet printer.\n\t(ses-prin1): New defun.\n\n2016-07-27  Ted Zlatanov  <tzz@lifelogs.com>\n\n\tPrompt to save gnus-cloud-method.\n\n\tSince `gnus-cloud-method' is a defcustom, when it's set, we should\n\tprompt the user to save it, so the customization is not lost on\n\trestart.\n\n\t* lisp/gnus/gnus-srvr.el (gnus-server-toggle-cloud-method-server):\n\tPrompt to save the customization of `gnus-cloud-method'.\n\n2016-07-27  Ken Brown  <kbrown@cornell.edu>\n\n\tFix dired-test-bug22694\n\n\t* test/lisp/dired-tests.el (dired-test-bug22694): Delete the\n\t\"bug22694\" directory, if it exists, before running the test.  It\n\tmight be left over from a previous aborted run of the test.\n\n2016-07-27  Michal Nazarewicz  <mina86@mina86.com>\n\n\tFix \u2018is multibyte\u2019 test regex.c\u2019s mutually_exclusive_p (bug#24020)\n\n\t* src/regex.c (mutually_exclusive_p): Fix how whether character is\n\tunibyte is tested when calling execute_charset function.  This bug has\n\tbeen introduced by [6dc6b00: Fix \u2018[[:cc:]]*literal\u2019 regex failing to\n\tmatch \u2018literal\u2019] which dropped a call to IS_REAL_ASCII (c) macro.\n\tReinstitute it.\n\n2016-07-27  Tino Calancha  <tino.calancha@gmail.com>\n\n\tRemove hook when disabling ibuffer-auto-mode\n\n\t* lisp/ibuf-ext.el (ibuffer-auto-mode):\n\tRemove 'ibuffer-auto-update-changed' from 'post-command-hook'.\n\n2016-07-26  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/subr.el (cancel-change-group): Reset cell in case of error\n\n\tSince the setcdr/setcdr is supposed to be temporary, use unwind-protect\n\tto make sure we properly undo the temporary change even in case of error.\n\n2016-07-26  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid segfaults in compute_motion\n\n\t* src/indent.c (compute_motion): Don't turn on and don't use the\n\twidth cache unless the buffer's width-table is non-nil.  This\n\tavoids segfaults because code that uses the width cache assumes\n\tthe width-table exists.  (Bug#24064)\n\n2016-07-26  Nicolas Petton  <nicolas@petton.fr>\n\n\tDo not sharp-quote lambdas\n\n\t* lisp/progmodes/sql.el: Remove sharp-quotes in lambdas.\n\n2016-07-25  Ted Zlatanov  <tzz@lifelogs.com>\n\n\t* lisp/gnus/gnus-cloud.el (gnus-cloud-encode-data): Fix\n\t'base64-gzip encoding.\n\n2016-07-25  Andrew Hyatt  <ahyatt@gmail.com>\n\n\tAdd warning to format-alist docs.\n\n\t*/doc/lispref/files.texi (format-alist) Change documentation for\n\tformat-alist to warn against file modifications when formatting, which\n\tleads to incorrect results.  (Bug#5440)\n\n\tChanges suggested by Eli.\n\n2016-07-25  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\t* lisp/gnus/mm-decode.el (mm-convert-shr-links):\n\tPreserve key bindings that shr adds (bug#23964).\n\n2016-07-25  Michal Nazarewicz  <mina86@mina86.com>\n\n\tFix \u2018[[:cc:]]*literal\u2019 regex failing to match \u2018literal\u2019 (bug#24020)\n\n\tThe regex engine tries to optimize Kleene star by avoiding backtracking\n\twhen it can detect that star\u2019s operand cannot match what follows it in\n\tthe pattern.\n\n\tFor example, when \u2018[[:alpha:]]*1\u2019 tries to match a \u2018foo\u2019, the engine\n\twill test the longest match for \u2018[[:alpha:]]*\u2019, namely \u2019foo\u2019 which is\n\tthe entire string.  Literal digit one still present in the pattern will\n\thowever not match the remaining empty string.\n\n\tNormally, backtracking would be performed trying a shorter match for the\n\tcharacter class (namely \u2018fo\u2019 leaving \u2018o\u2019 in the string), but since the\n\tengine knows whatever would be put back into the string cannot possibly\n\tmatch literal digit one so no backtracking will be attempted.\n\n\tIn the regexes of the form \u2018[[:CC:]]*X\u2019, the optimization can be applied\n\tif the character class CC does not match character X.  In the above\n\texample, this holds because digit one is not in alpha character class.\n\n\tThis test is performed by mutually_exclusive_p function but it did not\n\tcheck class bits of a charset opcode.  This resulted in an assumption\n\tthat character classes do not match multibyte characters.  For example,\n\tit would incorrectly conclude that [[:alpha:]] doesn\u2019t match \u2018\u017c\u2019.\n\n\tThis, in turn, led to the aforementioned Kleene star optimization being\n\tincorrectly applied in patterns such as \u2018[[:graph:]]*\u2620\u2019 (which should\n\tmatch \u2018\u2620\u2019 but doesn\u2019t as can be tested by executing\n\t    (string-match-p \"[[:graph:]]*\u2620\" \"\u2620\")\n\twhich should return 0 but instead yields nil.\n\n\tThis issue affects any class witch matches multibyte characters, i.e.\n\tif \u2018[[:cc:]]\u2019 matches a multibyte character X then \u2018[[:cc:]]*X\u2019 will\n\tfail to match \u2018X\u2019.\n\n\t* src/regex.c (executing_charset): A new function for executing the\n\tcharset and charset_not opcodes.  It performs check on the character\n\ttaking into consideration existing bitmap, range table and class bits.\n\tIt also advances the pointer in the regex bytecode past the parsed\n\topcode.\n\t(CHARSET_LOOKUP_RANGE_TABLE_RAW, CHARSET_LOOKUP_RANGE_TABLE): Removed.\n\tCode now included in executing_charset.\n\t(mutually_exclusive_p, re_match_2_internal): Changed to take advantage\n\tof executing_charset function.\n\n\t* test/src/regex-tests.el: New file with tests for the character class\n\tmatching.\n\n2016-07-25  Nicolas Petton  <nicolas@petton.fr>\n\n\tFix auto-reverting image-mode buffer (bug#21598)\n\n\tWhen auto-reverting an image buffer, `image-mode' is not called since\n\t`revert-buffer' is called with `preserve-modes' set to non-nil.\n\n\t* lisp/image-mode.el (image-after-revert-hook): Check if there is an\n\timage display property for the current buffer before updating it.\n\n2016-07-24  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t\u2018signal\u2019 no longer returns\n\n\tAlthough for decades \u2018signal\u2019 has been documented to not return,\n\ta corner case in the Lisp debugger causes \u2018signal\u2019 to return.\n\tRemove the corner case and adjust Emacs internals accordingly.\n\tAn alternative would be to document the corner case, but this\n\twould complicate the Lisp API unnecessarily.  (Bug#24047)\n\t* src/eval.c (signal_or_quit): New function, with most of the\n\told contents of Fsignal.\n\t(quit): New function, which uses signal_or_quit and which\n\tmight return.  All keyboard-based callers of Fsignal (Qquit,\n\tQnil) changed to use this new function instead.\n\t(Fsignal): Use signal_or_quit.  Now _Noreturn.  All callers\n\tchanged.\n\t(xsignal): Move to lisp.h.\n\t* src/lisp.h (xsignal): Now an inline function, as it's now\n\tjust an alias for Fsignal.\n\n2016-07-24  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRequire libgnutls unless --with-gnutls=no\n\n\t* configure.ac: Report an error if the gnutls library is missing,\n\tunless --with-gnutls=no is specified.\n\n2016-07-23  Alan Mackenzie  <acm@muc.de>\n\n\tFontify C++ parameter packs.\n\n\tThis fixes debbugs #23610.\n\n\t* lisp/progmodes/cc-langs.el (c-pack-ops, c-pack-key): New\n\tc-lang-defconsts/defvars.\n\t(c-type-decl-prefix-key): Add \"...\" and \"&&\" into the C++ version.\n\n\t* lisp/progmodes/cc-engine.el (c-forward-type): Handle matches of c-pack-key.\n\n2016-07-23  Alan Mackenzie  <acm@muc.de>\n\n\tJava Mode: Handle strings as case labels correctly.\n\n\tThis fixes debbugs #23901.\n\n\t* lisp/progmodes/cc-langs.el (c-nonlabel-token-key): Remove \"\\\"\" from the\n\tJava value.\n\n2016-07-22  Kaushal Modi  <kaushal.modi@gmail.com>\n\n\tAvoid repeated warnings while restoring desktop\n\n\t* lisp/desktop.el (desktop-restore-file-buffer): Do not print warnings\n\twhen files are being opened during desktop restore.\n\n2016-07-22  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix compilation warning in the MinGW build\n\n\t* nt/inc/ms-w32.h: Include stdint.h.\n\t(_execvp, execve): Provide prototypes.\n\n\t* lib-src/emacsclient.c [WINDOWSNT]: Remove prototype for execvp,\n\tit is now in nt/inc/ms-w32.h.\n\t* lib-src/ntlib.c (getppid): Avoid compiler warnings due to format\n\tmismatch.\n\t(sys_ctime): Remove, not used.\n\n2016-07-22  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMove read-multiple-choice to subr-x.el\n\n\t* lisp/faces.el (read-multiple-choice-face): Fix doc string.\n\n\t* lisp/emacs-lisp/subr-x.el (read-multiple-choice): Move here\n\tfrom subr.el.\n\n\t* lisp/gnus/message.el (subr-x): Ditto.\n\n\t* lisp/net/nsm.el: Require subr-x for read-multiple-choice.\n\n\tread-multiple-choice doesn't need to be in the dumped Emacs, so move\n\tit to a less central file.\n\n2016-07-22  Tino Calancha  <tino.calancha@gmail.com>\n\n\tUpdate define-ibuffer-op doc string\n\n\t* lisp/ibuf-macs.el (define-ibuffer-op):\n\tMention that BODY is evaluated with 'buf' bound to the actual\n\tmarked buffer being processed.\n\n2016-07-22  Tino Calancha  <tino.calancha@gmail.com>\n\n\tUpdate define-ibuffer-op doc string\n\n\t* lisp/ibuf-macs.el (define-ibuffer-op): Document arg COMPLEX\n\tinstead of refer the reader to the source code.\n\tDocument arg BODY.\n\n2016-07-21  Tino Calancha  <tino.calancha@gmail.com>\n\n\tFix shell-command[-on-region] doc strings\n\n\t* lisp/simple.el (shell-command, shell-command-on-region):\n\tDrop the sentence saying that the command may delete the buffer\n\t'*Shell Command Output*': the command never delete such\n\tbuffer (Bug#23936).\n\n2016-07-21  Mark Oteiza  <mvoteiza@udel.edu>\n\n\t;Revert \";Partially revert 2649105a\"\n\n\tThis reverts commit b7651649c2b1321a0c510116c1ac2442599d9a2e.\n\n2016-07-21  Mark Oteiza  <mvoteiza@udel.edu>\n\n\t;Partially revert 2649105a\n\n\t* lisp/textmodes/tex-mode.el (tex-common-initialization): Use\n\tsetq-local to modify prettify-symbols-compose-predicate.\n\n2016-07-21  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* src/bytecode.c: Fix compilation with BYTE_CODE_SAFE\n\n\t(struct byte_stack): Re-add `bottom'.\n\t(exec_byte_code): Initialize it.\n\n2016-07-21  Tino Calancha  <tino.calancha@gmail.com>\n\n\tIbuffer: Use default output buffer for shell commands\n\n\t* lisp/ibuf-ext.el (shell-command-pipe): Insert the output in buffer\n\t'*Shell Command Output*', as command 'shell-command-file'.\n\n2016-07-21  Tino Calancha  <tino.calancha@gmail.com>\n\n\tFix failing test\n\n\t* test/lisp/erc/erc-track-tests.el (erc-track--erc-faces-in):\n\tEnable Font Lock mode in order to initialize\n\t'char-property-alias-alist' (Bug#23954).\n\n2016-07-21  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix use-after-close in connect_network_socket\n\n\t* src/process.c (connect_network_socket): Don\u2019t use\n\texternal_sock_fd after closing it.  Problem found by Coverity Scan.\n\n2016-07-21  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\t* lisp/net/shr.el (shr-fill-line):\n\tPreserve text properties in folded lines (bug#24034).\n\n2016-07-20  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix lifetime bug in tzlookup\n\n\t* src/editfns.c (tzlookup): Fix storage lifetime bug when\n\tINTEGERP (zone) && settz.  Problem found by Coverity Scan.\n\n2016-07-20  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFix shr.el/image build problem\n\n\t(Bug#24035)\n\n\t* lisp/net/shr.el: Require image, since some builds seem to\n\tbreak without it (bug#24035).\n\n2016-07-20  Ted Zlatanov  <tzz@lifelogs.com>\n\n\tBring the Gnus Cloud package into working order.\n\n\t* lisp/gnus/gnus-sync.el: Removed in favor of gnus-cloud.el.\n\n\t* lisp/gnus/gnus-cloud.el: Autoload EPG functions. Change storage format to\n\tsimplify non-file data.\n\t(gnus-cloud-storage-method): New defcustom to support nil, Base64,\n\tBase64+gzip, or EPG encoding on the Gnus Cloud IMAP server. Defaults to\n\tEPG if that's available, Base64+gzip otherwise.\n\t(gnus-cloud-interactive): New defcustom to make Gnus Cloud operations\n\tinteractive, defaults to enabled.\n\t(gnus-cloud-group-name): New variable for the Gnus Cloud group name.\n\t(gnus-cloud-make-chunk): Tag with \"Gnus-Cloud-Version\" instead of just\n\t\"Version\".\n\t(gnus-cloud-insert-data): Simplify and support :newsrc-data entries.\n\t(gnus-cloud-encode-data, gnus-cloud-decode-data): Support various\n\tstorage methods as per gnus-cloud-storage-method.\n\t(gnus-cloud-parse-chunk): Look for \"Gnus-Cloud-Version\" marker.\n\t(gnus-cloud-parse-version-1): Fix parsing loop bug. Handle :newsrc-data\n\tentries.\n\t(gnus-cloud-update-all): Handle :newsrc-data entries and dispatch to\n\tfile and data handlers.\n\t(gnus-cloud-update-newsrc-data): New function to handle :newrsc-data\n\tentries.\n\t(gnus-cloud-update-file): Rework to support gnus-cloud-interactive and\n\tbe more careful.\n\t(gnus-cloud-delete-file): Remove; merged into gnus-cloud-update-file.\n\t(gnus-cloud-file-covered-p, gnus-cloud-all-files)\n\t(gnus-cloud-files-to-upload, gnus-cloud-ensure-cloud-group)\n\t(gnus-cloud-add-timestamps, gnus-cloud-available-chunks)\n\t(gnus-cloud-prune-old-chunks): Fix indentation.\n\t(gnus-cloud-timestamp): New function to make a standard Gnus Cloud\n\ttimestamp.\n\t(gnus-cloud-file-new-p): Use it.\n\t(gnus-cloud-upload-all-data): Add interactive convenience function to\n\tupload all data.\n\t(gnus-cloud-upload-data): Make interactive; collect files and newsrc\n\tdata separately; refresh Gnus Cloud group after insert.\n\t(gnus-cloud-download-all-data): Add interactive convenience function to\n\tdownload all data.\n\t(gnus-cloud-download-data): Rework to support \"Gnus-Cloud-Version\"\n\tmarker and different storage methods.\n\t(gnus-cloud-host-server-p): New function to check if a server is the\n\tGnus Cloud host.\n\t(gnus-cloud-collect-full-newsrc): Tag entries with :newsrc-data.\n\t(gnus-cloud-host-acceptable-method-p): New function so\n\tother code can check if a server method can host the Gnus cloud.\n\t(gnus-cloud-storage-method): Use 'radio instead of 'choice for better UI.\n\t(gnus-cloud-method): Make this a defcustom and note how to set it.\n\n\t* lisp/gnus/gnus-group.el (gnus-group-cloud-map): Add Gnus Cloud autoloaded\n\tkeybindings under the `~' prefix.\n\n\t* lisp/gnus/gnus-srvr.el (gnus-server-mode-map, gnus-server-make-menu-bar)\n\t(gnus-server-cloud, gnus-server-cloud-host)\n\t(gnus-server-font-lock-keywords, gnus-server-insert-server-line)\n\t(gnus-server-toggle-cloud-method-server): Support Gnus Cloud\n\tsynchronized servers and synchronization host server toggling (`i' and\n\t`I') and visual display.\n\t(gnus-server-toggle-cloud-method-server): Use\n\tgnus-cloud-host-acceptable-method-p.\n\t(gnus-server-toggle-cloud-method-server): Use custom-set-variables to\n\tset the gnus-cloud-method. Ask the user if it's OK to upload the data\n\tright now.\n\n\t* doc/misc/gnus.texi: Document Gnus Cloud package.\n\n2016-07-20  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRemove CHECK_FRAME_FONT cruft from bytecode.c\n\n\t* src/bytecode.c [CHECK_FRAME_FONT]: Do not include frame.h, xterm.h.\n\tRemove some old \u2018#if 0\u2019 code.\n\n2016-07-20  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tWork around GCC bug 54561 in a better way\n\n\tThe new approach is less selective, but also less intrusive on C code.\n\t* src/bytecode.c, src/image.c, src/keyboard.c: Ignore -Wclobbered.\n\t* src/conf_post.h (NONVOLATILE): Remove.  All uses removed.\n\n2016-07-20  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix port to glibc 2.24 (pre-release) + ppc64\n\n\t* src/callproc.c (child_setup): Use emacs_exec_file\n\tso that ASLR is enabled in the child process.\n\t* src/emacs.c: Move some personality details into sys/sysdep.c.\n\tDo not include <sys/personality.h>.\n\t(main): Disable ASLR earlier, so that we don\u2019t chdir twice.\n\t* src/lisp.h (disable_address_randomization): New decl.\n\t* src/sysdep.c (disable_address_randomization)\n\t[HAVE_PERSONALITY_ADDR_NO_RANDOMIZE]: Move personality details\n\there from emacs.c.\n\t(emacs_exec_file): New function.\n\n2016-07-19  Alan Third  <alan@idiocy.org>\n\n\tPrevent bar cursor overwriting next glyph (bug#16856)\n\n\t* src/nsterm.m (ns_draw_window_cursor): Test glyph width vs cursor width\n\tbefore setting final size.\n\n2016-07-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix 'transpose-regions' when LEAVE-MARKERS arg is non-nil\n\n\t* src/insdel.c (adjust_markers_bytepos): New function.\n\t* src/lisp.h (adjust_markers_bytepos): Add prototype.\n\t* src/insdel.c (replace_range, replace_range_2):\n\t* src/editfns.c (Ftranspose_regions): Call\n\tadjust_markers_bytepos.  (Bug#5131)\n\n\t* test/src/editfns-tests.el (transpose-test-reverse-word)\n\t(transpose-test-get-byte-positions): New functions.\n\t(transpose-ascii-regions-test)\n\t(transpose-nonascii-regions-test-1)\n\t(transpose-nonascii-regions-test-2): New tests.\n\n2016-07-19  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\tMake gif animation work (bug#24004)\n\n\t* lisp/image.el (image-animate-timeout): Fix the logic that tests if\n\tan animation is too big (bug#24004).\n\n2016-07-18  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/simple.el (undo-amalgamate-change-group): New function\n\n\t* lisp/emulation/viper-cmd.el (viper-adjust-undo): Use it.\n\t(viper-set-complex-command-for-undo): Save current state with\n\tprepare-change-group.\n\t* lisp/emulation/viper-init.el (viper-undo-needs-adjustment)\n\t(viper-buffer-undo-list-mark): Remove.\n\n2016-07-18  Noam Postavsky  <npostavs@gmail.com>\n\n\tKeep w32 environment settings internal only\n\n\t* src/emacs.c (main) [WINDOWSNT]: Move init_environment calls after the\n\tset_initial_environment call.  This prevents Emacs' modifications to the\n\tenvironment from contaminating Vprocess_environment and\n\tVinitial_environment (Bug #10980).\n\t* src/callproc.c (getenv_internal) [WINDOWSNT]: Consult Emacs' internal\n\tenvironment in as a fallback to Vprocess_environment.\n\t* test/src/callproc-tests.el (initial-environment-preserved): New Test.\n\n2016-07-18  Nicolas Petton  <nicolas@petton.fr>\n\n\tBetter documentation for cl-reduce (bug#24014)\n\n\t* lisp/emacs-lisp/cl-seq.el (cl-reduce): Explain what reducing means.\n\n2016-07-17  Alan Third  <alan@idiocy.org>\n\n\tRemove separate pool for popup dialogs (bug#23856)\n\n\t* src/nsmenu.m (pop_down_menu, ns_popup_dialog): Remove references to\n\tautorelease pool and Popdown_data struct.\n\n2016-07-17  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tUse eldoc-documentation-functions\n\n\t* lisp/hexl.el (hexl-mode):\n\t* lisp/ielm.el (inferior-emacs-lisp-mode):\n\t* lisp/progmodes/cfengine.el (cfengine3-mode):\n\t* lisp/progmodes/elisp-mode.el (emacs-lisp-mode):\n\t* lisp/progmodes/octave.el (octave-mode, inferior-octave-mode):\n\t* lisp/progmodes/python.el (python-mode):\n\t* lisp/simple.el (read--expression): Add buffer-locally to hook\n\teldoc-documentation-functions.\n\n2016-07-16  Noam Postavsky  <npostavs@gmail.com>\n\n\tOptimize ucs-normalize.el compilation\n\n\t* lisp/international/ucs-normalize.el (ucs-normalize-combining-chars-regexp):\n\t(quick-check-list-to-regexp): Use regexp-opt-charset instead of\n\tregexp-opt.\n\t* lisp/international/ucs-normalize.el (quick-check-list): Reuse a single\n\ttemp buffer for the whole loop.\n\n2016-07-16  Noam Postavsky  <npostavs@gmail.com>\n\n\tAdd tests for ucs-normalize.el\n\n\tSome tests are marked as expected to fail.\n\n\t* test/lisp/international/ucs-normalize-tests.el: New tests.\n\t* admin/unidata/NormalizationTest.txt: Add data for tests.\n\t* admin/unidata/README: Add URL for NormalizationTest.txt.\n\t* admin/notes/unicode: Add note about running (and updating the data\n\tfor) the new tests.  Remove note about normalization being unsupported.\n\n2016-07-16  Alan Third  <alan@idiocy.org>\n\n\tFix cursor display (bug#23993)\n\n\t* src/xdisp.c (get_phys_cursor_geometry): Fix invalid C operator.\n\n2016-07-15  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tStop worrying about Alliant in bytecode.c\n\n\t* src/bytecode.c (PUSH): Remove workaround for long-obsolete compiler.\n\n2016-07-15  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRemove BYTE_MAINTAIN_TOP\n\n\tIt is no longer needed now that we assume GC_MARK_STACK ==\n\tGC_MAKE_GCPROS_NOOPS.\n\t* src/bytecode.c (BYTE_MAINTAIN_TOP): Remove.\n\tAll uses removed, and code simplified accordingly.\n\t(BEFORE_POTENTIAL_GC, AFTER_POTENTIAL_GC): Remove, since they\n\tare always no-ops now.  All uses removed.\n\t(MAYBE_GC): Remove.  All uses replaced by maybe_gc,\n\tsince it is now equivalent.\n\n2016-07-15  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRemove now-inaccurate bytecode comments\n\n\t* src/bytecode.c: Remove comments that are no longer accurate.\n\tMost of these are actually old ChangeLog entries.\n\n2016-07-15  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort to glibc 2.24 (pre-release) + ppc64\n\n\tInspired by a suggestion by Florian Weimer in:\n\thttps://sourceware.org/ml/libc-alpha/2016-07/msg00425.html\n\t* configure.ac (HAVE_PERSONALITY_ADDR_NO_RANDOMIZE):\n\tRename from HAVE_PERSONALITY_LINUX32, and check for\n\tADDR_NO_RANDOMIZE (the crucial thing) instead of for LINUX32.\n\tAll uses changed.\n\t* src/emacs.c (main) [HAVE_PERSONALITY_ADDR_NO_RANDOMIZE]:\n\tUse ADDR_NO_RANDOMIZE from personality.h rather than inventing the\n\tflag ourselves.  Just set that flag, rather than also setting the\n\tpersona.  When doing it, avoid functions like putenv that may\n\tallocate memory.\n\n2016-07-14  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tRevert \"Add a couple cells to lisp-prettify-symbols-alist\"\n\n\tThis reverts commit bdda4855c635ecf4135e23321bdba023e9ae65c9.\n\n2016-07-14  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/simple.el (shell-command): Add save-match-data comment\n\n2016-07-14  Alan Mackenzie  <acm@muc.de>\n\n\tCC Mode: correct incorrect invocation of parse-partial-sexp.\n\n\tFixes bug #23944.\n\n\t* lisp/progmodes/cc-engine.el (c-literal-limits): make the sixth argument of\n\tan invocation of parse-partial-sexp 'syntax-table, not the fourth.\n\n2016-07-14  Andreas Schwab  <schwab@suse.de>\n\n\tFix configure summary for hybrid malloc configurations\n\n\t* configure.ac (\"$hybrid_malloc\" = yes): Set GNU_MALLOC to no,\n\tparenthesize value of GNU_MALLOC_reason.\n\n2016-07-14  Stephen Berman  <stephen.berman@gmx.net>\n\n\tFix delete-duplicate-lines\n\n\t* lisp/sort.el (delete-duplicate-lines): Delete duplicate\n\tfirst line when operating backward (bug#23863).\n\n2016-07-14  Andreas Schwab  <schwab@suse.de>\n\n\tRemove unused SHEAP_OBJ\n\n\t* Makefile.in (base_obj): Remove $(SHEAP_OBJ).\n\n2016-07-13  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\t* lisp/gnus/mm-decode.el (mm-convert-shr-links):\n\tUse shr-image-map instead of shr-map (bug#23964).\n\n2016-07-13  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/mouse.el (mouse): Consolidate group definition here\n\n\t* lisp/cus-edit.el (mouse): Remove both group definitions.\n\n2016-07-13  Chris Feng  <chris.w.feng@gmail.com>\n\n\tInclude versioned preloaded libraries in `package--builtin-versions'\n\n\t* lisp/emacs-lisp/autoload.el (update-directory-autoloads): Do not\n\texclude preloaded libraries or remove entries generated for them.\n\t(autoload-generate-file-autoloads): Do not generate autoload\n\tstatements for preloaded libraries.\n\n2016-07-13  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tOmit unnecessary #includes from xwidget.c\n\n\t* src/xwidget.c: Remove #include directives that are not needed.\n\tAlso, don\u2019t conditionalize #includes on HAVE_X_WINDOWS, since this\n\tfile is compiled only if the X interface is available.\n\n2016-07-13  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort xwidget.c to GCC 6 with --enable-gcc-warnings\n\n\t* src/xwidget.c (x_draw_xwidget_glyph_string, xwidget_end_redisplay):\n\tAdjust to pacify GCC.  Add a couple of FIXME comments, suggesting\n\tpossible bugs found by GCC.\n\n2016-07-12  Tino Calancha  <tino.calancha@gmail.com>\n\n\tEscape meta chars in commands processed by shell\n\n\t* lisp/progmodes/grep.el (grep-compute-defaults): Quote braces\n\tin all commands to be passed to a shell (Bug#23959).\n\n2016-07-12  John Wiegley  <johnw@newartisans.com>\n\n\tRevert \"Cleanup tooltips\"\n\n\tThis reverts commit 20038f8ab75dd1551412a43cd58520c483c22921.\n\n\tI am reverting this change because it was applied without prior discussion\n\ton emacs-devel, and has been found to break the NS port.  It needs more\n\ttesting and review before it should be applied here.\n\n2016-07-12  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/cl-macs.el (cl--prog): New function\n\n\t(cl-prog, cl-prog*): New macros.\n\n2016-07-12  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/cl-generic.el (cl-defmethod): Make docstring dynamic\n\n\t* lisp/emacs-lisp/cl-generic.el (cl-defmethod): Make docstring dynamic.\n\t(cl--generic-make-defmethod-docstring): New function for that.\n\t(cl-defmethod, cl-generic-generalizers): Tweak docstrings accordingly.\n\t(cl-generic-define-method, cl--generic-describe): Change `load-history'\n\tformat of cl-defmethods, so as not to confused methods with equal\n\tspecializers but different qualifiers.\n\t* lisp/emacs-lisp/eieio-core.el (cl-generic-generalizers): Provide docstrings.\n\n2016-07-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tDon't install keyboard hook when debugged on MS-Windows\n\n\t* src/w32fns.c (setup_w32_kbdhook): Don't install the keyboard\n\thook if we are being debugged.  This avoids hosing the debugger,\n\tbecause the hook is global, and is called in the context of the\n\tthread which installed it, and that thread is stopped when GDB has\n\tcontrol.  Reported by Fabrice Popineau <fabrice.popineau@gmail.com>.\n\n2016-07-12  Alan Mackenzie  <acm@muc.de>\n\n\tAmend CC Mode to handle big C++ raw strings correctly.\n\n\tProblems were caused by such a string spanning jit-lock chunks, and by a flaw\n\tin the +-500 bytes boundaries imposed for macros.\n\n\t* lisp/progmodes/cc-mode.el (c-extend-region-for-CPP): Check the +-500 byte\n\tmacro boundaries here.\n\t(c-extend-font-lock-region-for-macros): Remove the check on the +-500 byte\n\tlower boundary.  Fix the check on the upper boundary.\n\n\t* lisp/progmodes/cc-fonts.el (c-font-lock-raw-strings): Handle the starting\n\tpoint already being within a raw string.\n\n\t* lisp/progmodes/cc-engine.el (c-raw-string-pos)\n\t(c-depropertize-raw-strings-in-region, c-after-change-re-mark-raw-strings):\n\tModify regexp element \"\\\\{,16\\\\}\" to \"\\\\{0,16\\\\}\" for greater compatibility\n\twith other Emacsen.\n\n2016-07-12  Stephen Berman  <stephen.berman@gmx.net>\n\n\t* lisp/mouse.el (mouse-select-region-move-to-beginning): Add :group.\n\n2016-07-11  Dmitry Antipov  <dmantipov@yandex.ru>\n\n\tCleanup tooltips\n\n\t* src/dispextern.h (toplevel): Remove 'tip_frame' and 'tip_window' decls.\n\t* src/frame.h (struct frame): New bitfield to indicate tooltip frame.\n\t(FRAME_TOOLTIP_P): New macro.\n\t* src/frame.c (make_frame): Mark new frame as regular frame by default.\n\t(Fframe_list, delete_frame): Redesign to use FRAME_TOOLTIP_P.\n\t(syms_of_frame): Don't DEFSYM 'Qtooltip' but use 'Qtooltip_timer'\n\tand 'Qtooltip_parameters' instead.\n\t* src/gtkutil.h (toplevel): Add 'xg_hide_tip' decl.\n\t* src/gtkutil.c (xg_hide_tip): New function.\n\t(xg_hide_tooltip): Adjust to cancel GTK event loop timeout if needed.\n\t* src/menu.c (Fx_popup_menu): Adjust call to Fx_hide_tip.\n\t* src/nsfns.m (toplevel): Remove 'tip_frame' leftover.\n\t* src/w32fns.c (unwind_create_tip_frame): Remove.\n\t(w32_display_monitor_attributes_list)\n\t(w32_display_monitor_attributes_list_fallback): Use FRAME_TOOLTIP_P.\n\t(toplevel): Remove 'tip_frame', 'tip_window' and 'last_show_tip_args'.\n\t(x_create_tip_frame): Use do_unwind_create_frame.  Mark new frame\n\tas a tooltip frame and record it using appropriate display info.\n\t(x_hide_tooltip): Add frame arg.\n\t(Fx_show_tip): Adjust to avoid globals, store tooltip parameters among\n\tbase frame parameters, store tooltip hide timer among tooltip frame\n\tparameters.\n\t(Fx_hide_tip): Add frame arg, hide tooltips on all displays by default.\n\t(syms_of_w32fns): Don't DEFSYM 'Qtip_frame', don't initialize\n\tand GC-protect 'tip_timer', 'tip_frame' and 'last_show_tip_args'.\n\t* src/w32term.c (w32_read_socket): Extract tooltip window id from\n\tper-display data.  Use FRAME_TOOLTIP_P where appropriate.\n\t(x_new_font): Use FRAME_TOOLTIP_P.\n\t(x_free_frame_resources): Reset pointer to tooltip frame.\n\t* src/w32term.h (struct w32_display_info): New member 'w32_tooltip_frame'.\n\t* src/xdisp.c (init_iterator, x_consider_frame_title, prepare_menu_bars):\n\tUse FRAME_TOOLTIP_P.\n\t* src/xfns.c (x_make_monitor_attribute_list)\n\t(Fx_display_monitor_attributes_list): Likewise.\n\t(unwind_create_tip_frame): Remove.\n\t(toplevel): Remove 'tip_frame', 'tip_window' and 'last_show_tip_args'.\n\t(x_create_tip_frame): Use do_unwind_create_frame.  Mark new frame\n\tas a tooltip frame and record it using appropriate display info.\n\t(x_hide_tooltip): Add frame arg.\n\t(Fx_show_tip): Adjust to avoid globals, store tooltip parameters among\n\tbase frame parameters, store tooltip hide timer among tooltip frame\n\tparameters.  To hide GTK system tooltip, use timeout hooked into GTK\n\tevent loop.\n\t(Fx_hide_tip): Add frame arg, hide tooltips on all displays by default.\n\t(syms_of_xfns): Don't DEFSYM 'Qtip_frame', don't initialize\n\tand GC-protect 'tip_timer', 'tip_frame' and 'last_show_tip_args'.\n\t* src/xterm.c (handle_one_xevent): Extract tooltip window id from\n\tper-display data.  Use FRAME_TOOLTIP_P where appropriate.\n\t(x_new_font, x_set_window_size): Use FRAME_TOOLTIP_P.\n\t(x_free_frame_resources): Reset pointer to tooltip frame.\n\t* src/xterm.h (struct x_display_info): New member 'x_tooltip_frame'.\n\t(struct x_output) [USE_GTK_TOOLTIP]: New member 'ttip_timeout'.\n\n2016-07-11  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* src/fns.c (syms_of_fns): Leave `features' lexically scoped\n\n2016-07-11  Mario Lang  <mlang@delysid.org>\n\n\tTest mapcan\n\n\t* test/src/fns-tests.el (fns-tests-mapcan): New test.\n\n2016-07-11  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tPrevent to apply funcall on t\n\n\t* lisp/vc/ediff-util.el (ediff-really-quit): Ignore the global part of\n\t'ediff-after-quit-hook-internal' hook (Bug#23933).\n\n2016-07-11  Tino Calancha  <tino.calancha@gmail.com>\n\n\tIgnore angle mode while simplifying units\n\n\t* lisp/calc/calc-forms.el (math-to-hms, math-from-hms):\n\tIgnore value of 'calc-angle-mode' when 'math-simplifying-units'\n\tis non-nil (Bug#23889).\n\t* lisp/calc/calc-math.el (math-to-radians, math-from-radians)\n\t(math-from-radians-2, math-to-radians-2): Idem.\n\n2016-07-11  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix display of composed characters\n\n\t* src/xdisp.c (x_produce_glyphs): Fix off-by-one error in\n\titeration through composition glyphs.  (Bug#23938)\n\n2016-07-11  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix composition bug caused by off-by-1 typo\n\n\t* src/xdisp.c (x_produce_glyphs): Fix off-by-one typo when\n\tcomputing composition glyph (Bug#23938).\n\n2016-07-10  Tino Calancha  <tino.calancha@gmail.com>\n\n\tDired always read file system\n\n\t* lisp/dired.el (dired-always-read-filesystem): Add new option.\n\t(dired-mark-files-containing-regexp): Use it (Bug#22694).\n\t* doc/emacs/dired.texi: Mention it in the manual.\n\t* test/lisp/dired-tests.el (dired-test-bug22694): Add test.\n\t;* etc/NEWS: Add entry for this change.\n\n2016-07-10  YAMAMOTO Mitsuharu  <mituharu@math.s.chiba-u.ac.jp>\n\n\t* src/macfont.m (mac_font_shape): Make sure that total_advance is increasing.\n\n2016-07-10  Tino Calancha  <tino.calancha@gmail.com>\n\n\tAvoid 'unused var' 'not left unused var' warnings\n\n\t* lisp/ibuffer.el (ibuffer-locked-buffer-p): Remove unused var 'char'.\n\tRename used var '_buffer' to 'cbuffer'.\n\n\t* lisp/ibuf-ext.el (ibuffer-unmark-all): Rename used var '_mark'\n\tto cmark'.\n\n2016-07-10  Tino Calancha  <tino.calancha@gmail.com>\n\n\t* lisp/simple.el (shell-command, shell-command-on-region): Fix doc strings\n\n2016-07-10  Michael Albinus  <michael.albinus@gmx.de>\n\n\tAdd a note how to use `tramp-own-remote-path'\n\n\t* doc/misc/tramp.texi (Inline methods, External methods)\n\t(Remote shell setup, Android shell setup)\n\t(Frequently Asked Questions, Frequently Asked Questions):\n\tUse @command and @samp consequently.\n\t(Remote programs): The remote shell must support the -l\n\targument, in order to use `tramp-own-remote-path'.  (Bug#23914)\n\n2016-07-10  Alan Third  <alan@idiocy.org>\n\n\tRemove App Nap setting from Info.plist (bug#22993)\n\n\t* nextstep/templates/Info.plist.in: Remove LSAppNapIsDisabled key since\n\tit doesn't actually disable app nap.\n\n2016-07-09  Mario Lang  <mlang@delysid.org>\n\n\tAn efficient built-in mapcan\n\n\tA built-in version of `mapcan' avoids consing up (and GC'ing) the\n\tintermediate list.\n\n\t* src/fns.c (Fmapcan): New built-in.\n\t(syms_of_fns): Define.\n\n\t* lisp/emacs-lisp/cl.el (mapcan): Remove defalias.\n\n\t* lisp/emacs-lisp/cl-extra.el (cl-mapcan): Use built-in `mapcan'\n\tif only one sequence is provided.\n\n\t* lisp/progmodes/hideif.el (hif-delimit):\n\t* lisp/dired-aux.el (dired-do-find-regexp):\n\t* lisp/woman.el (woman-parse-colon-path): Use `mapcan' instead of\n\t`cl-mapcan'.\n\n\t* lisp/woman.el (eval-when-compile): Require 'cl-lib only when\n\tcompiling.\n\n\t* lisp/mouse.el (mouse-buffer-menu-map):\n\t* lisp/net/pop3.el (pop3-uidl-dele):\n\t* lisp/progmodes/gud.el (gud-jdb-build-source-files-list):\n\t* lisp/cedet/semantic/db-find.el (semanticdb-fast-strip-find-results):\n\t* lisp/cedet/semantic/symref/grep.el (semantic-symref-derive-find-filepatterns):\n\t* lisp/gnus/nnmail.el (nnmail-split-it):\n\t* lisp/gnus/gnus-sum.el (gnus-articles-in-thread):\n\t* lisp/gnus/gnus-registry.el (gnus-registry-sort-addresses):\n\t* lisp/gnus/gnus-util.el (gnus-mapcar): Use `mapcan'.\n\n2016-07-09  Tino Calancha  <tino.calancha@gmail.com>\n\n\tDetect aliases to built-in functions\n\n\t* lisp/help-fns.el (describe-function-1): Check for aliases\n\tdefined with (defalias alias (symbol-function built-in)) (Bug#23887).\n\n\t* test/lisp/help-fns-tests.el (help-fns-test-bug23887): Untag as\n\tfailing this test.\n\n2016-07-09  Michael Albinus  <michael.albinus@gmx.de>\n\n\tAvoid recursive detection of remote uid and gid in tramp-gvfs.el\n\n\t* lisp/net/tramp-gvfs.el (tramp-gvfs-get-remote-uid-gid-in-progress):\n\tNew variable.\n\t(tramp-gvfs-maybe-open-connection): Use it.\n\n\t* test/lisp/net/tramp-tests.el (tramp-test18-file-attributes):\n\tReorder test.\n\n2016-07-09  J\u00fcrgen H\u00f6tzel  <juergen@archlinux.org>\n\n\tWrap around error in coreutil's ls\n\n\t* lisp/net/tramp-sh.el (tramp-sh-handle-insert-directory): Add switch\n\t\"--quoting-style=literal\" if remote host supports quoting style.\n\tRecent versions of coreutils changed default quoting style to\n\t\"--quoting=shell-escape\".\n\n2016-07-09  Eli Zaretskii  <eliz@gnu.org>\n\n\tMinor tweaks of copying text properties when padding strings\n\n\t* src/editfns.c (styled_format): Don't include padding on the left\n\tin the properties at the beginning of the string.  (Bug#23897)\n\n\t* test/src/editfns-tests.el (format-properties): Add tests for\n\tfaces when the string is padded on the left or on the right.\n\n2016-07-08  Mario Lang  <mlang@delysid.org>\n\n\tNo need to require the same feature twice.\n\n\t* lisp/dired-aux.el (require 'cl-lib): Remove.\n\n2016-07-08  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tTurn on lexical binding\n\n\t* lisp/net/secrets.el (secrets-collection-handler): Use cl-pushnew.\n\t(secrets-search-items, secrets-create-item): Use append.\n\t(secrets-show-secrets): Remove unused binding.\n\t(secrets-expand-item, secrets-tree-widget-after-toggle-function):\n\tIgnore unused arguments.\n\n2016-07-08  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tDerive secrets-mode from special-mode\n\n\t* lisp/net/secrets.el: Remove top-level secrets-mode hack.\n\t(secrets-mode-map): New variable.  Add key bindings to n and p for\n\tnavigating lines.\n\t(secrets-mode): Derive from special-mode.  Remove keymap code and\n\tinitialization code.  Do not record undo information.  Make\n\tsecrets-show-collections the local revert-buffer-function.\n\t(secrets-show-collections): Change signature to satisfy revert-buffer.\n\n2016-07-08  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tAdd a couple cells to lisp-prettify-symbols-alist\n\n\t* lisp/emacs-lisp/lisp-mode.el (lisp-prettify-symbols-alist): Add\n\t\"sqrt\" and \"not\".\n\n2016-07-08  Michael Albinus  <michael.albinus@gmx.de>\n\n\tDetect remote uid and gid in tramp-gvfs.el\n\n\t* lisp/net/tramp-gvfs.el (tramp-gvfs-handle-expand-file-name)\n\t(tramp-gvfs-handler-mounted-unmounted)\n\t(tramp-gvfs-connection-mounted-p):\n\tMake \"default-location\" a connection property.\n\t(tramp-gvfs-get-remote-uid, tramp-gvfs-get-remote-gid): New defuns.\n\t(tramp-gvfs-maybe-open-connection): Use them.\n\n2016-07-08  Eli Zaretskii  <eliz@gnu.org>\n\n\tYet another fix for copying properties by 'format'\n\n\t* src/textprop.c (extend_property_ranges): Accept an additional\n\targument OLD_END, and only extend the end of a property range if\n\tits original end is at OLD_END; all the other ranges are left\n\tintact.  (Bug#23897)\n\t* src/editfns.c (styled_format): Pass the original length of the\n\tstring to 'extend_property_ranges'.\n\t* src/intervals.h (extend_property_ranges): Adjust prototype.\n\n\t* test/src/editfns-tests.el (format-properties): Add tests for\n\tbug#23897.\n\n2016-07-08  Stephen Berman  <stephen.berman@gmx.net>\n\n\tAllow selecting region with mouse to move point to beginning\n\n\t* etc/NEWS: Mention new user option\n\t`mouse-select-region-move-to-beginning'.\n\n\t* doc/emacs/frames.texi (Mouse Commands): Add cross-reference\n\tto the following.\n\t(Word and Line Mouse): Describe how double-clicking mouse-1 to\n\tactivate region and `mouse-select-region-move-to-beginning'\n\taffect point.\n\n\t* lisp/mouse.el (mouse-select-region-move-to-beginning): New defcustom.\n\t(mouse-set-point): Use it.  (Bug#23478)\n\n2016-07-08  Stephen Berman  <stephen.berman@gmx.net>\n\n\tFix menu bar breakage\n\n\t* lisp/menu-bar.el (menu-bar-showhide-scroll-bar-menu): Use backquoting\n\tto prevent void variable errors, and fix typo (bug#23918).\n\n2016-07-08  Tino Calancha  <tino.calancha@gmail.com>\n\n\tCopy buffer names to kill ring\n\n\t* lisp/ibuf-ext.el (ibuffer-copy-buffername-as-kill): New command.\n\t* lisp/ibuffer.el (ibuffer-mode-map): Bound it to 'B'.\n\t;* etc/NEWS: Add entry for this new feature.\n\n2016-07-07  Tino Calancha  <tino.calancha@gmail.com>\n\n\tRemove just input mark\n\n\t* lisp/ibuffer.el (ibuffer-unmark-all): When MARK is not ?\\r remove\n\tjust MARK.\n\n2016-07-07  Tino Calancha  <tino.calancha@gmail.com>\n\n\tIbuffer change marks\n\n\t* lisp/ibuffer.el (ibuffer-change-marks): New command.\n\t(ibuffer-mode-map): Bind it to '* c'.\n\t(ibuffer-mode-groups-popup): Update menus.\n\t(ibuffer-mode): Update mode doc.\n\n2016-07-07  Alan Third  <alan@idiocy.org>\n\n\tPrevent NS event loop being re-entered (bug#11049)\n\n\t* src/nsterm.m (ns_read_socket, ns_select): Return -1 if already\n\tin event loop instead of aborting.\n\n2016-07-07  Alan Third  <alan@idiocy.org>\n\n\tFix some deprecated functions\n\n\t* src/nsterm.m (firstRectForCharacterRange): In OS X >10.6 replace\n\tconvertBaseToScreen with convertRectToScreen.\n\t* src/nsmenu.m (ns_update_menubar): Remove attachedMenu, deprecated in\n\tOS X 10.2, and always seems to return nil.\n\n2016-07-07  Aaron Jensen  <aaronjensen@gmail.com>  (tiny change)\n\n\tDisable App Nap (bug#22993)\n\n\t* nextstep/templates/Info.plist.in: Insert AppNap disable code.\n\n2016-07-07  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix an error in Tramp for rsync\n\n\t* lisp/net/tramp-sh.el (tramp-do-copy-or-rename-file-out-of-band):\n\tMake it work for \"rsync\".\n\t(tramp-make-copy-program-file-name): Apply `directory-file-name'.\n\n2016-07-07  Tino Calancha  <tino.calancha@gmail.com>\n\n\tIbuffer: Mark locked buffers\n\n\t* lisp/ibuf-ext.el (ibuffer-locked-buffer-p): New defun.\n\t(ibuffer-mark-by-locked): New command.\n\t(ibuffer-mode-map): Bind it to '% L'; update menus.\n\t(ibuffer-mode): Update mode doc.\n\t;* etc/NEWS: Add NEWS entry for these changes and previous two commits.\n\n2016-07-07  Tino Calancha  <tino.calancha@gmail.com>\n\n\t* lisp/ibuffer.el: Add face for locked buffers\n\n\t* lisp/ibuffer.el: Add mark for locked buffers\n\n\t;* etc/NEWS (Ibuffer): Update entry according with last commit\n\n2016-07-07  Tino Calancha  <tino.calancha@gmail.com>\n\n\tRemove duplicate binding\n\n\t* lisp/ibuffer.el (ibuffer-mode-map): 'ibuffer-mark-by-content-regexp'\n\tjust bound to '% g'.\n\tAs suggested in:\n\thttps://lists.gnu.org/r/emacs-devel/2016-07/msg00165.html\n\n2016-07-07  Tino Calancha  <tino.calancha@gmail.com>\n\n\tIbuffer: Drop needless binding\n\n\t* lisp/ibuffer.el (ibuffer-mark-interactive): 'inhibit-read-only'\n\talready bound to 't' inside 'ibuffer-set-mark'.\n\n2016-07-07  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\tRun tests from non-byte compiled files\n\n\t* test/Makefile.in: Eval non-byte-compiled files for tests.\n\n2016-07-06  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tReplace eldoc-documentation-function with a hook\n\n\t* lisp/emacs-lisp/eldoc.el (eldoc-documentation-functions): New hook.\n\t(eldoc-documentation-function): Make into obsolete alias.\n\t(eldoc-echo-area-use-multiline-p, eldoc-highlight-function-argument):\n\t(eldoc-argument-case, global-eldoc-mode): Update docstrings.\n\t(eldoc-print-current-symbol-info): Use run-hook-with-args-until-success\n\ton eldoc-documentation-functions.\n\t(eldoc-supported-p): New function.\n\t(eldoc-mode, global-eldoc-mode, eldoc-schedule-timer): Use eldoc-supported-p.\n\t* etc/NEWS: Mention eldoc-documentation-functions.\n\t* doc/lispref/modes.texi: Update reference.\n\n2016-07-06  Simen Heggest\u00f8yl  <simenheg@gmail.com>\n\n\tComplete \"initial\" and \"unset\" in CSS mode\n\n\t* lisp/textmodes/css-mode.el (css--complete-property-value): Make\n\t\"initial\" and \"unset\" completion candidates for all CSS properties,\n\tjust like \"inherit\".\n\n\t* test/lisp/textmodes/css-mode-tests.el\n\t(css-test-complete-property-value): Update test to reflect the above\n\tchange.\n\n2016-07-06  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* lisp/net/tramp-gvfs.el (tramp-gvfs-mount-spec): Fix typo.\n\n2016-07-06  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSimplify rfc1345.el a bit\n\n\t* lisp/leim/quail/rfc1345.el: Omit commented-out codes for ASCII\n\tthat would no longer parse.  Replace control characters with\n\tescapes in character constants.  Omit unnecessary \\ after ?.\n\tThis does not change behavior.\n\n2016-07-05  Dmitry Antipov  <dmantipov@yandex.ru>\n\n\tPrefer 'frame-parameter' where it is expected to be a bit faster\n\n\t* lisp/international/mule-diag.el (mule-diag):\n\t* lisp/menu-bar.el (menu-bar-showhide-scroll-bar-menu):\n\t* lisp/mouse.el (mouse-drag-line, font-menu-add-default):\n\t* lisp/scroll-bar.el (toggle-scroll-bar, toggle-horizontal-scroll-bar):\n\t* lisp/faces.el (x-resolve-font-name): Use 'frame-parameter'.\n\n2016-07-05  Dmitry Antipov  <dmantipov@yandex.ru>\n\n\tReduce consing caused by vertical motion commands\n\n\t* src/frame.c (Fframe_parameter): Avoid call to Fframe_parameters for the\n\tparameters frequently requested by calls to 'next-line' and 'previous-line'.\n\n2016-07-05  Michael Albinus  <michael.albinus@gmx.de>\n\n\tMake all Tramp tests pass for \"gdrive\" method\n\n\t* lisp/net/tramp-gvfs.el (tramp-gvfs-handle-delete-directory)\n\t* lisp/net/tramp-compat.el (tramp-compat-copy-directory)\n\t(tramp-compat-delete-directory):\n\t* lisp/net/tramp-smb.el (tramp-smb-handle-delete-directory):\n\tUse `directory-files-no-dot-files-regexp'.\n\n\t* lisp/net/tramp-gvfs.el (tramp-gvfs-handler-mounted-unmounted)\n\t(tramp-gvfs-send-command): Call `tramp-flush-file-property' in\n\tcase of problems.\n\n\t* test/lisp/net/tramp-tests.el (tramp--instrument-test-case):\n\tAdapt docstring.\n\t(tramp-test14-delete-directory): Make further tests.\n\n2016-07-05  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix redisplay with window-start on continuation lines\n\n\t* src/xdisp.c (pos_visible_p): Return false if the window starts\n\tafter CHARPOS.\n\t(compute_window_start_on_continuation_line): Don't return\n\twindow-start position that is after point in the buffer, as the\n\tcallers don't expect this to happen, and will generally display an\n\tempty window with the cursor in its middle.  (Bug#23871)\n\n2016-07-05  Tino Calancha  <tino.calancha@gmail.com>\n\n\tAdd :expected-result :failed for unfixed bug test\n\n\t* test/lisp/help-fns-tests.el (help-fns-test-bug23887):\n\n2016-07-05  Tino Calancha  <tino.calancha@gmail.com>\n\n\t* test/lisp/help-fns-tests.el: Add several tests for 'describe-function'.\n\n2016-07-04  Michal Nazarewicz  <mina86@mina86.com>\n\n\tDon\u2019t create unnecessary marker in \u2018delete-trailing-whitespace\u2019\n\n\t* lisp/simple.el (delete-trailing-whitespace): If END argument is nil,\n\tthere is no need for the end-marker to be created.\n\n2016-07-04  Michal Nazarewicz  <mina86@mina86.com>\n\n\tSimplify \u2018delete-trailing-whitespace\u2019 by not treating \\n as whitespace\n\n\t* lisp/simple.el (delete-trailing-whitespace): Set newline\u2019s character\n\tsyntax to non-whitespace so that \u2018\\s-\u2019 regular expression does not match\n\tit.\n\n\tThis simplifies the loop slightly since a simple \u2018\\s-+$\u2019 can be used and\n\tas a consequence \u2018line-beginning-position\u2019 function does not need to be\n\tcalled any longer.\n\n\tFurthermore, when newline has whitespace syntax, \u2018\\s-$\u2019 regular\n\texpression ends up matching empty lins since \u2018\\s-\u2019 matches newline\n\tcharacetr of proceeding line.  This leads to needless loop iterations.\n\n\tSince previous change to \u2018delete-trailing-whitespace\u2019 already introduced\n\t\u2018with-syntax-table\u2019, take advantage of it and also overwrite newline\u2019s\n\tcharacter syntax.\n\n2016-07-04  Michal Nazarewicz  <mina86@mina86.com>\n\n\tMake \u2018delete-trailing-whitespace\u2019 delete spaces after form feed\n\n\t* lisp/simple.el (delete-trailing-whitespace): Treat form fead as\n\ta non-whitespace character (regradless of whether it\u2019s character syntax\n\tis whitespace) and delete any whitespace following it instead of leaving\n\tlines with form feeds completely unchanged.  I.e. a line like \"\\f \" will\n\tnow became \"\\f\".\n\n2016-07-04  Dmitry Antipov  <dmantipov@yandex.ru>\n\n\tCleanup XEditRes hack\n\n\t* configure.ac [USE_X_TOOLKIT]: Define X_TOOLKIT_EDITRES if\n\t_XEditResCheckMessages is declared in X11/Xmu/Editres.h and may be\n\tlinked with -lXmu.  This should work with any non-ancient Xmu library.\n\t* src/xfns.c (toplevel): Remove old cruft.\n\t(x_window) [USE_X_TOOLKIT]: Use X_TOOLKIT_EDITRES.\n\t* src/xterm.c (toplevel): Remove old cruft.\n\t(handle_one_xevent): Use X_TOOLKIT_EDITRES.\n\t* src/xterm.h (toplevel): Include X11/Xmu/Editres.h if X_TOOLKIT_EDITRES.\n\n2016-07-04  Michael Albinus  <michael.albinus@gmx.de>\n\n\tAdd Google Drive support to Tramp\n\n\t* doc/misc/tramp.texi: Add `gdrive' method.\n\n\t* doc/misc/trampver.texi:\n\t* lisp/net/trampver.el: Change version to \"2.3.1-pre\".\n\n\t* etc/NEWS: Add Tramp connection method \"gdrive\".\n\n\t* lisp/net/tramp-gvfs.el (tramp-gvfs-methods) <gdrive>: Add.\n\t(tramp-default-user-alist, tramp-default-host-alist): Add rule\n\tfor \"gdrive\".\n\t(tramp-gvfs-file-attributes): Add \"name\", remove \"standard::icon\".\n\t(tramp-gvfs-file-attributes-with-gvfs-ls-regexp): Simplify regexp.\n\t(tramp-gvfs-get-directory-attributes): Improve loop.  Use\n\t\"standard::display-name\" as file name, if available.\n\t(tramp-gvfs-handle-file-name-all-completions): Simplify.\n\t(tramp-gvfs-url-file-name, tramp-gvfs-handler-mounted-unmounted)\n\t(tramp-gvfs-connection-mounted-p, tramp-gvfs-mount-spec):\n\tMap between \"gdrive\" and \"google-drive\".\n\n\t* lisp/net/tramp.el (tramp-call-process): Do not signal error.\n\n\t* test/lisp/net/tramp-tests.el (tramp--instrument-test-case):\n\tDo not enable `tramp-message-show-message'.\n\t(tramp-test13-make-directory, tramp-test14-delete-directory):\n\tDo not specify error type.\n\n2016-07-04  Tino Calancha  <tino.calancha@gmail.com>\n\n\tCalc: Update mode line after change mode\n\n\t* lisp/calc/calc-ext.el (calc-change-mode): Call 'calc-set-mode-line'.\n\n2016-07-03  Mark Oteiza  <mvoteiza@udel.edu>\n\n\t* lisp/simple.el (save-mark-and-excursion): Add declare forms.\n\n2016-07-03  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRe-fix open-network-stream responsiveness\n\n\tProblem reported by Christer Ekholm (Bug#23864).\n\t* src/process.c (wait_reading_process_output): Further fix for\n\ttypo introduced in 2015-07-06T02:19:13Z!eggert@cs.ucla.edu when\n\twait == INFINITY and got_output_end_time is invalid.  See:\n\thttps://bugs.gnu.org/23864#20\n\n2016-07-03  Alan Mackenzie  <acm@muc.de>\n\n\tRemove redundant forms from CC Mode for faster fontification\n\n\t* lisp/progmodes/cc-fonts.el (c-font-lock-declarations): Remove four arms of\n\tthe \"main\" cond form in the function, which have been redundant since the\n\textraction of c-font-lock-cut-off-declarators from the function on\n\t2016-06-15/16.\n\n2016-07-03  Alan Mackenzie  <acm@muc.de>\n\n\tSpeed up CC Mode fontification with less accurate functions extending region\n\n\t* lisp/progmodes/cc-fonts.el (c-font-lock-cut-off-declarators)\n\t(c-font-lock-enclosing-decls)\n\t* lisp/progmodes/cc-mode.el (c-fl-decl-start): Replace invocations of\n\tc-beginning-of-decl-1 with less accurate invocations of\n\tc-syntactic-skip-backwards to speed up fontification.\n\n2016-07-03  Tino Calancha  <tino.calancha@gmail.com>\n\n\tIbuffer: unmark all buffers without confirmation\n\n\t* lisp/ibuffer.el (ibuffer-unmark-all-marks): New command (Bug#23680).\n\t(ibuffer-mouse-popup-menu): Use it.\n\t(ibuffer-mode): Update mode doc.\n\t(ibuffer-mode-map): Bind 'ibuffer-unmark-all-marks' to 'U'.\n\tRebind 'ibuffer-do-replace-regexp' to 'r'.\n\n2016-07-03  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix open-network-stream responsiveness\n\n\tProblem reported by Constantin Kulikov (Bug#23684).\n\t* src/process.c (wait_reading_process_output):\n\tFix typo introduced in 2015-07-06T02:19:13Z!eggert@cs.ucla.edu\n\twhen wait == INFINITY and got_output_end_time is invalid.\n\tIn this case the code should break, not continue.\n\n2016-07-02  Tino Calancha  <tino.calancha@gmail.com>\n\n\tIbuffer: Mark buffers by content\n\n\t* lisp/ibuf-ext.el (ibuffer-mark-by-content-regexp): New command.\n\t(ibuffer-never-search-content-name): New option.\n\t(ibuffer-never-search-content-mode): Idem.\n\t(ibuffer-mark-by-content-regexp): Use them (Bug#23734).\n\n\t* lisp/ibuffer.el (ibuffer-mode-map): Bind new command to '% c' and '% g'.\n\t(ibuffer-mode): Update mode documentation.\n\n2016-07-02  Tino Calancha  <tino.calancha@gmail.com>\n\n\tibuffer-copy-filename-as-kill verbosity increase\n\n\t* lisp/ibuf-ext.el (ibuffer-copy-filename-as-kill):\n\tUse shorter name, result, for a local bound var.\n\tShow the string result in the echo area.\n\n2016-07-02  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix cursor positioning on TTY frames after stretch glyph\n\n\t* src/term.c (append_glyph, append_composite_glyph)\n\t(append_glyphless_glyph): Set the avoid_cursor_p and multibyte_p\n\tmembers of the produced 'struct glyph'.  Fixes cursor positioning\n\ton the first character after a stretch glyph produced from\n\tline-prefix, wrap-prefix, etc. on TTY frames.\n\n2016-07-02  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix vertical-movement in buffers with wrap-prefix\n\n\t* src/indent.c (Fvertical_motion): Zero the current_y coordinate\n\twhenever we zero the vpos vertical position of the iterator.\n\t* src/xdisp.c (move_it_in_display_line_to): Handle line-prefix and\n\twrap-prefix regardless of whether the current Y coordinate is\n\tinside the window dimensions.  (Bug#23879)\n\n2016-07-02  Eli Zaretskii  <eliz@gnu.org>\n\n\tRename FACE_OPT_FROM_ID to FACE_FROM_ID_OR_NULL\n\n\t* src/dispextern.h (FACE_FROM_ID_OR_NULL): Renamed from\n\tFACE_OPT_FROM_ID; all callers changed.\n\t* src/xdisp.c (extend_face_to_end_of_line): Call FACE_FROM_ID, not\n\tFACE_FROM_ID_OR_NULL, as the resulting face is immediately\n\tdereferenced.\n\t(fill_gstring_glyph_string): Call FACE_FROM_ID, not\n\tFACE_FROM_ID_OR_NULL, as the resulting face will be dereferenced\n\twhen the glyph string is drawn.\n\t(BUILD_COMPOSITE_GLYPH_STRING): Call FACE_FROM_ID, not\n\tFACE_FROM_ID_OR_NULL, as the resulting face will be dereferenced\n\tin fill_composite_glyph_string.\n\t(calc_line_height_property): Call FACE_FROM_ID_OR_NULL rather that\n\tFACE_FROM_ID, since the function and its caller can cope with that\n\tsituation.  Conflate 3 tests of missing face or font into just\n\tone.\n\t* src/xfaces.c (Fx_list_fonts, Fface_font, lookup_face): Call\n\tFACE_FROM_ID_OR_NULL rather that FACE_FROM_ID, since these\n\tfunctions can cope with that situation.\n\t(lookup_derived_face): Don't call FACE_FROM_ID if the result will\n\tnot be used.\n\t* src/w32console.c (w32_face_attributes): Remove redundant 'eassert'.\n\n2016-07-01  Mark Oteiza  <mvoteiza@udel.edu>\n\n\t* lisp/gnus/gnus-art.el (gnus-article-send-map): Remove extra quote.\n\n2016-07-01  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/auth-source.el (auth-source--symbol-keyword): Fix namespace\n\n\ti.e. rename from auto-source--symbol-keyword.\n\n2016-07-01  Dmitry Antipov  <dmantipov@yandex.ru>\n\n\tAvoid yet another possible NULL pointer dereference found by GCC 6.1.1\n\n\t* lwlib/lwlib.c (lw_get_all_values): Always check the value returned by\n\tget_widget_info.\n\n2016-06-30  Alan Mackenzie  <acm@muc.de>\n\n\tCC Mode: truncate the semi-nonlit cache when applying syntax-table to a quote\n\n\tThis applies to applying or removing syntax-table text properties in raw\n\tstrings which affect the stringiness of a piece of text.  This fixes the\n\tbug\n\treported in\n\thttps://lists.gnu.org/r/emacs-devel/2016-06/msg00695.html.\n\n\t* lisp/progmodes/cc-engine.el (c-truncate-semi-nonlit-pos-cache): new\n\tdefsubst.\n\t(c-invalidate-state-cache-1): Call new function in place of inline\n\tmanipulation.\n\t(c-depropertize-raw-string, c-propertize-raw-string-opener): truncate the\n\tsemi-nonlit cache when pertinent syntax-table text properties get applied to\n\tthe text.\n\n2016-06-29  Dmitry Antipov  <dmantipov@yandex.ru>\n\n\tMinor tweaks to openp\n\n\t* src/lread.c (openp): Move invariant code out of the loop\n\tand thus avoid redundant calls to memcpy.  Adjust comments.\n\n2016-06-29  Dmitry Antipov  <dmantipov@yandex.ru>\n\n\tSimplify handling of frame parameters\n\n\t* src/frame.c (x_set_frame_parameters): Avoid extra loop processing\n\tforeground color, background color and font parameters.  Adjust\n\tcomments.\n\n2016-06-29  Dmitry Antipov  <dmantipov@yandex.ru>\n\n\tCleanup around mature character manipulation functions\n\n\t* lisp/international/mule-diag.el (decode-codepage-char): Remove.\n\n\t* lisp/ldefs-boot.el (toplevel): Adjust accordingly.\n\n\t* lisp/subr.el (toplevel): Do not advertise calling conventions\n\tfor 'decode-char' and 'encode-char'.\n\n\t* src/charset.c (Fdecode_char, Fencode_char): Remove unused 3rd arg.\n\n2016-06-29  Alan Mackenzie  <acm@muc.de>\n\n\tFix C-M-a in a C function finding the start of a macro preceding it.\n\n\tAlso amend some pertinent documentation.  This fixes bug #23818.\n\n\t* lisp/progmodes/cc-engine.el (c-beginning-of-decl-1): Also check for a\n\tvirtual semicolon at a place where we check for other types of statement ends.\n\n\t* lisp/progmodes/cc-vars.el (c-macro-nacmes-with-semicolon): Remove from the\n\tdoc string the bit saying that the variable is a prototype and liable to\n\tchange.\n\n\t* doc/misc/cc-mode.texi (Macros with ;): Enhance, stating that configuring\n\tmacros with semicolon can prevent C-M-a missing the beginning of defun.\n\n2016-06-28  Dmitry Antipov  <dmantipov@yandex.ru>\n\n\tAvoid possible NULL pointer dereference found by GCC 6.1.1\n\n\t* src/xfns.c (x_get_monitor_attributes_xrandr): Always check\n\tthe value returned by XRRGetOutputInfo.\n\n2016-06-28  Tino Calancha  <tino.calancha@gmail.com>\n\n\tDired recognize dirs when file size in human units\n\n\t* lisp/dired.el (dired-re-inode-size): Update 'dired-re-inode-size'\n\tto match when Dired displays the allocated file size column\n\tin human readable units (Bug#22255).\n\n2016-06-28  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tFix breakage from previous change\n\n\t* lisp/textmodes/tex-mode.el (tex-font-lock-keywords-1):\n\t* lisp/vc/log-view.el (log-view-font-lock-keywords): Quote face.\n\n2016-06-28  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tFix breakage from previous change.\n\n\t* lisp/textmodes/texinfo.el (texinfo-font-lock-keywords): Quote face.\n\n2016-06-28  Eli Zaretskii  <eliz@gnu.org>\n\n\tAdd tests for copying properties by 'format'\n\n\t* test/src/editfns-tests.el (format-properties): New test.\n\n2016-06-28  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix copying properties in 'format' when it produces padding\n\n\t* src/textprop.c (extend_property_ranges): Correct range extension\n\twhen the new end is beyond the old end.  (Bug#23859)\n\n2016-06-27  Alan Third  <alan@idiocy.org>\n\n\tEnable dividers in NS (bug#22973)\n\n\tsrc/nsfns.m: Add color settings functions to ns_frame_park_handlers.\n\tsrc/nsterm.m (ns_draw_window_divider): ns_focus has to go before the\n\tattempt to set the color.\n\tsrc/nsterm.m (ns_draw_vertical_window_border): This had the same bug as\n\tabove, although I didn't see any errors.\n\n2016-06-27  Lars Magne Ingebrigtsen  <larsi@gnus.org>\n\n\tFix the prefix action of shr-copy-url\n\n\t* lisp/net/shr.el (shr-copy-url): Make the command really copy\n\tthe image url if given a prefix.\n\n2016-06-27  Lars Magne Ingebrigtsen  <larsi@gnus.org>\n\n\tNew functions svg-text and svg-remove\n\n\t* doc/lispref/display.texi (SVG Images): Document svg-remove.\n\n\t* doc/lispref/display.texi (SVG Images): Document svg-text.\n\n\t* lisp/svg.el (svg-remove): New function.\n\t(svg-text): New function.\n\n2016-06-27  Lars Magne Ingebrigtsen  <larsi@gnus.org>\n\n\tAdd new function dom-remove-node\n\n\t* doc/lispref/text.texi (Document Object Model): Document\n\tdom-remove-node.\n\n\t* lisp/dom.el (dom-remove-node): New function.\n\n2016-06-27  Lars Magne Ingebrigtsen  <larsi@gnus.org>\n\n\tAdd a new function `svg-embed'\n\n\t* doc/lispref/display.texi (SVG Images): Document `svg-embed'.\n\n\t* lisp/svg.el (svg-embed): New function.\n\t(svg--image-data): Ditto.\n\n2016-06-27  Eli Zaretskii  <eliz@gnu.org>\n\n\t* lisp/descr-text.el (describe-char-unicode-data): Fix copy/paste errors.\n\n2016-06-27  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix 'move-to-window-line' when EOB is on last screen line\n\n\t* src/window.c (displayed_window_lines): Fix an off-by-one error\n\twhen the bottom of the last display line is exactly at window's\n\tlast pixel.  Remove kludgey fix for TTY frames that is no longer\n\tneeded.  (Bug#15760)\n\t(Fmove_to_window_line): Doc fix.\n\n\t* doc/lispref/positions.texi (Screen Lines): Clarify and make more\n\taccurate the documentation of 'move-to-window-line'.\n\n2016-06-27  Alan Mackenzie  <acm@muc.de>\n\n\tAmend a cache so that typing into C++ raw strings has no undue delay.\n\n\tAlso amend the code so that low-level searches to the end of literals are done\n\tonly when these positions get used.\n\n\t* lisp/progmodes/cc-engine.el (c-crosses-statement-barrier-p): Use the new\n\tc-literal-start instead of c-literal-limit.\n\t(c-state-semi-nonlit-pos-cache): Change the structure of this cache, such that\n\tit stores details of the literal at a point, rather than merely points outside\n\tof literals.\n\t(c-state-semi-pp-to-literal, c-state-full-pp-to-literal)\n\t(c-cache-to-parse-ps-state, c-parse-ps-state-to-cache, c-ps-state-cache-pos)\n\t(c-parse-ps-state-below, c-literal-start): New functions.\n\t(c-state-semi-safe-place): Removed.\n\t(c-in-literal): Use c-state-semi-pp-to-literal, so as not to scan to its end.\n\t(c-literal-limits, c-determine-limit-get-base): consequential amendments.\n\t(c-find-decl-spots, c-before-change-check-<>-operators, c-raw-string-pos)\n\t(c-guess-basic-syntax (CASE 2)): Avoid needless scans to end of literals.\n\n\t* lisp/progmodes/cc-fonts.el (c-font-lock-doc-comments): Avoid needless scans\n\tto end of literals.\n\n\t* lisp/progmodes/cc-mode.el (c-fl-decl-start): Avoid needless scans to end of\n\tliterals.\n\n\t* lisp/progmodes/cc-cmds.el (c-beginning-of-defun, c-end-of-defun)\n\t(c-defun-name, c-declaration-limits): Avoid needless scans to end of literals.\n\n2016-06-26  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tAlso handle escaping when string begins with a quote\n\n\t* lisp/progmodes/ruby-mode.el (ruby-toggle-string-quotes):\n\tHandle quoting of the first character in the string.\n\n\t* test/lisp/progmodes/ruby-mode-tests.el\n\t(ruby-toggle-string-quotes-quotes-correctly): Update.\n\n2016-06-26  Sriram Thaiyar  <sriram.thaiyar@gmail.com>  (tiny change)\n\n\tFix quote escaping in ruby-toggle-string-quotes\n\n\t* lisp/progmodes/ruby-mode.el (ruby-toggle-string-quotes):\n\tChange logic to quote based on the current quote of the string.\n\n\t* test/lisp/progmodes/ruby-mode-tests.el\n\t(ruby-toggle-string-quotes-quotes-correctly): Add test.\n\n2016-06-26  Noam Postavsky  <npostavs@gmail.com>\n\n\tFix test-completion with completion-regexp-list\n\n\t* src/minibuf.c (Ftest_completion): Handle alist COLLECTION with non-nil\n\tcompletion-regexp-list (Bug #23533).\n\n2016-06-26  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tTry other addresses when connecting to multihomed\n\n\tProblem reported by Juliusz Chroboczek (Bug#17976)\n\tand by Artur Malabarba (Bug#23620).\n\tPatch from a suggestion by Andreas Schwab in:\n\thttps://bugs.gnu.org/17976#39\n\tThis patch is for non-MS-Windows platforms.\n\tI don't know the situation on MS-Windows.\n\t* src/process.c (connecting_status):\n\tNew function, for (connect . ADDRINFOS).\n\t(connect_network_socket, check_for_dns, wait_for_socket_fds)\n\t(wait_while_connecting, wait_reading_process_output, status_notify):\n\tUse it.\n\t(decode_status, Fmake_network_process):\n\tSupport (connect . ADDRINFOS) status.\n\t(connect_network_socket) [!WINDOWSNT]:\n\tIf the connection failed and there are other addresses to try, do not\n\tsignal an error; instead, loop around to try the next address.\n\t(wait_reading_process_output): Advance to the next address\n\tif there are multiple addresses and the first remaining address\n\tfailed.\n\t* src/process.h (struct Lisp_Process.status): Adjust comment\n\tto describe (connect . ADDRINFOS).\n\n2016-06-26  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix GNUC_PREREQ for GCC 2.8.1 etc.\n\n\tProblem reported by Eli Zaretskii in:\n\thttps://lists.gnu.org/r/emacs-devel/2016-06/msg00608.html\n\t* src/conf_post.h (GNUC_PREREQ): Port to GCC versions like GCC\n\t2.8.1 (1998), which come before GCC 3.0 and which have nonzero\n\tpatchlevel numbers.\n\n2016-06-26  Eli Zaretskii  <eliz@gnu.org>\n\n\tDon't set 'bidi-paragraph-direction' in 'ansi-term'\n\n\t* lisp/term.el (ansi-term): Remove unnecessary setting of\n\t'bidi-paragraph-direction'.  The underlying problem is solved in\n\tbidi.c by changing the regexps that define the paragraph beginning\n\tand end.  (Bug#20611)\n\n2016-06-26  Michael Albinus  <michael.albinus@gmx.de>\n\n\tSync with Tramp 2.3.0\n\n\t* doc/misc/trampver.texi:\n\t* lisp/net/trampver.el: Change version to \"2.3.0\".\n\n2016-06-26  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix GNUC_PREREQ off-by-1 typo\n\n\tProblem reported by Martin Rudalics in:\n\thttps://lists.gnu.org/r/emacs-devel/2016-06/msg00587.html\n\t* src/conf_post.h (GNUC_PREREQ) [__GNUC_PATCHLEVEL__]:\n\tFix < vs <= typo.\n\n2016-06-26  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix some oddities in Tramp's rsync and smb methods\n\n\t* lisp/net/tramp-sh.el (tramp-methods) <rsync>: Add \"-p\" and\n\t\"-s\" arguments.\n\t(tramp-do-copy-or-rename-file-out-of-band):\n\tCall `file-name-directory' also for remote NEWNAME.\n\n\t* test/lisp/net/tramp-tests.el (tramp-test15-copy-directory):\n\tDo not skip for tramp-smb.el.  Test als COPY-CONTENTS case.\n\t(tramp-test24-file-name-completion): Improve check for\n\thostname completion.\n\t(tramp--test-rsync-p): New defun.\n\t(tramp-test31-special-characters)\n\t(tramp-test31-special-characters-with-stat)\n\t(tramp-test31-special-characters-with-perl)\n\t(tramp-test31-special-characters-with-ls, tramp-test32-utf8)\n\t(tramp-test32-utf8-with-stat, tramp-test32-utf8-with-perl)\n\t(tramp-test32-utf8-with-ls): Skip for \"rsync\".\n\n\t* lisp/net/tramp-smb.el (tramp-smb-handle-copy-directory):\n\tCheck also for CIFS capabilities.\n\n2016-06-26  Ury Marshak  <ury.marshak@gmail.com>  (tiny change)\n\n\tFix FRAME_INTERNAL_BORDER_WIDTH use (Bug#23841)\n\n\t* src/nsfns.m (x_set_internal_border_width): Replace assignments to\n\tFRAME_INTERNAL_BORDER_WIDTH.\n\n2016-06-25  Leo Liu  <sdl.web@gmail.com>\n\n\tDeprecations (bug#23850)\n\n\t* lisp/subr.el (string-to-unibyte, string-as-unibyte,\n\tstring-to-multibyte, string-as-multibyte): Make obsolete.\n\n2016-06-25  Tino Calancha  <tino.calancha@gmail.com>\n\n\tDo not prompt twice to save a buffer\n\n\t* lisp/hilit-chg.el (highlight-markup-buffers): (Bug#23824).\n\n2016-06-25  Alan Third  <alan@idiocy.org>\n\n\tMove text line right when in box (bug#23755)\n\n\t* src/nsterm.m (ns_draw_glyph_string_foreground): Create to take\n\tCHAR_GLYPH specific code and move glyphs right if within a box.\n\t(ns_draw_glyph_string): Move CHAR_GLYPH specific code into above\n\tfunction.\n\n2016-06-25  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\t0377fe2 ; Spelling fixes\n\tf253695 Update docs for `customize-mode'\n\t4395aaa Fix documentation of 'assoc-string' and 'compare-strings'\n\tab0ebb9 ; Only load .elc file in tests.\n\ta98aa02 Error on multibyte characters in HTTP request\n\tea512a7 * lisp/gnus/mm-decode.el (mm-convert-shr-links): Mask keys th...\n\t8297331 ; Revert \"Ensure undo-boundary after insert-file-contents.\"\n\tdc5e65b Unset GIT_DIR when calling Git commands\n\t6cdd8f7 Ensure undo-boundary after insert-file-contents.\n\t4793f5f Clarify documentation of 'line-spacing' and 'line-height'\n\t5f37572 Fix removal of variables from process-environment\n\te5e886d * admin/authors.el (authors-ignored-files, authors-valid-file...\n\tdb0777b * admin/authors.el (authors-aliases, authors-fixed-case): Add...\n\n\t# Conflicts:\n\t#\tdoc/lispref/modes.texi\n\t#\tlisp/gnus/mm-decode.el\n\n2016-06-25  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tTeach net-utils more iproute2 and nl80211 tools\n\n\t* lisp/net/net-utils.el (iwconfig-program): Add iw(8).\n\t(iwconfig-program-options): Add \"dev\" argument for iw.  Another useful\n\toption is \"phy\"; beyond that one needs to know the interface name.\n\t(netstat-program): Add ss(8).\n\t(route-program): Add ip(8).\n\t(route-program-options): Add \"route\" argument for ip.\n\n2016-06-24  Leo Liu  <sdl.web@gmail.com>\n\n\tUse use-region-p in prolog.el\n\n\t* lisp/progmodes/prolog.el (region-exists-p): Remove.\n\t* lisp/progmodes/prolog.el (prolog-edit-menu-runtime,\n\tprolog-edit-menu-insert-move): Use use-region-p.\n\n2016-06-24  Leo Liu  <sdl.web@gmail.com>\n\n\tRemove compatibility with Emacs 24.3 in octave-mode\n\n\t* lisp/progmodes/octave.el: Clean up and remove compatibility with\n\tEmacs 24.3.\n\n2016-06-24  Alan Mackenzie  <acm@muc.de>\n\n\tEnsure hack-local-variables is run in a fundamental mode buffer.\n\n\tThis fixes bug #23827.\n\n\t* src/buffer.c (set-buffer-major-mode): Run `fundamental-mode' when the buffer\n\tgets set to that mode, so that `run-mode-hooks', and thus\n\t`hack-local-variables' get run.\n\n2016-06-24  Tino Calancha  <tino.calancha@gmail.com>\n\n\tFix caller to ediff-setup\n\n\t* lisp/hilit-chg.el (hilit-chg-get-diff-info): #Bug23820.\n\n2016-06-24  Alan Mackenzie  <acm@muc.de>\n\n\tImplement ' separators in C++ integer literals.\n\n\t* lisp/progmodes/cc-langs.el (c-get-state-before-change-functions): insert\n\tc-before-after-change-digit-quote into the C++ value.\n\t(c-before-font-lock-functions): Insert c-depropertize-new-text into the values\n\tfor all languages.  Insert c-before-after-change-digit-quote into the C++\n\tvalue.\n\n\t* lisp/progmodes/cc-mode.el (c-depropertize-CPP): Wrap the function in\n\tc-save-buffer-state.\n\t(c-depropertize-new-text, c-before-after-change-digit-quote): New functions.\n\n2016-06-24  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tUpdate from gnulib\n\n\tThis incorporates:\n\t2016-06-24 intprops: port better to GCC 7\n\t2016-06-13 xalloc-oversized: port to GCC 7; fewer warnings\n\t* doc/misc/texinfo.tex, lib/xalloc-oversized.h, lib/intprops.h:\n\tCopy from gnulib.\n\n2016-06-24  Martin Rudalics  <rudalics@gmx.at>\n\n\tRemove two uses of 'min' in Fwindow_text_pixel_size\n\n\t* src/xdisp.c (Fwindow_text_pixel_size): Don't use 'min' since\n\tit calls move_it_to twice.  Suggested by Eli Zaretskii.\n\n2016-06-23  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tClarify intent of FACE_FROM_ID and IMAGE_FROM_ID\n\n\t* src/dispextern.h (FACE_OPT_FROM_ID): Don\u2019t use FACE_FROM_ID,\n\tsince it is intended to be used only when it returns a non-null\n\tpointer, and here the pointer might be null.\n\t(IMAGE_OPT_FROM_ID): Don\u2019t use IMAGE_FROM_ID, for similar reasons.\n\n2016-06-23  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tRemove some more face aliases obsoleted in 22.1\n\n\t* lisp/eshell/em-ls.el (eshell-ls-directory-face, eshell-ls-symlink-face,\n\teshell-ls-executable-face, eshell-ls-readonly-face,\n\teshell-ls-unreadable-face, eshell-ls-special-face,\n\teshell-ls-missing-face, eshell-ls-archive-face, eshell-ls-backup-face,\n\teshell-ls-product-face, eshell-ls-clutter-face): Remove.\n\t* lisp/isearch.el (isearch-lazy-highlight-face, lazy-highlight-face): Remove.\n\t(isearch-lazy-highlight-update): Use face symbol.\n\t* lisp/net/sieve-mode.el (sieve-control-commands-face,\n\tsieve-action-commands-face, sieve-test-commands-face,\n\tsieve-tagged-arguments-face): Remove.\n\t(sieve-font-lock-keywords): Use non-obsolete faces.\n\t* lisp/progmodes/sh-script.el (sh-heredoc-face): Remove.\n\t(sh-get-indent-info, sh-prev-line): Use face symbol.\n\t* lisp/textmodes/tex-mode.el (tex-font-lock-keywords-1):\n\tUse non-obsolete face.\n\t(tex-math-face, tex-verbatim-face): Remove.\n\t(tex-font-lock-syntactic-face-function): Use face symbols.\n\n2016-06-23  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tRemove some face aliases obsoleted in 22.1\n\n\t* lisp/faces.el (modeline-inactive, modeline-highlight, modeline-buffer-id):\n\t* lisp/hilit-chg.el (highlight-changes-face, highlight-changes-delete-face):\n\t* lisp/info.el (Info-title-1-face, Info-title-2-face, Info-title-3-face,\n\tInfo-title-4-face, info-menu-5):\n\t* lisp/obsolete/old-whitespace.el (whitespace-highlight-face):\n\t* lisp/paren.el (show-paren-match-face, show-paren-mismatch-face):\n\t* lisp/progmodes/make-mode.el (makefile-space-face):\n\t* lisp/textmodes/texinfo.el (texinfo-heading-face): Remove.\n\t(texinfo-font-lock-keywords): Use texinfo-heading face.\n\t* lisp/vc/add-log.el (change-log-date-face, change-log-name-face,\n\tchange-log-email-face, change-log-file-face, change-log-list-face,\n\tchange-log-conditionals-face, change-log-function-face,\n\tchange-log-acknowledgement-face):\n\t* lisp/vc/diff-mode.el (diff-header-face, diff-file-header-face,\n\tdiff-index-face, diff-hunk-header-face, diff-removed-face, diff-added-face,\n\tdiff-changed-face, diff-function-face, diff-context-face,\n\tdiff-nonexistent-face): Remove.\n\t(diff-use-changed-face, diff-font-lock-keywords): Use non-obsolete face\n\tsymbols.\n\t(diff-hunk-file-names): Fix comment.\n\t(diff-refine-change): Remove.\n\t(diff-refine-removed, diff-refine-added, diff-refine-hunk): Use\n\tnon-obsolete face.\n\t* lisp/vc/log-view.el (log-view-file-face, log-view-message-face): Remove.\n\t(log-view-font-lock-keywords): Use non-obsolete face names.\n\t* lisp/vc/pcvs-info.el (cvs-header-face, cvs-filename-face, cvs-unknown-face,\n\tcvs-handled-face, cvs-need-action-face, cvs-marked-face, cvs-msg-face):\n\t* lisp/wid-edit.el (widget-documentation-face, widget-button-face,\n\twidget-field-face, widget-single-line-field-face, widget-inactive-face,\n\twidget-button-pressed-face):\n\t* lisp/woman.el (woman-italic-face, woman-bold-face, woman-unknown-face,\n\twoman-addition-face): Remove.\n\n2016-06-23  Eli Zaretskii  <eliz@gnu.org>\n\n\t* lisp/international/characters.el (standard-case-table): Improve last change.\n\n2016-06-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove results of 'upcase' for characters with title-case\n\n\t* lisp/international/characters.el (standard-case-table): Swap the\n\torder of some lines, to have 'upcase' return the upper-case\n\tvariant, not the title-case, for some characters whose lower-case\n\tmap to the same codepoints.  (Bug#23833)\n\n2016-06-23  Alan Mackenzie  <acm@muc.de>\n\n\tMake typing into incomplete C++ raw strings work, and make it work fast enough\n\n\t* lisp/progmodes/cc-engine.el (c-beginning-of-macro, c-state-pp-to-literal):\n\tPut `save-match-data' around calls to `looking-at' to enable the use of the\n\tmatch data in higher level functions.\n\n\t* lisp/progmodes/cc-fonts.el (c-font-lock-declarations)\n\t(c-font-lock-cut-off-declarators): Use `limit' rather than `(point-max)' as a\n\tlimit to speed up handling of C++ raw strings.\n\n2016-06-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix handling of LWINDOW key on MS-Windows\n\n\t* src/w32fns.c (funhook): Correct a typo which broke handling of\n\tthe LWINDOW key.  (Bug#23830)\n\n2016-06-22  Eli Zaretskii  <eliz@gnu.org>\n\n\tUpdate Unicode data files from Unicode 9.0.0\n\n\t* admin/unidata/copyright.html:\n\t* admin/unidata/BidiBrackets.txt:\n\t* admin/unidata/UnicodeData.txt: Update from Unicode 9.0.0, just\n\treleased.\n\n2016-06-22  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix test for whether the '.el' file is newer than '.elc'\n\n\t* src/lread.c (Fload): Don't overwrite the last character of the\n\tfile name in FOUND with 'c', unless the file name ended in \".elc\"\n\tto begin with.  Don't treat empty files as byte-compiled.  See\n\thttps://lists.gnu.org/r/emacs-devel/2016-06/msg00463.html\n\tfor more details of the problem this caused.\n\n2016-06-22  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix 'insert-file-contents' when REPLACE is non-nil\n\n\t* src/fileio.c (maybe_move_gap): New function to move the gap to\n\tthe end of a buffer, if it isn't there already.\n\t(Finsert_file_contents): Call 'maybe_move_gap' before using\n\tconversion_buffer's text as a C 'char' array.  (Bug#23659)\n\t* src/coding.c (decode_eol): Compute the byte increment before\n\tcalling del_range_2, because the latter can invalidate the pointer\n\tto buffer text.\n\n2016-06-22  Ken Brown  <kbrown@cornell.edu>\n\n\tAvoid compiler warning\n\n\t* src/w32fns.c (Fx_show_tip): Don\u2019t jump over auto initialization.\n\n2016-06-22  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/syntax.el (syntax-propertize): Flush extended region.\n\n2016-06-22  Ken Brown  <kbrown@cornell.edu>\n\n\tFix last change to FRAME_INTERNAL_BORDER_WIDTH\n\n\t* src/w32fns.c (x_set_internal_border_width): Don\u2019t use\n\tFRAME_INTERNAL_BORDER_WIDTH(), which is now a function call, as an\n\tlvalue.\n\n2016-06-21  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tImprove --without-x GCC pacification\n\n\t* src/composite.c (autocmp_chars):\n\t* src/conf_post.h (DebPrint) [HAVE_NTGUI && !DebPrint && !EMACSDEBUG]:\n\tUse simpler ((void) 0) for no-op expression returning void.\n\t* src/dispextern.h [HAVE_WINDOW_SYSTEM]:\n\tInclude fontset.h, for face_for_char.\n\t(FACE_SUITABLE_FOR_ASCII_CHAR_P, FACE_FOR_CHAR):\n\tNow inline functions instead of macros.  This avoids the need for\n\tall those casts to void.\n\t(FACE_SUITABLE_FOR_ASCII_CHAR_P): Omit 2nd (unused) arg.\n\tAll uses changed.\n\t* src/frame.c (Ficonify_frame, Fset_frame_position):\n\t* src/xdisp.c (Fmove_point_visually, show_mouse_face):\n\t* src/xdisp.c (note_mode_line_or_margin_highlight)\n\t(note_mouse_highlight):\n\tAssume HAVE_WINDOW_SYSTEM for simplicity, since the code should\n\tnow work either way without generating warnings.\n\t* src/frame.c (display_available) [HAVE_WINDOW_SYSTEM]: New function.\n\t(window_system_available) [HAVE_WINDOW_SYSTEM]: Move to frame.h.\n\t(decode_window_system_frame): Use check_window_system instead of\n\trolling the code ourself.  Return needed only if HAVE_WINDOW_SYSTEM.\n\t(decode_window_system_frame, check_window_system):\n\tMerge the HAVE_WINDOW_SYSTEM and !HAVE_WINDOW_SYSTEM versions into one.\n\t* src/frame.c (Ficonify_frame, Fset_frame_position):\n\t* src/xdisp.c (show_mouse_face, define_frame_cursor1)\n\t(note_mouse_highlight):\n\tNarrow the scope of the HAVE_WINDOW_SYSTEM #ifdef;\n\tthis is a better way to pacify GCC.\n\t* src/xdisp.c (x_set_left_fringe, x_set_right_fringe)\n\t(x_set_right_divider_width, x_set_bottom_divider_width):\n\t* src/xfns.c (x_set_internal_border_width):\n\tDon\u2019t use what are now function calls as lvalues.\n\t* src/frame.h (WINDOW_SYSTEM_RETURN): New macro.\n\t(decode_window_system_frame, check_window_system):\n\tUse it, to avoid the need for duplicate declarations.\n\t(window_system_available): Now an inline function.\n\t(display_available): New decl.\n\t(frame_dimension): New inline function.\n\t(FRAME_FRINGE_COLS, FRAME_LEFT_FRINGE_WIDTH)\n\t(FRAME_RIGHT_FRINGE_WIDTH, FRAME_TOTAL_FRINGE_WIDTH)\n\t(FRAME_INTERNAL_BORDER_WIDTH, FRAME_RIGHT_DIVIDER_WIDTH)\n\t(FRAME_BOTTOM_DIVIDER_WIDTH):\n\tUse it, to avoid the need for duplicate definitions.\n\tNow inline functions instead of macros.\n\t* src/gnutls.c (gnutls_log_function2i): Remove.\n\t* src/gnutls.h (GNUTLS_LOG2i): Use \u2018message\u2019 directly.\n\tThis avoids complaints about gnutls_log_function2i being defined\n\tand not used on older platforms that do not need to call GNUTLS_LOG2i.\n\t* src/image.c (DefaultDepthOfScreen) [0]: Remove unused macro.\n\t* src/lisp.h (AUTO_STRING_WITH_LEN): Revert change from \u2018type id =\n\texpr\u2019 to \u2018type id; id = expr\u2019, as this would suppress valid\n\tjump-misses-init diagnostics.  Let\u2019s find a better way to address\n\tthe problem.\n\t* src/vm-limit.c (__MALLOC_HOOK_VOLATILE):\n\tDefine only if needed.\n\t* src/xdisp.c (handle_single_display_spec):\n\tSimplify fringe_bitmap computation.\n\t(define_frame_cursor1): Do nothing unless in a window system.\n\tAll callers changed and simplified.\n\t* src/xfaces.c (realize_default_face):\n\tUse a simpler way to pacify GCC when a return value is not used\n\ton some platforms.\n\n2016-06-21  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\tEnsure undo-boundary after all commands\n\n\t* lisp/simple.el (undo-auto--boundaries): Ensure an undo-boundary after\n\t  every command whether it (apparently) changes the buffer or not.\n\n\tSee Bug#23785 for discussion.\n\n2016-06-21  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix vertical layout calculations when newline has line-height property\n\n\t* src/xdisp.c (move_it_in_display_line_to): Reset the iterator's\n\t'constrain_row_ascent_descent_p' flag after processing the\n\tnewline, similar to what 'display_line' does.  Without this, the\n\tflag remains set once set by x_produce_glyphs, and causes the\n\tvertical layout calculations to go awry, because Emacs thinks the\n\tscreen lines have zero height.\t(Bug#23850)\n\n2016-06-20  Ken Brown  <kbrown@cornell.edu>\n\n\tFix compiler warnings in Cygwin-w32 build\n\n\t* src/conf_post.h (DebPrint) [!EMACSDEBUG]: Add empty do-while\n\tloop to avoid compiler warnings about empty body of 'if'\n\tstatement.\n\n\t* src/image.c [HAVE_NTGUI] (DefaultDepthOfScreen): Disable unused\n\tmacro.\n\t(x_create_bitmap_from_data): Declare 'frame'.\n\t(x_create_bitmap_from_file): Don't declare unused variable\n\t'dpyinfo'.\n\n\t* src/lisp.h (AUTO_STRING_WITH_LEN): Avoid initialization to\n\tprevent \"jump-misses-init\" compiler warnings.\n\n\t* src/w32fns.c (check_w32_winkey_state): Define and use only if\n\tWINDOWSNT.\n\t(Fx_show_tip): Declare 'f'.\n\t(Fx_file_dialog): Declare 'filter_a' only if not NTGUI_UNICODE.\n\t(w32_strerror): Use format specifier %d for sprintf argument of\n\ttype int.\n\t(emacs_abort): Cast sprintf argument of type DWORD to unsigned\n\tint, and use format specifier %x, for compatibility with Cygwin.\n\t(unicode_append_menu) [NTGUI_UNICODE]:\n\t* src/w32menu.c [NTGUI_UNICODE] (get_menu_item_info)\n\t(set_menu_item_info, unicode_append_menu)\n\t(unicode_message_box):\n\t* src/menu.c [NTGUI_UNICODE] (unicode_append_menu): Define as\n\tfunctions rather than macros to avoid \"address will always\n\tevaluate as true\" compiler warnings.\n\n\t* src/w32font.c (w32_to_x_charset): Use format specifier %d for\n\tsprintf argument of type int.\n\n\t* src/w32term.c (x_draw_glyphless_glyph_string_foreground): Cast\n\tsprintf argument of type int to unsigned int to match %X format\n\tspecifier.\n\t(w32_scroll_bar_handle_click):\n\t(w32_horizontal_scroll_bar_handle_click): Declare 'f'.\n\n\t* src/w32term.h (FRAME_DISPLAY_INFO): Explicitly discard unused\n\targument.\n\n2016-06-20  Ken Brown  <kbrown@cornell.edu>\n\n\tFix compiler warnings in no-window-system-build\n\n\t* src/composite.c (autocmp_chars): Declare and set 'f' only if\n\tHAVE_WINDOW_SYSTEM.\n\n\t* src/dispextern.h (FACE_SUITABLE_FOR_ASCII_CHAR_P)\n\t(FACE_FOR_CHAR): Explicitly discard unused arguments.\n\n\t* src/font.c (font_open_entity): Declare 'min_width' where it is\n\tfirst set, and only if HAVE_WINDOW_SYSTEM.\n\n\t* src/frame.c [!HAVE_WINDOW_SYSTEM] (decode_window_system_frame):\n\tDefine _Noreturn version to avoid \"suggest attribute noreturn\"\n\tcompiler warning.\n\t(check_window_system): Declare as _Noreturn.\n\t(Ficonify_frame):\n\t(Fset_frame_position): Don\u2019t declare and set 'f'.\n\n\t* src/frame.h [!HAVE_WINDOW_SYSTEM] (decode_window_system_frame)\n\t(check_window_system):  Add _Noreturn prototypes.\n\t(FRAME_FRINGE_COLS, FRAME_TOTAL_FRINGE_WIDTH)\n\t(FRAME_LEFT_FRINGE_WIDTH, FRAME_RIGHT_FRINGE_WIDTH)\n\t(FRAME_INTERNAL_BORDER_WIDTH, FRAME_RIGHT_DIVIDER_WIDTH)\n\t(FRAME_BOTTOM_DIVIDER_WIDTH): Explicitly discard unused argument.\n\n\t* src/xdisp.c (handle_single_display_spec): Declare\n\t'fringe_bitmap' only if HAVE_WINDOW_SYSTEM.\n\t(append_space_for_newline): Declare 'g' where it is first set.\n\t(Fmove_point_visually): Declare and set 'target_is_eol_p' only if\n\tHAVE_WINDOW_SYSTEM.\n\t(show_mouse_face): Declare and set 'f' and 'phys_cursor_on_p' only\n\tif HAVE_WINDOW_SYSTEM.\n\t(note_mode_line_or_margin_highlight):\n\t(note_mouse_highlight): Declare and set 'cursor' and 'pointer'\n\tonly if HAVE_WINDOW_SYSTEM.\n\n\t* src/xfaces.c (realize_default_face): Declare and set 'face' only\n\tif HAVE_X_WINDOWS.  Remove redundant #ifdef.\n\n2016-06-20  Michael Albinus  <michael.albinus@gmx.de>\n\n\tWeaken test conditions in filenotify-tests.el\n\n\t* test/lisp/filenotify-tests.el (file-notify--test-with-events):\n\tFix thinko in test.\n\t(file-notify-test02-events, file-notify-test04-file-validity)\n\t(file-notify-test07-backup)\n\t(file-notify-test08-watched-file-in-watched-dir): Make test\n\tconditions more weak.  (Bug#23618)\n\n2016-06-19  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMinor ABLOCKS_BUSY cleanups in alloc.c\n\n\t* src/alloc.c (ABLOCKS_BUSY): Rename arg to avoid potential clash\n\twith member \u2018abase\u2019 in definiens.\n\t(lisp_align_malloc, lisp_align_free): Use bool for boolean.\n\tAvoid compiler warning with fewer casts.\n\t(lisp_align_free): Check busy-field values; this can help the\n\tcompiler a bit when optimizing, too.\n\n2016-06-19  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tASCII-fy coding-system-for-read used for Git commands\n\n\t* lisp/vc/vc-git.el (vc-git--asciify-coding-system):\n\tNew function.\n\t(vc-git-diff, vc-git-annotate-command): Use it.\n\n2016-06-19  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tProhibit multibyte characters in url-http-data\n\n\tIt didn't work anyway, but this makes any such errors more obvious\n\tby catching them earlier.\n\n\t* lisp/url/url-http.el (url-http-create-request):\n\tUse string-to-unibyte (bug#23750).\n\n2016-06-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix setting a range of char-table slots in a singular case\n\n\t* src/chartab.c (char_table_set_range): Start the loop from the\n\tfirst character of the block to which FROM belongs.  (Bug#23797)\n\n\t* test/src/chartab-tests.el: New test file.\n\n2016-06-19  Alan Mackenzie  <acm@muc.de>\n\n\tFix CC Mode fontification problem apparent in test file decls-6.cc.\n\n\t* lisp/progmodes/cc-engine.el (c-forward-decl-or-cast-1): Recognize\n\t\"bar (gnu);\" as a declarator only when the construct is directly inside a\n\tclass (etc.) called \"bar\".\n\t(c-directly-in-class-called-p): New function.\n\n2016-06-19  Alan Mackenzie  <acm@muc.de>\n\n\tc-renarrow-state-cache: take care when new point is inside old brace pair.\n\n\tAlso add display of point-min to the c-parse-state debugging output.\n\n\t* lisp/progmodes/cc-engine.el (c-renarrow-state-cache): When the new\n\tpoint is inside an old recorded brace pair, clear the cache.\n\t(c-debug-parse-state): Output the value of point-min.\n\n2016-06-18  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRename ALIGN to pointer_align\n\n\t* src/alloc.c (pointer_align): Rename from ALIGN.\n\tThis fixes Bug#23764 in a simpler way.\n\n2016-06-18  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\td1efbaf Fix documentation of completion functions\n\t65c96cc Clarify documentation of 'font-lock-maximum-decoration'\n\t2ad3d01 * doc/misc/cl.texi (Usage): Add some more details.\n\tb49cb0a Fbackward_prefix_chars: stay within buffer bounds\n\n2016-06-18  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\t2317c61 Fix last todo-mode change\n\t5d4d8a3 Improve last todo-mode fix\n\td7084f2 Fix todo-mode use of minibuffer completion keymap (bug#23695).\n\t27dec52 * src/alloc.c (ALIGN): Avoid error on DragonFly BSD.  (Bug#23...\n\tf526191 * lisp/emacs-lisp/nadvice.el (advice--make-docstring): Avoid ...\n\te881070 * lisp/help-fns.el (describe-function-1): Avoid reporting adv...\n\td308aa1 Minor grammar fix (bug#23746)\n\t20de667 Doc fixes for grammar and typos (bug#23746)\n\ta67a4e5 * doc/lispref/processes.texi (Process Buffers): Minor rewordi...\n\t27f440e Add cross-reference to ELisp manual\n\t10802d8 ; make change-history-commit\n\t4b2d77d * lisp/emacs-lisp/macroexp.el (macroexp--expand-all): Fix (bu...\n\t12e009e Restore initial undo boundary with viper\n\t291fe0a Revert \"Fix viper undo breakage from undo-boundary changes\"\n\t6921f4a Fix dbus crash on 32-bit Cygwin\n\n2016-06-18  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\t9ae514a * etc/AUTHORS: Update the AUTHORS file\n\t3ca428e add entries to authors.el\n\t66d556b Fix eldoc-related freezes in python mode\n\td59bcbc Handle mouse leaving initial window in `mouse-set-region' (Bu...\n\t27fe1e4 org.el: Fix bindings of < and > for calendar scrolling\n\ta813487 Fix undo boundary in recursive edit (Bug#23632)\n\t1f85b7c Doc fixes re alist-get.  (Bug#23548)\n\tba3f206 * lisp/progmodes/python.el (inferior-python-mode): Avoid tabs...\n\t56fa055 * src/syntax.c (syms_of_syntax) <comment-end-can-be-escaped>:...\n\t4c1370a * lisp/help-fns.el (describe-function-1): Fix handling of fil...\n\ta3f7ae8 * lisp/emacs-lisp/cl-macs.el (cl-loop): Doc fix re \"by\".\n\t601b9b2 * doc/misc/cl.texi (Mapping over Sequences): Fix cl-notevery.\n\n2016-06-18  Nicolas Petton  <nicolas@petton.fr>\n\n\t* lisp/emacs-lisp/map.el (map-contains-key): Better docstring\n\n2016-06-18  Nicolas Petton  <nicolas@petton.fr>\n\n\tFix seq-contains\n\n\tMake sure seq-contains return the element of the sequence instead of t.\n\n\t* lisp/emacs-lisp/seq.el (seq-contains): Fix the function.\n\t* test/lisp/emacs-lisp/seq-tests.el: Add a regression test.\n\n2016-06-18  Nicolas Petton  <nicolas@petton.fr>\n\n\tAdd new function map-do\n\n\t* lisp/emacs-lisp/map.el (map-do, map--do-alist, map--do-array): New\n\t  functions.\n\t* test/lisp/emacs-lisp/map-tests.el: Add a unit test for map-do.\n\n2016-06-18  Nicolas Petton  <nicolas@petton.fr>\n\n\tAdd seq-do-indexed\n\n\t* lisp/emacs-lisp/seq.el (seq-do-indexed): New function.\n\t* test/lisp/emacs-lisp/seq-tests.el: Add a unit test for seq-do-indexed.\n\n2016-06-17  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tmap.el (map-merge*): Use `map-into' at beginning rather than end\n\n\t* lisp/emacs-lisp/map.el (map-merge): Use `map-into' for the first map,\n\tand don't use of an intermediate alist.\n\t(map-merge-with): Same, plus use `cl-callf' to try and avoid performing\n\t3 lookups per inner iteration.\n\n2016-06-16  Mark Oteiza  <mvoteiza@udel.edu>\n\n\t* lisp/window.el (switch-to-buffer-preserve-window-point): Bump :version.\n\n2016-06-15  Alan Mackenzie  <acm@muc.de>\n\n\tSpeed up CC Mode's font locking by taking some code out of a hot loop.\n\n\t* lisp/progmodes/cc-fonts.el (c-font-lock-declarations): Remove code which\n\ttests for bare declarators.\n\t(c-font-lock-cut-off-declarators): New function.\n\t(c-complex-decl-matchers): insert c-font-lock-cut-off-declarators.\n\n2016-06-15  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tAutomatically find vars and functions via definition-prefixes\n\n\t* lisp/help-fns.el (help-definition-prefixes): New var and function.\n\t(help--loaded-p, help--load-prefixes, help--symbol-completion-table):\n\tNew functions.\n\t(describe-function, describe-variable): Use them.\n\n\t* lisp/emacs-lisp/radix-tree.el (radix-tree--prefixes)\n\t(radix-tree-prefixes, radix-tree-from-map): New functions.\n\n2016-06-15  Michal Nazarewicz  <mina86@mina86.com>\n\n\tAutomatically detect whether .h file is C or C++\n\n\t* lisp/progmodes/cc-mode.el (c-or-c++-mode): A new function which\n\tanalyzes contents of the buffer to determine whether it looks like C++\n\tsource code and based on that enables c-mode or c++-mode.\n\t(c-or-c++-mode--regexp): Regular expression which, when matches\n\ta buffer, signals file is C++.\n\n2016-06-15  Alan Mackenzie  <acm@muc.de>\n\n\tParse compound identifiers in C++ member initialization lists.\n\n\t* lisp/progmodes/cc-engine.el (c-back-over-compound-identifier): New function.\n\t(c-back-over-member-initializer-braces, c-back-over-list-of-member-inits)\n\t(c-back-over-member-initializers): Call c-back-over-compound-identifier rather\n\tthan c-simple-skip-symbol-backward.\n\n2016-06-15  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tAdvertize set-keymap-parent as replacement for copy-keymap\n\n\t* doc/lispref/keymaps.texi (Creating Keymaps):\n\t* src/keymap.c (Fcopy_keymap): Advertize set-keymap-parent as replacement.\n\n2016-06-15  Ted Zlatanov  <tzz@lifelogs.com>\n\n\t* lisp/generic-x.el (ansible-inventory-generic-mode): Warn if\n\tvalue is missing\n\n2016-06-15  Tim Chambers  <tbc@alum.mit.edu>  (tiny change)\n\n\tAdd new ansible-inventory-generic-mode (Bug#23762)\n\n\t* lisp/generic-x.el (ansible-inventory-generic-mode): Add new mode.\n\n2016-06-14  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix ifdef-vs-if typo with RANDR13_LIBRARY\n\n\t* src/xfns.c (x_get_monitor_attributes_xrandr): Use #if, not #ifdef.\n\tThis ports to systems that predate xrandr 1.3. See Christian Lynbech in:\n\thttps://lists.gnu.org/r/emacs-devel/2016-06/msg00198.html\n\n2016-06-14  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort to platforms where char * has top bit set\n\n\tThis fixes a five-year-old FIXME comment.  Although I don\u2019t know\n\tof a platform where this is a problem in practice, better safe\n\tthan sorry.\n\t* src/doc.c (Fdocumentation): If SUBRP, simply use doc as integer,\n\tas it is now an integer, not char *.\n\t(store_function_docstring): Offset is now EMACS_INT, not ptrdiff_t;\n\tthis is a file offset and EMACS_INT is better if --with-wide-int.\n\tIf SUBRP, simply store the offset rather than negating it and\n\tconverting it to char *.\n\t* src/lisp.h (struct Lisp_Subr.doc): Now EMACS_INT, not char *.\n\n2016-06-14  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRemove recursion from store_function_docstring\n\n\t* src/doc.c (store_function_docstring):\n\tRefactor to avoid the need for C-level recursion.\n\n2016-06-14  Ken Brown  <kbrown@cornell.edu>\n\n\tRemove system-specific -I switch from Cygwin-w32 build\n\n\tSuggested by Eli Zaretskii in discussion of bug#18302.\n\n\t* src/image.c [HAVE_NTGUI]: Remove the unused macro\n\tPIXEL_ALREADY_TYPEDEFED.  On Cygwin, include \"noX/xpm.h\" instead of\n\t\"X11/xpm.h\".\n\n\t* configure.ac [CYGWIN && HAVE_W32]: Change the xpm test to use\n\t\"noX/xpm.h\".  Don't add a -I switch to CPPFLAGS.\n\n2016-06-14  Noam Postavsky  <npostavs@gmail.com>\n\n\tMake python.el work in Emacs 24\n\n\t* lisp/progmodes/python.el: Bump version.\n\t(python-define-auxiliary-skeleton): Only use format-message if\n\tfbound (Bug#23126).\n\n2016-06-13  Ken Brown  <kbrown@cornell.edu>\n\n\tAvoid compiler warning\n\n\t* src/w32fns.c (deliver_wm_chars): Add 'const' to declaration of\n\t'type_CtrlAlt'.\n\n2016-06-13  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tCall tzset after setting TZ\n\n\t* src/editfns.c (tzlookup): Call tzset after setting TZ, so that\n\tthe setting change propagates into Emacs local time (Bug#23600).\n\t(emacs_setenv_TZ): Clarify comments.\n\n2016-06-13  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tUpdate texinfo.tex\n\n\t* doc/misc/texinfo.tex: Update from gnulib.\n\n2016-06-12  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tNew macro GNUC_PREREQ for GCC version\n\n\t* src/conf_post.h (GNUC_PREREQ): New macro.\n\tChange uses of __GNUC_MINOR__ and __GNUC_PATCHLEVEL__ to use this\n\tmacro instead, for clarity and consistency.\n\t(PRINTF_ARCHETYPE): New macro.  Define it to __gnu_printf__ only\n\tif glibc, since non-GNU platforms don\u2019t necessarily support GNU\n\tprintf formats.\n\t(ATTRIBUTE_FORMAT_PRINTF): Use it.\n\n2016-06-12  Nicolas Petton  <nicolas@petton.fr>\n\n\t* lisp/emacs-lisp/seq.el (seq-drop): Better list implementation\n\n2016-06-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix printf-related compilation warnings on MinGW\n\n\t* src/conf_post.h (ATTRIBUTE_FORMAT_PRINTF) [__MINGW32__]: Use\n\t'__ms_printf__', not '__gnu_printf__', as the latter is not what\n\tMS 'printf' supports, and causes bogus compilation warnings.\n\t* src/lisp.h (pI) [__MINGW32__]: Define to \"I64\", as MS 'printf'\n\tdoesn't support the \"ll\" modifier.\n\n2016-06-11  Paul Eggert  <eggert@cs.ucla.edu>\n\n\temacs_strerror cleanups\n\n\t* src/buffer.c, src/emacs.c, src/lread.c: Don\u2019t include coding.h;\n\tno longer needed, now that emacs_strerror is declared by lisp.h.\n\t* src/coding.c (emacs_strerror): Remove; moved to emacs.c.\n\t* src/coding.h (emacs_strerror) [emacs]: Remove decl; moved\n\tto lisp.h.\n\t* src/emacs.c (emacs_strerror): Move here from coding.c.  Do not\n\tconvert result string; this is now the caller\u2019s responsibility,\n\tas some need conversion and others don\u2019t.\n\t* src/fileio.c (report_file_errno, report_file_notify_error):\n\tUse emacs_strerror rather than rolling it ourselves.\n\t* src/lisp.h (emacs_strerror): Move decl here from coding.h.\n\t* src/lread.c (dir_warning): Just call emacs_strerror rather than\n\tboth strerror and emacs_strerror.  Convert its result from\n\tlocale-coding-system, since it no longer does that conversion.\n\t* src/sound.c (sound_perror):\n\t* src/sysdep.c (emacs_perror, str_collate):\n\tUse emacs_strerror, not strerror.\n\n2016-06-10  David Reitter  <david.reitter@gmail.com>\n\n\tPrevent compiler warning for unused arguments\n\n\t* lisp/international/ucs-normalize.el\n\t(ucs-normalize-hfs-nfd-pre-write-conversion):\n\tPrevent compiler warning for unused arguments, add coment.\n\n2016-06-10  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tCatch malloc_get_state, malloc_set_state failure\n\n\tThis should help insulate Emacs better from configuration screwups.\n\tFuture versions of the GNU C library are planned to deprecate\n\tthese functions, but will continue to support them in\n\talready-built-and-dumped Emacs executables.\n\t* src/alloc.c (malloc_initialize_hook) [DOUG_LEA_MALLOC]:\n\tAbort if malloc_set_state fails.\n\t(alloc_unexec_pre) [DOUG_LEA_MALLOC]:\n\tReport malloc_get_state failure, and exit.\n\n2016-06-10  Eli Zaretskii  <eliz@gnu.org>\n\n\tShow returned value after gdb-mi \"finish\" command\n\n\t* lisp/progmodes/gdb-mi.el (gdb-stopped): Display the expected\n\t\"Value returned\" message in response to \"finish\", when not\n\tproduced by GDB/MI.  (Bug#23720)\n\n2016-06-10  David Reitter  <david.reitter@gmail.com>\n\n\tSimplify pre-write-conversion for utf-8-hfs coding system\n\n\t* lisp/international/ucs-normalize.el\n\t(ucs-normalize-hfs-nfd-pre-write-conversion): Refactor.\n\n\tMay address an issue where Emacs consumed large amounts of CPU\n\tbecause of neverending toolbar updating (which was caused\n\tby, but also called this function).\n\n2016-06-09  Martin Rudalics  <rudalics@gmx.at>\n\n\tRevert \"Bind `widget-button-click' to mouse-1/-2 instead of down-mouse-1/-2\"\n\n\t* lisp/wid-edit.el (widget-keymap): Bind `widget-button-click'\n\tto mouse-1/-2 instead of down-mouse-1/-2.  Suggested by Stefan\n\tMonnier.  (Bug#19185, Bug#20398)\n\n\tThis reverts commit 72166f2f3dba18f1217c666574032f5a0351ed65.\n\n\tThat commit did more harm than good (Bug#23571).\n\n2016-06-09  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort __builtin_assume_aligned to Sun C 5.13\n\n\t* src/conf_post.h (__builtin_assume_aligned):\n\tFix typo: the extra arg did not conform to C99.\n\n2016-06-09  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPrefer getsockopt to getpeername on non-MS-Windows\n\n\t* admin/CPP-DEFINES: Remove HAVE_GETPEERNAME.\n\t* configure.ac: Don\u2019t check for getpeername.\n\t* src/process.c (wait_reading_process_output) [!WINDOWSNT]:\n\tUse getsockopt even if not GNU/Linux, as the platforms where\n\tgetsockopt used to hang are no doubt long dead.\n\n2016-06-09  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix XFASTINT of non-fixnum in process status\n\n\t* src/process.c (decode_status): 3rd arg is now Lisp_Object *,\n\tnot int *, and is not decoded.  All uses changed.\n\t(status_message): Do not assume \u2018failed\u2019 code is an integer.\n\t* src/process.h: Document codes better.\n\n2016-06-09  Glenn Morris  <rgm@gnu.org>\n\n\tMake messcompat.el obsolete.\n\n\t* lisp/obsolete/messcompat.el: Move here from lisp/gnus.\n\t* doc/misc/message.texi (Compatibility): Remove section.\n\n2016-06-09  Glenn Morris  <rgm@gnu.org>\n\n\tLeading \"*\" in the doc of defvars is long obsolete.\n\n\t* lisp/plstore.el (plstore-encrypt-to):\n\t* lisp/cedet/semantic/lex-spp.el\n\t(semantic-lex-spp-macro-max-length-to-save):\n\t* lisp/cedet/semantic/symref.el (semantic-symref-tool):\n\t* lisp/cedet/semantic/bovine/el.el\n\t(semantic-elisp-store-documentation-in-tag):\n\t* lisp/cedet/semantic/wisent/comp.el (wisent-verbose-flag)\n\t(wisent-expected-conflicts):\n\t* lisp/cedet/semantic/wisent/wisent.el (wisent-parse-verbose-flag):\n\t* lisp/gnus/gnus-agent.el (gnus-category-menu-hook):\n\t* lisp/gnus/gnus-group.el (gnus-group-listing-limit):\n\t* lisp/gnus/gnus-srvr.el (gnus-server-menu-hook)\n\t(gnus-browse-menu-hook):\n\t* lisp/gnus/message.el (message-shoot-gnksa-feet):\n\t* lisp/gnus/mm-decode.el (mm-path-name-rewrite-functions):\n\t* lisp/gnus/mm-util.el (mm-extra-numeric-entities):\n\t* lisp/gnus/mm-view.el (mm-w3m-standalone-supports-m17n-p):\n\t* lisp/gnus/mml.el (mml-generate-multipart-alist):\n\t* lisp/gnus/nndraft.el (nndraft-required-headers):\n\t* lisp/gnus/nnheader.el (nnheader-max-head-length)\n\t(nnheader-head-chop-length, nnheader-file-name-translation-alist)\n\t(nnheader-directory-separator-character)\n\t(nnheader-pathname-coding-system):\n\t* lisp/gnus/nnmail.el (nnmail-pathname-coding-system)\n\t(nnmail-active-file-coding-system):\n\t* lisp/gnus/nnrss.el (nnrss-file-coding-system):\n\t* lisp/gnus/nntp.el (nntp-record-commands):\n\t* lisp/gnus/score-mode.el (gnus-score-edit-done-hook)\n\t(gnus-score-mode-hook, gnus-score-menu-hook):\n\t* lisp/mail/rfc2047.el (rfc2047-header-encoding-alist)\n\t(rfc2047-allow-irregular-q-encoded-words)\n\t(rfc2047-allow-incomplete-encoded-text):\n\t* lisp/mh-e/mh-alias.el (mh-alias-system-aliases):\n\t* lisp/mh-e/mh-e.el (mh-mail-header-separator, mh-x-mailer-string):\n\t* lisp/mh-e/mh-scan.el (mh-scan-format-mh, mh-scan-format-nmh):\n\t* lisp/net/pop3.el (pop3-password):\n\t* lisp/play/animate.el (animate-n-steps):\n\t* lisp/progmodes/cc-vars.el (c-old-style-variable-behavior):\n\tConvert from defvar with leading * to defcustom.\n\n\n\t* lisp/emulation/viper-init.el (viper-heading-end):\n\t* lisp/gnus/mm-url.el (mm-url-html-entities):\n\t* lisp/gnus/nnmaildir.el (nnmaildir-article-file-name):\n\t* lisp/mh-e/mh-e.el (mh-invisible-header-fields-compiled):\n\t* lisp/net/tramp-adb.el (tramp-adb-method): Remove leading * from doc.\n\n\t* lisp/gnus/messcompat.el: Mark (pointless) file not for compilation.\n\t(message-from-style, message-interactive, message-indentation-spaces)\n\t(message-signature, message-signature-file):\n\tRemove settings that match the defaults.\n\t(message-setup-hook, message-mode-hook, message-default-headers)\n\t(message-send-hook, message-send-mail-function):\n\tJust use setq rather than redefining.\n\n\t* lisp/gnus/nnrss.el (nnrss):\n\t* lisp/mail/rfc2047.el (rfc2047):\n\t* lisp/play/animate.el (animate): New custom groups.\n\n2016-06-09  Glenn Morris  <rgm@gnu.org>\n\n\tRemove obsolete leading * from defcustom, defface doc strings.\n\n\t* lisp/cedet/ede/linux.el, lisp/cedet/ede/project-am.el:\n\t* lisp/cedet/ede/simple.el, lisp/cedet/semantic/bovine/c.el:\n\t* lisp/cedet/semantic/complete.el, lisp/cedet/semantic/db.el:\n\t* lisp/cedet/semantic/decorate/include.el:\n\t* lisp/cedet/semantic/decorate/mode.el, lisp/cedet/semantic/format.el:\n\t* lisp/cedet/semantic/ia.el, lisp/cedet/semantic/idle.el:\n\t* lisp/cedet/semantic/imenu.el, lisp/cedet/semantic/lex-spp.el:\n\t* lisp/cedet/semantic/mru-bookmark.el, lisp/cedet/semantic/sb.el:\n\t* lisp/cedet/srecode/fields.el, lisp/ecomplete.el:\n\t* lisp/gnus/gnus-agent.el, lisp/gnus/gnus-art.el:\n\t* lisp/gnus/gnus-async.el, lisp/gnus/gnus-cache.el:\n\t* lisp/gnus/gnus-cite.el, lisp/gnus/gnus-delay.el:\n\t* lisp/gnus/gnus-diary.el, lisp/gnus/gnus-dup.el:\n\t* lisp/gnus/gnus-fun.el, lisp/gnus/gnus-group.el:\n\t* lisp/gnus/gnus-kill.el, lisp/gnus/gnus-msg.el:\n\t* lisp/gnus/gnus-picon.el, lisp/gnus/gnus-salt.el:\n\t* lisp/gnus/gnus-score.el, lisp/gnus/gnus-start.el:\n\t* lisp/gnus/gnus-sum.el, lisp/gnus/gnus-topic.el:\n\t* lisp/gnus/gnus-util.el, lisp/gnus/gnus-uu.el, lisp/gnus/gnus-win.el:\n\t* lisp/gnus/gnus.el, lisp/gnus/mail-source.el, lisp/gnus/message.el:\n\t* lisp/gnus/mm-url.el, lisp/gnus/mm-uu.el, lisp/gnus/mml.el:\n\t* lisp/gnus/nndiary.el, lisp/gnus/nnir.el, lisp/gnus/nnmail.el:\n\t* lisp/gnus/smiley.el, lisp/gnus/smime.el, lisp/mail/mail-extr.el:\n\t* lisp/mh-e/mh-e.el, lisp/net/mailcap.el, lisp/net/pop3.el:\n\t* lisp/net/starttls.el, lisp/progmodes/cc-vars.el:\n\t* lisp/progmodes/cperl-mode.el, test/manual/cedet/tests/test.el:\n\tRemove obsolete leading * from defcustom, defface doc strings.\n\n2016-06-09  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix copying text properties by 'format'\n\n\t* src/editfns.c (styled_format): Fix copying text properties from\n\tthe format specification to the produced string representation.\n\t(Bug#23730)\n\t(Fformat) Doc fix.\n\n\t* doc/lispref/strings.texi (Formatting Strings): Document that\n\ttext properties from the format specifiers are also copied to the\n\tproduced string.\n\n2016-06-09  Alan Mackenzie  <acm@muc.de>\n\n\tHandle C++ raw strings.\n\n\t* lisp/progmodes/cc-engine.el (c-raw-string-pos, c-depropertize-raw-string)\n\t(c-depropertize-raw-strings-in-region,\n\tc-before-change-check-raw-strings)\n\t(c-propertize-raw-string-opener, c-after-change-re-mark-raw-strings): New\n\tfunctions.\n\n\t* lisp/progmodes/cc-fonts.el (c-basic-matchers-before): Insert a clause for\n\tc-font-lock-raw-strings.\n\t(c-font-lock-raw-strings): New function.\n\n\t* lisp/progmodes/cc-langs.el (c-get-state-before-change-functions): Insert\n\tc-before-change-check-raw-strings into the C++ value, and c-depropertize-CPP\n\tinto the values for C, C++, and Objective C.\n\t(c-before-font-lock-functions): Insert c-after-change-re-mark-raw-strings into\n\tthe C++ value.\n\n\t* lisp/progmodes/cc-mode.el (c-old-BEG, c-old-END): New variables.\n\t(c-depropertize-CPP): New function, extracted from\n\tc-neutralize-syntax-in-and-mark-CPP.\n\t(c-neutralize-syntax-in-and-mark-CPP): Remove the call to\n\tc-clear-char-property-with-value for 'syntax-table value '(1) at the beginning\n\tof the function.\n\t(c-after-change): Set c-old-BEG and c-old-END to the current values of\n\tc-new-BEG and c-new-END.\n\n2016-06-09  Daiki Ueno  <ueno@gnu.org>\n\n\tepg: don't use obsolete function\n\n\t* lisp/epg.el (epg-sign-string, epg-encrypt-string): Remove\n\tredundant configuration check, which is now done in\n\t`epg-make-context'.\n\n2016-06-09  Daiki Ueno  <ueno@gnu.org>\n\n\tepg: don't start pinentry if it is useless\n\n\t* lisp/epg.el (epg--start): Don't start pinentry server if the\n\tsession is non-interactive or pinentry-mode is set.\n\n2016-06-08  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tReplace IF_LINT by NONVOLATILE and UNINIT\n\n\tInspired by a suggestion from RMS in: https://bugs.gnu.org/23640#58\n\t* .dir-locals.el (c-mode): Adjust to macro changes.\n\t* src/conf_post.h (NONVOLATILE, UNINIT): New macros (Bug#23640).\n\t(IF_LINT): Remove.  All uses replaced by the new macros.\n\n2016-06-08  Michal Nazarewicz  <mina86@mina86.com>\n\n\tRemove \u2018ert-with-function-mocked\u2019 macro in favor of \u2018cl-letf\u2019 macro\n\n\t* lisp/emacs-lisp/ert-x.el (ert-with-function-mocked): Remove macro\n\tin favor of \u2018cl-letf\u2019 macro which is more generic.  All existing\n\tuses are migrated accordingly.  The macro has not been included in\n\tan official release yet so it should be fine to delete it.\n\n2016-06-08  Glenn Morris  <rgm@gnu.org>\n\n\t* test/lisp/emacs-lisp/package-tests.el\n\t(package-test-update-archives-async): Try re-enabling on hydra.\n\n2016-06-08  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* src/fileio.c (auto_save_error): Omit unused local.\n\n2016-06-08  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSimplify overflow check via INT_SUBTRACT_WRAPV\n\n\t* src/editfns.c (check_tm_member): Simplify integer overflow check.\n\n2016-06-07  Glenn Morris  <rgm@gnu.org>\n\n\tTry to avoid hangs and stray procs in network-stream-tests.  (Bug#23560)\n\n\t* test/lisp/net/network-stream-tests.el (connect-to-tls-ipv4-wait)\n\t(connect-to-tls-ipv4-nowait, connect-to-tls-ipv6-nowait):\n\tEnsure gnutls-serv process gets killed.\n\t(echo-server-nowait, connect-to-tls-ipv4-nowait):\n\tLimit the amount of time we might wait.\n\n2016-06-07  Glenn Morris  <rgm@gnu.org>\n\n\tReduce allout.el's pollution of the namespace.\n\n\t* lisp/allout.el (allout-set-regexp): Rename from set-allout-regexp.\n\tKeep old name as obsolete alias.\n\t(allout-produce-mode-menubar-entries, allout-nullify-prefix-data)\n\t(allout-solicit-char-in-string)\n\t(allout-count-trailing-whitespace-region, allout-regexp-sans-escapes):\n\tRename to add an \"allout-\" prefix.\n\n2016-06-07  Glenn Morris  <rgm@gnu.org>\n\n\t* configure.ac (emacs_config_features): Add CANNOT_DUMP.\n\n2016-06-07  Glenn Morris  <rgm@gnu.org>\n\n\tMisc small webjump updates.\n\n\t* lisp/net/webjump.el (webjump): Add custom group.\n\t(webjump-sample-sites): Make it a constant.\n\tRemove explicit, old list of GNU ftp mirrors.\n\t(webjump-state-to-postal-alist): Make it a constant.\n\t(webjump-sites): Make it a defcustom.\n\t(webjump-to-iwin): Update for changed remote service.\n\n2016-06-07  Glenn Morris  <rgm@gnu.org>\n\n\tDo not hard-code port for package test server.  (Bug#23708)\n\n\t* test/lisp/emacs-lisp/package-resources/package-test-server.py:\n\tDo not hard-code port.\n\t* test/lisp/emacs-lisp/package-tests.el (package-test-update-archives-async):\n\tUpdate for the above change.\n\n2016-06-07  Tino Calancha  <f92capac@gmail.com>\n\n\t* lisp/ibuffer.el (ibuffer): Improve 'other-window' case.  (Bug#23617)\n\n2016-06-07  Glenn Morris  <rgm@gnu.org>\n\n\t* src/fileio.c (auto_save_error): Use display-warning.  (Bug#23703)\n\n2016-06-07  Tino Calancha  <f92capac@gmail.com>\n\n\t* lisp/ibuf-ext.el (ibuffer-do-shell-command-file):\n\tFix non-file-visiting-buffer case.  (Bug#22678)\n\n2016-06-07  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort --enable-gcc-warnings to clang 3.7.0\n\n\t* configure.ac: Add -Wno-tautological-compare to avoid bogus\n\twarnings about 0 <= rlim.rlim_max.  Remove flags that no longer\n\tseem to be needed, at least in Fedora 23 x86-64.\n\n2016-06-07  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tUse __builtin_assume_aligned on untagged Lisp vals\n\n\t* src/conf_post.h (__has_builtin, __builtin_assume_aligned):\n\tNew macros, for compilers not already defining them.\n\t(__has_builtin___builtin_assume_aligned): New macro.\n\t* src/lisp.h (lisp_h_XUNTAG): Use __builtin_assume_aligned.\n\tThis shrinks text space by 0.2% on x86-64 with GCC 6.1.\n\n2016-06-07  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/help-fns.el (describe-function-1): Avoid reporting advised\n\taliases as the type of their targets.\n\n2016-06-07  Tino Calancha  <f92capac@gmail.com>\n\n\t* lisp/simple.el (process-menu-mode, list-processes--refresh):\n\tInclude PID.  (Bug#21725)\n\n2016-06-07  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\t6e3adf8 Fix crash in syntax.c after GC\n\t973ce5a Improve squiggly heredoc support in non-SMIE Ruby mode\n\t9d5cceb Fix doc string quoting\n\t0b33a23 Fix mouse dragging of vertical dividers with scroll bars on l...\n\ta5d05f4 * etc/PROBLEMS: Mention the link-time problems on FreeBSD 11.\n\n2016-06-07  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\t604f656 * test/automated/viper-tests.el (viper-test-undo-kmacro): Del...\n\t20eb531 * lisp/mail/footnote.el (footnote-mode): Fix doc typo.\n\ta7a2244 * doc/misc/smtpmail.texi (Encryption): Fix 2012-12-22 typo.\n\t07bd972 * lisp/emacs-lisp/lisp-mode.el (lisp--mode-syntax-table): Fix...\n\n2016-06-06  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tUse standard Unicode names for Thai, Lao\n\n\t* lisp/language/lao-util.el, lisp/language/thai-util.el:\n\tDon\u2019t override standard Unicode character name (Bug#23698).\n\n2016-06-06  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/man.el (Man-reference-regexp, Man-default-man-entry):\n\tHandle U+2010 hyphen at eol, as used when LANG=en_US.utf8.\n\n2016-06-06  Michael Albinus  <michael.albinus@gmx.de>\n\n\tSome fixes in filenotify-tests.el for cygwin\n\n\t* test/lisp/filenotify-tests.el (file-notify--test-timeout):\n\tReintroduce value for cygwin, it's needed on slow systems.\n\t(file-notify--wait-for-events): Move up definition.\n\t(file-notify--test-no-descriptors): Use `file-notify--wait-for-events'.\n\t(file-notify--test-with-events-check, file-notify--test-with-events)\n\t(file-notify-test08-watched-file-in-watched-dir):\n\tUse :random rather than `random.\n\t(file-notify-test06-many-events): Do not skip for cygwin.\n\n2016-06-05  Juri Linkov  <juri@linkov.net>\n\n\t* src/casefiddle.c (Fupcase_region): Add arg \u2018region-noncontiguous-p\u2019.\n\n\tIf non-nil, operate on multiple chunks.  (Bug#23655)\n\n\t* src/search.c (Freplace_match): Use Qnil for new arg of Fupcase_region.\n\n2016-06-05  Juri Linkov  <juri@linkov.net>\n\n\t* lisp/wdired.el (wdired-next-line, wdired-previous-line): Add \"^\"\n\n\tto interactive spec to handle shift-selection.  (Bug#23642)\n\n2016-06-05  Michael Albinus  <michael.albinus@gmx.de>\n\n\tImprove robustness of filenotify-tests.el (Bug#23618)\n\n\t* test/lisp/filenotify-tests.el (file-notify--test-no-descriptors)\n\t(file-notify--test-no-descriptors-explainer)\n\t(file-notify--test-cleanup-p): New defuns.\n\t(file-notify--test-cleanup): Don't check for\n\t`file-notify--test-event' anymore, that's done in\n\t`file-notify--test-no-descriptors'.\n\t(file-notify--test-with-events-check)\n\t(file-notify--test-with-events): Handle the `random' marker.\n\t(file-notify--test-with-events-explainer): Improve readability.\n\t(file-notify-test00-availability)\n\t(file-notify-test01-add-watch, file-notify-test02-events)\n\t(file-notify-test03-autorevert)\n\t(file-notify-test04-file-validity)\n\t(file-notify-test05-dir-validity)\n\t(file-notify-test06-many-events, file-notify-test07-backup)\n\t(file-notify-test08-watched-file-in-watched-dir)\n\t(file-notify-test09-sufficient-resources): Check also\n\t`file-notify--test-cleanup-p'.\n\t(file-notify-test04-file-validity)\n\t(file-notify-test05-dir-validity): Use `ignore' as handler.\n\t(file-notify-test05-dir-validity)\n\t(file-notify-test06-many-events): Delete directory finally.\n\t(file-notify-test08-watched-file-in-watched-dir): Add `random' marker.\n\n2016-06-05  Stephen Berman  <stephen.berman@gmx.net>\n\n\tman.el: Fix links on hyphenated words (bug#23647)\n\n\t* lisp/man.el (Man-bgproc-sentinel): Make links work on\n\thyphenated words.\n\n2016-06-05  K. Handa  <handa@gnu.org>\n\n\tAdd category 'j' to more characters.\n\n\t* lisp/international/characters.el: Add category 'j' (Japanese)\n\tto characters in japanese-jisx0213.2004-1.\n\n2016-06-04  Tino Calancha  <f92capac@gmail.com>\n\n\tisearch-edit-string resumes multi isearches\n\n\t* lisp/isearch.el (with-isearch-suspended): Remember and restore\n\tmulti-isearch variables.  (Bug#21663)\n\n2016-06-04  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix Eshell display when RTL characters are involved\n\n\t* lisp/eshell/esh-mode.el (eshell-mode): Set\n\t'bidi-paragraph-direction' to 'left-to-right'.  (Bug#23652)\n\n2016-06-02  Vincent Bela\u00efche  <vincentb1@users.sourceforge.net>\n\n\tMake ses-jump with completing input.\n\n\t* lisp/ses.el (ses-jump): Make symbol input completing against list of\n\t  named cells.\n\n2016-06-01  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort angle-bracket TZ settings to MS-Windows\n\n\t* doc/lispref/os.texi (Time Zone Rules): Document MS-Windows\n\tlack of support for numeric time zone abbreviations.\n\t* src/w32.c (sys_putenv): Convert angle-bracket TZ syntax\n\tto MS-compatible syntax if possible, and to \"ZZZ\" otherwise.\n\tProblem reported by Kazuhiro Ito (Bug#23600).\n\n2016-06-01  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tAvoid delving into Git internals for version\n\n\t* lisp/loadup.el (exec-path): Set it to nil later, so that\n\temacs-repository-get-version can invoke git commands in the PATH.\n\t* lisp/version.el (emacs-repository--version-git-1): Remove.\n\t(emacs-repository-get-version): Let Git do it rather than\n\tdelving into Git internals.\n\n2016-06-01  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/autoload.el (autoload--make-defs-autoload): Expand less\n\n2016-06-01  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix emacs-repository-get-version with packed .git\n\n\t* lisp/version.el (emacs-repository-get-version):\n\tParse .git/packed-refs if it exists.\n\tProblem reported by Martin Rudalics in:\n\thttps://lists.gnu.org/r/emacs-devel/2016-05/msg00554.html\n\n2016-06-01  Michael Albinus  <michael.albinus@gmx.de>\n\n\tMinor change in tramp.texi\n\n\t* doc/misc/tramp.texi (Password handling): Do not discuss\n\tanymore how to get password-cache.el.  It is bundled with\n\tEmacs.\n\n2016-06-01  Alan Mackenzie  <acm@muc.de>\n\n\tCorrect fontification and indentation of C++'s \"constexpr\" expressions\n\n\t* lisp/progmodes/cc-langs.el (c-type-modifier-kwds): Remove \"constexpr\".\n\t(c-modifier-kwds): Add \"constexpr\".\n\n2016-05-31  Ikumi Keita  <ikumi@ikumi.que.jp>\n\n\tCosmetic change to kinsoku-eol.  (tiny change)\n\n\t* lisp/international/kinsoku.el (kinsoku-eol): Make the\n\torder of characters match with the comments.\n\n2016-05-31  Ikumi Keita  <ikumi@ikumi.que.jp>\n\n\tAdd HIRAGANA ITERATION MARK to japanese-kana-table.  (tiny change)\n\n\t* lisp/language/japan-util.el (japanese-kana-table): Add an\n\tentry for HIRAGANA ITERATION MARK (U+309D).\n\t(japanese-alpha-numeric-table): Fix docstring.\n\n2016-05-31  K. Handa  <handa@gnu.org>\n\n\tFix incomplete handling of translation table in a coding system.\n\n\t* src/coding.c (get_translation): New arg NCHARS.  Even if TRANS\n\tis an alist, return a character or a vector of character.\n\t(produce_chars): Adjust for the above change.\n\t(consume_chars): Likewise.\n\n2016-05-31  Michael Albinus  <michael.albinus@gmx.de>\n\n\tImprove robustness for out-of-band copy in Tramp\n\n\t* lisp/net/tramp-adb.el (tramp-adb-execute-adb-command)\n\t* lisp/net/tramp-cmds.el (tramp-append-tramp-buffers)\n\t* lisp/net/tramp-gvfs.el (tramp-gvfs-do-copy-or-rename-file):\n\tCosmetic changes.\n\n\t* lisp/net/tramp-sh.el (tramp-do-copy-or-rename-file-out-of-band):\n\tUse local `default-directory'.  Simplify command to send.\n\tDon't check return code, this was already done in\n\t`tramp-process-actions'.\n\t(tramp-get-inline-coding): Don't set `default-directory'.\n\n\t* lisp/net/tramp.el (tramp-action-out-of-band):\n\tThrow `out-of-band-failed'.\n\t(tramp-process-actions): Handle `out-of-band-failed'.\n\t(tramp-call-process, tramp-call-process-region):\n\tUse local `default-directory'.\n\n2016-05-31  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\t788c9b6 ; Spelling fix\n\t25c4a30 * lisp/recentf.el (recentf-dialog-mode-map): Remove follow-li...\n\t0992ec3 Correct cl-flet usage (Bug#22317)\n\t50caae3 Release MH-E manual version 8.6\n\t602bb40 Update MH-E's documentation about HTML renderers\n\t89018f0 Fx the we->the typo\n\t845ee57 Restore frames into the current display by default\n\tee28b4c * lisp/recentf.el (recentf-open-files-item): Quick fix for (b...\n\t01c3cd1 etc/TODO: Remove out-of-place issue\n\t5e18486 Clarify doc string of 'file-name-sans-extension'\n\tbffda22 Fix the MSDOS build\n\tf907f98 * lisp/progmodes/elisp-mode.el (elisp-function-argstring): Ca...\n\t1a2ffd0 * src/dired.c (Ffile_name_all_completions): Doc fix.  (Bug#23...\n\tf7ffc4b Fix infloop in 'number-sequence'\n\t4ab2673 ; Spelling and punctuation fixes in comments\n\t71c152e * lisp/emacs-lisp/find-func.el (find-function-library):\n\n2016-05-30  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/autoload.el: Use radix-tree.\n\n\t (autoload--make-defs-autoload): Rewrite.\n\t(autoload--split-prefixes-1): Remove.\n\t(autoload-def-prefixes-max-entries): Rename from\n\tautoload-defs-autoload-max-size.\n\t(autoload-popular-prefixes): Remove.\n\t(autoload-def-prefixes-max-length): New const.\n\n\t* lisp/emacs-lisp/radix-tree.el: New file.\n\n2016-05-30  Ken Brown  <kbrown@cornell.edu>\n\n\t* src/conf_post.h (SYSTEM_PURESIZE_EXTRA) [CYGWIN]: Increase.\n\n2016-05-30  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tOmit IF_LINT code that no longer seems needed\n\n\tNowadays GCC is smarter, or the Emacs code has mutated, or both,\n\tand now is as good a time as any to remove uses of IF_LINT that\n\tnow seem to be unnecessary.\n\t* lib-src/emacsclient.c (set_local_socket):\n\t* lib-src/movemail.c (main) [MAIL_USE_MAILLOCK && HAVE_TOUCHLOCK]:\n\t* src/buffer.c (fix_start_end_in_overlays, fix_overlays_before):\n\t* src/casefiddle.c (casify_region):\n\t* src/charset.c (load_charset_map):\n\t* src/coding.c (decode_coding_object, encode_coding_object):\n\t* src/data.c (Fmake_variable_buffer_local, Fmake_local_variable)\n\t(cons_to_unsigned, cons_to_signed):\n\t* src/frame.c (make_frame, x_set_frame_parameters):\n\t* src/keyboard.c (read_event_from_main_queue):\n\t* src/regex.c (regex_compile):\n\t* src/syntax.c (back_comment):\n\t* src/window.c (Frecenter):\n\t* src/xfaces.c (Fx_list_fonts):\n\tRemove IF_LINT that no longer seems necessary.\n\t* src/image.c (png_load_body, jpeg_load_body): Simplify use of IF_LINT.\n\t* src/keyboard.c (read_char): Use IF_LINT (volatile) rather than\n\ta pragma dance to pacify GCC -Wclobbered.\n\t* src/xdisp.c (x_produce_glyphs): Rewrite to avoid need for IF_LINT.\n\n\t* src/xterm.c (x_connection_closed): Now _Noreturn, which should\n\tmean we do not need IF_LINT any more.\n\t(x_io_error_quitter): Now _Noreturn.  Put an 'assume (false)\u2019\n\tat the end, to forestall warnings from older compilers.\n\n2016-05-30  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort --enable-gcc-warnings to Cygwin, FreeBSD\n\n\tThese platforms have a bug where _Noreturn is empty when 'lint' is\n\tdefined.  Problem reported by Ken Brown (Bug#23640).\n\t* configure.ac (GCC_LINT): Rename from 'lint'.\n\t* src/conf_post.h (IF_LINT): Use GCC_LINT, not just 'lint\u2019.\n\n2016-05-30  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tUpdate from gnulib\n\n\tThis incorporates:\n\t2016-05-30 Use GCC_LINT, not lint\n\t2016-05-29 secure_getenv: Port to many more platforms.\n\t* doc/misc/texinfo.tex, lib/secure_getenv.c, lib/verify.h:\n\t* m4/secure_getenv.m4: Copy from gnulib.\n\n2016-05-30  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/pcase.el: Undo last change's spurious changes\n\n\t* lisp/emacs-lisp/pcase.el (pcase-mutually-exclusive-predicates): Add `atom'.\n\n2016-05-30  Ken Brown  <kbrown@cornell.edu>\n\n\t* src/regex.c (IF_LINT): Remove; it\u2019s in conf_post.h\n\n2016-05-30  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix Bug#23631 for Tramp\n\n\t* lisp/net/tramp-adb.el (tramp-adb-handle-file-name-all-completions)\n\t* lisp/net/tramp-gvfs.el (tramp-gvfs-handle-file-name-all-completions)\n\t* lisp/net/tramp-sh.el (tramp-sh-handle-file-name-all-completions):\n\tFix caching problems.\n\n\t* lisp/net/tramp-sh.el (tramp-perl-file-name-all-completions): Simplify.\n\n\t* lisp/net/tramp-smb.el (tramp-smb-handle-directory-files):\n\tMove duplicate deletion ...\n\t(tramp-smb-handle-file-name-all-completions): ... here.\n\n\t* lisp/net/tramp.el (tramp-handle-file-name-completion):\n\tHandle `completion-ignored-extensions'.  (Bug#23631)\n\n\t* test/lisp/net/tramp-tests.el (tramp-test24-file-name-completion):\n\tTest also `completion-regexp-list' and `completion-ignored-extensions'.\n\n2016-05-29  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/wid-edit.el (link): Remove :follow-link property (bug#22434)\n\n\t* lisp/recentf.el (recentf-dialog-mode-map): Remove unecessary mapping.\n\n2016-05-29  Lars Magne Ingebrigtsen  <larsi@gnus.org>\n\n\tFix up remainder of the mml property change\n\n\t* lisp/gnus/message.el (message-send-mail): Use the renamed\n\tmml-buffer-substring-no-properties-except-some function.\n\t(message-send-news): Ditto.\n\n2016-05-29  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAllow preserving EXIF rotations when sending HTML messages\n\n\t* lisp/gnus/mml.el (mml--possibly-alter-image): Allow image\n\trotation if you have exiftool installed and the image format\n\tsupports it.\n\t(mml-expand-html-into-multipart-related): Use it.\n\t(mml-buffer-substring-no-properties-except-some): Renamed and\n\tcopy display properties, too.\n\n2016-05-29  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMake message-toggle-image-thumbnails work better\n\n\t* lisp/gnus/message.el (message-toggle-image-thumbnails): Use\n\t`insert-image' instead of `put-image' to make it possible to\n\tedit the resulting text in a sensible manner.\n\n2016-05-29  Alan Mackenzie  <acm@muc.de>\n\n\tRationalize the use of c-new-BEG and c-new-END in CC Mode.\n\n\tRemove the now redundant c-old-BOM and c-old-EOM.\n\n\t* lisp/progmodes/cc-engine.el (c-macro-cache-syntactic): Change and simplify\n\tmeaning.\n\t(c-macro-cache-no-comment): New variable.\n\t(c-invalidate-macro-cache, c-beginning-of-macro, c-end-of-macro): incorporate\n\tthe new c-macro-cache-no-comment.\n\t(c-syntactic-end-of-macro): Make better use of c-macro-cache-syntactic.\n\t(c-no-comment-end-of-macro): New function.\n\n\t* lisp/progmodes/cc-langs.el (c-before-font-lock-functions): Add\n\tc-extend-font-lock-region-for-macros to C/C++/ObjC value.\n\n\t* lisp/progmodes/cc-mode.el (c-old-BOM, c-old-EOM): Remove.\n\t(c-extend-region-for-CPP): Put results in c-new-BEG/END rather than\n\tc-old-BOM/EOM.\n\t(c-extend-font-lock-region-for-macros): Simplify meaning, no longer returning\n\ta cons for the new region, since the function is now called as an after-change\n\tfunction.  No longer adjust c-new-END for the length of inserted/deleted\n\ttext.  Move the size restrictions on macros to here from\n\tc-neutralize-syntax-in-and-mark-CPP.\n\t(c-neutralize-syntax-in-and-mark-CPP): No longer adjust c-new-BEG/END here.\n\tUse c-no-comment-end-of-macro rather than c-syntactic-end-of-macro to find the\n\tupper boundary to \"neutralize\" syntactically obtrusive characters.\n\t(c-change-expand-fl-region): Don't set c-new-END to next BOL when already at\n\tone.\n\n2016-05-28  Ken Brown  <kbrown@cornell.edu>\n\n\tAvoid compiler warnings\n\n\t* src/cygw32.c (chdir_to_default_directory): Use \"void\" as\n\targument list.  Use SSDATA instead of SDATA.\n\n\t* src/unexcw.c (fixup_executable): Use %td as format specifier for\n\targument of type ptrdiff_t.  Use %zu for argument of type size_t.\n\n2016-05-28  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix 'next-line' and 'previous-line' during keyboard macro\n\n\t* lisp/simple.el (line-move-visual): Handle the case when point\n\tmoves outside of the visible portion of the buffer while executing\n\ta keyboard macro.  (Bug#13452)  (Bug#23551)  (Bug#23555)\n\n2016-05-28  Alan Mackenzie  <acm@muc.de>\n\n\tC++ Mode: attribute in class declaration fouls up indentation.  Fix!\n\n\t* lisp/progmodes/cc-engine.el (c-looking-at-decl-block): Add code to skip\n\tback over noise clauses and attribute clauses.\n\n\t* lisp/progmodes/cc-langs.el (c-paren-nontype-key): New language variable.\n\n2016-05-28  Ken Olum  <kdo@cosmos.phy.tufts.edu>\n\n\tPrevent locked-file errors in Rmail\n\n\t* lisp/mail/rmail.el (rmail-get-new-mail-1): Lock file before\n\tcalling 'rmail-insert-inbox-text'.  Unlock if\n\t'rmail-insert-inbox-text' doesn't modify buffer.\n\t(rmail-insert-inbox-text): Remove lock-checking code.  (Bug#17706)\n\n2016-05-28  Michael Albinus  <michael.albinus@gmx.de>\n\n\tSync with Tramp repository.\n\n\t* lisp/net/tramp-adb.el (tramp-adb-handle-start-file-process):\n\t* lisp/net/tramp-sh.el (tramp-sh-handle-start-file-process)\n\t* lisp/net/tramp-smb.el (tramp-smb-handle-start-file-process):\n\tCreate BUFFER if it doesn't exist.  Reported by Nikolay\n\tKudryavtsev <nikolay.kudryavtsev@gmail.com>.\n\n\t* lisp/net/tramp-gvfs.el (tramp-gvfs-file-attributes)\n\t(tramp-gvfs-file-attributes-with-gvfs-ls-regexp)\n\t(tramp-gvfs-file-attributes-with-gvfs-info-regexp): New defconst.\n\t(tramp-gvfs-get-directory-attributes)\n\t(tramp-gvfs-get-root-attributes)\n\t(tramp-gvfs-get-file-attributes): New defun.\n\t(tramp-gvfs-handle-file-attributes)\n\t(tramp-gvfs-handle-file-name-all-completions): Use them.\n\t(tramp-gvfs-handle-file-directory-p): Use `file-truename'.\n\t(tramp-gvfs-maybe-open-connection): Set :noquery flag for process.\n\t(tramp-gvfs-send-command): Add locale settings to `process-environment'.\n\t(top): Suppress D-Bus error messages during zeroconf initialization.\n\n\t* lisp/net/tramp.el (tramp-unknown-id-string)\n\t(tramp-unknown-id-integer): New defconst.\n\t(tramp-check-cached-permissions)\n\t* lisp/net/tramp-gvfs.el (tramp-gvfs-handle-file-attributes)\n\t* lisp/net/tramp-sh.el (tramp-do-file-attributes-with-ls)\n\t(tramp-convert-file-attributes, tramp-get-remote-uid)\n\t(tramp-get-remote-gid): Use them.\n\n\t* lisp/net/tramp-sh.el (tramp-display-escape-sequence-regexp):\n\tRename from `tramp-color-escape-sequence-regexp'.\n\t(tramp-sh-handle-insert-directory)\n\t(tramp-convert-file-attributes): Adapt callees.\n\t(tramp-device-escape-sequence-regexp): New defconst.\n\t(tramp-wait-for-output): Use it.  Reported by Matth\u00edas P\u00e1ll\n\tGissurarson <icetritlo@gmail.com>.\n\n\t* lisp/net/tramp-smb.el (tramp-smb-handle-file-name-all-completions):\n\tSimplify.\n\n\t* test/lisp/net/tramp-tests.el (tramp-test26-process-file)\n\t(tramp-test28-shell-command):\n\tUse `tramp-display-escape-sequence-regexp'.\n\n2016-05-27  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDon\u2019t document declare-function internals\n\n\tSuggested by Stefan Monnier in:\n\thttps://lists.gnu.org/r/emacs-devel/2016-05/msg00618.html\n\t* doc/lispref/functions.texi (Declaring Functions):\n\t* lisp/subr.el (declare-function):\n\t* lisp/emacs-lisp/bytecomp.el:\n\t(byte-compile-macroexpand-declare-function):\n\tDocument as (fn file &optional arglist fileonly)\n\teven though it is really (fn file &rest args).\n\n2016-05-27  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* src/puresize.h (BASE_PURESIZE): Increase it some more.\n\n2016-05-27  Glenn Morris  <rgm@gnu.org>\n\n\t* src/puresize.h (BASE_PURESIZE): Increase it by a little bit.\n\n\t* lisp/emacs-lisp/cl-macs.el (cl-defstruct): Tweak previous to\n\tavoid build failure.\n\n2016-05-27  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort to platforms where rlim_max < 0\n\n\t* src/emacs.c (main): Do not treat a negative rlim_max as a limit;\n\tthis can happen if a special value like RLIM_INFINITY is negative.\n\n2016-05-27  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRobustify stack-size calculation\n\n\t* src/emacs.c: Include getpagesize.h.\n\t(main): Check for integer overflow when computing stack size.\n\tRound new rlim_cur to pagesize boundary on all platforms, as this\n\tis easy and would have prevented Bug#23622.  If setrlimit\n\tfails, use current limit to determine re_max_failures.\n\n2016-05-27  Ken Brown  <kbrown@cornell.edu>\n\n\tAdjust filenotify-tests on Cygwin\n\n\t* test/lisp/filenotify-tests.el (file-notify--test-timeout):\n\tRemove special case for Cygwin.\n\t(file-notify-test07-backup): Update expected results on Cygwin.\n\n2016-05-27  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tImprove define-function omitted-arg documentation\n\n\t* doc/lispref/functions.texi (Declaring Functions):\n\t* lisp/subr.el (declare-function):\n\tBe clearer when documenting omitted args for define-function.\n\n2016-05-27  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/cl-macs.el (cl-defstruct): Add docstring to accessors.\n\n2016-05-27  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/subr.el (definition-prefixes): Expand docstring\n\n\t* lisp/emacs-lisp/autoload.el (autoload--split-prefixes):\n\tRemove unused function.\n\n2016-05-27  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\tFix broken viper deactivation\n\n\t* lisp/emulation/viper.el (viper--deactivate-advice-list): Destructure\n\t  args to advice-remove.\n\t  (viper--advice-add): Use cons not list.\n\n\tAddresses bug#23625\n\n2016-05-27  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tPreserve buffer point in windows by default (Bug#4041).\n\n\t* doc/lispref/windows.texi: Mention new default.\n\t* etc/NEWS: Mention new default.\n\t* lisp/window.el (switch-to-buffer-preserve-window-point): Default to t.\n\n2016-05-26  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix byte-compiler pacification for declare-function\n\n\tProblem reported by Michael Heerdegen in:\n\thttps://lists.gnu.org/r/emacs-devel/2016-05/msg00590.html\n\t* lisp/emacs-lisp/bytecomp.el:\n\t(byte-compile-macroexpand-declare-function):\n\tRevert signature to previous value.\n\t* lisp/subr.el (declare-function): Change signature to\n\tmatch the reverted signature used in the byte compiler.\n\n2016-05-26  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tUpdate texinfo.tex\n\n\tThis fixes Bug#23611 in a different (and presumably better) way.\n\t* doc/misc/texinfo.tex: Update from gnulib.\n\n2016-05-26  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPacify 'make check-declare'\n\n2016-05-26  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRepair damage from emacs-25 merge\n\n\t* test/lisp/character-fold-tests.el:\n\tRemove, as it was renamed to test/lisp/char-fold-tests.el.\n\t* test/lisp/emulation/viper-tests.el:\n\tRename from test/automated/viper-tests.el.\n\n2016-05-26  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\tc3489d0 * lisp/w32-fns.el (set-message-beep, w32-get-locale-info) (w3...\n\ta4d882c Correct old cell name unbinding when renaming cell.\n\t6c12c53 Merge branch 'emacs-25' of git.sv.gnu.org:/srv/git/emacs into...\n\t0be6725 Document problem: slow screen refresh on missing font.\n\t853b9b9 * admin/admin.el (add-release-logs): Basic check of existing ...\n\t5fa80cf * build-aux/gitlog-to-emacslog: Handle empty generated Change...\n\t3c79e51 * admin/admin.el (add-release-logs): Generate ChangeLog if ne...\n\t42275df * doc/misc/texinfo.tex: Revert previous change (Bug#23611).\n\t3f4a9d9 * admin/authors.el (authors): First update the ChangeLog.\n\t897fb6f ; 'Changes from the pre-25.1 API' copyedits\n\t825ca25 Rename vc-stay-local back to vc-cvs-stay-local\n\t4efb3e8 * doc/emacs/files.texi (Comparing Files): * doc/emacs/trouble...\n\tb995d1e * doc/misc/eww.texi (Advanced): Fix xref.\n\t2e589c0 Fix cross-references between manuals\n\tf3d2ded * doc/misc/vhdl-mode.texi (Sample Init File): Rename node to ...\n\t906c810 ; * admin/release-process: Move etc/HISTORY from here... ; * ...\n\tbea1b65 * admin/admin.el (add-release-logs): Also update etc/HISTORY.\n\t503e752 ; * CONTRIBUTE: Fix a typo.\n\tfbfd478 Avoid aborting due to errors in arguments of 'set-face-attrib...\n\tbdfbe6d ; * admin/release-process: Copyedits.\n\t44a6aed ; * test/automated/data-tests.el: Standardize license notice.\n\tc33ed39 ; * test/automated/viper-tests.el: Standardize license notice.\n\tdf4a14b Add automated test for viper-tests.el\n\tc0139e3 Fix viper undo breakage from undo-boundary changes\n\t920d76c Fix reference to obsolete fn ps-eval-switch\n\t18a9bc1 Do not trash symlinks to init file\n\t2671179 Don't print the \"decomposition\" line for control chars in wha...\n\t869092c Bring back xterm pasting with middle mouse\n\t5ab0830 Provide workaround for xftfont rendering problem\n\tc9f7ec7 * lisp/desktop.el: Disable restore frameset if in non-graphic...\n\t30989a0 Mention GTK+ problems in etc/PROBLEMS\n\t421e3c4 * lisp/emacs-lisp/package.el (package-refresh-contents):\n\tdadfc30 Revert \"epg: Add a way to detect gpg1 executable for tests\"\n\te41a5cb Avoid errors with Czech and Slovak input methods\n\td4ae6d7 epg: Add a way to detect gpg1 executable for tests\n\tebc3a94 * lisp/emacs-lisp/package.el: Fix free variable warnings.\n\t6e71295 * lisp/emacs-lisp/package.el (package--with-response-buffer):\n\tc45d9f6 Improve documentation of 'server-name'\n\t3b5e38c Modernize ASLR advice in etc/PROBLEMS\n\t1fe1e0a * lisp/char-fold.el: Rename from character-fold.el.\n\n2016-05-26  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid byte-compiler warnings due to 'declare-function'\n\n\t* lisp/w32-fns.el (set-message-beep, w32-get-locale-info)\n\t(w32-get-valid-locale-ids):\n\t* lisp/progmodes/js.el (ido-mode): Specify arglist in\n\t'declare-function' forms, to avoid byte-compiler warnings.\n\n2016-05-26  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/info.el (Info-default-directory-list): Don't check /share,info.\n\n\tNo-one puts info pages there.  If /share does exist, it's likely to\n\tcontain remote file systems where access could be slow.\n\n2016-05-26  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\t2d76405 etc/AUTHORS: Update the AUTHORS file\n\n2016-05-26  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\t06cb28f Fix bug#23462: Crash when iconifying frame on OS X.\n\n2016-05-26  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\t939eb75 Fix bug in default setting of 'ps-paper-type'\n\n2016-05-26  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/info.el (Info-default-directory-list): Remove obsolete suffixes.\n\n2016-05-26  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix Bug#23614.\n\n\t* lisp/net/tramp-sh.el (tramp-maybe-open-connection):\n\tLet-bind `process-coding-system-alist' in order to suppress\n\tthe value for \"cmdproxy\".\n\n\t* lisp/net/tramp.el (tramp-encoding-shell):\n\t`w32-shell-name' is a function.\n\t(tramp-encoding-command-switch)\n\t(tramp-encoding-command-interactive): Use `w32-shell-dos-semantics'.\n\n\t* test/lisp/net/tramp-tests.el (tramp-test24-file-name-completion):\n\tSuppress some tests on MS Windows.  (Bug#23614)\n\n2016-05-26  Stephen Berman  <stephen.berman@gmx.net>\n\n\thl-line.el: Fix flickering of highlighted line (bug#23510)\n\n\t* lisp/hl-line.el (hl-line-maybe-unhighlight)\n\t(global-hl-line-highlight-all)\n\t(global-hl-line-maybe-unhighlight): New functions.\n\t(hl-line-overlay-buffer): New variable.\n\t(hl-line-mode): Use it.  Replace hl-line-unhighlight on\n\tpre-command-hook by hl-line-maybe-unhighlight on\n\tpost-command-hook, to prevent hl-line from flickering.\n\tAdjust document string.\n\t(global-hl-line-mode): Use global-hl-line-highlight-all to\n\tsimultaneously highlight the current line in all live windows.\n\tReplace global-hl-line-unhighlight on pre-command-hook by\n\tglobal-hl-line-maybe-unhighlight on post-command-hook, to\n\tprevent global-hl-line from flickering.  Remove\n\tglobal-hl-line-unhighlight from change-major-mode-hook on\n\tdisabling the mode.  Adjust document string.\n\n2016-05-25  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tMake autoloads populate a new definition-prefixes table\n\n\t* lisp/subr.el (definition-prefixes): New hash table.\n\t(register-definition-prefixes): New function.\n\n\t* lisp/emacs-lisp/autoload.el (autoload-compute-prefixes): New var.\n\t(autoload--split-prefixes-1, autoload--split-prefixes)\n\t(autoload--make-defs-autoload): New functions.\n\t(autoload-defs-autoload-max-size, autoload-popular-prefixes): New vars.\n\t(autoload-generate-file-autoloads): Obey autoload-compute-prefixes.\n\t(update-directory-autoloads): Don't touch loaddefs.el if the set of\n\tautoloads hasn't changed (i.e. if only the timestamp would change).\n\n\t* lisp/loadup.el: Purify definition-prefixes.\n\n\t* lisp/w32-fns.el: Keep name space clean.\n\t(w32-set-default-process-coding-system): Rename from\n\tset-default-process-coding-system.\n\t(w32-set-system-coding-system): Rename from set-w32-system-coding-system.\n\n2016-05-24  Ken Brown  <kbrown@cornell.edu>\n\n\tAllow network-stream-tests to work for out-of-tree builds\n\n\t* test/lisp/net/network-stream-tests.el\n\t(network-stream-tests--datadir): New defconst.\n\t(make-tls-server): Use it.\n\n2016-05-24  Ken Brown  <kbrown@cornell.edu>\n\n\tFix failing echo-server-nowait test\n\n\t* test/lisp/net/network-stream-tests.el (echo-server-nowait):\n\tSpecify IPv4 for the client, to match the family of the server.\n\t(Bug#23606)\n\n2016-05-24  Ken Brown  <kbrown@cornell.edu>\n\n\tAllow shr-tests to work for out-of-tree builds\n\n\t* test/lisp/net/shr-tests.el (shr-tests--datadir): New defconst.\n\t(shr-test, rendering): Use it.\n\n2016-05-24  Ken Brown  <kbrown@cornell.edu>\n\n\tUpdate allowable arguments for open-network-stream\n\n\t* src/coding.c (Ffind_operation_coding_system): Allow t as a\n\ttarget for open-network-stream.  (Bug #23540)\n\n2016-05-24  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tMake js-mode's syntax highlighting work again\n\n\t* lisp/progmodes/js.el (js-mode): Fix the assigned\n\tfont-lock-defaults value (bug#23603).\n\n2016-05-23  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/progmodes/cc-mode.el: Add minor comments\n\n\t(c-change-expand-fl-region): Mark args as unused.\n\n2016-05-23  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/url/url-http.el: Use lexical-binding\n\n\t(url-http-simple-after-change-function): Use buffer-size rather than `nd'.\n\t(url-http-wait-for-headers-change-function): Remove unused var\n\t`content-length'.\n\t(url-http): Remove unused vars `host' and `port'.\n\n2016-05-23  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/widget.el (define-widget): Use `declare' (which does work now).\n\n\t(widget-plist-member): Mark as obsolete.\n\n2016-05-23  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/image.el: Use lexical-binding\n\n\t(image-scaling-factor, imagemagick-types-inhibit)\n\t(imagemagick-enabled-types): Remove redundant :group.\n\t(image--get-image): Apply de-Morgan and use car-safe.\n\t(image-compute-scaling-factor): Use the argument.\n\n2016-05-23  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/image.el (image--get-image): Remove nonsensical code.\n\n\t* lisp/image.el (image--get-image): Avoid requiring a library for\n\tone trivial operation.\n\n2016-05-23  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDon\u2019t use only last protocol from getaddrinfo\n\n\tProblem reported by Ken Brown in:\n\thttps://lists.gnu.org/r/emacs-devel/2016-05/msg00483.html\n\t* src/process.c (conv_addrinfo_to_lisp): New function.\n\t(connect_network_socket): Arg is now a list of addrinfos, not\n\tmerely IP addresses.  All uses changed.  Use protocol from\n\teach addrinfo.\n\t(Fmake_network_process): Accumulate protocols into addrinfos\n\trather than just using the last one found.\n\t(check_for_dns): Accumulate protocols here, too.\n\t* src/process.h (struct Lisp_Process): Remove ai_protocol;\n\tno longer needed.\n\n2016-05-23  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix seq requirement that broke bootstrap\n\n\t* lisp/image.el (image--get-image): Require seq here, not at the\n\ttop level, to avoid \u2018(require seq) while preparing to dump\u2019 while\n\tbootstrapping.  Suggested by Tino Calancha in:\n\thttps://lists.gnu.org/r/emacs-devel/2016-05/msg00477.html\n\n2016-05-22  Nicolas Petton  <nicolas@petton.fr>\n\n\tAdd missing dependencies to seq.el\n\n\t* lisp/emacs-lisp/find-func.el:\n\t* lisp/ibuffer.el:\n\t* lisp/image.el: Require seq.\n\n2016-05-22  Alp Aker  <alp@food52.com>\n\n\t* src/process.c (SOCK_NONBLOCK): Fix typo.\n\n2016-05-22  Etienne Prud\u2019homme  <e.e.f.prudhomme@gmail.com>\n\n\tAdd completion of colors in CSS mode\n\n\t* lisp/textmodes/css-mode.el (css-value-class-alist): Add CSS colors\n\tfrom \"CSS Color Module Level 3\".\n\n\t* test/lisp/textmodes/css-mode-tests.el (css-test-property-values):\n\tUpdate test.\n\n2016-05-21  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPrefer SOCK_NONBLOCK to O_NONBLOCK\n\n\t* src/process.c (SOCK_NONBLOCK): Define to 0 if not already defined.\n\t(connect_network_socket): Create the socket with SOCK_NONBLOCK, to\n\tavoid an fcntl with O_NONBLOCK if SOCK_NONBLOCK works.  Put the\n\tSOCK_DGRAM check a bit later, to keep the logic cleaner, as\n\tthe order does not matter here.\n\n2016-05-21  Alan Third  <alan@idiocy.org>\n\n\tFix bug#16856, cursor leaves garbage in fringe on OS X.\n\n\t* src/nsterm.m (ns_draw_window_cursor): Prevent the cursor from\n\tbeing drawn outside the text area.\n\n2016-05-21  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix compiler warnings in the MinGW build\n\n\t* configure.ac [mingw32]: Don't add -Wpointer-sign, and add\n\t-Wno-pointer-sign, to keep the noise level down.\n\n\t* nt/mingw-cfg.site (gl_cv_warn_c__Wredundant_decls): Disable\n\t-Wredundant-decls, as that produces a lot of noise due to\n\tredeclaration of time-related functions by gnulib.\n\t* nt/runemacs.c (set_user_model_id): Fix argument type of\n\t'SetCurrentProcessExplicitAppUserModelID'.\n\n\t* src/image.c (x_create_bitmap_from_file) [HAVE_NTGUI]: Don't\n\tdeclare 'dpyinfo', as it is unused.\n\t(xpm_load): Fix warnings about pointer signedness.\n\t* src/w32proc.c (IsValidLocale, init_winsock): Remove redundant\n\tprototypes.\n\t(sys_spawnve): Avoid warnings about discarding 'const' qualifier.\n\t(sys_select): Provide prototype.\n\t(g_b_init_compare_string_w): Move declaration to file scope.\n\t* src/w32heap.c (dumped_data_commit): Now static.\n\t(FREEABLE_P): Avoid warnings about pointer comparison with integer.\n\t(mmap_realloc): Cast to 'char *' for arithmetics on void pointers.\n\t* src/w32console.c (ctrl_c_handler, sys_tputs, sys_tgetstr)\n\t(evalcost, cmputc, cmcheckmagic, cmcostinit, cmgoto, Wcm_clear):\n\tProvide prototypes.\n\t* src/w32.c (globals_of_w32, conv_sockaddr_to_lisp): Remove\n\tredundant prototypes.\n\t(w32_get_internal_run_time, map_w32_filename): Provide prototype.\n\t(init_environment, sys_ctime): Avoid warnings about discarding\n\t'const' qualifier.\n\tInclude utimens.h.\n\t(sys_ctime, sys_chdir, sys_creat, sys_fopen, sys_mkdir)\n\t(sys_open, sys_rename, sys_rmdir, is_slow_fs, term_winsock)\n\t(sys_close, sys_dup2, sys_read, sys_write, sys_localtime): Provide\n\tprototypes.\n\t(sys_rename_replace): Use %d to avoid compiler warnings.\n\t(_wsa_errlist): Make the message text 'const char *', to avoid\n\tcompilation warnings.\n\t(dynlib_reset_last_error): Move prototype to file scope.\n\t(w32_get_resource): First argument is now 'const char *'.\n\t* src/w32uniscribe.c (syms_of_w32uniscribe): Provide prototype.\n\t(otf_features): Second argument is no 'const char *'.\n\t* src/w32term.c (free_frame_menubar, x_wm_set_size_hint)\n\t(x_set_window_size): Remove redundant prototypes.\n\t(XChangeGC, XGetGCValues, w32_draw_underwave)\n\t(w32_draw_rectangle, w32_shift_glyphs_for_insert, x_mouse_leave)\n\t(x_calc_absolute_position, x_destroy_window): Now static.\n\t(menubar_selection_callback): Move prototype to file scope.\n\t* src/w32font.c (g_b_init_get_glyph_outline_w): Remove redundant\n\tdeclaration.\n\t(w32_to_x_charset): Fix warnings about discarding 'const' qualifier.\n\t(w32font_full_name): Fix warnings about implicit conversion of\n\t'float' to 'double'.\n\t* src/w32reg.c (w32_get_rdb_resource): Fix warnings about\n\tdiscarding 'const' qualifier.\n\t* src/w32menu.c (syms_of_w32menu, globals_of_w32menu)\n\t(set_frame_menubar): Remove redundant prototypes.\n\t(menubar_selection_callback, w32_menu_display_help): Provide\n\tprototypes.\n\t(simple_dialog_show): Avoid warnings about discarding 'const'\n\tqualifier.\n\t* src/w32fns.c (syms_of_w32fns, globals_of_w32fns)\n\t(free_frame_menubar, w32_strerror, x_set_menu_bar_lines)\n\t(x_set_tool_bar_lines, x_set_internal_border_width): Remove\n\tredundant prototypes.\n\t(current_popup_menu): Remove redundant declaration.\n\t(colormap_t): Member 'name' is now 'const char *'.\n\t(add_system_logical_colors_to_map): Fix signed/unsigned warnings.\n\t(x_decode_color, x_set_border_pixel)\n\t(x_clear_under_internal_border, x_set_name, hook_w32_key)\n\t(reset_w32_kbdhook_state, deliver_wm_chars, w32_backtrace): Now\n\tstatic.\n\t(w32_load_cursor, w32_key_to_modifier, map_keypad_keys)\n\t(w32_msg_worker, w32_last_error): Provide prototypes.\n\t(funhook, lookup_vk_code): Avoid warnings about missing\n\tparentheses.\n\t(x_default_font_parameter, Fw32_notification_notify): Avoid\n\twarnings about discarding 'const' qualifier.\n\t(Fx_create_frame): Avoid warnings about empty body of 'else'.\n\t(x_screen_planes): Ifdef away unused function.\n\t(Fx_show_tip): Remove unused variables.\n\t(Fw32_battery_status): Avoid warnings about implicit promotion\n\tfrom float to double.\n\t(Fw32_notification_notify): Initialize 'timeout'.\n\t* src/profiler.c (profiler_cpu_running) [HAVE_ITIMERSPEC]: Only\n\tdefine the TIMER_SETTIME_RUNNING value if it will be used.\n\t* src/w32notify.c (send_notifications): Ifdef away an empty if\n\tclause.  Remove unused variable.\n\t(watch_end, watch_completion): Provide prototypes.\n\t* src/sound.c (sound_warning) [WINDOWSNT]: Don't define: unused.\n\t* src/callproc.c (child_setup, getenv_internal_1) [WINDOWSNT]: Fix\n\twarning with pointer signedness.\n\t* src/gnutls.c (gnutls_x509_crt_get_signature)\n\t(gnutls_alert_send_appropriate) [WINDOWSNT]: Don't define, and\n\tdon't load them from the GnuTLS library, as they are no longer\n\tused.\n\t* src/process.c (DATAGRAM_CHAN_P) [!DATAGRAM_SOCKETS]: Don't\n\tdefine, as it's unused.\n\t* src/unexw32.c (open_input_file, open_output_file)\n\t(close_file_data): Remove redundant prototypes.\n\t(_start): provide prototype.\n\t(mainCRTStartup): Move prototype to file level.\n\t(find_section): Use type-cast to shut up compiler warnings.\n\t(offset_to_section, relocate_offset): Now static.\n\t(find_section): First argument is now a 'const char *'.\n\t(offset_to_section): Ifdef away, as it's unused.\n\t* src/w32heap.h (find_section): Adjust prototype.\n\t* src/dynlib.c (dynlib_reset_last_error): Provide prototype.\n\t* src/dired.c (directory_files_internal_w32_unwind): Avoid\n\twarnings about missing prototypes.\n\t(is_slow_fs) [WINDOWSNT]: Provide prototype at file level.\n\t(directory_files_internal) [WINDOWSNT]: Fix warnings about pointer\n\tsignedness.\n\t* src/fileio.c (Ffile_writable_p, Ffile_regular_p) [WINDOWSNT]:\n\tFix warnings about pointer signedness.\n\t* src/filelock.c (WTMP_FILE) [WINDOWSNT]: Don't define, it's\n\tunused.\n\t* src/sysdep.c (_getpid): Remove redundant prototype.\n\t(sys_subshell) [DOS_NT]: Don't define 'status', it's unused.\n\t[!MSDOS]: Don't define 'st', it's unused.\n\t(init_sys_modes) [DOS_NT]: Don't define 'terminal', it's unused.\n\t(str_collate) [WINDOWSNT]: Avoid warnings about pointer signedness.\n\t* src/keyboard.c (tty_read_avail_input) [WINDOWSNT]: Don't define\n\tn_to_read, as it is not used.\n\t(MAX_ENCODED_BYTES) [WINDOWSNT]: Don't define, as it's unused.\n\t* src/w32font.h (syms_of_w32font): Remove redundant prototype.\n\t* src/xfaces.c (x_display_info) [HAVE_NTGUI]: Remove unused macro.\n\t* src/term.c (init_tty) [DOS_NT]: Ifdef away variables that are\n\tnot used by DOS_NT builds, to avoid compiler warnings.\n\t* src/menu.c (current_popup_menu) [HAVE_NTGUI]: Remove redundant\n\tdeclaration.\n\t* src/dispnew.c (init_display) [WINDOWSNT]: Use type-cast to shut\n\tup compiler warnings.\n\t* src/w32term.h (x_set_window_size, x_get_focus_frame)\n\t(x_make_frame_visible, x_make_frame_invisible, x_iconify_frame)\n\t(x_set_frame_alpha, x_activate_menubar, x_bitmap_icon)\n\t(x_free_frame_resources, x_real_positions)\n\t(display_x_get_resource): Remove redundant prototypes.\n\n\t* lib-src/ntlib.c (sys_ctime, sys_fopen, sys_chdir, mkostemp)\n\t(sys_rename, gettimeofday): Provide prototypes.\n\t* lib-src/ntlib.h (getuid, geteuid, mkostemp): Remove redundant\n\tdeclarations.\n\t* lib-src/emacsclient.c (w32_getenv): Argument is now 'const char *'.\n\t(xstrdup, w32_get_resource, w32_window_app, w32_execvp, ttyname)\n\t(close_winsock, initialize_sockets, w32_set_user_model_id)\n\t(w32_find_emacs_process, w32_give_focus) [WINDOWSNT]: Add\n\tprototypes.\n\t(w32_get_resource) [WINDOWSNT]: Fix a warning about signedness\n\tdifference.\n\t(w32_set_user_model_id): Update prototype of\n\tSetCurrentProcessExplicitAppUserModelID to avoid compiler\n\twarnings.\n\t(start_daemon_and_retry_set_socket) [WINDOWSNT]: Use type-cast to\n\tshut up compiler warnings.\n\t* lib-src/etags.c (MAXPATHLEN) [WINDOWSNT]: Remove unused macro.\n\n2016-05-21  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix 'vertical-motion' and 'posn-at-point' under 'visual-line-mode'\n\n\t* src/xdisp.c (move_it_in_display_line_to): Don't assume we can\n\twrap on a whitespace character if it's followed by another\n\twhitespace character.  When returning under WORD_WRAP for a screen\n\tline that is continued, restore to wrap point when atpos/atx\n\tposition would be displayed on the next screen line due to\n\tline-wrap.  (Bug#23570)\n\n2016-05-21  Puneeth Chaganti  <punchagan@muse-amuse.in>\n\n\t* lisp/svg.el (svg-create): Fix a typo: xmlsn -> xmlns.  (Bug#23589)\n\n2016-05-20  Andrew Hyatt  <ahyatt@gmail.com>\n\n\tAdded tests for dos unibyte decoding.\n\n\tThe underlying bug was previously fixed by Eli Zaretskii in commit\n\tc8109d9c4057d8cac79e2c139758cadd410e7446.\n\n2016-05-20  Philipp Stephani  <phst@google.com>\n\n\tFix handling of \u2018mouse-on-link-p\u2019.\n\n\tIf \u2018mouse-on-link-p\u2019 returns a string or vector, the first element\n\tis to be used as new event.  Translation to \u2018mouse-2\u2019 should only\n\thappen if the return value is not a string or vector.  See\n\tdocstring of \u2018mouse-on-link-p\u2019 and Bug#23288.\n\n\t* lisp/mouse.el (mouse--down-1-maybe-follows-link): Process return\n\tvalue of \u2018mouse-on-link-p\u2019 according to documentation.\n\n\t* test/lisp/mouse-tests.el (bug23288-use-return-value)\n\t(bug23288-translate-to-mouse-2): Tests for Bug#23288.\n\n2016-05-20  Daiki Ueno  <ueno@gnu.org>\n\n\tepg: Add a way to detect gpg1 executable for tests\n\n\tFixes bug#23561.\n\n\t* test/automated/epg-tests.el\n\t(epg-tests-program-alist-for-passphrase-callback): New\n\tconstant.\n\t(epg-tests-find-usable-gpg-configuration): New function,\n\trenamed from `epg-tests-gpg-usable'.  All callers changed.\n\t(epg-tests-gpg-usable): Remove.\n\n\t* lisp/epg-config.el (epg-config--program-alist): Factor out\n\tconstructor element to...\n\t(epg-config--configuration-constructor-alist): ...here.\n\t(epg-find-configuration): Rename FORCE argument to NO-CACHE,\n\tand add PROGRAM-ALIST argument.\n\n2016-05-19  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tPut point at beginning of display-time-world buffer.\n\n\tIf display-time-world decides to popup vertically from the bottom of the\n\tframe and scroll-margin is nonzero, the top of the buffer contents are\n\thidden due to scroll.\n\t* lisp/time.el (display-time-world-display): Move point to point-min\n\tafter inserting contents.\n\n2016-05-19  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tAllow null entries in face and image cache\n\n\tProblem reported by Tino Calancha (Bug#23580).\n\t* src/dispextern.h (FACE_FROM_ID, IMAGE_FROM_ID):\n\tDon\u2019t assume that the result is non-null.\n\t* src/xdisp.c (fill_image_glyph_string):\n\tRestore check that image pointer is non-null.\n\n2016-05-19  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix flyspell highlighting\n\n\tProblem reported by Jim Meyering (Bug#23575).\n\t* src/xdisp.c (extend_face_to_end_of_line):\n\tFix typo in previous change.\n\n2016-05-18  Eli Zaretskii  <eliz@gnu.org>\n\n\t* lisp/server.el (server-name): Add autoload cookie.  (Bug#23576)\n\n2016-05-18  Sam Steingold  <sds@gnu.org>\n\n\tpython-describe-at-point: add and bind\n\n2016-05-18  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t\u2018make check-declare\u2019 now chatters less\n\n\t* etc/NEWS: Document this.\n\t* lisp/emacs-lisp/check-declare.el (check-declare-locate):\n\tReturn relative names, not absolute.\n\t(check-declare-scan, check-declare-verify, check-declare-warn)\n\t(check-declare-file, check-declare-directory):\n\tGenerate less chatter.  Use relative file names rather than\n\tabsolute.  Don\u2019t give up on computing a good file name for a\n\tdiagnostic merely because the function name was bad.  Make\n\tmalformed declarations more noticeable.  Don\u2019t warn about\n\t\"ext:...\" declarations if check-declare-ext-errors is nil.\n\t(check-declare-errmsg): Remove.\n\t(check-declare-warn): New optional arg LINE.\n\t(check-declare-files): Put status into mode line rather than\n\tchattering.\n\n2016-05-18  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPacify byte-compiler for byte-compile-macroexpand-declare-function\n\n\t* lisp/emacs-lisp/bytecomp.el: Change signature of\n\tbyte-compile-macroexpand-declare-function to match that of\n\tdeclare-function.\n\n2016-05-18  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPacify byte-compiler for with-wrapper-hook\n\n\t* lisp/subr.el (subr--with-wrapper-hook-no-warnings):\n\tNew macro, split out from with-wrapper-hook.\n\t* lisp/abbrev.el (abbrev--default-expand):\n\t* lisp/minibuffer.el (completion--in-region):\n\t* lisp/simple.el (buffer-substring--filter):\n\t* lisp/subr.el (with-wrapper-hook):\n\tUse it.\n\n2016-05-18  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPacify byte-compiler in lisp/url\n\n\t* lisp/url/url-misc.el, lisp/url/url-file.el (mm-disable-multibyte):\n\tAdd decl.\n\n2016-05-18  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort --enable-gcc-warnings to GCC 6.1\n\n\t* configure.ac (WERROR_CFLAGS): Omit -Wunused-const-variable=2.\n\t* lib-src/etags.c (LOOKING_AT, LOOKING_AT_NOCASE):\n\tOmit test whether pointer plus a constant equals a null pointer.\n\t* src/alloc.c (compact_small_strings):\n\tAvoid pointer arithmetic on null pointers.\n\t* src/alloc.c (mark_face_cache):\n\t* src/fontset.c (free_realized_fontsets, Fset_fontset_font):\n\t* src/fringe.c (draw_fringe_bitmap_1)\n\t(Fset_fringe_bitmap_face):\n\t* src/macfont.m (macfont_draw):\n\t* src/msdos.c (IT_set_face, IT_clear_screen):\n\t* src/nsfont.m (nsfont_draw):\n\t* src/nsterm.h (FRAME_DEFAULT_FACE):\n\t* src/nsterm.m (ns_draw_window_cursor)\n\t(ns_draw_vertical_window_border, ns_draw_window_divider)\n\t(ns_dumpglyphs_box_or_relief)\n\t(ns_maybe_dumpglyphs_background, ns_dumpglyphs_image)\n\t(ns_dumpglyphs_stretch):\n\t* src/w32term.c (w32_draw_vertical_window_border)\n\t(w32_draw_window_divider, x_set_mouse_face_gc):\n\t* src/xdisp.c (estimate_mode_line_height, init_iterator)\n\t(handle_face_prop, handle_single_display_spec, pop_it)\n\t(CHAR_COMPOSED_P, get_next_display_element)\n\t(next_element_from_display_vector, extend_face_to_end_of_line)\n\t(fill_gstring_glyph_string,BUILD_COMPOSITE_GLYPH_STRING):\n\t* src/xfaces.c (Finternal_merge_in_global_face, Fface_font)\n\t(lookup_named_face):\n\t* src/xterm.c (x_draw_vertical_window_border)\n\t(x_draw_window_divider, x_set_mouse_face_gc):\n\tPrefer FACE_OPT_FROM_ID to FACE_FROM_ID when the result might be null.\n\t* src/xterm.c (try_window_id):\n\tRedo loop to convince GCC 6.1 that it is null pointer safe.\n\t(x_color_cells):\n\tUse eassume as necessary to pacify GCC 6.1.\n\t* src/dispextern.h (FACE_FROM_ID, IMAGE_FROM_ID): Now returns non-null.\n\t(FACE_OPT_FROM_ID, IMAGE_OPT_FROM_ID): New macro, with the old\n\tbehavior of the non-_OPT macro, to be used when the result\n\tmight be a null pointer.\n\t* src/dispnew.c (buffer_posn_from_coords, marginal_area_string)\n\t[HAVE_WINDOW_SYSTEM]:\n\t* src/intervals.h (INTERVAL_WRITABLE_P):\n\t* src/term.c (turn_off_face):\n\t* src/xdisp.c (get_glyph_face_and_encoding, fill_image_glyph_string)\n\t(produce_image_glyph, produce_xwidget_glyph):\n\t* src/xfaces.c (lookup_named_face):\n\tRemove unnecessary test for null pointer.\n\t* src/keyboard.c (read_char): Suppress bogus -Wclobbered warning.\n\t* src/process.c (would_block): New function.\n\t(server_accept_connection, wait_reading_process_output, send_process):\n\tUse it.\n\t* src/xdisp.c (get_window_cursor_type, note_mouse_highlight):\n\tPrefer IMAGE_OPT_FROM_ID to IMAGE_FROM_ID when the result\n\tmight be null.\n\n2016-05-18  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSync from gnulib\n\n\tThis incorporates:\n\t2016-05-17 manywarnings: update for GCC 6.1\n\t2016-05-13 intdiv0, memmem, nocrash, strcasestr, strstr: no exit\n\t* m4/manywarnings.m4, m4/nocrash.m4: Copy from gnulib.\n\n2016-05-16  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/emacs-lisp/ert.el (ert-summarize-tests-batch-and-exit):\n\tInclude more details on hydra.\n\n2016-05-16  Alan Mackenzie  <acm@muc.de>\n\n\tTidy up redundant code in cc-vars.el caused by mistake in emacs-25 -> master\n\n2016-05-16  Alan Mackenzie  <acm@muc.de>\n\n\tFix spurious fontification of \"for (; a * b;)\" in CC Mode.\n\n\tThis fixes bug #7918 (again).\n\n\t* lisp/progmodes/cc-engine.el (c-delq-from-dotted-list): New function.\n\t(c-forward-decl-or-cast-1): Return a 4 element list in place of the previous\n\tcons cell - additionally, return a flag indicating whether the declaration\n\tparsed might have been an expression, and the position of the type identifier\n\tin the said declaration.\n\n\t* lisp/progmodes/cc-fonts.el (c-font-lock-declarations): When\n\tc-forward-decl-or-cast-1 has indicated it might have parsed an expression,\n\tcheck for it being a spurious declaration in a \"for\" statement.\n\n2016-05-14  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPacify \u2018make check-declare\u2019\n\n\t* lisp/cedet/srecode/insert.el (data-debug-new-buffer)\n\t(data-debug-insert-stuff-list, data-debug-insert-thing):\n\t* lisp/emulation/viper-ex.el (viper-change-state-to-vi)\n\t(viper-change-state-to-emacs):\n\t* lisp/emulation/viper-macs.el (viper-change-state-to-vi):\n\t* lisp/org/ob-asymptote.el (orgtbl-to-generic):\n\t* lisp/org/ob-awk.el (orgtbl-to-generic):\n\t* lisp/org/ob-core.el (org-edit-src-code, orgtbl-to-generic):\n\t* lisp/org/ob-emacs-lisp.el (orgtbl-to-generic):\n\t* lisp/org/ob-exp.el (org-element-context):\n\t* lisp/org/ob-gnuplot.el (org-time-string-to-time)\n\t(orgtbl-to-generic):\n\t* lisp/org/ob-haskell.el (org-export-to-file):\n\t* lisp/org/ob-latex.el (org-create-formula-image)\n\t(org-latex-compile):\n\t* lisp/org/ob-python.el (run-python):\n\t* lisp/org/ob-sh.el (orgtbl-to-generic):\n\t* lisp/org/ob-tangle.el (org-link-escape, org-back-to-heading):\n\t* lisp/org/org-colview.el (org-agenda-redo):\n\t* lisp/org/org-feed.el (url-retrieve-synchronously):\n\t* lisp/org/org-info.el (Info-find-node):\n\t* lisp/org/org-list.el (org-previous-line-empty-p):\n\t* lisp/org/org-macs.el (org-string-match-p):\n\t* lisp/org/org.el (org-beamer-mode):\n\tFix prototype to match current definition.\n\t* lisp/emacs-lisp/advice.el (function-called-at-point):\n\t* lisp/progmodes/prolog.el (compilation-shell-minor-mode):\n\tFix typo: extra '.\n\t* lisp/emacs-lisp/cl-generic.el (cl-defmethod):\n\tInsert ,' to pacify check-declare.\n\t* lisp/org/ob-comint.el (tramp-flush-directory-property):\n\t* lisp/org/ob-tangle.el (org-babel-update-block-body):\n\t* lisp/org/org-bibtex.el (org-babel-trim):\n\t* lisp/org/org-pcomplete.el (org-export-backend-options):\n\t* lisp/org/org-protocol.el (org-publish-get-project-from-filename):\n\tFix file name in declare-function.\n\t* lisp/org/ob-comint.el (with-parsed-tramp-file-name)\n\t* lisp/org/ob-core.el (with-parsed-tramp-file-name):\n\t* lisp/org/org.el (org-beamer-mode):\n\t* lisp/url/url-http.el (gnutls-negotiate):\n\tAppend \u2018t\u2019 to declare-function, since the declaration isn\u2019t a defun.\n\t* lisp/org/ob-core.el (show-all):\n\tDeclare outline-show-all instead, since it is the\n\tnon-obsolete version of this function.\n\t(org-save-outline-visibility): Remove; not needed.\n\t* lisp/org/ob-scheme.el (run-geiser, geiser-mode)\n\t(geiser-eval-region, geiser-repl-exit):\n\t* lisp/org/ox-org.el (htmlize-buffer):\n\tPrepend \"ext:\" to file name, since it is not part of Emacs.\n\t* lisp/org/ob-sh.el (org-babel-comint-in-buffer)\n\t* lisp/org/org-gnus.el (nnimap-group-overview-filename):\n\tRemove decl, since function was removed.\n\t* lisp/org/ob-sh.el (org-babel-comint-with-output):\n\t* lisp/org/org-macro.el (org-with-wide-buffer):\n\tOmit unnecessary (and mismatching) decl.\n\t* lisp/org/org-agenda.el (calendar-absolute-from-iso):\n\t* lisp/org/org-clock.el (calendar-iso-to-absolute):\n\tDeclare calendar-iso-to-absolute instead, since it is the\n\tnon-obsolete version of this function.\n\t* lisp/org/org-compat.el (w32-focus-frame):\n\tRemove decl, since function is now obsolete.\n\n2016-05-14  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\t:max-width/height fixes for shr after the scaling changes\n\n\t* lisp/net/shr.el (shr-rescale-image): Ensure that we respect\n\tmax-width and max-height even after the scaling changes done\n\tearlier this year.\n\n2016-05-14  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix reading minibuffer input in viper-mode\n\n\t* lisp/emulation/viper-cmd.el (viper-read-string-with-history):\n\tRestore an assignment to viper-initial that got lost when\n\tviper-cmd.el was switched to lexical-binding.  (Bug#23536)\n\n2016-05-14  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort autogen.sh to Git 2.4\n\n\tProblem reported by Michael Brand in:\n\thttps://lists.gnu.org/r/emacs-devel/2016-05/msg00367.html\n\t* autogen.sh (git_config): Don't assume that git rev-parse\n\tgroks --git-common-dir.\n\n2016-05-13  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\t6de0715 Properly reject malformed or empty package sigs\n\tedae7d9 Remove buggy non-native image scrolling\n\n2016-05-13  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tImprove display of tex-verbatim and Info quoted\n\n\tProblem reported by Glenn Morris (Bug#19889).\n\t* doc/emacs/display.texi (Standard Faces):\n\t* doc/lispref/display.texi (Basic Faces):\n\t* etc/NEWS: Mention fixed-pitch-serif.\n\t* lisp/faces.el (face-font-family-alternatives):\n\tNew family alias Monospace Serif.\n\t(fixed-pitch-serif): New face, which uses the new family.\n\t* lisp/info.el (Info-quoted):\n\t* lisp/textmodes/tex-mode.el (tex-verbatim): Use the new face.\n\t* test/lisp/legacy/font-parse-tests.el (font-parse-tests--data):\n\tAdd test case for Monospace Serif.\n\n2016-05-13  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/net/sieve-mode.el: Handle the text:... notation\n\n\tGet rid of redundant :group keywords.\n\t(sieve-mode-syntax-table): Move initialization into declaration.\n\t(sieve-syntax-propertize, sieve-syntax-propertize-text): New functions.\n\t(sieve-mode): Use them.\n\n2016-05-13  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tTweak check-declare-directory performance\n\n\t* lisp/emacs-lisp/check-declare.el (check-declare-directory):\n\tUse \u2018find ... -exec ... +\u2019 for speed.\n\n2016-05-13  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSync from gnulib\n\n\tThis incorporates a spelling fix, plus:\n\t2016-05-09 Fix undefined behavior in gettext.h\n\t* lib/gettext.h, lib/mktime.c:\n\tCopy from gnulib.\n\n2016-05-13  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\t9c2a1a2 * doc/misc/texinfo.tex: Sync from gnulib.\n\t66cd4d8 * lisp/emacs-lisp/find-func.el (find-feature-regexp) (find-al...\n\t1a5a05c Do not mistake colon at the end of regexp for slash symbol\n\t4c5a00b Make package-install-from-buffer not move point\n\t9596ea1 ; Revert \"* emacs-lisp/lisp-mnt.el (lm-header): save-excursion\"\n\tf79c352 Redo the fix for bug#21839\n\t8d2f78c Don't treat JS spread as contination method call\n\n2016-05-12  Chris Feng  <chris.w.feng@gmail.com>\n\n\tCorrect server/client address\n\n\t* src/process.c (Fmake_network_process): :local is for servers and :remote\n\tis for clients.\n\n2016-05-12  Ken Brown  <kbrown@cornell.edu>\n\n\tAutosave buffers on logout if HAVE_NTGUI\n\n\t* src/w32fns.c (w32_wnd_proc): Pass a WM_ENDSESSION message on to\n\tw32_read_socket.\n\n\t* src/w32term.c (w32_read_socket): Create an event of type\n\tEND_SESSION_EVENT if a WM_ENDSESSION message is received.\n\n\t* src/termhooks.h [HAVE_NTGUI]: New event kind END_SESSION_EVENT.\n\n\t* src/keyboard.c [HAVE_NTGUI] (syms_of_keyboard): New symbol\n\t`end-session'.\n\t(kbd_buffer_get_event): Return an end-session event if an event of\n\ttype END_SESSION_EVENT is read.\n\t(keys_of_keyboard): Bind the end-session event to kill-emacs in\n\tspecial-event-map.  (Bug#23483)\n\n2016-05-12  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/cedet/semantic/{db-el,symref}.el: Mark unused vars\n\n\t* lisp/cedet/semantic/db-el.el: Use _ to mark unused vars.\n\t(object-print): Use cl-call-next-method instead of call-next-method.\n\t* lisp/cedet/semantic/symref.el: Use _ to mark unused vars.\n\n2016-05-12  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/cedet/semantic: Silence some warnings\n\n\t* lisp/cedet/semantic/db-el.el (emacs-lisp-mode)\n\t(semanticdb-get-database-tables): Use make-instance to silence warnings.\n\n\t* lisp/cedet/semantic/symref.el: Require semantic/find since we use\n\tsome macros from there.  Silence compilation warnings:\n\tReplace initargs with slot names in oref/oset.\n\tMove `SYMREF TOOLS' section earlier so definitions precede their use.\n\n2016-05-12  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tSupport srcset in <img>\n\n\t* lisp/net/shr.el (shr--preferred-image): Allow <img> tags\n\twith srcset specifiers (bug#23459).\n\n2016-05-12  Michael Albinus  <michael.albinus@gmx.de>\n\n\tDo not autoload some functions of tramp.el\n\n\t* lisp/net/tramp.el (tramp-completion-file-name-handler):\n\tAutoload a shortened version of this function, avoid recursive load.\n\t(tramp-completion-file-name-handler-alist)\n\t(tramp-completion-mode-p)\n\t(tramp-completion-handle-expand-file-name)\n\t(tramp-completion-handle-file-name-all-completions)\n\t(tramp-completion-handle-file-name-completion): Do not autoload.\n\n2016-05-12  Michael Albinus  <michael.albinus@gmx.de>\n\n\tAvoid recursive load of tramp.el\n\n\t* lisp/net/tramp.el (tramp-completion-file-name-handler):\n\tAutoload a shortened version of this function, avoid recursive load.\n\n2016-05-11  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix a problem of tramp-tests on hydra.\n\n\t* test/lisp/net/tramp-tests.el (tramp-test06-directory-file-name):\n\tNullify `tramp-default-method' due to hydra.\n\n2016-05-10  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPacify byte-compiler in lisp/vc\n\n\t* lisp/vc/vc-bzr.el, lisp/vc/vc-cvs.el, lisp/vc/vc-hg.el:\n\t* lisp/vc/vc-rcs.el, lisp/vc/vc-src.el:\n\tDeclare functions defined elsewhere, to forestall \u201cmight not\n\tbe defined at runtime\u201d warnings.\n\n2016-05-10  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\td0d9f55 Allow newlines inside cl function arglists\n\t963541a Publicize cl--generic-all-functions\n\t3c581d5 ; Fix typo\n\te58f900 Add some \"safe-local-variable\" declarations for compatibility...\n\n2016-05-10  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t'text-quoting-style' now affects only ` and '\n\n\tChange 'text-quoting-style' so that it no longer affects\n\tformatting of curved quotes in format arguments to functions like\n\t'message'.  In particular, when this variable's value is 'grave',\n\tall quotes in formats are output as-is.\n\t* doc/lispref/help.texi (Keys in Documentation):\n\t* doc/lispref/strings.texi (Formatting Strings):\n\t* doc/lispref/tips.texi (Documentation Tips):\n\t* etc/NEWS:\n\t* src/doc.c (syms_of_doc): Document this.\n\t* lisp/help-fns.el (describe-function-1):\n\t* src/doc.c (text_quoting_style, Fsubstitute_command_keys)\n\t(syms_of_doc):\n\t* src/editfns.c (styled_format): Omit now-unnecessary code.\n\t* src/lisp.h (LEAVE_QUOTING_STYLE): Remove.\n\n2016-05-10  Alan Mackenzie  <acm@muc.de>\n\n\tRevert \"Fix spurious fontification of \"for (; a * b;)\" in CC Mode.\"\n\n\tThis reverts commit 89d1776b81ab552192ee41f13ce84ff86bda4556.  It is\n\tbeing reverted because it slowed down CC Mode's fontification too much\n\t(factor ~3).  It was the fix to bug #7918.\n\n2016-05-09  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMove \"Recent messages\" earlier in report-emacs-bug\n\n\t* lisp/mail/emacsbug.el (report-emacs-bug): Move the \"Recent\n\tmessages\" part earlier so that users can see it and remove it\n\tif they want.\n\n2016-05-09  Michael Albinus  <michael.albinus@gmx.de>\n\n\tPacify byte compiler in tramp.el\n\n\t* lisp/net/tramp.el (tramp-time-diff): Use `tramp-compat-funcall'.\n\n2016-05-09  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\t3b47898 Fix doc string in `insert'\n\tb479dea * doc/misc/emacs-mime.texi (time-date): Document now-builtins...\n\tcd27f73 Say 'All results processed' at the end\n\t4ffec91 Document automatic adjustment of process' logical window dime...\n\tdc66271 ; Fix typos and stylistic glitches in NEWS\n\n2016-05-09  Alan Mackenzie  <acm@muc.de>\n\n\tCC Mode now uses the new :after-hook feature of define-derived-mode\n\n\tIt now runs internal variable setting functions after the mode hooks, no\n\tlonger runs the mode hooks twice, and declares the configuration variables for\n\tnoise macros and macros with semicolons as safe variables (when given suitable\n\targuments).\n\n\tFixes bug #16759 and bug #23476.\n\n\t* .dir-locals.el: Put the c-noise-macros-with-paren-names setting\n\tback into the C Mode value.\n\n\t* lisp/progmodes/cc-mode.el: (c-basic-common-init): Remove the call to\n\tc-make-macro-with-semi-re.\n\t(c-mode, c++-mode, objc-mode, java-mode, idl-mode, pike-mode, awk-mode): Move\n\tc-make-noise-macro-regexps and c-make-macro-with-semi-re (where appropriate)\n\tand c-update-modeline into the :after-hook form.  Remove the explicit settings\n\tof the syntax table, the abbreviation table and the local key map, since they\n\tduplicate forms generated by define-derived-mode.  Remove the explicit\n\tinvocation of each mode's mode hook, since they duplicate ones generated by\n\tdefine-derived-mode.\n\n\t* lisp/progmodes/cc-vars.el: (c-string-list-p, c-string-or-string-list-p): New\n\tfunctions.\n\t(c-noise-macro-names, c-noise-macro-with-parens-names): give the\n\tsave-local-variable property c-string-list-p.\n\t(c-macro-names-with-semicolon): give the save-local-variable property\n\tc-string-or-string-list-p.\n\n\t* doc/misc/cc-mode.texi: (Macros with ;, Noise Macros): Note that it's not\n\tnecessary to call the regexp generating functions after setting the pertinent\n\tconfiguration values in a mode hook.\n\n2016-05-09  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tFix the jit-lock-fontify-now test names\n\n\t* test/lisp/jit-lock-tests.el\n\t(jit-lock-fontify-now-mends-the-gaps)\n\t(jit-lock-fontify-now-does-not-refontify-unnecessarily):\n\tFix the test names.\n\n2016-05-09  Michael Albinus  <michael.albinus@gmx.de>\n\n\tExtend completion candidates in tramp.el\n\n\t* lisp/net/tramp.el (tramp-parse-default-user-host): New defun.\n\t(tramp-get-completion-function): Use it.\n\n2016-05-09  Michael Albinus  <michael.albinus@gmx.de>\n\n\tRevert e2f785991d0c696fbb2bc2f331f888d979b8da82 for tramp.el\n\n\t* lisp/net/tramp.el (tramp-time-diff): Revert previous change due to backwards\n\tcompatibility.\n\n2016-05-08  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tEmulate interactive mode\n\n\t* test/lisp/jit-lock-tests.el (jit-lock-tests--setup-buffer)\n\t(jit-lock-does-not-refontify-unnecessarily):\n\tBind noninteractive to nil (bug#23278).\n\n2016-05-08  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSimplify now that float-time etc. are built-in\n\n\tThis was prompted by warnings about calls to now-obsolete functions.\n\t* lisp/calendar/time-date.el (encode-time-value):\n\tUse setq rather than a recursive call, to avoid a warning\n\tabout calling this obsolete function.\n\t* lisp/calendar/time-date.el (encode-time-value)\n\t(with-decoded-time-value, time-to-seconds, time-to-number-of-days):\n\t* lisp/erc/erc.el (erc-emacs-time-to-erc-time):\n\t* lisp/net/rcirc.el (rcirc-float-time):\n\t* lisp/org/org-compat.el (org-float-time):\n\tSimplify now that time-add and float-time are now built-in.\n\t* lisp/calendar/time-date.el (time-add, time-subtract, time-less-p):\n\t* lisp/net/newst-backend.el (time-add):\n\t* lisp/org/org.el (time-subtract):\n\tRemove backward-compatibility definitions; they are now built-in.\n\t* lisp/calendar/timeclock.el (timeclock-time-to-seconds)\n\t(timeclock-seconds-to-time):\n\t* lisp/net/rcirc.el (rcirc-float-time):\n\t* lisp/org/org-compat.el (org-float-time):\n\tNow obsolete, since callers can just use float-time and\n\tseconds-to-time.  All uses changed.\n\t* lisp/emacs-lisp/ert.el (ert-results-pop-to-timings):\n\t* lisp/gnus/gnus-art.el (article-lapsed-string):\n\t* lisp/gnus/gnus-diary.el (gnus-user-format-function-d):\n\t* lisp/gnus/gnus-group.el (gnus-group-timestamp-delta):\n\t* lisp/gnus/nndiary.el (nndiary-compute-reminders):\n\t* lisp/net/tramp.el (tramp-time-diff):\n\t* lisp/org/org-clock.el (org-clock-timestamps-change):\n\tPrefer the time-subtract builtin to the subtract-time alias.\n\t* lisp/files.el (dir-locals-find-file, dir-locals-read-from-dir):\n\t* test/lisp/character-fold-tests.el (character-fold--speed-test):\n\tPrefer the float-time builtin to the time-to-seconds alias.\n\t* lisp/org/org-agenda.el, lisp/org/org-clock.el, lisp/org/org-list.el:\n\t* lisp/org/org-timer.el, lisp/org/org.el:\n\tAdjust to org-float-time deprecation.\n\n2016-05-08  Alan Mackenzie  <acm@muc.de>\n\n\tAdd :after-hook facility to define-derived-mode.\n\n\tThis allow a form to be evaluated _after_ a major mode's hooks have been run.\n\tIt is needed to solve some problems in CC Mode, including bug #16759 and\n\tbug #23476.\n\n\t* lisp/emacs-lisp/derived.el (define-derived-mode): introduce the new argument\n\t`:after-hook', and generate the requisite code for it.\n\t(derived-mode-make-docstring): Take account of the possibility of :after-hook.\n\n\t* lisp/subr.el (delayed-after-hook-forms): New variable.\n\t(run-mode-hooks): As the last thing evaluate the forms in\n\tdelayed-after-hook-forms.\n\n\t* doc/lispref/modes.texi (Derived Modes): Document :after-hook.\n\t(Mode Hooks): Document the new feature in run-mode-hooks.\n\n\t* etc/NEWS: Note the new feature.\n\n2016-05-08  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix recursive load of tramp.elc\n\n\t* lisp/net/tramp.el (tramp-completion-file-name-handler):\n\tCheck also for `tramp-completion-mode-p'.\n\t(tramp-completion-mode, tramp-completion-mode-p): Autoload them.\n\n2016-05-07  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPrefer grep -E/-F to egrep/fgrep\n\n\tPOSIX marked egrep and fgrep as legacy apps in SUSv2 (1997) and\n\twithdrew them in SUSv3 (2001), and these days grep -E and grep -F\n\tare probably more portable.\n\t* lib-src/etags.c (main):\n\t* lisp/eshell/em-unix.el (eshell-grep, eshell/egrep)\n\t(eshell/fgrep):\n\t* lisp/cedet/semantic/symref.el (semantic-symref-find-text):\n\t* lisp/eshell/esh-var.el (eshell-apply-indices):\n\t* lisp/progmodes/ada-xref.el (ada-xref-search-with-egrep)\n\t(ada-find-in-src-path):\n\t* lisp/textmodes/ispell.el (ispell-grep-command):\n\t(ispell-lookup-words):\n\tUse or document grep -E and grep -F instead of egrep and fgrep.\n\t* lisp/textmodes/ispell.el (ispell-grep-options):\n\tUse -Ei on all platforms, not just MS-Windows.\n\n2016-05-07  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tAvoid unnecessary work if a chunk is empty\n\n\t* lisp/jit-lock.el (jit-lock-fontify-now): Avoid unnecessary work\n\tif a chunk is empty (bug#23278).\n\n2016-05-07  Dmitry Gutov  <dgutov@yandex.ru>\n\n\t* test/lisp/jit-lock-tests.el: New file.\n\n2016-05-07  Michael Albinus  <michael.albinus@gmx.de>\n\n\tContinue to fix Bug#10085\n\n\t* lisp/net/tramp.el (tramp-completion-file-name-handler-alist)\n\t<expand-file-name>: Add handler.\n\t(tramp-completion-handle-expand-file-name): New defun.\n\t(tramp-handle-file-name-as-directory): Handle completion mode case.\n\n\t* test/lisp/net/tramp-tests.el (tramp-test06-directory-file-name):\n\tFix test.\n\t(tramp-test24-file-name-completion): Extend test.\n\n2016-05-07  Alan Mackenzie  <acm@muc.de>\n\n\tRevert change 8e4595a... due to annoyance it causes the development team.\n\n\tChange 8e4595a438fe85dd109756886cdeaeea2e665afb from 2016-04-30 17:28:24\n\t+0000 was an enhancement to .dir-locals to allow correct fontification\n\tof certain macro constructs.\n\n\t* .dir-locals.el: Remove the two forms for C Mode dealing with noise macros.\n\n2016-05-07  Alan Mackenzie  <acm@muc.de>\n\n\t* lisp/emacs-lisp/edebug.el (edebug-sit-on-break): Give it a version number.\n\n2016-05-07  Simen Heggest\u00f8yl  <simenheg@gmail.com>\n\n\tAdd tests for CSS mode completion\n\n\t* test/lisp/textmodes/css-mode-tests.el (css-test-property-values)\n\t(css-test-property-values-no-duplicates)\n\t(css-test-value-class-lookup): Use `seq-sort'.\n\t(css-mode-tests--completions): New helper function for retrieving CSS\n\tcompletions.\n\t(css-test-complete-bang-rule, scss-test-complete-bang-rule)\n\t(css-test-complete-property-value, css-test-complete-pseudo-class)\n\t(css-test-complete-pseudo-element, css-test-complete-at-rule)\n\t(scss-test-complete-at-rule, css-test-complete-property)\n\t(css-test-complete-selector, css-test-complete-nested-selector)\n\t(scss-test-complete-nested-selector): New tests.\n\n2016-05-06  Alan Mackenzie  <acm@muc.de>\n\n\tAdd an option in Edebug to prevent pauses after `h', 'f', and `o'.\n\n\tRequested by Paul Pogonyshev.  Also add in documentation for Edebug config\n\tvariables which was missing.\n\n\t* lisp/emacs-lisp/edebug.el (edebug-sit-on-break): New customizable option.\n\t(edebug--display-1): Test edebug-sit-on-break before pausing 1 second.\n\n\t* doc/lispref/edebug.texi (Jumping): Document the effect of the new option.\n\t(Edebug Options): Document the new option.  Also add documentation for\n\tedebug-eval-macro-args, edebug-print-length, edebug-print-level,\n\tedebug-print-circle, edebug-sit-for-seconds.\n\n\t* etc/NEWS: Note the new feature.\n\n2016-05-07  Jorgen Schaefer  <contact@jorgenschaefer.de>\n\n\tscheme.el: Turn literal tabs into \\t\n\n\t* lisp/progmodes/scheme.el: The last change to turn tabs into spaces\n\talso caught some literal tabs in character classes. Fix this by\n\tadding \\t to those classes.\n\n2016-05-07  Tino Calancha  <f92capac@gmail.com>\n\n\tMake 'backtab' work in table-mode on text terminals\n\n\t* lisp/textmodes/table.el (table-cell-bindings): Bind 'backtab'\n\texplicitly.  (Bug#23456)\n\n2016-05-07  Eli Zaretskii  <eliz@gnu.org>\n\n\tTry to speed-up display of many all-blank lines\n\n\t* src/bidi.c (bidi_initialize): Use anchored regexps for\n\tparagraph start and paragraph separator sequences.  (Bug#23457)\n\n2016-05-06  Alan Mackenzie  <acm@muc.de>\n\n\tCorrect hack-local-variables change from Thu May 5 11:05:49 2016 +0000\n\n\tPrevent hack-local-variables being called from the fundamental-mode mode call\n\tearly in normal-mode.  This fixes bug #23460 and bug #23463.\n\n\t* lisp/files.el (normal-mode) Replace call to fundamental-mode with calls to\n\tthe things it calls, with the exception of hack-local-variables.\n\n\t* etc/NEWS: Add an entry to note the calling of hack-local-variables at each\n\tmajor mode initialization.\n\n2016-05-06  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort xref-tests to master branch\n\n\tAlso, add a test to make this problem less likely in the future.\n\t* test/Makefile.in (check-no-automated-subdir): New rule.\n\t(check, check-expensive, check-maybe): Depend on it.\n\t* test/automated/data/xref/file1.txt: Rename to ...\n\t* test/data/xref/file1.txt: ... here.\n\t* test/automated/data/xref/file2.txt: Rename to ...\n\t* test/data/xref/file2.txt: ... here.\n\t* test/automated/xref-tests.el: Rename to ...\n\t* test/lisp/progmodes/xref-tests.el: ... here.\n\t(xref-tests-data-dir): Use EMACS_TEST_DIRECTORY.\n\n2016-05-05  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\t50650cb Doc fixes for fclist and grep\n\t5e814e0 Minor doc fixes for quoting\n\t3347a73 `nreverse' the marker pairs list\n\t1a4127d Use save-excursion in xref-location-marker more\n\tab3ba91 shell-quote-argument DIR when appropriate\n\t922c7a3 Rework xref-query-replace-in-results\n\t3fe3510 * lisp/replace.el (query-replace-read-from): Use minibuffer-w...\n\t0932b94 Fix todo-mode bug involving archived items (bug#23447)\n\te68ad1f ; * etc/NEWS: Tiny edit. (Bug#23432)\n\tadc80b7 ; * test/automated/xref-tests.el: Add copyright and license.\n\t4d8fd9c Handle \"empty line\" regexp in xref searches\n\tf559b37 Add tests for xref-collect-matches\n\t6428aa0 Use grep-find-ignored-directories instead of vc-directory-exc...\n\t6f82d8e Clear buffer-undo-list when showing xrefs\n\tc68a091 Note the quote translation in `message' in section \"incompati...\n\t52f86a7 * etc/NEWS: Mention (message \"%s\" (format ...)).\n\t93703c5 (Common Keywords): Correct what missing :group means\n\t79e5800 Improve documentation of Dired's 'A' and 'Q' commands\n\t2ea2a2f Doc fixes for quoting\n\t8544b98 posnp doc clarification\n\t805204f Mention what a missing :group does\n\tec554d7 Fix documentation of dired-aux search/replace commands\n\n2016-05-05  Simen Heggest\u00f8yl  <simenheg@gmail.com>\n\n\tSupport completion of HTML tags in CSS selectors\n\n\t* lisp/textmodes/css-mode.el (css--html-tags): New variable holding a\n\tlist of HTML tags for completion.\n\t(css--nested-selectors-allowed): New variable for determining whether\n\tnested selectors are allowed in the current mode.\n\t(css--complete-selector): New function for completing part of a CSS\n\tselector.\n\t(css-completion-at-point): Support completion of selectors.\n\t(scss-mode): Allow nested selectors.\n\n2016-05-05  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMake `R' in eww work more reliably\n\n\t* lisp/net/eww.el (eww-score-readability): Protect against\n\tnull children.\n\n2016-05-05  Alan Mackenzie  <acm@muc.de>\n\n\tCall hack-local-variables from major modes rather than from file visiting\n\n\tThis prevents file/directory local variables from being lost when the major\n\tmode is set or changed.\n\n\tThis fixes bug #15577 and bug #23407.\n\n\t* lisp/files.el (normal-mode): Call `hack-local-variables' when the major mode\n\tfunction hasn't already done so.\n\t(hack-local-variables): Rename parameter `mode-only' to `handle-mode', make\n\tits previous non-nil setting be t, and introduce the following action for a\n\tnon-nil non-t value: apply all settings apart from `mode'.\n\n\t* lisp/subr.el (run-mode-hooks): call `hack-local-variables' for buffers\n\twhich are visiting files.\n\n\t* doc/emacs/custom.texi (File Variables): Note that setting a major mode also\n\tsets file variables.\n\t(Directory Variables): Note that `mode', `eval', and `unibyte' can be set as\n\tdir local variables, but `coding' can't.\n\n\t* doc/lispref/modes.texi (Major Mode Conventions): Say that `run-mode-hooks'\n\talso calls `hack-local-variables'.\n\t(Auto Major Mode): Say that `find-file' no longer runs `hack-local-variables',\n\tas from 25.2.  Remove vagueness from `normal-mode' and `set-auto-mode' by\n\tsaying that the mode IS SET, not merely \"selected\" or \"chosen\".\n\t(Mode Hooks): Document change to `run-mode-hooks'.\n\n\t* doc/lispref/variables.texi (File Local Variables): Document change to\n\t`hack-local-variables'.\n\n2016-05-05  Michael Albinus  <michael.albinus@gmx.de>\n\n\ttramp-sh.el: Work around a stat bug\n\n\t* lisp/net/tramp-sh.el (tramp-get-remote-stat): Do not use\n\tstat versions which produce shell quoted output.  See also\n\tcoreutils Bug#23422.\n\n2016-05-04  Noam Postavsky  <npostavs@gmail.com>\n\n\tFix autogen.sh for separate worktrees\n\n\t* autogen.sh: Use the $hooks variable in the $sample_hooks loop, instead\n\tof assuming .git/hooks is a directory.\n\n2016-05-04  Alan Mackenzie  <acm@muc.de>\n\n\tAllow `text-quoting-style' to be `leave', i.e. no translation of quotes.\n\n\t* lisp/help-fns.el (describe-function-1): Don't set coding system to UTF-8\n\twhen text-quoting-style is `leave'.\n\n\t* src/lisp.h (enum text_quoting_style): Add identifier LEAVE_QUOTING_STYLE.\n\n\t* src/doc.c (syms_of_doc): New symbol \"leave\".  Amend doc string of\n\t`text_quoting_style'.\n\t(text_quoting_style): Handle `leave' by returning LEAVE_QUOTING_STYLE.\n\t(Fsubstitute_command_keys): Don't translate quotes when quoting_style is\n\tLEAVE_QUOTING_STYLE.\n\n\t* src/editfns.c (styled_format): Set quoting_style to -1 when\n\ttext-quoting-style is `leave'.\n\n2016-05-04  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emulation/viper.el:\n\t* lisp/emulation/viper-cmd.el: Use lexical-binding.\n\t(viper-change-state-to-vi, viper-change-state-to-emacs): Allow dummy\n\targs, for use in advice-add.\n\t(viper--init-message): Rename from init-message.\n\t(viper-minibuffer-standard-hook): Adjust accordingly.\n\t(viper-undo): Remove unused var `modified'.\n\t(viper-read-string-with-history, viper-set-searchstyle-toggling-macros):\n\tDon't use dynamic vars as args.\n\t(viper-submit-report): Clarify use of dynamic vars.\n\n\t* lisp/emulation/viper.el: Use lexical-binding and nadvice.\n\tRemove redundant :group keywords.  Group the (if viper-mode) at top-level.\n\tUse add-function rather than a `(lambda ...).\n\t(viper--advice-list): New var.\n\t(viper--advice-add, viper--deactivate-advice-list): New funs.\n\t(viper-go-away, viper-set-hooks, viper-non-hook-settings): Use them.\n\t(viper-non-hook-settings): Don't hook into find-file any more.\n\n2016-05-04  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/vc/ediff-util.el: Use lexical-binding.\n\n\t* lisp/progmodes/js.el (js-syntax-propertize): Recognize shebang line.\n\n2016-05-03  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAdd an animation sanity check\n\n\t* lisp/image.el (image-multi-frame-p): Give up on animations\n\tif it seems like they are too slow (bug#23431).\n\n2016-05-03  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tabbrev-tests.el fix\n\n\t* test/lisp/abbrev-tests.el (abbrev-table-p-test): Don't check\n\tinternal implementation detail.\n\n2016-05-03  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\t(shr-rescale-image): Clarify logic slightly\n\n\t* lisp/net/shr.el (shr-rescale-image): Clarify logic slightly.\n\n2016-05-02  Martin Rudalics  <rudalics@gmx.at>\n\n\tBind `widget-button-click' to mouse-1/-2 instead of down-mouse-1/-2\n\n\t* lisp/wid-edit.el (widget-keymap): Bind `widget-button-click'\n\tto mouse-1/-2 instead of down-mouse-1/-2.  Suggested by Stefan\n\tMonnier.  (Bug#19185, Bug#20398)\n\n2016-05-02  Lee Bochicchio  <lboc.home@gmail.com>\n\n\tAdd more abbrev tests\n\n\t* test/lisp/abbrev-tests.el\n\t(clear-abbrev-table-test): Use `abbrev-expansion'\n\t(abbrev-table-empty-p-test, list-abbrevs-test)\n\t(prepare-abbrev-list-buffer-test, insert-abbrevs-test)\n\t(edit-abbrevs-test, define-abbrevs-test)\n\t(read-write-abbrev-file-test)\n\t(abbrev-edit-save-to-file-test): New tests (bug#23139).\n\n2016-05-02  Philipp Stephani  <p.stephani2@gmail.com>  (tiny change)\n\n\tAllow eval-ing named character literals\n\n\t* lisp/progmodes/elisp-mode.el (elisp--preceding-sexp): Skip over\n\tnamed character literals.\n\t* test/lisp/progmodes/elisp-mode-tests.el\n\t(elisp--preceding-sexp--char-name): Add test for skipping over\n\tnamed character literals (bug#23354).\n\n2016-05-02  Aaron Conole  <aconole@redhat.com>\n\n\tCall va_end in boot_error\n\n\t* src/gnutls.c (boot_error): A recent change added a function\n\tto signal an error or return an error code. That function uses\n\ta variadic argument list to populate an error message\n\tstring. However, it missed calling va_end after using the\n\tvariadic argument list.\n\n\t  Copyright-paperwork-exempt: yes\n\n2016-05-02  Aaron Conole  <aconole@bytheb.org>\n\n\tFix the call to set_network_coding_system\n\n\t* src/process.c (Fmake_network_process): A recent commit\n\tmodified the set_network_socket_coding_system function to take\n\targuments host, service, and name. However, those arguments\n\tappear to be swapped.\n\n\t  Copyright-paperwork-exempt: yes\n\n2016-05-02  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRevert \"alas, a map can have only one parent\"\n\n\tThis reverts commit d05806fda1cbba2db112bc783597fbe9d27175b2.\n\n\tThis had already been fixed by using `make-composed-map'.  And\n\twe don't want image-map to inherit from special-mode-map, anyway.\n\n2016-05-02  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\tbf21c84 Fix quoting problem in cc-engine debug message\n\t8f36614 Add electric-quote-string unit test\n\t6280531 Don\u2019t electrically quote \u2018'\u2019 in Python\n\tfd7b430 `nreverse' Grep hits before passing them to xref--convert-hits\n\n2016-05-02  Sam Steingold  <sds@gnu.org>\n\n\talas, a map can have only one parent\n\n\t* lisp/image-mode.el (image-model-map): Cannot have two parents.\n\t* lisp/image.el (image-map): Inherit from `special-mode-map'.\n\n2016-05-02  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix Bug#10085\n\n\t* lisp/net/tramp.el (tramp-find-foreign-file-name-handler):\n\tAdd optional arguments OPERATION and COMPETION.  Handle\n\t`file-name-as-directory', `file-name-directory' and\n\t`file-name-nondirectory' also in completion mode.\n\t(tramp-file-name-handler): Use it.  (Bug#10085)\n\n\t* test/lisp/net/tramp-tests.el (tramp-test06-directory-file-name):\n\tExtend test.\n\n2016-05-01  Martin Rudalics  <rudalics@gmx.at>\n\n\t* src/minibuf.c (read_minibuf): Use CONSP instead of Fconsp.\n\n2016-05-01  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tTweak .gitignore\n\n\t* .gitignore: Remove leim/changed.misc, leim/changed.tit,\n\tas these files are no longer created.  Add gmon.out, for\n\t-pg profiling.  Sort.\n\n2016-05-01  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSync from gnulib\n\n\tThis incorporates:\n\t2016-05-01 mktime: port to stricter signed overflow checking\n\t2016-05-01 mktime: speed up DEBUG_MKTIME benchmarks\n\t2016-05-01 mktime: resurrect DEBUG_MKTIME testing\n\t2016-05-01 mktime: simplify DEBUG_MKTIME\n\t2016-05-01 Port mktime_internal offset to unsigned time_t\n\t2016-04-27 xstrtol: prohibit monstrosities like \"1bB\"\n\t2016-04-13 mktime: improve integer overflow checking\n\t2016-04-13 intprops: check two's complement assumption\n\t2016-04-13 intprops, mktime, strtol: assume two's complement\n\t* lib/intprops.h, lib/mktime-internal.h, lib/mktime.c:\n\t* lib/strtol.c, lib/timegm.c, m4/mktime.m4, m4/std-gnu11.m4:\n\tCopy from gnulib.\n\n2016-05-01  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\tc695fb3 ; Spelling fixes\n\t03750c0 * doc/misc/texinfo.tex: Sync from gnulib.\n\t42fed3b * lisp/isearch.el (isearch-forward-symbol-at-point): Add isea...\n\n2016-05-01  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\td8affa3 Use \u2018T *restrict\u2019 proto, not \u2018T[restrict]\u2019\n\td38d2a8 Fix documentation of 'url-retrieve-synchronously'\n\t586b213 * lisp/url/url.el (url-retrieve-synchronously): Doc fix.  (Bu...\n\n\t# Conflicts:\n\t#\tdoc/misc/url.texi\n\t#\tlisp/url/url.el\n\n2016-05-01  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\t16e5e8e Fix last change to isearch-update (bug#23406)\n\tb755d98 Autoload cursor-sensor-inhibit (bug#23406)\n\tb52ebd4 org-map-entries: Fix org-agenda-prepare-buffers call\n\t86aa409 Followup for last commit in the user manual\n\t7004459 Improve doc string of 'set-goal-column'\n\tccdaf04 Fix the MSDOS build\n\tffe701c Remove \\= from format string (bug#18190)\n\t1c58fa1 Fix variable-pitch font on MS-Windows\n\tc6077bf Restore follow-scroll-up/down to scrolling by the combined si...\n\tb671e21 Revert unneeded change which harms syntactic parsing.  This f...\n\t48b24c9 Correct indentation of ids in a C++ enum after a protection k...\n\t5c3534f * lisp/window.el (window--process-window-list): No-op if no p...\n\t734fb3a Port dumping to NetBSD with PaX\n\t0255a70 Don't mistake `for' inside a function for a part of array com...\n\n\t# Conflicts:\n\t#\tsrc/Makefile.in\n\n2016-05-01  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\t71fb0e0 Improve last change to vc-git-mode-line-string\n\t6858e77 Todo mode doc bug fix\n\te55d0db Fix revision calculation in vc-git-mode-line-string\n\tca87b34 ; Fix errant revert ccb75d7\n\t40bfebe Add Python 3.5 keyword \"await\"\n\tfa7886a Add new keywords of Python 3.5\n\tccb75d7 Partially revert previous change.\n\t8ee168a ; * etc/NEWS: Update entry about color fonts on OS X with a w...\n\tb09ca27 Say why text-quoting-style is not a user option\n\n2016-05-01  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\t5a952eb Don't mention ~/.emacs.bmk literally in doc strings\n\tc338cf3 * etc/NEWS: Explain why multicolor font display is disabled o...\n\tc30d1b4 Port to Ubuntu 16.04 --enable-gcc-warnings\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMention the `find-library-name' changes\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFix text in menu in minor-mode-menu-from-indicator\n\n\t* lisp/mouse.el (minor-mode-menu-from-indicator): Don't\n\tcapitalize \"Off\" in \"Turn Off\" (bug#11028).\n\n2016-05-01  David Engster  <deng@randomsample.de>\n\n\tgitmerge: Add cherry pick to gitmerge-skip-regexp\n\n\t* admin/gitmerge.el (gitmerge-skip-regexp): Add \"cherry picked\n\tfrom commit\", which is the string appended by 'git cherry-pick\n\t-x'.\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAllow `global-set-key' to bind keys under the `M-o' map\n\n\t* lisp/subr.el (global-set-key): Allow binding keys under the\n\t`M-o' map (bug#9730).\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAdd `size-indication-mode' to the menu on `mouse-1' \"Top\"\n\n\t* lisp/bindings.el (mode-line-column-line-number-mode-map):\n\tAdd `size-indication-mode' to the menu (bug#5727).\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAllow finding libraries loaded manually outside the load-path\n\n\t* lisp/emacs-lisp/find-func.el (find-library--from-load-path):\n\tNew function to find a library from a load path (bug#5661).\n\t(find-library-name): Use it.\n\n\tThere are so many combinations of inputs and possibly entries in\n\t`load-history' that the code looks like an entry in a code obfuscation\n\tcontest.  If anybody has a better implementation, please substitute.\n\n\tBut remember that the input given may be foo, foo.el, foo.elc, and the\n\tentries in load-history may be foo.el, foo.elc and foo.el.gz, and we\n\twant to return only foo.el and foo.el.gz.  *phew*\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAllow minibuffer prompts to use faces\n\n\t* doc/lispref/minibuf.texi (Text from Minibuffer): Document\n\t`minibuffer-prompt-properties' and explain how faces work in\n\tthe minibuffer prompt.\n\n\t* src/minibuf.c (read_minibuf): If `face' is in\n\t`minibuffer-prompt-properties', apply it to the end of the\n\tface list to allow users to have their own faces on the\n\tprompts (bug#16136).\n\n2016-05-01  Peter Feigl  <peter.feigl@nexoid.at>  (tiny change)\n\n\tAdd R7RS syntax forms to scheme.el\n\n\t* lisp/progmodes/scheme.el (scheme-font-lock-keywords-2): Add\n\ta number of special forms introduced in R7RS-small.\n\t* lisp/progmodes/scheme.el (scheme-indent-function): Same.\n\n2016-05-01  Alan Third  <alan@idiocy.org>\n\n\tImplement horizontal scroll bars on NS\n\n\t* lisp/scroll-bar.el (horizontal-scroll-bars-available-p): Remove NS\n\tcheck.\n\t* lisp/term/ns-win.el: Remove custom NS scroll-bar handlers and bind\n\tscroll-bar mouse clicks to standard handlers.\n\t* src/nsterm.h (EmacsScroller): Add 'horizontal' property and rename\n\tpixel_height to pixel_length.\n\t* src/nsterm.m (x_set_window_size): Remove left-hand scroll-bar code. It\n\tcaused scroll-bars to be over-drawn and the best working solution\n\tappears to be complete removal.\n\t(ns_set_horizontal_scroll_bar): Rewrite to handle horizontal scrollers\n\tcorrectly.\n\t(ns_set_vertical_scroll_bar): Set width to actual scroller width.\n\t(setFrame): Handle horizontal case.\n\t(dealloc): Handle horizontal case.\n\t(judge): Handle horizontal case.\n\t(setPosition): Rename pixel_height to pixel_length.\n\t(sendScrollEventAtLoc): Handle horizontal case.\n\t(mouseDown): Handle horizontal case and general tidy up of code.\n\t(mouseDragged): Handle horizontal case. Call sendScrollEventAtLoc with\n\tabsolute pixel size instead of ratio.\n\t* src/window.h: Remove NS check.\n\n2016-05-01  Michael Albinus  <michael.albinus@gmx.de>\n\n\ttramp.texi: Revert last change due to backward compatibility\n\n2016-04-30  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix the buffer-count patch (Bug#23394)\n\n\t* src/buffer.c (Fgenerate_new_buffer_name): Increment count just\n\tonce each time through the loop.  Reported by Lars Ingebrigtsen in:\n\thttps://lists.gnu.org/r/emacs-devel/2016-04/msg00918.html\n\n2016-04-30  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tcua-prefix-override-inhibit-delay doc fix\n\n\t* lisp/emulation/cua-base.el\n\t(cua-prefix-override-inhibit-delay): Typo fix in doc string\n\t(bug#23401).\n\n2016-04-30  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix generate-new-buffer-name increment typo\n\n\tProblem reported by Chaitanya Koparkar (Bug#23394).\n\t* src/buffer.c (Fgenerate_new_buffer_name): Increment count when\n\tgenerating a new buffer.  This fixes a typo I introduced in\n\t2014-04-05T00:04:58Z!eggert@cs.ucla.edu.\n\n2016-04-30  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tglobal-eldoc-mode doc fix\n\n\t* lisp/emacs-lisp/eldoc.el (global-eldoc-mode): Be more\n\tspecific about what \"applicable\" means (bug#23071).\n\n2016-04-30  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMake the legend in describe-categories a link\n\n\t* lisp/help-fns.el (describe-categories): Make the \"see\n\tbottom\" text a link (bug#22227).\n\n2016-04-30  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tnormal-top-level-add-subdirs-to-load-path doc fix\n\n\t* lisp/startup.el (normal-top-level-add-subdirs-to-load-path):\n\tDoc fix (bug#21962).\n\n2016-04-30  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tisearch-search-fun-function doc tweak\n\n\t* lisp/isearch.el (isearch-search-fun-function): Mention what\n\tthe STRING parameter is (bug#21552).\n\n2016-04-30  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFill some imenu--index-alist doc lines\n\n\t* lisp/imenu.el (imenu--index-alist): Fill some doc lines (bug#21269).\n\n2016-04-30  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMake describe-variable look up the variable in the current buffer\n\n\t* lisp/help-fns.el (describe-variable): Get the variable\n\tdefinition in the buffer we were called from (in case it only\n\texists there) (bug#21252).\n\n2016-04-30  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFmarker_position doc string clarification\n\n\t* src/marker.c (Fmarker_position): Clarify the doc string\n\t(bug#21231).\n\n2016-04-30  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFurther define-obsolete-* doc fixups\n\n\t* lisp/emacs-lisp/byte-run.el (define-obsolete-face-alias):\n\tFix up last change.\n\t(define-obsolete-variable-alias): Ditto.\n\n2016-04-30  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDescribe WHEN in all the define-obsolete- macros\n\n\t* lisp/emacs-lisp/byte-run.el (define-obsolete-face-alias):\n\tSay more verbosely what WHEN is (bug#21225).\n\t(define-obsolete-function-alias): Describe the WHEN parameter.\n\t(define-obsolete-variable-alias): Ditto.\n\n2016-04-30  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMention with-silent-modifications in the lispref manual\n\n\t* doc/lispref/text.texi (Changing Properties): Document\n\twith-silent-modifications (bug#21171).\n\n2016-04-30  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\twith-silent-modifications doc clarification\n\n\t* lisp/subr.el (with-silent-modifications): Rearrange the doc\n\tstring a bit so that the most pertinent information is at the\n\ttop (bug#21171).\n\n2016-04-30  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tclear-visited-file-modtime doc string fix\n\n\t* lisp/files.el (clear-visited-file-modtime): Fix possibly\n\tconfusing doc string wording (bug#21169).\n\n2016-04-30  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDocument mode mode line variables\n\n\t* doc/lispref/modes.texi (Mode Line Variables): Document\n\t`mode-line-front-space, `mode-line-misc-info',\n\t`mode-line-end-spaces' (bug#21014).\n\n2016-04-30  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAdd a cross ref to Optional Mode Line\n\n\t* doc/lispref/modes.texi (Mode Line Variables): Add a cross\n\treference to the Emacs mode line node that explains things\n\tlike `display-time-string' (bug#21002).\n\n2016-04-30  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAdd a doc string to display-time-string\n\n\t* lisp/time.el: Add a doc string to `display-time-string',\n\tbecause it's referred to in the manual, and is too mysterious\n\totherwise (bug#21002).\n\n2016-04-30  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tcustom-buffer-style doc fix\n\n\t* lisp/cus-edit.el (custom-buffer-style): Document the `tree'\n\tvalue (bug#20724).\n\n2016-04-30  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDocument how to check for ImageMagick support\n\n\t* doc/lispref/display.texi (ImageMagick Images): Say how to\n\tcheck for ImageMagick support, which isn't quite obvious\n\t(bug#20702).\n\n2016-04-30  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMinor doc fix for ImageMagick/SVG builds\n\n\t* doc/lispref/display.texi (SVG Images): Don't imply that you\n\thave to build Emacs yourself (bug#20702).\n\t(ImageMagick Images): Ditto.\n\n2016-04-30  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRearrange the doc of query-replace slightly\n\n\t* lisp/replace.el (query-replace): Move the mention of the\n\tinteractive prefix arg earlier so that users can find it\n\t(bug#20654).\n\n2016-04-30  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tapropos-print doc fix\n\n\t* lisp/apropos.el (apropos-print): Document the undocumented\n\tparameters (bug#20520).\n\n2016-04-30  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tcompletion-table-with-predicate doc string fix\n\n\t* lisp/minibuffer.el (completion-table-with-predicate): t ->\n\tnon-nil in the doc string (bug#20460).\n\n2016-04-30  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFill the completion-table-with-predicate doc string\n\n\t* lisp/minibuffer.el (completion-table-with-predicate): Fill\n\tthe doc string (bug#20460).\n\n2016-04-30  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\treplace-match-maybe-edit doc clarification\n\n\t* lisp/replace.el (replace-match-maybe-edit): Say what\n\tMATCH-DATA is (bug#20304).\n\n2016-04-30  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tadd-timeout doc fix\n\n\t* lisp/emacs-lisp/timer.el (add-timeout): Mention the return\n\tvalue (bug#20181).\n\n2016-04-30  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tExtremely minor doc fix in Choosing Window\n\n\t* doc/lispref/windows.texi (Choosing Window): There's only one\n\taction alist, I think (bug#20158).\n\n2016-04-30  Alan Mackenzie  <acm@muc.de>\n\n\t* .dir-locals.el: Amend for correct fontification of *.[ch]\n\tcontaining \"IF_LINT\"\n\n2016-04-30  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tTransform mentions of `eval-after-load' to `with-eval-after-load'\n\n\t* doc/lispref/loading.texi (Hooks for Loading): Update text to\n\tnot mention `eval-after-load' (bug#20038).\n\n2016-04-30  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tcursor-type doc fix\n\n\t* src/buffer.c (syms_of_buffer): Mention that cursor-type's\n\tWIDHT/HEIGHT can't exceed the frame char size (bug#19215).\n\n2016-04-30  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAdd a link from Tool Bar to Images\n\n\t* doc/lispref/keymaps.texi (Tool Bar): Add a link to the\n\tImages node (bug#19722).\n\n2016-04-30  Alan Mackenzie  <acm@muc.de>\n\n\tCC Mode: Recognize a noise macro with parens after a declarator's identifier\n\n\t* lisp/progmodes/cc-engine.el (c-forward-decl-or-cast-1): In the while loop\n\tfollowing comment \"Skip over type decl suffix operators.\" insert code also\n\tto check for noise macros with parentheses.\n\n2016-04-30  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\t(default-mode-line-format): More explicit obsolete info\n\n\t* lisp/subr.el (default-mode-line-format): Be more explicit in\n\thow default values are now handled (bug#19424).\n\n2016-04-30  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFcompare_buffer_substrings doc string clarification\n\n\t* src/editfns.c (Fcompare_buffer_substrings): Extremely minor\n\tdoc string clarification (bug#19255).\n\n2016-04-30  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tinsert-file-contents-literally doc fix\n\n\t* lisp/files.el (insert-file-contents-literally): Say that the\n\tparameters are explained in the other function (bug#18317).\n\n2016-04-30  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFix custom types for cursor-in-non-selected-windows\n\n\t* lisp/cus-start.el (standard): Use the same custom types for\n\tcursor-in-non-selected-windows as for cursor-type (bug#19214).\n\n2016-04-30  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDoc clarification to mwheel-scroll\n\n\t* lisp/mwheel.el (mwheel-scroll): Mention that the restriction\n\tdoes not apply to Windows (bug#19209).\n\n2016-04-30  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tClarify the doc of eval-expression-print-format\n\n\t* lisp/simple.el (eval-expression-print-format): Doc\n\tclarification (bug#19114).\n\n2016-04-30  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\t(extended-command-suggest-shorter): Add a version string\n\n\t* lisp/simple.el (extended-command-suggest-shorter): Add a\n\tversion string.\n\n2016-04-30  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDocument extended-command-suggest-shorter\n\n\t* doc/emacs/m-x.texi (M-x): Mention\n\textended-command-suggest-shorter (bug#19152).\n\n2016-04-30  Ivan Shmakov  <ivan@siamics.net>\n\n\tAdd a variable to control \"shorter command\" suggestions\n\n\t* lisp/simple.el (extended-command-suggest-shorter): New variable (bug#19152).\n\t(execute-extended-command): Use it.\n\n2016-04-30  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tExplictly explain that package-initialize loads the packages\n\n\t* lisp/emacs-lisp/package.el (package-initialize): Be explicit\n\tin saying that `package-initialize' obviates adjusting the\n\tpath or requiring the packages, as this is a question that\n\tapparently comes up now and then (bug#18829).\n\n2016-04-30  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tHave the doc strings of `load-path' and `require' mention each other\n\n\t* src/fns.c (Frequire): Mention `load-path' and fill the doc\n\tstring (bug#18829).\n\n\t* src/lread.c (syms_of_lread): Mention that `require' uses\n\t`load-path'.\n\n2016-04-30  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDoc fix for insert-pair-alist\n\n\t* lisp/emacs-lisp/lisp.el (insert-pair-alist): Say what\n\tCOMMAND-CHAR is (bug#18809).\n\n2016-04-30  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMove doc of backup-directory-alist to the Backup node\n\n\t* doc/emacs/files.texi (Backup): Move the documentation of\n\t`backup-directory-alist' here from the \"Single or Numbered\n\tBackups\" node, because it doesn't seem to have much to do with\n\tnumbering (bug#18692).\n\n2016-04-30  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tTiny doc clarification for create-fontset-from-fontset-spec\n\n\t* lisp/international/fontset.el (create-fontset-from-fontset-spec):\n\tClarify what the optional part is (bug#18686).\n\n2016-04-30  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFill the doc string of font-lock-keywords\n\n\t* lisp/font-lock.el (font-lock-keywords): Fill the lines and\n\treorganize some explanations (bug#21427).\n\n2016-04-30  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDoc fix for font-lock-remove-keywords\n\n\t* lisp/font-lock.el (font-lock-remove-keywords): Add a link to\n\t`font-lock-add-keywords' to describe KEYWORDS (bug#18634).\n\n2016-04-30  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tClarify whitespace-style doc string\n\n\t* lisp/whitespace.el (whitespace-style): Doc clarification\n\t(bug#18296).\n\n2016-04-29  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tNo need to test for jka-compr\n\n\t* lisp/vc/ediff-util.el (ediff-file-compressed-p): jka-compr\n\tis always available; no need to test (bug#18204).\n\n2016-04-29  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDoc fixed for next-error-buffer-p\n\n\t* lisp/simple.el (next-error-buffer-p): Clarify doc string\n\t(bug#18202).\n\n2016-04-29  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tTiny doc fix\n\n\t* src/fileio.c (Ffile_accessible_directory_p): Tiny doc fix\n\t(and fill) (bug#18201).\n\n2016-04-29  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDoc fix\n\n\t* src/keymap.c (Fdefine_prefix_command): Clarify doc string\n\tslightly (bug#18092).\n\n2016-04-29  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tdelsel doc touch ups\n\n\t* lisp/delsel.el (delete-selection-helper): Use non-nil\n\tinstead of t and clarify function return values (bug#18089).\n\n2016-04-29  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDoc fixes for menu-bar.el\n\n\t* lisp/menu-bar.el (clipboard-kill-ring-save): Describe the\n\tREGION parameter (bug#18028).\n\t(clipboard-kill-region): Ditto.\n\n2016-04-29  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDoc fix\n\n\t* lisp/rect.el (delete-whitespace-rectangle): Doc fix (bug#18026).\n\n2016-04-29  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMinor doc clarification\n\n\t* lisp/subr.el (y-or-n-p): Document the return value from \"n\"\n\t(bug#18024).\n\n2016-04-29  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFill font-lock-mode doc string\n\n\t* lisp/font-core.el (font-lock-mode): Fill the text to make it\n\tnarrower (bug#18008).\n\n2016-04-29  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tWrap the auto-generated doc string\n\n\t* lisp/emacs-lisp/easy-mmode.el (define-minor-mode): Wrap a\n\tstring to make it less likely that we get overlong lines\n\t(bug#17999).\n\n2016-04-29  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tClarify hi-lock-find-patterns\n\n\t* lisp/hi-lock.el (hi-lock-find-patterns): Doc clarification\n\t(bug#17989).\n\n2016-04-29  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tWarning fix in jit-lock-mode\n\n\t* lisp/jit-lock.el (jit-lock-mode): Don't issue a warning when\n\tturning the mode on in an indirect buffer, if this somehow has\n\thappened (bug#17738).\n\n2016-04-29  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAdd a doc string to `winner-mode'\n\n\t* lisp/winner.el (winner-mode): Add a doc string based on the\n\tcomments in the file (bug#17716).\n\n2016-04-29  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDoc fix for align-newline-and-indent\n\n\t* lisp/align.el (align-newline-and-indent): Mention that\n\talignment is done by `align' (bug#17707).\n\n2016-04-29  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tCancel the eldoc timer when switching off eldoc mode\n\n\t* lisp/emacs-lisp/eldoc.el (eldoc-mode): Cancel the eldoc\n\ttimer when switching off eldoc mode.  It will be restarted\n\tagain if needed (bug#17582).\n\n2016-04-29  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDoc fix for `kbd'\n\n\t* lisp/subr.el (kbd): Describe more fully the format of the\n\tparameter (bug#17039).\n\n2016-04-29  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAdd a sanity check to apropos-documentation-internal\n\n\t* lisp/apropos.el (apropos-documentation-internal): Add a\n\tsanity check to be less fragile in the presence of invalid\n\tdata (bug#16725).\n\n2016-04-29  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDoc tweak\n\n\t* lisp/simple.el (use-empty-active-region): Doc tweak.\n\tThere's only one region (bug#16513).\n\n2016-04-29  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tClarify `read-face-name' doc and tweak the code\n\n\t* lisp/faces.el (read-face-name): Clarify the documentation\n\tand allow a mix of faces and faces names in all cases\n\t(bug#16483).\n\n2016-04-29  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRemove \": ?\" from the read-face-name prompt\n\n\t* lisp/faces.el (read-face-name): Remove \": ?\" from the prompt\n\tto be more backwards compatible (bug#15909).\n\n2016-04-29  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tLink from (emacs)Exiting to (lisp)Killing Emacs\n\n\t* doc/emacs/entering.texi (Exiting): Link to the lispref\n\tmanual for further customizations (bug#15445).\n\n2016-04-29  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tfind-lisp doc touchups\n\n\t* lisp/find-lisp.el (find-lisp-format): Copy over the doc\n\tstring (bug#15047).\n\t(find-lisp-find-files): Clarify doc.\n\n2016-04-29  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDon't have the manual claim that it lists all CL incompatibilities\n\n\t* doc/misc/cl.texi (Common Lisp Compatibility): The list of\n\tincompatibilities isn't exhaustive, so don't say that it is\n\t(bug#15171).\n\n2016-04-29  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFix call of `kmacro-display'\n\n\t* lisp/kmacro.el (kmacro-view-ring-2nd): Fix call of\n\t`kmacro-display' (bug#15020).\n\n2016-04-29  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tChange all occurrences of \"Mouse-[0-9]\" to \"mouse-[0-9]\"\n\n\t* doc/emacs/*.texi: Change all occurrences of \"Mouse-[0-9]\" to\n\t\"mouse-[0-9]\".  These are case sensitive, and the keys are lower case\n\t(bug#14554).\n\n2016-04-28  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRename \"Directory Search\" menu to \"Servers\"\n\n\t* lisp/menu-bar.el (menu-bar-tools-menu): Rename \"Directory\n\tSearch\" to \"Directory Servers\".  Suggested by Eli\n\tZaretskii. (bug#14919).\n\n\t* lisp/net/eudc.el: Rename ditto throughout.\n\n2016-04-28  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRemove uses of the unused to-end parameter from simple.el\n\n\t* lisp/simple.el (line-move-partial): Remove usages of the\n\tunused to-end parameter, and make it optional (bug#14844).\n\t(line-move): Remove use of the unused to-end parameter.\n\n2016-04-28  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDoc fix: _ chars are automatically removed.\n\n\t* lisp/cus-edit.el (custom-buffer-create): _ chars are\n\tautomatically removed when displaying help, so fix the last\n\tdoc change.\n\t(custom-buffer-create-other-window): Ditto.\n\n2016-04-28  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDoc string change to enable-recursive-minibuffers\n\n\t* src/minibuf.c (syms_of_minibuf): Mention\n\tminibuffer-depth-indicator-mode in the doc string to\n\tenable-recursive-minibuffers (bug#14147).\n\n2016-04-28  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFix definition of nobreak-space\n\n\t* lisp/faces.el (nobreak-space): The definition to\n\tnobreak-space was inadvertantly changed by the previous checkin.\n\n2016-04-28  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tClarify the `interactive' doc string slightly\n\n\t* src/callint.c (Finteractive): Clarify the doc string slightly\n\t  (bug#14577).\n\n2016-04-28  Drew Adams  <drew.adams@oracle.com>\n\n\tMake icomplete respect `completion-ignored-extensions'\n\n\t* lisp/icomplete.el (icomplete-completions): Heed\n\t`completion-ignored-extensions' (bug#12939).\n\n2016-04-28  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMake ibuffer not break on newline-embedded buffer names\n\n\t* lisp/ibuffer.el (name): When buffer names contain newlines,\n\tquote those newlines before displaying (bug#12378).\n\n2016-04-28  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAdd a new face for non-breaking hyphen characters\n\n\t* doc/emacs/display.texi (Standard Faces): Mention nobreak-hyphen.\n\t(Text Display): Ditto.\n\n\t* lisp/faces.el (nobreak-hyphen): New face (bug#12048).\n\n\t* src/xdisp.c (get_next_display_element): Use it instead of\n\tthe escape-glyph face.\n\n\t* src/xdisp.c (syms_of_xdisp): New symbil Qnobreak_hyphen.\n\n2016-04-28  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMake a menu less ambiguous\n\n\t* doc/emacs/custom.texi (Key Bindings): The Modifier Keys node\n\tis about using modifier keys, not binding them (bug#10942).\n\n2016-04-28  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMake kill-emacs-query-functions into defcustom\n\n\t* lisp/files.el (save-buffers-kill-terminal): Mention\n\t`save-buffers-kill-emacs' (bug#10794).\n\t(kill-emacs-query-functions): Made into a defcustom.\n\n2016-04-28  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tHave describe-variable output multi-line values better\n\n\t* lisp/help-fns.el (describe-variable): When printing\n\tmulti-line expressions, display them prettier (bug#10723).\n\n2016-04-28  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tClean up custom-buffer-create code slightly\n\n\t* lisp/cus-edit.el (custom-buffer-create-other-window): Don't\n\tpass the unused description value on (for clarity) (bug#10540).\n\t(custom-buffer-create): Ditto\n\n2016-04-28  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tClarify some doc strings\n\n\t* lisp/emacs-lisp/syntax.el (syntax-propertize-via-font-lock):\n\tClarify doc string (bug#8693).\n\t(syntax-propertize): Clarify doc string.\n\n2016-04-28  Nicolas Richard  <theonewiththeevillook@yahoo.fr>\n\n\tFix number-at-point in lisp buffers\n\n\t* lisp/thingatpt.el (number-at-point): Don't say that things\n\tlike ?a are numbers in lisp mode buffers (bug#8634).\n\n2016-04-28  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDon't consider colons to be paragraphs starting chars in strings\n\n\t* lisp/emacs-lisp/lisp-mode.el (lisp-fill-paragraph): Don't\n\tconsider colons to start paragraphs in (doc) strings\n\t(bug#7751).\n\n2016-04-27  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMake `undo' of `C-x r t' put point where it should be\n\n\t* lisp/rect.el (string-rectangle): Make `undo' of a this\n\tcommand put point back where it was (bug#7522).\n\n2016-04-27  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAdd some concept index entries for custom types\n\n\t* doc/lispref/customize.texi (Composite Types): Add concept\n\tindex entries for restricted-sexp, radio and choice (bug#7385).\n\n2016-04-27  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMention `lisp-indent-function' in the lispref manual\n\n\t* doc/lispref/macros.texi (Indenting Macros): Mention\n\t`lisp-indent-function' (bug#3393).\n\n2016-04-27  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tClarify doc string of internal compilation function\n\n\t* lisp/progmodes/compile.el (compilation-get-file-structure):\n\tClarify doc string (bug#3137).\n\n2016-04-27  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAvoid having `C-x h' mark the prompt part of the minibuffer\n\n\t* lisp/simple.el (mark-whole-buffer): Don't mark the prompt\n\tpart of the minibuffer (bug#2589).\n\n2016-04-27  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAllow a prefix argument to find-library to pop to a different window\n\n\t* lisp/emacs-lisp/find-func.el (find-library): Allow a prefix\n\targument to pop to a different window (bug#2270).\n\n2016-04-27  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMove the diff command to \"Operate\" in ibuffer\n\n\t* lisp/ibuffer.el (ibuffer-mode-operate-map): Move the diff\n\tcommand to the \"Operate\" menu, and remove the customization\n\tentry to make the \"View\" menu more logical (bug#1150).\n\n2016-04-27  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMake the minor modes in help buffers into buttons\n\n\t* lisp/help.el (describe-mode): Make the minor modes into\n\tbuttons to enable easier documentation traversal (bug#1149).\n\n2016-04-27  Jorgen Schaefer  <contact@jorgenschaefer.de>\n\n\tAdd a number of Python 3 exceptions\n\n\t* lisp/progmodes/python.el (python-font-lock-keywords): Clean up\n\tthe exception list, adding a number of new Python 3 exceptions and\n\tmoving some exceptions to the Python 2 and 3 list as Python 2.7\n\tincludes them.\n\n2016-04-26  Anders Lindgren  <andlind@gmail.com>\n\n\tFix bug#22891: wrong terminal width when a fringe width is zero.\n\n\tWhen either fringe width is zero, Emacs reserved one column for a\n\tcontinuation glyph. Terminal windows does not take this into\n\taccount when the frame is resized.\n\n\t* lisp/window.el (window-adjust-process-window-size): Use\n\t`window-max-chars-per-line' instead of `window-body-width'.\n\t* lisp/term.el (term-window-width): Remove function. (It does the\n\tsame as `window-max-chars-per-line' but without recent bug fixes.)\n\t(term-mode): Use `window-max-chars-per-line' instead of\n\t`term-window-width'.\n\n2016-04-26  Simen Heggest\u00f8yl  <simenheg@gmail.com>\n\n\tAdd completion of `calc()' in CSS mode\n\n\t* lisp/textmodes/css-mode.el (css-value-class-alist): Add `calc()' as\n\ta completion candidate for several value classes.\n\t(css--value-class-lookup): Return only unique results.\n\n\t* test/lisp/textmodes/css-mode-tests.el\n\t(css-test-property-values-no-duplicates)\n\t(css-test-value-class-lookup): Update to reflect the above changes.\n\n2016-04-26  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix socketd fd startup bug that I introduced\n\n\tProblem reported by Matthew Leach in:\n\thttps://lists.gnu.org/r/emacs-devel/2016-04/msg00778.html\n\t* src/emacs.c (main): Indicate more clearly the coupling between\n\tthe --daemon option and init_process_emacs.\n\t* src/lisp.h: Adjust to API changes.\n\t* src/process.c (set_external_socket_descriptor):\n\tRemove, replacing by ...\n\t(init_process_emacs): ... passing the socket FD here instead.\n\tAll uses changed.\n\n2016-04-25  Tao Fang  <fangtao0901@gmail.com>\n\n\tFix: (void-variable url-http-response-status)\n\n\t* lisp/url/url-http.el\n\t(url-https-proxy-after-change-function): Display the error\n\tmessage before doing the callback to avoid a void variable\n\tsituation (bug#23290).\n\n2016-04-25  Lars Magne Ingebrigtsen  <larsi@gnus.org>\n\n\tsmtpmail would say it's done before it is\n\n\t* lisp/mail/smtpmail.el (smtpmail-via-smtp): Move the sending\n\tof the data end marker from here... (bug#23020).\n\t(smtpmail-send-data): ... to here, so that we don't get a\n\t\"Sending done\" before we've sent the final \".\" (which can make\n\tthe SMPT server reject the email.\n\n2016-04-25  Lars Magne Ingebrigtsen  <larsi@gnus.org>\n\n\t`url-retrieve-synchronously' now takes an optional timeout parameter\n\n\t* doc/misc/url.texi (Retrieving URLs): Document optional parameters.\n\n\t* lisp/url/url.el (url-retrieve-synchronously): Allow passing\n\tin a timeout parameter (bug#22940).\n\n2016-04-25  Lars Magne Ingebrigtsen  <larsi@gnus.org>\n\n\tInclude \"Retype\" as a comint password prompt\n\n\t* lisp/comint.el (comint-password-prompt-regexp): Include\n\t\"Retype\" to catch \"Retype password for [account]:\" from the\n\t\"pass\" utility (bug#22942).\n\n2016-04-25  Alan Mackenzie  <acm@muc.de>\n\n\tFix spurious fontification of \"for (; a * b;)\" in CC Mode.\n\n\t* lisp/progmodes/cc-fonts.el (c-font-lock-declarations): Check for being\n\tinside the parens of a for statement and after a semicolon near the beginning\n\tof the lambda form.\n\n2016-04-25  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tNew function \u2018char-from-name\u2019\n\n\tThis also fixes the mishandling of \"\\N{CJK COMPATIBILITY\n\tIDEOGRAPH-F900}\", \"\\N{VARIATION SELECTOR-1}\", etc.\n\tProblem reported by Eli Zaretskii in:\n\thttps://lists.gnu.org/r/emacs-devel/2016-04/msg00614.html\n\t* doc/lispref/nonascii.texi (Character Codes), etc/NEWS: Document this.\n\t* lisp/international/mule-cmds.el (char-from-name): New function.\n\t(read-char-by-name): Use it.  Document that \"BED\" is treated as\n\ta name, not as a hexadecimal number.  Reject out-of-range integers,\n\tfloating-point numbers, and strings with trailing junk.\n\t* src/lread.c (character_name_to_code): Call char-from-name\n\tinstead of inspecting ucs-names directly, so that we handle\n\tcomputed names like \"VARIATION SELECTOR-1\".  Do not use an auto\n\tstring, since char-from-name might GC.\n\t* test/src/lread-tests.el: Add tests for new behavior, and\n\tfix some old tests that were wrong.\n\n2016-04-25  Alan Mackenzie  <acm@muc.de>\n\n\tc-forward-<>-arglist no longer directly applies face properties in Java Mode.\n\n\tThis allows the calling of c-restore-<>-properties from c-common-init without\n\tthe test suite giving spurious errors.\n\n\t* lisp/progmodes/cc-engine.el (c-forward-<>-arglist): Remove the form that\n\tsets face properties.\n\t(c-forward-<>-arglist-recur): Reformulate the bit that handles types inside\n\ttemplate brackets using c-inside-<>-type-key.  Don't bind\n\tc-record-type-identifiers or c-record-found-types around the recursive call,\n\tallowing positions of found types to flow back to the caller.\n\n\t* lisp/progmodes/cc-langs.el (c-inside-<>-type-kwds, c-inside-<>-type-key):\n\tnew lang consts/var.\n\n\t* lisp/progmodes/cc-mode.el (c-common-init): Don't remove\n\tc-restore-<>-properties from the list of functions called at mode\n\tinitialization.\n\n2016-04-25  Jun Hao  <jun_hao@aol.com>\n\n\tPass in port only if provided by caller in the OS X keychain\n\n\t* lisp/auth-source.el (auth-source-macos-keychain-search): Pass in\n\tport only if provided (bug#23374).\n\n2016-04-25  Alan Mackenzie  <acm@muc.de>\n\n\tAdd fontification for a C declaration which looks like a function call.\n\n\tFor example, \"t1 *fn (t2 *b);\".\n\n\t* lisp/progmodes/cc-engine.el (c-forward-decl-or-cast-1): Add new variable\n\tat-decl-start, setting it to whether the putative decl starts immediately\n\tafter ; or { or }.  Accept such a construct as a decl when at-decl-start is\n\tnon-nil.\n\n\t* lisp/progmodes/cc-langs.el (c-pre-start-tokens): New language variable.\n\n2016-04-25  Eli Zaretskii  <eliz@gnu.org>\n\n\tDon't mirror slashes in convert-standard-filename on MS-Windows\n\n\t* lisp/w32-fns.el (w32-convert-standard-filename): Don't mirror\n\tslashes into backslashes.  This avoids producing ugly file names,\n\tand is deemed no longer necessary, and should certainly be\n\tunrelated to which shell is in use.\n\n2016-04-24  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tRevert the disputed VC change and update the tests\n\n\t* lisp/vc/vc-hooks.el (vc-working-revision):\n\tRemove the previous change.\n\t(vc-state): Same.  And update the old, incorrect comment about\n\tunregistered files\n\t(https://lists.gnu.org/r/emacs-devel/2016-04/msg00526.html).\n\n\t* test/lisp/vc/vc-tests.el (vc-test--state): Remove the check\n\tcalling `vc-state' on default-directory (VC state is undefined\n\tfor directories).  Check that `vc-state' returns nil where it\n\treturned `unregistered' before.  Remove all checks comparing\n\tinvocations with the backend passed in explictly and without.\n\t(vc-test--working-revision): Remove all checks comparing\n\tinvocations with the backend passed in explictly and without.\n\tUpdate comments, and add a new one.\n\n2016-04-24  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* etc/NEWS: Grammar and punctuation improvements.\n\n2016-04-24  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\t9daf1cf * etc/NEWS: Improve wording of vc-git-log-output-coding-syste...\n\t0cd2e92 Don't kill ~/ if it's the top level directory\n\t4f40f5f describe-char: fix insert char documentation\n\t87ee542 (vc-git-mode-line-string): Don't use `replace-regexp-in-string'\n\n2016-04-24  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\t960f90d * etc/AUTHORS: Update the AUTHORS file\n\tb21e9d4 * admin/update_autogen: Use #!/usr/bin/env bash\n\n2016-04-24  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\t78f9af7 ; ChangeLog fixes\n\t162e549 * admin/authors.el (authors-ignored-files): Additions.\n\t2b31a0c In x_set_window_size restore do_pending_window_change calls\n\t401857e Fix Alt-modified keys on some European MS-Windows keyboards\n\ta77cf24 Document 'help-go-forward'\n\t1ba947f Revert \"Allow to customize names of executables used by grep.el\"\n\t570e0fa Revert \"Don't use 'find-program'\"\n\t645f4ef Revert \"Use 'grep-find-program' in check-declare.el\"\n\taa03257 Clarify documentation of 'dired-mark-files-containing-regexp'\n\tce0d8c7 Make tmm-menubar work in correct order again\n\tb8d5a8f Remove the Meta-CVS VC backend\n\n2016-04-24  Simen Heggest\u00f8yl  <simenheg@gmail.com>\n\n\tDon't let `css--property-values' return duplicates\n\n\t* lisp/textmodes/css-mode.el (css--property-values): Don't return\n\tduplicate values.\n\n\t* test/lisp/textmodes/css-mode-tests.el (css-test-property-values):\n\tTake the above into account.\n\t(css-test-property-values-no-duplicates): Test that duplicates aren't\n\treturned by `css--property-values'.\n\n2016-04-24  Lars Magne Ingebrigtsen  <larsi@gnus.org>\n\n\tCall `make-composed-keymap' correctly\n\n\t* lisp/image-mode.el (image-mode-map): Call\n\t`make-composed-keymap' correctly.\n\n2016-04-24  Lars Magne Ingebrigtsen  <larsi@gnus.org>\n\n\tUse `make-composed-keymap' instead of copying the keymap\n\n\t* lisp/image-mode.el (image-mode-map): Use\n\t`make-composed-keymap' instead of copying the keymap.\n\n2016-04-24  Lars Magne Ingebrigtsen  <larsi@gnus.org>\n\n\tMake `q' etc work in image mode again\n\n\t* lisp/image-mode.el (image-mode-map): Restore\n\tspecial-mode-map as the parent keymap of image-mode-map (bug#23167).\n\n2016-04-24  Lars Magne Ingebrigtsen  <larsi@gnus.org>\n\n\tFix typo in last url.texi checkin\n\n2016-04-24  Lars Magne Ingebrigtsen  <larsi@gnus.org>\n\n\tMake STARTTLS error messages better\n\n\t* lisp/net/network-stream.el (network-stream-open-starttls):\n\tOutput a better error message when TLS negotiation fails while\n\tdoing STARTTLS (bug#23027).\n\n2016-04-24  Lars Magne Ingebrigtsen  <larsi@gnus.org>\n\n\tEncode the shr tests files with trailing white space\n\n2016-04-24  Simen Heggest\u00f8yl  <simenheg@gmail.com>\n\n\tCache results of `css--property-values'\n\n\t* lisp/textmodes/css-mode.el (css--property-values): Cache computed\n\tvalues.\n\n\t* test/lisp/textmodes/css-mode-tests.el (css-test-property-value-cache):\n\tNew regression test for the above.\n\n2016-04-24  Michael Albinus  <michael.albinus@gmx.de>\n\n\tSome improvements in vc\n\n\t* lisp/vc/vc-hooks.el (vc-state, vc-working-revision):\n\tCheck, whether FILE is registered.\n\n\t* lisp/vc/vc-rcs.el (vc-rcs-checkout-model): Return `locking'\n\tfor nonexistent files.\n\n\t* test/lisp/vc/vc-tests.el (w32-application-type): Declare.\n\t(vc-test--revision-granularity-function)\n\t(vc-test--unregister-function): Use `vc-call-backend'.\n\t(vc-test--run-maybe-unsupported-function): New defmacro.\n\t(vc-test--register, vc-test--state, vc-test--working-revision)\n\t(vc-test--checkout-model): Use it.  Fix also expected results.\n\t(vc-test-src02-state, vc-test-rcs04-checkout-model): They pass now.\n\n2016-04-24  Lars Magne Ingebrigtsen  <larsi@gnus.org>\n\n\tDocument the nil/default values of url-user-agent\n\n\t* doc/misc/url.texi (Customization): Document the nil/default\n\tvalues of url-user-agent.\n\n2016-04-24  Cl\u00e9ment Pit--Claudel  <clement.pit@gmail.com>\n\n\tCompute User-Agent dynamically in url-http\n\n\t* lisp/url/url-http.el (url-http-user-agent-string): Compute\n\tUser-Agent string dynamically.\n\t(url-http--user-agent-default-string): New function.\n\n\t* lisp/url/url-vars.el (url-privacy-level): Allow `emacs' in list\n\tof information not to send.\n\t(url-user-agent): Add nil and `default' options; do not\n\tpre-compute value.\n\n2016-04-24  Jun Hao  <jun_hao@aol.com>\n\n\tHandle auth-source items with special characters on OS X\n\n\t* lisp/auth-source.el\n\t(auth-source-macos-keychain-search-items): Handle keychain\n\toutput correctly when has special chararcters (bug#22824).\n\n2016-04-24  Magnus Henoch  <magnus.henoch@gmail.com>\n\n\tImplement process-attributes for Darwin\n\n\t* src/sysdep.c (timeval_to_timespec, make_lisp_timeval)\n\t(system_process_attributes): Implement process-attributes\n\tfor Darwin (bug#16579).\n\n2016-04-24  Lars Magne Ingebrigtsen  <larsi@gnus.org>\n\n\tUse Unicode literals instead of hex values\n\n\t* lisp/net/shr.el (shr-tag-bdo): Use Unicode literals instead\n\tof hex values for greater readability.\n\t(shr-tag-bdi): Ditto.\n\n2016-04-24  Steve Purcell  <steve@sanityinc.com>\n\n\tAllow _ characters in SQL prompts\n\n\t* lisp/progmodes/sql.el (sql-product-alist): Allow _\n\tcharacters in SQL prompts (bug#22596).\n\n\tFixes issue 22596, whereby \"_\" is now not considered a word constituent\n\tcharacter in sql-interactive-mode, so prompts like \"foo_dev# \" are not\n\tcorrectly detected. Rather than piggy-back on the symbol table, we\n\texplicitly match against alphanumeric chars or \"_\".\n\n2016-04-23  Glenn Morris  <rgm@gnu.org>\n\n\tWhen autoload-timestamps is nil, use a dummy timestamp rather than \"t\".\n\n\t* lisp/emacs-lisp/autoload.el (autoload--non-timestamp): New constant.\n\t(autoload-generate-file-autoloads, autoload-find-destination)\n\t(update-directory-autoloads): Use autoload--non-timestamp.\n\n2016-04-23  Glenn Morris  <rgm@gnu.org>\n\n\t* test/lisp/xt-mouse-tests.el: Move from test/automated/.\n\n2016-04-22  J\u00f6 Fahlke  <jorrit@jorrit.de>  (tiny change)\n\n\tRegexps for matching CMake output\n\n\t* lisp/progmodes/compile.el (compilation-error-regexp-alist-alist): Add\n\tregexps for matching CMake output.\n\t* test/lisp/progmodes/compile-tests.el (compile-tests--test-regexps-data): Add\n\tCMake test cases.\n\t* etc/compilation.txt (CMake): Add CMake examples.\n\n2016-04-22  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/net/tramp-sh.el (tramp-ssh-controlmaster-options):\n\n\tFix docstring quotes.\n\n2016-04-21  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tImprove character name escapes\n\n\t* doc/lispref/nonascii.texi (Character Properties):\n\tAvoid duplication of Unicode names.  Reformat examples to fit in\n\tnarrow pages.\n\t* doc/lispref/objects.texi (General Escape Syntax):\n\tSimplify and better-organize explanation of \\N{...} escapes.\n\t* src/character.h (CHAR_SURROGATE_PAIR_P): Remove; unused.\n\t(char_surrogate_p): New inline function.\n\t* src/lread.c: Do not include string.h; no longer needed.\n\t(invalid_character_name, check_scalar_value): Remove; the ideas\n\tbehind these functions are now bundled into character_name_to_code.\n\t(character_name_to_code): Remove undocumented support for \"CJK\n\tIDEOGRAPH-XXXX\" names, as \"U+XXXX\" suffices.  Reject monstrosities\n\tlike \"\\N{U+-0}\" and null bytes in \\N escapes.  Reject floating\n\tpoint in \\N escapes instead of returning garbage.  Use\n\tAUTO_STRING_WITH_LEN to lessen pressure on the garbage collector.\n\t* test/src/lread-tests.el (lread-char-number, lread-char-name)\n\t(lread-string-char-number, lread-string-char-name):\n\tTest runtime behavior, not compile-time, as the test framework\n\tis not set up to test compile-time.\n\t(lread-char-surrogate-1, lread-char-surrogate-2)\n\t(lread-char-surrogate-3, lread-char-surrogate-4)\n\t(lread-string-char-number-2, lread-string-char-number-3):\n\tNew tests.\n\t(lread-string-char-number-1): Rename from lread-string-char-number.\n\n2016-04-21  Philipp Stephani  <phst@google.com>\n\n\tUse 'ucs-names' for character name escapes\n\n\t* src/lread.c (invalid_character_name, check_scalar_value)\n\t(parse_code_after_prefix, character_name_to_code): New helper\n\tfunctions that use 'ucs-names' and parsing for CJK ideographs.\n\t(read_escape): Use helper functions.\n\t(syms_of_lread): New symbol 'ucs-names'.\n\t* test/src/lread-tests.el: New tests; fix a couple of bugs in\n\texisting tests.\n\n2016-04-21  Philipp Stephani  <phst@google.com>\n\n\tMinor cleanups for character name escapes\n\n\t* src/lread.c (init_character_names): Add missing 'void'.\n\tRemove top-level 'const'.\n\t(read_escape): Simplify loop a bit.  Remove top-level 'const'.\n\n2016-04-21  Philipp Stephani  <phst@google.com>\n\n\tAdd documentation for character name escapes\n\n2016-04-21  Philipp Stephani  <phst@google.com>\n\n\tImplement named character escapes, similar to Perl\n\n\t* src/lread.c (init_character_names): New function.\n\t(read_escape): Read Perl-style named character escape sequences.\n\t(syms_of_lread): Initialize new variable 'character_names'.\n\t* test/src/lread-tests.el (lread-char-empty-name): Add test file\n\tfor src/lread.c.\n\n2016-04-21  Fabrice Popineau  <fabrice.popineau@gmail.com>\n\n\tAvoid run-time dependency on libwinpthread DLL on MS-Windows\n\n\t* nt/mingw-cfg.site (ac_cv_search_clock_gettime)\n\t(ac_cv_func_clock_gettime, ac_cv_func_clock_settime): Force to not\n\tpresent, so that MinGW64 builds don't depend on libwinpthread.\n\t(Bug#22959)\n\n2016-04-21  Matthew Leach  <matthew@mattleach.net>\n\n\tAdd LIBSYSTEMD to the list of supported features\n\n\t* configure.ac: Add LIBSYSTEMD to EMACS_CONFIG_FEATURES and print a\n\tmessage at the end of configure stating whether Emacs will be build\n\twith libsystemd support.\n\n2016-04-21  Vasilij Schneidermann  <v.schneidermann@gmail.com>\n\n\tSupport absolute column movement in 'ansi-term'\n\n\t* lisp/term.el (term-handle-ansi-escape): Handle the \"\\E[G\" sequence\n\tfor absolute column movement.  (Bug#23303)\n\n2016-04-21  Jorgen Schaefer  <contact@jorgenschaefer.de>\n\n\tAdd Python 3.5 keyword \"await\"\n\n\t* lisp/progmodes/python.el (python-font-lock-keywords): Add await as\n\tkeyword.\n\n2016-04-20  Simen Heggest\u00f8yl  <simenheg@gmail.com>\n\n\tAdd \"keyframes\" to list of CSS at-rules\n\n\t* lisp/textmodes/css-mode.el (css-at-ids): Add \"keyframes\" at-rule.\n\n2016-04-20  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\tPrevent bootstrap autoload backup files\n\n\t* lisp/emacs-lisp/autoload.el (autoload-find-generated-file): Suppress\n\tbackups in newly created file.\n\n\t(autoload-ensure-default-file): Function split into two.\n\t(autoload-ensure-file-writeable): New function from split.\n\n\t(Bug#23203)\n\n2016-04-20  Paul Eggert  <eggert@penguin.cs.ucla.edu>\n\n\tFix org-timestamp-change typo\n\n\tProblem reported by Peter M\u00fcnster (Bug#23299).\n\t* lisp/org/org.el (org-timestamp-change): Fix typo that relied\n\ton undocumented behavior in \u2018encode-time\u2019.  In practice the\n\told code used local time, so use that.\n\n2016-04-19  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tAvoid AC_PREPROC_IFELSE glitch in configure.ac\n\n\tProblem reported by Angelo Graziosi in:\n\thttps://lists.gnu.org/r/emacs-devel/2016-04/msg00545.html\n\t* configure.ac (gl_gcc_warnings): Work around an Autoconf glitch:\n\tAC_PREPROC_IFELSE doesn\u2019t generate a simple shell command.\n\n2016-04-19  Michael Albinus  <michael.albinus@gmx.de>\n\n\tautorevert: Resume with polling if file is deleted\n\n\t* lisp/autorevert.el: Use consistent wording in comments and\n\tdocstrings.\n\t(auto-revert-mode): Add local function to `kill-buffer-hook'.\n\t(auto-revert-notify-handler): Improve handling of `stopped' event.\n\n\t* test/lisp/autorevert-tests.el\n\t(auto-revert-test02-auto-revert-deleted-file): New test.\n\t(auto-revert-test03-auto-revert-tail-mode)\n\t(auto-revert-test04-auto-revert-mode-dired): Rename them.\n\n2016-04-18  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\t5a0cbe5 Fix Bug#23276\n\t2007e32 Sync with upstream vhdl mode v3.38.1.\n\tb6d2552 Tweak configure.ac syntax in recent module patch\n\n2016-04-18  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\tac00a92 Make sh-electric-here-document-mode accessible in sh-mode-hoo...\n\t3287f48 ; Add entry to MAINTAINERS\n\tb85981f * configure.ac (HAVE_MODULES): Exclude gnu-kfreebsd from prev...\n\t0f33284 Make use of rectangle-preview custom variable.\n\taa0d83a Make use of rectangle-preview face.\n\t33bef6e Use 'grep-find-program' in check-declare.el\n\ta8560e5 Improve \"C-h S\" for cl-lib symbols\n\t52e798b Fix minor issues with removing left or right fringes\n\td6ffd64 Speed up redisplay in ansi-term mode\n\t4ab671c Simplify 8-bit character handling by terminal for 'raw-text'\n\tf3653ec * configure.ac (HAVE_MODULES): Treat gnu like gnu-linux.  (Bu...\n\tab849b7 Fix w32 memory-management problem when extending buffer text\n\n2016-04-18  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\t32364bb substitute-command-keys keeps quotes\u2019 text props\n\t567ab52 * src/xwidget.c (x_draw_xwidget_glyph_string): More clipping ...\n\t24b87a1 Add semantic-symref-filepattern-alist entry for lisp-interact...\n\tcc0b713 Perform xref searches without visiting unopened files\n\t5045575 Revert \"Prevent bootstrap autoload backup files\"\n\n2016-04-18  Philipp Stephani  <p.stephani2@gmail.com>\n\n\t* lisp/emacs-lisp/easy-mmode.el (define-minor-mode): Fix docstring\n\n\tso that it matches the actual implementation.\n\tSee https://lists.gnu.org/r/help-gnu-emacs/2016-04/msg00071.html\n\n2016-04-18  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/textmodes/ispell.el: Compile with lexical-binding\n\n\t(declare-function): Don't define any more.\n\t(ispell-check-minver, ispell-looking-back): Tweak definition so that\n\tthe compiler can obviously know that it's always defined.\n\t(ispell-debug-buffer): Declare var.\n\t(ispell-hunspell-fill-dictionary-entry)\n\t(ispell-parse-hunspell-affix-file, ispell-hunspell-add-multi-dic)\n\t(ispell-find-hunspell-dictionaries, ispell-set-spellchecker-params)\n\t(ispell-command-loop): Avoid add-to-list on local variables.\n\n2016-04-17  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMinor fixups for external socket launching\n\n\t* configure.ac (HAVE_LIBSYSTEMD): Change earliest version to 222.\n\t* doc/emacs/misc.texi (Emacs Server):\n\t* etc/NEWS: Spelling and doc fixes.\n\t* src/emacs.c (main) [HAVE_LIBSYSTEMD]:\n\tCheck for sd_is_socket returning positive, not zero.\n\t* src/process.c (external_sock_fd): Instead of initializing here ...\n\t(init_process_emacs): ... initialize it here, so that it does the\n\tright thing after dump/restore.\n\t(connect_network_socket): Simplify socket_to_use test.\n\n2016-04-17  Simen Heggest\u00f8yl  <simenheg@gmail.com>\n\n\tAdd HTML5 tags to HTML mode\n\n\t* lisp/textmodes/sgml-mode.el (html-tag-alist): Add HTML5 tags.\n\t(html-tag-help): Add short descriptions of those tags.\n\n2016-04-17  Lars Magne Ingebrigtsen  <larsi@gnus.org>\n\n\tFinish idna->puny changes in last Message patch\n\n\t* lisp/gnus/message.el (message-idna-to-ascii-rhs-1): Use puny\n\tinstead of idna functions.\n\n2016-04-17  Lars Magne Ingebrigtsen  <larsi@gnus.org>\n\n\tUse puny.el instead of idna.el functions in Gnus\n\n\t* lisp/gnus/gnus-art.el (gnus-use-idna): Default to t (since\n\tEmacs comes with IDNA support built in).\n\t(article-decode-idna-rhs): Use `puny-decode-domain' instead of\n\t`idna-to-unicode'.\n\n\t* lisp/gnus/gnus-sum.el (gnus-summary-idna-message): Ditto.\n\n2016-04-17  Lars Magne Ingebrigtsen  <larsi@gnus.org>\n\n\tMention `message-use-idna' in NEWS\n\n2016-04-17  Lars Magne Ingebrigtsen  <larsi@gnus.org>\n\n\tDefault `message-use-idna' to t\n\n\t* lisp/gnus/message.el (message-use-idna): Default to t (since\n\tEmacs comes with puny.el now).\n\n2016-04-16  Matthew Leach  <matthew@mattleach.net>\n\n\tExtend battery.el to exotic power supply types\n\n\t* lisp/battery.el (battery-linux-sysfs-regexp): Rename from\n\t'battery--linux-sysfs-regexp' and make a defcustom. All users\n\tchanged.  (Bug#23216)\n\n2016-04-16  Matthew Leach  <matthew@mattleach.net>\n\n\tAdd external socket launching support\n\n\t* src/process.c (connect_network_socket): Allow a pre-allocated socket\n\tdescriptor to be used if passed to Emacs, avoiding the call to\n\t'socket' and 'bind'.\n\t(Fmake_network_process): Allow users to pass ':use-external-socket' in\n\tthe parameter plist to use any sockets that have been passed to Emacs.\n\t(wait_reading_process_output): Call 'socket' and 'bind' every time.\n\t(syms_of_process): New symbol ':use-external-socket'.\n\t(set_external_socket_descriptor): New function.\n\t(external_sock_fd): New variable.\n\t* src/lisp.h: (set_external_socket_descriptor): New declaration.\n\t* src/emacs.c (main): Call 'sd_listen_fds' to read the number of sockets\n\tpassed and call 'set_external_socket_descriptor' to set the external\n\tsocket.\n\t* src/Makefile.in: Add libsystemd library and C flags to the Emacs\n\tcompilation options.\n\n\t* configure.ac: Add new default-on option \"systemd\" and check for\n\tlibsystemd at configure time.\n\n\t* lisp/server.el (server-start): Set ':use-external-socket' to 't' when\n\tcalling 'make-network-process'.\n\n\t* etc/NEWS: Document new socket-passing functionality and the configure\n\toption to disable systemd interaction.\n\n\t* doc/emacs/misc.texi (Emacs Server): Document systemd socket passing\n\tfunctionality and provide systemd unit examples.\n\t* doc/lispref/processes.texi (Network Processes): Document new\n\t'make-network-process' option ':use-external-socket'.\n\n2016-04-16  Matthew Leach  <matthew@mattleach.net>\n\n\tDon't spell-check argument of 'cref' TeX macro\n\n\t* lisp/textmodes/ispell.el (ispell-tex-skip-alists): Add the cref\n\tmacro to skip spell-checking the cref macro argument.\n\n2016-04-14  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSimplify use of O_BINARY\n\n\t* src/callproc.c (call_process):\n\t* src/fileio.c (write_region):\n\t* src/filelock.c (read_lock_data):\n\t* src/image.c (x_find_image_fd):\n\t* src/lread.c (openp):\n\t* src/sysdep.c (init_random, emacs_fopen):\n\t* src/unexcw.c (unexec):\n\tOmit unnecessary use of O_BINARY, since emacs_open now arranges\n\tthat for us.\n\n2016-04-14  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* src/indent.c (Fvertical_motion): Pacify GCC\n\n\t5.3.1 20160406 (Red Hat 5.3.1-6) on x86-64.\n\n2016-04-13  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort \u2018./autogen.sh git\u2019 to non-clones\n\n\tProblem reported by Angelo Graziosi in:\n\thttps://lists.gnu.org/r/emacs-devel/2016-04/msg00341.html\n\t* autogen.sh (do_git): Default to false when the arg is \u2018all\u2019 but\n\tthere is no \u2018.git\u2019.\n\t(git_common_dir, hooks): New vars.\n\t(git_config, tailored_hooks, sample_hooks): Use them.\n\n2016-04-13  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDo not require that .git be a directory\n\n\tProblem reportyed by Phillip Lord.\n\t* admin/update_autogen, autogen.sh, build-aux/gitlog-to-emacslog:\n\t* configure.ac, make-dist:\n\tDo not require that .git be a directory, as 'git worktree' makes\n\tit a file and not a directory.\n\n2016-04-12  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tAvoid now-obsolete function gmm-format-time-string\n\n\t* lisp/gnus/message.el (message-insert-formatted-citation-line):\n\tUse format-time-string instead of obsolete function\n\tgmm-format-time-string.\n\n2016-04-12  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSupport OFFSET and (OFFSET ABBR) time zone rules\n\n\tThis simplifies Gnus and VC time zone support, by letting them\n\tfeed the output of \u2018current-time-zone\u2019 and \u2018decode time\u2019 to\n\tprimitives that accept time zone arguments.\n\t* doc/lispref/os.texi (Time Zone Rules, Time Conversion):\n\t* etc/NEWS:\n\t* lisp/gnus/message.el (message-insert-formatted-citation-line):\n\t* lisp/org/org.el (org-timestamp-format):\n\t* src/editfns.c (Fformat_time_string, Fdecode_time):\n\t(Fcurrent_time_string, Fcurrent_time_zone, Fset_time_zone_rule):\n\tDocument new behavior.\n\t* lisp/gnus/gmm-utils.el (gmm-format-time-string):\n\t* lisp/vc/add-log.el (add-log-iso8601-time-zone):\n\tMark as obsolete, as it is now just an alias or narrow wrapper\n\taround format-time-string.\n\t* src/editfns.c (tzlookup): Also support integer OFFSET and\n\tlist (OFFSET ABBR) as time zone rules.\n\t(Fencode_time): No longer need a special case for a cons ZONE.\n\t(Fcurrent_time_zone): If the time zone string is missing, compute\n\tit the same way the other new code does.\n\n2016-04-12  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\tca50981 Improve time zone documentation\n\tc23c965 Prevent bootstrap autoload backup files\n\t9344612 Disable multicolor fonts on OS X since they are not supported...\n\tc41ce1c Capitalize \u201cUniversal Time\u201d in documentation\n\t10597c9 Don't use 'find-program'\n\n2016-04-11  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\tb134c20 Sync with gnulib\n\tbb30fa9 Fix last change on 2016-01-02\n\t488a72f ; Spelling fixes\n\t9b1aab9 Port run-prolog EMACS to SWI-Prolog 7.2.3\n\t0e7bcec Avoid crashes due to unreasonably large or small text scaling\n\t85f257c Improve documentation of 'with-eval-after-load'\n\t668c7bc Improve handling of non-ASCII characters in Git log messages\n\tb570769 Remove undefined behavior in OS X dumper.\n\t97211f3 Fix clipping of xwidgets\n\te87fbc0 Improve Lisp-level documentation of tooltips\n\t9f1786e Faces names should not end in \"-face\".\n\t3283271 * src/xsmfns.c (syms_of_xsmfns): Remove stray \"s in doc strings.\n\ta1f221b Comint and compile no longer set EMACS\n\t5c28890 * lisp/subr.el (read-key): Don't let the prompt linger (bug#2...\n\ta75b9a6 Merge branch 'emacs-25' of git.savannah.gnu.org:/srv/git/emac...\n\tc93ae7a Allow to customize names of executables used by grep.el\n\tf6497c6 Set locale encoding to UTF-8 when run from OS X GUI.\n\t7ad1d07 Avoid signaling errors in 'M-n' at the 'C-x C-f' prompt\n\ta3f1ac2 Avoid infinite loop in 'studlify-word'\n\tf36df4b Don\u2019t recommend obsolete EMACS env var\n\tfb0b531 * lisp/emacs-lisp/package.el: Change from a few days ago need...\n\n2016-04-11  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\t96d9e78 Fix \"Beginning of buffer\" error in forward-page\n\t20686f7 Add a `transient' project type\n\n2016-04-11  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\t80128a7 Fix stability confusion in sort-tests\n\t1e4aa42 Avoid describe-key error with lambdas\n\ta05fb21 * lisp/emacs-lisp/package.el (package-install-selected-packag...\n\tf501116 Sync with gnulib\n\tc4963f9 Fix doc for Universal Time\n\n2016-04-10  Etienne Prud'homme  <e.e.f.prudhomme@gmail.com>  (tiny change)\n\n\tFix alignement rule for CSS\n\n\t* lisp/align.el (align-rules-list): Support CSS properties that have\n\tmultiple words.\n\n2016-04-10  Tassilo Horn  <tsdh@gnu.org>\n\n\tNew custom option for overriding mailcap choices\n\n\t* lisp/net/mailcap.el (mailcap--get-user-mime-data): New function.\n\t(mailcap--set-user-mime-data): New function.\n\t(mailcap-user-mime-data): New customization option.\n\t(mailcap-select-preferred-viewer): New function.\n\t(mailcap-mime-info): Use it.\n\n\t* doc/misc/emacs-mime.texi (mailcap): Document `mailcap-user-mime-data'.\n\n2016-04-10  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix Bug#23207\n\n\t* src/keyboard.c (read_char): Resume idle timers in case of\n\tdbus-event, file-notify-event and config-changed-event.\n\tReported by Johan Claesson <johanclaesson@bredband.net>.  (Bug#23207)\n\n2016-04-09  Michael Albinus  <michael.albinus@gmx.de>\n\n\tAdd vc-backend and vc-responsible-backend tests\n\n\t* lisp/vc/vc-hooks.el (vc-file-setprop, vc-file-getprop)\n\t(vc-file-clearprops): Use properties on absolute files.\n\n\t* test/lisp/vc/vc-tests.el (vc-test--unregister-function):\n\tClear file properties.\n\t(vc-test--register): Add tests for `vc-backend' and\n\t`vc-responsible-backend'.  Catch other errors but `vc-not-supported'.\n\t(vc-test--state, vc-test--checkout-model): Catch other errors\n\tbut `vc-not-supported'.\n\t(vc-test--working-revision): Fix test for RCS and SCCS.  Catch\n\tother errors but `vc-not-supported'.\n\t(vc-test-src02-state): Mark as an expected failure.\n\n2016-04-08  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMinor improvements for hash function primitives\n\n\t* src/fns.c (hashfn_eql): Define in terms of hashfn_equal and\n\thashfn_eq rather than reaching inside them.\n\t(hashtest_eq, hashtest_eql, hashtest_equal):\n\tNow constants with initializers.\n\t(syms_of_fns): Omit no-longer-needed initialization.\n\t* src/lisp.h (LISPSYM_INITIALLY): New macro.\n\t(DEFINE_LISP_SYMBOL): Use it.\n\n2016-04-08  Paul Pogonyshev  <pogonyshev@gmail.com>\n\n\tNew primitives sxhash-eq, sxhash-eql\n\n\t* doc/lispref/hash.texi (Defining Hash), etc/NEWS: Document this.\n\t* lisp/emacs-lisp/byte-opt.el (side-effect-free-fns):\n\tAdd sxhash-equal, sxhash-eq, sxhash-eql.\n\t* lisp/subr.el (sxhash): Now an alias for sxhash-equal.\n\t* src/fns.c (Fsxhash_eq, Fsxhash_eql): New functions.n\n\n2016-04-08  Eli Zaretskii  <eliz@gnu.org>\n\n\tTeach Dired support parallel execution of commands on MS-Windows\n\n\t* lisp/dired-aux.el (dired-shell-stuff-it): Support\n\tparallel-in-background execution of commands on MS-Windows.\n\tTest 'w32-shell-dos-semantics' instead of the underlying OS\n\twhen determining whether addition of 'wait' is needed.\n\n2016-04-08  Tino Calancha  <f92capac@gmail.com>\n\n\tMake 'dired-do-shell-command' wait for all background jobs\n\n\t* lisp/dired-aux.el (dired-shell-stuff-it): Force POSIX shells to\n\twait until all background jobs exit.  (Bug#23206).\n\n2016-04-07  Vivek Dasmohapatra  <vivek@etla.org>\n\n\tPrefer 'font-lock-face to 'face in erc where appropriate\n\n\t* lisp/erc/erc-button.el (erc-button-add-face): Prefer\n\t'font-lock-face to 'face where appropriate.\n\t* lisp/erc/erc-capab.el (erc-capab-identify-add-prefix)\n\t* lisp/erc/erc-dcc.el (erc-dcc-chat-parse-output)\n\t* lisp/erc/erc-goodies.el (erc-controls-propertize)\n\t* lisp/erc/erc-stamp.el (erc-format-timestamp)\n\t* lisp/erc/erc-track.el (erc-faces-in)\n\t* lisp/erc/erc.el (erc-load-irc-script-lines, erc-display-msg)\n\t(erc-display-command, erc-make-notice, erc-highlight-notice)\n\t(erc-format-my-nick, erc-format-@nick, erc-format-privmessage)\n\t(erc-display-prompt, erc-display-message-highlight)\n\t(erc-log-irc-protocol): Ditto.\n\n\t* test/lisp/erc/erc-track-tests.el: Converted asserts into ert\n\ttests.\n\n2016-04-06  Lele Gaifax  <lele@metapensiero.it>\n\n\tAdd new keywords of Python 3.5\n\n\tPython 3.5, released in mid September 2015, introduced a few new\n\tkeywords to better support asynchronous code, \"async\" and \"await\"\n\tin particular. See https://www.python.org/dev/peps/pep-0492/ for\n\tdetails. (Bug#21783)\n\t* lisp/progmodes/python.el (python-rx-constituents): Add async\n\tdef/for/with as block-start and async def as defun.\n\t* lisp/progmodes/python.el (python-font-lock-keywords): Add async\n\tdef/for/with as keyword.\n\t* test/automated/python-tests.el (python-indent-after-async-block-1,\n\tpython-indent-after-async-block-2, python-indent-after-async-block-3,\n\tpython-nav-beginning-of-defun-3): New tests to test indentation and\n\tnavigation for the async keyword.\n\n2016-04-05  Etienne Prud'homme  <e.e.f.prudhomme@gmail.com>  (tiny change)\n\n\tSupport completion of at-rules in SCSS mode\n\n\tlisp/textmodes/css-mode.el (scss-at-ids): New defconst holding\n\tSCSS-specific at-rules.\n\t(css--at-ids): New buffer-local variable holding the list of at-rules\n\tfor the current mode.\n\t(css--complete-at-rule): Retrieve at-rules from `css--at-ids`.\n\t(scss-mode): Set `css--at-ids'.\n\n2016-04-05  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tEnable GCC warnings in developer builds\n\n\tHowever, do not fail; just issue the warnings.  Add an option\n\t--enable-gcc-warnings=warn-only to configure, to implement this.\n\t* INSTALL, etc/NEWS: Document this.\n\t* configure.ac (gl_GCC_VERSION_IFELSE): New macro, from coreutils.\n\t(gl_gcc_warnings, WERROR_CFLAGS): Use it to add new option.\n\tDon\u2019t treat --with-x-toolkit=no as a special case when configuring\n\twarnings.\n\n2016-04-05  Lars Magne Ingebrigtsen  <larsi@gnus.org>\n\n\tInhibit querying for the encoding of the headers when resending\n\n\t* lisp/gnus/message.el (message-resend): Inhibit querying for\n\tthe encoding of the headers when resending.\n\n2016-04-04  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPrefer AUTO_STRING_WITH_LEN to make_formatted_string\n\n\t* src/buffer.c (Fgenerate_new_buffer_name):\n\t* src/filelock.c (get_boot_time):\n\t* src/minibuf.c (get_minibuffer):\n\t* src/process.c (make_process):\n\t* src/xdisp.c (ensure_echo_area_buffers):\n\tPrefer AUTO_STRING_WITH_LEN + sprintf to make_formatted_string\n\twhen either will do.\n\n2016-04-04  Tao Fang  <fangtao0901@gmail.com>\n\n\tAllow URL using HTTPS proxies using CONNECT\n\n\t* lisp/url/url-http.el (url-http-find-free-connection): Allow\n\tusing proxies (bug#11788).\n\t(url-http-end-of-document-sentinel): Ditto.\n\t(url-http): The protocol may change from http to https and\n\tvice versa.\n\t(url-https-proxy-connect): Allow using CONNECT proxies for https.\n\n2016-04-04  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tNew C macro AUTO_STRING_WITH_LEN\n\n\tPut a bit less pressure on the garbage collector by defining a\n\tmacro that is like AUTO_STRING but also allows null bytes in strings,\n\tand by extending AUTO_STRING to work with any unibyte string.\n\t* src/alloc.c (verify_ascii): Remove; all uses removed.\n\tAUTO_STRING can now be used on non-ASCII unibyte strings.\n\t* src/lisp.h (AUTO_STRING): Now allows non-ASCII unibyte strings.\n\t(AUTO_STRING_WITH_LEN): New macro.\n\t* src/coding.c (from_unicode_buffer):\n\t* src/editfns.c (format_time_string):\n\t* src/emacs-module.c (module_make_string, module_format_fun_env):\n\t* src/fileio.c (Fexpand_file_name):\n\t* src/font.c (font_parse_family_registry):\n\t* src/ftfont.c (ftfont_get_charset):\n\t* src/keymap.c (silly_event_symbol_error):\n\t* src/menu.c (single_menu_item):\n\t* src/sysdep.c (system_process_attributes):\n\tUse AUTO_STRING_WITH_LEN if possible.\n\t* src/emacs-module.c (module_make_function):\n\t* src/fileio.c (report_file_errno, report_file_notify_error):\n\t* src/fns.c (Flocale_info):\n\t* src/sysdep.c (system_process_attributes):\n\tUse AUTO_STRING if possible.  This is doable more often now\n\tthat AUTO_STRING works on any unibyte string.\n\n2016-04-04  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort redirect-debugging-output to MS-Windows\n\n\tSuggested by Eli Zaretskii in:\n\thttps://lists.gnu.org/r/emacs-devel/2016-04/msg00037.html\n\t* src/print.c [WINDOWSNT]: Include sys/socket.h.\n\t* src/w32.c (sys_dup2): Work around problem with MS-Windows _dup2.\n\n2016-04-04  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort redirect-debugging-output to non-GNU/Linux\n\n\tProblem reported by Kylie McClain for musl in:\n\thttps://lists.gnu.org/r/emacs-devel/2016-03/msg01592.html\n\t* etc/DEBUG, etc/NEWS: Mention this.\n\t* src/callproc.c (child_setup) [!MSDOS]:\n\t* src/dispnew.c (init_display):\n\t* src/emacs.c (main, Fdaemon_initialized):\n\t* src/minibuf.c (read_minibuf_noninteractive):\n\t* src/regex.c (xmalloc, xrealloc):\n\tPrefer symbolic names like STDERR_FILENO to magic numbers like 2,\n\tto make file-descriptor manipulation easier to follow.\n\t* src/emacs.c (relocate_fd) [!WINDOWSNT]: Remove; no longer needed\n\tnow that we make sure stdin, stdout and stderr are open.  All uses\n\tremoved.\n\t(main): Make sure standard FDs are OK.  Prefer symbolic names like\n\tEXIT_FAILURE to magic numbers like 1.  Use bool for boolean.\n\t* src/lisp.h (init_standard_fds): New decl.\n\t* src/print.c (WITH_REDIRECT_DEBUGGING_OUTPUT) [GNU_LINUX]:\n\tRemove; no longer needed.\n\t(Fredirect_debugging_output): Define on all platforms, not just\n\tGNU/Linux.  Redirect file descriptor, not stream, so that the code\n\tworks even if stderr is not an lvalue.  Report an error if the\n\tfile arg is neither a string nor nil.\n\t(syms_of_print): Always define redirect-debugging-output.\n\t* src/sysdep.c (force_open, init_standard_fds): New functions.\n\n2016-04-03  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSpelling fixes\n\n2016-04-03  John Wiegley  <johnw@newartisans.com>\n\n\tRevert \"Add `r'/`l' grep command history commands\"\n\n\tThis reverts commit a32eea60ac90d367435860fe3a10bf843e6f497c.\n\n2016-04-03  John Wiegley  <johnw@newartisans.com>\n\n\tRevert \"Restore the point in grep buffers when traversing the history\"\n\n\tThis reverts commit f7c5f79ca565d3ef3feeb1e0af5ca261f1bcf58a.\n\n2016-04-03  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\t787df9d ; * src/keyboard.c (read_char): Fix typos in a comment.\n\n2016-04-03  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\tb787d55 More format-time-string change fixups\n\t13c8f29 make-xwidget unused arg cleanup\n\t36e05f0 Remove unused arguments from make-xwidget\n\t1042217 Document incompatible changes in 'format-time-string'\n\t7228eb8 Improve documentation of byte-code objects\n\t0020047 Adapt calls to 'format-time-string' to changes in Emacs 25\n\t17b5152 Improve vc-diff with Git backend\n\tc28f87a (js--continued-expression-p): Special-case unary plus and minus\n\t2d02a5f ; * lisp/vc/vc-annotate.el (vc-annotate): Clarify commentary.\n\t9151f16 Prevent C++ Mode wrongly fontifying some identifiers near tem...\n\tb3b523c Avoid crashes due to insanely large columns in tabulated-list...\n\ta3daa34 Teach M-x disassemble a default argument.\n\te30c3e9 Fix EOL decoding in vc-annotate with SVN back-end on MS-Windows\n\tdf441b3 Fix OS X specific settings in tramp-tests\n\t2244331 Finish fixing a cacheing bug in CC Mode (see 2016-03-09)\n\n\t# Conflicts:\n\t#\tlisp/net/tramp-sh.el\n\t#\tlisp/progmodes/cc-engine.el\n\n2016-04-03  Lars Magne Ingebrigtsen  <larsi@gnus.org>\n\n\tRestore the point in grep buffers when traversing the history\n\n\t* lisp/progmodes/grep.el (grep-process-setup): Allow moving\n\tpoint to a specific place after finishing the grep command.\n\t(grep-mode): Use it to restore point after traversing the history.\n\t(grep--history-point): New internal variable.\n\t(grep--save-history, grep-forward-history): Use it to restore\n\tthe point.\n\n2016-04-03  Lars Magne Ingebrigtsen  <larsi@gnus.org>\n\n\tAdd `r'/`l' grep command history commands\n\n\t* doc/emacs/building.texi (Grep Searching): Mention the\n\t`r'/`l' commands.\n\n\t* lisp/progmodes/grep.el (grep-forward-history): New command.\n\t(grep-backward-history): Ditto.\n\t(grep--save-buffers): New function.\n\t(grep): Use it to record the history.\n\t(grep--command-history, grep--history-inhibit)\n\t(grep--history-place): New internal variables for the grep\n\thistory (bug#22627).\n\n2016-04-03  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix Bug#23186, again\n\n\t* lisp/net/tramp.el (tramp-encoding-shell)\n\t(tramp-encoding-command-switch)\n\t(tramp-encoding-command-interactive): Check for\n\t`w32-shell-name'.  (Bug#23186)\n\n2016-04-03  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix Bug#23186\n\n\t* lisp/net/tramp.el (tramp-encoding-command-switch)\n\t(tramp-encoding-command-interactive):\n\t* lisp/net/tramp-sh.el (tramp-maybe-open-connection):\n\t`tramp-encoding-shell' could be nil.  (Bug#23186)\n\n2016-04-03  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix Bug#22145\n\n\t* lisp/net/tramp-cache.el (tramp-get-connection-property)\n\t(tramp-set-connection-property, tramp-connection-property-p)\n\t(tramp-flush-connection-property): Improve docstring.\n\n\t* lisp/net/tramp-sh.el (tramp-maybe-open-connection): Use it.\n\n\t* lisp/net/tramp.el (tramp-get-local-locale): New defun.\n\n\t* test/automated/tramp-tests.el (tramp--test-utf8):\n\tImprove settings of coding systems.  (Bug#22145)\n\n2016-04-02  John Wiegley  <johnw@newartisans.com>\n\n\tMerge from origin/emacs-25\n\n\t7c1802f * doc/lispref/text.texi (Columns): Remove a nonexistent refer...\n\t9034c50 * doc/man/emacsclient.1: Document +line:column option.\n\t06495c9 Fix rare problems with echo-area display and multiple frames\n\tf99b512 In M-%, avoid making buffer-local binding of text-property-de...\n\n2016-04-02  John Wiegley  <johnw@newartisans.com>\n\n\tMerge from origin/emacs-25\n\n\te65c307 * src/font.c (QCuser_spec): Add missing colon to :user-spec.\n\tc8b868b Don't start the 'midnight' timer twice\n\t278c8a7 * src/xwidget.c (Fxwidget_resize): Fix inappropriate use of X...\n\te5c17f4 Fix todo-mode category movement\n\tbc70fda * lisp/xt-mouse.el (xterm-mouse-utf-8): Add :version.\n\tcf40f38 Ignore non-nil. non-cons values of unread-command-events\n\t8ee4c52 Improve documentatuon of 'truncate-partial-width-windows'\n\tfb9a62c * src/ftfont.c (ftfont_shape_by_flt): Parenthesize as per GNU...\n\t1e1ea22 Fix 'dired-goto-file' in Dired buffers produced by find-dired\n\t3a13472 Fix map-put and map-delete for alists (Bug#23105)\n\t422c3da Minor copyedits of documentation for temporary displays\n\t90fb9b3 Add customization option for using UTF-8 coordinates in xt-mouse\n\tf14d463 Minor doc string fixes in replace.el\n\te70ee9d Fix scrolling upwards with 'xwidget-webkit-browse-url'\n\t44782de Fix display of Indic scripts\n\t326c64f Fix splash screen display at startup\n\t7ab2a97 ; In NEWS mention new display of minibuffer completions window\n\ta1cd84c Describe temporary displays in Emacs manual\n\t5ec1056 Avoid stray As next to IDLW icons\n\t45577d5 Avoid GTK 3 crash with icons and masks\n\te99ff6e * lisp/minibuffer.el (minibuffer-completion-help): Use fit-wi...\n\t077b78c Define make_save_ptr_ptr unconditionally\n\t20a1003 Preserve current buffer when popping up TTY menus\n\t7eba90c Improve font selection by family on MS-Windows\n\t73d213f Comint, term, and compile now set EMACS\n\t9524ec5 Ignore more merges when generating ChangeLog\n\tad250f2 Sync with gnulib\n\tc0165ea Resurrect GNUS-NEWS autogeneration\n\t1e5327c ; Backport ChangeLog.2 fixes from master\n\te643977 Make `toggle-frame-maximized' respect the dock on OS X (bug#2...\n\t38a43f1 Fix bug in displaying header line with a box face\n\t91e6676 Fix an Isearch var to be a string (Bug#23038)\n\t76ef522 Fix (args-out-of-range 1) error in cursor-sensor--detect\n\t8a35f83 Render empty <ul><li><ul> correctly\n\td8b2ce5 Ignore invalid base64 encoded embedded images\n\t52ba24b Fix <p> and <div> newlines with or without <li> in shr\n\tb8ea08b Avoid errors in 'newline'\n\tfc3cd53 Fix Bug#23032\n\tdd2737b Adjudicate review comments in abbrevs.texi\n\t26f9c50 Fixup the \"normal\" matcher; highlight global var symbols, too\n\t413e73b ; Small theme additions\n\tcd950da Honor prefix arg in doc-view-next-line-or-next-page\n\ted909c0 ; Spelling fixes\n\t6da3a6d Port to strict C99 offsetof\n\tde7601f Port to GTK with strict C11 compiler\n\t658aa2d Port to GTK with strict C99 compiler\n\t1df7173 Avoid screen artifacts with new OS X visible bell after scrol...\n\t7a2edd3 Merge branch 'emacs-25' of git.sv.gnu.org:/srv/git/emacs into...\n\tdca240a Suppress some Tramp tests for OSX, do not merge with master\n\t9094304 * lisp/progmodes/xref.el (xref-buffer-name, xref--window): Mo...\n\tcbedfc2 * lisp/gnus/mm-decode.el (gnus-format-message): Autoload it.\n\t005ac7c * lisp/mail/rmail.el (rmail-mime-entity-truncated): Declare.\n\t9ab03f2 ; Auto-commit of loaddefs files.\n\t56df617 Address compilation warnings due to 2016-01-03 mml refactoring.\n\ta1ef911 * lisp/emacs-lisp/smie.el (smie-indent-keyword): Don't burp i...\n\t79ae7fb * lisp/dired-x.el (dired-omit-here-always): Correct error mes...\n\t253929f * lisp/dired-x.el (dired-omit-here-always): Replace undefined...\n\tce53389 * lisp/xml.el (xml-parse-tag-1): Replace undefined function.\n\td6d164f Avoid segfaults due to frame image cache being absent\n\tbc7f6f6 Improve documentation of glyphless-character display\n\t6b6916e ; * src/xdisp.c (with_echo_area_buffer): Fix typos in comments.\n\tee9a1f7 Support safe navigation operator in non-SMIE indentation code\n\tc3ed95b Move xsd:base64Binary decoding fix to debbugs.el 0.9.1\n\t2036be4 Fix Ruby's operator precedence\n\t1d686c2 (ruby-interpolation-inside-another-interpolation): New failin...\n\t7950e1d Port to clang 3.7.0 on x86-64\n\t218ae59 * test/automated/package-test.el (package-test-signed): Tweak...\n\tba33b7c Sync with gnulib\n\t38b276d Fix startup of \"emacs -nw\" on systems that CANNOT_DUMP\n\tdbfbedd Do not tokenize a comment before continuation as ';'\n\t0403620 Don't misindent arguments of a method call inside continuation\n\te6776f8 * src/keyboard.c (echo_keystrokes_p): Don't test cursor_in_ec...\n\t8475f3d ASCII-only etc/NEWS etc.\n\t5cc6919 Fix a cacheing bug, which led to inordinately slow c-beginnin...\n\t0ce37ea Fix Isearch prompt when invoked with an argument\n\tf3033d4 Fix a typo in the Emacs manual\n\t4235d2d Curved quotes in etc/NEWS etc.\n\t26b56dc Fix some single quotes in documentation\n\t80ec484 Make lisp-completion-at-point's argument optional\n\t9d463ae Tweak the left precedence of '=>'\n\t5b705bc Indent '.' relative to the first sibling expression\n\t04f5525 Make '.' associative, for easier sexp navigation\n\tba24c99 Revert \"Simplify \"Visit New File\" to \"New File\"\"\n\n2016-04-02  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/erc/erc-backend.el: Use lexical-binding. Silence byte-compiler\n\n\tUse #' to quote functions.\n\t(erc-server-delayed-reconnect): Remove unused arg `event'.\n\t(erc-process-sentinel-2): Adjust accordingly.\n\tDon't pass `err' to condition-case if we don't use it.\n\t(define-erc-response-handler): Use add-hook rather than add-to-list.\n\t(NICK): Use cl-pushnew rather than add-to-list.\n\t(331): Remove unused var `topic'.\n\t(352): Remove unused var `hopcount'.\n\n2016-04-02  Paul Pogonyshev  <pogonyshev@gmail.com>\n\n\tSupport macros in 'func-arity'\n\n\t* src/eval.c (Ffunc_arity): Support Lisp macros as well.\n\n2016-04-02  Andy Moreton  <andrewjmoreton@gmail.com>\n\n\tFix compilation of Cygwin w32 port\n\n\t* src/w32xfns.c (init_crit, delete_crit) [HAVE_W32NOTIFY]: Only\n\tinitialize and free the notification set if compiling with\n\tw32notify feature.\n\n2016-04-01  Paul Eggert  <eggert@penguin.cs.ucla.edu>\n\n\tFix resize incompatibility with GTK+ master\n\n\tProblem reported by Matthias Clasen (Bug#23144).\n\t* src/xterm.c (handle_one_xevent) [USE_GTK]:\n\tDo not call xg_frame_resized.\n\n2016-04-01  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix check for subscript errors in module calls\n\n\t* src/emacs-module.c (check_vec_index): New function.\n\t(module_vec_set, module_vec_get): Use it instead of a\n\tnot-strict-enough check.\n\n2016-03-31  Simen Heggest\u00f8yl  <simenheg@gmail.com>\n\n\tSupport completion of bang-rules in CSS mode\n\n\tlisp/textmodes/css-mode.el (css--bang-ids): New buffer-local variable\n\tholding the list of bang-rules for the current mode.\n\t(css--font-lock-keywords): Retrieve bang-rules from `css--bang-ids'\n\tinstead of computing them.\n\t(css--complete-bang-rule): New function for completing a bang-rule.\n\t(css-completion-at-point): Add support for completing bang-rules.\n\t(scss-font-lock-keywords): Change from a variable to a function in\n\torder to recompute `css--font-lock-keywords' when `css--bang-ids' has\n\tchanged.\n\t(scss-mode): Set `css--bang-ids' and recompute font-lock keywords.\n\n2016-03-30  Simen Heggest\u00f8yl  <simenheg@gmail.com>\n\n\tAdd HTML4 tags to HTML mode\n\n\t* lisp/textmodes/sgml-mode.el (html-tag-alist): Add HTML4 tags.\n\t(html-tag-help): Add short descriptions of those tags.\n\n2016-03-29  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPacify --enable-gcc-warnings for buffer-hash etc.\n\n\t* src/fns.c (make_digest_string): Now static.\n\t(secure_hash): Omit unused local.\n\n2016-03-29  Oleh Krehel  <ohwoeowho@gmail.com>\n\n\tAdd support for 7z archives\n\n\t* lisp/dired-aux.el (dired-compress-file-suffixes): \"Z\" should now\n\t  also work with 7z archives.\n\n\tThe shell command should produce a single extracted directory named\n\tafter the archive's name.\n\n\tIn case the extracted directory exists, all files will be overwritten\n\twithout a prompt. This matches the expected behavior with the \"tar.gz\"\n\tarchives.\n\n2016-03-29  Nicolas Petton  <nicolas@petton.fr>\n\n\t* lisp/emacs-lisp/seq.el: Require cl-lib instead of cl-extra\n\n2016-03-29  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix typo in network-stream-tests.el\n\n\t* test/lisp/net/network-stream-tests.el\n\t(connect-to-tls-ipv6-nowait): Fix typo.\n\n2016-03-29  Nicolas Petton  <nicolas@petton.fr>\n\n\tNew function seq-sort-by in seq.el\n\n\t* lisp/emacs-lisp/seq.el (seq-sort-by): New function.\n\t* test/lisp/emacs-lisp/seq-tests.el: New test for seq-sort-by.\n\t* doc/lispref/sequences.texi: Add documentation for seq-sort-by.\n\n2016-03-28  Lars Magne Ingebrigtsen  <larsi@gnus.org>\n\n\tMention the `M-q' changes\n\n2016-03-28  Lars Magne Ingebrigtsen  <larsi@gnus.org>\n\n\tHave `M-q' not mark buffers are changed when they haven't\n\n\t* lisp/textmodes/fill.el (fill-paragraph): Use `buffer-hash'\n\tto avoid marking buffers as changed when they haven't.\n\n2016-03-28  Lars Magne Ingebrigtsen  <larsi@gnus.org>\n\n\tAdd a new function `buffer-hash'\n\n\t* doc/lispref/text.texi (Checksum/Hash): Document `buffer-hash'.\n\n\t* src/fns.c (Fbuffer_hash): New function.\n\t(make_digest_string): Refactored out into its own function.\n\t(secure_hash): Use it.\n\n\t* test/src/fns-tests.el (fns-tests-hash-buffer): New tests.\n\n2016-03-27  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRename C names to match Lisp symbols better\n\n\tThis was inspired by commit e65c3079c65595d95749348366af9811fafff062,\n\twhich fixed a bug where the C name for a symbol disagreed with the\n\tsymbol name itself.  Fix other instances of disagreements that I found.\n\tAlthough this doesn\u2019t fix a bug, it should make code easier to follow.\n\tThe remaining disagreements are idiosyncratic: Qminus, Qplus,\n\tQsans__serif, Qbackquote, Qcomma, Qcomma_at, Qcomma_dot.\n\tAll uses changed.\n\t* src/alloc.c (QAutomatic_GC): Rename from Qautomatic_gc.\n\t* src/dbusbind.c (QCsystem): Rename from QCdbus_system_bus.\n\t(QCsession): Rename from QCdbus_session_bus.\n\t(QCtimeout): Rename from QCdbus_timeout.\n\t(QCbyte): Rename from QCdbus_type_byte.\n\t(QCboolean): Rename from QCdbus_type_boolean.\n\t(QCint16): Rename from QCdbus_type_int16.\n\t(QCuint16): Rename from QCdbus_type_uint16.\n\t(QCint32): Rename from QCdbus_type_int32.\n\t(QCuint32): Rename from QCdbus_type_uint32.\n\t(QCint64): Rename from QCdbus_type_int64.\n\t(QCuint64): Rename from QCdbus_type_uint64.\n\t(QCdouble): Rename from QCdbus_type_double.\n\t(QCstring): Rename from QCdbus_type_string.\n\t(QCobject_path): Rename from QCdbus_type_object_path.\n\t(QCsignature): Rename from QCdbus_type_signature.\n\t(QCunix_fd): Rename from QCdbus_type_unix_fd.\n\t(QCarray): Rename from QCdbus_type_array.\n\t(QCvariant): Rename from QCdbus_type_variant.\n\t(QCstruct): Rename from QCdbus_type_struct.\n\t(QCdict_entry): Rename from QCdbus_type_dict_entry.\n\t(QCserial): Rename from QCdbus_registered_serial.\n\t(QCmethod): Rename from QCdbus_registered_method.\n\t(QCsignal): Rename from QCdbus_registered_signal.\n\t* src/emacs-module.c (Qinternal__module_call):\n\tRename from Qinternal_module_call.\n\t* src/frame.c (Qwindow__pixel_to_total):\n\tRename from Qwindow_pixel_to_total.\n\t* src/gnutls.c (QChostname): Rename from QCgnutls_bootprop_hostname.\n\t(QCpriority): Rename from QCgnutls_bootprop_priority.\n\t(QCtrustfiles): Rename from QCgnutls_bootprop_trustfiles.\n\t(QCkeylist): Rename from QCgnutls_bootprop_keylist.\n\t(QCcrlfiles): Rename from QCgnutls_bootprop_crlfiles.\n\t(QCmin_prime_bits): Rename from QCgnutls_bootprop_min_prime_bits.\n\t(QCloglevel): Rename from QCgnutls_bootprop_loglevel.\n\t(QCcomplete_negotiation): Rename from QCgnutls_complete_negotiation.\n\t(QCverify_flags): Rename from QCgnutls_bootprop_verify_flags.\n\t(QCverify_error): Rename from QCgnutls_bootprop_verify_error.\n\t* src/w32fns.c (Qfont_parameter): Rename from Qfont_param.\n\t(Qgnutls): Rename from Qgnutls_dll.\n\t(Qlibxml2): Rename from Qlibxml2_dll.\n\t(Qzlib): Rename from Qzlib_dll.\n\t* src/w32select.c (Qutf_16le_dos): Rename from QUNICODE.\n\t* src/window.c (Qwindow__resize_root_window):\n\tRename from Qwindow_resize_root_window.\n\t(Qwindow__resize_root_window_vertically):\n\tRename from Qwindow_resize_root_window_vertically.\n\t(Qwindow__sanitize_window_sizes):\n\tRename from Qwindow_sanitize_window_sizes.\n\t(Qwindow__pixel_to_total): Rename from Qwindow_pixel_to_total.\n\t* src/xdisp.c (Qredisplay_internal_xC_functionx):\n\tRename from Qredisplay_internal.\n\t* src/xfns.c (Qfont_parameter): Rename from Qfont_param.\n\t* src/xselect.c (Q_EMACS_TMP_): Rename from QEMACS_TMP.\n\n2016-03-26  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tfunc-arity minor improvements\n\n\t* src/bytecode.c (get_byte_code_arity): Omit unnecessary\n\truntime test for integer argument, unless debugging.\n\tUse EMACS_INT for Emacs integers.\n\t* src/eval.c (Ffunc_arity): Omit unused locals.\n\tAvoid side effects in \u2018if\u2019 expr.\n\t(lambda_arity): Use bool for boolean, and EMACS_INT for Emacs ints.\n\n2016-03-26  John Wiegley  <johnw@newartisans.com>\n\n\tRestore the fix to bug#18527 from commit d6868025\n\n2016-03-26  Martin Rudalics  <rudalics@gmx.at>\n\n\tSafely run window size change functions\n\n\t* src/window.c (run_window_size_change_functions): Use\n\tsafe_call1 when running a size change function.\n\t(grow_mini_window, shrink_mini_window): Report error when\n\tminibuffer window cannot be resized.\n\n2016-03-26  Paul Pogonyshev  <pogonyshev@gmail.com>\n\n\tImplement 'func-arity'\n\n\t* src/eval.c (Ffunc_arity, lambda_arity): New functions.\n\t* src/bytecode.c (get_byte_code_arity): New function.\n\t* src/lisp.h (get_byte_code_arity): Add prototype.\n\n\t* doc/lispref/functions.texi (What Is a Function): Document\n\t'func-arity'.\n\n\t* etc/NEWS: Mention 'func-arity'.\n\n\t* test/src/fns-tests.el (fns-tests-func-arity): New test set.\n\n2016-03-25  Alan Mackenzie  <acm@muc.de>\n\n\tFix absence of c-noise-macro-name-re, etc., in languages which don't use it\n\n\t* lisp/progmodes/cc-engine.el (c-forward-keyword-prefixed-id, c-forward-type)\n\t(c-forward-declarator, c-forward-decl-or-cast-1, c-backward-over-enum-header)\n\t(c-guess-basic-syntax): Check c-opt-cpp-prefix before `looking-at'\n\tc-noise-macro-with-parens-name-re.\n\n\t* lisp/progmodes/cc-fonts.el (c-complex-decl-matchers): The same as for\n\tcc-engine.el.\n\n\t* lisp/progmodes/cc-mode.el (c-basic-common-init): Add call to\n\t`c-make-noise-macro-regexps'.\n\t(c-mode, c++-mode, objc-mode): Remove calls to `c-make-noise-macro-regexps'.\n\n\t* lisp/progmodes/cc-vars.el (c-noise-macro-with-parens-name-re)\n\t(c-noise-macro-with-re): Initialize to \"\\\\<\\\\>\" rather than nil.\n\n2016-03-25  Lars Magne Ingebrigtsen  <larsi@gnus.org>\n\n\t(shr-insert): Respect non-breaking space in non-<pre> text\n\n\t* lisp/net/shr.el (shr-insert): Respect non-breaking space in\n\tnon-<pre> text.\n\n2016-03-25  Lars Magne Ingebrigtsen  <larsi@gnus.org>\n\n\tparse-times-string doc string clarification\n\n\t* lisp/calendar/parse-time.el (parse-time-string): Note that\n\twe accept RFC2822 strings.\n\n2016-03-25  Marcin Borkowski  <mbork@mbork.pl>\n\n\tDoc string fix\n\n\t* lisp/calendar/parse-time.el (parse-time-tokenize): Clarify\n\tdoc string and clean up code.\n\n2016-03-25  Michael Albinus  <michael.albinus@gmx.de>\n\n\tCleanup file notification code in Tramp\n\n\t* lisp/net/tramp-sh.el (tramp-sh-handle-file-notify-add-watch):\n\tMake `events' a list of symbols for \"inotifywait\".\n\t(tramp-sh-gvfs-monitor-dir-process-filter): Make event a list.\n\tCall `file-notify-handle-event' for better traces.\n\t(tramp-sh-inotifywait-process-filter): Check for expected events.\n\tCall `file-notify-handle-event' for better traces.\n\n2016-03-24  Michael Albinus  <michael.albinus@gmx.de>\n\n\tAdapt filenotify-tests.el according latest tests\n\n\t* test/lisp/filenotify-tests.el (file-notify-test02-events)\n\t(file-notify-test04-file-validity, file-notify-test05-dir-validity):\n\tRemove superfluous `read-event' calls.\n\t(file-notify-test02-events): Expect different events under MS\n\tWindows 7 and 10.\n\t(file-notify-test04-file-validity): Move `file-notify-valid-p'\n\tcheck up.\n\n2016-03-23  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\tad250f2 Sync with gnulib\n\tc0165ea Resurrect GNUS-NEWS autogeneration\n\n\t# Conflicts:\n\t#\tetc/GNUS-NEWS\n\t#\tlisp/Makefile.in\n\n2016-03-23  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\te643977 Make `toggle-frame-maximized' respect the dock on OS X (bug#2...\n\t38a43f1 Fix bug in displaying header line with a box face\n\n2016-03-23  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* etc/NEWS: Use straight quotes.\n\n2016-03-23  Simen Heggest\u00f8yl  <simenheg@gmail.com>\n\n\tSupport completion of attribute values in CSS mode\n\n\t* lisp/textmodes/css-mode.el (css-property-alist): New defconst\n\tholding CSS identifiers and the values they can have.\n\t(css-property-ids): Compute dynamically from `css-property-alist'.\n\t(css-value-class-alist): New defconst holding property value classes\n\tand their values.\n\t(css--property-value-cache): New variable providing a cache for\n\t`css--property-values'.\n\t(css--value-class-lookup): New function for computing a list of values\n\tin a value class.\n\t(css--property-values): New function for computing a list of possible\n\tvalues for a CSS property.\n\t(css--complete-property-value): New function for completing a property\n\tvalue.\n\t(css-completion-at-point): Add support for completing property values.\n\t* test/lisp/textmodes/css-mode-tests.el: New file.\n\n2016-03-22  Wilson Snyder  <wsnyder@wsnyder.org>\n\n\tSync with verilog-mode development tree.\n\n\t* lisp/progmodes/verilog-mode.el (verilog-imenu-generic-expression,\n\tverilog-speedbar-initialize): Automatically add verilog-mode\n\textensions when in speedbar mode, bug1045, bug1046.  Reported by\n\tDavid Shleifman.\n\t(verilog-mode-map): Move `verilog-star-comment' from M-* to C-c/ to\n\tavoid conflict with `pop-tag-mark'. Reported by Ian Perryman.\n\t(verilog-read-always-signals-recurse): Fix :: notation for\n\tauto-reset signals.  Reported by Andrew Jones.\n\t(verilog-font-lock-grouping-keywords-face): Fix highlighting of\n\tgrouping keywords, bug1002. Reported by Paul Sargent.\n\t(verilog-save-font-no-change-functions): Commentary and fix\n\tpre-Emacs 21 behavior.\n\n2016-03-22  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tCompute a better commit message for merges\n\n\tProblem reported by David Engster in:\n\thttps://lists.gnu.org/r/emacs-devel/2016-03/msg01270.html\n\t* admin/gitmerge.el (gitmerge-commit-message):\n\tTruncate the computed commit message to at most 72 characters per line.\n\t(gitmerge-maybe-resume): Don\u2019t use \"-\" as the commit message for\n\tmerges; use the computed commit message instead.\n\n2016-03-22  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* admin/gitmerge.el (gitmerge-skip-regexp): Add \"no need to merge\".\n\n2016-03-22  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tChange do-not-merge pattern to \"do not merge\"\n\n\tThis should avoid the problem we recently had with\n\tautomatically-generated merge messages, while still letting people\n\tspecify commits not to merge.\n\t* admin/gitmerge.el (gitmerge-skip-regexp): Add \"do not merge\".\n\t(gitmerge-highlight-skip-regexp): Fold case when searching\n\tfor gitmerge-skip-regexp.\n\n2016-03-22  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\t91e6676 Fix an Isearch var to be a string (Bug#23038)\n\t76ef522 Fix (args-out-of-range 1) error in cursor-sensor--detect\n\n2016-03-22  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t-\n\n\t-\n\n2016-03-22  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tKeep \"merge\" commits by default in gitmerge\n\n\t* admin/gitmerge.el (gitmerge-skip-regexp): Omit \"merge\", as it\n\tcauses false positives.  See:\n\thttps://lists.gnu.org/r/emacs-devel/2016-03/msg01234.html\n\n2016-03-22  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tAssume NON_BLOCKING_CONNECT (Bug#22946)\n\n\t* lisp/proced.el (proced-signal-list): Omit comment about\n\tobsolete systems that do not support POSIX 1003.1-2001 signals.\n\t* src/process.c (NON_BLOCKING_CONNECT): Remove, since we can now\n\tassume POSIX 1003.1-2001 or better here.  Assume it\u2019s defined.\n\t(connect_network_socket): Assume EINPROGRESS is defined,\n\tas that\u2019s portable too now.\n\t(Fmake_network_process): Use bool for boolean.\n\n2016-03-21  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix problems caused by new implementation of sub-word mode\n\n\t* lisp/subr.el (forward-word-strictly, backward-word-strictly):\n\tNew functions.\n\t(word-move-empty-char-table): New variable.\n\n\t* etc/NEWS: Mention 'forward-word-strictly' and\n\t'backward-word-strictly'.\n\n\t* doc/lispref/positions.texi (Word Motion): Document\n\t'find-word-boundary-function-table', 'forward-word-strictly', and\n\t'backward-word-strictly'.  (Bug#22560)\n\n\t* src/syntax.c (syms_of_syntax)\n\t<find-word-boundary-function-table>: Doc fix.\n\n\t* lisp/wdired.el (wdired-xcase-word):\n\t* lisp/textmodes/texnfo-upd.el (texinfo-copy-node-name)\n\t(texinfo-copy-section-title, texinfo-start-menu-description)\n\t(texinfo-copy-menu-title, texinfo-specific-section-type)\n\t(texinfo-insert-node-lines, texinfo-copy-next-section-title):\n\t* lisp/textmodes/texinfo.el (texinfo-clone-environment)\n\t(texinfo-insert-@end):\n\t* lisp/textmodes/texinfmt.el (texinfo-format-scan)\n\t(texinfo-anchor, texinfo-multitable-widths)\n\t(texinfo-multitable-item):\n\t* lisp/textmodes/tex-mode.el (latex-env-before-change):\n\t* lisp/textmodes/flyspell.el (texinfo-mode-flyspell-verify):\n\t* lisp/skeleton.el (skeleton-insert):\n\t* lisp/simple.el (count-words):\n\t* lisp/progmodes/vhdl-mode.el (vhdl-beginning-of-libunit)\n\t(vhdl-beginning-of-defun, vhdl-beginning-of-statement-1)\n\t(vhdl-update-sensitivity-list, vhdl-template-block)\n\t(vhdl-template-break, vhdl-template-case, vhdl-template-default)\n\t(vhdl-template-default-indent, vhdl-template-for-loop)\n\t(vhdl-template-if-then-use, vhdl-template-bare-loop)\n\t(vhdl-template-nature, vhdl-template-procedural)\n\t(vhdl-template-process, vhdl-template-selected-signal-asst)\n\t(vhdl-template-type, vhdl-template-variable)\n\t(vhdl-template-while-loop, vhdl-beginning-of-block)\n\t(vhdl-hooked-abbrev, vhdl-port-copy, vhdl-hs-forward-sexp-func):\n\t* lisp/progmodes/verilog-mode.el (verilog-backward-sexp)\n\t(verilog-forward-sexp, verilog-beg-of-statement)\n\t(verilog-set-auto-endcomments, verilog-backward-token)\n\t(verilog-do-indent):\n\t* lisp/progmodes/vera-mode.el (vera-guess-basic-syntax)\n\t(vera-indent-block-closing):\n\t* lisp/progmodes/simula.el (simula-context)\n\t(simula-backward-up-level, simula-forward-down-level)\n\t(simula-previous-statement, simula-next-statement)\n\t(simula-skip-comment-backward, simula-calculate-indent)\n\t(simula-find-if, simula-electric-keyword):\n\t* lisp/progmodes/sh-script.el (sh-smie--rc-newline-semi-p):\n\t* lisp/progmodes/ruby-mode.el (ruby-smie--redundant-do-p)\n\t(ruby-smie--forward-token, ruby-smie--backward-token)\n\t(ruby-singleton-class-p, ruby-calculate-indent)\n\t(ruby-forward-sexp, ruby-backward-sexp):\n\t* lisp/progmodes/ps-mode.el (ps-run-goto-error):\n\t* lisp/progmodes/perl-mode.el (perl-syntax-propertize-function)\n\t(perl-syntax-propertize-special-constructs)\n\t(perl-backward-to-start-of-continued-exp):\n\t* lisp/progmodes/pascal.el (pascal-indent-declaration):\n\t* lisp/progmodes/octave.el (octave-function-file-p):\n\t* lisp/progmodes/mantemp.el (mantemp-insert-cxx-syntax):\n\t* lisp/progmodes/js.el (js--forward-function-decl):\n\t* lisp/progmodes/idlwave.el (idlwave-show-begin-check)\n\t(idlwave-beginning-of-block, idlwave-end-of-block)\n\t(idlwave-block-jump-out, idlwave-determine-class):\n\t* lisp/progmodes/icon.el (icon-is-continuation-line)\n\t(icon-backward-to-start-of-continued-exp, end-of-icon-defun):\n\t* lisp/progmodes/hideif.el (hide-ifdef-define):\n\t* lisp/progmodes/f90.el (f90-change-keywords):\n\t* lisp/progmodes/cperl-mode.el (cperl-electric-pod)\n\t(cperl-linefeed, cperl-electric-terminator)\n\t(cperl-find-pods-heres, cperl-fix-line-spacing)\n\t(cperl-invert-if-unless):\n\t* lisp/progmodes/cc-engine.el (c-forward-<>-arglist-recur):\n\t* lisp/progmodes/cc-align.el (c-lineup-java-inher):\n\t* lisp/progmodes/ada-mode.el (ada-compile-goto-error)\n\t(ada-adjust-case-skeleton, ada-create-case-exception)\n\t(ada-create-case-exception-substring)\n\t(ada-case-read-exceptions-from-file, ada-after-keyword-p)\n\t(ada-scan-paramlist, ada-get-current-indent, ada-get-indent-end)\n\t(ada-get-indent-if, ada-get-indent-block-start)\n\t(ada-get-indent-loop, ada-get-indent-type)\n\t(ada-search-prev-end-stmt, ada-check-defun-name)\n\t(ada-goto-decl-start, ada-goto-matching-start)\n\t(ada-goto-matching-end, ada-looking-at-semi-or)\n\t(ada-looking-at-semi-private, ada-in-paramlist-p)\n\t(ada-search-ignore-complex-boolean, ada-move-to-start)\n\t(ada-move-to-end, ada-which-function, ada-gen-treat-proc):\n\t* lisp/net/quickurl.el (quickurl-grab-url):\n\t* lisp/mail/sendmail.el (mail-do-fcc):\n\t* lisp/mail/rmail.el (rmail-resend):\n\t* lisp/mail/mailabbrev.el (mail-abbrev-complete-alias):\n\t* lisp/mail/mail-extr.el (mail-extract-address-components):\n\t* lisp/json.el (json-read-keyword):\n\t* lisp/files.el (insert-directory):\n\t* lisp/emacs-lisp/checkdoc.el (checkdoc-this-string-valid-engine):\n\t* lisp/completion.el (symbol-under-point, symbol-before-point)\n\t(symbol-before-point-for-complete, next-cdabbrev)\n\t(add-completions-from-c-buffer):\n\t* lisp/cedet/semantic/texi.el (semantic-up-context)\n\t(semantic-beginning-of-context):\n\t* lisp/cedet/semantic/bovine/el.el (semantic-get-local-variables):\n\tuse 'forward-word-strictly' and 'backward-word-strictly' instead\n\tof 'forward-word' and 'backward-word'.\n\n\t[This reapplies commit c1d32a65372c72d7de4808d620eefd3214a8e92a,\n\twhich was inadvertently lost by merge commit\n\tc71e7cc113ed0d5f01aaa2e441a3e3c9fbeb9fa5.]\n\n2016-03-21  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* etc/TODO: Minor quoting and grammar fixes.\n\n\t[This reapplies commit 433407d8230a8a256b26c6c7615d3921b43f59ce,\n\twhich was inadvertently lost by merge commit\n\t5ab243f40e4db91586ff74b01a775a5218a1d5be.]\n\n2016-03-21  Alan Mackenzie  <acm@muc.de>\n\n\tDon't confuse \"::\" with \":\" when trying to parse member initializers.\n\n\t* lisp/progmodes/cc-engine.el (c-back-over-member-initializers): Check\n\tmore robustly for \":\" token when searching backwards for it.\n\n\t* lisp/progmodes/cc-langs.el (c-:$-multichar-token-regexp): New\n\tlanguage variable.\n\n\t[This reapplies commit 9e5452f7166e3634f2d8e943815ed722e1672714,\n\twhich was inadvertently lost by merge commit\n\t7823745acbe9b87eea2db4ef434e379fc903ec35.]\n\n2016-03-21  Eli Zaretskii  <eliz@gnu.org>\n\n\tEnsure positive number of glyphs for margins of positive width\n\n\t* src/dispnew.c (margin_glyphs_to_reserve): Always return a\n\tpositive value when a non-zero width of the marginal area was\n\trequested.  (Bug#22356)\n\n\t[This reapplies commit 740849fe986b62a839bce4bbf67d0036fc1be0b9,\n\twhich was inadvertently lost by merge commit\n\t7823745acbe9b87eea2db4ef434e379fc903ec35.]\n\n2016-03-21  Alan Mackenzie  <acm@muc.de>\n\n\tIn comment-dwim with style `extra-line', respect indent-tabs-mode.\n\n\tThis fixes bug #22369.\n\n\t* lisp/newcomment.el (comment-make-bol-ws): New function.\n\t(comment-make-extra-lines): Use new function instead of a crude `make-string'.\n\n\t[This reapplies commit 016b3d5894b8c424eab262aeefc646c6cd03a70a,\n\twhich was inadvertently lost by merge commit\n\t7823745acbe9b87eea2db4ef434e379fc903ec35.]\n\n2016-03-21  Eli Zaretskii  <eliz@gnu.org>\n\n\tMerge doc fixes for 'random' lost in previous merge\n\n\t[This reapplies part of commit\n\t3ffe81e245d854a694ae1734f1b6a995bdc5e724,\n\twhich was inadvertently lost by merge commit\n\t7823745acbe9b87eea2db4ef434e379fc903ec35.]\n\t(Bug#22202)\n\n2016-03-21  Eli Zaretskii  <eliz@gnu.org>\n\n\tUnhide the --no-line-directive option to 'etags'\n\n\t* lib-src/etags.c (print_help): Un-undocument the --no-line-directive\n\toption.  (Bug#22306)\n\n\t* doc/man/etags.1: Document the --no-line-directive option.\n\n\t[This reapplies commit fee0526a189f43e8470d78e8374bd425890fbe6f,\n\twhich was inadvertently lost by merge commit\n\t7823745acbe9b87eea2db4ef434e379fc903ec35.]\n\n2016-03-21  Alan J Third  <alan@idiocy.org>  (tiny change)\n\n\tFix picture-mode wrt double-width characters\n\n\t* lisp/textmodes/picture.el (picture-insert): Check the width of\n\tthe character being replaced, not just that of the replacement.\n\t(Bug#1808)\n\n\t[This reapplies commit b70dba4e18514411ed38b5bbb846558158842ace,\n\twhich was inadvertently lost by merge commit\n\t7823745acbe9b87eea2db4ef434e379fc903ec35.]\n\n2016-03-20  Martin Rudalics  <rudalics@gmx.at>\n\n\tResurrect earlier fix of resize_frame_windows\n\n\t* src/window.c (resize_frame_windows): Resurrect earlier fix for\n\tcalculating the number of columns of the minibuffer window which\n\twas lost in subsequent merges.\n\n2016-03-20  Lars Magne Ingebrigtsen  <larsi@gnus.org>\n\n\tMove the cert files to the data directory\n\n2016-03-20  Lars Magne Ingebrigtsen  <larsi@gnus.org>\n\n\tFurther empty <li> tweaks\n\n\t* lisp/net/shr.el (shr-tag-li): When showing several empty\n\t<li> elements, ensure that they really get inserted on a new line.\n\n2016-03-20  Lars Magne Ingebrigtsen  <larsi@gnus.org>\n\n\tDon't remove too much white space at the end of documents\n\n\t* lisp/net/shr.el (shr--remove-blank-lines-at-the-end): Don't\n\tremove too much white space -- leave it on the last line (in\n\tcase there's a background color).\n\n2016-03-20  Alan Mackenzie  <acm@muc.de>\n\n\tAmend parse-partial-sexp correctly to handle two character comment delimiters\n\n\tDo this by adding a new field to the parser state: the syntax of the last\n\tcharacter scanned, should that be the first char of a (potential) two char\n\tconstruct, nil otherwise.\n\tThis should make the parser state complete.\n\tAlso document element 9 of the parser state.  Also refactor the code a bit.\n\n\t* src/syntax.c (struct lisp_parse_state): Add a new field.\n\t(SYNTAX_FLAGS_COMSTARTEND_FIRST): New function.\n\t(internalize_parse_state): New function, extracted from scan_sexps_forward.\n\t(back_comment): Call internalize_parse_state.\n\t(forw_comment): Return the syntax of the last character scanned to the caller\n\twhen that character might be the first of a two character construct.\n\t(Fforward_comment, scan_lists): New dummy variables, passed to forw_comment.\n\t(scan_sexps_forward): Remove a redundant state parameter.  Access all `state'\n\tinformation via the address parameter `state'.  Remove the code which converts\n\tfrom external to internal form of `state'.  Access buffer contents only from\n\t`from' onwards.  Reformulate code at the top of the main loop correctly to\n\trecognize comment openers when starting in the middle of one.  Call\n\tforw_comment with extra argument (for return of syntax value of possible first\n\tchar of a two char construct).\n\t(Fparse_partial_sexp): Document elements 9, 10 of the parser state in the\n\tdoc string.  Clarify the doc string in general.  Call\n\tinternalize_parse_state.  Take account of the new elements when consing up the\n\toutput parser state.\n\n\t* doc/lispref/syntax.texi: (Parser State): Document element 9 and the new\n\telement 10.  Minor wording corrections (remove reference to \"trivial\n\tcases\").\n\t(Low Level Parsing): Minor corrections.\n\n\t* etc/NEWS: Note new element 10, and documentation of element 9 of parser\n\tstate.\n\n2016-03-20  Lars Magne Ingebrigtsen  <larsi@gnus.org>\n\n\tAllow the shr test files to have trailing blank space.\n\n\t* .gitattributes: Allow the shr test files to have trailing\n\tblank space.\n\n2016-03-20  Lars Magne Ingebrigtsen  <larsi@gnus.org>\n\n\tAdd tests for empty <ul><li>\n\n2016-03-20  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* src/alloc.c (purecopy): Use AUTO_STRING.\n\n2016-03-20  Lars Magne Ingebrigtsen  <larsi@gnus.org>\n\n\tIgnore invalid base64 encoded embedded images\n\n\t* lisp/net/shr.el (shr-image-from-data): Ignore invalid base64\n\tencoded embedded images (bug#22928).\n\n2016-03-20  Lars Magne Ingebrigtsen  <larsi@gnus.org>\n\n\tRender empty <ul><li><ul> correctly\n\n\t* lisp/net/shr.el (shr-tag-ul): Render empty <ul><li><ul>\n\tcorrectly (bug#22964).\n\n2016-03-20  Lars Magne Ingebrigtsen  <larsi@gnus.org>\n\n\tFix <p> and <div> newlines with or without <li> in shr\n\n\t* lisp/net/shr.el (shr-ensure-newline): Respect that we're in\n\ta <li>, if we are, and don't insert newlines there.\n\t(shr-ensure-paragraph): When mixing newlines and paragraph\n\tensurements, don't insert too many blank lines.\n\t(shr-tag-div): A <div> shouldn't introduce a paragraph, but a\n\tnew line.\n\n2016-03-20  Lars Magne Ingebrigtsen  <larsi@gnus.org>\n\n\tAdd more shr HTML rendering tests\n\n\tAdd a test harness for shr HTML rendering and one test\n\n2016-03-20  Lars Magne Ingebrigtsen  <larsi@gnus.org>\n\n\tRemove code left over from when overlays were used for padding\n\n\t* lisp/net/shr.el (shr-previous-newline-padding-width): Remove.\n\t(shr-remove-trailing-whitespace): Ditto.\n\t(shr-insert-document): Don't call them.\n\n2016-03-20  Lars Magne Ingebrigtsen  <larsi@gnus.org>\n\n\tRemove trailing blank lines in shr\n\n\t* lisp/net/shr.el (shr--remove-blank-lines-at-the-end): New function.\n\t(shr-insert-document): Use it to remove trailing blank lines\n\tat the end of documents, since these never seem to be very useful.\n\n2016-03-20  Lars Magne Ingebrigtsen  <larsi@gnus.org>\n\n\tDon't bug out on nil `patch-buf' arguments\n\n\t* lisp/vc/ediff.el (ediff-patch-file): Don't bug out on nil\n\t`patch-buf' arguments.\n\n2016-03-20  Ernest Adrogu\u00e9  <nfdisco@gmail.com>\n\n\tAdd a Catalan language environment\n\n\t* lisp/international/mule-cmds.el (locale-language-names): Map locale\n\t  language name `ca' to language environment `Catalan'.\n\n\t* lisp/language/european.el: Add definition of language\n\tenvironment for the Catalan language.\n\n\t* lisp/leim/quail/latin-pre.el: Add quail rule to the\n\t`catalan-prefix' input method to support input of middle dot\n\tcharacters through composition (bug#18279).\n\n2016-03-19  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tNo need to block input when reading directories\n\n\t* src/dired.c: Don\u2019t include blockinput.h.\n\t(open_directory, directory_files_internal_unwind)\n\t(directory_files_internal, file_attributes):\n\tDon\u2019t block input here, as the reasons for blocking input should\n\tno longer apply.  See blockinput.h FIXME.  (Bug#22996).\n\n2016-03-19  Oscar Fuentes  <ofv@wanadoo.es>\n\n\t* lisp/vc/vc-hooks.el: Fix typo\n\n2016-03-19  Fabrice Popineau  <fabrice.popineau@gmail.com>\n\n\tImprove w32notify notifications\n\n\t* src/w32notify.c (DIRWATCH_BUFFER_SIZE): New macro.\n\t(struct notification): 'terminate' is now a HANDLE.\n\t(send_notifications): Argument is now a pointer to a\n\tnotification.  Don't loop waiting for the notification to be\n\tacknowledged by the main thread; instead, just add the\n\tnotification to the linked list of notifications waiting to be\n\tacknowledged.\n\t(watch_end): Don't close the directory handle.\n\t(watch_completion): Allocate a new notification structure to be\n\tadded to the notifications set.  Call ReadDirectoryChangesW\n\timmediately after adding the new notification, and before sending\n\ta message to the main thread about them.\n\t(watch_worker): Don't loop calling ReadDirectoryChangesW; instead,\n\tcall it just once -- it will be called again in watch_completion.\n\tLoop waiting for the main thread's indication to terminate.\n\t(start_watching): Create the event to be used to indicate to the\n\tworker thread that its should terminate.\n\t(remove_watch): Indicate to the worker thread that it should\n\tterminate.\n\t* src/w32term.c (queue_notifications): Loop over all the\n\tnotifications in the linked list, processing all of them in one\n\tgo.\n\t* src/w32inevt.c (handle_file_notifications): Loop over all the\n\tnotifications in the linked list.\n\t* src/w32xfns.c (init_crit): Initialize the linked list of file\n\tnotifications.\n\t(delete_crit): Free the linked list of file notifications,\n\tincluding any unprocessed notifications left in it.\n\t* src/w32term.h (struct notifications_se): New struct.\n\n\t* test/lisp/filenotify-tests.el (file-notify-test02-events)\n\t(file-notify-test05-dir-validity): Add read-event calls to\n\tfacilitate event recognition by the main thread in batch mode.\n\n2016-03-17  Sam Steingold  <sds@gnu.org>\n\n\tmake `vc-log-operation' buffer local to allow multiple simultaneous editing\n\n2016-03-17  Glenn Morris  <rgm@gnu.org>\n\n\tSimplify some rococo Gnus code that loads or tests for other libraries.\n\n\t* lisp/gnus/gnus-art.el (gnus-treat-ansi-sequences): Simplify default.\n\t* lisp/gnus/mml-smime.el (epg): Simply require it.\n\t(mml-smime-use): Simplify the default.  Doc fix.\n\t* lisp/gnus/mml2015.el (epg-config): Require it.\n\t(mml2015-use): Simplify the default.\n\t* lisp/gnus/smime.el (password-cache): Simply require it.\n\t(password-read-and-add): Remove declaration.\n\n2016-03-16  Glenn Morris  <rgm@gnu.org>\n\n\t* test/lisp/dabbrev-tests.el: Merge fix: move here from test/automated.\n\n2016-03-16  Thomas Fitzsimmons  <fitzsim@fitzsim.org>\n\t    Alex Harsanyi  <AlexHarsanyi@gmail.com>\n\n\tSync with soap-client repository, version 3.1.1\n\n\t* lisp/net/soap-client.el (soap-encode-xs-complex-type): Fix error\n\tmessage.\n\t(soap-find-port): Delete trailing whitespace.\n\t(soap-find-operation): Fix documentation and rename parameter.\n\t(soap-find-port): Likewise.\n\t(soap-operation-arity): Likewise.\n\n\t* lisp/net/soap-client.el: Update copyright years.\n\t(soap-warning): Fix docstring quoting.\n\t(soap-decode-date-time): Likewise.\n\t(soap-validate-xs-simple-type): Remove tabs for indentation.\n\t* lisp/net/soap-inspect.el: Update copyright years.\n\n\t* lisp/net/soap-client.el (soap-encode-xs-basic-type): Do not\n\tassume xsd:base64Binary values are UTF-8 strings.\n\t(soap-decode-xs-basic-type): Likewise.\n\t(soap-invoke): Document xsd:base64Binary handling.\n\n\t* lisp/net/soap-client.el (soap-find-port, soap-find-operation)\n\t(soap-operation-arity): new defuns\n\t(soap-invoke-internal): use soap-find-port, soap-find-operation.\n\n2016-03-15  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from gnulib\n\n\tThis incorporates:\n\t2016-03-15 std-gnu11: improve clang support\n\t* m4/std-gnu11.m4: Copy from gnulib.\n\n2016-03-14  Lars Magne Ingebrigtsen  <larsi@gnus.org>\n\n\tDisable MOVE more for Dovecot\n\n\t* lisp/gnus/nnimap.el (nnimap-process-expiry-targets): Also\n\tdisable MOVE when expirying.\n\t(nnimap-split-incoming-mail): And when splitting mail.\n\n2016-03-14  Lars Magne Ingebrigtsen  <larsi@gnus.org>\n\n\tDon't use MOVE on Dovecot\n\n\t* lisp/gnus/nnimap.el (nnimap-request-move-article): Don't use\n\tMOVE on Dovecot, since it's broken in many versions.\n\t(nnimap-quirks): Mark MOVE on Dovecot as non-working.\n\n2016-03-13  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tImprove diff hunk headers when maintaining Emacs\n\n\t* .gitattributes: Improve diff hunk header support for makefiles,\n\tshell scripts, Ada, C, C++, Objective C, HTML, SHTML, XML, Java,\n\tPerl, PHP, Python, Ruby, and TeX, all of which are used in Emacs\n\tsomewhere (sometimes just in test cases).\n\t* autogen.sh: Add regexes for makefiles and shell scripts.\n\n2016-03-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tUpdate handling of <bdo> per Unicode 9.0\n\n\t* lisp/net/shr.el (shr-tag-bdo): Wrap in FSI..PDI as well, per\n\tUnicode 9.0 changes in UAX#9, paragraph 2.7.\n\n2016-03-11  John Wiegley  <johnw@newartisans.com>\n\n\tMerge from origin/emacs-25\n\n\tfacb5e2 Update Emacs manual section related to character folding\n\t4efea8e ; * etc/DEBUG: Fix a typo.  (Bug#22984)\n\tf8df21b Update admin/notes/unicode\n\t950be68 Add symref-filepattern entries for c?perl-mode\n\t8b8a6ad Don't use XRANDR 1.3 extensions if the server doesn't support them.\n\t985dacf ; NEWS update for the last change in etags\n\t741a6f8 Sync with gnulib\n\t7352c6c Rework C source files to avoid ^(\n\ta589e9a By default, etags produces unqualified Perl tag names\n\t72c7438 Indent methods with keyword names correctly\n\t28532a9 Propertize character literals and special global variables\n\t        differently\n\ta7d6f39 ; Fix last change in NEWS\n\t83b2a20 Change how /etc/NEWS presents character folding\n\tb417c5a Revert \"Revert \"Backport: * lisp/isearch.el: Turn char-folding\n\t        off by default\"\"\n\t711ca36 Properly handle lambda as read function (bug 22961)\n\t1b9d616 Propertize operator symbol names with symbol syntax class\n\t9b16bc2 Stop recognizing :#{} as symbol in ruby-mode\n\t366ec77 Allow using the left shift operator without spaces on both sides\n\t02bf7cc Properly handle unquoting in wdired (bug 22938)\n\t16cf469 ; Spelling fix and tighten up comment\n\tf50bc04 Allow splat operator before percent literal\n\t991c801 Don't apply the return value of goto-char as syntax class\n\t6e63b3e Guard against nested percent literals\n\t066f3bc Recognize iuwu-mod after an escaped newline\n\t6f7a57c Fix symbolic mode string conversion for s and t\n\t50b9826 Update 'ucs-names' database\n\t993b2fb Improve doc string of 'shell-command'\n\tb71c717 Make the code in movemail_strftime more general\n\tcc057e4 Speed up redisplay of binary files with long series of nulls\n\te51b27e Remove the highlighting support for quoting 'like this' inside\n\t        Lisp docstrings\n\tb1abce1 Restore leading space in movemail pop output\n\t98b8d44 Fix bidi-paragraph-direction in Rmail view buffer\n\tdc9d837 Don't misindent computed property generator methods\n\t7923112 Fix mbox files produced by movemail on MS-Windows\n\tc45a1ca doc string file descriptor exhaustion fix\n\t265141b Fix Bug#22814\n\n2016-03-11  John Wiegley  <johnw@newartisans.com>\n\n\tMerge from origin/emacs-25\n\n\t620951f Fix previous fix of enlarge-/shrink-window\n\t2e78353 * lisp/isearch.el (isearch-define-mode-toggle): Fix toggling logic\n\t66d2717 Complete temperature units in calc-convert-temperature\n\tdbb02bf Make sure to use case-sensitive search\n\t8b01e69 Prevent infinite loop on not-well-formed xml. (Bug#16344)\n\t100346a Add the missing test case for the previous patch\n\t5aba61e Use the correct dabbrev expansion\n\n2016-03-11  Michael Albinus  <michael.albinus@gmx.de>\n\n\tRemove compat code in Tramp\n\n\t* lisp/net/tramp-sh.el (tramp-open-connection-setup-interactive-shell):\n\tRemove compat code.\n\n2016-03-10  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/textmodes/tex-mode.el: Complete local envs.  Use #'.\n\n\tUse #' for function names.\n\t(latex-complete-envnames): Include existing environments in\n\tcurrent buffer.\n\t(latex-insert-block): Use latex-complete-envnames.\n\t(tildify-foreach-ignore-environments): Declare.\n\n2016-03-10  Alain Schneble  <a.s@realize.ch>\n\n\tFix asynchronous TLS connections on MS-Windows\n\n\t* src/w32.c (sys_write): Don't switch the socket to blocking mode\n\tif the connection attempt is in progress.  Instead, return either\n\tEWOULDBLOCK immediately if the connection is in progress, or the\n\terror code produced by '_sys_wait_connect' if the connection\n\tfailed.  Switching the socket to blocking mode was found to\n\tinterfere with GnuTLS handshake.  (Bug#22789)\n\n2016-03-10  Alan Mackenzie  <acm@muc.de>\n\n\tClarify the documentation of nested comments.\n\n\t* doc/lispref/syntax.texi (Syntax Flags): State that only comments of the same\n\tstyle are recognized inside nestable comments.\n\t(Low-Level Parsing): Clarify that parsing will stop after the start or end of\n\tUNNESTED comments.\n\n2016-03-10  Nicolas Richard  <youngfrog@members.fsf.org>\n\n\tAdd new function display-buffer-reuse-mode-window\n\n\t* lisp/window.el (display-buffer-reuse-mode-window): New function.\n\t* doc/lispref/windows.texi (Display Action Functions): Document it.\n\n2016-03-09  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMinor fixes for getaddrinfo_a usage\n\n\t* src/process.c (Fdelete_process): Check gai_cancel return value.\n\tThat way, there\u2019s no need to invoke gai_error.  Check gai_suspend\n\treturn value.\n\t(Fmake_network_process): Don\u2019t assume gai_strerror returns a UTF-8\n\tstring.  Simplify call to connect_network_socket.\n\t(check_for_dns): Avoid unnecessary initialization of local.\n\n2016-03-09  Sam Steingold  <sds@gnu.org>\n\n\tdeclare `rmail-mime-entity-truncated' and `rmail-mime-render-html-function'\n\n\tThe former avoids a compiler warning, the latter fixes a bug whereas\n\tthe variable is compiled as lexical instead of dynamic.\n\n2016-03-08  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPacify --enable-gcc-warnings\n\n\t* src/xfns.c (x_create_tip_frame): Omit unused local.\n\t(Fx_show_tip): Don\u2019t jump over auto initialization.\n\n2016-03-07  Martin Rudalics  <rudalics@gmx.at>\n\n\tOptionally reuse tooltip frames instead of deleting/recreating them.\n\n\t* src/frame.c (tooltip_reuse_hidden_frame): New option.\n\t* src/w32fns.c (x_create_tip_frame): Remove argument TEXT.  Fix\n\thandling of dividers.\n\t(x_hide_tip): New function.\n\t(Fx_show_tip): Try to reuse old tooltip frame when\n\t`tooltip-reuse-hidden-frame' is non-nil and frame parameters\n\thave not changed.  Insert STRING here instead of passing it to\n\tx_create_tip_frame.  Compute size of tooltip window with\n\tFwindow_text_pixel_size.  Obey Vw32_tooltip_extra_pixels when\n\tpadding tooltip window.\n\t(Fx_hide_tip): Call x_hide_tip.\n\t(Vw32_tooltip_extra_pixels): New variable.\n\t* src/xdisp.c (Fwindow_text_pixel_size): Don't return negative y\n\tvalue.  Fix doc-string.\n\t* src/xfns.c (x_create_tip_frame): Remove argument TEXT.  Call\n\tmake_frame with mini_p argument false.\n\t(x_hide_tip): New function.\n\t(Fx_show_tip): Try to reuse old tooltip frame when\n\t`tooltip-reuse-hidden-frame' is non-nil and frame parameters\n\thave not changed.  Insert STRING here instead of passing it to\n\tx_create_tip_frame.  Compute size of tooltip window with\n\tFwindow_text_pixel_size.\n\t(Fx_hide_tip): Call x_hide_tip.\n\t* lisp/cus-start.el (tooltip-reuse-hidden-frame): Add\n\tcustomization entry.\n\n2016-03-07  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tAssume getaddrinfo in C code\n\n\t* admin/CPP-DEFINES, configure.ac: Remove HAVE_GETADDRINFO, HAVE_H_ERRNO.\n\tAll uses removed.\n\t* doc/lispref/processes.texi (Network, Network Processes), etc/NEWS:\n\tSay that port numbers can be integer strings.\n\t* lib-src/pop.c (h_errno) [!WINDOWSNT && !HAVE_H_ERRNO]: Remove decl.\n\t(socket_connection): Assume HAVE_GETADDRINFO.\n\t* lisp/mpc.el (mpc--proc-connect):\n\t* lisp/net/network-stream.el (open-network-stream):\n\tIt\u2019s now OK to use integer strings as port numbers.\n\t* src/process.c (conv_numerical_to_lisp) [!HAVE_GETADDRINFO]: Remove.\n\t(Fmake_network_process): Assume HAVE_GETADDRINFO.\n\n2016-03-07  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRemove support for IRIX\n\n\tThe IRIX port wasn\u2019t really working anyway, and the code was\n\tgetting in the way of other changes (e.g., getaddrinfo fixes).\n\tIRIX\u2019s supplier dropped support for IRIX in 2013.\n\t* admin/CPP-DEFINES:\n\t* configure.ac (opsys):\n\t* doc/lispref/os.texi (System Environment):\n\t* etc/MACHINES, etc/PROBLEMS:\n\t* lisp/find-dired.el (find-grep-options):\n\t* lisp/lpr.el (lpr-lp-system):\n\t* lisp/ls-lisp.el (ls-lisp-emulation):\n\t* lisp/mail/rmail.el (rmail-spool-directory):\n\t* lisp/net/net-utils.el (ping-program-options):\n\t* lisp/progmodes/gud.el (gud-irix-p, gud-dbx-use-stopformat-p):\n\t* lisp/progmodes/ps-mode.el (ps-mode-print-function):\n\t* src/conf_post.h [IRIX6_5]:\n\t* src/emacs.c (Vsystem_type):\n\t* src/filelock.c (get_boot_time_1):\n\t* src/process.c (process_send_signal):\n\t* src/unexelf.c (unexec):\n\tOmit IRIX-specific code and/or documentation.\n\t* configure.ac (NON_GCC_TEST_OPTIONS, IRIX6_5, PREFER_VSUSP):\n\tRemove.  All uses removed.\n\t* etc/NEWS: Document the change.\n\n2016-03-06  John Wiegley  <johnw@newartisans.com>\n\n\tRevert \"Use colors in the VC mode lines\"\n\n\tThis reverts commit 2621c293d82c15c00d9e73a8db75d70da7d0a23b.\n\n2016-03-06  Ken Brown  <kbrown@cornell.edu>\n\n\tFix Cygwin-w32 build\n\n\t* src/w32fns.c (funhook, setup_w32_kbdhook, remove_w32_kbdhook):\n\tDefine only if WINDOWSNT, and update all uses accordingly.\n\t* src/w32term.h (check_w32_winkey_state, setup_w32_kbdhook)\n\t(remove_w32_kbdhook): Declare only if WINDOWSNT.\n\t(w32_kbdhook_active): Define as 0 if not WINDOWSNT.\n\n2016-03-06  Eli Zaretskii  <eliz@gnu.org>\n\n\tUnbreak the MinGW64 build\n\n\t* nt/inc/ms-w32.h [MINGW_W64]: Undefine HAVE_GAI_STRERROR.  See\n\thttps://lists.gnu.org/r/emacs-devel/2016-03/msg00130.html\n\tfor the details.  Reported by Angelo Graziosi\n\t<angelo.graziosi@alice.it>.\n\n2016-03-06  Lars Magne Ingebrigtsen  <larsi@gnus.org>\n\n\tDon't signal errors on E_AGAIN\n\n\t* src/gnutls.c (Fgnutls_errorp): Qgnutls_e_again is not an\n\terror now that TLS is async.\n\n2016-03-05  Lars Magne Ingebrigtsen  <larsi@gnus.org>\n\n\tAllow making TLS negotiation blocking\n\n\t* lisp/net/gnutls.el (gnutls-negotiate): Make negotiation blocking.\n\n\t* src/gnutls.c (Fgnutls_boot): Provide a new keyword,\n\t:complete-negotiation, to specify that we want complete\n\tnegotiation even if the socket is non-blocking.\n\t(gnutls_try_handshake): Complete negotiation if given that keyword.\n\n\t* src/process.h (L): Added gnutls_complete_negotiation_p.\n\n2016-03-05  Lars Magne Ingebrigtsen  <larsi@gnus.org>\n\n\tDon't run ipv6 test on systems without ipv6\n\n\t* test/lisp/net/network-stream-tests.el\n\t(connect-to-tls-ipv6-nowait): Skip on systems without ipv6.\n\n2016-03-05  Eli Zaretskii  <eliz@gnu.org>\n\n\tImplement getaddrinfo fallback for MS-Windows\n\n\tSee https://lists.gnu.org/r/emacs-devel/2016-02/msg01602.html\n\tfor more details.\n\n\t* nt/mingw-cfg.site (ac_cv_func_getaddrinfo)\n\t(ac_cv_func_gai_strerror): Set to \"yes\", as the configure script's\n\ttest program is not smart enough to auto-detect these.\n\t* nt/inc/sys/socket.h (getaddrinfo, freeaddrinfo): Redirect to\n\tsys_getaddrinfo and sys_freeaddrinfo.  Provide prototypes for\n\tsys_getaddrinfo and sys_freeaddrinfo.\n\n\t* src/w32.c (init_winsock): Try loading getaddrinfo and\n\tfreeaddrinfo from ws2_32.dll.\n\t(sys_getaddrinfo, sys_freeaddrinfo): New functions.\n\n\t* lib-src/pop.c [WINDOWSNT]: Include winsock2.h, not winsock.h,\n\tand also ws2tcpip.h.\n\t(getaddrinfo, freeaddrinfo) [WINDOWSNT]: Redirect to\n\tsys_getaddrinfo and sys_freeaddrinfo, respectively.\n\t(load_ws2, sys_getaddrinfo, sys_freeaddrinfo) [WINDOWSNT]: New\n\tfunctions.\n\n2016-03-04  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/files.el: Fix recent typo.\n\n\t* lisp/subr.el (read-multiple-choice): Avoid free variable.\n\n\t* doc/lispref/files.texi (File Attributes): Fix typo.\n\n2016-03-04  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMake the describe-key prompts clearer\n\n\t* lisp/help.el (describe-key-briefly): Make the prompt clearer\n\t(bug#14854).\n\t(describe-key): Ditto.\n\n2016-03-04  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAllow scrolling while querying multiple choice\n\n\t* lisp/subr.el (read-multiple-choice): Allow scrolling the\n\tbuffer while querying (bug#22827).\n\n2016-03-04  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAdd accessors for `file-attributes'\n\n\t* doc/lispref/files.texi (File Attributes): Mention the accessors.\n\n\t* lisp/files.el (file-attribute-type)\n\t(file-attribute-link-number, file-attribute-user-id)\n\t(file-attribute-group-id, file-attribute-access-time)\n\t(file-attribute-modification-time)\n\t(file-attribute-change-time, file-attribute-size)\n\t(file-attribute-modes, file-attribute-inode-number)\n\t(file-attribute-device-number): New functions.\n\n\t* src/dired.c (Ffile_attributes): Mention the accessors (bug#22890).\n\n2016-03-04  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix Bug#22814\n\n\t* lisp/autorevert.el (global-auto-revert-mode): Do not set\n\t`auto-revert-use-notify' to nil.\n\n\t* etc/NEWS: Mention this.\n\n\t* etc/PROBLEMS: Remove problem Bug#22814.\n\n\t* src/kqueue.c: Include <sys/resource.h>.\n\t(Fkqueue_add_watch): Limit the number of used file descriptors.\n\t(Bug#22814)\n\n\t* test/lisp/filenotify-tests.el (file-notify--test-remote-enabled)\n\t(file-notify-test00-availability, file-notify-test01-add-watch)\n\t(file-notify-test02-events, file-notify-test06-many-events):\n\tUse #' read syntax for functions.\n\t(file-notify-test05-dir-validity)\n\t(file-notify-test06-many-events): Simplify directory creation.\n\t(file-notify-test09-sufficient-ressources): New test.\n\n2016-03-04  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFix insertion of edited servers in the dribble file\n\n\t* lisp/gnus/gnus-srvr.el (gnus-server-update-server): Don't\n\tinsert explicit newlines, because they're quoted (bug#22903).\n\n2016-03-04  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMove cl-seq-tests to the right place after the merge\n\n\tMove cl-seq-tests to the right place after the merge\n\n2016-03-03  John Wiegley  <johnw@newartisans.com>\n\n\tMerge from origin/emacs-25\n\n\td6f6b7d * etc/AUTHORS: Update the AUTHORS file\n\t5cf7c39 authors.el updates\n\ta26f193 ; fix changelog entries\n\tfbc85c7 ; make change-history-commit\n\t06da00c Fix Bug#22859\n\tab30bf5 ; * src/w32proc.c: Update the commentary to sys_select.\n\t1481029 Fix reordering of bidi text in an isolate inside an override\n\t60e0596 Document c-guess-basic-syntax in the CC Mode manual.\n\n2016-03-03  John Wiegley  <johnw@newartisans.com>\n\n\tMerge from origin/emacs-25\n\n\tf5d1435 Fix targets in test/automated/Makefile.in\n\n2016-03-03  John Wiegley  <johnw@newartisans.com>\n\n\tMerge from origin/emacs-25\n\n\tb6d6304 Comment on last change to define-derived-mode\n\n2016-03-03  John Wiegley  <johnw@newartisans.com>\n\n\tMerge from origin/emacs-25\n\n\tcb1e3da Also allow setting the paragraph direction to nil\n\tbbe8a89 Made the new OS X visible bell more visible.\n\n2016-03-03  John Wiegley  <johnw@newartisans.com>\n\n\tMerge from origin/emacs-25\n\n\taae436e Uncomment the next-error-function integration in xref\n\t5f0d096 Remove the word \"valid\", to avoid ambiguity\n\n2016-03-03  John Wiegley  <johnw@newartisans.com>\n\n\tMerge from origin/emacs-25\n\n\t5a44bfe Set auto-revert-use-notify to nil in global-auto-revert-mode.  (Bug#22814)\n\t0d60bfc Fix ModelSim error parsing\n\n2016-03-03  John Wiegley  <johnw@newartisans.com>\n\n\tMerge from origin/emacs-25\n\n\tb13cab6 Add a eww command to toggle paragraph direction\n\t4e46128 * nextstep/WISHLIST: Merge into etc/TODO and remove.\n\t9e078e5 Fix char signedness issue in bidi code\n\t064adf6 * lib-src/pop.c (socket_connection): Fix format string.\n\t14060a9 Avoid inflooping in thing-at-point-looking-at\n\t098d47b * lisp/emacs-lisp/derived.el (define-derived-mode): Revert\n\t        indent change.\n\tb5db8e0 etc/PROBLEMS: Mention problems with using file descriptors\n\tec10ef9 * lisp/apropos.el (apropos-variable): Doc fix.  (Bug#22813).\n\td2dd614 Remove unneeded workaround in xftfont.c\n\t9b7593c ; * etc/NEWS: Reflect latest changes in saveplace.\n\tfde0cd1 * lisp/saveplace.el (save-place-local-mode): New minor mode\n\t06a872b Fix redisplay on a TTY after 'make-frame'\n\t95f5a43 Make double-click-1 work with unbalanced parens in CC Mode.\n\t        Fixes bug#5560.\n\t7d206fc Input method polish-slash should not use keyboard translation\n\t8be32cf Fix an assertion\n\t040e0d6 Fix 'toggle-save-place'\n\t5244db2 * src/keyboard.c: Don't inadvertently set immediate_echo (bug#22581)\n\n2016-03-03  John Wiegley  <johnw@newartisans.com>\n\n\tMerge from origin/emacs-25\n\n\te6a3819 Update HISTORY section in readme for the NextStep interface.\n\tf67f1ed ; * doc/lispref/modes.texi (Font Lock Basics): Minor rewording.\n\t7c81a0b Improve documentation of 'save-place-mode'\n\tcab3f0a Allocate glyph matrices for the initial frame\n\te01c72f Fix white space in last checkin\n\t370eb67 Make `insert-pair' always leave the cursor where documented\n\tb594393 etc/NEWS: Mention the new second parameter to `package-install'\n\n2016-03-03  John Wiegley  <johnw@newartisans.com>\n\n\tMerge from origin/emacs-25\n\n\tbd58c13 Improve documentation of focus-related hooks\n\t00a4720 Further improve doc string of 'disable-point-adjustment'\n\tc582def Further adaptions in file-notify-tests.el for w32notify\n\ta1585e1 Don't bug out on localized dates in gnus-icalendar\n\n2016-03-03  John Wiegley  <johnw@newartisans.com>\n\n\tMerge from origin/emacs-25\n\n\t7bc4820 Make setf for frame-height/width work again\n\n2016-03-03  John Wiegley  <johnw@newartisans.com>\n\n\tMerge from origin/emacs-25\n\n\t6620944 (cl-union): Do not ignore :test argument when lists are equal.\n\t17dd3fb Add `isearch' to `basic-faces'\n\tc1ec743 Make $, : and @ \"prefix characters\" in ruby-mode\n\te72a26e Make find-tag-default-bounds more strict\n\t1bc0e0a Minor fixes in filenotify.el\n\n2016-03-02  Alain Schneble  <a.s@realize.ch>\n\n\tFix issue of inserting images on some systems\n\n\t* lisp/net/shr.el (shr-tag-img): Construct a non-empty range\n\tto pass to shr-image-fetched, to indicate where to insert the\n\timage.  Fixes the issue introduced with commit\n\t80852f843e69b81618f29cfb9aa4b074946cb3c4\n\t(bug#22789).\n\n2016-03-02  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tEnsure TLS negotiation progress\n\n\t* src/gnutls.h (GNUTLS_EMACS_HANDSHAKES_LIMIT): Increase the\n\tnumber of retries so that we try for about a minute.\n\n\t* src/process.c (wait_reading_process_output): Ensure progress\n\tfor DNS resolution and TLS negotiation.\n\n2016-03-02  Paul Eggert  <eggert@cs.ucla.edu>\n\n\temacs-module.h slight simplification\n\n\t* src/emacs-module.c (emacs_init_function, emacs_subr): Move here ...\n\t* src/emacs-module.h: ... from here, as they don\u2019t need to be public.\n\t(enum emacs_arity): Remove useless enum tag.  The enum value is\n\tused in ptrdiff_t contexts.\n\n\t* src/emacs-module.c (CHECK_USER_PTR): Fix typo in previous change.\n\n2016-03-02  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* src/emacs-module.c (CHECK_USER_PTR): Fix typo in previous change.\n\n2016-03-02  Paul Eggert  <eggert@cs.ucla.edu>\n\n\temacs-module.c simplification and tuneup\n\n\t* src/emacs-module.c (CHECK_USER_PTR): New function.\n\t(module_get_user_ptr, module_set_user_ptr)\n\t(module_get_user_finalizer, module_set_user_finalizer): Use it.\n\t(module_make_global_ref, module_copy_string_contents)\n\t(module_make_string, module_vec_set, module_vec_get): Omit\n\tunnecessary runtime tests.  For example, vector sizes are always\n\tfixnums, so we don\u2019t need to test that they are in fixnum range.\n\n2016-03-02  Philipp Stephani  <phst@google.com>\n\n\tUse standard checks whenever possible.\n\n\tThis is possible in all functions where we catch signals anyway.\n\n\t* src/emacs-module.c (module_make_global_ref, module_funcall)\n\t(module_copy_string_contents, module_make_string): Use xsignal0\n\tand CHECK macros for argument checks.\n\n2016-03-02  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDeterministic build improvements\n\n\t* configure.ac (BUILD_DETAILS): Rename from DETERMINISTIC_DUMP,\n\tand negate its sense.  Use it via AC_SUBST, not AC_DEFINE,\n\tand have its value be either empty or --no-build-details.\n\tAll uses changed.  Change option to --disable-build-details.\n\t* doc/emacs/cmdargs.texi (Initial Options):\n\tDocument --no-build-details.\n\t* doc/lispref/internals.texi (Building Emacs):\n\t* etc/NEWS:\n\tDocument --disable-build-details.\n\t* doc/lispref/intro.texi (Version Info): Say that\n\temacs-build-time can be nil.\n\t* lisp/erc/erc-compat.el (erc-emacs-build-time):\n\tNow nil if details are omitted.\n\t* lisp/erc/erc.el (erc-cmd-SV):\n\t* lisp/version.el (emacs-build-time):\n\tNow nil if no build details.\n\t(emacs-version):\n\tOutput build time only if build details.\n\t* src/Makefile.in (BUILD_DETAILS): New macro.\n\t(temacs, bootstrap-emacs): Use it.\n\t* src/emacs.c (build_details): New var.\n\t(standard_args, main): Support --no-build-details.\n\t(Vdeterministic_dump): Remove; all uses replaced\n\tby !build_details.\n\t(syms_of_emacs): Set Vbuild_details to a boolean, not\n\tto a Lisp_Object.\n\t* src/lisp.h (build_details): New decl.\n\t* src/sysdep.c (init_system_name): When !build_details,\n\tset system-name to nil, not to \"elided\".\n\n2016-03-02  Philipp Stephani  <phst@google.com>\n\n\tRemove build system name from deterministic dumps\n\n\t* configure.ac (DETERMINISTIC_DUMP): New configuration option.\n\t* lisp/version.el (emacs-build-time): Add a comment to make the\n\tbuild time deterministic if requested.\n\t(emacs-build-system): Make variable deterministic if requested.\n\t* src/emacs.c (main): Initialize `deterministic-dump' from the\n\tconfiguration option.\n\t(syms_of_emacs): New constant `deterministic-dump'.\n\t* src/sysdep.c (init_system_name): Use a constant\n\tif a deterministic dump is requested.\n\n2016-03-02  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRemove buggy parse-time test\n\n\t* test/lisp/calendar/parse-time-tests.el (parse-time-tests):\n\tRemove the iso parse test, since it doesn't work.\n\n2016-03-01  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* src/syntax.c (syntax_multibyte): Omit unnecessary parens.\n\n2016-02-29  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/emacs-lisp/autoload.el (autoload-timestamps):\n\tExperiment with setting to nil.\n\n2016-02-29  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMake the revert command in timer-list-mode work\n\n\t* lisp/emacs-lisp/timer-list.el (timer-list): Make the revert\n\tcommand work.\n\n2016-02-29  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/emacs-lisp/autoload.el (autoload-find-destination):\n\tFix 6-week old merge error.\n\n\t* lisp/emacs-lisp/autoload.el (update-file-autoloads):\n\tEnsure timestamps.\n\n\t* lisp/emacs-lisp/package.el (package-generate-autoloads):\n\tDisable timestamps.\n\n2016-02-29  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAllow binding `url-mime-accept-string'\n\n\t* lisp/url/url-http.el (url-http): Allow binding\n\t`url-mime-accept-string' (bug#22855).\n\n2016-02-29  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAdd a NEWS entry for the colorful VC indicator\n\n2016-02-29  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tUse colors in the VC mode lines\n\n\t* lisp/vc/vc-hooks.el: Make the mode line faces default to\n\tusing colors to more clearly tell the user what the status is.\n\n2016-02-29  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tSupport <bdo> and <bdi>\n\n\t* lisp/net/shr.el (shr-tag-bdo): New function.\n\t(shr-tag-bdi): Ditto.\n\n2016-02-29  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRespect <html dir=auto>\n\n\t* lisp/net/shr.el (shr-tag-html): Respect the \"auto\"\n\tdirectional HTML setting.\n\n2016-02-29  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDefault bidi paragraph direction to nil\n\n\t* lisp/net/eww.el (eww-display-html): Default bidi rendering\n\tto nil, so that possibly more Arabic web pages render\n\tcorrectly (bug#22786).\n\t(eww-setup-buffer): Ditto.\n\n2016-02-29  Mathias Dahl  <mathias.dahl@gmail.com>\n\n\tPreserve current column, going up/down in thumbnail view.\n\n2016-02-29  Alan Mackenzie  <acm@muc.de>\n\n\tHandle \"noise\" macros and compiler directives.\n\n\t* lisp/progmodes/cc-langs.el (c-symbol-char-key): New language variable.\n\n\t* lisp/progmodes/cc-vars.el (c-noise-macro-names)\n\t(c-noise-macro-with-parens-names): New customizable variables.\n\t(c-noise-macro-name-re, c-noise-macro-with-parens-name-re): New variables.\n\t(c-make-noise-macro-regexps): New function.\n\n\t* lisp/progmodes/cc-engine.el (c-forward-sws, c-backward-sws): Adapt to treat\n\tmembers of c-noise-macro-names as whitespace.\n\t(c-forward-noise-clause): New function.\n\t(c-forward-keyword-prefixed-id, c-forward-type, c-forward-declarator)\n\t(c-forward-decl-or-cast-1, c-backward-over-enum-header)\n\t(c-guess-basic-syntax CASE 5A.3, CASE 5A.5, CASE 9A):\n\tHandle \"noise clauses\" in parallel with, e.g., \"hangon key clauses\".\n\n\t* lisp/progmodes/cc-fonts.el (c-complex-decl-matchers): Handle \"noise clauses\"\n\tin parallel with \"prefix-spec keywords\".\n\n\t* lisp/progmodes/cc-mode.el (c-mode, c++-mode, objc-mode): call\n\tc-make-noise-macro-regexps to initialize the internal variables.\n\n\t* doc/misc/cc-mode.texi (\"Noise Macros\"): New section documenting the new\n\tfacilities.\n\n2016-02-29  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tStop calling res_init\n\n\tEmacs shouldn\u2019t need to call res_init any more, now that nscd or\n\tequivalent is everywhere.  On modern systems, calling res_init\n\tsimply slows Emacs down.  On ancient systems lacking nscd Emacs\n\twill still work well enough with this change; it\u2019s just that it\n\twon\u2019t respond to changes in /etc/resolv.conf.\n\t* configure.ac (HAVE_RES_INIT): Remove.  Worry about -lresolv only\n\twhen configured --with-hesiod.  Hesiod is still used; see, e.g.:\n\thttps://soylentnews.org/meta/article.pl?sid=15/07/13/0255214\n\t* src/Makefile.in (LIBRESOLV): Remove.  All uses removed.\n\n2016-02-29  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/progmodes/grep.el (grep-save-buffers): Fix type, tweak doc.\n\n\t* lisp/progmodes/grep.el (grep-save-buffers): Don't autoload defcustoms.\n\n2016-02-29  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* src/process.c (Fdelete_process): Simplify cast.\n\n2016-02-29  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tUse the correct background color when filling nested <divs>\n\n\t* lisp/net/shr.el (shr-face-background): Return the first\n\tbackground, because that's the one that's visible (bug#22680).\n\n2016-02-28  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMake <div> in <li> not insert extra newlines\n\n\t* lisp/net/shr.el (shr-tag-div): Make <div> in <li> not insert\n\textra newlines (bug#19587).\n\n2016-02-28  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAllow reading Gnus reports from an offline cache\n\n\t* lisp/gnus/gnus-group.el (gnus-read-ephemeral-bug-group):\n\tAllow reading bug reports from an offline cache directory.\n\n2016-02-28  Tino Calancha  <f92capac@gmail.com>\n\n\tMeta + shift + Fn combos are recognized by xterm>=216.\n\n\t* lisp/term/xterm.el (xterm-alternatives-map): Meta + shift +\n\tFn combos are recognized by xterm>=216 (bug#22837).\n\n2016-02-28  Simen Heggest\u00f8yl  <simenheg@gmail.com>\n\n\tDeclare $ as an expression prefix in SCSS\n\n\t* lisp/textmodes/css-mode.el (scss-mode-syntax-table): Declare $ as an\n\texpression prefix (bug#22841).\n\n2016-02-28  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRevert \"Declare $ as an expression prefix in SCSS\"\n\n\tThis reverts commit ffb33264f21e8af60b8055c47baffcf0f6c300df.\n\n\tRevering to fix author name.\n\n2016-02-28  Simen  <simenheg@gmail.com>\n\n\tDeclare $ as an expression prefix in SCSS\n\n\t* lisp/textmodes/css-mode.el (scss-mode-syntax-table): Declare $ as an\n\texpression prefix (bug#22841).\n\n2016-02-28  Hugh Brown  <aardvark@saintaardvarkthecarpeted.com>\n\n\tSave buffers before running grep commands\n\n\t* lisp/progmodes/grep.el (grep-ask-about-save): New variable (bug#96).\n\t(grep, lgrep, rgrep): Use it (bug#96).\n\n\t* doc/emacs/building.texi (Grep Searching): Document\n\t`grep-save-buffers'.\n\n\t* lisp/progmodes/grep.el (grep-save-buffers): Rename from\n\t`grep-ask-about-save'.\n\t(grep--save-buffers): New function.\n\t(grep, lgrep, rgrep): Use it.\n\n2016-02-28  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAllow sorting flyspell corrections\n\n\t* lisp/textmodes/flyspell.el (flyspell-sort): New function (bug#2405).\n\t(flyspell-sort-corrections-functionx): New variable.\n\t(flyspell-sort-corrections-alphabetically): New function.\n\t(flyspell-notify-misspell): Use them.\n\t(flyspell-auto-correct-word): Ditto.\n\t(flyspell-emacs-popup): Ditto.\n\t(flyspell-xemacs-popup): Ditto.  Suggested by Sebastien Delafond.\n\n2016-02-28  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tWait for async DNS to complete before freeing resources\n\n\t* src/process.c (Fdelete_process): Wait for async DNS to\n\tcomplete before freeing the data structures it needs.\n\n2016-02-28  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\t* lisp/faces.el: Remove duplicated functions from previous patch.\n\n2016-02-28  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix TLS connections on MS-Windows\n\n\t* src/w32.c (sys_write): If 'send' returns with WSAENOTCONN, and\n\tthis is a non-blocking socket whose connection is in progress, set\n\terrno to EWOULDBLOCK, as expected by GnuTLS and other callers.\n\tAvoid overwriting the errno value from 'send' by 'ioctlsocket'.\n\tSuggested by Alain Schneble <a.s@realize.ch>.  (Bug#22789)\n\n2016-02-27  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAdd a NEWS entry for the read-color change\n\n2016-02-27  Jan Moringen  <jan.moringen@uni-bielefeld.de>\n\n\tShow the face colors when completing in `read-color'\n\n\t* lisp/faces.el (defined-colors-with-face-attributes): New function.\n\t(readable-foreground-color, defined-colors-with-face-attributes)\n\t(readable-foreground-color): Ditto.\n\t(read-color): Use them (bug#5305).\n\n2016-02-27  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tClean up the code in parse-time-string-chars\n\n\t* lisp/calendar/parse-time.el (parse-time-string-chars):\n\tClean up the code a bit.\n\n2016-02-27  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAdd some tests for parse-time.el\n\n\t* test/lisp/calendar/parse-time-tests.el: New file.\n\n2016-02-27  Dima Kogan  <dima@secretsauce.net>\n\n\tStrip out some leading whitespace when looking at logs\n\n\t* lisp/vc/vc-git.el (vc-git-expanded-log-entry): When looking\n\tat expanded git logs with `vc-print-root-log' (C-x v L, then\n\t<enter> by default), Emacs was stripping out all leading\n\twhitespace from git logs.  I now strip exactly 2 leading\n\tspaces, which retains the indentation in the logs (bug#18110).\n\n2016-02-27  Dima Kogan  <dima@secretsauce.net>\n\n\tUse a separate history variable for align-regexp\n\n\t* lisp/align.el (align-regexp-history): New variable (bug#16891).\n\t(align-regexp): Use it.\n\n2016-02-27  Phil Sung  <philbert@gmail.com>\n\n\tCreate subdirectories automatically in wdired\n\n\t* lisp/wdired.el (wdired-create-parent-directories): New\n\tvariable (bug#6817).\n\t(wdired-create-parentdirs): New function.\n\t(wdired-do-renames): Use it.\n\t* doc/emacs/dired.texi (Wdired): Mention\n\t`wdired-create-parent-directories'\n\n2016-02-27  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tReturn the correct error values from gnutls.c\n\n\t* src/gnutls.c (emacs_gnutls_read): Set errno to the value\n\texpected by process.c.\n\t(gnutls_try_handshake): Set gnutls_p to true earlier to avoid\n\tpossible race condition with the process.c socket polling\n\tfunctions.\n\n2016-02-27  Aaron S. Hawley  <aaron.s.hawley@gmail.com>\n\n\tDon't make assumptions about mkdir.  (Bug#22822)\n\n\t* test/Makefile.in (MKDIR_P): New, set by configure.\n\t(%.log): Use MKDIR_P.\n\n2016-02-27  Alexander Kuleshov  <kuleshovmail@gmail.com>\n\n\tSupport switching to hexl-mode from image-mode\n\n\t* lisp/image-mode.el (image-toggle-hex-display)\n\t(image-mode-to-text): New functions.\n\t(image-mode-map, image-minor-mode-map): Bind \"C-c C-x\" to\n\timage-toggle-hex-display.\n\t(image-mode-map): New menu item \"Show as Hex\".\n\t(image-mode): Update doc string and echo-area message.\n\t(image-toggle-display): Support toggle to hex.  (Bug#22453)\n\n\t* doc/emacs/files.texi (File Conveniences): Document\n\t'image-toggle-hex-display'.\n\n2016-02-27  Eli Zaretskii  <eliz@gnu.org>\n\n\tRemove unused code in coding.c\n\n\t* src/coding.c (decode_eol): Remove unused code that handled the\n\tcase of coding->dst_object being nil.  Replace it with an\n\tassertion.\n\n2016-02-26  Aurelien Aptel  <aaptel@suse.com>\n\n\t* src/syntax.c: Fix result of syntax_multibyte()\n\n\tThe ?: operator has a lower precedence than ||.\n\tBug introduced by commit 45b683a.\n\n2016-02-26  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t--enable-gcc-warnings now uses -Wjump-misses-init\n\n\tWhen configuring with --enable-gcc-warnings, also enable\n\t-Wjump-misses-init, as it\u2019s confusing to use a goto to skip over\n\tan initialization.  Fix the few places in the code that run afoul\n\tof this warning.\n\t* configure.ac (WERROR_CFLAGS): Add -Wjump-misses-init.\n\t* src/doc.c (Fsubstitute_command_keys):\n\t* src/image.c (svg_load_image):\n\t* src/regex.c (re_match_2_internal):\n\t* src/xdisp.c (redisplay_internal, redisplay_window):\n\tDon\u2019t jump over initialization.\n\n2016-02-26  Jussi Lahdenniemi  <jussi@aprikoodi.fi>\n\n\tImprove the register-hotkey functionality on MS-Windows\n\n\t* src/w32fns.c (_WIN32_WINNT): Define to 0x0600, needed for\n\tkeyboard hook functionality.\n\tInclude w32inevt.h, basetyps.h and unknwn.h.\n\t(VK_ANY, WM_WTSSESSION_CHANGE, WTS_SESSION_LOCK): New macros.\n\t(kbdhook): A new struct definition.\n\t(funhook, setup_w32_kbdhook, remove_w32_kbdhook, hook_w32_key)\n\t(check_w32_winkey_state, reset_w32_kbdhook_state): New functions.\n\t(modifier_set): Call check_w32_winkey_state if a Win key was\n\tpressed and the keyboard hook is active.\n\t(w32_wnd_proc): Don't handle Win key combinations if the keyboard\n\thook is active.  Only register/unregister the hotkeys if the\n\tkeyboard hook is not active.  When WM_CREATE is received, call\n\tsetup_w32_kbdhook.  When WM_DESTROY is received, call\n\treset_w32_kbdhook_state.\n\t(lookup_vk_code): When the keyboard hook is active, map\n\talphanumeric characters to themselves.\n\t(w32_parse_and_hook_hot_key): Renamed from w32_parse_hot_key.  Map\n\tmodified keys to VK_ANY if the keyboard hook is active.  Register\n\tAlt-x and Win-x combinations.\n\t(Fw32_shell_execute): Update doc string to reflect new\n\tfunctionality.  Bypass the code that posts the\n\tWM_EMACS_REGISTER_HOT_KEY message if the keyboard hook is active.\n\t(Fw32_unregister_hot_key): Bypass the code that posts the\n\tWM_EMACS_UNREGISTER_HOT_KEY message if the keyboard hook is active.\n\t(syms_of_w32fns) <w32-pass-lwindow-to-system>\n\t<w32-pass-rwindow-to-system, w32-phantom-key-code>\n\t<w32-lwindow-modifier, w32-rwindow-modifier>: Update doc strings\n\tto reflect the new functionality.\n\t* src/w32console.c (initialize_w32_display): Install the low-level\n\tkeyboard hook.\n\t* src/w32inevt.c (key_event): Handle Win-x combinations only if\n\tthe keyboard hook is not active.  If the hook is active, use\n\tcheck_w32_winkey_state instead.\n\t* src/w32term.h (setup_w32_kbdhook, remove_w32_kbdhook)\n\t(check_w32_winkey_state): Add prototypes.\n\t(w32_kbdhook_active): New macro.\n\n\t* doc/emacs/msdos.texi (Windows Keyboard): Update to reflect the\n\tnew functionality.\n\n2016-02-25  Aaron S. Hawley  <aaron.s.hawley@gmail.com>\n\n\tAdd forward-sexp (and related) tests\n\n\t* test/lisp/emacs-lisp/lisp-tests.el: New file for testing\n\tforward-sexp and related functions (bug#22800).\n\n2016-02-25  Jan Tatarik  <jan.tatarik@gmail.com>\n\n\tDon't use (localized) week days in dates\n\n\t* lisp/gnus/gnus-icalendar.el\n\t(gnus-icalendar-event:org-timestamp): Don't use (localized)\n\tweek days in the dates, because that messes up things later.\n\n2016-02-25  Thierry Volpiatto  <thierry.volpiatto@gmail.com>\n\n\tUpdate pcomplete/find\n\n\t* lisp/pcmpl-gnu.el (pcomplete/find): Update to newest version\n\t(bug#10487).\n\n2016-02-25  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMake parse-time-string-chars more efficient\n\n\t* lisp/calendar/parse-time.el (parse-time-string-chars): The\n\tstring has already been downcase, so don't care about case\n\t(bug#18522).\n\n2016-02-25  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRemove killed buffers from the list of Gnus buffers\n\n\t* lisp/gnus/gnus.el (gnus-prune-buffers): Remove killed\n\tbuffers from the list of Gnus buffers (bug#18522).\n\n2016-02-25  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tInteger overflow cleanups for ports and socklen\n\n\t* src/process.c (struct sockaddr_and_len, conv_sockaddr_to_lisp)\n\t(get_lisp_to_sockaddr_size, Fset_process_datagram_address)\n\t(connect_network_socket):\n\tUse ptrdiff_t, not int, for signed object sizes.\n\tThis addresses only a theoretical problem, as in practice these\n\tobject sizes are less than 2**31, but we might as well use the\n\tsame style here as elsewhere in Emacs.\n\t(string_integer_p): Remove; all uses removed.\n\t(Fmake_network_process): Check that port number is in range.\n\tWhen converting an integer-string service, rely on strtol\n\trather than rechecking the string by hand.\n\t* src/process.h, src/w32.c (conv_sockaddr_to_lisp):\n\tAdjust prototypes to match.\n\n2016-02-24  Thierry Volpiatto  <thierry.volpiatto@gmail.com>\n\n\tAdd pcomplete support for find\n\n\t* lisp/pcmpl-gnu.el (pcomplete/find): Add pcomplete support\n\tfor find (bug#10487).\n\n2016-02-24  Per Starb\u00e4ck  <starback@stp.lingfil.uu.se>\n\n\tReplace XXX acronyms with draft standard ones\n\n\t* lisp/international/characters.el (c1-acronyms): Replace XXX\n\tentries with the acronyms PAD, HOP, SGCI from draft DIS 10646\n\t(bug#13745).\n\n2016-02-24  Kevin Ryde  <user42@zip.com.au>\n\n\tMake checkdoc warn about variables described as \"True\"\n\n\t* lisp/emacs-lisp/checkdoc.el (checkdoc-this-string-valid-engine):\n\tDocstrings for variables \"True...\", and functions \"Return\n\ttrue...\", should usually be \"non-nil\" (bug#15506).\n\n2016-02-24  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAdd NEWS entry for \"number string\" change\n\n2016-02-24  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAllow using \"number strings\" as services on non-GNU systems\n\n\t* src/process.c (string_integer_p): New function.\n\t(Fmake_network_process): Use it to allow connecting to\n\tservices specified as \"993\" even when getaddrbyname isn't\n\tavailable.\n\n2016-02-24  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix problem in tramp.texi\n\n\t* doc/misc/tramp.texi (File name completion): Do not use\n\t@trampfn{} for IPv6 addresses.  Somehow, it results in errors\n\tduring PDF creation.\n\n2016-02-23  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMake image commands available in image-mode\n\n\t* lisp/image-mode.el (image-mode-map): Inherit from\n\t`image-map' so that the usual image commands work.\n\n2016-02-23  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMove `o' to `O' in shr-map\n\n\t* lisp/net/shr.el (shr-map): `shr-save-contents' has moved\n\tfrom `o' to `O' to avoid collisions with `image-map'.\n\n2016-02-23  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMake setting the coding system non-blocking\n\n\t* src/process.c (Fset_process_filter_multibyte): Defer\n\tcompleting coding system setup in asynchronous processes.\n\t(Fset_process_coding_system): Ditto.\n\n2016-02-23  Gregoire Jadi  <daimrod@gmail.com>\n\n\tMention `proced-toggle-auto-update' in the proced-mode doc string\n\n\t* lisp/proced.el (proced-mode): Mention\n\t`proced-toggle-auto-update' (bug#14341).\n\n2016-02-23  Joshua Datko  <jbdatko@gmail.com>  (tiny change)\n\n\tAdd a fortune-message command\n\n\t* lisp/play/fortune.el (fortune-message): Add a command to\n\tdisplay fortunes in the echo area (bug#14915).\n\n2016-02-23  Susanne Oberhauser  <froh@suse.com>  (tiny change)\n\n\tAdd hideshow bindings analogous to outline mode\n\n\t* lisp/progmodes/hideshow.el (hs-minor-mode-map): Add bindings\n\tanalogous to outline mode bindings (bug#15324).\n\n2016-02-23  Bastien Guerry  <bzg@altern.org>\n\n\tAllow highlighting things like @math{2^{12}}\n\n\t* lisp/textmodes/texinfo.el (texinfo-font-lock-keywords):\n\tAllow highlighting things like @math{2^{12}} (bug#16390).\n\n2016-02-23  Per Bothner  <per@bothner.com>\n\n\tMake `C-{up,down,left,right}' work in term mode\n\n\t* lisp/term.el (term-raw-map): Define C-{up,down,left,right}\n\tto send the same escape sequence that xterm sends.  This makes\n\tbackward-word and forward-word work in readline (bug#16746).\n\n2016-02-23  Dima Kogan  <dima@secretsauce.net>\n\n\tAllow ff-find-other-file (etc) to work with indirect clone buffers\n\n\t* lisp/find-file.el (ff-buffer-file-name): New function to\n\tallow the feature to work with indirect buffers, too\n\t(bug#16904).\n\t(ff-find-the-other-file): Use it.\n\t(ff-other-file-name): Ditto.\n\t(ff-get-file-name): Ditto.\n\n2016-02-23  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFix error in add-change-log-entry when the entry has no newline\n\n\t* lisp/vc/add-log.el (add-change-log-entry): The entry in the\n\tChangeLog may end without a new line starting with blanks.\n\n2016-02-23  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAvoid using mm-util functoins in gravatar.el\n\n\t* lisp/image/gravatar.el (gravatar-retrieve): Avoid using\n\tmm-util functions.\n\t(gravatar-retrieve-synchronously): Ditto.\n\n2016-02-23  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMove low-level library files from the lisp/gnus directory\n\n\tThe files moved from lisp/gnus are:\n\n\tauth-source.el -> /\n\tcompface.el -> /image\n\tecomplete.el -> /\n\tflow-fill.el -> /mail\n\tgravatar.el -> /image\n\tgssapi.el -> /net\n\thtml2text.el -> /net\n\tietf-drums.el -> /mail\n\tmail-parse.el -> /mail\n\tmail-prsvr.el -> /mail\n\tmailcap.el -> /net\n\tplstore.el -> /\n\tpop3.el -> /net\n\tqp.el -> /mail\n\tregistry.el -> /\n\trfc1843.el -> /international\n\trfc2045.el -> /mail\n\trfc2047.el -> /mail\n\trfc2231.el -> /mail\n\trtree.el -> /\n\tsieve-manage.el -> /net\n\tsieve-mode.el -> /net\n\tsieve.el -> /net\n\tstarttls.el -> /net\n\tutf7.el -> /international\n\tyenc.el -> /mail\n\n2016-02-23  Tino Calancha  <f92capac@gmail.com>\n\n\tAllow undoing changes while doing query-replace\n\n\t* doc/lispref/searching.texi (Search and Replace): Mention\n\tundo (bug#21684).\n\n\t* lisp/replace.el (query-replace-help): Document undo.\n\t(perform-replace): Implement undo while replacing text.\n\n2016-02-23  John F. Trudeau  <JFTrudeau@aetna.com>  (tiny change)\n\n\tHighlight assignments in Makefiles more correctly\n\n\t* lisp/progmodes/make-mode.el (makefile-macroassign-regex):\n\tHighlight assignments preceded by a TAB character correctly\n\t(bug#20787).\n\n2016-02-23  Fredrik Bergroth  <fbergroth@gmail.com>  (tiny change)\n\n\tUse memmove instead of memcpy on overlapping regions\n\n\t* src/editfns.c (Ftranspose_regions): Regions may overlap, so\n\tuse memmove instead of memcpy (bug#19213).\n\n2016-02-23  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort to --enable-gcc-warnings sans getaddrinfo_a\n\n\t* src/process.c (Fmake_network_process): Add ATTRIBUTE_UNUSED\n\tto a local unused when getaddrinfo_a is missing.\n\tResize portbuf to size needed.  Do cheap test first.\n\tMove local to block where it\u2019s needed.\n\n2016-02-23  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMinor cleanups for async DNS etc.\n\n\t* src/frame.h (FRAME_WINDOW_CONFIGURATION_CHANGED):\n\tOmit unnecessary parens.\n\t* src/gnutls.c (gnutls_try_handshake, emacs_gnutls_deinit)\n\t(gnutls_verify_boot):\n\tUse bool for boolean.\n\t(ATTRIBUTE_FORMAT_PRINTF): Add printf attribute.\n\t* src/process.c (free_dns_request, Fmake_network_process):\n\tAllocate and free async request control block all in one go.\n\t(set_network_socket_coding_system, finish_after_tls_connection)\n\t(connect_network_socket):\n\tNow static.\n\t(conv_numerical_to_lisp): 2nd arg is now int, not unsigned.\n\t(Fmake_network_process): Use list1 for brevity.\n\t(wait_for_socket_fds): 2nd arg is now const ptr.\n\t* src/process.h (struct Lisp_Process.dns_request):\n\tNow struct gaicb *, not struct gaicb **, since there was always\n\texactly one.  All uses changed.\n\t* src/window.c, src/window.h (run_window_configuration_change_hook):\n\tNow static.\n\n2016-02-23  Carlos Pita  <carlosjosepita@gmail.com>\n\n\tAllow more shell script defun forms\n\n\t* lisp/progmodes/sh-script.el (sh-mode): Allow more shell\n\tscript defun forms, like function name () {...} (bug#19754).\n\n2016-02-23  Martin Rudalics  <rudalics@gmx.at>\n\n\tFix `window-configuration-change-hook' and `window-size-change-functions'\n\n\t(1) Run `window-configuration-change-hook' if and only if at least\n\tone window was deleted or created or shows another buffer since\n\tlast redisplay.\n\n\t(2) Run `window-size-change-functions' if and only if at least\n\tone window changed its size since last redisplay (in a few cases\n\t`window-size-change-functions' will also run when no window\n\tchanged its size).\n\n\t(3) Provide two functions `window-pixel-height-before-size-change'\n\tand `window-pixel-width-before-size-change' that allow to easily\n\tdetect which window changed size.\n\n\t* src/frame.h (struct frame): New boolean member\n\twindow_configuration_changed.\n\t(FRAME_WINDOW_SIZES_CHANGED): Remove macro.\n\t(FRAME_WINDOW_CONFIGURATION_CHANGED): New macro.\n\t* src/frame.c (adjust_frame_size): Don't run\n\t`window-configuration-change-hook'.\n\t* src/window.h (struct window): New fields\n\tpixel_width_before_size_change and pixel_height_before_size_change.\n\t(WINDOW_INTERNAL_P): New macro.\n\t* src/window.c (Fwindow_pixel_width_before_size_change)\n\t(Fwindow_pixel_height_before_size_change): New functions.\n\t(Fdelete_other_windows_internal, Fwindow_resize_apply)\n\t(resize_frame_windows, Fsplit_window_internal)\n\t(Fdelete_window_internal, grow_mini_window)\n\t(shrink_mini_window, Fresize_mini_window_internal): Don't call\n\tFRAME_WINDOW_SIZES_CHANGED.\n\t(window_size_changed, window_set_before_size_change_sizes)\n\t(run_window_size_change_functions): New functions.\n\t(make_window): Initialize pixel_width_before_size_change and\n\tpixel_height_before_size_change.\n\t(Fdelete_window_internal): Don't call\n\trun_window_configuration_change_hook.\n\t(struct saved_window): Add pixel_height_before_size_change and\n\tpixel_width_before_size_change.\n\t(Fset_window_configuration): Try to identify window configuration\n\tchanges correctly so run_window_configuration_change_hook and\n\trun_window_size_change_functions run only if configuration and size\n\treally changed.\n\t(save_window_save): Set the pixel_height_before_size_change and\n\tpixel_width_before_size_change fields.\n\t(Vwindow_size_change_functions): Move here definition from xdisp.c.\n\t* src/xdisp.c (prepare_menu_bars, redisplay_internal): Call\n\trun_window_size_change_functions.\n\t(Vwindow_size_change_functions): Move definition to window.c.\n\t* src/xfns.c (x_set_menu_bar_lines): Don't call\n\trun_window_configuration_change_hook.\n\t* doc/lispref/windows.texi (Window Sizes): Document new\n\tfunctions `window-pixel-height-before-size-change' and\n\t`window-pixel-width-before-size-change'.\n\t(Window Configurations): Mention that this may trigger\n\texecution of `window-size-change-functions' although no window\n\tchanged size.\n\t(Window Hooks): Update descriptions of `window-size-change-functions'\n\tand `window-configuration-change-hook'.\n\n2016-02-23  Drew Adams  <drew.adams@oracle.com>\n\n\t(ls-lisp-insert-directory): Make -B work\n\n\t* lisp/ls-lisp.el (ls-lisp-insert-directory): Make -B work\n\t(bug#20776).\n\n2016-02-23  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFix typo in message-setup-fill-variables\n\n\t* lisp/gnus/message.el (message-setup-fill-variables): Fix\n\ttypo in a recent checkin that used `setq-default' instead of\n\t`setq-local' (bug#22781).\n\n2016-02-23  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\t`message-dont-reply-to-names' can also be a list of regexps\n\n\t* lisp/gnus/message.el (message-dont-reply-to-names):\n\t`message-dont-reply-to-names' can also be a list of regexps (bug#22773).\n\n2016-02-23  Vaidheeswaran C  <vaidheeswaran.chinnaraju@gmail.com>\n\n\tMake buttons in header lines work\n\n\t* lisp/help-mode.el (help-button-action): `help-xref-button' in\n\theader line doesn't work (bug#21024).\n\n2016-02-23  Vasilij Schneidermann  <v.schneidermann@gmail.com>\n\n\tPlace apples randomly in Snake\n\n\t* lisp/play/snake.el (snake-score): New variable (bug#21359).\n\t(snake-set-dot): Place the apples randomly.\n\n2016-02-23  Tino Calancha  <f92capac@gmail.com>\n\n\tAllow optional parameter to be nil\n\n\t* lisp/ibuf-ext.el (ibuffer-copy-filename-as-kill): Allow the\n\toptional parameter to be nil (bug#21576).\n\n2016-02-23  Tino Calancha  <f92capac@gmail.com>\n\n\tCompletely ignore buffers with no name when copying file names\n\n\t* lisp/ibuf-ext.el (ibuffer-copy-filename-as-kill): Completely\n\tignore buffers with no file name. (bug#21577).\n\n2016-02-23  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMake spelling of \"Eshell\" consistent\n\n\t* lisp/eshell/esh-mode.el (eshell-mode): Spell it \"Eshell\".\n\t* lisp/eshell/eshell.el (eshell-command):\n\tSpell it \"Eshell\" (bug#21678).\n\n2016-02-23  Simen Heggest\u00f8yl  <simenheg@gmail.com>\n\n\tAllow pretty lambdas in Scheme mode\n\n\t* lisp/progmodes/scheme.el (scheme-mode-variables): Borrow\n\t`prettify-symbols-alist' from Lisp mode (bug#21679).\n\n2016-02-23  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRename lisp--prettify-symbols-alist\n\n\t* lisp/emacs-lisp/lisp-mode.el (lisp-prettify-symbols-alist):\n\tRename from `lisp--prettify-symbols-alist' since we're going\n\tto use it in Scheme mode, too.\n\t(lisp-mode-variables): Use it.\n\n2016-02-23  Chunyang Xu  <xuchunyang56@gmail.com>  (tiny change)\n\n\tRemove spurious newline in package list\n\n\t* lisp/emacs-lisp/package.el (describe-package-1): Remove\n\tspurious newline (bug#21706).\n\n2016-02-23  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRevert \"Remove spurious newline in package list\"\n\n\tThis reverts commit fad14c289d36a2c61e0fd34105ebb1f62c80d71d.\n\n2016-02-23  Chunyang Xu  <xuchunyang56@gmail.com>\n\n\tRemove spurious newline in package list\n\n\t* lisp/emacs-lisp/package.el (describe-package-1): Remove\n\tspurious newline (bug#21706).\n\n2016-02-22  Tino Calancha  <f92capac@gmail.com>  (tiny change)\n\n\tKeep the position in the process buffer when deleting processes\n\n\t* lisp/simple.el (process-menu-delete-process): Keep the\n\tposition in the buffer after killing a process (bug#21759).\n\n2016-02-22  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRequire that the buffer that we're trying to patch exist\n\n\t* lisp/vc/ediff.el (ediff-patch-buffer): Require that the\n\tbuffer that we're trying to patch exist (bug#21852).\n\n2016-02-22  Tino Calancha  <f92capac@gmail.com>  (tiny change)\n\n\tRequire that the buffer that we're trying to patch exist\n\n\t* lisp/vc/ediff.el (ediff-patch-buffer): Require that the\n\tbuffer that we're trying to patch exist (bug#21852).\n\n2016-02-22  Tino Calancha  <f92capac@gmail.com>  (tiny change)\n\n\tBe more verbose when changing frame mode in ediff\n\n\t* lisp/vc/ediff-util.el (ediff-toggle-multiframe): Say what\n\tmode we toggled to (bug#21853).\n\n2016-02-22  \u0141ukasz Stelmach  <stlman@poczta.fm>\n\n\tEncode header strings before printing\n\n\t* lisp/ps-print.el (ps-generate-header-line): Encode the\n\theader strings to avoid problems with non-ASCII headers\n\t(bug#22611).\n\n2016-02-22  Michal Nazarewicz  <mina86@mina86.com>\n\n\tTest message-strip-subject-trailing-was\n\n\t* test/lisp/gnus/message-tests.el (message-strip-subject-trailing-was):\n\tNew test (bug#22632).\n\n2016-02-22  Michal Nazarewicz  <mina86@mina86.com>\n\n\tMake use of the `ert-with-function-mocked' macro\n\n\t* test/lisp/calendar/icalendar-tests.el (icalendar--create-uid):\n\t* test/lisp/vc/vc-bzr-tests.el (vc-bzr-test-bug9781): Use\n\t`ert-with-function-mocked' instead of implementing the fragile\n\t`unwind-protect' logic openly.\n\n2016-02-22  Michal Nazarewicz  <mina86@mina86.com>\n\n\tmessage-strip-subject-trailing-was: Refactor\n\n\t* lisp/gnus/message.el (message-strip-subject-trailing-was): Refactor\n\tthe function replacing sequence of `if' calls with a mixture of `or'\n\tand `and' calls instead.  This makes it shorter and containing less\n\tinternal state thus easier to follow.\n\n2016-02-22  Michal Nazarewicz  <mina86@mina86.com>\n\n\tert-with-function-mocked: New macro\n\n\t* lisp/emacs-lisp/ert-x.el (ert-with-function-mocked): New macro which\n\tallows evaluating code while particular function is replaced with\n\ta mock.  The original definition of said function is restored once the\n\tmacro finishes.\n\n2016-02-22  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMove Gnus functions frm rfc1843 to new file gnus-rfc1843\n\n\t* lisp/gnus/gnus-rfc1843.el: New file for Gnus/rfc1843\n\tinterface functions.\n\n\t* lisp/gnus/gnus-rfc1843.el: Move all Gnus-specifig functions to\n\tgnus-rfc1843.\n\n2016-02-22  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDon't use mm-util functions in qp.el\n\n\t* lisp/gnus/qp.el (quoted-printable-decode-region): Don't use\n\tmm-util functions.\n\t(quoted-printable-encode-string): Ditto.\n\t(quoted-printable-encode-region): Ditto.\n\n2016-02-22  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDon't require mm-util\n\n\t* lisp/mail/ietf-drums.el (mm-util): Don't require.\n\n2016-02-22  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRemove Gnus functions from auth-source.el\n\n\t* lisp/gnus/auth-source.el (auth-source-netrc-parse-entries):\n\tRemove usage of Gnus utility function.\n\t(mm-util, gnus-util): Don't require.\n\n2016-02-22  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAllow deleting all non-matching cookies\n\n\t* lisp/url/url-cookie.el (url-cookie-delete-cookies): Allow\n\tkeeping matching cookies (bug#22720).\n\n2016-02-22  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMake (setf (image-property ...)) return VALUE\n\n\t* lisp/image.el (image--set-property): Return VALUE, not IMAGE.\n\n2016-02-22  John Wiegley  <johnw@newartisans.com>\n\n\tMerge from origin/emacs-25\n\n\ta9c48d5 Additional fixes for file notification\n\t6bd9d69 Fix documentation of 'global-disable-point-adjustment'\n\t8c22ac9 ; Spelling fix\n\t2975784 Set file modes of pinentry socket for extra safety\n\t2667b3e Clarify GnuPG version compatibility chapter\n\t5e34c36 Revert \"Change the default socket location for pinentry\"\n\te19c1c3 Kill off xref--display-history\n\t5698947 Keep the xref buffer visible until the user quits it explicitly\n\te34fbde Change the default socket location for pinentry\n\t5f89658 Mention how to enable pinentry feature\n\tdb51224 Sync with gnulib\n\taa5a794 Remove `semanticdb-save-all-db-idle' from `auto-save-hook'\n\t2d8b2fd Restore point when writing semantic table to disk\n\t27d3430 Mention pinentry.el in epa manual\n\t5baa001 Fix Bug#22736\n\t7261355 Grammar fix in doc string\n\td0f3b18 Naming fix for consistency\n\t74ec92d Prefer customized value for GnuPG executable\n\tea0b604 Fix memory reservation on MS-Windows\n\tc5f72aa Update NextStep readme and add wish list.\n\t6de26a7 Report also result in `file-notify--test-event-handler'\n\t5d17ae7 Improve file-notify-test08-watched-file-in-watched-dir\n\t1cb1268 Fix todo-mode item date editing bugs\n\t1e996cf Fix \"[:upper:]\" for non-ASCII characters\n\t896f993 Allow customizing the article mode cursor behavior\n\t24c1c1d Use pop-to-buffer-same-window in woman.el\n\t2a75f64 New filenotify test for bug#22736\n\tc9bccf7 Report critical battery errors\n\td675db9 Make eww message toggling message clearer\n\t5e0bb40 * lisp/calc/calc-units.el (math-standard-units): Update to 2014 CODATA adjustment.\n\tfa8fd65 ; Improve character-folding entries in NEWS\n\t3722a69 Fix bugs in window resizing code\n\t289d5c6 Fix decoding DOS EOL in a unibyte buffer\n\t2abcb06 Correct c-parse-state cache manipulation error.\n\t14aec91 Take advantage of new GnuPG version check function\n\te80c2a7 Make GnuPG version check robuster\n\t15a9464 Fix x-load-color-file pointer signedness\n\t132dbf0 * lisp/time-stamp.el (time-stamp-time-zone): Fix doc string punct.\n\t78ab6f1 Follow convention for greek letter constants.\n\t106b5bb Add Stefan-Boltzmann constant to calc units table.\n\tb96baa8 * lisp/calc/calc-units.el (math-build-units-table-buffer): Use special-mode.\n\t5f91cf9 Avoid loading cl-lib for term/xterm.elc, eg in -Q -nw.  (Bug#22669)\n\t2d40f7d Fix soffice UserInstallation-URL for Windows\n\tb1a3ebe Fix display of <pre> elements\n\t57d0e3d ; * lisp/help-fns.el: Remove outdated comment.\n\t7a0628d ; * admin/make-tarball.txt: Mention cleaning.\n\n2016-02-22  Oleh Krehel  <ohwoeowho@gmail.com>\n\n\tlisp/calendar/appt.el (appt-delete-window): Check if buffer is live\n\n\t* lisp/calendar/appt.el (appt-delete-window): Avoid trying to delete a\n\t  non-existing buffer.\n\n2016-02-21  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMention the further asynchronousity\n\n2016-02-21  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFix async TLS boot problem\n\n\t* src/process.c (wait_reading_process_output): Verify the boot\n\tof the correct process.\n\n2016-02-21  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tClean up forgotten text in manual\n\n\t* doc/lispref/display.texi (Defining Images): Remove example\n\tforgotten when making previous change.\n\n2016-02-21  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tClean up debugging code\n\n\t* src/process.c (Fmake_network_process): Remove debugging printf.\n\t(wait_for_socket_fds, wait_while_connecting)\n\t(wait_for_tls_negotiation): Remove newlines from messages.\n\n2016-02-21  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFix merge conflicts in network-stream-tests.el\n\n2016-02-21  Paul Eggert  <eggert@penguin.cs.ucla.edu>\n\n\tPort recent filevercmp addition to MS-Windows\n\n\tReported by Andy Moreton in:\n\thttps://lists.gnu.org/r/emacs-devel/2016-02/msg01302.html\n\t* nt/gnulib.mk (libgnu_a_SOURCES): Add filevercmp.c.\n\t(EXTRA_DIST): Add filevercmp.h.\n\n2016-02-21  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tadd_to_log expects Lisp parameters\n\n2016-02-21  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMention sentinels in conjunction with :nowait t.\n\n\t* doc/lispref/processes.texi (Network Processes): Mention the\n\trecommended way of using sentinels with :nowait t.\n\n2016-02-21  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMention in the doc strings that process functions may block\n\n\t(Fprocess_contact, Fprocess_datagram_address)\n\t(Fset_process_datagram_address, Fset_network_process_option)\n\t(Fprocess_send_region, Fprocess_send_string): Mention that the\n\tfunctions may block.\n\t(Fset_process_coding_system): Ditto.\n\n2016-02-21  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAdd blocker warnings to the *Messages* buffer\n\n\t* src/process.c (wait_for_socket_fds): Add warning to the log.\n\t(wait_while_connecting): Ditto.\n\t(wait_for_tls_negotiation): Ditto.\n\n2016-02-21  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRework the image property getter/setters\n\n\t* doc/lispref/display.texi (Defining Images): Document the\n\trenamed `image-get/set-property' functions.\n\n\t* lisp/image.el (image--set-property): Rename from\n\timage-set-property.\n\t(image-property): Declare a setf form.\n\t(image-property): Rename from `image-get-property'.\n\n2016-02-21  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tUse Gnulib filevercmp for version comparison\n\n\t* admin/merge-gnulib (GNULIB_MODULES): Add filevercmp.\n\t* doc/lispref/strings.texi (Text Comparison):\n\t* etc/NEWS, src/fns.c:\n\t* test/src/fns-tests.el (fns-tests-string-version-lessp):\n\tRename newly-introduced function to string-version-lessp, by\n\tanalogy with strverscmp.\n\t* lib/filevercmp.c, lib/filevercmp.h: New files, copied from gnulib.\n\t* lib/gnulib.mk, m4/gnulib-comp.m4: Regenerate.\n\t* src/fns.c: Include <filevercmp.h>.\n\t(gather_number_from_string): Remove.\n\t(Fstring_version_lessp): Reimplement via filevercmp.\n\n2016-02-20  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAdd a function to delete URL cookies\n\n\t* doc/misc/url.texi (Cookies): Document\n\turl-cookie-delete-cookies.\n\n\t* lisp/url/url-cookie.el (url-cookie-delete-cookies): New function.\n\n2016-02-20  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAvoid integer overflows in string-numeric-lessp\n\n\t* src/fns.c (Fstring_numeric_lessp): If we have an integer\n\toverflow, compare lexicographically.\n\n2016-02-20  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAdd the string-numeric-lessp function\n\n\t* doc/lispref/strings.texi (Text Comparison): Document\n\t`string-numerical-lessp'.\n\n\t* src/fns.c (Fstring_numeric_lessp): New function.\n\t(gather_number_from_string): Helper function for that function.\n\n\t* test/src/fns-tests.el (fns-tests-string-numeric-lessp): Add tests.\n\n2016-02-20  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tClarify levels of :nowait t.\n\n\t* doc/lispref/processes.texi (Network Processes): Mention\n\tlevels of asynchronicity.\n\n2016-02-20  Alain Schneble  <a.s@realize.ch>\n\n\tRespect DNS timeouts\n\n\t* src/process.c (check_for_dns): If the async DNS request\n\tfailed and the associated process is still in \"connect\" state,\n\tdeactivate the process and set status to \"failed\".\n\n2016-02-19  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAdd a frame around the placeholder image in shr\n\n\t* lisp/net/shr.el (shr-make-placeholder-image): Add a frame\n\taround the image.\n\n2016-02-19  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tUse placeholder images in shr to avoid text moving around\n\n\t* lisp/net/shr.el (shr-rescale-image): Pass in width/height\n\tfrom the HTML.\n\t(shr-tag-img): Ditto.\n\t(shr-string-number): New function.\n\t(shr-make-placeholder-image): Make placeholder images.\n\t(shr-tag-img): Insert them if we have SVG support.\n\n2016-02-19  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tGet explicit width/height + scale computations right\n\n\t* src/image.c (compute_image_size): :scale should also be\n\ttaken into account when :width and :height are explicitly names.\n\n2016-02-19  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tNew functions for getting and setting image properties\n\n\t* doc/lispref/display.texi (Defining Images): Document\n\timage-get/set-property.\n\n\t* lisp/image.el (image-set-property): New function.\n\t(image-get-property): Ditto.\n\n2016-02-19  Alan Mackenzie  <acm@muc.de>\n\n\tAwait the final mouse event in C-h c and C-h k.\n\n\t* lisp/help.el (describe-key-briefly, describe-key): On receiving a mouse\n\tevent, keep reading further events until a timeout occurs, to ensure we have\n\tthe complete mouse event from the user.\n\n2016-02-18  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAdd a library for creating and manipulating SVG images\n\n\t* doc/lispref/display.texi (SVG Images): New section.\n\n\t* lisp/svg.el: New file.\n\n2016-02-18  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFix up tests for async TLS negotiation\n\n2016-02-18  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFix coding system setup\n\n\t* src/process.c (set_network_socket_coding_system): Pass in\n\tthe host/service that's been computed already.\n\n2016-02-18  Michael Albinus  <michael.albinus@gmx.de>\n\n\tReference `tramp-theme' in GNU ELPA.\n\n\t* doc/misc/tramp.texi (Frequently Asked Questions):\n\tReference `tramp-theme' in GNU ELPA.\n\n2016-02-17  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tVerify the TLS connection asynchronously\n\n\t* src/gnutls.c (gnutls_verify_boot): Refactor out into its own\n\tfunction so that we can call it asynchronously.\n\t(Fgnutls_boot): Use it.\n\n\t* src/process.c (wait_reading_process_output): Verify the TLS\n\tnegotiation.\n\n2016-02-16  Simen Heggest\u00f8yl  <simenheg@gmail.com>\n\n\tAdd column layout module to CSS property list\n\n\t* lisp/textmodes/css-mode.el (css-property-ids): Add properties from\n\tCSS Multi-column Layout Module.\n\n2016-02-16  Michael Albinus  <michael.albinus@gmx.de>\n\n\tMinor cleanup in CONTRIBUTE and test/README\n\n\t* CONTRIBUTE: Remove detailed explanation about testing; this\n\tis now in test/README.\n\n\t* test/README: Don't mention automated/ subdirectory.\n\n2016-02-15  Glenn Morris  <rgm@gnu.org>\n\n\tProvide 'term/name in lisp/term files.\n\n\t* lisp/term/AT386.el, lisp/term/bobcat.el, lisp/term/cygwin.el:\n\t* lisp/term/internal.el, lisp/term/iris-ansi.el, lisp/term/linux.el:\n\t* lisp/term/lk201.el, lisp/term/news.el, lisp/term/ns-win.el:\n\t* lisp/term/pc-win.el, lisp/term/rxvt.el, lisp/term/screen.el:\n\t* lisp/term/sun.el, lisp/term/tty-colors.el, lisp/term/tvi970.el:\n\t* lisp/term/vt100.el, lisp/term/vt200.el, lisp/term/w32-win.el:\n\t* lisp/term/w32console.el, lisp/term/wyse50.el, lisp/term/x-win.el:\n\tFor consistency, provide 'term/name in all files that don't already.\n\n2016-02-15  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDeactivate the correct process\n\n\t* src/process.c (wait_reading_process_output): Deactivate the\n\tcorrect process on failure.\n\n2016-02-15  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tImplement asynch TLS negotiation\n\n\t* src/gnutls.c (gnutls_try_handshake): Factor out into its own\n\tfunction.\n\t(emacs_gnutls_handshake): Use it.\n\t(emacs_gnutls_read): Just return instead of retrying the handshake.\n\n\t* src/process.c (finish_after_tls_connection): Factor out\n\tinto its own function.\n\t(connect_network_socket): Use it.\n\t(wait_reading_process_output): Retry TLS handshakes.\n\t(wait_reading_process_output): Defer sentinel until TLS completes.\n\n2016-02-15  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tSimplify the DNS resolution loop a bit\n\n\t* src/process.c (wait_reading_process_output): Simplify the\n\tDNS resolution loop a bit.\n\n2016-02-15  Alain Schneble  <a.s@realize.ch>\n\n\tLoop over the process list instead of maintaining a separate list\n\n\t* src/process.c: Remove declaration/definition of dns_processes list.\n\t* src/process.c (wait_reading_process_output): Loop over all processes in\n\tVprocess_alist instead of dns_processes, to check for completed DNS\n\trequests.\n\n2016-02-15  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAllow setting the filter masks later\n\n\t* src/process.c (Fset_process_filter): Don't set the socket\n\tmasks here, because we may not have a socket yet.\n\t(set_process_filter_masks): New function.\n\t(connect_network_socket): Set the filter masks here.\n\n2016-02-15  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRemove debugging\n\n2016-02-15  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tEnsure we always free DNS resources when deleting a process\n\n\t* src/process.c (free_dns_request): Factor out into own function.\n\t(Fdelete_process): When deleting a process, free any DNS\n\tstructures associated with it.\n\t(check_for_dns): Always free all DNS resources.\n\n2016-02-15  Alain Schneble  <a.s@realize.ch>\n\n\tDon't block in set-process-window-size\n\n\t* src/process.c (set-process-window-size): Explicitly return Qnil when\n\tcalled with network processes as set_window_size won't work anyway on\n\tsocket fds.  As a welcome side effect, this makes the blocking\n\twait_for_socket_fds call obsolete.\n\n2016-02-15  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDo most of the coding system setup earlier\n\n\t* src/process.c (Fmake_network_process): Set the read/write\n\tcoding systems here, so that special bindings work.\n\t(Fmake_network_process): Complete the coding system setup here.\n\n2016-02-15  John Wiegley  <johnw@newartisans.com>\n\n\tMerge from origin/emacs-25\n\n\td4b93e1 Minor fixes in global-auto-composition-mode\n\t02b037b Allow arithmetic operators inside C++ template constructs.\n\t44b16f6 Avoid crashes in semi-malformed 'condition-case'\n\t652e5b4 Allow arithmetic operators inside C++ template constructs.\n\td9ea795 Fix regression with 'recent-keys' and keyboard macros\n\t903603f Fix wording in a doc-view.el comment\n\tcf79616 ; Spelling fixes\n\tf8bf1b3 CONTRIBUTE cleanups and updates\n\tf3aaca3 Port USE_STACK_LISP_OBJECTS fix to Clang\n\t1834ac7 Port to x86 GCC 4.3.1 and earlier\n\t8482949 Fix point movement under 'scroll-conservatively'\n\tc1313b5 Replace colon in file name (not legal on Windows)\n\tf7af26c Fix a typo in edt.texi\n\t8badf95 Make 'mmap_realloc' on MS-Windows more reliable\n\t856cd94 Grep alias `all' shall not match parent directory\n\n2016-02-15  John Wiegley  <johnw@newartisans.com>\n\n\tMerge from origin/emacs-25\n\n\tdacde7e * etc/AUTHORS: Update the AUTHORS file\n\t478ca5d ; fix changelog entries\n\t2b7d006 ; make change-history-commit\n\t851decb * lisp/dired-aux.el: Require cl-lib.  (Bug#22613)\n\t47896c8 ; Improve commentary in insdel.c\n\t53ca1e1 Index tilde characters in names of backup files\n\td97f522 Document deprecation of hi-lock-mode's 'C-x w' bindings\n\tb55f06d ; * etc/NEWS: Use double spaces to end a sentence.\n\t28bb214 Announce that the `C-x w' bindings are deprecated\n\t1c98f98 Suppress GNUstep hardening\n\td82f24b Fix redisplay after a large insertion\n\t85a2753 Revert \"Fix gnus-group-get-new-news-this-group on group with\n\t        closed server\"\n\te8e3db0 ; Improve merge documentation in CONTRIBUTE\n\t5be9989 * lib-src/make-docfile.c: Include stdarg.h.\n\tc95ebbf Extend gpm-mouse-mode's doc string and doc to point out\n\t        limitations.\n\n2016-02-15  John Wiegley  <johnw@newartisans.com>\n\n\tMerge from origin/emacs-25\n\n\tf5d6b9b Revert \"Support integer image rotation and respect EXIF rotations\"\n\tafe7d1f Revert \"Document EXIF image rotation\"\n\tc6f377c Document OS X LANG default\n\teb4a18c Set locale when run from OS X GUI\n\t456c0a3 make-docfile cleanup for I/O, etc.\n\t25ec995 Memory-management cleanup in make-docfile\n\t02d925e Kevin Gallagher has new email address\n\t4ef153b Improve doc strings of 'forward/backward-word-strictly'\n\t3ad05a0 Describe Makefile test targets in test/README\n\n2016-02-15  John Wiegley  <johnw@newartisans.com>\n\n\tMerge from origin/emacs-25\n\n\t10b8ed2 Document EXIF image rotation\n\t0f60049 Support integer image rotation and respect EXIF rotations\n\t7dd45b6 Quote table names for postgres listings (sql-mode)\n\t6bac035 * lisp/replace.el (replace-match-maybe-edit): Make arg\n\t        `backward' optional.\n\tee909aa * lisp/simple.el (next-line-or-history-element): Reset\n\t        temporary-goal-column.\n\t0a289d3 Suppress ACL ops if configured with --disable-acl\n\t1a9dbf5 Mention web bugs\n\tfa55da2 Make mm-html-blocked-images default to \"\" again\n\n2016-02-15  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tProtect against initial handshake failures\n\n\t* src/process.c (connect_network_socket): Mark the connection\n\tas failed if the handshake didn't succeed yet.  This should be\n\treworked later.\n\n2016-02-14  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tCall the network security manager after doing TLS negotiation\n\n\t* lisp/net/network-stream.el (network-stream-open-tls):\n\tPostpone NSM verification when running async.\n\n\t* src/process.c (Fset_process_filter): This function doesn't\n\tneed to wait.\n\t(connect_network_socket): Set the process status to \"run\" only\n\tafter TLS negotiation.\n\t(wait_for_socket_fds): Take a name parameter for more debugging.\n\t(wait_reading_process_output): Don't change status to \"run\"\n\tunless TLS negotiation has finished.\n\t(send_process): Wait for the process here instead of\n\tsend_process_string.\n\t(connect_network_socket): Call the network security manager.\n\n2016-02-14  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRemove some #ifdefs and update documentation\n\n\t* doc/lispref/processes.texi (Network Processes): Remove\n\tmention of `dns'.\n\n\t* lisp/net/network-stream.el (open-network-stream): Remove\n\tmention of `dns'.\n\n\t* src/process.c (Fset_process_filter)\n\t(Fset_process_window_size, Fprocess_contact)\n\t(Fprocess_datagram_address, Fset_process_datagram_address)\n\t(Fset_network_process_option, Fprocess_send_region)\n\t(Fprocess_send_string, Fset_process_coding_system)\n\t(Fset_process_filter_multibyte): Remove the #ifdef\n\tHAVE_GETADDRINFO_A checks.\n\t(Fprocess_send_string): Wait for TLS negotiation.\n\t(wait_for_tls_negotiation): New function.\n\t(send_process): Remove the TLS boot check.\n\n\t* src/process.c (Fmake_network_process): Ditto.\n\n2016-02-14  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tUse :nowait t in url-gw\n\n\t* lisp/url/url-gw.el (url-open-stream): Just use :nowait t,\n\tsince we're not differentiating.\n\n2016-02-14  Alain Schneble  <a.s@realize.ch>\n\n\tAdd blockers to process functions\n\n\t* src/process.c (set-process-filter, set-process-window-size,\n\tprocess-contact, process-datagram-address, set-process-datagram-address,\n\tset-network-process-option): Make functions wait (block) on network\n\tprocess until pending DNS requests have been processed and associated\n\tsocket initialized.\n\n\t* src/process.c (process-send-region, process-send-string,\n\tprocess-send-eof): Make functions wait (block) while network process is\n\tin connect state.\n\n2016-02-14  Simen Heggest\u00f8yl  <simenheg@gmail.com>\n\n\tAdd fragmentation module to CSS property list\n\n\t* lisp/textmodes/css-mode.el (css-property-ids): Add properties from\n\tCSS Fragmentation Module Level 3.\n\n2016-02-14  Nicolas Petton  <nicolas@petton.fr>\n\n\t* doc/lispref/sequences.texi: Add documentation for seq-map-indexed\n\n2016-02-14  Nicolas Petton  <nicolas@petton.fr>\n\n\tNew function seq-map-indexed\n\n\t* lisp/emacs-lisp/seq.el (seq-map-indexed): New function.\n\t* test/lisp/emacs-lisp/seq-tests.el: Add tests for seq-map-indexed.\n\n2016-02-13  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\t* lisp/gnus/mm-util.el: Remove the mm-string-as-multibyte alias.\n\n2016-02-13  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFix problem with wrong encoding of non-ASCII message bodies\n\n\t* lisp/gnus/mml.el (mml-generate-mime-1): Disable\n\tmultibyteness before encoding the data.\n\n2016-02-13  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRemove codepage setup code from mm-util\n\n\t* lisp/gnus/mm-util.el (mm-codepage-setup): Remove.\n\t(mm-codepage-iso-8859-list): Remove.\n\t(mm-codepage-ibm-list, mm-setup-codepage-iso-8859)\n\t(mm-setup-codepage-ibm): Remove.\n\t(mm-charset-eval-alist): Remove the code pages from the\n\tdefault value.\n\n2016-02-13  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRemove compat code for older Emacsen\n\n\t* lisp/gnus/gnus-art.el (gnus-button-url-regexp): Remove\n\tXEmacs compat code.\n\n\t* lisp/gnus/gnus-sync.el (gnus-sync-json-alist-p): Remove\n\tunused compat function.\n\t(gnus-sync-json-plist-p): Ditto.\n\n\t* lisp/gnus/message.el (message-default-charset): Make obsolete.\n\t(message-info): Remove compat code.\n\t(message-setup-fill-variables): Remove kludge needed earlier\n\tto not overwrite `normal-auto-fill-function'.\n\t(message-split-line): Remove compat code.\n\n\t* lisp/gnus/mm-view.el (mm-display-inline-fontify): Remove\n\tcompat code.\n\n2016-02-13  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRemove some compat functions from gmm-utils.el\n\n\t* lisp/gnus/gmm-utils.el (gmm-tool-bar-from-list): Remove\n\tcompat code.\n\t(gmm-image-search-load-path): Remove.\n\t(gmm-image-load-path-for-library): Remove.\n\n2016-02-13  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRemove the gmm-lazy and nnmail-lazy compat widgets\n\n\t* lisp/gnus/gmm-utils.el (gmm-lazy): Remove.\n\n\t* lisp/gnus/nnmail.el (nnmail-lazy): Remove.\n\n2016-02-13  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tClean up nnimap-request-move-article slightly\n\n\t* lisp/gnus/nnheader.el (subr-x): Require.\n\n\t* lisp/gnus/nnimap.el (nnimap-request-move-article): Clean up\n\tthe code slightly.\n\n2016-02-13  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tUse open-network-stream instead of open-protocol-stream\n\n\t* lisp/gnus/nnimap.el: Use open-network-stream instead of\n\topen-protocol-stream.\n\n\t* lisp/gnus/nntp.el: Ditto.\n\n\t* lisp/gnus/pop3.el: Ditto.\n\n\t* lisp/net/sieve-manage.el: Ditto.\n\n\t* lisp/net/network-stream.el (open-protocol-stream): Make obsolete.\n\n2016-02-13  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRemove compat code that relies on (featurep 'mule)\n\n\t* lisp/gnus/gnus-group.el (gnus-group-name-decode): Remove\n\tcompat code.\n\n\t* lisp/gnus/gnus-start.el (gnus-read-descriptions-file):\n\tRemove compat code.\n\n\t* lisp/gnus/mm-bodies.el (mm-decode-body, mm-decode-string):\n\tRemove compat code.\n\n\t* lisp/gnus/mm-view.el (mm-w3m-standalone-supports-m17n-p):\n\tRemove compat code.\n\t(mm-w3m-standalone-supports-m17n-p): Ditto.\n\n2016-02-13  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRemove compat functions from starttls.el\n\n\t* lisp/net/starttls.el\n\t(starttls-set-process-query-on-exit-flag): Remove.\n\n2016-02-13  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRemove compat functions from smime.el\n\n\t* lisp/gnus/smime.el (smime-replace-in-string): Remove.\n\t(smime-make-temp-file): Remove.\n\n2016-02-13  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRemove compat code from smiley\n\n\t* lisp/gnus/smiley.el (smiley-style): Remove compat code.\n\n2016-02-13  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRemove compat code from rfc2047\n\n\t* lisp/mail/rfc2047.el (rfc2047-encode-message-header): Remove\n\tcompat code.\n\t(rfc2047-decode-string): Ditto.\n\n2016-02-13  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRemove compat function from pop3\n\n\t* lisp/gnus/pop3.el (pop3-set-process-query-on-exit-flag): Remove.\n\n2016-02-13  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRemove compat code in Gnus backends\n\n\t* lisp/gnus/nndiary.el (nndiary-error): Remove.\n\n\t* lisp/gnus/nndraft.el (nndraft-request-associate-buffer): Ditto.\n\n\t* lisp/gnus/nnfolder.el (nnfolder-read-folder): Ditto.\n\n\t* lisp/gnus/nnheader.el (nnheader-find-file-noselect): Ditto.\n\n\t* lisp/gnus/nnimap.el (nnimap-log-buffer): Remove compat code.\n\n2016-02-13  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRemove compat code from some mml files\n\n\t* lisp/gnus/mml-sec.el (mml-secure-passphrase-cache-expiry):\n\tRemove compat code.\n\n\t* lisp/gnus/mml-smime.el (mml-smime-openssl-sign-query):\n\tAlways use `mail-extract-address-components', since this isn't\n\ttime critical.\n\t(mml-smime-get-dns-cert): Ditto.\n\n\t* lisp/gnus/mml.el (mml-preview): Remove compat code.\n\n2016-02-13  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRemove compat code and compat functions from mm-util.el\n\n\t* lisp/gnus/mm-util.el (mm-mime-mule-charset-alist): Remove\n\tcompat code.\n\t(mm-coding-system-priorities)\n\t(mm-mule-charset-to-mime-charset, mm-charset-after)\n\t(mm-mime-charset, mm-iso-8859-x-to-15-region): Remove compat code.\n\t(mm-detect-coding-region): Define unconditionally.\n\t(mm-detect-mime-charset-region): Ditto.\n\t(mm-coding-system-to-mime-charset): It's 'mime-charset now.\n\t(coding-system-name)\n\t(find-file-coding-system-for-read-from-filename)\n\t(find-operation-coding-system): Remove aliases.\n\n2016-02-13  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRemove some compat code from mm-*.el\n\n\t* lisp/gnus/mm-bodies.el (mm-decode-body): Ditto.\n\n\t* lisp/gnus/mm-decode.el (mm-tmp-directory)\n\t(mm-valid-image-format-p): Remove compat code.\n\n\t* lisp/gnus/mm-url.el (mm-url-insert-file-contents): Remove\n\t\"Connection\" \"Close\" workaround for older Emacsen.\n\n2016-02-13  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRemove compat code and functions from message.el\n\n\t* lisp/gnus/message.el (message-send-mail-function): Remove\n\tcompat code.\n\t(message-dont-reply-to-names, message-mode)\n\t(message-setup-fill-variables, message-fill-paragraph)\n\t(message-remove-blank-cited-lines, message-make-from)\n\t(message-forward-rmail-make-body, message-tool-bar-gnome)\n\t(message-tab): Remove compat code.\n\t(message-completion-in-region): Remove.\n\t(message-read-from-minibuffer): Remove compat code.\n\n2016-02-13  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDeclare rfc1843 instead of autoloading\n\n\t* lisp/gnus/gnus-art.el (rfc1843-decode-region): Declare\n\tinstead of autoload.\n\n2016-02-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid signaling an error in 'dired-do-find-regexp-and-replace'\n\n\t* lisp/dired-aux.el: Require cl-lib, so that 'cl-mapcan' is\n\tautoloaded correctly.  (Bug#22613)\n\n2016-02-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix network-stream-tests.el for MS-Windows\n\n\t* test/lisp/net/network-stream-tests.el\n\t(connect-to-tls-ipv6-nowait): Skip for MS-Windows builds.\n\t(connect-to-tls-ipv4-wait): Add a 0.1 sleep-for.\n\n2016-02-13  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRemove some Message compat functions\n\n\t* lisp/gnus/message.el (message-kill-all-overlays): Define\n\tunconditionally.\n\t(message-window-inside-pixel-edges): Remove.\n\t(mail-dont-reply-to): Remove.\n\n2016-02-12  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRemove some Gnus compat code\n\n\t* lisp/gnus/gnus-art.el (gnus-mime-inline-part): Remove compat code.\n\t(gnus-mm-display-part): Ditto.\n\n\t* lisp/gnus/gnus-start.el (gnus-dribble-read-file): Remove\n\tcompat code.\n\n2016-02-12  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tSort groups before inserting them into the group buffer\n\n\t* lisp/gnus/gnus-group.el (gnus-group-describe-all-groups):\n\tSort groups before inserting them.\n\n2016-02-12  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMake \"unseen\" tracking work again in Gnus\n\n\t* lisp/gnus/gnus-sum.el (gnus-update-marks): Make \"unseen\"\n\ttracking work again.\n\n2016-02-12  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRemove Gnus compat functions defined in gnus.el\n\n\t* lisp/gnus/gnus.el (gnus-extent-detached-p): Remove.\n\t(gnus-extent-start-open, gnus-character-to-event)\n\t(gnus-assq-delete-all, gnus-add-text-properties)\n\t(gnus-put-text-property, gnus-key-press-event-p):\n\n2016-02-12  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRemove compat code from gnus-uu and win\n\n\t* lisp/gnus/gnus-util.el (gnus-image-type-available-p): Remove\n\tcompat code.\n\n\t* lisp/gnus/gnus-uu.el (gnus-uu-tmp-dir): Remove compat code.\n\n\t* lisp/gnus/gnus-win.el (gnus-frames-on-display-list): Remove.\n\n2016-02-12  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRemove several gnus-util compat functions\n\n\t* lisp/gnus/gnus-util.el (gnus-set-process-query-on-exit-flag): Remove.\n\t(gnus-read-shell-command): Remove.\n\t(gnus-match-substitute-replacement): Remove.\n\t(gnus-string-match-p): Remove.\n\t(gnus-string-prefix-p): Remove.\n\n2016-02-12  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRemove the gnus-merge alias\n\n\t* lisp/gnus/gnus-util.el (gnus-merge): Remove.\n\n2016-02-12  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRemove the gnus-union alias\n\n\t* lisp/gnus/gnus-util.el (gnus-union): Remove.\n\n2016-02-12  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRemove the gnus-delete-alist alias\n\n\t* lisp/gnus/gnus-util.el (gnus-run-mode-hooks): Remove compat code.\n\t(gnus-delete-alist): Remove.\n\n2016-02-12  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRemove the gnus-float-time alias\n\n\t* lisp/gnus/gnus-util.el (gnus-completion-styles): Remove\n\tcompat code.\n\t(gnus-float-time): Remove.\n\n2016-02-12  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRemove compat code from gnus-srvr, start and sum\n\n\t* lisp/gnus/gnus-srvr.el (gnus-browse-foreign-server): Remove\n\tcompat code.\n\n\t* lisp/gnus/gnus-start.el (gnus-check-reasonable-setup):\n\tRemove compat code.\n\n\t* lisp/gnus/gnus-sum.el (gnus-summary-display-arrow)\n\t(gnus-summary-make-menu-bar, gnus-summary-make-tool-bar)\n\t(gnus-recenter)\n\t(gnus-summary-limit-strange-charsets-predicate)\n\t(gnus-summary-show-thread): Remove compat code.\n\n2016-02-12  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRemove compat code from gnus-spec.el\n\n\t* lisp/gnus/gnus-spec.el (gnus-lrm-string-p): Remove compat code.\n\t(gnus-balloon-face-function): Remove compat code.\n\n2016-02-12  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFix compat change in last check-in\n\n\t* lisp/gnus/gnus-group.el\n\t(gnus-group-name-charset-group-alist): `find-coding-system'\n\tdoesn't exist in Emacs.\n\n2016-02-12  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAlways use url-queue\n\n\t* lisp/gnus/gnus-html.el (gnus-html-schedule-image-fetching):\n\tAlways use url-queue.\n\n2016-02-12  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRemove compat functions from gnus-html.el\n\n\t* lisp/gnus/gnus-html.el (gnus-html-encode-url-chars): Remove.\n\n2016-02-12  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRemove compat code from gnus-group.el\n\n\t* lisp/gnus/gnus-group.el (gnus-group-name-charset-group-alist)\n\t(gnus-group-make-tool-bar, gnus-group-update-tool-bar): Remove compat code.\n\n2016-02-12  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDefine gnus-diary-kill-entire-line unconditionally\n\n\t* lisp/gnus/gnus-diary.el (gnus-diary-kill-entire-line):\n\tDefine unconditionally.\n\n2016-02-12  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRemove compat code from gnus-cache and gnus-bookmark\n\n\t* lisp/gnus/gnus-bookmark.el (gnus-bookmark-bmenu-mode-map): Ditto.\n\n\t* lisp/gnus/gnus-cache.el (gnus-cache-decoded-group-name):\n\tRemove compat code.\n\n2016-02-12  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRemove compat code from gnus-art.el\n\n\t* lisp/gnus/gnus-art.el (gnus-article-prepare)\n\t(gnus-mime-copy-part, gnus-output-to-file)\n\t(gnus-article-reply-with-original)\n\t(gnus-button-handle-apropos-variable)\n\t(gnus-button-handle-apropos-documentation):\n\n2016-02-12  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRemove compat code from gnus-agent.el\n\n\t* lisp/gnus/gnus-agent.el (gnus-agent-make-mode-line-string):\n\tRemove compat code.\n\n2016-02-12  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRewrite gmm-labels usage to use cl-labels\n\n\t* lisp/gnus/gmm-utils.el (gmm-tool-bar-style): Remove compat code.\n\t(gmm-labels): Remove.\n\n2016-02-12  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRemove compat code from canlock.el\n\n\t* lisp/gnus/canlock.el (defmacro): Remove\n\n2016-02-12  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRemove compat code from auth-source\n\n\t* lisp/gnus/auth-source.el (auth-source-read-char-choice):\n\tRemove compat code.\n\n2016-02-12  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFix gnus-group.el compilation warnings about unprefixed variables\n\n\t* lisp/gnus/gnus-group.el (gnus-group-update-eval-form): Avoid\n\tcompilation warnings by passing in the dynamic variables as\n\texplicit lexical parameters to `eval'.\n\n2016-02-12  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFix the :tracker slot name\n\n\t* lisp/gnus/registry.el (registry-lookup-secondary): The\n\t`tracker' slot is called `tracker', not `:tracker'.\n\n2016-02-12  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFix compilation warnings in gnus-art.el\n\n\t* lisp/gnus/gnus-art.el (rfc1843-decode-region): Autoload.\n\t(gnus-article-hide): Avoid compilation warnings.\n\n2016-02-12  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFix compilation warning in gnus-score.el\n\n\t* lisp/gnus/gnus-score.el (gnus-art): Require to silence byte\n\tcompiler.\n\n2016-02-12  Andreas Schwab  <schwab@linux-m68k.org>\n\n\tRevert \"Fix gnus-group-get-new-news-this-group on group with closed server\"\n\n\tThis reverts commit 9dc77e37aa84c6df9b3ddb4609f3c09201b0580e.\n\n\tThis makes nnimap groups not be activated.\n\n2016-02-12  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFix encoding problem introduced by previous patch series\n\n\t* lisp/mail/rfc2047.el: Ditto (bug#22648).\n\n\t* lisp/mail/rfc2231.el: Fix problem created by the\n\tmm-replace-in-string conversion.\n\n2016-02-12  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRevert \"Avoid defvarring prefix-less variables\"\n\n\tThis reverts commit 303390bda34f98b400798d5383cf0d722e35ba19.\n\n\tThe defvars are needed if we're doing lexical-binding\n\n2016-02-12  Glenn Morris  <rgm@gnu.org>\n\n\t* test/lisp/url/url-auth-tests.el (url-auth-test-digest-auth):\n\tMake it pass.\n\n\t* test/lisp/url/url-auth-tests.el\n\t(url-auth-test-digest-auth-retrieve-cache): Fix obvious typo.\n\n2016-02-11  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFinish up cl-defmethoding registry,el\n\n\t* lisp/gnus/registry.el (initialize-instance): Use cl-defmethod.\n\n2016-02-11  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRevert the gnus-replace-in-string change, fix arguments, reapply\n\n2016-02-11  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tSilence more message.el compilation warnings\n\n\t* lisp/gnus/message.el (message-generate-headers): Don't use\n\tvariable values directly to get the header values, because\n\tthat breaks with lexical binding (without unprefixed defvars).\n\n2016-02-11  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFix various compilation warnings in message.el\n\n\t* lisp/gnus/message.el (message-fix-before-sending): Use\n\tread-multiple-choice instead of gnus-multiple-choice.\n\t(mm-util): Require.\n\t(rfc2047): Require.\n\t(message-remove-blank-cited-lines): Use message instead of\n\tgnus-message.\n\t(message-send): Use y-or-n-p instead of gnus-y-or-n-p.\n\n2016-02-11  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tSilence compilation warning in mm-view\n\n\t* lisp/gnus/mm-view.el (mm-display-inline-fontify): Silence\n\tcompilation warning.\n\n2016-02-11  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFix epg-related compilation warnings in mml-sec\n\n\t* lisp/gnus/mml-sec.el: Fix compilation warnings from the epg\n\tlibrary.\n\n2016-02-11  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\trmail-dont-reply-to-names is obsolete\n\n\t* lisp/gnus/nnmail.el (nnmail-fancy-expiry-target): Don't bind\n\tthe obsolete `rmail-dont-reply-to-names' variable.\n\n2016-02-11  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tPartially revert the defmethod->cl-defmethod change in registry.el\n\n\t* lisp/gnus/registry.el (initialize-instance): Use defmethod,\n\tsince cl-defmethod doesn't work with :after.\n\t(initialize-instance): Ditto, but with :before.\n\n2016-02-11  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAvoid obsolete function in plstore\n\n\t* lisp/gnus/plstore.el (plstore--insert-buffer): Use setf\n\tinstead of the obsolete epg-context-set-armor.\n\n2016-02-11  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tUse cl-defmethod in registry.el\n\n\t* lisp/gnus/registry.el: Use cl-defmethod instead of the\n\tobsolete defmethod.\n\n2016-02-11  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMake sieve-manage require sasl\n\n\t* lisp/net/sieve-manage.el: Fix compilation warning by\n\trequiring sasl.\n\n2016-02-11  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAvoid defvarring prefix-less variable\n\n\t* lisp/gnus/mm-uu.el (mm-uu-entry): Rename from `entry'.\n\n2016-02-11  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\t* lisp/gnus/mailcap.el: Remove usage of mailcap-delete-duplicates.\n\n2016-02-11  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDon't use the obsolete char-valid-p function\n\n\t* lisp/gnus/mm-url.el (mm-url-decode-entities): Don't use the\n\tobsolete char-valid-p function.\n\n2016-02-11  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFix missed translation in a previous commit\n\n\t* lisp/gnus/mailcap.el (mailcap-mime-types): Fix missed\n\ttranslation of mailcap-delete-duplicates.\n\n2016-02-11  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAvoid using mm-make-temp-file\n\n\t* lisp/gnus/mail-source.el (mail-source-delete-crash-box): Ditto.\n\n\t* lisp/gnus/mm-decode.el (mm-display-external): Ditto.\n\n\t* lisp/gnus/mml-smime.el (mml-smime-openssl-encrypt): Ditto.\n\n2016-02-11  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFix compilation warning in gnus-start\n\n\t* lisp/gnus/gnus-start.el (gnus-slave-save-newsrc): Avoid\n\tmm-make-temp-file.\n\n2016-02-11  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAvoid the obsoleted defmethod\n\n\t* lisp/gnus/gnus-icalendar.el: Use cl-defmethod instead of\n\tdefmethod.\n\n2016-02-11  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAvoid defvarring prefix-less variables\n\n\t* lisp/gnus/gnus-group.el (gnus-group-update-eval-form): We\n\tdon't need to `defvar' the short variables to allow `eval' to\n\tuse them.\n\n2016-02-11  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tnnweb doesn't need unibyte buffers\n\n\t* lisp/gnus/nnweb.el (nnweb-retrieve-headers)\n\t(nnweb-read-overview, nnweb-request-article)\n\t(nnweb-google-reference): Unibyte buffers are not needed here.\n\n2016-02-11  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tEncode before sending from nnspool\n\n\t* lisp/gnus/nnspool.el (nnspool-request-post): Encode data\n\tbefore sending it to the news server.\n\n2016-02-11  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tnnrss buffers don't have to be unibyte\n\n\t* lisp/gnus/nnrss.el (nnrss-insert): The buffer doesn't have\n\tto be unibyte just to receive data, I think.\n\n2016-02-11  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDon't use mm-with-unibyte-current-buffer in mml2015\n\n\t* lisp/gnus/mml2015.el (mml2015-mailcrypt-encrypt): Don't use\n\tmm-with-unibyte-current-buffer.\n\n2016-02-11  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDon't use mm-with-unibyte-current in mml1991\n\n\t* lisp/gnus/mml1991.el (mml1991-epg-sign): Don't use\n\tmm-with-unibyte-current.\n\n2016-02-11  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDon't use mm-with-unibyte-current in mml1991\n\n\t* lisp/gnus/mml1991.el (mml1991-pgg-sign): Don't use\n\tmm-with-unibyte-current.\n\n2016-02-11  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDon't use mm-with-unibyte-buffer in utf7\n\n\t* lisp/international/utf7.el (utf7-fragment-encode): Don't use\n\tmm-with-unibyte-buffer.\n\n2016-02-11  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRemove XEmacs compat code from Gnus helper libraries\n\n\t* lisp/gnus/plstore.el (plstore-called-interactively-p): Remove.\n\n\t* lisp/gnus/pop3.el (pop3-make-date): Remove XEmacs compat.\n\n\t* lisp/gnus/sieve-mode.el: Remove XEmacs compat.\n\n\t* lisp/gnus/spam-stat.el (spam-stat-called-interactively-p): Remove.\n\n2016-02-11  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRemove XEmacs compat code from Gnus backends\n\n\t* lisp/gnus/mm-view.el (mm-inline-image-xemacs): Remove.\n\t(mm-inline-image): Rename from mm-inline-image-emacs.\n\n\t* lisp/gnus/mml.el: Remove XEmacs compat code.\n\n\t* lisp/gnus/nnheader.el: Remove XEmacs compat code.\n\n\t* lisp/gnus/nnimap.el (nnimap-open-connection-1): Remove\n\tXEmacs compat code.\n\n\t* lisp/gnus/nnir.el (nnir-run-gmane): Remove XEmacs compat code.\n\n\t* lisp/gnus/nnmail.el (nnmail-pathname-coding-system): Remove\n\tXEmacs compat code.\n\n\t* lisp/gnus/nnmairix.el: Remove XEmacs compat code.\n\n\t* lisp/gnus/nnrss.el: Remove XEmacs compat code.\n\n\t* lisp/gnus/nntp.el: Remove XEmacs compat code.\n\n2016-02-11  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRemove XEmacs compat functions from mm-util.el\n\n\t* lisp/gnus/mm-util.el (mm-special-display-p): Remove.\n\t(mm-decode-coding-string, mm-encode-coding-string)\n\t(mm-decode-coding-region, mm-encode-coding-region): Remove.\n\t(mm-string-to-multibyte): Remove.\n\t(mm-char-or-char-int-p): Remove.\n\t(mm-ucs-to-char): Remove compat versions of the function.\n\t(mm-read-coding-system): Remove.\n\t(mm-coding-system-p): Remove compat code.\n\t(mm-enrich-utf-8-by-mule-ucs): Remove.\n\t(mm-enable-multibyte, mm-disable-multibyte): Remove compat versions.\n\t(mm-delete-duplicates): Remove.\n\t(mm-multibyte-p): Remove compat versions.\n\t(mm-xemacs-find-mime-charset-1): Remove.\n\t(mm-xemacs-find-mime-charset): Remove.\n\t(mm-make-temp-file): Made obsolete.\n\t(mm-find-buffer-file-coding-system): Remove XEmacs compat.\n\n2016-02-11  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRemove Message and mm-decode XEmacs compat code\n\n\t* lisp/gnus/message.el: Remove XEmacs compat code.\n\n\t* lisp/gnus/mm-decode.el (mm-create-image-xemacs): Remove.\n\n\t* lisp/gnus/mm-util.el: Remove some XEmacs compat code.\n\n2016-02-10  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRemove som XEmacs compat code from message.el\n\n\t* lisp/gnus/message.el: Remove some XEmacs compat code.\n\n2016-02-10  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRemove XEmacs compat code from ietf-drums.el\n\n\t* lisp/mail/ietf-drums.el (ietf-drums-syntax-table): Drop\n\tXEmacs compat.\n\n2016-02-10  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRemove XEmacs compat code from gravatar.el\n\n\t* lisp/gnus/gravatar.el: Remove XEmacs compat code from\n\tgravatar.el.\n\n2016-02-10  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRemove more XEmacs compat code from Gnus\n\n\t* lisp/gnus/gnus-util.el (gnus-bound-and-true-p): Remove.\n\t(gnus-timer--function): Remove.\n\n\t* lisp/gnus/gnus-uu.el (gnus-uu-save-article): Remove XEmacs\n\t19.2 compat.\n\n\t* lisp/gnus/gnus-win.el: Remove XEmacs compat code.\n\n2016-02-10  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRemove more XEmacs compat functions from gnus-util.el\n\n\t* lisp/gnus/gnus-util.el (gnus-put-display-table): Remove.\n\t(gnus-get-display-table): Remove.\n\t(gnus-format-message): Remove.\n\n2016-02-10  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRemove more XEmacs compat functions from Gnus\n\n\t* lisp/gnus/gnus-util.el (gnus-next-char-property-change): Remove.\n\t(gnus-previous-char-property-change): Remove.\n\t(gnus-graphic-display-p): Remove.\n\t(gnus-select-frame-set-input-focus): Remove.\n\n2016-02-10  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRemove more XEmacs compat code from gnus-util\n\n\t* lisp/gnus/gnus-util.el (gnus-make-local-hook): Remove (and\n\tall its usages).\n\t(gnus-invisible-p): Remove.\n\n2016-02-10  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRemove gnus-make-local-hook\n\n\t* lisp/gnus/gnus-util.el (gnus-make-local-hook): Remove (and\n\tall its usages).\n\n2016-02-10  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tgnus-replace-in-string -> replace-regexp-in-string\n\n\t* lisp/gnus/gnus-util.el (gnus-replace-in-string): Declare\n\tobsolete.  Transform all usages of it into\n\treplace-regexp-in-string.\n\n\t* lisp/gnus/mailcap.el (mailcap-replace-in-string): Remove.\n\n2016-02-10  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRemove Gnus XEmacs compat\n\n\t* lisp/gnus/gnus-start.el (gnus-dribble-enter): Remove comment\n\tabout code that doesn't work in XEmacs.\n\n\t* lisp/gnus/gnus-sum.el: Remove XEmacs compat.\n\n\t* lisp/gnus/gnus-topic.el: Remove XEmacs compat.\n\n2016-02-10  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRemove compat functions in gnus-spec.el\n\n\t* lisp/gnus/gnus-spec.el (gnus-string-width-function): Remove.\n\t(gnus-substring-function): Remove.\n\t(gnus-use-correct-string-widths): Remove.\n\t(gnus-make-format-preserve-properties): Remove.\n\t(gnus-xmas-format): Remove.\n\n\t* lisp/gnus/gnus-srvr.el (gnus-server-mode): Remove XEmacs compat.\n\n2016-02-10  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRemove Gnus XEmacs compat functions\n\n\t* lisp/gnus/gnus-registry.el: Remove XEmacs compat.\n\n\t* lisp/gnus/gnus-salt.el: Remove XEmacs compat.\n\n\t* lisp/gnus/gnus-score.el (gnus-decay-score): Remove XEmacs compat.\n\n2016-02-10  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRemove Gnus XEmacs compatibility\n\n\t* lisp/gnus/gnus-demon.el (gnus-demon-idle-since): Remove\n\tXEmacs compat.\n\n\t* lisp/gnus/gnus-dired.el: Remove XEmacs compat.\n\n\t* lisp/gnus/gnus-draft.el: Remove XEmacs compat.\n\n\t* lisp/gnus/gnus-gravatar.el (gnus-gravatar-insert): Remove\n\tXEmacs compat.\n\n\t* lisp/gnus/gnus-group.el: Remove XEmacs compat.\n\n\t* lisp/gnus/gnus-html.el: Remove XEmacs compat.\n\n\t* lisp/gnus/gnus-ml.el: Remove XEmacs compat.\n\n\t* lisp/gnus/gnus-picon.el (gnus-picon-style): Remove XEmacs comment.\n\n2016-02-10  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDon't use image-map if it isn't defined\n\n\t* lisp/net/shr.el (shr-image-map): Only use image-map as a\n\tparent if it's defined (bug#22614).\n\n2016-02-10  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tCheck for MagickAutoOrientImage\n\n\t* configure.ac: Check for MagickAutoOrientImage.\n\n\t* src/image.c (imagemagick_load_image): Don't use\n\tMagickAutoOrientImage unless it's available.\n\n2016-02-10  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDocument EXIF image rotation\n\n\t* doc/lispref/display.texi (ImageMagick Images): Mention EXIF rotation.\n\n2016-02-10  Dima Kogan  <dima@secretsauce.net>\n\n\tSupport integer image rotation and respect EXIF rotations\n\n\t* src/image.c (imagemagick_load_image): Allow integer rotations in\n\taddition to floating point rotations (bug#22591).\n\t* src/image.c (imagemagick_load_image): Images that have an\n\torientation given in EXIF and have no explicit :rotation tag are now\n\tpre-rotated.  All information such as width/height is reported for the\n\trotated image.\n\n2016-02-10  Wolfgang Jenkner  <wjenkner@inode.at>\n\n\t* lisp/net/shr.el (image-map): Defvar it.  (Bug#22614)\n\n2016-02-09  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\t* lisp/gnus/gnus-cite.el: Remove XEmacs compat code.\n\n2016-02-09  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRemove compat code from gnus-bookmark.el\n\n\t* lisp/gnus/gnus-bookmark.el (gnus-bookmark-mouse-available-p): Remove.\n\t(gnus-bookmark-remove-properties): Remove.\n\n2016-02-09  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRemove XEmacs compat code from gnus-a*.el\n\n\t* lisp/gnus/gnus-agent.el: Remove compat code.\n\n\t* lisp/gnus/gnus-art.el: Remove compat code.\n\n\t* lisp/gnus/gnus-async.el: Remove compat code.\n\n2016-02-09  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRemove gmm compat functions\n\n\t* lisp/gnus/gmm-utils.el (gmm-image-search-load-path): Remove.\n\t(gmm-write-region): Remove.\n\t(gmm-called-interactively-p): Remove.\n\n2016-02-09  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\t* lisp/gnus/ecomplete.el: Remove XEmacs compat code.\n\n2016-02-09  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRemove compat code from compface.el\n\n\t* lisp/image/compface.el: Remove XEmacs compat code throughout.\n\n2016-02-09  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRemove the now empty gnus-ems.el and references to it\n\n2016-02-09  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRemove Gnus compat names for mouse bindings\n\n\t* lisp/gnus/gnus-ems.el (gnus-widget-button-keymap): Remove.\n\t(gnus-down-mouse-2): Remove.\n\t(gnus-down-mouse-3): Remove.\n\n2016-02-09  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDrop Gnus compat functions\n\n\t* lisp/gnus/gnus-ems.el (gnus-mule-max-width-function): Remove.\n\n\t* lisp/gnus/gnus-util.el (gnus-kill-all-overlays): Move here.\n\n\t* lisp/gnus/gnus.el (gnus-mode-line-modified): Remove.\n\n2016-02-09  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tGet rid of gnus-ems-redefine\n\n\t* lisp/gnus/gnus-ems.el (gnus-mouse-face-prop): Remove.\n\n2016-02-09  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\t* lisp/gnus/gnus-spec.el: Move definition here from gnus-ems.el.\n\n2016-02-09  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRemove Gnus compat code\n\n\t* lisp/gnus/gnus-ems.el (gnus-ems-redefine): Remove\n\ttransitional code from ten years ago.\n\n2016-02-09  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAllow interactively scaling past :max-width etc\n\n\t* lisp/image.el (image--current-scaling)\n\t(image--image-without-parameters): New functions.\n\t(image--change-size): Use them to allow changing the size of a\n\timage even if it has :width/:max-width (etc.) already set.\n\n2016-02-09  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\t* lisp/gnus/mm-decode.el (shr-image-map): Compilation fix.\n\n2016-02-09  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAllow accessing the image commands via shr\n\n\t* lisp/gnus/mm-decode.el (mm-convert-shr-links): Allow\n\taccessing the image commands.\n\n\t* lisp/net/shr.el (shr-image-map): New map used for images.\n\t(shr-urlify): Don't overwrite image maps when applying URL maps.\n\n2016-02-09  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tUse a sparse image keymap\n\n\t* lisp/image.el (image-map): Use a sparse keymap.\n\n2016-02-09  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tPut a keymap on images created with insert-image and friends\n\n\t* lisp/image.el (image-save): New command.\n\t(image-rotate): Ditto.\n\t(image-map): New keymap.\n\t(insert-image): Put the image-map on all images.\n\t(insert-sliced-image): Ditto.\n\t* doc/lispref/display.texi (Showing Images): Document the\n\timage map.\n\n2016-02-09  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFix some folding issues in read-multiple-choice\n\n\t* lisp/subr.el (read-multiple-choice): Fix folding when you\n\thave many items.\n\n2016-02-09  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFix typo in last checkin\n\n2016-02-09  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRemove Gnus compat functions\n\n\t* lisp/gnus/gnus-ems.el (gnus-mark-active-p)\n\t(gnus-region-active-p, gnus-select-lowest-window)\n\t(gnus-summary-display-table, gnus-max-width-function): Remove\n\tcompat functions.\n\n2016-02-09  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMove non-compat Gnus functions to gnus-util.el\n\n\t* lisp/gnus/gnus-util.el (gnus-remove-image, gnus-put-image)\n\t(gnus-create-image, gnus-image-type-available-p): Move here\n\tfrom gnus-ems.el, since these aren't compat functions.\n\n2016-02-09  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tOmit valloc decl if redundant\n\n\t* src/gmalloc.c (valloc): Omit decl if malloc.h is included,\n\tto pacify --enable-gcc-warnings.\n\n2016-02-09  Wolfgang Jenkner  <wjenkner@inode.at>\n\n\tRestore the calloc family.\n\n\t* src/gmalloc.c (calloc, gcalloc, hybrid_calloc): Restore definitions.\n\tThey were lost in a4817d8 but calloc is still (marginally) used in\n\tcode statically liked with emacs, so hybrid_calloc is needed.\n\tAlso, in the non-hybrid case, we can't get rid of calloc anyway as\n\tother libraries liked with emacs may need it.\n\t* src/conf_post.h: Restore redefinition of calloc to hybrid_calloc.\n\n2016-02-09  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRemove some Gnus compat functions\n\n\t* lisp/gnus/gnus-ems.el (gnus-string-mark-left-to-right)\n\t(gnus-window-inside-pixel-edges, gnus-set-process-plist)\n\t(gnus-process-plist, gnus-process-get, gnus-process-put): Remove.\n\n2016-02-09  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t-\n\n\t-\n\n2016-02-09  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\t4feb962 * lisp/comint.el (comint-prompt-read-only): Clean tabs in docstring\n\tcc419fb Don't inloop gnus-uu-mark-thread on the last thread\n\t51c77a2 Display non-ASCII group names better in prompts\n\tf93d669 Default to gpg2 instead of gpg\n\n2016-02-09  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\t9ffe7dd * lisp/isearch.el (isearch-define-mode-toggle): Improve logic\n\t16140f7 * lisp/menu-bar.el (menu-bar-options-menu): New search submenu\n\t3db6adb * lisp/isearch.el (search-default-mode)\n\t4ea1ea7 * lisp/isearch.el: Rename search-default-regexp-mode to search-default-mode\n\tc77ffc8 Use monitor's resolution for positioning tooltips\n\t49e5749 Fix file-notify-test on MS-Windows\n\tbe1d874 Fix issues found by auditing w32notify code\n\t87ae218 Extend etags Ruby support for accessors\n\taa35257 Update publicsuffix.txt.\n\t6816bff Ensure that Gnus dribble handling allows removing entries\n\t691feae Be consistent when using encoded strings in nnimap data\n\t3ed423b Display the decoded Gnus group name\n\t5428b5b Use completion-ignore-case instead of defining command\n\n2016-02-09  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\t1eaf68f * test/automated/file-notify-tests.el (file-notify-test06-many-events):\n\td333716 ; * etc/NEWS: Expand news entry for scss-mode\n\tc32c16f ; Better document changes in ls-lisp default behavior\n\tdc6eed2 Fix doc string of tls-program\n\n2016-02-09  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\t2c117fc * etc/NEWS: Document new mpc.el features\n\t71a0496 * lisp/custom.el (defface): Revert indentation change.  (Bug#22524)\n\t9dfece1 Correctly fontify C++ initializations which \"look like\" functions.\n\t4485222 Improve newsticker-treeview-selection-face\n\t4236944 Minor fix in tagging Ruby accessors by etags\n\t35fc77d Spelling fixes\n\t3dda110 Remove 'def X' from the example\n\n2016-02-09  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix network-stream-tests on MS-Windows\n\n\t* test/lisp/net/network-stream-tests.el (make-local-unix-server):\n\tSkip if local sockets are not supported.\n\n2016-02-09  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* admin/notes/bug-triage: Fix bug priorities.  Explain colors in debbugs-gnu.\n\n2016-02-09  Eli Zaretskii  <eliz@gnu.org>\n\n\tDisable 'timer-list'\n\n\t* lisp/emacs-lisp/timer-list.el: Make 'timer-list' a disabled\n\tcommand.\n\n2016-02-09  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tAvoid aligned_alloc static/extern collision\n\n\t* src/alloc.c (aligned_alloc): Define to private name when a\n\tstatic function, to avoid collision with lisp.h extern decl.\n\tReported by John Yates in:\n\thttps://lists.gnu.org/r/emacs-devel/2016-02/msg00439.html\n\n2016-02-08  David Edmondson  <dme@dme.org>\n\n\tsrc/process.c Correctly convert AF_INET6 addresses\n\n\t* src/process.c (conv_lisp_to_sockaddr): AF_INET6 addresses are\n\tconverted to a list of 16 bit quantities by\n\tconv_sockaddr_to_lisp(). conv_lisp_to_sockaddr() should follow the\n\tsame scheme rather than expecting a (longer) list of 8 bit\n\tquantities.\n\n2016-02-08  Michal Nazarewicz  <mina86@mina86.com>\n\n\tMake `message-beginning-of-line' aware of folded headers\n\n\t* lisp/gnus/message.el (message-beginning-of-header): New function which\n\tmoves point to the beginning of a mail header.  The function is aware of\n\tfolded headers and with non-nil argument looks for the true beginning of\n\ta header while with nil argument moves to the indented text of header's\n\tvalue.\n\t(message-beginning-of-line): Function is now aware of folded headers and\n\teither moves point to the indention of a header or, in visual-line-mode,\n\tsearches for the beginning of the header.\n\n2016-02-08  Michal Nazarewicz  <mina86@mina86.com>\n\n\tOptimize \u2018point in message header\u2019 check\n\n\t* lisp/gnus/message.el (message-point-in-header-p): Replace two unbound\n\tregular expression matches with a single bound string match thus\n\treducing amount of work the function is doing.\n\n2016-02-08  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMake the `R' command get the correct relative <img>s\n\n\t* lisp/net/eww.el (eww-readable): Preserve the base URL so\n\tthat image expansions are fetched from the right place (bug#22605).\n\n2016-02-08  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAdd a mode to list and cancel timers\n\n\t* doc/lispref/os.texi (Timers): Menton `timer-list'.\n\n\t* lisp/emacs-lisp/timer-list.el: New file.\n\n2016-02-08  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAdd new commands to allow changing the size of images\n\n\t* lisp/image.el (image-increase-size, image-decrease-size):\n\tNew commands.\n\t(image-change-size): New function.\n\n2016-02-08  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAllow the image scale to be a floating point number\n\n\t* src/image.c (compute_image_size): The scale can be a\n\tfloating point number.\n\n2016-02-08  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAdd an IPv6 test\n\n\t* test/lisp/net/network-stream-tests.el\n\t(connect-to-tls-ipv6-nowait): Add an ipv6 test, too.\n\n2016-02-08  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tUse gnutls-serv instead of openssh\n\n\t* test/lisp/net/network-stream-tests.el (make-tls-server): Use\n\tgnutls-serv instead of openssh.\n\n2016-02-08  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tSkip TLS tests if we don't have openssl\n\n\t* test/lisp/net/network-stream-tests.el (connect-to-tls): Skip\n\tTLS tests if we don't have openssl and GnuTLS.\n\n2016-02-08  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAdd an IPv6 test\n\n\t* test/lisp/net/network-stream-tests.el\n\t(connect-to-tls-ipv6-nowait): Add an ipv6 test, too.\n\n2016-02-08  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tUse gnutls-serv instead of openssh\n\n\t* test/lisp/net/network-stream-tests.el (make-tls-server): Use\n\tgnutls-serv instead of openssh.\n\n2016-02-08  Daniel Colascione  <dancol@dancol.org>\n\n\tPerformance improvements for vc-hg\n\n\tTeach vc-hg how to read some Mercurial internal data structures,\n\tallowing us to avoid the need to run hg status -A, which is very slow\n\tfor large repositories.  Fall back to running hg if anything looks\n\tfunny.  vc-hg now puts the _working directory_ revision in the\n\tmodeline instead of the file revision, which greatly improves\n\tperformance and which allows us to again skip running hg in the case\n\tthat we have an active bookmark.\n\n\t* lisp/vc/vc-hg.el (vc-hg-state): Try calling `vc-hg-statefast'\n\t(vc-hg-symbolic-revision-styles)\n\t(vc-hg-use-file-version-for-mode-line-version)\n\t(vc-hg-parse-hg-data-structures): New user preferences\n\t(vc-hg--active-bookmark-internal, vc-hg--run-log)\n\t(vc-hg--symbolic-revision, vc-hg-mode-line-string)\n\t(vc-hg--read-u8, vc-hg--read-u32-be)\n\t(vc-hg--raw-dirstate-search, vc-hg--cached-dirstate-search)\n\t(vc-hg--parts-to-string, vc-hg--pcre-to-elisp-re)\n\t(vc-hg--glob-to-pcre, vc-hg--hgignore-add-pcre)\n\t(vc-hg--hgignore-add-glob, vc-hg--hgignore-add-path)\n\t(vc-hg--slurp-hgignore-1, vc-hg--slurp-hgignore)\n\t(vc-hg--ignore-patterns-valid-p)\n\t(vc-hg--ignore-patterns-ignored-p, vc-hg--time-to-fixnum)\n\t(vc-hg--file-ignored-p, vc-hg--read-repo-requirements)\n\t(vc-hg--requirements-understood-p, vc-hg--dirstate-scan-cache)\n\t(vc-hg-state-fast): New functions.\n\t(vc-hg--hgignore-patterns, vc-hg--hgignore-filenames)\n\t(vc-hg--cached-ignore-patterns, vc-hg--dirstate-scan-cache)\n\t(vc-hg--dirstate-scan-cache): New internal variables.\n\t* lisp/vc/vc-hooks.el (vc-refresh-state): Invoke vc find-file-hook\n\tbefore updating modeline.\n\n2016-02-07  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tSkip TLS tests if we don't have openssl\n\n\t* test/lisp/net/network-stream-tests.el (connect-to-tls): Skip\n\tTLS tests if we don't have openssl and GnuTLS.\n\n2016-02-07  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAutomatically scale images up on high-density screens\n\n\t* doc/lispref/display.texi (ImageMagick Images): Mention :scale.\n\t(Defining Images): Mention image-scaling-factor.\n\n\t* lisp/image.el (image-compute-scaling-factor): New function\n\t(bug#22172).\n\t(create-image): Use it.\n\t(image-scaling-factor): New variable.\n\n\t* src/image.c (compute_image_size): Take :scale into account.\n\n2016-02-07  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tEnsure progress when fetching from the queue\n\n\t* lisp/url/url-queue.el (url-queue-check-progress): Ensure\n\tthat we have progress when fetching queued requests (bug#22576).\n\n2016-02-07  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMake mail-extract-address-components return the user name more\n\n\t* lisp/mail/mail-extr.el (mail-extract-address-components):\n\tReturn the name even if it's the same as the mailbox name (if\n\t`mail-extr-ignore-single-names' isn't set) (bug#22594).\n\n2016-02-07  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMessage no longer warns about unknown top level domains\n\n2016-02-07  Jarno Malmari  <jarno@malmari.fi>\n\n\tAdd tests for url-auth\n\n\t* test/lisp/url/url-auth-tests.el: New file.\n\n2016-02-07  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAdd a TLS connection test\n\n\t* test/lisp/net/network-stream-tests.el (connect-to-tls): Add\n\ta TLS connection test.\n\n2016-02-07  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAdd more network tests\n\n\t* test/lisp/net/network-stream-tests.el (echo-server-nowait):\n\tNew test.\n\n2016-02-07  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAdd network tests\n\n\t* test/lisp/net/network-stream-tests.el: New suite of network tests.\n\n2016-02-07  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAdd a TLS connection test\n\n\t* test/lisp/net/network-stream-tests.el (connect-to-tls): Add\n\ta TLS connection test.\n\n2016-02-07  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAdd more network tests\n\n\t* test/lisp/net/network-stream-tests.el (echo-server-nowait):\n\tNew test.\n\n2016-02-07  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAdd network tests\n\n\t* test/lisp/net/network-stream-tests.el: New suite of network tests.\n\n2016-02-07  Rasmus Pank Roulund  <rasmus@gmx.us>\n\n\tAllow various Gnus and Message address variables to be functions\n\n\t* doc/misc/gnus.texi (To From Newsgroups):\n\tgnus-ignored-from-addresses can be a function.\n\n\t* doc/misc/message.texi (Wide Reply):\n\tmessage-dont-reply-to-names can be a function.\n\n\t* lisp/gnus/gnus-icalendar.el (gnus-icalendar-identities):\n\tmessage-alternative-emails can be a function.\n\n\t* lisp/gnus/gnus-notifications.el (gnus-notifications):\n\tmessage-alternative-emails can be a function (bug#22315).\n\n\t* lisp/gnus/gnus-sum.el\n\t(gnus-summary-from-or-to-or-newsgroups):\n\tgnus-ignored-from-addresses can be a function (bug#22315).\n\n2016-02-07  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFix typo in Gnus regexp\n\n\t* lisp/gnus/gnus-art.el (gnus-button-valid-fqdn-regexp): Fix\n\ttypo in last change to this regexp (bug#22592).\n\n2016-02-07  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort to FreeBSD x86\n\n\tReported by Herbert J. Skuhra in:\n\thttps://lists.gnu.org/r/emacs-devel/2016-02/msg00336.html\n\t* src/lisp.h (NONPOINTER_BITS) [__FreeBSD__]: Zero in this case too,\n\tsince malloc always returns a multiple of 8 in FreeBSD.\n\n2016-02-07  Alan Mackenzie  <acm@muc.de>\n\n\tOn leaving CC Mode, clean up by removing character properties.\n\n\t* lisp/progmodes/cc-mode.el (c-leave-cc-mode-mode): Remove from the buffer\n\tall instances of the text properties/extents category, syntax-table,\n\tc-is-sws, c-in-sws, c-type, and c-awk-NL-prop.\n\n2016-02-06  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tmessage-valid-fqdn-regexp no longer exists\n\n\t* lisp/gnus/gnus-art.el (gnus-button-valid-fqdn-regexp): Don't use\n\tthe no-longer-existing message-valid-fqdn-regexp variable.\n\n2016-02-06  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRemove message-valid-fqdn-regexp, since it changes too much now\n\n\t* lisp/gnus/message.el (message-valid-fqdn-regexp): Remove.\n\t(message-bogus-recipient-p): Don't use it any more.\n\t(message-make-fqdn): Ditto.  Suggested by Lars-Johan Liman.\n\n2016-02-06  Paul van der Walt  <paul@denknerd.org>\n\n\tMatch \"Re :\" as a \"Re:\" prefix\n\n\t* lisp/gnus/message.el (message-subject-re-regexp): Also match\n\t\"Re :\" as a \"Re:\" prefix (commonly used in France).\n\n2016-02-06  Adam Sj\u00f8gren  <asjo@koldfront.dk>\n\n\tlisp/net/shr.el (shr-tag-del, shr-tag-ins): New functions.\n\n\t* lisp/net/shr.el (shr-tag-del, shr-tag-ins): New functions.\n\n2016-02-06  David Edmondson  <dme@dme.org>\n\n\tsrc/process.c Correctly convert AF_INET6 addresses\n\n\t* src/process.c (conv_lisp_to_sockaddr): AF_INET6 addresses are\n\tconverted to a list of 16 bit quantities by\n\tconv_sockaddr_to_lisp(). conv_lisp_to_sockaddr() should follow the\n\tsame scheme rather than expecting a (longer) list of 8 bit\n\tquantities.\n\n2016-02-05  Martin Jesper Low Madsen  <martin@martinjlowm.dk>\n\n\tSearch for host/port combinations in auth-source on OS X\n\n\t* lisp/gnus/auth-source.el (auth-source-macos-keychain-search):\n\tSearch for all host/port (or protocol) combinations for a match in\n\tthe OS X keychain.\n\n2016-02-05  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRemove nonsensical setting of gnus-newsgroup-unseen\n\n\t* lisp/gnus/gnus-sum.el (gnus-update-marks): Remove nonsensical\n\tsetting of gnus-newsgroup-unseen.\n\n2016-02-05  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tUse underline on all terminals that support it\n\n\t* lisp/subr.el (read-multiple-choice): Use\n\tdisplay-supports-face-attributes-p instead of\n\tdisplay-graphic-p to determine whether we can use underlining.\n\n2016-02-05  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMake the nsm query say what it did after the user interaction\n\n\t* lisp/net/nsm.el (nsm-query): Issue a message about\n\taborting/accepting messages (suggested by N. Jackson)\n\t(bug#22531).\n\n2016-02-05  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tOmit XLI (init) == 0 optimization in make-vector\n\n\t* src/alloc.c (Fmake_vector): Simplify by omitting the (XLI (init)\n\t== 0) case, as this optimization is probably not worth the hassle.\n\tJust for the record, the test for that case could have been\n\t(XLI (init) % ((EMACS_UINT) -1 / UCHAR_MAX) == 0) (!),\n\tassuming the typical platform with no padding bits and where\n\tconversion to int omits the most significant bits.\n\n2016-02-05  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* autogen.sh: Port to dash (Bug#22556).\n\n2016-02-05  Michael Albinus  <michael.albinus@gmx.de>\n\n\tMinor cleanup for Tramp \"doas\".\n\n\t* doc/misc/tramp.texi (Inline methods): Add \"doas\" method.\n\n\t* etc/NEWS: Add Tramp connection method \"doas\".\n\n\t* lisp/net/tramp-sh.el (tramp-methods) <doas>:\n\tAdd `tramp-remote-shell-args'.\n\n2016-02-05  Xi Lu  <lx@shellcodes.org>\n\n\t* lisp/net/tramp-sh.el (tramp-methods) <doas>: Add.  (Bug#22542)\n\n\t(tramp-default-user-alist): Add rule for \"doas\".\n\t(top): Completion function for \"doas\" is\n\t`tramp-completion-function-alist-su'.\n\n2016-02-04  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRestore the window configuration\n\n\t* lisp/net/nsm.el (nsm-query-user): Restore the window\n\tconfiguration (bug#22532).\n\n2016-02-04  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tUse an X popup in read-multiple-choice if running from a mouse command\n\n\t* lisp/subr.el (read-multiple-choice): Use an X popup if\n\tcalled from a mouse action (bug#19368).\n\n2016-02-04  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDisplay cursor in echo area when prompting\n\n\t* lisp/subr.el (read-multiple-choice): Display the cursor in\n\tthe echo area when prompting (bug#19368).\n\n2016-02-04  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMake NSM prompting clearer\n\n\t* lisp/net/nsm.el (nsm-query-user): Use read-multiple-choice\n\tto prompt in a nicer way (bug#19368).\n\n2016-02-04  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tUnderline read-multiple-choice-face\n\n\t* lisp/faces.el (read-multiple-choice-face): Also underline\n\tthe choice.\n\n2016-02-04  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMake url.el use async DNS\n\n\t* lisp/url/url-gw.el (url-open-stream): Use non-blocking DNS.\n\n\t* src/process.c (syms_of_process): Add a `dns' subfeature for\n\tmake-network-process.\n\n2016-02-04  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tOnly do async DNS if requested with :nowait 'dns\n\n\t* doc/lispref/processes.texi (Network Processes): Mention the\n\tdns value of :nowait.\n\n\t* src/process.c (Fmake_network_process): Only do async DNS if\n\t:nowait is `dns'.\n\n2016-02-04  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAdd sanity check for checking async DNS\n\n\t* src/process.c (check_for_dns): Disregard processes that have\n\talready been killed.\n\n2016-02-04  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMake the read-multiple-choice prompt a bit prettier\n\n\t* doc/lispref/commands.texi (Reading One Event): Mention\n\tread-multiple-choice-face.\n\n\t* lisp/subr.el (read-multiple-choice): Make the prompting a bit\n\tprettier.\n\n2016-02-04  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPrefer memcpy and memset to doing it by hand\n\n\t* src/alloc.c (Fmake_vector):\n\t* src/ccl.c (setup_ccl_program):\n\tUse memset to clear array.\n\t* src/alloc.c (Fvector, Fmake_byte_code):\n\t* src/charset.c (Fdefine_charset_internal):\n\tUse memcpy to copy array.\n\n2016-02-04  Nicolas Petton  <nicolas@petton.fr>\n\n\tDo not ignore redirections of 301, 302 and 307 status codes\n\n\tThe current version of HTTP/1.1 (RFC 7231) no longer requires\n\tconfirmation on 301, 302 or 307 status codes, therefore we do not have\n\tto ignore redirects for other requests than GET and HEAD.\n\n\t* lisp/url/url-http.el (url-http-parse-headers): Do not ignore 301, 302\n\tand 307 redirects for other requests than GET and HEAD.\n\n2016-02-04  Mark Oteiza  <mvoteiza@udel.edu>\n\n\t* lisp/net/eww.el (eww-switch-to-buffer): Use pop-to-buffer-same-window instead.\n\n2016-02-04  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSimplify USE_ALIGNED_ALLOC\n\n\t* src/alloc.c (USE_ALIGNED_ALLOC): Simplify, now that we\u2019ve merged\n\tin the emacs-25 changes.  Omit no-longer-needed decl for aligned_alloc.\n\n2016-02-04  Eric Abrahamsen  <eric@ericabrahamsen.net>\n\n\tHonor docstring of gnus-group-get-new-news\n\n\t* lisp/gnus/gnus-start.el (gnus-get-unread-articles): If the prefix arg\n\tis t, but non-numeric, unconditionally consider all groups to need\n\tupdating.\n\n2016-02-04  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tNew function read-multiple-choice\n\n\t* doc/lispref/commands.texi (Reading One Event): Document\n\tread-multiple-choice.\n\n\t* lisp/faces.el (read-multiple-choice-face): New face.\n\n\t* lisp/subr.el (read-multiple-choice): New function.\n\n2016-02-03  John Wiegley  <johnw@newartisans.com>\n\n\tMerge from origin/emacs-25\n\n\tee73997 Make erc work better when encountering unknown prefix chars\n\tb99141d Make erc completion case-insensitive again\n\t66c4620 Make complection in erc use consistent casing\n\t8c562b2 Make /QUIT in erc more robust\n\td93d2c5 Make tracking faces in Emacs work more reliably\n\taf6ab7e Make shr not bug out on images on non-graphical displays\n\t3311f40 Fix bookmark display widths\n\td90ab1e Fix typo in eww-make-unique-file-name\n\t7f81825 Make it possible to TAB to input fields\n\ta43a1dc Insert complete alt texts when images are disabled\n\t56ed4e1 Allow eww text fields to grow\n\t66b315c Make erc work when subword-mode is switched on\n\t255b68f Fix IMAP doc example\n\t91557f5 Quoting fixes in doc strings and diagnostics\n\t2c0dc9f Fix warning message in hack-local-variables\n\t504696d Etags: yet another improvement in Ruby tags\n\t8784ebf Fix x-popup-menu on TTYs without a mouse\n\t8b87ecb * lisp/emacs-lisp/map.el: Improvements to the docstring of the\n\t        pcase macro\n\t6191003 Use pop-to-buffer-same-window in eww\n\tfe321fd * autogen.sh: Revert all recent changes.\n\t74ebd4a * make-dist: Updates related to nt/.\n\t737193a * make-dist: Add modules/.\n\t3696bf2 * make-dist: Update for super-special file that can't live in etc/.\n\ta4278e2 Fix failure to compile ns-win.el in parallel builds\n\t860da4d Fix names of tags generated for Ruby accessors\n\tf6213ce Fix file-name recognition in 'etags'\n\te42e662 Change Ruby file names and extensions recognized by 'etags'\n\t58bfb6a More improvements for Ruby support in 'etags'\n\tc04e911 Add --git-config option to autogen.sh\n\t5713466 Fix editing undo changes in eww fields\n\t51362d6 Allow the user more control of popping up the eww window\n\tee0fbd8 Make eww-browse-url with new-window parameter work again\n\t9c3142d Clean up eww code slightly\n\tcb035f3 Don't insert nil faces in shr\n\t4c3fae3 ; * lisp/progmodes/prolog.el: Remove some obsolete commentary.\n\t93f2153 Improve the custom type of some user options.\n\t9f60d7e Mark some risky calendar variables.\n\t1d07dcd Highlight two additional SCSS keywords\n\tee8b466 Recommend enabling integrity-checking in git\n\te639e10 Some corrections in Elisp manual\n\td766ca8 Chatter when autogen.sh changes Git configuration\n\t3b734e1 * org/org-compat.el (org-font-lock-ensure): Fix bogus test (bug#22399)\n\t43cb9f8 Omit unnecessary history from Lisp intro\n\t2fbd1da * etc/HISTORY: Add some more history, plus git tags.\n\tc90e1b4 Improve elisp \u201cSecurity Considerations\u201d doc\n\tcedd7ca autogen.sh now arranges for git to check hashes\n\t86ce76b ; Fix ChangeLog.2 commit ID.\n\t7b1d2b1 Fix (c & 040) typo in emergency escapes\n\ta8273da Fix display of overlay strings with 'display' and 'box' property\n\tfc48106 Fix imap-starttls-open\n\tcdecbed Fix return value of imap-starttls-open\n\t20c7e34 ; * etc/NEWS: Fix renamed command name\n\t98bdbdb Correct reference to DARWIN_OS preprocessor symbol\n\tb250d29 Spelling fix\n\tb920a0e Spelling fixes\n\t93b144b Pacify GCC on C library without glibc API\n\n2016-02-03  John Wiegley  <johnw@newartisans.com>\n\n\tMerge from origin/emacs-25\n\n\tea26c8a * lisp/net/browse-url.el (browse-url-default-browser): Lower\n\t        priority of non-free Chrome.\n\t0fac75f Improve the custom type of some user options.\n\t2df0e04 Highlight CSS variables with variable name face\n\t3cf5e81 * lisp/gnus/gnus-kill.el (gnus-winconf-kill-file): Not\n\t        user-serviceable.\n\t2a5233c Mark some user options that can get evalled as risky.\n\t39b166f Disable DebPrint in sys_read on MS-Windows\n\t9fd0189 ;Fix ChangeLog entry\n\t4bb7233 Fix typos in Introduction to Emacs Lisp manual\n\n2016-02-03  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tAdd a new command to switch between erc buffers\n\n\t* doc/misc/eww.texi: Document eww-switch-to-buffer and its keybinding\n\t* etc/NEWS: Mention new command\n\t* lisp/net/eww.el (eww-mode-map): Bind eww-switch-to-buffer to \"s\"\n\t(eww-mode-map): Add menu item\n\t(eww-switch-to-buffer): New command\n\n2016-02-03  David Edmondson  <dme@dme.org>\n\n\tMake erc work better when encountering unknown prefix chars\n\n\t* lisp/erc/erc.el (erc-channel-receive-names): Output a warning\n\tinstead of erroring out on unknown prefix chars (bug#22380).\n\n2016-02-03  Vasilij Schneidermann  <v.schneidermann@gmail.com>  (tiny change)\n\n\tAllow sending empty hidden values in eww\n\n\t* lisp/net/eww.el (eww-tag-input): Allow sending empty hidden\n\tvalues (bug#22388).\n\n2016-02-03  Andrew Hyatt  <ahyatt@gmail.com>\n\n\tRemove packages obsoleted before Emacs 24.\n\n\tIn accordance with the policy discussed in the emacs-devel list,\n\tpackages that have been obsoleted for a full major release cycle are up\n\tfor deletion.\n\n\tThis removes almost all packages that are now eligible for deletion,\n\twith the exception of \"cl-compat\", which seems it is likely to still be\n\tused, and \"optional\", which offers some functionality that doesn't have\n\ta replacement yet.\n\n2016-02-03  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMention context when resume from emergency escape\n\n\tThat way, if the user has been doing something else for a while,\n\tthey are reminded of the situation when restarting Emacs,\n\tand are more likely to understand the two questions.\n\t* doc/emacs/trouble.texi (Emergency Escape): Document this.\n\t* src/keyboard.c (handle_interrupt): Implement this.\n\n2016-02-03  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort aligned_alloc decl to Cygwin.\n\n\tProblem reported by Ken Brown (Bug#22522#38).\n\t* configure.ac (aligned_alloc): Check for decl too.\n\t* src/lisp.h (aligned_alloc): Declare if not already declared.\n\n2016-02-02  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tautogen.sh now configures git only on request\n\n\t* autogen.sh (do_autoconf, do_git): New vars.\n\tSupport new arguments --help, all, autoconf, git.\n\tBy default, just do autoconf-related configuration, not git.\n\tPrefer 'echo' to 'cat <<EOF ...', as this tends to avoid temp files.\n\tIf GNU cp is available, use it to backup .git/config before\n\tchanging it.  When configuring git, chatter about what is being\n\tdone, and configure git to check hashes.  Avoid some duplicate\n\tfile name specification when creating git hooks.\n\n\t* GNUmakefile (ALL_IF_GIT): New macro.\n\t(configure): Use it.\n\t* INSTALL.REPO: Suggest './autogen.sh all'.\n\n2016-02-02  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDoc fixes and refactorings based on comments from Eli Zaretskii\n\n\t* doc/lispref/processes.texi (Network Processes): Clarify the\n\tmeaning of :tls-parameters.\n\n\t* lisp/net/gnutls.el (open-gnutls-stream): Clarify :nowait.\n\n\t* lisp/net/gnutls.el (gnutls-boot-parameters): Factor out into\n\town function.\n\t(gnutls-negotiate): Use it.\n\t(open-gnutls-stream): Ditto.\n\n\t* src/eval.c (vformat_string): Refactor out the printing bits\n\tfrom verror.\n\t(verror): Use it.\n\n\t* src/gnutls.c (boot_error): Mark failed processes with the\n\treal error message.\n\n\t* src/lisp.h: Declare vformat_string.\n\n2016-02-02  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tBuild with C11 if available\n\n\t* admin/merge-gnulib (GNULIB_MODULES): Add std-gnu11.\n\t* m4/std-gnu11.m4: New file, from gnulib.\n\t* lib/gnulib.mk, m4/gnulib-comp.m4: Regenerate.\n\n2016-02-02  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tUpdate gnulib copy\n\n\t* doc/misc/texinfo.tex: Copy from gnulib.\n\n2016-02-02  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/vc/add-log.el (change-log-directory-files, find-change-log):\n\tDoc tweaks.\n\n2016-02-02  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort better to platforms lacking aligned_alloc\n\n\tProblem reported by Ken Brown (Bug#22522).\n\t* src/lisp.h (hybrid_aligned_alloc)\n\t[HYBRID_MALLOC && !HAVE_ALIGNED_ALLOC]: New decl.\n\n2016-02-02  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort malloc.h hygiene fix to LTO\n\n\t* src/alloc.c (__malloc_initialize_hook):\n\tMake it externally visible (Bug#22522).\n\n2016-02-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tBuild fix for --enable-check-lisp-object-type\n\n\t* src/process.c (check_for_dns): Type fix reported by YAMAMOTO\n\tMitsuharu.\n\n2016-02-01  Glenn Morris  <rgm@gnu.org>\n\n\tMake find-change-log prefer a VCS root, if no ChangeLog exists.\n\n\t* lisp/vc/add-log.el (change-log-directory-files): New option.\n\t(find-change-log): Respect change-log-directory-files.\n\t* doc/emacs/maintaining.texi (Change Log Commands):\n\tMention change-log-directory-files.\n\n2016-02-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tBoot parameter check fix\n\n\t* src/process.c (send_process): Fix test for boot parameters noted\n\tby Andy Moreton.\n\n2016-02-01  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDouble static heap size.\n\n\t* src/sheap.h (STATIC_HEAP_SIZE): Double it, since it was too\n\tsmall on FreeBSD (Bug#22086).\n\n2016-02-01  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix Bug#20821\n\n\t* lisp/net/tramp.el (tramp-file-name-handler):\n\t* lisp/net/tramp-sh.el (tramp-sh-handle-expand-file-name):\n\tUse `tramp-drop-volume-letter'.  (Bug#20821)\n\n2016-01-31  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tStyle fix\n\n2016-01-31  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tReturn the correct server port number\n\n\t* src/process.c (connect_network_socket): Return the correct\n\tserver port number.\n\n2016-01-31  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFix autoconf test for getaddrinfo_a\n\n\t* configure.ac: Make the test for getaddrinfo_a work.\n\n2016-01-31  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tBetter async error reporting\n\n\t* src/process.c (connect_network_socket): Mark failed processes\n\twith a better error message.\n\t(check_for_dns): Ditto.\n\n2016-01-31  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tClarify :tls-parameters.\n\n2016-01-31  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAlways boot TLS if given parameters\n\n\t* src/process.c (connect_network_socket): If we have the TLS\n\tparameters, then boot the socket.\n\n2016-01-31  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAdd documentation for :tls-parameters\n\n\t* doc/lispref/processes.texi (Network Processes): Mention\n\t:tls-parameters.\n\n\t* src/process.c (Fmake_network_process): Document the\n\t:tls-parameters parameter.\n\n2016-01-31  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tBuild fix for glibc systems.\n\n2016-01-31  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMake network connections work again on non-glibc systems\n\n\t* lisp/net/gnutls.el (open-gnutls-stream): Pass the TLS\n\tkeywords in directly so that they can be used when doing\n\tsynchronous DNS on non-synchronous connections.\n\n\t* lisp/net/network-stream.el (open-network-stream): Allow\n\tpassing in the TLS parameters directly.\n\n\t* src/process.c (conv_numerical_to_lisp): New function to convert\n\tnumerical addresses to Lisp.\n\t(Fmake_network_process): Rework the non-HAVE_ADDRINFO code\n\tpaths so that they work again.\n\t(syms_of_process): Build fix for non-glibc systems.\n\n2016-01-31  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tWindows build fix\n\n\t* src/process.c (Fmake_network_process): Build fix for systems\n\twithout local sockets.\n\n2016-01-31  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tUse XCAR/XCDR instead of Fcar etc\n\n2016-01-31  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFix GC problem in async TLS connection\n\n\t* src/process.h: All Lisp_Object slots have to come first,\n\totherwise they won't be protected from gc.\n\n2016-01-31  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFurther TLS async work\n\n\t* src/gnutls.c (boot_error): New function to either signal an\n\terror or return an error code.\n\t(Fgnutls_boot): Don't signal errors when running asynchronously.\n\n\t* src/process.h (pset_status): Move here from process.c to be\n\table to use from gnutls.c.\n\n\t* src/process.c (connect_network_socket): Do the TLS boot here\n\twhen running asynchronously.\n\t(wait_reading_process_output): Rework the dns_processes\n\thandling for more safety.\n\n2016-01-31  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tClean up dead code\n\n\t* lisp/net/gnutls.el (gnutls-async-sentinel): Remove.\n\n2016-01-31  Dave Barker  <kzar@kzar.co.uk>\n\n\tAdd ability to give rcirc servers an alias name\n\n\t* lisp/net/rcirc.el (rcirc-server-alist): Add :server-alias\n\tcustomization option.\n\t(rcirc, rcirc-connect): Take server alias into account.\n\n2016-01-31  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort new hybrid malloc to FreeBSD\n\n\tProblem reported by Wolfgang Jenkner in: https://bugs.gnu.org/22086#118\n\t* src/gmalloc.c (__malloc_initialize_hook, __after_morecore_hook)\n\t(__morecore) [HYBRID_MALLOC]: Define in this case too.\n\n2016-01-31  Wolfgang Jenkner  <wjenkner@inode.at>\n\n\t* configure.ac: Stop using mmap for buffers for FreeBSD.\n\n2016-01-31  Michael Albinus  <michael.albinus@gmx.de>\n\n\tMerge changes from Tramp repository\n\n\t* doc/misc/Makefile.in (${buildinfodir}/tramp.info tramp.html):\n\tNo EXTRA_OPTS needed.\n\n\t* doc/misc/tramp.texi: Merge changes from Emacsemacs-25\n\tbranch, especially for @trampfn{}.\n\t(Top): Move @ifnottex down.\n\t(History): XEmacs support has been removed.\n\t(GVFS based methods, Remote processes): Do not use emacsgvfs flag.\n\t(Auto-save and Backup): Use both syntax versions.\n\t(File name Syntax): Remark on IPv6 adresses is valid for\n\tunified syntax only.\n\n\t* doc/misc/trampver.texi: Do not set emacsgvfs flag.\n\n2016-01-30  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSpelling fixes\n\n2016-01-30  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/vc/add-log.el (find-change-log): Use locate-dominating-file.\n\n2016-01-30  Matthew Carter  <m@ahungry.com>\n\n\tQuote table names for postgres listings (sql-mode)\n\n\t* lisp/progmodes/sql.el (sql-postgres-completion-object): Avoid passing\n\t  unquoted table names to the completion list.\n\n2016-01-30  Glenn Morris  <rgm@gnu.org>\n\n\tChange Smerge \"Mine\" and \"Other\" for \"Upper\" and \"Lower.  (Bug#20878)\n\n\t* lisp/vc/smerge-mode.el (smerge-diff-switches)\n\t(smerge-context-menu, smerge-match-conflict, smerge-swap): Doc fixes.\n\t(smerge-upper, smerge-upper-face, smerge-keep-upper)\n\t(smerge-diff-base-upper): Rename from smerge-mine, smerge-mine-face,\n\tsmerge-keep-mine, smerge-diff-base-mine.  Update all uses.\n\t(smerge-mine-face, smerge-other-face): Remove obsolete face aliases.\n\t(smerge-lower, smerge-lower-face, smerge-lower-re, smerge-keep-lower)\n\t(smerge-diff-base-lower): Rename from smerge-other, smerge-other-face,\n\tsmerge-other-re, smerge-keep-other, smerge-diff-base-lower.\n\tUpdate all uses.\n\t(smerge-basic-map): Add \"l\" and \"u\" bindings.\n\t(smerge-mode-menu): Update menu bindings for renaming.\n\t(smerge-font-lock-keywords): Update face names.\n\t(smerge-match-names): Update names.\n\t(smerge-diff-upper-lower): Rename from smerge-diff-mine-other.\n\t(smerge-match-conflict, smerge-ediff): Rename local variables.\n\t(smerge-makeup-conflict): Relabel markers.\n\t(smerge-parsep-re): Use renamed variables.\n\n2016-01-30  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort recent my_edata change to MS-Windows\n\n\t* src/lastfile.c (my_edata): Also define if WINDOWSNT.\n\n2016-01-30  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRework the mechanisms for async GnuTLS connections\n\n\t* lisp/net/gnutls.el (open-gnutls-stream): Compute the\n\tgnutls-boot parameters and pass them to the process object.\n\t(gnutls-negotiate): New parameter :return-keywords that won't\n\tconnect to anything, just compute the keywords.\n\n\t* lisp/url/url-http.el (url-http): Revert async TLS sentinel\n\thack, which is no longer necessary.\n\n\t* src/gnutls.c (Fgnutls_asynchronous_parameters): Rename from\n\tgnutls-mark-process.\n\n\t* src/process.c (connect_network_socket): If we're connecting to\n\tan asynchronous TLS socket, complete the GnuTLS boot sequence here.\n\n\t* src/process.h: New parameter gnutls_async_parameters.\n\n2016-01-30  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFix segfault from double free\n\n\t* src/process.c (check_for_dns): Protect against double free\n\tissues.\n\n2016-01-30  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRemove debugging\n\n2016-01-30  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tImplement asynchronous GnuTLS connections\n\n\t* doc/misc/emacs-gnutls.texi (Help For Developers): Mention\n\tthe nowait parameter.\n\n\t* lisp/net/gnutls.el (open-gnutls-stream): Allow asynchronous\n\tconnections with the new nowait parameter.\n\n\t* lisp/net/network-stream.el (network-stream-open-tls): Pass\n\ton :nowait to open-gnutls-stream.\n\n\t* lisp/url/url-http.el (url-http): Don't overwrite the\n\tsentinel created by open-gnutls-stream.\n\n\t* src/gnutls.c (Fgnutls_mark_process): New function.\n\n\t* src/process.c (send_process): Don't write to GnuTLS sockets that\n\thaven't been initialized yed.\n\n\t* src/process.h: New slot gnutls_wait_p.\n\n2016-01-30  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tTell Automake the new lib/Makefile.am is OK\n\n\t* lib/Makefile.am (AUTOMAKE_OPTIONS): Add -Wno-portability.\n\n2016-01-30  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMake it easy to override preferred-branch test\n\n\t* Makefile.in (preferred-branch-is-current):\n\tRename from emacs-25-branch-is-current.  All uses changed.\n\t(PREFERRED_BRANCH): New macro.\n\n2016-01-30  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tShrink static heap a bit\n\n\t* src/sheap.h: Include lisp.h, for Lisp_Object.\n\t(STATIC_HEAP_SIZE): Now an enum constant, not a macro.\n\tMake it 2 MiB * sizeof (Lisp_Object), which is a bit more\n\tconservative than the old value.\n\t(Bug#22086)\n\n2016-01-30  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix extern symbols defined and not used\n\n\t* src/alloc.c: Always include <signal.h>.\n\t(malloc_warning) [!SIGDANGER && (SYSTEM_MALLOC || HYBRID_MALLOC)]:\n\tDo not define; unused.\n\t* src/emacs.c, src/lisp.h (might_dump) [!DOUG_LEA_MALLOC]: Now static.\n\t* src/gmalloc.c (gdefault_morecore): Rename from __default_morecore,\n\tto avoid collision with glibc.  Now static.  All uses changed.\n\t* src/lastfile.c (my_edata): Define only if\n\t((!defined SYSTEM_MALLOC && !defined HYBRID_MALLOC && !defined\n\tWINDOWSNT) \\ || defined CYGWIN || defined DARWIN_OS).\n\t(Bug#22086)\n\n2016-01-30  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tBuild lib/e-*.o only on platforms that need it\n\n\t* configure.ac (hybrid malloc): Simplify configuration.\n\t(SHEAP_OBJ): Remove; no longer needed.\n\t(HYBRID_MALLOC): New var. Subst it.\n\t(HYBRID_MALLOC_LIB): New Automake conditional.\n\t* lib/Makefile.am (noinst_LIBRARIES): Add libegnu.a only if\n\tHYBRID_MALLOC_LIB.\n\t(libegnu_a_CPPFLAGS): Omit AM_CPPFLAGS; not needed.\n\t(MOSTLYCLEANFILES): Add libegnu.a.\n\t* src/Makefile.in (SHEAP_OBJ): Remove.\n\t(HYBRID_MALLOC): New macro.\n\t(base_obj): Use it to conditionally add sheap.o.\n\t(LIBEGNU_ARCHIVE): New macro.\n\t($(LIBEGNU_ARCHIVE)): New rule, replacing $(lib)/libegnu.a.\n\tAll uses of the latter replaced by the former.\n\t* src/alloc.c (USE_ALIGNED_ALLOC): Simplify configuration.\n\tCorrect misspelling ALIGNED_ALLOC to HAVE_ALIGNED_ALLOC.\n\t* src/gmalloc.c: Update comment.\n\t* src/lisp.h (aligned_alloc)\n\t[!DOUG_LEA_MALLOC && !HYBRID_MALLOC && !SYSTEM_MALLOC]:\n\tNew decl.\n\t(Bug#22086)\n\n2016-01-30  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tInclude <malloc.h> when advisable\n\n\tThis should help insulate us better from future glibc changes.\n\tIt is good hygiene to include .h files for APIs that Emacs uses.\n\tFix type clashes between Emacs and GNU <malloc.h> (Bug#22086).\n\t* configure.ac: Check for malloc.h.\n\t* src/alloc.c: Include <malloc.h> depending on HAVE_MALLOC_H,\n\tnot on DOUG_LEA_MALLOC.\n\t* src/emacs.c, src/gmalloc.c (malloc_enable_thread):\n\tRemove decl (now in lisp.h).\n\t* src/gmalloc.c: Include stddef.h earlier, for ptrdiff_t.\n\t[emacs]: Include lisp.h.\n\t[HAVE_MALLOC_H]: Include <malloc.h>.\n\t(__MALLOC_HOOK_VOLATILE): New macro, if not already defined.\n\t(__after_morecore_hook, __malloc_initialize_hook, __morecore)\n\t(__default_morecore):\n\t[!HAVE_MALLOC_H]: New decls near non-inclusion of <malloc.h>.\n\t(calloc): Make it clear that the macro should not be used.\n\tRemove unused decl.\n\t(malloc_info): New macro, to avoid clash with glibc <malloc.h>.\n\t(__morecore, __default_morecore, __after_morecore_hook)\n\t(__malloc_extra_blocks, __malloc_initialize_hook, __free_hook)\n\t(__malloc_hook, __realloc_hook, __memalign_hook, memory_warnings):\n\tRemove later decls.\n\t(gmalloc_hook, gfree_hook, grealloc_hook):\n\tRename from __malloc_hook, __free_hook, __realloc_hook to\n\tavoid type collision with glibc <malloc.h>.  All uses changed.\n\t(gmalloc_hook):\n\t(__malloc_extra_blocks) [DOUG_LEA_MALLOC||HYBRID_MALLOC||SYSTEM_MALLOC]:\n\tNow static.\n\t(gmalloc_hook, __malloc_extra_blocks): Define even if [!HYBRID_MALLOC].\n\t(__malloc_initialize_hook, __after_morecore_hook):\n\tDeclare with types compatible with glibc.\n\t(__memalign_hook, hybrid_calloc) [HYBRID_MALLOC]:\n\tRemove.  All uses removed.\n\t* src/lisp.h (__malloc_extra_blocks, malloc_enable_thread): New decls.\n\t* src/ralloc.c, src/vm-limit.c:\n\tSimplify includes and include <malloc.h> if available.\n\n2016-01-30  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* src/alloc.c: Include \"sheap.h\".\n\n\t(alloc_unexec_pre, alloc_unexec_post) [HYBRID_MALLOC]:\n\tSet and clear bss_sbrk_did_unexec, on all platforms not just Cygwin.\n\t* src/lisp.h (alloc_unexec_pre, alloc_unexec_post) [!DOUG_LEA_MALLOC]:\n\tDeclare unconditionally.\n\t* src/unexcw.c, src/unexelf.c (bss_sbrk_did_unexec): Remove decl.\n\t(unexec): Don\u2019t set or clear bss_sbrk_did_unexec;\n\tthe caller now does this.\n\t(Bug#22086)\n\n2016-01-30  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPacify --enable-gcc-warnings when HYBRID_MALLOC\n\n\t* src/buffer.c (init_buffer):\n\t* src/emacs.c (main):\n\t* src/xsmfns.c (smc_save_yourself_CB, x_session_initialize):\n\tUse emacs_get_current_dir_name, not get_current_dir_name.\n\t* src/conf_post.h (aligned_alloc) [HYBRID_MALLOC && emacs]: New macro.\n\t(HYBRID_GET_CURRENT_DIR_NAME, get_current_dir_name): Remove.\n\t* src/emacs.c: Include \"sheap.h\".\n\t(report_sheap_usage): Remove decl.\n\t(Fdump_emacs) [HYBRID_MALLOC]: Report usage directly.\n\tDon't assume ptrdiff_t can be printed as int.\n\t* src/gmalloc.c [HYBRID_MALLOC]:\n\tInclude \"sheap.h\" rather than declaring its contents by hand.\n\t(get_current_dir_name, gget_current_dir_name)\n\t(hybrid_get_current_dir_name): Remove.\n\t(emacs_abort): Remove duplicate decl.\n\t(aligned_alloc): Undef, like malloc etc.\n\t(ALLOCATED_BEFORE_DUMPING): Now a static function, not a macro.\n\tMake it a bit more efficient.\n\t(malloc_find_object_address): Remove unused decl.\n\t(enum mcheck_status, mcheck, mprobe, mtrace, muntrace, struct mstats)\n\t(mstats, memory_warnings): Declare only if GC_MCHECK.\n\t* src/lisp.h (emacs_get_current_dir_name):\n\tNew decl, replacing get_current_dir_name.\n\t* src/sheap.c: Include sheap.h first.\n\t(STATIC_HEAP_SIZE): Remove; now in sheap.h.\n\t(debug_sheap): Now static.\n\t(bss_sbrk_buffer_end): Remove; no longer used.\n\t(bss_sbrk_ptr): Now static and private.\n\t(bss_sbrk_did_unexec): Now bool.\n\t(BLOCKSIZE): Remove, to avoid GCC warning about its not being used.\n\t(bss_sbrk): Don't treat request_size 0 as special, since the code\n\tworks without this being a special case.\n\tAvoid overflow if request size exceeds INT_MAX.\n\t(report_sheap_usage): Remove; now done in emacs.c.\n\t* src/sheap.h: New file.\n\t* src/sysdep.c (get_current_dir_name): Remove macro.\n\tInclude \"sheap.h\".\n\t(emacs_get_current_dir_name): Rename function from\n\tget_current_dir_name.  Handle HYBRID_MALLOC here;\n\tthis is simpler.\n\t(Bug#22086)\n\n2016-01-30  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tReport static heap usage on non-Cygwin, too\n\n\t* src/emacs.c (Fdump_emacs) [HYBRID_MALLOC]: Report sheap usage here ...\n\t* src/unexcw.c (unexec): ... instead of here, since sheap can be used\n\ton platforms other than Cygwin (Bug#22086).\n\n2016-01-30  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPacify GCC on extern decls\n\n\t* src/unexelf.c (bss_sbrk_did_unexec): Move decl to top level\n\tto pacify recent GCC (Bug#22086).\n\n2016-01-30  Wolfgang Jenkner  <wjenkner@inode.at>\n\n\tAdd musl patch to support HYBRID_MALLOC on elf systems\n\n\t* src/gmalloc.c: Adjust for HYBRID_MALLOC in the non CYGWIN case.\n\t(__default_morecore): Here, in particular.\n\t* configure.ac: Define HYBRID_MALLOC when unexelf.o is used.\n\tNew variable SHEAP_OBJ.\n\t* src/Makefile.in: Use it.\n\t(Bug#22086)\n\n2016-01-30  Rich Felker  <dalias@libc.org>  (tiny change)\n\n\tunexelf.c hook to support HYBRID_MALLOC on ELF\n\n\t* src/unexelf.c (unexec) [HYBRID_MALLOC]:\n\tDefine bss_sbrk_did_unexec (Bug#22086).\n\n2016-01-30  Wolfgang Jenkner  <wjenkner@inode.at>\n\n\tLink temacs with gnulib compiled with -Demacs\n\n\tThis is done to support HYBRID_MALLOC, since some static variables\n\t(e.g., last_environ in putenv.c) hold pointers to memory malloced\n\tbefore dumping (Bug#22086).\n\t* lib/Makefile.am: Add incantation to install libegnu.a.\n\t* src/Makefile.in ($(lib)/libgnu.a): Replace with libegnu.a\n\t(temacs$(EXEEXT)): Use it.\n\n2016-01-30  Wolfgang Jenkner  <wjenkner@inode.at>\n\n\tInternal linkage for gmalloc etc. if HYBRID_MALLOC\n\n\tThis avoids clashes with symbols if the after-dump malloc is\n\tderived from Doug Lea's implementation (Bug#22086).\n\n\t* src/gmalloc.c (emacs_abort, __morecore, __default_morecore):\n\tMove declarations up.  For HYBRID_MALLOC, turn all `extern'\n\tdeclarations below to `static' ones.\n\t(aligned_alloc): Declare for !MSDOS as well.\n\t(heapsize, _fraghead): Move resp. copy declaration downwards.\n\tFor HYBRID_MALLOC, conditionalize out the other definitions,\n\tsince the previous `static' declarations double as tentative\n\tdefinitions, anyway.\n\t(_malloc, _free, _realloc, __free_hook, _aligned_blocks)\n\t(__realloc_hook, __memalign_hook): Conditionalize out.\n\t(cfree, memalign, valloc): Ditto.\n\n2016-01-30  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t-\n\n\t-\n\n\t-\n\n2016-01-30  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-25\n\n\t3f481ad Rename xref-query-replace to xref-query-replace-in-results\n\t62f4ed4 Update cl-defgeneric and cl-defmethod docstrings\n\t2111e0e Comment out next-error-function integration in xref\n\t4e11ad3 Correct a use of \"which\" in intro.texi\n\ta1865bc Distinguish the two meanings of Java's keyword \"default\".  Fixes bug #22358.\n\t76045f7 Don't operate on menu bar of nonexistent frame\n\tc32f3bc Unbreak the GNUstep build.\n\n2016-01-30  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t-\n\n\t-\n\n2016-01-30  Andreas Schwab  <schwab@linux-m68k.org>\n\n\tRe-enable checks in member, memql, delete to complain about non-lists\n\n\t* src/fns.c (Fmember, Fmemql, Fdelete): Revert 2007-10-16 change.\n\n2016-01-30  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tClean up compilation warnings\n\n2016-01-30  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMake async resolution more efficient\n\n\t* src/process.c (wait_reading_process_output): Use a list of\n\tprocess objects instead of looping through an array to check\n\tfor name resolution.  This should be much faster.\n\n2016-01-29  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMore async memory leaks\n\n\t* src/process.c (check_for_dns): Free even more allocated async stuff.\n\n2016-01-29  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tCompilation for for systems with getaddrinfo_a\n\n\t* src/process.c (Fmake_network_process): Make stuff work again on\n\tsystems with getaddrinfo_a.\n\n2016-01-29  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tSave correct server data\n\n\t* src/process.c (connect_network_socket): Save the correct contact\n\tinfo for servers.\n\n2016-01-29  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tCompilation for for non-GNU systems\n\n\t* src/process.c (Fmake_network_process): Make compilation work\n\tagain on hosts that don't have getaddrinfo_a.\n\n2016-01-29  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAvoid memory leaks in async DNS\n\n\t* src/process.c (check_for_dns): Free async DNS resources after\n\tthey've been used.\n\n2016-01-29  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\t* src/process.c (check_for_dns): Free the result data.\n\n2016-01-29  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFix server connections\n\n\t* src/process.c (Fmake_network_process): Make creating server\n\tlistening ports work again.\n\n2016-01-29  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFurther make_network_process clean up\n\n\t* src/process.c (Fmake_network_process): Remove setting of unused\n\tfamily variable.\n\n2016-01-29  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tClean up GETADDRINFO usage in make-network-process\n\n\t* src/process.c (Fmake_network_process): Clean up the GETADDRINFO\n\thandling.\n\n2016-01-29  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tImplement asynchronous name resolution\n\n\t* src/process.c (Fmake_network_process): Do asynchronous DNS\n\tlookups if we have getaddrinfo_a and the user requests :nowait.\n\t(check_for_dns): New function.\n\t(wait_reading_process_output): Check for pending name\n\tresolution in the idle loop.\n\n\t* src/process.h: Add structure for async DNS.\n\n2016-01-28  Glenn Morris  <rgm@gnu.org>\n\n\tRemove some useless-use-of eval.\n\n\t* lisp/gnus/gnus.el (gnus-load-hook): Don't use eval.\n\t* lisp/gnus/nnrss.el (xml): Simply require it.\n\t(xml-rpc-method-call): Use declare-function.\n\n2016-01-28  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFix memory leak\n\n\t* src/process.c (connect_network_socket): Free previous sockaddr\n\tbefore allocating a new one.\n\n2016-01-28  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tReturn IP addresses in the correct order\n\n\t* src/process.c (Fmake_network_process): Return the IP addresses\n\tin the same order as getaddrinfo does.\n\t(set_network_socket_coding_system): Clean up the code slightly.\n\n2016-01-28  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAdd checks for getaddrinfo_a\n\n\t* configure.ac: Detect getaddrinfo_a.\n\n2016-01-28  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRefactor make_network_process\n\n\t* src/process.c (set_network_socket_coding_system)\n\t(connect_network_socket): Refactor out of\n\tmake_network_process to allow calling connect_network_socket\n\tasynchronously.\n\t(Fmake_network_process): Do nothing but parsing the parameters\n\tand name resolution, leaving the connection to\n\tconnect_network_socket.\n\n2016-01-28  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/emacs-lisp/bytecomp.el (byte-compile-nogroup-warn):\n\tWarn if defcustom has no type.  (Bug#16276)\n\n2016-01-27  Glenn Morris  <rgm@gnu.org>\n\n\t* test/lisp/vc/vc-hg-tests.el: Move from test/automated/.\n\n2016-01-25  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t(rng-c-fix-escaped-newlines): Use subst-char-in-string\n\n\t* lisp/nxml/rng-cmpct.el (rng-c-fix-escaped-newlines):\n\tUse subst-char-in-string.\n\n2016-01-25  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/textmodes/sgml-mode.el (sgml-forward-sexp): New function\n\n\t(sgml-cursor-sensor, sgml-pretty-print, sgml-parse-tag-backward)\n\t(sgml-calculate-indent): Use it.\n\n2016-01-25  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/org: Fix some compiler warnings\n\n\t* lisp/org/ob-core.el (org-babel-check-confirm-evaluate)\n\t(org-babel-map-src-blocks): Don't emit warnings if added vars are not used.\n\t(*this*): Declare as dyn-bound.\n\t(org-babel-expand-src-block, org-babel-load-in-session)\n\t(org-babel-switch-to-session-with-code, org-babel-get-rownames):\n\tMark unused args.\n\t(org-babel-combine-header-arg-lists): Remove unused var `args'.\n\t(org-babel-find-named-block): Remove unused var `msg'.\n\n\t* lisp/org/org-src.el (org-inhibit-startup, org-src-fontify-natively):\n\tDeclare as dyn-bound.\n\t(org-edit-src-code): Remove unused var `lfmt'.\n\t(org-edit-fixed-width-region): Remove unused var `preserve-indentation'.\n\n2016-01-25  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/font-lock.el: Use #' to quote function symbols\n\n2016-01-23  Michael Albinus  <michael.albinus@gmx.de>\n\n\tImprove user name completion in Tramp\n\n\t* lisp/net/tramp.el (tramp-parse-passwd, tramp-parse-etc-group):\n\tCall also \"getent passwd\" or \"getent group\", if possible.\n\t(tramp-parse-putty): Cache the result.\n\n2016-01-22  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* etc/NEWS: Move kqueue entries to Emacs 25.1 sections.\n\n2016-01-20  Glenn Morris  <rgm@gnu.org>\n\n\tRemove handling of non-string time-stamp formats, obsolete for 20 years.\n\n\t* lisp/time-stamp.el (time-stamp-format): Doc fix.\n\t(time-stamp-old-format-warn, time-stamp-fconcat): Remove.\n\t(time-stamp-string): Ignore non-string formats.\n\n2016-01-20  Eli Zaretskii  <eliz@gnu.org>\n\n\tAnoter fix for problematic merge from emacs-25\n\n\t* src/w32fns.c (globals_of_w32fns): Move initialization of\n\tresetstkoflw to a non-Cygwin part.\n\n2016-01-20  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* test/Makefile.in (mostlyclean): Use ${LOGFILES}.\n\n2016-01-20  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix MS-Windows build broken by a botched merge from emacs-25\n\n\t* src/w32.c (w32_crypto_hprov): New static variable.\n\t(globals_of_w32): Initialize w32_crypto_hprov.\n\t(w32_init_crypt_random, w32_init_random): New functions.\n\tInclude wincrypt.h.\n\t* src/w32.h (w32_init_random): Add prototype.\n\n2016-01-19  Vincent Bela\u00efche  <vincentb1@users.sourceforge.net>\n\n\tCorrect a whole bunch of bugs coming with renamed cell relocation.\n\n\t* lisp/ses.el (ses-localvars): rename variable\n\t`ses--renamed-cell-symb-list' into `ses--in-killing-named-cell-list'\n\tand adjust the comment about it.\n\t(ses-plist-delq): new defun.\n\t(ses--ses-buffer-list): new defvar.\n\t(ses--unbind-cell-name): new defun.\n\t(ses-relocate-symbol): Do not relocate symbol when it is a named cell.\n\t(ses-relocate-formula): Undo change of\n\t2011-12-27T19:30:39Z!vincentb1@users.sourceforge.net that was\n\tpreventing relocation for named cell --- now doing this is delegated\n\tto function `ses-relocate-symbol'.\n\t(ses-relocate-range): In docstring, undo change of\n\t2016-01-03T07:31:52Z!johnw@newartisans.com, `ses-range' must remain\n\tlower case as it is not a variable.\n\t(ses-relocate-all): Cell name relocation : 1) check that cell is a\n\trenamed cell by testing `ses-cell' property to :ses-named, rather than\n\tcomparing name to corresponding standard name. Set rowcol of renamed\n\tcell into the hashmap --- `ses-cell' property must not be used for\n\tthat as the same name can be used for different locations in different\n\tSES sheets ; 2) use `local-variable-if-set-p' rather than `boundp' and\n\t`local-variable-p' to check if cell name is already in use in this\n\tsheet or needs initialization.\n\t(ses-relocate-all): Cell value relocation : 1) like for name\n\trelocation use the `ses-cell' property rather than comparing actual\n\tname to corresponding standard name. 2) Correct bug introduced in\n\t2011-12-27T19:30:39Z!vincentb1@users.sourceforge.net, as the test was\n\tmade the other way round than the intention --- ie value relocation\n\twas disabled for standard cell, not for renamed cell as was the\n\tintention.\n\t(ses-relocate-all): Add loop for unbinding deleted renamed cells\n\tnames.\n\t(ses-killbuffer-hook): new defun.\n\t(ses-mode): Add the ses--ses-buffer-list maintenance mechanism ---\n\tkill buffer hook, plus pushing current buffer if new in list.\n\t(ses-delete-row, ses-delete-column): Collect deleted renamed cells\n\tinto `ses--in-killing-named-cell-list'.\n\t(ses-rename-cell): Remove update of variable\n\t`ses--renamed-cell-symb-list', this variable is renamed to\n\t`ses--in-killing-named-cell-list', and its setting is done in\n\tfunctions `ses-delete-row' and , `ses-delete-column' now.\n\t(ses-rename-cell): Change correction of\n\t2015-12-30T23:10:37Z!vincentb1@users.sourceforge.net concerning\n\tcomputation of the range over which `cursor-intangible' property was\n\tto be updated. This correction was ok for non spilling cells, but not\n\tfor cells spilling over following blank cells. Simply use\n\t`next-single-property-change' rather than computing the end column\n\tfrom column widths.\n\n2016-01-18  John Wiegley  <johnw@newartisans.com>\n\n\t-\n\n2016-01-18  John Wiegley  <johnw@newartisans.com>\n\n\tMerge from origin/emacs-25\n\n\t3ae7934 ; * etc/NEWS: Mark entries that don't need further treatment.\n\t6165c36 * lisp/files.el (dir-locals--all-files): Respect absolute file-names\n\t2ffdf15 * lisp/help-fns.el (describe-variable): Fix a left-over parenthesis\n\t71ecd62 * lisp/dired-x.el (dired-omit-here-always): Use add-dir-local-variable\n\tf0b82b3 * lisp/files.el (dir-locals--all-files): Use completion instead of wildcards\n\t86e4513 Fix incompatbilities with MS-Windows 2000 and older\n\t4e96521 Mention in PROBLEMS an issue with MS-Windows NT4\n\t15c23aa Ensure 8-byte aligned memory allocation on MS-Windows 9X\n\t39afa42 Fix tests for active region in hideif.el\n\t05df666 Fix interactive specs in some hideif.el commands\n\n2016-01-18  John Wiegley  <johnw@newartisans.com>\n\n\t-\n\n2016-01-18  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tAvoid stdio in SIGINT handler\n\n\t* admin/merge-gnulib (GNULIB_MODULES): Add ignore-value.\n\t* lib/gnulib.mk, m4/gnulib-comp.m4: Regenerate.\n\t* lib/ignore-value.h: New file, from gnulib.\n\t* src/keyboard.c: Include it.\n\t(write_stdout, read_stdin): New functions.\n\t(handle_interrupt): Use them instead of printf and getchar,\n\tand avoid fflush when handling signals.\n\n2016-01-18  Jens Lechtenboerger  <jens.lechtenboerger@fsfe.org>\n\n\tRefactor mml-smime.el, mml1991.el, mml2015.el\n\n\t(Maybe this is the last merge from Gnus git to Emacs git)\n\n\tCf. discussion on ding mailing list, messages in\n\t<http://thread.gmane.org/gmane.emacs.gnus.general/86228>.\n\tCommon code from the three files mml-smime.el, mml1991.el, and\n\tmml2015.el is moved to mml-sec.el.  Auxiliary functions are added\n\tto gnus-util.el.\n\n\tThe code is supported by test cases with necessary test keys.\n\n\tDocumentation in message.texi is updated.\n\n\t* doc/misc/message.texi (Security, Using S/MIME):\n\tUpdate for refactoring mml-smime.el, mml1991.el, mml2015.el.\n\t(Using OpenPGP): Rename from \"Using PGP/MIME\"; update contents.\n\t(Passphrase caching, Encrypt-to-self, Bcc Warning): New sections.\n\n\t* lisp/gnus/gnus-util.el (gnus-test-list, gnus-subsetp, gnus-setdiff):\n\tNew functions.\n\n\t* lisp/gnus/mml-sec.el: Require gnus-util and epg.\n\t(epa--select-keys): Autoload.\n\t(mml-signencrypt-style-alist, mml-secure-cache-passphrase): Doc fix.\n\t(mml-secure-openpgp-signers): New user option;\n\tmake mml1991-signers and mml2015-signers obsolete aliases to it.\n\t(mml-secure-smime-signers): New user option;\n\tmake mml-smime-signers an obsolete alias to it.\n\t(mml-secure-openpgp-encrypt-to-self): New user option;\n\tmake mml1991-encrypt-to-self and mml2015-encrypt-to-self obsolete\n\taliases to it.\n\t(mml-secure-smime-encrypt-to-self): New user option;\n\tmake mml-smime-encrypt-to-self an obsolete alias to it.\n\t(mml-secure-openpgp-sign-with-sender): New user option;\n\tmake mml2015-sign-with-sender an obsolete alias to it.\n\t(mml-secure-smime-sign-with-sender): New user option;\n\tmake mml-smime-sign-with-sender an obsolete alias to it.\n\t(mml-secure-openpgp-always-trust): New user option;\n\tmake mml2015-always-trust an obsolete alias to it.\n\t(mml-secure-fail-when-key-problem, mml-secure-key-preferences):\n\tNew user options.\n\t(mml-secure-cust-usage-lookup, mml-secure-cust-fpr-lookup)\n\t(mml-secure-cust-record-keys, mml-secure-cust-remove-keys)\n\t(mml-secure-add-secret-key-id, mml-secure-clear-secret-key-id-list)\n\t(mml-secure-cache-passphrase-p, mml-secure-cache-expiry-interval)\n\t(mml-secure-passphrase-callback, mml-secure-check-user-id)\n\t(mml-secure-secret-key-exists-p, mml-secure-check-sub-key)\n\t(mml-secure-find-usable-keys, mml-secure-select-preferred-keys)\n\t(mml-secure-fingerprint, mml-secure-filter-keys)\n\t(mml-secure-normalize-cust-name, mml-secure-select-keys)\n\t(mml-secure-select-keys-1, mml-secure-signer-names, mml-secure-signers)\n\t(mml-secure-self-recipients, mml-secure-recipients)\n\t(mml-secure-epg-encrypt, mml-secure-epg-sign): New functions.\n\n\t* lisp/gnus/mml-smime.el: Require epg;\n\trefactor declaration and autoloading of epg functions.\n\t(mml-smime-use): Doc fix.\n\t(mml-smime-cache-passphrase, mml-smime-passphrase-cache-expiry):\n\tObsolete.\n\t(mml-smime-get-dns-cert, mml-smime-get-ldap-cert):\n\tUse format instead of gnus-format-message.\n\t(mml-smime-epg-secret-key-id-list): Remove variable.\n\t(mml-smime-epg-passphrase-callback, mml-smime-epg-find-usable-key)\n\t(mml-smime-epg-find-usable-secret-key): Remove functions.\n\t(mml-smime-epg-sign, mml-smime-epg-encrypt): Refactor.\n\n\t* lisp/gnus/mml1991.el (mml1991-cache-passphrase)\n\t(mml1991-passphrase-cache-expiry): Obsolete.\n\t(mml1991-epg-secret-key-id-list): Remove variable.\n\t(mml1991-epg-passphrase-callback, mml1991-epg-find-usable-key)\n\t(mml1991-epg-find-usable-secret-key): Remove functions.\n\t(mml1991-epg-sign, mml1991-epg-encrypt): Refactor.\n\n\t* lisp/gnus/mml2015.el (mml2015-cache-passphrase)\n\t(mml2015-passphrase-cache-expiry): Obsolete.\n\t(mml2015-epg-secret-key-id-list): Remove variable.\n\t(mml2015-epg-passphrase-callback, mml2015-epg-check-user-id)\n\t(mml2015-epg-check-sub-key, mml2015-epg-find-usable-key)\n\t(mml2015-epg-find-usable-secret-key): Remove functions.\n\t(mml2015-epg-decrypt, mml2015-epg-clear-decrypt, mml2015-epg-sign)\n\t(mml2015-epg-encrypt): Refactor.\n\n2016-01-18  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from gnulib\n\n\tThis mostly just updates copyright dates of gnulib files.\n\tIt also updates to the latest version of texinfo.tex.\n\n2016-01-18  YAMAMOTO Mitsuharu  <mituharu@math.s.chiba-u.ac.jp>\n\n\tMove variables to inner loop, preparing for Mac port merge\n\n\t* src/keyboard.c (command_loop_1): Move variables `cmd',\n\t`keybuf', and `i' to inner loop.\n\n2016-01-17  Bill Wohler  <wohler@newt.com>\n\n\t* lisp/mh-e/mh-e.el (mh-version): Add +git to version.\n\n2016-01-16  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/syntax.el (syntax-ppss-table): New var\n\n\t(syntax-ppss):\n\t* lisp/font-lock.el (font-lock-fontify-syntactically-region): Use it.\n\n2016-01-16  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tlisp/nxml: Use syntax-tables for comments\n\n\t* lisp/nxml/nxml-mode.el (nxml-set-face): Prepend.\n\t(nxml-mode): Set syntax-ppss-table.\n\tUse sgml-syntax-propertize-function for syntax-propertize-function.\n\tLet font-lock highlight strings and comments.\n\t(nxml-degrade): Don't touch \"nxml-inside\" property any more.\n\t(nxml-after-change, nxml-after-change1): Remove functions.\n\t(comment): Don't set fontify rule any more.\n\t(nxml-fontify-attribute): Don't highlight the value any more.\n\t(nxml-namespace-attribute-value-delimiter, nxml-namespace-attribute-value)\n\t(nxml-comment-delimiter, nxml-comment-content): Remove faces.\n\n\t* lisp/nxml/nxml-rap.el (nxml-scan-end): Remove.\n\t(nxml-get-inside, nxml-inside-start, nxml-inside-end): Use syntax-ppss.\n\t(nxml-clear-inside, nxml-set-inside): Remove.\n\t(nxml-scan-after-change): Remove function.\n\t(nxml-scan-prolog, nxml-tokenize-forward): Simplify.\n\t(nxml-ensure-scan-up-to-date): Use syntax-propertize.\n\t(nxml-move-outside-backwards):\n\t* lisp/nxml/nxml-outln.el (nxml-section-tag-backward): Adjust to new\n\tnxml-inside-start behavior.\n\n\t* lisp/nxml/nxml-util.el (nxml-debug-set-inside)\n\t(nxml-debug-clear-inside): Remove macros.\n\n\t* lisp/nxml/xmltok.el (xmltok-forward-special): Remove function.\n\t(xmltok-scan-after-comment-open): Simplify.\n\n2016-01-16  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/progmodes/elisp-mode.el\n\t(elisp--font-lock-flush-elisp-buffers): Fix comment\n\n2016-01-16  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/nxml: Use standard completion; it also works for company-mode\n\n\t* lisp/nxml/nxml-mode.el (nxml-complete): Obsolete.\n\t(nxml-completion-at-point-function): Remove.\n\t(nxml-mode): Don't set completion-at-point-functions.\n\t* lisp/nxml/rng-nxml.el (rng-nxml-mode-init): Set it here instead.\n\t(rng-completion-at-point): Rename from rng-complete and mark it\n\tnon-interactive.  It is now to be used as completion-at-point-function.\n\t(rng-complete-tag, rng-complete-end-tag, rng-complete-attribute-name)\n\t(rng-complete-attribute-value): Don't perform completion, but return\n\tcompletion data instead.\n\t(rng-complete-qname-function, rng-generate-qname-list): Add a few\n\targuments, previously passed via dynamic coping.\n\t(rng-strings-to-completion-table): Rename from\n\trng-strings-to-completion-alist.  Don't return an alist.  Don't both\n\tsorting and uniquifying.\n\n\t* lisp/nxml/rng-util.el (rng-complete-before-point): Delete function.\n\t(rng-completion-exact-p, rng-quote-string): Delete functions.\n\n\t* lisp/nxml/rng-valid.el (rng-recover-start-tag-open)\n\t(rng-missing-attributes-message, rng-missing-element-message)\n\t(rng-mark-missing-end-tags): Use explicit \"..\" in formats rather than\n\tcalling rng-quote-string everywhere.\n\n2016-01-16  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tUse sgml-electric-tag-pair-mode also in nxml-mode\n\n\t* lisp/nxml/rng-nxml.el: Require sgml-mode.\n\t(rng-nxml-easy-menu): Add entry for sgml-electric-tag-pair-mode.\n\t(rng-complete-qname-function): Use complete-with-action.\n\n\t* lisp/textmodes/sgml-mode.el (sgml-electric-tag-pair-before-change-function):\n\tLet-bind forward-sexp-function, since nxml-mode binds it to\n\tsomething incompatible.\n\n\t* lisp/nxml/nxml-mode.el: Use setq-local and defvar-local.\n\n2016-01-15  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/nxml/xmltok.el: Mark the \"sole --\" rather than the comment\n\topener.\n\n\t* lisp/nxml/xmltok.el (xmltok-scan-after-comment-open): Put the error\n\tmarker on the \"sole --\" rather than on the comment opener.\n\n2016-01-15  Sam Steingold  <sds@gnu.org>\n\n\treplace `tramp-compat-split-string' (removed) with `split-string'\n\n\t(python-shell-tramp-refresh-process-environment)\n\t(python-shell-calculate-pythonpath): use `split-string'\n\tinstead of defunct `tramp-compat-split-string'\n\n2016-01-15  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tUpdate nXML to use Emacs's Unicode support, and lexical-binding\n\n\t* etc/nxml/*.el: Remove obsolete char-name files.\n\t* lisp/nxml/xsd-regexp.el (xsdre-range-list-difference): Remove unused\n\tvar `next'.\n\t* lisp/nxml/rng-nxml.el (rng-set-state-after): Don't assume point-min==1.\n\t* lisp/nxml/rng-match.el (rng-update-match-state): Simplify.\n\t* lisp/nxml/nxml-outln.el (nxml-outline-state-transform-exceptions)\n\t(nxml-target-section-pos, nxml-depth-in-target-section)\n\t(nxml-outline-state-transform-alist)\n\t(nxml-outline-display-section-tag-function): Move decl before first use.\n\t* lisp/nxml/nxml-mode.el (nxml-char-name-ignore-case)\n\t(nxml-char-name-alist, nxml-char-name-table)\n\t(nxml-autoload-char-name-set-list, nxml-named-char-history): Remove vars.\n\t(nxml-enable-char-name-set, nxml-disable-char-name-set)\n\t(nxml-char-name-set-enabled-p, nxml-autoload-char-name-set)\n\t(nxml-define-char-name-set, nxml-get-char-name): Remove functions.\n\t(nxml-insert-named-char): Use read-char-by-name instead.\n\t(nxml-char-ref-display-extra): Use get-char-code-property.\n\t* lisp/nxml/nxml-maint.el (nxml-create-unicode-char-name-sets):\n\tRemove function.\n\t* lisp/nxml/nxml-glyph.el, lisp/nxml/nxml-uchnm.el: Remove files.\n\n2016-01-15  Michael Albinus  <michael.albinus@gmx.de>\n\n\tAdd \"sg\" method to Tramp\n\n\t* doc/misc/tramp.texi (Inline methods): Add \"sg\" method.\n\t(Customizing Completion): Add function `tramp-parse-etc-group'.\n\n\t* lisp/net/tramp-sh.el (tramp-methods) <sg>: Add.  (Bug#22329)\n\t(tramp-completion-function-alist-sg): New defconst.\n\t(top): Completion function for \"sg\" is\n\t`tramp-completion-function-alist-sg'.\n\n\t* lisp/net/tramp.el (tramp-completion-function-alist): Adapt docstring.\n\t(tramp-parse-etc-group, tramp-parse-etc-group-group): New defuns.\n\n2016-01-14  Michael Albinus  <michael.albinus@gmx.de>\n\n\tRemove XEmacs compatibility in Tramp\n\n\t* doc/misc/tramp.texi: Replace flags by their hard coded name.\n\tRemove unused flags and the enclosed alternative text for XEmacs.\n\n\t* doc/misc/trampver.texi: Use \"Tramp\" CamelCase.  Rename \"emacs\"\n\tand \"xemacs\" flags to \"unified\" and \"separate\".  Remove flags\n\t\"emacsgw\", \"emacsname\", \"emacsdir\", \"ftppackagename\",\n\t\"emacsothername\", \"emacsotherdir\" and \"emacsotherfilename\".\n\t(trampver):\n\t* lisp/net/trampver.el (tramp-version): Set to \"2.3.0-pre\".\n\n\t* lisp/net/tramp.el (bkup-backup-directory-info)\n\t(directory-sep-char, ls-lisp-use-insert-directory-program)\n\t(outline-regexp, tramp-backup-directory-alist)\n\t(tramp-default-method, tramp-shell-prompt-pattern, tramp-syntax)\n\t(tramp-file-name-regexp-unified)\n\t(tramp-file-name-regexp-separate)\n\t(tramp-completion-file-name-regexp-unified)\n\t(tramp-completion-file-name-regexp-separate, tramp-chunksize)\n\t(tramp-get-method-parameter, tramp-find-method, tramp-find-user)\n\t(tramp-debug-message, tramp-progress-reporter-update)\n\t(with-tramp-progress-reporter)\n\t(tramp-rfn-eshadow-setup-minibuffer)\n\t(rfn-eshadow-setup-minibuffer-hook, tramp-unload-hook)\n\t(tramp-rfn-eshadow-update-overlay)\n\t(rfn-eshadow-update-overlay-hook, tramp-default-file-modes)\n\t(tramp-file-name-for-operation)\n\t(tramp-completion-file-name-handler)\n\t(tramp-autoload-file-name-handler, tramp-completion-mode-p)\n\t(tramp-handle-directory-files)\n\t(tramp-handle-directory-files-and-attributes)\n\t(tramp-handle-dired-uncache, tramp-handle-find-backup-file-name)\n\t(tramp-handle-insert-file-contents, tramp-handle-load)\n\t(tramp-handle-shell-command)\n\t(tramp-handle-verify-visited-file-modtime)\n\t(tramp-handle-file-notify-valid-p, tramp-accept-process-output)\n\t(tramp-check-for-regexp, tramp-wait-for-regexp)\n\t(tramp-send-string, tramp-mode-string-to-int)\n\t(tramp-get-local-gid, tramp-check-cached-permissions)\n\t(tramp-get-remote-tmpdir, tramp-make-tramp-temp-file)\n\t(auto-save-file-name-transforms)\n\t(tramp-handle-make-auto-save-file-name, tramp-read-passwd)\n\t(tramp-clear-passwd, tramp-time-diff):\n\t* lisp/net/tramp-adb.el (directory-listing-before-filename-regexp)\n\t(directory-sep-char, tramp-adb-file-name-handler-alist)\n\t(tramp-adb-parse-device-names)\n\t(tramp-adb-handle-expand-file-name)\n\t(tramp-adb-handle-file-truename, tramp-adb--gnu-switches-to-ash)\n\t(tramp-adb-handle-file-local-copy)\n\t(tramp-adb-handle-write-region, tramp-adb-handle-set-file-modes)\n\t(tramp-adb-handle-rename-file, tramp-adb-handle-process-file)\n\t(tramp-adb-handle-shell-command)\n\t(tramp-adb-handle-start-file-process, tramp-adb-get-device)\n\t(tramp-adb-maybe-open-connection):\n\t* lisp/net/tramp-cache.el (tramp-persistency-file-name)\n\t(tramp-cache-print):\n\t* lisp/net/tramp-cmds.el (tramp-cleanup-all-connections)\n\t(tramp-bug, tramp-reporter-dump-variable)\n\t(tramp-load-report-modules, tramp-append-tramp-buffers):\n\t* lisp/net/tramp-compat.el (tramp-compat-funcall)\n\t(tramp-advice-file-expand-wildcards)\n\t(tramp-compat-temporary-file-directory)\n\t(tramp-compat-make-temp-file, tramp-compat-copy-file)\n\t(tramp-compat-delete-directory, )\n\t(tramp-compat-process-running-p):\n\t* lisp/net/tramp-ftp.el (tramp-methods) <ftp>:\n\t(tramp-default-method-alist, tramp-foreign-file-name-handler-alist):\n\t* lisp/net/tramp-gvfs.el (tramp-gvfs-file-name-handler-alist)\n\t(tramp-gvfs-do-copy-or-rename-file, tramp-gvfs-handle-copy-file)\n\t(tramp-gvfs-handle-file-local-copy)\n\t(tramp-gvfs-handle-file-name-all-completions)\n\t(tramp-gvfs-handle-file-notify-add-watch)\n\t(tramp-gvfs-monitor-file-process-filter)\n\t(tramp-gvfs-handle-file-readable-p)\n\t(tramp-gvfs-handle-rename-file, tramp-gvfs-handle-write-region)\n\t(tramp-gvfs-file-name, tramp-gvfs-handler-askquestion)\n\t(tramp-gvfs-maybe-open-connection)\n\t(tramp-gvfs-parse-device-names):\n\t* lisp/net/tramp-gw.el (tramp-gw-aux-proc-sentinel)\n\t(tramp-gw-open-connection, tramp-gw-open-network-stream):\n\t* lisp/net/tramp-sh.el (directory-sep-char)\n\t(tramp-sh-file-name-handler-alist)\n\t(tramp-sh-handle-file-truename)\n\t(tramp-sh-handle-set-visited-file-modtime)\n\t(tramp-sh-handle-verify-visited-file-modtime)\n\t(tramp-sh-handle-set-file-modes, tramp-sh-handle-set-file-times)\n\t(tramp-sh-handle-file-acl)\n\t(tramp-sh-handle-file-name-all-completions)\n\t(tramp-sh-handle-copy-file, tramp-sh-handle-rename-file)\n\t(tramp-do-copy-or-rename-file-directly)\n\t(tramp-do-copy-or-rename-file-out-of-band)\n\t(dired-compress-file-suffixes, dired-remove-file)\n\t(tramp-sh-handle-dired-compress-file)\n\t(tramp-sh-handle-insert-directory)\n\t(tramp-sh-handle-expand-file-name)\n\t(tramp-sh-handle-start-file-process)\n\t(tramp-sh-handle-process-file, tramp-sh-handle-file-local-copy)\n\t(tramp-sh-handle-write-region, tramp-sh-handle-vc-registered)\n\t(tramp-sh-handle-file-notify-add-watch)\n\t(tramp-sh-gvfs-monitor-dir-process-filter)\n\t(tramp-sh-inotifywait-process-filter, tramp-maybe-send-script)\n\t(tramp-find-executable)\n\t(tramp-open-connection-setup-interactive-shell)\n\t(tramp-find-inline-encoding, tramp-compute-multi-hops)\n\t(tramp-maybe-open-connection, tramp-convert-file-attributes)\n\t(tramp-get-remote-path, tramp-get-remote-touch):\n\t* lisp/net/tramp-smb.el (tramp-smb-file-name-handler-alist)\n\t(tramp-smb-handle-copy-directory, tramp-smb-handle-copy-file)\n\t(tramp-smb-handle-delete-directory)\n\t(tramp-smb-handle-directory-files, tramp-smb-handle-file-acl)\n\t(tramp-smb-handle-make-directory-internal)\n\t(tramp-smb-handle-process-file, tramp-smb-handle-rename-file)\n\t(tramp-smb-handle-set-file-acl, tramp-smb-handle-set-file-modes)\n\t(tramp-smb-handle-write-region, tramp-smb-get-file-entries)\n\t(tramp-smb-get-cifs-capabilities)\n\t(tramp-smb-maybe-open-connection):\n\t* lisp/net/trampver.el (tramp-repository-get-version):\n\tRemove XEmacs compat code.\n\n\t* lisp/net/tramp-cmds.el (mml-mode, mml-insert-empty-tag)\n\t(reporter-dump-variable): Declare functions.\n\n\t* lisp/net/tramp.el (tramp-bkup-backup-directory-info)\n\t(tramp-advice-minibuffer-electric-separator)\n\t(tramp-advice-minibuffer-electric-tilde)\n\t(tramp-handle-unhandled-file-name-directory):\n\t* lisp/net/tramp-compat.el (tramp-compat-with-temp-message)\n\t(tramp-compat-font-lock-add-keywords)\n\t(tramp-compat-load, tramp-compat-number-sequence)\n\t(tramp-compat-split-string, tramp-compat-delete-dups):\n\t* lisp/net/tramp-sh.el (tramp-sh-handle-insert-file-contents-literally):\n\tRemove.\n\n\t* lisp/net/tramp-sh.el (tramp-methods) <psftp>: This does not work\n\trecursively.\n\n2016-01-14  K. Handa  <handa@gnu.org>\n\n\tfix previous change of src/ftfont.c (ftfont_shape_by_flt)\n\n\t* src/ftfont.c (ftfont_shape_by_flt): Fix previous change.  Access the\n\tsecond glyph only when there are enough glyphs.\n\n2016-01-13  Glenn Morris  <rgm@gnu.org>\n\n\t* src/buffer.c (Fset_buffer_major_mode): Allow default major-mode,\n\n\tor its hook, to move point.  (Bug#22348)\n\n2016-01-12  Michael Albinus  <michael.albinus@gmx.de>\n\n\tMerge missing commit from emacs-25 branch\n\n\t* test/Makefile.in (SELECTOR_DEFAULT, SELECTOR_EXPENSIVE, SELECTOR):\n\tNew variables.\n\t(check-expensive, check-doit): New targets.\n\n\t* Makefile.in (check-expensive): New target.\n\n\t* test/lisp/autorevert-tests.el\n\t(auto-revert-test01-auto-revert-several-files):\n\t* test/lisp/filenotify-tests.el (file-notify--deftest-remote)\n\t(file-notify-test06-many-events):\n\t* test/lisp/net/tramp-tests.el (tramp-test26-process-file)\n\t(tramp-test27-start-file-process, tramp-test28-shell-command)\n\t(tramp-test29-vc-registered)\n\t(tramp-test31-special-characters-with-stat)\n\t(tramp-test31-special-characters-with-perl)\n\t(tramp-test31-special-characters-with-ls)\n\t(tramp-test32-utf8-with-stat, tramp-test32-utf8-with-perl)\n\t(tramp-test32-utf8-with-ls, tramp-test33-asynchronous-requests)\n\t(tramp-test35-unload): Tag the tests as :expensive-test.\n\n2016-01-11  John Wiegley  <johnw@newartisans.com>\n\n\tMerge from origin/emacs-25\n\n\t1f6898d test/automated/vc-hg.el: Support out-of-tree build\n\t3adb56e Minor change in tramp-tests.el\n\t2b535ba ; * etc/NEWS: Update the js.el entry.\n\t76b518c * etc/HELLO: Add Armenian and Mongolian greetings.\n\tb51f1ef Java Mode: Fontify identifiers in the presence of annotations.\n\t36b9539 Avoid an infloop when we run out of memory\n\t2006752 Avoid unnecessary failures of auto-saving after fatal error\n\teef6784 Simplify HAVE_MODULES use in mark_maybe_pointer\n\t552694a Revert attempt to use 'noexcept' in typedef\n\t6ad0d39 Update documentation of 'indirect-function'\n\tc6a5314 ; * etc/NEWS: Move entry of 'inhibit-point-motion-hooks'.\n\t303141a Update documentation for obsoleting 'syntax-begin-function'\n\t4e6f61c ; * etc/NEWS: Mark documented and not-to-be-documented entries.\n\te667bbb Document new features if Eshell\n\t9c4e4e0 ; * etc/NEWS: Update EUDC entries.\n\t1089dc9 Handle too long commands in Tramp\n\t684eb58 * .gitattributes: *.cur and *.pif are binary files too.\n\td2c7fda * src/alloc.c (mark_maybe_pointer): HAVE_MODULES may be undefined\n\tbd3f53d * sh-script.el (sh-smie-sh-rules): Improve indentation inside $(...)\n\t09b2b8a * src/alloc.c (mark_maybe_pointer): Also check wide-int's emacs_value\n\tcca0f93 ; Account for spaces before the filename\n\tc71e1e8 Use short date for 'hg annotate', and output the author\n\tf50027b Spelling fix\n\tc7dff67 ; * etc/NEWS: Fix the Xref entries that got separated.\n\tcc140bc Document user-level functions in project.el\n\tf8208b6 Document the user-level features of the Xref package\n\tb131fb8 * loading.texi: Add `define-type' entry for load-history\n\tdb3c2a8 Improve doc strings and prompts in xref.el\n\tf6117ef Allow the use of `font-lock-extend-region-multiline' in CC Mode.\n\t90fd798 Fix coding system for Tramp on OS X.\n\te985a0e ; * etc/NEWS: Mark the 'check-expensive' entry not to be documented.\n\t9dfcbf0 Update 'load-history' docs\n\t207e191 Fix (error ...) error\n\t457738f Correctly analyze brace arguments in templated C++ function declarations.\n\td57724a * lisp/cedet/mode-local.el (describe-function-orig-buffer): Declare.\n\t2a9532d * lisp/ffap.el (ffap-latex-mode): Avoid free variable.\n\t1a6b084 * lisp/play/dunnet.el (dun-fix-screen): Avoid `end-of-buffer`.\n\t8be046f Respect fontification region calculated by major mode.  Fixes bug #22316.\n\t4b37cba Improve documentation of Delete Selection mode\n\ta034dd3 Fix two project-find-file issues\n\t30abf29 Clarify doc string of 'dired-current-directory'\n\te990bb2 Use the face of preceding text for displaying the ellipsis\n\t5810ac3 Suppress Chinese file name test for OSX in tramp-tests.el\n\teeb710a ; * lisp/startup.el: Sentences end with two spaces.\n\t428b3de * admin/admin.el (set-version): Also handle the NEWS file.\n\t648de81 ; Add NEWS entry for project.el\n\t671862f apropos-library: Skip obvious duplicates; don't error on generics\n\t51668a5 ; Grammar fix\n\ted41d11 Add project-find-file and project-or-external-find-file\n\t056da45 ; Improve commentary in 'setup_for_ellipsis'\n\t269d008 ; Improve docstring for `inhibit-startup-echo-area-message'\n\n2016-01-11  John Wiegley  <johnw@newartisans.com>\n\n\tMerge from origin/emacs-25\n\n\tce4a052 Add defvar-local to lisp-imenu-generic-expression\n\ta0121bc Revert commit b1e3d14845517bfa9fa5d6d3840f3ab3160306fd\n\t76fe2d5 * lisp/emacs-lisp/autoload.el (autoload-find-destination): Doc fix.\n\t1ae088f * lisp/emacs-lisp/autoload.el (autoload-find-destination):\n\tb6b47af Properly encode/decode base64Binary data in SOAP\n\tc632466 Obey coding-system-for-write when writing stdout/stderr in batch\n\t2f32cb5 * doc/misc/efaq.texi (Packages that do not come with Emacs):\n\t        Update the URI of MELPA and marmalade-repo.\n\t        Reported by CHENG Goa <chenggao@royau.me> in\n\t        https://lists.gnu.org/r/emacs-devel/2016-01/msg00390.html.\n\td2937aa * lisp/progmodes/opascal.el (opascal-mode-syntax-table):\n\t5330c25 * lisp/progmodes/xscheme.el (xscheme-prompt-for-expression-exit):\n\t7380990 Remove function wrongly on AWK Mode value of context\n\tfontification hook.\n\td400753 * src/buffer.c: Stick with ASCII in doc string.\n\t221240c Reword transient-mark-mode doc string\n\t977d3ea Update doc string of 'selective-display'\n\t229c3fa Make C++ buffers writeable when writing their initial text\n\t        properties.\n\tf5c762c Additional changes for \"make check-expensive\"\n\t1729cf3 ; * admin/MAINTAINERS: Remove myself.\n\t33219d3 Apply text properties for <, > in new after-change function\n\t        (C++ Java Modes).\n\n2016-01-11  John Wiegley  <johnw@newartisans.com>\n\n\tMerge from origin/emacs-25\n\n\t9fb185a shr-tag-video bug fix\n\t6300655 Minor fixes in tramp-tests.el\n\t50575b1 Ensure redisplay when 'truncate-lines' is set\n\t0d9e80d Fix a doc string of 'transient-mark-mode'\n\t0000ae5 MS-Windows followup to latest gnulib update\n\t4bc5e02 Spelling fix\n\tf1093f7 Do secure signed Bcc handling\n\n2016-01-11  John Wiegley  <johnw@newartisans.com>\n\n\tMerge from origin/emacs-25\n\n\t861022f * doc/misc/texinfo.tex: Revert unwanted copyright change.\n\t46e47a5 ; * etc/refcards/ru-refcard.tex (cyear): Update via M-x set-copyright.\n\t71ea138 * lisp/align.el (align): Simplify a lambda\n\t5618a50 * lisp/align.el (align): Fix arg order in call to `align-region'\n\t1f680db Fix compilation next-error in buffers with selective-display\n\td20a948 * nsm.el (nsm-check-protocol): Fix typo in the message.\n\t1da116f Add SHA1 warnings for high network security settings\n\te48bacd ; * etc/NEWS: Typo fix.\n\n2016-01-11  John Wiegley  <johnw@newartisans.com>\n\n\tMerge from origin/emacs-25\n\n\t43662a2 ; Clarify that xref is still experimental\n\t0a6e6ca ; * admin/release-process: Remove some obsolete records.\n\tc2e9e3d * lisp/progmodes/fortran.el (fortran-make-syntax-propertize-function):\n\t8637f3d (semantic-symref-derive-find-filepatterns): Return a list\n\t0a7ad07 ; Re-arrange xref-related entries in NEWS.\n\tfe903ef Fix xref-find-references on MS-Windows\n\t55a28d8 ; Fixed visual bell artifact problem on NextStep.\n\td064034 Document new features of tildify-mode\n\t964bea7 Document new features of Whitespace mode\n\tcd68f47 Improve documentation of new Hide-IfDef features\n\t723b8bf Fix regression in font-locking cl-assert and cl-check-type\n\n2016-01-11  John Wiegley  <johnw@newartisans.com>\n\n\tMerge from origin/emacs-25\n\n\tef33bc7 Spelling and grammar fixes\n\t9c3dbab Fix copyright years by hand\n\t0e96320 Update copyright year to 2016\n\n2016-01-11  John Wiegley  <johnw@newartisans.com>\n\n\tMerge from origin/emacs-25\n\n\t9ee6ecb lisp/emacs-lisp/chart.el (chart-new-buffer): Move to silence byte compiler.\n\t526d80c Port chart.el methods to cl-generic.\n\t410bb69 Add nt/INSTALL.W64 build instructions\n\t8f5b524 Add new input method 'programmer-dvorak'\n\t6d11f6e Allow to invoke original M-TAB binding in 'flyspell-prog-mode'\n\tbb83bb1 Fix EWW rendering of long RTL lines\n\tb1a8509 fix  bug#21054\n\tce5ad12 Clean up cairo printing code\n\n2016-01-11  John Wiegley  <johnw@newartisans.com>\n\n\tMerge from origin/emacs-25\n\n\t6ee327d Add handle_user_signal_hook\n\t47580e0 Avoid writing to purespace\n\t0588be7 Remove unused variable\n\t89e7483 * configure.ac: Find libxml2 headers in Xcode SDK dir on Darwin.\n\t3b95e9c Use posix_openpt instead of openpty on Darwin\n\t86312ff Document support for ':documentation' in Lisp mode\n\tc930e75b Document new features of TeX mode\n\t7c83d84 Clarify docs of hscroll in RTL text\n\t4c8f8db Fix rendering of HTML pages that use character composition\n\ta8d37ca Avoid some compiler warnings in w32.c\n\tce106f3de Undo ill-advised change\n\tbe0bba4 Unbreak completion in python-mode buffers\n\n2016-01-08  Andrew Hyatt  <ahyatt@gmail.com>\n\n\tAdding example replies to bug-triage.\n\n\t* admin/notes/bug-triage: Added example replies. Also, as requested,\n\t  making the process notes into more of a checklist.\n\n2016-01-08  Andrew Hyatt  <ahyatt@gmail.com>\n\n\tRename the notes/admin/triage file to bug-triage.\n\n\t* CONTRIBUTE: Change reference to the triage file name.\n\t* admin/notes/triage: Rename file to admin/notes/bug-triage.\n\n2016-01-08  K. Handa  <handa@gnu.org>\n\n\tFix outdated comments.\n\n2016-01-06  Glenn Morris  <rgm@gnu.org>\n\n\tAllow creation of loaddefs files without timestamps.\n\n\t* lisp/emacs-lisp/autoload.el (autoload-timestamps): New variable.\n\t(autoload-generate-file-autoloads, update-directory-autoloads):\n\tIf autoload-timestamps is nil, write \"t\" instead of file timestamp.\n\t(autoload-find-destination, update-directory-autoloads):\n\tIf timestamp is \"t\", use the modtime of the output file instead.\n\n2016-01-06  Glenn Morris  <rgm@gnu.org>\n\n\tDoc tweaks.\n\n\t* lisp/calendar/cal-hebrew.el (diary-hebrew-list-entries):\n\t* lisp/calendar/cal-iso.el (calendar-iso-to-absolute)\n\t(calendar-iso-from-absolute):\n\t* lisp/calendar/cal-tex.el (cal-tex-comment):\n\t* lisp/calendar/solar.el (calendar-time-display-form): Doc tweaks.\n\n2016-01-06  Glenn Morris  <rgm@gnu.org>\n\n\tBuild tweaks related to tags files.\n\n\t* lib-src/Makefile.in (tagsfiles): New variable.\n\t(TAGS): Also depend on the source files.  Use our own etags program.\n\t* lisp/Makefile.in (ETAGS): Add EXEEXT.\n\t(lisptagsfiles1, lisptagsfiles2, lisptagsfiles3, lisptagsfiles4):\n\tRemove.\n\t(tagsfiles): New, replacing lisptagsfiles1 etc.\n\tRemove irrelevant source files here rather than in the TAGS rule.\n\t(${ETAGS}): New rule.\n\t(TAGS): Also depend on the etags executable.\n\t* lwlib/Makefile.in (EXEEXT): New, set by configure.\n\t(ETAGS): Add EXEEXT.\n\t(${ETAGS}): New rule.\n\t(ctagsfiles): Use \"wildcard\".\n\t(TAGS): Also depend on the etags executable.\n\t* nt/Makefile.in (ETAGS, tagsfiles): New variables.\n\t(${ETAGS}): New rule.\n\t(TAGS): Fix dependencies.\n\t* oldXMenu/Makefile.in (EXEEXT): New, set by configure.\n\t(ETAGS): New variable, replacing $TAGS.  Use our own etags program.\n\tRemove \"-t\" argument.\n\t(${ETAGS}): New rule.\n\t(tagsfiles): New variable.\n\t(TAGS): New rule, with proper dependencies.\n\t* src/Makefile.in (ETAGS): Add EXEEXT.  Add a build rule.\n\t(ctagsfiles1, ctagsfiles2): Use \"wildcard\".\n\t(ctagsfiles3): Remove.\n\t(TAGS): Depend on etags.\n\t(../lisp/TAGS, $(lwlibdir)/TAGS): Let the rules in the relevant\n\tdirectories decide if updates are needed.\n\n2016-01-06  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/Makefile.in (CAL_SRC): Skip calendar.el.\n\n2016-01-06  Glenn Morris  <rgm@gnu.org>\n\n\t* test/lisp/emacs-lisp/package-tests.el\n\n\t(package-test-macro-compilation): Fixup branch merge.\n\n2016-01-05  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix fallout from merging emacs-25 branch in test/\n\n\t* .gitignore: Update for the new place of biditest.txt.\n\t* test/automated/: Directory removed.  All files moved to their\n\tproper places.\n\t* test/etags/: Directory removed.  All files moved to their proper\n\tplaces.\n\t* test/automated/url-parse-tests.el: File removed; it was an exact\n\tcopy of the same file in test/lisp/url/.\n\t* test/automated/url-expand-tests.el: Moved to test/lisp/url/.\n\n2016-01-04  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSpelling fixes\n\n2016-01-04  Daniel Colascione  <dancol@dancol.org>\n\n\tLet users disable unsafe signal handling code\n\n\t* src/keyboard.c (syms_of_keyboard): New user variables\n\t`attempt-stack-overflow-recovery' and\n\t`attempt-orderly-shutdown-on-fatal-signal'.\n\t* src/sysdep.c (stack_overflow): Check\n\t`attempt-stack-overflow-recovery'.\n\t* src/emacs.c (terminate_due_to_signal): Check\n\t`attempt-orderly-shutdown-on-fatal-signal'.\n\n2016-01-03  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* configure.ac: Add error message for gfile on Nextstep.\n\n2016-01-02  John Wiegley  <johnw@newartisans.com>\n\n\tMerge branch 'emacs-25-merge'\n\n2016-01-02  Vincent Bela\u00efche  <vincentb1@users.sourceforge.net>\n\n\tAlign textually on fix done for emacs-25 branch for bug#21054\n\n\t* lisp/ses.el (ses-check-curcell): Suppress ``temporary fix'' comment,\n\tand useless `(if t ...)' in order to align textually on fix done for\n\temacs-25 branch for bug#21054.\n\n2016-01-01  K. Handa  <handa@gnu.org>\n\n\tsupport rendering of wider range of combinging characters by ftfont backend\n\n\t* lisp/language/hebrew.el (hebrew-shape-gstring): If the font backend\n\tsupports rendering of combining characters, call\n\tfont-shape-gstring.\n\n\t* src/font.c (Ffont_get): Handle `combining-capability' property.\n\t(syms_of_font): New symbol \":combining-capability'.\n\n\t* src/font.h (struct font_driver): New member combining_capability.\n\n\t* src/ftfont.c: Include \"category.h\".\n\t(ftfont_driver): Initialize combining_capability to\n\tftfont_combining_capability.\n\t(ftfont_shape_by_flt): If OTF is null, try to find a suitable\n\tFLT in advance.\n\t(ftfont_combining_capability): New function.\n\n2016-01-01  Andrew Hyatt  <ahyatt@gmail.com>\n\n\tAdd notes on bug triage procedure\n\n\t* CONTRIBUTE: In section on the issue tracker, point to new triage file.\n\t* admin/notes/triage: New file explaining triage procedure.\n\n2015-12-30  Vincent Bela\u00efche  <vincentb1@users.sourceforge.net>\n\n\tCorrect ses-rename-cell cursor-intangible text prop updating.\n\n\tThere were two problems:\n\n\t- First ses-rename-cell has to work when called non interactively\n\t  (with non-nil CELL argument), so in this case the start pos of\n\t  put-text-property cannot be plainly (point), you need a\n\t  ses-goto-print call before\n\n\t- Second, the range itself was computed erronously, only the first\n\t  char was affected instead of the full cell width. This was not\n\t  noticeable prior to changes (Deprecate `intangible' and\n\t  `point-entered' properties) made by Stefan on 2015-04-13T19:51:15Z\n\n\t* lisp/ses.el (ses-rename-cell): Correct computation of position range\n\tto which the 'cursor-intangible text property has to be set to cell\n\tnew name.\n\n2015-12-30  Vincent Bela\u00efche  <vincentb1@users.sourceforge.net>\n\n\tDon't fake empty cells value by \"\" when printing with a lambda.\n\n\tWhen using a lambda expression printer function the user should be\n\tfree to format differently a really empty cell, ie. containing nil,\n\tfrom a cell containing an empty string \"\".\n\n\t* lisp/ses.el (ses-call-printer): Replace `(or value \"\")' by just\n\t`value' in the case of a lambda expression printer function.\n\n\t* doc/misc/ses.texi (Printer functions): Add example and\n\tdescription about lambda expression printer function handling all\n\tthe possible values, including unexpected ones.\n\n2015-12-30  Vincent Bela\u00efche  <vincentb1@users.sourceforge.net>\n\n\tQuick temporary hack to fix curcell refreshing.\n\n\tThe problem was caused by change: 2015-04-13 Deprecate `intangible'\n\tand `point-entered' properties. The problem is that this change has\n\tremoved the (setq ses--curcell t) setting in the ses-command-hook\n\tfunction.\n\n\t* lisp/ses.el (ses-check-curcell): replace `(eq ses--curcell t)' by just `t' as\n\ta condition to call function `ses-set-curcell'. Comment this as a quick\n\ttemporary hack to make it work, as I don't know yet whether a definite\n\tcorrection would be to make the ses-set-curcell at every ses-check-curcell,\n\tor to revert to the previous approach, ie marking ses--curcell as out-of-date\n\tat every potentially cursor motion command.\n\n2015-12-30  Lars Magne Ingebrigtsen  <larsi@gnus.org>\n\n\tRestrictive URL checking tweaks\n\n\t* lisp/net/eww.el (eww): Check whether the domain is\n\trestrictive instead of the string\n\t(http://\u043c\u0430\u043a\u0435\u0434\u043e\u043d\u0438\u0458\u0430.icom.museum is restrictive even if each\n\tpart is from a different script).\n\n2015-12-30  Lars Magne Ingebrigtsen  <larsi@gnus.org>\n\n\tNew function `puny-highly-restrictive-domain-p'\n\n\t* lisp/net/puny.el (puny-highly-restrictive-string-p): Rename.\n\t(puny-highly-restrictive-domain-p): New function.\n\n2015-12-30  Lars Magne Ingebrigtsen  <larsi@gnus.org>\n\n\teww build fix (require puny)\n\n2015-12-30  Lars Magne Ingebrigtsen  <larsi@gnus.org>\n\n\tTransform non-restrictive domains to punycode for display\n\n\t* lisp/net/eww.el (eww): Check whether the domain is Highly\n\tRestrictive in the Unicode IDNA sense.\n\n2015-12-29  John Wiegley  <johnw@newartisans.com>\n\n\tMerge emacs-25 into master (using imerge)\n\n2015-12-29  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFurther Unicode restrictive fixups\n\n\t* lisp/net/puny.el (puny-highly-restrictive-p): Include the extra\n\tidentifier characters from table 3.\n\n2015-12-29  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAdd a new function to say whether a string is restrictive\n\n\t* lisp/net/puny.el (puny-highly-restrictive-p): New function.\n\n2015-12-28  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMention the new puny.el library\n\n2015-12-28  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tIDNA-related fixes for the URL library\n\n\t* lisp/url/url-http.el (url-http-create-request): IDNA-encode\n\tthe Host: header.\n\n\t* lisp/url/url-util.el (url-encode-url): Don't hex-encode\n\tdomain names, but leave them as UTF-8, so that they can be\n\tIDNA-encoded later when contacting the host.\n\n2015-12-28  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tIDNA-encode all domain names in `open-network-stream'\n\n\t* lisp/net/network-stream.el (open-network-stream)\n\t(network-stream-open-plain, network-stream-open-starttls):\n\tIDNA-encode all domain names, if needed.\n\n2015-12-28  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFix puny-encoding all-non-ASCII domains\n\n\t* lisp/net/puny.el (puny-encode-string): Fix the all-non-ASCII\n\tencoding case.\n\n2015-12-28  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tshr link traversal fixup\n\n\t* lisp/net/shr.el (shr-next-link): Don't bug out on adjacent links.\n\n2015-12-28  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tReconnect erc even on server errors\n\n\t* lisp/erc/erc-backend.el (erc-server-reconnect-p): Try to\n\treconnect even if a server error has occurred (bug#18527).\n\n2015-12-28  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFix punycode short circuit logic\n\n\t* lisp/net//puny.el (puny-encode-domain): Fix short-circuit logic.\n\n2015-12-28  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tIDNA speed up\n\n\t* lisp/net/puny.el (puny-encode-domain): Make the common non-IDNA case faster\n\n2015-12-28  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAdd IDNA domain encode/decode functions\n\n\t* lisp/net/puny.el (puny-decode-domain): New function.\n\t(puny-encode-domain): Ditto.\n\t(puny-decode-digit): Fix digit decoding error.\n\n2015-12-28  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRename idna.el to puny.el\n\n\t* lisp/net/puny.el: Renamed from idna.el to avoid name collisions with\n\tthe external idna.el library.\n\n2015-12-27  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\tlisp/gnus/mml-sec.el (mml-secure-bcc-is-safe): Keep old Emacsen compatibility\n\n\t* lisp/gnus/mml-sec.el (mml-secure-bcc-is-safe):\n\tDon't use split-string with 4th arg for old Emacsen compatibility.\n\n2015-12-27  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\t* lisp/net/idna.el (idna-decode-string-internal): Implement\n\tdecoding.\n\n2015-12-27  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFurther IDNA tweaks\n\n\t(idna-encode-string): Make idna-encode-string safe for\n\tnon-ASCII use.\n\n2015-12-27  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tClean up the code slightly\n\n2015-12-27  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAdded basic idna encoding support\n\n\t* lisp/net/idna.el: New file.\n\n2015-12-27  Vivek Dasmohapatra  <vivek@etla.org>\n\n\tDisconnection fixes for erc\n\n\t* lisp/erc/erc-backend.el (erc-server-reconnect-p): Don't\n\treconnect if the user has disconnected explicitly (bug#4589).\n\n2015-12-27  Thomas Riccardi  <riccardi.thomas@gmail.com>  (tiny change)\n\n\tFurther erc asynch fixes\n\n\t* lisp/erc/erc-backend.el (erc-process-sentinel-2): Make\n\terc-server-connect to return even if the connection is not\n\tready.  Then erc-open and erc-server-reconnect do the\n\tsame. (bug#5650).\n\n2015-12-27  Vivek Dasmohapatra  <vivek@etla.org>\n\n\tMake erc connect asynchronously\n\n\t* lisp/erc/erc-backend.el (erc-server-reconnect): Use it to\n\treconnect asynchronously.\n\n\t* lisp/erc/erc-backend.el (erc-open-network-stream): New function (bug#5650).\n\n2015-12-27  David Edmondson  <dme@dme.org>\n\n\tProxy error in erc with multiple clients\n\n\t* lisp/erc/erc.el (erc-channel-receive-names): Fix errors\n\tgenerated when multiple IRC clients talk to a single IRC proxy\n\t(bug#19034).\n\n2015-12-27  Jens Lechtenboerger  <jens.lechtenboerger@fsfe.org>\n\n\tFix mml-sec build warnings\n\n\t* lisp/gnus/mml-sec.el: Fix warnings by adding autoloads\n\t(bug#18718).\n\n2015-12-27  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\t(eww-setup-buffer): Restore left-to-right defaults\n\n\t* eww.el (eww-setup-buffer): Restore left-to-right defaults.\n\n2015-12-27  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\t* lisp/gnus/mml-sec.el (mml-secure-bcc-is-safe): Fix typo in last check-in.\n\n2015-12-27  Jens Lechtenboerger  <jens.lechtenboerger@fsfe.org>\n\n\tIdentify unsafe combinations of Bcc and encryption\n\n\t* lisp/gnus/gnus-util.el (gnus-subsetp): New function\n\t* lisp/gnus/mml-sec.el (mml-secure-safe-bcc-list): New variable\n\t* lisp/gnus/mml-sec.el (mml-secure-bcc-is-safe): New function\n\n2015-12-26  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\t* shr.el (shr-descend): Allow using lambdas in external functions.\n\n2015-12-25  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* admin/gitmerge.el: Tweaks that seemed necessary\n\n\t* admin/gitmerge.el (gitmerge-skip-regexp): Remove \"sync\".\n\t(gitmerge-maybe-resume): Provide explicit empty commit message.\n\n2015-12-25  \u0141ukasz Stelmach  <stlman@poczta.fm>  (tiny change)\n\n\tUse a different port for TLS erc\n\n\t* lisp/erc/erc.el (erc-default-port-tls): New variable\n\t(bug#19497).\n\t* lisp/erc/erc.el (erc-tls): Use it.\n\n2015-12-25  Alain Schneble  <a.s@realize.ch>\n\n\tMake relative URL parsing and resolution consistent with RFC 3986 (bug#22044)\n\n\t* test/lisp/url/url-parse-tests.el: Add tests covering url-generic-parse-url.\n\t* test/lisp/url/url-expand-tests.el: Add tests covering url-expand-file-name.\n\t* lisp/url/url-parse.el (url-generic-parse-url): Keep empty fragment\n\tinformation in URL-struct.\n\t* lisp/url/url-parse.el (url-path-and-query): Do not artificially turn empty\n\tpath and query into nil path and query, respectively.\n\t* lisp/url/url-expand.el (url-expander-remove-relative-links): Do not turn\n\tempty path into an absolute (\"/\") path.\n\t* lisp/url/url-expand.el (url-expand-file-name): Properly resolve\n\tfragment-only URIs. Do not just return them unchanged.\n\t* lisp/url/url-expand.el (url-default-expander): An empty path in the relative\n\treference URI should not drop the last segment.\n\n2015-12-25  Alain Schneble  <a.s@realize.ch>\n\n\tMake relative URL parsing and resolution consistent with RFC 3986 (bug#22044)\n\n\t* test/lisp/url/url-parse-tests.el: Add tests covering url-generic-parse-url.\n\t* test/lisp/url/url-expand-tests.el: Add tests covering url-expand-file-name.\n\t* lisp/url/url-parse.el (url-generic-parse-url): Keep empty fragment\n\tinformation in URL-struct.\n\t* lisp/url/url-parse.el (url-path-and-query): Do not artificially turn empty\n\tpath and query into nil path and query, respectively.\n\t* lisp/url/url-expand.el (url-expander-remove-relative-links): Do not turn\n\tempty path into an absolute (\"/\") path.\n\t* lisp/url/url-expand.el (url-expand-file-name): Properly resolve\n\tfragment-only URIs. Do not just return them unchanged.\n\t* lisp/url/url-expand.el (url-default-expander): An empty path in the relative\n\treference URI should not drop the last segment.\n\n2015-12-25  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tLet url use default file modes when copying files\n\n\t* lisp/url/url-handlers.el (url-copy-file): Use default file\n\tmodes when copying files (bug#11400).\n\n2015-12-25  Devon Sean McCullough  <Emacs-Hacker2012@jovi.net>\n\n\tDoc fix for url-http\n\n\t* lisp/url/url-http.el (url-http): Document better return values\n\t  (bug#13187) (tiny change)\n\n2015-12-25  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\t* eww.el (eww-display-html): Support <button> tags (bug#20485).\n\n2015-12-25  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMade ffap-url-p a defun instead of a defsubst\n\n\t* lisp/ffap.el (ffap-url-p): Change from defsusbt to defun,\n\tsince there doesn't seem to be much of a reason for it to be a\n\tdefsubst (bug#18203).\n\n2015-12-25  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAdd a command to view files in the browser to dired\n\n\t* lisp/dired.el (dired-mode-map): Add the `W' command\n\t(bug#18810).\n\n2015-12-25  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAllow http://user:pass@foo/ URLs again\n\n\t* lisp/url/url-auth.el (url-basic-auth): Allow explicit\n\tuser/passwords in URLs (bug#19046).\n\n2015-12-25  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\t* eww.el (eww-mode-map): Fix command name of eww-toggle-colors.\n\n2015-12-25  Samer Masterson  <samer@samertm.com>\n\n\tAutoload url-insert-buffer-contents\n\n\t* lisp/url/url-handlers.el: Add autoload cookie so that\n\t`package-list-packages' doesn't bug out (bug#21927) (tiny change)\n\n2015-12-25  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAllow toggling colors in eww\n\n\t* doc/misc/eww.texi (Basics): Mention \"C\".\n\n\t* lisp/net/eww.el (eww-toggle-colors): New command and keystroke.\n\n\t* lisp/net/shr.el (shr-use-colors): New variable.\n\t(shr-colorize-region): Use it.\n\n2015-12-25  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFollow meta refresh tags in eww\n\n\t* eww.el (eww-tag-meta): Follow meta refresh tags (bug#22234).\n\n2015-12-24  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMore eww file name coding fixes\n\n\t* eww.el (eww-decode-url-file-name): Use the base coding\n\tsystem to check for encodability.\n\n2015-12-24  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAlways save eww history\n\n\t* eww.el (eww-setup-buffer): Always save history, even when\n\tcalled from outside the eww buffer (bug#19638).\n\n2015-12-24  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDefault web pages to right-to-left\n\n\t* eww.el (eww-mode): Most web pages are left-to-right, so make\n\tthat the default (bug#19801).\n\n\t* shr.el (shr-tag-html): Respect \"dir\" attributes\n\t(left-to-right, right-to-left).\n\n2015-12-24  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMake toggling checkboxes work again\n\n\t* eww.el (eww-update-field): Make toggling checkboxes work\n\tagain (bug#21881).\n\n2015-12-24  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDon't store cookies with empty names\n\n\t* lisp/url/url-cookie.el (url-cookie-store): Refuse to store\n\tcookies with empty names (bug#21936).\n\n2015-12-24  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tStop rendering HTML before specdlr exhaustion\n\n\tFixes: 22117\n\n\t* shr.el (shr-descend): Stop rendering before we run out of\n\tspecpdl room (bug#22117).\n\n2015-12-24  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tUse cl-reduce, not reduce.\n\n2015-12-24  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAllow several <tbody> tags in shr\n\n\t* shr.el (shr-table-body): New function to find the real body\n\tof a table.\n\t(shr-tag-table): Use it to render several <tbody> tags in a\n\ttable (bug#22170).\n\n2015-12-24  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMake prettier unique file names in eww\n\n\t(eww-make-unique-file-name): Make unique file names by making\n\tfiles like foo(2).jpg instead of foo(1)(2).jpg.\n\n2015-12-24  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDecode hex-encoded URLs before using them as file names\n\n\t* eww.el (eww-decode-url-file-name): New function.\n\t(eww-download-callback): Use it to decode file names before\n\tsaving them.\n\n2015-12-24  Ashish SHUKLA  <ashish.is@lostca.se>\n\n\tAdd FreeBSD cert bundle\n\n\t* doc/misc/emacs-gnutls.texi (Help For Users): Document\n\tFreeBSD bundle.\n\n\t* lisp/net/gnutls.el (gnutls-trustfiles): Add FreeBSD cert bundle.\n\n2015-12-24  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAllow overriding shr functions from eww\n\n\t* eww.el (eww-display-html): Allow overriding elements in\n\t`shr-external-rendering-functions'.\n\n2015-12-24  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tIgnore invalid SVG images\n\n\t* shr.el (shr-tag-svg): Ignore SVG images that have no width\n\tor height, because these can't be displayed by ImageMagick,\n\tanyway.\n\n2015-12-24  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tshr table rendering fix\n\n\t* shr.el (shr-tag-table): Allow rendering body-less tables\n\tthat have headers.\n\n2015-12-22  Sam Steingold  <sds@gnu.org>\n\n\tclipboard should still work even if interprogram-* is disabled\n\n\t(clipboard-yank): When `interprogram-cut-function' is nil,\n\tbind it to `gui-selection-value' - the default value.\n\t(clipboard-kill-region, clipboard-kill-ring-save): When\n\t`interprogram-paste-function' is nil, bind it to `gui-select-text' -\n\tthe default value.\n\n2015-12-18  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\tFix bootstrap issue with dired-loaddefs\n\n\t* lisp/dired.el: Autoloads for secondary files loaded optionally.\n\n2015-12-17  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\tdired generate autoloads to non-versioned file.\n\n\t* lisp/dired.el: Remove autoloads.\n\t* lisp/Makefile.in: Add dired to autogenel.\n\t* lisp/dired-aux.el, lisp/dired-x.el: Update file local.\n\t* test/lisp/dired-tests.el: Add new test.\n\n2015-12-17  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\teieio generate autoloads to non-versioned file.\n\n\t* lisp/Makefile.in: eieio-loaddefs add to autogenel.\n\t* lisp/emacs-lisp/eieio.el, lisp/emacs-lisp/eieio-core.el:\n\t  Remove autoloads.\n\t* lisp/emacs-lisp/eieio-compat.el, lisp/emacs-lisp/eieio-custom.el,\n\t  lisp/emacs-lisp/eieio-opt.el: Update file local.\n\t* test/lisp/emacs-lisp/eieio-tests/eieio-tests.el: New test.\n\n2015-12-17  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\thtmlfontify generate autoload to non-versioned file.\n\n\t* lisp/Makefile.in: Add htmlfontity-loaddefs to autogenel.\n\t* lisp/hfy-cmap.el: Update file local.\n\t* lisp/htmlfontify.el: Remove autoloads, add require.\n\t* test/lisp/htmlfontify-tests.el: Test autoload functionality.\n\n2015-12-17  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\tibuffer generate autoloads to non-versioned file.\n\n\t* lisp/Makefile.in: Add ibuffer-loaddefs to autogenel.\n\t* lisp/ibuf-ext.el: Update file local.\n\t* lisp/ibuffer.el: Remove autoloads and add a require.\n\t* test/lisp/ibuffer-tests.el: Test that autoload is working.\n\n2015-12-17  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\trmail generate autoloads to non-versioned file.\n\n\t* lisp/Makefile.in: Add rmail-loaddefs.el to autogenel.\n\t* lisp/mail/rmail.el: Remove autoloads, add require.\n\t* lisp/mail/rmailedit.el, lisp/mail/rmailkwd.el:\n\t* lisp/mail/rmailmm.el, lisp/mail/rmailmsc.el:\n\t* lisp/mail/rmailsort.el, lisp/mail/rmailsum.el:\n\t* lisp/mail/undigest.el: Update file-local.\n\t* test/lisp/mail/rmail-tests.el:\n\n2015-12-17  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\tAdd autoload-force target.\n\n\t* lisp/Makefile.in (autoload-force): New target.\n\n2015-12-17  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\tps-print generate autoloads to non versioned file.\n\n\t* lisp/Makefile.in: Add ps-print-loaddefs.el to autogen list.\n\t* lisp/ps-print.el: Remove autoloads.\n\t* lisp/ps-mule.el: Update file-local.\n\t* test/lisp/ps-print-tests.el: Test autoload functionality.\n\n2015-12-17  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\treftex generate autoloads to non versioned file.\n\n\t* lisp/Makefile.in: Add reftex-loaddefs to autogen files\n\t* lisp/textmodes/reftex.el: Remove autoloads.\n\t* lisp/textmodes/reftex-auc.el, lisp/textmodes/reftex-cite.el:\n\t* lisp/textmodes/reftex-dcr.el, lisp/textmodes/reftex-global.el:\n\t* lisp/textmodes/reftex-index.el, lisp/textmodes/reftex-parse.el:\n\t* lisp/textmodes/reftex-ref.el, lisp/textmodes/reftex-sel.el:\n\t* lisp/textmodes/reftex-toc.el: Update autoload file-local.\n\t* test/lisp/textmodes/reftex-tests.el: Add test of an autoloaded\n\t  function.\n\n2015-12-07  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/calculator.el (calculator-define-key): Undo last change\n\n\tMake map argument mandatory instead (bug#22106).\n\t(calculator-add-operators): Pass the argument that's not optional any more.\n\n2015-12-03  Glenn Morris  <rgm@gnu.org>\n\n\t* Makefile.in: Avoid duplication.\n\n\t(have-tests): New rule.\n\t(check, check-maybe): Use it.\n\n2015-12-02  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\tmake check unconditional, check-maybe top-level.\n\n\t * Makefile.in: Add check-maybe target.\n\t * test/Makefile.in: Restore unconditional behavior to make check.\n\n2015-12-01  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\tTests now support out-of-source-build.\n\n\t * tests/Makefile.in,test/make-test-deps.emacs-lisp: Remove assumptions\n\t   about current working directory.\n\n2015-12-01  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/let-alist.el: Now an Elpa :core package\n\n2015-11-30  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\tImprove documentation and clean up.\n\n\t * test/Makefile.in: Improve documentation, use EMACS variable\n\t   correctly, and clean up makefile rules.\n\n2015-11-30  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\tUpdate file headers for name change.\n\n\t * (test/src/decompress-tests.el, test/src/alloc-tests.el): Update headers.\n\n2015-11-30  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\tTest files renamed to new scheme.\n\n\t * (finalizer-tests.el): Now renamed alloc-tests.el\n\t * (zlib-tests.el): Now renamed decompress-tests.el.\n\n2015-11-30  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\tTests now depend on source files\n\n\t * test/Makefile.in: Include dependences from tests to source files.\n\t * test/make-test-deps.emacs-lisp: New file\n\t * .gitignore: Ignore generated make include file\n\n2015-11-30  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/progmodes/which-func.el: Improve disabling the mode\n\n\tUse lexical-binding.\n\t(which-func-modes, which-func-non-auto-modes, which-func-maxout)\n\t(which-func, which-func-format): Remove redundant :group arg.\n\t(which-func-try-to-enable): New function.\n\t(which-func-ff-hook, which-function-mode): Use it.\n\t(mode-line-misc-info): Add ourselves here instead of in bindings.el.\n\t* lisp/bindings.el (mode-line-misc-info): Remove which-func-mode entry.\n\n2015-11-30  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/calculator.el (calculator-define-key): Silence warning\n\n\t...about unknown calculator-mode-map.\n\n2015-11-29  Eli Barzilay  <eli@barzilay.org>\n\n\t* lisp/calculator.el: more improvements and bugfixes.\n\n\t- Mark `calculator-paste-decimals' as obsolete.  (It wasn't having an\n\t  effect anyway.)\n\n\t- Simplify `calculator-number-to-string' by throwing most of the work\n\t  onto `number-to-string', leaving just some tweaks for decimal inputs.\n\t  This leads to some minor changes, for example, pasting \"1x1\" in hex\n\t  mode would warn that \"x\" is ignored and result in \"11\" (and it wasn't\n\t  done in decimal mode), whereas now it just ignores everything from the\n\t  \"x\" and on and result in a \"1\" just like in decimal input mode.  Also,\n\t  overflows are left for `number-to-string' to deal with.\n\n\t- `calculator-paste' is very simple as a result.\n\n\t- Extend the simplified `calculator-paste': with a prefix argument it\n\t  pastes a string as if the characters were entered.  This can be used\n\t  to reduce expressions, but note that it's a simple literal operation,\n\t  so precedence can be messed, a number can be paster while entering a\n\t  number, spaces and newlines matter, etc.\n\n\t- Fix a minor bug where \"e+\" in hex mode wouldn't use \"+\" as an\n\t  operator.\n\n\t- Fix a bug in `calculator-put-value': avoid grouping in the display\n\t  that is used to construct `calculator-curnum'.  This would trigger\n\t  when pasting or getting a value from a register in some radix mode\n\t  with a large enough value.  Another fix: make the output radix equal\n\t  the input one, otherwise numbers could be converted twice.\n\n2015-11-29  Eli Barzilay  <eli@barzilay.org>\n\n\t* lisp/calculator.el: Re-do key bindings.\n\n\tUse a helper function that arranges a parent keymap that binds alternate\n\tcase keys so if some letter key is unbound and it's un/shifted version\n\tis, it will get used.  This makes the global-map trickery unnecessary.\n\n\tAlso switch to passing strings that name keys through `kbd'.\n\n2015-11-29  Eli Barzilay  <eli@barzilay.org>\n\n\t* lisp/calculator.el: improve radix modes\n\n\tFix prompt for some input radix with decimal output (eg, \"BD\" instead of\n\tthe incorrect \"B=\"); also, some minor docstring tweaks for these.\n\n2015-11-29  Eli Barzilay  <eli@barzilay.org>\n\n\t* lisp/calculator.el: better reading of register names\n\n\tUse `register-read-with-preview' with a dynamically bound\n\t`register-alist' and a proper preview function to read register names.\n\n2015-11-29  Eli Barzilay  <eli@barzilay.org>\n\n\t* lisp/calculator.el: General improvements\n\n\tUse things like `when', `unless', and `push'.\n\n\tImprove `calculator-last-input' so it doesn't barf when hitting `F1' in\n\tnon-electric mode.\n\n2015-11-28  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix a problem with gfilenotify in filenotify-tests.el\n\n\t* test/lisp/filenotify-tests.el\n\t(file-notify--test-expected-events): Remove.\n\t(file-notify--test-cleanup): Do not set that variable.\n\t(file-notify--test-with-events): EVENTS can also be a list of lists.\n\t(file-notify-test02-events, file-notify-test04-file-validity):\n\tAdapt expected result.\n\n2015-11-28  Eli Zaretskii  <eliz@gnu.org>\n\n\t* .gitignore: Adjust to changes in 'test' directory structure.\n\n2015-11-28  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix test/manual/etags/Makefile\n\n\t* test/manual/etags/Makefile (ETAGS_PROG, CTAGS_PROG): Adjust to\n\tchanges in 'test' directory structure.\n\n2015-11-27  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\tExclude resource dirs from search for tests.\n\n\t* test/Makefile.in: Test file locations are now found with find\n\t  rather than using finds native functions.\n\n2015-11-27  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\tAdd test targets without directory names.\n\n\t * (test/Makefile.in): Extend test_template to add two targets for each\n\t   file.\n\n2015-11-27  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el: Require url-handlers\n\n2015-11-27  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\tMove elisp-mode-tests to new function names.\n\n\t * test/lisp/progmodes/elisp-mode-tests.el (find-defsdefun-c-defvar-c,\n\t find-defs-defun-el-defvar-c): Call `elisp--xref-find-definitions'.\n\n2015-11-27  Juanma Barranquero  <lekktu@gmail.com>\n\n\t* lisp/emacs-lisp/package.el: Declare `url-insert-buffer-contents'\n\n2015-11-26  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\tMerge branch 'feature/standard-test-location'\n\n2015-11-25  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/eieio.el: Add some default implementations\n\n\t(standard-class): Mark it obsolete.\n\t(slot-missing): Give it a default implementation.\n\t(destructor): Simplify and mark it obsolete.\n\t(object-print): Give it a default implementation.\n\t(eieio-change-class): Rename from change-class.\n\t(change-class): Redefine as obsolete alias.\n\n2015-11-25  Michael Albinus  <michael.albinus@gmx.de>\n\n\tMention kqueue in NEWS\n\n2015-11-25  Michael Albinus  <michael.albinus@gmx.de>\n\n\tMerge from scratch/kqueue\n\n\tbec57a4 Some final fixes in file notification before merging with master\n\t0247489 Rework file notifications, kqueue has problems with directory monitors\n\t5154781 Continie with pending events\n\t6b490c0 Improve loops in file-notify-test06-many-events\n\tc8e266f Handle more complex rename operation in kqueue\n\t5044bdf New test with a larger number of events.\n\t65ba5a9 Further fixes for kqueue.\n\t13f3508 Code cleanup of kqueue.c\n\t99aa855 Doc changes for kqueue\n\t8deebe1 Finish implementation in kqueue.c\n\t90d6c69 * lisp/filenotify.el (file-notify-add-watch): Fix thinko.\n\te95b309 More work on kqueue\n\t41d9bd0 Implement directory events\n\tc571fc1 Build fixes for kqueue support.\n\te0a68f2 Continue kqueue implementation\n\t7543d1c Work on kqueue\n\te3354e2 Add kqueue support\n\tc6457ce Minor fix to comment indentation and typo in last commit\n\tb92307f linum-mode plays more nicely with other margin-setting extensions\n\t58e6235 * lisp/image-mode.el: Support encrypted file\n\t9375652 * lisp/progmodes/verilog-mode.el (verilog-save-buffer-state): Add backquote\n\t47f83b6 ; ChangeLog.2 fixes\n\t7cc233e * lisp/emacs-lisp/package.el: Fix a decoding issue\n\t5f9153f * lisp/emacs-lisp/package.el: Refactor -with-work-buffer-async\n\t353f5e7 * lisp/progmodes/verilog-mode.el: Use with-silent-modifications\n\t70f1fda ; Auto-commit of ChangeLog files.\n\tae0653b * CONTRIBUTE: Remove information about feature freeze.\n\t9459456 Merge branch 'release-process-lowercase'\n\t9a4aa0f Document the release process\n\tf8cc14b * admin/release-process: Rename from admin/FOR-RELEASE.\n\tdcd5877 gitmerge: Fix git log command\n\t2ac79ae gitmerge: Try to detect cherry-picks\n\t5f7a2a9 Increment Emacs version on master branch\n\ted2e7e2 Mention CONTRIBUTE in README\n\t9e00a02 Update verilog-mode.el to 2015-11-09-b121d60-vpo.\n\t138ad3d ; Fix warnings\n\t7126e9a ; Update xref-etags-mode for the latest change\n\t246d660 Use generic dispatch for xref backends\n\t31f6e93 Support rectangular regions for more commands\n\tf103a27 Handle multiple matches on the same line; add highlighting\n\tfe973fc Replace xref-match-bounds with xref-match-length\n\t92a5010 Merge from gnulib\n\t04ac097 Spruce up ftfont.c memory allocation\n\t4c4b520 Port recent XCB changes to 64-bit \u2018long int\u2019\n\t4f0ce9c * src/undo.c (run_undoable_change): Now static.\n\t695a6f9 Remove support for ':timeout' from w32 tray notifications\n\ta731c2f * test/automated/simple-test.el: Add test for bug#20698 (bug#21885)\n\t2b4c0c0 * lisp/progmodes/elisp-mode.el: Declare function `project-roots'\n\t66b9f7b * src/undo.c: Small fixes for previous change\n\t2fac30e Add a few more variables to redisplay--variables\n\t04f69f1 * lisp/loadup.el: Enlarge the size of the hash table to 80000.\n\te221d32 Fix point positioning after transposing with negative arg\n\t35f5afb Fix last change in shr.el\n\t508e77b Fix last change\n\td60ed3f Another fix for MinGW64 and Cygwin builds due to notifications\n\t805a39b Remove intern calls and XXX comments from Fx_export_frames\n\t9463abf shr: don't invoke unbound function (Bug#21895)\n\t6e5186e * test/automated/keymaps-test.el: Fix test to make it repeatable\n\t0c92826 * test/automated/cl-lib-tests.el (cl-lib-struct-constructors): Small fix\n\t39dbd1c : Tests for undo-auto functionality.\n\t20aa42e ; Merge branch 'fix/no-undo-boundary-on-secondary-buffer-change'\n\t44dfa86 The heuristic that Emacs uses to add an `undo-boundary' has been reworked, as it interacts poorly with functions on `post-command-hook' or `after-change-functions'.\n\td2f73db Bind [?\\S-\\ ] to previous line command in Dired-like modes.\n\tc1bc6e5 Fix the MinGW64 and Cygwin-w32 builds\n\t1e363a8 Enable sorting of JSON object keys when encoding\n\t9dd7da9 * test/automated/keymap-tests.el: New test file\n\taa17de9 Speed up x_real_pos_and_offsets using XCB\n\ta838c83 Enable use of XCB for checking window manager state\n\tc7f2b6a Detect XCB and save a connection handle\n\te1c27db Reduce some data dependencies between X calls\n\t25e32bd Use color cache for creating bitmap\n\t851be0f Add \"^\" to the interactive specs of `dired-next/previous-line'\n\t055ca3a Sync with soap-client repository, version 3.0.2\n\te0f64e7 CC Mode: Respect users' settings of open-paren-in-column-0-is-defun-start.\n\t952395d * lisp/obarray.el: Fix shadowed variables\n\t436d330 Avoid error in submitting a form with EWW\n\te887f6e ; * doc/lispref/os.texi: Fix indentation of sample code.\n\t51d840a Rename seq-p and map-p to seqp and mapp\n\t23036ba Rename obarray-p to obarrayp\n\t20aea42 Rename obarray-foreach to obarray-map\n\ta3b2101 New file with obarray functions.\n\t9d43941 Implement tray notifications for MS-Windows\n\n2015-11-25  Michael Albinus  <michael.albinus@gmx.de>\n\n\tSome final fixes in file notification before merging with master\n\n\t* lisp/filenotify.el (file-notify--rm-descriptor): Remove WHAT arg.\n\t(file-notify-callback): Improve check for `stopped' event.  Call\n\t`file-notify-rm-watch' rather than `file-notify--rm-descriptor'.\n\t(file-notify-add-watch): In case FILE is not a directory, call the\n\tfile monitor for the kqueue backend.  Otherwise, call the\n\tdirectory monitor for the upper directory.\n\n\t* src/inotify.c (inotifyevent_to_event): Extract file name from\n\twatch_object if the event doesn't provide it.\n\t(Finotify_add_watch): Add file name to watch_object.\n\n\t* test/automated/file-notify-tests.el (file-notify--test-timeout):\n\tUse different timeouts for different libraries.\n\t(file-notify--test-with-events): Suppress lock files.  Flush\n\toutstanding events before running the body.\n\t(file-notify-test02-events, file-notify-test04-file-validity): Do\n\tnot skip cygwin tests.  Add additional test for file creation.\n\tAdapt expected result for different backends.\n\t(file-notify-test03-autorevert): Some of the tests don't work for\n\tw32notify.\n\t(file-notify-test06-many-events): Rename into both directions.\n\n2015-11-25  Michael Albinus  <michael.albinus@gmx.de>\n\n\tRework file notifications, kqueue has problems with directory monitors\n\n\t* lisp/filenotify.el (file-notify-add-watch): Call the native\n\tadd-watch function on the file, not on the dir.\n\n\t* src/kqueue.c (kqueue_compare_dir_list): Make also bookkeeping\n\tabout already deleted entries.\n\n\t* test/automated/auto-revert-tests.el\n\t(auto-revert-test01-auto-revert-several-files): Do not call \"cp -f\"\n\tsince this deletes the target file first.\n\n\t* test/automated/file-notify-tests.el (file-notify--test-event-test):\n\tMake stronger checks.\n\t(file-notify-test01-add-watch, file-notify-test02-events)\n\t(file-notify-test04-file-validity, file-notify-test05-dir-validity):\n\tRewrite in order to call file monitors but directory monitors.\n\t(file-notify-test06-many-events): Ler rename work in both directions.\n\n2015-11-25  Michael Albinus  <michael.albinus@gmx.de>\n\n\tContinie with pending events\n\n\t* src/kqueue.c (pending_events): Remove global variable.\n\t(kqueue_compare_dir_list): Create `write' event for not used\n\tpending events.\n\t(globals_of_kqueue): Remove initialization of pending_events.\n\n2015-11-25  Michael Albinus  <michael.albinus@gmx.de>\n\n\tImprove loops in file-notify-test06-many-events\n\n\t* test/automated/file-notify-tests.el (file-notify-test06-many-events):\n\tUse `read-event' pauses for the `write-file' loops; otherwise\n\tevents are lost in inotify and gfilenotify cases.\n\n2015-11-25  Michael Albinus  <michael.albinus@gmx.de>\n\n\tHandle more complex rename operation in kqueue\n\n\t* src/kqueue.c (pending_events): New variable.\n\t(kqueue_compare_dir_list): Handle more complex rename operation.\n\t(globals_of_kqueue): Initialize pending_events.\n\n\t* test/automated/file-notify-tests.el (file-notify-test06-many-events):\n\tAdapt expected events in the `rename-file' case.\n\t(file-notify-test06-many-events-remote): Declare.\n\n2015-11-25  Wolfgang Jenkner  <wjenkner@inode.at>\n\n\tNew test with a larger number of events.\n\n\t* test/automated/file-notify-tests.el (file-notify--test-with-events):\n\tMake timeout heuristically depend on the number of events.\n\n\t(file-notify-test06-many-events): Use it for new test.\n\n2015-11-25  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFurther fixes for kqueue.\n\n\t* lisp/filenotify.el (file-notify-callback): Raise also event if\n\tdirectory name matches.\n\t(file-notify-add-watch): Add `create' to the flags for `kqueue'.\n\n\t* src/kqueue.c (kqueue_generate_event): Use watch_object as\n\targument instead of ident.  Remove callback argument.  Adapt\n\tcallees.  Check actions whether they are monitored flags.\n\n\t* test/automated/file-notify-tests.el (file-notify--test-library):\n\tNew defun.\n\t(file-notify-test00-availability, file-notify-test02-events)\n\t(file-notify-test04-file-validity)\n\t(file-notify-test05-dir-validity): Use it.\n\t(file-notify-test02-events, file-notify-test04-file-validity): Add\n\t`read-event' calls between different file actions, in order to\n\tgive the backends a chance to rais an event.  Needed especially\n\tfor kqueue.  In case of deleting a directory, there are two\n\t`deleted' events.\n\n2015-11-25  Michael Albinus  <michael.albinus@gmx.de>\n\n\tCode cleanup of kqueue.c\n\n\t* src/kqueue.c (kqueue_directory_listing): Skip \".\" and \"..\".\n\t(kqueue_compare_dir_list): Do not loop when calling\n\tdirectory_files_internal.  Remove checks for \".\" and \"..\", this is\n\tdone in kqueue_directory_listing now.\n\t(Fkqueue_add_watch): Check for proper emacs_open flags.\n\n2015-11-25  Michael Albinus  <michael.albinus@gmx.de>\n\n\tDoc changes for kqueue\n\n\t* doc/lispref/os.texi (File Notifications): Add kqueue as backend.\n\tFix some glitches in the example.\n\n2015-11-25  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFinish implementation in kqueue.c\n\n\t* src/kqueue.c (kqueue_directory_listing, kqueue_callback):\n\tSimplify access to list.\n\t(kqueue_compare_dir_list): Simplify access to list.  Raise\n\t`delete' event if directory does not exist any longer.  Otherwise,\n\twait until directory contents has changed.  Fix error in check.\n\n2015-11-25  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* lisp/filenotify.el (file-notify-add-watch): Fix thinko.\n\n2015-11-25  Michael Albinus  <michael.albinus@gmx.de>\n\n\tMore work on kqueue\n\n\t* lisp/filenotify.el (file-notify-callback): Handle also the\n\t`rename' event from kqueue.\n\t(file-notify-add-watch): Do not register an entry twice.\n\n\t* src/kqueue.c (kqueue_directory_listing): New function.\n\t(kqueue_generate_event): New argument FILE1.  Adapt callees.\n\t(kqueue_compare_dir_list): Rewrite in order to make it more robust.\n\n2015-11-25  Michael Albinus  <michael.albinus@gmx.de>\n\n\tImplement directory events\n\n\t* lisp/filenotify.el (file-notify-handle-event)\n\t(file-notify-callback): Remove traces.\n\n\t* src/kqueue.c: Include <sys/time.h>.\n\t(kqueue_generate_event, kqueue_compare_dir_list): New functions.\n\t(kqueue_callback): Use them.  Call kevent() with a zero timeout.\n\t(Fkqueue_add_watch): Adapt docstring.  Support directory events.\n\tCompute initial directory listing.  Close file descriptor in case\n\tof errors.\n\t(syms_of_kqueue): Declare Qcreate.\n\n2015-11-25  Wolfgang Jenkner  <wjenkner@inode.at>\n\n\tBuild fixes for kqueue support.\n\n\t* src/kqueue.c (Fkqueue_add_watch): O_BINARY is not a POSIX open(3)\n\tflag.\n\n\t* configure.ac (HAVE_KQUEUE): There is no pkg-config module for native\n\tkqueue on *BSD.\n\n2015-11-25  Michael Albinus  <michael.albinus@gmx.de>\n\n\tContinue kqueue implementation\n\n\t* lisp/filenotify.el (file-notify-handle-event)\n\t(file-notify-callback): Enable trace messages.\n\n\t* src/kqueue.c: Include also <sys/types.h>.\n\t(kqueue_callback): Remove watch in case of NOTE_DELETE or NOTE_RENAME.\n\t(Fkqueue_rm_watch, Fkqueue_valid_p): New functions.\n\t(syms_of_kqueue): Add them.\n\n2015-11-25  Michael Albinus  <michael.albinus@gmx.de>\n\n\tWork on kqueue\n\n\t* lisp/filenotify.el (file-notify--library)\n\t(file-notify-descriptors, file-notify-callback)\n\t(file-notify-add-watch, file-notify-rm-watch)\n\t(file-notify-valid-p): Add kqueue support.\n\n\t* src/keyboard.c (make_lispy_event): Check also for HAVE_KQUEUE.\n\n2015-11-25  Michael Albinus  <michael.albinus@gmx.de>\n\n\tAdd kqueue support\n\n\t* configure.ac (--with-file-notification): Add kqueue.\n\t(top): Remove special test for \"${HAVE_NS}\" and\n\t${with_file_notification}, this is handled inside gfilenotify\n\ttests.  Add kqueue tests.  Use NOTIFY_CFLAGS and NOTIFY_LIBS\n\tinstead of library specific variables.\n\n\t* src/Makefile.in: Use NOTIFY_CFLAGS and NOTIFY_LIBS.\n\n\t* src/emacs.c (main): Call globals_of_kqueue and syms_of_kqueue.\n\n\t* src/kqueue.c: New file.\n\n\t* src/lisp.h: Declare extern globals_of_kqueue and syms_of_kqueue.\n\n2015-11-25  Michael Albinus  <michael.albinus@gmx.de>\n\n\tSome final fixes in file notification before merging with master\n\n\t* lisp/filenotify.el (file-notify--rm-descriptor): Remove WHAT arg.\n\t(file-notify-callback): Improve check for `stopped' event.  Call\n\t`file-notify-rm-watch' rather than `file-notify--rm-descriptor'.\n\t(file-notify-add-watch): In case FILE is not a directory, call the\n\tfile monitor for the kqueue backend.  Otherwise, call the\n\tdirectory monitor for the upper directory.\n\n\t* src/inotify.c (inotifyevent_to_event): Extract file name from\n\twatch_object if the event doesn't provide it.\n\t(Finotify_add_watch): Add file name to watch_object.\n\n\t* test/automated/file-notify-tests.el (file-notify--test-timeout):\n\tUse different timeouts for different libraries.\n\t(file-notify--test-with-events): Suppress lock files.  Flush\n\toutstanding events before running the body.\n\t(file-notify-test02-events, file-notify-test04-file-validity): Do\n\tnot skip cygwin tests.  Add additional test for file creation.\n\tAdapt expected result for different backends.\n\t(file-notify-test03-autorevert): Some of the tests don't work for\n\tw32notify.\n\t(file-notify-test06-many-events): Rename into both directions.\n\n2015-11-24  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\tUpdate elisp-mode-tests for changed file location.\n\n\t * test/lisp/progmodes/elisp-mode-tests.el:\n\n2015-11-24  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\tExclude manual tests from Makefile\n\n\t * test/Makefile.in:\n\n2015-11-24  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\tMove package test files to new directory.\n\n\t * test/lisp/emacs-lisp/package-tests.el: Update resoruce file location.\n\t * test/data/package: Moved to test/lisp/emacs-lisp/package-resources\n\n2015-11-24  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\tRestore delete Makefiles and fix .gitignore.\n\n\t * .gitignore: Update Makefiles to changed locations\n\t * test/lisp/progmodes/flymake-resources/Makefile,\n\t   test/manual/etags/Makefile,\n\t   test/manual/etags/make-src/Makefile,\n\t   test/manual/indent/Makefile: Restored and moved to new location.\n\n2015-11-24  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\tTest infrastructure: updates after directory move\n\n\t * (test/Makefile.in): Support directories several levels deep.\n\t * (test/data/flymake): Rename to test/lisp/progmodes/flymake-resources.\n\t * (test/lisp/progmodes/flymake-tests.el): Support renamed resource directory.\n\n2015-11-24  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\tRename all test files to reflect source layout.\n\n\t* CONTRIBUTE, Makefile.in, configure.ac: Update to reflect\n\ttest directory moves.\n\t* test/file-organisation.org: New file.\n\t* test/automated/Makefile.in:\n\t* test/automated/data/decompress/foo.gz:\n\t* test/automated/data/epg/pubkey.asc:\n\t* test/automated/data/epg/seckey.asc:\n\t* test/automated/data/files-bug18141.el.gz:\n\t* test/automated/data/flymake/test.c:\n\t* test/automated/data/flymake/test.pl:\n\t* test/automated/data/package/archive-contents:\n\t* test/automated/data/package/key.pub:\n\t* test/automated/data/package/key.sec:\n\t* test/automated/data/package/multi-file-0.2.3.tar:\n\t* test/automated/data/package/multi-file-readme.txt:\n\t* test/automated/data/package/newer-versions/archive-contents:\n\t* test/automated/data/package/newer-versions/new-pkg-1.0.el:\n\t* test/automated/data/package/newer-versions/simple-single-1.4.el:\n\t* test/automated/data/package/package-test-server.py:\n\t* test/automated/data/package/signed/archive-contents:\n\t* test/automated/data/package/signed/archive-contents.sig:\n\t* test/automated/data/package/signed/signed-bad-1.0.el:\n\t* test/automated/data/package/signed/signed-bad-1.0.el.sig:\n\t* test/automated/data/package/signed/signed-good-1.0.el:\n\t* test/automated/data/package/signed/signed-good-1.0.el.sig:\n\t* test/automated/data/package/simple-depend-1.0.el:\n\t* test/automated/data/package/simple-single-1.3.el:\n\t* test/automated/data/package/simple-single-readme.txt:\n\t* test/automated/data/package/simple-two-depend-1.1.el:\n\t* test/automated/abbrev-tests.el:\n\t* test/automated/auto-revert-tests.el:\n\t* test/automated/calc-tests.el:\n\t* test/automated/icalendar-tests.el:\n\t* test/automated/character-fold-tests.el:\n\t* test/automated/comint-testsuite.el:\n\t* test/automated/descr-text-test.el:\n\t* test/automated/electric-tests.el:\n\t* test/automated/cl-generic-tests.el:\n\t* test/automated/cl-lib-tests.el:\n\t* test/automated/eieio-test-methodinvoke.el:\n\t* test/automated/eieio-test-persist.el:\n\t* test/automated/eieio-tests.el:\n\t* test/automated/ert-tests.el:\n\t* test/automated/ert-x-tests.el:\n\t* test/automated/generator-tests.el:\n\t* test/automated/let-alist.el:\n\t* test/automated/map-tests.el:\n\t* test/automated/advice-tests.el:\n\t* test/automated/package-test.el:\n\t* test/automated/pcase-tests.el:\n\t* test/automated/regexp-tests.el:\n\t* test/automated/seq-tests.el:\n\t* test/automated/subr-x-tests.el:\n\t* test/automated/tabulated-list-test.el:\n\t* test/automated/thunk-tests.el:\n\t* test/automated/timer-tests.el:\n\t* test/automated/epg-tests.el:\n\t* test/automated/eshell.el:\n\t* test/automated/faces-tests.el:\n\t* test/automated/file-notify-tests.el:\n\t* test/automated/auth-source-tests.el:\n\t* test/automated/gnus-tests.el:\n\t* test/automated/message-mode-tests.el:\n\t* test/automated/help-fns.el:\n\t* test/automated/imenu-test.el:\n\t* test/automated/info-xref.el:\n\t* test/automated/mule-util.el:\n\t* test/automated/isearch-tests.el:\n\t* test/automated/json-tests.el:\n\t* test/automated/bytecomp-tests.el:\n\t* test/automated/coding-tests.el:\n\t* test/automated/core-elisp-tests.el:\n\t* test/automated/decoder-tests.el:\n\t* test/automated/files.el:\n\t* test/automated/font-parse-tests.el:\n\t* test/automated/lexbind-tests.el:\n\t* test/automated/occur-tests.el:\n\t* test/automated/process-tests.el:\n\t* test/automated/syntax-tests.el:\n\t* test/automated/textprop-tests.el:\n\t* test/automated/undo-tests.el:\n\t* test/automated/man-tests.el:\n\t* test/automated/completion-tests.el:\n\t* test/automated/dbus-tests.el:\n\t* test/automated/newsticker-tests.el:\n\t* test/automated/sasl-scram-rfc-tests.el:\n\t* test/automated/tramp-tests.el:\n\t* test/automated/obarray-tests.el:\n\t* test/automated/compile-tests.el:\n\t* test/automated/elisp-mode-tests.el:\n\t* test/automated/f90.el:\n\t* test/automated/flymake-tests.el:\n\t* test/automated/python-tests.el:\n\t* test/automated/ruby-mode-tests.el:\n\t* test/automated/subword-tests.el:\n\t* test/automated/replace-tests.el:\n\t* test/automated/simple-test.el:\n\t* test/automated/sort-tests.el:\n\t* test/automated/subr-tests.el:\n\t* test/automated/reftex-tests.el:\n\t* test/automated/sgml-mode-tests.el:\n\t* test/automated/tildify-tests.el:\n\t* test/automated/thingatpt.el:\n\t* test/automated/url-future-tests.el:\n\t* test/automated/url-util-tests.el:\n\t* test/automated/add-log-tests.el:\n\t* test/automated/vc-bzr.el:\n\t* test/automated/vc-tests.el:\n\t* test/automated/xml-parse-tests.el:\n\t* test/BidiCharacterTest.txt:\n\t* test/biditest.el:\n\t* test/cedet/cedet-utests.el:\n\t* test/cedet/ede-tests.el:\n\t* test/cedet/semantic-ia-utest.el:\n\t* test/cedet/semantic-tests.el:\n\t* test/cedet/semantic-utest-c.el:\n\t* test/cedet/semantic-utest.el:\n\t* test/cedet/srecode-tests.el:\n\t* test/cedet/tests/test.c:\n\t* test/cedet/tests/test.el:\n\t* test/cedet/tests/test.make:\n\t* test/cedet/tests/testdoublens.cpp:\n\t* test/cedet/tests/testdoublens.hpp:\n\t* test/cedet/tests/testfriends.cpp:\n\t* test/cedet/tests/testjavacomp.java:\n\t* test/cedet/tests/testnsp.cpp:\n\t* test/cedet/tests/testpolymorph.cpp:\n\t* test/cedet/tests/testspp.c:\n\t* test/cedet/tests/testsppcomplete.c:\n\t* test/cedet/tests/testsppreplace.c:\n\t* test/cedet/tests/testsppreplaced.c:\n\t* test/cedet/tests/testsubclass.cpp:\n\t* test/cedet/tests/testsubclass.hh:\n\t* test/cedet/tests/testtypedefs.cpp:\n\t* test/cedet/tests/testvarnames.c:\n\t* test/etags/CTAGS.good:\n\t* test/etags/ETAGS.good_1:\n\t* test/etags/ETAGS.good_2:\n\t* test/etags/ETAGS.good_3:\n\t* test/etags/ETAGS.good_4:\n\t* test/etags/ETAGS.good_5:\n\t* test/etags/ETAGS.good_6:\n\t* test/etags/a-src/empty.zz:\n\t* test/etags/a-src/empty.zz.gz:\n\t* test/etags/ada-src/2ataspri.adb:\n\t* test/etags/ada-src/2ataspri.ads:\n\t* test/etags/ada-src/etags-test-for.ada:\n\t* test/etags/ada-src/waroquiers.ada:\n\t* test/etags/c-src/a/b/b.c:\n\t* test/etags/c-src/abbrev.c:\n\t* test/etags/c-src/c.c:\n\t* test/etags/c-src/dostorture.c:\n\t* test/etags/c-src/emacs/src/gmalloc.c:\n\t* test/etags/c-src/emacs/src/keyboard.c:\n\t* test/etags/c-src/emacs/src/lisp.h:\n\t* test/etags/c-src/emacs/src/regex.h:\n\t* test/etags/c-src/etags.c:\n\t* test/etags/c-src/exit.c:\n\t* test/etags/c-src/exit.strange_suffix:\n\t* test/etags/c-src/fail.c:\n\t* test/etags/c-src/getopt.h:\n\t* test/etags/c-src/h.h:\n\t* test/etags/c-src/machsyscalls.c:\n\t* test/etags/c-src/machsyscalls.h:\n\t* test/etags/c-src/sysdep.h:\n\t* test/etags/c-src/tab.c:\n\t* test/etags/c-src/torture.c:\n\t* test/etags/cp-src/MDiagArray2.h:\n\t* test/etags/cp-src/Range.h:\n\t* test/etags/cp-src/burton.cpp:\n\t* test/etags/cp-src/c.C:\n\t* test/etags/cp-src/clheir.cpp.gz:\n\t* test/etags/cp-src/clheir.hpp:\n\t* test/etags/cp-src/conway.cpp:\n\t* test/etags/cp-src/conway.hpp:\n\t* test/etags/cp-src/fail.C:\n\t* test/etags/cp-src/functions.cpp:\n\t* test/etags/cp-src/screen.cpp:\n\t* test/etags/cp-src/screen.hpp:\n\t* test/etags/cp-src/x.cc:\n\t* test/etags/el-src/TAGTEST.EL:\n\t* test/etags/el-src/emacs/lisp/progmodes/etags.el:\n\t* test/etags/erl-src/gs_dialog.erl:\n\t* test/etags/f-src/entry.for:\n\t* test/etags/f-src/entry.strange.gz:\n\t* test/etags/f-src/entry.strange_suffix:\n\t* test/etags/forth-src/test-forth.fth:\n\t* test/etags/html-src/algrthms.html:\n\t* test/etags/html-src/index.shtml:\n\t* test/etags/html-src/software.html:\n\t* test/etags/html-src/softwarelibero.html:\n\t* test/etags/lua-src/allegro.lua:\n\t* test/etags/objc-src/PackInsp.h:\n\t* test/etags/objc-src/PackInsp.m:\n\t* test/etags/objc-src/Subprocess.h:\n\t* test/etags/objc-src/Subprocess.m:\n\t* test/etags/objcpp-src/SimpleCalc.H:\n\t* test/etags/objcpp-src/SimpleCalc.M:\n\t* test/etags/pas-src/common.pas:\n\t* test/etags/perl-src/htlmify-cystic:\n\t* test/etags/perl-src/kai-test.pl:\n\t* test/etags/perl-src/yagrip.pl:\n\t* test/etags/php-src/lce_functions.php:\n\t* test/etags/php-src/ptest.php:\n\t* test/etags/php-src/sendmail.php:\n\t* test/etags/prol-src/natded.prolog:\n\t* test/etags/prol-src/ordsets.prolog:\n\t* test/etags/ps-src/rfc1245.ps:\n\t* test/etags/pyt-src/server.py:\n\t* test/etags/tex-src/gzip.texi:\n\t* test/etags/tex-src/nonewline.tex:\n\t* test/etags/tex-src/testenv.tex:\n\t* test/etags/tex-src/texinfo.tex:\n\t* test/etags/y-src/atest.y:\n\t* test/etags/y-src/cccp.c:\n\t* test/etags/y-src/cccp.y:\n\t* test/etags/y-src/parse.c:\n\t* test/etags/y-src/parse.y:\n\t* test/indent/css-mode.css:\n\t* test/indent/js-indent-init-dynamic.js:\n\t* test/indent/js-indent-init-t.js:\n\t* test/indent/js-jsx.js:\n\t* test/indent/js.js:\n\t* test/indent/latex-mode.tex:\n\t* test/indent/modula2.mod:\n\t* test/indent/nxml.xml:\n\t* test/indent/octave.m:\n\t* test/indent/pascal.pas:\n\t* test/indent/perl.perl:\n\t* test/indent/prolog.prolog:\n\t* test/indent/ps-mode.ps:\n\t* test/indent/ruby.rb:\n\t* test/indent/scheme.scm:\n\t* test/indent/scss-mode.scss:\n\t* test/indent/sgml-mode-attribute.html:\n\t* test/indent/shell.rc:\n\t* test/indent/shell.sh:\n\t* test/redisplay-testsuite.el:\n\t* test/rmailmm.el:\n\t* test/automated/buffer-tests.el:\n\t* test/automated/cmds-tests.el:\n\t* test/automated/data-tests.el:\n\t* test/automated/finalizer-tests.el:\n\t* test/automated/fns-tests.el:\n\t* test/automated/inotify-test.el:\n\t* test/automated/keymap-tests.el:\n\t* test/automated/print-tests.el:\n\t* test/automated/libxml-tests.el:\n\t* test/automated/zlib-tests.el: Files Moved.\n\n2015-11-21  Wilson Snyder  <wsnyder@wsnyder.org>\n\n\tverilog-mode.el: Commentary and fix pre-Emacs 21 behavior.\n\n\t* lisp/progmodes/verilog-mode.el\n\t(verilog-save-font-no-change-functions): Commentary and fix\n\tpre-Emacs 21 behavior.\n\n2015-11-20  Michael Albinus  <michael.albinus@gmx.de>\n\n\tRework file notifications, kqueue has problems with directory monitors\n\n\t* lisp/filenotify.el (file-notify-add-watch): Call the native\n\tadd-watch function on the file, not on the dir.\n\n\t* src/kqueue.c (kqueue_compare_dir_list): Make also bookkeeping\n\tabout already deleted entries.\n\n\t* test/automated/auto-revert-tests.el\n\t(auto-revert-test01-auto-revert-several-files): Do not call \"cp -f\"\n\tsince this deletes the target file first.\n\n\t* test/automated/file-notify-tests.el (file-notify--test-event-test):\n\tMake stronger checks.\n\t(file-notify-test01-add-watch, file-notify-test02-events)\n\t(file-notify-test04-file-validity, file-notify-test05-dir-validity):\n\tRewrite in order to call file monitors but directory monitors.\n\t(file-notify-test06-many-events): Ler rename work in both directions.\n\n2015-11-19  Przemys\u0142aw Wojnowski  <esperanto@cumego.com>\n\n\tUse obarray functions from obarray.\n\n\t* lisp/abbrev.el (copy-abbrev-table, abbrev-table-p, make-abbrev-table,\n\t  abbrev-table-get, abbrev-table-put, abbrev-table-empty-p,\n\t  clear-abbrev-table, define-abbrev, abbrev--symbol, abbrev-table-menu):\n\t  delegate to obarray.el functions.\n\t* lisp/loadup.el: load obarray before abbrev\n\t* test/automated/abbrev-tests.el: new tests\n\n2015-11-19  Michael Albinus  <michael.albinus@gmx.de>\n\n\tContinie with pending events\n\n\t* src/kqueue.c (pending_events): Remove global variable.\n\t(kqueue_compare_dir_list): Create `write' event for not used\n\tpending events.\n\t(globals_of_kqueue): Remove initialization of pending_events.\n\n2015-11-19  Michael Albinus  <michael.albinus@gmx.de>\n\n\tImprove loops in file-notify-test06-many-events\n\n\t* test/automated/file-notify-tests.el (file-notify-test06-many-events):\n\tUse `read-event' pauses for the `write-file' loops; otherwise\n\tevents are lost in inotify and gfilenotify cases.\n\n2015-11-19  Michael Albinus  <michael.albinus@gmx.de>\n\n\tHandle more complex rename operation in kqueue\n\n\t* src/kqueue.c (pending_events): New variable.\n\t(kqueue_compare_dir_list): Handle more complex rename operation.\n\t(globals_of_kqueue): Initialize pending_events.\n\n\t* test/automated/file-notify-tests.el (file-notify-test06-many-events):\n\tAdapt expected events in the `rename-file' case.\n\t(file-notify-test06-many-events-remote): Declare.\n\n2015-11-18  Christian Schwarzgruber  <c.schwarzgruber.cs@gmail.com>  (tiny change)\n\n\tepa.el: Add option to replace original text\n\n\t* lisp/epa.el (epa-replace-original-text): New user option.\n\t(Bug#21947)\n\n2015-11-18  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tAdd interactive seek command.\n\n\t* lisp/mpc.el (mpc-cmd-seekcur): New function.\n\t(mpc-seek-current): New command.\n\t(mpc-mode-menu): Add entry for mpc-seek-current\n\t(mpc-mode-map): Bind mpc-seek-current to \"g\"\n\n2015-11-18  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tFix issue where a new tempfile was created every refresh\n\n\t* lisp/mpc.el (mpc-format): Leave dir as relative path\n\n2015-11-18  Wolfgang Jenkner  <wjenkner@inode.at>\n\n\tNew test with a larger number of events.\n\n\t* test/automated/file-notify-tests.el (file-notify--test-with-events):\n\tMake timeout heuristically depend on the number of events.\n\n\t(file-notify-test06-many-events): Use it for new test.\n\n2015-11-18  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/progmodes/cc-defs.el: Use with-silent-modifications\n\n\t(c-save-buffer-state): Use with-silent-modifications when available.\n\t(c--macroexpand-all): Check macroexpand-all directly rather than\n\tc--mapcan-status.\n\n2015-11-18  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/loadup.el: Set max-lisp-eval-depth here\n\n\t* lisp/Makefile.in (BIG_STACK_DEPTH, BIG_STACK_OPTS): Remove.\n\t(BYTE_COMPILE_FLAGS): Adjust accordingly.\n\n2015-11-18  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFurther fixes for kqueue.\n\n\t* lisp/filenotify.el (file-notify-callback): Raise also event if\n\tdirectory name matches.\n\t(file-notify-add-watch): Add `create' to the flags for `kqueue'.\n\n\t* src/kqueue.c (kqueue_generate_event): Use watch_object as\n\targument instead of ident.  Remove callback argument.  Adapt\n\tcallees.  Check actions whether they are monitored flags.\n\n\t* test/automated/file-notify-tests.el (file-notify--test-library):\n\tNew defun.\n\t(file-notify-test00-availability, file-notify-test02-events)\n\t(file-notify-test04-file-validity)\n\t(file-notify-test05-dir-validity): Use it.\n\t(file-notify-test02-events, file-notify-test04-file-validity): Add\n\t`read-event' calls between different file actions, in order to\n\tgive the backends a chance to rais an event.  Needed especially\n\tfor kqueue.  In case of deleting a directory, there are two\n\t`deleted' events.\n\n2015-11-17  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tMinor fix to comment indentation and typo in last commit\n\n\t* lisp/linum.el (linum-update-window): Fix comment indentation and\n\ta typo.\n\n2015-11-17  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tlinum-mode plays more nicely with other margin-setting extensions\n\n\tlinum.el will only modify the left margin if it needs to, and will\n\tonly reset the it back to 0 if it guesses that no-one has touched that\n\tmargin in the meantime.\n\n\tAs such, this is a more of a workaround than an actual fix, but fixes\n\tthe problems described in bug#20674 regarding the interaction with\n\tmodes such as darkroom-mode and olivetti-mode.\n\n\tA similar fix was commited to nlinum.el in ELPA.git's\n\te7f5f549fbfb740b911fb7f33b42381ecece56d8\n\n\t* lisp/linum.el (linum-delete-overlays): Restore margins more\n\tcriteriously.\n\t(linum-update-window): Set margins more criteriously.\n\n2015-11-17  Michael Albinus  <michael.albinus@gmx.de>\n\n\tCode cleanup of kqueue.c\n\n\t* src/kqueue.c (kqueue_directory_listing): Skip \".\" and \"..\".\n\t(kqueue_compare_dir_list): Do not loop when calling\n\tdirectory_files_internal.  Remove checks for \".\" and \"..\", this is\n\tdone in kqueue_directory_listing now.\n\t(Fkqueue_add_watch): Check for proper emacs_open flags.\n\n2015-11-16  Daiki Ueno  <ueno@gnu.org>\n\n\t* lisp/image-mode.el: Support encrypted file\n\n\t(image-toggle-display-image): Read content from the buffer instead\n\tof the file, if the buffer holds a decrypted data.  (Bug#21870)\n\n2015-11-16  Michael Albinus  <michael.albinus@gmx.de>\n\n\tDoc changes for kqueue\n\n\t* doc/lispref/os.texi (File Notifications): Add kqueue as backend.\n\tFix some glitches in the example.\n\n2015-11-16  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFinish implementation in kqueue.c\n\n\t* src/kqueue.c (kqueue_directory_listing, kqueue_callback):\n\tSimplify access to list.\n\t(kqueue_compare_dir_list): Simplify access to list.  Raise\n\t`delete' event if directory does not exist any longer.  Otherwise,\n\twait until directory contents has changed.  Fix error in check.\n\n2015-11-15  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* lisp/filenotify.el (file-notify-add-watch): Fix thinko.\n\n2015-11-15  Juanma Barranquero  <lekktu@gmail.com>\n\n\t* lisp/progmodes/verilog-mode.el (verilog-save-buffer-state): Add backquote\n\n2015-11-15  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el: Fix a decoding issue\n\n\t(package--with-response-buffer): Use `url-insert-buffer-contents'.\n\tThe previous code had some issues with decoding. Refactoring that\n\tfunction allows us to use the decoding from url-handlers while still\n\ttreating both sync and async requests the same.\n\n\t* lisp/url/url-handlers.el (url-insert-file-contents): Move some code to\n\t`url-insert-buffer-contents'.\n\t(url-insert-buffer-contents): New function\n\n2015-11-15  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el: Refactor -with-work-buffer-async\n\n\t(package--with-work-buffer-async): Reimplement as\n\t`package--with-response-buffer'.\n\t(package--with-work-buffer): Mark obsolete.\n\t(package--with-response-buffer): New macro. This is a more self\n\tcontained and less contrived version of\n\t`package--with-work-buffer-async'.  It uses keyword arguments,\n\tdoesn't have async on the name, doesn't fallback on\n\t`package--with-work-buffer', and has _much_ simpler error\n\thandling.\n\n\t(package--check-signature, package--download-one-archive)\n\t(package-install-from-archive, describe-package-1): Use it.\n\n\t(package--download-and-read-archives): Let\n\t`package--download-one-archive' take care of calling\n\t`package--update-downloads-in-progress'.\n\n2015-11-15  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/progmodes/verilog-mode.el: Use with-silent-modifications\n\n\t(verilog-save-buffer-state): Use with-silent-modifications when available.\n\t(verilog-save-font-no-change-functions): Don't bind\n\tbefore/after-change-functions if it's not needed.\n\n2015-11-15  Michael Albinus  <michael.albinus@gmx.de>\n\n\tMore work on kqueue\n\n\t* lisp/filenotify.el (file-notify-callback): Handle also the\n\t`rename' event from kqueue.\n\t(file-notify-add-watch): Do not register an entry twice.\n\n\t* src/kqueue.c (kqueue_directory_listing): New function.\n\t(kqueue_generate_event): New argument FILE1.  Adapt callees.\n\t(kqueue_compare_dir_list): Rewrite in order to make it more robust.\n\n2015-11-14  Xue Fuqiao  <xfq.free@gmail.com>\n\n\t* CONTRIBUTE: Remove information about feature freeze.\n\n\tMerge branch 'release-process-lowercase'\n\n2015-11-14  Xue Fuqiao  <xfq.free@gmail.com>\n\n\tDocument the release process\n\n\t* admin/notes/versioning: Add information about RC releases.\n\t* admin/release-process: Document the release process.\n\t* admin/authors.el (authors-ignored-files):\n\t* admin/README: Change FOR-RELEASE to release-process.\n\t* CONTRIBUTE:\n\t* admin/notes/bugtracker: Don't mention FOR-RELEASE.\n\n2015-11-14  Xue Fuqiao  <xfq.free@gmail.com>\n\n\t* admin/release-process: Rename from admin/FOR-RELEASE.\n\n2015-11-14  David Engster  <deng@randomsample.de>\n\n\tgitmerge: Fix git log command\n\n\t* admin/gitmerge.el (gitmerge-missing): Use '--left-only' since we\n\tonly want commits from the branch that is to be merged.\n\t(gitmerge-setup-log-buffer): Use the same symmetric range as in\n\t`gitmerge-missing'.\n\n2015-11-14  David Engster  <deng@randomsample.de>\n\n\tgitmerge: Try to detect cherry-picks\n\n\t* admin/gitmerge.el (gitmerge-default-branch): Change to\n\torigin/emacs-25.\n\t(gitmerge-missing): Use symmetric difference ('...') between\n\tbranch and master so that cherry-picks can be detected.\n\n2015-11-14  Michael Albinus  <michael.albinus@gmx.de>\n\n\tImplement directory events\n\n\t* lisp/filenotify.el (file-notify-handle-event)\n\t(file-notify-callback): Remove traces.\n\n\t* src/kqueue.c: Include <sys/time.h>.\n\t(kqueue_generate_event, kqueue_compare_dir_list): New functions.\n\t(kqueue_callback): Use them.  Call kevent() with a zero timeout.\n\t(Fkqueue_add_watch): Adapt docstring.  Support directory events.\n\tCompute initial directory listing.  Close file descriptor in case\n\tof errors.\n\t(syms_of_kqueue): Declare Qcreate.\n\n2015-11-14  Eli Zaretskii  <eliz@gnu.org>\n\n\tIncrement Emacs version on master branch\n\n\t* lisp/cus-edit.el (customize-changed-options-previous-release):\n\tIncrease previous version to 24.5.\n\n\t* configure.ac:\n\t* msdos/sed2v2.inp: Bump version to 25.1.50.\n\n2015-11-13  Xue Fuqiao  <xfq.free@gmail.com>\n\n\tMention CONTRIBUTE in README\n\n\tMention CONTRIBUTE in README, since it was moved from etc/ to root.\n\t* etc/TODO: Remove the reference to `etc/CONTRIBUTE'.\n\t* README: Mention CONTRIBUTE.\n\n2015-11-13  Wilson Snyder  <wsnyder@wsnyder.org>\n\n\tUpdate verilog-mode.el to 2015-11-09-b121d60-vpo.\n\n\t* lisp/progmodes/verilog-mode.el (verilog-auto, verilog-delete-auto)\n\t(verilog-modi-cache-results, verilog-save-buffer-state)\n\t(verilog-save-font-no-change-functions): When internally suppressing change\n\tfunctions, use `inhibit-modification-hooks' and call\n\t`after-change-funtions' to more nicely work with user hooks.  Reported by\n\tStefan Monnier.\n\n\t(verilog-auto, verilog-delete-auto, verilog-delete-auto-buffer):\n\tCreate `verilog-delete-auto-buffer' to avoid double-calling\n\tfontification hooks.\n\n\t(verilog-restore-buffer-modified-p, verilog-auto)\n\t(verilog-save-buffer-state): Prefer restore-buffer-modified-p over\n\tset-buffer-modified-p. Reported by Stefan Monnier.\n\n\t(verilog-diff-auto, verilog-diff-buffers-p)\n\t(verilog-diff-ignore-regexp): Add `verilog-diff-ignore-regexp'.\n\n\t(verilog-auto-inst-port, verilog-read-sub-decls-expr): Fix\n\tAUTOINST with unpacked dimensional parameters, bug981. Reported by\n\tby Amol Nagapurkar.\n\n\t(verilog-read-decls, verilog-read-sub-decls-line): Avoid unneeded\n\tproperties inside internal structures. No functional change\n\tintended.\n\n2015-11-11  Wolfgang Jenkner  <wjenkner@inode.at>\n\n\tBuild fixes for kqueue support.\n\n\t* src/kqueue.c (Fkqueue_add_watch): O_BINARY is not a POSIX open(3)\n\tflag.\n\n\t* configure.ac (HAVE_KQUEUE): There is no pkg-config module for native\n\tkqueue on *BSD.\n\n2015-11-11  Michael Albinus  <michael.albinus@gmx.de>\n\n\tContinue kqueue implementation\n\n\t* lisp/filenotify.el (file-notify-handle-event)\n\t(file-notify-callback): Enable trace messages.\n\n\t* src/kqueue.c: Include also <sys/types.h>.\n\t(kqueue_callback): Remove watch in case of NOTE_DELETE or NOTE_RENAME.\n\t(Fkqueue_rm_watch, Fkqueue_valid_p): New functions.\n\t(syms_of_kqueue): Add them.\n\n2015-11-11  Michael Albinus  <michael.albinus@gmx.de>\n\n\tWork on kqueue\n\n\t* lisp/filenotify.el (file-notify--library)\n\t(file-notify-descriptors, file-notify-callback)\n\t(file-notify-add-watch, file-notify-rm-watch)\n\t(file-notify-valid-p): Add kqueue support.\n\n\t* src/keyboard.c (make_lispy_event): Check also for HAVE_KQUEUE.\n\n2015-11-11  Michael Albinus  <michael.albinus@gmx.de>\n\n\tAdd kqueue support\n\n\t* configure.ac (--with-file-notification): Add kqueue.\n\t(top): Remove special test for \"${HAVE_NS}\" and\n\t${with_file_notification}, this is handled inside gfilenotify\n\ttests.  Add kqueue tests.  Use NOTIFY_CFLAGS and NOTIFY_LIBS\n\tinstead of library specific variables.\n\n\t* src/Makefile.in: Use NOTIFY_CFLAGS and NOTIFY_LIBS.\n\n\t* src/emacs.c (main): Call globals_of_kqueue and syms_of_kqueue.\n\n\t* src/kqueue.c: New file.\n\n\t* src/lisp.h: Declare extern globals_of_kqueue and syms_of_kqueue.\n\nThis file records repository revisions from\ncommit 9d56a21e6a696ad19ac65c4b405aeca44785884a (exclusive) to\ncommit 35574609dd09e2eab0301309b0e3bf831f627fcc (inclusive).\nSee ChangeLog.1 for earlier changes.\n\n;; Local Variables:\n;; coding: utf-8\n;; End:\n\n  Copyright (C) 2015-2018 Free Software Foundation, Inc.\n\n  This file is part of GNU Emacs.\n\n  GNU Emacs is free software: you can redistribute it and/or modify\n  it under the terms of the GNU General Public License as published by\n  the Free Software Foundation, either version 3 of the License, or\n  (at your option) any later version.\n\n  GNU Emacs is distributed in the hope that it will be useful,\n  but WITHOUT ANY WARRANTY; without even the implied warranty of\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  GNU General Public License for more details.\n\n  You should have received a copy of the GNU General Public License\n  along with GNU Emacs.  If not, see <https://www.gnu.org/licenses/>.\n",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/src/ChangeLog.5": "1995-06-21  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* Version 19.29 released.\n\n\t* xfns.c (Fx_display_grayscale_p): Return t or nil.\n\tReturn t for color displays.\n\n\t* s/msdos.h (SYSTEM_PURESIZE_EXTRA): Increase to 68000.\n\n\t* xdisp.c (decode_mode_spec) [!MULTI_FRAME]: Handle %F properly.\n\n1995-06-20  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keyboard.c (read_key_sequence): Don't use Vprefix_help_command\n\tfor the first character in a key seq.\n\n\t* ntinevt.c (map_virt_key): Mark some additional chars as valid ASCII.\n\n\t* ntterm.c (ctrl_c_handler): Ignore CTRL_BREAK_EVENT signals.\n\n1995-06-19  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* sysdep.c (rmdir): Fix up Aug 19 1993 change that wasn't done right.\n\n\t* ntproc.c (win32_wait): Massage retval into what is expected in Unix.\n\n\t* process.c (sigchld_handler): Change XSETFASTINT to XSETINT.\n\n\t* keyboard.c (Freset_this_command_lengths): New function.\n\t(before_command_key_count, before_command_echo_length)\n\t(before_command_restore_flag): New variables.\n\t(add_command_key): If requested, reset the lengths.\n\t(command_loop_1): Record current lengths before reading cmd.\n\t(read_char): Update the recorded length before echoing.\n\n\t* xfns.c (Fx_create_frame): Fix last arg to x_get_arg for Qdisplay.\n\n\t* s/linux.h (LIB_GCC): Fix previous change.\n\tIf we redefine it later, #undef it first.\n\n1995-06-18  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keyboard.c (quit_throw_to_read_char): Turn off the error check\n\ttesting poll_suppress_count.\n\n\t* s/linux.h (LIB_GCC): Define here, overriding Makefile.in.in,\n\tso as to use C_SWITCH_X_MACHINE.\n\n1995-06-17  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* m/alpha.h (SYSTEM_MALLOC): Definition deleted.\n\n\t* keymap.c (Vdefine_key_rebound_commands): New variable.\n\t(syms_of_keymap): Set up Lisp var.\n\t(Fdefine_key): Put new definition onto Vdefine_key_rebound_commands.\n\n\t* xmenu.c (menu_item_equiv_key): Do reconsider a command that had\n\tno equivalent before, if it is in Vdefine_key_rebound_commands.\n\n\t* data.c (Flocal_variable_if_set_p): New function.\n\t(syms_of_data): Call defsubr.\n\n\t* xdisp.c (display_text_line): Fill in charstart for end of buffer.\n\n1995-06-16  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* puresize.h [MULTI_FRAME] (BASE_PURESIZE): Increase to 315000.\n\n\t* frame.c (Fdelete_frame): Use do_switch_frame directly.\n\t(do_switch_frame): No longer static.\n\t* window.c (Fset_window_configuration): Use do_switch_frame directly.\n\t* keyboard.c (quit_throw_to_read_char): Use do_switch_frame directly.\n\t* lisp.h (do_switch_frame): Declare.\n\n1995-06-16  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* frame.c [MULTI_FRAME] (Fignore_event): New function.\n\t[MULTI_FRAME] (keys_of_frame): Bind iconify-frame and\n\tmake-frame-visible to it.\n\n1995-06-16  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* .gdbinit: Use long, not EMACS_INT.\n\tDo `set main' to make gdb_valbits etc. available.\n\n\t* frame.h (struct frame): New field icon_name.\n\t* xterm.h (struct x_display): icon_name deleted.\n\t* xfns.c (x_report_frame_params, x_set_icon_type, x_set_icon_name)\n\t(x_set_name, x_icon, Fx_create_frame): Use moved icon_name field.\n\t* alloc.c (mark_object): Mark icon_name field.\n\n1995-06-15  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* keyboard.h (struct kboard): Add Voverriding_terminal_local_map.\n\t* keyboard.c (init_kboard): Initialize it.\n\t(syms_of_keyboard): Defvar it.\n\t(read_key_sequence, menu_bar_items):\n\tCheck Voverriding_terminal_local_map before Voverriding_local_map.\n\t* doc.c (Fsubstitute_command_keys): Likewise.\n\t* keymap.c (Fkey_binding, describe_buffer_bindings): Likewise.\n\n\t* xdisp.c (Qoverriding_terminal_local_map): New variable.\n\t(syms_of_xdisp): staticpro it.\n\t(update_menu_bar): If we bind overriding-local-map, also bind\n\toverriding-terminal-local-map.\n\n\t* frame.c (Fhandle_switch_frame): Preserve prefix arg.\n\t* keyboard.c (command_loop_1): In special handling for commands\n\tthat create a prefix arg, don't handle commands that merely\n\tpreserve one that was previously created.\n\n\t* .gdbinit ($valmask): Use EMACS_INT, not int.\n\n\t* lisp.h (enum pvec_type): Don't use trailing comma.\n\n1995-06-15  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* m/alpha.h (malloc, realloc): If not _MALLOC_INTERNAL,\n\talways use void *.\n\n1995-06-15  Geoff Voelker  <voelker@cs.washington.edu>\n\n\t* callproc.c (call-process-region) [DOS_NT]: Use IS_DIRECTORY_SEP.\n\t(call-process-region) [WINDOWSNT]: Use proper temp file template.\n\n\t* ntproc.c (win32_spawnve): Accept program names without executable\n\tsuffixes.\n\n\t* makefile.nt (TRES) [MSVCNT11]: Use emacs.res, and don't compile it.\n\n1995-06-15  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* m/alpha.h (LD_SWITCH_MACHINE): Don't define it.\n\t(malloc, realloc): If non-ANSI C, declare value as char *.\n\n1995-06-14  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* sysdep.c (emacs_set_tty): Swap TCSETAF and TCSETAW.\n\tRename arg waitp to flushp.\n\n1995-06-14  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* callint.c (Fprefix_numeric_value): Fix type check.\n\n\t* keyboard.c (command_loop_1): Clear prefix arg (undo Feb 1 change).\n\n1995-06-14  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* data.c (Flocal_variable_p): Fix backwards logical operator.\n\n1995-06-14  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* m/intel386.h: If NOT_C_CODE, don't include alloca.h.\n\t[!__GNUC__] (C_SWITCH_MACHINE): Disable this; it seems to confuse cpp.\n\n1995-06-14  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* frame.c (Fdelete_frame): If the minibuf window was selected,\n\tmake that remain so.\n\n\t* process.c (status_notify): Undo May 18 change.\n\tSet update_tick at the beginning not at end.\n\n\t* buffer.c (Fprevious_overlay_change): Check for overlays that\n\tend at POS.\n\n1995-06-13  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xfns.c (syms_of_xfns): Initialize Vx_no_window_manager.  Doc fix.\n\n1995-06-13  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* m/ibmrs6000.h (LIBS_MACHINE): Use -lpthreads, not -lpthread.\n\t* config.h.in (HAVE_LIBPTHREADS): Add #undef.\n\n1995-06-12  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>\n\n\t* mem-limits.h [_LIBC] (start_of_data): Define to &__data_start\n\tfor GNU libc.\n\n1995-06-11  Richard Stallman  <rms@gnu.ai.mit.edu>\n\n\t* xmenu.c (frame_vector_add_frame): Don't forget to store\n\tthe longer vector.\n\n\t* xterm.h (struct x_display): New field asked_for_visible.\n\t* xterm.c (x_make_frame_visible): Test and set asked_for_visible.\n\n\t* widget.c (EmacsFrameSetCharSize): Manually alter the height\n\tand width of the outer widget (and the width of the column widget)\n\tcarefully using deltas.\n\tSet update_hints_inhibit nonzero while updating.\n\tThen call update_wm_hints explicitly.\n\t(update_wm_hints): Use 0 for min_rows, min_cols.\n\tDo nothing if update_hints_inhibit is nonzero.\n\n\t* xterm.c: Include widget.h.\n\t(x_wm_set_size_hint) [USE_X_TOOLKIT]:\n\tGet the size from the outer widget.\n\tCopy the base and minimum sizes from the old hint.\n\n\t* xfns.c [USE_X_TOOLKIT] (x_window): If using Motif,\n\tadd some extra to sizes, for consistent behavior.\n\n1995-06-10  Richard Stallman  <rms@gnu.ai.mit.edu>\n\n\t* dispnew.c (Fframe_or_buffer_changed_p): Calculate vector size right.\n\tAdd hysteresis when making it larger.  Fill it up reliably\n\tand check at the end for overflowing it.\n\t(syms_of_display): Make frame_and_buffer_state initially with 20 elts.\n\n\t* keyboard.c (read_char_minibuf_menu_prompt):\n\tIf the char to type doesn't match the prompt string,\n\tshow the char explicitly.\n\n1995-06-10  Geoff Voelker  <voelker@cs.washington.edu>\n\n\t* ntterm.c, ntproc.c, nt.c: Include config.h before stdio.h.\n\n1995-06-09  Geoff Voelker  <voelker@cs.washington.edu>\n\n\t* makefile.nt (TEMACS): Depend upon $(BLD).\n\t(temacs): Remove $(BLD) dependency.\n\n1995-06-09  Richard Stallman  <rms@gnu.ai.mit.edu>\n\n\t* xterm.c (x_get_keysym_name): New function.\n\t* keyboard.c (modify_event_symbol): Mask out high bits here,\n\tand only for certain purposes.  table_size now unsigned.\n\t(modify_event_symbol) [HAVE_X_WINDOWS]: Use x_get_keysym_name.\n\t(make_lispy_event): Don't mask high bits here.\n\tSupply -1 as table_size for system-specific keys.\n\n\t* xdisp.c (update_menu_bar): Use set_buffer_internal_1 to switch bufs.\n\tRun the hooks in the proper buffer.\n\tNormally bind overriding-local-map to nil.\n\t(Qoverriding_local_map): New variable.\n\t(syms_of_xdisp): staticpro it.\n\n1995-06-09  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* keyboard.h (struct kboard): New member system_key_syms.\n\t* alloc.c (mark_kboards): Mark it.\n\t* keyboard.c (system_key_syms): Deleted; now part of struct kboard.\n\t(make_lispy_event): Use the struct member.\n\t(init_kboard): Initialize it.\n\t(syms_of_keyboard): Delete initialization and staticpro.\n\n\t* Makefile.in.in (SOURCES): Makefile isn't source; Makefile.in.in is.\n\n1995-06-08  Richard Stallman  <rms@gnu.ai.mit.edu>\n\n\t* keyboard.c (Fevent_convert_list): Renamed from\n\tconvert_event_type_list.\n\t(syms_of_keyboard): defsubr it.\n\t* keymap.c (Flookup_key, Fdefine_key): Use Fevent_convert_list.\n\n\t* xmenu.c (xmenu_show): Do call lw_destroy_all_widgets.\n\t(xdialog_show): Likewise.\n\t(popup_get_selection): Don't call it here.\n\n\t* search.c (Freplace_match): Fix check for valid reg in string replace.\n\tDo the right thing with backslash.\n\n\t* keyboard.c (Vhelp_event_list): New var.\n\t(syms_of_keyboard): Set up Lisp var.\n\t(help_char_p): New function.\n\t(read_char, echo_char, read_key_sequence): Use help_char_p.\n\n\t* keyboard.h (Vlucid_menu_bar_dirty_flag): Declare this variable.\n\t(Qrecompute_lucid_menubar, Qactivate_menubar_hook): Likewise.\n\n\t* keyboard.c (read_key_sequence): Don't run activate-menubar-hook\n\tor call recompute-lucid-menubar.\n\n\t* xdisp.c (update_menu_bar): Run activate-menubar-hook\n\tand call recompute-lucid-menubar.\n\n1995-06-08  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* commands.h (last_command): Declaration deleted.\n\t* keyboard.h (struct kboard): New member Vlast_command.\n\t* keyboard.c (last_command): Var deleted; now part of struct kboard.\n\t(init_kboard): Initialize it.\n\t(syms_of_keyboard): Defvar it.\n\t(command_loop_1): Make last_command be kboard-local.\n\t* cmds.c (internal_self_insert): Likewise.\n\t* minibuf.c (Fminibuffer_complete): Likewise.\n\n\t* m/ibmrs6000.h (LIBS_MACHINE): Use -lpthread if it exists.\n\n\t* m/alpha.h (LIBS_MACHINE): Define to -ldnet or -ldnet_stub.\n\n\t* s/msdos.h (SYSTEM_PURESIZE_EXTRA) [!HAVE_X_WINDOWS]:\n\tIncrease to 62000.\n\n\t* process.c [!subprocesses]: Include sysselect.h.\n\n\t* xmenu.c (xmenu_show): If !HAVE_X_WINDOWS, don't reference X display.\n\n1995-06-07  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* keyboard.h (struct kboard): member Vprefix_arg restored, replacing\n\tprefix_factor, prefix_value, prefix_sign, and prefix_partial.\n\t* callint.c (current_prefix_partial): Deleted.\n\t(Vprefix_arg): Deleted; not part of struct kboard again.\n\t(Funiversal_argument, Fnegative_argument, Fdigit_argument)\n\t(clear_prefix_arg, finalize_prefix_arg, describe_prefix_arg): Deleted.\n\t(syms_of_callint): Use DEFVAR_KBOARD for Vprefix_arg.\n\tRemove defsubrs for deleted functions.\n\t* lisp.h: Remove declarations for deleted vars and functions.\n\t* alloc.c (mark_kboards): Mark Vprefix_arg instead of\n\tprefix_factor and prefix_value.\n\t* macros.c (Fexecute_kbd_macro): Vprefix_arg is now part of kboard.\n\t* keyboard.c (cmd_error, command_loop_1, Fcommand_execute)\n\t(Fexecute_extended_command, init_kboard, syms_of_keyboard):\n\tUndo Feb 28 change; prefix arg handling is now in Lisp code again.\n\n\t* buffer.c (syms_of_buffer): Doc fix.\n\n\t* buffer.c (Fbuffer_disable_undo): Make this function interactive.\n\n1995-06-07  Richard Stallman  <rms@gnu.ai.mit.edu>\n\n\t* data.c (Flocal_variable_p): New optional arg BUFFER.\n\tReally check whether var is local in *that* buffer.\n\n\t* xfns.c (x_real_positions): Uncatch and recatch X errors in the loop.\n\n\t* filelock.c (unlock_file, lock_file): Call Fexpand_file_name.\n\n1995-06-05  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* Makefile.in.in (TOOLKIT_DEFINES): Define.\n\t(ALL_CFLAGS): Insert $(TOOLKIT_DEFINES) here.\n\t* xfns.c (syms_of_xfns): Provide motif in Motif version.\n\n\t* lisp.h (Fwaiting_for_user_input_p): Function declared.\n\t(Fupcase_initials, Fupcase_initials_region): Likewise.\n\t(Fplist_get, get_local_map, Fx_popup_menu, Fx_popup_dialog): Likewise.\n\t(Fframe_first_window): Likewise.\n\t* keyboard.c (cmd_error): Use NULL, not 0, as arg to\n\tcmd_error_internal.\n\t(menu_bar_items): Likewise, for arg of current_minor_maps.\n\t(record_char): Add cast.\n\t* indent.c (Fvertical_motion): Add cast.\n\t* undo.c (record_insert): Change args to be ints, not Lisp_Objects.\n\t* casefiddle.c (casify_region): Use explicit local vars for start\n\tand end, so that the type will be correct.\n\t(operate_on_word): Likewise for iarg in this function.\n\t(upcase_initials, upcase_initials_region): Deleted; these were\n\tredundant copies of Fupcase_initials and Fupcase_initials_region.\n\t* abbrev.c (Fexpand_abbrev): Call to upcase_initials_region\n\tchanged to Fupcase_initials_region for consistency.\n\t* search.c (Freplace_match): Likewise.\n\t* alloc.c: Declare sbrk.\n\n\t* xdisp.c: Include keyboard.h.\n\n\t* s/irix5-0.h (POSIX_SIGNALS): Defined.\n\n1995-06-03  Richard Stallman  <rms@gnu.ai.mit.edu>\n\n\t* xterm.c (x_wm_set_icon_pixmap): Set IconPixmapHint in both cases.\n\n\t* buffer.c (Fkill_buffer): When killing indirect buffer,\n\tunchain that buffer's markers (only) from the common chain.\n\tDon't rekill this buffer's indirect buffers that are dead.\n\tDo nothing if this buffer is already dead.\n\n1995-06-03  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* editfns.c (Fencode_time): Doc fix.\n\n\t* fns.c (NULL): Define if not defined.\n\n1995-06-02  Richard Stallman  <rms@gnu.ai.mit.edu>\n\n\t* xfns.c (Fx_create_frame): Make sure icon_name is a string or nil.\n\n\t* xterm.h (struct x_display): Rename icon_label to icon_name\n\tand make it a Lisp_Object.\n\n\t* xfns.c (Qicon_name): New variable.\n\t(Fx_create_frame): Look for icon-name parm and set icon_label field.\n\t(x_set_icon_type): Compute arg to x_text_icon\n\tbased on frame name and icon_name fields.\n\t(x_set_icon_name): New function.\n\t(x_icon): Call x_text_icon.\n\t(x_set_name): Look at icon_name field when setting the icon name.\n\t(x_frame_parms): Add icon-name.\n\t(syms_of_xfns): Set up Qicon_name.\n\n\t* xterm.c (x_text_icon): Do call XSetIconName or XSetWMIconName.\n\tDon't save ICON_NAME anywhere.\n\n\t* sysdep.c (old_tty_valid): New variable.\n\t(init_sys_modes): Set old_tty_valid if we set old_tty.\n\t(reset_sys_modes): Restore tty settings only if old_tty_valid.\n\n\t* term.c (cursor_to, clear_to_end_of_line_raw):\n\tIf chars_wasted is 0, do nothing.\n\t(clear_end_of_line): Don't die if chars_wasted is 0.\n\n\t* search.c (trivial_regexp_p): = is special after \\.\n\n\t* s/ptx.h (HAVE_SELECT, HAVE_TIMEVAL): Definitions deleted.\n\n1995-06-01  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* xfns.c (x_destroy_bitmap): Block and unblock input.\n\t(Fx_horizontal_line): Add one UNBLOCK_INPUT to fix a misbalance,\n\tand move another one to include the call to XFreeGC, in case we\n\tsomeday remove the \"#if 0\" conditions.\n\t* widget.c (EmacsFrameDestroy): Block and unblock input.\n\n1995-05-31  Richard Stallman  <rms@gnu.ai.mit.edu>\n\n\t* xfns.c (x_display_info_for_name): Fix error message.\n\t(Fx_open_connection): Fix error messages.\n\n1995-05-30  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* s/sol2-4.h (LD_SWITCH_SYSTEM): Copied back from s/sol2-3.h;\n\tadded references to /usr/dt/lib.\n\n\t* xfns.c (syms_of_xfns): Allow PATH_BITMAPS to be a\n\tcolon-separated list.\n\n\t* editfns.c (syms_of_editfns): user-login-name renamed from user-name.\n\tuser-real-login-name renamed from user-real-name.\n\tC names changed to Vuser_real_login_name, Vuser_login_name as well.\n\t* nt.c: Change Vuser_real_name to Vuser_real_login_name.\n\n1995-05-30  Richard Stallman  <rms@gnu.ai.mit.edu>\n\n\t* xfns.c (x_top_window_to_frame): Don't match menu-bar widget.\n\n\t* xdisp.c (update_menu_bar): Reverse test of save_match_data.\n\n\t* xmenu.c (set_frame_menubar): Always call update_frame_menubar.\n\n\t* xfns.c (x_window): Use applicationShellWidgetClass,\n\tnot topLevelShellWidgetClass.  Call lw_set_main_areas after\n\tcreating the menubar widget.\n\n1995-05-29  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* xdisp.c (update_menu_bar): Do update if region display has changed.\n\n\t* frame.c (make_frame_without_minibuffer): New arg DISPLAY.\n\tIf there's no minibuffer frame to use, create one.\n\t* xfns.c (Fx_create_frame): Pass new arg to\n\tmake_frame_without_minibuffer.\n\n\t* fns.c (Frandom): Use EMACS_INT, not int.\n\tUse NULL, not 0, as arg of `time'.\n\n\t* frame.c: Declare x_get_focus_frame.\n\t(Fmouse_position): Use NULL, not 0, as arg of pixel_to_glyph_coords.\n\t* keyboard.c (make_lispy_event, make_lispy_movement): Likewise.\n\n1995-05-29  Richard Stallman  <rms@gnu.ai.mit.edu>\n\n\t* xterm.c (XTread_socket) [USE_X_TOOLKIT]: Do pass MotionNotify events\n\tto the toolkit.\n\n\t* keyboard.c (Fset_input_mode): When read_socket_hook, ignore\n\twhat the user specified, and set interrupt_input in the preferred\n\tway for this system.\n\n\t* xterm.c (x_term_init): Call init_sigio only if interrupt_input.\n\n1995-05-28  Morten Welinder  <terra+@cs.cmu.edu>\n\n\t* s/osf1.h (COFF): Define.\n\t* m/alpha.h (LD_SWITCH_MACHINE) [!__GNUC__]: Don't define.\n\t(r_alloc, r_re_alloc, r_alloc_free) [REL_ALLOC,\n\t!_MALLOC_INTERNAL, !NOT_C_CODE]: Prototype.\n\n1995-05-28  Richard Stallman  <rms@gnu.ai.mit.edu>\n\n\t* xterm.c (x_set_offset): Distinguish CHANGE_GRAVITY < 0 case.\n\t* xfns.c (x_set_frame_parameters): Pass -1 to x_set_offset.\n\n\t* xfns.c (x_report_frame_params): Report top and left\n\tin a way that represents negative offsets correctly.\n\n\t* syntax.c (describe_syntax_1): Pass new arg to describe_vector.\n\n\t* keymap.c (describe_vector): New arg entire_map.\n\tDon't show bindings shadowed earlier on in the same map.\n\t(Fdescribe_vector, describe_map): Pass new arg.\n\n\t* xdisp.c (redisplay_window): Don't use try_window_id if\n\tnewline has a display table entry.\n\n\t* xdisp.c (update_menu_bar):\n\tCall set_frame_menubar with proper buffer current.\n\n1995-05-26  Geoff Voelker  <voelker@cs.washington.edu>\n\n\t* lread.c (init_lread) [CANNOT_DUMP]: Set Vload_path to EMACSLOADPATH.\n\n1995-05-26  Richard Stallman  <rms@gnu.ai.mit.edu>\n\n\t* xfns.c (x_window): Call initialize_frame_menubar\n\tnear the end, after UNBLOCK_INPUT.\n\n\t* xmenu.c (popup_get_selection): Force deactivation if key pressed.\n\tNew arg `id'.\n\t(xdialog_show, xmenu_show): Pass new arg to popup_get_selection.\n\t* xterm.c (XTread_socket): Don't call popup_get_selection here.\n\n1995-05-26  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* sysdep.c (VFORK_RETURN_TYPE): Use int if not already defined.\n\t(vfork): Declare the return type.\n\t* s/sol2-3.h (HAVE_VFORK): Moved here from s/sol2-4.h.\n\t(VFORK_RETURN_TYPE): Defined.\n\t* s/sol2-4.h (HAVE_VFORK): Moved to s/sol2-3.h.\n\t(pid_t): Deleted; s/sol2-3.h now defines a symbol for this.\n\n\t* xdisp.c (x_consider_frame_title): Use FRAME_KBOARD.\n\n1995-05-26  Geoff Voelker  <voelker@cs.washington.edu>\n\n\t* s/windows95.h: New file.\n\n\t* ntheap.h (get_data_region_base): Undefined.\n\t(get_reserved_heap_size): Use reserved_heap_size.\n\t(reserved_heap_size): Declared.\n\t* ntheap.c (reserved_heap_size,allocate_heap): Defined.\n\t(sbrk): Use allocate_heap.\n\n\t* ntterm.c (set_terminal_modes): Set cursor size appropriate for\n\tWindows 95.\n\t(write_glyphs): Don't memset attrs, which is a word array.\n\n\t* nt.c (configuration_buffer): Increase size.\n\t(get_emacs_configuration) [WINDOWS95]: Use appropriate string.\n\t(prepare_standard_handles) [WINDOWS95]: Disable subprocesses.\n\t(reset_standard_handles): Check error number on failure.\n\n\t* makefile.nt (LIBS): Use BASE_LIBS and ADVAPI32.\n\t(config.h,paths.h): Use $(CP) instead of cp.\n\t(config.h): Use $(CONFIG_H).\n\t(EMACS) [WINDOWS95]: Don't dump temacs.exe.\n\t(clean): Cleanup MSVC files and config.h.\n\t(cleandump): Separate commands onto multiple lines.\n\tCleanup comments.\n\n1995-05-26  Michael Ernst  <mernst@research.microsoft.com>\n\n\t* emacs.c (standard_args): -i, -itype, --icon-type take 0, not 1, args\n\n1995-05-25  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* process.c (create_process, send_process): Add volatile qualifiers.\n\t(wait_reading_process_input) [both versions]: Cast args of select.\n\n\t* syntax.c (scan_lists): Make stringterm an unsigned char.\n\n\t* dispnew.c (change_frame_size_1): Declare arg DELAY.\n\n\t* insdel.c (adjust_point): Declare arg AMOUNT.\n\n\t* lisp.h (do_symval_forwarding): Declare this function.\n\t(frame_buffer_predicate, Foverlay_start, Foverlay_end): Ditto.\n\t(Fprevious_single_property_change, Fend_of_line, Felt): Ditto.\n\t(Fforward_line, Fforward_word, Fdelete_region, Fforward_char): Ditto.\n\t(Fnarrow_to_region, Fwiden, Fmatch_beginning, Fmatch_end): Ditto.\n\t(Fskip_chars_forward, Fskip_chars_backward): Ditto.\n\t(Ffile_name_absolute_p, read_doc_string): Ditto.\n\t(get_frame_param, store_frame_param, store_in_alist): Ditto.\n\t(describe_map_tree): Declaration moved here from keymap.c.\n\t* keymap.c (describe_map_tree): Move declaration to lisp.h.\n\n\t* doc.c (Fsubstitute_command_keys): Cast arg of describe_map_tree.\n\t* frame.c [MULTI_FRAME] (Fmouse_position): Cast arg of\n\tpixel_to_glyph_coords.\n\t* callint.c (Fcall_interactively): Cast arg of doprnt.\n\t* editfns.c (format1): Likewise.\n\t* xdisp.c (message): Likewise.\n\t(scroll_bottom_vpos, fmodetrunc): Declarations deleted.\n\n1995-05-25  Richard Stallman  <rms@gnu.ai.mit.edu>\n\n\t* dispnew.c (Fframe_or_buffer_changed_p): Record frame names\n\tas well as the frame objects.\n\n\t* xterm.c (XTread_socket):\n\tFor MapNotify, call record_asynch_buffer_change.\n\n\t* xdisp.c (prepare_menu_bars): Update frame titles before menu bars.\n\n\t* xfns.c (Fx_get_resource): Major rewrite to make it clearer.\n\t(validate_x_resource_name): Use build_string, not make_string.\n\t(Fx_create_frame): Initially use Vinvocation_name as resource name.\n\tSwitch to frame name if frame name is explicit.\n\t(x_display_info_for_name, Fx_open_connection): Add casts.\n\tInitially use Vinvocation_name as resource name.\n\t[USE_X_TOOLKIT] (x_window): Use Vx_resource_name for widget names.\n\n\t* xmenu.c (xmenu_show, xdialog_show): Increment widget_id_tick\n\tin the same way as in xfns.c.  Use LWLIB_ID type where appropriate.\n\t(set_frame_menubar, free_frame_menubar): Add casts to LWLIB_ID.\n\n\t* xterm.c (XTflash): Use pointers as args to select.\n\t(XTread_socket, x_set_offset, x_set_window_size)\n\t(x_make_frame_invisible): Cast 2nd arg to x_wm_set_size_hint.\n\t(XTclear_end_of_line): Don't specify return type.\n\t(note_mouse_highlight): Declare args x and y.\n\t(x_icon_type): New declaration.\n\t(flashback): Declaration deleted.\n\n1995-05-24  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* lisp.h (menu_bar_items): Declare this function.\n\n1995-05-24  Richard Stallman  <rms@gnu.ai.mit.edu>\n\n\t* xmenu.c (Fx_popup_dialog): Treat (menu-bar) like t, for POSITION.\n\n\t* frame.c (Fdelete_frame): When updating Vdefault_minibuffer_frame,\n\tinsist on a frame on the proper keyboard.\n\n\t* xterm.c (x_connection_closed): Unblock input, first thing.\n\tSet Vdefault_minibuffer_frame to t\n\tbefore deleting a frame that might have its own minibuffer.\n\n1995-05-23  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* xfns.c (hack_wm_protocols): Use cast instead of suffix.\n\n1995-05-23  Richard Stallman  <rms@gnu.ai.mit.edu>\n\n\t* xfns.c (x_set_frame_parameters): Pass 1 as change_gravity\n\twhen calling x_set_offset.\n\t(x_real_positions): Don't add border_width into win_x, win_y.\n\t* xterm.c (x_set_offset): Add border_width when calling XMoveWindow.\n\n\t* xterm.h (struct x_display): New field menubar_height.\n\t* xmenu.c (set_frame_menubar): Set menubar_height field.\n\t* xfns.c (x_window) [both versions]: Set menubar_height.\n\n\t* xfns.c [USE_X_TOOLKIT] (x_window): Don't call XMoveWindow\n\tor x_calc_absolute_position.  Do use the border_width.\n\n\t* xterm.c (x_calc_absolute_position): Use menubar_height field.\n\tIn toolkit case, use outermost Emacs widget and its parent.\n\t[USE_X_TOOLKIT] (x_make_frame_visible): Do call x_set_offset.\n\n\n\t* xfns.c [USE_X_TOOLKIT] (x_window): Pass position to toolkit\n\tonly if user-specified.  But always use XMoveWindow to move the\n\twindow to that position.\n\n\t* alloc.c (Fgarbage_collect): Clear consing_since_gc first thing.\n\n\t* xdisp.c (redisplay_window): Use set_buffer_internal_1.\n\n\t* buffer.c (set_buffer_internal_1): New subroutine.\n\t(Fmove_overlay): Don't set windows_or_buffers_changed.\n\n1995-05-22  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* xselect.c (x_get_window_property): Cast args of XGetWindowProperty.\n\t* xfaces.c (unload_color): Cast args of XFreeColors.\n\t* xfns.c (hack_wm_protocols): Cast args of XGetWindowProperty.\n\t(x_set_border_pixel): Cast args of XSetWindowBorder.\n\t* widget.c (create_frame_gcs): Cast args of XCreateGC.\n\t(setup_frame_gcs): Cast args of XCreatePixmapFromBitmapData.\n\n\t* data.c (long_to_cons): Don't assume 32-bit longs.\n\t* fileio.c (Fvisited_file_modtime): Cast arg of long_to_cons.\n\n\t* editfns.c (Fformat): Split double into two pointers, not two ints.\n\n\t* s/hpux9.h: Delete HAVE_FMOD; configure handles that correctly now.\n\n1995-05-22  Richard Stallman  <rms@waves>\n\n\t* xdisp.c (display_text_line): Enter a char in charstarts\n\tat the very end of the character loop.\n\tEnter newline or ^M (if selective display) separately.\n\n\t* lisp.h (gdb_lisp_params): New enum type.\n\t* .gdbinit: Use gdb_lisp_params to get storage layout info.\n\tSet and use $valmask and $nonvalbits.\n\n\t* lread.c (oblookup): Delete argument hashp.\n\n1995-05-19  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* floatfns.c (Flogb): frexp needs a pointer to int, not EMACS_INT.\n\n1995-05-19  Richard Stallman  <rms@waves>\n\n\t* dispnew.c (buffer_posn_from_coords): Don't let startp be before BEGV.\n\n1995-05-18  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* indent.c (compute_motion): Handle overlay strings.\n\tNew arg DID_MOTION.  All callers changed.\n\t* dispnew.c, window.c: Add new argument to calls of compute_motion.\n\t* xdisp.c: Add new argument to calls of compute_motion.\n\t(zv_strings_seen): New variable.\n\t(redisplay, try_window, try_window_id): Clear zv_strings_seen.\n\t(display_text_line): Handle overlay strings.\n\n1995-05-18  Richard Stallman  <rms@waves>\n\n\t* s/sol2-4.h: Undo previous change.\n\n\t* emacs.c (Fkill_emacs): Delete the auto-save-list file\n\tafter shut_down_emacs.\n\n\t* process.c (status_notify): If Vprocess_alist changes within\n\tthe loop, do the whole loop again.\n\n1995-05-17  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* emacs.c (Fdump_emacs): Don't take address of array.\n\n\t* buffer.c (Fmake_indirect_buffer): Fix interactive spec.\n\n\t* Makefile.in.in (SOURCES): Fix reference to ymakefile.\n\n\t* keyboard.c (syms_of_keyboard): Always define track-mouse.\n\t(do_mouse_tracking): Always declare this var.\n\n1995-05-15  Marcus G. Daniels  <marcus@ee.pdx.edu>\n\n\t* s/linux.h: Test _STDIO_USES_IOSTREAM as well as _IO_STDIO_H.\n\t[__ELF__] (START_FILES, LIB_STANDARD, LIB_GCC, UNEXEC): Define these.\n\t[__ELF__] (UNEXEC_USE_MAP_PRIVATE): Define this.\n\n\t* unexelf.c (unexec) [UNEXEC_USE_MAP_PRIVATE]: New logic for\n\tsystems that don't support MAP_SHARED with PROT_WRITE.\n\n1995-05-15  Richard Stallman  <rms@churchy.gnu.ai.mit.edu>\n\n\t* s/sol2-4.h (LD_SWITCH_SYSTEM): Define.\n\n1995-05-15  Simon Leinen  <simon@lia.di.epfl.ch>\n\n\t* indent.c (vmotion): handle the case where `minibuf_prompt' is nil.\n\n1995-05-12  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* indent.c (vmotion): Simplify.  Replace last three args with a single\n\tstruct window *.  All callers changed.\n\t* xdisp.c (minmax): New macro.\n\t(redisplay, redisplay_window, try_window_id): Clip cursor hpos at both\n\tlow and high extremes, in anticipation of a change to compute_motion.\n\n\t* xterm.c (Qvendor_specific_keysyms): New var.\n\t(syms_of_xterm): Initialize and staticpro it.\n\t(x_term_init): Initialize Vsystem_key_alist according to vendor.\n\n\t* emacs.c (main) [NeXT]: Add missing braces.\n\n1995-05-11  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* sysdep.c (init_system_name): Clean up signedness mismatch.\n\t* unexelf.c (unexec): Fix type mismatch.\n\t* print.c (float_to_string): Fix type mismatch and simplify.\n\n\t* dispnew.c [!MULTI_FRAME] (Fredraw_frame): Delete extra docstring.\n\t* frame.c [!MULTI_FRAME] (Fframe_height, Frame_width): Likewise.\n\n1995-05-09  enami tsugutomo  <enami@sys.ptg.sony.co.jp>\n\n\t* window.c [MULTI_FRAME] (init_window_once): Set Vterminal_frame\n\tto selected_frame.\n\t* frame.c [MULTI_FRAME] (make_terminal_frame): Don't set\n\tVterminal_frame.\n\t(do_switch_frame): Set Vterminal_frame to selected_frame.\n\n1995-05-08  Andreas Schwab  <schwab@issan.informatik.uni-dortmund.de>\n\n\t* Makefile.in.in (VMS_SUPPORT): Add missing `.elc'.\n\t(SOME_MACHINE_LISP): New variable.\n\t(${etc}DOC): Use it.\n\n\t* buffer.c (syms_of_buffer): Doc fix.\n\n\t* frame.c (frame-height, frame-width, set-screen-height,\n\tset-screen-width, termal-frame) [!MULTI_FRAME]: Delete doc strings.\n\n1995-05-08  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* keyboard.c (init_kboard): Initialize Vdefault_minibuffer_frame.\n\t* keyboard.h (struct kboard): New member Vdefault_minibuffer_frame.\n\t* frame.c: Vdefault_minibuffer_frame is now part of KBOARD instead\n\tof a variable.  All references changed.\n\t(make_frame_without_minibuffer): New arg KB.\n\tRequire the new frame's minibuffer to be on the same display.\n\t* xfns.c (Fx_create_frame): Pass kb to make_frame_without_minibuffer.\n\n\t* xdisp.c (x_consider_frame_title): When setting multiple_frames,\n\tignore invisible frames and frames on other displays.\n\n\t* keyboard.c [MULTI_KBOARD] (read_char): If the character was for\n\tthe wrong kboard, don't let it get processed twice.\n\n1995-05-08  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* callproc.c (Fcall_process): Keep reading till buffer is nearly full.\n\n\t* emacs.c (Fdump_emacs): Don't use & before my_edata.\n\n1995-05-08  Francesco Potort\u00ec  (pot@cnuce.cnr.it)\n\n\t* m/delta.h (C_SWITCH_MACHINE): Let configure decide if this is\n\ta 68040 or 68030.  Don't condition on __STDC__.\n\n1995-05-08  enami tsugutomo  <enami@sys.ptg.sony.co.jp>\n\n\t* frame.c (Fraise_frame, Flower_frame): Make arg FRAME optional.\n\n\t* keyboard.c (Fread_key_sequence): Doc fix.\n\n1995-05-08  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* window.c (Fdisplay_buffer): Initialize other, upper, lower.\n\n1995-05-07  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* lisp.h (Fmatch_data, Fstore_match_data): Declared.\n\n\t* xdisp.c (prepare_menu_bars): Save and restore the match data.\n\t(update_menu_bar): New arg save_match_data.\n\tMaybe save and restore match data here.\n\n1995-05-07  Geoff Voelker  <voelker@cs.washington.edu>\n\n\t* makefile.nt (region-cache.obj,vm-limit.obj): Dependencies defined.\n\t(OBJ1): Don't compile xfaces.c.\n\t(buffer.obj,indent.obj,search.obj): Add region-cache.h dependency.\n\n1995-05-07  Paul Eggert  <eggert@twinsun.com>\n\n\t* data.c (Fmod): Fix the final adjustment, when f2 < 0 and f1 == 0.\n\n\t* lread.c (isfloat_string): Reject strings like \"0.5+\".\n\n1995-05-07  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* process.c (wait_reading_process_input): Pass arg in new call to\n\tset_waiting_for_input.\n\n\t* xfns.c (Funfocus_frame): Check for live X frame.\n\n\t* lread.c (init_lread): Don't warn about missing installation dirs\n\twhen using dirs derived from the executable.\n\n1995-05-06  Geoff Voelker  <voelker@cs.washington.edu>\n\n\t* makefile.nt (TRES): Defined.\n\t(TLIB1,TLIB2): Created out of TLIB.\n\t(TLIB): Split to reduce time to do library updates.\n\t(DOC): Use DOC-X.\n\t(strftime.obj): Compile with -Dstrftime=emacs_strftime.\n\n1995-05-06  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* window.c (syms_of_window): Doc fix.\n\t(temp_output_buffer_show): If we use Vtemp_buffer_show_function,\n\tdo nothing else.\n\n\t* s/bsd386.h (GETPGRP_NO_ARG): New definition.\n\t(BSD): Include sys/param.h instead of redefining BSD.\n\tBut do this only if emacs is defined.\n\n\t* lisp.h (gc_cons_threshold): Change back to int.\n\t* alloc.c (gc_cons_threshold): Change back to int.\n\t(min): New macro.\n\t(inhibit_garbage_collection): Don't exceed value an int can hold.\n\n\t* xdisp.c (prepare_menu_bars): Clear size-change flag before running\n\tsize-change functions.\n\t(scroll_step, debug_end_pos, line_number_display_limit): Now static.\n\n1995-05-05  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* emacs.c (Fdump_emacs_data): Don't use & before my_edata.\n\n\t* editfns.c (Fencode_time): Rename arg from min to minute.\n\t(days_per_month): Move variable to top level.\n\n\t* process.c (wait_reading_process_input): Don't call prepare_menu_bars.\n\tClear waiting_for_input around calling redisplay_preserve_echo_area.\n\n\t* xfns.c [USE_X_TOOLKIT] (x_window): Always pass position in geometry.\n\tSet XtNmappedWhenManaged to 0 for shell_widget.\n\t(Fx_create_frame): Always call x_wm_set_size_hints.\n\n\t* s/sol2-4.h (HAVE_VFORK): Add #undef.\n\n\t* s/netbsd.h (GETPGRP_NO_ARG): Defined.\n\n1995-05-04  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* s/freebsd.h (GETPGRP_NO_ARG): Define.\n\t(HAVE_GETPAGESIZE): Definition deleted.\n\n\t* data.c (store_symval_forwarding): Error if value out of range\n\tfor an integer variable.\n\t(Fstring_to_number): Avoid using make_number to return value.\n\tMaybe use atol.\n\n1995-05-04  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* buffer.c (Qbefore_string, Qafter_string): New vars.\n\t(syms_of_buffer): Initialize and staticpro them.\n\t(cmp_for_strings, overlay_strings): New functions.\n\n1995-05-04  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* indent.c (string_display_width): Renamed from string_width.\n\t(vmotion): Use new name.\n\n\t* s/sco4.h [!__GNUC__] (LINKER): Defined.\n\n\t* insdel.c (make_gap): Don't allow buffer size that won't fit in int.\n\tMake this new error check also check exceeding VALBITS.\n\t(insert_1): Delete old error test.\n\t(min): New macro.\n\n\t* Makefile.in.in (${etc}DOC): Put SOME_MACHINE_OBJECTS before obj.\n\n\t* xfaces.c (region_face, next_face_id): Make static.\n\n\t* xselect.c (Vselection_converter_alist, x_selection_timeout)\n\t(Vx_sent_selection_hooks, Vx_lost_selection_hooks, Vselection_alist):\n\tMake static.\n\n\t* alloc.c (inhibit_garbage_collection):\n\tUse XSETINT, and do arithmetic in type EMACS_INT.\n\n\t* s/hpux9.h (HAVE_FMOD): Defined.\n\n\t* sysdep.c (bcmp, bcopy): Fix backward BSTRING conditionals.\n\n\t* emacs.c (Fkill_emacs): Delete the Vauto_save_list_file_name file.\n\n1995-05-04  Morten Welinder  <terra+@cs.cmu.edu>\n\n\t* data.c (arith_driver): Make accum and next EMACS_INTs.\n\t(Fmod): i1 and i2 are EMACS_INT.\n\n\t* editfns.c (Fformat): Allow 30 characters in the printed version\n\tof integers and floats.\n\n\t* print.c (print): Handle long EMACS_INT in sprintf.\n\t* keyboard.c (Fexecute_extended_command):\n\tHandle long EMACS_INT in sprintf.\n\t* lread.c (read1): Handle long EMACS_INT in atol.\n\t* doprnt.c (doprnt): Handle long EMACS_INT in sprintf.\n\t* data.c (Fnumber_to_string, Fstring_to_number):\n\tHandle long EMACS_INT in sprintf and atol.\n\n\t* process.c (list_processes_1): Cast XFASTINT for passing to sprintf.\n\n\t* m/alpha.h (bcopy, bzero, bcmp): Don't let string.h prototype these.\n\n1995-05-03  Morten Welinder  <terra+@cs.cmu.edu>\n\n\t* keyboard.c (parse_modifiers, apply_modifiers): Don't assume\n\t32-bit EMACS_INT.\n\t(parse_modifiers): modifiers is an int, not an EMACS_INT.\n\t(read_key_sequence): Pass modifiers as int, not EMACS_INT.\n\n\t* buffer.h (Fdelete_overlay): Was mistakenly called Fdelete_overlays.\n\n\t* lisp.h (gc_cons_threshold): Make this an EMACS_INT.\n\n\t* alloc.c (gc_cons_threshold): Make this an EMACS_INT.\n\t(gc_sweep): Make already_free an EMACS_INT.\n\n\t* search.c (search_buffer): Cast p_limit to EMACS_INT not int.\n\n\t* s/osf1.h (GETPGRP_NO_ARG): Define.\n\n1995-05-03  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keyboard.c (reorder_modifiers): Use XINT.\n\tCast apply_modifiers arg to int.\n\n\t* unexapollo.c: New file.\n\n\t* m/apollo.h (CANNOT_DUMP, VIRT_ADDR_VARIES, LIBS_TERMCAP)\n\t(NO_X_DESTROY_DATABASE): Macros deleted.\n\t(BSTRING): #undef deleted.\n\t(SYSTEM_TYPES): Redefinition deleted.\n\t(UNEXEC): New definition.\n\t(LD_SWITCH_SYSTEM): Define as empty.\n\t(C_SWITCH_MACHINE, LD_SWITCH_MACHINE): New definitions.\n\t(OLDXMENU_OPTIONS): New definition.\n\n\t* fileio.c (directory_file_name): Add APOLLO conditional.\n\t(Fcopy_file, Fset_file_modes): Delete APOLLO conditionals.\n\n\t* emacs.c: Delete all APOLLO conditionals.\n\n1995-05-02  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* intervals.c (get_local_map): Use Fget_char_property, so that\n\toverlay properties will be considered as well as text properties.\n\n1995-05-02  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* insdel.c (prepare_to_modify_buffer): Use file_truename for locking.\n\n\t* fileio.c (Finsert_file_contents): Use file_truename for unlocking.\n\n\t* buffer.c (Fset_buffer_modified_p): Use the truename for locking.\n\n\t* lread.c (read1): New arg FIRST_IN_LIST; all callers changed.\n\tSpecial handling for backquote and comma.\n\t(Qbackquote, Qcomma, Qcomma_at, Qcomma_dot): New variables.\n\t(syms_of_lread): Initialize and staticpro them.\n\t(Fread, Fread_from_string): Initialize new_backquote_flag.\n\n1995-05-01  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* xmenu.c (xmenu_show, menubar_selection_callback): Move declaration\n\tof entry to an outer block, to guarantee its value is preserved.\n\n\t* keyboard.c (kbd_buffer_get_event): New arg USED_MOUSE_MENU.\n\t[USE_X_TOOLKIT]: Set *USED_MOUSE_MENU if returning menu-bar symbols.\n\t(read_char): Pass used_mouse_menu to kbd_buffer_get_event.\n\tThis variable is now meaningful for toolkit menus as well as\n\tnon-toolkit menus.\n\n\t* dispnew.c (update_frame): Don't put cursor in echo area unless\n\tthe echo area is on this frame.\n\t* xdisp.c (redisplay): Don't move the cursor if it's supposed to\n\tbe in the echo area.\n\t(display_text_line): Likewise.\n\t(echo_area_display): Put cursor in echo area if appropriate.\n\n1995-04-30  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* emacs.c (standard_args): Add #ifdef VMS for -map.\n\t(main): Delete duplicate code for -version.\n\t(standard_args): Add -help and -version.\n\n\t* fileio.c (Fdo_auto_save): Record visited file name\n\tas well as auto-save file name in the auto-save-list-file-name file.\n\tCall Fexpand_file_name for auto-save-list-file-name.\n\n1995-04-29  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* sysdep.c [HAVE_UNISTD_H]: Include unistd.h.\n\n\t* emacs.c (standard_args): Add -L/--directory/-directory.\n\n\t* s/sunos4shr.h (ORDINARY_LINK): Defined.\n\t(LINKER): Definition deleted.\n\n1995-04-28  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* xfns.c (x_non_menubar_window_to_frame): New function.\n\t* xterm.h: Declare x_non_menubar_window_to_frame.\n\t* xmenu.c (popup_get_selection): Use x_non_menubar_window_to_frame.\n\tEither queue or dispatch the event, but not both.\n\t(dialog_selection_callback): Clear popup_activated_flag.\n\n\t* xmenu.c (Fx_popup_menu): If POSITION is just (menu-bar), use the\n\tcurrent mouse position.\n\t(menubar_selection_callback): Use (menu-bar) instead of 'menu-bar.\n\t* keyboard.c (read_char, read_char_x_menu_prompt): Exclude\n\tmenu-bar clicks when processing mouse clicks.\n\n\t* xterm.c (x_term_init): Add stub to initialize Vsystem_key_alist.\n\n1995-04-27  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* process.c (create_process): Don't reference pty_name if !HAVE_PTYS.\n\n1995-04-26  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* fileio.c (Ffile_regular_p): Use Qfile_regular_p.\n\t(syms_of_fileio): Set up Qfile_regular_p.\n\n\t* emacs.c (standard_args): Move -iconic and --icon-type\n\tto the end of the initial args.\n\n1995-04-25  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* alloc.c (mark_kboards): Mark the kbd macro and Vsystem_key_alist.\n\n1995-04-24  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* s/linux.h (REGEXP_IN_LIBC): Defined.\n\n\t* callproc.c (Fcall_process): Use bigger buffer, and grow it\n\tas we get more and more data.\n\n1995-04-24  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* xterm.c (x_term_init): If the previous kboard was the dummy one,\n\tswitch to the new one immediately.\n\n\t* keyboard.h (struct kboard): New member Vsystem_key_alist.\n\t* keyboard.c (Vsystem_key_alist): Delete global variable.\n\t(init_kboard): Initialize Vsystem_key_alist member.\n\t(syms_of_keyboard): Change DEFVAR_LISP to DEFVAR_KBOARD.\n\t(make_lispy_event): Use the kboard's alist instead of the global.\n\n\t* fns.c (Fplist_put): Don't signal an error if plist isn't a cons.\n\n\t* xterm.c (x_focus_frame, x_focus_event_frame, x_highlight_frame):\n\tDelete these vars; now part of struct x_display_info.\n\t(x_new_focus_frame): New arg DPYINFO.  Callers changed.\n\tUse the struct members instead of the globals.\n\tCall x_frame_rehighlight instead of XTframe_rehighlight, so we can\n\tpass on the dpyinfo pointer.\n\t(x_mouse_leave): New arg DPYINFO.  Callers changed.\n\t(XTframe_rehighlight): New arg FRAME.  Callers changed.\n\tNow does all the work in x_frame_rehighlight.\n\t(x_frame_rehighlight): New function, code from XTframe_rehighlight.\n\t(XTread_socket): Use the struct members instead of the globals.\n\t(x_unfocus_frame, x_iconify_frame, x_destroy_window): Likewise.\n\t(x_display_box_cursor, x_make_frame_invisible): Likewise.\n\t(x_term_init): Initialize the struct members.\n\t(x_initialize): Delete initialization of deleted globals.\n\t* xfns.c (x_get_focus_frame): New arg FRAME.  Callers changed.\n\t(Funfocus_frame): Unfocus on selected_frame's display.\n\t* xterm.h (struct x_display_info): New members x_focus_frame,\n\tx_focus_event_frame, x_highlight_frame, replacing global vars.\n\t* frame.c (do_switch_frame): Don't try to refocus termcap frames.\n\n\t* Makefile.in.in: Make dispnew.o and keyboard.o depend on xterm.h.\n\tMake intervals.o and term.o depend on keyboard.h.\n\n\t* xfns.c (x_window): Fix type mismatch.\n\n\t* xdisp.c (message_dolog): The message log doesn't need an undo list.\n\n\t* term.c (term_init): MagicWrap implies AutoWrap.\n\n1995-04-24  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keyboard.c (safe_run_hooks_1, safe_run_hooks_error): New subroutines.\n\t(safe_run_hooks): Handle errors to clear the hook,\n\tinstead of always clearing it temporarily.\n\n\t* callproc.c (child_setup): Reword \"can't exec\" message.\n\tAdd newline after message.\n\n\t* process.c (create_process): Don't abort if can't reopen\n\tpty_name in the child.  Exit the child instead.\n\n1995-04-20  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* abbrev.c (Fexpand_abbrev): Add some error checking.\n\n\t* xmenu.c (Fx_popup_dialog): Don't pass menubarp arg to xdialog_show.\n\n1995-04-19  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* frame.h (struct frame): New member namebuf.\n\t* frame.c (make_frame): Initialize it.\n\t(Fdelete_frame): Free it.\n\t* xfns.c (x_window): Use (or reuse) frame's namebuf instead of a\n\ttemp var.  This avoids a storage leak.\n\n1995-04-19  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xmenu.c (xmenu_show, xdialog_show): Delete menubarp arg.\n\t(Fx_popup_menu): Don't compute menubarp.\n\n1995-04-18  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* callproc.c (Fcall_process): Call Fexpand_file_name for error_file.\n\n\t* keyboard.c (map_event_to_object): Declaration deleted.\n\n1995-04-18  Andreas Schwab  <schwab@issan.informatik.uni-dortmund.de>\n\n\t* eval.c (Ffetch_bytecode): Check the type of the object being\n\tread from the file.\n\n1995-04-17  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* editfns.c (Fencode_time): Don't treat years < 100 as special.\n\n1995-04-17  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* lisp.h: Declare some functions.\n\t* buffer.c (adjust_overlays_for_insert): New function.\n\t(adjust_overlays_for_delete): New function.\n\t* insdel.c (insert_1): Adjust overlay center after inserting.\n\t(insert_from_string_1, insert_from_buffer_1): Likewise.\n\t(del_range_1): Adjust overlay center after deleting.\n\n1995-04-17  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* editfns.c (Fencode_time): Rewrite by Naggum.\n\n1995-04-15  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xfns.c (x_report_frame_params): Report value of `display' parm.\n\n\t* Makefile.in.in (really-lwlib, really-oldXMenu): Mark as .PHONY.\n\n1995-04-14  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* editfns.c (Fencode_time): Fix missing \\n\\'s.\n\n1995-04-14  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* editfns.c (init_editfns): Add casts.\n\n\t* doc.c (get_doc_string): Add cast.\n\n\t* keyboard.c (kbd_buffer_get_event): Don't use prototype.\n\n\t* xdisp.c (message_log_check_duplicate): Make p1 and p2\n\tunsigned char *.\n\n1995-04-13  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xterm.c (x_term_init): Call XtSetLanguageProc only if HAVE_X11XTR6.\n\n1995-04-13  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* editfns.c (Fbuffer_string): Doc clarification.\n\n\t* alloc.c: Delete the #if that compares MARKBIT.\n\n\t* window.c (Fdisplay_buffer): Search the proper frame when the\n\tcurrent frame is minibuffer-only.\n\n\t* fileio.c (Fexpand_file_name): Use IS_DIRECTORY_SEP instead of\n\tspecial code for WINDOWSNT.\n\n1995-04-13  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xfaces.c (compute_char_face): Don't use NULL.\n\n\t* buffer.c (Foverlays_at, Fnext_overlay_change): Don't use NULL.\n\t(Fprevious_overlay_change): Don't use NULL.\n\n\t* xfns.c (Fx_color_defined_p): Doc fix.\n\n\t* xfaces.c [! HAVE_X_WINDOWS] (build_face): Deleted.\n\n1995-04-12  Andreas Schwab  <schwab@issan.informatik.uni-dortmund.de>\n\n\t* callint.c (Fcall_interactively): Fix paren nesting.\n\n\t* buffer.c (evaporate_overlays): Fix type error.\n\n1995-04-13  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xterm.c (XTmouse_position): Handle X errors in XTranslateCoordinates.\n\n\t* lisp.h (MARKBIT): Do the shifting as unsigned int.\n\tDelete the #if that compares MARKBIT.\n\n1995-04-12  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xterm.c (XTread_socket): For ConfigureNotify,\n\tcombine the USE_X_TOOLKIT and non-toolkit cases, which provides\n\tsome things that were missing in the former.\n\n\t* alloc.c (gc_sweep): If a misc has type Lisp_Misc_Free,\n\tkeep it on the free list.  Sum pseudovector sizes properly.\n\n\t* dispnew.c (Fframe_or_buffer_changed_p): Ignore buffers whose names\n\tstart with space.\n\n\t* editfns.c (Fencode_time): Use XINT to examine `zone'.\n\n1995-04-11  Geoff Voelker  <voelker@cs.washington.edu>\n\n\t* ntinevt.c (nt_kdb_patch_event): Created.\n\n\t* callproc.c (child_setup) [WINDOWSNT]: Removed syntax errors.\n\n\t* dired.c (Ffile_attributes) [WINDOWSNT]: Removed syntax errors.\n\n\t* fileio.c (Fexpand_file_name) [DOS_NT]: Preserve drive letter case.\n\tFix syntax errors.\n\tCheck drive letter when expanding ~\\.\n\n\t* sysdep.c (sys_subshell) [WINDOWSNT]: Don't invoke restore_console.\n\n\t* ntproc.c (win32_wait): Reap synchronous subprocesses, and place\n\treturn code in synch_process_retcode.\n\n\t* s/windowsnt.h (ctime): Defined to be nt_ctime.\n\t(NULL): Defined when missing from included system files.\n\t(EMACS_CONFIG_OPTIONS): Defined.\n\t(LISP_FLOAT_TYPE): Defined.\n\t(HAVE_TZNAME): Defined.\n\t(HAVE_TIMEVAL): Defined.\n\t(struct timeval): Defined.\n\t(struct timezone): Defined.\n\n\t* nt.c (nt_ctime): Defined.\n\t(gettimeofday): Defined.\n\n\t* ntinevt.c (do_mouse_event): Use XSETFASTINT.\n\t(SET_FRAME): Undefined.\n\t(select): Renamed to sys_select to correspond to routine in sysdep.c.\n\t(sys_select): Support struct timeval.\n\t(key_event): Support German keyboard.\n\tReplace SET_FRAME with XSETFRAME.\n\t(nt_kbd_mods_to_emacs): Renamed to win32_kbd_mods_to_emacs.\n\t(win32_kbd_mods_to_emacs): Support AltGr on German keyboards.\n\t(win32_number_shift_map): Defined.\n\t(WIN32_KEY_SHIFTED): Defined.\n\t(win32_patch_key): Defined.\n\t(map_virt_key): Support VK_OEM_102 for German keyboards.\n\t(win32_mouse_position): Add arg insist.\n\t(do_mouse_event): Replace SET_FRAME with XSETFRAME.\n\tUse win32_kbd_mods_to_emacs.\n\n\t* fileio.c (directory_file_name) [WINDOWSNT]: Handle UNC format.\n\n\t* nt.c (nt_stat): Defined.\n\n\t* s/windowsnt.h (struct nt_stat): Defined.\n\n\t* ntinevt.h: Fixed function prototypes.\n\n\t* makefile.nt (TEMACS): Add dependence on $(BLD).\n\n\t* ntterm.c (Fset_message_beep): Defined.\n\t(ring_bell): Support audio cards.\n\n\t* makefile.nt (DOC): Defined.\n\n\t* s/windowsnt.h (HAVE_RANDOM): Defined.\n\t(random): Macro undefined.\n\t(srandom): Macro undefined.\n\t(HAVE_UTIME): Defined.\n\t(utime): Defined.\n\t(EMACS_CONFIGURATION): Defined.\n\n\t* nt.c (random): Defined.\n\t(srandom): Defined.\n\n\t* nt.c (readdir): Include \".\" and \"..\".\n\t(get_inode_and_device_vals): Handle directories.\n\n\t* fileio.c (Fexpand_file_name) [DOS_NT]: Don't strip slash from\n\tdefault dirs like \"C:\\\\\"\n\n\t* makefile.nt (all): Use COMPAT_LIB in library list.\n\tUse DEL_TREE instead of delnode.\n\n\t* ntheap.c (sbrk): Shrink heap by arbitrary amounts.\n\n\t* m/intel386.h (NO_ARG_ARRAY) [WINDOWSNT]: Defined.\n\n\t* s/windowsnt.h (_VARARGS_): Defined.\n\t(_CALLBACK_): Defined.\n\n1995-04-11  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>\n\n\t* process.c (create_process): Set PROCESS's tty_name to Qnil when\n\t!PTY_FLAG, so Fprocess_tty_name returns nil for pipes as its\n\tdocstring says.\n\n1995-04-11  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keyboard.c (read_char): Rearrange code so that getcjmp is set\n\tonly around sit_for and kbd_buffer_get_event,\n\tand polling is stopped only around the kbd_buffer_get_event call.\n\t(Ftrack_mouse, tracking_off, read_char): Don't call prepare_menu_bars.\n\n\t* dispnew.c (init_desired_glyphs): New function.\n\t* xdisp.c (redisplay): Call init_desired_glyphs for each frame.\n\tCall prepare_menu_bars.\n\t(prepare_menu_bars): Delete code at beginning that duplicates\n\tthings done at the beginning of redisplay.\n\n\t* alloc.c (inhibit_garbage_collection): New function.\n\n\t* xterm.c (XTread_socket): Pass dpyinfo to popup_get_selection.\n\n\t* xmenu.c (popup_get_selection): Queue up events that aren't\n\tfor the menu, and process them afterward.  New arg dpyinfo.\n\t(set_frame_menubar): Use inhibit_garbage_collection.\n\t[USE_X_TOOLKIT] (xmenu_show): Delete the queue code here.\n\tPass dpyinfo to popup_get_selection.\n\tDon't call lw_destroy_all_widgets.\n\t[USE_X_TOOLKIT] (xdialog_show): Simplify using popup_get_selection.\n\n1995-04-10  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* callint.c (Fcall_interactively): Fix handling of @\n\twhen it tests whether the event has a window in it.\n\n\t* s/sco4.h (NO_SOCKETS_IN_FILE_SYSTEM): Defined.\n\n\t* eval.c (internal_condition_case): Abort if interrupt_input_blocked>0.\n\n\t* xmenu.c (set_frame_menubar): Don't block input until after\n\tthe menubar maps have been decoded.\n\n1995-04-10  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* keyboard.c (push_frame_kboard, pop_frame_kboard): Do nothing if\n\t!MULTI_KBOARD.\n\n\t* keyboard.c (init_keyboard): Don't malloc a new structure;\n\tinitial_kboard should already exist for that.\n\t* frame.c (make_terminal_frame): Put initial_kboard on the list of\n\tall kboard objects.\n\n1995-04-10  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xmenu.c (popup_get_selection): For ButtonRelease event,\n\tclear dpyinfo->grabbed.\n\n\t* window.c (temp_output_buffer_show): Select the chosen window\n\ttemporarily for running temp-buffer-show-hook.\n\t(syms_of_window): Fix typo.\n\n\t* s/osf1.h: Don't include alloca.h, string.h here.\n\t(malloc. realloc, xmalloc, xrealloc): Declarations moved to m/alpha.h.\n\t* m/alpha.h: Include alloca.h, string.h here.\n\t(malloc. realloc, xmalloc, xrealloc): Declarations moved from s/osf1.h.\n\n\t* xdisp.c (display_mode_line): Use push_frame_kboard, pop_frame_kboard.\n\n\t* xfns.c (x_window): Copy the frame name to non-Lisp string.\n\n\t* keyboard.c (any_kboard_state): Renamed from unlock_kboard.\n\tDefine it unconditionally, but it's a no-op unless MULTI_KBOARD.\n\t(single_kboard_state): New function.\n\t(push_frame_kboard, pop_frame_kboard): New functions.\n\t(single_kboard): Renamed from kboard_locked.\n\n\t* keyboard.h (single_kboard): Renamed from kboard_locked.\n\tAll refs renamed.\n\t(struct kboard): Move flag fields to the end, and make them chars.\n\tDelete the `unused' field.\n\n\t* callint.c (Fcall_interactively): Call single_kboard_state\n\tto switch to the single-kboard state.\n\t* minibuf.c (read_minibuf): Call single_kboard_state\n\tto switch to the single-kboard state.\n\n\t* alloc.c, data.c, macros.c, print.c: Include keyboard.h.\n\n\t* Makefile.in.in (alloc.o, data.o, macros.o, print.o):\n\tDepend on keyboard.h.\n\n\t* xterm.h (x_display_info): Use `struct kboard', not KBOARD.\n\t* frame.h (struct frame): Use `struct kboard', not KBOARD.\n\n\t* keyboard.h (KBOARD, etc): Moved from lisp.h.\n\t(struct kboard): Renamed from struct KBOARD.\n\t* lisp.h (KBOARD, etc): Moved to keyboard.h.\n\n1995-04-09  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keyboard.c (unlock_kboard): Do nothing with Vunread_command_events.\n\t(read_char): Clean up logic for reading from KBOARD queues.\n\n\t* xfns.c (defined_color): Fix typo (duplicate +).\n\n\t* keyboard.c (kbd_buffer_get_event): Set copy by assignment, not init.\n\n\t* xterm.c (XTread_socket): Make deiconify event\n\tonly if frame was iconified.\n\n\t* xrdb.c (xmalloc, xrealloc): Declare them here.\n\n1995-04-08  Erik Naggum  <erik@naggum.no>\n\n\t* editfns.c (Fencode_time): New function, to match `decode-time'.\n\n1995-04-08  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* intervals.c (set_point): When skipping intangible text,\n\tstop where property value changes.\n\n\t* indent.c (Fmove_to_column): Fix minor bug in prev change.\n\n\t* lread.c (read_escape): Undo Nov 15 change.\n\n\t* xdisp.c (display_mode_line): Test mode_line_inverse_video\n\tbefore highlighting partial-width mode line.\n\n\t* xmenu.c (popup_activate_callback): Increment popup_activated_flag.\n\t(popup_deactivate_callback): Decrement it.\n\n\t* s/linux.h (HAVE_SELECT, HAVE_TIMEVAL): Definitions deleted.\n\tconfig.h should handle them.\n\n\t* xdisp.c (redisplay): Don't call update_frame for non-selected\n\ttermcap frame.\n\n1995-04-08  Noah Friedman  <friedman@prep.ai.mit.edu>\n\n\t* window.c (Fnext_window, Fprevious_window): If all_frames is a\n\tframe and window is not on that frame, return the first window on\n\tthat frame.\n\n1995-04-07  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* lread.c (init_lread): Add site-lisp under the installation dir\n\tto Vload_path if that exists.\n\n\t* s/osf1.h (xmalloc, xrealloc): Declare them.\n\n\t* frame.c (make_terminal_frame): Use Emacs, Emacs-2, ... as name.\n\n\t* xdisp.c (decode_mode_spec): Add %F code.\n\tOrder alternatives alphabetically.\n\n\t* s/aix4.h: Use \"...\" in #include.\n\n1995-04-07  Morten Welinder  <terra+@cs.cmu.edu>\n\n\t* s/osf1.h: Include alloca.h, string.h.  Test NOT_C_CODE.\n\n\t* m/alpha.h (SPECIAL_EMACS_INT): Defined.\n\n1995-04-07  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* keyboard.c (kbd_buffer_get_event): Check for frame buried in a cons.\n\tDelete menu_bar_event handling code.\n\t(make_lispy_event): Move it here, so it gets a switch-frame if needed.\n\n\t* callint.c (Fcall_interactively): Fix previous change.\n\n1995-04-07  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* doprnt.c (xmalloc, xrealloc): Declare them here.\n\n\t* callint.c (Fcall_interactively): `+' is reserved for user changes.\n\n\t* process.c (read_process_output_error_handler)\n\t(exec_sentinel_error_handler): Fsleep_for wants two args.\n\n\t* xfns.c (validate_x_resource_name): Change invalid chars to `_'.\n\n\t* doprnt.c (doprnt): Cast pointer to int by way of EMACS_INT.\n\n\t* xmenu.c (menubar_selection_callback, dialog_selection_callback)\n\t(single_submenu): Cast pointer to int by way of EMACS_INT.\n\n\t* floatfns.c (Flogb): Use EMACS_INT for `value'.\n\n\t* editfns.c (Fformat): Cast int to pointer by way of EMACS_INT.\n\n\t* search.c (search_buffer): Avoid casting trt to int.\n\tUse EMACS_INT for comparing pointers.\n\n\t* buffer.h (Fdelete_overlays): Add declaration.\n\n\t* keyboard.c (parse_modifiers): Use type EMACS_INT for `modifiers'.\n\n\t* xterm.c (dumpglyphs): Cast FACE_DEFAULT to (XFontStruct *)\n\tfor comparison with face->font.\n\n\t* sysdep.c (bcopy): If NEED_BCOPY, do compile this.\n\n\t* m/ncr386.h: New file.\n\n\t* s/hpux9.h (LD_SWITCH_X_DEFAULT): New definition.\n\t(C_SWITCH_X_DEFAULT): New definition.\n\n\t* doc.c (get_doc_string): In (STRING . INTEGER), if INTEGER\n\tis negative, negate it.\n\n\t* eval.c (Fuser_variable_p): For (STRING . INTEGER), test sign.\n\n\t* s/sol2.h (C_SWITCH_X_SYSTEM): Defined.\n\n\t* s/usg5-4-2.h (LIBS_SYSTEM): New override definition.\n\n\t* lisp.h (XMISCTYPE): New macro.\n\t(union Lisp_Misc): Delete the `type' field.\n\tUse XMISCTYPE instead of that.\n\n\t* alloc.c (Fmake_marker, mark_object): Use XMISCTYPE.\n\t(clear_marks, gc_sweep): Use u_marker union elt to extract misc type.\n\n\t* lread.c (defvar_int, defvar_bool, defvar_lisp_nopro, defvar_kboard)\n\t(defvar_per_buffer): Use XMISCTYPE.\n\t* print.c (print): Use XMISCTYPE.\n\t* fns.c (internal_equal): Use XMISCTYPE.\n\t* buffer.c (Fmake_overlay): Use XMISCTYPE.\n\t* data.c (Ftype_of, do_symval_forwarding, store_symval_forwarding)\n\t(find_symbol_value, Fmake_variable_buffer_local, Fmake_local_variable):\n\tUse XMISCTYPE.\n\n\t* xdisp.c (prepare_menu_bars): Do the frame titles last.\n\n1995-04-06  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xfaces.c (intern_face): Cast FACE_DEFAULT to (XFontStruct *)\n\tfor comparison with face->font.\n\n\t* puresize.h (CHECK_IMPURE): Remove & from before my_edata.\n\n\t* editfns.c (Fformat_time_string): Use emacs_strftime.  Doc fix.\n\n\t* Makefile.in.in (strftime.o): Define strftime as emacs_strftime.\n\n\t* xmenu.c (frame_vector): New static variable.\n\t(syms_of_xmenu): staticpro it.\n\t(frame_vector_add_frame): New function.\n\t(set_frame_menubar): Use frame_vector; use index as the widget id.\n\t(free_frame_menubar): Likewise.  Remove the frame from frame_vector.\n\t(menubar_selection_callback): Use frame_vector to turn id into frame.\n\n\t* emacs.c (main): Cast arg to `brk'.\n\n\t* sysdep.c (init_sys_modes): Use TCOON only if defined.\n\n\t* s/netbsd.h (NO_MATHERR): Defined.\n\t(LIBS_SYSTEM): Definition deleted.\n\n\t* unexsunos4.c: Treat __NetBSD__ like __FreeBSD__.\n\n1995-04-06  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* fns.c (Fplist_put): Fix missing \\n\\.\n\n\t* xfns.c (x_window_to_frame): Skip non-X frames before testing dpyinfo.\n\t[USE_X_TOOLKIT] (x_any_window_to_frame, x_top_window_to_frame): Ditto.\n\n1995-04-06  Simon Marshall  <simon@duality.gnu.ai.mit.edu>\n\n\t* data.c (Fcar, Fcdr, Fsetcar, Fsetcdr): Arg name doc fixes.\n\n1995-04-06  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* puresize.h (BASE_PURESIZE): Increment to 310000.\n\n\t* indent.c (string_width): New function.\n\t(vmotion): Compute the width of minibuf_prompt\n\tif it isn't already known.\n\n\t* buffer.c (Fkill_buffer): Call reset_buffer_local_variables\n\tand swap_out_buffer_local_variables.\n\t(swap_out_buffer_local_variables): New subroutine.\n\t(Fkill_all_local_variables): Use that subroutine.\n\n\t* search.c (Flooking_at, Fposix_looking_at): Change arg name.\n\n1995-04-05  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* frame.c (Fraise_frame, Flower_frame): Now interactive.\n\n1995-04-04  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* lisp.h: Declare Ffetch_bytecode.\n\t* eval.c (Ffetch_bytecode): New function.\n\t(funcall_lambda): Call it.\n\t(syms_of_eval): defsubr it.\n\n1995-04-03  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* xfns.c (x_window_to_frame): New arg DPYINFO.  All callers changed.\n\t(x_any_window_to_frame, x_top_window_to_frame): Likewise.\n\n\t* lisp.h (Vmessage_log_max): Declare this variable.\n\t(message_nolog): Declare this function.\n\t* emacs.c (main): Start with an empty message log.\n\t* xdisp.c (message_nolog): New function.\n\t* fns.c (Fy_or_n_p): Don't log prompt.\n\t(Fyes_or_no_p): Fix typo in doc string.\n\n1995-04-01  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* lread.c (oblookup): Save bucket num in oblookup_last_bucket_number.\n\t(Funintern): New function.\n\t(syms_of_lread): defsubr it.\n\n1995-03-31  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* dired.c (Fdirectory_files): Fix bug in IS_ANY_SEP usage\n\tintroduced in Oct 30 change.\n\n1995-03-31  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* keyboard.c (command_loop_1): If we ignore force_start, then also\n\tignore beg_unchanged and end_unchanged.\n\n1995-03-31  Michael Ernst  <mernst@research.microsoft.com>\n\n\t* lread.c (isfloat_string): Permit trailing space.\n\n1995-03-30  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* keyboard.c (event_to_kboard): Ignore dead frames.\n\t(kbd_buffer_get_event): In batch mode, use current_kboard.\n\n\t* xterm.c (x_delete_display): Extract kboard deletion, for modularity.\n\t* keyboard.c (wipe_kboard): Make this function static.\n\t(delete_kboard): New function, extracted from x_delete_display.\n\n\t* lisp.h: Declare function delete_kboard.\n\n\t* xterm.h (struct x_display_info): New member cut_buffers_initialized.\n\t* xterm.c (x_term_init): Initialize it.\n\t* xselect.c (Fx_store_cut_buffer_internal): Use the flag in the\n\tframe's x_display_info, not a global flag.\n\t(Fx_rotate_cut_buffers_internal): Likewise.\n\n\t* emacs.c (sort_args): Skip strncmp if longname is a null pointer.\n\n1995-03-30  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* data.c (Fmod): Fix the final adjustment, when i2 < 0 and i1 == 0.\n\n1995-03-29  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* frame.c [MULTI_FRAME] (Factive_minibuffer_window): New function.\n\t[MULTI_FRAME] (syms_of_frame): Defsubr it.\n\n1995-03-28  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* process.c (Fsignal_process): SIGCODE is a symbol, not a string.\n\n1995-03-28  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* fns.c (Fconcat): Undo previous change.\n\n1995-03-27  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* fns.c (Fget, Fput): Fetch and store symbol's plist directly.\n\n1995-03-27  Boris Goldowsky  <boris@cs.rochester.edu>\n\n\t* fns.c (Fplist_put, Fplist_get): New fns.\n\t(Fget): Use Fplist_get to do the work.\n\t(Fput): Use Fplist_put to do the work.\n\n\t* textprop.c (Vdefault_text_properties): name changed from\n\tVdefault_properties.\n\t* intervals.h: As above.\n\t* intervals.c (textget): As above.\n\n\t* intervals.c (textget_direct): Fn deleted.\n\t(textget, verify_interval_modification): Use Fplist_get instead.\n\t* intervals.h: Remove declaration.\n\n1995-03-26  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xterm.c (XTmouse_position): New arg `insist'.\n\t* ntinevt.c (win32_mouse_position): New arg `insist'.\n\t* msdos.c (mouse_get_pos): New arg `insist'.\n\n\t* xmenu.c (Fx_popup_menu): Pass 1 for `insist' arg.\n\t(Fx_popup_dialog): Likewise.\n\t* frame.c (Fmouse_position--both definitions): Pass 0 for `insist'.\n\t(Fmouse_pixel_position): Pass 0 for `insist'.\n\tAdd HAVE_MOUSE conditional.\n\t* keyboard.c (kbd_buffer_get_event): Pass 0 for `insist' arg.\n\n\t* m/intel386.h (C_SWITCH_SYSTEM): Don't #undef or define it.\n\t[SOLARIS2, SOLARIS2_4, !__GNUC__] (C_SWITCH_MACHINE): Define instead.\n\n1995-03-26  Germano Caronni  <caronni@tik.ethz.ch>\n\n\t* ralloc.c (r_re_alloc): Correct realloc behavior--allow shrinking\n\tof blocks while reallocating, if shrinking by more than one page.\n\t(relocate_blocs, resize_blocs): Added failsafe to protect future\n\tcalling of these routines when in frozen state.\n\t(r_alloc_thaw): Added call to r_alloc_init.\n\t(relocate_blocks, resize_bloc, r_alloc_sbrk, r_alloc_thaw): Extended\n\tfunctionality to let ralloc package work in frozen state, allowing\n\tfor the existence of unused blocks.\n\n1995-03-25  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* process.c (Fsignal_process): Allow signal names as well as numbers.\n\n1995-03-24  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* editfns.c (init_editfns): Use NAME envvar to init user-full-name.\n\n1995-03-24  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* textprop.c (Fnext_property_change): Fix previous change.\n\n1995-03-23  Kevin Rodgers  <kevinr@ihs.com>  (tiny change)\n\n\t* print.c (temp_output_buffer_setup): (Re)set the default\n\tdirectory of the temp buffer to that of the current buffer.\n\n1995-03-23  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* buffer.c (syms_of_buffer): Doc fix.\n\n\t* xdisp.c (redisplay): Make sure pause is set before used.\n\tDelete unused vars.\n\t(redisplay_window): Make sure update_mode_line is set before used.\n\tIf startp might not have been set, use w->start directly.\n\t(try_window_id): In the easy case, find cursor pos before returning.\n\t(try_window_id): Stop scan at bottom of window, not one line later.\n\tDon't fail on account of continuation line below window.\n\t(redisplay_window): Stop scan at bottom of window.\n\tFix reversed condition.\n\n\t* Makefile.in.in (FRAME_SUPPORT, MSDOS_SUPPORT): Don't list face\n\tand mouse related files here.\n\t(FACE_SUPPORT, MOUSE_SUPPORT): New lists.\n\t(FACE_SUPPORT): Add facemenu.elc.\n\t(WINNT_SUPPORT): New list.\n\t(lisp): Add format.elc, FACE_SUPPORT, MOUSE_SUPPORT, WINNT_SUPPORT.\n\n1995-03-23  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* m/sparc.h: Don't include alloca.h if NOT_C_CODE.\n\n\t* m/mips-siemens.h (UNEXEC): Override the definition.\n\t(LIBS_DEBUG, ORDINARY_LINK): Add #undefs.\n\n1995-03-22  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* dispnew.c (direct_output_forward_char): Don't use direct output\n\tat an overlay boundary.\n\t* buffer.c (overlay_touches_p): New function.\n\t* lisp.h: Declare overlay_touches_p.\n\n\t* fns.c (concat): Treat integers as characters, not strings.\n\tThis makes `concat' more like `insert'.\n\n\t* window.c (syms_of_window): Fix missing \\n\\.\n\t* keymap.c (Fwhere_is_internal): Fix missing \\n\\.\n\t* fileio.c (syms_of_fileio): Fix missing \\n\\.\n\n1995-03-21  Marco Walther  <Marco.Walther@mch.sni.de.>\n\n\t* unexelfsni.c: New file.\n\n\t* m/mips-siemens.h: Total rewrite.\n\n1995-03-20  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xdisp.c (redisplay_window): Skip the only-point-has-changed\n\toptimization if updating the window's mode line.\n\n1995-03-19  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xdisp.c (invisible_p, invisible_ellipsis_p): Handle list\n\tas invisible property value.\n\n1995-03-18  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xdisp.c (display_menu_bar): Just one space between menu items.\n\n1995-03-18  Ted Lemon  <mellon@toccata.fugue.com>\n\n\t* emacs.c (dump-emacs-data, dump-emacs): Declare my_edata as\n\tchar array.\n\t* lastfile.c (my_edata): Declare as char array, not int.\n\t* puresize.h (CHECK_IMPURE): Declare my_edata as char array.\n\n1995-03-17  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* lread.c (Vload_read_function): New variable.\n\t(readevalloop): Use that variable.\n\t(syms_of_lread): Set up Lisp variable.\n\n1995-03-17  Boris Goldowsky  <boris@spiff.gnu.ai.mit.edu>\n\n\t* buffer.h (struct buffer): Add file_format member.\n\n\t* buffer.c (reset_buffer): Reset file_format element too.\n\t(init_buffer_once): Define file_format flag; reset file_format.\n\t(syms_of_buffer): New vbl buffer-file-format.\n\n\t* fileio.c (Finsert_file_contents): Call format-decode.\n\t(build_annotations): Call format-annotate-function for each element of\n\tbuffer-file-format.\n\t(Vauto_save_file_format): New vbl.\n\t(build_annotations): Use it.\n\n1995-03-17  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* alloc.c (init_alloc_once): Increase gc_cons_threshold to 300000.\n\n1995-03-15  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xfns.c (x_decode_color): Don't use cdef if defined_color failed.\n\n1995-03-15  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* config.h.in [HAVE_X_WINDOWS] (MULTI_KBOARD): Define this symbol.\n\n1995-03-14  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* lisp.h (struct KBOARD, MULTI_KBOARD, current_kboard, all_kboards):\n\t(Lisp_Misc_Kboard_Objfwd, Lisp_Kboard_Objfwd, XKBOARD_OBJFWD):\n\t(KBOARD_OBJFWDP, GC_KBOARD_OBJFWDP, kboard_locked, the_only_kboard):\n\t(DEFVAR_KBOARD): Rename from PERDISPLAY, MULTI_PERDISPLAY,\n\tcurrent_perdisplay, all_perdisplays, Lisp_Misc_Display_Objfwd,\n\tLisp_Display_Objfwd, XDISPLAY_OBJFWD, DISPLAY_OBJFWDP,\n\tGC_DISPLAY_OBJFWDP, display_locked, the_only_perdisplay,\n\tDEFVAR_DISPLAY.  All uses changed.\n\t(struct KBOARD): New member reference_count.\n\t(initial_kboard): Declare this var.\n\t* .gdbinit (xkbobjfwd): Rename from xdispobjfwd.\n\t* frame.h (struct frame): New member kboard.\n\t(FRAME_KBOARD): Accessor macro for that member, replacing\n\tget_perdisplay.\n\t* xterm.h (struct x_display_info): Member kboard (formerly\n\tperdisplay) is now a pointer, not an actual struct.\n\t(get_perdisplay, get_perdisplay_macro): Delete.\n\t* xfns.c (Fx_create_frame): Set the frame's kboard member.\n\t* xterm.c (get_perdisplay): Delete.\n\t(same_x_server): New function.\n\t(x_term_init): If this display shares a keyboard with one we've\n\talready opened, then share the structure.\n\t(x_delete_display): Don't delete the kboard until the reference\n\tcount becomes zero.\n\t* lread.c (defvar_kboard): Rename from defvar_display.\n\t* alloc.c (mark_kboards): Rename from mark_perdisplays.\n\t* frame.c (make_frame): Initialize kboard member.\n\t(make_terminal_frame): Create initial_kboard if not already set.\n\t* keyboard.c (unlock_kboard): Rename from unlock_display.\n\t(wrong_kboard_jmpbuf): Rename from wrong_display_jmpbuf.\n\t(event_to_kboard): Rename from event_to_perdisplay.\n\t(kbd_buffer_get_event): If no associated kboard, store\n\tcurrent_kboard rather than the first kboard in the global list.\n\t(init_kboard): Rename from init_perdisplay.  Initialize reference\n\tcount.\n\t(wipe_kboard): Rename from wipe_perdisplay.\n\t* data.c (find_symbol_value): current_perdisplay now is never null.\n\t(store_symval_forwarding, do_symval_forwarding): Likewise.\n\n1995-03-14  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* data.c (Fash): Fix previous change.\n\n\t* buffer.c (Fmake_indirect_buffer): Invert the arguments.\n\n\t* marker.c (unchain_marker): Allow differing buffers\n\tas long as they have the same text.\n\n1995-03-13  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* keyboard.c (event_to_perdisplay): New function.\n\t(kbd_buffer_get_event): Use event_to_perdisplay.\n\t(kbd_buffer_store_event): If C-g arrives while we're in the run\n\tstate on behalf of another display, just clear the queue and\n\tdeposit the C-g to be read later.\n\t(read_key_sequence): After a throw, unwind delayed_switch_frame as\n\twell as keybuf.  Don't insert an extra switch-frame if empty.\n\n\t* print.c (print): current_perdisplay now is never null.\n\t* callint.c (clear_prefix_arg): Likewise.\n\t* macros.c (Fexecute_kbd_macro): Likewise.\n\n1995-03-13  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* minibuf.c (read_minibuf): Save Voverriding_local_map.\n\t(read_minibuf_unwind): Restore Voverriding_local_map.\n\n1995-03-13  Andreas Schwab  <schwab@issan.informatik.uni-dortmund.de>\n\n\t* unexelf.c (unexec): Adjust the file offset of sections located\n\tafter the section header table.\n\n1995-03-12  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* keyboard.c (unlock_display): current_perdisplay now is never null.\n\t(cmd_error, command_loop_1, read_char): Likewise.\n\t(kbd_buffer_get_event, read_key_sequence): Likewise.\n\t(read_char): Handle synchronous quit_char on a different display.\n\t(read_char): Rewrite queue-searching code.\n\t(read_key_sequence): Save selected_frame.\n\t(init_keyboard): Initialize current_perdisplay.\n\n1995-03-12  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keyboard.c (parse_modifiers_uncached): Delete the code for\n\tmulti-character modifiers and for recognizing a modifier alone.\n\t(parse_solitary_modifier): New function.\n\t(convert_event_type_list): Use parse_solitary_modifier.\n\tAlso convert symbol A to character A.\n\tHandle shift modifier with lower-case letters.\n\n\t* window.c (Fdisplay_buffer): Fix prev change--return sel window.\n\n\t* indent.c (compute_motion, Fmove_to_column, current_column)\n\t(character_width): Let display table handle \\n, \\r, \\t.\n\t(compute_motion): Fix logic in previous change wrt skipping invisible.\n\n1995-03-11  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xdisp.c (display_text_line): When setting selective_rlen,\n\tignore whether selective display is on or off.\n\n\t* textprop.c (Fnext_property_change): Handle LIMIT = t.\n\n\t* indent.c (compute_motion): Call recenter_overlay_lists sooner.\n\tUse Fnext_property_change to get a quick lower bound for\n\twhere `invisible' changes.\n\n1995-03-10  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* data.c (Fash, Flsh): Change arg names.\n\n1995-03-09  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* intervals.h (TEXT_PROP_MEANS_INVISIBLE): New macro.\n\t(TEXT_PROP_MEANS_INVISIBLE_WITH_ELLIPSIS): New macro.\n\n\t* xdisp.c (display_text_line, try_window): Check `invisible' prop\n\tusing TEXT_PROP_MEANS_INVISIBLE.\n\t(display_text_line): Check TEXT_PROP_MEANS_INVISIBLE_WITH_ELLIPSIS;\n\tif it says so, use ellipses after invisible text.\n\t(invisible_p, invisible_ellipsis_p): New functions.\n\n\t* indent.c (compute_motion, vmotion): Check `invisible' prop\n\tusing TEXT_PROP_MEANS_INVISIBLE.\n\n\t* buffer.h (struct buffer): New field `invisibility_spec'.\n\t* buffer.c (reset_buffer_local_variables): Init invisibility.\n\t(init_buffer_once): Set up buffer_local_flags for it.\n\t(syms_of_buffer): New variable `buffer-invisibility-spec'.\n\n1995-03-08  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* syntax.c (Fforward_comment): Always clear immediate_quit for return.\n\n1995-03-08  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* sysdep.c (read_input_waiting): Fix Lisp_Object vs. int problem.\n\n1995-03-07  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* lisp.h (struct PERDISPLAY): New member kbd_queue_has_data.\n\t* keyboard.c (unlock_display): If adding to kbd_queue, set\n\tkbd_queue_has_data.\n\t(read_char): Set and clear kbd_queue_has_data appropriately, but\n\tleave it unset when we push back an incomplete sequence.\n\t(read_char): Take the longjmp even if current_perdisplay was null.\n\t(readable_events): Check kbd_queue_has_data instead of kbd_queue.\n\t(init_perdisplay): Initialize kbd_queue_has_data.\n\n\t* keyboard.c (command_loop_1): Removed inline code for prefix args.\n\t* callint.c (current_prefix_partial): New var.\n\t(Funiversal_argument): New function, formerly inlined in keyboard.c.\n\t(Fnegative_argument, Fdigit_argument): Likewise.\n\t(clear_prefix_arg): Moved here from keyboard.c.\n\tDon't clear the internal state if we're still building a prefix arg.\n\t(finalize_prefix_arg, describe_prefix_arg): Moved from keyboard.c.\n\t(syms_of_callint): defsubr the new functions.\n\t* lisp.h: Declare new var and functions.\n\n\t* lisp.h (struct PERDISPLAY): New member Vlast_kbd_macro.\n\t* alloc.c (mark_perdisplays): Mark it here.\n\t* keyboard.c (init_perdisplay): Initialize it here.\n\n\t* macros.c (Fstart_kbd_macro): Access Vlast_kbd_macro via perdisplay.\n\t(Fend_kbd_macro, Fcall_last_kbd_macro): Likewise.\n\t(init_macros): Delete initialization.\n\t(syms_of_macros): Use DEFVAR_DISPLAY for Vlast_kbd_macro.\n\tDoc fix for executing-macro, executing-kbd-macro, last-kbd-macro.\n\n\t* keyboard.c (cmd_error): Bind Vprint_level and Vprint_length.\n\n1995-03-06  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* keyboard.c (command_loop_1): Fix test for prefix arg.\n\n1995-03-06  Boris Goldowsky  <boris@cs.rochester.edu>\n\n\t* textprop.c (Vdefault_properties): New variable.\n\t* intervals.h: Declare it.\n\t* intervals.c (textget): Check it.\n\n1995-03-03  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* callint.c (Fcall_interactively): Fix Feb 22 change.\n\n\t* keyboard.c (read_key_sequence): Update orig_local_map\n\tfor some additional gotos to replay_sequence.\n\n\t* process.c (exec_sentinel, read_process_output): If running filter\n\tor sentinel changes the local map, call record_asynch_buffer_change.\n\n1995-03-02  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* xdisp.c (display_mode_line): Temporarily set current_perdisplay\n\tto reference the frame we're updating.\n\n\t* lisp.h (struct PERDISPLAY): New members defining_kbd_macro,\n\tkbd_macro_buffer, kbd_macro_ptr, kbd_macro_end, kbd_macro_bufsize.\n\t* macros.h (defining_kbd_macro): Delete declaration.\n\t* macros.c (defining_kbd_macro): Delete; now part of perdisplay.\n\tAll uses changed.\n\t(kbd_macro_buffer, kbd_macro_ptr, kbd_macro_end): Likewise.\n\t(kbd_macro_bufsize): Likewise.\n\t(Fstart_kbd_macro): Initialize kbd_macro_buffer if not already done.\n\t(init_macros): Delete initialization of defining_kbd_macro.\n\t(syms_of_macros): Delete initialization of kbd_macro_buffer.\n\t* keyboard.c (read_char_minibuf_menu_prompt): orig_defn_macro is\n\tnow a Lisp_Object, not an int.\n\t(init_perdisplay): Initialize some of the new members.\n\t(wipe_perdisplay): Free kbd_macro_buffer.\n\n\t* keyboard.c (cmd_error): Allow current_perdisplay to be null.\n\n\t* keyboard.c (read_key_sequence): New arg can_return_switch_frame.\n\tAll callers changed.\n\t(Fread_key_sequence): Likewise.\n\t* callint.c (Fcall_interactively): Defer switch-frame events when\n\treading `k' or `K' specification.\n\n1995-03-02  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* emacs.c (syms_of_emacs): Doc fix.\n\n1995-03-02  John Grabowski  <johng@media.mit.edu>\n\n\t* xfns.c (defined_color): If colormap is full, find closest match.\n\t* xfaces.c (load_color): Call defined_color to allocate the color.\n\n1995-03-01  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xterm.c (x_connection_closed): Ignore non-X frames.\n\tFix the logic for deleting frames that use separate minibuffers\n\tthat are on the dead connection.\n\n\t* buffer.c (Fpop_to_buffer): Call Fset_buffer_major_mode\n\tif we create a buffer.\n\n1995-02-28  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* keyboard.c (cmd_error): Use clear_prefix_arg.\n\t(internal_last_event_frame, Vlast_event_frame): Normal vars again.\n\tAll uses changed.\n\t(Quniversal_argument, Qdigit_argument, Qnegative_argument): Declare.\n\t(clear_prefix_arg, finalize_prefix_arg, describe_prefix_arg): New fns.\n\t(command_loop_1): Handle digits and minus specially, when they're\n\tpart of a prefix arg.\n\tHandle universal-argument and digit-argument and negative-argument\n\tbindings here, rather than doing I/O in the Lisp code.\n\t(read_char): When reading switch-frame events from the side queue,\n\tset internal_last_event_frame.\n\t(readable_events): Return non-zero if a side queue has data.\n\t(kbd_buffer_get_event): Don't abort if event has no associated frame.\n\t(read_key_sequence): Improve behavior when there's no current display.\n\t(init_perdisplay): Initialize the new members.\n\t* callint.c (Fcall_interactively, syms_of_callint): Undo Jan 31 change.\n\t(Vprefix_arg, Vcurrent_prefix_arg): Undo Jan 31 change.\n\t* mocklisp.c (Fml_provide_prefix_argument, Fml_prefix_argument_loop):\n\tUndo Jan 31 change.\n\t* minibuf.c (read_minibuf, read_minibuf_unwind): Undo Jan 31 change.\n\t* frame.c (do_switch_frame): Undo Feb 6 change.\n\t* macros.c (Fexecute_kbd_macro): Use clear_prefix_arg.\n\t* lisp.h (struct PERDISPLAY): Add prefix_factor, prefix_value,\n\tprefix_sign, prefix_partial.  Delete Vcurrent_prefix_arg and\n\tVprefix_arg; those are now plain vars again.\n\t* alloc.c (mark_perdisplays): Update to reflect current Lisp_Objects.\n\t(NSTATICS): Increase to 768.\n\n1995-02-28  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* frame.c (Fframep): Doc fix.\n\n1995-02-28  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* callint.c (Fcall_interactively): Lock the display before\n\texecuting the command, no matter how we execute it.\n\n1995-02-26  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keyboard.c (convert_event_type_list): New function.\n\t(lucid_event_type_list_p): New function.\n\t(parse_modifiers_uncached): If MODIFIERS_END is -1,\n\tlook for just a modifier.  Guts rewritten.\n\n\t* keymap.c (Fdefine_key): Handle Lucid-style (crtl backspace) etc.\n\t(Flookup_key): Likewise.\n\n\t* callproc.c (Fcall_process): Extend BUFFER arg so it can specify\n\ta separate output file for stderr output.\n\t(Fcall_process_region): Doc fix.\n\n1995-02-25  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xmenu.c (Fx_popup_menu): Init f from selected_frame\n\tbefore calling mouse_position_hook.\n\n\t* window.c (Vsame_window_buffer_names, Vsame_window_regexps): New vars.\n\t(syms_of_window): Set up Lisp vars.\n\t(Fdisplay_buffer): Use those vars--if requested, use current window.\n\n1995-02-24  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* keyboard.c (unlock_display): New function.\n\t(cmd_error, command_loop_1): Call it when appropriate.\n\t(read_char): If no current display, don't try to echo.\n\n\t* term.c (term_init) [TERMINFO]: Make error message more accurate.\n\n1995-02-23  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keymap.c (Fglobal_set_key, Flocal_set_key, Fglobal_unset_key)\n\t(Flocal_unset_key): Functions deleted (moved to simple.el).\n\t(syms_of_keymap): Don't defsubr them.\n\n1995-02-23  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* keyboard.c (display_locked): New var to indicate when we're in\n\tthe run state.  current_perdisplay is now meaningful in the wait\n\tstate as well.\n\t(cmd_error): Clear display_locked in addition to current_perdisplay.\n\t(command_loop_1): outer_perdisplay renamed from global_perdisplay.\n\tRestore display_locked as well as current_perdisplay.\n\t(read_char): read_char_perdisplay merged with current_perdisplay.\n\t(read_key_sequence): Likewise.\n\t* minibuf.c (read_minibuf): Make sure the display is locked.\n\t* callint.c (Fcall_interactively): If the display hasn't already\n\tbeen locked by reading from the minibuffer, lock it before\n\texecuting the command.\n\t* lisp.h (display_locked): Declare this var.\n\n1995-02-23  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* window.c (syms_of_window): Doc fixes.\n\n\t* keymap.c (Fwhere_is_internal): If FIRSTONLY is not nil or non-ascii,\n\tcompletely ignore menu bindings.\n\t* xmenu.c (menu_item_equiv_key): Delete the code that rejected\n\tmenu bindings returned by Fwhere_is_internal.\n\n\t* window.c (window_loop): Handle special display buffer frames\n\tfor DELETE_BUFFER_WINDOWS as for UNSHOW_BUFFER.\n\n1995-02-22  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* callint.c (Fcall_interactively): Use markers temporarily in\n\targs vector to stand for point and mark values; replace them\n\twith integers just before calling the command.\n\n1995-02-21  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* lisp.h (struct PERDISPLAY): New member kbd_queue.\n\tDelete obsolete members kbd_buffer_frame_or_window, kbd_buffer,\n\tkbd_fetch_ptr, kbd_store_ptr; these are regular vars again.\n\t* alloc.c (mark_perdisplays): Mark kbd_queue.\n\tRemove reference to obsolete kbd_buffer_frame_or_window.\n\t* xmenu.c (menubar_selection_callback): frame_or_window field of a\n\tmenu-bar event now includes both the frame and the magic cookie.\n\t* keyboard.c (kbd_buffer_frame_or_window): Restored old var.\n\t(kbd_buffer, kbd_fetch_ptr, kbd_store_ptr): Likewise.\n\t(read_char_perdisplay): New var.\n\t(read_char): Search all appropriate perdisplay objects, and do the\n\tright thing if the next event comes from a different source.\n\t(read_key_sequence): If there's a change of display in mid-stream,\n\tretreat and try reading the new display.\n\t(find_active_event_queue): Function deleted.  All callers changed\n\tto just test the main kbd_buffer instead.\n\t(kbd_buffer_store_event): Write to the main kbd_buffer again.\n\t(kbd_buffer_get_event): Read from the main kbd_buffer again.\n\tNow returns a perdisplay pointer in addition to a lispy event.\n\t(Fdiscard_input, swallow_events): Use the main kbd_buffer again.\n\t(stuff_buffered_input): Likewise.\n\t(init_perdisplay): Initialize member kbd_queue.\n\tRemove references to obsolete members.\n\t(wipe_perdisplay): Remove obsolete reference.\n\t(init_keyboard, syms_of_keyboard): Restore initialization of vars.\n\n1995-02-21  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xdisp.c (display_string, display_text_line):\n\tDisplay table overrides ordinary display even for \\t, \\n, etc.\n\n1995-02-19  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* frame.c (Fmake_terminal_frame): Doc fix.\n\n1995-02-18  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* s/hpux9.h (LIB_X11_LIB, C_SWITCH_X_SYSTEM, LD_SWITCH_X_DEFAULT):\n\tAdd #undef's to cancel hpux8.h's definitions.\n\n1995-02-17  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* config.h.in (MULTI_FRAME): Define unconditionally.\n\n1995-02-16  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* dispnew.c (change_frame_size_1): New subroutine.\n\t(change_frame_size): If f is termcap frame, change size of all of them.\n\t(remake_frame_glyphs): No longer static.\n\tDon't mark nonselected termcap frame as garbaged.\n\n\t* term.c (calculate_costs): Update max_frame_height, max_frame_width.\n\tThey determine length of chars_wasted, copybuf and char_ins_del_vector.\n\n\t* xdisp.c (redisplay): Don't display nonselected terminal frames.\n\n\t* frame.c (Fmake_terminal_frame): New function.\n\t(syms_of_frame): defsubr it.\n\t(make_terminal_frame): Init Vframe_list only the first time.\n\tSet visible and async_visible directly.\n\tGive each terminal frame a unique name.\n\n\t* ralloc.c (r_alloc_check): Return void.\n\t(r_alloc_freeze): Initialize if it hasn't been done.\n\t(r_re_alloc, r_alloc_free, r_alloc_sbrk): Likewise.\n\t(r_alloc_init): Set __malloc_extra_blocks.\n\n1995-02-15  Paul Reilly  <pmr@geech.gnu.ai.mit.edu>\n\n\t* s/dgux.h (LIB_MOTIF): Add -lgen to provide provide the symbols\n\t`regcmp' and `regex'.\n\n1995-02-15  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* xmenu.c (xmenu_show, both versions): New arg for_click.\n\t(Fx_popup_menu): Compute it and pass it.\n\n1995-02-14  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* callint.c: Doc fix.\n\n1995-02-14  Paul Reilly  <pmr@geech.gnu.ai.mit.edu>\n\n\t* xterm.c (x_bitmap_icon): Fix test for unallocated icon bitmap.\n\n1995-02-14  Richard Stallman  <rms@geech.gnu.ai.mit.edu>\n\n\t* filelock.c (unlock_buffer, unlock_all_files, Flock_buffer)\n\t(Funlock_buffer): Use buffer's file_truename, not filename.\n\n\t* buffer.c (syms_of_buffer): Set up Lisp var buffer-file-truename.\n\t(init_buffer_once): Set up flag and default value for file_truename.\n\t(reset_buffer): Init file_truename slot.\n\n\t* buffer.h (struct buffer): New field file_truename.\n\n\t* ralloc.c (r_alloc_free): Call refill_memory_reserve only if emacs.\n\n\tInclude getpagesize.h unconditionally.\n\t(free_bloc): Don't die if bloc->next or bloc->prev is null.\n\t[!emacs] (bzero): New macro definition.\n\n\t* keyboard.c (input_poll_signal): Add ignored argument.\n\t(interrupt_signal): Likewise.\n\n\t* dispnew.c (window_change_signal): Add ignored argument.\n\n\t* process.c (Fstart_process): Make process marker point into proc buf.\n\n\t* xterm.c (x_display_bar_cursor): Use frame's cursor_width.\n\n\t(x_connection_signal): New function.\n\t(x_initialize): Use it as signal handler.\n\n\t* xfns.c (x_set_cursor_type): Set cursor_width field.\n\tHandle args of form (bar . WIDTH).\n\n\t* xterm.h (struct x_display): New element cursor_width.\n\n1995-02-14  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* filelock.c (unlock_buffer, unlock_all_files, Flock_buffer)\n\t(Funlock_buffer): Use buffer's file_truename, not filename.\n\n\t* buffer.h (struct buffer): New field file_truename.\n\t* buffer.c (syms_of_buffer): Set up Lisp var buffer-file-truename.\n\t(init_buffer_once): Set up flag and default value for file_truename.\n\t(reset_buffer): Init file_truename slot.\n\n\t* xterm.h (struct x_display): New element cursor_width.\n\t* xfns.c (x_set_cursor_type): Set cursor_width field.\n\tHandle args of form (bar . WIDTH).\n\t* xterm.c (x_display_bar_cursor): Use frame's cursor_width.\n\n1995-02-13  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* m/iris4d.h (STACK_DIRECTION): Undef before defining.\n\t[__GNUC__] (C_SWITCH_MACHINE): Remove -cckr.\n\tAdd -32, only if IRIX_FORCE_32_BITS.\n\t* s/irix5-0.h [__GNUC__] (C_SWITCH_SYSTEM): Defined.\n\t* s/irix4-0.h [__GNUC__] (C_SWITCH_SYSTEM): Define this.\n\t(C_SWITCH_MACHINE): Instead of this.\n\n\t* ralloc.c (r_alloc_free): Call refill_memory_reserve only if emacs.\n\n\t* s/irix6-0.h: New file.\n\n\t* fileio.c (Fexpand_file_name): Copy default-directory\n\tbefore looking for a handler on the directory arg.\n\n\t* cmds.c (Vself_insert_face, Vself_insert_face_command): New variables.\n\t(syms_of_cmds): Set up Lisp variables.  Doc syntax fix.\n\t(internal_self_insert): Handle Vself_insert_face.\n\n\t* lisp.h (Qprocessp): Declared.\n\n\t* xdisp.c (redisplay_window): If we update the mode line,\n\tswitch to the buffer for real, and switch back for real.\n\n1995-02-12  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* xterm.c (x_connection_signal): New function.\n\t(x_initialize): Use it as signal handler.\n\n\t* keyboard.c (input_poll_signal): Add ignored argument.\n\t(interrupt_signal): Likewise.\n\n\t* dispnew.c (window_change_signal): Add ignored argument.\n\n1995-02-11  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* fileio.c (Fexpand_file_name): Look for a handler for defalt.\n\t(syms_of_fileio): Minor rearrangement.\n\n\t* ralloc.c: Include getpagesize.h unconditionally.\n\t(free_bloc): Don't die if bloc->next or bloc->prev is null.\n\t[!emacs] (bzero): New macro definition.\n\n\t* xmenu.c (menu_item_equiv_key): If command is an alias,\n\tcheck only the underlying command for a keyboard equivalent.\n\n\t* s/netbsd.h (WAIT_USE_INT): Defined.\n\t* syswait.h: New alternative specified by WAIT_USE_INT.\n\n\t* process.c (Fstart_process): Make process marker point into proc buf.\n\n1995-02-10  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* data.c: Rename arg OBJ to OBJECT in all type predicates.\n\t(Ftype_of): New function.\n\n1995-02-09  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* xfaces.c (load_color): Ignore failure from XAllocColor.\n\t* xfns.c (x_decode_color): Ignore failure from defined_color.\n\n\t* m/intel386.h [SOLARIS2_4, !__GNUC__] (C_SWITCH_SYSTEM): Defined..\n\t[SOLARIS2_4, !__GNUC__]: Include alloca.h.\n\n1995-02-07  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* Makefile.in.in (maintainer-clean): Renamed from realclean.\n\tPrint warning message.\n\n1995-02-07  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* keyboard.c (command_loop_1): Put back cancel_echoing call, if\n\tthere's a perdisplay for it to apply to.\n\t(init_perdisplay): Initialize echo vars.\n\n\t* xdisp.c (message_log_check_duplicate): New function.\n\t(message_dolog): Delete previous line if the new one is a\n\tduplicate.  Include a counter if appropriate.\n\tDon't bother truncating the buffer until after adding newline.\n\n1995-02-06  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* lisp.h (struct PERDISPLAY): Add Vlast_event_frame.\n\tDefine internal_last_event_frame only #if MULTI_FRAME.\n\tAdd some placeholders so we don't need to rebuild every time this\n\tstruct changes.\n\t* keyboard.c (internal_last_event_frame, Vlast_event_frame):\n\tDeleted; now part of perdisplay.  All uses changed.\n\t(MOUSE_ACTIVITY_AVAILABLE) Deleted.\n\t(find_active_event_queue): New arg check_mouse.  All callers changed.\n\t(Vlast_event_frame): Change from DEFVAR_LISP to DEFVAR_DISPLAY.\n\t* frame.c (do_switch_frame): internal_last_event_frame is now in\n\tperdisplay.\n\n1995-02-05  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* ralloc.c (r_alloc_size_in_use): New function.\n\n\t* alloc.c (emacs_blocked_malloc): Set __malloc_extra_blocks here.\n\t(malloc_hysteresis): New variable.\n\t(init_alloc_once): Initialize malloc_hysteresis.\n\t(buffer_memory_full): New function.\n\t* emacs.c (main): Undo previous change.\n\t* buffer.c (Fget_buffer_create): Call buffer_memory_full.\n\n\t* alloc.c (refill_memory_reserve): New function.\n\t* ralloc.c (r_alloc_free): Call refill_memory_reserve.\n\n1995-02-04  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* alloc.c (SPARE_MEMORY): New macro.\n\t(emacs_blocked_free): If no spare_memory now, and enough free\n\tspace is available, get a new spare.\n\t(__malloc_size_t, _bytes_used): Declared.\n\t(bytes_used_when_full): New variable.\n\n\t* frame.h (struct frame): New field window_sizes_changed.\n\t(FRAME_WINDOW_SIZES_CHANGED): New macro (two definitions).\n\t* window.c (Fdelete_window, set_window_height, set_window_width)\n\t(Fsplit_window, Fset_window_configuration): Set\n\tFRAME_WINDOW_SIZES_CHANGED to 1 in the frame being changed.\n\t* xdisp.c (Vwindow_size_change_functions): New variable.\n\t(prepare_menu_bars): Call those functions.  Add gcproing.\n\t(syms_of_xdisp): Set up Lisp variable.\n\n\t* alloc.c (syms_of_alloc): Improve memory exhausted error message.\n\t(init_alloc_once): Allocate spare_memory.\n\t(memory_full): Free spare_memory.\n\n1995-02-03  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* xselect.c (x_get_foreign_selection, x_reply_selection_request):\n\tUse an unwind-protect to call x_stop_queuing_selection_requests.\n\t(some_frame_on_display): New function.\n\t(queue_selection_requests_unwind): New function.\n\n1995-02-03  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* callint.c (syms_of_callint): Move DEFVAR_DISPLAY's ...\n\t* keyboard.c (syms_of_keyboard): ... to here.\n\t[MULTI_PERDISPLAY] (current_perdisplay, all_perdisplays): New vars.\n\t(find_active_event_queue): Search all perdisplays.\n\t(init_perdisplay, wipe_perdisplay): New functions.\n\t(init_keyboard): Move perdisplay initialization to init_perdisplay.\n\t(syms_of_keyboard): Likewise.\n\t(cmd_error): Cancel echoing here.\n\t(command_loop_1): Not here.\n\n\t* lisp.h (all_perdisplays): New var.\n\t(struct PERDISPLAY): New member next_perdisplay.\n\t* alloc.c (mark_perdisplays): New function.\n\t(Fgarbage_collect): Call it.\n\t* lread.c (defvar_display): Don't staticpro; these objects are now\n\tprotected through mark_perdisplays.\n\t* xterm.c [MULTI_PERDISPLAY] (x_term_init): Initialize perdisplay.\n\t[MULTI_PERDISPLAY] (x_delete_display): Destroy perdisplay.\n\t(x_delete_display): Use xfree, not free.\n\n\t* lisp.h (defvar_display): Declare this function.\n\t(DEFVAR_DISPLAY): Use current_perdisplay, not get_perdisplay.\n\t* data.c (do_symval_forwarding): Likewise.\n\t(store_symval_forwarding, find_symbol_value): Likewise.\n\t* print.c (print): Likewise.\n\t* keyboard.c (echo_prompt, echo_char, echo_dash, echo): Likewise.\n\t(cancel_echoing, echo_length, read_char, Fdiscard_input): Likewise.\n\t(stuff_buffered_input): Likewise.\n\n1995-02-03  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* xdisp.c (display_text_line): Deduct minibuf prompt from taboffset.\n\t(try_window): Deduct minibuf prompt from tab_offset, after 1st line.\n\n1995-02-02  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* xselect.c (wait_for_property_change): Avoid unlikely timing error.\n\n\t* keyboard.c (kbd_buffer_get_event, swallow_events):\n\tRemove selection_request event from input queue before processing it.\n\n1995-02-01  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* macros.c (Fexecute_kbd_macro): Clear prefix arg here.\n\t* keyboard.c (cmd_error): And here.\n\t(command_loop_1): Not here.\n\t(command_loop_1): Save original perdisplay in case we're already\n\tlocked to a particular display.\n\tMove display-specific cleanup to end of main loop.\n\tUse perdisplay to access prefix arg.\n\t(Fcommand_execute, Fexecute_extended_command): Use perdisplay.\n\n1995-02-01  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* xterm.c (x_unqueue_events): Arg is now a Display *.\n\t(x_start_queuing_selection_requests): Likewise.\n\t(x_stop_queuing_selection_requests): Likewise.\n\t* xselect.c (x_get_foreign_selection): Pass display to\n\tx_start_queueing_selection_events and x_stop_queueing_selection_events.\n\n\t* xselect.c (x_reply_selection_request): Call\n\tx_start_queueing_selection_events and x_stop_queueing_selection_events.\n\tHandle X protocol errors.\n\n1995-01-31  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* callint.c (Fcall_interactively): Use perdisplay.\n\t(Vprefix_arg, Vcurrent_prefix_arg): Delete vars; now in perdisplay.\n\t(syms_of_callint): Use DEFVAR_DISPLAY for prefix-arg and\n\tcurrent-prefix-arg.\n\t* minibuf.c (read_minibuf, read_minibuf_unwind): Use perdisplay.\n\t* mocklisp.c (Fml_provide_prefix_argument): Use perdisplay.\n\t(Fml_prefix_argument_loop): Likewise.\n\t* lisp.h (current_perdisplay): New var.\n\t(DEFVAR_DISPLAY): Add missing ampersand.\n\t(Vprefix_arg, Vcurrent_prefix_arg): Delete; now in perdisplay.\n\n\t* lread.c [!MULTI_PERDISPLAY] (defvar_display): Use staticpro.\n\n1995-01-31  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* emacs.c (main) [REL_ALLOC]: Set __malloc_extra_blocks.\n\n1995-01-30  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* buffer.c (syms_of_buffer): overwrite-mode doc fix.\n\n1995-01-30  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* lisp.h [MULTI_PERDISPLAY]: Declare get_perdisplay as a function.\n\t* xterm.c [MULTI_PERDISPLAY] (get_perdisplay): Define this as an\n\texported function.\n\t* xterm.h [MULTI_PERDISPLAY] (get_perdisplay): Define this as a\n\tmacro, for sources that include this header.\n\t[MULTI_PERDISPLAY] (get_perdisplay_macro): Internal macro version.\n\n\t* lisp.h (DEFVAR_DISPLAY): New macro.\n\t* lread.c (defvar_display): New function.\n\n\t* lisp.h: Declare store_symval_forwarding here.\n\t* eval.c (specbind): Not here.\n\t(specbind): Handle display-local vars.\n\t* data.c (do_symval_forwarding): Handle display-local vars.\n\t(store_symval_forwarding, find_symbol_value): Likewise.\n\t(Fmake_variable_buffer_local): Disallow display-local vars here.\n\t(Fmake_local_variable): Likewise.\n\n\t* keyboard.c (syms_of_keyboard): Fix missing backslashes.\n\n1995-01-29  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* fns.c (Frassoc): New function.\n\t(syms_of_fns): defsubr it.\n\n1995-01-28  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* ecrt0.c: Renamed from crt0.c.\n\t* Makefile.in.in (ecrt0.o): Target renamed from crt0.o.\n\t(START_FILES): Use ecrt0.o.\n\n1995-01-27  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* lisp.h (PERDISPLAY, the_only_perdisplay, get_perdisplay):\n\tRenamed from PERD, etc.  All uses changed.\n\t(ECHOBUFSIZE): New constant, replaces sizeof (echobuf).\n\t(enum Lisp_Misc_Type): New enumeration Lisp_Misc_Display_Local.\n\t(struct Lisp_Display_Objfwd): New structure.\n\t(XDISPLAY_OBJFWD, DISPLAY_OBJFWDP): Access the new structure.\n\t(union Lisp_Misc): Add new member.\n\t* keyboard.c (kbd_buffer_frame_or_window): Delete; now in perdisplay.\n\t(immediate_echo, echobuf, echoptr, echo_after_prompt): Likewise.\n\t(echo_prompt, echo_char, echo_dash): use perdisplay and ECHOBUFSIZE.\n\t(echo, cancel_echoing, echo_length, echo_truncate): Likewise.\n\t(read_char, kbd_buffer_store_event, kbd_buffer_get_event): Likewise.\n\t(Fdiscard_input, stuff_buffered_input): Likewise.\n\t(init_keyboard, syms_of_keyboard): Likewise.\n\t* alloc.c (mark_object): Ignore Lisp_Misc_Display_Objfwd objects.\n\t* print.c (print): Handle internal display-local object.\n\t* .gdbinit (xdispobjfwd): New macro.\n\n\t* xdisp.c (message_log_need_newline): This var is now static.\n\t(message_dolog): Set message_log_need_newline appropriately.\n\tDon't change it at all if message logging is currently disabled.\n\t(message_log_maybe_newline): New function.\n\t(message2): Use message_log_maybe_newline.\n\t* print.c (printchar, strout): Use message_log_maybe_newline.\n\tLeave all of the newline bookkeeping to message_dolog.\n\t* lisp.h (message_log_maybe_newline): Function declared.\n\n\t* xdisp.c (message_dolog): Rename \" *Messages*\" buffer to \"*Messages*\"\n\n1995-01-27  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* minibuf.c (Fread_string): Add third arg HISTORY.\n\t* callint.c (Fcall_interactively): Pass new arg to Fread_string.\n\n1995-01-27  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* insdel.c (modify_region): Clear point_before_scroll field.\n\n1995-01-25  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* buffer.h (struct buffer): New field point_before_scroll.\n\t* buffer.c (init_buffer_once, syms_of_buffer):\n\tSet up buffer-local var point_before_scroll.\n\t(reset_buffer): Init point_before_scroll.\n\t* intervals.c (set_point): Set point_before_scroll to nil.\n\n1995-01-24  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* lisp.h (PERD): New struct containing per-display data.\n\t(the_only_perd): Declare an instance of it.\n\t(get_perd): Macro to retrieve it.\n\t* keyboard.c (the_only_perd): Define this var here.\n\t(kbd_buffer, kbd_fetch_ptr, kbd_store_ptr): Delete; now part of perd.\n\t(find_active_event_queue): New function.\n\t(readable_events, kbd_buffer_get_event, swallow_events): Use it.\n\t(kbd_buffer_store_event): Store in EVENT's frame's queue.\n\t(Fdiscard_input, stuff_buffered_input): Use perd.\n\t(init_keyboard): Initialize the new vars.\n\tkbd_buffer is now a pointer, not an array.\n\t* xterm.h (struct x_display_info): New member display_perd.\n\n\t* process.c (process_tick, update_tick): Make non-static.\n\n1995-01-24  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keyboard.c (read_key_sequence): New arg dont_downcase_last\n\tinhibits downcasing the last event, when it's uppercase and undefined.\n\t(Fread_key_sequence): Likewise new arg.\n\t* callint.c (Fcall_interactively): Define K mostly like k.\n\tPass new arg to Fread_key_sequence.\n\t* keymap.c (Flocal_set_key, Fglobal_set_key): Use K, not k, to read key seq arg.\n\n1995-01-23  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* indent.c (compute_motion): Don't get hung in selective-display loop.\n\n\t* syssignal.h: Don't use function prototypes.\n\n\t* keyboard.c (read_key_sequence): Don't wait for a possible key\n\ttranslation sequence if we already have a binding.\n\tAdd missing break statement.\n\n\t* sysselect.h: New file, mostly extracted from process.c and xterm.c.\n\t* process.c: #include sysselect.h instead of defining things by hand.\n\t* sysdep.c (sys_select): Renamed from select.  Use SELECT_TYPE\n\tinstead of int.  Defer to native select if that function is usable.\n\t* config.h (HAVE_SYS_SELECT_H): Add #undef for configure.\n\t* s/isc3-0.h (BROKEN_SELECT_NON_X): #define this.\n\n\t* s/isc3-0.h [__GNUC__] (POSIX_SIGNALS): #define this.\n\t[__GNUC__] (sigsetmask, HAVE_SYSV_SIGPAUSE): #undef these.\n\t(LIBX11_SYSTEM): Don't use -lc; loading this before -lcposix gives\n\tus the wrong signal functions.\n\t(C_SWITCH_SYSTEM): Add _XOPEN_SOURCE.\n\t(EXTRA_INITIALIZE): Make conditional on __GNUC__.\n\n1995-01-22  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* minibuf.c (read_minibuf): Don't print the prompt in batch mode.\n\n\t* emacs.c (sort_args): Ordinary args get priority 0.\n\tSo do -f, -l, -insert, etc.  --kill gets negative priority.\n\tEverything else gets positive priority.\n\n1995-01-21  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xterm.c (x_destroy_window): Don't let frame being destroyed\n\tremain in x_focus_event_frame.\n\n1995-01-21  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* config.h.in [NO_REMAP]: #undef static.\n\n1995-01-20  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* lisp.h (union Lisp_Misc): Make the `type' field just 16 bits,\n\tto match the substructures.\n\n1995-01-20  Morten Welinder  <terra@diku.dk>\n\n\t* fileio.c (file_name_as_directory, Ffile_name_directory)\n\t(Ffile_name_nondirectory): Delete special MSDOG code now covered by macros.\n\n\t* s/msdos.h (DEVICE_SEP, IS_DIRECTORY_SEP, IS_ANY_SEP): Defined.\n\n\t* msdos.c (XMenuCreate, XMenuAddPane, XMenuAddSelection, XMenuLocate)\n\t(XMenuActivate, XMenuDestroy): Add dummy `display *' argument.\n\n\t* xmenu.c [MSDOS]: #include msdos.h.\n\t* msdos.h (x_mouse_leave): Add neutralizing define.\n\t(XMenuCreate, XMenuAddPane, XMenuAddSelection, XMenuLocate)\n\t(XMenuActivate, XMenuDestroy): Add prototype.\n\t* Makefile.in.in (xmenu.o): Add msdos.h as dependency.\n\n\t* buffer.c (syms_of_buffer) [DOS_NT]: Add missing ';'.\n\n1995-01-19  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* textprop.c (Ftext_property_any): Handle the trivial case specially.\n\n\t* sysdep.c (seed_random): Renamed from srandom.\n\t(get_random): Renamed from random.  Return VALBITS random bits.\n\t* fns.c (Frandom): Call seed_random and get_random.\n\n\t* print.c (print): Print internal types too, for debugging.\n\tPrint appropriate message for invalid pseudovector or misc type.\n\n\t* .gdbinit (xboolfwd, xbuflocal, xbufobjfwd, xcompiled): New macros.\n\t(xintfwd, xmiscfree, xobjfwd, xoverlay, xwinconfig): New macros.\n\n1995-01-19  Abramo Bagnara  <abramo@sssup2.sssup.it>\n\n\t* term.c (term_get_fkeys_1): Bug fix for function key above f19.\n\n1995-01-18  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* editfns.c (subst_char_in_region_unwind): New function.\n\t(Fsubst_char_in_region): Use it to make undo_list t temporarily.\n\n\t* buffer.c (Fbuffer_local_variables): Unconditionally call\n\tfind_symbol_value, but conditionally use its value.\n\n\t* xrdb.c: Don't include sys/param.h.\n\t(MAXPATHLEN): Definition deleted.\n\n1995-01-18  Boris Goldowsky  <boris@cs.rochester.edu>\n\n\t* cmds.c (internal_self_insert): Don't test current_column\n\twhen deciding to call auto_fill_function.\n\n1995-01-18  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* lisp.h (SWITCH_ENUM_CAST): New macro.\n\t* alloc.c, data.c, keyboard.c, syntax.c, xdisp.c: Change all\n\toccurrences of SWITCH_ENUM_BUG to use SWITCH_ENUM_CAST instead.\n\n1995-01-18  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* window.c (Qtemp_buffer_show_hook): New hook.\n\t(syms_of_window): Init and staticpro it.\n\t(temp_output_buffer_show): Run the hook.\n\n1995-01-16  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* xdisp.c (message_dolog): Ignore narrowing.\n\tUse low-level functions, to bypass modification and motion hooks.\n\n\t* window.h (struct window): New member column_number_displayed.\n\t* xdisp.c (redisplay): Use that field instead of a global flag.\n\t(redisplay_window, display_mode_line, decode_mode_spec): Likewise.\n\n\t* cm.c (cmcheckmagic): New function.\n\t* cm.h: Declare it.\n\t* term.c (write_glyphs, insert_glyphs): Call it.\n\n1995-01-16  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keyboard.c (kbd_buffer_store_event): Cast arg of bcopy.\n\n1995-01-15  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>\n\n\t* ralloc.c (r_alloc_init): Remove unused variable END.\n\n1995-01-13  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* alloc.c (Fpurecopy): Mask size field when copying pseudovector.\n\n1994-01-12  Boris Goldowsky  <boris@cs.rochester.edu>\n\n\t* lisp.h: Declare Qrear_nonsticky.\n\n\t* cmds.c (Vuse_hard_newlines): New variable.\n\t(Fnewline): If use_hard_newlines is on, mark inserted\n\tnewline(s) with `hard' property, marked rear-nonsticky.\n\n1994-01-12  Tom Tromey  <tromey@drip.colorado.edu>\n\n\t* buffer.c (list_buffers_1, Flist_buffers): Functions deleted.\n\n1995-01-12  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* xdisp.c (message_log_need_newline): New var.\n\t(message_dolog): New function, extracted from message2.\n\t* print.c (printchar, strout): Call message_dolog.\n\t* lisp.h: Declare message_dolog.\n\n\t* alloc.c (DONT_COPY_FLAG): Default this to 1.\n\tCheck to make sure it's not the same as MARKBIT.\n\t(mark_object): Use the same XOR expression as elsewhere.\n\t(gc_sweep): Don't touch DONT_COPY_FLAG here; this one is a real\n\tsize field, not a mangled pointer.\n\n\t* fns.c (internal_equal): Delete redundant tests.\n\tMask size field when comparing pseudovectors.\n\n\t* fns.c (Frandom): Use VALBITS instead of hardcoded constants.\n\n1995-01-10  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* alloc.c (DONT_COPY_FLAG): Fix typo.\n\n\t* lisp.h: Use large constants for Lisp_Misc_Type.\n\n\t* lisp.h: Add some function declarations.\n\t* insdel.c: Declare all non-returning functions `void'.\n\t(insert_1): Make non-static.  New arg PREPARE.  All callers changed.\n\t* xdisp.c (Vmessage_log_max): New var.\n\t(syms_of_xdisp): defvar and initialize it.\n\t(message2_nolog): Renamed from message2.\n\t(message2): Log messages, then call message2_nolog.\n\t(message1_nolog): New function.\n\t* keyboard.c (echo): Don't log the key echoes.\n\t* alloc.c (Fgarbage_collect): Don't log the GC message.\n\n1995-01-10  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* emacs.c (main): Handle SIGABRT, SIGHWE, SIGPRE, SIGORE, SIGDLK,\n\tSIGCPULIM, if they are defined.\n\n\t* alloc.c (DONT_COPY_FLAG): New bit flag.\n\t(mark_object, gc_sweep, compact_strings): Use it.\n\n1995-01-10  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* editfns.c (Finsert_char): Check inherit flag for long strings too.\n\n\t* editfns.c (Fnarrow_to_region): Swap using temp Lisp_Object, not int.\n\n1995-01-10  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keyboard.c (syms_of_keyboard): Doc fix.\n\n\t* unexsunos4.c (unexec): Cast value of sbrk.\n\t(run_time_remap): Cast arg to brk.\n\t(brk_value): Renamed from Brk.\n\t(is_it): Cast 1st arg of mmap.\n\n1995-01-09  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keyboard.c (read_key_sequence): If first event is mouse click,\n\tuse the text property keymap from where the click was.\n\tNew local var orig_local_map.\n\n1995-01-09  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* window.c (Fscroll_other_window): On small windows, scroll by 1 line.\n\n1995-01-09  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* fns.c (internal_equal): Once again use a switch.\n\n\t* lisp.h (struct Lisp_Free, struct Lisp_Marker, etc.):\n\tMake the `type' field just 16 bits, and declare as int.\n\tAdd explicit spacer field after it.\n\t(struct Lisp_Marker): New field insertion_type.\n\n1995-01-08  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keymap.c (store_in_keymap): Copy a cons only if car is a string.\n\n\t* xterm.c: Don't include param.h.\n\n\t* buffer.c (syms_of_buffer): Doc fix.\n\n1995-01-06  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* m/alliant-2800.h (VALBITS, GCTYPEBITS): Deleted; default is better.\n\t* m/apollo.h, m/aviion.h, m/delta.h, m/hp800.h, m/ibmrt.h: Likewise.\n\t* m/intel386.h, m/nh4000.h, m/tower32v3.h: Likewise.\n\t* m/att3b.h (VALBITS, XTYPE): Adjust for new bit layout.\n\t* m/alpha.h, m/gec63.h, m/pfa50.h: Likewise.\n\n1995-01-05  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* frame.c [!MULTI_FRAME] (window_frame): New function.\n\t[!MULTI_FRAME] (syms_of_frame): defsubr it.\n\n1995-01-05  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>\n\n\t* doc.c (store_function_docstring, Fdocumentation): Use &\n\tPSEUDOVECTOR_SIZE_MASK on `size' field of compiled byte-code object.\n\t* callint.c (Fcall_interactively): Likewise.\n\t* eval.c (Fcommandp): Likewise.\n\n1995-01-04  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* alloc.c (mark_object, mark_buffer): Don't mark buffer twice.\n\n\t* .gdbinit (xint, xcar, xcdr): Use correct shift and mask values.\n\n\t* lisp.h [EXPLICIT_SIGN_EXTEND] (XINT): Use symbolic constants.\n\n1995-01-04  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* doc.c (store_function_docstring): Arg is now EMACS_INT.\n\n1995-01-02  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* lisp.h (enum Lisp_Type): Don't use trailing comma.\n\t(VALBITS, GCTYPEBITS): Define these regardless of NO_UNION_TYPE.\n\t[!NO_UNION_TYPE] (union Lisp_Object): Use symbolic constants.\n\n\t* alloc.c (mark_object): Make `else' visible outside MULTI_FRAME.\n\n1995-01-02  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keymap.c (store_in_keymap): While dumping, copy DEF if it's a cons.\n\n\t* buffer.c (reset_buffer): Don't alter intervals here.\n\t(Fget_buffer_create): Use BUF_MARKERS.  Init BUF_INTERVALS here.\n\t(Fkill_buffer): Use BUF_MARKERS; but don't touch it in indir buf.\n\tLikewise BUF_INTERVALS.  Don't free the text in indirect buffer.\n\tWhen killing a base buffer, kill its indirect buffers first.\n\t(init_buffer_once): Set up .text and BUF_INTERVALS\n\tin buffer_local_symbols and buffer_defaults.\n\n\t* alloc.c (mark_buffer, gc_sweep): Use BUF_INTERVALS.\n\t* editfns.c (Ftranspose_regions): Use BUF_INTERVALS.\n\t(transpose_markers): Use BUF_MARKERS.\n\n\t* insdel.c (insert_1, prepare_to_modify_buffer, insert_from_buffer_1):\n\tUse BUF_INTERVALS.\n\t(adjust_markers): Use BUF_MARKERS.\n\n\t* buffer.h (struct buffer): Fields markers and intervals moved out.\n\t(struct buffer_text): Fields markers and intervals moved here.\n\t(BUF_MARKERS, BUF_INTERVALS): New macros.\n\t* textprop.c (validate_interval_range): Use BUF_INTERVALS.\n\t* intervals.c: Use BUF_INTERVALS throughout.\n\t* marker.c: Use BUF_MARKERS throughout.\n\n\t* undo.c (Fprimitive_undo): Use base buffer's modtime field.\n\n1995-01-01  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* .gdbinit: Adapt to new Lisp_Object format.\n\t(xvectype, xmisctype): New commands.\n\t(xtype): Print the misc or vectorlike subtype too.\n\n\t* xdisp.c (redisplay_window): Call set_buffer_temp.\n\n\t* buffer.c (set_buffer_temp): New function.\n\n\t* buffer.h (struct buffer): Make buffer_file_type field unconditional.\n\t* buffer.c (reset_buffer_local_variables): Initialize\n\tbuffer_file_type field.\n\n\t* lisp.h (PVEC_BUFFER, PVEC_PROCESS, PVEC_FRAME, PVEC_COMPILED)\n\t(PVEC_WINDOW, PVEC_WINDOW_CONFIGURATION, PVEC_SUBR):\n\tNow enumeration constants, not macros.\n\t(PVEC_FLAG): Enumeration alias for PSEUDOVECTOR_FLAG.\n\n\t* buffer.h (struct buffer): save_modiff field deleted.\n\t(struct buffer_text): save_modiff field moved here.\n\t(SAVE_MODIFF, BUF_SAVE_MODIFF): New macros.\n\tUse them instead of direct access to save_modiff field.\n\t* buffer.c, editfns.c, fileio.c, filelock.c, insdel.c, keyboard.c:\n\t* undo.c, xdisp.c: Use SAVE_MODIFF and BUF_SAVE_MODIFF\n\tinstead of direct access to the save_modiff field.\n\t* window.c (temp_output_buffer_show): Use BUF_SAVE_MODIFF.\n\n\t* buffer.h (struct buffer): New field pt_marker.\n\tNew fields begv_marker, zv_marker.\n\t* buffer.c (Fget_buffer_create): Initialize pt_marker, begv/zv_marker.\n\t(set_buffer_internal): Use and update this markers.\n\tCopy undo_list in and out of the base buffer.\n\t(Fget_buffer_create): Init save_modiff field here.\n\t(reset_buffer): Not here.\n\t(Fbuffer_modified_p): Use BUF_SAVE_MODIFF.\n\t(Fset_buffer_modified_p): Use SAVE_MODIFF.\n\t(Fkill_buffer, list_buffers_1): Use BUF_SAVE_MODIFF.\n\n\t* term.c (term_init): Fatal error if screen is too small.\n\n1994-12-31  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xdisp.c (redisplay_window): For buffer_shared count,\n\ttreat an indirect buffer as equivalent to its base.\n\n\t* print.c (print): Don't drop thru to error for markers and overlays.\n\n1994-12-30  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* insdel.c (adjust_point): Use BUF_PT.\n\n\t* intervals.c (temp_set_point, set_point): Use BUF_PT.\n\t(get_local_map): Get keymap from specified buffer, not current one.\n\n\t* fileio.c (Finsert_file_contents, Fwrite_region):\n\tError if buffer is indirect.\n\t(Fdo_auto_save): Do nothing for an indirect buffer.\n\n\t* alloc.c (mark_buffer): In indirect buffer, mark the base buffer.\n\n\t* buffer.c (Fmake_indirect_buffer): New function.\n\t(Fbuffer_base_buffer): New function.\n\t(syms_of_buffer): defsubr them.\n\t(Fget_buffer_create): Initialize the size field.\n\n\t* print.c (print): Make buffer case a branch of\n\tthe Lisp_Vectorlike case.\n\n\t* alloc.c (mark_object): Make buffer case a branch of\n\tthe Lisp_Vectorlike case.\n\n\t* buffer.h (struct buffer): Make text field be a pointer.\n\tThe struct buffer_text field renamed to own_text.\n\tAdd fields indirect_to_buffer and size.\n\tMove pt, begv and zv fields here.\n\t(struct buffer_text): Moved from here.\n\t(BEGV, PT, ZV, BEGV_ADDR, PT_ADDR, ZV_ADDR): Corresponding changes.\n\t(BUF_BEGV, BUF_PT, BUF_ZV): Corresponding changes.\n\t(SET_BUF_ZV, SET_BUF_PT, point):\n\n\t* lisp.h (XSETBUFFER, BUFFERP, GC_BUFFERP): Rewrite: use pseudovectors.\n\t(enum Lisp_Type): Delete Lisp_Buffer.\n\t(enum Lisp_Misc_Type): Add Lisp_Misc_Float (not yet used).\n\n1994-12-29  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* lisp.h (VALBITS): Default now 28.\n\t(GCTYPEBITS): Default now 3.\n\n\t* lisp.h (enum Lisp_Type): Lisp_Process, Lisp_Window, Lisp_Frame,\n\tLisp_Subr deleted.\n\t(PSEUDOVECTORP, GC_PSEUDOVECTORP): Add paren for proper nesting.\n\t(PROCESSP, GC_PROCESSP, XSETPROCESS): Rewrite to use pseudovectors.\n\t(WINDOWP, GC_WINDOWP, XSETWINDOW): Likewise.\n\t(FRAMEP, GC_FRAMEP): Likewise.\n\t(SUBRP, GC_SUBRP, XSETSUBR): Likewise.\n\t(PVEC_SUBR): New macro.\n\t(struct Lisp_Subr): Add a size field.\n\t(DEFUN (both definitions)): Store that size field.\n\n\t* frame.h (XSETFRAME): Use pseudovector.\n\n\t* alloc.c (mark_object): Don't use Lisp_Process, Lisp_Window.\n\tHandle frames, compileds and subrs as branch of Lisp_Vectorlike case.\n\t(Fmake_byte_code): Use XSETCOMPILED.\n\n\t* data.c (Faref): Handle compiled function as pseudovector.\n\n\t* fns.c (Flength): Handle compiled function as pseudovector.\n\n\t* xterm.c (x_scroll_bar_handle_click): Use GC_WINDOWP.\n\t(XTframe_rehighlight, x_window_to_scroll_bar): Use GC_FRAMEP.\n\n\t* print.c (print): Get size of compiled function as pseudovector.\n\tUse a switch statement again.\n\n\t* process.h: Make size field an EMACS_INT.\n\n1994-12-28  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* unexsunos4.c [! sparc] (REL_INFO_TYPE): Use `struct relocation_info'.\n\n1994-12-27  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keyboard.c (make_lispy_event) [USE_X_TOOLKIT]: Turn off\n\tspecial handling of menu bar mouse events.\n\t(make_lispy_event): Tell pixel_to_glyph_coords not to clip.\n\n\t* xterm.c (XTupdate_begin): Fix backward test in previous change.\n\t(x_display_box_cursor): Don't redraw old cursor spot in mouse face\n\tif cursor was on a newline.\n\n\t* s/isc4-1.h: New file.\n\n1994-12-26  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xterm.c (XTread_socket): Handle button events from outside\n\tthe frame, received due to grabbing the mouse with a button.\n\n1994-12-25  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* callint.c (Vmouse_leave_buffer_hook, Qmouse_leave_buffer_hook):\n\tNew variables.\n\t(syms_of_callint): Set them up.\n\t(Fcall_interactively): Run the hook, for `@'.\n\n\t* buffer.c (syms_of_buffer): Doc fix for buffer-file-type.\n\n\t* search.c (set_search_regs): Really set search_regs.start and .end.\n\t(save_search_regs): Set them to 0 here.\n\n\t* minibuf.c (read_minibuf): GCPRO things.\n\n\t* lisp.h (enum Lisp_Type): Add Lisp_Type_Limit.\n\t* data.c (wrong_type_argument): Abort if VALUE is invalid Lisp object.\n\tUse Lisp_Type_Limit.\n\n1994-12-24  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* puresize.h (BASE_PURESIZE): Incremented by 20k.\n\n1994-12-23  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xfns.c (x_figure_window_size): Treat missing user-position parm\n\tas nil.\n\n1994-12-23  Steven Suhr  <ssuhr@riacs.edu>\n\n\t* scroll.c (scrolling_1): When scroll_region_ok is set, use a\n\tnew scrolling method which scrolls groups of lines directly\n\tto their final vertical positions.\n\t(struct matrix_elt): New field writecount.\n\t(calculate_direct_scrolling): New function.\n\t(do_direct_scrolling): New function.\n\n\t* term.c (scroll_region_cost): New variable.\n\t(calculate_costs): Put scroll region overhead in scroll_region_cost.\n\n\t* termchar.h (scroll_region_cost): Declared.\n\n\t* dispnew.c (scrolling): Fewer restrictions if scroll_region_ok is\n\tset.  New vector old_draw_cost for direct scrolling method.\n\n1994-12-23  Michal Jankowski  (Michal.Jankowski@fuw.edu.pl)\n\n\t* keyboard.c (read_char): Don't echo keys when echo_keystrokes is 0.\n\n1994-12-22  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xfns.c (x_set_frame_parameters): Handle icon-left, icon-top parms.\n\n1994-12-21  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* buffer.c (Fget_buffer_create): Copy the name, and clear text props.\n\n1994-12-20  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* eval.c (Fdefvar): Fix minor error in previous change.\n\t(funcall_lambda): Fetch bytecode and constants vector from file if nec.\n\n\t* lread.c (Qload_file_name, Vload_file_name): New variables.\n\t(syms_of_lread): Initialize and staticpro it.\n\t(Fload): Bind it.\n\t(read_list): Before dumping, ignore (#$ . WHATEVER)--return 0.\n\n\t* lread.c (read1): Implement #@ and #$ constructs.\n\n\t* frame.c (make_frame): Init buffer_predicate field.\n\n\t* doc.c (get_doc_string): Now static.  Arg now Lisp_Object.\n\tAllow (FILE . POS) as position argument.\n\t(Fdocumentation, Fdocumentation_property): Fix calls to get_doc_string.\n\t(Fdocumentation_property): Handle cons as value via get_doc_string.\n\t(read_doc_string): New function.\n\n\t* buffer.c (assoc_ignore_text_properties): New function.\n\t(Fget_buffer): Use assoc_ignore_text_properties.\n\n1994-12-19  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* s/dgux.h (C_DEBUG_SWITCH): Define this only if __GNUC__.\n\n1994-12-18  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* buffer.c (Fother_buffer): Take account of frame's buffer predicate.\n\n\t* frame.h (struct frame): New field buffer_predicate.\n\tMove all the Lisp_Object fields to the top.\n\n\t* frame.c (Fmodify_frame_parameters): For non-X frames,\n\tcall store_frame_param for each parameter set.\n\t(store_frame_param): Handle buffer_predicate field.\n\t(frame_buffer_predicate): New function.\n\t(Qbuffer_predicate): New variable.\n\t(syms_of_frame): Set it up.\n\n\t* alloc.c (mark_object): In a frame, mark the buffer_predicate.\n\tDon't mark the height and width fields.\n\n1994-12-15  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* minibuf.c (Fall_completions): New arg hide_spaces.\n\t(Fminibuffer_completion_help): Pass new arg.\n\n1994-12-14  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* emacs.c (main): Fix conversion of --display to -d.\n\n\t* xmenu.c (push_menu_item): New arg DEF.\n\t(single_keymap_panes, list_of_items): Pass new arg.\n\t(MENU_ITEMS_ITEM_DEFINITION): New macro.\n\t(MENU_ITEMS_ITEM_LENGTH): Now 5.\n\t[USE_X_TOOLKIT] (xmenu_show): Store 0 in call_data if item def is 0.\n\t(single_submenu): Likewise.\n\n\t* emacs.c (main): Implement --version.\n\n\t* xterm.c (XTupdate_begin): Discard records of prior mouse highlight\n\twhen frame must be redrawn.\n\n\t* textprop.c (add_properties): Add gcpro's.\n\t(Fadd_text_properties, copy_text_properties): Likewise.\n\n1994-12-13  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* s/sunos4-1-3.h: Just include sunos4shr--do nothing else.\n\n\t* eval.c (Fdefconst, Fdefvar): Error if too many arguments.\n\n1994-12-13  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* emacs.c (sort_args): Make `options' a vector of ints.\n\n1994-12-11  Richard Stallman  <rms@kepa>\n\n\t* buffer.c (report_overlay_modification): Renamed from\n\tverify_overlay_modification.\n\t* insdel.c: Calls changed.\n\n\t* insdel.c (signal_before_change, signal_after_change):\n\tCall verify_overlay_modification here.\n\t(prepare_to_modify_buffer): Don't call verify_overlay_modification.\n\n\t* buffer.c (call_overlay_mod_hooks): New args AFTER, ARG1, ARG2, ARG3.\n\tArgs START, END deleted.  Pass each function AFTER, ARG1 and ARG2,\n\tand ARG3 if ARG3 is not nil.\n\t(verify_overlay_modification): New args AFTER, ARG1, ARG2, ARG3.\n\tPass them to call_overlay_mod_hooks.\n\n\t* search.c (compile_pattern): Call re_set_registers here.\n\tAnd no need to BLOCK_INPUT for that.\n\t(compile_pattern_1): Instead of here.\n\n1994-12-10  Richard Stallman  <rms@kepa>\n\n\t* s/aix4-1.h: New file.\n\n\t* unexaix.c (unrelocate_symbols): Add AIX4_1 conditionals and code.\n\n\t* sysdep.c (sys_siglist) [AIX]: Add AIXHFT conditional.\n\n\t* systty.h: Change AIX conditional around HFNKEYS to AIXHFT.\n\n1994-12-09  Richard Stallman  <rms@green-hill>\n\n\t* bytecode.c (Fbyte_code): Call Ffollowing_char and Fprevious_char\n\tas functions.  Don't mask char-syntax arg to just 8 bits.\n\n1994-12-08  Richard Stallman  <rms@green-hill>\n\n\t* keyboard.c (read_char): After auto-saving, redisplay.\n\n1994-12-06  Richard Stallman  <rms@gnu.ai.mit.edu>\n\n\t* xfns.c (Fx_color_values): Doc fix.\n\n\t* buffer.c (list_buffers_1): Right-align the size values.\n\n\t* frame.h (struct frame): New field cost_calculation_baud_rate.\n\t(FRAME_COST_BAUD_RATE): New macro.\n\t* term.c (calculate_costs): Set FRAME_COST_BAUD_RATE.\n\tDon't test dont_calculate_costs.\n\t(dont_calculate_costs): Variable deleted.\n\t(term_init): Don't set dont_calculate_costs.\n\t* dispnew.c (update_frame): Call calculate_costs if baud_rate changed.\n\n1994-12-05  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* emacs.c (sort_args): Don't overwrite the terminating null pointer.\n\n1994-12-05  Richard Stallman  <rms@gnu.ai.mit.edu>\n\n\t* keyboard.c (read_key_sequence): Downcase undefined shifted fn keys.\n\n1994-12-04  Richard Stallman  <rms@gnu.ai.mit.edu>\n\n\t* emacs.c (argmatch): Take argc as arg; don't go past end of argv.\n\t(main): Change calls to argmatch.\n\n\t* intervals.h (INTERVAL_LAST_POS): Don't subtract 1 here.\n\n\t* intervals.c (compare_string_intervals): New function.\n\t* fns.c (internal_equal): Call compare_string_intervals.\n\t(Fstring_equal): Doc fix.\n\n\t* scroll.c (scroll_cost): FRAME_DELETE_COST and FRAME_DELETEN_COSTS\n\twere confused.  Fixed.\n\n\t* xterm.c (x_make_frame_visible, x_make_frame_invisible)\n\t(x_iconify_frame): Give error if frame has explicit_parent.\n\t(x_new_font): Don't set window height if frame has explicit_parent.\n\n\t* xfns.c (Fx_create_frame): Check for parent-id parameter.\n\tSet explicit_parent and parent fields.\n\tDon't set visibility if explicit_parent.\n\t[! USE_X_TOOLKIT] (x_window): Specify parent window.\n\n\t* xterm.h (struct x_display): New field explicit_parent.\n\n\t* s/ultrix4-3.h (SET_LINE_DISCIPLINE): Defined.\n\n\t* sysdep.c (child_setup_tty): Use CDISABLE for setting VERASE, VKILL.\n\t(init_sys_modes) [SET_LINE_DISCIPLINE]: Set specified line discipline.\n\t(reset_sys_modes) [SET_LINE_DISCIPLINE]: Restore old line discipline.\n\n1994-12-03  Richard Stallman  <rms@gnu.ai.mit.edu>\n\n\t* lread.c (readevalloop): Ignore ^M here.\n\n\t* emacs.c (argmatch): Handle lstr == 0.\n\n1994-11-28  Richard Stallman  <rms@gnu.ai.mit.edu>\n\n\t* regex.c (re_match_2_internal):\n\tRename label `succeed' to `succed_label'.\n\n\t* xfns.c (Fx_synchronize): Fix doc string syntax.\n\n\t* xmenu.c: Don't include ../oldXMenu/XMenu.h if USE_X_TOOLKIT.\n\n\t* Makefile.in.in: Fix erroneous comment syntax.\n\n\t* s/ultrix4-3.h: New file.\n\n\t* systty.h: Have just one conditional to include unistd.h.\n\tTest NEED_UNISTD_H, not AIX and IRIX4.\n\t(UNISTD_H_INCLUDED): Don't define or test this.\n\t* m/ibm370aix.h (NEED_UNISTD_H): Defined.\n\t* s/aix3-1.h (NEED_UNISTD_H): Defined.\n\t* s/irix4-0.h (NEED_UNISTD_H): Define.\n\n\t* fileio.c (internal_delete_file, internal_delete_file_1):\n\tNew functions.\n\t* buffer.c (Fkill_buffer): Use internal_delete_file.\n\t* callproc.c (delete_temp_file): Use internal_delete_file.\n\n1994-11-25  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>\n\n\t* search.c (search_regs_saved): Don't initialize; it dumps as pure.\n\n1994-11-24  Francesco Potort\u00ec  <pot@cnuce.cnr.it>\n\n\t* m/delta.h (C_SWITCH_MACHINE): -inline-functions removed,\n\tbecause the compiler shipped with R3V7 is not stable.\n\n1994-11-24  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keyboard.c (command_loop_1): Use safe_run_hooks to run\n\tdeferred-action-function.\n\t(Qdeferred_action_function): New variable.\n\t(syms_of_keyboard): Initialize and staticpro Qdeferred_action_function.\n\n1994-11-23  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keyboard.c (syms_of_keyboard): Doc fix.\n\n\t* fns.c (Fy_or_n_p): Handle exit-prefix in query-replace-map.\n\n1994-11-22  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* search.c (save_search_regs): Add declaration.\n\n\t* minibuf.c (Fminibuffer_complete_and_exit):\n\tCatch errors in do_completion.\n\t(complete_and_exit_1, complete_and_exit_2): New subroutines.\n\n\t* s/aix4.h: New file.\n\t* s/aix3-1.h (AIXHFT): Define.\n\t* m/ibmrs6000.h (OBJECTS_MACHINE): Define only if AIXHFT.\n\n\t* sysdep.c (init_sys_modes): Test AIXHFT, not AIX.\n\t(reset_sys_modes): Test AIXHFT.\n\t(hft_init, hft_reset): Test AIXHFT, not AIX.\n\n1994-11-21  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* window.c (Fdisplay_buffer): Use `b' to read existing buffer name.\n\n1994-11-21  David J. MacKenzie  (djm@mole.gnu.ai.mit.edu)\n\n\t* config.h.in: Add #undefs for --with-pop, --with-kerberos, and\n\t--with-hesiod.\n\n1994-11-19  Francesco Potort\u00ec  <pot@cnuce.cnr.it>\n\n\t* lisp.h (running_asynch_code): New global flag.\n\t* emacs.c (running_asynch_code): New global flag.\n\t(main): Initialize it.\n\t* process.c (read_process_output, exec_sentinel): Set and\n\treset the running_asynch_code global flag and restore match data.\n\n\t* search.c (Flooking_at, Fstring_match, search_buffer,\n\tFstore_match_data): Save the match data if a filter or a sentinel\n\tis running.\n\t(search_regs_saved, saved_search_regs): New variables.\n\t(save_search_regs, restore_match_data): New functions.\n\n1994-11-19  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* emacs.c (sort_args): New function.\n\t(main): Call sort_args.\n\tCheck for -d/-display after -nw, -batch, -help.\n\tAccept --display, with arg attached or separate.\n\n1994-11-18  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* filelock.c (init_filelock): Add missing semicolon.\n\n1994-11-18  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* indent.c (recompute_width_table): Do the right thing if no previous\n\ttable existed.\n\tFix Lisp_Object vs. integer problem.\n\t(width_run_cache_on_off): Let recompute_width_table create the vector.\n\n1994-11-17  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* lisp.h (enum Lisp_Misc_Type): Rename Lisp_Vector to\n\tLisp_Vectorlike.  Mark Lisp_Window_Configuration as obsolete.\n\t(PSEUDOVECTOR_FLAG, PSEUDOVECTOR_SIZE_MASK, PVEC_BUFFER,\n\tPVEC_PROCESS, PVEC_FRAME, PVEC_COMPILED, PVEC_WINDOW,\n\tPVEC_WINDOW_CONFIGURATION): New constants.\n\t(XSETPSEUDOVECTOR, PSEUDOVECTORP, VECTORLIKEP): New macros.\n\t(XSETVECTOR, XSETWINDOW_CONFIGURATION, VECTORP,\n\tWINDOW_CONFIGURATIONP): Use the new convention.\n\t(XSETCOMPILED): New macro.\n\t* print.c (print): Use type test macros.\n\t* keymap.c (Fsingle_key_description): Likewise.\n\t* doc.c (Fdocumentation): Likewise.\n\t* alloc.c (Fpurecopy): Likewise.\n\t(mark_object): Use the new pseudovector convention.\n\t* fns.c (Fvconcat, concat): Use Lisp_Vectorlike.\n\t* ntinevt.c (SET_FRAME): Use accessor macros.\n\t(key_event, do_mouse_event): Likewise.\n\n1994-11-17  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* filelock.c (init_filelock): Always copy lock_path.\n\t(lock_dir, superlock_file, MAKE_LOCK_NAME):\n\tRenamed from lock_path, superlock_path, MAKE_LOCK_PATH.\n\n1994-11-16  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* s/domain.h: New file.\n\n1994-11-16  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>\n\n\t* s/gnu.h [NOT_C_CODE]: Include fcntl.h.\n\n1994-11-16  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xdisp.c (try_window, display_text_line): Undo previous change.\n\n\t* dired.c (Fdirectory_files): Pass new arg to `compile_pattern'.\n\n\t* search.c (struct regexp_cache): New field `posix'.\n\t(compile_pattern_1): New arg `posix'.  Controls the syntax spec\n\tfor parsing; also record it in the cache.\n\t(compile_pattern): New arg `posix'.\n\t(looking_at_1, string_match_1, fast_string_match): Pass 0 for new arg.\n\t(search_buffer): New arg `posix'.  Now static.\n\t(search_command): New arg `posix'.  All callers changed.\n\t(Fposix_search_forward, Fposix_search_backward): New functions.\n\t(string_match_1, looking_at_1): New subroutines broken out.\n\t(Fstring_match, Flooking_at): Use them.\n\t(Fposix_string_match, Fposix_looking_at): New functions.\n\t(syms_of_search): defsubr new functions.\n\n1994-11-16  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>\n\n\t* xdisp.c (try_window): Don't pass window to Fget_char_property;\n\tpass its buffer.\n\t(display_text_line): Likewise.\n\n1994-11-16  Francesco Potort\u00ec  (pot@cnuce.cnr.it)\n\n\t* Makefile.in.in (TAGS): The new etags allows tagging DEFVARs.\n\n1994-11-15  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* lread.c (Fload): Call Fsubstitute_in_file_name after trying handler.\n\n\t* fileio.c (Fread_file_name_internal): Protect orig_string.\n\n1994-11-15  enami tsugutomo  <enami@sys.ptg.sony.co.jp>\n\n\t* keyboard.c (Fopen_dribble_file): Call fclose only when\n\tdribble is non zero.\n\n1994-11-15  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* keymap.c (access_keymap): Use type test macros.\n\n\t* alloc.c (Fmake_vector): Call allocate_vectorlike.\n\t(allocate_vectorlike): New function, extracted from Fmake_vector.\n\t* lisp.h: Declare allocate_vectorlike.\n\t(VECSIZE): New macro.\n\t* process.c (make_process): Use allocate_vectorlike and VECSIZE.\n\t* frame.c (make_frame): Likewise.\n\t* window.c (make_dummy_parent, make_window): Likewise.\n\t(Fcurrent_window_configuration): Likewise.\n\t(SAVE_WINDOW_DATA_SIZE): Macro deleted.\n\n\t* lisp.h: Delete declaration of Farray_length.\n\t* data.c (Farray_length): Delete this obsolete function.\n\t(Faref, Faset): If object is a string, use XSTRING, not XVECTOR.\n\t* fns.c (Flength): Don't call Farray_length, just use size field.\n\n\t* xterm.h (XSCROLL_BAR): Extract from Lisp_Vector, not generic pointer.\n\n\t* xselect.c (wait_for_property_change): Encode location as a cons\n\tof two integers instead of lying about the type.\n\t(wait_for_property_change_unwind): Decode it likewise.\n\n\t* eval.c (Finteractive_p): Use XSUBR instead of its expansion.\n\n\t* lisp.h (GC_INTEGERP, etc): New type-test macros for use during GC.\n\t* buffer.h (OVERLAY_POSITION): Use the new type-test macros.\n\t* process.c (NETCONN_P, kill_buffer_processes): Likewise.\n\t* buffer.c (overlays_at): Likewise.\n\t* filelock.c (unlock_all_files): Likewise.\n\t* xfns.c (x_window_to_frame): Likewise.\n\t(x_any_window_to_frame, x_top_window_to_frame): Likewise.\n\t* fileio.c (Fdo_auto_save): Likewise.\n\n\t* xfaces.c (Fpixmap_spec_p): Avoid function calls and assignments\n\tas arguments to a type-test macro.\n\t* textprop.c (PLIST_ELT_P): Likewise.\n\t* keymap.c (current_minor_maps): Likewise.\n\n\t* lisp.h (NATNUMP): New macro.\n\t(CHECK_NATNUM): Use that macro instead of its expansion.\n\t* data.c (Fnatnump): Likewise.\n\t* xfns.c (x_set_frame_parameters): Likewise.\n\t* keymap.c (access_keymap, store_in_keymap): Likewise.\n\t* doc.c (Fdocumentation): Likewise.\n\t* alloc.c (Fmake_list): Use CHECK_NATNUM instead of its expansion.\n\tNow signals using `wholenump' instead of `natnump'.\n\t(Fmake_vector, Fmake_string): Likewise.\n\n\t* data.c (syms_of_data): Set Qwholenump as function, not variable.\n\n\t* alloc.c (free_float): Don't assume XFASTINT accesses the raw bits.\n\t(make_float, free_cons, Fcons, Fmake_symbol, gc_sweep): Likewise.\n\n1994-11-15  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xterm.c (x_mouse_leave): New function broken out of XTread_socket.\n\tWhen x_focus_event_frame is nonzero, assume that frame gets focus.\n\t(XTread_socket): Use x_mouse_leave for LeaveNotify.\n\t* xmenu.c (xmenu_show): Call x_mouse_leave.\n\n\t* fileio.c (Fsubstitute_in_file_name): Run a handler.\n\t(Qsubstitute_in_file_name): New variable.\n\t(syms_of_fileio): Set it up.\n\n\t* lread.c (read_escape): For \\S-a, return A.\n\n\t* buffer.c (Frename_buffer): Rename arg NAME to NEWNAME.\n\n1994-11-14  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* s/freebsd.h (LD_SWITCH_SYSTEM): Add -dc and -dp.\n\t(HAVE_GETPAGESIZE): Defined.\n\n\t* sysdep.c (init_sys_modes): Maybe call tcflow.\n\n1994-11-14  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* lisp.h (enum Lisp_Misc_Type): Add new enumeration Lisp_Misc_Overlay.\n\t(enum Lisp_Type): Delete the corresponding enumeration from here.\n\t(struct Lisp_Overlay): New structure.\n\t(XOVERLAY, OVERLAYP): Access the new structure.\n\t(union Lisp_Misc): Add new member.\n\t* buffer.h (OVERLAY_START, OVERLAY_END): Use the new substructure.\n\t* alloc.c (mark_object, gc_sweep): Likewise.\n\t* print.c (print): Likewise.\n\t* buffer.c (Fmake_overlay): Likewise.\n\t(Foverlay_properties, Foverlay_get, Foverlay_put): Likewise.\n\t* fns.c (internal_equal): Likewise.\n\tSimplify by returning int.\n\t(Fequal): Use new interface to internal_equal.\n\n\t* buffer.c (list_buffers_1): Use PT, not point.\n\n1994-11-14  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* fileio.c (Finsert_file_contents): Init not_regular at the beginning.\n\n1994-11-14  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* buffer.c (Fkill_all_local_variables): Use XBUFFER_LOCAL_VALUE,\n\tnot XCONS.\n\n1994-11-14  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>\n\n\t* s/gnu.h (A_TEXT_OFFSET): Macro removed.\n\t(A_TEXT_SEEK): Define to just sizeof (struct exec).\n\n1994-11-14  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* lread.c (defvar_int): Use accessor macro.\n\t(defvar_bool, defvar_lisp_nopro, defvar_per_buffer): Likewise.\n\n1994-11-13  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xfaces.c (load_pixmap): Handle bitmap_id < 0.  F is a FRAME_PTR.\n\n\t* frame.c (syms_of_frame): Fix typo.\n\n\t* minibuf.c (Fdisplay_completion_list): Update COLUMN unconditionally.\n\tIf a name is long, put it on its own line.\n\n1994-11-13  Brendan Kehoe  (brendan@lisa.cygnus.com)\n\n\t* s/hpux9.h (C_SWITCH_SYSTEM) [__GNUC__]: Set -D_BSD to get the\n\tcorrect definitions from sys/wait.h.\n\n1994-11-12  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* frame.c (syms_of_frame): Doc fix for default-frame-alist.\n\n1994-11-11  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* fileio.c (Finsert_file_contents): If VISIT, set the buffer components\n\tsuch as the filename even before signaling error for non-regular file.\n\n\t* s/iris3-5.h, s/iris3-6.h (MAIL_USE_FLOCK): Defined.\n\t* s/irix3-3.h, s/irix5-0.h (MAIL_USE_FLOCK): Defined.\n\t* s/irix5-2.h: New file.\n\n\t* m/paragon.h: New file.\n\n1994-11-11  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* lisp.h (enum Lisp_Misc_Type): Add new enumerations\n\tLisp_Misc_Buffer_Local_Value and Lisp_Misc_Some_Buffer_Local_Value.\n\t(enum Lisp_Type): Delete the corresponding enumerations from here.\n\t(struct Lisp_Buffer_Local_Value): New structure.\n\t(XBUFFER_LOCAL_VALUE): Access the new structure.\n\t(BUFFER_LOCAL_VALUEP, BUFFER_SOME_LOCAL_VALUEP): Likewise.\n\t(union Lisp_Misc): Add new member.\n\t* alloc.c (mark_object): New code to handle buffer-local substructure.\n\t(gc_sweep): Generalize marker code to handle other substructures.\n\t* bytecode.c (Fbyte_code): Special case for buffer-local objects is\n\tnow handled by the more general test.  Simplify.\n\t* buffer.c (set_buffer_internal): Use XBUFFER_LOCAL_VALUE, not XCONS.\n\t* data.c (store_symval_forwarding): Likewise.\n\t(swap_in_symval_forwarding, Fset, default_value, Fset_default,\n\tFkill_local_variable): Likewise.\n\t(Fmake_variable_buffer_local): Use the new substructure.\n\t(Fmake_local_variable): Likewise.\n\n1994-11-10  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* process.c (create_process) [OSF1]: Use setpgid, not setpgrp.\n\n1994-11-09  Boris Goldowsky  <boris@cs.rochester.edu>\n\n\t* cmds.c (Fnewline): Always use insert_and_inherit.\n\n1994-11-09  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* lisp.h (FRAMEP): Use the second definition whenever HAVE_MOUSE.\n\n\t* keyboard.c (tracking_off): Test old value with NILP.\n\tRestore the old value whatever it may be.\n\t(syms_of_keyboard): Use DEFVAR_LISP for track-mouse.\n\n1994-11-09  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* data.c (Fboundp, find_symbol_value): Use type test macros\n\tinstead of checking XTYPE directly.\n\n\t* keyboard.c (print_help): Set help-mode in *Help* buffer.\n\t* keymap.c (describe_buffer_bindings): Likewise.\n\t* syntax.c (describe_syntax_1): Likewise.\n\n1994-11-08  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>\n\n\t* keyboard.c (EVENT_QUEUES_EMPTY): Only test do_mouse_tracking and\n\tmouse_moved #ifdef HAVE_MOUSE.\n\t(Ftrack_mouse): Protect with #ifdef HAVE_MOUSE.\n\t(syms_of_keyboard): Protect initialization of do_mouse_tracking,\n\tdefsubr of Strack_mouse, and DEFVAR of track-mouse with #ifdef\n\tHAVE_MOUSE.\n\n1994-11-07  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* frame.c (Fset_frame_height): Compare against height, not width.\n\n1994-11-07  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>\n\n\t* keyboard.c: Move decl of input_fd outside of #ifdef\n\tHAVE_X_WINDOWS.\n\n1994-11-03  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* xterm.c (XTread_socket): Generate iconify and deiconify events.\n\n1994-11-03  Geoff Voelker  <voelker@cs.washington.edu>\n\n\t* m/intel386.h (VIRT_ADDR_VARIES) [WINDOWSNT]: Defined.\n\t(DATA_END) [WINDOWSNT]: Defined.\n\t(DATA_START) [WINDOWSNT]: Defined.\n\t(HAVE_ALLOCA) [WINDOWSNT]: Defined.\n\n\t* s/windowsnt.h: Include malloc.h.\n\t(MODE_LINE_BINARY_TEXT): Defined.\n\t(HAVE_MOUSE): Defined.\n\n\t* ntheap.c (sbrk): Allow request sizes to be different than the\n\tpage size.\n\n\t* makefile.nt: Changed references of m\\m-windowsnt.h to\n\tm\\intel386.h and of s\\s-windowsnt.h to s\\windowsnt.h.\n\n1994-11-01  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* xfns.c (Fx_list_fonts): Don't bother to retrieve font info when\n\tthere's no size_ref to compare it against.\n\n\t* editfns.c (Fdecode_time): Fix Lisp_Object vs. integer problems.\n\tDon't use tm_gmtoff; it's not portable.\n\n\t* lisp.h: Leave DEVICE_SEP undefined by default.\n\n1994-11-01  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* buffer.c (init_buffer): Fix error message syntax.\n\n\t* fileio.c (Fsubstitute_in_file_name): Add missing #endif.\n\n\t* lread.c: Don't include ctype.h.\n\t(isfloat_string, read1): Don't use isdigit.\n\n\t* editfns.c (Fdecode_time): Change one XFASTINT to XINT.\n\n\t* s/windowsnt.h (SYSTEM_PURESIZE_EXTRA): Defined.\n\n1994-10-31  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* xfns.c (x_window): Make ibw 0 by default.\n\n1994-10-31  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* xterm.c (XTclear_end_of_line): Finish the line dance here too,\n\tjust as was done in XTwrite_glyphs.\n\n\t* xdisp.c (column_number_displayed): New variable.\n\t(redisplay, redisplay_window): If that var is set, do mode line.\n\t(display_mode_line): Unset the var.\n\t(decode_mode_spec): Set the var if %c was seen.\n\n1994-10-30  Geoff Voelker  <voelker@cs.washington.edu>\n\n\t* makefile.nt: New file.\n\t* nt.c, nt.h: New files.\n\t* ntheap.c, ntheap.h: New files.\n\t* ntinevt.c, ntinevt.h: New files.\n\t* ntproc.c, ntterm.c: New files.\n\n\t* m/windowsnt.h, s/windowsnt.h: New files.\n\n\t* nt.c: New file.\n\n\t* makefile.nt:New file.\n\n\t* lisp.h (DEVICE_SEP, DIRECTORY_SEP, IS_DEVICE_SEP)\n\t(IS_DIRECTORY_SEP, IS_ANY_SEP): New macros, defined if not already def.\n\n\t* s/msdos.h (DOS_NT): Defined.\n\n\t* term.c (term_init) [WINDOWSNT]: Do some Windows-specific\n\tinitialization, then skip the rest of the code.\n\t(FRAME_TERMCAP_P) [WINDOWSNT]: Always return 0.\n\n\t* systty.h: Test DOS_NT, not MSDOS.\n\n\t* syssignal.h [WINDOWSNT] (EMACS_KILLPG): Use win32_kill_process.\n\n\t* sysdep.c [WINDOWSNT]: Add includes for NT.\n\tDefine _P_WAIT.  Declare _spawnlp, _getpid.\n\t[WINDOWSNT] (select, strerror, vfork): Don't use these definitions.\n\n\t* sysdep.c (init_sys_modes): Test DOS_NT, not MSDOS.\n\t(emacs_get_tty, emacs_set_tty,(child_setup_tty, init_baud_rate): Ditto.\n\n\t* sysdep.c (sys_subshell) [WINDOWSNT]: Use _spawnlp. not vfork.\n\t(wait_for_termination) [WINDOWSNT]: Use wait.\n\t(discard_tty_input) [WINDOWSNT]: Do nothing at all.\n\n\t* process.c: Use macros IS_ANY_SEP, IS_DIRECTORY_SEP,\n\tIS_DEVICE_SEP, DIRECTORY_SEP, and DEVICE_SEP.\n\t[WINDOWSNT]: Add includes.  Don't define sys_siglist.\n\n\t* process.c (sigchld_handler): Work around bug in MS C compiler.\n\t(sigchld_handler) [WINDOWSNT]: Do not call signal.\n\t(signal_process) [WINDOWSNT]: Use win32_kill_process instead of kill.\n\t(read_process_output) [WINDOWSNT]: Use read_child_output instead of\n\tread.\n\n\t* process.c (create_process) [WINDOWSNT]: Use\n\tpipe_with_inherited_out  and pipe_with_inherited_in.\n\tUse the pid returned by child_setup.  Deal with not having vfork,\n\tCall register_child.\n\t(close_process_descs): Do nothing if WINDOWSNT.\n\n\t* process.c (proc_buffer_char): No longer static.\n\n\t* ndir.h (MAXNAMLEN) [WINDOWSNT]: Define as 255.\n\n\t* mem-limits.h [WINDOWSNT]: Don't include vlimit.h.\n\t(get_lim_data): Alternate definition for WINDOWSNT.\n\n\t* lread.c: Change explicit uses of the Unix directory separator\n\t'/' to uses of the macros IS_ANY_SEP, IS_DIRECTORY_SEP,\n\tIS_DEVICE_SEP, DIRECTORY_SEP, and DEVICE_SEP.\n\n\t* lread.c (init_lread) [WINDOWSNT]: Disable warnings about\n\tdirectories in the load path not existing.\n\n\t* lread.c (load): Test DOS_NT instead of MSDOS.\n\n\t* keyboard.c (read_key_sequence): Use flags instead of gotos to\n\tenable the Microsoft C compiler to compile the routine.\n\n\t* keyboard.c (read_avail_input) [WINDOWSNT]: Just return 0.\n\n\t* fileio.c: Change explicit uses of the Unix directory separator\n\t'/' to uses of the macros IS_ANY_SEP, IS_DIRECTORY_SEP,\n\tIS_DEVICE_SEP, DIRECTORY_SEP, and DEVICE_SEP.\n\n\t* fileio.c [WINDOWSNT]: Don't define HAVE_FSYNC; add includes for NT.\n\n\t* fileio.c (Ffile_name_absolute_p): Test DOS_NT instead of MSDOS.\n\t(Fwrite_region, Fdo_auto_save, Ffile_modes): Likewise.\n\n\t* fileio.c (Qfind_buffer_file_type): Test DOS_NT instead of MSDOS.\n\t(syms_of_files): Likewise.\n\t(Finsert_file_types): Test DOS_NT instead of MSDOS.\n\tRename local var try to trytry.\n\n\t* fileio.c (Fadd_name_to_file): Always fail.\n\t(Frename_file) [WINDOWSNT]: Use MoveFile, not link and unlink,\n\tand check for both ERROR_FILE_EXISTS and ERROR_ALREADY_EXISTS.\n\t(Fmake_directory_internal) [WINDOWSNT]: Invoke mkdir without the mask.\n\n\t* fileio.c (Fexpand_file_name): Test DOS_NT, not MSDOS.\n\t(Fexpand_file_name) [WINDOWSNT]: Accept // or \\\\ at start.\n\tCall dostonunix_filename for HOME envvar, for ~USER.\n\tQuote directory separators found in environment variables.\n\t(Fsubstitute_in_file_name): Test DOS_NT instead of MSDOS.\n\t(Fsubstitute_in_file_name) [WINDOWSNT]: Accept // or \\\\ at start.\n\tWork around alloca bug in MS compiler.\n\t(Ffile_name_directory): Test DOS_NT instead of MSDOS sometimes.\n\tBut don't insert a drive letter on windows.\n\n\t* emacs.c (Fdump_emacs): Don't reset the data start address by\n\tinvoking memory_warnings just before unexec-ing.\n\n\t* editfns.c (init_editfns): Get the username from the environment\n\tvariable USERNAME instead of USER.\n\n\t* dired.c: Use macros IS_ANY_SEP, IS_DIRECTORY_SEP, and DIRECTORY_SEP.\n\t(file-attributes) [WINDOWSNT]: Set st_gid and st_uid to Qnil; use\n\tget_inode_and_device_vals to fake up inode number and device number.\n\n\t* callproc.c (getenv_internal) [WINDOWSNT]: Use strnicmp, not bcmp.\n\n\t* callproc.c (child_setup): Use IS_DIRECTORY_SEP.\n\t[WINDOWSNT]: Call prepare_standard_handles.  Use spawnve.\n\tUse reset_standard_handles.\n\n\t* callproc.c (Fcall_process_region): Test DOS_NT, not MSDOS.\n\t(Fcall_process) [WINDOWSNT]: Call pipe_with_inherited_out.\n\tUse the return value of child_setup to get the child's pid;\n\tdon't call vfork etc. explicitly.\n\n\t* callproc.c [WINDOWSNT]: Add includes.  Define NOMINMAX, _P_NOWAIT.\n\t(Vbinary_process_input, Vbinary_process_output)\n\t(Qbuffer_file_type): Test DOS_NT, not MSDOS.\n\t(syms_of_callproc): Test DOS_NT, not MSDOS.\n\n\t* callproc.c (init_callproc): Test DOS_NT, not MSDOS.\n\n\t* buffer.h (struct buffer): Test DOS_NT, not MSDOS.\n\n\t* buffer.c (init_buffer): Use DIRECTORY_SEP, IS_DIRECTORY_SEP macros,\n\tnot character constants.\n\t(init_buffer_once, syms_of_buffer): Test DOS_NT, not MSDOS.\n\n1994-10-30  Erik Naggum  <erik@naggum.no>\n\n\t* editfns.c (Fdecode_time): New function.\n\t(syms_of_editfns): defsubr it.\n\n1994-10-30  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* keyboard.c (make_lispy_event): Record double and triple for drags.\n\tPut in click_modifier for multi-clicks.\n\t(read_key_sequence): Convert double-drag first to plan drag,\n\tand only later try a click.\n\n\t* unexsunos4.c (unexec): Don't print number of pure bytes used.\n\n1994-10-29  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xfns.c (Fx_create_frame):\n\tDon't set xlwmenu_default_font if not USE_X_TOOLKIT.\n\n\t* puresize.h (BASE_PURESIZE): Increment MULTI_FRAME value.\n\n1994-10-29  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* keyboard.c (read_avail_input): Fix Lisp_Object vs. int problem.\n\n1994-10-29  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* xterm.c (fast_find_position): Special case if POS is end of buffer.\n\n\t* xterm.c (x_delete_display): Call XrmDestroyDatabase.\n\n1994-10-28  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* s/osf1.h (LD_SWITCH_SYSTEM): Definitions deleted.\n\n\t* m/alpha.h (LD_SWITCH_MACHINE): New definition.\n\n1994-10-28  Rainer Schoepf  <Schoepf@Uni-Mainz.de>\n\n\t* s/osf1.h (INTERRUPTIBLE_IO, INTERRUPTIBLE_OPEN, INTERRUPTIBLE_CLOSE)\n\t(read, write, open, close): New definitions.\n\n1994-10-27  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* buffer.c (Fset_buffer_major_mode): New function.  Set the\n\tdefault major mode here.\n\t(Fget_buffer_create): Not here.\n\t(Fswitch_to_buffer): Call Fset_buffer_major_mode.\n\t(syms_of_buffer): defsubr the new function.\n\n\t* termhooks.h (iconify_event, deiconify_event): New enum event_kind's.\n\t* keyboard.c (kbd_buffer_get_event): Translate them to lispy events.\n\t(head_table): Initialize those new symbols appropriately.\n\t* frame.c (keys_of_frame): Bind those events to 'ignore, since the\n\twindow manager has already done the work.\n\n\t* xmenu.c (set_frame_menubar): Don't copy string during GC risk.\n\n1994-10-26  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* config.h.in (HAVE_GETPAGESIZE): Add #undef.\n\t* m/sequent-ptx.h (HAVE_GETPAGESIZE): Explicitly #undef.\n\t* s/linux.h, s/msdos.h (HAVE_GETPAGESIZE): Definition deleted.\n\t* m/symmetry.h (HAVE_GETPAGESIZE): Definition deleted.\n\n\t* xterm.c (x_destroy_window): Rewrite to fetch dpyinfo just once.\n\n\t* xfns.c (Fx_create_frame): Set xlwmenu_default_font.\n\n\t* widget.c (set_frame_size): Set app_shell and wmshell the same.\n\n\t* xterm.c [USE_X_TOOLKIT]: Make application context explicitly\n\tand support multiple top-level shells.\n\t(x_initialize): Call XtToolkitInitialize, XtCreateApplicationContext;\n\tdon't open display or make a shell.\n\t(x_term_init): Call XtOpenDisplay.\n\n\t* xfns.c [USE_X_TOOLKIT] (x_window): Use XtAppCreateShell.\n\t(Xt_app_shell, Xt_app_con): Variables deleted.\n\t(Fx_close_connection) [USE_X_TOOLKIT]: Call XtCloseDisplay.\n\n\t* xterm.c (x_scroll_bar_create): Use XMapRaised directly.\n\t(x_make_frame_visible, x_iconify_frame): Likewise.\n\t(XMapWindow): Macro definition deleted.\n\t(METABIT): Macro deleted.\n\t(MAXDESC, FD_SETSIZE, FD_SET, FD_CLEAR, FD_ZERO, FD_ISSET): Likewise.\n\t(x_id_name): Variable deleted.\n\n\t* process.c (status_message): Add a cast.\n\t(sigchld_handler): Add a cast.\n\n\t* xfns.c (x_window): Pass new arg f to hack_wm_protocols.\n\n\t* xdisp.c (display_text_line): Truncate the minibuf_prompt if nec.\n\n1994-10-26  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* window.c (syms_of_window): Fix missing \\n\\'s.\n\n1994-10-26  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xselect.c (x_own_selection, x_get_foreign_selection): Change calls\n\tto x_catch_errors and friends.\n\n\t* xfns.c (x_set_mouse_color, x_real_positions): Change calls\n\tto x_catch_errors and friends.\n\n\t* xterm.c (x_catch_errors, x_check_errors, x_had_errors_p)\n\t(x_uncatch_errors): Make the argument a display, not a frame.\n\n\t* xterm.c (XTread_socket_fake_io_error): New variable.\n\t(XTread_socket): Obey XTread_socket_fake_io_error.\n\n1994-10-25  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* process.c (list_processes_1): Print tty name.\n\n1994-10-25  Karl Fogel  (kfogel@phylo.life.uiuc.edu)\n\n\t* window.c (Vtemp_buffer_show_function): Doc fix.\n\n1994-10-25  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xterm.h: Delete X10 code.\n\n\t* xfns.c (Fx_create_frame): Don't increment reference_count\n\tuntil the frame is put on the frame list.\n\n\t* xterm.c (x_initialize): Init x_noop_count, x_focus_frame\n\tand x_highlight_frame here.\n\t(x_term_init): Not here.\n\n\t* xterm.c (x_term_init): Open the connection first thing;\n\tif that fails, don't allocate dpyinfo.\n\n1994-10-24  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* xdisp.c (decode_mode_spec): New spec %c, for current column.\n\n1994-10-24  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xselect.c (Fx_selection_exists_p): Fix backwards if.\n\n\t* xterm.c (x_delete_display): New function.\n\t(x_connection_closed): New args dpyinfo and error_message.\n\tDelete all frames on the dead display\n\tand all frames using them for minibuffers.\n\tCall x_delete_display.\n\tMaybe signal a Lisp error.\n\t* xfns.c (Fx_close_connection): Call x_delete_display.\n\n\t* xselect.c (Fx_selection_exists_p):\n\tIf selected_frame isn't an x frame, return nil.\n\n\t* keyboard.c (record_char): New subroutine.\n\t(read_char): Use record_char.\n\tSplit up menu-bar mouse click events here.\n\tCall record_char for both halves; likewise echo_char\n\tand add_command_key.\n\n1994-10-23  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xfns.c (x_display_info_for_name, Fx_open_connection):\n\tSignal error if x_term_init fails.\n\t(Fx_open_connection): New arg must_succeed.\n\n\t* xfns.c (x_real_positions): Catch errors and retry if error happens.\n\tNo need to block input here.\n\n\t* xterm.c (x_term_init): Don't report error here--just return 0.\n\n\t* xfns.c (Fx_create_frame): Don't store the frame name\n\ttill after FRAME_X_DISPLAY_INFO is set up.\n\t(Fx_close_connection): Renamed from Fx_close_current_connection\n\n\t* xfns.c: Many doc fixes and Lisp function arg renamings.\n\n\t* xterm.c (x_scroll_bar_report_motion): Store proper value in\n\t*bar_window (the Emacs window, not the X window number).\n\n1994-10-22  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keyboard.c (kbd_buffer_get_event):\n\tCope if mouse_position_hook does not store anything.\n\n\t* xterm.c (x_scroll_bar_report_motion): Don't clear *fp.\n\n\t* xterm.h (struct x_display_info):\n\tNew fields bitmaps, bitmaps_size, bitmaps_last.\n\t(struct x_bitmap_record): Structure moved here.\n\t* xfns.c (x_bitmaps, x_bitmap_size, x_bitmap_last):\n\tVariables deleted.  Use fields in x_display_info instead.\n\t(x_bitmaps_free): Variable deleted.\n\t(x_destroy_bitmap, x_allocate_bitmap_record): Don't use or set it.\n\t(x_allocate_bitmap_record): New arg f.  Callers changed.\n\t(x_lookup_pixmap): Function deleted.\n\t(x_destroy_all_bitmaps): New function.\n\t(Fx_close_current_connection): Call x_destroy_all_bitmaps.\n\tFree the fonts in the font table.  Free various other data\n\tthat dpyinfo points to.  Avoid using Fdelq.\n\n\t* xterm.c (x_wm_set_icon_pixmap): Use x_bitmap_pixmap.\n\n\t* xterm.c:\n\t(show_mouse_face): New arg dpyinfo.  All callers changed.\n\t(clear_mouse_face): New arg dpyinfo.  All callers changed.\n\n\t* xterm.h (struct font_info): New type.\n\t(struct x_display_info): New fields font_table, font_table_size\n\tand n_fonts.\n\n\t* xterm.h (struct x_display_info): New field scratch_cursor_gc.\n\t* xterm.c (scratch_cursor_gc): Variable deleted.\n\t(dumpglyphs): Use scratch_cursor_gc in x_display_info.\n\n\t* xterm.h (mouse_face_*): New fields.\n\t* xterm.c (mouse_face_*): Variables deleted.\n\tUse fields in x_display_info instead.\n\t* xterm.c (syms_of_xterm): Don't staticpro mouse_face_window.\n\n\t* xterm.c (expose_all_windows, expose_all_icons): Variables deleted.\n\t(BLOCK_INPUT_mask): Variable deleted.\n\n\t* xterm.h (struct x_display_info): New field x_id_name.\n\t* xfns.c (x_set_name, Fx_create_frame): Use x_id_name field.\n\t* xterm.c (x_term_init): Set up x_id_name field.\n\t(x_id_name): Variable deleted.\n\n\t* xterm.c (x_font_table, x_font_table_size, x_n_fonts): Vars deleted.\n\t(x_new_font): Use new fields.\n\t(warp_mouse_on_deiconify): Unused variable deleted.\n\n\t* xterm.c (x_term_init): Set up dpyinfo->xrdb.\n\tSet up dpyinfo->vertical_scroll_bar_cursor.\n\t(x_scroll_bar_create): Use vertical_scroll_bar_cursor slot.\n\t(x_vertical_scroll_bar_cursor): Variable deleted.\n\n\t* xterm.c (x_term_init): Really return dpyinfo.\n\n\t* insdel.c (insert_from_buffer_1): Don't use min.\n\n\t* xterm.c (x_term_init): Call add_keyboard_wait_descriptor,\n\tnot change_keyboard_wait_descriptor.\n\n\t* xfns.c (Fx_close_current_connection):\n\tCall delete_keyboard_wait_descriptor.\n\n\t* process.c: Handle multiple keyboard input descriptors.\n\t(non_keyboard_wait_mask): New variable.\n\t(Fset_process_filter): Update non_keyboard_wait_mask.\n\t(create_process, Fopen_network_stream, deactivate_process):\n\t(init_process, sigchld_handler): Likewise.\n\t(wait_reading_process_input): Maybe use non_keyboard_wait_mask.\n\t(add_keyboard_wait_descriptor):\n\tRenamed from change_keyboard_wait_descriptor.\n\tClear the old descriptor's bit only the first call.\n\t(delete_keyboard_wait_descriptor): New function.\n\t(keyboard_bit_set): New function.\n\t(wait_reading_process_input): Use keyboard_bit_set.\n\tStart the loop over process descs from 0, and explicitly\n\tignore non-process input descs.\n\t(init_process): Don't init keyboard_descriptor.\n\t(keyboard_descriptor): Variable deleted.\n\t(add_keyboard_wait_descriptor): Don't set keyboard_descriptor.\n\t(delete_keyboard_wait_descriptor): New function.\n\n\t* xterm.c (x_term_init): Pass new arg to init_sigio.\n\tDon't set old_fcntl_owner.\n\tDon't call change_input_fd.\n\t(XTread_socket): Loop over displays and process input from each.\n\n\t* sysdep.c: Never use input_fd if using X.\n\t(stuff_char): Do nothing if read_socket_hook.\n\t(setpgrp_of_tty): Function deleted.\n\t(init_sigio): Take fd as argument.  Callers changed.\n\tDon't call request_sigio; do the work here.\n\t(request_sigio, unrequest_sigio): Do nothing if read_socket_hook.\n\t(init_sys_modes): Don't call EMACS_GET_TTY unless we are going\n\tto change the settings.\n\n\t* xfns.c (Fx_close_current_connection): Call check_x_display_info.\n\tDelete the display from x_display_list and x_display_name_list.\n\t(Fx_display_list): New function.\n\t(syms_of_xfns): defsubr it.\n\n\t* xterm.c (x_display_name_list): New variable.\n\t(syms_of_xterm): staticpro it.\n\tDon't staticpro slots in the_x_screen.\n\t(x_term_init): Update x_display_name_list along with x_display_list.\n\tActually malloc the x_display_info.\n\t(the_x_screen): Variable deleted.\n\n\t* xfns.c (Fx_list_fonts): Use `name_list_element' field.\n\t(x_display_info_for_name): Scan x_display_name_list\n\talong with x_display_list.\n\n\t* xterm.h (struct x_display_info): Replace elements `name'\n\tand `face_list_cache' with one cons cell `name_list_element'.\n\t(x_display_name_list): Variable declared.\n\n1994-10-22  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* insdel.c (insert_from_buffer, insert_from_buffer_1): New functions.\n\t* editfns.c (Finsert_buffer_substring): Use insert_from_buffer\n\tinstead of insert.\n\n1994-10-21  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xmenu.c (xmenu_show): Get the screen number for DisplayHeight\n\tand DisplayWidth.  Use root_window slot in the x_display_info.\n\n\t* xfns.c (x_sync): Take frame ptr as arg.\n\t* frame.c (other_visible_frames): Pass a frame ptr to x_sync.\n\t* xterm.c (x_make_frame_visible, x_make_frame_invisible):\n\tPass a frame ptr to x_sync.\n\n1994-10-21  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* insdel.c (insert_before_markers): Don't inherit;\n\tinsert_before_markers_and_inherit does that.\n\n1994-10-21  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* dispnew.c (Fframe_or_buffer_changed_p):\n\tDetect deletion of a buffer at the end of the buffer list.\n\n\t* xterm.c (x_term_init): Init all the components of dpyinfo.\n\n\t* sysdep.c (input_fd): No longer static.\n\t* keyboard.c (read_avail_input): Use input_fd.\n\n1994-10-20  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xfns.c (check_x_display_info): New function.\n\t(Fx_create_frame): Use it.\n\t(Fx_display_*, Fx_server_*): Use fields in the x_display_info,\n\tnot static variables.  Call check_x_display_info.\n\n1994-10-20  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* window.c (Fdisplay_buffer): Make old_selected_window a Lisp_Object.\n\n1994-10-20  Tom Tromey  <tromey@drip.colorado.edu>\n\n\t* buffer.c (list_buffers_1): Always mark current_buffer read-only.\n\n1994-10-20  Frederic Pierresteguy  <F.Pierresteguy@frcl.bull.fr>\n\n\t* m/dpx2.h (LD_SWITCH_MACHINE): Defined.\n\n1994-10-20  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* term.c (calculate_costs): Call x_screen_planes.\n\t* xfns.c (x_screen_planes): New function.\n\n\t* xterm.h (EMACS_CLASS): Macro moved here.\n\t* xfns.c (EMACS_CLASS): Macro moved to xterm.h.\n\n\t* xfns.c (Qdisplay): New variable.\n\t(syms_of_xfns): Set it up.\n\t(Fx_create_frame): Handle display parameter\n\twhich says where to get the FRAME_X_DISPLAY_INFO.\n\t(x_display_info_for_name): New function.\n\n\t* xterm.c (x_display_info_for_display): New function.\n\n\t* xselect.c (Xatom_*): Variables deleted.\n\tUse slots in x_display_info structure instead.\n\t(symbol_to_x_atom, x_atom_to_symbol):\n\tNew arg dpyinfo.  All callers changed.\n\t(xatoms_of_xselect): Function deleted.\n\n\t* xfns.c (select_visual): New arg dpy.\n\n\t* xterm.h (struct x_display_info): New fields *_mod_mask.\n\t* xterm.c (x_*_mod_mask): Variables deleted.\n\t(x_x_to_emacs_modifiers, x_emacs_to_x_modifiers):\n\tNew arg dpyinfo; all callers changed.\n\tStore the masks in that structure.\n\n\t* xterm.h (struct x_display_info): New field icon_bitmap_id.\n\t* xterm.c (icon_bitmap): Variable deleted.\n\t(x_bitmap_icon): Use icon_bitmap_id in x_display_info.\n\n\t* xterm.c (icon_font_info): Variable deleted.\n\n\t* xterm.h (struct x_display_info): New field `connection'.\n\t* xterm.c (x_term_init): Set up `connection' field.\n\n\t* xterm.h (x_display_list): New variable.\n\t* xterm.c (x_find_modifier_meanings):\n\tArg is now struct x_display_info *.\n\t(x_term_init): Return an x_display_info *.\n\tStore all the data in it, including X atoms and xrdb.\n\tPut the x_display_info structure on x_display_list.\n\tPass name as Lisp_Object.\n\t(the_x_screen): Variable moved here.\n\t(syms_of_xterm): Staticpro parts of the_x_screen.\n\t* xfns.c (Fx_open_connection): Get dpyinfo from x_term_init.\n\tDon't set up atoms, xrdb here.  Pass name as Lisp_Object.\n\t(the_x_screen): Variable moved to xterm.c.\n\t(syms_of_xfns): Don't staticpro it here.\n\n\t* xterm.h (struct x_display_info): New field xrdb.\n\t* xfns.c (xrdb): Variable deleted.\n\t(Fx_get_resource): Use selected_frame's xrdb.\n\t(x_get_resource_string): Likewise.\n\n\t* xterm.h (XExposeRegionEvent): Unused macro deleted.\n\t(XGetWindowInfo, XGetFont, XLoseFont): Unused macros deleted.\n\t(MINWIDTH, MINHEIGHT, MAXWIDTH, MAXHEIGHT): Unused macros deleted.\n\t(MAX_FACES_AND_GLYPHS, Bitmap): Unused macros deleted.\n\t(struct event_queue): Structure deleted (was unused).\n\t(EVENT_BUFFER_SIZE): Macro deleted.\n\n\t* xterm.h (XClear): Macro deleted.  Callers use XClearWindow.\n\t(XWarpMousePointer): Macro deleted.  Callers use XWarpPointer.\n\t(XStuffPending): Macro deleted.  Callers use XPending.\n\t(XHandleError, XHandleIOError): Macros deleted.\n\tCallers use XSet...ErrorHandler.\n\t(XChangeWindowSize): Macro deleted.  Callers use XResizeWindow.\n\t(Color): Macro deleted; replaced with XColor.\n\t(FONT_TYPE): Macro deleted; replaced with XFontStruct.\n\t(PIX_TYPE): Macro deleted; replaced with unsigned long.\n\n\t* xterm.h (FRAME_X_SCREEN): New macro.\n\t(WHITE_PIX_DEFAULT, BLACK_PIX_DEFAULT): Take arg f.\n\t* xfaces.c (unload_color): Pass arg f to WHITE_PIX_DEFAULT\n\tand BLACK_PIX_DEFAULT.\n\n\t* xterm.c (windowinfo): Variable deleted.\n\n\t* xterm.h (ROOT_WINDOW): Macro deleted.\n\t(struct x_display_info): New field root_window.\n\tAll uses changed.\n\n\t* xterm.h (XDISPLAY): Macro deleted.\n\t(XFlushQueue): Macro deleted.  All callers changed.\n\t(DISPLAY_SCREEN_ARG): Macro deleted.\n\t(DISPLAY_CELLS): Macro deleted.\n\t(WINDOWINFO_TYPE): Macro deleted.\n\n\t* xterm.h (struct x_display_info): New fields Xatom...\n\t* xterm.c (Xatom_*): Variables deleted.\n\t(x_iconify_frame, XTread_socket): Get atoms from the x_display_info,\n\n\t* xfns.c (Fx_open_connection): Store the atoms in x_display_info.\n\t(hack_wm_protocols): New arg f.  Get atoms from x_display_info.\n\t(x_window): Get atoms from x_display_info.\n\n\t* xfns.c (Vmouse_depressed, mouse_buffer_offset): Variables deleted.\n\t(syms_of_xfns): Delete Lisp variables too.\n\t(Fx_synchronize): Take frame as arg.\n\t(Fx_close_current_connection): Take frame as arg.   Error is not fatal.\n\t* xterm.c (XTread_socket): Don't update Vmouse_depressed.\n\n\t* xterm.h (struct x_display_info): New field grabbed.\n\t* xterm.c (x_mouse_grabbed): Variable deleted.\n\t(note_mouse_highlight): Use grabbed field instead.\n\t(XTmouse_position, XTread_socket): Likewise.\n\t* xmenu.c (xdialog_show, xmenu_show):\n\tUse grabbed field instead of x_mouse_grabbed.\n\n\t* xfns.c (mouse_timestamp): Variable deleted.\n\n\t* xterm.h (struct x_display_info): Struct renamed from x_screen.\n\t(x_display): x_screen field renamed to display_info.\n\t(FRAME_X_DISPLAY): Use new name.\n\t(FRAME_X_DISPLAY_INFO): Likewise; also renamed from FRAME_X_SCREEN.\n\n\t* xterm.h (struct x_display_info):\n\tNew fields height, width, screen, visual, n_planes.\n\t* xfns.c (screen_visual, x_screen_planes): Variables deleted.\n\t(x_screen, x_screen_height, x_screen_width): Variables deleted.\n\t(Fx_open_connection): Don't set them here.\n\tPut that info in the x_display_info structure.\n\t(x_window): Get the visual from x_display_info structure.\n\t(x_decode_color): Use n_planes from x_display_info structure.\n\t* xterm.c (x_calc_absolute_position, x_wm_set_size_hint):\n\tGet screen height, width from the x_display_info structure.\n\t* xmenu.c (xmenu_show): Use the screen in FRAME_X_DISPLAY_INFO,\n\tnot the default screen.\n\n\t* xterm.c: Use FRAME_X_DISPLAY instead of x_current_display\n\tand XDISPLAY.\n\n\t* xfns.c: Use FRAME_X_DISPLAY instead of x_current_display\n\tand XDISPLAY.\n\t(x_in_use): New variable.\n\t(check_x, using_x_p): Test x_in_use.\n\t(Fx_open_connection): Set x_in_use.\n\t(check_x_frame): New function.\n\t(defined_color): New arg f specifies frame.  Callers changed.\n\t(x_decode_color): New arg f.  All callers changed.\n\t(Fx_color_values, Fx_color_defined_p): New arg FRAME.\n\tUse check_x_frame.\n\t(Fx_list_fonts): Use check_x_frame.\n\n\t* keyboard.c (do_mouse_tracking): Now a FRAME_PTR.\n\t(EVENT_QUEUES_EMPTY, Ftrack_mouse, tracking_off): Changed accordingly.\n\t(kbd_buffer_get_event): Let do_mouse_tracking specify the display\n\tfor mouse tracking.\n\n\t* minibuf.c (read_minibuf): Undo previous change.\n\n1994-10-19  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* window.c (Fdisplay_buffer): If the other window is smaller\n\tthan its peer, even out their heights.\n\n\t* xterm.c (x_catch_errors, x_check_errors, d_errors_p)\n\t(x_uncatch_errors): Take frame as arg.\n\t(x_stop_queuing_selection_requests, x_unqueue_events, x_queue_event)\n\t(x_start_queuing_selection_requests): Take frame as arg.\n\t(x_find_modifier_meanings): New arg `display'.  All callers changed.\n\t(x_scroll_bar_create, x_scroll_bar_set_handle)\n\t(x_scroll_bar_move): New local var f.\n\t(x_scroll_bar_report_motion): Rename arg f to fp.\n\tNew local var f.\n\t(XTmouse_position): Lossage.\n\t(frame_highlight, frame_unhighlight): Arg frame renamed to f.\n\n\t* callproc.c (child_setup): Always use _exit.\n\n\t* xselect.c (x_own_selection, x_get_foreign_selection): Pass frame\n\tto x_catch_errors, x_check_errors, x_uncatch_errors.\n\n\t* xfns.c (x_set_mouse_color): Pass frame to x_catch_errors,\n\tx_check_errors, x_uncatch_errors.\n\n\t* xselect.c (x_get_foreign_selection): Get display from\n\tselected_frame.  Pass frame to x_stop_queuing_selection_requests and\n\tx_start_queuing_selection_requests.\n\t(x_own_selection, Fx_disown_selection_internal, Fx_selection_exists_p)\n\t(Fx_store_cut_buffer_internal, Fx_get_cut_buffer_internal)\n\t(Fx_rotate_cut_buffers_internal): Get display from selected_frame.\n\n\t* xmenu.c: Use FRAME_X_DISPLAY, not XDISPLAY or x_current_display.\n\t(menu_item_equiv_key): Reject equiv sequences\n\tthat start with mouse clicks.\n\n1994-10-19  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* search.c (searchbufs): New variable, replaces searchbuf and\n\tlast_regexp and search_fastmap.\n\t(syms_of_search): Initialize it.\n\t(searchbuf_head): New variable.\n\t(compile_pattern_1): Renamed from compile_pattern and made static.\n\tCopy the regexp string in case the caller modifies it in place later.\n\t(compile_pattern): New code, uses a cached entry if one is available.\n\tThe pattern buffer is now a return value instead of an arg.\n\t(set_search_regs): Set num_regs directly, since there's no active\n\tpattern buffer to pass to re_set_registers.\n\t(Fstore_match_data): Likewise.\n\t(Flooking_at): Use the new calling convention for compile_pattern.\n\t(Fstring_match, fast_string_match, search_buffer): Likewise.\n\t* dired.c (Fdirectory_files): Likewise.\n\n1994-10-18  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keyboard.c (Voverriding_local_map_menu_flag): New variable.\n\t(syms_of_keyboard): Set up Lisp var.\n\t(menu_bar_items): Obey Voverriding_local_map_menu_flag.\n\n\t* ralloc.c (struct heap): New fields first_bloc, last_bloc.\n\t(struct bp): New field heap.\n\t(get_bloc, free_bloc, obtain, r_alloc_sbrk): Update new fields.\n\t(reorder_bloc): New function.\n\t(update_heap_bloc_correspondence):\n\tRenamed from update_heap_free_pointers.  Update new fields.\n\t(relinquish): Add error check for new fields.\n\n\t* Makefile.in.in (SOME_MACHINE_OBJECTS): Add msdos.o and x*.o files.\n\n1994-10-17  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* minibuf.c (read_minibuf): Store the object, not the string, into\n\tthe history variable.\n\n\t* xfns.c (x_set_unsplittable): New function.\n\t(x_frame_parms): Add that function to the table.\n\n\t* xterm.c (do_line_dance): Decrement index only once per loop.\n\n\t* scroll.c (do_line_insertion_deletion_costs): Fix argument order.\n\n1994-10-17  Morten Welinder  <terra@mole.gnu.ai.mit.edu>\n\n\t* fileio.c (Fexpand_file_name) [MSDOS]: Correct the for absolute\n\tdefault directory.\n\n\t* config.h.in [HAVE_X_WINDOWS]: #define HAVE_FACES and HAVE_MOUSE.\n\n\t* dispextern.h: Guard entire file from being include more than once.\n\t[MSDOS]: Include msdos.h.\n\n\t* dispnew.c (direct_output_for_insert): Check HAVE_FACES, not\n\tHAVE_X_WINDOWS.\n\t(selected_frame, last_minibuffer_frame): Doc fix.\n\n\t* dosfns.c (Fset_mouse_position, Fmsdos_mouse_p) [!HAVE_X_WINDOWS]:\n\tNew functions.\n\t(syms_of_dosfns) [!HAVE_X_WINDOWS]: Defsubr them.  Also define\n\tQmsdos_color_translate.\n\t(init_dosfns) [SYSTEM_MALLOC]: Don't call non-existing get_lim_data.\n\n\t* dosfns.h (Qmsdos_color_translate) [!HAVE_X_WINDOWS]: New variable.\n\n\t* editfns.c (init_editfns) [MSDOS]: Let the user name default to\n\t\"root\".\n\n\t* emacs.c (main) [MSDOS && !HAVE_X_WINDOWS]: Call syms_of_xfaces\n\tand syms_of_xmenu.\n\n\t* frame.c [MSDOS]: Include msdos.h.\n\t(Fframep #1) [MSDOS]: Doc change for the following.\n\t(Fframep #2) [MSDOS]: Return 'pc for when termcap is not used.\n\t(Fmouse_position #2) [HAVE_MOUSE]: Return useful information.\n\t(Fframe_parameters #2): Show \"font\" as \"default\".\n\t(Fframe_parameters #2) [MSDOS]: Show fore- and background colors.\n\t(Fmodify_frame_parameters #2) [MSDOS]: Call IT_set_frame_parameters.\n\t(Fframe_list #2): New stub function.\n\t(syms_of_frame #2): defsubr frame_list.\n\t(syms_of_frame #2) [MSDOS]: Initialize the_only_frame.\n\t(Fselected_frame #2): Doc fix.\n\n\t* frame.h [!MULTI_FRAME]: We give up having selected_frame be\n\tan always-zero integer variable.  From now on it will be a\n\tpointer to a `struct frame' just like in the MULTI_FRAME case.\n\t(selected_frame, last_nonminibuf_frame): use FRAME_PTR, not EMACS_INT.\n\t(XFRAME): Redefine to use the_only_frame.\n\t(XSETFRAME): Define to set Lisp value.\n\t(WINDOW_FRAME): Redefine to return Lisp value.\n\t(FOR_EACH_FRAME): Set the frame variable to Lisp value.\n\t(output_method): New method: output_msdos_raw.\n\t(FRAME_TERMCAP_P, FRAME_X_P) [MSDOS]: Define non-stub versions.\n\n\t* keyboard.c (read_char_x_menu_prompt): Include menu code also in\n\tcase MSDOS.\n\t(gobble_input): Complete Sep 15 change.\n\n\t* lisp.h: #define glyph-stuff when HAVE_FACES, not only when\n\tHAVE_X_WINDOWS.\n\t(FRAMEP): Define different versions for MULTI_FRAME and MSDOS.\n\tOtherwise, don't define at all.\n\n\t* Makefile.in.in (MSDOS_SUPPORT): Add faces.elc.\n\t(msdos.o, dosfns.o): Add dependencies.\n\t(MSDOS_OBJ): New set of object files.\n\t(obj): Include MSDOS_OBJ.\n\n\t* msdos.c: #include dispextern.h, termopt.h, and window.h needed\n\tfor the following.\n\t(highlight): New variable.\n\t(rien_du_tout, IT_ring_bell, IT_set_face, IT_write_glyphs,\n\tIT_clear_end_of_line, IT_cursor_to, IT_reassert_line_highlight,\n\tIT_change_line_highlight, IT_update_begin, IT_set_menu_bar_lines,\n\tIT_set_frame_parameters): New functions like their XT_* counterparts.\n\t(internal_terminal_init): Initialize Vwindow_system,\n\tVwindow_system_version, the_only_x_display, and terminal hooks.\n\t(mouse_get_xy): New function.\n\t(mouse_get_pos, mouse_check_moved): Use mouse_get_xy.\n\t(IT_menu_create, IT_menu_make_room, IT_menu_search_pane,\n\tIT_menu_calc_size, IT_menu_display, XMenuCreate, XMenuAddPane,\n\tXMenuAddSelection, XMenuLocate, XMenuActivate, XMenuDestroy,\n\tx_pixel_width, x_pixel_height): New functions.\n\t(init_environment) [HAVE_X_WINDOWS]: Let DISPLAY default to \"unix:0.0\".\n\t(init_environment): Handle the case of a relative argv[0].\n\t(dos_rawgetc): Use XSETFRAME.\n\t(the_only_x_display, x_current_display) [!HAVE_X_WINDOWS]: New\n\tvariables.\n\n\t* msdos.h (XFontStruct, GC, Pixmap, Display, Window) [MSDOS_NO_X]:\n\tDummy types.\n\t(struct face, FACE_HAS_GC, FACE_GC, FACE_FOREGROUND, FACE_BACKGROUND,\n\tFACE_FONT, FACE_STIPPLE, FACE_UNDERLINE_P) [MSDOS_NO_X]: Define like\n\tcorresponding X-versions.\n\t(struct x_display) [MSDOS_NO_X]: Define cut-down version.\n\t(FRAME_PARAM_FACES, FRAME_N_PARAM_FACES, FRAME_DEFAULT_PARAM_FACE,\n\tFRAME_MODE_LINE_PARAM_FACE, FRAME_COMPUTED_FACES,\n\tFRAME_N_COMPUTED_FACES, FRAME_SIZE_COMPUTED_FACES, FRAME_DEFAULT_FACE,\n\tFRAME_MODE_LINE_FACE, x_current_display, XFreeGC, same_size_fonts,\n\tunload_font, unload_color, XGetGeometry, DisplayWidth,\n\tDisplayHeight, XMenuSetAEQ, XMenuSetFreeze, XMenuRecompute,\n\tFONT_WIDTH, check_x, ButtonReleased) [MSDOS_NO_X]: Define suitable\n\tstubs.\n\t(XM_FAILURE, XM_SUCCESS, XM_NO_SELECT, XM_IA_SELECT) [MSDOS_NO_X]:\n\tDefine like old-x-menu versions.\n\tGuard the entire file from being included more than once.\n\t(internal_flush): Correct guarding conditional.\n\tDon't include <time.h>.\n\n\t* puresize.h (SYSTEM_PURESIZE_EXTRA): Default to 0.\n\t(BASE_PRESIZE): Increase by SYSTEM_PURESIZE_EXTRA.\n\n\t* s/msdos.h: #define HAVE_FACES.\n\t(LIBX11_SYSTEM, HAVE_X11R5) [HAVE_X_WINDOWS]: Define.\n\t(PURESIZE): Don't define.\n\t(SYSTEM_PURESIZE_EXTRA): Define.\n\n\t* sysdep.c (init_sys_modes): Make sure that internal_terminal_init\n\tis only called once.\n\t(init_sys_modes, reset_sys_modes) [HAVE_X_WINDOWS]: Add conditional.\n\t(reset_sys_modes) [MSDOS]: Change to MSDOG's default colors.\n\t(kbd_input_ast): Use just XSETFRAME.\n\n\t* window.c (init_window_once) [!MULTI_FRAME]: Set selected_frame and\n\tlast_nonminibuf_frame once and for all.\n\n\t* xdisp.c (redisplay, copy_part_of_rope, fix_glyph,\n\tdisplay_text_line, display_mode_line): Check HAVE_FACES, not\n\tHAVE_X_WINDOWS.\n\n\t* xfaces.c: Guard the file by HAVE_FACES, not HAVE_X_WINDOWS.\n\t[MSDOS]: Include dosfns.h needed for the following.\n\t[!HAVE_X_WINDOWS]: Don't #include xterm.h or Xos.h.\n\t[!HAVE_X_WINDOWS] (intern_face, clear_face_cache, load_font,\n\tload_color, unload_color, Fpixmap_spec_p, load_pixmap,\n\tsame_size_fonts, frame_update_line_height): Don't define.\n\t[!HAVE_X_WINDOWS] (intern_face, clear_face_cache, build_face): Define\n\tstubs.\n\t(load_color) [MSDOS && !HAVE_X_WINDOWS]: Special version.\n\t(Fset_face_attribute_internal) [MSDOS && !HAVE_X_WINDOWS]: Stubify\n\tfont setting, mask away 0x08 (the blink bit) from background color.\n\t(syms_of_xfaces) [!HAVE_X_WINDOWS]: Don't defsubr Spixmap_spec_p.\n\t(Fmake_face_internal): Use FOR_EACH_FRAME.\n\t(init_frame_faces): Guard multi-frame stuff with MULTI_FRAME.\n\n\t* xmenu.c [!HAVE_X_WINDOWS]: Don't #include xterm.h.\n\t[!HAVE_X_MENU]: Don't #include XMenu.h.\n\t(xmenu_show, xdialog_show) [!HAVE_X_WINDOWS]: We don't need the\n\tbutton hack for msdos.\n\t(xmenu_show) [!HAVE_X_WINDOWS]: Don't adjust coordinates with\n\trespect to the (non-existing) outer window manager.\n\n\t* xterm.c (x_term_init) [!subprocesses]: Don't set input descriptor.\n\n\n1994-10-17  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xfaces.c (intern_face): Update mask properly to set stipple\n\tand fill_style.  Set everything all at once in XCreateGC.\n\n\t* window.c (Fdisplay_buffer): In desperation case of looking for\n\tsomething to split, verify that a window's frame is splittable.\n\n1994-10-16  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* Makefile.in.in (xfns.o): Depend on paths.h.\n\n\t* xfns.c: Include paths.h.\n\n1994-10-16  Morten Welinder  <terra@mole.gnu.ai.mit.edu>\n\n\t* editfns.c (Fuser_login_name): Optional argument uid decides\n\twhich user's login name to return.\n\n1994-10-16  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xterm.c (dumpglyphs): Explicitly draw background stipple.\n\n\t* xfaces.c (intern_face): Set the fill_style.\n\n\t* paths.h.in (PATH_BITMAPS): New macro.\n\n\t* xterm.c (x_bitmap_icon): Arg FILE is now a Lisp_Object.\n\t(x_iconify_frame, x_make_frame_visible): Supply FILE arg to it.\n\t* xfns.c (x_set_icon_type): Pass x_bitmap_icon 2nd arg as Lisp_Object.\n\t(x_icon_type): Return a Lisp_Object.\n\n\t* xfns.c (x_destroy_bitmap, x_reference_bitmap): Take frame as arg.\n\tCallers changed.\n\t(struct x_bitmap_record): New fields height, width, depth.\n\t(x_create_bitmap_from_data): Fill in those fields.\n\t(x_bitmap_height, x_bitmap_width, x_bitmap_pixmap): New functions.\n\t(x_create_bitmap_from_file): Arg FILE is now a Lisp_Object.\n\tSearch Vbitmap_file_path for it.  Fill in new fields.\n\t(syms_of_xfns): Set up Vbitmap_file_path.\n\n\t* xterm.c (x_bitmap_icon): Properly discard the previous bitmap.\n\t(x_text_icon): Discard bitmap only if we have one.\n\n\t* xfaces.c (copy_face, merge_faces): Copy the pixmap_h and pixmap_w.\n\t(intern_face): Store the stipple in the GC.\n\t(unload_color): Really do free the color.\n\t(free_frame_faces): Call unload_pixmap.\n\t(Fset_face_attribute_internal): Handle background pixmap.\n\tDestroy old pixmap when necessary.\n\t(free_frame_faces): Destroy pixmaps.\n\t(load_pixmap): New function.\n\t(Fpixmap_spec_p): New function.\n\t(syms_of_xfaces): Set up Lisp function pixmap-spec-p.\n\tSet up Qpixmap_spec_p.\n\n\t* dispextern.h (struct face): Delete cached_index field.\n\t* xfaces.c (compute_base_face): Don't set cached_index field.\n\n\t* ralloc.c (heap_base): Move static var to top level.\n\t(struct heap): New slot `free'.\n\t(obtain): Set `free' for new heap.\n\t(get_bloc): Update `free'.\n\t(find_heap): New function.\n\t(update_heap_free_pointers): New function.\n\t(resize_bloc, r_alloc_sbrk): Call update_heap_free_pointers.\n\n1994-10-15  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* lread.c (load_unwind): Cast argument of fclose.\n\n\t* xmenu.c: Delete HAVE_X11 conditionals.\n\n\t* xfaces.c (compute_base_face): Use FRAME_FOREGROUND_PIXEL,\n\tFRAME_BACKGROUND_PIXEL, FRAME_FONT.\n\n\t* xterm.h (FRAME_FOREGROUND_PIXEL, FRAME_BACKGROUND_PIXEL)\n\t(FRAME_FONT): New macros.\n\n1994-10-15  Tom Tromey  <tromey@drip.colorado.edu>\n\n\t* xterm.c (x_bitmap_icon): Allow bitmap to come from file.\n\t(x_wm_set_icon_pixmap): Second arg is now pixmap_id;\n\tcall x_lookup_pixmap.\n\t(x_text_icon): Call x_destroy_bitmap.\n\n\t* xfns.c (x_set_icon_type): If icon-type is a string, then use\n\tbitmap from that file.\n\t(Fx_create_frame): Set icon_bitmap field to -1.\n\t(struct x_bitmap_record): New structure type.\n\t(x_bitmaps, x_bitmaps_size, x_bitmaps_last, x_bitmaps_free):\n\tNew variables.\n\t(x_allocate_bitmap_record): New function.\n\t(x_reference_bitmap, x_create_bitmap, x_create_bitmap_from_file)\n\t(x_destroy_bitmap, x_lookup_pixmap): New functions.\n\n\t* xterm.h (x_display): Changed icon_bitmap_flag to icon_bitmap.\n\tChanged all users.\n\n1994-10-15  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* textprop.c (Fset_text_properties): Special case for getting\n\trid of all properties of a string.\n\n1994-10-15  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* xterm.c (stuffline, scraplines): Functions deleted.\n\t(line_dance, line_dance_len, line_dance_in_progress): New vars.\n\t(XTins_del_lines): Don't do any X calls; just update the array.\n\t(do_line_dance): New function.  Do the X calls here.\n\t(XTupdate_end, XTwrite_glyphs): Call do_line_dance.\n\n1994-10-14  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* s/isc4-0.h (LIBS_SYSTEM): Add -lcposix.\n\t(sigblock, SIG_BLOCK): Define if not defined.\n\n\t* sysdep.c (read_input_waiting): Set e.frame_or_window w/ XSETFRAME.\n\n\t* xterm.c (x_new_font): Don't keep looping after the FONT property.\n\n1994-10-13  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* term.c (term_get_fkeys_1): Workaround for IBM's dialect of terminfo.\n\n1994-10-13  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xfns.c (Fx_create_frame): Init the FRAME_X_SCREEN\n\tas soon as can be done.\n\n\t* xdisp.c (redisplay): Call clear_face_cache instead\n\tof clear_face_vector.  Do it at most once per 1000 redisplays.\n\n\t* xfaces.c: Eliminate the \"display faces\"; store GCs in the\n\t\"computed faces\".\n\t(face_vector, nfaces, nfaces_allocated): Vars deleted.\n\t(free_frame_faces): Free GCs in the computed faces.\n\tFree the computed faces themselves.\n\t(clear_face_cache): Renamed from clear_face_vector\n\tand completely rewritten to free GCs in the computed faces.\n\t(get_cached_face): Function deleted.\n\t(build_face): Function deleted; code moved into intern_face.\n\t(intern_face): Don't treat default and modeline faces specially.\n\t(recompute_basic_faces): Call intern_face, not build_face.\n\n\t* xfaces.c (intern_face, clear_face_vector, load_font, unload_font)\n\t(load_color, free_frame_faces, recompute_basic_faces):\n\tUse FRAME_X_DISPLAY.\n\n\t* m/mips-siemens.h (C_ALLOCA): Defined.\n\t(HAVE_ALLOCA): Definition deleted.\n\n\t* editfns.c (Fuser_login_name, Fuser_real_login_name):\n\tCall init_editfns now if it was not done before.\n\n\t* puresize.h (BASE_PURESIZE): Incremented.\n\n\t* lisp.h (Funhandled_file_name_directory): Declared.\n\n1994-10-10  Rainer Schoepf  (Schoepf@Uni-Mainz.de)\n\n\t* unexalpha.c (Brk): Declare as unsigned long.\n\t(unexec): Do CHECH_SCNHDR on _RCONST if that's defined.\n\tIgnore rdata_section if there is none.\n\t(update_dynamic_symbols): New arg new_name.  Call changed.\n\tFix some calls to WRITE.\n\t(fatal_unexec): Declare all arguments.\n\n1994-10-12  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* unexelf.c: Include config.h.\n\n\t* s/freebsd.h (LD_SWITCH_SYSTEM): New definition.\n\n1994-10-11  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* lisp.h (enum Lisp_Misc_Type): Add new enumerations\n\tLisp_Misc_Intfwd, Lisp_Misc_Boolfwd, Lisp_Misc_Objfwd,\n\tLisp_Misc_Buffer_Objfwd.\n\t(enum Lisp_Type): Delete the corresponding enumerations from here.\n\t(struct Lisp_Buffer_Objfwd): New structure.\n\t(struct Lisp_Intfwd, struct Lisp_Boolfwd, struct Lisp_Objfwd): Ditto.\n\t(XINTFWD, XBOOLFWD, XOBJFWD, XBUFFER_OBJFWD): Access the new structure.\n\t(INTFWDP, BOOLFWDP, OBJFWDP, BUFFER_OBJFWDP): Ditto.\n\t(XSETINTFWD, XSETBOOLFWD, XSETOBJFWD, XSETBUFFER_OBJFWD): Deleted.\n\t(union Lisp_Misc): Add new members.\n\t(allocate_misc): Declare this function.\n\t(XINTPTR): Deleted.\n\t* alloc.c (mark_object): Use the new substructure.\n\t* buffer.c (buffer_slot_type_mismatch): Take just the offset as\n\targument.  Only check against types that are actually used.\n\t* bytecode.c (Fbyte_code): Skip optimization for all Lisp_Misc types.\n\t* data.c (do_symval_forwarding, store_symval_forwarding,\n\tfind_symbol_value, Fset, default_value, Fset_default,\n\tFkill_local_variable): Use the new substructure.\n\t(store_symval_forwarding): Change args to buffer_slot_type_mismatch.\n\t* lread.c (defvar_int, defvar_bool, defvar_lisp,\n\tdefvar_lisp_nopro, defvar_per_buffer): Use the new substructure.\n\n\t* minibuf.c (test_completion): Fix reversed condition.\n\n\t* ralloc.c: Install Hiroshi Nakano's rewrite to allow multiple\n\theaps, for implementations where the C library makes calls to\n\tsbrk directly.\n\n1994-10-11  Jim Blandy  <jimb@geech.gnu.ai.mit.edu>\n\n\t* search.c (scan_buffer): After temporarily turning immediate_quit\n\toff, turn it back on by setting it to allow_quit, never 1.\n\n\t* search.c (find_before_next_newline): Declare the arguments'\n\ttypes explicitly; don't let them default to int.\n\n\t* xdisp.c (display_scan_buffer): Pass the correct number of\n\targuments to scan_buffer.\n\n1994-10-11  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keyboard.c (read_key_sequence): The output of function-key-map\n\tgoes to key-translation-map, but not vice versa.\n\tDon't exit if either of them is a possibility.\n\n1994-10-11  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* lisp.h (Lisp_Misc): new type code, replacing Lisp_Marker (and\n\tsoon to replace other type codes as well).\n\t(XMARKER, SETMARKER, MARKERP): Check/set the new type field.\n\t(XMISC, SETMISC, MISCP): New accessor macros for the superset type.\n\t(struct Lisp_Free): New structure.\n\t(Lisp_Misc_Free): Type code for that structure.\n\t* buffer.h (OVERLAY_POSITION): Marker assert now tests substructure.\n\t* alloc.c (MARKER_BLOCK_SIZE, marker_block, marker_free_list):\n\tNow refers to the superset type, not just markers.\n\t(allocate_misc): New function, extracted from Fmake_marker.\n\t(Fpurecopy): Check the substructure.\n\t(clear_marks, mark_object, gc_sweep): Likewise.\n\t* buffer.c (buffer_slot_type_mismatch): Test against Lisp_Misc.\n\t* fns.c (internal_equal): Check the substructure.\n\t* print.c (print): Check the substructure.\n\n1994-10-10  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* sysdep.c (sys_subshell): Use NILP macro directly, not its\n\texpansion.  Previous code was leftover from when NULL was a bad\n\tword.\n\n1994-10-10  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* fileio.c (Finsert_file_contents): Use original unexpanded\n\tFILENAME arg to set buffer-file-name.\n\n\t* buffer.c (list_buffers_1): Fix indentation in header lines.\n\n\t* xdisp.c (redisplay_window): Fix Oct 1 change:\n\tdon't call cancel_my_columns unless we will call try_window.\n\n1994-10-10  Jim Blandy  <jimb@geech.gnu.ai.mit.edu>\n\n\t* buffer.c (syms_of_buffer): Doc fix for cache-long-line-scans.\n\n1994-10-10  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* syntax.c (scan_sexps_forward): At startincomment,\n\tdo notice a 2-char comment ender that straddles FROM.\n\n1994-10-09  Jim Blandy  <jimb@geech.gnu.ai.mit.edu>\n\n\tCache the results of some scans, to improve performance in buffers\n\tcontaining very long lines.\n\t* region-cache.c, region-cache.h: New files.\n\t* Makefile.in.in (obj) Add region-cache.o to the list of files.\n\t(region-cache.o): New target.\n\t(buffer.o, indent.o, search.o): Depend on region-cache.h.\n\t* buffer.h (struct buffer): New members: newline_cache,\n\twidth_run_cache, width_table, and cache_long_line_scans.\n\t* buffer.c: #include region-cache.h.\n\t(Fget_buffer_create): Initialize new members of struct buffer.\n\t(Fkill_buffer): Free memory occupied by caches.\n\t(init_buffer_once): Set default value for cache_long_line_scans in\n\tbuffer_defaults, and give it a bit in buffer_local_flags.\n\t(syms_of_buffer): Add DEFVAR_PER_BUFFER for cache_long_line_scans.\n\t* insdel.c (prepare_to_modify_buffer): Invalidate width run and\n\tnewline caches, if they exist.\n\t* search.c: #include \"region-cache.h\".\n\t(max, min): Make these functions, not macros; we'd like to pass\n\tthem arguments that would be bad to evaluate more than once.\n\t(newline_cache_on_off): New function.\n\t(scan_buffer): New argument END.  Call newline_cache_on_off.  If\n\tthis buffer's newline cache is enabled, consult it to see if we\n\tneed to scan a region for newlines, and store information in the\n\tcache after doing so.\n\t(find_next_newline): Pass new arg to scan_buffer.\n\t(find_before_next_newline): New function.\n\t* cmds.c (Fforward_line): Call scan_buffer with new args.\n\t(Fend_of_line): Replace call to Fforward_line and search loop with\n\tcall to find_before_next_newline.\n\t* syntax.c (find_defun_start): Call scan_buffer with new args.\n\t* indent.c: #include \"region-cache.h\".\n\t(character_width, disptab_matches_widthtab, recompute_width_table,\n\twidth_run_cache_on_off): New functions.\n\t(compute_motion): Call width_run_cache_on_off.  If this buffer's\n\twidth run cache is enabled, consult it to see if we need to\n\ttraverse a region character-by-character; store information in the\n\tcache after doing so.  Call find_before_next_newline instead of\n\twriting out an equivalent loop explicitly, to take advantage of\n\tthe newline cache.\n\tDoc fixes.\n\t* xdisp.c (redisplay_window): Invalidate width_run_cache, if the\n\tbuffer's display table doesn't match the width table the cache was\n\tbuilt for.\n\t(display_text_line): Use compute_motion to skip forward to the\n\tleft edge of the window when the window is hscrolled; this is\n\tfaster than rendering all the characters into the bit bucket when\n\tthe hscroll is large.\n\tDoc fixes.\n\t(display_count_lines): Call scan_buffer with new args.\n\t* disptab.h (window_display_table): Doc fix.\n\t(buffer_display_table): New declaration.\n\t* indent.h (disptab_matches_widthtab, recompute_width_table): New\n\tdeclarations.\n\n1994-10-08  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keyboard.c (inhibit_local_menu_bar_menus): New variable.\n\t(read_char_x_menu_prompt): Optionally don't use local maps.\n\t(syms_of_keyboard): Set up Lisp variable.\n\n1994-10-07  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* lisp.h (enum Lisp_Misc_Type): New type.\n\t(struct Lisp_Marker): Add a member of that type.  Delete unused\n\tmember `modified'.\n\n1994-10-07  Morten Welinder  <terra@frigg.diku.dk>\n\n\t* minibuf.c (test_completion): New function, extracted from\n\tdo_completion.\n\t(do_completion): Use test_completion.\n\t(Fminibuffer_complete_and_exit): If completion is already\n\texact, don't try to complete it.\n\n\t* dired.c (file_name_completion): Ignore files \".\" and \"..\"\n\tin first pass.\n\t(Ffile_name_completion): Perform the completion even if the\n\tname part is empty.\n\n1994-10-07  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* insdel.c (make_gap): Keep input blocked till after we set BEG_ADDR.\n\n\t* fileio.c (check_writable, check_executable): Test HAVE_EACCESS.\n\n\t* config.h.in (HAVE_EACCESS): Add #undef.\n\n1994-10-06  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* alloc.c (mark_object): Don't check for Lisp_Void; nothing ever\n\tcreates that type.\n\t* bytecode.c (Fbyte_code): Likewise.\n\t* data.c (Fboundp, Ffboundp, find_symbol_value, Fset,\n\tFdefault_boundp, Fdefault_value): Likewise.\n\t* lisp.h (Lisp_Void, VOIDP): Deleted.\n\n\t* floatfns.c (Fabs): Don't use XFASTINT when negative.\n\t* data.c (Flsh, Fadd1, Fsub1, Flognot): Likewise.\n\n\t* buffer.c (init_buffer_once): Don't use XSETFASTINT when negative.\n\t(reset_buffer_local_variables, Fbuffer_local_variables): Access\n\tbuffer_local_flags as Lisp_Object, not int.\n\t* data.c (Fset, default_value, Fset_default,\n\tFkill_local_variable): Likewise.\n\t* lread.c (defvar_per_buffer): Likewise.\n\tGive XSETBUFFER_OBJFWD an integer offset, not a pointer.\n\n\t* lread.c (read1): New argument for returning out-of-band data,\n\tobviating the need for Lisp_Internal datatype.\n\t(read0, read1, read_list): Use that new calling sequence.\n\t* lisp.h (Lisp_Internal, XSETINTERNAL, INTERNALP): Deleted.\n\n\t* lread.c (Fload, load_unwind): Store stream pointer as a cons of\n\ttwo integers, obviating the need for Lisp_Internal_Stream datatype.\n\t* lisp.h (Lisp_Internal_Stream, XSETINTERNAL_STREAM,\n\tINTERNAL_STREAMP): Deleted.\n\t* alloc.c (mark_object): Delete case Lisp_Internal_Stream.\n\n1994-10-05  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* unexec.c (make_hdr): Undo June 16 change.\n\n\t* fileio.c (Ffile_regular_p): New function.\n\t(syms_of_fileio): defsubr it.\n\n\t* xterm.c (x_term_init): Call XtSetLanguageProc or XSetLocaleModifiers.\n\n1994-10-04  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xfns.c (x_set_icon_type): Remove period from error message.\n\n\t* xterm.c (x_make_frame_visible, x_iconify_frame):\n\tCall x_bitmap_icon if frame wants a bitmap icon.\n\n\t* xfns.c (x_icon_type): New function.\n\n\t* callint.c (Finteractive): Doc fix.\n\n1994-10-04  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* buffer.c (validate_region): Swap using temp Lisp_Object, not int.\n\n\t* lisp.h (XSETINT): Set object type as well as value.\n\t(XSETCONS, XSETBUFFER, XSETVECTOR, XSETSUBR, XSETSTRING,\n\tXSETSYMBOL, XSETMARKER, XSETOBJFWD, XSETWINDOW, XSETPROCESS,\n\tXSETFLOAT): Likewise.\n\t(XSETBOOLFWD, XSETBUFFER_OBJFWD, XSETWINDOW_CONFIGURATION,\n\tXSETINTERNAL_STREAM, XSETINTFWD, XSETINTERNAL): New macros.\n\t(XSETUINT, XSETPNTR, XFUNCTION, XSETFUNCTION, XSETINTPTR): Deleted.\n\n\t* frame.h (XSETFRAME): Set object type as well as value.\n\t* m/alpha.h, m/gec63.h, m/hp800.h, m/iris4d.h, m/iris5d.h, m/mips.h:\n\tDon't override the (new) definition of XSETINT from lisp.h.\n\tDelete XSETUINT and XSETPNTR, which are no longer used.\n\t* *.c: Use new accessor macros instead of calling XSET directly.\n\t* xterm.h (SCROLL_BAR_UNPACK): Likewise.\n\t* fns.c (Fstring_equal): No longer necessary to set type separately.\n\t(Fstring_lessp): Likewise.\n\t* callint.c (Fprefix_numeric_value): Likewise.\n\t* fileio.c (Finsert_file_contents): Likewise.\n\n\t* lisp.h (XSETFASTINT): New macro.\n\t(XFASTINT): Changed to non-lvalue syntax, to ensure that callers\n\twill use XSETFASTINT instead.\n\t(CHECK_NUMBER_COERCE_MARKER): Don't use XFASTINT as an lvalue.\n\t(CHECK_NUMBER_OR_FLOAT_COERCE_MARKER): Likewise.\n\t* *.c: Likewise.\n\t* frame.h (FOR_EACH_FRAME): Likewise.\n\n1994-10-04  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* Makefile.in.in (MKTIME_OBJ): New variable.\n\t(obj): Use MKTIME_OBJ.\n\n\t* config.h.in (HAVE_MKTIME): Add #undef.\n\n\t* xmenu.c (widget_id_tick): Move definition into conditional.\n\t(syms_of_xmenu): Conditionalize initialization of widget_id_tick.\n\n\t* xmenu.c (last_menu_bar_item_end): Var deleted.\n\t(this_menu_bar_item_beg, this_menu_bar_item_end): Vars deleted.\n\t(other_menu_bar_item_p, unread_menu_bar_button)\n\t(check_mouse_other_menu_bar): Functions deleted.\n\t(last_event_timestamp, Vdouble_click_time, Vmouse_depressed):\n\tDecls deleted.\n\t(xmenu_show): XMENU_FOO conditional and its contents deleted.\n\n\t* xterm.c (input_signal_count): New variable.\n\t(XTread_socket): Increment it.\n\t(x_make_frame_visible): Exit final loop when XTread_sockets has run.\n\n1994-10-02  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* window.c (Frecenter): Don't trigger point-motion hooks.\n\n\t* fileio.c (Finsert_file_contents): set type of `end', not just\n\tthe value.\n\n\t* xfns.c (x_figure_window_size): Use new formula for scroll bar width.\n\n\t* config.h.in (HAVE_UTIME_H): Add #undef.\n\t* systime.h: Don't include <utime.h> here.\n\t* sysdep.c: Include it here instead.\n\t(set_file_times): Move struct declaration to top of file.\n\n1994-10-02  Paul Reilly  <pmr@churchy.gnu.ai.mit.edu>\n\n\t* xmenu.c (popup_get_selection): Remove BLOCK_INPUT, UNBLOCK_INPUT\n\tsince the calls to popup_get_selection provide the protection.\n\n1994-10-02  Paul Reilly  <pmr@geech.gnu.ai.mit.edu>\n\n\t* xfns.c (HACK_EDITRES): Declare if using X11R5.\n\t(widget_id_tick): New variable.\n\t(x_any_window_to_frame): Use lw_window_is_in_menubar for\n\twidget set independence.\n\t(x_window): Renamed screen_widget to frame_widget.  Use\n\tlw_create_widget and lw_set_main_areas for widget set\n\tindependence.  Enable using editres for X11R5.\n\n\t* widget.c (EmacsFrameSetCharSize): Use lw_refigure_widget for\n\twidget set independence.\n\n\t* widget.h: Declare resources showGrip, allowResize, and\n\tresizeToPreferred.\n\n\t* keyboard.c (make_lispy_event): Do not set item.  Now handled in\n\txmenu.c by popup_get_selection.\n\n1994-10-01  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* frame.c (keys_of_frame): Make binding for delete-frame.\n\n\t* xdisp.c (redisplay_window): If we set PT, and that alters a region\n\tbeing highlighted, call try_window again.\n\n\t* Makefile.in.in (LIBXTR6): If NEED_LIBW, add -lw.\n\t* s/usg5-4-2.h (NEED_LIBW): Defined.\n\n\t* Makefile.in.in (LDFLAGS): New variable.\n\t(LIBX): Use LDFLAGS.\n\n1994-09-30  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* data.c (Fmake_local_variable): Doc fix.\n\n1994-09-29  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* fileio.c (check_writable, check_executable) [__HURD__]:\n\tUse eaccess.\n\n\t* xfaces.c (compute_char_face): Handle list as overlay face property.\n\n1994-09-29  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* minibuf.c (scmp): Use unsigned chars, to avoid confusing DOWNCASE.\n\n\t* unexaix.c (CHECK_SCNHDR, write_segment): Fix format/arg mismatch.\n\t* xfns.c (x_report_frame_params): Likewise.\n\n1994-09-29  Boris Goldowsky  <boris@cs.rochester.edu>\n\n\t* xfaces.c (compute_char_face): If face text-property is a list,\n\tmerge the attributes of the faces in the list.\n\n1994-09-29  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* buffer.c (Foverlay_get): Handle `category' property on overlay.\n\n\t* xfaces.c (Fset_face_attribute_internal): Mark frame garbaged whenever\n\tany face's font or color is changed.\n\n\t* keyboard.c (head_table): Set up Qdelete_frame.\n\t(kbd_buffer_get_event): Handle delete_window_event by making\n\ta delete-frame event.\n\n1994-09-28  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* data.c (Flocal_variable_p): New function.\n\t(syms_of_data): defsubr it.\n\n1994-09-28  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* fileio.c (Fdelete_file): Undo Sep 16 change.\n\t* dired.c (syms_of_dired): Likewise.\n\n1994-09-27  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* frame.h (scroll_bar_pixel_width, scroll_bar_cols): Update comment.\n\t* xfns.c (x_set_scroll_bar_width): Nil now means 2 columns' worth.\n\t(Fx_create_frame): Default scroll bar width is now nil.\n\t* xterm.c (x_new_font): New rule for computing column width.\n\tFactored out common code.\n\t(XTset_vertical_scroll_bar): Use new width formula.\n\t[!USE_X_TOOLKIT] (x_set_window_size): Likewise.\n\t* widget.c (set_frame_size, EmacsFrameSetCharSize): Likewise.\n\n\t* lisp.h (BOOLFWDP, INTERNALP, INTFWDP, OBJFWDP, INTERNAL_STREAMP,\n\tBUFFER_LOCAL_VALUEP, SOME_BUFFER_LOCAL_VALUEP, BUFFER_OBJFWDP,\n\tVOIDP): New type test macros.\n\t* *.h, *.c: Use type test macros instead of checking XTYPE directly.\n\n1994-09-26  Richard Stallman  <rms@churchy.gnu.ai.mit.edu>\n\n\t* window.c (syms_of_window): Doc fix.\n\n1994-09-26  Frederic Pierresteguy  <F.Pierresteguy@frcl.bull.fr>\n\n\t* m/dpx2.h (POSIX_SIGNALS): Define it.\n\t(sigsetmask): Add #undef.\n\n1994-09-26  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* m/*.h, s/*.h (WORDS_BIG_ENDIAN): Renamed from BIG_ENDIAN,\n\tand restored where mistakenly deleted by earlier change.\n\n\t* emacs.c (argmatch): New function.\n\t(main): Recognize --longopt synonyms for all options handled here.\n\tAdd --help and --version.\n\n1994-09-25  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* unexsunos4.c: Delete __FreeBSD__ conditional macro definitions.\n\t(unexec): Major changes in UNDO_RELOCATION code.\n\n\t* unexsunos4.c (is_it): Rename argument and local variable.\n\n1994-09-25  Richard Stallman  <rms@churchy.gnu.ai.mit.edu>\n\n\t* Makefile.in.in (${etc}DOC): Run make-docfile twice--two batches.\n\n1994-09-24  Richard Stallman  <rms@churchy.gnu.ai.mit.edu>\n\n\t* sysdep.c (set_file_times): Don't test HAVE_UTIME.\n\tAssume utime exists if utimes does not.\n\n\t* config.h.in (HAVE_UTIMES): Add #undef.\n\n\t* editfns.c (Fformat_time_string): Mostly rewritten, to handle\n\tunlimited size, and report errors properly.\n\n\t* Makefile.in.in (strftime.o, mktime.o): New target.\n\t(obj): Add strftime.o and mktime.o.\n\n\t* strftime.c, mktime.c: New files (shared from libc).\n\n1994-09-24  Erik Naggum  (erik@naggum.no)\n\n\t* editfns.c (Fformat_time_string): New function.\n\t(syms_of_editfns): Defsubr it.\n\n1994-09-24  Richard Stallman  <rms@churchy.gnu.ai.mit.edu>\n\n\t* sysdep.c [USE_DL_STUBS] (dlopen, dlsym, dlclose): New functions.\n\t* s/sunos4-1.h (USE_DL_STUBS): Defined.\n\t* s/sunos4shr.h (USE_DL_STUBS): Add #undef.\n\n\t* fileio.c (Ffile_writable_p): Use stat to test for existence.\n\t(check_executable, check_writable): New functions.\n\t(Ffile_executable_p, Ffile_writable_p): Use the new functions.\n\n\t* intervals.c (set_point):\n\tIf Vinhibit_point_motion_hooks, ignore intangible properties.\n\tIf move backwards into intangible text, move back over it.\n\n\t* textprop.c (syms_of_textprop): Doc fix.\n\n\t* config.h.in (STACK_DIRECTION): Don't redefine if defined already.\n\tMove definition down past #include's.\n\n1994-09-23  Richard Stallman  <rms@churchy.gnu.ai.mit.edu>\n\n\t* s/linux.h: Don't include signal.h, values.h.\n\t(signal): Definition deleted.\n\n\t* abbrev.c (Fexpand_abbrev): Instead of Fcapitalize_region,\n\tjust upcase the first initial.\n\n\t* casefiddle.c (Fupcase_initials_region): New function.\n\t(Fupcase_initials): New function.\n\t(syms_of_casefiddle): defsubr them.\n\n\t* minibuf.c (read_minibuf_unwind): Preserve Vdeactivate_mark.\n\n\t* s/isc2-2.h (DONT_DEFINE_SIGNAL): Macro deleted.\n\n\t* m/next.h (DK_HEADER_FILE): Macro deleted.\n\n\t* m/tahoe.h (DKSTAT_HEADER_FILE): Macro deleted.\n\n\t* m/hp800.h (CPTIME_SYMBOL, DKXFER_SYMBOL): Macros deleted.\n\n\t* sysdep.c (start_of_text): Don't test CANNOT_UNEXEC.\n\t* unexec.c: Don't test CANNOT_UNEXEC.\n\t* unexaix.c: Don't test CANNOT_DUMP or CANNOT_UNEXEC.\n\n\t* sysdep.c: Delete BROKEN_FASYNC conditional.\n\n\t* data.c (Fset_default, Fset): Delete RTPC_REGISTER_BUG conditionals.\n\n\t* process.c (Fprocess_send_eof): Delete DID_REMOTE conditional.\n\n\t* buffer.c (get-file-buffer): Doc fix.\n\n1994-09-23  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* frame.c (prev_frame): Fix typo.\n\n\t* unexec.c (copy_text_and_data): Delete some printf's.\n\n\t* m/acorn.h (PURESIZE): Definition deleted.\n\n\t* xfns.c (x_figure_window_size): Decode (- N), (+ N) for position.\n\t(x_set_frame_parameters): Handle (+ N) and (- N).\n\tPreserve negative positions properly too.\n\t[USE_X_TOOLKIT] (x_window): Let xneg, yneg specify whether to\n\tnegate left and top.\n\t(Fx_parse_geometry): Handle [XY]Negative with positive number\n\tor negative number without [XY]Negative.\n\n\t* callint.c (Qplus): New variable.\n\t(syms_of_callint): Set it up.\n\t* lisp.h (Qplus): Declared.\n\n\t* xfns.c (Fx_create_frame): Rename menuBarLines resource to menuBar.\n\n\t* s/sunos4-1-3.h, s/sunos4shr.h (X_IO_BUG): Definition deleted.\n\n\t* textprop.c (Fset_text_properties): Don't let validate_interval_range\n\tincrement START and END twice.\n\n\t* xterm.h (FRAME_X_DISPLAY): New macro.\n\n\t* s/freebsd.h (BSD): Have two definitions according to version number.\n\n1994-09-22  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xterm.c (x_destroy_window): Decrement ref count of x_screen struct.\n\n\t* xfns.c (the_x_screen): New variable.\n\t(syms_of_xfns): Staticpro parts of it.\n\t(Fx_open_connection): Initialize it.\n\t(Fx_create_frame): Make frame point to it.\n\t(Fx_list_fonts): Use a cache stored in FRAME_X_SCREEN.\n\n\t* xterm.h (struct x_screen): New structure.\n\t(struct x_display): New field x_screen.\n\t(FRAME_X_SCREEN): New macro.\n\n\t* process.c (exec_sentinel_error_handler): Call update_echo_area.\n\t(read_process_output_error_handler): Likewise.\n\n\t* xdisp.c (update_echo_area): New function.\n\n1994-09-22  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* buffer.c (evaporate_overlays): Overlay is in car, not cdr.\n\n1994-09-21  Tom Tromey  <tromey@creche.colorado.edu>\n\n\t* doc.c (get_doc_string): Look in ../etc while dumping.\n\t(munge_doc_file_name): New subroutine.\n\n1994-09-22  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* minibuf.c (Fcompleting_read): Doc fix.\n\n\t* puresize.h (BASE_PURESIZE): Increment both values.\n\n\t* window.c (Fdelete_other_windows): Nice error if WINDOW is minibuf.\n\n\t* lisp.h (Vdebug_on_error): Declared.\n\n\t* process.c (exec_sentinel_error_handler): New function.\n\t(exec_sentinel): Catch all errors in the sentinel.\n\n\t* keyboard.c (read_char): Don't return right away when\n\tread_char_minibuf_menu_prompt returns non-nil.\n\tInstead, set key_already_recorded, which inhibits most but not all\n\tof the work at non_reread.\n\n1994-09-21  Simon Leinen  <simon@lia.di.epfl.ch>\n\n\t* cm.h (cmputc): Return int rather than void.\n\t* cm.c (evalcost, cmputc): They now return their arguments.\n\n1994-09-21  Per Abrahamsen  <abraham@iesd.auc.dk>\n\n\t* window.c (display-buffer, special-display-buffer-names)\n\t(special-display-regexps, special-display-function): Accept cons\n\tcells in `special-display-buffer-names' and\n\t`special-display-regexps'.  If the buffer name matches the car,\n\tcall `special-display-function' with the cdr as a second argument.\n\n1994-09-21  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* s/bsd386.h (HAVE_TERMIOS, NO_TERMIO): Defined.\n\n\t* editfns.c (Fmessage_or_box): Use Fmessage_box with new name.\n\n\t* process.c (read_process_output_error_handler): New function.\n\t(read_process_output_call): New function.\n\t(read_process_output): Catch and report errors in filters.\n\n\t* keyboard.c (cmd_error_internal):\n\tNew function, broken out of cmd_error.\n\n\t* fileio.c (Fread_file_name): If DEFAULT is nil and INITIAL is not,\n\tuse INITIAL to set DEFAULT.\n\n\t* editfns.c (Fmessage_box): Renamed from Fbox_message.\n\n1994-09-17  Michael Ben-Gershon  (mybg@cs.huji.ac.il)\n\n\t* unexec.c (copy_text_and_data): Add RISCiX changes.\n\n\t* m/acorn.h, s/riscix1-1.h, s/riscix1-2.h: New files added.\n\n1994-09-21  Bill Burton  (billb@progress.com)\n\n\t* s/ptx.h: New file for Sequent DYNIX/ptx 1.x/2.x\n\n\t* m/sequent-ptx.h: New file for Sequent DYNIX/ptx 1.x/2.x\n\n1994-09-21  Frederic Pierresteguy  <F.Pierresteguy@frcl.bull.fr>\n\n\t* editfns.c (Fbox_message): New function to print a message in\n\ta dialog box.\n\t(Fmessage_or_box): New function that choose whether to print a\n\tmessage in a dialog or in the echo area.\n\n1994-09-21  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* search.c (Freplace_match): New 4th arg OBJECT can specify string\n\tto replace in.\n\n\t* casefiddle.c (upcase_initials): New function.\n\t(casify_object): Handle CASE_CAPITALIZE_UP.\n\n\t* fns.c (concat3): New function.\n\n\t* xfns.c (Fx_get_resource): Doc fix.\n\n\t* buffer.c (overlays_at): New arg PREV_PTR.\n\tReturn previous overlay end.\n\t(Foverlays_at): Pass NULL for last 2 args of overlays_at.\n\t(Fnext_overlay_change): Pass new arg to overlays_at.\n\t(Fprevious_overlay_change): New function.\n\t* xterm.c (note_mouse_highlight): Pass new arg to overlays_at.\n\t* xfaces.c (compute_char_face): Pass new arg to overlays_at.\n\t* textprop.c (Fget_char_property): Pass new arg to overlays_at.\n\t(NULL): Define if not defined.\n\n\t* minibuf.c (get_minibuffer): Make BUF current to kill its local vars.\n\n1994-09-20  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* ralloc.c (r_alloc_freeze_level): New variable.\n\t(r_alloc_freeze, r_alloc_thaw): New functions.\n\t(r_alloc_sbrk): Refuse to move blocs, if frozen.\n\n\t* unexaix.c (report_error): Include reason in error message.\n\n1994-09-20  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* eval.c (init_eval_once): Init Vrun_hooks here.\n\t(syms_of_eval): Not here.\n\n1994-09-20  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* search.c (trivial_regexp_p): New function.\n\t(search_buffer): Don't depend on internal format of re_pattern_buffer.\n\n\t* frame.h (FRAME_SCROLL_BAR_PIXEL_WIDTH): New macro, supersedes\n\tVERTICAL_SCROLL_BAR_PIXEL_WIDTH; no longer device-dependent.\n\tAll callers changed.\n\t(FRAME_SCROLL_BAR_COLS): New macro, supersedes\n\tVERTICAL_SCROLL_BAR_WIDTH; no longer constant.  All callers changed.\n\t(scroll_bar_pixel_width, scroll_bar_cols): New members of struct frame.\n\t* xterm.h (VERTICAL_SCROLL_BAR_PIXEL_WIDTH): Deleted.\n\t* xfns.c (x_set_scroll_bar_width): New function.\n\t(x_frame_parms): Add that function to this table.\n\t(Qscroll_bar_width): New symbol.\n\t(syms_of_xfns): Initialize and staticpro it.\n\t(Fx_create_frame): Set default scroll bar width.\n\t* xterm.c (x_new_font): Compute number of scrollbar columns.\n\n\t* keyboard.c (kbd_store_ptr): Declare storage class before qualifier.\n\t(make_lispy_event): Fix Lisp_Object vs. int problems.\n\t(read_avail_input, menu_bar_items_index, read_key_sequence): Likewise.\n\t* window.c (Fset_window_buffer): Likewise.\n\t* alloc.c (make_float, make_pure_float): Likewise.\n\n\t* sysdep.c (set_file_times): Move this out of the USG conditional.\n\n1994-09-19  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* s/sco4.h (POSIX_SIGNALS): Defined.\n\n1994-09-19  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* buffer.c (syms_of_buffer): Doc fix.\n\n\t* keymap.c (Fkey_description): Reverse condition.\n\n1994-09-19  Jim Blandy  <jimb@geech.gnu.ai.mit.edu>\n\n\tAdd a new element to display tables controlling side-by-side\n\twindow borders.\n\t* buffer.c (syms_of_buffer): Update doc string for\n\t`buffer-display-table'.\n\t* disptab.h (DISP_TABLE_SIZE): Bump to 262.\n\t(DISP_BORDER_GLYPH): New accessor macro.\n\t* xdisp.c (display_text_line): Consult the display table when\n\tbuilding side-by-side window borders.\n\n1994-09-19  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* s/netbsd.h (SYSTEM_TYPE): Delete definition.\n\n\t* lisp.h (RETURN_UNGCPRO): Use if (1) .. else, not do ... while (0).\n\n1994-09-18  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* lisp.h (Fmember): Declare this function.\n\t* intervals.c: #include \"keyboard.h\"\n\t* term.c: Declare Fmake_sparse_keymap.\n\t* minibuf.c (read_minibuf): Fix Lisp_Object vs. int problems.\n\t* frame.h [!MULTI_FRAME] (FOR_EACH_FRAME): Likewise.\n\t* fns.c (Frandom): Likewise.\n\t* eval.c (Fsignal): Likewise.\n\t* frame.c (Fframe_parameters): Likewise.\n\t* indent.c (vmotion, Fvertical_motion): Likewise.\n\t* lread.c (openp): Likewise.\n\t* dispnew.c (direct_output_for_insert, direct_output_forward_char):\n\tLikewise.\n\t* textprop.c (validate_interval_range, property_value,\n\tFget_char_property, Fnext_property_change,\n\tFnext_single_property_change, Fprevious_property_change,\n\tFprevious_single_property_change): Likewise.\n\n1994-09-18  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* process.c (pty_name): Move it up; make it static.\n\t(create_process): Set the tty_name field.\n\t(Fprocess_tty_name): New function.\n\t(syms_of_process): defsubr it.\n\n\t* process.h (struct process): New field tty_name.\n\n\t* s/sol2.h (HAVE_VFORK): Defined.\n\t(C_SWITCH_SYSTEM): Deleted.\n\t(const): Definition deleted.\n\n\t* fileio.c (Ffile_writable_p): Don't use ro_fsys.\n\t(ro_fsys): Deleted.\n\n1994-09-18  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* config.h.in (_ALL_SOURCE): Don't redefine if already defined.\n\n\t* xdisp.c [!HAVE_X_WINDOWS] (store_frame_title): Dummy macro.\n\n\t* sysdep.c (set_file_times): New function, replaces EMACS_SET_UTIMES.\n\t* fileio.c (Fcopy_file): Use it, and check for the error return.\n\t* systime.h: Declare it.\n\t[HAVE_UTIME_H]: #include <utime.h>.\n\n\t* config.h.in (_ALL_SOURCE, HAVE_STRUCT_UTIMBUF, HAVE_SELECT,\n\tHAVE_TIMEVAL): Add #undefs.\n\n\t* s/*.h, m/*.h: Delete obsolete symbols USE_UTIME, MISSING_UTIMES,\n\tIRIS_UTIME, USG_SYS_TIME, HAVE_SELECT, HAVE_TIMEVAL, BIG_ENDIAN.\n\n1994-09-18  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* dispnew.c (preserve_other_columns): Fix arg to sizeof in bcopy call.\n\n\t* minibuf.c (get_minibuffer): Call Fkill_all_local_variables.\n\n\t* buffer.c (reset_buffer): Don't call reset_buffer_local_variables.\n\t(Fget_buffer_create): Call it here.\n\t(init_buffer_once): And here.\n\n\t* window.c (struct saved_window_data): New slots min_width, min_height.\n\t(Fcurrent_window_configuration): Set slots from window_min_...\n\t(Fset_window_configuration): Restore them.\n\tSet window_min_height and window_min_width to 1\n\twhile restoring windows.\n\n\t* unexsunos4.c (SUNOS4 or __FreeBSD__): Define UNDO_RELOCATION.\n\t(unexec): Test UNDO_RELOCATION.  Distinguish the relocation formats\n\tof __FreeBSD__ and SUNOS4.\n\n\t* s/sol2.h (REL_ALLOC): #undef deleted.\n\n\t* keymap.c (Fkey_description): Give error if KEYS not an array.\n\t(get_keyelt, access_keymap, get_keymap_1): Use type test macros.\n\n1994-09-17  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* unexsunos4.c (unexec): Fix logic for rounding section boundaries.\n\n\t* config.h.in (EMACS_CONFIG_OPTIONS): Add #undef.\n\n\t* textprop.c (property_value): Declare args plist, prop.\n\n\t* s/osf1.h (malloc, realloc): Declared.\n\n\t* print.c (print): sprintf arg for frame depends on VALBITS.\n\n\t* callproc.c (Fcall_process) [__osf__ && __alpha]:\n\tDon't stop reading if read returns negative.\n\n\t* puresize.h (PURESIZE_RATIO, BASE_PURESIZE): Defined.\n\t(PURESIZE): Define it based on those.\n\t* m/alpha.h (PURESIZE): Definitions deleted.\n\n1994-09-16  Karl Heuer  <kwzh@churchy.gnu.ai.mit.edu>\n\n\t* buffer.h: Declare some functions.\n\t* intervals.h: Declare some functions.\n\t* lisp.h: Declare some functions.\n\t* xterm.c, xfaces.c: Add #include \"intervals.h\"\n\t* fileio.c (barf_or_query_if_file_exists): Fix declaration.\n\t* xmenu.c (menu_item_enabled_p): Fix declaration.\n\n1994-09-16  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xfns.c (hack_wm_protocols): Arrange to handle WM_SAVE_YOURSELF.\n\n\t* s/hpux9.h (HAVE_TERMIO, HAVE_TERMIOS, NO_TERMIO): Undo Jul 28 change.\n\n1994-09-16  Karl Heuer  <kwzh@churchy.gnu.ai.mit.edu>\n\n\t* emacs.c (Vsystem_configuration_options): New variable.\n\t(syms_of_emacs): Initialize it.\n\n\t* buffer.h: Declare evaporate_overlays.\n\t* buffer.c: Declare new symbol Qevaporate.\n\t(syms_of_buffer): Initialize it.\n\t(Fmove_overlay): Check if overlay is empty.\n\t(Foverlay_put): Check if setting evaporate property on empty overlay.\n\t(evaporate_overlays): New function.\n\t* insdel.c (del_range_1): Call evaporate_overlays after deleting text.\n\n1994-09-16  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* m/intel386.h (HAVE_VFORK): Defined.\n\t[__GNUC__] (C_SWITCH_SYSTEM): Add #undef.\n\n\t* emacs.c (shut_down_emacs): Don't call Fx_close_current_connection.\n\n\t* lisp.h (EMACS_INT, EMACS_UINT): Define, if not already defined.\n\n\t* m/alpha.h (EMACS_INT, EMACS_UINT): Defined.\n\n1994-09-16  Rainer Schoepf  <schoepf@sc.ZIB-Berlin.DE>\n\n\t* s/osf1.h [__alpha] (LD_SWITCH_SYSTEM): Alternate definition.\n\n\t* unexalpha.c, m/alpha.h: New files.\n\n\t* alloc.c (pure, pure_size): Use EMACS_INT.\n\t(free_float, free_cons, PAD, STRING_FULLSIZE, struct string_block)\n\t(make_pure_string, make_pure_vector, Fgarbage_collect, mark_object)\n\t(gc_sweep, compact_strings, Fmemory_limit): Use EMACS_INT.\n\n\t* buffer.c (reset_buffer_local_variables, Fbuffer_local_variables)\n\t(init_buffer_once): Use EMACS_INT.\n\n\t* callint.c (Fcall_interactively): Use EMACS_INT.\n\n\t* data.c (sign_extend_lisp_int): Use EMACS_INT.\n\n\t* dispextern.h (struct face): Use EMACS_UINT.\n\n\t* doc.c (Fdocumentation): Use EMACS_INT.\n\n\t* editfns.c (Fnarrow_to_region, format1): Use EMACS_INT.\n\n\t* floatfns.c (FLOAT_TO_INT, FLOAT_TO_INT2): Use EMACS_INT.\n\n\t* frame.h (struct frame, selected_frame, last_nonminibuf_frame):\n\tUse EMACS_INT.\n\n\t* lisp.h (Lisp_Object): Use EMACS_INT.\n\t(MARKBIT): Don't define if already defined.\n\t(VALMASK, GCTYPEMASK, XSETTYPE, XSET)\n\t(XSETCONS, XSETBUFFER, XSETVECTOR, XSETSUBR, XSETSTRING)\n\t(XSETSYMBOL, XSETFUNCTION, XSETMARKER, XSETOBJFWD)\n\t(XSETINTPTR, XSETWINDOW, XSETPROCESS, XSETFLOAT)\n\t(struct Lisp_String, struct Lisp_Vector): Use EMACS_INT.\n\n\t* lread.c (Fload): Use EMACS_INT.\n\n\t* marker.c (unchain_marker): Use EMACS_INT.\n\n\t* mem-limits.h: Check for __alpha, in __osf__ conditional.\n\t(EXCEEDS_LISP_PTR): Use EMACS_UINT.\n\n\t* print.c (print): Use EMACS_UINT.\n\n\t* puresize.h (CHECK_IMPURE, all versions): Use EMACS_INT.\n\n\t* window.h (struct window): Use EMACS_INT.\n\n\t* xdisp.c (message): Use EMACS_INT.\n\n\t* xterm.h (struct scroll_bar, SCROLL_BAR_VEC_SIZE): Use EMACS_INT.\n\n1994-09-16  Morten Welinder  <terra@diku.dk>\n\n\t* fileio.c (Finsert_file_contents) [MSDOS]: Don't re-gc-protect\n\tfilename; delete unused variables.\n\n1994-09-16  Karl Heuer  <kwzh@churchy.gnu.ai.mit.edu>\n\n\t* term.c (clear_to_end): Fix reversed condition.\n\n1994-09-16  K. Berry  <kb@cs.umb.edu>\n\n\t* dired.c (Qcompletion_ignored_extensions): New symbol.\n\t(syms_of_dired): Initialize it.\n\t* fileio.c (Fdelete_file): Bind completion-ignored-extensions to nil.\n\n1994-09-16  Morten Welinder  (terra@diku.dk)\n\n\t* s/msdos.h (MODE_LINE_BINARY_TEXT): Define this symbol.\n\t* xdisp.c (decode_mode_spec): Use it when defined.\n\n1994-09-16  Andreas Schwab  <schwab@issan.informatik.uni-dortmund.de>\n\t* minibuf.c (read_minibuf): Don't add to the history list if the\n\tminibuffer string is empty, since it is not very useful.\n\n1994-09-16  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* m/hp9000s300.h [not BSD4_3] [__GNUC__] (HAVE_ALLOCA): Defined.\n\n1994-09-16  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* xdisp.c [!HAVE_X_WINDOWS] (frame_title_ptr): define as always null.\n\n1994-09-16  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xterm.c: Delete X11 conditionals.\n\t(XTupdate_end, XTupdate_begin, XTclear_end_of_line)\n\t(XTclear_frame, XRINGBELL, stufflines, scraplines, dumprectangle)\n\t(XTread_socket, x_draw_box, clear_cursor, refreshicon, x_iconify_frame)\n\t(x_bitmap_icon, x_text_icon, x_new_font, x_term_init)\n\t(x_calc_absolute_position, x_set_window_size)\n\t(x_make_frame_visible, x_make_frame_invisible): Delete X10 code.\n\t(dumpqueue, x_do_pending_expose, dumpborder, XEvent, x_read_exposes)\n\t(enqueue_event, dequeue_event, queue_event_count)\n\t(mouse_event_pending_p, x_set_resize_hint): Delete X10 versions.\n\n\t* xfns.c: Delete X11 conditionals.\n\t(defined_color, x_decode_color, x_set_foreground_color)\n\t(x_set_background_color, x_set_mouse_color, x_set_cursor_color)\n\t(x_set_border_color, x_set_border_pixel, Fx_create_frame)\n\t(Fx_open_connection, Fx_close_current_connection, syms_of_xfns):\n\tDelete X10 code.\n\t(Fx_get_default, Fx_get_resource, Fx_rubber_band)\n\t(Fx_store_cut_buffer, Fx_get_cut_buffer): Delete X10 definitions.\n\n\t* xfns.c (Fx_display_grayscale_p): New function.\n\t(syms_of_xfns): defsubr it.\n\n\t* s/bsd386.h (__bsdi__): Define, unless already defined.\n\t(DECLARE_GETPWUID_WITH_UID_T): Define.\n\n\t* filelock.c (getpwuid): Test just DECLARE_GETPWUID_WITH_UID_T,\n\tnot __bsdi__.\n\t* xrdb.c (getpwuid, getpwnam): Test just DECLARE_GETPWUID_WITH_UID_T,\n\tnot __bsdi__.\n\n1994-09-15  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* editfns.c (syms_of_editfns): Make Vsystem_name and Vuser...name\n\tlisp variables again.\n\t* xdisp.c (multiple_frames, Vframe_title_format,\n\tVicon_title_format): New variables.\n\t(store_frame_title): New function.\n\t(x_consider_frame_title): Format title according to template.\n\t(display_mode_element): Handle frame title as well as mode line.\n\t(decode_mode_spec): Use w->buffer, not current_buffer.\n\n1994-09-15  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* s/freebsd.h (DECLARE_GETPWUID_WITH_UID_T): Defined.\n\t[NO_SHARED_LIBS and __FreeBSD__]:\n\t(LD_SWITCH_SYSTEM, A_TEXT_OFFSET, A_TEXT_SEEK): Alternate definitions.\n\n\t* textprop.c (syms_of_textprop):\n\tDelete Lisp var interval-balance-threshold.\n\n\t* intervals.c, intervals.h (interval_balance_threshold): Var deleted.\n\n\t* xfns.c (Fx_create_frame): Make 1 the default for menu-bar-lines.\n\n\t* keyboard.c (gobble_input): Use sigblockx only if it is defined.\n\n\t* unexsunos4.c [SUNOS4]: Include link.h.\n\t(unexec) [SUNOS4]: Cancel relocations that ld.so did.\n\n\t* s/sunos4-0.h (SUNOS4): Defined.\n\n1994-09-14  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* Makefile.in.in (xmenu.o): Depend on puresize.h.\n\t(cmds.o): Depend on window.h.\n\n\t* cmds.c: Include window.h.\n\t(Fnewline): Inhibit the insert-at-end-of-line hack\n\twhen at the top of the window.\n\n\t* minibuf.c (Fcompleting_read): Doc fix.\n\n\t* xmenu.c: Include puresize.h.\n\t(menu_item_equiv_key): Use CHECK_IMPURE.\n\n\t* syntax.c (Fforward_comment): Do increment from, when reaching\n\tsingle-char comment end going forward.\n\n\t* callproc.c (delete_temp_file): Use Fdelete_file.\n\n\t* fileio.c (Fset_default_file_modes): Doc fix.\n\n\t* Makefile.in.in (OLDXMENU variable): Refer to the library in the\n\tdir where it is compiled.\n\t(OLDXMENU rule): Delete the commands; keep just a dep.\n\n1994-09-11  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* Version 19.27 released.\n\n1994-09-10  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keymap.c (syms_of_keymap): Doc fix.\n\n\t* keyboard.c (gobble_input): Block SIGALRM if we are using it.\n\n\t* gmalloc.c: Bug fix affecting __ptrdiff_t in non-ANSI case.\n\n1994-09-07  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* Version 19.26 released.\n\n1994-09-08  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keyboard.c (record_asynch_buffer_change): Don't test\n\tFwaiting_for_user_input_p if no subprocesses.\n\n1994-09-05  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* s/sol2.h [USE_X_TOOLKIT && HAVE_X11XTR6] (REL_ALLOC): Undefine it.\n\n1994-09-04  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* emacs.c (init_cmdargs): After chasing link, use only the\n\texpanded name.\n\n1994-09-04  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* fileio.c (Ffile_accessible_directory_p): Put back the gcpro.\n\n\t* sysdep.c (srandom): Pass arg to srand48; no return value.\n\n1994-09-04  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* emacs.c (init_cmdargs): When setting dir, expand the dir name.\n\n\t* sysdep.c (random, srandom): Check HAVE_LRAND48, not HAVE_RAND48.\n\tCall lrand48, nor rand48.\n\n\t* config.h.in (HAVE_LRAND48): Replaces HAVE_RAND48.\n\n1994-09-03  Kaveh R. Ghazi  (ghazi@noc.rutgers.edu)\n\n\t* m/delta88k.h [__GNUC__] (HAVE_ALLOCA): Defined.\n\t[__GNUC__] (C_ALLOCA): Add #undef.\n\t(LIB_X11_LIB): Add #undef.\n\t(HAVE_TERMIOS): Defined.\n\t(HAVE_TERMIO): Add #undef.\n\t(NO_TERMIO): Defined.\n\t(sigsetmask): Add #undef.\n\t(USE_GETOBAUD): Defined.\n\n1994-09-03  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* sysdep.c (init_baud_rate): Test that getobaud is actually defined.\n\n\t* sysdep.c (init_baud_rate) [USE_GETOBAUD]: Use getobaud.\n\n1994-09-02  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* insdel.c (prepare_to_modify_buffer): Don't call\n\tverify_overlay_modification if no overlays or\n\tverify_interval_modification no intervals.\n\n\t* textprop.c (Fset_text_properties):\n\tReturn early if buffer has no intervals and PROPS is nil.\n\n1994-09-02  Lennart Staflin  (lenst@rudolf)\n\n\t* xdisp.c (display_text_line): Don't overrun the charstart area.\n\n1994-09-02  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* insdel.c (insert_1): Don't call interval fns if buffer has none.\n\n\t* textprop.c (Fset_text_properties): Don't create or split an interval\n\tif we trivially do not need to change anything.\n\n1994-08-31  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xfns.c (defined_color): New arg ALLOC--optionally don't allocate\n\tthe color.\n\t(x_decode_color, Fx_color_defined_p): Pass new arg.\n\t(Fx_color_values): New function.\n\n1994-08-30  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* frame.c (Fdelete_frame): Fix previous change.\n\n1994-08-30  enami tsugutomo  <enami@sys.ptg.sony.co.jp>\n\n\t* fileio.c (Fwrite_region): unbind_to should take two args.\n\n1994-08-30  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* fileio.c (Ffile_accessible_directory_p): No need for gcpro.\n\n\t* keyboard.c (input_polling_used): New function.\n\t* xterm.c (x_make_frame_visible): Call input_polling_used.\n\n1994-08-28  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* frame.c (Fdelete_frame): Free the frame's glyphs arrays.\n\tFree the line insert/delete cost vectors.\n\n\t* dispnew.c (free_frame_glyphs): No longer static.\n\n\t* m/next.h (HAVE_MACH_MACH_H): Defined.\n\n\t* editfns.c (Finsert_and_inherit_before_markers):\n\tUse insert_before_markers_and_inherit for character args.\n\t(Finsert_and_inherit): Use insert_and_inherit for character args.\n\n\t* insdel.c (insert_before_markers_and_inherit): New function.\n\n\t* cmds.c (internal_self_insert): Use insert_and_inherit.\n\n1994-08-27  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* indent.c (Findent_to): Pass new arg to Finsert_char.\n\n\t* editfns.c (Finsert_char): New arg INHERIT.\n\tUse insert_and_inherit if requested.\n\n\t* insdel.c (insert_1): New arg INHERIT.\n\t(insert_and_inherit): New function.\n\n1994-08-26  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keyboard.c (polling_for_input): Define var unconditionally.\n\t* keyboard.h (polling_for_input): Declared.\n\t* xterm.c: Include keyboard.h.\n\t(x_make_frame_visible): Fix previous change: test polling_for_input\n\tinstead of whether SIGIO is defined.\n\t* Makefile.in.in (xterm.o): Depend on keyboard.h.\n\n1994-08-26  Kevin Rodgers  <kevinr@ihs.com>\n\n\t* xfns.c (Fx_color_defined_p): Return list of RGB values, not just t.\n\n1994-08-26  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* xterm.c (x_make_frame_visible): Call signal handler directly.\n\n1994-08-25  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* s/linux.h: Add LINUX_QMAGIC conditional.\n\n\t* m/alliant-2800.h (USE_NONANSI_DEFUN): Defined.\n\n\t* lisp.h (DEFUN): Check USE_NONANSI_DEFUN.\n\n\t* Makefile.in.in (obj): Put cm.o before term.o.\n\t(Avoids mysterious lossage on Irix.)\n\n\t* xmenu.c (xmenu_show): Don't queue events that are in the menu bar.\n\n1994-08-24  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xmenu.c (xmenu_show): Do nothing special for ButtonPress in the menu.\n\tCall XtDispatchEvent for all ButtonRelease events.\n\txlwmenu.c now deals with posting the menu.\n\tCheck for events in subwidgets of the menu\n\twhen deciding whether to queue them for later handling.\n\n\t* unexelfsgi.c (unexec): Copy previous change in unexelf.c.\n\n\t* s/irix5-0.h [__GNUC__] (LD_SWITCH_SYSTEM): Defined.\n\n1994-08-24  Simon Leinen  <simon@lia.di.epfl.ch>\n\n\t* term.c (term_init): Added missing argument to tgetstr.\n\t(tgetstr): Move declarations to top level.\n\n1994-08-24  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* xterm.c (x_make_frame_visible): Raise a signal to cause the\n\tpending X I/O to be read.\n\n1994-08-24  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xdisp.c (display_scan_buffer): New function.\n\t(display_count_lines): Use that.\n\n\t* intervals.c (textget): Ignore category prop if not a symbol.\n\n1994-08-23  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>\n\n\t* s/gnu.h: New file.\n\n1994-08-23  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* indent.c (pos_tab_offset): Don't trigger point-motion hooks.\n\n\t* buffer.c (Frename_buffer): Fix gcpro problems.\n\t* fileio.c (Fmake_symbolic_link, Ffile_accessible_directory_p,\n\tFinsert_file_contents, auto_save_error, Fwrite_region): Likewise.\n\t(Fcopy_file, build_annotations, Fdo_auto_save): Delete unused\n\tvariables.\n\n1994-08-23  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* fileio.c (O_RDONLY): Defined.\n\t(Finsert_file_contents, Fcopy_file): use it.\n\t(barf_or_query_if_file_exists, Ffile_exists_p): Use stat, not access.\n\t(Ffile_readable_p): Use open, not access.\n\n\t* lread.c (O_RDONLY): Defined.\n\t(openp): Use it.\n\n\t* unexelf.c (unexec): Don't alter the info field\n\tof SHT_SYMTAB and SHT_DYNSYM sections.\n\n\t* xdisp.c (redisplay_window): Don't access text before BEGV.\n\n\t* keyboard.c (read_char): After read_char_minibuf_menu_prompt,\n\tdon't just return; jump to non_reread.\n\n\t* fileio.c (Fmake_directory_internal): Pass just 2 args to handler.\n\n1994-08-23  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* frame.c (Fmake_frame_invisible, Ficonify_frame): Don't switch frames.\n\n1994-08-22  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* search.c (Fstring_match): Fix sign error.\n\n\t* m/ibmrs6000.h (LD_SWITCH_MACHINE): Use full path to ibmrs6000.inp.\n\n1994-08-21  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* m/ibmrs6000.h (LD_SWITCH_MACHINE): Supply m/ibmrs6000.inp as input.\n\n\t* m/ibmrs6000.inp: New file.\n\n1994-08-19  Hiroshi NAKANO  <nakano@whale.math.ryukoku.ac.jp>\n\n\t* unexelf.c: Eliminate local var bss_end.\n\tUpdate the symbol values of _edata and _end.\n\n1994-08-19  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* process.c (wait_reading_process_input):\n\tClear waiting_for_user_input_p before returning.\n\n\t* xterm.c (x_make_frame_visible): Quit if requested, in loop at end.\n\n1994-08-17  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keyboard.c (read_char): Don't show buffer-events to the user.\n\tHandle chars over 255 in dribble files.\n\n1994-08-17  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* callproc.c (Fcall_process_region): gcpro filename_string.\n\n1994-08-17  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* doc.c (store_function_docstring): Do nothing for bytecode object\n\twhich has no slot for doc string.\n\n1994-08-16  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* buffer.c (list_buffers_1): Update header line layout.\n\n1994-08-13  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* s/sol2-4.h (pid_t): New definition.\n\t(vfork): Definition deleted.\n\n\t* xmenu.c (xmenu_show): Unconditionally update x_mouse_grabbed\n\tand Vmouse_depressed.\n\n\t* window.c (window_loop, case UNSHOW_BUFFER):\n\tWhen we delete a frame, skip all the windows on that frame.\n\n1994-08-12  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* s/isc4-0.h (NEED_SIOCTL): moved to isc-3.0.h.\n\t* s/isc3-0.h (NEED_SIOCTL): moved from isc-4.0.h, and disabled\n\tBROKEN_TIOCGWINSZ since it works fine when you use <sioctl.h>.\n\t(C_SWITCH_SYSTEM): Add -D_SYSV3 to ensure availability of\n\ttraditional non-standard functions.\n\t(memmove): Delete this macro; it screws up <string.h> if you\n\tuse the native cc.  (Emacs already does the right thing anyway.)\n\n1994-08-12  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* indent.c (compute_motion): Use WIN's frame, not selected one.\n\n\t* xterm.c (x_new_font): Don't set filename = full_name if that's null.\n\n1994-08-11  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* Makefile.in.in (FRAME_SUPPORT): Add faces.elc.\n\n\t* search.c (Freplace_match): Treat caseless initial like a\n\tlowercase initial.\n\n\t* keymap.c (Fdefine_key): Fix error message.\n\t(Fsingle_key_description): Likewise.\n\n1994-08-10  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* s/sol2-3.h (POSIX_SIGNALS): Define it.\n\t(PTY_TTY_NAME_SPRINTF): New overriding definition.\n\t(sigsetmask): Add #undefs.\n\n\t* s/sol2-4.h (POSIX_SIGNALS, PTY_TTY_NAME_SPRINTF, sigsetmask):\n\tDelete those things (moved to sol2-3.h).\n\n\t* s/sol2-4.h (HAVE_VFORK): Deleted.\n\t(vfork): Define as emacs_vfork.\n\n\t* window.c (Fwindow_end): Undo previous change.\n\n1994-08-09  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keyboard.c (record_asynch_buffer_change): Do nothing\n\texcept when waiting_for_user_input_p.\n\n\t* m/i860.h [USG5_4] (SVR4): Defined.\n\n\t* xdisp.c (display_text_line):\n\tMake previous change #ifdef HAVE_X_WINDOWS.\n\n1994-08-08  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* puresize.h [MULTI_FRAME] (PURESIZE): Increased.\n\n\t* window.c (Fwindow_end): If window_end_valid is nil, return nil.\n\n\t* window.c (Fpos_visible_in_window_p): Do something reasonable\n\tif w->start is outside the buffer bounds.\n\n1994-08-07  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* s/sol2-4.h (PTY_TTY_NAME_SPRINTF): New definition.\n\t(sigsetmask): Add #undef.\n\n\t* keymap.c (Faccessible_keymaps): Fix previous change.\n\n1994-08-06  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xdisp.c (display_text_line): Use the face properties\n\tof the overlay arrow, if any.\n\n\t* xfaces.c (compute_glyph_face_1): New function.\n\n\t* m/intel386.h (LIBS_MACHINE): If SOLARIS2_4, don't define this.\n\t* s/sol2-4.h (SOLARIS2_4): Defined.\n\n1994-08-05  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keymap.c (Fuse_global_map, Fuse_local_map):\n\tCall record_asynch_buffer_change.\n\n\t* xterm.c (XTread_socket):\n\tDon't test X_IO_BUG; make that code unconditional.\n\t(x_noop_count, x_term_init): Likewise.\n\n1994-08-04  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* data.c (Fdefine_function, Fdefalias): Handle advice as in Ffset.\n\t(Qad_advice_info): Lisp and C names renamed from Qadvice_info.\n\t(Qad_activate): C name renamed from Qactivate_advice.\n\n\t* fileio.c (Fread_file_name_internal): Call double_dollars\n\twhen `changed' is set.\n\n1994-08-03  Caveh Jalali  (caveh@eng.sun.com)\n\n\t* m/intel386.h [SOLARIS2] (VALBITS, GCTYPEBITS): New definitions.\n\n\t* s/sol2-4.h: New file.\n\n1994-08-03  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* buffer.c (list_buffers_1): Add one column to size column.\n\n\t* xterm.c (x_make_frame_visible): Start one_in_four at 1.\n\n\t* window.c (Fwindow_end): Doc fix.\n\n\t* xterm.c (construct_mouse_click, construct_menu_click):\n\tDon't update x_mouse_grabbed, Vmouse_depressed, last_mouse_frame here.\n\t(XTread_socket): Update them here, so we do it without fail.\n\t(XTmouse_position, XTread_socket case MotionNotify):\n\tCheck last_mouse_frame is nonzero before using it.\n\n\t* Makefile.in.in (alloca.o): Use -f in all rm's.\n\n1994-08-02  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keymap.c (Faccessible_keymaps): Use PREFIX to set loop starting\n\tpoint; don't even consider maps except those reached via prefix.\n\n\t* keyboard.c (make_lispy_event): If the position is not in a window,\n\tat least pass along the frame it is in.\n\n1994-08-01  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>\n\n\t* data.c (Ffset): Don't call Fget unless SYM's plist is consp.\n\n1994-08-01  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* eval.c (Fprog2): Doc fix.\n\n\t* window.c (Fmove_to_window_line): Doc fix.\n\n1994-08-01  Frederic Pierresteguy  (F.Pierresteguy@frcl.bull.fr)\n\n\t* xmenu.c (xmenu_show): Ignore any geometry resource from the user.\n\n1994-07-31  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xfns.c (Fx_get_resource): Doc fix.\n\n\t* data.c (syms_of_data): Set up Qadvice_info, Qactivate_advice.\n\t(Ffset): Activate advice if symbol has advice-info property.\n\n\t* xdisp.c (redisplay_window): Avoid using SET_PT to change point\n\ttemporarily.\n\n\t* dispnew.c (sit_for): Undo previous change.\n\n1994-07-30  enami tsugutomo  <enami@sys.ptg.sony.co.jp>\n\n\t* dispnew.c (direct_output_for_insert): Pass missing 8th\n\targument to compute_char_face.\n\n1994-07-30  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keyboard.c (follow_key): Don't downcase letters here.\n\tDelete arg `case_converted'.\n\t(read_key_sequence): Do it here; but not if in middle of fcn key.\n\n\t* fns.c (Frandom): Handle LIMIT >= 40000000.\n\n\t* xdisp.c (decode_mode_spec): Handle %&.\n\n1994-07-29  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* process.c (create_process): Set default handling for SIGINT, etc.\n\n1994-07-28  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* process.c (wait_reading_process_input): Fix previous change.\n\n\t* s/hpux9.h (HAVE_TERMIOS, NO_TERMIO): Defined.\n\t(HAVE_TERMIO): Add #undef.\n\n\t* sysdep.c (random): Use rand differently, and distinguish BSD/USG.\n\n\t* fns.c (Frandom): Fix previous change.\n\n1994-07-27  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* syssignal.h [POSIX_SIGNALS] (signal): New definition.\n\n\t* config.h.in (HAVE_RAND48): Add #undef.\n\n1994-07-26  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xterm.c (x_queue_event, x_unqueue_events): New functions.\n\t(x_start_queuing_selection_requests): New function.\n\t(x_stop_queuing_selection_requests): New function.\n\t(XTread_socket): Queue up SelectionRequest events sometimes.\n\t* xselect.c (x_get_foreign_selection): Use the new feature\n\tto queue up SelectionRequest events.\n\n\t* process.c (wait_reading_process_input): If wait_for_cell,\n\tdo check for keyboard input and handle it.\n\n\t* fns.c (Frandom): Use just the low 30 bits of random's value.\n\n\t* sysdep.c (random, srandom): Obey HAVE_RAND48 flag.\n\tTest that random is not a macro.  Don't test USG or BSD4_1.\n\n\t* m/tek4300.h (tek4300): Don't define if already defined.\n\n1994-07-25  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* m/tek4300.h (BSD_PGRPS): Defined.\n\n\t* puresize.h (PURESIZE): Increase non-MULTI_FRAME value.\n\n\t* editfns.c (get_system_name): Add a cast.\n\n\t* config.h.in: Add #undef HAVE_H_ERRNO.\n\t* process.c, sysdep.c [!HAVE_H_ERRNO]: Declare h_errno.\n\t* sysdep.c (init_system_name): Set h_errno to 0 initially.\n\t* process.c (Fopen_network_stream): Set h_errno to 0 initially.\n\n\t* window.c (Fdisplay_buffer): Add MULTI_FRAME cond in last change.\n\n\t* Makefile.in.in: Add #undef alloca.\n\n1994-07-23  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* minibuf.c (Fdisplay_completion_list): gcpro `completions'.\n\n\t* print.c (internal_with_output_to_temp_buffer): gcpro things.\n\n\t* puresize.h (PURESIZE): Incremented to 252000.\n\n1994-07-23  Jim Blandy  (jimb@totoro.bio.indiana.edu)\n\n\t* .gdbinit: Set the breakpoint in x_error_quitter instead of\n\t_XPrintDefaultError.\n\n1994-07-20  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* window.c (Fnext_window, Fprevious_window): Don't get stuck in a loop\n\tin the minibuffer frame.\n\n\t* dispnew.c (direct_output_for_insert): Dpn't call compute_char_face\n\tfor a non-X frame.\n\n\t* s/usg5-4.h: Move #undef static before the includes.\n\n\t* xrdb.c [USG5] (SYSV): Don't define if already defined.\n\n\t* fileio.c (Fwrite_region): Do unwind the new unwind protect.\n\n1994-07-19  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* xterm.c (struct font_info): New field full_name.\n\t(x_new_font): Record, and return, the full name of the font.\n\n\t* widget.c (EmacsFrameSetCharSize): Delete the code to make rows at\n\tleast 3.\n\n\t* fileio.c (Vwrite_region_annotations_so_far): New variable.\n\t(syms_of_fileio): Set up Lisp var.\n\t(build_annotations): Handle annotate functions that switch buffers.\n\tSet Vwrite_region_annotations_so_far.\n\t(Fwrite_region): Handle change of buffer in build_annotations.\n\tAdd an unwind protect to restore original buffer and kill the temp.\n\n\t* sysdep.c (init_system_name): Retry gethostbyname after TRY_AGAIN\n\tfailure.\n\n\t* process.c (Fopen_network_stream):\n\tRetry gethostbyname after TRY_AGAIN failure.\n\n\t* s/isc4-0.h [__GNUC__] (LIBX11_SYSTEM): Add -lcposix.\n\n\t* s/usg5-4.h (PTY_TTY_NAME_SPRINTF): Fail smoothly if cannot get pty.\n\n\t* sysdep.c (sys_subshell): Expand ~ in dir.\n\tDo the processing of dir before calling fork.\n\tUse vfork.\n\n1994-07-18  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* xterm.c (note_mouse_movement): Use proper data type for window\n\targs to XQueryPointer.\n\t(x_scroll_bar_note_movement): Likewise.\n\n\t* keyboard.c (Vdeferred_action_list, Vdeferred_action_function):\n\tNew variables.\n\t(command_loop_1): Handle them.\n\t(syms_of_keyboard): Set up Lisp variables.\n\n\t* s/linux.h [emacs]: Include stdio.h.\n\n\t* commands.h (unread_command_char): Declare.\n\t* dispnew.c (sit_for): Return immediately if unread events exist.\n\n1994-07-17  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* textprop.c (Fget_text_property): Simplify using Ftext_properties_at.\n\n1994-07-17  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xfns.c (Fx_create_frame): Use 140 as default font size.\n\n\t* xmenu.c [USE_X_TOOLKIT] (xmenu_show): Handle UnmapNotify events.\n\n1994-07-16  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* window.c (Fdisplay_buffer): Cope with unsplittable frames\n\tand dedicated windows.\n\n\t* frame.c [!MULTI_FRAME] (Fframe_first_window): Defined.\n\t(syms_of_frame): Defvar it.\n\n1994-07-14  Morten Welinder  (terra@diku.dk)\n\n\t* s/msdos.h (HAVE_VOLATILE): Define.\n\n1994-07-14  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* keyboard.c (safe_run_hooks): Use local var to restore hook's value.\n\n1994-07-13  Morten Welinder  (terra@diku.dk)\n\n\t* keyboard.c (kbd_buffer_get_event) [HAVE_MOUSE]: Include code\n\tto check for mouse dragging.\n\t(make_lispy_movement) [HAVE_MOUSE]: Define also in this case,\n\tbut only include the non-multiframe stuff.\n\n\t* msdos.c (mouse_init1): Use alternate mouse detection for old\n\tmouse drivers.\n\t(mouse_get_pos): Downscale coordinates by 8.\n\n1994-07-13  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* window.c (Fselect_window): Fix bug checking new_point is in range.\n\n\t* fileio.c (syms_of_fileio): Finish previous change.\n\n\t* keyboard.c (command_loop_1): Do direct output for cursor motion\n\tover text chars when disp tab exists but says nothing for them.\n\n\t* frame.h (FRAME_EXTERNAL_MENU_BAR) [!USE_X_TOOLKIT]: Give zero.\n\n\t* xdisp.c [!HAVE_X_WINDOWS] (compute_char_face, compute_glyph_face):\n\tAdd simple alternate definitions for non-X case.\n\n1994-07-12  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* process.c (Qlast_nonmenu_event): New variable.\n\t(syms_of_process): Set it up.\n\t(read_process_output, exec_sentinel): Bind it to t around filter.\n\n\t* fileio.c (Fmake_directory_internal): Use Qmake_directory_internal.\n\t(syms_of_fileio): Set up Qmake_directory_internal, not Qmake_directory.\n\n\t* frame.c [MULTI_FRAME] (Fframe_parameters): For non-X frames,\n\tfill in menu-bar-lines value.\n\n1994-07-11  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* xmenu.c (xmenu_show): Don't call XtUngrabPointer here.\n\n\t* Makefile.in.in (ctagsfiles): Rewrite to avoid compiler bug.\n\n1994-07-10  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* window.c (Fdisplay_buffer): Add MULTI_FRAME conditional\n\tin previous change.\n\n1994-07-10  Morten Welinder  (terra@diku.dk)\n\n\t* m/intel386.h [MSDOS] (NO_REMAP): Defined.\n\t* s/msdos.h (HAVE_MOUSE, PURESIZE): Definitions moved here.\n\t* m/dos386.h: File obsolete and deleted.\n\n\t* msdos.c (dos_rawgetc): Use bios, not kbhit.\n\n1994-07-09  Morten Welinder  (terra@diku.dk)\n\n\t* fileio.c (Ffile_name_directory, Ffile_name_nondirectory,\n\tfile_name_as_directory, directory_file_name, Fexpand_file_name,\n\tFfile_name_absolute_p, Fsubstitute_in_file_name) [MSDOS]:\n\tAllow backslashed file names.\n\n1994-07-09  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* puresize.h (PURESIZE) [MULTI_FRAME]: Increased to 250000.\n\n\t* lread.c (readevalloop): Correctly unbind the unwind protect.\n\n1994-07-08  Morten Welinder  (terra@diku.dk)\n\n\t* msdos.c (do_visible_bell): Clean-up using GNU assembly extension.\n\n1994-07-07  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* m/sparc.h (BIG_ENDIAN): Don't redefine if defined.\n\n\t* Makefile.in.in (alloca.o): Delete allocatem.c first thing.\n\n\t* xmenu.c (xmenu_show) {USE_X_TOOLKIT}: ButtonPress no longer pops\n\tdown; instead it forces the next ButtonRelease to exit.  Don't\n\tdispatch on ButtonPress events.\n\n\t* xfns.c (syms_of_xfns): Provide x-toolkit in toolkit version.\n\tUndo previous change.\n\t(x_toolkit): Variable deleted.\n\n\t* xfns.c (x_toolkit): New variable.\n\t(syms_of_xfns): Set up Lisp var x-toolkit.\n\n\t* window.c (Fnext_window, Fprevious_window): ALL_FRAMES = 0 means\n\ttry both visible frames and iconified frames.\n\t(window_loop): Likewise, for FRAMES = 0.\n\t(Fget_buffer_window): Likewise, for FRAME = 0.\n\t(Fdisplay_buffer): Pass 0 to Fget_buffer_window;\n\tif the frame is iconified, make it visible.\n\n\t* frame.c (next_frame, prev_frame):\n\tMINIBUF = 0 means try visible frames and iconified frames.\n\n1994-07-06  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* xmenu.c (xmenu_show) [USE_X_TOOLKIT]: Keyboard input exits the menu.\n\tButtonRelease does so if within Vdouble_click_time.\n\tIgnore mouse motion if button was already released.\n\t(menu_item_selection): Declare volatile, if __STDC__.\n\n\t* keyboard.c (make_lispy_event): Ignore menu bar up events.\n\n1994-07-05  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* doprnt.c (doprnt): Handle padding on %c.\n\n\t* frame.c (next_frame, prev_frame): Change which frames to use\n\twhen MINIBUF is a window.\n\t(Fnext_frame, Fprevious_frame): Doc fixes.\n\n\t* window.c: Doc fixes.\n\n1994-07-04  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* xterm.c (XTread_socket, construct_menu_click) [USE_X_TOOLKIT]:\n\tUpdate x_mouse_grabbed and Vmouse_depressed.\n\n1994-07-02  Richard Stallman  (rms@gnu.ai.mit.edu)\n\n\t* xdisp.c (decode_mode_spec): %+ makes % for unmodified RO buffer.\n\n\t* buffer.c (syms_of_buffer): Doc fix.\n\n\t* xfaces.c (get_cached_face): Set the cached_index field.\n\n1994-07-01  Richard Stallman  (rms@gnu.ai.mit.edu)\n\n\t* sysdep.c (init_sys_modes): Turn off VSTART and VSTOP chars.\n\tOn DGUX, turn off INPCK.\n\n1994-07-01  Paul Reilly  (pmr@churchy.gnu.ai.mit.edu)\n\n\t* xfns.c (Fx_create_frame): Add GC protection for frame being made.\n\n1994-06-30  Richard Stallman  (rms@gnu.ai.mit.edu)\n\n\t* xterm.c (x_make_frame_visible): In x_sync loop at the end,\n\tevery fourth time, sleep for 1/4 second.\n\n\t* xselect.c (x_own_selection, x_get_foreign_selection):\n\tGet rid of spurious X_TOOLKIT conditional.\n\n\t* frame.c (Fdelete_frame): Call x_clear_frame_selections.\n\n\t* xselect.c (x_own_selection): Put the frame in Vselection_alist.\n\t(x_clear_frame_selections): New function.\n\n\t* xterm.c (x_draw_box): Use curs_x and curs_y, not f->cursor_[xy].\n\n\t* xfns.c (XLIB_ILLEGAL_ACCESS): Defined.\n\n1994-06-29  Richard Stallman  (rms@gnu.ai.mit.edu)\n\n\t* s/hpux.h (random, srandom): Defined.\n\n\t* cmds.c (internal_self_insert): Now can return 2.\n\t* keyboard.c (command_loop_1): Don't clear nonundocount\n\twhen internal_self_insert returns 1.\n\n1994-06-28  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* xfns.c (x_set_frame_parameters): Call x_set_offset directly.\n\tHandle `-' for position parameters.\n\n1994-06-28  Karl Heuer  (kwzh@hal.gnu.ai.mit.edu)\n\n\t* lread.c (readchar): Restart interrupted I/O.\n\n1994-06-28  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)\n\n\t* fileio.c (a_write): Loop while *ANNOT is listp, not consp.\n\tPrevious code omitted all data from output files when *ANNOT was\n\tnil.\n\n1994-06-28  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* xfns.c (x_set_name): If no change needed, avoid consing.\n\n\t* xdisp.c (prepare_menu_bars): Call x_consider_frame_title\n\tonly if windows_or_buffers_changed.\n\n\t* keyboard.c (safe_run_hooks): Take symbol as arg.\n\tUse Fsymbol_value and Fset.\n\t(command_loop_1): Pass symbol to safe_run_hooks.\n\tLook in the value cell to check for trivial case (no hooks).\n\n\t* xdisp.c (redisplay_region): For special treatment, BUF most be\n\tboth current and displayed in selected window.\n\n\t* buffer.c (Foverlay_put): Pass redisplay_region a struct buffer *.\n\n1994-06-27  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* fileio.c (a_write): Verify that *annot is a cons.\n\n1994-06-26  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* keyboard.c (echo_dash): Fix backwards conditional.\n\t(read_key_sequence): Don't echo if echo_keystrokes is 0.\n\n\t* m/news-risc.h (C_DEBUG_SWITCH) [not NEWSOS5]:\n\tDon't define if __GNUC__.\n\t(KERNEL_FILE) [not NEWSOS5]: New override definition.\n\n1994-06-25  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* process.c (send_process): Major rewrite.\n\tDon't put in a C-d unless a single line is too long.\n\tRead process input whenever output gets stuck.\n\tRelocate BUF if we read input.  New arg OBJECT.\n\t(Fprocess_send_region, Fprocess_send_string, process_send_signal)\n\t(Fprocess_send_eof): Pass new arg OBJECT.\n\n\t* buffer.h (BUF_PTR_CHAR_POS): New macro.\n\n\t* window.c (Fsave_window_excursion): Doc fix.\n\n\t* s/hpux9.h (C_SWITCH_SYSTEM): Add -D_BSD.\n\n\t* frame.c (Fframe_parameters): Don't handle menu-bar-lines explicitly.\n\n\t* window.c (Fother_window_for_scrolling): New function.\n\t(Fscroll_other_window): Use that.\n\t(syms_of_window): defsubr it.\n\n1994-06-24  Karl Heuer  (kwzh@nutrimat.gnu.ai.mit.edu)\n\n\t* fileio.c (Finsert_file_contents): Fix check for non-regular files.\n\n1994-06-24  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* syntax.c (scan_lists, Fforward_comment): When moving backward over\n\ta comment, ignore a comment-starter that overlaps the comment-ender.\n\n\t* minibuf.c (Fcompleting_read): Doc fix.\n\n1994-06-23  Karl Heuer  (kwzh@hal.gnu.ai.mit.edu)\n\n\t* keyboard.c (syms_of_keyboard): Don't staticpro the same var twice.\n\n1994-06-23  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* s/convexos.h: File deleted.\n\n\t* xterm.c: Don't include string.h or strings.h.\n\n\t* term.c (term_get_fkeys): Don't redeclare term_get_fkeys_1 here.\n\n\t* m/convex.h (LIBS_MACHINE, GETPGRP_NO_ARG): Defined.\n\t(NLIST_NAME_UNION, DECLARE_GETPWUID_WITH_UID_T): Defined.\n\t(CRT0_DUMMIES): Conditionalize according to __GNUC__.\n\t(convex): Define if necessary.\n\t(C_SWITCH_MACHINE): Definition deleted.\n\n1994-06-22  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* buffer.c (Fmove_overlay): Fix typo in previous change.\n\n\t* s/sunos4shr.h (X_IO_BUG): Defined.\n\n1994-06-21  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* minibuf.c (read_minibuf_unwind): Run Qminibuffer_exit_hook here.\n\t(read_minibuf): Not here.\n\n\t* buffer.c (Fkill_buffer): Don't delete auto save file\n\tif it didn't come from this Emacs session.\n\t(Fmove_overlay): Add missing XINT calls in previous change.\n\n1994-06-20  Karl Heuer  (kwzh@hal.gnu.ai.mit.edu)\n\n\t* xfns.c (x_window): Delete duplicate computation.\n\tChange type of reference argument from int to Dimension.\n\n1994-06-20  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* config.h.in: Move #undef HAVE_STRERROR before the #includes.\n\n\t* m/mips4.h (HAVE_STRERROR, HAVE_XRMSETDATABASE)\n\t(HAVE_XSCREENRESOURCESTRING, HAVE_SETSID): Add #undefs.\n\n\t* buffer.c (Fmove_overlay): Call redisplay_region even when\n\tchanging to a different buffer.\n\n\t* syntax.c (Fmatching_paren): Fix typo.\n\n\t* xterm.c (show_mouse_face): Set endcolumn ok in side-by-side windows.\n\n1994-06-19  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* s/linux.h (SEGMENT_MASK): Defined.\n\n\t* xfns.c (x_window): Take account of pane widget internal border width.\n\n\t* s/linux.h (C_OPTIMIZE_SWITCH): Definition deleted.\n\n\t* lisp.h (RETURN_UNGCPRO): Swallow semicolon.\n\t(GCPRO5): New macro.\n\n\t* xmenu.c (single_keymap_panes): Put menu_item_equiv_key in the gcpro.\n\t(menu_item_equiv_key): GCPRO things.\n\n\t* keymap.c (Flookup_key): Add gcpro.\n\t(Fkey_binding, Fminor_mode_key_binding): Likewise.\n\t(Fwhere_is_internal): Likewise.\n\n\t* keyboard.c (apply_modifiers): Use assq_no_quit.\n\n1994-06-19  Erik Naggum  (erik@naggum.no)\n\n\t* syntax.h (SYNTAX_MATCH): Fix typo (syntax -> matcher).\n\n\t* syntax.c (Fmatching_paren): New function.\n\t(Fchar_syntax): Pass arg directly to SYNTAX, no masking.\n\n1994-06-18  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* .gdbinit: Doc fixes.\n\t(xsymbol): Cast $ to int.\n\t(xvector, xstring): Don't use a string constant.\n\tReduce size limit for printing contents.\n\n\t* s/sol2.h (GETTIMEOFDAY_ONE_ARGUMENT): Undo previous change.\n\n1994-06-18  Francesco Potort\u00ec  (pot@fly.cnuce.cnr.it)\n\n\t* m/delta.h (memmove): switch the first two args.\n\n1994-06-18  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* xterm.c (x_make_frame_visible): At end, wait till Emacs sees\n\tframe is visible.\n\n\t* keyboard.c (echo_after_prompt): New variable.\n\t(echo_prompt, cancel_echoing): Set it.\n\t(echo_dash): Test it.\n\n\t* s/linux.h (C_DEBUG_SWITCH): Define, if THIS_IS_CONFIGURE.\n\t(HAVE_GETTIMEOFDAY, HAVE_MKDIR, HAVE_RMDIR):\n\t(HAVE_XSCREENNUMBEROFSCREEN, HAVE_XRMSETDATABASE):\n\tComment out these definitions.\n\n\t* Makefile.in.in (doprnt.o): Depend on config_h.\n\n1994-06-17  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* systime.h (EMACS_GET_TIME): Test GETTIMEOFDAY_ONE_ARGUMENT,\n\tnot USG5_4.\n\t* s/usg5-4.h (GETTIMEOFDAY_ONE_ARGUMENT): Define it.\n\t* s/sol2.h (GETTIMEOFDAY_ONE_ARGUMENT): Undef it.\n\n\t* xfns.c (x_real_positions): Make sure we know the parent window.\n\n1994-06-17  Karl Heuer  (kwzh@hal.gnu.ai.mit.edu)\n\n\t* window.h (minibuf_prompt): Now a Lisp_Object.  All uses changed.\n\n\t* minibuf.c (minibuf_save_list): New variable, replaces\n\tminibuf_save_vector.\n\t(read_minibuf): Cons it up.\n\t(read_minibuf_unwind): Pop back the saved values.\n\t(syms_of_minibuf): staticpro it.\n\n\t* indent.c (compute_motion): Recenter overlays, for speed.\n\n1994-06-17  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* xterm.c (scratch_cursor_gc): New variable.\n\t(dumpglyphs): Rework handling of GCs for cursor display\n\tto use scratch_cursor_gc, and reuse the GC more.\n\n1994-06-16  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* unexec.c (make_hdr): Handle case of no \"additional header\".\n\n\t* xdisp.c (redisplay_region): Treat selected window's buffer\n\tspecially, not current buffer.\n\n\t* syssignal.h [USG5_4] (sigblock): Use |, not &.\n\n1994-06-16  Karl Heuer  (kwzh@hal.gnu.ai.mit.edu)\n\n\t* xdisp.c (redisplay_window): Don't use shortcut if window_end_vpos\n\tis out of date.\n\n1994-06-16  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* process.c (Fprocess_status): Return nil for process name\n\tthat has no process.\n\n\t* dispnew.c (syms_of_display): Make baud-rate a user var.\n\n\t* syntax.c (scan_lists): Get error if eob within comment with depth!=0.\n\n1994-06-16  Roland McGrath  (roland@geech.gnu.ai.mit.edu)\n\n\t* unexec.c: Include <sys/file.h> and [USG5] <fcntl.h> to define\n\tO_* macros.\n\t(O_RDONLY, O_RDWR): Define if undefined.\n\t[emacs] (report_error): Use report_file_error so the user can tell\n\twhat the errno code was.\n\t(unexec): Use O_RDONLY instead of explicit 0.\n\t(make_hdr): Don't undo A_TEXT_OFFSET adjustment #ifndef NO_REMAP,\n\tsince it was never adjusted earlier #ifndef NO_REMAP.\n\t(adjust_lnnoptrs): Use O_RDWR instead of explicit 2.\n\n1994-06-15  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* xterm.c (x_noop_count): New variable.\n\t(x_term_init) [X_IO_BUG]: Init it.\n\t(XTread_socket) [X_IO_BUG]: Don't do XNoOp every time, just 1 in 100.\n\n1994-06-15  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* syssignal.h (sigblock) [USG5_4]: Define if not defined.\n\n1994-06-14  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* lread.c: Put config.h first.\n\n\t* hftctl.c: Put sys/signal.h and errno.h first, then config.h.\n\n\t* dired.c: Put stdio.h, sys/types.h and sys/stat.h after config.h.\n\n\t* callproc.c, dispnew.c, frame.c, term.h: Put stdio.h after config.h.\n\t* widget.c, xmenu.c, xterm.c: Put stdio.h after config.h.\n\n1994-06-14  Karl Heuer  (kwzh@hal.gnu.ai.mit.edu)\n\n\t* sysdep.c (init_system_name): New function, replaces get_system_name.\n\t* lisp.h: declare it.\n\t* editfns.c (init_editfns): Call it.\n\t(get_system_name): New function, now just uses Vsystem_name.\n\t* xterm.c (x_term_init): Use Vsystem_name instead of calling\n\tget_system_name.\n\n\t* keymap.c (Fsingle_key_description): Allow strings as keys.\n\n\t* process.c (create_process): Set input_wait_mask before forking.\n\n1994-06-14  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* indent.c (vmotion): Use find_next_newline_no_quit.\n\t(indented_beyond_p): Likewise.\n\n\t* search.c (find_next_newline_no_quit): New function.\n\n\t* sysdep.c (init_sys_modes): Don't set up sigio here if window system.\n\n\t* keyboard.c (read_key_sequence): Verify event has a POSN_BUFFER_POSN\n\tbefore trying to extract it.\n\n\t* eval.c (init_eval_once): Call xmalloc, not malloc.\n\n\t* process.c (Fprocess_send_eof): Doc fix.\n\n1994-06-13  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* keyboard.c (interrupt_signal, init_keyboard):\n\tDon't handle SIGINT and SIGQUIT if using window system directly.\n\n\t* sysdep.c (init_sys_modes): Don't call set_terminal_modes\n\tif using a window system.\n\n\t* xterm.c (XTread_socket): Use x_top_window_to_frame in prev change.\n\n\t* s/sol2.h (SOLARIS2): Defined.\n\n\t* m/intel386.h: Add conditional for SOLARIS2.\n\n1994-06-13  Karl Heuer  (kwzh@hal.gnu.ai.mit.edu)\n\n\t* xmenu.c (single_keymap_panes): gcpro some things.\n\n1994-06-13  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* xterm.c (XTread_socket): Handle Xatom_wm_save_yourself\n\tby calling XSetCommand.\n\n\t* emacs.c (init_cmdargs): Set up initial_argv, initial_argc.\n\n\t* keyboard.c (syms_of_keyboard): Properly init Vsystem_key_alist.\n\n\t* unexaix.c (adjust_lnnoptrs): Handle multiple aux symbols.\n\n1994-06-12  Karl Heuer  (kwzh@hal.gnu.ai.mit.edu)\n\n\t* editfns.c (transpose_markers): Allow for gap at start of region.\n\t(Ftranspose_regions): Don't precompute pointers into buffer text.\n\n1994-06-12  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* xfns.c (x_window): Request \"save yourself\" commands.\n\n\t* callint.c (Fcall_interactively): Ignore `-' in string.\n\t(Fcall_interactively): Don't call minibuffer-window-active-p;\n\tdetermine directly whether a minibuf window is active.\n\n\t* keyboard.c (read_char): When we loop and call redisplay,\n\tdo prepare_menu_bars first.\n\n1994-06-11  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* search.c (Freplace_match): Be sure not to treat non-digit like digit.\n\n\t* xmenu.c (xmenu_show): Don't call XMenuDestroy twice\n\tin XM_FAILURE case.\n\n\t* Makefile.in.in (xterm.o): Depend on dispextern.h.\n\n\t* s/sunos4-1-3.h (X_IO_BUG): Defined.\n\n1994-06-10  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* s/linux.h (CLASH_DETECTION): Defined.\n\n\t* minibuf.c (Fdisplay_completion_list):\n\tRequire at least two spaces between items.\n\n1994-06-07  Richard Stallman  (rms@geech.gnu.ai.mit.edu)\n\n\t* keyboard.c (command_loop_1):\n\tTreat nil in display tab like no display tab.\n\n1994-06-07  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* m/mips-siemens.h: Include pyramid.h, not mips.h.\n\t(LOAD_AVE_TYPE, LOAD_AVE_CVT): Definitions deleted.\n\t(NO_ARG_ARRAY, HAVE_ALLOCA): Defined.\n\t(BROKEN_FIONREAD): Add #undef.\n\n1994-06-07  Morten Welinder  (terra@diku.dk)\n\n\t* msdos.c (init_environment): Clean up code and make the default\n\tEMACSPATH equal to the directory from which Emacs was started.\n\t(emacsroot): New variable.\n\t(rootrelativepath): New function.\n\t* msdos.h: Add template for rootrelativepath.\n\t* lread.c [MSDOS]: #include \"msdos.h\".\n\t* callproc.c (init_callproc) [MSDOS]: Exclude less code, so ../etc\n\tis still tested for doc file.\n\n1994-06-06  Karl Heuer  (kwzh@hal.gnu.ai.mit.edu)\n\n\t* fns.c (Fy_or_n_p, Fyes_or_no_p) [HAVE_X_MENU]: Redisplay before\n\tpopping up a menu.\n\n\t* dispnew.c (Fframe_or_buffer_changed_p): Reuse the state vector.\n\n1994-06-06  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* frame.c (Ficonify_frame, Fmake_frame_invisible, Fmake_frame_visible):\n\tIncrement windows_or_buffers_changed.\n\n\t* xdisp.c (redisplay): Don't call x_consider_frame_title.\n\t(display_mode_line): Likewise.\n\t(prepare_menu_bars): Call it here.\n\n1994-06-06  Karl Heuer  (kwzh@hal.gnu.ai.mit.edu)\n\n\t* dispnew.c (Fframe_or_buffer_changed_p): New function.\n\n1994-06-05  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* xterm.c (x_wm_set_icon_position, x_wm_set_icon_pixmap):\n\t[USE_X_TOOLKIT]: Use top-level widget's window.\n\n\t* s/bsd386.h (BSD): Redefine.\n\t(WAITTYPE, WRETCODE, WCOREDUMP): New definitions.\n\tInclude wait.h.\n\n\t* m/sun386.h (LIBS_MACHINE) [USG]: New #define.\n\n\t* xterm.c (x_term_init): New args xrm_option and resource_string.\n\tPass an -xrm option to XtAppInitialize if appropriate.\n\n\t* xfns.c (Fx_open_connection): Set up Vx_resource_name and xrm_option\n\tbefore calling x_term_init.  Pass new args.\n\n\t* keyboard.c (modify_event_symbol): Return nil if out of range.\n\n\t* keymap.c (Fkey_description): Avoid using Fmapconcat--do it directly.\n\n\t* keyboard.c, dispnew.c: Include systime.h after xterm.h.\n\n\t* xfns.c (x_window): Take account of internal border of paned widget.\n\n\t* m/dos386.h (PURESIZE): Increased to 240000.\n\n\t* xfns.c (using_x_p): New function.\n\t* fns.c (Fy_or_n_p): Don't use dialog box if not an X frame.\n\t(Fyes_or_no_p): Likewise.\n\n1994-06-04  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* s/hpux9shr.h (C_DEBUG_SWITCH): Define as empty.\n\n1994-06-03  Morten Welinder  (terra@diku.dk)\n\n\t* callproc.c [MSDOS]: #include \"msdos.h\" for rootrelativepath\n\ttemplate.\n\n\t* msdos.c (run_msdos_command): Make local copy of argv[2] on stack,\n\tnot on heap.\n\t(run_msdos_command): When changing argv[2] from using slashes to\n\tusing backslashes, only do so on the first white-space delimited\n\tpart.\n\n1994-06-02  Karl Heuer  (kwzh@hal.gnu.ai.mit.edu)\n\n\t* textprop.c (Fprevious_single_property_change): Check for null\n\tinterval after correcting for edge effects.\n\n\t* xdisp.c (display_text_line): Make sure pointer is in range.\n\n\t* xmenu.c (xdialog_show): Fix problem with message in dialog box.\n\n1994-06-02  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* emacs.c (main): Do the setpgrp after checking for -batch.\n\n\t* keyboard.c (command_loop_1): Properly handle nil in display table.\n\n\t* s/hpux9.h (C_SWITCH_SYSTEM): Put inside __GNUC__ conditional.\n\n1994-06-01  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* process.c (kill_buffer_processes): For net conn, use Fdelete_process.\n\nSee ChangeLog.4 for earlier changes.\n\n;; Local Variables:\n;; coding: utf-8\n;; End:\n\n  Copyright (C) 1994-1995, 2001-2018 Free Software Foundation, Inc.\n\n  This file is part of GNU Emacs.\n\n  GNU Emacs is free software: you can redistribute it and/or modify\n  it under the terms of the GNU General Public License as published by\n  the Free Software Foundation, either version 3 of the License, or\n  (at your option) any later version.\n\n  GNU Emacs is distributed in the hope that it will be useful,\n  but WITHOUT ANY WARRANTY; without even the implied warranty of\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  GNU General Public License for more details.\n\n  You should have received a copy of the GNU General Public License\n  along with GNU Emacs.  If not, see <https://www.gnu.org/licenses/>.\n",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/src/dynlib.c": "/* Portable API for dynamic loading.\n\nCopyright 2015-2018 Free Software Foundation, Inc.\n\nThis file is part of GNU Emacs.\n\nGNU Emacs is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or (at\nyour option) any later version.\n\nGNU Emacs is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with GNU Emacs.  If not, see <https://www.gnu.org/licenses/>.  */\n\n\n/* Assume modules are enabled on modern systems...  *Yes*, the\n   preprocessor macro checks could be more precise.  I don't care.\n\n   If you think the abstraction is too leaky use libltdl (libtool),\n   don't reinvent the wheel by fixing this one.  */\n\n#include <config.h>\n\n#include \"dynlib.h\"\n\n#include <stddef.h>\n\n#ifdef WINDOWSNT\n\n/* MS-Windows systems.  */\n\n#include <errno.h>\n#include \"lisp.h\"\n#include \"w32common.h\"\t/* for os_subtype */\n#include \"w32.h\"\n\nstatic BOOL g_b_init_get_module_handle_ex;\nstatic DWORD dynlib_last_err;\n\n/* Some versions of w32api headers only expose the following when\n   _WIN32_WINNT is set to higher values that we use.  */\ntypedef BOOL (WINAPI *GetModuleHandleExA_Proc) (DWORD,LPCSTR,HMODULE*);\n#ifndef GET_MODULE_HANDLE_EX_FLAG_FROM_ADDRESS\n# define GET_MODULE_HANDLE_EX_FLAG_FROM_ADDRESS 4\n#endif\n#ifndef GET_MODULE_HANDLE_EX_FLAG_UNCHANGED_REFCOUNT\n# define GET_MODULE_HANDLE_EX_FLAG_UNCHANGED_REFCOUNT 2\n#endif\n\n/* This needs to be called at startup to countermand any non-zero\n   values recorded by temacs.  */\nvoid dynlib_reset_last_error (void);\nvoid\ndynlib_reset_last_error (void)\n{\n  g_b_init_get_module_handle_ex = 0;\n  dynlib_last_err = 0;\n}\n\ndynlib_handle_ptr\ndynlib_open (const char *dll_fname)\n{\n  HMODULE hdll;\n  char dll_fname_local[MAX_UTF8_PATH];\n\n  if (!dll_fname)\n    {\n      errno = ENOTSUP;\n      return NULL;\n    }\n\n  if (!dll_fname)\n    hdll = GetModuleHandle (NULL);\n  else\n    {\n      /* LoadLibrary wants backslashes.  */\n      strcpy (dll_fname_local, dll_fname);\n      unixtodos_filename (dll_fname_local);\n\n      if (w32_unicode_filenames)\n\t{\n\t  wchar_t dll_fname_w[MAX_PATH];\n\n\t  filename_to_utf16 (dll_fname_local, dll_fname_w);\n\t  hdll = LoadLibraryW (dll_fname_w);\n\t}\n      else\n\t{\n\t  char dll_fname_a[MAX_PATH];\n\n\t  filename_to_ansi (dll_fname_local, dll_fname_a);\n\t  hdll = LoadLibraryA (dll_fname_a);\n\t}\n    }\n\n  if (!hdll)\n    dynlib_last_err = GetLastError ();\n\n  return (dynlib_handle_ptr) hdll;\n}\n\nvoid *\ndynlib_sym (dynlib_handle_ptr h, const char *sym)\n{\n  FARPROC sym_addr = NULL;\n\n  if (!h || h == INVALID_HANDLE_VALUE || !sym)\n    {\n      dynlib_last_err = ERROR_INVALID_PARAMETER;\n      return NULL;\n    }\n\n  sym_addr = GetProcAddress ((HMODULE) h, sym);\n  if (!sym_addr)\n    dynlib_last_err = GetLastError ();\n\n  return (void *)sym_addr;\n}\n\nvoid\ndynlib_addr (void *addr, const char **fname, const char **symname)\n{\n  static char dll_filename[MAX_UTF8_PATH];\n  static GetModuleHandleExA_Proc s_pfn_Get_Module_HandleExA = NULL;\n  char *dll_fn = NULL;\n  HMODULE hm_kernel32 = NULL;\n  HMODULE hm_dll = NULL;\n  wchar_t mfn_w[MAX_PATH];\n  char mfn_a[MAX_PATH];\n\n  /* Step 1: Find the handle of the module where ADDR lives.  */\n  if (os_subtype == OS_9X\n      /* Windows NT family version before XP (v5.1).  */\n      || ((w32_major_version + (w32_minor_version > 0)) < 6))\n    {\n      MEMORY_BASIC_INFORMATION mbi;\n\n      /* According to Matt Pietrek, the module handle is just the base\n\t address where it's loaded in memory.  */\n      if (VirtualQuery (addr, &mbi, sizeof(mbi)))\n\thm_dll = (HMODULE)mbi.AllocationBase;\n    }\n  else\n    {\n      /* Use the documented API when available (XP and later).  */\n      if (g_b_init_get_module_handle_ex == 0)\n\t{\n\t  g_b_init_get_module_handle_ex = 1;\n\t  hm_kernel32 = LoadLibrary (\"kernel32.dll\");\n\t  /* We load the ANSI version of the function because the\n\t     address we pass to it is not an address of a string, but\n\t     an address of a function.  So we don't care about the\n\t     Unicode version.  */\n\t  s_pfn_Get_Module_HandleExA =\n\t    (GetModuleHandleExA_Proc) GetProcAddress (hm_kernel32,\n\t\t\t\t\t\t      \"GetModuleHandleExA\");\n\t}\n      if (s_pfn_Get_Module_HandleExA)\n\t{\n\t  DWORD flags = (GET_MODULE_HANDLE_EX_FLAG_FROM_ADDRESS\n\t\t\t /* We don't want to call FreeLibrary at the\n\t\t\t    end, because then we'd need to remember\n\t\t\t    whether we obtained the handle by this\n\t\t\t    method or the above one.  */\n\t\t\t | GET_MODULE_HANDLE_EX_FLAG_UNCHANGED_REFCOUNT);\n\n\t  if (!s_pfn_Get_Module_HandleExA (flags, addr, &hm_dll))\n\t    {\n\t      dynlib_last_err = GetLastError ();\n\t      hm_dll = NULL;\n\t    }\n\t}\n    }\n\n  /* Step 2: Find the absolute file name of the module corresponding\n     to the hm_dll handle.  */\n  if (hm_dll)\n    {\n      DWORD retval;\n\n      if (w32_unicode_filenames)\n\t{\n\t  retval = GetModuleFileNameW (hm_dll, mfn_w, MAX_PATH);\n\t  if (retval > 0 && retval < MAX_PATH\n\t      && filename_from_utf16 (mfn_w, dll_filename) == 0)\n\t    dll_fn = dll_filename;\n\t  else if (retval == MAX_PATH)\n\t    dynlib_last_err = ERROR_INSUFFICIENT_BUFFER;\n\t  else\n\t    dynlib_last_err = GetLastError ();\n\t}\n      else\n\t{\n\t  retval = GetModuleFileNameA (hm_dll, mfn_a, MAX_PATH);\n\t  if (retval > 0 && retval < MAX_PATH\n\t      && filename_from_ansi (mfn_a, dll_filename) == 0)\n\t    dll_fn = dll_filename;\n\t  else if (retval == MAX_PATH)\n\t    dynlib_last_err = ERROR_INSUFFICIENT_BUFFER;\n\t  else\n\t    dynlib_last_err = GetLastError ();\n\t}\n      if (dll_fn)\n        dostounix_filename (dll_fn);\n    }\n\n  *fname = dll_fn;\n\n  /* We cannot easily produce the function name, since typically all\n     of the module functions will be unexported, and probably even\n     static, which means the symbols can be obtained only if we link\n     against libbfd (and the DLL can be stripped anyway).  So we just\n     show the address and the file name (see print_vectorlike in\n     print.c); they can use that with addr2line or GDB to recover the\n     symbolic name.  */\n  *symname = NULL;\n}\n\nconst char *\ndynlib_error (void)\n{\n  char *error_string = NULL;\n\n  if (dynlib_last_err)\n    {\n      error_string = w32_strerror (dynlib_last_err);\n      dynlib_last_err = 0;\n    }\n\n  return error_string;\n}\n\nint\ndynlib_close (dynlib_handle_ptr h)\n{\n  if (!h || h == INVALID_HANDLE_VALUE)\n    {\n      dynlib_last_err = ERROR_INVALID_PARAMETER;\n      return -1;\n    }\n  /* If the handle is for the main module (the .exe file), it\n     shouldn't be passed to FreeLibrary, because GetModuleHandle\n     doesn't increment the refcount, but FreeLibrary does decrement\n     it.  I don't think this should matter for the main module, but\n     just in case, we avoid the call here, relying on another call to\n     GetModuleHandle to return the same value.  */\n  if (h == GetModuleHandle (NULL))\n    return 0;\n\n  if (!FreeLibrary ((HMODULE) h))\n    {\n      dynlib_last_err = GetLastError ();\n      return -1;\n    }\n\n  return 0;\n}\n\n#elif defined HAVE_UNISTD_H\n\n/* POSIX systems.  */\n\n#include <dlfcn.h>\n\ndynlib_handle_ptr\ndynlib_open (const char *path)\n{\n  return dlopen (path, RTLD_LAZY);\n}\n\nvoid *\ndynlib_sym (dynlib_handle_ptr h, const char *sym)\n{\n  return dlsym (h, sym);\n}\n\nvoid\ndynlib_addr (void *ptr, const char **path, const char **sym)\n{\n  *path = NULL;\n  *sym = NULL;\n#ifdef HAVE_DLADDR\n  Dl_info info;\n  if (dladdr (ptr, &info) && info.dli_fname && info.dli_sname)\n    {\n      *path = info.dli_fname;\n      *sym = info.dli_sname;\n    }\n#endif\n}\n\nconst char *\ndynlib_error (void)\n{\n  return dlerror ();\n}\n\n/* FIXME: Currently there is no way to unload a module, so this\n   function is never used.  */\n#if false\nint\ndynlib_close (dynlib_handle_ptr h)\n{\n  return dlclose (h) == 0;\n}\n#endif\n\n#else\n\n#error \"No dynamic loading for this system\"\n\n#endif\n\n#if !HAVE_DLFUNC\n# define dlfunc dynlib_sym\n#endif\n\ndynlib_function_ptr\ndynlib_func (dynlib_handle_ptr h, const char *sym)\n{\n  return (dynlib_function_ptr) dlfunc (h, sym);\n}\n"
    },
    "skipped": [
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/CP1254.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/CP949.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/CP1250.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/CP1253.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/CP1257.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/IBM861.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/IBM290.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/ISO-8859-4.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/CP1252.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/GB18030.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/IBM1026.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/ISO-8859-7.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/IBM275.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/IBM904.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/ISO-8859-3.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/GB2312.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/BIG5.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/KOI8-T.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/IBM850.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/IBM297.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/IBM1004.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/GBK.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/IBM855.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/IBM285.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/ISO-8859-16.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/EUC-KR.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/IBM880.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/IBM851.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/CP1125.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/IBM277.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/ISO-8859-2.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/CP1258.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/JOHAB.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/IBM273.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/IBM866.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/KOI8-U.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/KOI-8.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/GEORGIAN-ACADEMY.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/KSC5636.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/EBCDIC-UK.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/MIK.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/IBM256.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/HP-ROMAN8.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/GEORGIAN-PS.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/EUC-JP.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/ISO-8859-15.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/ISO-8859-9.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/ISO-8859-11.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/IBM037.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/IBM891.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/IBM863.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/IBM905.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/TIS-620.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/IBM857.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/IBM424.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/CP10007.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/ISO-8859-8.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/ISO-8859-13.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/IBM868.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/EUC-TW.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/BIG5-HKSCS.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/TCVN5712-1.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/IBM865.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/IBM038.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/IBM281.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/VISCII.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/CP1251.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/IBM280.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/ISO-8859-10.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/EBCDIC-US.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/IBM864.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/IBM1047.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/IBM860.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/CP737.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/IBM875.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/KOI8-R.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/JIS_X0201.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/IBM852.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/EUC-JP-MS.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/ISO-8859-14.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/IBM869.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/IBM437.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/IBM862.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/IBM274.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/IBM874.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/ISO-8859-5.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/NEXTSTEP.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/MACINTOSH.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/IBM500.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/CP775.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/IBM284.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/IBM423.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/EUC-JISX0213.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/IBM903.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/CP1256.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/IBM856.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/CP1255.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/IBM278.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/IBM871.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/ISO-8859-6.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/IBM870.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/IBM918.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/glibc/IBM420.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/admin/charsets/mapfiles/cns2ucsdkw.txt",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/nt/icons/gnu4g48t.ico",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/nt/icons/gnu2a32.ico",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/nt/icons/gnu2a32t.ico",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/nt/icons/gnu3b32.ico",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/nt/icons/gnu5w32.ico",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/nt/icons/gnu4g48.ico",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/nt/icons/gnu3b32t.ico",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/nt/icons/gnu2b48.ico",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/nt/icons/gnu6w48t.ico",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/nt/icons/gnu2b48t.ico",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/nt/icons/gnu8.ico",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/nt/icons/emacs.ico",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/nt/icons/gnu5w32t.ico",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/nt/icons/gnu9.ico",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/nt/icons/gnu6w48.ico",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/nt/icons/gnu7.ico",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/nt/icons/emacs22.ico",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/nt/icons/hand.cur",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/msdos/emacs.pif",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/msdos/emacs.ico",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/src/msdos.c",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/nextstep/Cocoa/Emacs.base/Contents/Resources/document.icns",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/nextstep/Cocoa/Emacs.base/Contents/Resources/Emacs.icns",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/nextstep/GNUstep/Emacs.base/Resources/emacs.tiff",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/lisp/pcomplete.elc",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/lisp/leim/quail/CTLau-b5.el",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/lisp/leim/quail/quick-b5.el",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/lisp/leim/quail/QJ.el",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/lisp/leim/quail/CTLau.el",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/lisp/leim/quail/tibetan.elc",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/lisp/leim/quail/PY-b5.el",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/lisp/leim/quail/ethiopic.elc",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/lisp/leim/quail/CCDOSPY.el",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/lisp/leim/quail/PY.el",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/lisp/leim/quail/QJ-b5.el",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/lisp/leim/quail/ARRAY30.el",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/lisp/leim/quail/Punct-b5.elc",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/lisp/leim/quail/ZIRANMA.el",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/lisp/leim/quail/ZOZY.el",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/lisp/leim/quail/ARRAY30.elc",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/lisp/leim/quail/SW.el",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/lisp/leim/quail/tsang-b5.el",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/lisp/leim/quail/4Corner.el",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/lisp/leim/quail/Punct.el",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/lisp/leim/quail/quick-cns.elc",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/lisp/leim/quail/ETZY.el",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/lisp/leim/quail/tsang-cns.elc",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/lisp/leim/quail/Punct-b5.el",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/lisp/leim/quail/ECDICT.el",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/lisp/leim/quail/tibetan.el",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/lisp/leim/quail/ethiopic.el",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/lisp/leim/quail/ECDICT.elc",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/lisp/leim/quail/TONEPY.el",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/lisp/international/titdic-cnv.elc",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/lisp/language/tibet-util.el",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/lisp/language/ethio-util.elc",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/lisp/language/tibet-util.elc",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/lisp/language/ind-util.el",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/lisp/language/tibetan.elc",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/lisp/language/ind-util.elc",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/lisp/language/tibetan.el",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/lisp/language/ethio-util.el",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/lisp/language/ethiopic.el",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/leim/MISC-DIC/CTLau-b5.html",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/leim/MISC-DIC/pinyin.map",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/leim/MISC-DIC/CTLau.html",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/leim/MISC-DIC/ziranma.cin",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/leim/MISC-DIC/cangjie-table.b5",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/leim/CXTERM-DIC/ECDICT.tit",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/leim/CXTERM-DIC/CCDOSPY.tit",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/leim/CXTERM-DIC/ETZY.tit",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/leim/CXTERM-DIC/TONEPY.tit",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/leim/CXTERM-DIC/Punct.tit",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/leim/CXTERM-DIC/QJ-b5.tit",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/leim/CXTERM-DIC/ARRAY30.tit",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/leim/CXTERM-DIC/SW.tit",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/leim/CXTERM-DIC/4Corner.tit",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/leim/CXTERM-DIC/PY-b5.tit",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/leim/CXTERM-DIC/Punct-b5.tit",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/leim/CXTERM-DIC/QJ.tit",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/leim/CXTERM-DIC/ZOZY.tit",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/leim/SKK-DIC/SKK-JISYO.L",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/package-keyring.gpg",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/sort-column-ascending.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/right-arrow.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/info.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/delete.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/lock-ok.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/zoom-in.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/attach.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/gnus.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/connect.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/open.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/close.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/save.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/preferences.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/sort-descending.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/bookmark_add.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/back-arrow.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/prev-node.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/splash.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/lock-broken.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/up-arrow.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/paste.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/disconnect.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/index.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/fwd-arrow.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/home.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/jump-to.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/mh-logo.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/cancel.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/search-replace.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/diropen.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/sort-criteria.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/refresh.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/sort-row-ascending.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/saveas.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/undo.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/up-node.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/show.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/zoom-out.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/unchecked.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/splash.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/copy.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/contact.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/help.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/exit.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/cut.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/print.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/next-page.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/next-node.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/describe.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/sort-ascending.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/search.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/data-save.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/spell.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/separator.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/redo.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/new.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/left-arrow.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/lock.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/letter.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/tree-widget/default/leaf.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/tree-widget/default/empty.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/tree-widget/default/no-guide.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/tree-widget/default/close.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/tree-widget/default/no-handle.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/tree-widget/default/end-guide.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/tree-widget/default/open.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/tree-widget/default/guide.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/tree-widget/default/handle.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/tree-widget/folder/leaf.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/tree-widget/folder/empty.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/tree-widget/folder/no-guide.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/tree-widget/folder/close.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/tree-widget/folder/no-handle.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/tree-widget/folder/end-guide.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/tree-widget/folder/open.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/tree-widget/folder/guide.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/tree-widget/folder/handle.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/smilies/frown.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/smilies/wry.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/smilies/braindamaged.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/smilies/grin.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/smilies/forced.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/smilies/sad.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/smilies/indifferent.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/smilies/cry.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/smilies/blink.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/smilies/dead.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/smilies/evil.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/smilies/smile.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/icons/hicolor/24x24/apps/emacs23.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/icons/hicolor/24x24/apps/emacs22.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/icons/hicolor/24x24/apps/emacs.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/icons/hicolor/48x48/apps/emacs23.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/icons/hicolor/48x48/apps/emacs22.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/icons/hicolor/48x48/apps/emacs.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/icons/hicolor/16x16/apps/emacs23.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/icons/hicolor/16x16/apps/emacs22.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/icons/hicolor/16x16/apps/emacs.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/icons/hicolor/32x32/apps/emacs23.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/icons/hicolor/32x32/apps/emacs22.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/icons/hicolor/32x32/apps/emacs.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/icons/hicolor/128x128/apps/emacs23.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/icons/hicolor/128x128/apps/emacs.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/icons/allout-widgets/dark-bg/leaf.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/icons/allout-widgets/dark-bg/empty.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/icons/allout-widgets/dark-bg/extender-connector.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/icons/allout-widgets/dark-bg/mid-connector.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/icons/allout-widgets/dark-bg/skip-descender.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/icons/allout-widgets/dark-bg/end-connector.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/icons/allout-widgets/dark-bg/unlocked-encrypted.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/icons/allout-widgets/dark-bg/locked-encrypted.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/icons/allout-widgets/dark-bg/through-descender.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/icons/allout-widgets/dark-bg/opened.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/icons/allout-widgets/dark-bg/closed.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/icons/allout-widgets/light-bg/leaf.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/icons/allout-widgets/light-bg/empty.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/icons/allout-widgets/light-bg/extender-connector.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/icons/allout-widgets/light-bg/mid-connector.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/icons/allout-widgets/light-bg/skip-descender.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/icons/allout-widgets/light-bg/end-connector.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/icons/allout-widgets/light-bg/unlocked-encrypted.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/icons/allout-widgets/light-bg/locked-encrypted.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/icons/allout-widgets/light-bg/through-descender.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/icons/allout-widgets/light-bg/opened.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/icons/allout-widgets/light-bg/closed.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/custom/right-pushed.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/custom/down-pushed.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/custom/down.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/custom/right.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/gnus/toggle-subscription.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/gnus/followup.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/gnus/mail-send.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/gnus/uu-decode.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/gnus/save-art.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/gnus/rot13.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/gnus/describe-group.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/gnus/important.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/gnus/get-news.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/gnus/receipt.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/gnus/reply-wo.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/gnus/subscribe.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/gnus/reply.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/gnus/catchup.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/gnus/uu-post.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/gnus/cu-exit.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/gnus/unimportant.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/gnus/post.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/gnus/next-ur.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/gnus/fuwo.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/gnus/mail-reply.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/gnus/gnntg.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/gnus/kill-group.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/gnus/gnus.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/gnus/prev-ur.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/gnus/unsubscribe.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/gnus/save-aif.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/gnus/exit-gnus.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/gnus/exit-summ.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/mpc/ffwd.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/mpc/rewind.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/mpc/pause.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/mpc/next.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/mpc/play.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/mpc/add.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/mpc/stop.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/mpc/prev.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/ezimage/info.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/ezimage/tag-plus.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/ezimage/dir-plus.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/ezimage/unlock.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/ezimage/box.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/ezimage/key.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/ezimage/doc-minus.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/ezimage/box-minus.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/ezimage/doc-plus.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/ezimage/box-plus.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/ezimage/dir.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/ezimage/doc.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/ezimage/bitsbang.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/ezimage/bits.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/ezimage/page-plus.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/ezimage/tag-type.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/ezimage/tag-v.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/ezimage/mail.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/ezimage/tag.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/ezimage/tag-minus.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/ezimage/tag-gt.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/ezimage/page-minus.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/ezimage/page.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/ezimage/label.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/ezimage/dir-minus.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/ezimage/checkmark.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/ezimage/lock.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/gud/stepi.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/gud/rfinish.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/gud/cont.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/gud/thread.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/gud/rstep.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/gud/until.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/gud/go.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/gud/rnexti.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/gud/step.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/gud/recstart.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/gud/remove.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/gud/next.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/gud/all.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/gud/down.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/gud/rnext.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/gud/watch.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/gud/stop.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/gud/run.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/gud/up.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/gud/print.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/gud/finish.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/gud/pp.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/gud/pstar.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/gud/nexti.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/gud/recstop.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/gud/rstepi.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/gud/rcont.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/gud/break.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/newsticker/rss-feed.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/mail/reply-all.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/mail/move.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/mail/forward.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/mail/reply-from.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/mail/outbox.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/mail/flag-for-followup.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/mail/inbox.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/mail/reply.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/mail/save-draft.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/mail/reply-to.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/mail/send.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/mail/copy.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/mail/compose.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/mail/preview.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/mail/repack.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/images/mail/not-spam.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/refcards/refcard.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/refcards/orgcard.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/refcards/fr-refcard.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/refcards/sk-survival.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/refcards/viperCard.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/refcards/sk-dired-ref.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/refcards/dired-ref.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/refcards/fr-survival.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/refcards/calccard.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/refcards/fr-dired-ref.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/refcards/cs-survival.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/refcards/cs-dired-ref.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/refcards/ru-refcard.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/refcards/gnus-refcard.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/refcards/gnus-booklet.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/refcards/pl-refcard.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/refcards/pt-br-refcard.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/refcards/cs-refcard.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/refcards/survival.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/refcards/vipcard.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/refcards/sk-refcard.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/refcards/gnus-logo.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/etc/refcards/de-refcard.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/doc/lispintro/cons-2a.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/doc/lispintro/cons-2.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/doc/lispintro/lambda-2.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/doc/lispintro/cons-5.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/doc/lispintro/cons-3.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/doc/lispintro/cons-4.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/doc/lispintro/cons-1.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/doc/lispintro/lambda-3.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/doc/lispintro/drawers.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-26.1-u4xtpfzwtjg6mezaxdhfzpnbjngljls2/spack-src/doc/lispintro/lambda-1.pdf"
    ],
    "total_files": 5031
}