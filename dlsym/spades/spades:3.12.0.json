{
    "matches": {
        "/tmp/vanessa/spack-stage/spack-stage-spades-3.12.0-tci2ib4m246xw2nwr5mbtxlwxyvjptsa/spack-src/ext/src/jemalloc/mutex.c": "#define\tJEMALLOC_MUTEX_C_\n#include \"jemalloc/internal/jemalloc_internal.h\"\n\n#if defined(JEMALLOC_LAZY_LOCK) && !defined(_WIN32)\n#include <dlfcn.h>\n#endif\n\n#ifndef _CRT_SPINCOUNT\n#define _CRT_SPINCOUNT 4000\n#endif\n\n/******************************************************************************/\n/* Data. */\n\n#ifdef JEMALLOC_LAZY_LOCK\nbool isthreaded = false;\n#endif\n#ifdef JEMALLOC_MUTEX_INIT_CB\nstatic bool\t\tpostpone_init = true;\nstatic malloc_mutex_t\t*postponed_mutexes = NULL;\n#endif\n\n#if defined(JEMALLOC_LAZY_LOCK) && !defined(_WIN32)\nstatic void\tpthread_create_once(void);\n#endif\n\n/******************************************************************************/\n/*\n * We intercept pthread_create() calls in order to toggle isthreaded if the\n * process goes multi-threaded.\n */\n\n#if defined(JEMALLOC_LAZY_LOCK) && !defined(_WIN32)\nstatic int (*pthread_create_fptr)(pthread_t *__restrict, const pthread_attr_t *,\n    void *(*)(void *), void *__restrict);\n\nstatic void\npthread_create_once(void)\n{\n\n\tpthread_create_fptr = dlsym(RTLD_NEXT, \"pthread_create\");\n\tif (pthread_create_fptr == NULL) {\n\t\tmalloc_write(\"<jemalloc>: Error in dlsym(RTLD_NEXT, \"\n\t\t    \"\\\"pthread_create\\\")\\n\");\n\t\tabort();\n\t}\n\n\tisthreaded = true;\n}\n\nJEMALLOC_EXPORT int\npthread_create(pthread_t *__restrict thread,\n    const pthread_attr_t *__restrict attr, void *(*start_routine)(void *),\n    void *__restrict arg)\n{\n\tstatic pthread_once_t once_control = PTHREAD_ONCE_INIT;\n\n\tpthread_once(&once_control, pthread_create_once);\n\n\treturn (pthread_create_fptr(thread, attr, start_routine, arg));\n}\n#endif\n\n/******************************************************************************/\n\n#ifdef JEMALLOC_MUTEX_INIT_CB\nJEMALLOC_EXPORT int\t_pthread_mutex_init_calloc_cb(pthread_mutex_t *mutex,\n    void *(calloc_cb)(size_t, size_t));\n#endif\n\nbool\nmalloc_mutex_init(malloc_mutex_t *mutex)\n{\n\n#ifdef _WIN32\n\tif (!InitializeCriticalSectionAndSpinCount(&mutex->lock,\n\t    _CRT_SPINCOUNT))\n\t\treturn (true);\n#elif (defined(JEMALLOC_OSSPIN))\n\tmutex->lock = 0;\n#elif (defined(JEMALLOC_MUTEX_INIT_CB))\n\tif (postpone_init) {\n\t\tmutex->postponed_next = postponed_mutexes;\n\t\tpostponed_mutexes = mutex;\n\t} else {\n\t\tif (_pthread_mutex_init_calloc_cb(&mutex->lock, base_calloc) !=\n\t\t    0)\n\t\t\treturn (true);\n\t}\n#else\n\tpthread_mutexattr_t attr;\n\n\tif (pthread_mutexattr_init(&attr) != 0)\n\t\treturn (true);\n\tpthread_mutexattr_settype(&attr, MALLOC_MUTEX_TYPE);\n\tif (pthread_mutex_init(&mutex->lock, &attr) != 0) {\n\t\tpthread_mutexattr_destroy(&attr);\n\t\treturn (true);\n\t}\n\tpthread_mutexattr_destroy(&attr);\n#endif\n\treturn (false);\n}\n\nvoid\nmalloc_mutex_prefork(malloc_mutex_t *mutex)\n{\n\n\tmalloc_mutex_lock(mutex);\n}\n\nvoid\nmalloc_mutex_postfork_parent(malloc_mutex_t *mutex)\n{\n\n\tmalloc_mutex_unlock(mutex);\n}\n\nvoid\nmalloc_mutex_postfork_child(malloc_mutex_t *mutex)\n{\n\n#ifdef JEMALLOC_MUTEX_INIT_CB\n\tmalloc_mutex_unlock(mutex);\n#else\n\tif (malloc_mutex_init(mutex)) {\n\t\tmalloc_printf(\"<jemalloc>: Error re-initializing mutex in \"\n\t\t    \"child\\n\");\n\t\tif (opt_abort)\n\t\t\tabort();\n\t}\n#endif\n}\n\nbool\nmutex_boot(void)\n{\n\n#ifdef JEMALLOC_MUTEX_INIT_CB\n\tpostpone_init = false;\n\twhile (postponed_mutexes != NULL) {\n\t\tif (_pthread_mutex_init_calloc_cb(&postponed_mutexes->lock,\n\t\t    base_calloc) != 0)\n\t\t\treturn (true);\n\t\tpostponed_mutexes = postponed_mutexes->postponed_next;\n\t}\n#endif\n\treturn (false);\n}\n"
    },
    "skipped": [
        "/tmp/vanessa/spack-stage/spack-stage-spades-3.12.0-tci2ib4m246xw2nwr5mbtxlwxyvjptsa/spack-src/test_dataset_plasmid/pl1.fq.gz",
        "/tmp/vanessa/spack-stage/spack-stage-spades-3.12.0-tci2ib4m246xw2nwr5mbtxlwxyvjptsa/spack-src/test_dataset_plasmid/pl2.fq.gz",
        "/tmp/vanessa/spack-stage/spack-stage-spades-3.12.0-tci2ib4m246xw2nwr5mbtxlwxyvjptsa/spack-src/src/spades_pipeline/common/sam_parser.pyc",
        "/tmp/vanessa/spack-stage/spack-stage-spades-3.12.0-tci2ib4m246xw2nwr5mbtxlwxyvjptsa/spack-src/src/spades_pipeline/common/__init__.pyc",
        "/tmp/vanessa/spack-stage/spack-stage-spades-3.12.0-tci2ib4m246xw2nwr5mbtxlwxyvjptsa/spack-src/src/spades_pipeline/common/SeqIO.pyc",
        "/tmp/vanessa/spack-stage/spack-stage-spades-3.12.0-tci2ib4m246xw2nwr5mbtxlwxyvjptsa/spack-src/src/spades_pipeline/common/alignment.pyc",
        "/tmp/vanessa/spack-stage/spack-stage-spades-3.12.0-tci2ib4m246xw2nwr5mbtxlwxyvjptsa/spack-src/src/spades_pipeline/truspades/generate_quality.pyc",
        "/tmp/vanessa/spack-stage/spack-stage-spades-3.12.0-tci2ib4m246xw2nwr5mbtxlwxyvjptsa/spack-src/src/spades_pipeline/truspades/moleculo_filter_contigs.pyc",
        "/tmp/vanessa/spack-stage/spack-stage-spades-3.12.0-tci2ib4m246xw2nwr5mbtxlwxyvjptsa/spack-src/src/spades_pipeline/truspades/moleculo_postprocessing.pyc",
        "/tmp/vanessa/spack-stage/spack-stage-spades-3.12.0-tci2ib4m246xw2nwr5mbtxlwxyvjptsa/spack-src/src/spades_pipeline/truspades/break_by_coverage.pyc",
        "/tmp/vanessa/spack-stage/spack-stage-spades-3.12.0-tci2ib4m246xw2nwr5mbtxlwxyvjptsa/spack-src/ext/src/python_libs/pyyaml2/cyaml.pyc",
        "/tmp/vanessa/spack-stage/spack-stage-spades-3.12.0-tci2ib4m246xw2nwr5mbtxlwxyvjptsa/spack-src/ext/src/python_libs/pyyaml2/composer.pyc",
        "/tmp/vanessa/spack-stage/spack-stage-spades-3.12.0-tci2ib4m246xw2nwr5mbtxlwxyvjptsa/spack-src/ext/src/python_libs/pyyaml2/dumper.pyc",
        "/tmp/vanessa/spack-stage/spack-stage-spades-3.12.0-tci2ib4m246xw2nwr5mbtxlwxyvjptsa/spack-src/ext/src/python_libs/pyyaml2/serializer.pyc",
        "/tmp/vanessa/spack-stage/spack-stage-spades-3.12.0-tci2ib4m246xw2nwr5mbtxlwxyvjptsa/spack-src/ext/src/python_libs/pyyaml2/reader.pyc",
        "/tmp/vanessa/spack-stage/spack-stage-spades-3.12.0-tci2ib4m246xw2nwr5mbtxlwxyvjptsa/spack-src/ext/src/python_libs/pyyaml2/representer.pyc",
        "/tmp/vanessa/spack-stage/spack-stage-spades-3.12.0-tci2ib4m246xw2nwr5mbtxlwxyvjptsa/spack-src/ext/src/python_libs/pyyaml2/emitter.pyc",
        "/tmp/vanessa/spack-stage/spack-stage-spades-3.12.0-tci2ib4m246xw2nwr5mbtxlwxyvjptsa/spack-src/ext/src/python_libs/pyyaml2/constructor.pyc",
        "/tmp/vanessa/spack-stage/spack-stage-spades-3.12.0-tci2ib4m246xw2nwr5mbtxlwxyvjptsa/spack-src/ext/src/python_libs/pyyaml2/nodes.pyc",
        "/tmp/vanessa/spack-stage/spack-stage-spades-3.12.0-tci2ib4m246xw2nwr5mbtxlwxyvjptsa/spack-src/ext/src/python_libs/pyyaml2/events.pyc",
        "/tmp/vanessa/spack-stage/spack-stage-spades-3.12.0-tci2ib4m246xw2nwr5mbtxlwxyvjptsa/spack-src/ext/src/python_libs/pyyaml2/error.pyc",
        "/tmp/vanessa/spack-stage/spack-stage-spades-3.12.0-tci2ib4m246xw2nwr5mbtxlwxyvjptsa/spack-src/ext/src/python_libs/pyyaml2/parser.pyc",
        "/tmp/vanessa/spack-stage/spack-stage-spades-3.12.0-tci2ib4m246xw2nwr5mbtxlwxyvjptsa/spack-src/ext/src/python_libs/pyyaml2/__init__.pyc",
        "/tmp/vanessa/spack-stage/spack-stage-spades-3.12.0-tci2ib4m246xw2nwr5mbtxlwxyvjptsa/spack-src/ext/src/python_libs/pyyaml2/resolver.pyc",
        "/tmp/vanessa/spack-stage/spack-stage-spades-3.12.0-tci2ib4m246xw2nwr5mbtxlwxyvjptsa/spack-src/ext/src/python_libs/pyyaml2/tokens.pyc",
        "/tmp/vanessa/spack-stage/spack-stage-spades-3.12.0-tci2ib4m246xw2nwr5mbtxlwxyvjptsa/spack-src/ext/src/python_libs/pyyaml2/loader.pyc",
        "/tmp/vanessa/spack-stage/spack-stage-spades-3.12.0-tci2ib4m246xw2nwr5mbtxlwxyvjptsa/spack-src/ext/src/python_libs/pyyaml2/scanner.pyc",
        "/tmp/vanessa/spack-stage/spack-stage-spades-3.12.0-tci2ib4m246xw2nwr5mbtxlwxyvjptsa/spack-src/ext/include/boost/smart_ptr/detail/atomic_count_gcc.hpp",
        "/tmp/vanessa/spack-stage/spack-stage-spades-3.12.0-tci2ib4m246xw2nwr5mbtxlwxyvjptsa/spack-src/ext/include/boost/spirit/home/x3/support/subcontext.hpp",
        "/tmp/vanessa/spack-stage/spack-stage-spades-3.12.0-tci2ib4m246xw2nwr5mbtxlwxyvjptsa/spack-src/ext/include/boost/spirit/home/support/char_encoding/iso8859_1.hpp",
        "/tmp/vanessa/spack-stage/spack-stage-spades-3.12.0-tci2ib4m246xw2nwr5mbtxlwxyvjptsa/spack-src/test_dataset_truspades/B_R2.fastq.gz",
        "/tmp/vanessa/spack-stage/spack-stage-spades-3.12.0-tci2ib4m246xw2nwr5mbtxlwxyvjptsa/spack-src/test_dataset_truspades/B_R1.fastq.gz",
        "/tmp/vanessa/spack-stage/spack-stage-spades-3.12.0-tci2ib4m246xw2nwr5mbtxlwxyvjptsa/spack-src/test_dataset_truspades/A_R1.fastq.gz",
        "/tmp/vanessa/spack-stage/spack-stage-spades-3.12.0-tci2ib4m246xw2nwr5mbtxlwxyvjptsa/spack-src/test_dataset_truspades/A_R2.fastq.gz",
        "/tmp/vanessa/spack-stage/spack-stage-spades-3.12.0-tci2ib4m246xw2nwr5mbtxlwxyvjptsa/spack-src/test_dataset/ecoli_1K_1.fq.gz",
        "/tmp/vanessa/spack-stage/spack-stage-spades-3.12.0-tci2ib4m246xw2nwr5mbtxlwxyvjptsa/spack-src/test_dataset/ecoli_1K_2.fq.gz",
        "/tmp/vanessa/spack-stage/spack-stage-spades-3.12.0-tci2ib4m246xw2nwr5mbtxlwxyvjptsa/spack-src/test_dataset/reference_1K.fa.gz"
    ],
    "total_files": 7313
}