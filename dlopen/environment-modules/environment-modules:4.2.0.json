{
    "matches": {
        "/tmp/vanessa/spack-stage/spack-stage-environment-modules-4.2.0-emoamefjxoi7lv7rs233jwi3gvqrbgjb/spack-src/compat/configure.ac": "dnl\ndnl File:        configure.in\ndnl Revision:    $Id: abb3e6aa5ae9caa9b300f80b3b1d2536ff75a873 $\ndnl Created:     1994/06/18\ndnl Author:      Leif Hedstrom<hedstrom@inf.ethz.ch>\ndnl\t\t Martin S. Utesch <wstd@hl.siemens.de>\ndnl \t\t Peter W. Osel <pwo@GUUG.DE>\ndnl \t\t R.K. Owen <rk@owen.sj.ca.us>\ndnl\ndnl Process this file with autoconf to produce a configure script\ndnl You need autoconf 2.52 or better!\ndnl\ndnl ---------------------------------------------------------------------------\nAC_INIT(modules,3.2)\nAC_CONFIG_AUX_DIR(config)\nAM_INIT_AUTOMAKE(1.9.6 foreign dejagnu no-installinfo dist-bzip2)\nAC_CONFIG_SRCDIR([version.c])\nAM_CONFIG_HEADER(config.h)\nAC_PREREQ(2.59)\n\ndnl ---------------------------------------------------------------------------\ndnl Autoheader \"templates\" (was acconfig.h)\nAH_TOP([\n/*****\n ** ** Module Header ******************************************************* **\n ** \t\t\t\t\t\t\t\t\t     **\n **   Modules Revision 3.0\t\t\t\t\t\t     **\n **   Providing a flexible user environment\t\t\t\t     **\n ** \t\t\t\t\t\t\t\t\t     **\n **   Description:\tconfig.h.in (generated by autoheader from\t     **\n **\t\t\tconfigure.ac)\t\t\t\t\t     **\n ** \t\t\t\t\t\t\t\t\t     **\n ** ************************************************************************ **\n ****/\n\n/** ** Copyright *********************************************************** **\n ** \t\t\t\t\t\t\t\t\t     **\n ** Copyright 1991-1994 by John L. Furlan.                      \t     **\n ** see LICENSE.GPL, which must be provided, for details\t\t     **\n ** \t\t\t\t\t\t\t\t\t     ** \n ** ************************************************************************ **/\n])\ndnl ---------------------------------------------------------------------------\ndnl\ndnl Some special substitution we need:\ndnl\ndnl ---------------------------------------------------------------------------\ndnl Need to know if versioning is asked for before setting certain paths\ndnl --enable-versioning\t\tUse modules versioning \t[DEF]\ndnl --disable-versioning\tWithout  - \" -\ndnl ---------------------------------------------------------------------------\ndnl\nAC_SUBST(WANTS_VERSIONING)\nAC_SUBST(VERSIONING)\nAC_SUBST(NOTVERSIONING)\nAH_TEMPLATE([WANTS_VERSIONING],[\nWANTS_VERSIONING Does the system want to use modules versions])\nAC_ARG_ENABLE(versioning,\n\tAC_HELP_STRING([--enable-versioning], [use modules versioning [[yes]]]),\n\tif test \"$enableval\" = \"yes\"; then\n\t    WANTS_VERSIONING=1\n\t    AC_DEFINE(WANTS_VERSIONING,1)\n\t    VERSIONING=\"\"\n\t    NOTVERSIONING=\"#\"\n\telse\n\t    WANTS_VERSIONING=0\n\t    AC_DEFINE(WANTS_VERSIONING,0)\n\t    VERSIONING=\"#\"\n\t    NOTVERSIONING=\"\"\n\tfi, WANTS_VERSIONING=1\n\t    AC_DEFINE(WANTS_VERSIONING,1)\n\t    VERSIONING=\"\"\n\t    NOTVERSIONING=\"#\"\n)\ndnl\ndnl ---------------------------------------------------------------------------\ndnl Get Modules version & date\ndnl ---------------------------------------------------------------------------\ndnl DATE\t\tModule package date\ndnl VERSION\t\tModule package version\ndnl\nAC_SUBST(VERSION)\nAC_SUBST(DATE)\nVERSION='(unknown)'\nVERSION=`sed -n -e 's/^.*version_string.*\"\\(.*\\)\";$/\\1/p' ${srcdir}/version.c`\nAC_MSG_RESULT([VERSION = $VERSION])\nDATE='(DDMmmYYYY)'\nDATE=`sed -n -e 's/^.*date_string.*\"\\(.*\\)\";$/\\1/p' ${srcdir}/version.c`\nAC_MSG_RESULT([DATE = $DATE])\necho \"configuring for Modules $VERSION\t\t$DATE\"\ndnl ---------------------------------------------------------------------------\ndnl Set PREFIX and related based on WANTS_VERSIONING\ndnl ---------------------------------------------------------------------------\nAC_SUBST(DEFAULTPATH)\nAC_SUBST(BASEPREFIX)\nDEFAULTPATH=default\nAH_TEMPLATE([BASEPREFIX],[ BASEPREFIX: Usually equivalent to /usr/local])\nAH_TEMPLATE([PREFIX],[\nPREFIX: Usually equivalent to /usr/local/Modules[/version_number]])\nAH_TEMPLATE([MODULES_INIT_DIR],[\nMODULES_INIT_DIR: Directory that contains the modules init files.])\n\nif test \"$exec_prefix\" != \"NONE\" ; then\n  EXECPREFIX=$exec_prefix\n# can not have versioning if specifying exec-prefix\n  if test \"$WANTS_VERSIONING\" -eq 1 ; then\n     AC_MSG_ERROR([You can not have versioning if --exec-prefix is specified\nmust disable with --disable-versioning ])\n  fi\nfi\nif test \"$prefix\" != \"NONE\" ; then\n  if test \"$WANTS_VERSIONING\" -eq 1 ; then\n    DEFAULTPATH=$prefix/Modules/default\n    NODEFAULTPATH=$prefix/Modules/$VERSION\n    BASEPREFIX=$prefix\n    prefix=$BASEPREFIX/Modules/$VERSION\n    export prefix\n  else\n    DEFAULTPATH=$prefix/Modules\n    NODEFAULTPATH=$prefix/Modules\n    BASEPREFIX=$prefix\n    prefix=$BASEPREFIX/Modules\n    export prefix\n  fi\n  PREFIX=$prefix\nelse\n  if test \"$WANTS_VERSIONING\" -eq 1 ; then\n    DEFAULTPATH=$ac_default_prefix/Modules/default\n    NODEFAULTPATH=$ac_default_prefix/Modules/$VERSION\n    BASEPREFIX=$ac_default_prefix\n    ac_default_prefix=$BASEPREFIX/Modules/$VERSION\n    export ac_default_prefix\n  else\n    DEFAULTPATH=$ac_default_prefix/Modules\n    NODEFAULTPATH=$ac_default_prefix/Modules\n    BASEPREFIX=$ac_default_prefix\n    ac_default_prefix=$BASEPREFIX/Modules\n    export ac_default_prefix\n  fi\n  PREFIX=$ac_default_prefix\nfi\nif test \"$exec_prefix\" != \"NONE\" ; then\n  EXECPREFIX=$exec_prefix\nelse\n  EXECPREFIX=$PREFIX\nfi\nMODULES_INIT_DIR=$EXECPREFIX/init\ndnl ---------------------------------------------------------------------------\ndnl --enable-use-default        Use PREFIX/default/ in init scripts [DEF]\ndnl --disable-use-default       Use PREFIX/VERSION/ in init scripts\ndnl ---------------------------------------------------------------------------\nAC_DEFINE_UNQUOTED(MODULES_INIT_DIR, \"$MODULES_INIT_DIR\")\nAC_ARG_ENABLE(use-default,\n\tAC_HELP_STRING([--enable-use-default],[use DEFAULTPATH in init scripts [[yes]]]),\n\tif test \"$enableval\" = \"no\" -o $WANTS_VERSIONING -eq 0; then\n\t\tDEFAULTPATH=$NODEFAULTPATH\n\tfi)\nAC_MSG_RESULT([DEFAULTPATH = $DEFAULTPATH])\nAC_MSG_RESULT([BASEPREFIX = $BASEPREFIX])\nAC_MSG_RESULT([PREFIX = $PREFIX])\nAC_MSG_RESULT([EXECPREFIX = $EXECPREFIX])\nAC_DEFINE_UNQUOTED(BASEPREFIX, \"$BASEPREFIX\")\nAC_DEFINE_UNQUOTED(PREFIX, \"$PREFIX\")\nexport DEFAULTPATH\nexport NODEFAULTPATH\nexport BASEPREFIX\nexport MODULES_INIT_DIR\ndnl ---------------------------------------------------------------------------\ndnl Some standard autoconfig stuff\ndnl Checks for programs\ndnl ---------------------------------------------------------------------------\nAC_PROG_CC\nAC_PROG_CPP\nAC_PROG_GCC_TRADITIONAL\nAC_PROG_INSTALL\nAM_PROG_CC_C_O\nAC_PROG_MAKE_SET\nAC_AIX\nAC_ISC_POSIX\nAC_PATH_PROG([UNAME],[uname],[\"\"])\ndnl ---------------------------------------------------------------------------\ndnl Checks for header files\ndnl ---------------------------------------------------------------------------\n\nAC_HEADER_DIRENT\nAC_HEADER_STDC\nAC_CHECK_HEADERS(string.h memory.h stdlib.h unistd.h termio.h fcntl.h ctype.h \\\n\tstdarg.h varargs.h syslog.h stdint.h)\nAC_CHECK_HEADERS([sys/ioctl.h sys/termios.h sys/mode.h sys/stat.h sys/param.h \\\n\t\t  errno.h assert.h locale.h])\ndnl ---------------------------------------------------------------------------\ndnl Checks for typedefs, structures, and compiler characteristics.\ndnl ---------------------------------------------------------------------------\nAC_C_CONST\nAC_TYPE_UID_T\nAC_TYPE_SIZE_T\nAC_STRUCT_TM\ndnl ---------------------------------------------------------------------------\ndnl Checks for library functions.\ndnl ---------------------------------------------------------------------------\nAC_FUNC_STRCOLL\nAC_CHECK_FUNCS([strdup uname gethostname getdomainname \\\n\tmktemp tmpnam tempnam \\\n\tsyslog dup2 setlocale])\ndnl ---------------------------------------------------------------------------\ndnl Checks for libraries\ndnl ---------------------------------------------------------------------------\ndnl Solaris 2.x: This requires -lnsl and -lsocket. If AC_PATH_XTRA\ndnl              did not search for these, search them explicitly.\ndnl              MUST be done BEFORE AC_PATH_XTRA!\ndnl ---------------------------------------------------------------------------\nAC_CHECK_LIB(socket, socket)\nAC_CHECK_LIB(nsl, t_accept)\n\ndnl ---------------------------------------------------------------------------\ndnl Check for X11 things\ndnl ---------------------------------------------------------------------------\nAC_PATH_X\nAC_PATH_XTRA\nif test \"$no_x\" != \"yes\"; then\n\n\tAH_TEMPLATE([HAS_X11LIBS],[\nHAS_X11LIBS:\nThis symbol, if defined, indicates that the C program can use X11\ndirectly.])\n\tAC_DEFINE(HAS_X11LIBS)\n\tAC_CHECK_LIB(X11, XMaxRequestSize,,,\n\t\t[-I ${ac_x_includes:-.} -L ${ac_x_libraries:-.}])\ndnl\tAC_CHECK_LIB(Xmu, XmuGetHostname,,,\ndnl\t\t[-I ${ac_x_includes:-.} -L ${ac_x_libraries:-.}])\n\nfi\ndnl ---------------------------------------------------------------------------\nAH_TEMPLATE([CPPSTDIN],[\nCPPSTDIN:\nThis symbol contains the first part of the string which will invoke\nthe C preprocessor on the standard input and produce to standard\noutput.\t Typical value of \"cc -E\" or \"/lib/cpp\".])\nEM_PATH_PROG_SEARCH(_CPPSTDIN, cpp, /lib /usr/lib /usr/lang \\\n\t/usr/local/lang /usr/ccs/lib, [${CC} -E])\nAC_DEFINE_UNQUOTED(CPPSTDIN, \"$_CPPSTDIN\")\ndnl\nAH_TEMPLATE([CPPMINUS],[\nCPPMINUS:\nThis symbol contains the second part of the string which will invoke\nthe C preprocessor on the standard input and produce to standard\noutput.  This symbol will have the value \"-\" if CPPSTDIN needs a minus\nto specify standard input, otherwise the value is \"\".])\nAC_DEFINE(CPPMINUS, \"\")\ndnl ---------------------------------------------------------------------------\nAH_TEMPLATE([PHOSTNAME],[\nPHOSTNAME:\nLast resort to get the hostname, if uname() and gethostname()\nare not available.])\nAC_PATH_PROG([_PHOST],[hostname],[\"\"])\ntest \"$_PHOST\" != \"\"  && AC_DEFINE_UNQUOTED(PHOSTNAME, \"$_PHOST\")\nAC_PATH_PROG(RUNTEST, runtest, \"./not_installed\")\ntest \"$RUNTEST\" = \"\" && echo \"Install DEJAGNU and rerun configure if you \\\nwant to run the testsuite\"\n\ndnl\ndnl Here we define some --with & --enable things:\ndnl\ndnl --with-split-size[=<size>]\tWith split size=<size>\t\t[TEST]\ndnl --without-split-size\tWithout  - \" -\ndnl\ndnl --enable-cache\t\tWith directory cache\ndnl --disable-cache\t\tWithout  - \" -\t\t\t[DEF]\ndnl\ndnl --enable-shell-funcs\tWith sh functions\t\t[TEST]\ndnl --disable-shell-funcs\tWithout  - \" -\ndnl\ndnl --enable-shell-alias\tWith sh aliases\t\t\t[TEST]\ndnl --disable-shell-alias\tWithout  - \" -\ndnl\ndnl --enable-shell-eval\t\tWith shell alias eval\ndnl --disable-shell-eval\tWithout  - \" -\t\t\t[DEF]\ndnl\ndnl --enable-free\t\tWith free() calls\ndnl --disable-free\t\tWithout  - \" -\t\t\t[DEF]\ndnl\ndnl --with-debug[=<option>]\tSet up debugging level\ndnl --without-debug\t\tWithout  - \" -\t\t\t[DEF]\ndnl\ndnl --enable-version-magic      Set .version magic requirement\t[DEF]\ndnl --disable-version-magic     .version need not have magic cookie\ndnl\ndnl --enable-beginenv\t\tUse .modulesbeginenv for initial env.\t[TEST]\ndnl --disable-beginenv\t\tDo not use .modulesbeginenv\ndnl\ndnl ---------------------------------------------------------------------------\nAH_TEMPLATE([LMSPLIT_SIZE],[\nLMSPLIT_SIZE:\nThis symbol, if defined, will force the environment variable\n_LM_FILES_ to be split into smaller \"chunks\".])\nAC_MSG_CHECKING([if /bin/csh supports large environment variables])\n#\n# test to see how many chars can be set in the C-shell env.var.\n#\nem_split_size_total=0\nif test -x /bin/csh ; then\ncat  >_EMEOF.$$ <<'_EMEOF'\ncat <<'!' | /bin/csh 2> /dev/null | tail -1\nsetenv X\t\"\"\nsetenv ZZZ\t\"0\"\n@ num=2\nwhile ( $num < 10000 )\n\tsetenv X\t$X$ZZZ\n\techo $num\n\t@ num++\nend\n!\n_EMEOF\nem_split_size_total=`/bin/sh _EMEOF.$$`\nrm _EMEOF.$$\nfi\nif test \"$cross_compiling\" = \"yes\"; then\n\tem_split_size=\"cross\"\nAC_MSG_WARN([You must specify --with-split-size[=<size>]\nwhen cross compiling ... configure can not guess whether the target system\nC-shell can handle large environment variables or not.])\nelif test $em_split_size_total -gt 4000 ; then\n\tem_split_size=\"no\"\n\tAC_MSG_RESULT([yes - $em_split_size_total > 4000])\nelse\n\t# set split-size a little less\n\tem_split_size=`expr $em_split_size_total - 20`\n\tif test $em_split_size -lt 0 ; then\n\t\tem_split_size=1000\n\tfi\n\tAC_MSG_RESULT([no - $em_split_size_total < 4000 - splitting at $em_split_size])\nfi\nAC_ARG_WITH(split-size,\n\tAC_HELP_STRING([--with-split-size[=<size>]],[use split size=<size> [[test]]]),\n\tif test \"${withval+set}\" = \"set\" -a \"$withval\" != \"no\"; then\n\t\tif test \"$withval\" = \"yes\"; then\n\t\t\twithval=1000\n\t\tfi\n\t\tAC_MSG_NOTICE([csh split-size set to $withval])\n\t\tAC_DEFINE_UNQUOTED(LMSPLIT_SIZE, ${withval})\n\telse\n\t\tAC_MSG_NOTICE([csh split-size not set])\n\tfi,\n\tif test \"$em_split_size\" != \"no\" -a \"$em_split_size\" != \"cross\" ; then\n\t\tAC_MSG_NOTICE([csh split-size set to $em_split_size])\n\t\tAC_DEFINE_UNQUOTED(LMSPLIT_SIZE, ${em_split_size})\n\telse\n\t\tAC_MSG_NOTICE([csh split-size not set])\n\tfi)\ndnl ---------------------------------------------------------------------------\ndnl --with-static[=<option>]\tWith static linking\ndnl --without-static\t\tWithout  - \" -\t\t[DEF]\ndnl STATIC\t\tLink the binary 'static'\ndnl\nAC_SUBST(STATIC)\ndnl\nAC_ARG_WITH(static,\n\tAC_HELP_STRING([--with-static[[=<option>]]],[use static linking [[no]]]),\n\tEM_SET_STATIC(STATIC, $withval))\n\ndnl ---------------------------------------------------------------------------\nAH_TEMPLATE([HAS_BOURNE_FUNCS],[\nHAS_BOURNE_FUNCS:\nThis symbol, if defined, indicates that the Bourne shell can define aliases\nas shell functions.])\nAC_MSG_CHECKING([if /bin/sh supports functions])\n\nif test \"$cross_compiling\" = \"yes\"; then\n\tem_bourne_funcs=\"cross\"\nAC_MSG_WARN([You must specify --enable-shell-funcs or --disable-shell-funcs\nwhen cross compiling ... configure can not guess whether the target system\nBourne shell can handle shell functions or not.])\nelif (\n\tcat <<_EMEOF | /bin/sh 2> /dev/null\nif (xxx() { ls; }) > /dev/null 2>&1; then\n\t(exit 0); exit 0\nelse\n\t(exit 42); exit 42\nfi\n_EMEOF\n\t \n\tif test $? = 0 ; then\n\t\t(exit 0); exit 0\n\telse\n\t\t(exit 42); exit 42\n\tfi\n) ; then\n\tem_bourne_funcs=\"yes\"\nelse\n\tem_bourne_funcs=\"no\"\nfi\nAC_MSG_RESULT([$em_bourne_funcs])\nAC_ARG_ENABLE(shell-funcs,\n\tAC_HELP_STRING([--enable-shell-funcs],[use sh functions [[test]]]),\n\tif test \"$enableval\" = \"yes\" ; then\n\t    AC_DEFINE(HAS_BOURNE_FUNCS)\n\tfi,\n\tif test \"$em_bourne_funcs\" = \"cross\" ; then\nAC_MSG_ERROR([You did not --enable-shell-funcs or --disable-shell-funcs\nwhen cross compiling ... aborting!])\n\telif test \"$em_bourne_funcs\" = \"yes\" ; then\n\t    AC_DEFINE(HAS_BOURNE_FUNCS)\n\tfi)\ndnl ---------------------------------------------------------------------------\nAH_TEMPLATE([HAS_BOURNE_ALIAS],[\nHAS_BOURNE_ALIAS:\nThis symbol, if defined, indicates that the Bourne shell can define aliases\n(in other words not a \"true\" Bourne shell).])\nAC_MSG_CHECKING([if /bin/sh supports aliases])\n\nif test \"$cross_compiling\" = \"yes\"; then\n\tem_bourne_alias=\"cross\"\nAC_MSG_WARN([You must specify --enable-shell-alias or --disable-shell-alias\nwhen cross compiling ... configure can not guess whether the target system\nBourne shell can handle shell aliases or not.])\nelif (\n\tcat <<_EMEOF | /bin/sh 2> /dev/null\nif (alias xxx='ls') > /dev/null 2>&1; then\n\t(exit 0); exit 0\nelse\n\t(exit 42); exit 42\nfi\n_EMEOF\n\t \n\tif test $? = 0 ; then\n\t\t(exit 0); exit 0\n\telse\n\t\t(exit 42); exit 42\n\tfi\n) ; then\n\tem_bourne_alias=\"yes\"\nelse\n\tem_bourne_alias=\"no\"\nfi\nAC_MSG_RESULT([$em_bourne_alias])\nAC_ARG_ENABLE(shell-alias,\n\tAC_HELP_STRING([--enable-shell-alias],[use sh aliases [[test]]]),\n\tif test \"$enableval\" = \"yes\" ; then\n\t    AC_DEFINE(HAS_BOURNE_ALIAS)\n\tfi,\n\tif test \"$em_bourne_alias\" = \"cross\" ; then\nAC_MSG_ERROR([You did not --enable-shell-alias or --disable-shell-alias\nwhen cross compiling ... aborting!])\n\telif test \"$em_bourne_alias\" = \"yes\" ; then\n\t    AC_DEFINE(HAS_BOURNE_ALIAS)\n\tfi)\ndnl ---------------------------------------------------------------------------\nAH_TEMPLATE([EVAL_ALIAS],[\nEVAL_ALIAS:\nThis symbol, if defined, indicates that Modules should ask the shell\nto evaluate aliases via stdout like other environment changes instead\nof opening a file and then asking the shell to source the file and\nthen remove it.])\nAC_ARG_ENABLE(shell-eval,\n\tAC_HELP_STRING([--enable-shell-eval],[use shell alias eval [[yes]]]),\n\tif test \"$enableval\" = \"yes\"; then\n\t    AC_DEFINE(EVAL_ALIAS)\n\tfi, AC_DEFINE(EVAL_ALIAS))\ndnl ---------------------------------------------------------------------------\nAH_TEMPLATE([USE_FREE],[\nUSE_FREE:\nBy default, Modules will not call free() for any dynamic data. This\ndefine enables these calls.])\nAC_ARG_ENABLE(free,\n\tAC_HELP_STRING([--enable-free],[use free() calls [[no]]]),\n\tif test \"$enableval\" = \"yes\"; then\n\t    AC_DEFINE(USE_FREE)\n\tfi)\ndnl ---------------------------------------------------------------------------\nAH_TEMPLATE([CACHE_AVAIL],[\nCACHE_AVAIL:\nThis symbol, if defined, indicates that Modules should cache the\ndirectories in MODULEPATH when doing an avail.])\nAC_ARG_ENABLE(cache,\n\tAC_HELP_STRING([--enable-cache],[use directory cache [[no]]]),\n\tif test \"$enableval\" = \"yes\"; then\n\t    AC_DEFINE(CACHE_AVAIL)\n\tfi)\ndnl ---------------------------------------------------------------------------\nAH_TEMPLATE([CACHE_UMASK],[\nCACHE_UMASK:\nThis symbol, if defined, is used as the umask for creating\ncachefiles for the module avail command.])\nAC_ARG_WITH(cache-umask,\n\tAC_HELP_STRING([--with-cache-umask=<umask>],[use cache files umask=<umask> [[000]]]),\n\tif test \"$withval\" != \"no\"; then\n\t    test \"$withval\" = \"yes\" && withval=0\n\t    AC_DEFINE_UNQUOTED(CACHE_UMASK, ${withval})\n\tfi)\ndnl ---------------------------------------------------------------------------\nAH_TEMPLATE([WITH_DEBUG_INFO],[WITH_DEBUG_INFO: Debug info level if defined])\nAC_ARG_WITH(debug,\n\tAC_HELP_STRING([--with-debug=<value>],[set debugging level <value> [[no]]]),\n\tif test \"$withval\" != \"no\"; then\n\t\ttest \"$withval\" = \"yes\" && withval=\"1\"\n\t\tAC_DEFINE_UNQUOTED(WITH_DEBUG_INFO, ${withval})\n\tfi)\ndnl ---------------------------------------------------------------------------\nAH_TEMPLATE([VERSION_MAGIC],[\nVERSION_MAGIC:\nBy default, .version files will be required to have the modulefile\nmagic cookie to be valid, else an error message will be printed out.])\nAC_ARG_ENABLE(version-magic,\n\tAC_HELP_STRING([--enable-version-magic],[set .version magic requirement  [[yes]]]),\n\tif test \"$enableval\" != \"no\"; then\n\t\tAC_DEFINE(VERSION_MAGIC,1)\n\telse\n\t\tAC_DEFINE(VERSION_MAGIC,0)\n\tfi, AC_DEFINE(VERSION_MAGIC,1))\ndnl ---------------------------------------------------------------------------\nAH_TEMPLATE([BEGINENV],[\nBEGINENV:\nModules can save the initial user environment in the .modulesbeginenv\nwhen the first module is loaded.  If enabled then the module update\nsubcommand will work.  If set to test, then this essentially enables\nthis feature, but will only work if the MODULESBEGINENV env.var is\nset to a file name (e.g. '$HOME/.modulesbeginenv.$$'- modules will\ndo one-level of variable expansion.)])\nAC_ARG_ENABLE(beginenv,\n\tAC_HELP_STRING([--enable-beginenv],[use .modulesbeginenv for initial env [[test]]]),\n\tif test \"$enableval\" = \"yes\"; then\n\t\tAC_DEFINE(BEGINENV,1)\n\telif test \"$enableval\" = \"test\"; then\n\t\tAC_DEFINE(BEGINENV,99)\n\tfi, AC_DEFINE(BEGINENV,99))\ndnl ---------------------------------------------------------------------------\ndnl  Logging\ndnl  The following option allow switching logging on and off\ndnl  and provide a possibility to set up the default facilities\ndnl ---------------------------------------------------------------------------\ndnl WITH_LOGGING\tWhether syslogging is enabled\ndnl\nAC_SUBST(WITH_LOGGING)\nAH_TEMPLATE([WITH_LOGGING],[WITH_LOGGING: Syslog logging and facilities])\nAH_TEMPLATE([WITH_LOG_DIR],[])\nAH_TEMPLATE([WITH_LOG_FACILITY_VERBOSE],[])\nAH_TEMPLATE([WITH_LOG_FACILITY_INFO],[])\nAH_TEMPLATE([WITH_LOG_FACILITY_DEBUG],[])\nAH_TEMPLATE([WITH_LOG_FACILITY_TRACE],[])\nAH_TEMPLATE([WITH_LOG_FACILITY_WARN],[])\nAH_TEMPLATE([WITH_LOG_FACILITY_PROB],[])\nAH_TEMPLATE([WITH_LOG_FACILITY_ERROR],[])\nAH_TEMPLATE([WITH_LOG_FACILITY_FATAL],[])\nAH_TEMPLATE([WITH_LOG_FACILITY_PANIC],[])\nWITH_LOGGING=0\nAC_ARG_ENABLE(logging,\n\tAC_HELP_STRING([--enable-logging],[turn logging on                 [[no]]]),\n\tif test \"$enableval\" = \"yes\"; then\n\t\tAC_DEFINE(WITH_LOGGING)\n\t\tWITH_LOGGING=1\n\tfi)\nAC_ARG_WITH(log-dir,\n\tAC_HELP_STRING([--with-log-dir=<value>],[select an alternate log dir.  [[no]]]),\n\tif test \"$withval\" != \"no\"; then\n\t\ttest \"$withval\" = \"yes\" && withval=\"/tmp\"\n\t\tAC_DEFINE_UNQUOTED(WITH_LOG_DIR, \"$withval\")\n\tfi)\nAC_ARG_WITH(log-facility-verbose,\n\tAC_HELP_STRING([--with-log-facility-verbose[=<facility>]],[Log facility    [[stderr]]]),\n\tif test \"$withval\" != \"no\"; then\n\t\ttest \"$withval\" = \"yes\" && withval=\"stderr\"\n\t\tAC_DEFINE_UNQUOTED(WITH_LOG_FACILITY_VERBOSE, \"$withval\")\n\tfi)\nAC_ARG_WITH(log-facility-info,\n\tAC_HELP_STRING([--with-log-facility-info[=<facility>]],[Log facility    [[local7.notice]]]),\n\tif test \"$withval\" != \"no\"; then\n\t\ttest \"$withval\" = \"yes\" && withval=\"local7.notice\"\n\t\tAC_DEFINE_UNQUOTED(WITH_LOG_FACILITY_INFO, \"$withval\")\n\tfi)\nAC_ARG_WITH(log-facility-debug,\n\tAC_HELP_STRING([--with-log-facility-debug[=<facility>]],[Log facility    [[local7.notice]]]),\n\tif test \"$withval\" != \"no\"; then\n\t\ttest \"$withval\" = \"yes\" && withval=\"local7.notice\"\n\t\tAC_DEFINE_UNQUOTED(WITH_LOG_FACILITY_DEBUG, \"$withval\")\n\tfi)\nAC_ARG_WITH(log-facility-trace,\n\tAC_HELP_STRING([--with-log-facility-trace[=<facility>]],[Log facility    [[local7.notice]]]),\n\tif test \"$withval\" != \"no\"; then\n\t\ttest \"$withval\" = \"yes\" && withval=\"local7.notice\"\n\t\tAC_DEFINE_UNQUOTED(WITH_LOG_FACILITY_TRACE, \"$withval\")\n\tfi)\nAC_ARG_WITH(log-facility-warn,\n\tAC_HELP_STRING([--with-log-facility-warn[=<facility>]],[Log facility    [[local7.warning]]]),\n\tif test \"$withval\" != \"no\"; then\n\t\ttest \"$withval\" = \"yes\" && withval=\"local7.warning\"\n\t\tAC_DEFINE_UNQUOTED(WITH_LOG_FACILITY_WARN, \"$withval\")\n\tfi)\nAC_ARG_WITH(log-facility-problem,\n\tAC_HELP_STRING([--with-log-facility-problem[=<facility>]],[Log facility    [[local7.error]]]),\n\tif test \"$withval\" != \"no\"; then\n\t\ttest \"$withval\" = \"yes\" && withval=\"local7.error\"\n\t\tAC_DEFINE_UNQUOTED(WITH_LOG_FACILITY_PROB, \"$withval\")\n\tfi)\nAC_ARG_WITH(log-facility-error,\n\tAC_HELP_STRING([--with-log-facility-error[=<facility>]],[Log facility    [[local7.error]]]),\n\tif test \"$withval\" != \"no\"; then\n\t\ttest \"$withval\" = \"yes\" && withval=\"local7.error\"\n\t\tAC_DEFINE_UNQUOTED(WITH_LOG_FACILITY_ERROR, \"$withval\")\n\tfi)\nAC_ARG_WITH(log-facility-fatal,\n\tAC_HELP_STRING([--with-log-facility-fatal[=<facility>]],[Log facility    [[local7.error]]]),\n\tif test \"$withval\" != \"no\"; then\n\t\ttest \"$withval\" = \"yes\" && withval=\"local7.error\"\n\t\tAC_DEFINE_UNQUOTED(WITH_LOG_FACILITY_FATAL, \"$withval\")\n\tfi)\nAC_ARG_WITH(log-facility-panic,\n\tAC_HELP_STRING([--with-log-facility-panic[=<facility>]],[Log facility    [[local7.error]]]),\n\tif test \"$withval\" != \"no\"; then\n\t\ttest \"$withval\" = \"yes\" && withval=\"local7.error\"\n\t\tAC_DEFINE_UNQUOTED(WITH_LOG_FACILITY_PANIC, \"$withval\")\n\tfi)\ndnl ---------------------------------------------------------------------------\ndnl  Tracing\ndnl  The following option allow switching tracing on and off on a\ndnl  per module command basis\ndnl ---------------------------------------------------------------------------\nAH_TEMPLATE([WITH_TRACE_LOAD],[Tracking])\nAH_TEMPLATE([WITH_TRACE_UNLOAD],[])\nAH_TEMPLATE([WITH_TRACE_SWITCH],[])\nAH_TEMPLATE([WITH_TRACE_DISP],[])\nAH_TEMPLATE([WITH_TRACE_LIST],[])\nAH_TEMPLATE([WITH_TRACE_AVAIL],[])\nAH_TEMPLATE([WITH_TRACE_HELP],[])\nAH_TEMPLATE([WITH_TRACE_INIT],[])\nAH_TEMPLATE([WITH_TRACE_USE],[])\nAH_TEMPLATE([WITH_TRACE_UNUSE],[])\nAH_TEMPLATE([WITH_TRACE_UPDATE],[])\nAH_TEMPLATE([WITH_TRACE_PURGE],[])\nAH_TEMPLATE([WITH_TRACE_CLEAR],[])\nAH_TEMPLATE([WITH_TRACE_WHATIS],[])\nAH_TEMPLATE([WITH_TRACE_APROPOS],[])\n\nAC_ARG_WITH(trace-load,\n\tAC_HELP_STRING([--with-trace-load=<value>],[specify a pattern for trace   [[no]]]),\n\tif test \"$withval\" != \"no\"; then\n\t\tif test \"$withval\" = \"yes\"; then\n\t\t\tAC_DEFINE_UNQUOTED(WITH_TRACE_LOAD, _all_on)\n\t\telse\n\t\t\tAC_DEFINE_UNQUOTED(WITH_TRACE_LOAD, \"$withval\")\n\t\tfi\n\tfi)\nAC_ARG_WITH(trace-unload,\n\tAC_HELP_STRING([--with-trace-unload=<value>],[specify a pattern for trace   [[no]]]),\n\tif test \"$withval\" != \"no\"; then\n\t\tif test \"$withval\" = \"yes\"; then\n\t\t\tAC_DEFINE_UNQUOTED(WITH_TRACE_UNLOAD, _all_on)\n\t\telse\n\t\t\tAC_DEFINE_UNQUOTED(WITH_TRACE_UNLOAD, \"$withval\")\n\t\tfi\n\tfi)\nAC_ARG_WITH(trace-switch,\n\tAC_HELP_STRING([--with-trace-switch=<value>],[specify a pattern for trace   [[no]]]),\n\tif test \"$withval\" != \"no\"; then\n\t\tif test \"$withval\" = \"yes\"; then\n\t\t\tAC_DEFINE_UNQUOTED(WITH_TRACE_SWITCH, _all_on)\n\t\telse\n\t\t\tAC_DEFINE_UNQUOTED(WITH_TRACE_SWITCH, \"$withval\")\n\t\tfi\n\tfi)\nAC_ARG_WITH(trace-disp,\n\tAC_HELP_STRING([--with-trace-disp=<value>],[specify a pattern for trace   [[no]]]),\n\tif test \"$withval\" != \"no\"; then\n\t\tif test \"$withval\" = \"yes\"; then\n\t\t\tAC_DEFINE_UNQUOTED(WITH_TRACE_DISP, _all_on)\n\t\telse\n\t\t\tAC_DEFINE_UNQUOTED(WITH_TRACE_DISP, \"$withval\")\n\t\tfi\n\tfi)\nAC_ARG_WITH(trace-list,\n\tAC_HELP_STRING([--with-trace-list=<value>],[specify a pattern for trace   [[no]]]),\n\tif test \"$withval\" != \"no\"; then\n\t\tif test \"$withval\" = \"yes\"; then\n\t\t\tAC_DEFINE_UNQUOTED(WITH_TRACE_LIST, _all_on)\n\t\telse\n\t\t\tAC_DEFINE_UNQUOTED(WITH_TRACE_LIST, \"$withval\")\n\t\tfi\n\tfi)\nAC_ARG_WITH(trace-avail,\n\tAC_HELP_STRING([--with-trace-avail=<value>],[specify a pattern for trace   [[no]]]),\n\tif test \"$withval\" != \"no\"; then\n\t\tif test \"$withval\" = \"yes\"; then\n\t\t\tAC_DEFINE_UNQUOTED(WITH_TRACE_AVAIL, _all_on)\n\t\telse\n\t\t\tAC_DEFINE_UNQUOTED(WITH_TRACE_AVAIL, \"$withval\")\n\t\tfi\n\tfi)\nAC_ARG_WITH(trace-help,\n\tAC_HELP_STRING([--with-trace-help=<value>],[specify a pattern for trace   [[no]]]),\n\tif test \"$withval\" != \"no\"; then\n\t\tif test \"$withval\" = \"yes\"; then\n\t\t\tAC_DEFINE_UNQUOTED(WITH_TRACE_HELP, _all_on)\n\t\telse\n\t\t\tAC_DEFINE_UNQUOTED(WITH_TRACE_HELP, \"$withval\")\n\t\tfi\n\tfi)\nAC_ARG_WITH(trace-init,\n\tAC_HELP_STRING([--with-trace-init=<value>],[specify a pattern for trace   [[no]]]),\n\tif test \"$withval\" != \"no\"; then\n\t\tif test \"$withval\" = \"yes\"; then\n\t\t\tAC_DEFINE_UNQUOTED(WITH_TRACE_INIT, _all_on)\n\t\telse\n\t\t\tAC_DEFINE_UNQUOTED(WITH_TRACE_INIT, \"$withval\")\n\t\tfi\n\tfi)\nAC_ARG_WITH(trace-use,\n\tAC_HELP_STRING([--with-trace-use=<value>],[specify a pattern for trace   [[no]]]),\n\tif test \"$withval\" != \"no\"; then\n\t\tif test \"$withval\" = \"yes\"; then\n\t\t\tAC_DEFINE_UNQUOTED(WITH_TRACE_USE, _all_on)\n\t\telse\n\t\t\tAC_DEFINE_UNQUOTED(WITH_TRACE_USE, \"$withval\")\n\t\tfi\n\tfi)\nAC_ARG_WITH(trace-unuse,\n\tAC_HELP_STRING([--with-trace-unuse=<value>],[specify a pattern for trace   [[no]]]),\n\tif test \"$withval\" != \"no\"; then\n\t\tif test \"$withval\" = \"yes\"; then\n\t\t\tAC_DEFINE_UNQUOTED(WITH_TRACE_UNUSE, _all_on)\n\t\telse\n\t\t\tAC_DEFINE_UNQUOTED(WITH_TRACE_UNUSE, \"$withval\")\n\t\tfi\n\tfi)\nAC_ARG_WITH(trace-update,\n\tAC_HELP_STRING([--with-trace-update=<value>],[specify a pattern for trace   [[no]]]),\n\tif test \"$withval\" != \"no\"; then\n\t\tif test \"$withval\" = \"yes\"; then\n\t\t\tAC_DEFINE_UNQUOTED(WITH_TRACE_UPDATE, _all_on)\n\t\telse\n\t\t\tAC_DEFINE_UNQUOTED(WITH_TRACE_UPDATE, \"$withval\")\n\t\tfi\n\tfi)\nAC_ARG_WITH(trace-purge,\n\tAC_HELP_STRING([--with-trace-purge=<value>],[specify a pattern for trace   [[no]]]),\n\tif test \"$withval\" != \"no\"; then\n\t\tif test \"$withval\" = \"yes\"; then\n\t\t\tAC_DEFINE_UNQUOTED(WITH_TRACE_PURGE, _all_on)\n\t\telse\n\t\t\tAC_DEFINE_UNQUOTED(WITH_TRACE_PURGE, \"$withval\")\n\t\tfi\n\tfi)\nAC_ARG_WITH(trace-clear,\n\tAC_HELP_STRING([--with-trace-clear=<value>],[specify a pattern for trace   [[no]]]),\n\tif test \"$withval\" != \"no\"; then\n\t\tif test \"$withval\" = \"yes\"; then\n\t\t\tAC_DEFINE_UNQUOTED(WITH_TRACE_CLEAR, _all_on)\n\t\telse\n\t\t\tAC_DEFINE_UNQUOTED(WITH_TRACE_CLEAR, \"$withval\")\n\t\tfi\n\tfi)\nAC_ARG_WITH(trace-whatis,\n\tAC_HELP_STRING([--with-trace-whatis=<value>],[specify a pattern for trace   [[no]]]),\n\tif test \"$withval\" != \"no\"; then\n\t\tif test \"$withval\" = \"yes\"; then\n\t\t\tAC_DEFINE_UNQUOTED(WITH_TRACE_WHATIS, _all_on)\n\t\telse\n\t\t\tAC_DEFINE_UNQUOTED(WITH_TRACE_WHATIS, \"$withval\")\n\t\tfi\n\tfi)\nAC_ARG_WITH(trace-apropos,\n\tAC_HELP_STRING([--with-trace-apropos=<value>],[specify a pattern for trace  [[no]]]),\n\tif test \"$withval\" != \"no\"; then\n\t\tif test \"$withval\" = \"yes\"; then\n\t\t\tAC_DEFINE_UNQUOTED(WITH_TRACE_APROPOS, _all_on)\n\t\telse\n\t\t\tAC_DEFINE_UNQUOTED(WITH_TRACE_APROPOS, \"$withval\")\n\t\tfi\n\tfi)\ndnl ---------------------------------------------------------------------------\ndnl Find libraries, functions and special programs\ndnl\tThe dynamic loader library should only be probed for, if\ndnl\tstatic linking is not switched on!\ndnl ---------------------------------------------------------------------------\nAC_CHECK_LIB(m, log)\nif test \"${STATIC-foobar}\" = \"foobar\"; then\n    AC_CHECK_LIB(dl, dlopen)\nfi\n\ndnl\ndnl--------------------------------------------------------------------\ndnl Load the tclConfig.sh file\ndnl--------------------------------------------------------------------\n\nSC_PATH_TCLCONFIG\nSC_LOAD_TCLCONFIG\nEM_SET_TCL\nEM_CHECK_TCL\n\ndnl--------------------------------------------------------------------\ndnl Load the tclxConfig.sh file\ndnl search for tclx after tcl, not before, to benefit from tcl_includes\ndnl--------------------------------------------------------------------\n\nEM_PATH_TCLXCONFIG\nEM_LOAD_TCLXCONFIG\nEM_SET_TCLX\nEM_CHECK_TCLX\nif test x\"$no_tclx\" != x\"true\"; then\n\tAH_TEMPLATE([HAS_TCLXLIBS],[\nHAS_TCLXLIBS:\nThis symbol, if defined, indicates that Modules should support\nextended TCL (tclX) commands.])\n\tAC_DEFINE(HAS_TCLXLIBS)\nfi\n\ndnl ---------------------------------------------------------------------------\ndnl\ndnl   --with-module-path\ndnl   --with-version-path\ndnl   --with-tmp-dir\ndnl   --with-autoload-path\ndnl\ndnl ---------------------------------------------------------------------------\ndnl MODULEPATH\t\tThe modulepath we want\ndnl\nAC_SUBST(MODULEPATH)\nAH_TEMPLATE([MODULEPATH],[\nMODULEPATH: Directory that contains all the system module files])\nAC_ARG_WITH(module-path,\n\tAC_HELP_STRING([--with-module-path=<path>],[use module path=<path> [[PREFIX/Modules/modulefiles]]]),\n\tMODULEPATH=\"$withval\"\n\tAC_MSG_RESULT([MODULEPATH = $with_module_path])\n\tAC_DEFINE_UNQUOTED(MODULEPATH, \"$withval\")\n\t,\ndnl \tAC_MSG_WARN([if using '--with-module-path': need to specify a path!])\n\twithval=\"$BASEPREFIX/Modules/modulefiles\"\n\tAC_MSG_WARN([will use MODULEPATH=$withval : rerun configure using --with-module-path to override default])\n\tMODULEPATH=\"$withval\"\n\tAC_DEFINE_UNQUOTED(MODULEPATH, \"$withval\"))\ndnl ---------------------------------------------------------------------------\ndnl VERSIONPATH\t\tThe modulepath different versions of modules\ndnl\nAC_SUBST(VERSIONPATH)\nAH_TEMPLATE([VERSIONPATH],[\nVERSIONPATH: Directory that contains the env.modules version files.])\nAC_ARG_WITH(version-path,\n\tAC_HELP_STRING([--with-version-path=<path>],[use version path=<path> [[PREFIX/Modules/versions]]]),\n\tVERSIONPATH=\"$withval\"\n\tAC_MSG_RESULT([VERSIONPATH = $with_version_path])\n\tAC_DEFINE_UNQUOTED(VERSIONPATH, \"$withval\")\n\t,\nif test \"$WANTS_VERSIONING\" -eq 1 ; then\ndnl AC_MSG_WARN([if using '--with-version-path': need to specify a path!])\n\twithval=\"$BASEPREFIX/Modules/versions\"\n\tAC_MSG_WARN([will use VERSIONPATH=$withval : rerun configure using --with-version-path to override default])\n\tVERSIONPATH=\"$withval\"\n\tAC_DEFINE_UNQUOTED(VERSIONPATH, \"$withval\")\nfi)\ndnl ---------------------------------------------------------------------------\nAH_TEMPLATE([TMP_DIR],[TMP_DIR: tmp directory name])\nAC_ARG_WITH(tmp-dir,\n\tAC_HELP_STRING([--with-tmp-dir=<dir>],[use <dir> as a temporary dir [[/tmp]]]),\n        if test ! -d $withval ; then\n           AC_MSG_ERROR([tmp dir $withval does not exist])\n        fi\n\tAC_DEFINE_UNQUOTED(TMP_DIR, \"$withval\")\n\tAC_MSG_RESULT([TMP_DIR = $withval]),\n        if test -d \"/tmp\" ; then\n           AC_DEFINE_UNQUOTED(TMP_DIR, \"/tmp\")\n        elif test -d \"/var/tmp\" ; then\n           AC_DEFINE_UNQUOTED(TMP_DIR, \"/var/tmp\")\n        fi\n\t)\ndnl ---------------------------------------------------------------------------\nAH_TEMPLATE([DEFAULTMANPATH],[DEFAULTMANPATH: default man path])\nAC_ARG_WITH(man-path,\n\tAC_HELP_STRING([--with-man-path=<dir>],[use <dir> for the default MANPATH [[/usr/man:/usr/share/man]]]),\n\tAC_DEFINE_UNQUOTED(DEFAULTMANPATH, \"$withval\")\n\tAC_MSG_RESULT([DEFAULTMANPATH = $withval]),\n        if test -d \"/usr/man\" ; then\n           withval=\"/usr/man\"\n           if test -d \"/usr/share/man\" ; then\n               withval=\"$withval:/usr/share/man\"\n\t   fi\n        elif test -d \"/usr/share/man\" ; then\n           withval=\"/usr/share/man\"\n        fi\n        AC_DEFINE_UNQUOTED(DEFAULTMANPATH, \"$withval\")\n\t)\n\tAC_MSG_RESULT([DEFAULTMANPATH = $withval])\ndnl ---------------------------------------------------------------------------\ndnl AUTOLOADPATH\tdirectories where Tcl will search for libraries to load\ndnl\nAC_SUBST(AUTOLOADPATH)\nAH_TEMPLATE([AUTOLOADPATH],[\nAUTOLOADPATH:\nThis symbol, if defined, is the \"default\" path of directories\nTcl will look for functions to autoload.  It is space separated!])\nAC_ARG_WITH(autoload-path,\n\tAC_HELP_STRING([--with-autoload-path=<path>],[use autoload path=<path> [[PREFIX/lib/tcl]]]),\n\tif test \"$withval\" = \"no\" || test \"$withval\" = \"yes\"; then\n\t\tif test \"$prefix\" != \"NONE\" ; then\n\t\t\twithval=\"$prefix/lib/tcl\"\n\t\telse\n\t\t\twithval=\"$ac_default_prefix/lib/tcl\"\n\t\tfi\n\tfi\n\tAUTOLOADPATH=\"$withval\"\n\tAC_DEFINE_UNQUOTED(AUTOLOADPATH, \"$withval\"))\ndnl ---------------------------------------------------------------------------\ndnl   --with-etc-path\ndnl   --with-skel-path\ndnl   --with-dot-ext\ndnl ---------------------------------------------------------------------------\ndnl ETCPATH\t\tWhere to find the /etc/\"login\" files\ndnl\nAC_SUBST(ETCPATH)\nAC_ARG_WITH(etc-path,\n\tAC_HELP_STRING([--with-etc-path=<path>],[use etc path=<path> [[/etc]]]),\n\t[if test \"$withval\" = \"no\" || test \"$withval\" = \"yes\"; then\n\t\tAC_MSG_WARN(\n\t[if using '--with-etc-path': need to specify a path! Using /etc])\n\t\twithval=\"/etc\"\n\tfi\n\tETCPATH=\"$withval\"]\n\t,\n\tETCPATH=\"/etc\")\ndnl ---------------------------------------------------------------------------\ndnl SKELPATH\t\tWhere to find the $HOME/dot file skeletons\ndnl\nAC_SUBST(SKELPATH)\nAC_ARG_WITH(skel-path,\n\tAC_HELP_STRING([--with-skel-path=<path>],[use skel path=<path> [[/etc/skel]]]),\n\tif test \"$withval\" = \"no\" || test \"$withval\" = \"yes\"; then\n\tAC_MSG_WARN([if using '--with-skel-path': need to specify a path! Using /etc/skel])\n\t\twithval=\"/etc/skel\"\n\tfi\n\tSKELPATH=\"$withval\"\n\t,\n\tSKELPATH=\"/etc/skel\")\ndnl ---------------------------------------------------------------------------\ndnl DOT_EXT\t\tWhether to use a dot-file extension\ndnl EXTDIR\t\tWhich add.* script to include\ndnl\nAC_SUBST(DOT_EXT)\nAC_SUBST(EXTDIR)\nAH_TEMPLATE([DOT_EXT],[\nDOT_EXT:\nSet this to some extension value (e.g. .ext) to be appended onto\neach shell dot-file name in the list for each shell for processing\nthe \"module init*\" commands.  For example - C-shell: .cshrc.ext,\n.login.ext.])\nAC_ARG_WITH(dot-ext,\n\tAC_HELP_STRING([--with-dot-ext=<.ext>],[append <.ext> (default=.ext) to shell dot files [[no]]]),\n\tif test \"$withval\" != \"no\"; then\n\t\ttest \"$withval\" = \"yes\" && withval=\".ext\"\n\t\tAC_DEFINE_UNQUOTED(DOT_EXT, \"$withval\")\n\t\tEXTDIR=\"ext\"\n\telse\n\t\tAC_DEFINE(DOT_EXT, \"\")\n\t\tEXTDIR=\"etc\"\n\tfi,\n\tAC_DEFINE(DOT_EXT, \"\")\n\tEXTDIR=\"etc\"\n)\ndnl ---------------------------------------------------------------------------\ndnl helpful configure --help comments\nm4_divert_once([HELP_WITH],[[\n\nThe default value or disposition is listed in the square brackets above.\nBeware of new defaults for use-cache, beginenv.\n\nDepending on the above configuration options  the files are approximately\nplaced in the following directory structure :\nPREFIX/Modules/($MODULES_VERSION/ if modules-versioning)\n\tbin/\n\tinit/\n\tman/\n\t\tman1/\n\t\tman4/\n\tmodulefiles/\nPREFIX/Modules/\n\tmodulefiles/\n\t(versions/ if modules-versioning)\n\nSystem modulefiles can safely be placed in:\nPREFIX/Modules/modulefiles\n]])\ndnl ---------------------------------------------------------------------------\ndnl Now put it all out!\ndnl ---------------------------------------------------------------------------\nAC_CONFIG_FILES([Makefile modules.lsm .spec doc/Makefile\n\tinit/Makefile init/.modulespath\n\tdoc/module.1 doc/modulefile.4\n\tetc/Makefile etc/add.modules etc/mkroot\n\tetc/skel/.cshrc etc/skel/.login \n\tetc/skel/.kshenv etc/skel/.profile \n\tetc/global/csh.cshrc etc/global/csh.login etc/global/csh.modules\n\tetc/global/bashrc etc/global/profile etc/global/profile.modules\n\text/Makefile ext/add.ext ext/mkroot\n\text/common/.cshrc ext/common/.login \n\text/common/.kshenv ext/common/.profile \n\tmodulefiles/Makefile modulefiles/modules\n\tmodulefiles/module-git modulefiles/module-info modulefiles/null\n\tmodulefiles/use.own modulefiles/dot modulefiles/version\n\t])\ndnl We want these to be recreated for each install\ndnl\tinit/bash init/csh init/ksh init/perl.pm init/python.py init/sh init/zsh\nAC_CONFIG_COMMANDS([default],[[date > stamp-h]],[[]])\nAC_OUTPUT\ndnl\n"
    },
    "skipped": [
        "/tmp/vanessa/spack-stage/spack-stage-environment-modules-4.2.0-emoamefjxoi7lv7rs233jwi3gvqrbgjb/spack-src/doc/paper/user-setup.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-environment-modules-4.2.0-emoamefjxoi7lv7rs233jwi3gvqrbgjb/spack-src/doc/paper/absmod.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-environment-modules-4.2.0-emoamefjxoi7lv7rs233jwi3gvqrbgjb/spack-src/doc/paper/MC2_whitney_paper.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-environment-modules-4.2.0-emoamefjxoi7lv7rs233jwi3gvqrbgjb/spack-src/doc/paper/Modules-Paper.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-environment-modules-4.2.0-emoamefjxoi7lv7rs233jwi3gvqrbgjb/spack-src/doc/howto/using_on_windows.pdf"
    ],
    "total_files": 1086
}