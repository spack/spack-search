{
    "matches": {
        "/tmp/vanessa/spack-stage/spack-stage-xwininfo-1.1.3-zofubthgngujqrpxewuhpzwcivqttagl/spack-src/aclocal.m4": "# generated automatically by aclocal 1.13.2 -*- Autoconf -*-\n\n# Copyright (C) 1996-2013 Free Software Foundation, Inc.\n\n# This file is free software; the Free Software Foundation\n# gives unlimited permission to copy and/or distribute it,\n# with or without modifications, as long as this notice is preserved.\n\n# This program is distributed in the hope that it will be useful,\n# but WITHOUT ANY WARRANTY, to the extent permitted by law; without\n# even the implied warranty of MERCHANTABILITY or FITNESS FOR A\n# PARTICULAR PURPOSE.\n\nm4_ifndef([AC_CONFIG_MACRO_DIRS], [m4_defun([_AM_CONFIG_MACRO_DIRS], [])m4_defun([AC_CONFIG_MACRO_DIRS], [_AM_CONFIG_MACRO_DIRS($@)])])\nm4_ifndef([AC_AUTOCONF_VERSION],\n  [m4_copy([m4_PACKAGE_VERSION], [AC_AUTOCONF_VERSION])])dnl\nm4_if(m4_defn([AC_AUTOCONF_VERSION]), [2.68],,\n[m4_warning([this file was generated for autoconf 2.68.\nYou have another version of autoconf.  It may work, but is not guaranteed to.\nIf you have problems, you may need to regenerate the build system entirely.\nTo do so, use the procedure documented by the package, typically 'autoreconf'.])])\n\n# Copyright (C) 2002-2013 Free Software Foundation, Inc.\n#\n# This file is free software; the Free Software Foundation\n# gives unlimited permission to copy and/or distribute it,\n# with or without modifications, as long as this notice is preserved.\n\n# AM_AUTOMAKE_VERSION(VERSION)\n# ----------------------------\n# Automake X.Y traces this macro to ensure aclocal.m4 has been\n# generated from the m4 files accompanying Automake X.Y.\n# (This private macro should not be called outside this file.)\nAC_DEFUN([AM_AUTOMAKE_VERSION],\n[am__api_version='1.13'\ndnl Some users find AM_AUTOMAKE_VERSION and mistake it for a way to\ndnl require some minimum version.  Point them to the right macro.\nm4_if([$1], [1.13.2], [],\n      [AC_FATAL([Do not call $0, use AM_INIT_AUTOMAKE([$1]).])])dnl\n])\n\n# _AM_AUTOCONF_VERSION(VERSION)\n# -----------------------------\n# aclocal traces this macro to find the Autoconf version.\n# This is a private macro too.  Using m4_define simplifies\n# the logic in aclocal, which can simply ignore this definition.\nm4_define([_AM_AUTOCONF_VERSION], [])\n\n# AM_SET_CURRENT_AUTOMAKE_VERSION\n# -------------------------------\n# Call AM_AUTOMAKE_VERSION and AM_AUTOMAKE_VERSION so they can be traced.\n# This function is AC_REQUIREd by AM_INIT_AUTOMAKE.\nAC_DEFUN([AM_SET_CURRENT_AUTOMAKE_VERSION],\n[AM_AUTOMAKE_VERSION([1.13.2])dnl\nm4_ifndef([AC_AUTOCONF_VERSION],\n  [m4_copy([m4_PACKAGE_VERSION], [AC_AUTOCONF_VERSION])])dnl\n_AM_AUTOCONF_VERSION(m4_defn([AC_AUTOCONF_VERSION]))])\n\n# AM_AUX_DIR_EXPAND                                         -*- Autoconf -*-\n\n# Copyright (C) 2001-2013 Free Software Foundation, Inc.\n#\n# This file is free software; the Free Software Foundation\n# gives unlimited permission to copy and/or distribute it,\n# with or without modifications, as long as this notice is preserved.\n\n# For projects using AC_CONFIG_AUX_DIR([foo]), Autoconf sets\n# $ac_aux_dir to '$srcdir/foo'.  In other projects, it is set to\n# '$srcdir', '$srcdir/..', or '$srcdir/../..'.\n#\n# Of course, Automake must honor this variable whenever it calls a\n# tool from the auxiliary directory.  The problem is that $srcdir (and\n# therefore $ac_aux_dir as well) can be either absolute or relative,\n# depending on how configure is run.  This is pretty annoying, since\n# it makes $ac_aux_dir quite unusable in subdirectories: in the top\n# source directory, any form will work fine, but in subdirectories a\n# relative path needs to be adjusted first.\n#\n# $ac_aux_dir/missing\n#    fails when called from a subdirectory if $ac_aux_dir is relative\n# $top_srcdir/$ac_aux_dir/missing\n#    fails if $ac_aux_dir is absolute,\n#    fails when called from a subdirectory in a VPATH build with\n#          a relative $ac_aux_dir\n#\n# The reason of the latter failure is that $top_srcdir and $ac_aux_dir\n# are both prefixed by $srcdir.  In an in-source build this is usually\n# harmless because $srcdir is '.', but things will broke when you\n# start a VPATH build or use an absolute $srcdir.\n#\n# So we could use something similar to $top_srcdir/$ac_aux_dir/missing,\n# iff we strip the leading $srcdir from $ac_aux_dir.  That would be:\n#   am_aux_dir='\\$(top_srcdir)/'`expr \"$ac_aux_dir\" : \"$srcdir//*\\(.*\\)\"`\n# and then we would define $MISSING as\n#   MISSING=\"\\${SHELL} $am_aux_dir/missing\"\n# This will work as long as MISSING is not called from configure, because\n# unfortunately $(top_srcdir) has no meaning in configure.\n# However there are other variables, like CC, which are often used in\n# configure, and could therefore not use this \"fixed\" $ac_aux_dir.\n#\n# Another solution, used here, is to always expand $ac_aux_dir to an\n# absolute PATH.  The drawback is that using absolute paths prevent a\n# configured tree to be moved without reconfiguration.\n\nAC_DEFUN([AM_AUX_DIR_EXPAND],\n[dnl Rely on autoconf to set up CDPATH properly.\nAC_PREREQ([2.50])dnl\n# expand $ac_aux_dir to an absolute path\nam_aux_dir=`cd $ac_aux_dir && pwd`\n])\n\n# AM_CONDITIONAL                                            -*- Autoconf -*-\n\n# Copyright (C) 1997-2013 Free Software Foundation, Inc.\n#\n# This file is free software; the Free Software Foundation\n# gives unlimited permission to copy and/or distribute it,\n# with or without modifications, as long as this notice is preserved.\n\n# AM_CONDITIONAL(NAME, SHELL-CONDITION)\n# -------------------------------------\n# Define a conditional.\nAC_DEFUN([AM_CONDITIONAL],\n[AC_PREREQ([2.52])dnl\n m4_if([$1], [TRUE],  [AC_FATAL([$0: invalid condition: $1])],\n       [$1], [FALSE], [AC_FATAL([$0: invalid condition: $1])])dnl\nAC_SUBST([$1_TRUE])dnl\nAC_SUBST([$1_FALSE])dnl\n_AM_SUBST_NOTMAKE([$1_TRUE])dnl\n_AM_SUBST_NOTMAKE([$1_FALSE])dnl\nm4_define([_AM_COND_VALUE_$1], [$2])dnl\nif $2; then\n  $1_TRUE=\n  $1_FALSE='#'\nelse\n  $1_TRUE='#'\n  $1_FALSE=\nfi\nAC_CONFIG_COMMANDS_PRE(\n[if test -z \"${$1_TRUE}\" && test -z \"${$1_FALSE}\"; then\n  AC_MSG_ERROR([[conditional \"$1\" was never defined.\nUsually this means the macro was only invoked conditionally.]])\nfi])])\n\n# Copyright (C) 1999-2013 Free Software Foundation, Inc.\n#\n# This file is free software; the Free Software Foundation\n# gives unlimited permission to copy and/or distribute it,\n# with or without modifications, as long as this notice is preserved.\n\n\n# There are a few dirty hacks below to avoid letting 'AC_PROG_CC' be\n# written in clear, in which case automake, when reading aclocal.m4,\n# will think it sees a *use*, and therefore will trigger all it's\n# C support machinery.  Also note that it means that autoscan, seeing\n# CC etc. in the Makefile, will ask for an AC_PROG_CC use...\n\n\n# _AM_DEPENDENCIES(NAME)\n# ----------------------\n# See how the compiler implements dependency checking.\n# NAME is \"CC\", \"CXX\", \"OBJC\", \"OBJCXX\", \"UPC\", or \"GJC\".\n# We try a few techniques and use that to set a single cache variable.\n#\n# We don't AC_REQUIRE the corresponding AC_PROG_CC since the latter was\n# modified to invoke _AM_DEPENDENCIES(CC); we would have a circular\n# dependency, and given that the user is not expected to run this macro,\n# just rely on AC_PROG_CC.\nAC_DEFUN([_AM_DEPENDENCIES],\n[AC_REQUIRE([AM_SET_DEPDIR])dnl\nAC_REQUIRE([AM_OUTPUT_DEPENDENCY_COMMANDS])dnl\nAC_REQUIRE([AM_MAKE_INCLUDE])dnl\nAC_REQUIRE([AM_DEP_TRACK])dnl\n\nm4_if([$1], [CC],   [depcc=\"$CC\"   am_compiler_list=],\n      [$1], [CXX],  [depcc=\"$CXX\"  am_compiler_list=],\n      [$1], [OBJC], [depcc=\"$OBJC\" am_compiler_list='gcc3 gcc'],\n      [$1], [OBJCXX], [depcc=\"$OBJCXX\" am_compiler_list='gcc3 gcc'],\n      [$1], [UPC],  [depcc=\"$UPC\"  am_compiler_list=],\n      [$1], [GCJ],  [depcc=\"$GCJ\"  am_compiler_list='gcc3 gcc'],\n                    [depcc=\"$$1\"   am_compiler_list=])\n\nAC_CACHE_CHECK([dependency style of $depcc],\n               [am_cv_$1_dependencies_compiler_type],\n[if test -z \"$AMDEP_TRUE\" && test -f \"$am_depcomp\"; then\n  # We make a subdir and do the tests there.  Otherwise we can end up\n  # making bogus files that we don't know about and never remove.  For\n  # instance it was reported that on HP-UX the gcc test will end up\n  # making a dummy file named 'D' -- because '-MD' means \"put the output\n  # in D\".\n  rm -rf conftest.dir\n  mkdir conftest.dir\n  # Copy depcomp to subdir because otherwise we won't find it if we're\n  # using a relative directory.\n  cp \"$am_depcomp\" conftest.dir\n  cd conftest.dir\n  # We will build objects and dependencies in a subdirectory because\n  # it helps to detect inapplicable dependency modes.  For instance\n  # both Tru64's cc and ICC support -MD to output dependencies as a\n  # side effect of compilation, but ICC will put the dependencies in\n  # the current directory while Tru64 will put them in the object\n  # directory.\n  mkdir sub\n\n  am_cv_$1_dependencies_compiler_type=none\n  if test \"$am_compiler_list\" = \"\"; then\n     am_compiler_list=`sed -n ['s/^#*\\([a-zA-Z0-9]*\\))$/\\1/p'] < ./depcomp`\n  fi\n  am__universal=false\n  m4_case([$1], [CC],\n    [case \" $depcc \" in #(\n     *\\ -arch\\ *\\ -arch\\ *) am__universal=true ;;\n     esac],\n    [CXX],\n    [case \" $depcc \" in #(\n     *\\ -arch\\ *\\ -arch\\ *) am__universal=true ;;\n     esac])\n\n  for depmode in $am_compiler_list; do\n    # Setup a source with many dependencies, because some compilers\n    # like to wrap large dependency lists on column 80 (with \\), and\n    # we should not choose a depcomp mode which is confused by this.\n    #\n    # We need to recreate these files for each test, as the compiler may\n    # overwrite some of them when testing with obscure command lines.\n    # This happens at least with the AIX C compiler.\n    : > sub/conftest.c\n    for i in 1 2 3 4 5 6; do\n      echo '#include \"conftst'$i'.h\"' >> sub/conftest.c\n      # Using \": > sub/conftst$i.h\" creates only sub/conftst1.h with\n      # Solaris 10 /bin/sh.\n      echo '/* dummy */' > sub/conftst$i.h\n    done\n    echo \"${am__include} ${am__quote}sub/conftest.Po${am__quote}\" > confmf\n\n    # We check with '-c' and '-o' for the sake of the \"dashmstdout\"\n    # mode.  It turns out that the SunPro C++ compiler does not properly\n    # handle '-M -o', and we need to detect this.  Also, some Intel\n    # versions had trouble with output in subdirs.\n    am__obj=sub/conftest.${OBJEXT-o}\n    am__minus_obj=\"-o $am__obj\"\n    case $depmode in\n    gcc)\n      # This depmode causes a compiler race in universal mode.\n      test \"$am__universal\" = false || continue\n      ;;\n    nosideeffect)\n      # After this tag, mechanisms are not by side-effect, so they'll\n      # only be used when explicitly requested.\n      if test \"x$enable_dependency_tracking\" = xyes; then\n\tcontinue\n      else\n\tbreak\n      fi\n      ;;\n    msvc7 | msvc7msys | msvisualcpp | msvcmsys)\n      # This compiler won't grok '-c -o', but also, the minuso test has\n      # not run yet.  These depmodes are late enough in the game, and\n      # so weak that their functioning should not be impacted.\n      am__obj=conftest.${OBJEXT-o}\n      am__minus_obj=\n      ;;\n    none) break ;;\n    esac\n    if depmode=$depmode \\\n       source=sub/conftest.c object=$am__obj \\\n       depfile=sub/conftest.Po tmpdepfile=sub/conftest.TPo \\\n       $SHELL ./depcomp $depcc -c $am__minus_obj sub/conftest.c \\\n         >/dev/null 2>conftest.err &&\n       grep sub/conftst1.h sub/conftest.Po > /dev/null 2>&1 &&\n       grep sub/conftst6.h sub/conftest.Po > /dev/null 2>&1 &&\n       grep $am__obj sub/conftest.Po > /dev/null 2>&1 &&\n       ${MAKE-make} -s -f confmf > /dev/null 2>&1; then\n      # icc doesn't choke on unknown options, it will just issue warnings\n      # or remarks (even with -Werror).  So we grep stderr for any message\n      # that says an option was ignored or not supported.\n      # When given -MP, icc 7.0 and 7.1 complain thusly:\n      #   icc: Command line warning: ignoring option '-M'; no argument required\n      # The diagnosis changed in icc 8.0:\n      #   icc: Command line remark: option '-MP' not supported\n      if (grep 'ignoring option' conftest.err ||\n          grep 'not supported' conftest.err) >/dev/null 2>&1; then :; else\n        am_cv_$1_dependencies_compiler_type=$depmode\n        break\n      fi\n    fi\n  done\n\n  cd ..\n  rm -rf conftest.dir\nelse\n  am_cv_$1_dependencies_compiler_type=none\nfi\n])\nAC_SUBST([$1DEPMODE], [depmode=$am_cv_$1_dependencies_compiler_type])\nAM_CONDITIONAL([am__fastdep$1], [\n  test \"x$enable_dependency_tracking\" != xno \\\n  && test \"$am_cv_$1_dependencies_compiler_type\" = gcc3])\n])\n\n\n# AM_SET_DEPDIR\n# -------------\n# Choose a directory name for dependency files.\n# This macro is AC_REQUIREd in _AM_DEPENDENCIES.\nAC_DEFUN([AM_SET_DEPDIR],\n[AC_REQUIRE([AM_SET_LEADING_DOT])dnl\nAC_SUBST([DEPDIR], [\"${am__leading_dot}deps\"])dnl\n])\n\n\n# AM_DEP_TRACK\n# ------------\nAC_DEFUN([AM_DEP_TRACK],\n[AC_ARG_ENABLE([dependency-tracking], [dnl\nAS_HELP_STRING(\n  [--enable-dependency-tracking],\n  [do not reject slow dependency extractors])\nAS_HELP_STRING(\n  [--disable-dependency-tracking],\n  [speeds up one-time build])])\nif test \"x$enable_dependency_tracking\" != xno; then\n  am_depcomp=\"$ac_aux_dir/depcomp\"\n  AMDEPBACKSLASH='\\'\n  am__nodep='_no'\nfi\nAM_CONDITIONAL([AMDEP], [test \"x$enable_dependency_tracking\" != xno])\nAC_SUBST([AMDEPBACKSLASH])dnl\n_AM_SUBST_NOTMAKE([AMDEPBACKSLASH])dnl\nAC_SUBST([am__nodep])dnl\n_AM_SUBST_NOTMAKE([am__nodep])dnl\n])\n\n# Generate code to set up dependency tracking.              -*- Autoconf -*-\n\n# Copyright (C) 1999-2013 Free Software Foundation, Inc.\n#\n# This file is free software; the Free Software Foundation\n# gives unlimited permission to copy and/or distribute it,\n# with or without modifications, as long as this notice is preserved.\n\n\n# _AM_OUTPUT_DEPENDENCY_COMMANDS\n# ------------------------------\nAC_DEFUN([_AM_OUTPUT_DEPENDENCY_COMMANDS],\n[{\n  # Older Autoconf quotes --file arguments for eval, but not when files\n  # are listed without --file.  Let's play safe and only enable the eval\n  # if we detect the quoting.\n  case $CONFIG_FILES in\n  *\\'*) eval set x \"$CONFIG_FILES\" ;;\n  *)   set x $CONFIG_FILES ;;\n  esac\n  shift\n  for mf\n  do\n    # Strip MF so we end up with the name of the file.\n    mf=`echo \"$mf\" | sed -e 's/:.*$//'`\n    # Check whether this is an Automake generated Makefile or not.\n    # We used to match only the files named 'Makefile.in', but\n    # some people rename them; so instead we look at the file content.\n    # Grep'ing the first line is not enough: some people post-process\n    # each Makefile.in and add a new line on top of each file to say so.\n    # Grep'ing the whole file is not good either: AIX grep has a line\n    # limit of 2048, but all sed's we know have understand at least 4000.\n    if sed -n 's,^#.*generated by automake.*,X,p' \"$mf\" | grep X >/dev/null 2>&1; then\n      dirpart=`AS_DIRNAME(\"$mf\")`\n    else\n      continue\n    fi\n    # Extract the definition of DEPDIR, am__include, and am__quote\n    # from the Makefile without running 'make'.\n    DEPDIR=`sed -n 's/^DEPDIR = //p' < \"$mf\"`\n    test -z \"$DEPDIR\" && continue\n    am__include=`sed -n 's/^am__include = //p' < \"$mf\"`\n    test -z \"$am__include\" && continue\n    am__quote=`sed -n 's/^am__quote = //p' < \"$mf\"`\n    # Find all dependency output files, they are included files with\n    # $(DEPDIR) in their names.  We invoke sed twice because it is the\n    # simplest approach to changing $(DEPDIR) to its actual value in the\n    # expansion.\n    for file in `sed -n \"\n      s/^$am__include $am__quote\\(.*(DEPDIR).*\\)$am__quote\"'$/\\1/p' <\"$mf\" | \\\n\t sed -e 's/\\$(DEPDIR)/'\"$DEPDIR\"'/g'`; do\n      # Make sure the directory exists.\n      test -f \"$dirpart/$file\" && continue\n      fdir=`AS_DIRNAME([\"$file\"])`\n      AS_MKDIR_P([$dirpart/$fdir])\n      # echo \"creating $dirpart/$file\"\n      echo '# dummy' > \"$dirpart/$file\"\n    done\n  done\n}\n])# _AM_OUTPUT_DEPENDENCY_COMMANDS\n\n\n# AM_OUTPUT_DEPENDENCY_COMMANDS\n# -----------------------------\n# This macro should only be invoked once -- use via AC_REQUIRE.\n#\n# This code is only required when automatic dependency tracking\n# is enabled.  FIXME.  This creates each '.P' file that we will\n# need in order to bootstrap the dependency handling code.\nAC_DEFUN([AM_OUTPUT_DEPENDENCY_COMMANDS],\n[AC_CONFIG_COMMANDS([depfiles],\n     [test x\"$AMDEP_TRUE\" != x\"\" || _AM_OUTPUT_DEPENDENCY_COMMANDS],\n     [AMDEP_TRUE=\"$AMDEP_TRUE\" ac_aux_dir=\"$ac_aux_dir\"])\n])\n\n# Do all the work for Automake.                             -*- Autoconf -*-\n\n# Copyright (C) 1996-2013 Free Software Foundation, Inc.\n#\n# This file is free software; the Free Software Foundation\n# gives unlimited permission to copy and/or distribute it,\n# with or without modifications, as long as this notice is preserved.\n\n# This macro actually does too much.  Some checks are only needed if\n# your package does certain things.  But this isn't really a big deal.\n\n# AM_INIT_AUTOMAKE(PACKAGE, VERSION, [NO-DEFINE])\n# AM_INIT_AUTOMAKE([OPTIONS])\n# -----------------------------------------------\n# The call with PACKAGE and VERSION arguments is the old style\n# call (pre autoconf-2.50), which is being phased out.  PACKAGE\n# and VERSION should now be passed to AC_INIT and removed from\n# the call to AM_INIT_AUTOMAKE.\n# We support both call styles for the transition.  After\n# the next Automake release, Autoconf can make the AC_INIT\n# arguments mandatory, and then we can depend on a new Autoconf\n# release and drop the old call support.\nAC_DEFUN([AM_INIT_AUTOMAKE],\n[AC_PREREQ([2.65])dnl\ndnl Autoconf wants to disallow AM_ names.  We explicitly allow\ndnl the ones we care about.\nm4_pattern_allow([^AM_[A-Z]+FLAGS$])dnl\nAC_REQUIRE([AM_SET_CURRENT_AUTOMAKE_VERSION])dnl\nAC_REQUIRE([AC_PROG_INSTALL])dnl\nif test \"`cd $srcdir && pwd`\" != \"`pwd`\"; then\n  # Use -I$(srcdir) only when $(srcdir) != ., so that make's output\n  # is not polluted with repeated \"-I.\"\n  AC_SUBST([am__isrc], [' -I$(srcdir)'])_AM_SUBST_NOTMAKE([am__isrc])dnl\n  # test to see if srcdir already configured\n  if test -f $srcdir/config.status; then\n    AC_MSG_ERROR([source directory already configured; run \"make distclean\" there first])\n  fi\nfi\n\n# test whether we have cygpath\nif test -z \"$CYGPATH_W\"; then\n  if (cygpath --version) >/dev/null 2>/dev/null; then\n    CYGPATH_W='cygpath -w'\n  else\n    CYGPATH_W=echo\n  fi\nfi\nAC_SUBST([CYGPATH_W])\n\n# Define the identity of the package.\ndnl Distinguish between old-style and new-style calls.\nm4_ifval([$2],\n[AC_DIAGNOSE([obsolete],\n             [$0: two- and three-arguments forms are deprecated.])\nm4_ifval([$3], [_AM_SET_OPTION([no-define])])dnl\n AC_SUBST([PACKAGE], [$1])dnl\n AC_SUBST([VERSION], [$2])],\n[_AM_SET_OPTIONS([$1])dnl\ndnl Diagnose old-style AC_INIT with new-style AM_AUTOMAKE_INIT.\nm4_if(\n  m4_ifdef([AC_PACKAGE_NAME], [ok]):m4_ifdef([AC_PACKAGE_VERSION], [ok]),\n  [ok:ok],,\n  [m4_fatal([AC_INIT should be called with package and version arguments])])dnl\n AC_SUBST([PACKAGE], ['AC_PACKAGE_TARNAME'])dnl\n AC_SUBST([VERSION], ['AC_PACKAGE_VERSION'])])dnl\n\n_AM_IF_OPTION([no-define],,\n[AC_DEFINE_UNQUOTED([PACKAGE], [\"$PACKAGE\"], [Name of package])\n AC_DEFINE_UNQUOTED([VERSION], [\"$VERSION\"], [Version number of package])])dnl\n\n# Some tools Automake needs.\nAC_REQUIRE([AM_SANITY_CHECK])dnl\nAC_REQUIRE([AC_ARG_PROGRAM])dnl\nAM_MISSING_PROG([ACLOCAL], [aclocal-${am__api_version}])\nAM_MISSING_PROG([AUTOCONF], [autoconf])\nAM_MISSING_PROG([AUTOMAKE], [automake-${am__api_version}])\nAM_MISSING_PROG([AUTOHEADER], [autoheader])\nAM_MISSING_PROG([MAKEINFO], [makeinfo])\nAC_REQUIRE([AM_PROG_INSTALL_SH])dnl\nAC_REQUIRE([AM_PROG_INSTALL_STRIP])dnl\nAC_REQUIRE([AC_PROG_MKDIR_P])dnl\n# For better backward compatibility.  To be removed once Automake 1.9.x\n# dies out for good.  For more background, see:\n# <http://lists.gnu.org/archive/html/automake/2012-07/msg00001.html>\n# <http://lists.gnu.org/archive/html/automake/2012-07/msg00014.html>\nAC_SUBST([mkdir_p], ['$(MKDIR_P)'])\n# We need awk for the \"check\" target.  The system \"awk\" is bad on\n# some platforms.\nAC_REQUIRE([AC_PROG_AWK])dnl\nAC_REQUIRE([AC_PROG_MAKE_SET])dnl\nAC_REQUIRE([AM_SET_LEADING_DOT])dnl\n_AM_IF_OPTION([tar-ustar], [_AM_PROG_TAR([ustar])],\n\t      [_AM_IF_OPTION([tar-pax], [_AM_PROG_TAR([pax])],\n\t\t\t     [_AM_PROG_TAR([v7])])])\n_AM_IF_OPTION([no-dependencies],,\n[AC_PROVIDE_IFELSE([AC_PROG_CC],\n\t\t  [_AM_DEPENDENCIES([CC])],\n\t\t  [m4_define([AC_PROG_CC],\n\t\t\t     m4_defn([AC_PROG_CC])[_AM_DEPENDENCIES([CC])])])dnl\nAC_PROVIDE_IFELSE([AC_PROG_CXX],\n\t\t  [_AM_DEPENDENCIES([CXX])],\n\t\t  [m4_define([AC_PROG_CXX],\n\t\t\t     m4_defn([AC_PROG_CXX])[_AM_DEPENDENCIES([CXX])])])dnl\nAC_PROVIDE_IFELSE([AC_PROG_OBJC],\n\t\t  [_AM_DEPENDENCIES([OBJC])],\n\t\t  [m4_define([AC_PROG_OBJC],\n\t\t\t     m4_defn([AC_PROG_OBJC])[_AM_DEPENDENCIES([OBJC])])])dnl\nAC_PROVIDE_IFELSE([AC_PROG_OBJCXX],\n\t\t  [_AM_DEPENDENCIES([OBJCXX])],\n\t\t  [m4_define([AC_PROG_OBJCXX],\n\t\t\t     m4_defn([AC_PROG_OBJCXX])[_AM_DEPENDENCIES([OBJCXX])])])dnl\n])\nAC_REQUIRE([AM_SILENT_RULES])dnl\ndnl The testsuite driver may need to know about EXEEXT, so add the\ndnl 'am__EXEEXT' conditional if _AM_COMPILER_EXEEXT was seen.  This\ndnl macro is hooked onto _AC_COMPILER_EXEEXT early, see below.\nAC_CONFIG_COMMANDS_PRE(dnl\n[m4_provide_if([_AM_COMPILER_EXEEXT],\n  [AM_CONDITIONAL([am__EXEEXT], [test -n \"$EXEEXT\"])])])dnl\n])\n\ndnl Hook into '_AC_COMPILER_EXEEXT' early to learn its expansion.  Do not\ndnl add the conditional right here, as _AC_COMPILER_EXEEXT may be further\ndnl mangled by Autoconf and run in a shell conditional statement.\nm4_define([_AC_COMPILER_EXEEXT],\nm4_defn([_AC_COMPILER_EXEEXT])[m4_provide([_AM_COMPILER_EXEEXT])])\n\n\n# When config.status generates a header, we must update the stamp-h file.\n# This file resides in the same directory as the config header\n# that is generated.  The stamp files are numbered to have different names.\n\n# Autoconf calls _AC_AM_CONFIG_HEADER_HOOK (when defined) in the\n# loop where config.status creates the headers, so we can generate\n# our stamp files there.\nAC_DEFUN([_AC_AM_CONFIG_HEADER_HOOK],\n[# Compute $1's index in $config_headers.\n_am_arg=$1\n_am_stamp_count=1\nfor _am_header in $config_headers :; do\n  case $_am_header in\n    $_am_arg | $_am_arg:* )\n      break ;;\n    * )\n      _am_stamp_count=`expr $_am_stamp_count + 1` ;;\n  esac\ndone\necho \"timestamp for $_am_arg\" >`AS_DIRNAME([\"$_am_arg\"])`/stamp-h[]$_am_stamp_count])\n\n# Copyright (C) 2001-2013 Free Software Foundation, Inc.\n#\n# This file is free software; the Free Software Foundation\n# gives unlimited permission to copy and/or distribute it,\n# with or without modifications, as long as this notice is preserved.\n\n# AM_PROG_INSTALL_SH\n# ------------------\n# Define $install_sh.\nAC_DEFUN([AM_PROG_INSTALL_SH],\n[AC_REQUIRE([AM_AUX_DIR_EXPAND])dnl\nif test x\"${install_sh}\" != xset; then\n  case $am_aux_dir in\n  *\\ * | *\\\t*)\n    install_sh=\"\\${SHELL} '$am_aux_dir/install-sh'\" ;;\n  *)\n    install_sh=\"\\${SHELL} $am_aux_dir/install-sh\"\n  esac\nfi\nAC_SUBST([install_sh])])\n\n# Copyright (C) 2003-2013 Free Software Foundation, Inc.\n#\n# This file is free software; the Free Software Foundation\n# gives unlimited permission to copy and/or distribute it,\n# with or without modifications, as long as this notice is preserved.\n\n# Check whether the underlying file-system supports filenames\n# with a leading dot.  For instance MS-DOS doesn't.\nAC_DEFUN([AM_SET_LEADING_DOT],\n[rm -rf .tst 2>/dev/null\nmkdir .tst 2>/dev/null\nif test -d .tst; then\n  am__leading_dot=.\nelse\n  am__leading_dot=_\nfi\nrmdir .tst 2>/dev/null\nAC_SUBST([am__leading_dot])])\n\n# Add --enable-maintainer-mode option to configure.         -*- Autoconf -*-\n# From Jim Meyering\n\n# Copyright (C) 1996-2013 Free Software Foundation, Inc.\n#\n# This file is free software; the Free Software Foundation\n# gives unlimited permission to copy and/or distribute it,\n# with or without modifications, as long as this notice is preserved.\n\n# AM_MAINTAINER_MODE([DEFAULT-MODE])\n# ----------------------------------\n# Control maintainer-specific portions of Makefiles.\n# Default is to disable them, unless 'enable' is passed literally.\n# For symmetry, 'disable' may be passed as well.  Anyway, the user\n# can override the default with the --enable/--disable switch.\nAC_DEFUN([AM_MAINTAINER_MODE],\n[m4_case(m4_default([$1], [disable]),\n       [enable], [m4_define([am_maintainer_other], [disable])],\n       [disable], [m4_define([am_maintainer_other], [enable])],\n       [m4_define([am_maintainer_other], [enable])\n        m4_warn([syntax], [unexpected argument to AM@&t@_MAINTAINER_MODE: $1])])\nAC_MSG_CHECKING([whether to enable maintainer-specific portions of Makefiles])\n  dnl maintainer-mode's default is 'disable' unless 'enable' is passed\n  AC_ARG_ENABLE([maintainer-mode],\n    [AS_HELP_STRING([--]am_maintainer_other[-maintainer-mode],\n      am_maintainer_other[ make rules and dependencies not useful\n      (and sometimes confusing) to the casual installer])],\n    [USE_MAINTAINER_MODE=$enableval],\n    [USE_MAINTAINER_MODE=]m4_if(am_maintainer_other, [enable], [no], [yes]))\n  AC_MSG_RESULT([$USE_MAINTAINER_MODE])\n  AM_CONDITIONAL([MAINTAINER_MODE], [test $USE_MAINTAINER_MODE = yes])\n  MAINT=$MAINTAINER_MODE_TRUE\n  AC_SUBST([MAINT])dnl\n]\n)\n\n# Check to see how 'make' treats includes.\t            -*- Autoconf -*-\n\n# Copyright (C) 2001-2013 Free Software Foundation, Inc.\n#\n# This file is free software; the Free Software Foundation\n# gives unlimited permission to copy and/or distribute it,\n# with or without modifications, as long as this notice is preserved.\n\n# AM_MAKE_INCLUDE()\n# -----------------\n# Check to see how make treats includes.\nAC_DEFUN([AM_MAKE_INCLUDE],\n[am_make=${MAKE-make}\ncat > confinc << 'END'\nam__doit:\n\t@echo this is the am__doit target\n.PHONY: am__doit\nEND\n# If we don't find an include directive, just comment out the code.\nAC_MSG_CHECKING([for style of include used by $am_make])\nam__include=\"#\"\nam__quote=\n_am_result=none\n# First try GNU make style include.\necho \"include confinc\" > confmf\n# Ignore all kinds of additional output from 'make'.\ncase `$am_make -s -f confmf 2> /dev/null` in #(\n*the\\ am__doit\\ target*)\n  am__include=include\n  am__quote=\n  _am_result=GNU\n  ;;\nesac\n# Now try BSD make style include.\nif test \"$am__include\" = \"#\"; then\n   echo '.include \"confinc\"' > confmf\n   case `$am_make -s -f confmf 2> /dev/null` in #(\n   *the\\ am__doit\\ target*)\n     am__include=.include\n     am__quote=\"\\\"\"\n     _am_result=BSD\n     ;;\n   esac\nfi\nAC_SUBST([am__include])\nAC_SUBST([am__quote])\nAC_MSG_RESULT([$_am_result])\nrm -f confinc confmf\n])\n\n# Fake the existence of programs that GNU maintainers use.  -*- Autoconf -*-\n\n# Copyright (C) 1997-2013 Free Software Foundation, Inc.\n#\n# This file is free software; the Free Software Foundation\n# gives unlimited permission to copy and/or distribute it,\n# with or without modifications, as long as this notice is preserved.\n\n# AM_MISSING_PROG(NAME, PROGRAM)\n# ------------------------------\nAC_DEFUN([AM_MISSING_PROG],\n[AC_REQUIRE([AM_MISSING_HAS_RUN])\n$1=${$1-\"${am_missing_run}$2\"}\nAC_SUBST($1)])\n\n# AM_MISSING_HAS_RUN\n# ------------------\n# Define MISSING if not defined so far and test if it is modern enough.\n# If it is, set am_missing_run to use it, otherwise, to nothing.\nAC_DEFUN([AM_MISSING_HAS_RUN],\n[AC_REQUIRE([AM_AUX_DIR_EXPAND])dnl\nAC_REQUIRE_AUX_FILE([missing])dnl\nif test x\"${MISSING+set}\" != xset; then\n  case $am_aux_dir in\n  *\\ * | *\\\t*)\n    MISSING=\"\\${SHELL} \\\"$am_aux_dir/missing\\\"\" ;;\n  *)\n    MISSING=\"\\${SHELL} $am_aux_dir/missing\" ;;\n  esac\nfi\n# Use eval to expand $SHELL\nif eval \"$MISSING --is-lightweight\"; then\n  am_missing_run=\"$MISSING \"\nelse\n  am_missing_run=\n  AC_MSG_WARN(['missing' script is too old or missing])\nfi\n])\n\n# Helper functions for option handling.                     -*- Autoconf -*-\n\n# Copyright (C) 2001-2013 Free Software Foundation, Inc.\n#\n# This file is free software; the Free Software Foundation\n# gives unlimited permission to copy and/or distribute it,\n# with or without modifications, as long as this notice is preserved.\n\n# _AM_MANGLE_OPTION(NAME)\n# -----------------------\nAC_DEFUN([_AM_MANGLE_OPTION],\n[[_AM_OPTION_]m4_bpatsubst($1, [[^a-zA-Z0-9_]], [_])])\n\n# _AM_SET_OPTION(NAME)\n# --------------------\n# Set option NAME.  Presently that only means defining a flag for this option.\nAC_DEFUN([_AM_SET_OPTION],\n[m4_define(_AM_MANGLE_OPTION([$1]), [1])])\n\n# _AM_SET_OPTIONS(OPTIONS)\n# ------------------------\n# OPTIONS is a space-separated list of Automake options.\nAC_DEFUN([_AM_SET_OPTIONS],\n[m4_foreach_w([_AM_Option], [$1], [_AM_SET_OPTION(_AM_Option)])])\n\n# _AM_IF_OPTION(OPTION, IF-SET, [IF-NOT-SET])\n# -------------------------------------------\n# Execute IF-SET if OPTION is set, IF-NOT-SET otherwise.\nAC_DEFUN([_AM_IF_OPTION],\n[m4_ifset(_AM_MANGLE_OPTION([$1]), [$2], [$3])])\n\n# Check to make sure that the build environment is sane.    -*- Autoconf -*-\n\n# Copyright (C) 1996-2013 Free Software Foundation, Inc.\n#\n# This file is free software; the Free Software Foundation\n# gives unlimited permission to copy and/or distribute it,\n# with or without modifications, as long as this notice is preserved.\n\n# AM_SANITY_CHECK\n# ---------------\nAC_DEFUN([AM_SANITY_CHECK],\n[AC_MSG_CHECKING([whether build environment is sane])\n# Reject unsafe characters in $srcdir or the absolute working directory\n# name.  Accept space and tab only in the latter.\nam_lf='\n'\ncase `pwd` in\n  *[[\\\\\\\"\\#\\$\\&\\'\\`$am_lf]]*)\n    AC_MSG_ERROR([unsafe absolute working directory name]);;\nesac\ncase $srcdir in\n  *[[\\\\\\\"\\#\\$\\&\\'\\`$am_lf\\ \\\t]]*)\n    AC_MSG_ERROR([unsafe srcdir value: '$srcdir']);;\nesac\n\n# Do 'set' in a subshell so we don't clobber the current shell's\n# arguments.  Must try -L first in case configure is actually a\n# symlink; some systems play weird games with the mod time of symlinks\n# (eg FreeBSD returns the mod time of the symlink's containing\n# directory).\nif (\n   am_has_slept=no\n   for am_try in 1 2; do\n     echo \"timestamp, slept: $am_has_slept\" > conftest.file\n     set X `ls -Lt \"$srcdir/configure\" conftest.file 2> /dev/null`\n     if test \"$[*]\" = \"X\"; then\n\t# -L didn't work.\n\tset X `ls -t \"$srcdir/configure\" conftest.file`\n     fi\n     if test \"$[*]\" != \"X $srcdir/configure conftest.file\" \\\n\t&& test \"$[*]\" != \"X conftest.file $srcdir/configure\"; then\n\n\t# If neither matched, then we have a broken ls.  This can happen\n\t# if, for instance, CONFIG_SHELL is bash and it inherits a\n\t# broken ls alias from the environment.  This has actually\n\t# happened.  Such a system could not be considered \"sane\".\n\tAC_MSG_ERROR([ls -t appears to fail.  Make sure there is not a broken\n  alias in your environment])\n     fi\n     if test \"$[2]\" = conftest.file || test $am_try -eq 2; then\n       break\n     fi\n     # Just in case.\n     sleep 1\n     am_has_slept=yes\n   done\n   test \"$[2]\" = conftest.file\n   )\nthen\n   # Ok.\n   :\nelse\n   AC_MSG_ERROR([newly created file is older than distributed files!\nCheck your system clock])\nfi\nAC_MSG_RESULT([yes])\n# If we didn't sleep, we still need to ensure time stamps of config.status and\n# generated files are strictly newer.\nam_sleep_pid=\nif grep 'slept: no' conftest.file >/dev/null 2>&1; then\n  ( sleep 1 ) &\n  am_sleep_pid=$!\nfi\nAC_CONFIG_COMMANDS_PRE(\n  [AC_MSG_CHECKING([that generated files are newer than configure])\n   if test -n \"$am_sleep_pid\"; then\n     # Hide warnings about reused PIDs.\n     wait $am_sleep_pid 2>/dev/null\n   fi\n   AC_MSG_RESULT([done])])\nrm -f conftest.file\n])\n\n# Copyright (C) 2009-2013 Free Software Foundation, Inc.\n#\n# This file is free software; the Free Software Foundation\n# gives unlimited permission to copy and/or distribute it,\n# with or without modifications, as long as this notice is preserved.\n\n# AM_SILENT_RULES([DEFAULT])\n# --------------------------\n# Enable less verbose build rules; with the default set to DEFAULT\n# (\"yes\" being less verbose, \"no\" or empty being verbose).\nAC_DEFUN([AM_SILENT_RULES],\n[AC_ARG_ENABLE([silent-rules], [dnl\nAS_HELP_STRING(\n  [--enable-silent-rules],\n  [less verbose build output (undo: \"make V=1\")])\nAS_HELP_STRING(\n  [--disable-silent-rules],\n  [verbose build output (undo: \"make V=0\")])dnl\n])\ncase $enable_silent_rules in @%:@ (((\n  yes) AM_DEFAULT_VERBOSITY=0;;\n   no) AM_DEFAULT_VERBOSITY=1;;\n    *) AM_DEFAULT_VERBOSITY=m4_if([$1], [yes], [0], [1]);;\nesac\ndnl\ndnl A few 'make' implementations (e.g., NonStop OS and NextStep)\ndnl do not support nested variable expansions.\ndnl See automake bug#9928 and bug#10237.\nam_make=${MAKE-make}\nAC_CACHE_CHECK([whether $am_make supports nested variables],\n   [am_cv_make_support_nested_variables],\n   [if AS_ECHO([['TRUE=$(BAR$(V))\nBAR0=false\nBAR1=true\nV=1\nam__doit:\n\t@$(TRUE)\n.PHONY: am__doit']]) | $am_make -f - >/dev/null 2>&1; then\n  am_cv_make_support_nested_variables=yes\nelse\n  am_cv_make_support_nested_variables=no\nfi])\nif test $am_cv_make_support_nested_variables = yes; then\n  dnl Using '$V' instead of '$(V)' breaks IRIX make.\n  AM_V='$(V)'\n  AM_DEFAULT_V='$(AM_DEFAULT_VERBOSITY)'\nelse\n  AM_V=$AM_DEFAULT_VERBOSITY\n  AM_DEFAULT_V=$AM_DEFAULT_VERBOSITY\nfi\nAC_SUBST([AM_V])dnl\nAM_SUBST_NOTMAKE([AM_V])dnl\nAC_SUBST([AM_DEFAULT_V])dnl\nAM_SUBST_NOTMAKE([AM_DEFAULT_V])dnl\nAC_SUBST([AM_DEFAULT_VERBOSITY])dnl\nAM_BACKSLASH='\\'\nAC_SUBST([AM_BACKSLASH])dnl\n_AM_SUBST_NOTMAKE([AM_BACKSLASH])dnl\n])\n\n# Copyright (C) 2001-2013 Free Software Foundation, Inc.\n#\n# This file is free software; the Free Software Foundation\n# gives unlimited permission to copy and/or distribute it,\n# with or without modifications, as long as this notice is preserved.\n\n# AM_PROG_INSTALL_STRIP\n# ---------------------\n# One issue with vendor 'install' (even GNU) is that you can't\n# specify the program used to strip binaries.  This is especially\n# annoying in cross-compiling environments, where the build's strip\n# is unlikely to handle the host's binaries.\n# Fortunately install-sh will honor a STRIPPROG variable, so we\n# always use install-sh in \"make install-strip\", and initialize\n# STRIPPROG with the value of the STRIP variable (set by the user).\nAC_DEFUN([AM_PROG_INSTALL_STRIP],\n[AC_REQUIRE([AM_PROG_INSTALL_SH])dnl\n# Installed binaries are usually stripped using 'strip' when the user\n# run \"make install-strip\".  However 'strip' might not be the right\n# tool to use in cross-compilation environments, therefore Automake\n# will honor the 'STRIP' environment variable to overrule this program.\ndnl Don't test for $cross_compiling = yes, because it might be 'maybe'.\nif test \"$cross_compiling\" != no; then\n  AC_CHECK_TOOL([STRIP], [strip], :)\nfi\nINSTALL_STRIP_PROGRAM=\"\\$(install_sh) -c -s\"\nAC_SUBST([INSTALL_STRIP_PROGRAM])])\n\n# Copyright (C) 2006-2013 Free Software Foundation, Inc.\n#\n# This file is free software; the Free Software Foundation\n# gives unlimited permission to copy and/or distribute it,\n# with or without modifications, as long as this notice is preserved.\n\n# _AM_SUBST_NOTMAKE(VARIABLE)\n# ---------------------------\n# Prevent Automake from outputting VARIABLE = @VARIABLE@ in Makefile.in.\n# This macro is traced by Automake.\nAC_DEFUN([_AM_SUBST_NOTMAKE])\n\n# AM_SUBST_NOTMAKE(VARIABLE)\n# --------------------------\n# Public sister of _AM_SUBST_NOTMAKE.\nAC_DEFUN([AM_SUBST_NOTMAKE], [_AM_SUBST_NOTMAKE($@)])\n\n# Check how to create a tarball.                            -*- Autoconf -*-\n\n# Copyright (C) 2004-2013 Free Software Foundation, Inc.\n#\n# This file is free software; the Free Software Foundation\n# gives unlimited permission to copy and/or distribute it,\n# with or without modifications, as long as this notice is preserved.\n\n# _AM_PROG_TAR(FORMAT)\n# --------------------\n# Check how to create a tarball in format FORMAT.\n# FORMAT should be one of 'v7', 'ustar', or 'pax'.\n#\n# Substitute a variable $(am__tar) that is a command\n# writing to stdout a FORMAT-tarball containing the directory\n# $tardir.\n#     tardir=directory && $(am__tar) > result.tar\n#\n# Substitute a variable $(am__untar) that extract such\n# a tarball read from stdin.\n#     $(am__untar) < result.tar\n#\nAC_DEFUN([_AM_PROG_TAR],\n[# Always define AMTAR for backward compatibility.  Yes, it's still used\n# in the wild :-(  We should find a proper way to deprecate it ...\nAC_SUBST([AMTAR], ['$${TAR-tar}'])\n\n# We'll loop over all known methods to create a tar archive until one works.\n_am_tools='gnutar m4_if([$1], [ustar], [plaintar]) pax cpio none'\n\nm4_if([$1], [v7],\n  [am__tar='$${TAR-tar} chof - \"$$tardir\"' am__untar='$${TAR-tar} xf -'],\n\n  [m4_case([$1],\n    [ustar],\n     [# The POSIX 1988 'ustar' format is defined with fixed-size fields.\n      # There is notably a 21 bits limit for the UID and the GID.  In fact,\n      # the 'pax' utility can hang on bigger UID/GID (see automake bug#8343\n      # and bug#13588).\n      am_max_uid=2097151 # 2^21 - 1\n      am_max_gid=$am_max_uid\n      # The $UID and $GID variables are not portable, so we need to resort\n      # to the POSIX-mandated id(1) utility.  Errors in the 'id' calls\n      # below are definitely unexpected, so allow the users to see them\n      # (that is, avoid stderr redirection).\n      am_uid=`id -u || echo unknown`\n      am_gid=`id -g || echo unknown`\n      AC_MSG_CHECKING([whether UID '$am_uid' is supported by ustar format])\n      if test $am_uid -le $am_max_uid; then\n         AC_MSG_RESULT([yes])\n      else\n         AC_MSG_RESULT([no])\n         _am_tools=none\n      fi\n      AC_MSG_CHECKING([whether GID '$am_gid' is supported by ustar format])\n      if test $am_gid -le $am_max_gid; then\n         AC_MSG_RESULT([yes])\n      else\n        AC_MSG_RESULT([no])\n        _am_tools=none\n      fi],\n\n  [pax],\n    [],\n\n  [m4_fatal([Unknown tar format])])\n\n  AC_MSG_CHECKING([how to create a $1 tar archive])\n\n  # Go ahead even if we have the value already cached.  We do so because we\n  # need to set the values for the 'am__tar' and 'am__untar' variables.\n  _am_tools=${am_cv_prog_tar_$1-$_am_tools}\n\n  for _am_tool in $_am_tools; do\n    case $_am_tool in\n    gnutar)\n      for _am_tar in tar gnutar gtar; do\n        AM_RUN_LOG([$_am_tar --version]) && break\n      done\n      am__tar=\"$_am_tar --format=m4_if([$1], [pax], [posix], [$1]) -chf - \"'\"$$tardir\"'\n      am__tar_=\"$_am_tar --format=m4_if([$1], [pax], [posix], [$1]) -chf - \"'\"$tardir\"'\n      am__untar=\"$_am_tar -xf -\"\n      ;;\n    plaintar)\n      # Must skip GNU tar: if it does not support --format= it doesn't create\n      # ustar tarball either.\n      (tar --version) >/dev/null 2>&1 && continue\n      am__tar='tar chf - \"$$tardir\"'\n      am__tar_='tar chf - \"$tardir\"'\n      am__untar='tar xf -'\n      ;;\n    pax)\n      am__tar='pax -L -x $1 -w \"$$tardir\"'\n      am__tar_='pax -L -x $1 -w \"$tardir\"'\n      am__untar='pax -r'\n      ;;\n    cpio)\n      am__tar='find \"$$tardir\" -print | cpio -o -H $1 -L'\n      am__tar_='find \"$tardir\" -print | cpio -o -H $1 -L'\n      am__untar='cpio -i -H $1 -d'\n      ;;\n    none)\n      am__tar=false\n      am__tar_=false\n      am__untar=false\n      ;;\n    esac\n\n    # If the value was cached, stop now.  We just wanted to have am__tar\n    # and am__untar set.\n    test -n \"${am_cv_prog_tar_$1}\" && break\n\n    # tar/untar a dummy directory, and stop if the command works.\n    rm -rf conftest.dir\n    mkdir conftest.dir\n    echo GrepMe > conftest.dir/file\n    AM_RUN_LOG([tardir=conftest.dir && eval $am__tar_ >conftest.tar])\n    rm -rf conftest.dir\n    if test -s conftest.tar; then\n      AM_RUN_LOG([$am__untar <conftest.tar])\n      AM_RUN_LOG([cat conftest.dir/file])\n      grep GrepMe conftest.dir/file >/dev/null 2>&1 && break\n    fi\n  done\n  rm -rf conftest.dir\n\n  AC_CACHE_VAL([am_cv_prog_tar_$1], [am_cv_prog_tar_$1=$_am_tool])\n  AC_MSG_RESULT([$am_cv_prog_tar_$1])])\n\nAC_SUBST([am__tar])\nAC_SUBST([am__untar])\n]) # _AM_PROG_TAR\n\n# iconv.m4 serial AM4 (gettext-0.11.3)\ndnl Copyright (C) 2000-2002 Free Software Foundation, Inc.\ndnl This file is free software; the Free Software Foundation\ndnl gives unlimited permission to copy and/or distribute it,\ndnl with or without modifications, as long as this notice is preserved.\n\ndnl From Bruno Haible.\n\nAC_DEFUN([AM_ICONV_LINKFLAGS_BODY],\n[\n  dnl Prerequisites of AC_LIB_LINKFLAGS_BODY.\n  AC_REQUIRE([AC_LIB_PREPARE_PREFIX])\n  AC_REQUIRE([AC_LIB_RPATH])\n\n  dnl Search for libiconv and define LIBICONV, LTLIBICONV and INCICONV\n  dnl accordingly.\n  AC_LIB_LINKFLAGS_BODY([iconv])\n])\n\nAC_DEFUN([AM_ICONV_LINK],\n[\n  dnl Some systems have iconv in libc, some have it in libiconv (OSF/1 and\n  dnl those with the standalone portable GNU libiconv installed).\n\n  dnl Search for libiconv and define LIBICONV, LTLIBICONV and INCICONV\n  dnl accordingly.\n  AC_REQUIRE([AM_ICONV_LINKFLAGS_BODY])\n\n  dnl Add $INCICONV to CPPFLAGS before performing the following checks,\n  dnl because if the user has installed libiconv and not disabled its use\n  dnl via --without-libiconv-prefix, he wants to use it. The first\n  dnl AC_TRY_LINK will then fail, the second AC_TRY_LINK will succeed.\n  am_save_CPPFLAGS=\"$CPPFLAGS\"\n  AC_LIB_APPENDTOVAR([CPPFLAGS], [$INCICONV])\n\n  AC_CACHE_CHECK(for iconv, am_cv_func_iconv, [\n    am_cv_func_iconv=\"no, consider installing GNU libiconv\"\n    am_cv_lib_iconv=no\n    AC_TRY_LINK([#include <stdlib.h>\n#include <iconv.h>],\n      [iconv_t cd = iconv_open(\"\",\"\");\n       iconv(cd,NULL,NULL,NULL,NULL);\n       iconv_close(cd);],\n      am_cv_func_iconv=yes)\n    if test \"$am_cv_func_iconv\" != yes; then\n      am_save_LIBS=\"$LIBS\"\n      LIBS=\"$LIBS $LIBICONV\"\n      AC_TRY_LINK([#include <stdlib.h>\n#include <iconv.h>],\n        [iconv_t cd = iconv_open(\"\",\"\");\n         iconv(cd,NULL,NULL,NULL,NULL);\n         iconv_close(cd);],\n        am_cv_lib_iconv=yes\n        am_cv_func_iconv=yes)\n      LIBS=\"$am_save_LIBS\"\n    fi\n  ])\n  if test \"$am_cv_func_iconv\" = yes; then\n    AC_DEFINE(HAVE_ICONV, 1, [Define if you have the iconv() function.])\n  fi\n  if test \"$am_cv_lib_iconv\" = yes; then\n    AC_MSG_CHECKING([how to link with libiconv])\n    AC_MSG_RESULT([$LIBICONV])\n  else\n    dnl If $LIBICONV didn't lead to a usable library, we don't need $INCICONV\n    dnl either.\n    CPPFLAGS=\"$am_save_CPPFLAGS\"\n    LIBICONV=\n    LTLIBICONV=\n  fi\n  AC_SUBST(LIBICONV)\n  AC_SUBST(LTLIBICONV)\n])\n\nAC_DEFUN([AM_ICONV],\n[\n  AM_ICONV_LINK\n  if test \"$am_cv_func_iconv\" = yes; then\n    AC_MSG_CHECKING([for iconv declaration])\n    AC_CACHE_VAL(am_cv_proto_iconv, [\n      AC_TRY_COMPILE([\n#include <stdlib.h>\n#include <iconv.h>\nextern\n#ifdef __cplusplus\n\"C\"\n#endif\n#if defined(__STDC__) || defined(__cplusplus)\nsize_t iconv (iconv_t cd, char * *inbuf, size_t *inbytesleft, char * *outbuf, size_t *outbytesleft);\n#else\nsize_t iconv();\n#endif\n], [], am_cv_proto_iconv_arg1=\"\", am_cv_proto_iconv_arg1=\"const\")\n      am_cv_proto_iconv=\"extern size_t iconv (iconv_t cd, $am_cv_proto_iconv_arg1 char * *inbuf, size_t *inbytesleft, char * *outbuf, size_t *outbytesleft);\"])\n    am_cv_proto_iconv=`echo \"[$]am_cv_proto_iconv\" | tr -s ' ' | sed -e 's/( /(/'`\n    AC_MSG_RESULT([$]{ac_t:-\n         }[$]am_cv_proto_iconv)\n    AC_DEFINE_UNQUOTED(ICONV_CONST, $am_cv_proto_iconv_arg1,\n      [Define as const if the declaration of iconv() needs const.])\n  fi\n])\n\n# lib-ld.m4 serial 3 (gettext-0.13)\ndnl Copyright (C) 1996-2003 Free Software Foundation, Inc.\ndnl This file is free software; the Free Software Foundation\ndnl gives unlimited permission to copy and/or distribute it,\ndnl with or without modifications, as long as this notice is preserved.\n\ndnl Subroutines of libtool.m4,\ndnl with replacements s/AC_/AC_LIB/ and s/lt_cv/acl_cv/ to avoid collision\ndnl with libtool.m4.\n\ndnl From libtool-1.4. Sets the variable with_gnu_ld to yes or no.\nAC_DEFUN([AC_LIB_PROG_LD_GNU],\n[AC_CACHE_CHECK([if the linker ($LD) is GNU ld], acl_cv_prog_gnu_ld,\n[# I'd rather use --version here, but apparently some GNU ld's only accept -v.\ncase `$LD -v 2>&1 </dev/null` in\n*GNU* | *'with BFD'*)\n  acl_cv_prog_gnu_ld=yes ;;\n*)\n  acl_cv_prog_gnu_ld=no ;;\nesac])\nwith_gnu_ld=$acl_cv_prog_gnu_ld\n])\n\ndnl From libtool-1.4. Sets the variable LD.\nAC_DEFUN([AC_LIB_PROG_LD],\n[AC_ARG_WITH(gnu-ld,\n[  --with-gnu-ld           assume the C compiler uses GNU ld [default=no]],\ntest \"$withval\" = no || with_gnu_ld=yes, with_gnu_ld=no)\nAC_REQUIRE([AC_PROG_CC])dnl\nAC_REQUIRE([AC_CANONICAL_HOST])dnl\n# Prepare PATH_SEPARATOR.\n# The user is always right.\nif test \"${PATH_SEPARATOR+set}\" != set; then\n  echo \"#! /bin/sh\" >conf$$.sh\n  echo  \"exit 0\"   >>conf$$.sh\n  chmod +x conf$$.sh\n  if (PATH=\"/nonexistent;.\"; conf$$.sh) >/dev/null 2>&1; then\n    PATH_SEPARATOR=';'\n  else\n    PATH_SEPARATOR=:\n  fi\n  rm -f conf$$.sh\nfi\nac_prog=ld\nif test \"$GCC\" = yes; then\n  # Check if gcc -print-prog-name=ld gives a path.\n  AC_MSG_CHECKING([for ld used by GCC])\n  case $host in\n  *-*-mingw*)\n    # gcc leaves a trailing carriage return which upsets mingw\n    ac_prog=`($CC -print-prog-name=ld) 2>&5 | tr -d '\\015'` ;;\n  *)\n    ac_prog=`($CC -print-prog-name=ld) 2>&5` ;;\n  esac\n  case $ac_prog in\n    # Accept absolute paths.\n    [[\\\\/]* | [A-Za-z]:[\\\\/]*)]\n      [re_direlt='/[^/][^/]*/\\.\\./']\n      # Canonicalize the path of ld\n      ac_prog=`echo $ac_prog| sed 's%\\\\\\\\%/%g'`\n      while echo $ac_prog | grep \"$re_direlt\" > /dev/null 2>&1; do\n\tac_prog=`echo $ac_prog| sed \"s%$re_direlt%/%\"`\n      done\n      test -z \"$LD\" && LD=\"$ac_prog\"\n      ;;\n  \"\")\n    # If it fails, then pretend we aren't using GCC.\n    ac_prog=ld\n    ;;\n  *)\n    # If it is relative, then search for the first ld in PATH.\n    with_gnu_ld=unknown\n    ;;\n  esac\nelif test \"$with_gnu_ld\" = yes; then\n  AC_MSG_CHECKING([for GNU ld])\nelse\n  AC_MSG_CHECKING([for non-GNU ld])\nfi\nAC_CACHE_VAL(acl_cv_path_LD,\n[if test -z \"$LD\"; then\n  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\"${IFS}${PATH_SEPARATOR-:}\"\n  for ac_dir in $PATH; do\n    test -z \"$ac_dir\" && ac_dir=.\n    if test -f \"$ac_dir/$ac_prog\" || test -f \"$ac_dir/$ac_prog$ac_exeext\"; then\n      acl_cv_path_LD=\"$ac_dir/$ac_prog\"\n      # Check to see if the program is GNU ld.  I'd rather use --version,\n      # but apparently some GNU ld's only accept -v.\n      # Break only if it was the GNU/non-GNU ld that we prefer.\n      case `\"$acl_cv_path_LD\" -v 2>&1 < /dev/null` in\n      *GNU* | *'with BFD'*)\n\ttest \"$with_gnu_ld\" != no && break ;;\n      *)\n\ttest \"$with_gnu_ld\" != yes && break ;;\n      esac\n    fi\n  done\n  IFS=\"$ac_save_ifs\"\nelse\n  acl_cv_path_LD=\"$LD\" # Let the user override the test with a path.\nfi])\nLD=\"$acl_cv_path_LD\"\nif test -n \"$LD\"; then\n  AC_MSG_RESULT($LD)\nelse\n  AC_MSG_RESULT(no)\nfi\ntest -z \"$LD\" && AC_MSG_ERROR([no acceptable ld found in \\$PATH])\nAC_LIB_PROG_LD_GNU\n])\n\n# lib-link.m4 serial 9 (gettext-0.16)\ndnl Copyright (C) 2001-2006 Free Software Foundation, Inc.\ndnl This file is free software; the Free Software Foundation\ndnl gives unlimited permission to copy and/or distribute it,\ndnl with or without modifications, as long as this notice is preserved.\n\ndnl From Bruno Haible.\n\nAC_PREREQ(2.50)\n\ndnl AC_LIB_LINKFLAGS(name [, dependencies]) searches for libname and\ndnl the libraries corresponding to explicit and implicit dependencies.\ndnl Sets and AC_SUBSTs the LIB${NAME} and LTLIB${NAME} variables and\ndnl augments the CPPFLAGS variable.\nAC_DEFUN([AC_LIB_LINKFLAGS],\n[\n  AC_REQUIRE([AC_LIB_PREPARE_PREFIX])\n  AC_REQUIRE([AC_LIB_RPATH])\n  define([Name],[translit([$1],[./-], [___])])\n  define([NAME],[translit([$1],[abcdefghijklmnopqrstuvwxyz./-],\n                               [ABCDEFGHIJKLMNOPQRSTUVWXYZ___])])\n  AC_CACHE_CHECK([how to link with lib[]$1], [ac_cv_lib[]Name[]_libs], [\n    AC_LIB_LINKFLAGS_BODY([$1], [$2])\n    ac_cv_lib[]Name[]_libs=\"$LIB[]NAME\"\n    ac_cv_lib[]Name[]_ltlibs=\"$LTLIB[]NAME\"\n    ac_cv_lib[]Name[]_cppflags=\"$INC[]NAME\"\n  ])\n  LIB[]NAME=\"$ac_cv_lib[]Name[]_libs\"\n  LTLIB[]NAME=\"$ac_cv_lib[]Name[]_ltlibs\"\n  INC[]NAME=\"$ac_cv_lib[]Name[]_cppflags\"\n  AC_LIB_APPENDTOVAR([CPPFLAGS], [$INC]NAME)\n  AC_SUBST([LIB]NAME)\n  AC_SUBST([LTLIB]NAME)\n  dnl Also set HAVE_LIB[]NAME so that AC_LIB_HAVE_LINKFLAGS can reuse the\n  dnl results of this search when this library appears as a dependency.\n  HAVE_LIB[]NAME=yes\n  undefine([Name])\n  undefine([NAME])\n])\n\ndnl AC_LIB_HAVE_LINKFLAGS(name, dependencies, includes, testcode)\ndnl searches for libname and the libraries corresponding to explicit and\ndnl implicit dependencies, together with the specified include files and\ndnl the ability to compile and link the specified testcode. If found, it\ndnl sets and AC_SUBSTs HAVE_LIB${NAME}=yes and the LIB${NAME} and\ndnl LTLIB${NAME} variables and augments the CPPFLAGS variable, and\ndnl #defines HAVE_LIB${NAME} to 1. Otherwise, it sets and AC_SUBSTs\ndnl HAVE_LIB${NAME}=no and LIB${NAME} and LTLIB${NAME} to empty.\nAC_DEFUN([AC_LIB_HAVE_LINKFLAGS],\n[\n  AC_REQUIRE([AC_LIB_PREPARE_PREFIX])\n  AC_REQUIRE([AC_LIB_RPATH])\n  define([Name],[translit([$1],[./-], [___])])\n  define([NAME],[translit([$1],[abcdefghijklmnopqrstuvwxyz./-],\n                               [ABCDEFGHIJKLMNOPQRSTUVWXYZ___])])\n\n  dnl Search for lib[]Name and define LIB[]NAME, LTLIB[]NAME and INC[]NAME\n  dnl accordingly.\n  AC_LIB_LINKFLAGS_BODY([$1], [$2])\n\n  dnl Add $INC[]NAME to CPPFLAGS before performing the following checks,\n  dnl because if the user has installed lib[]Name and not disabled its use\n  dnl via --without-lib[]Name-prefix, he wants to use it.\n  ac_save_CPPFLAGS=\"$CPPFLAGS\"\n  AC_LIB_APPENDTOVAR([CPPFLAGS], [$INC]NAME)\n\n  AC_CACHE_CHECK([for lib[]$1], [ac_cv_lib[]Name], [\n    ac_save_LIBS=\"$LIBS\"\n    LIBS=\"$LIBS $LIB[]NAME\"\n    AC_TRY_LINK([$3], [$4], [ac_cv_lib[]Name=yes], [ac_cv_lib[]Name=no])\n    LIBS=\"$ac_save_LIBS\"\n  ])\n  if test \"$ac_cv_lib[]Name\" = yes; then\n    HAVE_LIB[]NAME=yes\n    AC_DEFINE([HAVE_LIB]NAME, 1, [Define if you have the $1 library.])\n    AC_MSG_CHECKING([how to link with lib[]$1])\n    AC_MSG_RESULT([$LIB[]NAME])\n  else\n    HAVE_LIB[]NAME=no\n    dnl If $LIB[]NAME didn't lead to a usable library, we don't need\n    dnl $INC[]NAME either.\n    CPPFLAGS=\"$ac_save_CPPFLAGS\"\n    LIB[]NAME=\n    LTLIB[]NAME=\n  fi\n  AC_SUBST([HAVE_LIB]NAME)\n  AC_SUBST([LIB]NAME)\n  AC_SUBST([LTLIB]NAME)\n  undefine([Name])\n  undefine([NAME])\n])\n\ndnl Determine the platform dependent parameters needed to use rpath:\ndnl libext, shlibext, hardcode_libdir_flag_spec, hardcode_libdir_separator,\ndnl hardcode_direct, hardcode_minus_L.\nAC_DEFUN([AC_LIB_RPATH],\n[\n  dnl Tell automake >= 1.10 to complain if config.rpath is missing.\n  m4_ifdef([AC_REQUIRE_AUX_FILE], [AC_REQUIRE_AUX_FILE([config.rpath])])\n  AC_REQUIRE([AC_PROG_CC])                dnl we use $CC, $GCC, $LDFLAGS\n  AC_REQUIRE([AC_LIB_PROG_LD])            dnl we use $LD, $with_gnu_ld\n  AC_REQUIRE([AC_CANONICAL_HOST])         dnl we use $host\n  AC_REQUIRE([AC_CONFIG_AUX_DIR_DEFAULT]) dnl we use $ac_aux_dir\n  AC_CACHE_CHECK([for shared library run path origin], acl_cv_rpath, [\n    CC=\"$CC\" GCC=\"$GCC\" LDFLAGS=\"$LDFLAGS\" LD=\"$LD\" with_gnu_ld=\"$with_gnu_ld\" \\\n    ${CONFIG_SHELL-/bin/sh} \"$ac_aux_dir/config.rpath\" \"$host\" > conftest.sh\n    . ./conftest.sh\n    rm -f ./conftest.sh\n    acl_cv_rpath=done\n  ])\n  wl=\"$acl_cv_wl\"\n  libext=\"$acl_cv_libext\"\n  shlibext=\"$acl_cv_shlibext\"\n  hardcode_libdir_flag_spec=\"$acl_cv_hardcode_libdir_flag_spec\"\n  hardcode_libdir_separator=\"$acl_cv_hardcode_libdir_separator\"\n  hardcode_direct=\"$acl_cv_hardcode_direct\"\n  hardcode_minus_L=\"$acl_cv_hardcode_minus_L\"\n  dnl Determine whether the user wants rpath handling at all.\n  AC_ARG_ENABLE(rpath,\n    [  --disable-rpath         do not hardcode runtime library paths],\n    :, enable_rpath=yes)\n])\n\ndnl AC_LIB_LINKFLAGS_BODY(name [, dependencies]) searches for libname and\ndnl the libraries corresponding to explicit and implicit dependencies.\ndnl Sets the LIB${NAME}, LTLIB${NAME} and INC${NAME} variables.\nAC_DEFUN([AC_LIB_LINKFLAGS_BODY],\n[\n  AC_REQUIRE([AC_LIB_PREPARE_MULTILIB])\n  define([NAME],[translit([$1],[abcdefghijklmnopqrstuvwxyz./-],\n                               [ABCDEFGHIJKLMNOPQRSTUVWXYZ___])])\n  dnl By default, look in $includedir and $libdir.\n  use_additional=yes\n  AC_LIB_WITH_FINAL_PREFIX([\n    eval additional_includedir=\\\"$includedir\\\"\n    eval additional_libdir=\\\"$libdir\\\"\n  ])\n  AC_LIB_ARG_WITH([lib$1-prefix],\n[  --with-lib$1-prefix[=DIR]  search for lib$1 in DIR/include and DIR/lib\n  --without-lib$1-prefix     don't search for lib$1 in includedir and libdir],\n[\n    if test \"X$withval\" = \"Xno\"; then\n      use_additional=no\n    else\n      if test \"X$withval\" = \"X\"; then\n        AC_LIB_WITH_FINAL_PREFIX([\n          eval additional_includedir=\\\"$includedir\\\"\n          eval additional_libdir=\\\"$libdir\\\"\n        ])\n      else\n        additional_includedir=\"$withval/include\"\n        additional_libdir=\"$withval/$acl_libdirstem\"\n      fi\n    fi\n])\n  dnl Search the library and its dependencies in $additional_libdir and\n  dnl $LDFLAGS. Using breadth-first-seach.\n  LIB[]NAME=\n  LTLIB[]NAME=\n  INC[]NAME=\n  rpathdirs=\n  ltrpathdirs=\n  names_already_handled=\n  names_next_round='$1 $2'\n  while test -n \"$names_next_round\"; do\n    names_this_round=\"$names_next_round\"\n    names_next_round=\n    for name in $names_this_round; do\n      already_handled=\n      for n in $names_already_handled; do\n        if test \"$n\" = \"$name\"; then\n          already_handled=yes\n          break\n        fi\n      done\n      if test -z \"$already_handled\"; then\n        names_already_handled=\"$names_already_handled $name\"\n        dnl See if it was already located by an earlier AC_LIB_LINKFLAGS\n        dnl or AC_LIB_HAVE_LINKFLAGS call.\n        uppername=`echo \"$name\" | sed -e 'y|abcdefghijklmnopqrstuvwxyz./-|ABCDEFGHIJKLMNOPQRSTUVWXYZ___|'`\n        eval value=\\\"\\$HAVE_LIB$uppername\\\"\n        if test -n \"$value\"; then\n          if test \"$value\" = yes; then\n            eval value=\\\"\\$LIB$uppername\\\"\n            test -z \"$value\" || LIB[]NAME=\"${LIB[]NAME}${LIB[]NAME:+ }$value\"\n            eval value=\\\"\\$LTLIB$uppername\\\"\n            test -z \"$value\" || LTLIB[]NAME=\"${LTLIB[]NAME}${LTLIB[]NAME:+ }$value\"\n          else\n            dnl An earlier call to AC_LIB_HAVE_LINKFLAGS has determined\n            dnl that this library doesn't exist. So just drop it.\n            :\n          fi\n        else\n          dnl Search the library lib$name in $additional_libdir and $LDFLAGS\n          dnl and the already constructed $LIBNAME/$LTLIBNAME.\n          found_dir=\n          found_la=\n          found_so=\n          found_a=\n          if test $use_additional = yes; then\n            if test -n \"$shlibext\" \\\n               && { test -f \"$additional_libdir/lib$name.$shlibext\" \\\n                    || { test \"$shlibext\" = dll \\\n                         && test -f \"$additional_libdir/lib$name.dll.a\"; }; }; then\n              found_dir=\"$additional_libdir\"\n              if test -f \"$additional_libdir/lib$name.$shlibext\"; then\n                found_so=\"$additional_libdir/lib$name.$shlibext\"\n              else\n                found_so=\"$additional_libdir/lib$name.dll.a\"\n              fi\n              if test -f \"$additional_libdir/lib$name.la\"; then\n                found_la=\"$additional_libdir/lib$name.la\"\n              fi\n            else\n              if test -f \"$additional_libdir/lib$name.$libext\"; then\n                found_dir=\"$additional_libdir\"\n                found_a=\"$additional_libdir/lib$name.$libext\"\n                if test -f \"$additional_libdir/lib$name.la\"; then\n                  found_la=\"$additional_libdir/lib$name.la\"\n                fi\n              fi\n            fi\n          fi\n          if test \"X$found_dir\" = \"X\"; then\n            for x in $LDFLAGS $LTLIB[]NAME; do\n              AC_LIB_WITH_FINAL_PREFIX([eval x=\\\"$x\\\"])\n              case \"$x\" in\n                -L*)\n                  dir=`echo \"X$x\" | sed -e 's/^X-L//'`\n                  if test -n \"$shlibext\" \\\n                     && { test -f \"$dir/lib$name.$shlibext\" \\\n                          || { test \"$shlibext\" = dll \\\n                               && test -f \"$dir/lib$name.dll.a\"; }; }; then\n                    found_dir=\"$dir\"\n                    if test -f \"$dir/lib$name.$shlibext\"; then\n                      found_so=\"$dir/lib$name.$shlibext\"\n                    else\n                      found_so=\"$dir/lib$name.dll.a\"\n                    fi\n                    if test -f \"$dir/lib$name.la\"; then\n                      found_la=\"$dir/lib$name.la\"\n                    fi\n                  else\n                    if test -f \"$dir/lib$name.$libext\"; then\n                      found_dir=\"$dir\"\n                      found_a=\"$dir/lib$name.$libext\"\n                      if test -f \"$dir/lib$name.la\"; then\n                        found_la=\"$dir/lib$name.la\"\n                      fi\n                    fi\n                  fi\n                  ;;\n              esac\n              if test \"X$found_dir\" != \"X\"; then\n                break\n              fi\n            done\n          fi\n          if test \"X$found_dir\" != \"X\"; then\n            dnl Found the library.\n            LTLIB[]NAME=\"${LTLIB[]NAME}${LTLIB[]NAME:+ }-L$found_dir -l$name\"\n            if test \"X$found_so\" != \"X\"; then\n              dnl Linking with a shared library. We attempt to hardcode its\n              dnl directory into the executable's runpath, unless it's the\n              dnl standard /usr/lib.\n              if test \"$enable_rpath\" = no || test \"X$found_dir\" = \"X/usr/$acl_libdirstem\"; then\n                dnl No hardcoding is needed.\n                LIB[]NAME=\"${LIB[]NAME}${LIB[]NAME:+ }$found_so\"\n              else\n                dnl Use an explicit option to hardcode DIR into the resulting\n                dnl binary.\n                dnl Potentially add DIR to ltrpathdirs.\n                dnl The ltrpathdirs will be appended to $LTLIBNAME at the end.\n                haveit=\n                for x in $ltrpathdirs; do\n                  if test \"X$x\" = \"X$found_dir\"; then\n                    haveit=yes\n                    break\n                  fi\n                done\n                if test -z \"$haveit\"; then\n                  ltrpathdirs=\"$ltrpathdirs $found_dir\"\n                fi\n                dnl The hardcoding into $LIBNAME is system dependent.\n                if test \"$hardcode_direct\" = yes; then\n                  dnl Using DIR/libNAME.so during linking hardcodes DIR into the\n                  dnl resulting binary.\n                  LIB[]NAME=\"${LIB[]NAME}${LIB[]NAME:+ }$found_so\"\n                else\n                  if test -n \"$hardcode_libdir_flag_spec\" && test \"$hardcode_minus_L\" = no; then\n                    dnl Use an explicit option to hardcode DIR into the resulting\n                    dnl binary.\n                    LIB[]NAME=\"${LIB[]NAME}${LIB[]NAME:+ }$found_so\"\n                    dnl Potentially add DIR to rpathdirs.\n                    dnl The rpathdirs will be appended to $LIBNAME at the end.\n                    haveit=\n                    for x in $rpathdirs; do\n                      if test \"X$x\" = \"X$found_dir\"; then\n                        haveit=yes\n                        break\n                      fi\n                    done\n                    if test -z \"$haveit\"; then\n                      rpathdirs=\"$rpathdirs $found_dir\"\n                    fi\n                  else\n                    dnl Rely on \"-L$found_dir\".\n                    dnl But don't add it if it's already contained in the LDFLAGS\n                    dnl or the already constructed $LIBNAME\n                    haveit=\n                    for x in $LDFLAGS $LIB[]NAME; do\n                      AC_LIB_WITH_FINAL_PREFIX([eval x=\\\"$x\\\"])\n                      if test \"X$x\" = \"X-L$found_dir\"; then\n                        haveit=yes\n                        break\n                      fi\n                    done\n                    if test -z \"$haveit\"; then\n                      LIB[]NAME=\"${LIB[]NAME}${LIB[]NAME:+ }-L$found_dir\"\n                    fi\n                    if test \"$hardcode_minus_L\" != no; then\n                      dnl FIXME: Not sure whether we should use\n                      dnl \"-L$found_dir -l$name\" or \"-L$found_dir $found_so\"\n                      dnl here.\n                      LIB[]NAME=\"${LIB[]NAME}${LIB[]NAME:+ }$found_so\"\n                    else\n                      dnl We cannot use $hardcode_runpath_var and LD_RUN_PATH\n                      dnl here, because this doesn't fit in flags passed to the\n                      dnl compiler. So give up. No hardcoding. This affects only\n                      dnl very old systems.\n                      dnl FIXME: Not sure whether we should use\n                      dnl \"-L$found_dir -l$name\" or \"-L$found_dir $found_so\"\n                      dnl here.\n                      LIB[]NAME=\"${LIB[]NAME}${LIB[]NAME:+ }-l$name\"\n                    fi\n                  fi\n                fi\n              fi\n            else\n              if test \"X$found_a\" != \"X\"; then\n                dnl Linking with a static library.\n                LIB[]NAME=\"${LIB[]NAME}${LIB[]NAME:+ }$found_a\"\n              else\n                dnl We shouldn't come here, but anyway it's good to have a\n                dnl fallback.\n                LIB[]NAME=\"${LIB[]NAME}${LIB[]NAME:+ }-L$found_dir -l$name\"\n              fi\n            fi\n            dnl Assume the include files are nearby.\n            additional_includedir=\n            case \"$found_dir\" in\n              */$acl_libdirstem | */$acl_libdirstem/)\n                basedir=`echo \"X$found_dir\" | sed -e 's,^X,,' -e \"s,/$acl_libdirstem/\"'*$,,'`\n                additional_includedir=\"$basedir/include\"\n                ;;\n            esac\n            if test \"X$additional_includedir\" != \"X\"; then\n              dnl Potentially add $additional_includedir to $INCNAME.\n              dnl But don't add it\n              dnl   1. if it's the standard /usr/include,\n              dnl   2. if it's /usr/local/include and we are using GCC on Linux,\n              dnl   3. if it's already present in $CPPFLAGS or the already\n              dnl      constructed $INCNAME,\n              dnl   4. if it doesn't exist as a directory.\n              if test \"X$additional_includedir\" != \"X/usr/include\"; then\n                haveit=\n                if test \"X$additional_includedir\" = \"X/usr/local/include\"; then\n                  if test -n \"$GCC\"; then\n                    case $host_os in\n                      linux* | gnu* | k*bsd*-gnu) haveit=yes;;\n                    esac\n                  fi\n                fi\n                if test -z \"$haveit\"; then\n                  for x in $CPPFLAGS $INC[]NAME; do\n                    AC_LIB_WITH_FINAL_PREFIX([eval x=\\\"$x\\\"])\n                    if test \"X$x\" = \"X-I$additional_includedir\"; then\n                      haveit=yes\n                      break\n                    fi\n                  done\n                  if test -z \"$haveit\"; then\n                    if test -d \"$additional_includedir\"; then\n                      dnl Really add $additional_includedir to $INCNAME.\n                      INC[]NAME=\"${INC[]NAME}${INC[]NAME:+ }-I$additional_includedir\"\n                    fi\n                  fi\n                fi\n              fi\n            fi\n            dnl Look for dependencies.\n            if test -n \"$found_la\"; then\n              dnl Read the .la file. It defines the variables\n              dnl dlname, library_names, old_library, dependency_libs, current,\n              dnl age, revision, installed, dlopen, dlpreopen, libdir.\n              save_libdir=\"$libdir\"\n              case \"$found_la\" in\n                */* | *\\\\*) . \"$found_la\" ;;\n                *) . \"./$found_la\" ;;\n              esac\n              libdir=\"$save_libdir\"\n              dnl We use only dependency_libs.\n              for dep in $dependency_libs; do\n                case \"$dep\" in\n                  -L*)\n                    additional_libdir=`echo \"X$dep\" | sed -e 's/^X-L//'`\n                    dnl Potentially add $additional_libdir to $LIBNAME and $LTLIBNAME.\n                    dnl But don't add it\n                    dnl   1. if it's the standard /usr/lib,\n                    dnl   2. if it's /usr/local/lib and we are using GCC on Linux,\n                    dnl   3. if it's already present in $LDFLAGS or the already\n                    dnl      constructed $LIBNAME,\n                    dnl   4. if it doesn't exist as a directory.\n                    if test \"X$additional_libdir\" != \"X/usr/$acl_libdirstem\"; then\n                      haveit=\n                      if test \"X$additional_libdir\" = \"X/usr/local/$acl_libdirstem\"; then\n                        if test -n \"$GCC\"; then\n                          case $host_os in\n                            linux* | gnu* | k*bsd*-gnu) haveit=yes;;\n                          esac\n                        fi\n                      fi\n                      if test -z \"$haveit\"; then\n                        haveit=\n                        for x in $LDFLAGS $LIB[]NAME; do\n                          AC_LIB_WITH_FINAL_PREFIX([eval x=\\\"$x\\\"])\n                          if test \"X$x\" = \"X-L$additional_libdir\"; then\n                            haveit=yes\n                            break\n                          fi\n                        done\n                        if test -z \"$haveit\"; then\n                          if test -d \"$additional_libdir\"; then\n                            dnl Really add $additional_libdir to $LIBNAME.\n                            LIB[]NAME=\"${LIB[]NAME}${LIB[]NAME:+ }-L$additional_libdir\"\n                          fi\n                        fi\n                        haveit=\n                        for x in $LDFLAGS $LTLIB[]NAME; do\n                          AC_LIB_WITH_FINAL_PREFIX([eval x=\\\"$x\\\"])\n                          if test \"X$x\" = \"X-L$additional_libdir\"; then\n                            haveit=yes\n                            break\n                          fi\n                        done\n                        if test -z \"$haveit\"; then\n                          if test -d \"$additional_libdir\"; then\n                            dnl Really add $additional_libdir to $LTLIBNAME.\n                            LTLIB[]NAME=\"${LTLIB[]NAME}${LTLIB[]NAME:+ }-L$additional_libdir\"\n                          fi\n                        fi\n                      fi\n                    fi\n                    ;;\n                  -R*)\n                    dir=`echo \"X$dep\" | sed -e 's/^X-R//'`\n                    if test \"$enable_rpath\" != no; then\n                      dnl Potentially add DIR to rpathdirs.\n                      dnl The rpathdirs will be appended to $LIBNAME at the end.\n                      haveit=\n                      for x in $rpathdirs; do\n                        if test \"X$x\" = \"X$dir\"; then\n                          haveit=yes\n                          break\n                        fi\n                      done\n                      if test -z \"$haveit\"; then\n                        rpathdirs=\"$rpathdirs $dir\"\n                      fi\n                      dnl Potentially add DIR to ltrpathdirs.\n                      dnl The ltrpathdirs will be appended to $LTLIBNAME at the end.\n                      haveit=\n                      for x in $ltrpathdirs; do\n                        if test \"X$x\" = \"X$dir\"; then\n                          haveit=yes\n                          break\n                        fi\n                      done\n                      if test -z \"$haveit\"; then\n                        ltrpathdirs=\"$ltrpathdirs $dir\"\n                      fi\n                    fi\n                    ;;\n                  -l*)\n                    dnl Handle this in the next round.\n                    names_next_round=\"$names_next_round \"`echo \"X$dep\" | sed -e 's/^X-l//'`\n                    ;;\n                  *.la)\n                    dnl Handle this in the next round. Throw away the .la's\n                    dnl directory; it is already contained in a preceding -L\n                    dnl option.\n                    names_next_round=\"$names_next_round \"`echo \"X$dep\" | sed -e 's,^X.*/,,' -e 's,^lib,,' -e 's,\\.la$,,'`\n                    ;;\n                  *)\n                    dnl Most likely an immediate library name.\n                    LIB[]NAME=\"${LIB[]NAME}${LIB[]NAME:+ }$dep\"\n                    LTLIB[]NAME=\"${LTLIB[]NAME}${LTLIB[]NAME:+ }$dep\"\n                    ;;\n                esac\n              done\n            fi\n          else\n            dnl Didn't find the library; assume it is in the system directories\n            dnl known to the linker and runtime loader. (All the system\n            dnl directories known to the linker should also be known to the\n            dnl runtime loader, otherwise the system is severely misconfigured.)\n            LIB[]NAME=\"${LIB[]NAME}${LIB[]NAME:+ }-l$name\"\n            LTLIB[]NAME=\"${LTLIB[]NAME}${LTLIB[]NAME:+ }-l$name\"\n          fi\n        fi\n      fi\n    done\n  done\n  if test \"X$rpathdirs\" != \"X\"; then\n    if test -n \"$hardcode_libdir_separator\"; then\n      dnl Weird platform: only the last -rpath option counts, the user must\n      dnl pass all path elements in one option. We can arrange that for a\n      dnl single library, but not when more than one $LIBNAMEs are used.\n      alldirs=\n      for found_dir in $rpathdirs; do\n        alldirs=\"${alldirs}${alldirs:+$hardcode_libdir_separator}$found_dir\"\n      done\n      dnl Note: hardcode_libdir_flag_spec uses $libdir and $wl.\n      acl_save_libdir=\"$libdir\"\n      libdir=\"$alldirs\"\n      eval flag=\\\"$hardcode_libdir_flag_spec\\\"\n      libdir=\"$acl_save_libdir\"\n      LIB[]NAME=\"${LIB[]NAME}${LIB[]NAME:+ }$flag\"\n    else\n      dnl The -rpath options are cumulative.\n      for found_dir in $rpathdirs; do\n        acl_save_libdir=\"$libdir\"\n        libdir=\"$found_dir\"\n        eval flag=\\\"$hardcode_libdir_flag_spec\\\"\n        libdir=\"$acl_save_libdir\"\n        LIB[]NAME=\"${LIB[]NAME}${LIB[]NAME:+ }$flag\"\n      done\n    fi\n  fi\n  if test \"X$ltrpathdirs\" != \"X\"; then\n    dnl When using libtool, the option that works for both libraries and\n    dnl executables is -R. The -R options are cumulative.\n    for found_dir in $ltrpathdirs; do\n      LTLIB[]NAME=\"${LTLIB[]NAME}${LTLIB[]NAME:+ }-R$found_dir\"\n    done\n  fi\n])\n\ndnl AC_LIB_APPENDTOVAR(VAR, CONTENTS) appends the elements of CONTENTS to VAR,\ndnl unless already present in VAR.\ndnl Works only for CPPFLAGS, not for LIB* variables because that sometimes\ndnl contains two or three consecutive elements that belong together.\nAC_DEFUN([AC_LIB_APPENDTOVAR],\n[\n  for element in [$2]; do\n    haveit=\n    for x in $[$1]; do\n      AC_LIB_WITH_FINAL_PREFIX([eval x=\\\"$x\\\"])\n      if test \"X$x\" = \"X$element\"; then\n        haveit=yes\n        break\n      fi\n    done\n    if test -z \"$haveit\"; then\n      [$1]=\"${[$1]}${[$1]:+ }$element\"\n    fi\n  done\n])\n\ndnl For those cases where a variable contains several -L and -l options\ndnl referring to unknown libraries and directories, this macro determines the\ndnl necessary additional linker options for the runtime path.\ndnl AC_LIB_LINKFLAGS_FROM_LIBS([LDADDVAR], [LIBSVALUE], [USE-LIBTOOL])\ndnl sets LDADDVAR to linker options needed together with LIBSVALUE.\ndnl If USE-LIBTOOL evaluates to non-empty, linking with libtool is assumed,\ndnl otherwise linking without libtool is assumed.\nAC_DEFUN([AC_LIB_LINKFLAGS_FROM_LIBS],\n[\n  AC_REQUIRE([AC_LIB_RPATH])\n  AC_REQUIRE([AC_LIB_PREPARE_MULTILIB])\n  $1=\n  if test \"$enable_rpath\" != no; then\n    if test -n \"$hardcode_libdir_flag_spec\" && test \"$hardcode_minus_L\" = no; then\n      dnl Use an explicit option to hardcode directories into the resulting\n      dnl binary.\n      rpathdirs=\n      next=\n      for opt in $2; do\n        if test -n \"$next\"; then\n          dir=\"$next\"\n          dnl No need to hardcode the standard /usr/lib.\n          if test \"X$dir\" != \"X/usr/$acl_libdirstem\"; then\n            rpathdirs=\"$rpathdirs $dir\"\n          fi\n          next=\n        else\n          case $opt in\n            -L) next=yes ;;\n            -L*) dir=`echo \"X$opt\" | sed -e 's,^X-L,,'`\n                 dnl No need to hardcode the standard /usr/lib.\n                 if test \"X$dir\" != \"X/usr/$acl_libdirstem\"; then\n                   rpathdirs=\"$rpathdirs $dir\"\n                 fi\n                 next= ;;\n            *) next= ;;\n          esac\n        fi\n      done\n      if test \"X$rpathdirs\" != \"X\"; then\n        if test -n \"\"$3\"\"; then\n          dnl libtool is used for linking. Use -R options.\n          for dir in $rpathdirs; do\n            $1=\"${$1}${$1:+ }-R$dir\"\n          done\n        else\n          dnl The linker is used for linking directly.\n          if test -n \"$hardcode_libdir_separator\"; then\n            dnl Weird platform: only the last -rpath option counts, the user\n            dnl must pass all path elements in one option.\n            alldirs=\n            for dir in $rpathdirs; do\n              alldirs=\"${alldirs}${alldirs:+$hardcode_libdir_separator}$dir\"\n            done\n            acl_save_libdir=\"$libdir\"\n            libdir=\"$alldirs\"\n            eval flag=\\\"$hardcode_libdir_flag_spec\\\"\n            libdir=\"$acl_save_libdir\"\n            $1=\"$flag\"\n          else\n            dnl The -rpath options are cumulative.\n            for dir in $rpathdirs; do\n              acl_save_libdir=\"$libdir\"\n              libdir=\"$dir\"\n              eval flag=\\\"$hardcode_libdir_flag_spec\\\"\n              libdir=\"$acl_save_libdir\"\n              $1=\"${$1}${$1:+ }$flag\"\n            done\n          fi\n        fi\n      fi\n    fi\n  fi\n  AC_SUBST([$1])\n])\n\n# lib-prefix.m4 serial 5 (gettext-0.15)\ndnl Copyright (C) 2001-2005 Free Software Foundation, Inc.\ndnl This file is free software; the Free Software Foundation\ndnl gives unlimited permission to copy and/or distribute it,\ndnl with or without modifications, as long as this notice is preserved.\n\ndnl From Bruno Haible.\n\ndnl AC_LIB_ARG_WITH is synonymous to AC_ARG_WITH in autoconf-2.13, and\ndnl similar to AC_ARG_WITH in autoconf 2.52...2.57 except that is doesn't\ndnl require excessive bracketing.\nifdef([AC_HELP_STRING],\n[AC_DEFUN([AC_LIB_ARG_WITH], [AC_ARG_WITH([$1],[[$2]],[$3],[$4])])],\n[AC_DEFUN([AC_][LIB_ARG_WITH], [AC_ARG_WITH([$1],[$2],[$3],[$4])])])\n\ndnl AC_LIB_PREFIX adds to the CPPFLAGS and LDFLAGS the flags that are needed\ndnl to access previously installed libraries. The basic assumption is that\ndnl a user will want packages to use other packages he previously installed\ndnl with the same --prefix option.\ndnl This macro is not needed if only AC_LIB_LINKFLAGS is used to locate\ndnl libraries, but is otherwise very convenient.\nAC_DEFUN([AC_LIB_PREFIX],\n[\n  AC_BEFORE([$0], [AC_LIB_LINKFLAGS])\n  AC_REQUIRE([AC_PROG_CC])\n  AC_REQUIRE([AC_CANONICAL_HOST])\n  AC_REQUIRE([AC_LIB_PREPARE_MULTILIB])\n  AC_REQUIRE([AC_LIB_PREPARE_PREFIX])\n  dnl By default, look in $includedir and $libdir.\n  use_additional=yes\n  AC_LIB_WITH_FINAL_PREFIX([\n    eval additional_includedir=\\\"$includedir\\\"\n    eval additional_libdir=\\\"$libdir\\\"\n  ])\n  AC_LIB_ARG_WITH([lib-prefix],\n[  --with-lib-prefix[=DIR] search for libraries in DIR/include and DIR/lib\n  --without-lib-prefix    don't search for libraries in includedir and libdir],\n[\n    if test \"X$withval\" = \"Xno\"; then\n      use_additional=no\n    else\n      if test \"X$withval\" = \"X\"; then\n        AC_LIB_WITH_FINAL_PREFIX([\n          eval additional_includedir=\\\"$includedir\\\"\n          eval additional_libdir=\\\"$libdir\\\"\n        ])\n      else\n        additional_includedir=\"$withval/include\"\n        additional_libdir=\"$withval/$acl_libdirstem\"\n      fi\n    fi\n])\n  if test $use_additional = yes; then\n    dnl Potentially add $additional_includedir to $CPPFLAGS.\n    dnl But don't add it\n    dnl   1. if it's the standard /usr/include,\n    dnl   2. if it's already present in $CPPFLAGS,\n    dnl   3. if it's /usr/local/include and we are using GCC on Linux,\n    dnl   4. if it doesn't exist as a directory.\n    if test \"X$additional_includedir\" != \"X/usr/include\"; then\n      haveit=\n      for x in $CPPFLAGS; do\n        AC_LIB_WITH_FINAL_PREFIX([eval x=\\\"$x\\\"])\n        if test \"X$x\" = \"X-I$additional_includedir\"; then\n          haveit=yes\n          break\n        fi\n      done\n      if test -z \"$haveit\"; then\n        if test \"X$additional_includedir\" = \"X/usr/local/include\"; then\n          if test -n \"$GCC\"; then\n            case $host_os in\n              linux* | gnu* | k*bsd*-gnu) haveit=yes;;\n            esac\n          fi\n        fi\n        if test -z \"$haveit\"; then\n          if test -d \"$additional_includedir\"; then\n            dnl Really add $additional_includedir to $CPPFLAGS.\n            CPPFLAGS=\"${CPPFLAGS}${CPPFLAGS:+ }-I$additional_includedir\"\n          fi\n        fi\n      fi\n    fi\n    dnl Potentially add $additional_libdir to $LDFLAGS.\n    dnl But don't add it\n    dnl   1. if it's the standard /usr/lib,\n    dnl   2. if it's already present in $LDFLAGS,\n    dnl   3. if it's /usr/local/lib and we are using GCC on Linux,\n    dnl   4. if it doesn't exist as a directory.\n    if test \"X$additional_libdir\" != \"X/usr/$acl_libdirstem\"; then\n      haveit=\n      for x in $LDFLAGS; do\n        AC_LIB_WITH_FINAL_PREFIX([eval x=\\\"$x\\\"])\n        if test \"X$x\" = \"X-L$additional_libdir\"; then\n          haveit=yes\n          break\n        fi\n      done\n      if test -z \"$haveit\"; then\n        if test \"X$additional_libdir\" = \"X/usr/local/$acl_libdirstem\"; then\n          if test -n \"$GCC\"; then\n            case $host_os in\n              linux*) haveit=yes;;\n            esac\n          fi\n        fi\n        if test -z \"$haveit\"; then\n          if test -d \"$additional_libdir\"; then\n            dnl Really add $additional_libdir to $LDFLAGS.\n            LDFLAGS=\"${LDFLAGS}${LDFLAGS:+ }-L$additional_libdir\"\n          fi\n        fi\n      fi\n    fi\n  fi\n])\n\ndnl AC_LIB_PREPARE_PREFIX creates variables acl_final_prefix,\ndnl acl_final_exec_prefix, containing the values to which $prefix and\ndnl $exec_prefix will expand at the end of the configure script.\nAC_DEFUN([AC_LIB_PREPARE_PREFIX],\n[\n  dnl Unfortunately, prefix and exec_prefix get only finally determined\n  dnl at the end of configure.\n  if test \"X$prefix\" = \"XNONE\"; then\n    acl_final_prefix=\"$ac_default_prefix\"\n  else\n    acl_final_prefix=\"$prefix\"\n  fi\n  if test \"X$exec_prefix\" = \"XNONE\"; then\n    acl_final_exec_prefix='${prefix}'\n  else\n    acl_final_exec_prefix=\"$exec_prefix\"\n  fi\n  acl_save_prefix=\"$prefix\"\n  prefix=\"$acl_final_prefix\"\n  eval acl_final_exec_prefix=\\\"$acl_final_exec_prefix\\\"\n  prefix=\"$acl_save_prefix\"\n])\n\ndnl AC_LIB_WITH_FINAL_PREFIX([statement]) evaluates statement, with the\ndnl variables prefix and exec_prefix bound to the values they will have\ndnl at the end of the configure script.\nAC_DEFUN([AC_LIB_WITH_FINAL_PREFIX],\n[\n  acl_save_prefix=\"$prefix\"\n  prefix=\"$acl_final_prefix\"\n  acl_save_exec_prefix=\"$exec_prefix\"\n  exec_prefix=\"$acl_final_exec_prefix\"\n  $1\n  exec_prefix=\"$acl_save_exec_prefix\"\n  prefix=\"$acl_save_prefix\"\n])\n\ndnl AC_LIB_PREPARE_MULTILIB creates a variable acl_libdirstem, containing\ndnl the basename of the libdir, either \"lib\" or \"lib64\".\nAC_DEFUN([AC_LIB_PREPARE_MULTILIB],\n[\n  dnl There is no formal standard regarding lib and lib64. The current\n  dnl practice is that on a system supporting 32-bit and 64-bit instruction\n  dnl sets or ABIs, 64-bit libraries go under $prefix/lib64 and 32-bit\n  dnl libraries go under $prefix/lib. We determine the compiler's default\n  dnl mode by looking at the compiler's library search path. If at least\n  dnl of its elements ends in /lib64 or points to a directory whose absolute\n  dnl pathname ends in /lib64, we assume a 64-bit ABI. Otherwise we use the\n  dnl default, namely \"lib\".\n  acl_libdirstem=lib\n  searchpath=`(LC_ALL=C $CC -print-search-dirs) 2>/dev/null | sed -n -e 's,^libraries: ,,p' | sed -e 's,^=,,'`\n  if test -n \"$searchpath\"; then\n    acl_save_IFS=\"${IFS= \t}\"; IFS=\":\"\n    for searchdir in $searchpath; do\n      if test -d \"$searchdir\"; then\n        case \"$searchdir\" in\n          */lib64/ | */lib64 ) acl_libdirstem=lib64 ;;\n          *) searchdir=`cd \"$searchdir\" && pwd`\n             case \"$searchdir\" in\n               */lib64 ) acl_libdirstem=lib64 ;;\n             esac ;;\n        esac\n      fi\n    done\n    IFS=\"$acl_save_IFS\"\n  fi\n])\n\n# pkg.m4 - Macros to locate and utilise pkg-config.            -*- Autoconf -*-\n# \n# Copyright \u00a9 2004 Scott James Remnant <scott@netsplit.com>.\n#\n# This program is free software; you can redistribute it and/or modify\n# it under the terms of the GNU General Public License as published by\n# the Free Software Foundation; either version 2 of the License, or\n# (at your option) any later version.\n#\n# This program is distributed in the hope that it will be useful, but\n# WITHOUT ANY WARRANTY; without even the implied warranty of\n# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n# General Public License for more details.\n#\n# You should have received a copy of the GNU General Public License\n# along with this program; if not, write to the Free Software\n# Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.\n#\n# As a special exception to the GNU General Public License, if you\n# distribute this file as part of a program that contains a\n# configuration script generated by Autoconf, you may include it under\n# the same distribution terms that you use for the rest of that program.\n\n# PKG_PROG_PKG_CONFIG([MIN-VERSION])\n# ----------------------------------\nAC_DEFUN([PKG_PROG_PKG_CONFIG],\n[m4_pattern_forbid([^_?PKG_[A-Z_]+$])\nm4_pattern_allow([^PKG_CONFIG(_PATH)?$])\nAC_ARG_VAR([PKG_CONFIG], [path to pkg-config utility])dnl\nif test \"x$ac_cv_env_PKG_CONFIG_set\" != \"xset\"; then\n\tAC_PATH_TOOL([PKG_CONFIG], [pkg-config])\nfi\nif test -n \"$PKG_CONFIG\"; then\n\t_pkg_min_version=m4_default([$1], [0.9.0])\n\tAC_MSG_CHECKING([pkg-config is at least version $_pkg_min_version])\n\tif $PKG_CONFIG --atleast-pkgconfig-version $_pkg_min_version; then\n\t\tAC_MSG_RESULT([yes])\n\telse\n\t\tAC_MSG_RESULT([no])\n\t\tPKG_CONFIG=\"\"\n\tfi\n\t\t\nfi[]dnl\n])# PKG_PROG_PKG_CONFIG\n\n# PKG_CHECK_EXISTS(MODULES, [ACTION-IF-FOUND], [ACTION-IF-NOT-FOUND])\n#\n# Check to see whether a particular set of modules exists.  Similar\n# to PKG_CHECK_MODULES(), but does not set variables or print errors.\n#\n#\n# Similar to PKG_CHECK_MODULES, make sure that the first instance of\n# this or PKG_CHECK_MODULES is called, or make sure to call\n# PKG_CHECK_EXISTS manually\n# --------------------------------------------------------------\nAC_DEFUN([PKG_CHECK_EXISTS],\n[AC_REQUIRE([PKG_PROG_PKG_CONFIG])dnl\nif test -n \"$PKG_CONFIG\" && \\\n    AC_RUN_LOG([$PKG_CONFIG --exists --print-errors \"$1\"]); then\n  m4_ifval([$2], [$2], [:])\nm4_ifvaln([$3], [else\n  $3])dnl\nfi])\n\n\n# _PKG_CONFIG([VARIABLE], [COMMAND], [MODULES])\n# ---------------------------------------------\nm4_define([_PKG_CONFIG],\n[if test -n \"$$1\"; then\n    pkg_cv_[]$1=\"$$1\"\n elif test -n \"$PKG_CONFIG\"; then\n    PKG_CHECK_EXISTS([$3],\n                     [pkg_cv_[]$1=`$PKG_CONFIG --[]$2 \"$3\" 2>/dev/null`],\n\t\t     [pkg_failed=yes])\n else\n    pkg_failed=untried\nfi[]dnl\n])# _PKG_CONFIG\n\n# _PKG_SHORT_ERRORS_SUPPORTED\n# -----------------------------\nAC_DEFUN([_PKG_SHORT_ERRORS_SUPPORTED],\n[AC_REQUIRE([PKG_PROG_PKG_CONFIG])\nif $PKG_CONFIG --atleast-pkgconfig-version 0.20; then\n        _pkg_short_errors_supported=yes\nelse\n        _pkg_short_errors_supported=no\nfi[]dnl\n])# _PKG_SHORT_ERRORS_SUPPORTED\n\n\n# PKG_CHECK_MODULES(VARIABLE-PREFIX, MODULES, [ACTION-IF-FOUND],\n# [ACTION-IF-NOT-FOUND])\n#\n#\n# Note that if there is a possibility the first call to\n# PKG_CHECK_MODULES might not happen, you should be sure to include an\n# explicit call to PKG_PROG_PKG_CONFIG in your configure.ac\n#\n#\n# --------------------------------------------------------------\nAC_DEFUN([PKG_CHECK_MODULES],\n[AC_REQUIRE([PKG_PROG_PKG_CONFIG])dnl\nAC_ARG_VAR([$1][_CFLAGS], [C compiler flags for $1, overriding pkg-config])dnl\nAC_ARG_VAR([$1][_LIBS], [linker flags for $1, overriding pkg-config])dnl\n\npkg_failed=no\nAC_MSG_CHECKING([for $1])\n\n_PKG_CONFIG([$1][_CFLAGS], [cflags], [$2])\n_PKG_CONFIG([$1][_LIBS], [libs], [$2])\n\nm4_define([_PKG_TEXT], [Alternatively, you may set the environment variables $1[]_CFLAGS\nand $1[]_LIBS to avoid the need to call pkg-config.\nSee the pkg-config man page for more details.])\n\nif test $pkg_failed = yes; then\n        _PKG_SHORT_ERRORS_SUPPORTED\n        if test $_pkg_short_errors_supported = yes; then\n\t        $1[]_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors \"$2\" 2>&1`\n        else \n\t        $1[]_PKG_ERRORS=`$PKG_CONFIG --print-errors \"$2\" 2>&1`\n        fi\n\t# Put the nasty error message in config.log where it belongs\n\techo \"$$1[]_PKG_ERRORS\" >&AS_MESSAGE_LOG_FD\n\n\tifelse([$4], , [AC_MSG_ERROR(dnl\n[Package requirements ($2) were not met:\n\n$$1_PKG_ERRORS\n\nConsider adjusting the PKG_CONFIG_PATH environment variable if you\ninstalled software in a non-standard prefix.\n\n_PKG_TEXT\n])],\n\t\t[AC_MSG_RESULT([no])\n                $4])\nelif test $pkg_failed = untried; then\n\tifelse([$4], , [AC_MSG_FAILURE(dnl\n[The pkg-config script could not be found or is too old.  Make sure it\nis in your PATH or set the PKG_CONFIG environment variable to the full\npath to pkg-config.\n\n_PKG_TEXT\n\nTo get pkg-config, see <http://pkg-config.freedesktop.org/>.])],\n\t\t[$4])\nelse\n\t$1[]_CFLAGS=$pkg_cv_[]$1[]_CFLAGS\n\t$1[]_LIBS=$pkg_cv_[]$1[]_LIBS\n        AC_MSG_RESULT([yes])\n\tifelse([$3], , :, [$3])\nfi[]dnl\n])# PKG_CHECK_MODULES\n\ndnl xorg-macros.m4.  Generated from xorg-macros.m4.in xorgversion.m4 by configure.\ndnl\ndnl Copyright (c) 2005, 2006, Oracle and/or its affiliates. All rights reserved.\ndnl \ndnl Permission is hereby granted, free of charge, to any person obtaining a\ndnl copy of this software and associated documentation files (the \"Software\"),\ndnl to deal in the Software without restriction, including without limitation\ndnl the rights to use, copy, modify, merge, publish, distribute, sublicense,\ndnl and/or sell copies of the Software, and to permit persons to whom the\ndnl Software is furnished to do so, subject to the following conditions:\ndnl\ndnl The above copyright notice and this permission notice (including the next\ndnl paragraph) shall be included in all copies or substantial portions of the\ndnl Software.\ndnl\ndnl THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\ndnl IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\ndnl FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL\ndnl THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\ndnl LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\ndnl FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\ndnl DEALINGS IN THE SOFTWARE.\n\n# XORG_MACROS_VERSION(required-version)\n# -------------------------------------\n# Minimum version: 1.1.0\n#\n# If you're using a macro added in Version 1.1 or newer, include this in\n# your configure.ac with the minimum required version, such as:\n# XORG_MACROS_VERSION(1.1)\n#\n# To ensure that this macro is defined, also add:\n# m4_ifndef([XORG_MACROS_VERSION],\n#     [m4_fatal([must install xorg-macros 1.1 or later before running autoconf/autogen])])\n#\n#\n# See the \"minimum version\" comment for each macro you use to see what \n# version you require.\nm4_defun([XORG_MACROS_VERSION],[\nm4_define([vers_have], [1.17])\nm4_define([maj_have], m4_substr(vers_have, 0, m4_index(vers_have, [.])))\nm4_define([maj_needed], m4_substr([$1], 0, m4_index([$1], [.])))\nm4_if(m4_cmp(maj_have, maj_needed), 0,,\n    [m4_fatal([xorg-macros major version ]maj_needed[ is required but ]vers_have[ found])])\nm4_if(m4_version_compare(vers_have, [$1]), -1,\n    [m4_fatal([xorg-macros version $1 or higher is required but ]vers_have[ found])])\nm4_undefine([vers_have])\nm4_undefine([maj_have])\nm4_undefine([maj_needed])\n]) # XORG_MACROS_VERSION\n\n# XORG_PROG_RAWCPP()\n# ------------------\n# Minimum version: 1.0.0\n#\n# Find cpp program and necessary flags for use in pre-processing text files\n# such as man pages and config files\nAC_DEFUN([XORG_PROG_RAWCPP],[\nAC_REQUIRE([AC_PROG_CPP])\nAC_PATH_PROGS(RAWCPP, [cpp], [${CPP}], \n   [$PATH:/bin:/usr/bin:/usr/lib:/usr/libexec:/usr/ccs/lib:/usr/ccs/lbin:/lib])\n\n# Check for flag to avoid builtin definitions - assumes unix is predefined,\n# which is not the best choice for supporting other OS'es, but covers most\n# of the ones we need for now.\nAC_MSG_CHECKING([if $RAWCPP requires -undef])\nAC_LANG_CONFTEST([AC_LANG_SOURCE([[Does cpp redefine unix ?]])])\nif test `${RAWCPP} < conftest.$ac_ext | grep -c 'unix'` -eq 1 ; then\n\tAC_MSG_RESULT([no])\nelse\n\tif test `${RAWCPP} -undef < conftest.$ac_ext | grep -c 'unix'` -eq 1 ; then\n\t\tRAWCPPFLAGS=-undef\n\t\tAC_MSG_RESULT([yes])\n\t# under Cygwin unix is still defined even with -undef\n\telif test `${RAWCPP} -undef -ansi < conftest.$ac_ext | grep -c 'unix'` -eq 1 ; then\n\t\tRAWCPPFLAGS=\"-undef -ansi\"\n\t\tAC_MSG_RESULT([yes, with -ansi])\n\telse\n\t\tAC_MSG_ERROR([${RAWCPP} defines unix with or without -undef.  I don't know what to do.])\n\tfi\nfi\nrm -f conftest.$ac_ext\n\nAC_MSG_CHECKING([if $RAWCPP requires -traditional])\nAC_LANG_CONFTEST([AC_LANG_SOURCE([[Does cpp preserve   \"whitespace\"?]])])\nif test `${RAWCPP} < conftest.$ac_ext | grep -c 'preserve   \\\"'` -eq 1 ; then\n\tAC_MSG_RESULT([no])\nelse\n\tif test `${RAWCPP} -traditional < conftest.$ac_ext | grep -c 'preserve   \\\"'` -eq 1 ; then\n\t\tRAWCPPFLAGS=\"${RAWCPPFLAGS} -traditional\"\n\t\tAC_MSG_RESULT([yes])\n\telse\n\t\tAC_MSG_ERROR([${RAWCPP} does not preserve whitespace with or without -traditional.  I don't know what to do.])\n\tfi\nfi\nrm -f conftest.$ac_ext\nAC_SUBST(RAWCPPFLAGS)\n]) # XORG_PROG_RAWCPP\n\n# XORG_MANPAGE_SECTIONS()\n# -----------------------\n# Minimum version: 1.0.0\n#\n# Determine which sections man pages go in for the different man page types\n# on this OS - replaces *ManSuffix settings in old Imake *.cf per-os files.\n# Not sure if there's any better way than just hardcoding by OS name.\n# Override default settings by setting environment variables\n# Added MAN_SUBSTS in version 1.8\n# Added AC_PROG_SED in version 1.8\n\nAC_DEFUN([XORG_MANPAGE_SECTIONS],[\nAC_REQUIRE([AC_CANONICAL_HOST])\nAC_REQUIRE([AC_PROG_SED])\n\nif test x$APP_MAN_SUFFIX = x    ; then\n    APP_MAN_SUFFIX=1\nfi\nif test x$APP_MAN_DIR = x    ; then\n    APP_MAN_DIR='$(mandir)/man$(APP_MAN_SUFFIX)'\nfi\n\nif test x$LIB_MAN_SUFFIX = x    ; then\n    LIB_MAN_SUFFIX=3\nfi\nif test x$LIB_MAN_DIR = x    ; then\n    LIB_MAN_DIR='$(mandir)/man$(LIB_MAN_SUFFIX)'\nfi\n\nif test x$FILE_MAN_SUFFIX = x    ; then\n    case $host_os in\n\tsolaris*)\tFILE_MAN_SUFFIX=4  ;;\n\t*)\t\tFILE_MAN_SUFFIX=5  ;;\n    esac\nfi\nif test x$FILE_MAN_DIR = x    ; then\n    FILE_MAN_DIR='$(mandir)/man$(FILE_MAN_SUFFIX)'\nfi\n\nif test x$MISC_MAN_SUFFIX = x    ; then\n    case $host_os in\n\tsolaris*)\tMISC_MAN_SUFFIX=5  ;;\n\t*)\t\tMISC_MAN_SUFFIX=7  ;;\n    esac\nfi\nif test x$MISC_MAN_DIR = x    ; then\n    MISC_MAN_DIR='$(mandir)/man$(MISC_MAN_SUFFIX)'\nfi\n\nif test x$DRIVER_MAN_SUFFIX = x    ; then\n    case $host_os in\n\tsolaris*)\tDRIVER_MAN_SUFFIX=7  ;;\n\t*)\t\tDRIVER_MAN_SUFFIX=4  ;;\n    esac\nfi\nif test x$DRIVER_MAN_DIR = x    ; then\n    DRIVER_MAN_DIR='$(mandir)/man$(DRIVER_MAN_SUFFIX)'\nfi\n\nif test x$ADMIN_MAN_SUFFIX = x    ; then\n    case $host_os in\n\tsolaris*)\tADMIN_MAN_SUFFIX=1m ;;\n\t*)\t\tADMIN_MAN_SUFFIX=8  ;;\n    esac\nfi\nif test x$ADMIN_MAN_DIR = x    ; then\n    ADMIN_MAN_DIR='$(mandir)/man$(ADMIN_MAN_SUFFIX)'\nfi\n\n\nAC_SUBST([APP_MAN_SUFFIX])\nAC_SUBST([LIB_MAN_SUFFIX])\nAC_SUBST([FILE_MAN_SUFFIX])\nAC_SUBST([MISC_MAN_SUFFIX])\nAC_SUBST([DRIVER_MAN_SUFFIX])\nAC_SUBST([ADMIN_MAN_SUFFIX])\nAC_SUBST([APP_MAN_DIR])\nAC_SUBST([LIB_MAN_DIR])\nAC_SUBST([FILE_MAN_DIR])\nAC_SUBST([MISC_MAN_DIR])\nAC_SUBST([DRIVER_MAN_DIR])\nAC_SUBST([ADMIN_MAN_DIR])\n\nXORG_MAN_PAGE=\"X Version 11\"\nAC_SUBST([XORG_MAN_PAGE])\nMAN_SUBSTS=\"\\\n\t-e 's|__vendorversion__|\\\"\\$(PACKAGE_STRING)\\\" \\\"\\$(XORG_MAN_PAGE)\\\"|' \\\n\t-e 's|__xorgversion__|\\\"\\$(PACKAGE_STRING)\\\" \\\"\\$(XORG_MAN_PAGE)\\\"|' \\\n\t-e 's|__xservername__|Xorg|g' \\\n\t-e 's|__xconfigfile__|xorg.conf|g' \\\n\t-e 's|__projectroot__|\\$(prefix)|g' \\\n\t-e 's|__apploaddir__|\\$(appdefaultdir)|g' \\\n\t-e 's|__appmansuffix__|\\$(APP_MAN_SUFFIX)|g' \\\n\t-e 's|__drivermansuffix__|\\$(DRIVER_MAN_SUFFIX)|g' \\\n\t-e 's|__adminmansuffix__|\\$(ADMIN_MAN_SUFFIX)|g' \\\n\t-e 's|__libmansuffix__|\\$(LIB_MAN_SUFFIX)|g' \\\n\t-e 's|__miscmansuffix__|\\$(MISC_MAN_SUFFIX)|g' \\\n\t-e 's|__filemansuffix__|\\$(FILE_MAN_SUFFIX)|g'\"\nAC_SUBST([MAN_SUBSTS])\n\n]) # XORG_MANPAGE_SECTIONS\n\n# XORG_CHECK_SGML_DOCTOOLS([MIN-VERSION])\n# ------------------------\n# Minimum version: 1.7.0\n#\n# Defines the variable XORG_SGML_PATH containing the location of X11/defs.ent\n# provided by xorg-sgml-doctools, if installed.\nAC_DEFUN([XORG_CHECK_SGML_DOCTOOLS],[\nAC_MSG_CHECKING([for X.Org SGML entities m4_ifval([$1],[>= $1])])\nXORG_SGML_PATH=\nPKG_CHECK_EXISTS([xorg-sgml-doctools m4_ifval([$1],[>= $1])],\n    [XORG_SGML_PATH=`$PKG_CONFIG --variable=sgmlrootdir xorg-sgml-doctools`],\n    [m4_ifval([$1],[:],\n        [if test x\"$cross_compiling\" != x\"yes\" ; then\n            AC_CHECK_FILE([$prefix/share/sgml/X11/defs.ent],\n                          [XORG_SGML_PATH=$prefix/share/sgml])\n         fi])\n    ])\n\n# Define variables STYLESHEET_SRCDIR and XSL_STYLESHEET containing\n# the path and the name of the doc stylesheet\nif test \"x$XORG_SGML_PATH\" != \"x\" ; then\n   AC_MSG_RESULT([$XORG_SGML_PATH])\n   STYLESHEET_SRCDIR=$XORG_SGML_PATH/X11\n   XSL_STYLESHEET=$STYLESHEET_SRCDIR/xorg.xsl\nelse\n   AC_MSG_RESULT([no])\nfi\n\nAC_SUBST(XORG_SGML_PATH)\nAC_SUBST(STYLESHEET_SRCDIR)\nAC_SUBST(XSL_STYLESHEET)\nAM_CONDITIONAL([HAVE_STYLESHEETS], [test \"x$XSL_STYLESHEET\" != \"x\"])\n]) # XORG_CHECK_SGML_DOCTOOLS\n\n# XORG_CHECK_LINUXDOC\n# -------------------\n# Minimum version: 1.0.0\n#\n# Defines the variable MAKE_TEXT if the necessary tools and\n# files are found. $(MAKE_TEXT) blah.sgml will then produce blah.txt.\n# Whether or not the necessary tools and files are found can be checked\n# with the AM_CONDITIONAL \"BUILD_LINUXDOC\"\nAC_DEFUN([XORG_CHECK_LINUXDOC],[\nAC_REQUIRE([XORG_CHECK_SGML_DOCTOOLS])\nAC_REQUIRE([XORG_WITH_PS2PDF])\n\nAC_PATH_PROG(LINUXDOC, linuxdoc)\n\nAC_MSG_CHECKING([whether to build documentation])\n\nif test x$XORG_SGML_PATH != x && test x$LINUXDOC != x ; then\n   BUILDDOC=yes\nelse\n   BUILDDOC=no\nfi\n\nAM_CONDITIONAL(BUILD_LINUXDOC, [test x$BUILDDOC = xyes])\n\nAC_MSG_RESULT([$BUILDDOC])\n\nAC_MSG_CHECKING([whether to build pdf documentation])\n\nif test x$have_ps2pdf != xno && test x$BUILD_PDFDOC != xno; then\n   BUILDPDFDOC=yes\nelse\n   BUILDPDFDOC=no\nfi\n\nAM_CONDITIONAL(BUILD_PDFDOC, [test x$BUILDPDFDOC = xyes])\n\nAC_MSG_RESULT([$BUILDPDFDOC])\n\nMAKE_TEXT=\"SGML_SEARCH_PATH=$XORG_SGML_PATH GROFF_NO_SGR=y $LINUXDOC -B txt -f\"\nMAKE_PS=\"SGML_SEARCH_PATH=$XORG_SGML_PATH $LINUXDOC -B latex --papersize=letter --output=ps\"\nMAKE_PDF=\"$PS2PDF\"\nMAKE_HTML=\"SGML_SEARCH_PATH=$XORG_SGML_PATH $LINUXDOC  -B html --split=0\"\n\nAC_SUBST(MAKE_TEXT)\nAC_SUBST(MAKE_PS)\nAC_SUBST(MAKE_PDF)\nAC_SUBST(MAKE_HTML)\n]) # XORG_CHECK_LINUXDOC\n\n# XORG_CHECK_DOCBOOK\n# -------------------\n# Minimum version: 1.0.0\n#\n# Checks for the ability to build output formats from SGML DocBook source.\n# For XXX in {TXT, PDF, PS, HTML}, the AM_CONDITIONAL \"BUILD_XXXDOC\"\n# indicates whether the necessary tools and files are found and, if set,\n# $(MAKE_XXX) blah.sgml will produce blah.xxx.\nAC_DEFUN([XORG_CHECK_DOCBOOK],[\nAC_REQUIRE([XORG_CHECK_SGML_DOCTOOLS])\n\nBUILDTXTDOC=no\nBUILDPDFDOC=no\nBUILDPSDOC=no\nBUILDHTMLDOC=no\n\nAC_PATH_PROG(DOCBOOKPS, docbook2ps)\nAC_PATH_PROG(DOCBOOKPDF, docbook2pdf)\nAC_PATH_PROG(DOCBOOKHTML, docbook2html)\nAC_PATH_PROG(DOCBOOKTXT, docbook2txt)\n\nAC_MSG_CHECKING([whether to build text documentation])\nif test x$XORG_SGML_PATH != x && test x$DOCBOOKTXT != x &&\n   test x$BUILD_TXTDOC != xno; then\n\tBUILDTXTDOC=yes\nfi\nAM_CONDITIONAL(BUILD_TXTDOC, [test x$BUILDTXTDOC = xyes])\nAC_MSG_RESULT([$BUILDTXTDOC])\n\nAC_MSG_CHECKING([whether to build PDF documentation])\nif test x$XORG_SGML_PATH != x && test x$DOCBOOKPDF != x &&\n   test x$BUILD_PDFDOC != xno; then\n\tBUILDPDFDOC=yes\nfi\nAM_CONDITIONAL(BUILD_PDFDOC, [test x$BUILDPDFDOC = xyes])\nAC_MSG_RESULT([$BUILDPDFDOC])\n\nAC_MSG_CHECKING([whether to build PostScript documentation])\nif test x$XORG_SGML_PATH != x && test x$DOCBOOKPS != x &&\n   test x$BUILD_PSDOC != xno; then\n\tBUILDPSDOC=yes\nfi\nAM_CONDITIONAL(BUILD_PSDOC, [test x$BUILDPSDOC = xyes])\nAC_MSG_RESULT([$BUILDPSDOC])\n\nAC_MSG_CHECKING([whether to build HTML documentation])\nif test x$XORG_SGML_PATH != x && test x$DOCBOOKHTML != x &&\n   test x$BUILD_HTMLDOC != xno; then\n\tBUILDHTMLDOC=yes\nfi\nAM_CONDITIONAL(BUILD_HTMLDOC, [test x$BUILDHTMLDOC = xyes])\nAC_MSG_RESULT([$BUILDHTMLDOC])\n\nMAKE_TEXT=\"SGML_SEARCH_PATH=$XORG_SGML_PATH $DOCBOOKTXT\"\nMAKE_PS=\"SGML_SEARCH_PATH=$XORG_SGML_PATH $DOCBOOKPS\"\nMAKE_PDF=\"SGML_SEARCH_PATH=$XORG_SGML_PATH $DOCBOOKPDF\"\nMAKE_HTML=\"SGML_SEARCH_PATH=$XORG_SGML_PATH $DOCBOOKHTML\"\n\nAC_SUBST(MAKE_TEXT)\nAC_SUBST(MAKE_PS)\nAC_SUBST(MAKE_PDF)\nAC_SUBST(MAKE_HTML)\n]) # XORG_CHECK_DOCBOOK\n\n# XORG_WITH_XMLTO([MIN-VERSION], [DEFAULT])\n# ----------------\n# Minimum version: 1.5.0\n# Minimum version for optional DEFAULT argument: 1.11.0\n#\n# Documentation tools are not always available on all platforms and sometimes\n# not at the appropriate level. This macro enables a module to test for the\n# presence of the tool and obtain it's path in separate variables. Coupled with\n# the --with-xmlto option, it allows maximum flexibilty in making decisions\n# as whether or not to use the xmlto package. When DEFAULT is not specified,\n# --with-xmlto assumes 'auto'.\n#\n# Interface to module:\n# HAVE_XMLTO: \tused in makefiles to conditionally generate documentation\n# XMLTO:\treturns the path of the xmlto program found\n#\t\treturns the path set by the user in the environment\n# --with-xmlto:\t'yes' user instructs the module to use xmlto\n#\t\t'no' user instructs the module not to use xmlto\n#\n# Added in version 1.10.0\n# HAVE_XMLTO_TEXT: used in makefiles to conditionally generate text documentation\n#                  xmlto for text output requires either lynx, links, or w3m browsers\n#\n# If the user sets the value of XMLTO, AC_PATH_PROG skips testing the path.\n#\nAC_DEFUN([XORG_WITH_XMLTO],[\nAC_ARG_VAR([XMLTO], [Path to xmlto command])\nm4_define([_defopt], m4_default([$2], [auto]))\nAC_ARG_WITH(xmlto,\n\tAS_HELP_STRING([--with-xmlto],\n\t   [Use xmlto to regenerate documentation (default: ]_defopt[)]),\n\t   [use_xmlto=$withval], [use_xmlto=]_defopt)\nm4_undefine([_defopt])\n\nif test \"x$use_xmlto\" = x\"auto\"; then\n   AC_PATH_PROG([XMLTO], [xmlto])\n   if test \"x$XMLTO\" = \"x\"; then\n        AC_MSG_WARN([xmlto not found - documentation targets will be skipped])\n\thave_xmlto=no\n   else\n        have_xmlto=yes\n   fi\nelif test \"x$use_xmlto\" = x\"yes\" ; then\n   AC_PATH_PROG([XMLTO], [xmlto])\n   if test \"x$XMLTO\" = \"x\"; then\n        AC_MSG_ERROR([--with-xmlto=yes specified but xmlto not found in PATH])\n   fi\n   have_xmlto=yes\nelif test \"x$use_xmlto\" = x\"no\" ; then\n   if test \"x$XMLTO\" != \"x\"; then\n      AC_MSG_WARN([ignoring XMLTO environment variable since --with-xmlto=no was specified])\n   fi\n   have_xmlto=no\nelse\n   AC_MSG_ERROR([--with-xmlto expects 'yes' or 'no'])\nfi\n\n# Test for a minimum version of xmlto, if provided.\nm4_ifval([$1],\n[if test \"$have_xmlto\" = yes; then\n    # scrape the xmlto version\n    AC_MSG_CHECKING([the xmlto version])\n    xmlto_version=`$XMLTO --version 2>/dev/null | cut -d' ' -f3`\n    AC_MSG_RESULT([$xmlto_version])\n    AS_VERSION_COMPARE([$xmlto_version], [$1],\n        [if test \"x$use_xmlto\" = xauto; then\n            AC_MSG_WARN([xmlto version $xmlto_version found, but $1 needed])\n            have_xmlto=no\n        else\n            AC_MSG_ERROR([xmlto version $xmlto_version found, but $1 needed])\n        fi])\nfi])\n\n# Test for the ability of xmlto to generate a text target\nhave_xmlto_text=no\ncat > conftest.xml << \"EOF\"\nEOF\nAS_IF([test \"$have_xmlto\" = yes],\n      [AS_IF([$XMLTO --skip-validation txt conftest.xml >/dev/null 2>&1],\n             [have_xmlto_text=yes],\n             [AC_MSG_WARN([xmlto cannot generate text format, this format skipped])])])\nrm -f conftest.xml\nAM_CONDITIONAL([HAVE_XMLTO_TEXT], [test $have_xmlto_text = yes])\nAM_CONDITIONAL([HAVE_XMLTO], [test \"$have_xmlto\" = yes])\n]) # XORG_WITH_XMLTO\n\n# XORG_WITH_XSLTPROC([MIN-VERSION], [DEFAULT])\n# --------------------------------------------\n# Minimum version: 1.12.0\n# Minimum version for optional DEFAULT argument: 1.12.0\n#\n# XSLT (Extensible Stylesheet Language Transformations) is a declarative,\n# XML-based language used for the transformation of XML documents.\n# The xsltproc command line tool is for applying XSLT stylesheets to XML documents.\n# It is used under the cover by xmlto to generate html files from DocBook/XML.\n# The XSLT processor is often used as a standalone tool for transformations.\n# It should not be assumed that this tool is used only to work with documnetation.\n# When DEFAULT is not specified, --with-xsltproc assumes 'auto'.\n#\n# Interface to module:\n# HAVE_XSLTPROC: used in makefiles to conditionally generate documentation\n# XSLTPROC:\t returns the path of the xsltproc program found\n#\t\t returns the path set by the user in the environment\n# --with-xsltproc: 'yes' user instructs the module to use xsltproc\n#\t\t  'no' user instructs the module not to use xsltproc\n# have_xsltproc: returns yes if xsltproc found in PATH or no\n#\n# If the user sets the value of XSLTPROC, AC_PATH_PROG skips testing the path.\n#\nAC_DEFUN([XORG_WITH_XSLTPROC],[\nAC_ARG_VAR([XSLTPROC], [Path to xsltproc command])\n# Preserves the interface, should it be implemented later\nm4_ifval([$1], [m4_warn([syntax], [Checking for xsltproc MIN-VERSION is not implemented])])\nm4_define([_defopt], m4_default([$2], [auto]))\nAC_ARG_WITH(xsltproc,\n\tAS_HELP_STRING([--with-xsltproc],\n\t   [Use xsltproc for the transformation of XML documents (default: ]_defopt[)]),\n\t   [use_xsltproc=$withval], [use_xsltproc=]_defopt)\nm4_undefine([_defopt])\n\nif test \"x$use_xsltproc\" = x\"auto\"; then\n   AC_PATH_PROG([XSLTPROC], [xsltproc])\n   if test \"x$XSLTPROC\" = \"x\"; then\n        AC_MSG_WARN([xsltproc not found - cannot transform XML documents])\n\thave_xsltproc=no\n   else\n        have_xsltproc=yes\n   fi\nelif test \"x$use_xsltproc\" = x\"yes\" ; then\n   AC_PATH_PROG([XSLTPROC], [xsltproc])\n   if test \"x$XSLTPROC\" = \"x\"; then\n        AC_MSG_ERROR([--with-xsltproc=yes specified but xsltproc not found in PATH])\n   fi\n   have_xsltproc=yes\nelif test \"x$use_xsltproc\" = x\"no\" ; then\n   if test \"x$XSLTPROC\" != \"x\"; then\n      AC_MSG_WARN([ignoring XSLTPROC environment variable since --with-xsltproc=no was specified])\n   fi\n   have_xsltproc=no\nelse\n   AC_MSG_ERROR([--with-xsltproc expects 'yes' or 'no'])\nfi\n\nAM_CONDITIONAL([HAVE_XSLTPROC], [test \"$have_xsltproc\" = yes])\n]) # XORG_WITH_XSLTPROC\n\n# XORG_WITH_PERL([MIN-VERSION], [DEFAULT])\n# ----------------------------------------\n# Minimum version: 1.15.0\n#\n# PERL (Practical Extraction and Report Language) is a language optimized for\n# scanning arbitrary text files, extracting information from those text files,\n# and printing reports based on that information.\n#\n# When DEFAULT is not specified, --with-perl assumes 'auto'.\n#\n# Interface to module:\n# HAVE_PERL: used in makefiles to conditionally scan text files\n# PERL:\t     returns the path of the perl program found\n#\t     returns the path set by the user in the environment\n# --with-perl: 'yes' user instructs the module to use perl\n#\t       'no' user instructs the module not to use perl\n# have_perl: returns yes if perl found in PATH or no\n#\n# If the user sets the value of PERL, AC_PATH_PROG skips testing the path.\n#\nAC_DEFUN([XORG_WITH_PERL],[\nAC_ARG_VAR([PERL], [Path to perl command])\n# Preserves the interface, should it be implemented later\nm4_ifval([$1], [m4_warn([syntax], [Checking for perl MIN-VERSION is not implemented])])\nm4_define([_defopt], m4_default([$2], [auto]))\nAC_ARG_WITH(perl,\n\tAS_HELP_STRING([--with-perl],\n\t   [Use perl for extracting information from files (default: ]_defopt[)]),\n\t   [use_perl=$withval], [use_perl=]_defopt)\nm4_undefine([_defopt])\n\nif test \"x$use_perl\" = x\"auto\"; then\n   AC_PATH_PROG([PERL], [perl])\n   if test \"x$PERL\" = \"x\"; then\n        AC_MSG_WARN([perl not found - cannot extract information and report])\n\thave_perl=no\n   else\n        have_perl=yes\n   fi\nelif test \"x$use_perl\" = x\"yes\" ; then\n   AC_PATH_PROG([PERL], [perl])\n   if test \"x$PERL\" = \"x\"; then\n        AC_MSG_ERROR([--with-perl=yes specified but perl not found in PATH])\n   fi\n   have_perl=yes\nelif test \"x$use_perl\" = x\"no\" ; then\n   if test \"x$PERL\" != \"x\"; then\n      AC_MSG_WARN([ignoring PERL environment variable since --with-perl=no was specified])\n   fi\n   have_perl=no\nelse\n   AC_MSG_ERROR([--with-perl expects 'yes' or 'no'])\nfi\n\nAM_CONDITIONAL([HAVE_PERL], [test \"$have_perl\" = yes])\n]) # XORG_WITH_PERL\n\n# XORG_WITH_ASCIIDOC([MIN-VERSION], [DEFAULT])\n# ----------------\n# Minimum version: 1.5.0\n# Minimum version for optional DEFAULT argument: 1.11.0\n#\n# Documentation tools are not always available on all platforms and sometimes\n# not at the appropriate level. This macro enables a module to test for the\n# presence of the tool and obtain it's path in separate variables. Coupled with\n# the --with-asciidoc option, it allows maximum flexibilty in making decisions\n# as whether or not to use the asciidoc package. When DEFAULT is not specified,\n# --with-asciidoc assumes 'auto'.\n#\n# Interface to module:\n# HAVE_ASCIIDOC: used in makefiles to conditionally generate documentation\n# ASCIIDOC:\t returns the path of the asciidoc program found\n#\t\t returns the path set by the user in the environment\n# --with-asciidoc: 'yes' user instructs the module to use asciidoc\n#\t\t  'no' user instructs the module not to use asciidoc\n#\n# If the user sets the value of ASCIIDOC, AC_PATH_PROG skips testing the path.\n#\nAC_DEFUN([XORG_WITH_ASCIIDOC],[\nAC_ARG_VAR([ASCIIDOC], [Path to asciidoc command])\nm4_define([_defopt], m4_default([$2], [auto]))\nAC_ARG_WITH(asciidoc,\n\tAS_HELP_STRING([--with-asciidoc],\n\t   [Use asciidoc to regenerate documentation (default: ]_defopt[)]),\n\t   [use_asciidoc=$withval], [use_asciidoc=]_defopt)\nm4_undefine([_defopt])\n\nif test \"x$use_asciidoc\" = x\"auto\"; then\n   AC_PATH_PROG([ASCIIDOC], [asciidoc])\n   if test \"x$ASCIIDOC\" = \"x\"; then\n        AC_MSG_WARN([asciidoc not found - documentation targets will be skipped])\n\thave_asciidoc=no\n   else\n        have_asciidoc=yes\n   fi\nelif test \"x$use_asciidoc\" = x\"yes\" ; then\n   AC_PATH_PROG([ASCIIDOC], [asciidoc])\n   if test \"x$ASCIIDOC\" = \"x\"; then\n        AC_MSG_ERROR([--with-asciidoc=yes specified but asciidoc not found in PATH])\n   fi\n   have_asciidoc=yes\nelif test \"x$use_asciidoc\" = x\"no\" ; then\n   if test \"x$ASCIIDOC\" != \"x\"; then\n      AC_MSG_WARN([ignoring ASCIIDOC environment variable since --with-asciidoc=no was specified])\n   fi\n   have_asciidoc=no\nelse\n   AC_MSG_ERROR([--with-asciidoc expects 'yes' or 'no'])\nfi\nm4_ifval([$1],\n[if test \"$have_asciidoc\" = yes; then\n    # scrape the asciidoc version\n    AC_MSG_CHECKING([the asciidoc version])\n    asciidoc_version=`$ASCIIDOC --version 2>/dev/null | cut -d' ' -f2`\n    AC_MSG_RESULT([$asciidoc_version])\n    AS_VERSION_COMPARE([$asciidoc_version], [$1],\n        [if test \"x$use_asciidoc\" = xauto; then\n            AC_MSG_WARN([asciidoc version $asciidoc_version found, but $1 needed])\n            have_asciidoc=no\n        else\n            AC_MSG_ERROR([asciidoc version $asciidoc_version found, but $1 needed])\n        fi])\nfi])\nAM_CONDITIONAL([HAVE_ASCIIDOC], [test \"$have_asciidoc\" = yes])\n]) # XORG_WITH_ASCIIDOC\n\n# XORG_WITH_DOXYGEN([MIN-VERSION], [DEFAULT])\n# --------------------------------\n# Minimum version: 1.5.0\n# Minimum version for optional DEFAULT argument: 1.11.0\n#\n# Documentation tools are not always available on all platforms and sometimes\n# not at the appropriate level. This macro enables a module to test for the\n# presence of the tool and obtain it's path in separate variables. Coupled with\n# the --with-doxygen option, it allows maximum flexibilty in making decisions\n# as whether or not to use the doxygen package. When DEFAULT is not specified,\n# --with-doxygen assumes 'auto'.\n#\n# Interface to module:\n# HAVE_DOXYGEN: used in makefiles to conditionally generate documentation\n# DOXYGEN:\t returns the path of the doxygen program found\n#\t\t returns the path set by the user in the environment\n# --with-doxygen: 'yes' user instructs the module to use doxygen\n#\t\t  'no' user instructs the module not to use doxygen\n#\n# If the user sets the value of DOXYGEN, AC_PATH_PROG skips testing the path.\n#\nAC_DEFUN([XORG_WITH_DOXYGEN],[\nAC_ARG_VAR([DOXYGEN], [Path to doxygen command])\nm4_define([_defopt], m4_default([$2], [auto]))\nAC_ARG_WITH(doxygen,\n\tAS_HELP_STRING([--with-doxygen],\n\t   [Use doxygen to regenerate documentation (default: ]_defopt[)]),\n\t   [use_doxygen=$withval], [use_doxygen=]_defopt)\nm4_undefine([_defopt])\n\nif test \"x$use_doxygen\" = x\"auto\"; then\n   AC_PATH_PROG([DOXYGEN], [doxygen])\n   if test \"x$DOXYGEN\" = \"x\"; then\n        AC_MSG_WARN([doxygen not found - documentation targets will be skipped])\n\thave_doxygen=no\n   else\n        have_doxygen=yes\n   fi\nelif test \"x$use_doxygen\" = x\"yes\" ; then\n   AC_PATH_PROG([DOXYGEN], [doxygen])\n   if test \"x$DOXYGEN\" = \"x\"; then\n        AC_MSG_ERROR([--with-doxygen=yes specified but doxygen not found in PATH])\n   fi\n   have_doxygen=yes\nelif test \"x$use_doxygen\" = x\"no\" ; then\n   if test \"x$DOXYGEN\" != \"x\"; then\n      AC_MSG_WARN([ignoring DOXYGEN environment variable since --with-doxygen=no was specified])\n   fi\n   have_doxygen=no\nelse\n   AC_MSG_ERROR([--with-doxygen expects 'yes' or 'no'])\nfi\nm4_ifval([$1],\n[if test \"$have_doxygen\" = yes; then\n    # scrape the doxygen version\n    AC_MSG_CHECKING([the doxygen version])\n    doxygen_version=`$DOXYGEN --version 2>/dev/null`\n    AC_MSG_RESULT([$doxygen_version])\n    AS_VERSION_COMPARE([$doxygen_version], [$1],\n        [if test \"x$use_doxygen\" = xauto; then\n            AC_MSG_WARN([doxygen version $doxygen_version found, but $1 needed])\n            have_doxygen=no\n        else\n            AC_MSG_ERROR([doxygen version $doxygen_version found, but $1 needed])\n        fi])\nfi])\nAM_CONDITIONAL([HAVE_DOXYGEN], [test \"$have_doxygen\" = yes])\n]) # XORG_WITH_DOXYGEN\n\n# XORG_WITH_GROFF([DEFAULT])\n# ----------------\n# Minimum version: 1.6.0\n# Minimum version for optional DEFAULT argument: 1.11.0\n#\n# Documentation tools are not always available on all platforms and sometimes\n# not at the appropriate level. This macro enables a module to test for the\n# presence of the tool and obtain it's path in separate variables. Coupled with\n# the --with-groff option, it allows maximum flexibilty in making decisions\n# as whether or not to use the groff package. When DEFAULT is not specified,\n# --with-groff assumes 'auto'.\n#\n# Interface to module:\n# HAVE_GROFF:\t used in makefiles to conditionally generate documentation\n# HAVE_GROFF_MM: the memorandum macros (-mm) package\n# HAVE_GROFF_MS: the -ms macros package\n# GROFF:\t returns the path of the groff program found\n#\t\t returns the path set by the user in the environment\n# --with-groff:\t 'yes' user instructs the module to use groff\n#\t\t 'no' user instructs the module not to use groff\n#\n# Added in version 1.9.0:\n# HAVE_GROFF_HTML: groff has dependencies to output HTML format:\n#\t\t   pnmcut pnmcrop pnmtopng pnmtops from the netpbm package.\n#\t\t   psselect from the psutils package.\n#\t\t   the ghostcript package. Refer to the grohtml man pages\n#\n# If the user sets the value of GROFF, AC_PATH_PROG skips testing the path.\n#\n# OS and distros often splits groff in a basic and full package, the former\n# having the groff program and the later having devices, fonts and macros\n# Checking for the groff executable is not enough.\n#\n# If macros are missing, we cannot assume that groff is useless, so we don't\n# unset HAVE_GROFF or GROFF env variables.\n# HAVE_GROFF_?? can never be true while HAVE_GROFF is false.\n#\nAC_DEFUN([XORG_WITH_GROFF],[\nAC_ARG_VAR([GROFF], [Path to groff command])\nm4_define([_defopt], m4_default([$1], [auto]))\nAC_ARG_WITH(groff,\n\tAS_HELP_STRING([--with-groff],\n\t   [Use groff to regenerate documentation (default: ]_defopt[)]),\n\t   [use_groff=$withval], [use_groff=]_defopt)\nm4_undefine([_defopt])\n\nif test \"x$use_groff\" = x\"auto\"; then\n   AC_PATH_PROG([GROFF], [groff])\n   if test \"x$GROFF\" = \"x\"; then\n        AC_MSG_WARN([groff not found - documentation targets will be skipped])\n\thave_groff=no\n   else\n        have_groff=yes\n   fi\nelif test \"x$use_groff\" = x\"yes\" ; then\n   AC_PATH_PROG([GROFF], [groff])\n   if test \"x$GROFF\" = \"x\"; then\n        AC_MSG_ERROR([--with-groff=yes specified but groff not found in PATH])\n   fi\n   have_groff=yes\nelif test \"x$use_groff\" = x\"no\" ; then\n   if test \"x$GROFF\" != \"x\"; then\n      AC_MSG_WARN([ignoring GROFF environment variable since --with-groff=no was specified])\n   fi\n   have_groff=no\nelse\n   AC_MSG_ERROR([--with-groff expects 'yes' or 'no'])\nfi\n\n# We have groff, test for the presence of the macro packages\nif test \"x$have_groff\" = x\"yes\"; then\n    AC_MSG_CHECKING([for ${GROFF} -ms macros])\n    if ${GROFF} -ms -I. /dev/null >/dev/null 2>&1 ; then\n        groff_ms_works=yes\n    else\n        groff_ms_works=no\n    fi\n    AC_MSG_RESULT([$groff_ms_works])\n    AC_MSG_CHECKING([for ${GROFF} -mm macros])\n    if ${GROFF} -mm -I. /dev/null >/dev/null 2>&1 ; then\n        groff_mm_works=yes\n    else\n        groff_mm_works=no\n    fi\n    AC_MSG_RESULT([$groff_mm_works])\nfi\n\n# We have groff, test for HTML dependencies, one command per package\nif test \"x$have_groff\" = x\"yes\"; then\n   AC_PATH_PROGS(GS_PATH, [gs gswin32c])\n   AC_PATH_PROG(PNMTOPNG_PATH, [pnmtopng])\n   AC_PATH_PROG(PSSELECT_PATH, [psselect])\n   if test \"x$GS_PATH\" != \"x\" -a \"x$PNMTOPNG_PATH\" != \"x\" -a \"x$PSSELECT_PATH\" != \"x\"; then\n      have_groff_html=yes\n   else\n      have_groff_html=no\n      AC_MSG_WARN([grohtml dependencies not found - HTML Documentation skipped. Refer to grohtml man pages])\n   fi\nfi\n\n# Set Automake conditionals for Makefiles\nAM_CONDITIONAL([HAVE_GROFF], [test \"$have_groff\" = yes])\nAM_CONDITIONAL([HAVE_GROFF_MS], [test \"$groff_ms_works\" = yes])\nAM_CONDITIONAL([HAVE_GROFF_MM], [test \"$groff_mm_works\" = yes])\nAM_CONDITIONAL([HAVE_GROFF_HTML], [test \"$have_groff_html\" = yes])\n]) # XORG_WITH_GROFF\n\n# XORG_WITH_FOP([MIN-VERSION], [DEFAULT])\n# ---------------------------------------\n# Minimum version: 1.6.0\n# Minimum version for optional DEFAULT argument: 1.11.0\n# Minimum version for optional MIN-VERSION argument: 1.15.0\n#\n# Documentation tools are not always available on all platforms and sometimes\n# not at the appropriate level. This macro enables a module to test for the\n# presence of the tool and obtain it's path in separate variables. Coupled with\n# the --with-fop option, it allows maximum flexibilty in making decisions\n# as whether or not to use the fop package. When DEFAULT is not specified,\n# --with-fop assumes 'auto'.\n#\n# Interface to module:\n# HAVE_FOP: \tused in makefiles to conditionally generate documentation\n# FOP:\t \treturns the path of the fop program found\n#\t\treturns the path set by the user in the environment\n# --with-fop: \t'yes' user instructs the module to use fop\n#\t\t'no' user instructs the module not to use fop\n#\n# If the user sets the value of FOP, AC_PATH_PROG skips testing the path.\n#\nAC_DEFUN([XORG_WITH_FOP],[\nAC_ARG_VAR([FOP], [Path to fop command])\nm4_define([_defopt], m4_default([$2], [auto]))\nAC_ARG_WITH(fop,\n\tAS_HELP_STRING([--with-fop],\n\t   [Use fop to regenerate documentation (default: ]_defopt[)]),\n\t   [use_fop=$withval], [use_fop=]_defopt)\nm4_undefine([_defopt])\n\nif test \"x$use_fop\" = x\"auto\"; then\n   AC_PATH_PROG([FOP], [fop])\n   if test \"x$FOP\" = \"x\"; then\n        AC_MSG_WARN([fop not found - documentation targets will be skipped])\n\thave_fop=no\n   else\n        have_fop=yes\n   fi\nelif test \"x$use_fop\" = x\"yes\" ; then\n   AC_PATH_PROG([FOP], [fop])\n   if test \"x$FOP\" = \"x\"; then\n        AC_MSG_ERROR([--with-fop=yes specified but fop not found in PATH])\n   fi\n   have_fop=yes\nelif test \"x$use_fop\" = x\"no\" ; then\n   if test \"x$FOP\" != \"x\"; then\n      AC_MSG_WARN([ignoring FOP environment variable since --with-fop=no was specified])\n   fi\n   have_fop=no\nelse\n   AC_MSG_ERROR([--with-fop expects 'yes' or 'no'])\nfi\n\n# Test for a minimum version of fop, if provided.\nm4_ifval([$1],\n[if test \"$have_fop\" = yes; then\n    # scrape the fop version\n    AC_MSG_CHECKING([for fop minimum version])\n    fop_version=`$FOP -version 2>/dev/null | cut -d' ' -f3`\n    AC_MSG_RESULT([$fop_version])\n    AS_VERSION_COMPARE([$fop_version], [$1],\n        [if test \"x$use_fop\" = xauto; then\n            AC_MSG_WARN([fop version $fop_version found, but $1 needed])\n            have_fop=no\n        else\n            AC_MSG_ERROR([fop version $fop_version found, but $1 needed])\n        fi])\nfi])\nAM_CONDITIONAL([HAVE_FOP], [test \"$have_fop\" = yes])\n]) # XORG_WITH_FOP\n\n# XORG_WITH_PS2PDF([DEFAULT])\n# ----------------\n# Minimum version: 1.6.0\n# Minimum version for optional DEFAULT argument: 1.11.0\n#\n# Documentation tools are not always available on all platforms and sometimes\n# not at the appropriate level. This macro enables a module to test for the\n# presence of the tool and obtain it's path in separate variables. Coupled with\n# the --with-ps2pdf option, it allows maximum flexibilty in making decisions\n# as whether or not to use the ps2pdf package. When DEFAULT is not specified,\n# --with-ps2pdf assumes 'auto'.\n#\n# Interface to module:\n# HAVE_PS2PDF: \tused in makefiles to conditionally generate documentation\n# PS2PDF:\treturns the path of the ps2pdf program found\n#\t\treturns the path set by the user in the environment\n# --with-ps2pdf: 'yes' user instructs the module to use ps2pdf\n#\t\t 'no' user instructs the module not to use ps2pdf\n#\n# If the user sets the value of PS2PDF, AC_PATH_PROG skips testing the path.\n#\nAC_DEFUN([XORG_WITH_PS2PDF],[\nAC_ARG_VAR([PS2PDF], [Path to ps2pdf command])\nm4_define([_defopt], m4_default([$1], [auto]))\nAC_ARG_WITH(ps2pdf,\n\tAS_HELP_STRING([--with-ps2pdf],\n\t   [Use ps2pdf to regenerate documentation (default: ]_defopt[)]),\n\t   [use_ps2pdf=$withval], [use_ps2pdf=]_defopt)\nm4_undefine([_defopt])\n\nif test \"x$use_ps2pdf\" = x\"auto\"; then\n   AC_PATH_PROG([PS2PDF], [ps2pdf])\n   if test \"x$PS2PDF\" = \"x\"; then\n        AC_MSG_WARN([ps2pdf not found - documentation targets will be skipped])\n\thave_ps2pdf=no\n   else\n        have_ps2pdf=yes\n   fi\nelif test \"x$use_ps2pdf\" = x\"yes\" ; then\n   AC_PATH_PROG([PS2PDF], [ps2pdf])\n   if test \"x$PS2PDF\" = \"x\"; then\n        AC_MSG_ERROR([--with-ps2pdf=yes specified but ps2pdf not found in PATH])\n   fi\n   have_ps2pdf=yes\nelif test \"x$use_ps2pdf\" = x\"no\" ; then\n   if test \"x$PS2PDF\" != \"x\"; then\n      AC_MSG_WARN([ignoring PS2PDF environment variable since --with-ps2pdf=no was specified])\n   fi\n   have_ps2pdf=no\nelse\n   AC_MSG_ERROR([--with-ps2pdf expects 'yes' or 'no'])\nfi\nAM_CONDITIONAL([HAVE_PS2PDF], [test \"$have_ps2pdf\" = yes])\n]) # XORG_WITH_PS2PDF\n\n# XORG_ENABLE_DOCS (enable_docs=yes)\n# ----------------\n# Minimum version: 1.6.0\n#\n# Documentation tools are not always available on all platforms and sometimes\n# not at the appropriate level. This macro enables a builder to skip all\n# documentation targets except traditional man pages.\n# Combined with the specific tool checking macros XORG_WITH_*, it provides\n# maximum flexibilty in controlling documentation building.\n# Refer to:\n# XORG_WITH_XMLTO         --with-xmlto\n# XORG_WITH_ASCIIDOC      --with-asciidoc\n# XORG_WITH_DOXYGEN       --with-doxygen\n# XORG_WITH_FOP           --with-fop\n# XORG_WITH_GROFF         --with-groff\n# XORG_WITH_PS2PDF        --with-ps2pdf\n#\n# Interface to module:\n# ENABLE_DOCS: \t  used in makefiles to conditionally generate documentation\n# --enable-docs: 'yes' user instructs the module to generate docs\n#\t\t 'no' user instructs the module not to generate docs\n# parm1:\tspecify the default value, yes or no.\n#\nAC_DEFUN([XORG_ENABLE_DOCS],[\nm4_define([docs_default], m4_default([$1], [yes]))\nAC_ARG_ENABLE(docs,\n\tAS_HELP_STRING([--enable-docs],\n\t   [Enable building the documentation (default: ]docs_default[)]),\n\t   [build_docs=$enableval], [build_docs=]docs_default)\nm4_undefine([docs_default])\nAM_CONDITIONAL(ENABLE_DOCS, [test x$build_docs = xyes])\nAC_MSG_CHECKING([whether to build documentation])\nAC_MSG_RESULT([$build_docs])\n]) # XORG_ENABLE_DOCS\n\n# XORG_ENABLE_DEVEL_DOCS (enable_devel_docs=yes)\n# ----------------\n# Minimum version: 1.6.0\n#\n# This macro enables a builder to skip all developer documentation.\n# Combined with the specific tool checking macros XORG_WITH_*, it provides\n# maximum flexibilty in controlling documentation building.\n# Refer to:\n# XORG_WITH_XMLTO         --with-xmlto\n# XORG_WITH_ASCIIDOC      --with-asciidoc\n# XORG_WITH_DOXYGEN       --with-doxygen\n# XORG_WITH_FOP           --with-fop\n# XORG_WITH_GROFF         --with-groff\n# XORG_WITH_PS2PDF        --with-ps2pdf\n#\n# Interface to module:\n# ENABLE_DEVEL_DOCS:\tused in makefiles to conditionally generate developer docs\n# --enable-devel-docs:\t'yes' user instructs the module to generate developer docs\n#\t\t\t'no' user instructs the module not to generate developer docs\n# parm1:\t\tspecify the default value, yes or no.\n#\nAC_DEFUN([XORG_ENABLE_DEVEL_DOCS],[\nm4_define([devel_default], m4_default([$1], [yes]))\nAC_ARG_ENABLE(devel-docs,\n\tAS_HELP_STRING([--enable-devel-docs],\n\t   [Enable building the developer documentation (default: ]devel_default[)]),\n\t   [build_devel_docs=$enableval], [build_devel_docs=]devel_default)\nm4_undefine([devel_default])\nAM_CONDITIONAL(ENABLE_DEVEL_DOCS, [test x$build_devel_docs = xyes])\nAC_MSG_CHECKING([whether to build developer documentation])\nAC_MSG_RESULT([$build_devel_docs])\n]) # XORG_ENABLE_DEVEL_DOCS\n\n# XORG_ENABLE_SPECS (enable_specs=yes)\n# ----------------\n# Minimum version: 1.6.0\n#\n# This macro enables a builder to skip all functional specification targets.\n# Combined with the specific tool checking macros XORG_WITH_*, it provides\n# maximum flexibilty in controlling documentation building.\n# Refer to:\n# XORG_WITH_XMLTO         --with-xmlto\n# XORG_WITH_ASCIIDOC      --with-asciidoc\n# XORG_WITH_DOXYGEN       --with-doxygen\n# XORG_WITH_FOP           --with-fop\n# XORG_WITH_GROFF         --with-groff\n# XORG_WITH_PS2PDF        --with-ps2pdf\n#\n# Interface to module:\n# ENABLE_SPECS:\t\tused in makefiles to conditionally generate specs\n# --enable-specs:\t'yes' user instructs the module to generate specs\n#\t\t\t'no' user instructs the module not to generate specs\n# parm1:\t\tspecify the default value, yes or no.\n#\nAC_DEFUN([XORG_ENABLE_SPECS],[\nm4_define([spec_default], m4_default([$1], [yes]))\nAC_ARG_ENABLE(specs,\n\tAS_HELP_STRING([--enable-specs],\n\t   [Enable building the specs (default: ]spec_default[)]),\n\t   [build_specs=$enableval], [build_specs=]spec_default)\nm4_undefine([spec_default])\nAM_CONDITIONAL(ENABLE_SPECS, [test x$build_specs = xyes])\nAC_MSG_CHECKING([whether to build functional specifications])\nAC_MSG_RESULT([$build_specs])\n]) # XORG_ENABLE_SPECS\n\n# XORG_ENABLE_UNIT_TESTS (enable_unit_tests=auto)\n# ----------------------------------------------\n# Minimum version: 1.13.0\n#\n# This macro enables a builder to enable/disable unit testing\n# It makes no assumption about the test cases implementation\n# Test cases may or may not use Automake \"Support for test suites\"\n# They may or may not use the software utility library GLib\n#\n# When used in conjunction with XORG_WITH_GLIB, use both AM_CONDITIONAL\n# ENABLE_UNIT_TESTS and HAVE_GLIB. Not all unit tests may use glib.\n# The variable enable_unit_tests is used by other macros in this file.\n#\n# Interface to module:\n# ENABLE_UNIT_TESTS:\tused in makefiles to conditionally build tests\n# enable_unit_tests:    used in configure.ac for additional configuration\n# --enable-unit-tests:\t'yes' user instructs the module to build tests\n#\t\t\t'no' user instructs the module not to build tests\n# parm1:\t\tspecify the default value, yes or no.\n#\nAC_DEFUN([XORG_ENABLE_UNIT_TESTS],[\nAC_BEFORE([$0], [XORG_WITH_GLIB])\nAC_BEFORE([$0], [XORG_LD_WRAP])\nAC_REQUIRE([XORG_MEMORY_CHECK_FLAGS])\nm4_define([_defopt], m4_default([$1], [auto]))\nAC_ARG_ENABLE(unit-tests, AS_HELP_STRING([--enable-unit-tests],\n\t[Enable building unit test cases (default: ]_defopt[)]),\n\t[enable_unit_tests=$enableval], [enable_unit_tests=]_defopt)\nm4_undefine([_defopt])\nAM_CONDITIONAL(ENABLE_UNIT_TESTS, [test \"x$enable_unit_tests\" != xno])\nAC_MSG_CHECKING([whether to build unit test cases])\nAC_MSG_RESULT([$enable_unit_tests])\n]) # XORG_ENABLE_UNIT_TESTS\n\n# XORG_ENABLE_INTEGRATION_TESTS (enable_unit_tests=auto)\n# ------------------------------------------------------\n# Minimum version: 1.17.0\n#\n# This macro enables a builder to enable/disable integration testing\n# It makes no assumption about the test cases' implementation\n# Test cases may or may not use Automake \"Support for test suites\"\n#\n# Please see XORG_ENABLE_UNIT_TESTS for unit test support. Unit test support\n# usually requires less dependencies and may be built and run under less\n# stringent environments than integration tests.\n#\n# Interface to module:\n# ENABLE_INTEGRATION_TESTS:   used in makefiles to conditionally build tests\n# enable_integration_tests:   used in configure.ac for additional configuration\n# --enable-integration-tests: 'yes' user instructs the module to build tests\n#                             'no' user instructs the module not to build tests\n# parm1:                      specify the default value, yes or no.\n#\nAC_DEFUN([XORG_ENABLE_INTEGRATION_TESTS],[\nAC_REQUIRE([XORG_MEMORY_CHECK_FLAGS])\nm4_define([_defopt], m4_default([$1], [auto]))\nAC_ARG_ENABLE(integration-tests, AS_HELP_STRING([--enable-integration-tests],\n\t[Enable building integration test cases (default: ]_defopt[)]),\n\t[enable_integration_tests=$enableval],\n\t[enable_integration_tests=]_defopt)\nm4_undefine([_defopt])\nAM_CONDITIONAL([ENABLE_INTEGRATION_TESTS],\n\t[test \"x$enable_integration_tests\" != xno])\nAC_MSG_CHECKING([whether to build unit test cases])\nAC_MSG_RESULT([$enable_integration_tests])\n]) # XORG_ENABLE_INTEGRATION_TESTS\n\n# XORG_WITH_GLIB([MIN-VERSION], [DEFAULT])\n# ----------------------------------------\n# Minimum version: 1.13.0\n#\n# GLib is a library which provides advanced data structures and functions.\n# This macro enables a module to test for the presence of Glib.\n#\n# When used with ENABLE_UNIT_TESTS, it is assumed GLib is used for unit testing.\n# Otherwise the value of $enable_unit_tests is blank.\n#\n# Please see XORG_ENABLE_INTEGRATION_TESTS for integration test support. Unit\n# test support usually requires less dependencies and may be built and run under\n# less stringent environments than integration tests.\n#\n# Interface to module:\n# HAVE_GLIB: used in makefiles to conditionally build targets\n# with_glib: used in configure.ac to know if GLib has been found\n# --with-glib:\t'yes' user instructs the module to use glib\n#\t\t'no' user instructs the module not to use glib\n#\nAC_DEFUN([XORG_WITH_GLIB],[\nAC_REQUIRE([PKG_PROG_PKG_CONFIG])\nm4_define([_defopt], m4_default([$2], [auto]))\nAC_ARG_WITH(glib, AS_HELP_STRING([--with-glib],\n\t[Use GLib library for unit testing (default: ]_defopt[)]),\n\t[with_glib=$withval], [with_glib=]_defopt)\nm4_undefine([_defopt])\n\nhave_glib=no\n# Do not probe GLib if user explicitly disabled unit testing\nif test \"x$enable_unit_tests\" != x\"no\"; then\n  # Do not probe GLib if user explicitly disabled it\n  if test \"x$with_glib\" != x\"no\"; then\n    m4_ifval(\n      [$1],\n      [PKG_CHECK_MODULES([GLIB], [glib-2.0 >= $1], [have_glib=yes], [have_glib=no])],\n      [PKG_CHECK_MODULES([GLIB], [glib-2.0], [have_glib=yes], [have_glib=no])]\n    )\n  fi\nfi\n\n# Not having GLib when unit testing has been explicitly requested is an error\nif test \"x$enable_unit_tests\" = x\"yes\"; then\n  if test \"x$have_glib\" = x\"no\"; then\n    AC_MSG_ERROR([--enable-unit-tests=yes specified but glib-2.0 not found])\n  fi\nfi\n\n# Having unit testing disabled when GLib has been explicitly requested is an error\nif test \"x$enable_unit_tests\" = x\"no\"; then\n  if test \"x$with_glib\" = x\"yes\"; then\n    AC_MSG_ERROR([--enable-unit-tests=yes specified but glib-2.0 not found])\n  fi\nfi\n\n# Not having GLib when it has been explicitly requested is an error\nif test \"x$with_glib\" = x\"yes\"; then\n  if test \"x$have_glib\" = x\"no\"; then\n    AC_MSG_ERROR([--with-glib=yes specified but glib-2.0 not found])\n  fi\nfi\n\nAM_CONDITIONAL([HAVE_GLIB], [test \"$have_glib\" = yes])\n]) # XORG_WITH_GLIB\n\n# XORG_LD_WRAP([required|optional])\n# ---------------------------------\n# Minimum version: 1.13.0\n#\n# Check if linker supports -wrap, passed via compiler flags\n#\n# When used with ENABLE_UNIT_TESTS, it is assumed -wrap is used for unit testing.\n# Otherwise the value of $enable_unit_tests is blank.\n#\n# Argument added in 1.16.0 - default is \"required\", to match existing behavior\n# of returning an error if enable_unit_tests is yes, and ld -wrap is not\n# available, an argument of \"optional\" allows use when some unit tests require\n# ld -wrap and others do not.\n#\nAC_DEFUN([XORG_LD_WRAP],[\nXORG_CHECK_LINKER_FLAGS([-Wl,-wrap,exit],[have_ld_wrap=yes],[have_ld_wrap=no],\n    [AC_LANG_PROGRAM([#include <stdlib.h>\n                      void __wrap_exit(int status) { return; }],\n                     [exit(0);])])\n# Not having ld wrap when unit testing has been explicitly requested is an error\nif test \"x$enable_unit_tests\" = x\"yes\" -a \"x$1\" != \"xoptional\"; then\n  if test \"x$have_ld_wrap\" = x\"no\"; then\n    AC_MSG_ERROR([--enable-unit-tests=yes specified but ld -wrap support is not available])\n  fi\nfi\nAM_CONDITIONAL([HAVE_LD_WRAP], [test \"$have_ld_wrap\" = yes])\n#\n]) # XORG_LD_WRAP\n\n# XORG_CHECK_LINKER_FLAGS\n# -----------------------\n# SYNOPSIS\n#\n#   XORG_CHECK_LINKER_FLAGS(FLAGS, [ACTION-SUCCESS], [ACTION-FAILURE], [PROGRAM-SOURCE])\n#\n# DESCRIPTION\n#\n#   Check whether the given linker FLAGS work with the current language's\n#   linker, or whether they give an error.\n#\n#   ACTION-SUCCESS/ACTION-FAILURE are shell commands to execute on\n#   success/failure.\n#\n#   PROGRAM-SOURCE is the program source to link with, if needed\n#\n#   NOTE: Based on AX_CHECK_COMPILER_FLAGS.\n#\n# LICENSE\n#\n#   Copyright (c) 2009 Mike Frysinger <vapier@gentoo.org>\n#   Copyright (c) 2009 Steven G. Johnson <stevenj@alum.mit.edu>\n#   Copyright (c) 2009 Matteo Frigo\n#\n#   This program is free software: you can redistribute it and/or modify it\n#   under the terms of the GNU General Public License as published by the\n#   Free Software Foundation, either version 3 of the License, or (at your\n#   option) any later version.\n#\n#   This program is distributed in the hope that it will be useful, but\n#   WITHOUT ANY WARRANTY; without even the implied warranty of\n#   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General\n#   Public License for more details.\n#\n#   You should have received a copy of the GNU General Public License along\n#   with this program. If not, see <http://www.gnu.org/licenses/>.\n#\n#   As a special exception, the respective Autoconf Macro's copyright owner\n#   gives unlimited permission to copy, distribute and modify the configure\n#   scripts that are the output of Autoconf when processing the Macro. You\n#   need not follow the terms of the GNU General Public License when using\n#   or distributing such scripts, even though portions of the text of the\n#   Macro appear in them. The GNU General Public License (GPL) does govern\n#   all other use of the material that constitutes the Autoconf Macro.\n#\n#   This special exception to the GPL applies to versions of the Autoconf\n#   Macro released by the Autoconf Archive. When you make and distribute a\n#   modified version of the Autoconf Macro, you may extend this special\n#   exception to the GPL to apply to your modified version as well.#\nAC_DEFUN([XORG_CHECK_LINKER_FLAGS],\n[AC_MSG_CHECKING([whether the linker accepts $1])\ndnl Some hackery here since AC_CACHE_VAL can't handle a non-literal varname:\nAS_LITERAL_IF([$1],\n  [AC_CACHE_VAL(AS_TR_SH(xorg_cv_linker_flags_[$1]), [\n      ax_save_FLAGS=$LDFLAGS\n      LDFLAGS=\"$1\"\n      AC_LINK_IFELSE([m4_default([$4],[AC_LANG_PROGRAM()])],\n        AS_TR_SH(xorg_cv_linker_flags_[$1])=yes,\n        AS_TR_SH(xorg_cv_linker_flags_[$1])=no)\n      LDFLAGS=$ax_save_FLAGS])],\n  [ax_save_FLAGS=$LDFLAGS\n   LDFLAGS=\"$1\"\n   AC_LINK_IFELSE([AC_LANG_PROGRAM()],\n     eval AS_TR_SH(xorg_cv_linker_flags_[$1])=yes,\n     eval AS_TR_SH(xorg_cv_linker_flags_[$1])=no)\n   LDFLAGS=$ax_save_FLAGS])\neval xorg_check_linker_flags=$AS_TR_SH(xorg_cv_linker_flags_[$1])\nAC_MSG_RESULT($xorg_check_linker_flags)\nif test \"x$xorg_check_linker_flags\" = xyes; then\n\tm4_default([$2], :)\nelse\n\tm4_default([$3], :)\nfi\n]) # XORG_CHECK_LINKER_FLAGS\n\n# XORG_MEMORY_CHECK_FLAGS\n# -----------------------\n# Minimum version: 1.16.0\n#\n# This macro attempts to find appropriate memory checking functionality\n# for various platforms which unit testing code may use to catch various\n# forms of memory allocation and access errors in testing.\n#\n# Interface to module:\n# XORG_MALLOC_DEBUG_ENV - environment variables to set to enable debugging\n#                         Usually added to TESTS_ENVIRONMENT in Makefile.am\n#\n# If the user sets the value of XORG_MALLOC_DEBUG_ENV, it is used verbatim.\n#\nAC_DEFUN([XORG_MEMORY_CHECK_FLAGS],[\n\nAC_REQUIRE([AC_CANONICAL_HOST])\nAC_ARG_VAR([XORG_MALLOC_DEBUG_ENV],\n           [Environment variables to enable memory checking in tests])\n\n# Check for different types of support on different platforms\ncase $host_os in\n    solaris*)\n        AC_CHECK_LIB([umem], [umem_alloc],\n            [malloc_debug_env='LD_PRELOAD=libumem.so UMEM_DEBUG=default'])\n        ;;\n    *-gnu*) # GNU libc - Value is used as a single byte bit pattern,\n        # both directly and inverted, so should not be 0 or 255.\n        malloc_debug_env='MALLOC_PERTURB_=15'\n        ;;\n    darwin*)\n        malloc_debug_env='MallocPreScribble=1 MallocScribble=1 DYLD_INSERT_LIBRARIES=/usr/lib/libgmalloc.dylib'\n        ;;\n    *bsd*)\n        malloc_debug_env='MallocPreScribble=1 MallocScribble=1'\n        ;;\nesac\n\n# User supplied flags override default flags\nif test \"x$XORG_MALLOC_DEBUG_ENV\" != \"x\"; then\n    malloc_debug_env=\"$XORG_MALLOC_DEBUG_ENV\"\nfi\n\nAC_SUBST([XORG_MALLOC_DEBUG_ENV],[$malloc_debug_env])\n]) # XORG_WITH_LINT\n\n# XORG_CHECK_MALLOC_ZERO\n# ----------------------\n# Minimum version: 1.0.0\n#\n# Defines {MALLOC,XMALLOC,XTMALLOC}_ZERO_CFLAGS appropriately if\n# malloc(0) returns NULL.  Packages should add one of these cflags to\n# their AM_CFLAGS (or other appropriate *_CFLAGS) to use them.\nAC_DEFUN([XORG_CHECK_MALLOC_ZERO],[\nAC_ARG_ENABLE(malloc0returnsnull,\n\tAS_HELP_STRING([--enable-malloc0returnsnull],\n\t\t       [malloc(0) returns NULL (default: auto)]),\n\t[MALLOC_ZERO_RETURNS_NULL=$enableval],\n\t[MALLOC_ZERO_RETURNS_NULL=auto])\n\nAC_MSG_CHECKING([whether malloc(0) returns NULL])\nif test \"x$MALLOC_ZERO_RETURNS_NULL\" = xauto; then\n\tAC_RUN_IFELSE([AC_LANG_PROGRAM([\n#include <stdlib.h>\n],[\n    char *m0, *r0, *c0, *p;\n    m0 = malloc(0);\n    p = malloc(10);\n    r0 = realloc(p,0);\n    c0 = calloc(0,10);\n    exit((m0 == 0 || r0 == 0 || c0 == 0) ? 0 : 1);\n])],\n\t\t[MALLOC_ZERO_RETURNS_NULL=yes],\n\t\t[MALLOC_ZERO_RETURNS_NULL=no],\n\t\t[MALLOC_ZERO_RETURNS_NULL=yes])\nfi\nAC_MSG_RESULT([$MALLOC_ZERO_RETURNS_NULL])\n\nif test \"x$MALLOC_ZERO_RETURNS_NULL\" = xyes; then\n\tMALLOC_ZERO_CFLAGS=\"-DMALLOC_0_RETURNS_NULL\"\n\tXMALLOC_ZERO_CFLAGS=$MALLOC_ZERO_CFLAGS\n\tXTMALLOC_ZERO_CFLAGS=\"$MALLOC_ZERO_CFLAGS -DXTMALLOC_BC\"\nelse\n\tMALLOC_ZERO_CFLAGS=\"\"\n\tXMALLOC_ZERO_CFLAGS=\"\"\n\tXTMALLOC_ZERO_CFLAGS=\"\"\nfi\n\nAC_SUBST([MALLOC_ZERO_CFLAGS])\nAC_SUBST([XMALLOC_ZERO_CFLAGS])\nAC_SUBST([XTMALLOC_ZERO_CFLAGS])\n]) # XORG_CHECK_MALLOC_ZERO\n\n# XORG_WITH_LINT()\n# ----------------\n# Minimum version: 1.1.0\n#\n# This macro enables the use of a tool that flags some suspicious and\n# non-portable constructs (likely to be bugs) in C language source code.\n# It will attempt to locate the tool and use appropriate options.\n# There are various lint type tools on different platforms.\n#\n# Interface to module:\n# LINT:\t\treturns the path to the tool found on the platform\n#\t\tor the value set to LINT on the configure cmd line\n#\t\talso an Automake conditional\n# LINT_FLAGS:\tan Automake variable with appropriate flags\n#\n# --with-lint:\t'yes' user instructs the module to use lint\n#\t\t'no' user instructs the module not to use lint (default)\n#\n# If the user sets the value of LINT, AC_PATH_PROG skips testing the path.\n# If the user sets the value of LINT_FLAGS, they are used verbatim.\n#\nAC_DEFUN([XORG_WITH_LINT],[\n\nAC_ARG_VAR([LINT], [Path to a lint-style command])\nAC_ARG_VAR([LINT_FLAGS], [Flags for the lint-style command])\nAC_ARG_WITH(lint, [AS_HELP_STRING([--with-lint],\n\t\t[Use a lint-style source code checker (default: disabled)])],\n\t\t[use_lint=$withval], [use_lint=no])\n\n# Obtain platform specific info like program name and options\n# The lint program on FreeBSD and NetBSD is different from the one on Solaris\ncase $host_os in\n  *linux* | *openbsd* | kfreebsd*-gnu | darwin* | cygwin*)\n\tlint_name=splint\n\tlint_options=\"-badflag\"\n\t;;\n  *freebsd* | *netbsd*)\n\tlint_name=lint\n\tlint_options=\"-u -b\"\n\t;;\n  *solaris*)\n\tlint_name=lint\n\tlint_options=\"-u -b -h -erroff=E_INDISTING_FROM_TRUNC2\"\n\t;;\nesac\n\n# Test for the presence of the program (either guessed by the code or spelled out by the user)\nif test \"x$use_lint\" = x\"yes\" ; then\n   AC_PATH_PROG([LINT], [$lint_name])\n   if test \"x$LINT\" = \"x\"; then\n        AC_MSG_ERROR([--with-lint=yes specified but lint-style tool not found in PATH])\n   fi\nelif test \"x$use_lint\" = x\"no\" ; then\n   if test \"x$LINT\" != \"x\"; then\n      AC_MSG_WARN([ignoring LINT environment variable since --with-lint=no was specified])\n   fi\nelse\n   AC_MSG_ERROR([--with-lint expects 'yes' or 'no'. Use LINT variable to specify path.])\nfi\n\n# User supplied flags override default flags\nif test \"x$LINT_FLAGS\" != \"x\"; then\n   lint_options=$LINT_FLAGS\nfi\n\nAC_SUBST([LINT_FLAGS],[$lint_options])\nAM_CONDITIONAL(LINT, [test \"x$LINT\" != x])\n\n]) # XORG_WITH_LINT\n\n# XORG_LINT_LIBRARY(LIBNAME)\n# --------------------------\n# Minimum version: 1.1.0\n#\n# Sets up flags for building lint libraries for checking programs that call\n# functions in the library.\n#\n# Interface to module:\n# LINTLIB\t\t- Automake variable with the name of lint library file to make\n# MAKE_LINT_LIB\t\t- Automake conditional\n#\n# --enable-lint-library:  - 'yes' user instructs the module to created a lint library\n#\t\t\t  - 'no' user instructs the module not to create a lint library (default)\n\nAC_DEFUN([XORG_LINT_LIBRARY],[\nAC_REQUIRE([XORG_WITH_LINT])\nAC_ARG_ENABLE(lint-library, [AS_HELP_STRING([--enable-lint-library],\n\t[Create lint library (default: disabled)])],\n\t[make_lint_lib=$enableval], [make_lint_lib=no])\n\nif test \"x$make_lint_lib\" = x\"yes\" ; then\n   LINTLIB=llib-l$1.ln\n   if test \"x$LINT\" = \"x\"; then\n        AC_MSG_ERROR([Cannot make lint library without --with-lint])\n   fi\nelif test \"x$make_lint_lib\" != x\"no\" ; then\n   AC_MSG_ERROR([--enable-lint-library expects 'yes' or 'no'.])\nfi\n\nAC_SUBST(LINTLIB)\nAM_CONDITIONAL(MAKE_LINT_LIB, [test x$make_lint_lib != xno])\n\n]) # XORG_LINT_LIBRARY\n\n# XORG_COMPILER_BRAND\n# -------------------\n# Minimum version: 1.14.0\n#\n# Checks for various brands of compilers and sets flags as appropriate:\n#   GNU gcc - relies on AC_PROG_CC (via AC_PROG_CC_C99) to set GCC to \"yes\"\n#   GNU g++ - relies on AC_PROG_CXX to set GXX to \"yes\"\n#   clang compiler - sets CLANGCC to \"yes\"\n#   Intel compiler - sets INTELCC to \"yes\"\n#   Sun/Oracle Solaris Studio cc - sets SUNCC to \"yes\"\n#\nAC_DEFUN([XORG_COMPILER_BRAND], [\nAC_LANG_CASE(\n\t[C], [\n\t\tAC_REQUIRE([AC_PROG_CC_C99])\n\t],\n\t[C++], [\n\t\tAC_REQUIRE([AC_PROG_CXX])\n\t]\n)\nAC_CHECK_DECL([__clang__], [CLANGCC=\"yes\"], [CLANGCC=\"no\"])\nAC_CHECK_DECL([__INTEL_COMPILER], [INTELCC=\"yes\"], [INTELCC=\"no\"])\nAC_CHECK_DECL([__SUNPRO_C], [SUNCC=\"yes\"], [SUNCC=\"no\"])\n]) # XORG_COMPILER_BRAND\n\n# XORG_TESTSET_CFLAG(<variable>, <flag>, [<alternative flag>, ...])\n# ---------------\n# Minimum version: 1.16.0\n#\n# Test if the compiler works when passed the given flag as a command line argument.\n# If it succeeds, the flag is appeneded to the given variable.  If not, it tries the\n# next flag in the list until there are no more options.\n#\n# Note that this does not guarantee that the compiler supports the flag as some\n# compilers will simply ignore arguments that they do not understand, but we do\n# attempt to weed out false positives by using -Werror=unknown-warning-option and\n# -Werror=unused-command-line-argument\n#\nAC_DEFUN([XORG_TESTSET_CFLAG], [\nm4_if([$#], 0, [m4_fatal([XORG_TESTSET_CFLAG was given with an unsupported number of arguments])])\nm4_if([$#], 1, [m4_fatal([XORG_TESTSET_CFLAG was given with an unsupported number of arguments])])\n\nAC_LANG_COMPILER_REQUIRE\n\nAC_LANG_CASE(\n\t[C], [\n\t\tAC_REQUIRE([AC_PROG_CC_C99])\n\t\tdefine([PREFIX], [C])\n\t\tdefine([CACHE_PREFIX], [cc])\n\t\tdefine([COMPILER], [$CC])\n\t],\n\t[C++], [\n\t\tdefine([PREFIX], [CXX])\n\t\tdefine([CACHE_PREFIX], [cxx])\n\t\tdefine([COMPILER], [$CXX])\n\t]\n)\n\n[xorg_testset_save_]PREFIX[FLAGS]=\"$PREFIX[FLAGS]\"\n\nif test \"x$[xorg_testset_]CACHE_PREFIX[_unknown_warning_option]\" = \"x\" ; then\n\tPREFIX[FLAGS]=\"$PREFIX[FLAGS] -Werror=unknown-warning-option\"\n\tAC_CACHE_CHECK([if ]COMPILER[ supports -Werror=unknown-warning-option],\n\t\t\t[xorg_cv_]CACHE_PREFIX[_flag_unknown_warning_option],\n\t\t\tAC_COMPILE_IFELSE([AC_LANG_SOURCE([int i;])],\n\t\t\t\t\t  [xorg_cv_]CACHE_PREFIX[_flag_unknown_warning_option=yes],\n\t\t\t\t\t  [xorg_cv_]CACHE_PREFIX[_flag_unknown_warning_option=no]))\n\t[xorg_testset_]CACHE_PREFIX[_unknown_warning_option]=$[xorg_cv_]CACHE_PREFIX[_flag_unknown_warning_option]\n\tPREFIX[FLAGS]=\"$[xorg_testset_save_]PREFIX[FLAGS]\"\nfi\n\nif test \"x$[xorg_testset_]CACHE_PREFIX[_unused_command_line_argument]\" = \"x\" ; then\n\tif test \"x$[xorg_testset_]CACHE_PREFIX[_unknown_warning_option]\" = \"xyes\" ; then\n\t\tPREFIX[FLAGS]=\"$PREFIX[FLAGS] -Werror=unknown-warning-option\"\n\tfi\n\tPREFIX[FLAGS]=\"$PREFIX[FLAGS] -Werror=unused-command-line-argument\"\n\tAC_CACHE_CHECK([if ]COMPILER[ supports -Werror=unused-command-line-argument],\n\t\t\t[xorg_cv_]CACHE_PREFIX[_flag_unused_command_line_argument],\n\t\t\tAC_COMPILE_IFELSE([AC_LANG_SOURCE([int i;])],\n\t\t\t\t\t  [xorg_cv_]CACHE_PREFIX[_flag_unused_command_line_argument=yes],\n\t\t\t\t\t  [xorg_cv_]CACHE_PREFIX[_flag_unused_command_line_argument=no]))\n\t[xorg_testset_]CACHE_PREFIX[_unused_command_line_argument]=$[xorg_cv_]CACHE_PREFIX[_flag_unused_command_line_argument]\n\tPREFIX[FLAGS]=\"$[xorg_testset_save_]PREFIX[FLAGS]\"\nfi\n\nfound=\"no\"\nm4_foreach([flag], m4_cdr($@), [\n\tif test $found = \"no\" ; then\n\t\tif test \"x$xorg_testset_unknown_warning_option\" = \"xyes\" ; then\n\t\t\tPREFIX[FLAGS]=\"$PREFIX[FLAGS] -Werror=unknown-warning-option\"\n\t\tfi\n\n\t\tif test \"x$xorg_testset_unused_command_line_argument\" = \"xyes\" ; then\n\t\t\tPREFIX[FLAGS]=\"$PREFIX[FLAGS] -Werror=unused-command-line-argument\"\n\t\tfi\n\n\t\tPREFIX[FLAGS]=\"$PREFIX[FLAGS] ]flag[\"\n\ndnl Some hackery here since AC_CACHE_VAL can't handle a non-literal varname\n\t\tAC_MSG_CHECKING([if ]COMPILER[ supports ]flag[])\n\t\tcacheid=AS_TR_SH([xorg_cv_]CACHE_PREFIX[_flag_]flag[])\n\t\tAC_CACHE_VAL($cacheid,\n\t\t\t     [AC_LINK_IFELSE([AC_LANG_PROGRAM([int i;])],\n\t\t\t\t\t     [eval $cacheid=yes],\n\t\t\t\t\t     [eval $cacheid=no])])\n\n\t\tPREFIX[FLAGS]=\"$[xorg_testset_save_]PREFIX[FLAGS]\"\n\n\t\teval supported=\\$$cacheid\n\t\tAC_MSG_RESULT([$supported])\n\t\tif test \"$supported\" = \"yes\" ; then\n\t\t\t$1=\"$$1 ]flag[\"\n\t\t\tfound=\"yes\"\n\t\tfi\n\tfi\n])\n]) # XORG_TESTSET_CFLAG\n\n# XORG_COMPILER_FLAGS\n# ---------------\n# Minimum version: 1.16.0\n#\n# Defines BASE_CFLAGS or BASE_CXXFLAGS to contain a set of command line\n# arguments supported by the selected compiler which do NOT alter the generated\n# code.  These arguments will cause the compiler to print various warnings\n# during compilation AND turn a conservative set of warnings into errors.\n#\n# The set of flags supported by BASE_CFLAGS and BASE_CXXFLAGS will grow in\n# future versions of util-macros as options are added to new compilers.\n#\nAC_DEFUN([XORG_COMPILER_FLAGS], [\nAC_REQUIRE([XORG_COMPILER_BRAND])\n\nAC_ARG_ENABLE(selective-werror,\n              AS_HELP_STRING([--disable-selective-werror],\n                             [Turn off selective compiler errors. (default: enabled)]),\n              [SELECTIVE_WERROR=$enableval],\n              [SELECTIVE_WERROR=yes])\n\nAC_LANG_CASE(\n        [C], [\n                define([PREFIX], [C])\n        ],\n        [C++], [\n                define([PREFIX], [CXX])\n        ]\n)\n# -v is too short to test reliably with XORG_TESTSET_CFLAG\nif test \"x$SUNCC\" = \"xyes\"; then\n    [BASE_]PREFIX[FLAGS]=\"-v\"\nelse\n    [BASE_]PREFIX[FLAGS]=\"\"\nfi\n\n# This chunk of warnings were those that existed in the legacy CWARNFLAGS\nXORG_TESTSET_CFLAG([[BASE_]PREFIX[FLAGS]], [-Wall])\nXORG_TESTSET_CFLAG([[BASE_]PREFIX[FLAGS]], [-Wpointer-arith])\nXORG_TESTSET_CFLAG([[BASE_]PREFIX[FLAGS]], [-Wmissing-declarations])\nXORG_TESTSET_CFLAG([[BASE_]PREFIX[FLAGS]], [-Wformat=2], [-Wformat])\n\nAC_LANG_CASE(\n\t[C], [\n\t\tXORG_TESTSET_CFLAG([[BASE_]PREFIX[FLAGS]], [-Wstrict-prototypes])\n\t\tXORG_TESTSET_CFLAG([[BASE_]PREFIX[FLAGS]], [-Wmissing-prototypes])\n\t\tXORG_TESTSET_CFLAG([[BASE_]PREFIX[FLAGS]], [-Wnested-externs])\n\t\tXORG_TESTSET_CFLAG([[BASE_]PREFIX[FLAGS]], [-Wbad-function-cast])\n\t\tXORG_TESTSET_CFLAG([[BASE_]PREFIX[FLAGS]], [-Wold-style-definition])\n\t\tXORG_TESTSET_CFLAG([[BASE_]PREFIX[FLAGS]], [-Wdeclaration-after-statement])\n\t]\n)\n\n# This chunk adds additional warnings that could catch undesired effects.\nXORG_TESTSET_CFLAG([[BASE_]PREFIX[FLAGS]], [-Wunused])\nXORG_TESTSET_CFLAG([[BASE_]PREFIX[FLAGS]], [-Wuninitialized])\nXORG_TESTSET_CFLAG([[BASE_]PREFIX[FLAGS]], [-Wshadow])\nXORG_TESTSET_CFLAG([[BASE_]PREFIX[FLAGS]], [-Wcast-qual])\nXORG_TESTSET_CFLAG([[BASE_]PREFIX[FLAGS]], [-Wmissing-noreturn])\nXORG_TESTSET_CFLAG([[BASE_]PREFIX[FLAGS]], [-Wmissing-format-attribute])\nXORG_TESTSET_CFLAG([[BASE_]PREFIX[FLAGS]], [-Wredundant-decls])\n\n# These are currently disabled because they are noisy.  They will be enabled\n# in the future once the codebase is sufficiently modernized to silence\n# them.  For now, I don't want them to drown out the other warnings.\n# XORG_TESTSET_CFLAG([[BASE_]PREFIX[FLAGS]], [-Wlogical-op])\n# XORG_TESTSET_CFLAG([[BASE_]PREFIX[FLAGS]], [-Wparentheses])\n# XORG_TESTSET_CFLAG([[BASE_]PREFIX[FLAGS]], [-Wcast-align])\n\n# Turn some warnings into errors, so we don't accidently get successful builds\n# when there are problems that should be fixed.\n\nif test \"x$SELECTIVE_WERROR\" = \"xyes\" ; then\nXORG_TESTSET_CFLAG([[BASE_]PREFIX[FLAGS]], [-Werror=implicit], [-errwarn=E_NO_EXPLICIT_TYPE_GIVEN -errwarn=E_NO_IMPLICIT_DECL_ALLOWED])\nXORG_TESTSET_CFLAG([[BASE_]PREFIX[FLAGS]], [-Werror=nonnull])\nXORG_TESTSET_CFLAG([[BASE_]PREFIX[FLAGS]], [-Werror=init-self])\nXORG_TESTSET_CFLAG([[BASE_]PREFIX[FLAGS]], [-Werror=main])\nXORG_TESTSET_CFLAG([[BASE_]PREFIX[FLAGS]], [-Werror=missing-braces])\nXORG_TESTSET_CFLAG([[BASE_]PREFIX[FLAGS]], [-Werror=sequence-point])\nXORG_TESTSET_CFLAG([[BASE_]PREFIX[FLAGS]], [-Werror=return-type], [-errwarn=E_FUNC_HAS_NO_RETURN_STMT])\nXORG_TESTSET_CFLAG([[BASE_]PREFIX[FLAGS]], [-Werror=trigraphs])\nXORG_TESTSET_CFLAG([[BASE_]PREFIX[FLAGS]], [-Werror=array-bounds])\nXORG_TESTSET_CFLAG([[BASE_]PREFIX[FLAGS]], [-Werror=write-strings])\nXORG_TESTSET_CFLAG([[BASE_]PREFIX[FLAGS]], [-Werror=address])\nXORG_TESTSET_CFLAG([[BASE_]PREFIX[FLAGS]], [-Werror=int-to-pointer-cast], [-errwarn=E_BAD_PTR_INT_COMBINATION])\nXORG_TESTSET_CFLAG([[BASE_]PREFIX[FLAGS]], [-Werror=pointer-to-int-cast]) # Also -errwarn=E_BAD_PTR_INT_COMBINATION\nelse\nAC_MSG_WARN([You have chosen not to turn some select compiler warnings into errors.  This should not be necessary.  Please report why you needed to do so in a bug report at $PACKAGE_BUGREPORT])\nXORG_TESTSET_CFLAG([[BASE_]PREFIX[FLAGS]], [-Wimplicit])\nXORG_TESTSET_CFLAG([[BASE_]PREFIX[FLAGS]], [-Wnonnull])\nXORG_TESTSET_CFLAG([[BASE_]PREFIX[FLAGS]], [-Winit-self])\nXORG_TESTSET_CFLAG([[BASE_]PREFIX[FLAGS]], [-Wmain])\nXORG_TESTSET_CFLAG([[BASE_]PREFIX[FLAGS]], [-Wmissing-braces])\nXORG_TESTSET_CFLAG([[BASE_]PREFIX[FLAGS]], [-Wsequence-point])\nXORG_TESTSET_CFLAG([[BASE_]PREFIX[FLAGS]], [-Wreturn-type])\nXORG_TESTSET_CFLAG([[BASE_]PREFIX[FLAGS]], [-Wtrigraphs])\nXORG_TESTSET_CFLAG([[BASE_]PREFIX[FLAGS]], [-Warray-bounds])\nXORG_TESTSET_CFLAG([[BASE_]PREFIX[FLAGS]], [-Wwrite-strings])\nXORG_TESTSET_CFLAG([[BASE_]PREFIX[FLAGS]], [-Waddress])\nXORG_TESTSET_CFLAG([[BASE_]PREFIX[FLAGS]], [-Wint-to-pointer-cast])\nXORG_TESTSET_CFLAG([[BASE_]PREFIX[FLAGS]], [-Wpointer-to-int-cast])\nfi\n\nAC_SUBST([BASE_]PREFIX[FLAGS])\n]) # XORG_COMPILER_FLAGS\n\n# XORG_CWARNFLAGS\n# ---------------\n# Minimum version: 1.2.0\n# Deprecated since: 1.16.0 (Use XORG_COMPILER_FLAGS instead)\n#\n# Defines CWARNFLAGS to enable C compiler warnings.\n#\n# This function is deprecated because it defines -fno-strict-aliasing\n# which alters the code generated by the compiler.  If -fno-strict-aliasing\n# is needed, then it should be added explicitly in the module when\n# it is updated to use BASE_CFLAGS.\n#\nAC_DEFUN([XORG_CWARNFLAGS], [\nAC_REQUIRE([XORG_COMPILER_FLAGS])\nAC_REQUIRE([XORG_COMPILER_BRAND])\nAC_LANG_CASE(\n\t[C], [\n\t\tCWARNFLAGS=\"$BASE_CFLAGS\"\n\t\tif  test \"x$GCC\" = xyes ; then\n\t\t    CWARNFLAGS=\"$CWARNFLAGS -fno-strict-aliasing\"\n\t\tfi\n\t\tAC_SUBST(CWARNFLAGS)\n\t]\n)\n]) # XORG_CWARNFLAGS\n\n# XORG_STRICT_OPTION\n# -----------------------\n# Minimum version: 1.3.0\n#\n# Add configure option to enable strict compilation flags, such as treating\n# warnings as fatal errors.\n# If --enable-strict-compilation is passed to configure, adds strict flags to\n# $BASE_CFLAGS or $BASE_CXXFLAGS and the deprecated $CWARNFLAGS.\n#\n# Starting in 1.14.0 also exports $STRICT_CFLAGS for use in other tests or\n# when strict compilation is unconditionally desired.\nAC_DEFUN([XORG_STRICT_OPTION], [\nAC_REQUIRE([XORG_CWARNFLAGS])\nAC_REQUIRE([XORG_COMPILER_FLAGS])\n\nAC_ARG_ENABLE(strict-compilation,\n\t\t\t  AS_HELP_STRING([--enable-strict-compilation],\n\t\t\t  [Enable all warnings from compiler and make them errors (default: disabled)]),\n\t\t\t  [STRICT_COMPILE=$enableval], [STRICT_COMPILE=no])\n\nAC_LANG_CASE(\n        [C], [\n                define([PREFIX], [C])\n        ],\n        [C++], [\n                define([PREFIX], [CXX])\n        ]\n)\n\n[STRICT_]PREFIX[FLAGS]=\"\"\nXORG_TESTSET_CFLAG([[STRICT_]PREFIX[FLAGS]], [-pedantic])\nXORG_TESTSET_CFLAG([[STRICT_]PREFIX[FLAGS]], [-Werror], [-errwarn])\n\n# Earlier versions of gcc (eg: 4.2) support -Werror=attributes, but do not\n# activate it with -Werror, so we add it here explicitly.\nXORG_TESTSET_CFLAG([[STRICT_]PREFIX[FLAGS]], [-Werror=attributes])\n\nif test \"x$STRICT_COMPILE\" = \"xyes\"; then\n    [BASE_]PREFIX[FLAGS]=\"$[BASE_]PREFIX[FLAGS] $[STRICT_]PREFIX[FLAGS]\"\n    AC_LANG_CASE([C], [CWARNFLAGS=\"$CWARNFLAGS $STRICT_CFLAGS\"])\nfi\nAC_SUBST([STRICT_]PREFIX[FLAGS])\nAC_SUBST([BASE_]PREFIX[FLAGS])\nAC_LANG_CASE([C], AC_SUBST([CWARNFLAGS]))\n]) # XORG_STRICT_OPTION\n\n# XORG_DEFAULT_OPTIONS\n# --------------------\n# Minimum version: 1.3.0\n#\n# Defines default options for X.Org modules.\n#\nAC_DEFUN([XORG_DEFAULT_OPTIONS], [\nAC_REQUIRE([AC_PROG_INSTALL])\nXORG_COMPILER_FLAGS\nXORG_CWARNFLAGS\nXORG_STRICT_OPTION\nXORG_RELEASE_VERSION\nXORG_CHANGELOG\nXORG_INSTALL\nXORG_MANPAGE_SECTIONS\nm4_ifdef([AM_SILENT_RULES], [AM_SILENT_RULES([yes])],\n    [AC_SUBST([AM_DEFAULT_VERBOSITY], [1])])\n]) # XORG_DEFAULT_OPTIONS\n\n# XORG_INSTALL()\n# ----------------\n# Minimum version: 1.4.0\n#\n# Defines the variable INSTALL_CMD as the command to copy\n# INSTALL from $prefix/share/util-macros.\n#\nAC_DEFUN([XORG_INSTALL], [\nAC_REQUIRE([PKG_PROG_PKG_CONFIG])\nmacros_datadir=`$PKG_CONFIG --print-errors --variable=pkgdatadir xorg-macros`\nINSTALL_CMD=\"(cp -f \"$macros_datadir/INSTALL\" \\$(top_srcdir)/.INSTALL.tmp && \\\nmv \\$(top_srcdir)/.INSTALL.tmp \\$(top_srcdir)/INSTALL) \\\n|| (rm -f \\$(top_srcdir)/.INSTALL.tmp; touch \\$(top_srcdir)/INSTALL; \\\necho 'util-macros \\\"pkgdatadir\\\" from xorg-macros.pc not found: installing possibly empty INSTALL.' >&2)\"\nAC_SUBST([INSTALL_CMD])\n]) # XORG_INSTALL\ndnl Copyright 2005 Red Hat, Inc\ndnl\ndnl Permission to use, copy, modify, distribute, and sell this software and its\ndnl documentation for any purpose is hereby granted without fee, provided that\ndnl the above copyright notice appear in all copies and that both that\ndnl copyright notice and this permission notice appear in supporting\ndnl documentation.\ndnl\ndnl The above copyright notice and this permission notice shall be included\ndnl in all copies or substantial portions of the Software.\ndnl\ndnl THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\ndnl OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\ndnl MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\ndnl IN NO EVENT SHALL THE OPEN GROUP BE LIABLE FOR ANY CLAIM, DAMAGES OR\ndnl OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,\ndnl ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\ndnl OTHER DEALINGS IN THE SOFTWARE.\ndnl\ndnl Except as contained in this notice, the name of the copyright holders shall\ndnl not be used in advertising or otherwise to promote the sale, use or\ndnl other dealings in this Software without prior written authorization\ndnl from the copyright holders.\ndnl\n\n# XORG_RELEASE_VERSION\n# --------------------\n# Defines PACKAGE_VERSION_{MAJOR,MINOR,PATCHLEVEL} for modules to use.\n \nAC_DEFUN([XORG_RELEASE_VERSION],[\n\tAC_DEFINE_UNQUOTED([PACKAGE_VERSION_MAJOR],\n\t\t[`echo $PACKAGE_VERSION | cut -d . -f 1`],\n\t\t[Major version of this package])\n\tPVM=`echo $PACKAGE_VERSION | cut -d . -f 2 | cut -d - -f 1`\n\tif test \"x$PVM\" = \"x\"; then\n\t\tPVM=\"0\"\n\tfi\n\tAC_DEFINE_UNQUOTED([PACKAGE_VERSION_MINOR],\n\t\t[$PVM],\n\t\t[Minor version of this package])\n\tPVP=`echo $PACKAGE_VERSION | cut -d . -f 3 | cut -d - -f 1`\n\tif test \"x$PVP\" = \"x\"; then\n\t\tPVP=\"0\"\n\tfi\n\tAC_DEFINE_UNQUOTED([PACKAGE_VERSION_PATCHLEVEL],\n\t\t[$PVP],\n\t\t[Patch version of this package])\n])\n\n# XORG_CHANGELOG()\n# ----------------\n# Minimum version: 1.2.0\n#\n# Defines the variable CHANGELOG_CMD as the command to generate\n# ChangeLog from git.\n#\n#\nAC_DEFUN([XORG_CHANGELOG], [\nCHANGELOG_CMD=\"(GIT_DIR=\\$(top_srcdir)/.git git log > \\$(top_srcdir)/.changelog.tmp && \\\nmv \\$(top_srcdir)/.changelog.tmp \\$(top_srcdir)/ChangeLog) \\\n|| (rm -f \\$(top_srcdir)/.changelog.tmp; touch \\$(top_srcdir)/ChangeLog; \\\necho 'git directory not found: installing possibly empty changelog.' >&2)\"\nAC_SUBST([CHANGELOG_CMD])\n]) # XORG_CHANGELOG\n\n"
    },
    "skipped": [],
    "total_files": 18
}