{
    "matches": {
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/src/ChangeLog.5": "1995-06-21  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* Version 19.29 released.\n\n\t* xfns.c (Fx_display_grayscale_p): Return t or nil.\n\tReturn t for color displays.\n\n\t* s/msdos.h (SYSTEM_PURESIZE_EXTRA): Increase to 68000.\n\n\t* xdisp.c (decode_mode_spec) [!MULTI_FRAME]: Handle %F properly.\n\n1995-06-20  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keyboard.c (read_key_sequence): Don't use Vprefix_help_command\n\tfor the first character in a key seq.\n\n\t* ntinevt.c (map_virt_key): Mark some additional chars as valid ASCII.\n\n\t* ntterm.c (ctrl_c_handler): Ignore CTRL_BREAK_EVENT signals.\n\n1995-06-19  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* sysdep.c (rmdir): Fix up Aug 19 1993 change that wasn't done right.\n\n\t* ntproc.c (win32_wait): Massage retval into what is expected in Unix.\n\n\t* process.c (sigchld_handler): Change XSETFASTINT to XSETINT.\n\n\t* keyboard.c (Freset_this_command_lengths): New function.\n\t(before_command_key_count, before_command_echo_length)\n\t(before_command_restore_flag): New variables.\n\t(add_command_key): If requested, reset the lengths.\n\t(command_loop_1): Record current lengths before reading cmd.\n\t(read_char): Update the recorded length before echoing.\n\n\t* xfns.c (Fx_create_frame): Fix last arg to x_get_arg for Qdisplay.\n\n\t* s/linux.h (LIB_GCC): Fix previous change.\n\tIf we redefine it later, #undef it first.\n\n1995-06-18  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keyboard.c (quit_throw_to_read_char): Turn off the error check\n\ttesting poll_suppress_count.\n\n\t* s/linux.h (LIB_GCC): Define here, overriding Makefile.in.in,\n\tso as to use C_SWITCH_X_MACHINE.\n\n1995-06-17  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* m/alpha.h (SYSTEM_MALLOC): Definition deleted.\n\n\t* keymap.c (Vdefine_key_rebound_commands): New variable.\n\t(syms_of_keymap): Set up Lisp var.\n\t(Fdefine_key): Put new definition onto Vdefine_key_rebound_commands.\n\n\t* xmenu.c (menu_item_equiv_key): Do reconsider a command that had\n\tno equivalent before, if it is in Vdefine_key_rebound_commands.\n\n\t* data.c (Flocal_variable_if_set_p): New function.\n\t(syms_of_data): Call defsubr.\n\n\t* xdisp.c (display_text_line): Fill in charstart for end of buffer.\n\n1995-06-16  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* puresize.h [MULTI_FRAME] (BASE_PURESIZE): Increase to 315000.\n\n\t* frame.c (Fdelete_frame): Use do_switch_frame directly.\n\t(do_switch_frame): No longer static.\n\t* window.c (Fset_window_configuration): Use do_switch_frame directly.\n\t* keyboard.c (quit_throw_to_read_char): Use do_switch_frame directly.\n\t* lisp.h (do_switch_frame): Declare.\n\n1995-06-16  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* frame.c [MULTI_FRAME] (Fignore_event): New function.\n\t[MULTI_FRAME] (keys_of_frame): Bind iconify-frame and\n\tmake-frame-visible to it.\n\n1995-06-16  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* .gdbinit: Use long, not EMACS_INT.\n\tDo `set main' to make gdb_valbits etc. available.\n\n\t* frame.h (struct frame): New field icon_name.\n\t* xterm.h (struct x_display): icon_name deleted.\n\t* xfns.c (x_report_frame_params, x_set_icon_type, x_set_icon_name)\n\t(x_set_name, x_icon, Fx_create_frame): Use moved icon_name field.\n\t* alloc.c (mark_object): Mark icon_name field.\n\n1995-06-15  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* keyboard.h (struct kboard): Add Voverriding_terminal_local_map.\n\t* keyboard.c (init_kboard): Initialize it.\n\t(syms_of_keyboard): Defvar it.\n\t(read_key_sequence, menu_bar_items):\n\tCheck Voverriding_terminal_local_map before Voverriding_local_map.\n\t* doc.c (Fsubstitute_command_keys): Likewise.\n\t* keymap.c (Fkey_binding, describe_buffer_bindings): Likewise.\n\n\t* xdisp.c (Qoverriding_terminal_local_map): New variable.\n\t(syms_of_xdisp): staticpro it.\n\t(update_menu_bar): If we bind overriding-local-map, also bind\n\toverriding-terminal-local-map.\n\n\t* frame.c (Fhandle_switch_frame): Preserve prefix arg.\n\t* keyboard.c (command_loop_1): In special handling for commands\n\tthat create a prefix arg, don't handle commands that merely\n\tpreserve one that was previously created.\n\n\t* .gdbinit ($valmask): Use EMACS_INT, not int.\n\n\t* lisp.h (enum pvec_type): Don't use trailing comma.\n\n1995-06-15  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* m/alpha.h (malloc, realloc): If not _MALLOC_INTERNAL,\n\talways use void *.\n\n1995-06-15  Geoff Voelker  <voelker@cs.washington.edu>\n\n\t* callproc.c (call-process-region) [DOS_NT]: Use IS_DIRECTORY_SEP.\n\t(call-process-region) [WINDOWSNT]: Use proper temp file template.\n\n\t* ntproc.c (win32_spawnve): Accept program names without executable\n\tsuffixes.\n\n\t* makefile.nt (TRES) [MSVCNT11]: Use emacs.res, and don't compile it.\n\n1995-06-15  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* m/alpha.h (LD_SWITCH_MACHINE): Don't define it.\n\t(malloc, realloc): If non-ANSI C, declare value as char *.\n\n1995-06-14  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* sysdep.c (emacs_set_tty): Swap TCSETAF and TCSETAW.\n\tRename arg waitp to flushp.\n\n1995-06-14  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* callint.c (Fprefix_numeric_value): Fix type check.\n\n\t* keyboard.c (command_loop_1): Clear prefix arg (undo Feb 1 change).\n\n1995-06-14  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* data.c (Flocal_variable_p): Fix backwards logical operator.\n\n1995-06-14  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* m/intel386.h: If NOT_C_CODE, don't include alloca.h.\n\t[!__GNUC__] (C_SWITCH_MACHINE): Disable this; it seems to confuse cpp.\n\n1995-06-14  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* frame.c (Fdelete_frame): If the minibuf window was selected,\n\tmake that remain so.\n\n\t* process.c (status_notify): Undo May 18 change.\n\tSet update_tick at the beginning not at end.\n\n\t* buffer.c (Fprevious_overlay_change): Check for overlays that\n\tend at POS.\n\n1995-06-13  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xfns.c (syms_of_xfns): Initialize Vx_no_window_manager.  Doc fix.\n\n1995-06-13  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* m/ibmrs6000.h (LIBS_MACHINE): Use -lpthreads, not -lpthread.\n\t* config.h.in (HAVE_LIBPTHREADS): Add #undef.\n\n1995-06-12  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>\n\n\t* mem-limits.h [_LIBC] (start_of_data): Define to &__data_start\n\tfor GNU libc.\n\n1995-06-11  Richard Stallman  <rms@gnu.ai.mit.edu>\n\n\t* xmenu.c (frame_vector_add_frame): Don't forget to store\n\tthe longer vector.\n\n\t* xterm.h (struct x_display): New field asked_for_visible.\n\t* xterm.c (x_make_frame_visible): Test and set asked_for_visible.\n\n\t* widget.c (EmacsFrameSetCharSize): Manually alter the height\n\tand width of the outer widget (and the width of the column widget)\n\tcarefully using deltas.\n\tSet update_hints_inhibit nonzero while updating.\n\tThen call update_wm_hints explicitly.\n\t(update_wm_hints): Use 0 for min_rows, min_cols.\n\tDo nothing if update_hints_inhibit is nonzero.\n\n\t* xterm.c: Include widget.h.\n\t(x_wm_set_size_hint) [USE_X_TOOLKIT]:\n\tGet the size from the outer widget.\n\tCopy the base and minimum sizes from the old hint.\n\n\t* xfns.c [USE_X_TOOLKIT] (x_window): If using Motif,\n\tadd some extra to sizes, for consistent behavior.\n\n1995-06-10  Richard Stallman  <rms@gnu.ai.mit.edu>\n\n\t* dispnew.c (Fframe_or_buffer_changed_p): Calculate vector size right.\n\tAdd hysteresis when making it larger.  Fill it up reliably\n\tand check at the end for overflowing it.\n\t(syms_of_display): Make frame_and_buffer_state initially with 20 elts.\n\n\t* keyboard.c (read_char_minibuf_menu_prompt):\n\tIf the char to type doesn't match the prompt string,\n\tshow the char explicitly.\n\n1995-06-10  Geoff Voelker  <voelker@cs.washington.edu>\n\n\t* ntterm.c, ntproc.c, nt.c: Include config.h before stdio.h.\n\n1995-06-09  Geoff Voelker  <voelker@cs.washington.edu>\n\n\t* makefile.nt (TEMACS): Depend upon $(BLD).\n\t(temacs): Remove $(BLD) dependency.\n\n1995-06-09  Richard Stallman  <rms@gnu.ai.mit.edu>\n\n\t* xterm.c (x_get_keysym_name): New function.\n\t* keyboard.c (modify_event_symbol): Mask out high bits here,\n\tand only for certain purposes.  table_size now unsigned.\n\t(modify_event_symbol) [HAVE_X_WINDOWS]: Use x_get_keysym_name.\n\t(make_lispy_event): Don't mask high bits here.\n\tSupply -1 as table_size for system-specific keys.\n\n\t* xdisp.c (update_menu_bar): Use set_buffer_internal_1 to switch bufs.\n\tRun the hooks in the proper buffer.\n\tNormally bind overriding-local-map to nil.\n\t(Qoverriding_local_map): New variable.\n\t(syms_of_xdisp): staticpro it.\n\n1995-06-09  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* keyboard.h (struct kboard): New member system_key_syms.\n\t* alloc.c (mark_kboards): Mark it.\n\t* keyboard.c (system_key_syms): Deleted; now part of struct kboard.\n\t(make_lispy_event): Use the struct member.\n\t(init_kboard): Initialize it.\n\t(syms_of_keyboard): Delete initialization and staticpro.\n\n\t* Makefile.in.in (SOURCES): Makefile isn't source; Makefile.in.in is.\n\n1995-06-08  Richard Stallman  <rms@gnu.ai.mit.edu>\n\n\t* keyboard.c (Fevent_convert_list): Renamed from\n\tconvert_event_type_list.\n\t(syms_of_keyboard): defsubr it.\n\t* keymap.c (Flookup_key, Fdefine_key): Use Fevent_convert_list.\n\n\t* xmenu.c (xmenu_show): Do call lw_destroy_all_widgets.\n\t(xdialog_show): Likewise.\n\t(popup_get_selection): Don't call it here.\n\n\t* search.c (Freplace_match): Fix check for valid reg in string replace.\n\tDo the right thing with backslash.\n\n\t* keyboard.c (Vhelp_event_list): New var.\n\t(syms_of_keyboard): Set up Lisp var.\n\t(help_char_p): New function.\n\t(read_char, echo_char, read_key_sequence): Use help_char_p.\n\n\t* keyboard.h (Vlucid_menu_bar_dirty_flag): Declare this variable.\n\t(Qrecompute_lucid_menubar, Qactivate_menubar_hook): Likewise.\n\n\t* keyboard.c (read_key_sequence): Don't run activate-menubar-hook\n\tor call recompute-lucid-menubar.\n\n\t* xdisp.c (update_menu_bar): Run activate-menubar-hook\n\tand call recompute-lucid-menubar.\n\n1995-06-08  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* commands.h (last_command): Declaration deleted.\n\t* keyboard.h (struct kboard): New member Vlast_command.\n\t* keyboard.c (last_command): Var deleted; now part of struct kboard.\n\t(init_kboard): Initialize it.\n\t(syms_of_keyboard): Defvar it.\n\t(command_loop_1): Make last_command be kboard-local.\n\t* cmds.c (internal_self_insert): Likewise.\n\t* minibuf.c (Fminibuffer_complete): Likewise.\n\n\t* m/ibmrs6000.h (LIBS_MACHINE): Use -lpthread if it exists.\n\n\t* m/alpha.h (LIBS_MACHINE): Define to -ldnet or -ldnet_stub.\n\n\t* s/msdos.h (SYSTEM_PURESIZE_EXTRA) [!HAVE_X_WINDOWS]:\n\tIncrease to 62000.\n\n\t* process.c [!subprocesses]: Include sysselect.h.\n\n\t* xmenu.c (xmenu_show): If !HAVE_X_WINDOWS, don't reference X display.\n\n1995-06-07  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* keyboard.h (struct kboard): member Vprefix_arg restored, replacing\n\tprefix_factor, prefix_value, prefix_sign, and prefix_partial.\n\t* callint.c (current_prefix_partial): Deleted.\n\t(Vprefix_arg): Deleted; not part of struct kboard again.\n\t(Funiversal_argument, Fnegative_argument, Fdigit_argument)\n\t(clear_prefix_arg, finalize_prefix_arg, describe_prefix_arg): Deleted.\n\t(syms_of_callint): Use DEFVAR_KBOARD for Vprefix_arg.\n\tRemove defsubrs for deleted functions.\n\t* lisp.h: Remove declarations for deleted vars and functions.\n\t* alloc.c (mark_kboards): Mark Vprefix_arg instead of\n\tprefix_factor and prefix_value.\n\t* macros.c (Fexecute_kbd_macro): Vprefix_arg is now part of kboard.\n\t* keyboard.c (cmd_error, command_loop_1, Fcommand_execute)\n\t(Fexecute_extended_command, init_kboard, syms_of_keyboard):\n\tUndo Feb 28 change; prefix arg handling is now in Lisp code again.\n\n\t* buffer.c (syms_of_buffer): Doc fix.\n\n\t* buffer.c (Fbuffer_disable_undo): Make this function interactive.\n\n1995-06-07  Richard Stallman  <rms@gnu.ai.mit.edu>\n\n\t* data.c (Flocal_variable_p): New optional arg BUFFER.\n\tReally check whether var is local in *that* buffer.\n\n\t* xfns.c (x_real_positions): Uncatch and recatch X errors in the loop.\n\n\t* filelock.c (unlock_file, lock_file): Call Fexpand_file_name.\n\n1995-06-05  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* Makefile.in.in (TOOLKIT_DEFINES): Define.\n\t(ALL_CFLAGS): Insert $(TOOLKIT_DEFINES) here.\n\t* xfns.c (syms_of_xfns): Provide motif in Motif version.\n\n\t* lisp.h (Fwaiting_for_user_input_p): Function declared.\n\t(Fupcase_initials, Fupcase_initials_region): Likewise.\n\t(Fplist_get, get_local_map, Fx_popup_menu, Fx_popup_dialog): Likewise.\n\t(Fframe_first_window): Likewise.\n\t* keyboard.c (cmd_error): Use NULL, not 0, as arg to\n\tcmd_error_internal.\n\t(menu_bar_items): Likewise, for arg of current_minor_maps.\n\t(record_char): Add cast.\n\t* indent.c (Fvertical_motion): Add cast.\n\t* undo.c (record_insert): Change args to be ints, not Lisp_Objects.\n\t* casefiddle.c (casify_region): Use explicit local vars for start\n\tand end, so that the type will be correct.\n\t(operate_on_word): Likewise for iarg in this function.\n\t(upcase_initials, upcase_initials_region): Deleted; these were\n\tredundant copies of Fupcase_initials and Fupcase_initials_region.\n\t* abbrev.c (Fexpand_abbrev): Call to upcase_initials_region\n\tchanged to Fupcase_initials_region for consistency.\n\t* search.c (Freplace_match): Likewise.\n\t* alloc.c: Declare sbrk.\n\n\t* xdisp.c: Include keyboard.h.\n\n\t* s/irix5-0.h (POSIX_SIGNALS): Defined.\n\n1995-06-03  Richard Stallman  <rms@gnu.ai.mit.edu>\n\n\t* xterm.c (x_wm_set_icon_pixmap): Set IconPixmapHint in both cases.\n\n\t* buffer.c (Fkill_buffer): When killing indirect buffer,\n\tunchain that buffer's markers (only) from the common chain.\n\tDon't rekill this buffer's indirect buffers that are dead.\n\tDo nothing if this buffer is already dead.\n\n1995-06-03  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* editfns.c (Fencode_time): Doc fix.\n\n\t* fns.c (NULL): Define if not defined.\n\n1995-06-02  Richard Stallman  <rms@gnu.ai.mit.edu>\n\n\t* xfns.c (Fx_create_frame): Make sure icon_name is a string or nil.\n\n\t* xterm.h (struct x_display): Rename icon_label to icon_name\n\tand make it a Lisp_Object.\n\n\t* xfns.c (Qicon_name): New variable.\n\t(Fx_create_frame): Look for icon-name parm and set icon_label field.\n\t(x_set_icon_type): Compute arg to x_text_icon\n\tbased on frame name and icon_name fields.\n\t(x_set_icon_name): New function.\n\t(x_icon): Call x_text_icon.\n\t(x_set_name): Look at icon_name field when setting the icon name.\n\t(x_frame_parms): Add icon-name.\n\t(syms_of_xfns): Set up Qicon_name.\n\n\t* xterm.c (x_text_icon): Do call XSetIconName or XSetWMIconName.\n\tDon't save ICON_NAME anywhere.\n\n\t* sysdep.c (old_tty_valid): New variable.\n\t(init_sys_modes): Set old_tty_valid if we set old_tty.\n\t(reset_sys_modes): Restore tty settings only if old_tty_valid.\n\n\t* term.c (cursor_to, clear_to_end_of_line_raw):\n\tIf chars_wasted is 0, do nothing.\n\t(clear_end_of_line): Don't die if chars_wasted is 0.\n\n\t* search.c (trivial_regexp_p): = is special after \\.\n\n\t* s/ptx.h (HAVE_SELECT, HAVE_TIMEVAL): Definitions deleted.\n\n1995-06-01  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* xfns.c (x_destroy_bitmap): Block and unblock input.\n\t(Fx_horizontal_line): Add one UNBLOCK_INPUT to fix a misbalance,\n\tand move another one to include the call to XFreeGC, in case we\n\tsomeday remove the \"#if 0\" conditions.\n\t* widget.c (EmacsFrameDestroy): Block and unblock input.\n\n1995-05-31  Richard Stallman  <rms@gnu.ai.mit.edu>\n\n\t* xfns.c (x_display_info_for_name): Fix error message.\n\t(Fx_open_connection): Fix error messages.\n\n1995-05-30  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* s/sol2-4.h (LD_SWITCH_SYSTEM): Copied back from s/sol2-3.h;\n\tadded references to /usr/dt/lib.\n\n\t* xfns.c (syms_of_xfns): Allow PATH_BITMAPS to be a\n\tcolon-separated list.\n\n\t* editfns.c (syms_of_editfns): user-login-name renamed from user-name.\n\tuser-real-login-name renamed from user-real-name.\n\tC names changed to Vuser_real_login_name, Vuser_login_name as well.\n\t* nt.c: Change Vuser_real_name to Vuser_real_login_name.\n\n1995-05-30  Richard Stallman  <rms@gnu.ai.mit.edu>\n\n\t* xfns.c (x_top_window_to_frame): Don't match menu-bar widget.\n\n\t* xdisp.c (update_menu_bar): Reverse test of save_match_data.\n\n\t* xmenu.c (set_frame_menubar): Always call update_frame_menubar.\n\n\t* xfns.c (x_window): Use applicationShellWidgetClass,\n\tnot topLevelShellWidgetClass.  Call lw_set_main_areas after\n\tcreating the menubar widget.\n\n1995-05-29  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* xdisp.c (update_menu_bar): Do update if region display has changed.\n\n\t* frame.c (make_frame_without_minibuffer): New arg DISPLAY.\n\tIf there's no minibuffer frame to use, create one.\n\t* xfns.c (Fx_create_frame): Pass new arg to\n\tmake_frame_without_minibuffer.\n\n\t* fns.c (Frandom): Use EMACS_INT, not int.\n\tUse NULL, not 0, as arg of `time'.\n\n\t* frame.c: Declare x_get_focus_frame.\n\t(Fmouse_position): Use NULL, not 0, as arg of pixel_to_glyph_coords.\n\t* keyboard.c (make_lispy_event, make_lispy_movement): Likewise.\n\n1995-05-29  Richard Stallman  <rms@gnu.ai.mit.edu>\n\n\t* xterm.c (XTread_socket) [USE_X_TOOLKIT]: Do pass MotionNotify events\n\tto the toolkit.\n\n\t* keyboard.c (Fset_input_mode): When read_socket_hook, ignore\n\twhat the user specified, and set interrupt_input in the preferred\n\tway for this system.\n\n\t* xterm.c (x_term_init): Call init_sigio only if interrupt_input.\n\n1995-05-28  Morten Welinder  <terra+@cs.cmu.edu>\n\n\t* s/osf1.h (COFF): Define.\n\t* m/alpha.h (LD_SWITCH_MACHINE) [!__GNUC__]: Don't define.\n\t(r_alloc, r_re_alloc, r_alloc_free) [REL_ALLOC,\n\t!_MALLOC_INTERNAL, !NOT_C_CODE]: Prototype.\n\n1995-05-28  Richard Stallman  <rms@gnu.ai.mit.edu>\n\n\t* xterm.c (x_set_offset): Distinguish CHANGE_GRAVITY < 0 case.\n\t* xfns.c (x_set_frame_parameters): Pass -1 to x_set_offset.\n\n\t* xfns.c (x_report_frame_params): Report top and left\n\tin a way that represents negative offsets correctly.\n\n\t* syntax.c (describe_syntax_1): Pass new arg to describe_vector.\n\n\t* keymap.c (describe_vector): New arg entire_map.\n\tDon't show bindings shadowed earlier on in the same map.\n\t(Fdescribe_vector, describe_map): Pass new arg.\n\n\t* xdisp.c (redisplay_window): Don't use try_window_id if\n\tnewline has a display table entry.\n\n\t* xdisp.c (update_menu_bar):\n\tCall set_frame_menubar with proper buffer current.\n\n1995-05-26  Geoff Voelker  <voelker@cs.washington.edu>\n\n\t* lread.c (init_lread) [CANNOT_DUMP]: Set Vload_path to EMACSLOADPATH.\n\n1995-05-26  Richard Stallman  <rms@gnu.ai.mit.edu>\n\n\t* xfns.c (x_window): Call initialize_frame_menubar\n\tnear the end, after UNBLOCK_INPUT.\n\n\t* xmenu.c (popup_get_selection): Force deactivation if key pressed.\n\tNew arg `id'.\n\t(xdialog_show, xmenu_show): Pass new arg to popup_get_selection.\n\t* xterm.c (XTread_socket): Don't call popup_get_selection here.\n\n1995-05-26  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* sysdep.c (VFORK_RETURN_TYPE): Use int if not already defined.\n\t(vfork): Declare the return type.\n\t* s/sol2-3.h (HAVE_VFORK): Moved here from s/sol2-4.h.\n\t(VFORK_RETURN_TYPE): Defined.\n\t* s/sol2-4.h (HAVE_VFORK): Moved to s/sol2-3.h.\n\t(pid_t): Deleted; s/sol2-3.h now defines a symbol for this.\n\n\t* xdisp.c (x_consider_frame_title): Use FRAME_KBOARD.\n\n1995-05-26  Geoff Voelker  <voelker@cs.washington.edu>\n\n\t* s/windows95.h: New file.\n\n\t* ntheap.h (get_data_region_base): Undefined.\n\t(get_reserved_heap_size): Use reserved_heap_size.\n\t(reserved_heap_size): Declared.\n\t* ntheap.c (reserved_heap_size,allocate_heap): Defined.\n\t(sbrk): Use allocate_heap.\n\n\t* ntterm.c (set_terminal_modes): Set cursor size appropriate for\n\tWindows 95.\n\t(write_glyphs): Don't memset attrs, which is a word array.\n\n\t* nt.c (configuration_buffer): Increase size.\n\t(get_emacs_configuration) [WINDOWS95]: Use appropriate string.\n\t(prepare_standard_handles) [WINDOWS95]: Disable subprocesses.\n\t(reset_standard_handles): Check error number on failure.\n\n\t* makefile.nt (LIBS): Use BASE_LIBS and ADVAPI32.\n\t(config.h,paths.h): Use $(CP) instead of cp.\n\t(config.h): Use $(CONFIG_H).\n\t(EMACS) [WINDOWS95]: Don't dump temacs.exe.\n\t(clean): Cleanup MSVC files and config.h.\n\t(cleandump): Separate commands onto multiple lines.\n\tCleanup comments.\n\n1995-05-26  Michael Ernst  <mernst@research.microsoft.com>\n\n\t* emacs.c (standard_args): -i, -itype, --icon-type take 0, not 1, args\n\n1995-05-25  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* process.c (create_process, send_process): Add volatile qualifiers.\n\t(wait_reading_process_input) [both versions]: Cast args of select.\n\n\t* syntax.c (scan_lists): Make stringterm an unsigned char.\n\n\t* dispnew.c (change_frame_size_1): Declare arg DELAY.\n\n\t* insdel.c (adjust_point): Declare arg AMOUNT.\n\n\t* lisp.h (do_symval_forwarding): Declare this function.\n\t(frame_buffer_predicate, Foverlay_start, Foverlay_end): Ditto.\n\t(Fprevious_single_property_change, Fend_of_line, Felt): Ditto.\n\t(Fforward_line, Fforward_word, Fdelete_region, Fforward_char): Ditto.\n\t(Fnarrow_to_region, Fwiden, Fmatch_beginning, Fmatch_end): Ditto.\n\t(Fskip_chars_forward, Fskip_chars_backward): Ditto.\n\t(Ffile_name_absolute_p, read_doc_string): Ditto.\n\t(get_frame_param, store_frame_param, store_in_alist): Ditto.\n\t(describe_map_tree): Declaration moved here from keymap.c.\n\t* keymap.c (describe_map_tree): Move declaration to lisp.h.\n\n\t* doc.c (Fsubstitute_command_keys): Cast arg of describe_map_tree.\n\t* frame.c [MULTI_FRAME] (Fmouse_position): Cast arg of\n\tpixel_to_glyph_coords.\n\t* callint.c (Fcall_interactively): Cast arg of doprnt.\n\t* editfns.c (format1): Likewise.\n\t* xdisp.c (message): Likewise.\n\t(scroll_bottom_vpos, fmodetrunc): Declarations deleted.\n\n1995-05-25  Richard Stallman  <rms@gnu.ai.mit.edu>\n\n\t* dispnew.c (Fframe_or_buffer_changed_p): Record frame names\n\tas well as the frame objects.\n\n\t* xterm.c (XTread_socket):\n\tFor MapNotify, call record_asynch_buffer_change.\n\n\t* xdisp.c (prepare_menu_bars): Update frame titles before menu bars.\n\n\t* xfns.c (Fx_get_resource): Major rewrite to make it clearer.\n\t(validate_x_resource_name): Use build_string, not make_string.\n\t(Fx_create_frame): Initially use Vinvocation_name as resource name.\n\tSwitch to frame name if frame name is explicit.\n\t(x_display_info_for_name, Fx_open_connection): Add casts.\n\tInitially use Vinvocation_name as resource name.\n\t[USE_X_TOOLKIT] (x_window): Use Vx_resource_name for widget names.\n\n\t* xmenu.c (xmenu_show, xdialog_show): Increment widget_id_tick\n\tin the same way as in xfns.c.  Use LWLIB_ID type where appropriate.\n\t(set_frame_menubar, free_frame_menubar): Add casts to LWLIB_ID.\n\n\t* xterm.c (XTflash): Use pointers as args to select.\n\t(XTread_socket, x_set_offset, x_set_window_size)\n\t(x_make_frame_invisible): Cast 2nd arg to x_wm_set_size_hint.\n\t(XTclear_end_of_line): Don't specify return type.\n\t(note_mouse_highlight): Declare args x and y.\n\t(x_icon_type): New declaration.\n\t(flashback): Declaration deleted.\n\n1995-05-24  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* lisp.h (menu_bar_items): Declare this function.\n\n1995-05-24  Richard Stallman  <rms@gnu.ai.mit.edu>\n\n\t* xmenu.c (Fx_popup_dialog): Treat (menu-bar) like t, for POSITION.\n\n\t* frame.c (Fdelete_frame): When updating Vdefault_minibuffer_frame,\n\tinsist on a frame on the proper keyboard.\n\n\t* xterm.c (x_connection_closed): Unblock input, first thing.\n\tSet Vdefault_minibuffer_frame to t\n\tbefore deleting a frame that might have its own minibuffer.\n\n1995-05-23  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* xfns.c (hack_wm_protocols): Use cast instead of suffix.\n\n1995-05-23  Richard Stallman  <rms@gnu.ai.mit.edu>\n\n\t* xfns.c (x_set_frame_parameters): Pass 1 as change_gravity\n\twhen calling x_set_offset.\n\t(x_real_positions): Don't add border_width into win_x, win_y.\n\t* xterm.c (x_set_offset): Add border_width when calling XMoveWindow.\n\n\t* xterm.h (struct x_display): New field menubar_height.\n\t* xmenu.c (set_frame_menubar): Set menubar_height field.\n\t* xfns.c (x_window) [both versions]: Set menubar_height.\n\n\t* xfns.c [USE_X_TOOLKIT] (x_window): Don't call XMoveWindow\n\tor x_calc_absolute_position.  Do use the border_width.\n\n\t* xterm.c (x_calc_absolute_position): Use menubar_height field.\n\tIn toolkit case, use outermost Emacs widget and its parent.\n\t[USE_X_TOOLKIT] (x_make_frame_visible): Do call x_set_offset.\n\n\n\t* xfns.c [USE_X_TOOLKIT] (x_window): Pass position to toolkit\n\tonly if user-specified.  But always use XMoveWindow to move the\n\twindow to that position.\n\n\t* alloc.c (Fgarbage_collect): Clear consing_since_gc first thing.\n\n\t* xdisp.c (redisplay_window): Use set_buffer_internal_1.\n\n\t* buffer.c (set_buffer_internal_1): New subroutine.\n\t(Fmove_overlay): Don't set windows_or_buffers_changed.\n\n1995-05-22  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* xselect.c (x_get_window_property): Cast args of XGetWindowProperty.\n\t* xfaces.c (unload_color): Cast args of XFreeColors.\n\t* xfns.c (hack_wm_protocols): Cast args of XGetWindowProperty.\n\t(x_set_border_pixel): Cast args of XSetWindowBorder.\n\t* widget.c (create_frame_gcs): Cast args of XCreateGC.\n\t(setup_frame_gcs): Cast args of XCreatePixmapFromBitmapData.\n\n\t* data.c (long_to_cons): Don't assume 32-bit longs.\n\t* fileio.c (Fvisited_file_modtime): Cast arg of long_to_cons.\n\n\t* editfns.c (Fformat): Split double into two pointers, not two ints.\n\n\t* s/hpux9.h: Delete HAVE_FMOD; configure handles that correctly now.\n\n1995-05-22  Richard Stallman  <rms@waves>\n\n\t* xdisp.c (display_text_line): Enter a char in charstarts\n\tat the very end of the character loop.\n\tEnter newline or ^M (if selective display) separately.\n\n\t* lisp.h (gdb_lisp_params): New enum type.\n\t* .gdbinit: Use gdb_lisp_params to get storage layout info.\n\tSet and use $valmask and $nonvalbits.\n\n\t* lread.c (oblookup): Delete argument hashp.\n\n1995-05-19  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* floatfns.c (Flogb): frexp needs a pointer to int, not EMACS_INT.\n\n1995-05-19  Richard Stallman  <rms@waves>\n\n\t* dispnew.c (buffer_posn_from_coords): Don't let startp be before BEGV.\n\n1995-05-18  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* indent.c (compute_motion): Handle overlay strings.\n\tNew arg DID_MOTION.  All callers changed.\n\t* dispnew.c, window.c: Add new argument to calls of compute_motion.\n\t* xdisp.c: Add new argument to calls of compute_motion.\n\t(zv_strings_seen): New variable.\n\t(redisplay, try_window, try_window_id): Clear zv_strings_seen.\n\t(display_text_line): Handle overlay strings.\n\n1995-05-18  Richard Stallman  <rms@waves>\n\n\t* s/sol2-4.h: Undo previous change.\n\n\t* emacs.c (Fkill_emacs): Delete the auto-save-list file\n\tafter shut_down_emacs.\n\n\t* process.c (status_notify): If Vprocess_alist changes within\n\tthe loop, do the whole loop again.\n\n1995-05-17  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* emacs.c (Fdump_emacs): Don't take address of array.\n\n\t* buffer.c (Fmake_indirect_buffer): Fix interactive spec.\n\n\t* Makefile.in.in (SOURCES): Fix reference to ymakefile.\n\n\t* keyboard.c (syms_of_keyboard): Always define track-mouse.\n\t(do_mouse_tracking): Always declare this var.\n\n1995-05-15  Marcus G. Daniels  <marcus@ee.pdx.edu>\n\n\t* s/linux.h: Test _STDIO_USES_IOSTREAM as well as _IO_STDIO_H.\n\t[__ELF__] (START_FILES, LIB_STANDARD, LIB_GCC, UNEXEC): Define these.\n\t[__ELF__] (UNEXEC_USE_MAP_PRIVATE): Define this.\n\n\t* unexelf.c (unexec) [UNEXEC_USE_MAP_PRIVATE]: New logic for\n\tsystems that don't support MAP_SHARED with PROT_WRITE.\n\n1995-05-15  Richard Stallman  <rms@churchy.gnu.ai.mit.edu>\n\n\t* s/sol2-4.h (LD_SWITCH_SYSTEM): Define.\n\n1995-05-15  Simon Leinen  <simon@lia.di.epfl.ch>\n\n\t* indent.c (vmotion): handle the case where `minibuf_prompt' is nil.\n\n1995-05-12  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* indent.c (vmotion): Simplify.  Replace last three args with a single\n\tstruct window *.  All callers changed.\n\t* xdisp.c (minmax): New macro.\n\t(redisplay, redisplay_window, try_window_id): Clip cursor hpos at both\n\tlow and high extremes, in anticipation of a change to compute_motion.\n\n\t* xterm.c (Qvendor_specific_keysyms): New var.\n\t(syms_of_xterm): Initialize and staticpro it.\n\t(x_term_init): Initialize Vsystem_key_alist according to vendor.\n\n\t* emacs.c (main) [NeXT]: Add missing braces.\n\n1995-05-11  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* sysdep.c (init_system_name): Clean up signedness mismatch.\n\t* unexelf.c (unexec): Fix type mismatch.\n\t* print.c (float_to_string): Fix type mismatch and simplify.\n\n\t* dispnew.c [!MULTI_FRAME] (Fredraw_frame): Delete extra docstring.\n\t* frame.c [!MULTI_FRAME] (Fframe_height, Frame_width): Likewise.\n\n1995-05-09  enami tsugutomo  <enami@sys.ptg.sony.co.jp>\n\n\t* window.c [MULTI_FRAME] (init_window_once): Set Vterminal_frame\n\tto selected_frame.\n\t* frame.c [MULTI_FRAME] (make_terminal_frame): Don't set\n\tVterminal_frame.\n\t(do_switch_frame): Set Vterminal_frame to selected_frame.\n\n1995-05-08  Andreas Schwab  <schwab@issan.informatik.uni-dortmund.de>\n\n\t* Makefile.in.in (VMS_SUPPORT): Add missing `.elc'.\n\t(SOME_MACHINE_LISP): New variable.\n\t(${etc}DOC): Use it.\n\n\t* buffer.c (syms_of_buffer): Doc fix.\n\n\t* frame.c (frame-height, frame-width, set-screen-height,\n\tset-screen-width, termal-frame) [!MULTI_FRAME]: Delete doc strings.\n\n1995-05-08  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* keyboard.c (init_kboard): Initialize Vdefault_minibuffer_frame.\n\t* keyboard.h (struct kboard): New member Vdefault_minibuffer_frame.\n\t* frame.c: Vdefault_minibuffer_frame is now part of KBOARD instead\n\tof a variable.  All references changed.\n\t(make_frame_without_minibuffer): New arg KB.\n\tRequire the new frame's minibuffer to be on the same display.\n\t* xfns.c (Fx_create_frame): Pass kb to make_frame_without_minibuffer.\n\n\t* xdisp.c (x_consider_frame_title): When setting multiple_frames,\n\tignore invisible frames and frames on other displays.\n\n\t* keyboard.c [MULTI_KBOARD] (read_char): If the character was for\n\tthe wrong kboard, don't let it get processed twice.\n\n1995-05-08  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* callproc.c (Fcall_process): Keep reading till buffer is nearly full.\n\n\t* emacs.c (Fdump_emacs): Don't use & before my_edata.\n\n1995-05-08  Francesco Potort\u00ec  (pot@cnuce.cnr.it)\n\n\t* m/delta.h (C_SWITCH_MACHINE): Let configure decide if this is\n\ta 68040 or 68030.  Don't condition on __STDC__.\n\n1995-05-08  enami tsugutomo  <enami@sys.ptg.sony.co.jp>\n\n\t* frame.c (Fraise_frame, Flower_frame): Make arg FRAME optional.\n\n\t* keyboard.c (Fread_key_sequence): Doc fix.\n\n1995-05-08  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* window.c (Fdisplay_buffer): Initialize other, upper, lower.\n\n1995-05-07  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* lisp.h (Fmatch_data, Fstore_match_data): Declared.\n\n\t* xdisp.c (prepare_menu_bars): Save and restore the match data.\n\t(update_menu_bar): New arg save_match_data.\n\tMaybe save and restore match data here.\n\n1995-05-07  Geoff Voelker  <voelker@cs.washington.edu>\n\n\t* makefile.nt (region-cache.obj,vm-limit.obj): Dependencies defined.\n\t(OBJ1): Don't compile xfaces.c.\n\t(buffer.obj,indent.obj,search.obj): Add region-cache.h dependency.\n\n1995-05-07  Paul Eggert  <eggert@twinsun.com>\n\n\t* data.c (Fmod): Fix the final adjustment, when f2 < 0 and f1 == 0.\n\n\t* lread.c (isfloat_string): Reject strings like \"0.5+\".\n\n1995-05-07  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* process.c (wait_reading_process_input): Pass arg in new call to\n\tset_waiting_for_input.\n\n\t* xfns.c (Funfocus_frame): Check for live X frame.\n\n\t* lread.c (init_lread): Don't warn about missing installation dirs\n\twhen using dirs derived from the executable.\n\n1995-05-06  Geoff Voelker  <voelker@cs.washington.edu>\n\n\t* makefile.nt (TRES): Defined.\n\t(TLIB1,TLIB2): Created out of TLIB.\n\t(TLIB): Split to reduce time to do library updates.\n\t(DOC): Use DOC-X.\n\t(strftime.obj): Compile with -Dstrftime=emacs_strftime.\n\n1995-05-06  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* window.c (syms_of_window): Doc fix.\n\t(temp_output_buffer_show): If we use Vtemp_buffer_show_function,\n\tdo nothing else.\n\n\t* s/bsd386.h (GETPGRP_NO_ARG): New definition.\n\t(BSD): Include sys/param.h instead of redefining BSD.\n\tBut do this only if emacs is defined.\n\n\t* lisp.h (gc_cons_threshold): Change back to int.\n\t* alloc.c (gc_cons_threshold): Change back to int.\n\t(min): New macro.\n\t(inhibit_garbage_collection): Don't exceed value an int can hold.\n\n\t* xdisp.c (prepare_menu_bars): Clear size-change flag before running\n\tsize-change functions.\n\t(scroll_step, debug_end_pos, line_number_display_limit): Now static.\n\n1995-05-05  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* emacs.c (Fdump_emacs_data): Don't use & before my_edata.\n\n\t* editfns.c (Fencode_time): Rename arg from min to minute.\n\t(days_per_month): Move variable to top level.\n\n\t* process.c (wait_reading_process_input): Don't call prepare_menu_bars.\n\tClear waiting_for_input around calling redisplay_preserve_echo_area.\n\n\t* xfns.c [USE_X_TOOLKIT] (x_window): Always pass position in geometry.\n\tSet XtNmappedWhenManaged to 0 for shell_widget.\n\t(Fx_create_frame): Always call x_wm_set_size_hints.\n\n\t* s/sol2-4.h (HAVE_VFORK): Add #undef.\n\n\t* s/netbsd.h (GETPGRP_NO_ARG): Defined.\n\n1995-05-04  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* s/freebsd.h (GETPGRP_NO_ARG): Define.\n\t(HAVE_GETPAGESIZE): Definition deleted.\n\n\t* data.c (store_symval_forwarding): Error if value out of range\n\tfor an integer variable.\n\t(Fstring_to_number): Avoid using make_number to return value.\n\tMaybe use atol.\n\n1995-05-04  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* buffer.c (Qbefore_string, Qafter_string): New vars.\n\t(syms_of_buffer): Initialize and staticpro them.\n\t(cmp_for_strings, overlay_strings): New functions.\n\n1995-05-04  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* indent.c (string_display_width): Renamed from string_width.\n\t(vmotion): Use new name.\n\n\t* s/sco4.h [!__GNUC__] (LINKER): Defined.\n\n\t* insdel.c (make_gap): Don't allow buffer size that won't fit in int.\n\tMake this new error check also check exceeding VALBITS.\n\t(insert_1): Delete old error test.\n\t(min): New macro.\n\n\t* Makefile.in.in (${etc}DOC): Put SOME_MACHINE_OBJECTS before obj.\n\n\t* xfaces.c (region_face, next_face_id): Make static.\n\n\t* xselect.c (Vselection_converter_alist, x_selection_timeout)\n\t(Vx_sent_selection_hooks, Vx_lost_selection_hooks, Vselection_alist):\n\tMake static.\n\n\t* alloc.c (inhibit_garbage_collection):\n\tUse XSETINT, and do arithmetic in type EMACS_INT.\n\n\t* s/hpux9.h (HAVE_FMOD): Defined.\n\n\t* sysdep.c (bcmp, bcopy): Fix backward BSTRING conditionals.\n\n\t* emacs.c (Fkill_emacs): Delete the Vauto_save_list_file_name file.\n\n1995-05-04  Morten Welinder  <terra+@cs.cmu.edu>\n\n\t* data.c (arith_driver): Make accum and next EMACS_INTs.\n\t(Fmod): i1 and i2 are EMACS_INT.\n\n\t* editfns.c (Fformat): Allow 30 characters in the printed version\n\tof integers and floats.\n\n\t* print.c (print): Handle long EMACS_INT in sprintf.\n\t* keyboard.c (Fexecute_extended_command):\n\tHandle long EMACS_INT in sprintf.\n\t* lread.c (read1): Handle long EMACS_INT in atol.\n\t* doprnt.c (doprnt): Handle long EMACS_INT in sprintf.\n\t* data.c (Fnumber_to_string, Fstring_to_number):\n\tHandle long EMACS_INT in sprintf and atol.\n\n\t* process.c (list_processes_1): Cast XFASTINT for passing to sprintf.\n\n\t* m/alpha.h (bcopy, bzero, bcmp): Don't let string.h prototype these.\n\n1995-05-03  Morten Welinder  <terra+@cs.cmu.edu>\n\n\t* keyboard.c (parse_modifiers, apply_modifiers): Don't assume\n\t32-bit EMACS_INT.\n\t(parse_modifiers): modifiers is an int, not an EMACS_INT.\n\t(read_key_sequence): Pass modifiers as int, not EMACS_INT.\n\n\t* buffer.h (Fdelete_overlay): Was mistakenly called Fdelete_overlays.\n\n\t* lisp.h (gc_cons_threshold): Make this an EMACS_INT.\n\n\t* alloc.c (gc_cons_threshold): Make this an EMACS_INT.\n\t(gc_sweep): Make already_free an EMACS_INT.\n\n\t* search.c (search_buffer): Cast p_limit to EMACS_INT not int.\n\n\t* s/osf1.h (GETPGRP_NO_ARG): Define.\n\n1995-05-03  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keyboard.c (reorder_modifiers): Use XINT.\n\tCast apply_modifiers arg to int.\n\n\t* unexapollo.c: New file.\n\n\t* m/apollo.h (CANNOT_DUMP, VIRT_ADDR_VARIES, LIBS_TERMCAP)\n\t(NO_X_DESTROY_DATABASE): Macros deleted.\n\t(BSTRING): #undef deleted.\n\t(SYSTEM_TYPES): Redefinition deleted.\n\t(UNEXEC): New definition.\n\t(LD_SWITCH_SYSTEM): Define as empty.\n\t(C_SWITCH_MACHINE, LD_SWITCH_MACHINE): New definitions.\n\t(OLDXMENU_OPTIONS): New definition.\n\n\t* fileio.c (directory_file_name): Add APOLLO conditional.\n\t(Fcopy_file, Fset_file_modes): Delete APOLLO conditionals.\n\n\t* emacs.c: Delete all APOLLO conditionals.\n\n1995-05-02  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* intervals.c (get_local_map): Use Fget_char_property, so that\n\toverlay properties will be considered as well as text properties.\n\n1995-05-02  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* insdel.c (prepare_to_modify_buffer): Use file_truename for locking.\n\n\t* fileio.c (Finsert_file_contents): Use file_truename for unlocking.\n\n\t* buffer.c (Fset_buffer_modified_p): Use the truename for locking.\n\n\t* lread.c (read1): New arg FIRST_IN_LIST; all callers changed.\n\tSpecial handling for backquote and comma.\n\t(Qbackquote, Qcomma, Qcomma_at, Qcomma_dot): New variables.\n\t(syms_of_lread): Initialize and staticpro them.\n\t(Fread, Fread_from_string): Initialize new_backquote_flag.\n\n1995-05-01  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* xmenu.c (xmenu_show, menubar_selection_callback): Move declaration\n\tof entry to an outer block, to guarantee its value is preserved.\n\n\t* keyboard.c (kbd_buffer_get_event): New arg USED_MOUSE_MENU.\n\t[USE_X_TOOLKIT]: Set *USED_MOUSE_MENU if returning menu-bar symbols.\n\t(read_char): Pass used_mouse_menu to kbd_buffer_get_event.\n\tThis variable is now meaningful for toolkit menus as well as\n\tnon-toolkit menus.\n\n\t* dispnew.c (update_frame): Don't put cursor in echo area unless\n\tthe echo area is on this frame.\n\t* xdisp.c (redisplay): Don't move the cursor if it's supposed to\n\tbe in the echo area.\n\t(display_text_line): Likewise.\n\t(echo_area_display): Put cursor in echo area if appropriate.\n\n1995-04-30  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* emacs.c (standard_args): Add #ifdef VMS for -map.\n\t(main): Delete duplicate code for -version.\n\t(standard_args): Add -help and -version.\n\n\t* fileio.c (Fdo_auto_save): Record visited file name\n\tas well as auto-save file name in the auto-save-list-file-name file.\n\tCall Fexpand_file_name for auto-save-list-file-name.\n\n1995-04-29  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* sysdep.c [HAVE_UNISTD_H]: Include unistd.h.\n\n\t* emacs.c (standard_args): Add -L/--directory/-directory.\n\n\t* s/sunos4shr.h (ORDINARY_LINK): Defined.\n\t(LINKER): Definition deleted.\n\n1995-04-28  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* xfns.c (x_non_menubar_window_to_frame): New function.\n\t* xterm.h: Declare x_non_menubar_window_to_frame.\n\t* xmenu.c (popup_get_selection): Use x_non_menubar_window_to_frame.\n\tEither queue or dispatch the event, but not both.\n\t(dialog_selection_callback): Clear popup_activated_flag.\n\n\t* xmenu.c (Fx_popup_menu): If POSITION is just (menu-bar), use the\n\tcurrent mouse position.\n\t(menubar_selection_callback): Use (menu-bar) instead of 'menu-bar.\n\t* keyboard.c (read_char, read_char_x_menu_prompt): Exclude\n\tmenu-bar clicks when processing mouse clicks.\n\n\t* xterm.c (x_term_init): Add stub to initialize Vsystem_key_alist.\n\n1995-04-27  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* process.c (create_process): Don't reference pty_name if !HAVE_PTYS.\n\n1995-04-26  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* fileio.c (Ffile_regular_p): Use Qfile_regular_p.\n\t(syms_of_fileio): Set up Qfile_regular_p.\n\n\t* emacs.c (standard_args): Move -iconic and --icon-type\n\tto the end of the initial args.\n\n1995-04-25  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* alloc.c (mark_kboards): Mark the kbd macro and Vsystem_key_alist.\n\n1995-04-24  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* s/linux.h (REGEXP_IN_LIBC): Defined.\n\n\t* callproc.c (Fcall_process): Use bigger buffer, and grow it\n\tas we get more and more data.\n\n1995-04-24  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* xterm.c (x_term_init): If the previous kboard was the dummy one,\n\tswitch to the new one immediately.\n\n\t* keyboard.h (struct kboard): New member Vsystem_key_alist.\n\t* keyboard.c (Vsystem_key_alist): Delete global variable.\n\t(init_kboard): Initialize Vsystem_key_alist member.\n\t(syms_of_keyboard): Change DEFVAR_LISP to DEFVAR_KBOARD.\n\t(make_lispy_event): Use the kboard's alist instead of the global.\n\n\t* fns.c (Fplist_put): Don't signal an error if plist isn't a cons.\n\n\t* xterm.c (x_focus_frame, x_focus_event_frame, x_highlight_frame):\n\tDelete these vars; now part of struct x_display_info.\n\t(x_new_focus_frame): New arg DPYINFO.  Callers changed.\n\tUse the struct members instead of the globals.\n\tCall x_frame_rehighlight instead of XTframe_rehighlight, so we can\n\tpass on the dpyinfo pointer.\n\t(x_mouse_leave): New arg DPYINFO.  Callers changed.\n\t(XTframe_rehighlight): New arg FRAME.  Callers changed.\n\tNow does all the work in x_frame_rehighlight.\n\t(x_frame_rehighlight): New function, code from XTframe_rehighlight.\n\t(XTread_socket): Use the struct members instead of the globals.\n\t(x_unfocus_frame, x_iconify_frame, x_destroy_window): Likewise.\n\t(x_display_box_cursor, x_make_frame_invisible): Likewise.\n\t(x_term_init): Initialize the struct members.\n\t(x_initialize): Delete initialization of deleted globals.\n\t* xfns.c (x_get_focus_frame): New arg FRAME.  Callers changed.\n\t(Funfocus_frame): Unfocus on selected_frame's display.\n\t* xterm.h (struct x_display_info): New members x_focus_frame,\n\tx_focus_event_frame, x_highlight_frame, replacing global vars.\n\t* frame.c (do_switch_frame): Don't try to refocus termcap frames.\n\n\t* Makefile.in.in: Make dispnew.o and keyboard.o depend on xterm.h.\n\tMake intervals.o and term.o depend on keyboard.h.\n\n\t* xfns.c (x_window): Fix type mismatch.\n\n\t* xdisp.c (message_dolog): The message log doesn't need an undo list.\n\n\t* term.c (term_init): MagicWrap implies AutoWrap.\n\n1995-04-24  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keyboard.c (safe_run_hooks_1, safe_run_hooks_error): New subroutines.\n\t(safe_run_hooks): Handle errors to clear the hook,\n\tinstead of always clearing it temporarily.\n\n\t* callproc.c (child_setup): Reword \"can't exec\" message.\n\tAdd newline after message.\n\n\t* process.c (create_process): Don't abort if can't reopen\n\tpty_name in the child.  Exit the child instead.\n\n1995-04-20  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* abbrev.c (Fexpand_abbrev): Add some error checking.\n\n\t* xmenu.c (Fx_popup_dialog): Don't pass menubarp arg to xdialog_show.\n\n1995-04-19  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* frame.h (struct frame): New member namebuf.\n\t* frame.c (make_frame): Initialize it.\n\t(Fdelete_frame): Free it.\n\t* xfns.c (x_window): Use (or reuse) frame's namebuf instead of a\n\ttemp var.  This avoids a storage leak.\n\n1995-04-19  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xmenu.c (xmenu_show, xdialog_show): Delete menubarp arg.\n\t(Fx_popup_menu): Don't compute menubarp.\n\n1995-04-18  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* callproc.c (Fcall_process): Call Fexpand_file_name for error_file.\n\n\t* keyboard.c (map_event_to_object): Declaration deleted.\n\n1995-04-18  Andreas Schwab  <schwab@issan.informatik.uni-dortmund.de>\n\n\t* eval.c (Ffetch_bytecode): Check the type of the object being\n\tread from the file.\n\n1995-04-17  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* editfns.c (Fencode_time): Don't treat years < 100 as special.\n\n1995-04-17  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* lisp.h: Declare some functions.\n\t* buffer.c (adjust_overlays_for_insert): New function.\n\t(adjust_overlays_for_delete): New function.\n\t* insdel.c (insert_1): Adjust overlay center after inserting.\n\t(insert_from_string_1, insert_from_buffer_1): Likewise.\n\t(del_range_1): Adjust overlay center after deleting.\n\n1995-04-17  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* editfns.c (Fencode_time): Rewrite by Naggum.\n\n1995-04-15  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xfns.c (x_report_frame_params): Report value of `display' parm.\n\n\t* Makefile.in.in (really-lwlib, really-oldXMenu): Mark as .PHONY.\n\n1995-04-14  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* editfns.c (Fencode_time): Fix missing \\n\\'s.\n\n1995-04-14  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* editfns.c (init_editfns): Add casts.\n\n\t* doc.c (get_doc_string): Add cast.\n\n\t* keyboard.c (kbd_buffer_get_event): Don't use prototype.\n\n\t* xdisp.c (message_log_check_duplicate): Make p1 and p2\n\tunsigned char *.\n\n1995-04-13  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xterm.c (x_term_init): Call XtSetLanguageProc only if HAVE_X11XTR6.\n\n1995-04-13  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* editfns.c (Fbuffer_string): Doc clarification.\n\n\t* alloc.c: Delete the #if that compares MARKBIT.\n\n\t* window.c (Fdisplay_buffer): Search the proper frame when the\n\tcurrent frame is minibuffer-only.\n\n\t* fileio.c (Fexpand_file_name): Use IS_DIRECTORY_SEP instead of\n\tspecial code for WINDOWSNT.\n\n1995-04-13  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xfaces.c (compute_char_face): Don't use NULL.\n\n\t* buffer.c (Foverlays_at, Fnext_overlay_change): Don't use NULL.\n\t(Fprevious_overlay_change): Don't use NULL.\n\n\t* xfns.c (Fx_color_defined_p): Doc fix.\n\n\t* xfaces.c [! HAVE_X_WINDOWS] (build_face): Deleted.\n\n1995-04-12  Andreas Schwab  <schwab@issan.informatik.uni-dortmund.de>\n\n\t* callint.c (Fcall_interactively): Fix paren nesting.\n\n\t* buffer.c (evaporate_overlays): Fix type error.\n\n1995-04-13  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xterm.c (XTmouse_position): Handle X errors in XTranslateCoordinates.\n\n\t* lisp.h (MARKBIT): Do the shifting as unsigned int.\n\tDelete the #if that compares MARKBIT.\n\n1995-04-12  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xterm.c (XTread_socket): For ConfigureNotify,\n\tcombine the USE_X_TOOLKIT and non-toolkit cases, which provides\n\tsome things that were missing in the former.\n\n\t* alloc.c (gc_sweep): If a misc has type Lisp_Misc_Free,\n\tkeep it on the free list.  Sum pseudovector sizes properly.\n\n\t* dispnew.c (Fframe_or_buffer_changed_p): Ignore buffers whose names\n\tstart with space.\n\n\t* editfns.c (Fencode_time): Use XINT to examine `zone'.\n\n1995-04-11  Geoff Voelker  <voelker@cs.washington.edu>\n\n\t* ntinevt.c (nt_kdb_patch_event): Created.\n\n\t* callproc.c (child_setup) [WINDOWSNT]: Removed syntax errors.\n\n\t* dired.c (Ffile_attributes) [WINDOWSNT]: Removed syntax errors.\n\n\t* fileio.c (Fexpand_file_name) [DOS_NT]: Preserve drive letter case.\n\tFix syntax errors.\n\tCheck drive letter when expanding ~\\.\n\n\t* sysdep.c (sys_subshell) [WINDOWSNT]: Don't invoke restore_console.\n\n\t* ntproc.c (win32_wait): Reap synchronous subprocesses, and place\n\treturn code in synch_process_retcode.\n\n\t* s/windowsnt.h (ctime): Defined to be nt_ctime.\n\t(NULL): Defined when missing from included system files.\n\t(EMACS_CONFIG_OPTIONS): Defined.\n\t(LISP_FLOAT_TYPE): Defined.\n\t(HAVE_TZNAME): Defined.\n\t(HAVE_TIMEVAL): Defined.\n\t(struct timeval): Defined.\n\t(struct timezone): Defined.\n\n\t* nt.c (nt_ctime): Defined.\n\t(gettimeofday): Defined.\n\n\t* ntinevt.c (do_mouse_event): Use XSETFASTINT.\n\t(SET_FRAME): Undefined.\n\t(select): Renamed to sys_select to correspond to routine in sysdep.c.\n\t(sys_select): Support struct timeval.\n\t(key_event): Support German keyboard.\n\tReplace SET_FRAME with XSETFRAME.\n\t(nt_kbd_mods_to_emacs): Renamed to win32_kbd_mods_to_emacs.\n\t(win32_kbd_mods_to_emacs): Support AltGr on German keyboards.\n\t(win32_number_shift_map): Defined.\n\t(WIN32_KEY_SHIFTED): Defined.\n\t(win32_patch_key): Defined.\n\t(map_virt_key): Support VK_OEM_102 for German keyboards.\n\t(win32_mouse_position): Add arg insist.\n\t(do_mouse_event): Replace SET_FRAME with XSETFRAME.\n\tUse win32_kbd_mods_to_emacs.\n\n\t* fileio.c (directory_file_name) [WINDOWSNT]: Handle UNC format.\n\n\t* nt.c (nt_stat): Defined.\n\n\t* s/windowsnt.h (struct nt_stat): Defined.\n\n\t* ntinevt.h: Fixed function prototypes.\n\n\t* makefile.nt (TEMACS): Add dependence on $(BLD).\n\n\t* ntterm.c (Fset_message_beep): Defined.\n\t(ring_bell): Support audio cards.\n\n\t* makefile.nt (DOC): Defined.\n\n\t* s/windowsnt.h (HAVE_RANDOM): Defined.\n\t(random): Macro undefined.\n\t(srandom): Macro undefined.\n\t(HAVE_UTIME): Defined.\n\t(utime): Defined.\n\t(EMACS_CONFIGURATION): Defined.\n\n\t* nt.c (random): Defined.\n\t(srandom): Defined.\n\n\t* nt.c (readdir): Include \".\" and \"..\".\n\t(get_inode_and_device_vals): Handle directories.\n\n\t* fileio.c (Fexpand_file_name) [DOS_NT]: Don't strip slash from\n\tdefault dirs like \"C:\\\\\"\n\n\t* makefile.nt (all): Use COMPAT_LIB in library list.\n\tUse DEL_TREE instead of delnode.\n\n\t* ntheap.c (sbrk): Shrink heap by arbitrary amounts.\n\n\t* m/intel386.h (NO_ARG_ARRAY) [WINDOWSNT]: Defined.\n\n\t* s/windowsnt.h (_VARARGS_): Defined.\n\t(_CALLBACK_): Defined.\n\n1995-04-11  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>\n\n\t* process.c (create_process): Set PROCESS's tty_name to Qnil when\n\t!PTY_FLAG, so Fprocess_tty_name returns nil for pipes as its\n\tdocstring says.\n\n1995-04-11  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keyboard.c (read_char): Rearrange code so that getcjmp is set\n\tonly around sit_for and kbd_buffer_get_event, and\n\tand polling is stopped only around the kbd_buffer_get_event call.\n\t(Ftrack_mouse, tracking_off, read_char): Don't call prepare_menu_bars.\n\n\t* dispnew.c (init_desired_glyphs): New function.\n\t* xdisp.c (redisplay): Call init_desired_glyphs for each frame.\n\tCall prepare_menu_bars.\n\t(prepare_menu_bars): Delete code at beginning that duplicates\n\tthings done at the beginning of redisplay.\n\n\t* alloc.c (inhibit_garbage_collection): New function.\n\n\t* xterm.c (XTread_socket): Pass dpyinfo to popup_get_selection.\n\n\t* xmenu.c (popup_get_selection): Queue up events that aren't\n\tfor the menu, and process them afterward.  New arg dpyinfo.\n\t(set_frame_menubar): Use inhibit_garbage_collection.\n\t[USE_X_TOOLKIT] (xmenu_show): Delete the queue code here.\n\tPass dpyinfo to popup_get_selection.\n\tDon't call lw_destroy_all_widgets.\n\t[USE_X_TOOLKIT] (xdialog_show): Simplify using popup_get_selection.\n\n1995-04-10  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* callint.c (Fcall_interactively): Fix handling of @\n\twhen it tests whether the event has a window in it.\n\n\t* s/sco4.h (NO_SOCKETS_IN_FILE_SYSTEM): Defined.\n\n\t* eval.c (internal_condition_case): Abort if interrupt_input_blocked>0.\n\n\t* xmenu.c (set_frame_menubar): Don't block input until after\n\tthe menubar maps have been decoded.\n\n1995-04-10  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* keyboard.c (push_frame_kboard, pop_frame_kboard): Do nothing if\n\t!MULTI_KBOARD.\n\n\t* keyboard.c (init_keyboard): Don't malloc a new structure;\n\tinitial_kboard should already exist for that.\n\t* frame.c (make_terminal_frame): Put initial_kboard on the list of\n\tall kboard objects.\n\n1995-04-10  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xmenu.c (popup_get_selection): For ButtonRelease event,\n\tclear dpyinfo->grabbed.\n\n\t* window.c (temp_output_buffer_show): Select the chosen window\n\ttemporarily for running temp-buffer-show-hook.\n\t(syms_of_window): Fix typo.\n\n\t* s/osf1.h: Don't include alloca.h, string.h here.\n\t(malloc. realloc, xmalloc, xrealloc): Declarations moved to m/alpha.h.\n\t* m/alpha.h: Include alloca.h, string.h here.\n\t(malloc. realloc, xmalloc, xrealloc): Declarations moved from s/osf1.h.\n\n\t* xdisp.c (display_mode_line): Use push_frame_kboard, pop_frame_kboard.\n\n\t* xfns.c (x_window): Copy the frame name to non-Lisp string.\n\n\t* keyboard.c (any_kboard_state): Renamed from unlock_kboard.\n\tDefine it unconditionally, but it's a no-op unless MULTI_KBOARD.\n\t(single_kboard_state): New function.\n\t(push_frame_kboard, pop_frame_kboard): New functions.\n\t(single_kboard): Renamed from kboard_locked.\n\n\t* keyboard.h (single_kboard): Renamed from kboard_locked.\n\tAll refs renamed.\n\t(struct kboard): Move flag fields to the end, and make them chars.\n\tDelete the `unused' field.\n\n\t* callint.c (Fcall_interactively): Call single_kboard_state\n\tto switch to the single-kboard state.\n\t* minibuf.c (read_minibuf): Call single_kboard_state\n\tto switch to the single-kboard state.\n\n\t* alloc.c, data.c, macros.c, print.c: Include keyboard.h.\n\n\t* Makefile.in.in (alloc.o, data.o, macros.o, print.o):\n\tDepend on keyboard.h.\n\n\t* xterm.h (x_display_info): Use `struct kboard', not KBOARD.\n\t* frame.h (struct frame): Use `struct kboard', not KBOARD.\n\n\t* keyboard.h (KBOARD, etc): Moved from lisp.h.\n\t(struct kboard): Renamed from struct KBOARD.\n\t* lisp.h (KBOARD, etc): Moved to keyboard.h.\n\n1995-04-09  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keyboard.c (unlock_kboard): Do nothing with Vunread_command_events.\n\t(read_char): Clean up logic for reading from KBOARD queues.\n\n\t* xfns.c (defined_color): Fix typo (duplicate +).\n\n\t* keyboard.c (kbd_buffer_get_event): Set copy by assignment, not init.\n\n\t* xterm.c (XTread_socket): Make deiconify event\n\tonly if frame was iconified.\n\n\t* xrdb.c (xmalloc, xrealloc): Declare them here.\n\n1995-04-08  Erik Naggum  <erik@naggum.no>\n\n\t* editfns.c (Fencode_time): New function, to match `decode-time'.\n\n1995-04-08  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* intervals.c (set_point): When skipping intangible text,\n\tstop where property value changes.\n\n\t* indent.c (Fmove_to_column): Fix minor bug in prev change.\n\n\t* lread.c (read_escape): Undo Nov 15 change.\n\n\t* xdisp.c (display_mode_line): Test mode_line_inverse_video\n\tbefore highlighting partial-width mode line.\n\n\t* xmenu.c (popup_activate_callback): Increment popup_activated_flag.\n\t(popup_deactivate_callback): Decrement it.\n\n\t* s/linux.h (HAVE_SELECT, HAVE_TIMEVAL): Definitions deleted.\n\tconfig.h should handle them.\n\n\t* xdisp.c (redisplay): Don't call update_frame for non-selected\n\ttermcap frame.\n\n1995-04-08  Noah Friedman  <friedman@prep.ai.mit.edu>\n\n\t* window.c (Fnext_window, Fprevious_window): If all_frames is a\n\tframe and window is not on that frame, return the first window on\n\tthat frame.\n\n1995-04-07  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* lread.c (init_lread): Add site-lisp under the installation dir\n\tto Vload_path if that exists.\n\n\t* s/osf1.h (xmalloc, xrealloc): Declare them.\n\n\t* frame.c (make_terminal_frame): Use Emacs, Emacs-2, ... as name.\n\n\t* xdisp.c (decode_mode_spec): Add %F code.\n\tOrder alternatives alphabetically.\n\n\t* s/aix4.h: Use \"...\" in #include.\n\n1995-04-07  Morten Welinder  <terra+@cs.cmu.edu>\n\n\t* s/osf1.h: Include alloca.h, string.h.  Test NOT_C_CODE.\n\n\t* m/alpha.h (SPECIAL_EMACS_INT): Defined.\n\n1995-04-07  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* keyboard.c (kbd_buffer_get_event): Check for frame buried in a cons.\n\tDelete menu_bar_event handling code.\n\t(make_lispy_event): Move it here, so it gets a switch-frame if needed.\n\n\t* callint.c (Fcall_interactively): Fix previous change.\n\n1995-04-07  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* doprnt.c (xmalloc, xrealloc): Declare them here.\n\n\t* callint.c (Fcall_interactively): `+' is reserved for user changes.\n\n\t* process.c (read_process_output_error_handler)\n\t(exec_sentinel_error_handler): Fsleep_for wants two args.\n\n\t* xfns.c (validate_x_resource_name): Change invalid chars to `_'.\n\n\t* doprnt.c (doprnt): Cast pointer to int by way of EMACS_INT.\n\n\t* xmenu.c (menubar_selection_callback, dialog_selection_callback)\n\t(single_submenu): Cast pointer to int by way of EMACS_INT.\n\n\t* floatfns.c (Flogb): Use EMACS_INT for `value'.\n\n\t* editfns.c (Fformat): Cast int to pointer by way of EMACS_INT.\n\n\t* search.c (search_buffer): Avoid casting trt to int.\n\tUse EMACS_INT for comparing pointers.\n\n\t* buffer.h (Fdelete_overlays): Add declaration.\n\n\t* keyboard.c (parse_modifiers): Use type EMACS_INT for `modifiers'.\n\n\t* xterm.c (dumpglyphs): Cast FACE_DEFAULT to (XFontStruct *)\n\tfor comparison with face->font.\n\n\t* sysdep.c (bcopy): If NEED_BCOPY, do compile this.\n\n\t* m/ncr386.h: New file.\n\n\t* s/hpux9.h (LD_SWITCH_X_DEFAULT): New definition.\n\t(C_SWITCH_X_DEFAULT): New definition.\n\n\t* doc.c (get_doc_string): In (STRING . INTEGER), if INTEGER\n\tis negative, negate it.\n\n\t* eval.c (Fuser_variable_p): For (STRING . INTEGER), test sign.\n\n\t* s/sol2.h (C_SWITCH_X_SYSTEM): Defined.\n\n\t* s/usg5-4-2.h (LIBS_SYSTEM): New override definition.\n\n\t* lisp.h (XMISCTYPE): New macro.\n\t(union Lisp_Misc): Delete the `type' field.\n\tUse XMISCTYPE instead of that.\n\n\t* alloc.c (Fmake_marker, mark_object): Use XMISCTYPE.\n\t(clear_marks, gc_sweep): Use u_marker union elt to extract misc type.\n\n\t* lread.c (defvar_int, defvar_bool, defvar_lisp_nopro, defvar_kboard)\n\t(defvar_per_buffer): Use XMISCTYPE.\n\t* print.c (print): Use XMISCTYPE.\n\t* fns.c (internal_equal): Use XMISCTYPE.\n\t* buffer.c (Fmake_overlay): Use XMISCTYPE.\n\t* data.c (Ftype_of, do_symval_forwarding, store_symval_forwarding)\n\t(find_symbol_value, Fmake_variable_buffer_local, Fmake_local_variable):\n\tUse XMISCTYPE.\n\n\t* xdisp.c (prepare_menu_bars): Do the frame titles last.\n\n1995-04-06  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xfaces.c (intern_face): Cast FACE_DEFAULT to (XFontStruct *)\n\tfor comparison with face->font.\n\n\t* puresize.h (CHECK_IMPURE): Remove & from before my_edata.\n\n\t* editfns.c (Fformat_time_string): Use emacs_strftime.  Doc fix.\n\n\t* Makefile.in.in (strftime.o): Define strftime as emacs_strftime.\n\n\t* xmenu.c (frame_vector): New static variable.\n\t(syms_of_xmenu): staticpro it.\n\t(frame_vector_add_frame): New function.\n\t(set_frame_menubar): Use frame_vector; use index as the widget id.\n\t(free_frame_menubar): Likewise.  Remove the frame from frame_vector.\n\t(menubar_selection_callback): Use frame_vector to turn id into frame.\n\n\t* emacs.c (main): Cast arg to `brk'.\n\n\t* sysdep.c (init_sys_modes): Use TCOON only if defined.\n\n\t* s/netbsd.h (NO_MATHERR): Defined.\n\t(LIBS_SYSTEM): Definition deleted.\n\n\t* unexsunos4.c: Treat __NetBSD__ like __FreeBSD__.\n\n1995-04-06  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* fns.c (Fplist_put): Fix missing \\n\\.\n\n\t* xfns.c (x_window_to_frame): Skip non-X frames before testing dpyinfo.\n\t[USE_X_TOOLKIT] (x_any_window_to_frame, x_top_window_to_frame): Ditto.\n\n1995-04-06  Simon Marshall  <simon@duality.gnu.ai.mit.edu>\n\n\t* data.c (Fcar, Fcdr, Fsetcar, Fsetcdr): Arg name doc fixes.\n\n1995-04-06  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* puresize.h (BASE_PURESIZE): Increment to 310000.\n\n\t* indent.c (string_width): New function.\n\t(vmotion): Compute the width of minibuf_prompt\n\tif it isn't already known.\n\n\t* buffer.c (Fkill_buffer): Call reset_buffer_local_variables\n\tand swap_out_buffer_local_variables.\n\t(swap_out_buffer_local_variables): New subroutine.\n\t(Fkill_all_local_variables): Use that subroutine.\n\n\t* search.c (Flooking_at, Fposix_looking_at): Change arg name.\n\n1995-04-05  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* frame.c (Fraise_frame, Flower_frame): Now interactive.\n\n1995-04-04  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* lisp.h: Declare Ffetch_bytecode.\n\t* eval.c (Ffetch_bytecode): New function.\n\t(funcall_lambda): Call it.\n\t(syms_of_eval): defsubr it.\n\n1995-04-03  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* xfns.c (x_window_to_frame): New arg DPYINFO.  All callers changed.\n\t(x_any_window_to_frame, x_top_window_to_frame): Likewise.\n\n\t* lisp.h (Vmessage_log_max): Declare this variable.\n\t(message_nolog): Declare this function.\n\t* emacs.c (main): Start with an empty message log.\n\t* xdisp.c (message_nolog): New function.\n\t* fns.c (Fy_or_n_p): Don't log prompt.\n\t(Fyes_or_no_p): Fix typo in doc string.\n\n1995-04-01  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* lread.c (oblookup): Save bucket num in oblookup_last_bucket_number.\n\t(Funintern): New function.\n\t(syms_of_lread): defsubr it.\n\n1995-03-31  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* dired.c (Fdirectory_files): Fix bug in IS_ANY_SEP usage\n\tintroduced in Oct 30 change.\n\n1995-03-31  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* keyboard.c (command_loop_1): If we ignore force_start, then also\n\tignore beg_unchanged and end_unchanged.\n\n1995-03-31  Michael Ernst  <mernst@research.microsoft.com>\n\n\t* lread.c (isfloat_string): Permit trailing space.\n\n1995-03-30  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* keyboard.c (event_to_kboard): Ignore dead frames.\n\t(kbd_buffer_get_event): In batch mode, use current_kboard.\n\n\t* xterm.c (x_delete_display): Extract kboard deletion, for modularity.\n\t* keyboard.c (wipe_kboard): Make this function static.\n\t(delete_kboard): New function, extracted from x_delete_display.\n\n\t* lisp.h: Declare function delete_kboard.\n\n\t* xterm.h (struct x_display_info): New member cut_buffers_initialized.\n\t* xterm.c (x_term_init): Initialize it.\n\t* xselect.c (Fx_store_cut_buffer_internal): Use the flag in the\n\tframe's x_display_info, not a global flag.\n\t(Fx_rotate_cut_buffers_internal): Likewise.\n\n\t* emacs.c (sort_args): Skip strncmp if longname is a null pointer.\n\n1995-03-30  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* data.c (Fmod): Fix the final adjustment, when i2 < 0 and i1 == 0.\n\n1995-03-29  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* frame.c [MULTI_FRAME] (Factive_minibuffer_window): New function.\n\t[MULTI_FRAME] (syms_of_frame): Defsubr it.\n\n1995-03-28  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* process.c (Fsignal_process): SIGCODE is a symbol, not a string.\n\n1995-03-28  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* fns.c (Fconcat): Undo previous change.\n\n1995-03-27  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* fns.c (Fget, Fput): Fetch and store symbol's plist directly.\n\n1995-03-27  Boris Goldowsky  <boris@cs.rochester.edu>\n\n\t* fns.c (Fplist_put, Fplist_get): New fns.\n\t(Fget): Use Fplist_get to do the work.\n\t(Fput): Use Fplist_put to do the work.\n\n\t* textprop.c (Vdefault_text_properties): name changed from\n\tVdefault_properties.\n\t* intervals.h: As above.\n\t* intervals.c (textget): As above.\n\n\t* intervals.c (textget_direct): Fn deleted.\n\t(textget, verify_interval_modification): Use Fplist_get instead.\n\t* intervals.h: Remove declaration.\n\n1995-03-26  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xterm.c (XTmouse_position): New arg `insist'.\n\t* ntinevt.c (win32_mouse_position): New arg `insist'.\n\t* msdos.c (mouse_get_pos): New arg `insist'.\n\n\t* xmenu.c (Fx_popup_menu): Pass 1 for `insist' arg.\n\t(Fx_popup_dialog): Likewise.\n\t* frame.c (Fmouse_position--both definitions): Pass 0 for `insist'.\n\t(Fmouse_pixel_position): Pass 0 for `insist'.\n\tAdd HAVE_MOUSE conditional.\n\t* keyboard.c (kbd_buffer_get_event): Pass 0 for `insist' arg.\n\n\t* m/intel386.h (C_SWITCH_SYSTEM): Don't #undef or define it.\n\t[SOLARIS2, SOLARIS2_4, !__GNUC__] (C_SWITCH_MACHINE): Define instead.\n\n1995-03-26  Germano Caronni  <caronni@tik.ethz.ch>\n\n\t* ralloc.c (r_re_alloc): Correct realloc behavior--allow shrinking\n\tof blocks while reallocating, if shrinking by more than one page.\n\t(relocate_blocs, resize_blocs): Added failsafe to protect future\n\tcalling of these routines when in frozen state.\n\t(r_alloc_thaw): Added call to r_alloc_init.\n\t(relocate_blocks, resize_bloc, r_alloc_sbrk, r_alloc_thaw): Extended\n\tfunctionality to let ralloc package work in frozen state, allowing\n\tfor the existence of unused blocks.\n\n1995-03-25  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* process.c (Fsignal_process): Allow signal names as well as numbers.\n\n1995-03-24  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* editfns.c (init_editfns): Use NAME envvar to init user-full-name.\n\n1995-03-24  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* textprop.c (Fnext_property_change): Fix previous change.\n\n1995-03-23  Kevin Rodgers  <kevinr@ihs.com>  (tiny change)\n\n\t* print.c (temp_output_buffer_setup): (Re)set the default\n\tdirectory of the temp buffer to that of the current buffer.\n\n1995-03-23  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* buffer.c (syms_of_buffer): Doc fix.\n\n\t* xdisp.c (redisplay): Make sure pause is set before used.\n\tDelete unused vars.\n\t(redisplay_window): Make sure update_mode_line is set before used.\n\tIf startp might not have been set, use w->start directly.\n\t(try_window_id): In the easy case, find cursor pos before returning.\n\t(try_window_id): Stop scan at bottom of window, not one line later.\n\tDon't fail on account of continuation line below window.\n\t(redisplay_window): Stop scan at bottom of window.\n\tFix reversed condition.\n\n\t* Makefile.in.in (FRAME_SUPPORT, MSDOS_SUPPORT): Don't list face\n\tand mouse related files here.\n\t(FACE_SUPPORT, MOUSE_SUPPORT): New lists.\n\t(FACE_SUPPORT): Add facemenu.elc.\n\t(WINNT_SUPPORT): New list.\n\t(lisp): Add format.elc, FACE_SUPPORT, MOUSE_SUPPORT, WINNT_SUPPORT.\n\n1995-03-23  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* m/sparc.h: Don't include alloca.h if NOT_C_CODE.\n\n\t* m/mips-siemens.h (UNEXEC): Override the definition.\n\t(LIBS_DEBUG, ORDINARY_LINK): Add #undefs.\n\n1995-03-22  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* dispnew.c (direct_output_forward_char): Don't use direct output\n\tat an overlay boundary.\n\t* buffer.c (overlay_touches_p): New function.\n\t* lisp.h: Declare overlay_touches_p.\n\n\t* fns.c (concat): Treat integers as characters, not strings.\n\tThis makes `concat' more like `insert'.\n\n\t* window.c (syms_of_window): Fix missing \\n\\.\n\t* keymap.c (Fwhere_is_internal): Fix missing \\n\\.\n\t* fileio.c (syms_of_fileio): Fix missing \\n\\.\n\n1995-03-21  Marco Walther  <Marco.Walther@mch.sni.de.>\n\n\t* unexelfsni.c: New file.\n\n\t* m/mips-siemens.h: Total rewrite.\n\n1995-03-20  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xdisp.c (redisplay_window): Skip the only-point-has-changed\n\toptimization if updating the window's mode line.\n\n1995-03-19  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xdisp.c (invisible_p, invisible_ellipsis_p): Handle list\n\tas invisible property value.\n\n1995-03-18  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xdisp.c (display_menu_bar): Just one space between menu items.\n\n1995-03-18  Ted Lemon  <mellon@toccata.fugue.com>\n\n\t* emacs.c (dump-emacs-data, dump-emacs): Declare my_edata as\n\tchar array.\n\t* lastfile.c (my_edata): Declare as char array, not int.\n\t* puresize.h (CHECK_IMPURE): Declare my_edata as char array.\n\n1995-03-17  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* lread.c (Vload_read_function): New variable.\n\t(readevalloop): Use that variable.\n\t(syms_of_lread): Set up Lisp variable.\n\n1995-03-17  Boris Goldowsky  <boris@spiff.gnu.ai.mit.edu>\n\n\t* buffer.h (struct buffer): Add file_format member.\n\n\t* buffer.c (reset_buffer): Reset file_format element too.\n\t(init_buffer_once): Define file_format flag; reset file_format.\n\t(syms_of_buffer): New vbl buffer-file-format.\n\n\t* fileio.c (Finsert_file_contents): Call format-decode.\n\t(build_annotations): Call format-annotate-function for each element of\n\tbuffer-file-format.\n\t(Vauto_save_file_format): New vbl.\n\t(build_annotations): Use it.\n\n1995-03-17  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* alloc.c (init_alloc_once): Increase gc_cons_threshold to 300000.\n\n1995-03-15  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xfns.c (x_decode_color): Don't use cdef if defined_color failed.\n\n1995-03-15  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* config.h.in [HAVE_X_WINDOWS] (MULTI_KBOARD): Define this symbol.\n\n1995-03-14  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* lisp.h (struct KBOARD, MULTI_KBOARD, current_kboard, all_kboards):\n\t(Lisp_Misc_Kboard_Objfwd, Lisp_Kboard_Objfwd, XKBOARD_OBJFWD):\n\t(KBOARD_OBJFWDP, GC_KBOARD_OBJFWDP, kboard_locked, the_only_kboard):\n\t(DEFVAR_KBOARD): Rename from PERDISPLAY, MULTI_PERDISPLAY,\n\tcurrent_perdisplay, all_perdisplays, Lisp_Misc_Display_Objfwd,\n\tLisp_Display_Objfwd, XDISPLAY_OBJFWD, DISPLAY_OBJFWDP,\n\tGC_DISPLAY_OBJFWDP, display_locked, the_only_perdisplay,\n\tDEFVAR_DISPLAY.  All uses changed.\n\t(struct KBOARD): New member reference_count.\n\t(initial_kboard): Declare this var.\n\t* .gdbinit (xkbobjfwd): Rename from xdispobjfwd.\n\t* frame.h (struct frame): New member kboard.\n\t(FRAME_KBOARD): Accessor macro for that member, replacing\n\tget_perdisplay.\n\t* xterm.h (struct x_display_info): Member kboard (formerly\n\tperdisplay) is now a pointer, not an actual struct.\n\t(get_perdisplay, get_perdisplay_macro): Delete.\n\t* xfns.c (Fx_create_frame): Set the frame's kboard member.\n\t* xterm.c (get_perdisplay): Delete.\n\t(same_x_server): New function.\n\t(x_term_init): If this display shares a keyboard with one we've\n\talready opened, then share the structure.\n\t(x_delete_display): Don't delete the kboard until the reference\n\tcount becomes zero.\n\t* lread.c (defvar_kboard): Rename from defvar_display.\n\t* alloc.c (mark_kboards): Rename from mark_perdisplays.\n\t* frame.c (make_frame): Initialize kboard member.\n\t(make_terminal_frame): Create initial_kboard if not already set.\n\t* keyboard.c (unlock_kboard): Rename from unlock_display.\n\t(wrong_kboard_jmpbuf): Rename from wrong_display_jmpbuf.\n\t(event_to_kboard): Rename from event_to_perdisplay.\n\t(kbd_buffer_get_event): If no associated kboard, store\n\tcurrent_kboard rather than the first kboard in the global list.\n\t(init_kboard): Rename from init_perdisplay.  Initialize reference\n\tcount.\n\t(wipe_kboard): Rename from wipe_perdisplay.\n\t* data.c (find_symbol_value): current_perdisplay now is never null.\n\t(store_symval_forwarding, do_symval_forwarding): Likewise.\n\n1995-03-14  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* data.c (Fash): Fix previous change.\n\n\t* buffer.c (Fmake_indirect_buffer): Invert the arguments.\n\n\t* marker.c (unchain_marker): Allow differing buffers\n\tas long as they have the same text.\n\n1995-03-13  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* keyboard.c (event_to_perdisplay): New function.\n\t(kbd_buffer_get_event): Use event_to_perdisplay.\n\t(kbd_buffer_store_event): If C-g arrives while we're in the run\n\tstate on behalf of another display, just clear the queue and\n\tdeposit the C-g to be read later.\n\t(read_key_sequence): After a throw, unwind delayed_switch_frame as\n\twell as keybuf.  Don't insert an extra switch-frame if empty.\n\n\t* print.c (print): current_perdisplay now is never null.\n\t* callint.c (clear_prefix_arg): Likewise.\n\t* macros.c (Fexecute_kbd_macro): Likewise.\n\n1995-03-13  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* minibuf.c (read_minibuf): Save Voverriding_local_map.\n\t(read_minibuf_unwind): Restore Voverriding_local_map.\n\n1995-03-13  Andreas Schwab  <schwab@issan.informatik.uni-dortmund.de>\n\n\t* unexelf.c (unexec): Adjust the file offset of sections located\n\tafter the section header table.\n\n1995-03-12  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* keyboard.c (unlock_display): current_perdisplay now is never null.\n\t(cmd_error, command_loop_1, read_char): Likewise.\n\t(kbd_buffer_get_event, read_key_sequence): Likewise.\n\t(read_char): Handle synchronous quit_char on a different display.\n\t(read_char): Rewrite queue-searching code.\n\t(read_key_sequence): Save selected_frame.\n\t(init_keyboard): Initialize current_perdisplay.\n\n1995-03-12  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keyboard.c (parse_modifiers_uncached): Delete the code for\n\tmulti-character modifiers and for recognizing a modifier alone.\n\t(parse_solitary_modifier): New function.\n\t(convert_event_type_list): Use parse_solitary_modifier.\n\tAlso convert symbol A to character A.\n\tHandle shift modifier with lower-case letters.\n\n\t* window.c (Fdisplay_buffer): Fix prev change--return sel window.\n\n\t* indent.c (compute_motion, Fmove_to_column, current_column)\n\t(character_width): Let display table handle \\n, \\r, \\t.\n\t(compute_motion): Fix logic in previous change wrt skipping invisible.\n\n1995-03-11  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xdisp.c (display_text_line): When setting selective_rlen,\n\tignore whether selective display is on or off.\n\n\t* textprop.c (Fnext_property_change): Handle LIMIT = t.\n\n\t* indent.c (compute_motion): Call recenter_overlay_lists sooner.\n\tUse Fnext_property_change to get a quick lower bound for\n\twhere `invisible' changes.\n\n1995-03-10  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* data.c (Fash, Flsh): Change arg names.\n\n1995-03-09  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* intervals.h (TEXT_PROP_MEANS_INVISIBLE): New macro.\n\t(TEXT_PROP_MEANS_INVISIBLE_WITH_ELLIPSIS): New macro.\n\n\t* xdisp.c (display_text_line, try_window): Check `invisible' prop\n\tusing TEXT_PROP_MEANS_INVISIBLE.\n\t(display_text_line): Check TEXT_PROP_MEANS_INVISIBLE_WITH_ELLIPSIS;\n\tif it says so, use ellipses after invisible text.\n\t(invisible_p, invisible_ellipsis_p): New functions.\n\n\t* indent.c (compute_motion, vmotion): Check `invisible' prop\n\tusing TEXT_PROP_MEANS_INVISIBLE.\n\n\t* buffer.h (struct buffer): New field `invisibility_spec'.\n\t* buffer.c (reset_buffer_local_variables): Init invisibility.\n\t(init_buffer_once): Set up buffer_local_flags for it.\n\t(syms_of_buffer): New variable `buffer-invisibility-spec'.\n\n1995-03-08  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* syntax.c (Fforward_comment): Always clear immediate_quit for return.\n\n1995-03-08  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* sysdep.c (read_input_waiting): Fix Lisp_Object vs. int problem.\n\n1995-03-07  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* lisp.h (struct PERDISPLAY): New member kbd_queue_has_data.\n\t* keyboard.c (unlock_display): If adding to kbd_queue, set\n\tkbd_queue_has_data.\n\t(read_char): Set and clear kbd_queue_has_data appropriately, but\n\tleave it unset when we push back an incomplete sequence.\n\t(read_char): Take the longjmp even if current_perdisplay was null.\n\t(readable_events): Check kbd_queue_has_data instead of kbd_queue.\n\t(init_perdisplay): Initialize kbd_queue_has_data.\n\n\t* keyboard.c (command_loop_1): Removed inline code for prefix args.\n\t* callint.c (current_prefix_partial): New var.\n\t(Funiversal_argument): New function, formerly inlined in keyboard.c.\n\t(Fnegative_argument, Fdigit_argument): Likewise.\n\t(clear_prefix_arg): Moved here from keyboard.c.\n\tDon't clear the internal state if we're still building a prefix arg.\n\t(finalize_prefix_arg, describe_prefix_arg): Moved from keyboard.c.\n\t(syms_of_callint): defsubr the new functions.\n\t* lisp.h: Declare new var and functions.\n\n\t* lisp.h (struct PERDISPLAY): New member Vlast_kbd_macro.\n\t* alloc.c (mark_perdisplays): Mark it here.\n\t* keyboard.c (init_perdisplay): Initialize it here.\n\n\t* macros.c (Fstart_kbd_macro): Access Vlast_kbd_macro via perdisplay.\n\t(Fend_kbd_macro, Fcall_last_kbd_macro): Likewise.\n\t(init_macros): Delete initialization.\n\t(syms_of_macros): Use DEFVAR_DISPLAY for Vlast_kbd_macro.\n\tDoc fix for executing-macro, executing-kbd-macro, last-kbd-macro.\n\n\t* keyboard.c (cmd_error): Bind Vprint_level and Vprint_length.\n\n1995-03-06  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* keyboard.c (command_loop_1): Fix test for prefix arg.\n\n1995-03-06  Boris Goldowsky  <boris@cs.rochester.edu>\n\n\t* textprop.c (Vdefault_properties): New variable.\n\t* intervals.h: Declare it.\n\t* intervals.c (textget): Check it.\n\n1995-03-03  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* callint.c (Fcall_interactively): Fix Feb 22 change.\n\n\t* keyboard.c (read_key_sequence): Update orig_local_map\n\tfor some additional gotos to replay_sequence.\n\n\t* process.c (exec_sentinel, read_process_output): If running filter\n\tor sentinel changes the local map, call record_asynch_buffer_change.\n\n1995-03-02  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* xdisp.c (display_mode_line): Temporarily set current_perdisplay\n\tto reference the frame we're updating.\n\n\t* lisp.h (struct PERDISPLAY): New members defining_kbd_macro,\n\tkbd_macro_buffer, kbd_macro_ptr, kbd_macro_end, kbd_macro_bufsize.\n\t* macros.h (defining_kbd_macro): Delete declaration.\n\t* macros.c (defining_kbd_macro): Delete; now part of perdisplay.\n\tAll uses changed.\n\t(kbd_macro_buffer, kbd_macro_ptr, kbd_macro_end): Likewise.\n\t(kbd_macro_bufsize): Likewise.\n\t(Fstart_kbd_macro): Initialize kbd_macro_buffer if not already done.\n\t(init_macros): Delete initialization of defining_kbd_macro.\n\t(syms_of_macros): Delete initialization of kbd_macro_buffer.\n\t* keyboard.c (read_char_minibuf_menu_prompt): orig_defn_macro is\n\tnow a Lisp_Object, not an int.\n\t(init_perdisplay): Initialize some of the new members.\n\t(wipe_perdisplay): Free kbd_macro_buffer.\n\n\t* keyboard.c (cmd_error): Allow current_perdisplay to be null.\n\n\t* keyboard.c (read_key_sequence): New arg can_return_switch_frame.\n\tAll callers changed.\n\t(Fread_key_sequence): Likewise.\n\t* callint.c (Fcall_interactively): Defer switch-frame events when\n\treading `k' or `K' specification.\n\n1995-03-02  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* emacs.c (syms_of_emacs): Doc fix.\n\n1995-03-02  John Grabowski  <johng@media.mit.edu>\n\n\t* xfns.c (defined_color): If colormap is full, find closest match.\n\t* xfaces.c (load_color): Call defined_color to allocate the color.\n\n1995-03-01  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xterm.c (x_connection_closed): Ignore non-X frames.\n\tFix the logic for deleting frames that use separate minibuffers\n\tthat are on the dead connection.\n\n\t* buffer.c (Fpop_to_buffer): Call Fset_buffer_major_mode\n\tif we create a buffer.\n\n1995-02-28  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* keyboard.c (cmd_error): Use clear_prefix_arg.\n\t(internal_last_event_frame, Vlast_event_frame): Normal vars again.\n\tAll uses changed.\n\t(Quniversal_argument, Qdigit_argument, Qnegative_argument): Declare.\n\t(clear_prefix_arg, finalize_prefix_arg, describe_prefix_arg): New fns.\n\t(command_loop_1): Handle digits and minus specially, when they're\n\tpart of a prefix arg.\n\tHandle universal-argument and digit-argument and negative-argument\n\tbindings here, rather than doing I/O in the Lisp code.\n\t(read_char): When reading switch-frame events from the side queue,\n\tset internal_last_event_frame.\n\t(readable_events): Return non-zero if a side queue has data.\n\t(kbd_buffer_get_event): Don't abort if event has no associated frame.\n\t(read_key_sequence): Improve behavior when there's no current display.\n\t(init_perdisplay): Initialize the new members.\n\t* callint.c (Fcall_interactively, syms_of_callint): Undo Jan 31 change.\n\t(Vprefix_arg, Vcurrent_prefix_arg): Undo Jan 31 change.\n\t* mocklisp.c (Fml_provide_prefix_argument, Fml_prefix_argument_loop):\n\tUndo Jan 31 change.\n\t* minibuf.c (read_minibuf, read_minibuf_unwind): Undo Jan 31 change.\n\t* frame.c (do_switch_frame): Undo Feb 6 change.\n\t* macros.c (Fexecute_kbd_macro): Use clear_prefix_arg.\n\t* lisp.h (struct PERDISPLAY): Add prefix_factor, prefix_value,\n\tprefix_sign, prefix_partial.  Delete Vcurrent_prefix_arg and\n\tVprefix_arg; those are now plain vars again.\n\t* alloc.c (mark_perdisplays): Update to reflect current Lisp_Objects.\n\t(NSTATICS): Increase to 768.\n\n1995-02-28  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* frame.c (Fframep): Doc fix.\n\n1995-02-28  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* callint.c (Fcall_interactively): Lock the display before\n\texecuting the command, no matter how we execute it.\n\n1995-02-26  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keyboard.c (convert_event_type_list): New function.\n\t(lucid_event_type_list_p): New function.\n\t(parse_modifiers_uncached): If MODIFIERS_END is -1,\n\tlook for just a modifier.  Guts rewritten.\n\n\t* keymap.c (Fdefine_key): Handle Lucid-style (crtl backspace) etc.\n\t(Flookup_key): Likewise.\n\n\t* callproc.c (Fcall_process): Extend BUFFER arg so it can specify\n\ta separate output file for stderr output.\n\t(Fcall_process_region): Doc fix.\n\n1995-02-25  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xmenu.c (Fx_popup_menu): Init f from selected_frame\n\tbefore calling mouse_position_hook.\n\n\t* window.c (Vsame_window_buffer_names, Vsame_window_regexps): New vars.\n\t(syms_of_window): Set up Lisp vars.\n\t(Fdisplay_buffer): Use those vars--if requested, use current window.\n\n1995-02-24  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* keyboard.c (unlock_display): New function.\n\t(cmd_error, command_loop_1): Call it when appropriate.\n\t(read_char): If no current display, don't try to echo.\n\n\t* term.c (term_init) [TERMINFO]: Make error message more accurate.\n\n1995-02-23  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keymap.c (Fglobal_set_key, Flocal_set_key, Fglobal_unset_key)\n\t(Flocal_unset_key): Functions deleted (moved to simple.el).\n\t(syms_of_keymap): Don't defsubr them.\n\n1995-02-23  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* keyboard.c (display_locked): New var to indicate when we're in\n\tthe run state.  current_perdisplay is now meaningful in the wait\n\tstate as well.\n\t(cmd_error): Clear display_locked in addition to current_perdisplay.\n\t(command_loop_1): outer_perdisplay renamed from global_perdisplay.\n\tRestore display_locked as well as current_perdisplay.\n\t(read_char): read_char_perdisplay merged with current_perdisplay.\n\t(read_key_sequence): Likewise.\n\t* minibuf.c (read_minibuf): Make sure the display is locked.\n\t* callint.c (Fcall_interactively): If the display hasn't already\n\tbeen locked by reading from the minibuffer, lock it before\n\texecuting the command.\n\t* lisp.h (display_locked): Declare this var.\n\n1995-02-23  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* window.c (syms_of_window): Doc fixes.\n\n\t* keymap.c (Fwhere_is_internal): If FIRSTONLY is not nil or non-ascii,\n\tcompletely ignore menu bindings.\n\t* xmenu.c (menu_item_equiv_key): Delete the code that rejected\n\tmenu bindings returned by Fwhere_is_internal.\n\n\t* window.c (window_loop): Handle special display buffer frames\n\tfor DELETE_BUFFER_WINDOWS as for UNSHOW_BUFFER.\n\n1995-02-22  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* callint.c (Fcall_interactively): Use markers temporarily in\n\targs vector to stand for point and mark values; replace them\n\twith integers just before calling the command.\n\n1995-02-21  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* lisp.h (struct PERDISPLAY): New member kbd_queue.\n\tDelete obsolete members kbd_buffer_frame_or_window, kbd_buffer,\n\tkbd_fetch_ptr, kbd_store_ptr; these are regular vars again.\n\t* alloc.c (mark_perdisplays): Mark kbd_queue.\n\tRemove reference to obsolete kbd_buffer_frame_or_window.\n\t* xmenu.c (menubar_selection_callback): frame_or_window field of a\n\tmenu-bar event now includes both the frame and the magic cookie.\n\t* keyboard.c (kbd_buffer_frame_or_window): Restored old var.\n\t(kbd_buffer, kbd_fetch_ptr, kbd_store_ptr): Likewise.\n\t(read_char_perdisplay): New var.\n\t(read_char): Search all appropriate perdisplay objects, and do the\n\tright thing if the next event comes from a different source.\n\t(read_key_sequence): If there's a change of display in mid-stream,\n\tretreat and try reading the new display.\n\t(find_active_event_queue): Function deleted.  All callers changed\n\tto just test the main kbd_buffer instead.\n\t(kbd_buffer_store_event): Write to the main kbd_buffer again.\n\t(kbd_buffer_get_event): Read from the main kbd_buffer again.\n\tNow returns a perdisplay pointer in addition to a lispy event.\n\t(Fdiscard_input, swallow_events): Use the main kbd_buffer again.\n\t(stuff_buffered_input): Likewise.\n\t(init_perdisplay): Initialize member kbd_queue.\n\tRemove references to obsolete members.\n\t(wipe_perdisplay): Remove obsolete reference.\n\t(init_keyboard, syms_of_keyboard): Restore initialization of vars.\n\n1995-02-21  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xdisp.c (display_string, display_text_line):\n\tDisplay table overrides ordinary display even for \\t, \\n, etc.\n\n1995-02-19  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* frame.c (Fmake_terminal_frame): Doc fix.\n\n1995-02-18  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* s/hpux9.h (LIB_X11_LIB, C_SWITCH_X_SYSTEM, LD_SWITCH_X_DEFAULT):\n\tAdd #undef's to cancel hpux8.h's definitions.\n\n1995-02-17  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* config.h.in (MULTI_FRAME): Define unconditionally.\n\n1995-02-16  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* dispnew.c (change_frame_size_1): New subroutine.\n\t(change_frame_size): If f is termcap frame, change size of all of them.\n\t(remake_frame_glyphs): No longer static.\n\tDon't mark nonselected termcap frame as garbaged.\n\n\t* term.c (calculate_costs): Update max_frame_height, max_frame_width.\n\tThey determine length of chars_wasted, copybuf and char_ins_del_vector.\n\n\t* xdisp.c (redisplay): Don't display nonselected terminal frames.\n\n\t* frame.c (Fmake_terminal_frame): New function.\n\t(syms_of_frame): defsubr it.\n\t(make_terminal_frame): Init Vframe_list only the first time.\n\tSet visible and async_visible directly.\n\tGive each terminal frame a unique name.\n\n\t* ralloc.c (r_alloc_check): Return void.\n\t(r_alloc_freeze): Initialize if it hasn't been done.\n\t(r_re_alloc, r_alloc_free, r_alloc_sbrk): Likewise.\n\t(r_alloc_init): Set __malloc_extra_blocks.\n\n1995-02-15  Paul Reilly  <pmr@geech.gnu.ai.mit.edu>\n\n\t* s/dgux.h (LIB_MOTIF): Add -lgen to provide provide the symbols\n\t`regcmp' and `regex'.\n\n1995-02-15  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* xmenu.c (xmenu_show, both versions): New arg for_click.\n\t(Fx_popup_menu): Compute it and pass it.\n\n1995-02-14  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* callint.c: Doc fix.\n\n1995-02-14  Paul Reilly  <pmr@geech.gnu.ai.mit.edu>\n\n\t* xterm.c (x_bitmap_icon): Fix test for unallocated icon bitmap.\n\n1995-02-14  Richard Stallman  <rms@geech.gnu.ai.mit.edu>\n\n\t* filelock.c (unlock_buffer, unlock_all_files, Flock_buffer)\n\t(Funlock_buffer): Use buffer's file_truename, not filename.\n\n\t* buffer.c (syms_of_buffer): Set up Lisp var buffer-file-truename.\n\t(init_buffer_once): Set up flag and default value for file_truename.\n\t(reset_buffer): Init file_truename slot.\n\n\t* buffer.h (struct buffer): New field file_truename.\n\n\t* ralloc.c (r_alloc_free): Call refill_memory_reserve only if emacs.\n\n\tInclude getpagesize.h unconditionally.\n\t(free_bloc): Don't die if bloc->next or bloc->prev is null.\n\t[!emacs] (bzero): New macro definition.\n\n\t* keyboard.c (input_poll_signal): Add ignored argument.\n\t(interrupt_signal): Likewise.\n\n\t* dispnew.c (window_change_signal): Add ignored argument.\n\n\t* process.c (Fstart_process): Make process marker point into proc buf.\n\n\t* xterm.c (x_display_bar_cursor): Use frame's cursor_width.\n\n\t(x_connection_signal): New function.\n\t(x_initialize): Use it as signal handler.\n\n\t* xfns.c (x_set_cursor_type): Set cursor_width field.\n\tHandle args of form (bar . WIDTH).\n\n\t* xterm.h (struct x_display): New element cursor_width.\n\n1995-02-14  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* filelock.c (unlock_buffer, unlock_all_files, Flock_buffer)\n\t(Funlock_buffer): Use buffer's file_truename, not filename.\n\n\t* buffer.h (struct buffer): New field file_truename.\n\t* buffer.c (syms_of_buffer): Set up Lisp var buffer-file-truename.\n\t(init_buffer_once): Set up flag and default value for file_truename.\n\t(reset_buffer): Init file_truename slot.\n\n\t* xterm.h (struct x_display): New element cursor_width.\n\t* xfns.c (x_set_cursor_type): Set cursor_width field.\n\tHandle args of form (bar . WIDTH).\n\t* xterm.c (x_display_bar_cursor): Use frame's cursor_width.\n\n1995-02-13  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* m/iris4d.h (STACK_DIRECTION): Undef before defining.\n\t[__GNUC__] (C_SWITCH_MACHINE): Remove -cckr.\n\tAdd -32, only if IRIX_FORCE_32_BITS.\n\t* s/irix5-0.h [__GNUC__] (C_SWITCH_SYSTEM): Defined.\n\t* s/irix4-0.h [__GNUC__] (C_SWITCH_SYSTEM): Define this.\n\t(C_SWITCH_MACHINE): Instead of this.\n\n\t* ralloc.c (r_alloc_free): Call refill_memory_reserve only if emacs.\n\n\t* s/irix6-0.h: New file.\n\n\t* fileio.c (Fexpand_file_name): Copy default-directory\n\tbefore looking for a handler on the directory arg.\n\n\t* cmds.c (Vself_insert_face, Vself_insert_face_command): New variables.\n\t(syms_of_cmds): Set up Lisp variables.  Doc syntax fix.\n\t(internal_self_insert): Handle Vself_insert_face.\n\n\t* lisp.h (Qprocessp): Declared.\n\n\t* xdisp.c (redisplay_window): If we update the mode line,\n\tswitch to the buffer for real, and switch back for real.\n\n1995-02-12  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* xterm.c (x_connection_signal): New function.\n\t(x_initialize): Use it as signal handler.\n\n\t* keyboard.c (input_poll_signal): Add ignored argument.\n\t(interrupt_signal): Likewise.\n\n\t* dispnew.c (window_change_signal): Add ignored argument.\n\n1995-02-11  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* fileio.c (Fexpand_file_name): Look for a handler for defalt.\n\t(syms_of_fileio): Minor rearrangement.\n\n\t* ralloc.c: Include getpagesize.h unconditionally.\n\t(free_bloc): Don't die if bloc->next or bloc->prev is null.\n\t[!emacs] (bzero): New macro definition.\n\n\t* xmenu.c (menu_item_equiv_key): If command is an alias,\n\tcheck only the underlying command for a keyboard equivalent.\n\n\t* s/netbsd.h (WAIT_USE_INT): Defined.\n\t* syswait.h: New alternative specified by WAIT_USE_INT.\n\n\t* process.c (Fstart_process): Make process marker point into proc buf.\n\n1995-02-10  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* data.c: Rename arg OBJ to OBJECT in all type predicates.\n\t(Ftype_of): New function.\n\n1995-02-09  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* xfaces.c (load_color): Ignore failure from XAllocColor.\n\t* xfns.c (x_decode_color): Ignore failure from defined_color.\n\n\t* m/intel386.h [SOLARIS2_4, !__GNUC__] (C_SWITCH_SYSTEM): Defined..\n\t[SOLARIS2_4, !__GNUC__]: Include alloca.h.\n\n1995-02-07  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* Makefile.in.in (maintainer-clean): Renamed from realclean.\n\tPrint warning message.\n\n1995-02-07  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* keyboard.c (command_loop_1): Put back cancel_echoing call, if\n\tthere's a perdisplay for it to apply to.\n\t(init_perdisplay): Initialize echo vars.\n\n\t* xdisp.c (message_log_check_duplicate): New function.\n\t(message_dolog): Delete previous line if the new one is a\n\tduplicate.  Include a counter if appropriate.\n\tDon't bother truncating the buffer until after adding newline.\n\n1995-02-06  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* lisp.h (struct PERDISPLAY): Add Vlast_event_frame.\n\tDefine internal_last_event_frame only #if MULTI_FRAME.\n\tAdd some placeholders so we don't need to rebuild every time this\n\tstruct changes.\n\t* keyboard.c (internal_last_event_frame, Vlast_event_frame):\n\tDeleted; now part of perdisplay.  All uses changed.\n\t(MOUSE_ACTIVITY_AVAILABLE) Deleted.\n\t(find_active_event_queue): New arg check_mouse.  All callers changed.\n\t(Vlast_event_frame): Change from DEFVAR_LISP to DEFVAR_DISPLAY.\n\t* frame.c (do_switch_frame): internal_last_event_frame is now in\n\tperdisplay.\n\n1995-02-05  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* ralloc.c (r_alloc_size_in_use): New function.\n\n\t* alloc.c (emacs_blocked_malloc): Set __malloc_extra_blocks here.\n\t(malloc_hysteresis): New variable.\n\t(init_alloc_once): Initialize malloc_hysteresis.\n\t(buffer_memory_full): New function.\n\t* emacs.c (main): Undo previous change.\n\t* buffer.c (Fget_buffer_create): Call buffer_memory_full.\n\n\t* alloc.c (refill_memory_reserve): New function.\n\t* ralloc.c (r_alloc_free): Call refill_memory_reserve.\n\n1995-02-04  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* alloc.c (SPARE_MEMORY): New macro.\n\t(emacs_blocked_free): If no spare_memory now, and enough free\n\tspace is available, get a new spare.\n\t(__malloc_size_t, _bytes_used): Declared.\n\t(bytes_used_when_full): New variable.\n\n\t* frame.h (struct frame): New field window_sizes_changed.\n\t(FRAME_WINDOW_SIZES_CHANGED): New macro (two definitions).\n\t* window.c (Fdelete_window, set_window_height, set_window_width)\n\t(Fsplit_window, Fset_window_configuration): Set\n\tFRAME_WINDOW_SIZES_CHANGED to 1 in the frame being changed.\n\t* xdisp.c (Vwindow_size_change_functions): New variable.\n\t(prepare_menu_bars): Call those functions.  Add gcproing.\n\t(syms_of_xdisp): Set up Lisp variable.\n\n\t* alloc.c (syms_of_alloc): Improve memory exhausted error message.\n\t(init_alloc_once): Allocate spare_memory.\n\t(memory_full): Free spare_memory.\n\n1995-02-03  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* xselect.c (x_get_foreign_selection, x_reply_selection_request):\n\tUse an unwind-protect to call x_stop_queuing_selection_requests.\n\t(some_frame_on_display): New function.\n\t(queue_selection_requests_unwind): New function.\n\n1995-02-03  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* callint.c (syms_of_callint): Move DEFVAR_DISPLAY's ...\n\t* keyboard.c (syms_of_keyboard): ... to here.\n\t[MULTI_PERDISPLAY] (current_perdisplay, all_perdisplays): New vars.\n\t(find_active_event_queue): Search all perdisplays.\n\t(init_perdisplay, wipe_perdisplay): New functions.\n\t(init_keyboard): Move perdisplay initialization to init_perdisplay.\n\t(syms_of_keyboard): Likewise.\n\t(cmd_error): Cancel echoing here.\n\t(command_loop_1): Not here.\n\n\t* lisp.h (all_perdisplays): New var.\n\t(struct PERDISPLAY): New member next_perdisplay.\n\t* alloc.c (mark_perdisplays): New function.\n\t(Fgarbage_collect): Call it.\n\t* lread.c (defvar_display): Don't staticpro; these objects are now\n\tprotected through mark_perdisplays.\n\t* xterm.c [MULTI_PERDISPLAY] (x_term_init): Initialize perdisplay.\n\t[MULTI_PERDISPLAY] (x_delete_display): Destroy perdisplay.\n\t(x_delete_display): Use xfree, not free.\n\n\t* lisp.h (defvar_display): Declare this function.\n\t(DEFVAR_DISPLAY): Use current_perdisplay, not get_perdisplay.\n\t* data.c (do_symval_forwarding): Likewise.\n\t(store_symval_forwarding, find_symbol_value): Likewise.\n\t* print.c (print): Likewise.\n\t* keyboard.c (echo_prompt, echo_char, echo_dash, echo): Likewise.\n\t(cancel_echoing, echo_length, read_char, Fdiscard_input): Likewise.\n\t(stuff_buffered_input): Likewise.\n\n1995-02-03  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* xdisp.c (display_text_line): Deduct minibuf prompt from taboffset.\n\t(try_window): Deduct minibuf prompt from tab_offset, after 1st line.\n\n1995-02-02  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* xselect.c (wait_for_property_change): Avoid unlikely timing error.\n\n\t* keyboard.c (kbd_buffer_get_event, swallow_events):\n\tRemove selection_request event from input queue before processing it.\n\n1995-02-01  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* macros.c (Fexecute_kbd_macro): Clear prefix arg here.\n\t* keyboard.c (cmd_error): And here.\n\t(command_loop_1): Not here.\n\t(command_loop_1): Save original perdisplay in case we're already\n\tlocked to a particular display.\n\tMove display-specific cleanup to end of main loop.\n\tUse perdisplay to access prefix arg.\n\t(Fcommand_execute, Fexecute_extended_command): Use perdisplay.\n\n1995-02-01  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* xterm.c (x_unqueue_events): Arg is now a Display *.\n\t(x_start_queuing_selection_requests): Likewise.\n\t(x_stop_queuing_selection_requests): Likewise.\n\t* xselect.c (x_get_foreign_selection): Pass display to\n\tx_start_queueing_selection_events and x_stop_queueing_selection_events.\n\n\t* xselect.c (x_reply_selection_request): Call\n\tx_start_queueing_selection_events and x_stop_queueing_selection_events.\n\tHandle X protocol errors.\n\n1995-01-31  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* callint.c (Fcall_interactively): Use perdisplay.\n\t(Vprefix_arg, Vcurrent_prefix_arg): Delete vars; now in perdisplay.\n\t(syms_of_callint): Use DEFVAR_DISPLAY for prefix-arg and\n\tcurrent-prefix-arg.\n\t* minibuf.c (read_minibuf, read_minibuf_unwind): Use perdisplay.\n\t* mocklisp.c (Fml_provide_prefix_argument): Use perdisplay.\n\t(Fml_prefix_argument_loop): Likewise.\n\t* lisp.h (current_perdisplay): New var.\n\t(DEFVAR_DISPLAY): Add missing ampersand.\n\t(Vprefix_arg, Vcurrent_prefix_arg): Delete; now in perdisplay.\n\n\t* lread.c [!MULTI_PERDISPLAY] (defvar_display): Use staticpro.\n\n1995-01-31  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* emacs.c (main) [REL_ALLOC]: Set __malloc_extra_blocks.\n\n1995-01-30  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* buffer.c (syms_of_buffer): overwrite-mode doc fix.\n\n1995-01-30  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* lisp.h [MULTI_PERDISPLAY]: Declare get_perdisplay as a function.\n\t* xterm.c [MULTI_PERDISPLAY] (get_perdisplay): Define this as an\n\texported function.\n\t* xterm.h [MULTI_PERDISPLAY] (get_perdisplay): Define this as a\n\tmacro, for sources that include this header.\n\t[MULTI_PERDISPLAY] (get_perdisplay_macro): Internal macro version.\n\n\t* lisp.h (DEFVAR_DISPLAY): New macro.\n\t* lread.c (defvar_display): New function.\n\n\t* lisp.h: Declare store_symval_forwarding here.\n\t* eval.c (specbind): Not here.\n\t(specbind): Handle display-local vars.\n\t* data.c (do_symval_forwarding): Handle display-local vars.\n\t(store_symval_forwarding, find_symbol_value): Likewise.\n\t(Fmake_variable_buffer_local): Disallow display-local vars here.\n\t(Fmake_local_variable): Likewise.\n\n\t* keyboard.c (syms_of_keyboard): Fix missing backslashes.\n\n1995-01-29  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* fns.c (Frassoc): New function.\n\t(syms_of_fns): defsubr it.\n\n1995-01-28  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* ecrt0.c: Renamed from crt0.c.\n\t* Makefile.in.in (ecrt0.o): Target renamed from crt0.o.\n\t(START_FILES): Use ecrt0.o.\n\n1995-01-27  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* lisp.h (PERDISPLAY, the_only_perdisplay, get_perdisplay):\n\tRenamed from PERD, etc.  All uses changed.\n\t(ECHOBUFSIZE): New constant, replaces sizeof (echobuf).\n\t(enum Lisp_Misc_Type): New enumeration Lisp_Misc_Display_Local.\n\t(struct Lisp_Display_Objfwd): New structure.\n\t(XDISPLAY_OBJFWD, DISPLAY_OBJFWDP): Access the new structure.\n\t(union Lisp_Misc): Add new member.\n\t* keyboard.c (kbd_buffer_frame_or_window): Delete; now in perdisplay.\n\t(immediate_echo, echobuf, echoptr, echo_after_prompt): Likewise.\n\t(echo_prompt, echo_char, echo_dash): use perdisplay and ECHOBUFSIZE.\n\t(echo, cancel_echoing, echo_length, echo_truncate): Likewise.\n\t(read_char, kbd_buffer_store_event, kbd_buffer_get_event): Likewise.\n\t(Fdiscard_input, stuff_buffered_input): Likewise.\n\t(init_keyboard, syms_of_keyboard): Likewise.\n\t* alloc.c (mark_object): Ignore Lisp_Misc_Display_Objfwd objects.\n\t* print.c (print): Handle internal display-local object.\n\t* .gdbinit (xdispobjfwd): New macro.\n\n\t* xdisp.c (message_log_need_newline): This var is now static.\n\t(message_dolog): Set message_log_need_newline appropriately.\n\tDon't change it at all if message logging is currently disabled.\n\t(message_log_maybe_newline): New function.\n\t(message2): Use message_log_maybe_newline.\n\t* print.c (printchar, strout): Use message_log_maybe_newline.\n\tLeave all of the newline bookkeeping to message_dolog.\n\t* lisp.h (message_log_maybe_newline): Function declared.\n\n\t* xdisp.c (message_dolog): Rename \" *Messages*\" buffer to \"*Messages*\"\n\n1995-01-27  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* minibuf.c (Fread_string): Add third arg HISTORY.\n\t* callint.c (Fcall_interactively): Pass new arg to Fread_string.\n\n1995-01-27  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* insdel.c (modify_region): Clear point_before_scroll field.\n\n1995-01-25  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* buffer.h (struct buffer): New field point_before_scroll.\n\t* buffer.c (init_buffer_once, syms_of_buffer):\n\tSet up buffer-local var point_before_scroll.\n\t(reset_buffer): Init point_before_scroll.\n\t* intervals.c (set_point): Set point_before_scroll to nil.\n\n1995-01-24  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* lisp.h (PERD): New struct containing per-display data.\n\t(the_only_perd): Declare an instance of it.\n\t(get_perd): Macro to retrieve it.\n\t* keyboard.c (the_only_perd): Define this var here.\n\t(kbd_buffer, kbd_fetch_ptr, kbd_store_ptr): Delete; now part of perd.\n\t(find_active_event_queue): New function.\n\t(readable_events, kbd_buffer_get_event, swallow_events): Use it.\n\t(kbd_buffer_store_event): Store in EVENT's frame's queue.\n\t(Fdiscard_input, stuff_buffered_input): Use perd.\n\t(init_keyboard): Initialize the new vars.\n\tkbd_buffer is now a pointer, not an array.\n\t* xterm.h (struct x_display_info): New member display_perd.\n\n\t* process.c (process_tick, update_tick): Make non-static.\n\n1995-01-24  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keyboard.c (read_key_sequence): New arg dont_downcase_last\n\tinhibits downcasing the last event, when it's uppercase and undefined.\n\t(Fread_key_sequence): Likewise new arg.\n\t* callint.c (Fcall_interactively): Define K mostly like k.\n\tPass new arg to Fread_key_sequence.\n\t* keymap.c (Flocal_set_key, Fglobal_set_key): Use K, not k, to read key seq arg.\n\n1995-01-23  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* indent.c (compute_motion): Don't get hung in selective-display loop.\n\n\t* syssignal.h: Don't use function prototypes.\n\n\t* keyboard.c (read_key_sequence): Don't wait for a possible key\n\ttranslation sequence if we already have a binding.\n\tAdd missing break statement.\n\n\t* sysselect.h: New file, mostly extracted from process.c and xterm.c.\n\t* process.c: #include sysselect.h instead of defining things by hand.\n\t* sysdep.c (sys_select): Renamed from select.  Use SELECT_TYPE\n\tinstead of int.  Defer to native select if that function is usable.\n\t* config.h (HAVE_SYS_SELECT_H): Add #undef for configure.\n\t* s/isc3-0.h (BROKEN_SELECT_NON_X): #define this.\n\n\t* s/isc3-0.h [__GNUC__] (POSIX_SIGNALS): #define this.\n\t[__GNUC__] (sigsetmask, HAVE_SYSV_SIGPAUSE): #undef these.\n\t(LIBX11_SYSTEM): Don't use -lc; loading this before -lcposix gives\n\tus the wrong signal functions.\n\t(C_SWITCH_SYSTEM): Add _XOPEN_SOURCE.\n\t(EXTRA_INITIALIZE): Make conditional on __GNUC__.\n\n1995-01-22  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* minibuf.c (read_minibuf): Don't print the prompt in batch mode.\n\n\t* emacs.c (sort_args): Ordinary args get priority 0.\n\tSo do -f, -l, -insert, etc.  --kill gets negative priority.\n\tEverything else gets positive priority.\n\n1995-01-21  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xterm.c (x_destroy_window): Don't let frame being destroyed\n\tremain in x_focus_event_frame.\n\n1995-01-21  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* config.h.in [NO_REMAP]: #undef static.\n\n1995-01-20  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* lisp.h (union Lisp_Misc): Make the `type' field just 16 bits,\n\tto match the substructures.\n\n1995-01-20  Morten Welinder  <terra@diku.dk>\n\n\t* fileio.c (file_name_as_directory, Ffile_name_directory)\n\t(Ffile_name_nondirectory): Delete special MSDOG code now covered by macros.\n\n\t* s/msdos.h (DEVICE_SEP, IS_DIRECTORY_SEP, IS_ANY_SEP): Defined.\n\n\t* msdos.c (XMenuCreate, XMenuAddPane, XMenuAddSelection, XMenuLocate)\n\t(XMenuActivate, XMenuDestroy): Add dummy `display *' argument.\n\n\t* xmenu.c [MSDOS]: #include msdos.h.\n\t* msdos.h (x_mouse_leave): Add neutralizing define.\n\t(XMenuCreate, XMenuAddPane, XMenuAddSelection, XMenuLocate)\n\t(XMenuActivate, XMenuDestroy): Add prototype.\n\t* Makefile.in.in (xmenu.o): Add msdos.h as dependency.\n\n\t* buffer.c (syms_of_buffer) [DOS_NT]: Add missing ';'.\n\n1995-01-19  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* textprop.c (Ftext_property_any): Handle the trivial case specially.\n\n\t* sysdep.c (seed_random): Renamed from srandom.\n\t(get_random): Renamed from random.  Return VALBITS random bits.\n\t* fns.c (Frandom): Call seed_random and get_random.\n\n\t* print.c (print): Print internal types too, for debugging.\n\tPrint appropriate message for invalid pseudovector or misc type.\n\n\t* .gdbinit (xboolfwd, xbuflocal, xbufobjfwd, xcompiled): New macros.\n\t(xintfwd, xmiscfree, xobjfwd, xoverlay, xwinconfig): New macros.\n\n1995-01-19  Abramo Bagnara  <abramo@sssup2.sssup.it>\n\n\t* term.c (term_get_fkeys_1): Bug fix for function key above f19.\n\n1995-01-18  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* editfns.c (subst_char_in_region_unwind): New function.\n\t(Fsubst_char_in_region): Use it to make undo_list t temporarily.\n\n\t* buffer.c (Fbuffer_local_variables): Unconditionally call\n\tfind_symbol_value, but conditionally use its value.\n\n\t* xrdb.c: Don't include sys/param.h.\n\t(MAXPATHLEN): Definition deleted.\n\n1995-01-18  Boris Goldowsky  <boris@cs.rochester.edu>\n\n\t* cmds.c (internal_self_insert): Don't test current_column\n\twhen deciding to call auto_fill_function.\n\n1995-01-18  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* lisp.h (SWITCH_ENUM_CAST): New macro.\n\t* alloc.c, data.c, keyboard.c, syntax.c, xdisp.c: Change all\n\toccurrences of SWITCH_ENUM_BUG to use SWITCH_ENUM_CAST instead.\n\n1995-01-18  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* window.c (Qtemp_buffer_show_hook): New hook.\n\t(syms_of_window): Init and staticpro it.\n\t(temp_output_buffer_show): Run the hook.\n\n1995-01-16  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* xdisp.c (message_dolog): Ignore narrowing.\n\tUse low-level functions, to bypass modification and motion hooks.\n\n\t* window.h (struct window): New member column_number_displayed.\n\t* xdisp.c (redisplay): Use that field instead of a global flag.\n\t(redisplay_window, display_mode_line, decode_mode_spec): Likewise.\n\n\t* cm.c (cmcheckmagic): New function.\n\t* cm.h: Declare it.\n\t* term.c (write_glyphs, insert_glyphs): Call it.\n\n1995-01-16  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keyboard.c (kbd_buffer_store_event): Cast arg of bcopy.\n\n1995-01-15  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>\n\n\t* ralloc.c (r_alloc_init): Remove unused variable END.\n\n1995-01-13  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* alloc.c (Fpurecopy): Mask size field when copying pseudovector.\n\n1994-01-12  Boris Goldowsky  <boris@cs.rochester.edu>\n\n\t* lisp.h: Declare Qrear_nonsticky.\n\n\t* cmds.c (Vuse_hard_newlines): New variable.\n\t(Fnewline): If use_hard_newlines is on, mark inserted\n\tnewline(s) with `hard' property, marked rear-nonsticky.\n\n1994-01-12  Tom Tromey  <tromey@drip.colorado.edu>\n\n\t* buffer.c (list_buffers_1, Flist_buffers): Functions deleted.\n\n1995-01-12  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* xdisp.c (message_log_need_newline): New var.\n\t(message_dolog): New function, extracted from message2.\n\t* print.c (printchar, strout): Call message_dolog.\n\t* lisp.h: Declare message_dolog.\n\n\t* alloc.c (DONT_COPY_FLAG): Default this to 1.\n\tCheck to make sure it's not the same as MARKBIT.\n\t(mark_object): Use the same XOR expression as elsewhere.\n\t(gc_sweep): Don't touch DONT_COPY_FLAG here; this one is a real\n\tsize field, not a mangled pointer.\n\n\t* fns.c (internal_equal): Delete redundant tests.\n\tMask size field when comparing pseudovectors.\n\n\t* fns.c (Frandom): Use VALBITS instead of hardcoded constants.\n\n1995-01-10  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* alloc.c (DONT_COPY_FLAG): Fix typo.\n\n\t* lisp.h: Use large constants for Lisp_Misc_Type.\n\n\t* lisp.h: Add some function declarations.\n\t* insdel.c: Declare all non-returning functions `void'.\n\t(insert_1): Make non-static.  New arg PREPARE.  All callers changed.\n\t* xdisp.c (Vmessage_log_max): New var.\n\t(syms_of_xdisp): defvar and initialize it.\n\t(message2_nolog): Renamed from message2.\n\t(message2): Log messages, then call message2_nolog.\n\t(message1_nolog): New function.\n\t* keyboard.c (echo): Don't log the key echoes.\n\t* alloc.c (Fgarbage_collect): Don't log the GC message.\n\n1995-01-10  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* emacs.c (main): Handle SIGABRT, SIGHWE, SIGPRE, SIGORE, SIGDLK,\n\tSIGCPULIM, if they are defined.\n\n\t* alloc.c (DONT_COPY_FLAG): New bit flag.\n\t(mark_object, gc_sweep, compact_strings): Use it.\n\n1995-01-10  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* editfns.c (Finsert_char): Check inherit flag for long strings too.\n\n\t* editfns.c (Fnarrow_to_region): Swap using temp Lisp_Object, not int.\n\n1995-01-10  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keyboard.c (syms_of_keyboard): Doc fix.\n\n\t* unexsunos4.c (unexec): Cast value of sbrk.\n\t(run_time_remap): Cast arg to brk.\n\t(brk_value): Renamed from Brk.\n\t(is_it): Cast 1st arg of mmap.\n\n1995-01-09  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keyboard.c (read_key_sequence): If first event is mouse click,\n\tuse the text property keymap from where the click was.\n\tNew local var orig_local_map.\n\n1995-01-09  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* window.c (Fscroll_other_window): On small windows, scroll by 1 line.\n\n1995-01-09  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* fns.c (internal_equal): Once again use a switch.\n\n\t* lisp.h (struct Lisp_Free, struct Lisp_Marker, etc.):\n\tMake the `type' field just 16 bits, and declare as int.\n\tAdd explicit spacer field after it.\n\t(struct Lisp_Marker): New field insertion_type.\n\n1995-01-08  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keymap.c (store_in_keymap): Copy a cons only if car is a string.\n\n\t* xterm.c: Don't include param.h.\n\n\t* buffer.c (syms_of_buffer): Doc fix.\n\n1995-01-06  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* m/alliant-2800.h (VALBITS, GCTYPEBITS): Deleted; default is better.\n\t* m/apollo.h, m/aviion.h, m/delta.h, m/hp800.h, m/ibmrt.h: Likewise.\n\t* m/intel386.h, m/nh4000.h, m/tower32v3.h: Likewise.\n\t* m/att3b.h (VALBITS, XTYPE): Adjust for new bit layout.\n\t* m/alpha.h, m/gec63.h, m/pfa50.h: Likewise.\n\n1995-01-05  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* frame.c [!MULTI_FRAME] (window_frame): New function.\n\t[!MULTI_FRAME] (syms_of_frame): defsubr it.\n\n1995-01-05  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>\n\n\t* doc.c (store_function_docstring, Fdocumentation): Use &\n\tPSEUDOVECTOR_SIZE_MASK on `size' field of compiled byte-code object.\n\t* callint.c (Fcall_interactively): Likewise.\n\t* eval.c (Fcommandp): Likewise.\n\n1995-01-04  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* alloc.c (mark_object, mark_buffer): Don't mark buffer twice.\n\n\t* .gdbinit (xint, xcar, xcdr): Use correct shift and mask values.\n\n\t* lisp.h [EXPLICIT_SIGN_EXTEND] (XINT): Use symbolic constants.\n\n1995-01-04  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* doc.c (store_function_docstring): Arg is now EMACS_INT.\n\n1995-01-02  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* lisp.h (enum Lisp_Type): Don't use trailing comma.\n\t(VALBITS, GCTYPEBITS): Define these regardless of NO_UNION_TYPE.\n\t[!NO_UNION_TYPE] (union Lisp_Object): Use symbolic constants.\n\n\t* alloc.c (mark_object): Make `else' visible outside MULTI_FRAME.\n\n1995-01-02  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keymap.c (store_in_keymap): While dumping, copy DEF if it's a cons.\n\n\t* buffer.c (reset_buffer): Don't alter intervals here.\n\t(Fget_buffer_create): Use BUF_MARKERS.  Init BUF_INTERVALS here.\n\t(Fkill_buffer): Use BUF_MARKERS; but don't touch it in indir buf.\n\tLikewise BUF_INTERVALS.  Don't free the text in indirect buffer.\n\tWhen killing a base buffer, kill its indirect buffers first.\n\t(init_buffer_once): Set up .text and BUF_INTERVALS\n\tin buffer_local_symbols and buffer_defaults.\n\n\t* alloc.c (mark_buffer, gc_sweep): Use BUF_INTERVALS.\n\t* editfns.c (Ftranspose_regions): Use BUF_INTERVALS.\n\t(transpose_markers): Use BUF_MARKERS.\n\n\t* insdel.c (insert_1, prepare_to_modify_buffer, insert_from_buffer_1):\n\tUse BUF_INTERVALS.\n\t(adjust_markers): Use BUF_MARKERS.\n\n\t* buffer.h (struct buffer): Fields markers and intervals moved out.\n\t(struct buffer_text): Fields markers and intervals moved here.\n\t(BUF_MARKERS, BUF_INTERVALS): New macros.\n\t* textprop.c (validate_interval_range): Use BUF_INTERVALS.\n\t* intervals.c: Use BUF_INTERVALS throughout.\n\t* marker.c: Use BUF_MARKERS throughout.\n\n\t* undo.c (Fprimitive_undo): Use base buffer's modtime field.\n\n1995-01-01  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* .gdbinit: Adapt to new Lisp_Object format.\n\t(xvectype, xmisctype): New commands.\n\t(xtype): Print the misc or vectorlike subtype too.\n\n\t* xdisp.c (redisplay_window): Call set_buffer_temp.\n\n\t* buffer.c (set_buffer_temp): New function.\n\n\t* buffer.h (struct buffer): Make buffer_file_type field unconditional.\n\t* buffer.c (reset_buffer_local_variables): Initialize\n\tbuffer_file_type field.\n\n\t* lisp.h (PVEC_BUFFER, PVEC_PROCESS, PVEC_FRAME, PVEC_COMPILED)\n\t(PVEC_WINDOW, PVEC_WINDOW_CONFIGURATION, PVEC_SUBR):\n\tNow enumeration constants, not macros.\n\t(PVEC_FLAG): Enumeration alias for PSEUDOVECTOR_FLAG.\n\n\t* buffer.h (struct buffer): save_modiff field deleted.\n\t(struct buffer_text): save_modiff field moved here.\n\t(SAVE_MODIFF, BUF_SAVE_MODIFF): New macros.\n\tUse them instead of direct access to save_modiff field.\n\t* buffer.c, editfns.c, fileio.c, filelock.c, insdel.c, keyboard.c:\n\t* undo.c, xdisp.c: Use SAVE_MODIFF and BUF_SAVE_MODIFF\n\tinstead of direct access to the save_modiff field.\n\t* window.c (temp_output_buffer_show): Use BUF_SAVE_MODIFF.\n\n\t* buffer.h (struct buffer): New field pt_marker.\n\tNew fields begv_marker, zv_marker.\n\t* buffer.c (Fget_buffer_create): Initialize pt_marker, begv/zv_marker.\n\t(set_buffer_internal): Use and update this markers.\n\tCopy undo_list in and out of the base buffer.\n\t(Fget_buffer_create): Init save_modiff field here.\n\t(reset_buffer): Not here.\n\t(Fbuffer_modified_p): Use BUF_SAVE_MODIFF.\n\t(Fset_buffer_modified_p): Use SAVE_MODIFF.\n\t(Fkill_buffer, list_buffers_1): Use BUF_SAVE_MODIFF.\n\n\t* term.c (term_init): Fatal error if screen is too small.\n\n1994-12-31  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xdisp.c (redisplay_window): For buffer_shared count,\n\ttreat an indirect buffer as equivalent to its base.\n\n\t* print.c (print): Don't drop thru to error for markers and overlays.\n\n1994-12-30  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* insdel.c (adjust_point): Use BUF_PT.\n\n\t* intervals.c (temp_set_point, set_point): Use BUF_PT.\n\t(get_local_map): Get keymap from specified buffer, not current one.\n\n\t* fileio.c (Finsert_file_contents, Fwrite_region):\n\tError if buffer is indirect.\n\t(Fdo_auto_save): Do nothing for an indirect buffer.\n\n\t* alloc.c (mark_buffer): In indirect buffer, mark the base buffer.\n\n\t* buffer.c (Fmake_indirect_buffer): New function.\n\t(Fbuffer_base_buffer): New function.\n\t(syms_of_buffer): defsubr them.\n\t(Fget_buffer_create): Initialize the size field.\n\n\t* print.c (print): Make buffer case a branch of\n\tthe Lisp_Vectorlike case.\n\n\t* alloc.c (mark_object): Make buffer case a branch of\n\tthe Lisp_Vectorlike case.\n\n\t* buffer.h (struct buffer): Make text field be a pointer.\n\tThe struct buffer_text field renamed to own_text.\n\tAdd fields indirect_to_buffer and size.\n\tMove pt, begv and zv fields here.\n\t(struct buffer_text): Moved from here.\n\t(BEGV, PT, ZV, BEGV_ADDR, PT_ADDR, ZV_ADDR): Corresponding changes.\n\t(BUF_BEGV, BUF_PT, BUF_ZV): Corresponding changes.\n\t(SET_BUF_ZV, SET_BUF_PT, point):\n\n\t* lisp.h (XSETBUFFER, BUFFERP, GC_BUFFERP): Rewrite: use pseudovectors.\n\t(enum Lisp_Type): Delete Lisp_Buffer.\n\t(enum Lisp_Misc_Type): Add Lisp_Misc_Float (not yet used).\n\n1994-12-29  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* lisp.h (VALBITS): Default now 28.\n\t(GCTYPEBITS): Default now 3.\n\n\t* lisp.h (enum Lisp_Type): Lisp_Process, Lisp_Window, Lisp_Frame,\n\tLisp_Subr deleted.\n\t(PSEUDOVECTORP, GC_PSEUDOVECTORP): Add paren for proper nesting.\n\t(PROCESSP, GC_PROCESSP, XSETPROCESS): Rewrite to use pseudovectors.\n\t(WINDOWP, GC_WINDOWP, XSETWINDOW): Likewise.\n\t(FRAMEP, GC_FRAMEP): Likewise.\n\t(SUBRP, GC_SUBRP, XSETSUBR): Likewise.\n\t(PVEC_SUBR): New macro.\n\t(struct Lisp_Subr): Add a size field.\n\t(DEFUN (both definitions)): Store that size field.\n\n\t* frame.h (XSETFRAME): Use pseudovector.\n\n\t* alloc.c (mark_object): Don't use Lisp_Process, Lisp_Window.\n\tHandle frames, compileds and subrs as branch of Lisp_Vectorlike case.\n\t(Fmake_byte_code): Use XSETCOMPILED.\n\n\t* data.c (Faref): Handle compiled function as pseudovector.\n\n\t* fns.c (Flength): Handle compiled function as pseudovector.\n\n\t* xterm.c (x_scroll_bar_handle_click): Use GC_WINDOWP.\n\t(XTframe_rehighlight, x_window_to_scroll_bar): Use GC_FRAMEP.\n\n\t* print.c (print): Get size of compiled function as pseudovector.\n\tUse a switch statement again.\n\n\t* process.h: Make size field an EMACS_INT.\n\n1994-12-28  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* unexsunos4.c [! sparc] (REL_INFO_TYPE): Use `struct relocation_info'.\n\n1994-12-27  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keyboard.c (make_lispy_event) [USE_X_TOOLKIT]: Turn off\n\tspecial handling of menu bar mouse events.\n\t(make_lispy_event): Tell pixel_to_glyph_coords not to clip.\n\n\t* xterm.c (XTupdate_begin): Fix backward test in previous change.\n\t(x_display_box_cursor): Don't redraw old cursor spot in mouse face\n\tif cursor was on a newline.\n\n\t* s/isc4-1.h: New file.\n\n1994-12-26  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xterm.c (XTread_socket): Handle button events from outside\n\tthe frame, received due to grabbing the mouse with a button.\n\n1994-12-25  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* callint.c (Vmouse_leave_buffer_hook, Qmouse_leave_buffer_hook):\n\tNew variables.\n\t(syms_of_callint): Set them up.\n\t(Fcall_interactively): Run the hook, for `@'.\n\n\t* buffer.c (syms_of_buffer): Doc fix for buffer-file-type.\n\n\t* search.c (set_search_regs): Really set search_regs.start and .end.\n\t(save_search_regs): Set them to 0 here.\n\n\t* minibuf.c (read_minibuf): GCPRO things.\n\n\t* lisp.h (enum Lisp_Type): Add Lisp_Type_Limit.\n\t* data.c (wrong_type_argument): Abort if VALUE is invalid Lisp object.\n\tUse Lisp_Type_Limit.\n\n1994-12-24  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* puresize.h (BASE_PURESIZE): Incremented by 20k.\n\n1994-12-23  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xfns.c (x_figure_window_size): Treat missing user-position parm\n\tas nil.\n\n1994-12-23  Steven Suhr  <ssuhr@riacs.edu>\n\n\t* scroll.c (scrolling_1): When scroll_region_ok is set, use a\n\tnew scrolling method which scrolls groups of lines directly\n\tto their final vertical positions.\n\t(struct matrix_elt): New field writecount.\n\t(calculate_direct_scrolling): New function.\n\t(do_direct_scrolling): New function.\n\n\t* term.c (scroll_region_cost): New variable.\n\t(calculate_costs): Put scroll region overhead in scroll_region_cost.\n\n\t* termchar.h (scroll_region_cost): Declared.\n\n\t* dispnew.c (scrolling): Fewer restrictions if scroll_region_ok is\n\tset.  New vector old_draw_cost for direct scrolling method.\n\n1994-12-23  Michal Jankowski  (Michal.Jankowski@fuw.edu.pl)\n\n\t* keyboard.c (read_char): Don't echo keys when echo_keystrokes is 0.\n\n1994-12-22  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xfns.c (x_set_frame_parameters): Handle icon-left, icon-top parms.\n\n1994-12-21  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* buffer.c (Fget_buffer_create): Copy the name, and clear text props.\n\n1994-12-20  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* eval.c (Fdefvar): Fix minor error in previous change.\n\t(funcall_lambda): Fetch bytecode and constants vector from file if nec.\n\n\t* lread.c (Qload_file_name, Vload_file_name): New variables.\n\t(syms_of_lread): Initialize and staticpro it.\n\t(Fload): Bind it.\n\t(read_list): Before dumping, ignore (#$ . WHATEVER)--return 0.\n\n\t* lread.c (read1): Implement #@ and #$ constructs.\n\n\t* frame.c (make_frame): Init buffer_predicate field.\n\n\t* doc.c (get_doc_string): Now static.  Arg now Lisp_Object.\n\tAllow (FILE . POS) as position argument.\n\t(Fdocumentation, Fdocumentation_property): Fix calls to get_doc_string.\n\t(Fdocumentation_property): Handle cons as value via get_doc_string.\n\t(read_doc_string): New function.\n\n\t* buffer.c (assoc_ignore_text_properties): New function.\n\t(Fget_buffer): Use assoc_ignore_text_properties.\n\n1994-12-19  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* s/dgux.h (C_DEBUG_SWITCH): Define this only if __GNUC__.\n\n1994-12-18  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* buffer.c (Fother_buffer): Take account of frame's buffer predicate.\n\n\t* frame.h (struct frame): New field buffer_predicate.\n\tMove all the Lisp_Object fields to the top.\n\n\t* frame.c (Fmodify_frame_parameters): For non-X frames,\n\tcall store_frame_param for each parameter set.\n\t(store_frame_param): Handle buffer_predicate field.\n\t(frame_buffer_predicate): New function.\n\t(Qbuffer_predicate): New variable.\n\t(syms_of_frame): Set it up.\n\n\t* alloc.c (mark_object): In a frame, mark the buffer_predicate.\n\tDon't mark the height and width fields.\n\n1994-12-15  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* minibuf.c (Fall_completions): New arg hide_spaces.\n\t(Fminibuffer_completion_help): Pass new arg.\n\n1994-12-14  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* emacs.c (main): Fix conversion of --display to -d.\n\n\t* xmenu.c (push_menu_item): New arg DEF.\n\t(single_keymap_panes, list_of_items): Pass new arg.\n\t(MENU_ITEMS_ITEM_DEFINITION): New macro.\n\t(MENU_ITEMS_ITEM_LENGTH): Now 5.\n\t[USE_X_TOOLKIT] (xmenu_show): Store 0 in call_data if item def is 0.\n\t(single_submenu): Likewise.\n\n\t* emacs.c (main): Implement --version.\n\n\t* xterm.c (XTupdate_begin): Discard records of prior mouse highlight\n\twhen frame must be redrawn.\n\n\t* textprop.c (add_properties): Add gcpro's.\n\t(Fadd_text_properties, copy_text_properties): Likewise.\n\n1994-12-13  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* s/sunos4-1-3.h: Just include sunos4shr--do nothing else.\n\n\t* eval.c (Fdefconst, Fdefvar): Error if too many arguments.\n\n1994-12-13  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* emacs.c (sort_args): Make `options' a vector of ints.\n\n1994-12-11  Richard Stallman  <rms@kepa>\n\n\t* buffer.c (report_overlay_modification): Renamed from\n\tverify_overlay_modification.\n\t* insdel.c: Calls changed.\n\n\t* insdel.c (signal_before_change, signal_after_change):\n\tCall verify_overlay_modification here.\n\t(prepare_to_modify_buffer): Don't call verify_overlay_modification.\n\n\t* buffer.c (call_overlay_mod_hooks): New args AFTER, ARG1, ARG2, ARG3.\n\tArgs START, END deleted.  Pass each function AFTER, ARG1 and ARG2,\n\tand ARG3 if ARG3 is not nil.\n\t(verify_overlay_modification): New args AFTER, ARG1, ARG2, ARG3.\n\tPass them to call_overlay_mod_hooks.\n\n\t* search.c (compile_pattern): Call re_set_registers here.\n\tAnd no need to BLOCK_INPUT for that.\n\t(compile_pattern_1): Instead of here.\n\n1994-12-10  Richard Stallman  <rms@kepa>\n\n\t* s/aix4-1.h: New file.\n\n\t* unexaix.c (unrelocate_symbols): Add AIX4_1 conditionals and code.\n\n\t* sysdep.c (sys_siglist) [AIX]: Add AIXHFT conditional.\n\n\t* systty.h: Change AIX conditional around HFNKEYS to AIXHFT.\n\n1994-12-09  Richard Stallman  <rms@green-hill>\n\n\t* bytecode.c (Fbyte_code): Call Ffollowing_char and Fprevious_char\n\tas functions.  Don't mask char-syntax arg to just 8 bits.\n\n1994-12-08  Richard Stallman  <rms@green-hill>\n\n\t* keyboard.c (read_char): After auto-saving, redisplay.\n\n1994-12-06  Richard Stallman  <rms@gnu.ai.mit.edu>\n\n\t* xfns.c (Fx_color_values): Doc fix.\n\n\t* buffer.c (list_buffers_1): Right-align the size values.\n\n\t* frame.h (struct frame): New field cost_calculation_baud_rate.\n\t(FRAME_COST_BAUD_RATE): New macro.\n\t* term.c (calculate_costs): Set FRAME_COST_BAUD_RATE.\n\tDon't test dont_calculate_costs.\n\t(dont_calculate_costs): Variable deleted.\n\t(term_init): Don't set dont_calculate_costs.\n\t* dispnew.c (update_frame): Call calculate_costs if baud_rate changed.\n\n1994-12-05  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* emacs.c (sort_args): Don't overwrite the terminating null pointer.\n\n1994-12-05  Richard Stallman  <rms@gnu.ai.mit.edu>\n\n\t* keyboard.c (read_key_sequence): Downcase undefined shifted fn keys.\n\n1994-12-04  Richard Stallman  <rms@gnu.ai.mit.edu>\n\n\t* emacs.c (argmatch): Take argc as arg; don't go past end of argv.\n\t(main): Change calls to argmatch.\n\n\t* intervals.h (INTERVAL_LAST_POS): Don't subtract 1 here.\n\n\t* intervals.c (compare_string_intervals): New function.\n\t* fns.c (internal_equal): Call compare_string_intervals.\n\t(Fstring_equal): Doc fix.\n\n\t* scroll.c (scroll_cost): FRAME_DELETE_COST and FRAME_DELETEN_COSTS\n\twere confused.  Fixed.\n\n\t* xterm.c (x_make_frame_visible, x_make_frame_invisible)\n\t(x_iconify_frame): Give error if frame has explicit_parent.\n\t(x_new_font): Don't set window height if frame has explicit_parent.\n\n\t* xfns.c (Fx_create_frame): Check for parent-id parameter.\n\tSet explicit_parent and parent fields.\n\tDon't set visibility if explicit_parent.\n\t[! USE_X_TOOLKIT] (x_window): Specify parent window.\n\n\t* xterm.h (struct x_display): New field explicit_parent.\n\n\t* s/ultrix4-3.h (SET_LINE_DISCIPLINE): Defined.\n\n\t* sysdep.c (child_setup_tty): Use CDISABLE for setting VERASE, VKILL.\n\t(init_sys_modes) [SET_LINE_DISCIPLINE]: Set specified line discipline.\n\t(reset_sys_modes) [SET_LINE_DISCIPLINE]: Restore old line discipline.\n\n1994-12-03  Richard Stallman  <rms@gnu.ai.mit.edu>\n\n\t* lread.c (readevalloop): Ignore ^M here.\n\n\t* emacs.c (argmatch): Handle lstr == 0.\n\n1994-11-28  Richard Stallman  <rms@gnu.ai.mit.edu>\n\n\t* regex.c (re_match_2_internal):\n\tRename label `succeed' to `succed_label'.\n\n\t* xfns.c (Fx_synchronize): Fix doc string syntax.\n\n\t* xmenu.c: Don't include ../oldXMenu/XMenu.h if USE_X_TOOLKIT.\n\n\t* Makefile.in.in: Fix erroneous comment syntax.\n\n\t* s/ultrix4-3.h: New file.\n\n\t* systty.h: Have just one conditional to include unistd.h.\n\tTest NEED_UNISTD_H, not AIX and IRIX4.\n\t(UNISTD_H_INCLUDED): Don't define or test this.\n\t* m/ibm370aix.h (NEED_UNISTD_H): Defined.\n\t* s/aix3-1.h (NEED_UNISTD_H): Defined.\n\t* s/irix4-0.h (NEED_UNISTD_H): Define.\n\n\t* fileio.c (internal_delete_file, internal_delete_file_1):\n\tNew functions.\n\t* buffer.c (Fkill_buffer): Use internal_delete_file.\n\t* callproc.c (delete_temp_file): Use internal_delete_file.\n\n1994-11-25  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>\n\n\t* search.c (search_regs_saved): Don't initialize; it dumps as pure.\n\n1994-11-24  Francesco Potort\u00ec  <pot@cnuce.cnr.it>\n\n\t* m/delta.h (C_SWITCH_MACHINE): -inline-functions removed,\n\tbecause the compiler shipped with R3V7 is not stable.\n\n1994-11-24  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keyboard.c (command_loop_1): Use safe_run_hooks to run\n\tdeferred-action-function.\n\t(Qdeferred_action_function): New variable.\n\t(syms_of_keyboard): Initialize and staticpro Qdeferred_action_function.\n\n1994-11-23  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keyboard.c (syms_of_keyboard): Doc fix.\n\n\t* fns.c (Fy_or_n_p): Handle exit-prefix in query-replace-map.\n\n1994-11-22  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* search.c (save_search_regs): Add declaration.\n\n\t* minibuf.c (Fminibuffer_complete_and_exit):\n\tCatch errors in do_completion.\n\t(complete_and_exit_1, complete_and_exit_2): New subroutines.\n\n\t* s/aix4.h: New file.\n\t* s/aix3-1.h (AIXHFT): Define.\n\t* m/ibmrs6000.h (OBJECTS_MACHINE): Define only if AIXHFT.\n\n\t* sysdep.c (init_sys_modes): Test AIXHFT, not AIX.\n\t(reset_sys_modes): Test AIXHFT.\n\t(hft_init, hft_reset): Test AIXHFT, not AIX.\n\n1994-11-21  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* window.c (Fdisplay_buffer): Use `b' to read existing buffer name.\n\n1994-11-21  David J. MacKenzie  (djm@mole.gnu.ai.mit.edu)\n\n\t* config.h.in: Add #undefs for --with-pop, --with-kerberos, and\n\t--with-hesiod.\n\n1994-11-19  Francesco Potort\u00ec  <pot@cnuce.cnr.it>\n\n\t* lisp.h (running_asynch_code): New global flag.\n\t* emacs.c (running_asynch_code): New global flag.\n\t(main): Initialize it.\n\t* process.c (read_process_output, exec_sentinel): Set and\n\treset the running_asynch_code global flag and restore match data.\n\n\t* search.c (Flooking_at, Fstring_match, search_buffer,\n\tFstore_match_data): Save the match data if a filter or a sentinel\n\tis running.\n\t(search_regs_saved, saved_search_regs): New variables.\n\t(save_search_regs, restore_match_data): New functions.\n\n1994-11-19  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* emacs.c (sort_args): New function.\n\t(main): Call sort_args.\n\tCheck for -d/-display after -nw, -batch, -help.\n\tAccept --display, with arg attached or separate.\n\n1994-11-18  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* filelock.c (init_filelock): Add missing semicolon.\n\n1994-11-18  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* indent.c (recompute_width_table): Do the right thing if no previous\n\ttable existed.\n\tFix Lisp_Object vs. integer problem.\n\t(width_run_cache_on_off): Let recompute_width_table create the vector.\n\n1994-11-17  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* lisp.h (enum Lisp_Misc_Type): Rename Lisp_Vector to\n\tLisp_Vectorlike.  Mark Lisp_Window_Configuration as obsolete.\n\t(PSEUDOVECTOR_FLAG, PSEUDOVECTOR_SIZE_MASK, PVEC_BUFFER,\n\tPVEC_PROCESS, PVEC_FRAME, PVEC_COMPILED, PVEC_WINDOW,\n\tPVEC_WINDOW_CONFIGURATION): New constants.\n\t(XSETPSEUDOVECTOR, PSEUDOVECTORP, VECTORLIKEP): New macros.\n\t(XSETVECTOR, XSETWINDOW_CONFIGURATION, VECTORP,\n\tWINDOW_CONFIGURATIONP): Use the new convention.\n\t(XSETCOMPILED): New macro.\n\t* print.c (print): Use type test macros.\n\t* keymap.c (Fsingle_key_description): Likewise.\n\t* doc.c (Fdocumentation): Likewise.\n\t* alloc.c (Fpurecopy): Likewise.\n\t(mark_object): Use the new pseudovector convention.\n\t* fns.c (Fvconcat, concat): Use Lisp_Vectorlike.\n\t* ntinevt.c (SET_FRAME): Use accessor macros.\n\t(key_event, do_mouse_event): Likewise.\n\n1994-11-17  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* filelock.c (init_filelock): Always copy lock_path.\n\t(lock_dir, superlock_file, MAKE_LOCK_NAME):\n\tRenamed from lock_path, superlock_path, MAKE_LOCK_PATH.\n\n1994-11-16  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* s/domain.h: New file.\n\n1994-11-16  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>\n\n\t* s/gnu.h [NOT_C_CODE]: Include fcntl.h.\n\n1994-11-16  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xdisp.c (try_window, display_text_line): Undo previous change.\n\n\t* dired.c (Fdirectory_files): Pass new arg to `compile_pattern'.\n\n\t* search.c (struct regexp_cache): New field `posix'.\n\t(compile_pattern_1): New arg `posix'.  Controls the syntax spec\n\tfor parsing; also record it in the cache.\n\t(compile_pattern): New arg `posix'.\n\t(looking_at_1, string_match_1, fast_string_match): Pass 0 for new arg.\n\t(search_buffer): New arg `posix'.  Now static.\n\t(search_command): New arg `posix'.  All callers changed.\n\t(Fposix_search_forward, Fposix_search_backward): New functions.\n\t(string_match_1, looking_at_1): New subroutines broken out.\n\t(Fstring_match, Flooking_at): Use them.\n\t(Fposix_string_match, Fposix_looking_at): New functions.\n\t(syms_of_search): defsubr new functions.\n\n1994-11-16  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>\n\n\t* xdisp.c (try_window): Don't pass window to Fget_char_property;\n\tpass its buffer.\n\t(display_text_line): Likewise.\n\n1994-11-16  Francesco Potort\u00ec  (pot@cnuce.cnr.it)\n\n\t* Makefile.in.in (TAGS): The new etags allows tagging DEFVARs.\n\n1994-11-15  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* lread.c (Fload): Call Fsubstitute_in_file_name after trying handler.\n\n\t* fileio.c (Fread_file_name_internal): Protect orig_string.\n\n1994-11-15  enami tsugutomo  <enami@sys.ptg.sony.co.jp>\n\n\t* keyboard.c (Fopen_dribble_file): Call fclose only when\n\tdribble is non zero.\n\n1994-11-15  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* keymap.c (access_keymap): Use type test macros.\n\n\t* alloc.c (Fmake_vector): Call allocate_vectorlike.\n\t(allocate_vectorlike): New function, extracted from Fmake_vector.\n\t* lisp.h: Declare allocate_vectorlike.\n\t(VECSIZE): New macro.\n\t* process.c (make_process): Use allocate_vectorlike and VECSIZE.\n\t* frame.c (make_frame): Likewise.\n\t* window.c (make_dummy_parent, make_window): Likewise.\n\t(Fcurrent_window_configuration): Likewise.\n\t(SAVE_WINDOW_DATA_SIZE): Macro deleted.\n\n\t* lisp.h: Delete declaration of Farray_length.\n\t* data.c (Farray_length): Delete this obsolete function.\n\t(Faref, Faset): If object is a string, use XSTRING, not XVECTOR.\n\t* fns.c (Flength): Don't call Farray_length, just use size field.\n\n\t* xterm.h (XSCROLL_BAR): Extract from Lisp_Vector, not generic pointer.\n\n\t* xselect.c (wait_for_property_change): Encode location as a cons\n\tof two integers instead of lying about the type.\n\t(wait_for_property_change_unwind): Decode it likewise.\n\n\t* eval.c (Finteractive_p): Use XSUBR instead of its expansion.\n\n\t* lisp.h (GC_INTEGERP, etc): New type-test macros for use during GC.\n\t* buffer.h (OVERLAY_POSITION): Use the new type-test macros.\n\t* process.c (NETCONN_P, kill_buffer_processes): Likewise.\n\t* buffer.c (overlays_at): Likewise.\n\t* filelock.c (unlock_all_files): Likewise.\n\t* xfns.c (x_window_to_frame): Likewise.\n\t(x_any_window_to_frame, x_top_window_to_frame): Likewise.\n\t* fileio.c (Fdo_auto_save): Likewise.\n\n\t* xfaces.c (Fpixmap_spec_p): Avoid function calls and assignments\n\tas arguments to a type-test macro.\n\t* textprop.c (PLIST_ELT_P): Likewise.\n\t* keymap.c (current_minor_maps): Likewise.\n\n\t* lisp.h (NATNUMP): New macro.\n\t(CHECK_NATNUM): Use that macro instead of its expansion.\n\t* data.c (Fnatnump): Likewise.\n\t* xfns.c (x_set_frame_parameters): Likewise.\n\t* keymap.c (access_keymap, store_in_keymap): Likewise.\n\t* doc.c (Fdocumentation): Likewise.\n\t* alloc.c (Fmake_list): Use CHECK_NATNUM instead of its expansion.\n\tNow signals using `wholenump' instead of `natnump'.\n\t(Fmake_vector, Fmake_string): Likewise.\n\n\t* data.c (syms_of_data): Set Qwholenump as function, not variable.\n\n\t* alloc.c (free_float): Don't assume XFASTINT accesses the raw bits.\n\t(make_float, free_cons, Fcons, Fmake_symbol, gc_sweep): Likewise.\n\n1994-11-15  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xterm.c (x_mouse_leave): New function broken out of XTread_socket.\n\tWhen x_focus_event_frame is nonzero, assume that frame gets focus.\n\t(XTread_socket): Use x_mouse_leave for LeaveNotify.\n\t* xmenu.c (xmenu_show): Call x_mouse_leave.\n\n\t* fileio.c (Fsubstitute_in_file_name): Run a handler.\n\t(Qsubstitute_in_file_name): New variable.\n\t(syms_of_fileio): Set it up.\n\n\t* lread.c (read_escape): For \\S-a, return A.\n\n\t* buffer.c (Frename_buffer): Rename arg NAME to NEWNAME.\n\n1994-11-14  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* s/freebsd.h (LD_SWITCH_SYSTEM): Add -dc and -dp.\n\t(HAVE_GETPAGESIZE): Defined.\n\n\t* sysdep.c (init_sys_modes): Maybe call tcflow.\n\n1994-11-14  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* lisp.h (enum Lisp_Misc_Type): Add new enumeration Lisp_Misc_Overlay.\n\t(enum Lisp_Type): Delete the corresponding enumeration from here.\n\t(struct Lisp_Overlay): New structure.\n\t(XOVERLAY, OVERLAYP): Access the new structure.\n\t(union Lisp_Misc): Add new member.\n\t* buffer.h (OVERLAY_START, OVERLAY_END): Use the new substructure.\n\t* alloc.c (mark_object, gc_sweep): Likewise.\n\t* print.c (print): Likewise.\n\t* buffer.c (Fmake_overlay): Likewise.\n\t(Foverlay_properties, Foverlay_get, Foverlay_put): Likewise.\n\t* fns.c (internal_equal): Likewise.\n\tSimplify by returning int.\n\t(Fequal): Use new interface to internal_equal.\n\n\t* buffer.c (list_buffers_1): Use PT, not point.\n\n1994-11-14  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* fileio.c (Finsert_file_contents): Init not_regular at the beginning.\n\n1994-11-14  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* buffer.c (Fkill_all_local_variables): Use XBUFFER_LOCAL_VALUE,\n\tnot XCONS.\n\n1994-11-14  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>\n\n\t* s/gnu.h (A_TEXT_OFFSET): Macro removed.\n\t(A_TEXT_SEEK): Define to just sizeof (struct exec).\n\n1994-11-14  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* lread.c (defvar_int): Use accessor macro.\n\t(defvar_bool, defvar_lisp_nopro, defvar_per_buffer): Likewise.\n\n1994-11-13  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xfaces.c (load_pixmap): Handle bitmap_id < 0.  F is a FRAME_PTR.\n\n\t* frame.c (syms_of_frame): Fix typo.\n\n\t* minibuf.c (Fdisplay_completion_list): Update COLUMN unconditionally.\n\tIf a name is long, put it on its own line.\n\n1994-11-13  Brendan Kehoe  (brendan@lisa.cygnus.com)\n\n\t* s/hpux9.h (C_SWITCH_SYSTEM) [__GNUC__]: Set -D_BSD to get the\n\tcorrect definitions from sys/wait.h.\n\n1994-11-12  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* frame.c (syms_of_frame): Doc fix for default-frame-alist.\n\n1994-11-11  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* fileio.c (Finsert_file_contents): If VISIT, set the buffer components\n\tsuch as the filename even before signaling error for non-regular file.\n\n\t* s/iris3-5.h, s/iris3-6.h (MAIL_USE_FLOCK): Defined.\n\t* s/irix3-3.h, s/irix5-0.h (MAIL_USE_FLOCK): Defined.\n\t* s/irix5-2.h: New file.\n\n\t* m/paragon.h: New file.\n\n1994-11-11  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* lisp.h (enum Lisp_Misc_Type): Add new enumerations\n\tLisp_Misc_Buffer_Local_Value and Lisp_Misc_Some_Buffer_Local_Value.\n\t(enum Lisp_Type): Delete the corresponding enumerations from here.\n\t(struct Lisp_Buffer_Local_Value): New structure.\n\t(XBUFFER_LOCAL_VALUE): Access the new structure.\n\t(BUFFER_LOCAL_VALUEP, BUFFER_SOME_LOCAL_VALUEP): Likewise.\n\t(union Lisp_Misc): Add new member.\n\t* alloc.c (mark_object): New code to handle buffer-local substructure.\n\t(gc_sweep): Generalize marker code to handle other substructures.\n\t* bytecode.c (Fbyte_code): Special case for buffer-local objects is\n\tnow handled by the more general test.  Simplify.\n\t* buffer.c (set_buffer_internal): Use XBUFFER_LOCAL_VALUE, not XCONS.\n\t* data.c (store_symval_forwarding): Likewise.\n\t(swap_in_symval_forwarding, Fset, default_value, Fset_default,\n\tFkill_local_variable): Likewise.\n\t(Fmake_variable_buffer_local): Use the new substructure.\n\t(Fmake_local_variable): Likewise.\n\n1994-11-10  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* process.c (create_process) [OSF1]: Use setpgid, not setpgrp.\n\n1994-11-09  Boris Goldowsky  <boris@cs.rochester.edu>\n\n\t* cmds.c (Fnewline): Always use insert_and_inherit.\n\n1994-11-09  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* lisp.h (FRAMEP): Use the second definition whenever HAVE_MOUSE.\n\n\t* keyboard.c (tracking_off): Test old value with NILP.\n\tRestore the old value whatever it may be.\n\t(syms_of_keyboard): Use DEFVAR_LISP for track-mouse.\n\n1994-11-09  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* data.c (Fboundp, find_symbol_value): Use type test macros\n\tinstead of checking XTYPE directly.\n\n\t* keyboard.c (print_help): Set help-mode in *Help* buffer.\n\t* keymap.c (describe_buffer_bindings): Likewise.\n\t* syntax.c (describe_syntax_1): Likewise.\n\n1994-11-08  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>\n\n\t* keyboard.c (EVENT_QUEUES_EMPTY): Only test do_mouse_tracking and\n\tmouse_moved #ifdef HAVE_MOUSE.\n\t(Ftrack_mouse): Protect with #ifdef HAVE_MOUSE.\n\t(syms_of_keyboard): Protect initialization of do_mouse_tracking,\n\tdefsubr of Strack_mouse, and DEFVAR of track-mouse with #ifdef\n\tHAVE_MOUSE.\n\n1994-11-07  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* frame.c (Fset_frame_height): Compare against height, not width.\n\n1994-11-07  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>\n\n\t* keyboard.c: Move decl of input_fd outside of #ifdef\n\tHAVE_X_WINDOWS.\n\n1994-11-03  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* xterm.c (XTread_socket): Generate iconify and deiconify events.\n\n1994-11-03  Geoff Voelker  <voelker@cs.washington.edu>\n\n\t* m/intel386.h (VIRT_ADDR_VARIES) [WINDOWSNT]: Defined.\n\t(DATA_END) [WINDOWSNT]: Defined.\n\t(DATA_START) [WINDOWSNT]: Defined.\n\t(HAVE_ALLOCA) [WINDOWSNT]: Defined.\n\n\t* s/windowsnt.h: Include malloc.h.\n\t(MODE_LINE_BINARY_TEXT): Defined.\n\t(HAVE_MOUSE): Defined.\n\n\t* ntheap.c (sbrk): Allow request sizes to be different than the\n\tpage size.\n\n\t* makefile.nt: Changed references of m\\m-windowsnt.h to\n\tm\\intel386.h and of s\\s-windowsnt.h to s\\windowsnt.h.\n\n1994-11-01  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* xfns.c (Fx_list_fonts): Don't bother to retrieve font info when\n\tthere's no size_ref to compare it against.\n\n\t* editfns.c (Fdecode_time): Fix Lisp_Object vs. integer problems.\n\tDon't use tm_gmtoff; it's not portable.\n\n\t* lisp.h: Leave DEVICE_SEP undefined by default.\n\n1994-11-01  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* buffer.c (init_buffer): Fix error message syntax.\n\n\t* fileio.c (Fsubstitute_in_file_name): Add missing #endif.\n\n\t* lread.c: Don't include ctype.h.\n\t(isfloat_string, read1): Don't use isdigit.\n\n\t* editfns.c (Fdecode_time): Change one XFASTINT to XINT.\n\n\t* s/windowsnt.h (SYSTEM_PURESIZE_EXTRA): Defined.\n\n1994-10-31  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* xfns.c (x_window): Make ibw 0 by default.\n\n1994-10-31  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* xterm.c (XTclear_end_of_line): Finish the line dance here too,\n\tjust as was done in XTwrite_glyphs.\n\n\t* xdisp.c (column_number_displayed): New variable.\n\t(redisplay, redisplay_window): If that var is set, do mode line.\n\t(display_mode_line): Unset the var.\n\t(decode_mode_spec): Set the var if %c was seen.\n\n1994-10-30  Geoff Voelker  <voelker@cs.washington.edu>\n\n\t* makefile.nt: New file.\n\t* nt.c, nt.h: New files.\n\t* ntheap.c, ntheap.h: New files.\n\t* ntinevt.c, ntinevt.h: New files.\n\t* ntproc.c, ntterm.c: New files.\n\n\t* m/windowsnt.h, s/windowsnt.h: New files.\n\n\t* nt.c: New file.\n\n\t* makefile.nt:New file.\n\n\t* lisp.h (DEVICE_SEP, DIRECTORY_SEP, IS_DEVICE_SEP)\n\t(IS_DIRECTORY_SEP, IS_ANY_SEP): New macros, defined if not already def.\n\n\t* s/msdos.h (DOS_NT): Defined.\n\n\t* term.c (term_init) [WINDOWSNT]: Do some Windows-specific\n\tinitialization, then skip the rest of the code.\n\t(FRAME_TERMCAP_P) [WINDOWSNT]: Always return 0.\n\n\t* systty.h: Test DOS_NT, not MSDOS.\n\n\t* syssignal.h [WINDOWSNT] (EMACS_KILLPG): Use win32_kill_process.\n\n\t* sysdep.c [WINDOWSNT]: Add includes for NT.\n\tDefine _P_WAIT.  Declare _spawnlp, _getpid.\n\t[WINDOWSNT] (select, strerror, vfork): Don't use these definitions.\n\n\t* sysdep.c (init_sys_modes): Test DOS_NT, not MSDOS.\n\t(emacs_get_tty, emacs_set_tty,(child_setup_tty, init_baud_rate): Ditto.\n\n\t* sysdep.c (sys_subshell) [WINDOWSNT]: Use _spawnlp. not vfork.\n\t(wait_for_termination) [WINDOWSNT]: Use wait.\n\t(discard_tty_input) [WINDOWSNT]: Do nothing at all.\n\n\t* process.c: Use macros IS_ANY_SEP, IS_DIRECTORY_SEP,\n\tIS_DEVICE_SEP, DIRECTORY_SEP, and DEVICE_SEP.\n\t[WINDOWSNT]: Add includes.  Don't define sys_siglist.\n\n\t* process.c (sigchld_handler): Work around bug in MS C compiler.\n\t(sigchld_handler) [WINDOWSNT]: Do not call signal.\n\t(signal_process) [WINDOWSNT]: Use win32_kill_process instead of kill.\n\t(read_process_output) [WINDOWSNT]: Use read_child_output instead of\n\tread.\n\n\t* process.c (create_process) [WINDOWSNT]: Use\n\tpipe_with_inherited_out  and pipe_with_inherited_in.\n\tUse the pid returned by child_setup.  Deal with not having vfork,\n\tCall register_child.\n\t(close_process_descs): Do nothing if WINDOWSNT.\n\n\t* process.c (proc_buffer_char): No longer static.\n\n\t* ndir.h (MAXNAMLEN) [WINDOWSNT]: Define as 255.\n\n\t* mem-limits.h [WINDOWSNT]: Don't include vlimit.h.\n\t(get_lim_data): Alternate definition for WINDOWSNT.\n\n\t* lread.c: Change explicit uses of the Unix directory separator\n\t'/' to uses of the macros IS_ANY_SEP, IS_DIRECTORY_SEP,\n\tIS_DEVICE_SEP, DIRECTORY_SEP, and DEVICE_SEP.\n\n\t* lread.c (init_lread) [WINDOWSNT]: Disable warnings about\n\tdirectories in the load path not existing.\n\n\t* lread.c (load): Test DOS_NT instead of MSDOS.\n\n\t* keyboard.c (read_key_sequence): Use flags instead of gotos to\n\tenable the Microsoft C compiler to compile the routine.\n\n\t* keyboard.c (read_avail_input) [WINDOWSNT]: Just return 0.\n\n\t* fileio.c: Change explicit uses of the Unix directory separator\n\t'/' to uses of the macros IS_ANY_SEP, IS_DIRECTORY_SEP,\n\tIS_DEVICE_SEP, DIRECTORY_SEP, and DEVICE_SEP.\n\n\t* fileio.c [WINDOWSNT]: Don't define HAVE_FSYNC; add includes for NT.\n\n\t* fileio.c (Ffile_name_absolute_p): Test DOS_NT instead of MSDOS.\n\t(Fwrite_region, Fdo_auto_save, Ffile_modes): Likewise.\n\n\t* fileio.c (Qfind_buffer_file_type): Test DOS_NT instead of MSDOS.\n\t(syms_of_files): Likewise.\n\t(Finsert_file_types): Test DOS_NT instead of MSDOS.\n\tRename local var try to trytry.\n\n\t* fileio.c (Fadd_name_to_file): Always fail.\n\t(Frename_file) [WINDOWSNT]: Use MoveFile, not link and unlink,\n\tand check for both ERROR_FILE_EXISTS and ERROR_ALREADY_EXISTS.\n\t(Fmake_directory_internal) [WINDOWSNT]: Invoke mkdir without the mask.\n\n\t* fileio.c (Fexpand_file_name): Test DOS_NT, not MSDOS.\n\t(Fexpand_file_name) [WINDOWSNT]: Accept // or \\\\ at start.\n\tCall dostonunix_filename for HOME envvar, for ~USER.\n\tQuote directory separators found in environment variables.\n\t(Fsubstitute_in_file_name): Test DOS_NT instead of MSDOS.\n\t(Fsubstitute_in_file_name) [WINDOWSNT]: Accept // or \\\\ at start.\n\tWork around alloca bug in MS compiler.\n\t(Ffile_name_directory): Test DOS_NT instead of MSDOS sometimes.\n\tBut don't insert a drive letter on windows.\n\n\t* emacs.c (Fdump_emacs): Don't reset the data start address by\n\tinvoking memory_warnings just before unexec-ing.\n\n\t* editfns.c (init_editfns): Get the username from the environment\n\tvariable USERNAME instead of USER.\n\n\t* dired.c: Use macros IS_ANY_SEP, IS_DIRECTORY_SEP, and DIRECTORY_SEP.\n\t(file-attributes) [WINDOWSNT]: Set st_gid and st_uid to Qnil; use\n\tget_inode_and_device_vals to fake up inode number and device number.\n\n\t* callproc.c (getenv_internal) [WINDOWSNT]: Use strnicmp, not bcmp.\n\n\t* callproc.c (child_setup): Use IS_DIRECTORY_SEP.\n\t[WINDOWSNT]: Call prepare_standard_handles.  Use spawnve.\n\tUse reset_standard_handles.\n\n\t* callproc.c (Fcall_process_region): Test DOS_NT, not MSDOS.\n\t(Fcall_process) [WINDOWSNT]: Call pipe_with_inherited_out.\n\tUse the return value of child_setup to get the child's pid;\n\tdon't call vfork etc. explicitly.\n\n\t* callproc.c [WINDOWSNT]: Add includes.  Define NOMINMAX, _P_NOWAIT.\n\t(Vbinary_process_input, Vbinary_process_output)\n\t(Qbuffer_file_type): Test DOS_NT, not MSDOS.\n\t(syms_of_callproc): Test DOS_NT, not MSDOS.\n\n\t* callproc.c (init_callproc): Test DOS_NT, not MSDOS.\n\n\t* buffer.h (struct buffer): Test DOS_NT, not MSDOS.\n\n\t* buffer.c (init_buffer): Use DIRECTORY_SEP, IS_DIRECTORY_SEP macros,\n\tnot character constants.\n\t(init_buffer_once, syms_of_buffer): Test DOS_NT, not MSDOS.\n\n1994-10-30  Erik Naggum  <erik@naggum.no>\n\n\t* editfns.c (Fdecode_time): New function.\n\t(syms_of_editfns): defsubr it.\n\n1994-10-30  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* keyboard.c (make_lispy_event): Record double and triple for drags.\n\tPut in click_modifier for multi-clicks.\n\t(read_key_sequence): Convert double-drag first to plan drag,\n\tand only later try a click.\n\n\t* unexsunos4.c (unexec): Don't print number of pure bytes used.\n\n1994-10-29  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xfns.c (Fx_create_frame):\n\tDon't set xlwmenu_default_font if not USE_X_TOOLKIT.\n\n\t* puresize.h (BASE_PURESIZE): Increment MULTI_FRAME value.\n\n1994-10-29  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* keyboard.c (read_avail_input): Fix Lisp_Object vs. int problem.\n\n1994-10-29  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* xterm.c (fast_find_position): Special case if POS is end of buffer.\n\n\t* xterm.c (x_delete_display): Call XrmDestroyDatabase.\n\n1994-10-28  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* s/osf1.h (LD_SWITCH_SYSTEM): Definitions deleted.\n\n\t* m/alpha.h (LD_SWITCH_MACHINE): New definition.\n\n1994-10-28  Rainer Schoepf  <Schoepf@Uni-Mainz.de>\n\n\t* s/osf1.h (INTERRUPTIBLE_IO, INTERRUPTIBLE_OPEN, INTERRUPTIBLE_CLOSE)\n\t(read, write, open, close): New definitions.\n\n1994-10-27  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* buffer.c (Fset_buffer_major_mode): New function.  Set the\n\tdefault major mode here.\n\t(Fget_buffer_create): Not here.\n\t(Fswitch_to_buffer): Call Fset_buffer_major_mode.\n\t(syms_of_buffer): defsubr the new function.\n\n\t* termhooks.h (iconify_event, deiconify_event): New enum event_kind's.\n\t* keyboard.c (kbd_buffer_get_event): Translate them to lispy events.\n\t(head_table): Initialize those new symbols appropriately.\n\t* frame.c (keys_of_frame): Bind those events to 'ignore, since the\n\twindow manager has already done the work.\n\n\t* xmenu.c (set_frame_menubar): Don't copy string during GC risk.\n\n1994-10-26  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* config.h.in (HAVE_GETPAGESIZE): Add #undef.\n\t* m/sequent-ptx.h (HAVE_GETPAGESIZE): Explicitly #undef.\n\t* s/linux.h, s/msdos.h (HAVE_GETPAGESIZE): Definition deleted.\n\t* m/symmetry.h (HAVE_GETPAGESIZE): Definition deleted.\n\n\t* xterm.c (x_destroy_window): Rewrite to fetch dpyinfo just once.\n\n\t* xfns.c (Fx_create_frame): Set xlwmenu_default_font.\n\n\t* widget.c (set_frame_size): Set app_shell and wmshell the same.\n\n\t* xterm.c [USE_X_TOOLKIT]: Make application context explicitly\n\tand support multiple top-level shells.\n\t(x_initialize): Call XtToolkitInitialize, XtCreateApplicationContext;\n\tdon't open display or make a shell.\n\t(x_term_init): Call XtOpenDisplay.\n\n\t* xfns.c [USE_X_TOOLKIT] (x_window): Use XtAppCreateShell.\n\t(Xt_app_shell, Xt_app_con): Variables deleted.\n\t(Fx_close_connection) [USE_X_TOOLKIT]: Call XtCloseDisplay.\n\n\t* xterm.c (x_scroll_bar_create): Use XMapRaised directly.\n\t(x_make_frame_visible, x_iconify_frame): Likewise.\n\t(XMapWindow): Macro definition deleted.\n\t(METABIT): Macro deleted.\n\t(MAXDESC, FD_SETSIZE, FD_SET, FD_CLEAR, FD_ZERO, FD_ISSET): Likewise.\n\t(x_id_name): Variable deleted.\n\n\t* process.c (status_message): Add a cast.\n\t(sigchld_handler): Add a cast.\n\n\t* xfns.c (x_window): Pass new arg f to hack_wm_protocols.\n\n\t* xdisp.c (display_text_line): Truncate the minibuf_prompt if nec.\n\n1994-10-26  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* window.c (syms_of_window): Fix missing \\n\\'s.\n\n1994-10-26  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xselect.c (x_own_selection, x_get_foreign_selection): Change calls\n\tto x_catch_errors and friends.\n\n\t* xfns.c (x_set_mouse_color, x_real_positions): Change calls\n\tto x_catch_errors and friends.\n\n\t* xterm.c (x_catch_errors, x_check_errors, x_had_errors_p)\n\t(x_uncatch_errors): Make the argument a display, not a frame.\n\n\t* xterm.c (XTread_socket_fake_io_error): New variable.\n\t(XTread_socket): Obey XTread_socket_fake_io_error.\n\n1994-10-25  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* process.c (list_processes_1): Print tty name.\n\n1994-10-25  Karl Fogel  (kfogel@phylo.life.uiuc.edu)\n\n\t* window.c (Vtemp_buffer_show_function): Doc fix.\n\n1994-10-25  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xterm.h: Delete X10 code.\n\n\t* xfns.c (Fx_create_frame): Don't increment reference_count\n\tuntil the frame is put on the frame list.\n\n\t* xterm.c (x_initialize): Init x_noop_count, x_focus_frame\n\tand x_highlight_frame here.\n\t(x_term_init): Not here.\n\n\t* xterm.c (x_term_init): Open the connection first thing;\n\tif that fails, don't allocate dpyinfo.\n\n1994-10-24  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* xdisp.c (decode_mode_spec): New spec %c, for current column.\n\n1994-10-24  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xselect.c (Fx_selection_exists_p): Fix backwards if.\n\n\t* xterm.c (x_delete_display): New function.\n\t(x_connection_closed): New args dpyinfo and error_message.\n\tDelete all frames on the dead display\n\tand all frames using them for minibuffers.\n\tCall x_delete_display.\n\tMaybe signal a Lisp error.\n\t* xfns.c (Fx_close_connection): Call x_delete_display.\n\n\t* xselect.c (Fx_selection_exists_p):\n\tIf selected_frame isn't an x frame, return nil.\n\n\t* keyboard.c (record_char): New subroutine.\n\t(read_char): Use record_char.\n\tSplit up menu-bar mouse click events here.\n\tCall record_char for both halves; likewise echo_char\n\tand add_command_key.\n\n1994-10-23  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xfns.c (x_display_info_for_name, Fx_open_connection):\n\tSignal error if x_term_init fails.\n\t(Fx_open_connection): New arg must_succeed.\n\n\t* xfns.c (x_real_positions): Catch errors and retry if error happens.\n\tNo need to block input here.\n\n\t* xterm.c (x_term_init): Don't report error here--just return 0.\n\n\t* xfns.c (Fx_create_frame): Don't store the frame name\n\ttill after FRAME_X_DISPLAY_INFO is set up.\n\t(Fx_close_connection): Renamed from Fx_close_current_connection\n\n\t* xfns.c: Many doc fixes and Lisp function arg renamings.\n\n\t* xterm.c (x_scroll_bar_report_motion): Store proper value in\n\t*bar_window (the Emacs window, not the X window number).\n\n1994-10-22  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keyboard.c (kbd_buffer_get_event):\n\tCope if mouse_position_hook does not store anything.\n\n\t* xterm.c (x_scroll_bar_report_motion): Don't clear *fp.\n\n\t* xterm.h (struct x_display_info):\n\tNew fields bitmaps, bitmaps_size, bitmaps_last.\n\t(struct x_bitmap_record): Structure moved here.\n\t* xfns.c (x_bitmaps, x_bitmap_size, x_bitmap_last):\n\tVariables deleted.  Use fields in x_display_info instead.\n\t(x_bitmaps_free): Variable deleted.\n\t(x_destroy_bitmap, x_allocate_bitmap_record): Don't use or set it.\n\t(x_allocate_bitmap_record): New arg f.  Callers changed.\n\t(x_lookup_pixmap): Function deleted.\n\t(x_destroy_all_bitmaps): New function.\n\t(Fx_close_current_connection): Call x_destroy_all_bitmaps.\n\tFree the fonts in the font table.  Free various other data\n\tthat dpyinfo points to.  Avoid using Fdelq.\n\n\t* xterm.c (x_wm_set_icon_pixmap): Use x_bitmap_pixmap.\n\n\t* xterm.c:\n\t(show_mouse_face): New arg dpyinfo.  All callers changed.\n\t(clear_mouse_face): New arg dpyinfo.  All callers changed.\n\n\t* xterm.h (struct font_info): New type.\n\t(struct x_display_info): New fields font_table, font_table_size\n\tand n_fonts.\n\n\t* xterm.h (struct x_display_info): New field scratch_cursor_gc.\n\t* xterm.c (scratch_cursor_gc): Variable deleted.\n\t(dumpglyphs): Use scratch_cursor_gc in x_display_info.\n\n\t* xterm.h (mouse_face_*): New fields.\n\t* xterm.c (mouse_face_*): Variables deleted.\n\tUse fields in x_display_info instead.\n\t* xterm.c (syms_of_xterm): Don't staticpro mouse_face_window.\n\n\t* xterm.c (expose_all_windows, expose_all_icons): Variables deleted.\n\t(BLOCK_INPUT_mask): Variable deleted.\n\n\t* xterm.h (struct x_display_info): New field x_id_name.\n\t* xfns.c (x_set_name, Fx_create_frame): Use x_id_name field.\n\t* xterm.c (x_term_init): Set up x_id_name field.\n\t(x_id_name): Variable deleted.\n\n\t* xterm.c (x_font_table, x_font_table_size, x_n_fonts): Vars deleted.\n\t(x_new_font): Use new fields.\n\t(warp_mouse_on_deiconify): Unused variable deleted.\n\n\t* xterm.c (x_term_init): Set up dpyinfo->xrdb.\n\tSet up dpyinfo->vertical_scroll_bar_cursor.\n\t(x_scroll_bar_create): Use vertical_scroll_bar_cursor slot.\n\t(x_vertical_scroll_bar_cursor): Variable deleted.\n\n\t* xterm.c (x_term_init): Really return dpyinfo.\n\n\t* insdel.c (insert_from_buffer_1): Don't use min.\n\n\t* xterm.c (x_term_init): Call add_keyboard_wait_descriptor,\n\tnot change_keyboard_wait_descriptor.\n\n\t* xfns.c (Fx_close_current_connection):\n\tCall delete_keyboard_wait_descriptor.\n\n\t* process.c: Handle multiple keyboard input descriptors.\n\t(non_keyboard_wait_mask): New variable.\n\t(Fset_process_filter): Update non_keyboard_wait_mask.\n\t(create_process, Fopen_network_stream, deactivate_process):\n\t(init_process, sigchld_handler): Likewise.\n\t(wait_reading_process_input): Maybe use non_keyboard_wait_mask.\n\t(add_keyboard_wait_descriptor):\n\tRenamed from change_keyboard_wait_descriptor.\n\tClear the old descriptor's bit only the first call.\n\t(delete_keyboard_wait_descriptor): New function.\n\t(keyboard_bit_set): New function.\n\t(wait_reading_process_input): Use keyboard_bit_set.\n\tStart the loop over process descs from 0, and explicitly\n\tignore non-process input descs.\n\t(init_process): Don't init keyboard_descriptor.\n\t(keyboard_descriptor): Variable deleted.\n\t(add_keyboard_wait_descriptor): Don't set keyboard_descriptor.\n\t(delete_keyboard_wait_descriptor): New function.\n\n\t* xterm.c (x_term_init): Pass new arg to init_sigio.\n\tDon't set old_fcntl_owner.\n\tDon't call change_input_fd.\n\t(XTread_socket): Loop over displays and process input from each.\n\n\t* sysdep.c: Never use input_fd if using X.\n\t(stuff_char): Do nothing if read_socket_hook.\n\t(setpgrp_of_tty): Function deleted.\n\t(init_sigio): Take fd as argument.  Callers changed.\n\tDon't call request_sigio; do the work here.\n\t(request_sigio, unrequest_sigio): Do nothing if read_socket_hook.\n\t(init_sys_modes): Don't call EMACS_GET_TTY unless we are going\n\tto change the settings.\n\n\t* xfns.c (Fx_close_current_connection): Call check_x_display_info.\n\tDelete the display from x_display_list and x_display_name_list.\n\t(Fx_display_list): New function.\n\t(syms_of_xfns): defsubr it.\n\n\t* xterm.c (x_display_name_list): New variable.\n\t(syms_of_xterm): staticpro it.\n\tDon't staticpro slots in the_x_screen.\n\t(x_term_init): Update x_display_name_list along with x_display_list.\n\tActually malloc the x_display_info.\n\t(the_x_screen): Variable deleted.\n\n\t* xfns.c (Fx_list_fonts): Use `name_list_element' field.\n\t(x_display_info_for_name): Scan x_display_name_list\n\talong with x_display_list.\n\n\t* xterm.h (struct x_display_info): Replace elements `name'\n\tand `face_list_cache' with one cons cell `name_list_element'.\n\t(x_display_name_list): Variable declared.\n\n1994-10-22  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* insdel.c (insert_from_buffer, insert_from_buffer_1): New functions.\n\t* editfns.c (Finsert_buffer_substring): Use insert_from_buffer\n\tinstead of insert.\n\n1994-10-21  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xmenu.c (xmenu_show): Get the screen number for DisplayHeight\n\tand DisplayWidth.  Use root_window slot in the x_display_info.\n\n\t* xfns.c (x_sync): Take frame ptr as arg.\n\t* frame.c (other_visible_frames): Pass a frame ptr to x_sync.\n\t* xterm.c (x_make_frame_visible, x_make_frame_invisible):\n\tPass a frame ptr to x_sync.\n\n1994-10-21  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* insdel.c (insert_before_markers): Don't inherit;\n\tinsert_before_markers_and_inherit does that.\n\n1994-10-21  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* dispnew.c (Fframe_or_buffer_changed_p):\n\tDetect deletion of a buffer at the end of the buffer list.\n\n\t* xterm.c (x_term_init): Init all the components of dpyinfo.\n\n\t* sysdep.c (input_fd): No longer static.\n\t* keyboard.c (read_avail_input): Use input_fd.\n\n1994-10-20  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xfns.c (check_x_display_info): New function.\n\t(Fx_create_frame): Use it.\n\t(Fx_display_*, Fx_server_*): Use fields in the x_display_info,\n\tnot static variables.  Call check_x_display_info.\n\n1994-10-20  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* window.c (Fdisplay_buffer): Make old_selected_window a Lisp_Object.\n\n1994-10-20  Tom Tromey  <tromey@drip.colorado.edu>\n\n\t* buffer.c (list_buffers_1): Always mark current_buffer read-only.\n\n1994-10-20  Frederic Pierresteguy  <F.Pierresteguy@frcl.bull.fr>\n\n\t* m/dpx2.h (LD_SWITCH_MACHINE): Defined.\n\n1994-10-20  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* term.c (calculate_costs): Call x_screen_planes.\n\t* xfns.c (x_screen_planes): New function.\n\n\t* xterm.h (EMACS_CLASS): Macro moved here.\n\t* xfns.c (EMACS_CLASS): Macro moved to xterm.h.\n\n\t* xfns.c (Qdisplay): New variable.\n\t(syms_of_xfns): Set it up.\n\t(Fx_create_frame): Handle display parameter\n\twhich says where to get the FRAME_X_DISPLAY_INFO.\n\t(x_display_info_for_name): New function.\n\n\t* xterm.c (x_display_info_for_display): New function.\n\n\t* xselect.c (Xatom_*): Variables deleted.\n\tUse slots in x_display_info structure instead.\n\t(symbol_to_x_atom, x_atom_to_symbol):\n\tNew arg dpyinfo.  All callers changed.\n\t(xatoms_of_xselect): Function deleted.\n\n\t* xfns.c (select_visual): New arg dpy.\n\n\t* xterm.h (struct x_display_info): New fields *_mod_mask.\n\t* xterm.c (x_*_mod_mask): Variables deleted.\n\t(x_x_to_emacs_modifiers, x_emacs_to_x_modifiers):\n\tNew arg dpyinfo; all callers changed.\n\tStore the masks in that structure.\n\n\t* xterm.h (struct x_display_info): New field icon_bitmap_id.\n\t* xterm.c (icon_bitmap): Variable deleted.\n\t(x_bitmap_icon): Use icon_bitmap_id in x_display_info.\n\n\t* xterm.c (icon_font_info): Variable deleted.\n\n\t* xterm.h (struct x_display_info): New field `connection'.\n\t* xterm.c (x_term_init): Set up `connection' field.\n\n\t* xterm.h (x_display_list): New variable.\n\t* xterm.c (x_find_modifier_meanings):\n\tArg is now struct x_display_info *.\n\t(x_term_init): Return an x_display_info *.\n\tStore all the data in it, including X atoms and xrdb.\n\tPut the x_display_info structure on x_display_list.\n\tPass name as Lisp_Object.\n\t(the_x_screen): Variable moved here.\n\t(syms_of_xterm): Staticpro parts of the_x_screen.\n\t* xfns.c (Fx_open_connection): Get dpyinfo from x_term_init.\n\tDon't set up atoms, xrdb here.  Pass name as Lisp_Object.\n\t(the_x_screen): Variable moved to xterm.c.\n\t(syms_of_xfns): Don't staticpro it here.\n\n\t* xterm.h (struct x_display_info): New field xrdb.\n\t* xfns.c (xrdb): Variable deleted.\n\t(Fx_get_resource): Use selected_frame's xrdb.\n\t(x_get_resource_string): Likewise.\n\n\t* xterm.h (XExposeRegionEvent): Unused macro deleted.\n\t(XGetWindowInfo, XGetFont, XLoseFont): Unused macros deleted.\n\t(MINWIDTH, MINHEIGHT, MAXWIDTH, MAXHEIGHT): Unused macros deleted.\n\t(MAX_FACES_AND_GLYPHS, Bitmap): Unused macros deleted.\n\t(struct event_queue): Structure deleted (was unused).\n\t(EVENT_BUFFER_SIZE): Macro deleted.\n\n\t* xterm.h (XClear): Macro deleted.  Callers use XClearWindow.\n\t(XWarpMousePointer): Macro deleted.  Callers use XWarpPointer.\n\t(XStuffPending): Macro deleted.  Callers use XPending.\n\t(XHandleError, XHandleIOError): Macros deleted.\n\tCallers use XSet...ErrorHandler.\n\t(XChangeWindowSize): Macro deleted.  Callers use XResizeWindow.\n\t(Color): Macro deleted; replaced with XColor.\n\t(FONT_TYPE): Macro deleted; replaced with XFontStruct.\n\t(PIX_TYPE): Macro deleted; replaced with unsigned long.\n\n\t* xterm.h (FRAME_X_SCREEN): New macro.\n\t(WHITE_PIX_DEFAULT, BLACK_PIX_DEFAULT): Take arg f.\n\t* xfaces.c (unload_color): Pass arg f to WHITE_PIX_DEFAULT\n\tand BLACK_PIX_DEFAULT.\n\n\t* xterm.c (windowinfo): Variable deleted.\n\n\t* xterm.h (ROOT_WINDOW): Macro deleted.\n\t(struct x_display_info): New field root_window.\n\tAll uses changed.\n\n\t* xterm.h (XDISPLAY): Macro deleted.\n\t(XFlushQueue): Macro deleted.  All callers changed.\n\t(DISPLAY_SCREEN_ARG): Macro deleted.\n\t(DISPLAY_CELLS): Macro deleted.\n\t(WINDOWINFO_TYPE): Macro deleted.\n\n\t* xterm.h (struct x_display_info): New fields Xatom...\n\t* xterm.c (Xatom_*): Variables deleted.\n\t(x_iconify_frame, XTread_socket): Get atoms from the x_display_info,\n\n\t* xfns.c (Fx_open_connection): Store the atoms in x_display_info.\n\t(hack_wm_protocols): New arg f.  Get atoms from x_display_info.\n\t(x_window): Get atoms from x_display_info.\n\n\t* xfns.c (Vmouse_depressed, mouse_buffer_offset): Variables deleted.\n\t(syms_of_xfns): Delete Lisp variables too.\n\t(Fx_synchronize): Take frame as arg.\n\t(Fx_close_current_connection): Take frame as arg.   Error is not fatal.\n\t* xterm.c (XTread_socket): Don't update Vmouse_depressed.\n\n\t* xterm.h (struct x_display_info): New field grabbed.\n\t* xterm.c (x_mouse_grabbed): Variable deleted.\n\t(note_mouse_highlight): Use grabbed field instead.\n\t(XTmouse_position, XTread_socket): Likewise.\n\t* xmenu.c (xdialog_show, xmenu_show):\n\tUse grabbed field instead of x_mouse_grabbed.\n\n\t* xfns.c (mouse_timestamp): Variable deleted.\n\n\t* xterm.h (struct x_display_info): Struct renamed from x_screen.\n\t(x_display): x_screen field renamed to display_info.\n\t(FRAME_X_DISPLAY): Use new name.\n\t(FRAME_X_DISPLAY_INFO): Likewise; also renamed from FRAME_X_SCREEN.\n\n\t* xterm.h (struct x_display_info):\n\tNew fields height, width, screen, visual, n_planes.\n\t* xfns.c (screen_visual, x_screen_planes): Variables deleted.\n\t(x_screen, x_screen_height, x_screen_width): Variables deleted.\n\t(Fx_open_connection): Don't set them here.\n\tPut that info in the x_display_info structure.\n\t(x_window): Get the visual from x_display_info structure.\n\t(x_decode_color): Use n_planes from x_display_info structure.\n\t* xterm.c (x_calc_absolute_position, x_wm_set_size_hint):\n\tGet screen height, width from the x_display_info structure.\n\t* xmenu.c (xmenu_show): Use the screen in FRAME_X_DISPLAY_INFO,\n\tnot the default screen.\n\n\t* xterm.c: Use FRAME_X_DISPLAY instead of x_current_display\n\tand XDISPLAY.\n\n\t* xfns.c: Use FRAME_X_DISPLAY instead of x_current_display\n\tand XDISPLAY.\n\t(x_in_use): New variable.\n\t(check_x, using_x_p): Test x_in_use.\n\t(Fx_open_connection): Set x_in_use.\n\t(check_x_frame): New function.\n\t(defined_color): New arg f specifies frame.  Callers changed.\n\t(x_decode_color): New arg f.  All callers changed.\n\t(Fx_color_values, Fx_color_defined_p): New arg FRAME.\n\tUse check_x_frame.\n\t(Fx_list_fonts): Use check_x_frame.\n\n\t* keyboard.c (do_mouse_tracking): Now a FRAME_PTR.\n\t(EVENT_QUEUES_EMPTY, Ftrack_mouse, tracking_off): Changed accordingly.\n\t(kbd_buffer_get_event): Let do_mouse_tracking specify the display\n\tfor mouse tracking.\n\n\t* minibuf.c (read_minibuf): Undo previous change.\n\n1994-10-19  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* window.c (Fdisplay_buffer): If the other window is smaller\n\tthan its peer, even out their heights.\n\n\t* xterm.c (x_catch_errors, x_check_errors, d_errors_p)\n\t(x_uncatch_errors): Take frame as arg.\n\t(x_stop_queuing_selection_requests, x_unqueue_events, x_queue_event)\n\t(x_start_queuing_selection_requests): Take frame as arg.\n\t(x_find_modifier_meanings): New arg `display'.  All callers changed.\n\t(x_scroll_bar_create, x_scroll_bar_set_handle)\n\t(x_scroll_bar_move): New local var f.\n\t(x_scroll_bar_report_motion): Rename arg f to fp.\n\tNew local var f.\n\t(XTmouse_position): Lossage.\n\t(frame_highlight, frame_unhighlight): Arg frame renamed to f.\n\n\t* callproc.c (child_setup): Always use _exit.\n\n\t* xselect.c (x_own_selection, x_get_foreign_selection): Pass frame\n\tto x_catch_errors, x_check_errors, x_uncatch_errors.\n\n\t* xfns.c (x_set_mouse_color): Pass frame to x_catch_errors,\n\tx_check_errors, x_uncatch_errors.\n\n\t* xselect.c (x_get_foreign_selection): Get display from\n\tselected_frame.  Pass frame to x_stop_queuing_selection_requests and\n\tx_start_queuing_selection_requests.\n\t(x_own_selection, Fx_disown_selection_internal, Fx_selection_exists_p)\n\t(Fx_store_cut_buffer_internal, Fx_get_cut_buffer_internal)\n\t(Fx_rotate_cut_buffers_internal): Get display from selected_frame.\n\n\t* xmenu.c: Use FRAME_X_DISPLAY, not XDISPLAY or x_current_display.\n\t(menu_item_equiv_key): Reject equiv sequences\n\tthat start with mouse clicks.\n\n1994-10-19  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* search.c (searchbufs): New variable, replaces searchbuf and\n\tlast_regexp and search_fastmap.\n\t(syms_of_search): Initialize it.\n\t(searchbuf_head): New variable.\n\t(compile_pattern_1): Renamed from compile_pattern and made static.\n\tCopy the regexp string in case the caller modifies it in place later.\n\t(compile_pattern): New code, uses a cached entry if one is available.\n\tThe pattern buffer is now a return value instead of an arg.\n\t(set_search_regs): Set num_regs directly, since there's no active\n\tpattern buffer to pass to re_set_registers.\n\t(Fstore_match_data): Likewise.\n\t(Flooking_at): Use the new calling convention for compile_pattern.\n\t(Fstring_match, fast_string_match, search_buffer): Likewise.\n\t* dired.c (Fdirectory_files): Likewise.\n\n1994-10-18  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keyboard.c (Voverriding_local_map_menu_flag): New variable.\n\t(syms_of_keyboard): Set up Lisp var.\n\t(menu_bar_items): Obey Voverriding_local_map_menu_flag.\n\n\t* ralloc.c (struct heap): New fields first_bloc, last_bloc.\n\t(struct bp): New field heap.\n\t(get_bloc, free_bloc, obtain, r_alloc_sbrk): Update new fields.\n\t(reorder_bloc): New function.\n\t(update_heap_bloc_correspondence):\n\tRenamed from update_heap_free_pointers.  Update new fields.\n\t(relinquish): Add error check for new fields.\n\n\t* Makefile.in.in (SOME_MACHINE_OBJECTS): Add msdos.o and x*.o files.\n\n1994-10-17  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* minibuf.c (read_minibuf): Store the object, not the string, into\n\tthe history variable.\n\n\t* xfns.c (x_set_unsplittable): New function.\n\t(x_frame_parms): Add that function to the table.\n\n\t* xterm.c (do_line_dance): Decrement index only once per loop.\n\n\t* scroll.c (do_line_insertion_deletion_costs): Fix argument order.\n\n1994-10-17  Morten Welinder  <terra@mole.gnu.ai.mit.edu>\n\n\t* fileio.c (Fexpand_file_name) [MSDOS]: Correct the for absolute\n\tdefault directory.\n\n\t* config.h.in [HAVE_X_WINDOWS]: #define HAVE_FACES and HAVE_MOUSE.\n\n\t* dispextern.h: Guard entire file from being include more than once.\n\t[MSDOS]: Include msdos.h.\n\n\t* dispnew.c (direct_output_for_insert): Check HAVE_FACES, not\n\tHAVE_X_WINDOWS.\n\t(selected_frame, last_minibuffer_frame): Doc fix.\n\n\t* dosfns.c (Fset_mouse_position, Fmsdos_mouse_p) [!HAVE_X_WINDOWS]:\n\tNew functions.\n\t(syms_of_dosfns) [!HAVE_X_WINDOWS]: Defsubr them.  Also define\n\tQmsdos_color_translate.\n\t(init_dosfns) [SYSTEM_MALLOC]: Don't call non-existing get_lim_data.\n\n\t* dosfns.h (Qmsdos_color_translate) [!HAVE_X_WINDOWS]: New variable.\n\n\t* editfns.c (init_editfns) [MSDOS]: Let the user name default to\n\t\"root\".\n\n\t* emacs.c (main) [MSDOS && !HAVE_X_WINDOWS]: Call syms_of_xfaces\n\tand syms_of_xmenu.\n\n\t* frame.c [MSDOS]: Include msdos.h.\n\t(Fframep #1) [MSDOS]: Doc change for the following.\n\t(Fframep #2) [MSDOS]: Return 'pc for when termcap is not used.\n\t(Fmouse_position #2) [HAVE_MOUSE]: Return useful information.\n\t(Fframe_parameters #2): Show \"font\" as \"default\".\n\t(Fframe_parameters #2) [MSDOS]: Show fore- and background colors.\n\t(Fmodify_frame_parameters #2) [MSDOS]: Call IT_set_frame_parameters.\n\t(Fframe_list #2): New stub function.\n\t(syms_of_frame #2): defsubr frame_list.\n\t(syms_of_frame #2) [MSDOS]: Initialize the_only_frame.\n\t(Fselected_frame #2): Doc fix.\n\n\t* frame.h [!MULTI_FRAME]: We give up having selected_frame be\n\tan always-zero integer variable.  From now on it will be a\n\tpointer to a `struct frame' just like in the MULTI_FRAME case.\n\t(selected_frame, last_nonminibuf_frame): use FRAME_PTR, not EMACS_INT.\n\t(XFRAME): Redefine to use the_only_frame.\n\t(XSETFRAME): Define to set Lisp value.\n\t(WINDOW_FRAME): Redefine to return Lisp value.\n\t(FOR_EACH_FRAME): Set the frame variable to Lisp value.\n\t(output_method): New method: output_msdos_raw.\n\t(FRAME_TERMCAP_P, FRAME_X_P) [MSDOS]: Define non-stub versions.\n\n\t* keyboard.c (read_char_x_menu_prompt): Include menu code also in\n\tcase MSDOS.\n\t(gobble_input): Complete Sep 15 change.\n\n\t* lisp.h: #define glyph-stuff when HAVE_FACES, not only when\n\tHAVE_X_WINDOWS.\n\t(FRAMEP): Define different versions for MULTI_FRAME and MSDOS.\n\tOtherwise, don't define at all.\n\n\t* Makefile.in.in (MSDOS_SUPPORT): Add faces.elc.\n\t(msdos.o, dosfns.o): Add dependencies.\n\t(MSDOS_OBJ): New set of object files.\n\t(obj): Include MSDOS_OBJ.\n\n\t* msdos.c: #include dispextern.h, termopt.h, and window.h needed\n\tfor the following.\n\t(highlight): New variable.\n\t(rien_du_tout, IT_ring_bell, IT_set_face, IT_write_glyphs,\n\tIT_clear_end_of_line, IT_cursor_to, IT_reassert_line_highlight,\n\tIT_change_line_highlight, IT_update_begin, IT_set_menu_bar_lines,\n\tIT_set_frame_parameters): New functions like their XT_* counterparts.\n\t(internal_terminal_init): Initialize Vwindow_system,\n\tVwindow_system_version, the_only_x_display, and terminal hooks.\n\t(mouse_get_xy): New function.\n\t(mouse_get_pos, mouse_check_moved): Use mouse_get_xy.\n\t(IT_menu_create, IT_menu_make_room, IT_menu_search_pane,\n\tIT_menu_calc_size, IT_menu_display, XMenuCreate, XMenuAddPane,\n\tXMenuAddSelection, XMenuLocate, XMenuActivate, XMenuDestroy,\n\tx_pixel_width, x_pixel_height): New functions.\n\t(init_environment) [HAVE_X_WINDOWS]: Let DISPLAY default to \"unix:0.0\".\n\t(init_environment): Handle the case of a relative argv[0].\n\t(dos_rawgetc): Use XSETFRAME.\n\t(the_only_x_display, x_current_display) [!HAVE_X_WINDOWS]: New\n\tvariables.\n\n\t* msdos.h (XFontStruct, GC, Pixmap, Display, Window) [MSDOS_NO_X]:\n\tDummy types.\n\t(struct face, FACE_HAS_GC, FACE_GC, FACE_FOREGROUND, FACE_BACKGROUND,\n\tFACE_FONT, FACE_STIPPLE, FACE_UNDERLINE_P) [MSDOS_NO_X]: Define like\n\tcorresponding X-versions.\n\t(struct x_display) [MSDOS_NO_X]: Define cut-down version.\n\t(FRAME_PARAM_FACES, FRAME_N_PARAM_FACES, FRAME_DEFAULT_PARAM_FACE,\n\tFRAME_MODE_LINE_PARAM_FACE, FRAME_COMPUTED_FACES,\n\tFRAME_N_COMPUTED_FACES, FRAME_SIZE_COMPUTED_FACES, FRAME_DEFAULT_FACE,\n\tFRAME_MODE_LINE_FACE, x_current_display, XFreeGC, same_size_fonts,\n\tunload_font, unload_color, XGetGeometry, DisplayWidth,\n\tDisplayHeight, XMenuSetAEQ, XMenuSetFreeze, XMenuRecompute,\n\tFONT_WIDTH, check_x, ButtonReleased) [MSDOS_NO_X]: Define suitable\n\tstubs.\n\t(XM_FAILURE, XM_SUCCESS, XM_NO_SELECT, XM_IA_SELECT) [MSDOS_NO_X]:\n\tDefine like old-x-menu versions.\n\tGuard the entire file from being included more than once.\n\t(internal_flush): Correct guarding conditional.\n\tDon't include <time.h>.\n\n\t* puresize.h (SYSTEM_PURESIZE_EXTRA): Default to 0.\n\t(BASE_PRESIZE): Increase by SYSTEM_PURESIZE_EXTRA.\n\n\t* s/msdos.h: #define HAVE_FACES.\n\t(LIBX11_SYSTEM, HAVE_X11R5) [HAVE_X_WINDOWS]: Define.\n\t(PURESIZE): Don't define.\n\t(SYSTEM_PURESIZE_EXTRA): Define.\n\n\t* sysdep.c (init_sys_modes): Make sure that internal_terminal_init\n\tis only called once.\n\t(init_sys_modes, reset_sys_modes) [HAVE_X_WINDOWS]: Add conditional.\n\t(reset_sys_modes) [MSDOS]: Change to MSDOG's default colors.\n\t(kbd_input_ast): Use just XSETFRAME.\n\n\t* window.c (init_window_once) [!MULTI_FRAME]: Set selected_frame and\n\tlast_nonminibuf_frame once and for all.\n\n\t* xdisp.c (redisplay, copy_part_of_rope, fix_glyph,\n\tdisplay_text_line, display_mode_line): Check HAVE_FACES, not\n\tHAVE_X_WINDOWS.\n\n\t* xfaces.c: Guard the file by HAVE_FACES, not HAVE_X_WINDOWS.\n\t[MSDOS]: Include dosfns.h needed for the following.\n\t[!HAVE_X_WINDOWS]: Don't #include xterm.h or Xos.h.\n\t[!HAVE_X_WINDOWS] (intern_face, clear_face_cache, load_font,\n\tload_color, unload_color, Fpixmap_spec_p, load_pixmap,\n\tsame_size_fonts, frame_update_line_height): Don't define.\n\t[!HAVE_X_WINDOWS] (intern_face, clear_face_cache, build_face): Define\n\tstubs.\n\t(load_color) [MSDOS && !HAVE_X_WINDOWS]: Special version.\n\t(Fset_face_attribute_internal) [MSDOS && !HAVE_X_WINDOWS]: Stubify\n\tfont setting, mask away 0x08 (the blink bit) from background color.\n\t(syms_of_xfaces) [!HAVE_X_WINDOWS]: Don't defsubr Spixmap_spec_p.\n\t(Fmake_face_internal): Use FOR_EACH_FRAME.\n\t(init_frame_faces): Guard multi-frame stuff with MULTI_FRAME.\n\n\t* xmenu.c [!HAVE_X_WINDOWS]: Don't #include xterm.h.\n\t[!HAVE_X_MENU]: Don't #include XMenu.h.\n\t(xmenu_show, xdialog_show) [!HAVE_X_WINDOWS]: We don't need the\n\tbutton hack for msdos.\n\t(xmenu_show) [!HAVE_X_WINDOWS]: Don't adjust coordinates with\n\trespect to the (non-existing) outer window manager.\n\n\t* xterm.c (x_term_init) [!subprocesses]: Don't set input descriptor.\n\n\n1994-10-17  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xfaces.c (intern_face): Update mask properly to set stipple\n\tand fill_style.  Set everything all at once in XCreateGC.\n\n\t* window.c (Fdisplay_buffer): In desperation case of looking for\n\tsomething to split, verify that a window's frame is splittable.\n\n1994-10-16  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* Makefile.in.in (xfns.o): Depend on paths.h.\n\n\t* xfns.c: Include paths.h.\n\n1994-10-16  Morten Welinder  <terra@mole.gnu.ai.mit.edu>\n\n\t* editfns.c (Fuser_login_name): Optional argument uid decides\n\twhich user's login name to return.\n\n1994-10-16  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xterm.c (dumpglyphs): Explicitly draw background stipple.\n\n\t* xfaces.c (intern_face): Set the fill_style.\n\n\t* paths.h.in (PATH_BITMAPS): New macro.\n\n\t* xterm.c (x_bitmap_icon): Arg FILE is now a Lisp_Object.\n\t(x_iconify_frame, x_make_frame_visible): Supply FILE arg to it.\n\t* xfns.c (x_set_icon_type): Pass x_bitmap_icon 2nd arg as Lisp_Object.\n\t(x_icon_type): Return a Lisp_Object.\n\n\t* xfns.c (x_destroy_bitmap, x_reference_bitmap): Take frame as arg.\n\tCallers changed.\n\t(struct x_bitmap_record): New fields height, width, depth.\n\t(x_create_bitmap_from_data): Fill in those fields.\n\t(x_bitmap_height, x_bitmap_width, x_bitmap_pixmap): New functions.\n\t(x_create_bitmap_from_file): Arg FILE is now a Lisp_Object.\n\tSearch Vbitmap_file_path for it.  Fill in new fields.\n\t(syms_of_xfns): Set up Vbitmap_file_path.\n\n\t* xterm.c (x_bitmap_icon): Properly discard the previous bitmap.\n\t(x_text_icon): Discard bitmap only if we have one.\n\n\t* xfaces.c (copy_face, merge_faces): Copy the pixmap_h and pixmap_w.\n\t(intern_face): Store the stipple in the GC.\n\t(unload_color): Really do free the color.\n\t(free_frame_faces): Call unload_pixmap.\n\t(Fset_face_attribute_internal): Handle background pixmap.\n\tDestroy old pixmap when necessary.\n\t(free_frame_faces): Destroy pixmaps.\n\t(load_pixmap): New function.\n\t(Fpixmap_spec_p): New function.\n\t(syms_of_xfaces): Set up Lisp function pixmap-spec-p.\n\tSet up Qpixmap_spec_p.\n\n\t* dispextern.h (struct face): Delete cached_index field.\n\t* xfaces.c (compute_base_face): Don't set cached_index field.\n\n\t* ralloc.c (heap_base): Move static var to top level.\n\t(struct heap): New slot `free'.\n\t(obtain): Set `free' for new heap.\n\t(get_bloc): Update `free'.\n\t(find_heap): New function.\n\t(update_heap_free_pointers): New function.\n\t(resize_bloc, r_alloc_sbrk): Call update_heap_free_pointers.\n\n1994-10-15  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* lread.c (load_unwind): Cast argument of fclose.\n\n\t* xmenu.c: Delete HAVE_X11 conditionals.\n\n\t* xfaces.c (compute_base_face): Use FRAME_FOREGROUND_PIXEL,\n\tFRAME_BACKGROUND_PIXEL, FRAME_FONT.\n\n\t* xterm.h (FRAME_FOREGROUND_PIXEL, FRAME_BACKGROUND_PIXEL)\n\t(FRAME_FONT): New macros.\n\n1994-10-15  Tom Tromey  <tromey@drip.colorado.edu>\n\n\t* xterm.c (x_bitmap_icon): Allow bitmap to come from file.\n\t(x_wm_set_icon_pixmap): Second arg is now pixmap_id;\n\tcall x_lookup_pixmap.\n\t(x_text_icon): Call x_destroy_bitmap.\n\n\t* xfns.c (x_set_icon_type): If icon-type is a string, then use\n\tbitmap from that file.\n\t(Fx_create_frame): Set icon_bitmap field to -1.\n\t(struct x_bitmap_record): New structure type.\n\t(x_bitmaps, x_bitmaps_size, x_bitmaps_last, x_bitmaps_free):\n\tNew variables.\n\t(x_allocate_bitmap_record): New function.\n\t(x_reference_bitmap, x_create_bitmap, x_create_bitmap_from_file)\n\t(x_destroy_bitmap, x_lookup_pixmap): New functions.\n\n\t* xterm.h (x_display): Changed icon_bitmap_flag to icon_bitmap.\n\tChanged all users.\n\n1994-10-15  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* textprop.c (Fset_text_properties): Special case for getting\n\trid of all properties of a string.\n\n1994-10-15  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* xterm.c (stuffline, scraplines): Functions deleted.\n\t(line_dance, line_dance_len, line_dance_in_progress): New vars.\n\t(XTins_del_lines): Don't do any X calls; just update the array.\n\t(do_line_dance): New function.  Do the X calls here.\n\t(XTupdate_end, XTwrite_glyphs): Call do_line_dance.\n\n1994-10-14  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* s/isc4-0.h (LIBS_SYSTEM): Add -lcposix.\n\t(sigblock, SIG_BLOCK): Define if not defined.\n\n\t* sysdep.c (read_input_waiting): Set e.frame_or_window w/ XSETFRAME.\n\n\t* xterm.c (x_new_font): Don't keep looping after the FONT property.\n\n1994-10-13  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* term.c (term_get_fkeys_1): Workaround for IBM's dialect of terminfo.\n\n1994-10-13  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xfns.c (Fx_create_frame): Init the FRAME_X_SCREEN\n\tas soon as can be done.\n\n\t* xdisp.c (redisplay): Call clear_face_cache instead\n\tof clear_face_vector.  Do it at most once per 1000 redisplays.\n\n\t* xfaces.c: Eliminate the \"display faces\"; store GCs in the\n\t\"computed faces\".\n\t(face_vector, nfaces, nfaces_allocated): Vars deleted.\n\t(free_frame_faces): Free GCs in the computed faces.\n\tFree the computed faces themselves.\n\t(clear_face_cache): Renamed from clear_face_vector\n\tand completely rewritten to free GCs in the computed faces.\n\t(get_cached_face): Function deleted.\n\t(build_face): Function deleted; code moved into intern_face.\n\t(intern_face): Don't treat default and modeline faces specially.\n\t(recompute_basic_faces): Call intern_face, not build_face.\n\n\t* xfaces.c (intern_face, clear_face_vector, load_font, unload_font)\n\t(load_color, free_frame_faces, recompute_basic_faces):\n\tUse FRAME_X_DISPLAY.\n\n\t* m/mips-siemens.h (C_ALLOCA): Defined.\n\t(HAVE_ALLOCA): Definition deleted.\n\n\t* editfns.c (Fuser_login_name, Fuser_real_login_name):\n\tCall init_editfns now if it was not done before.\n\n\t* puresize.h (BASE_PURESIZE): Incremented.\n\n\t* lisp.h (Funhandled_file_name_directory): Declared.\n\n1994-10-10  Rainer Schoepf  (Schoepf@Uni-Mainz.de)\n\n\t* unexalpha.c (Brk): Declare as unsigned long.\n\t(unexec): Do CHECH_SCNHDR on _RCONST if that's defined.\n\tIgnore rdata_section if there is none.\n\t(update_dynamic_symbols): New arg new_name.  Call changed.\n\tFix some calls to WRITE.\n\t(fatal_unexec): Declare all arguments.\n\n1994-10-12  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* unexelf.c: Include config.h.\n\n\t* s/freebsd.h (LD_SWITCH_SYSTEM): New definition.\n\n1994-10-11  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* lisp.h (enum Lisp_Misc_Type): Add new enumerations\n\tLisp_Misc_Intfwd, Lisp_Misc_Boolfwd, Lisp_Misc_Objfwd,\n\tLisp_Misc_Buffer_Objfwd.\n\t(enum Lisp_Type): Delete the corresponding enumerations from here.\n\t(struct Lisp_Buffer_Objfwd): New structure.\n\t(struct Lisp_Intfwd, struct Lisp_Boolfwd, struct Lisp_Objfwd): Ditto.\n\t(XINTFWD, XBOOLFWD, XOBJFWD, XBUFFER_OBJFWD): Access the new structure.\n\t(INTFWDP, BOOLFWDP, OBJFWDP, BUFFER_OBJFWDP): Ditto.\n\t(XSETINTFWD, XSETBOOLFWD, XSETOBJFWD, XSETBUFFER_OBJFWD): Deleted.\n\t(union Lisp_Misc): Add new members.\n\t(allocate_misc): Declare this function.\n\t(XINTPTR): Deleted.\n\t* alloc.c (mark_object): Use the new substructure.\n\t* buffer.c (buffer_slot_type_mismatch): Take just the offset as\n\targument.  Only check against types that are actually used.\n\t* bytecode.c (Fbyte_code): Skip optimization for all Lisp_Misc types.\n\t* data.c (do_symval_forwarding, store_symval_forwarding,\n\tfind_symbol_value, Fset, default_value, Fset_default,\n\tFkill_local_variable): Use the new substructure.\n\t(store_symval_forwarding): Change args to buffer_slot_type_mismatch.\n\t* lread.c (defvar_int, defvar_bool, defvar_lisp,\n\tdefvar_lisp_nopro, defvar_per_buffer): Use the new substructure.\n\n\t* minibuf.c (test_completion): Fix reversed condition.\n\n\t* ralloc.c: Install Hiroshi Nakano's rewrite to allow multiple\n\theaps, for implementations where the C library makes calls to\n\tsbrk directly.\n\n1994-10-11  Jim Blandy  <jimb@geech.gnu.ai.mit.edu>\n\n\t* search.c (scan_buffer): After temporarily turning immediate_quit\n\toff, turn it back on by setting it to allow_quit, never 1.\n\n\t* search.c (find_before_next_newline): Declare the arguments'\n\ttypes explicitly; don't let them default to int.\n\n\t* xdisp.c (display_scan_buffer): Pass the correct number of\n\targuments to scan_buffer.\n\n1994-10-11  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keyboard.c (read_key_sequence): The output of function-key-map\n\tgoes to key-translation-map, but not vice versa.\n\tDon't exit if either of them is a possibility.\n\n1994-10-11  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* lisp.h (Lisp_Misc): new type code, replacing Lisp_Marker (and\n\tsoon to replace other type codes as well).\n\t(XMARKER, SETMARKER, MARKERP): Check/set the new type field.\n\t(XMISC, SETMISC, MISCP): New accessor macros for the superset type.\n\t(struct Lisp_Free): New structure.\n\t(Lisp_Misc_Free): Type code for that structure.\n\t* buffer.h (OVERLAY_POSITION): Marker assert now tests substructure.\n\t* alloc.c (MARKER_BLOCK_SIZE, marker_block, marker_free_list):\n\tNow refers to the superset type, not just markers.\n\t(allocate_misc): New function, extracted from Fmake_marker.\n\t(Fpurecopy): Check the substructure.\n\t(clear_marks, mark_object, gc_sweep): Likewise.\n\t* buffer.c (buffer_slot_type_mismatch): Test against Lisp_Misc.\n\t* fns.c (internal_equal): Check the substructure.\n\t* print.c (print): Check the substructure.\n\n1994-10-10  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* sysdep.c (sys_subshell): Use NILP macro directly, not its\n\texpansion.  Previous code was leftover from when NULL was a bad\n\tword.\n\n1994-10-10  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* fileio.c (Finsert_file_contents): Use original unexpanded\n\tFILENAME arg to set buffer-file-name.\n\n\t* buffer.c (list_buffers_1): Fix indentation in header lines.\n\n\t* xdisp.c (redisplay_window): Fix Oct 1 change:\n\tdon't call cancel_my_columns unless we will call try_window.\n\n1994-10-10  Jim Blandy  <jimb@geech.gnu.ai.mit.edu>\n\n\t* buffer.c (syms_of_buffer): Doc fix for cache-long-line-scans.\n\n1994-10-10  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* syntax.c (scan_sexps_forward): At startincomment,\n\tdo notice a 2-char comment ender that straddles FROM.\n\n1994-10-09  Jim Blandy  <jimb@geech.gnu.ai.mit.edu>\n\n\tCache the results of some scans, to improve performance in buffers\n\tcontaining very long lines.\n\t* region-cache.c, region-cache.h: New files.\n\t* Makefile.in.in (obj) Add region-cache.o to the list of files.\n\t(region-cache.o): New target.\n\t(buffer.o, indent.o, search.o): Depend on region-cache.h.\n\t* buffer.h (struct buffer): New members: newline_cache,\n\twidth_run_cache, width_table, and cache_long_line_scans.\n\t* buffer.c: #include region-cache.h.\n\t(Fget_buffer_create): Initialize new members of struct buffer.\n\t(Fkill_buffer): Free memory occupied by caches.\n\t(init_buffer_once): Set default value for cache_long_line_scans in\n\tbuffer_defaults, and give it a bit in buffer_local_flags.\n\t(syms_of_buffer): Add DEFVAR_PER_BUFFER for cache_long_line_scans.\n\t* insdel.c (prepare_to_modify_buffer): Invalidate width run and\n\tnewline caches, if they exist.\n\t* search.c: #include \"region-cache.h\".\n\t(max, min): Make these functions, not macros; we'd like to pass\n\tthem arguments that would be bad to evaluate more than once.\n\t(newline_cache_on_off): New function.\n\t(scan_buffer): New argument END.  Call newline_cache_on_off.  If\n\tthis buffer's newline cache is enabled, consult it to see if we\n\tneed to scan a region for newlines, and store information in the\n\tcache after doing so.\n\t(find_next_newline): Pass new arg to scan_buffer.\n\t(find_before_next_newline): New function.\n\t* cmds.c (Fforward_line): Call scan_buffer with new args.\n\t(Fend_of_line): Replace call to Fforward_line and search loop with\n\tcall to find_before_next_newline.\n\t* syntax.c (find_defun_start): Call scan_buffer with new args.\n\t* indent.c: #include \"region-cache.h\".\n\t(character_width, disptab_matches_widthtab, recompute_width_table,\n\twidth_run_cache_on_off): New functions.\n\t(compute_motion): Call width_run_cache_on_off.  If this buffer's\n\twidth run cache is enabled, consult it to see if we need to\n\ttraverse a region character-by-character; store information in the\n\tcache after doing so.  Call find_before_next_newline instead of\n\twriting out an equivalent loop explicitly, to take advantage of\n\tthe newline cache.\n\tDoc fixes.\n\t* xdisp.c (redisplay_window): Invalidate width_run_cache, if the\n\tbuffer's display table doesn't match the width table the cache was\n\tbuilt for.\n\t(display_text_line): Use compute_motion to skip forward to the\n\tleft edge of the window when the window is hscrolled; this is\n\tfaster than rendering all the characters into the bit bucket when\n\tthe hscroll is large.\n\tDoc fixes.\n\t(display_count_lines): Call scan_buffer with new args.\n\t* disptab.h (window_display_table): Doc fix.\n\t(buffer_display_table): New declaration.\n\t* indent.h (disptab_matches_widthtab, recompute_width_table): New\n\tdeclarations.\n\n1994-10-08  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keyboard.c (inhibit_local_menu_bar_menus): New variable.\n\t(read_char_x_menu_prompt): Optionally don't use local maps.\n\t(syms_of_keyboard): Set up Lisp variable.\n\n1994-10-07  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* lisp.h (enum Lisp_Misc_Type): New type.\n\t(struct Lisp_Marker): Add a member of that type.  Delete unused\n\tmember `modified'.\n\n1994-10-07  Morten Welinder  <terra@frigg.diku.dk>\n\n\t* minibuf.c (test_completion): New function, extracted from\n\tdo_completion.\n\t(do_completion): Use test_completion.\n\t(Fminibuffer_complete_and_exit): If completion is already\n\texact, don't try to complete it.\n\n\t* dired.c (file_name_completion): Ignore files \".\" and \"..\"\n\tin first pass.\n\t(Ffile_name_completion): Perform the completion even if the\n\tname part is empty.\n\n1994-10-07  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* insdel.c (make_gap): Keep input blocked till after we set BEG_ADDR.\n\n\t* fileio.c (check_writable, check_executable): Test HAVE_EACCESS.\n\n\t* config.h.in (HAVE_EACCESS): Add #undef.\n\n1994-10-06  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* alloc.c (mark_object): Don't check for Lisp_Void; nothing ever\n\tcreates that type.\n\t* bytecode.c (Fbyte_code): Likewise.\n\t* data.c (Fboundp, Ffboundp, find_symbol_value, Fset,\n\tFdefault_boundp, Fdefault_value): Likewise.\n\t* lisp.h (Lisp_Void, VOIDP): Deleted.\n\n\t* floatfns.c (Fabs): Don't use XFASTINT when negative.\n\t* data.c (Flsh, Fadd1, Fsub1, Flognot): Likewise.\n\n\t* buffer.c (init_buffer_once): Don't use XSETFASTINT when negative.\n\t(reset_buffer_local_variables, Fbuffer_local_variables): Access\n\tbuffer_local_flags as Lisp_Object, not int.\n\t* data.c (Fset, default_value, Fset_default,\n\tFkill_local_variable): Likewise.\n\t* lread.c (defvar_per_buffer): Likewise.\n\tGive XSETBUFFER_OBJFWD an integer offset, not a pointer.\n\n\t* lread.c (read1): New argument for returning out-of-band data,\n\tobviating the need for Lisp_Internal datatype.\n\t(read0, read1, read_list): Use that new calling sequence.\n\t* lisp.h (Lisp_Internal, XSETINTERNAL, INTERNALP): Deleted.\n\n\t* lread.c (Fload, load_unwind): Store stream pointer as a cons of\n\ttwo integers, obviating the need for Lisp_Internal_Stream datatype.\n\t* lisp.h (Lisp_Internal_Stream, XSETINTERNAL_STREAM,\n\tINTERNAL_STREAMP): Deleted.\n\t* alloc.c (mark_object): Delete case Lisp_Internal_Stream.\n\n1994-10-05  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* unexec.c (make_hdr): Undo June 16 change.\n\n\t* fileio.c (Ffile_regular_p): New function.\n\t(syms_of_fileio): defsubr it.\n\n\t* xterm.c (x_term_init): Call XtSetLanguageProc or XSetLocaleModifiers.\n\n1994-10-04  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xfns.c (x_set_icon_type): Remove period from error message.\n\n\t* xterm.c (x_make_frame_visible, x_iconify_frame):\n\tCall x_bitmap_icon if frame wants a bitmap icon.\n\n\t* xfns.c (x_icon_type): New function.\n\n\t* callint.c (Finteractive): Doc fix.\n\n1994-10-04  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* buffer.c (validate_region): Swap using temp Lisp_Object, not int.\n\n\t* lisp.h (XSETINT): Set object type as well as value.\n\t(XSETCONS, XSETBUFFER, XSETVECTOR, XSETSUBR, XSETSTRING,\n\tXSETSYMBOL, XSETMARKER, XSETOBJFWD, XSETWINDOW, XSETPROCESS,\n\tXSETFLOAT): Likewise.\n\t(XSETBOOLFWD, XSETBUFFER_OBJFWD, XSETWINDOW_CONFIGURATION,\n\tXSETINTERNAL_STREAM, XSETINTFWD, XSETINTERNAL): New macros.\n\t(XSETUINT, XSETPNTR, XFUNCTION, XSETFUNCTION, XSETINTPTR): Deleted.\n\n\t* frame.h (XSETFRAME): Set object type as well as value.\n\t* m/alpha.h, m/gec63.h, m/hp800.h, m/iris4d.h, m/iris5d.h, m/mips.h:\n\tDon't override the (new) definition of XSETINT from lisp.h.\n\tDelete XSETUINT and XSETPNTR, which are no longer used.\n\t* *.c: Use new accessor macros instead of calling XSET directly.\n\t* xterm.h (SCROLL_BAR_UNPACK): Likewise.\n\t* fns.c (Fstring_equal): No longer necessary to set type separately.\n\t(Fstring_lessp): Likewise.\n\t* callint.c (Fprefix_numeric_value): Likewise.\n\t* fileio.c (Finsert_file_contents): Likewise.\n\n\t* lisp.h (XSETFASTINT): New macro.\n\t(XFASTINT): Changed to non-lvalue syntax, to ensure that callers\n\twill use XSETFASTINT instead.\n\t(CHECK_NUMBER_COERCE_MARKER): Don't use XFASTINT as an lvalue.\n\t(CHECK_NUMBER_OR_FLOAT_COERCE_MARKER): Likewise.\n\t* *.c: Likewise.\n\t* frame.h (FOR_EACH_FRAME): Likewise.\n\n1994-10-04  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* Makefile.in.in (MKTIME_OBJ): New variable.\n\t(obj): Use MKTIME_OBJ.\n\n\t* config.h.in (HAVE_MKTIME): Add #undef.\n\n\t* xmenu.c (widget_id_tick): Move definition into conditional.\n\t(syms_of_xmenu): Conditionalize initialization of widget_id_tick.\n\n\t* xmenu.c (last_menu_bar_item_end): Var deleted.\n\t(this_menu_bar_item_beg, this_menu_bar_item_end): Vars deleted.\n\t(other_menu_bar_item_p, unread_menu_bar_button)\n\t(check_mouse_other_menu_bar): Functions deleted.\n\t(last_event_timestamp, Vdouble_click_time, Vmouse_depressed):\n\tDecls deleted.\n\t(xmenu_show): XMENU_FOO conditional and its contents deleted.\n\n\t* xterm.c (input_signal_count): New variable.\n\t(XTread_socket): Increment it.\n\t(x_make_frame_visible): Exit final loop when XTread_sockets has run.\n\n1994-10-02  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* window.c (Frecenter): Don't trigger point-motion hooks.\n\n\t* fileio.c (Finsert_file_contents): set type of `end', not just\n\tthe value.\n\n\t* xfns.c (x_figure_window_size): Use new formula for scroll bar width.\n\n\t* config.h.in (HAVE_UTIME_H): Add #undef.\n\t* systime.h: Don't include <utime.h> here.\n\t* sysdep.c: Include it here instead.\n\t(set_file_times): Move struct declaration to top of file.\n\n1994-10-02  Paul Reilly  <pmr@churchy.gnu.ai.mit.edu>\n\n\t* xmenu.c (popup_get_selection): Remove BLOCK_INPUT, UNBLOCK_INPUT\n\tsince the calls to popup_get_selection provide the protection.\n\n1994-10-02  Paul Reilly  <pmr@geech.gnu.ai.mit.edu>\n\n\t* xfns.c (HACK_EDITRES): Declare if using X11R5.\n\t(widget_id_tick): New variable.\n\t(x_any_window_to_frame): Use lw_window_is_in_menubar for\n\twidget set independence.\n\t(x_window): Renamed screen_widget to frame_widget.  Use\n\tlw_create_widget and lw_set_main_areas for widget set\n\tindependence.  Enable using editres for X11R5.\n\n\t* widget.c (EmacsFrameSetCharSize): Use lw_refigure_widget for\n\twidget set independence.\n\n\t* widget.h: Declare resources showGrip, allowResize, and\n\tresizeToPreferred.\n\n\t* keyboard.c (make_lispy_event): Do not set item.  Now handled in\n\txmenu.c by popup_get_selection.\n\n1994-10-01  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* frame.c (keys_of_frame): Make binding for delete-frame.\n\n\t* xdisp.c (redisplay_window): If we set PT, and that alters a region\n\tbeing highlighted, call try_window again.\n\n\t* Makefile.in.in (LIBXTR6): If NEED_LIBW, add -lw.\n\t* s/usg5-4-2.h (NEED_LIBW): Defined.\n\n\t* Makefile.in.in (LDFLAGS): New variable.\n\t(LIBX): Use LDFLAGS.\n\n1994-09-30  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* data.c (Fmake_local_variable): Doc fix.\n\n1994-09-29  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* fileio.c (check_writable, check_executable) [__HURD__]:\n\tUse eaccess.\n\n\t* xfaces.c (compute_char_face): Handle list as overlay face property.\n\n1994-09-29  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* minibuf.c (scmp): Use unsigned chars, to avoid confusing DOWNCASE.\n\n\t* unexaix.c (CHECK_SCNHDR, write_segment): Fix format/arg mismatch.\n\t* xfns.c (x_report_frame_params): Likewise.\n\n1994-09-29  Boris Goldowsky  <boris@cs.rochester.edu>\n\n\t* xfaces.c (compute_char_face): If face text-property is a list,\n\tmerge the attributes of the faces in the list.\n\n1994-09-29  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* buffer.c (Foverlay_get): Handle `category' property on overlay.\n\n\t* xfaces.c (Fset_face_attribute_internal): Mark frame garbaged whenever\n\tany face's font or color is changed.\n\n\t* keyboard.c (head_table): Set up Qdelete_frame.\n\t(kbd_buffer_get_event): Handle delete_window_event by making\n\ta delete-frame event.\n\n1994-09-28  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* data.c (Flocal_variable_p): New function.\n\t(syms_of_data): defsubr it.\n\n1994-09-28  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* fileio.c (Fdelete_file): Undo Sep 16 change.\n\t* dired.c (syms_of_dired): Likewise.\n\n1994-09-27  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* frame.h (scroll_bar_pixel_width, scroll_bar_cols): Update comment.\n\t* xfns.c (x_set_scroll_bar_width): Nil now means 2 columns' worth.\n\t(Fx_create_frame): Default scroll bar width is now nil.\n\t* xterm.c (x_new_font): New rule for computing column width.\n\tFactored out common code.\n\t(XTset_vertical_scroll_bar): Use new width formula.\n\t[!USE_X_TOOLKIT] (x_set_window_size): Likewise.\n\t* widget.c (set_frame_size, EmacsFrameSetCharSize): Likewise.\n\n\t* lisp.h (BOOLFWDP, INTERNALP, INTFWDP, OBJFWDP, INTERNAL_STREAMP,\n\tBUFFER_LOCAL_VALUEP, SOME_BUFFER_LOCAL_VALUEP, BUFFER_OBJFWDP,\n\tVOIDP): New type test macros.\n\t* *.h, *.c: Use type test macros instead of checking XTYPE directly.\n\n1994-09-26  Richard Stallman  <rms@churchy.gnu.ai.mit.edu>\n\n\t* window.c (syms_of_window): Doc fix.\n\n1994-09-26  Frederic Pierresteguy  <F.Pierresteguy@frcl.bull.fr>\n\n\t* m/dpx2.h (POSIX_SIGNALS): Define it.\n\t(sigsetmask): Add #undef.\n\n1994-09-26  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* m/*.h, s/*.h (WORDS_BIG_ENDIAN): Renamed from BIG_ENDIAN,\n\tand restored where mistakenly deleted by earlier change.\n\n\t* emacs.c (argmatch): New function.\n\t(main): Recognize --longopt synonyms for all options handled here.\n\tAdd --help and --version.\n\n1994-09-25  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* unexsunos4.c: Delete __FreeBSD__ conditional macro definitions.\n\t(unexec): Major changes in UNDO_RELOCATION code.\n\n\t* unexsunos4.c (is_it): Rename argument and local variable.\n\n1994-09-25  Richard Stallman  <rms@churchy.gnu.ai.mit.edu>\n\n\t* Makefile.in.in (${etc}DOC): Run make-docfile twice--two batches.\n\n1994-09-24  Richard Stallman  <rms@churchy.gnu.ai.mit.edu>\n\n\t* sysdep.c (set_file_times): Don't test HAVE_UTIME.\n\tAssume utime exists if utimes does not.\n\n\t* config.h.in (HAVE_UTIMES): Add #undef.\n\n\t* editfns.c (Fformat_time_string): Mostly rewritten, to handle\n\tunlimited size, and report errors properly.\n\n\t* Makefile.in.in (strftime.o, mktime.o): New target.\n\t(obj): Add strftime.o and mktime.o.\n\n\t* strftime.c, mktime.c: New files (shared from libc).\n\n1994-09-24  Erik Naggum  (erik@naggum.no)\n\n\t* editfns.c (Fformat_time_string): New function.\n\t(syms_of_editfns): Defsubr it.\n\n1994-09-24  Richard Stallman  <rms@churchy.gnu.ai.mit.edu>\n\n\t* sysdep.c [USE_DL_STUBS] (dlopen, dlsym, dlclose): New functions.\n\t* s/sunos4-1.h (USE_DL_STUBS): Defined.\n\t* s/sunos4shr.h (USE_DL_STUBS): Add #undef.\n\n\t* fileio.c (Ffile_writable_p): Use stat to test for existence.\n\t(check_executable, check_writable): New functions.\n\t(Ffile_executable_p, Ffile_writable_p): Use the new functions.\n\n\t* intervals.c (set_point):\n\tIf Vinhibit_point_motion_hooks, ignore intangible properties.\n\tIf move backwards into intangible text, move back over it.\n\n\t* textprop.c (syms_of_textprop): Doc fix.\n\n\t* config.h.in (STACK_DIRECTION): Don't redefine if defined already.\n\tMove definition down past #include's.\n\n1994-09-23  Richard Stallman  <rms@churchy.gnu.ai.mit.edu>\n\n\t* s/linux.h: Don't include signal.h, values.h.\n\t(signal): Definition deleted.\n\n\t* abbrev.c (Fexpand_abbrev): Instead of Fcapitalize_region,\n\tjust upcase the first initial.\n\n\t* casefiddle.c (Fupcase_initials_region): New function.\n\t(Fupcase_initials): New function.\n\t(syms_of_casefiddle): defsubr them.\n\n\t* minibuf.c (read_minibuf_unwind): Preserve Vdeactivate_mark.\n\n\t* s/isc2-2.h (DONT_DEFINE_SIGNAL): Macro deleted.\n\n\t* m/next.h (DK_HEADER_FILE): Macro deleted.\n\n\t* m/tahoe.h (DKSTAT_HEADER_FILE): Macro deleted.\n\n\t* m/hp800.h (CPTIME_SYMBOL, DKXFER_SYMBOL): Macros deleted.\n\n\t* sysdep.c (start_of_text): Don't test CANNOT_UNEXEC.\n\t* unexec.c: Don't test CANNOT_UNEXEC.\n\t* unexaix.c: Don't test CANNOT_DUMP or CANNOT_UNEXEC.\n\n\t* sysdep.c: Delete BROKEN_FASYNC conditional.\n\n\t* data.c (Fset_default, Fset): Delete RTPC_REGISTER_BUG conditionals.\n\n\t* process.c (Fprocess_send_eof): Delete DID_REMOTE conditional.\n\n\t* buffer.c (get-file-buffer): Doc fix.\n\n1994-09-23  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* frame.c (prev_frame): Fix typo.\n\n\t* unexec.c (copy_text_and_data): Delete some printf's.\n\n\t* m/acorn.h (PURESIZE): Definition deleted.\n\n\t* xfns.c (x_figure_window_size): Decode (- N), (+ N) for position.\n\t(x_set_frame_parameters): Handle (+ N) and (- N).\n\tPreserve negative positions properly too.\n\t[USE_X_TOOLKIT] (x_window): Let xneg, yneg specify whether to\n\tnegate left and top.\n\t(Fx_parse_geometry): Handle [XY]Negative with positive number\n\tor negative number without [XY]Negative.\n\n\t* callint.c (Qplus): New variable.\n\t(syms_of_callint): Set it up.\n\t* lisp.h (Qplus): Declared.\n\n\t* xfns.c (Fx_create_frame): Rename menuBarLines resource to menuBar.\n\n\t* s/sunos4-1-3.h, s/sunos4shr.h (X_IO_BUG): Definition deleted.\n\n\t* textprop.c (Fset_text_properties): Don't let validate_interval_range\n\tincrement START and END twice.\n\n\t* xterm.h (FRAME_X_DISPLAY): New macro.\n\n\t* s/freebsd.h (BSD): Have two definitions according to version number.\n\n1994-09-22  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xterm.c (x_destroy_window): Decrement ref count of x_screen struct.\n\n\t* xfns.c (the_x_screen): New variable.\n\t(syms_of_xfns): Staticpro parts of it.\n\t(Fx_open_connection): Initialize it.\n\t(Fx_create_frame): Make frame point to it.\n\t(Fx_list_fonts): Use a cache stored in FRAME_X_SCREEN.\n\n\t* xterm.h (struct x_screen): New structure.\n\t(struct x_display): New field x_screen.\n\t(FRAME_X_SCREEN): New macro.\n\n\t* process.c (exec_sentinel_error_handler): Call update_echo_area.\n\t(read_process_output_error_handler): Likewise.\n\n\t* xdisp.c (update_echo_area): New function.\n\n1994-09-22  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* buffer.c (evaporate_overlays): Overlay is in car, not cdr.\n\n1994-09-21  Tom Tromey  <tromey@creche.colorado.edu>\n\n\t* doc.c (get_doc_string): Look in ../etc while dumping.\n\t(munge_doc_file_name): New subroutine.\n\n1994-09-22  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* minibuf.c (Fcompleting_read): Doc fix.\n\n\t* puresize.h (BASE_PURESIZE): Increment both values.\n\n\t* window.c (Fdelete_other_windows): Nice error if WINDOW is minibuf.\n\n\t* lisp.h (Vdebug_on_error): Declared.\n\n\t* process.c (exec_sentinel_error_handler): New function.\n\t(exec_sentinel): Catch all errors in the sentinel.\n\n\t* keyboard.c (read_char): Don't return right away when\n\tread_char_minibuf_menu_prompt returns non-nil.\n\tInstead, set key_already_recorded, which inhibits most but not all\n\tof the work at non_reread.\n\n1994-09-21  Simon Leinen  <simon@lia.di.epfl.ch>\n\n\t* cm.h (cmputc): Return int rather than void.\n\t* cm.c (evalcost, cmputc): They now return their arguments.\n\n1994-09-21  Per Abrahamsen  <abraham@iesd.auc.dk>\n\n\t* window.c (display-buffer, special-display-buffer-names)\n\t(special-display-regexps, special-display-function): Accept cons\n\tcells in `special-display-buffer-names' and\n\t`special-display-regexps'.  If the buffer name matches the car,\n\tcall `special-display-function' with the cdr as a second argument.\n\n1994-09-21  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* s/bsd386.h (HAVE_TERMIOS, NO_TERMIO): Defined.\n\n\t* editfns.c (Fmessage_or_box): Use Fmessage_box with new name.\n\n\t* process.c (read_process_output_error_handler): New function.\n\t(read_process_output_call): New function.\n\t(read_process_output): Catch and report errors in filters.\n\n\t* keyboard.c (cmd_error_internal):\n\tNew function, broken out of cmd_error.\n\n\t* fileio.c (Fread_file_name): If DEFAULT is nil and INITIAL is not,\n\tuse INITIAL to set DEFAULT.\n\n\t* editfns.c (Fmessage_box): Renamed from Fbox_message.\n\n1994-09-17  Michael Ben-Gershon  (mybg@cs.huji.ac.il)\n\n\t* unexec.c (copy_text_and_data): Add RISCiX changes.\n\n\t* m/acorn.h, s/riscix1-1.h, s/riscix1-2.h: New files added.\n\n1994-09-21  Bill Burton  (billb@progress.com)\n\n\t* s/ptx.h: New file for Sequent DYNIX/ptx 1.x/2.x\n\n\t* m/sequent-ptx.h: New file for Sequent DYNIX/ptx 1.x/2.x\n\n1994-09-21  Frederic Pierresteguy  <F.Pierresteguy@frcl.bull.fr>\n\n\t* editfns.c (Fbox_message): New function to print a message in\n\ta dialog box.\n\t(Fmessage_or_box): New function that choose whether to print a\n\tmessage in a dialog or in the echo area.\n\n1994-09-21  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* search.c (Freplace_match): New 4th arg OBJECT can specify string\n\tto replace in.\n\n\t* casefiddle.c (upcase_initials): New function.\n\t(casify_object): Handle CASE_CAPITALIZE_UP.\n\n\t* fns.c (concat3): New function.\n\n\t* xfns.c (Fx_get_resource): Doc fix.\n\n\t* buffer.c (overlays_at): New arg PREV_PTR.\n\tReturn previous overlay end.\n\t(Foverlays_at): Pass NULL for last 2 args of overlays_at.\n\t(Fnext_overlay_change): Pass new arg to overlays_at.\n\t(Fprevious_overlay_change): New function.\n\t* xterm.c (note_mouse_highlight): Pass new arg to overlays_at.\n\t* xfaces.c (compute_char_face): Pass new arg to overlays_at.\n\t* textprop.c (Fget_char_property): Pass new arg to overlays_at.\n\t(NULL): Define if not defined.\n\n\t* minibuf.c (get_minibuffer): Make BUF current to kill its local vars.\n\n1994-09-20  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* ralloc.c (r_alloc_freeze_level): New variable.\n\t(r_alloc_freeze, r_alloc_thaw): New functions.\n\t(r_alloc_sbrk): Refuse to move blocs, if frozen.\n\n\t* unexaix.c (report_error): Include reason in error message.\n\n1994-09-20  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* eval.c (init_eval_once): Init Vrun_hooks here.\n\t(syms_of_eval): Not here.\n\n1994-09-20  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* search.c (trivial_regexp_p): New function.\n\t(search_buffer): Don't depend on internal format of re_pattern_buffer.\n\n\t* frame.h (FRAME_SCROLL_BAR_PIXEL_WIDTH): New macro, supersedes\n\tVERTICAL_SCROLL_BAR_PIXEL_WIDTH; no longer device-dependent.\n\tAll callers changed.\n\t(FRAME_SCROLL_BAR_COLS): New macro, supersedes\n\tVERTICAL_SCROLL_BAR_WIDTH; no longer constant.  All callers changed.\n\t(scroll_bar_pixel_width, scroll_bar_cols): New members of struct frame.\n\t* xterm.h (VERTICAL_SCROLL_BAR_PIXEL_WIDTH): Deleted.\n\t* xfns.c (x_set_scroll_bar_width): New function.\n\t(x_frame_parms): Add that function to this table.\n\t(Qscroll_bar_width): New symbol.\n\t(syms_of_xfns): Initialize and staticpro it.\n\t(Fx_create_frame): Set default scroll bar width.\n\t* xterm.c (x_new_font): Compute number of scrollbar columns.\n\n\t* keyboard.c (kbd_store_ptr): Declare storage class before qualifier.\n\t(make_lispy_event): Fix Lisp_Object vs. int problems.\n\t(read_avail_input, menu_bar_items_index, read_key_sequence): Likewise.\n\t* window.c (Fset_window_buffer): Likewise.\n\t* alloc.c (make_float, make_pure_float): Likewise.\n\n\t* sysdep.c (set_file_times): Move this out of the USG conditional.\n\n1994-09-19  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* s/sco4.h (POSIX_SIGNALS): Defined.\n\n1994-09-19  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* buffer.c (syms_of_buffer): Doc fix.\n\n\t* keymap.c (Fkey_description): Reverse condition.\n\n1994-09-19  Jim Blandy  <jimb@geech.gnu.ai.mit.edu>\n\n\tAdd a new element to display tables controlling side-by-side\n\twindow borders.\n\t* buffer.c (syms_of_buffer): Update doc string for\n\t`buffer-display-table'.\n\t* disptab.h (DISP_TABLE_SIZE): Bump to 262.\n\t(DISP_BORDER_GLYPH): New accessor macro.\n\t* xdisp.c (display_text_line): Consult the display table when\n\tbuilding side-by-side window borders.\n\n1994-09-19  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* s/netbsd.h (SYSTEM_TYPE): Delete definition.\n\n\t* lisp.h (RETURN_UNGCPRO): Use if (1) .. else, not do ... while (0).\n\n1994-09-18  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* lisp.h (Fmember): Declare this function.\n\t* intervals.c: #include \"keyboard.h\"\n\t* term.c: Declare Fmake_sparse_keymap.\n\t* minibuf.c (read_minibuf): Fix Lisp_Object vs. int problems.\n\t* frame.h [!MULTI_FRAME] (FOR_EACH_FRAME): Likewise.\n\t* fns.c (Frandom): Likewise.\n\t* eval.c (Fsignal): Likewise.\n\t* frame.c (Fframe_parameters): Likewise.\n\t* indent.c (vmotion, Fvertical_motion): Likewise.\n\t* lread.c (openp): Likewise.\n\t* dispnew.c (direct_output_for_insert, direct_output_forward_char):\n\tLikewise.\n\t* textprop.c (validate_interval_range, property_value,\n\tFget_char_property, Fnext_property_change,\n\tFnext_single_property_change, Fprevious_property_change,\n\tFprevious_single_property_change): Likewise.\n\n1994-09-18  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* process.c (pty_name): Move it up; make it static.\n\t(create_process): Set the tty_name field.\n\t(Fprocess_tty_name): New function.\n\t(syms_of_process): defsubr it.\n\n\t* process.h (struct process): New field tty_name.\n\n\t* s/sol2.h (HAVE_VFORK): Defined.\n\t(C_SWITCH_SYSTEM): Deleted.\n\t(const): Definition deleted.\n\n\t* fileio.c (Ffile_writable_p): Don't use ro_fsys.\n\t(ro_fsys): Deleted.\n\n1994-09-18  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* config.h.in (_ALL_SOURCE): Don't redefine if already defined.\n\n\t* xdisp.c [!HAVE_X_WINDOWS] (store_frame_title): Dummy macro.\n\n\t* sysdep.c (set_file_times): New function, replaces EMACS_SET_UTIMES.\n\t* fileio.c (Fcopy_file): Use it, and check for the error return.\n\t* systime.h: Declare it.\n\t[HAVE_UTIME_H]: #include <utime.h>.\n\n\t* config.h.in (_ALL_SOURCE, HAVE_STRUCT_UTIMBUF, HAVE_SELECT,\n\tHAVE_TIMEVAL): Add #undefs.\n\n\t* s/*.h, m/*.h: Delete obsolete symbols USE_UTIME, MISSING_UTIMES,\n\tIRIS_UTIME, USG_SYS_TIME, HAVE_SELECT, HAVE_TIMEVAL, BIG_ENDIAN.\n\n1994-09-18  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* dispnew.c (preserve_other_columns): Fix arg to sizeof in bcopy call.\n\n\t* minibuf.c (get_minibuffer): Call Fkill_all_local_variables.\n\n\t* buffer.c (reset_buffer): Don't call reset_buffer_local_variables.\n\t(Fget_buffer_create): Call it here.\n\t(init_buffer_once): And here.\n\n\t* window.c (struct saved_window_data): New slots min_width, min_height.\n\t(Fcurrent_window_configuration): Set slots from window_min_...\n\t(Fset_window_configuration): Restore them.\n\tSet window_min_height and window_min_width to 1\n\twhile restoring windows.\n\n\t* unexsunos4.c (SUNOS4 or __FreeBSD__): Define UNDO_RELOCATION.\n\t(unexec): Test UNDO_RELOCATION.  Distinguish the relocation formats\n\tof __FreeBSD__ and SUNOS4.\n\n\t* s/sol2.h (REL_ALLOC): #undef deleted.\n\n\t* keymap.c (Fkey_description): Give error if KEYS not an array.\n\t(get_keyelt, access_keymap, get_keymap_1): Use type test macros.\n\n1994-09-17  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* unexsunos4.c (unexec): Fix logic for rounding section boundaries.\n\n\t* config.h.in (EMACS_CONFIG_OPTIONS): Add #undef.\n\n\t* textprop.c (property_value): Declare args plist, prop.\n\n\t* s/osf1.h (malloc, realloc): Declared.\n\n\t* print.c (print): sprintf arg for frame depends on VALBITS.\n\n\t* callproc.c (Fcall_process) [__osf__ && __alpha]:\n\tDon't stop reading if read returns negative.\n\n\t* puresize.h (PURESIZE_RATIO, BASE_PURESIZE): Defined.\n\t(PURESIZE): Define it based on those.\n\t* m/alpha.h (PURESIZE): Definitions deleted.\n\n1994-09-16  Karl Heuer  <kwzh@churchy.gnu.ai.mit.edu>\n\n\t* buffer.h: Declare some functions.\n\t* intervals.h: Declare some functions.\n\t* lisp.h: Declare some functions.\n\t* xterm.c, xfaces.c: Add #include \"intervals.h\"\n\t* fileio.c (barf_or_query_if_file_exists): Fix declaration.\n\t* xmenu.c (menu_item_enabled_p): Fix declaration.\n\n1994-09-16  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xfns.c (hack_wm_protocols): Arrange to handle WM_SAVE_YOURSELF.\n\n\t* s/hpux9.h (HAVE_TERMIO, HAVE_TERMIOS, NO_TERMIO): Undo Jul 28 change.\n\n1994-09-16  Karl Heuer  <kwzh@churchy.gnu.ai.mit.edu>\n\n\t* emacs.c (Vsystem_configuration_options): New variable.\n\t(syms_of_emacs): Initialize it.\n\n\t* buffer.h: Declare evaporate_overlays.\n\t* buffer.c: Declare new symbol Qevaporate.\n\t(syms_of_buffer): Initialize it.\n\t(Fmove_overlay): Check if overlay is empty.\n\t(Foverlay_put): Check if setting evaporate property on empty overlay.\n\t(evaporate_overlays): New function.\n\t* insdel.c (del_range_1): Call evaporate_overlays after deleting text.\n\n1994-09-16  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* m/intel386.h (HAVE_VFORK): Defined.\n\t[__GNUC__] (C_SWITCH_SYSTEM): Add #undef.\n\n\t* emacs.c (shut_down_emacs): Don't call Fx_close_current_connection.\n\n\t* lisp.h (EMACS_INT, EMACS_UINT): Define, if not already defined.\n\n\t* m/alpha.h (EMACS_INT, EMACS_UINT): Defined.\n\n1994-09-16  Rainer Schoepf  <schoepf@sc.ZIB-Berlin.DE>\n\n\t* s/osf1.h [__alpha] (LD_SWITCH_SYSTEM): Alternate definition.\n\n\t* unexalpha.c, m/alpha.h: New files.\n\n\t* alloc.c (pure, pure_size): Use EMACS_INT.\n\t(free_float, free_cons, PAD, STRING_FULLSIZE, struct string_block)\n\t(make_pure_string, make_pure_vector, Fgarbage_collect, mark_object)\n\t(gc_sweep, compact_strings, Fmemory_limit): Use EMACS_INT.\n\n\t* buffer.c (reset_buffer_local_variables, Fbuffer_local_variables)\n\t(init_buffer_once): Use EMACS_INT.\n\n\t* callint.c (Fcall_interactively): Use EMACS_INT.\n\n\t* data.c (sign_extend_lisp_int): Use EMACS_INT.\n\n\t* dispextern.h (struct face): Use EMACS_UINT.\n\n\t* doc.c (Fdocumentation): Use EMACS_INT.\n\n\t* editfns.c (Fnarrow_to_region, format1): Use EMACS_INT.\n\n\t* floatfns.c (FLOAT_TO_INT, FLOAT_TO_INT2): Use EMACS_INT.\n\n\t* frame.h (struct frame, selected_frame, last_nonminibuf_frame):\n\tUse EMACS_INT.\n\n\t* lisp.h (Lisp_Object): Use EMACS_INT.\n\t(MARKBIT): Don't define if already defined.\n\t(VALMASK, GCTYPEMASK, XSETTYPE, XSET)\n\t(XSETCONS, XSETBUFFER, XSETVECTOR, XSETSUBR, XSETSTRING)\n\t(XSETSYMBOL, XSETFUNCTION, XSETMARKER, XSETOBJFWD)\n\t(XSETINTPTR, XSETWINDOW, XSETPROCESS, XSETFLOAT)\n\t(struct Lisp_String, struct Lisp_Vector): Use EMACS_INT.\n\n\t* lread.c (Fload): Use EMACS_INT.\n\n\t* marker.c (unchain_marker): Use EMACS_INT.\n\n\t* mem-limits.h: Check for __alpha, in __osf__ conditional.\n\t(EXCEEDS_LISP_PTR): Use EMACS_UINT.\n\n\t* print.c (print): Use EMACS_UINT.\n\n\t* puresize.h (CHECK_IMPURE, all versions): Use EMACS_INT.\n\n\t* window.h (struct window): Use EMACS_INT.\n\n\t* xdisp.c (message): Use EMACS_INT.\n\n\t* xterm.h (struct scroll_bar, SCROLL_BAR_VEC_SIZE): Use EMACS_INT.\n\n1994-09-16  Morten Welinder  <terra@diku.dk>\n\n\t* fileio.c (Finsert_file_contents) [MSDOS]: Don't re-gc-protect\n\tfilename; delete unused variables.\n\n1994-09-16  Karl Heuer  <kwzh@churchy.gnu.ai.mit.edu>\n\n\t* term.c (clear_to_end): Fix reversed condition.\n\n1994-09-16  K. Berry  <kb@cs.umb.edu>\n\n\t* dired.c (Qcompletion_ignored_extensions): New symbol.\n\t(syms_of_dired): Initialize it.\n\t* fileio.c (Fdelete_file): Bind completion-ignored-extensions to nil.\n\n1994-09-16  Morten Welinder  (terra@diku.dk)\n\n\t* s/msdos.h (MODE_LINE_BINARY_TEXT): Define this symbol.\n\t* xdisp.c (decode_mode_spec): Use it when defined.\n\n1994-09-16  Andreas Schwab  <schwab@issan.informatik.uni-dortmund.de>\n\t* minibuf.c (read_minibuf): Don't add to the history list if the\n\tminibuffer string is empty, since it is not very useful.\n\n1994-09-16  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* m/hp9000s300.h [not BSD4_3] [__GNUC__] (HAVE_ALLOCA): Defined.\n\n1994-09-16  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* xdisp.c [!HAVE_X_WINDOWS] (frame_title_ptr): define as always null.\n\n1994-09-16  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xterm.c: Delete X11 conditionals.\n\t(XTupdate_end, XTupdate_begin, XTclear_end_of_line)\n\t(XTclear_frame, XRINGBELL, stufflines, scraplines, dumprectangle)\n\t(XTread_socket, x_draw_box, clear_cursor, refreshicon, x_iconify_frame)\n\t(x_bitmap_icon, x_text_icon, x_new_font, x_term_init)\n\t(x_calc_absolute_position, x_set_window_size)\n\t(x_make_frame_visible, x_make_frame_invisible): Delete X10 code.\n\t(dumpqueue, x_do_pending_expose, dumpborder, XEvent, x_read_exposes)\n\t(enqueue_event, dequeue_event, queue_event_count)\n\t(mouse_event_pending_p, x_set_resize_hint): Delete X10 versions.\n\n\t* xfns.c: Delete X11 conditionals.\n\t(defined_color, x_decode_color, x_set_foreground_color)\n\t(x_set_background_color, x_set_mouse_color, x_set_cursor_color)\n\t(x_set_border_color, x_set_border_pixel, Fx_create_frame)\n\t(Fx_open_connection, Fx_close_current_connection, syms_of_xfns):\n\tDelete X10 code.\n\t(Fx_get_default, Fx_get_resource, Fx_rubber_band)\n\t(Fx_store_cut_buffer, Fx_get_cut_buffer): Delete X10 definitions.\n\n\t* xfns.c (Fx_display_grayscale_p): New function.\n\t(syms_of_xfns): defsubr it.\n\n\t* s/bsd386.h (__bsdi__): Define, unless already defined.\n\t(DECLARE_GETPWUID_WITH_UID_T): Define.\n\n\t* filelock.c (getpwuid): Test just DECLARE_GETPWUID_WITH_UID_T,\n\tnot __bsdi__.\n\t* xrdb.c (getpwuid, getpwnam): Test just DECLARE_GETPWUID_WITH_UID_T,\n\tnot __bsdi__.\n\n1994-09-15  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* editfns.c (syms_of_editfns): Make Vsystem_name and Vuser...name\n\tlisp variables again.\n\t* xdisp.c (multiple_frames, Vframe_title_format,\n\tVicon_title_format): New variables.\n\t(store_frame_title): New function.\n\t(x_consider_frame_title): Format title according to template.\n\t(display_mode_element): Handle frame title as well as mode line.\n\t(decode_mode_spec): Use w->buffer, not current_buffer.\n\n1994-09-15  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* s/freebsd.h (DECLARE_GETPWUID_WITH_UID_T): Defined.\n\t[NO_SHARED_LIBS and __FreeBSD__]:\n\t(LD_SWITCH_SYSTEM, A_TEXT_OFFSET, A_TEXT_SEEK): Alternate definitions.\n\n\t* textprop.c (syms_of_textprop):\n\tDelete Lisp var interval-balance-threshold.\n\n\t* intervals.c, intervals.h (interval_balance_threshold): Var deleted.\n\n\t* xfns.c (Fx_create_frame): Make 1 the default for menu-bar-lines.\n\n\t* keyboard.c (gobble_input): Use sigblockx only if it is defined.\n\n\t* unexsunos4.c [SUNOS4]: Include link.h.\n\t(unexec) [SUNOS4]: Cancel relocations that ld.so did.\n\n\t* s/sunos4-0.h (SUNOS4): Defined.\n\n1994-09-14  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* Makefile.in.in (xmenu.o): Depend on puresize.h.\n\t(cmds.o): Depend on window.h.\n\n\t* cmds.c: Include window.h.\n\t(Fnewline): Inhibit the insert-at-end-of-line hack\n\twhen at the top of the window.\n\n\t* minibuf.c (Fcompleting_read): Doc fix.\n\n\t* xmenu.c: Include puresize.h.\n\t(menu_item_equiv_key): Use CHECK_IMPURE.\n\n\t* syntax.c (Fforward_comment): Do increment from, when reaching\n\tsingle-char comment end going forward.\n\n\t* callproc.c (delete_temp_file): Use Fdelete_file.\n\n\t* fileio.c (Fset_default_file_modes): Doc fix.\n\n\t* Makefile.in.in (OLDXMENU variable): Refer to the library in the\n\tdir where it is compiled.\n\t(OLDXMENU rule): Delete the commands; keep just a dep.\n\n1994-09-11  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* Version 19.27 released.\n\n1994-09-10  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keymap.c (syms_of_keymap): Doc fix.\n\n\t* keyboard.c (gobble_input): Block SIGALRM if we are using it.\n\n\t* gmalloc.c: Bug fix affecting __ptrdiff_t in non-ANSI case.\n\n1994-09-07  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* Version 19.26 released.\n\n1994-09-08  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keyboard.c (record_asynch_buffer_change): Don't test\n\tFwaiting_for_user_input_p if no subprocesses.\n\n1994-09-05  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* s/sol2.h [USE_X_TOOLKIT && HAVE_X11XTR6] (REL_ALLOC): Undefine it.\n\n1994-09-04  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* emacs.c (init_cmdargs): After chasing link, use only the\n\texpanded name.\n\n1994-09-04  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* fileio.c (Ffile_accessible_directory_p): Put back the gcpro.\n\n\t* sysdep.c (srandom): Pass arg to srand48; no return value.\n\n1994-09-04  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* emacs.c (init_cmdargs): When setting dir, expand the dir name.\n\n\t* sysdep.c (random, srandom): Check HAVE_LRAND48, not HAVE_RAND48.\n\tCall lrand48, nor rand48.\n\n\t* config.h.in (HAVE_LRAND48): Replaces HAVE_RAND48.\n\n1994-09-03  Kaveh R. Ghazi  (ghazi@noc.rutgers.edu)\n\n\t* m/delta88k.h [__GNUC__] (HAVE_ALLOCA): Defined.\n\t[__GNUC__] (C_ALLOCA): Add #undef.\n\t(LIB_X11_LIB): Add #undef.\n\t(HAVE_TERMIOS): Defined.\n\t(HAVE_TERMIO): Add #undef.\n\t(NO_TERMIO): Defined.\n\t(sigsetmask): Add #undef.\n\t(USE_GETOBAUD): Defined.\n\n1994-09-03  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* sysdep.c (init_baud_rate): Test that getobaud is actually defined.\n\n\t* sysdep.c (init_baud_rate) [USE_GETOBAUD]: Use getobaud.\n\n1994-09-02  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* insdel.c (prepare_to_modify_buffer): Don't call\n\tverify_overlay_modification if no overlays or\n\tverify_interval_modification no intervals.\n\n\t* textprop.c (Fset_text_properties):\n\tReturn early if buffer has no intervals and PROPS is nil.\n\n1994-09-02  Lennart Staflin  (lenst@rudolf)\n\n\t* xdisp.c (display_text_line): Don't overrun the charstart area.\n\n1994-09-02  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* insdel.c (insert_1): Don't call interval fns if buffer has none.\n\n\t* textprop.c (Fset_text_properties): Don't create or split an interval\n\tif we trivially do not need to change anything.\n\n1994-08-31  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xfns.c (defined_color): New arg ALLOC--optionally don't allocate\n\tthe color.\n\t(x_decode_color, Fx_color_defined_p): Pass new arg.\n\t(Fx_color_values): New function.\n\n1994-08-30  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* frame.c (Fdelete_frame): Fix previous change.\n\n1994-08-30  enami tsugutomo  <enami@sys.ptg.sony.co.jp>\n\n\t* fileio.c (Fwrite_region): unbind_to should take two args.\n\n1994-08-30  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* fileio.c (Ffile_accessible_directory_p): No need for gcpro.\n\n\t* keyboard.c (input_polling_used): New function.\n\t* xterm.c (x_make_frame_visible): Call input_polling_used.\n\n1994-08-28  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* frame.c (Fdelete_frame): Free the frame's glyphs arrays.\n\tFree the line insert/delete cost vectors.\n\n\t* dispnew.c (free_frame_glyphs): No longer static.\n\n\t* m/next.h (HAVE_MACH_MACH_H): Defined.\n\n\t* editfns.c (Finsert_and_inherit_before_markers):\n\tUse insert_before_markers_and_inherit for character args.\n\t(Finsert_and_inherit): Use insert_and_inherit for character args.\n\n\t* insdel.c (insert_before_markers_and_inherit): New function.\n\n\t* cmds.c (internal_self_insert): Use insert_and_inherit.\n\n1994-08-27  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* indent.c (Findent_to): Pass new arg to Finsert_char.\n\n\t* editfns.c (Finsert_char): New arg INHERIT.\n\tUse insert_and_inherit if requested.\n\n\t* insdel.c (insert_1): New arg INHERIT.\n\t(insert_and_inherit): New function.\n\n1994-08-26  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keyboard.c (polling_for_input): Define var unconditionally.\n\t* keyboard.h (polling_for_input): Declared.\n\t* xterm.c: Include keyboard.h.\n\t(x_make_frame_visible): Fix previous change: test polling_for_input\n\tinstead of whether SIGIO is defined.\n\t* Makefile.in.in (xterm.o): Depend on keyboard.h.\n\n1994-08-26  Kevin Rodgers  <kevinr@ihs.com>\n\n\t* xfns.c (Fx_color_defined_p): Return list of RGB values, not just t.\n\n1994-08-26  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* xterm.c (x_make_frame_visible): Call signal handler directly.\n\n1994-08-25  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* s/linux.h: Add LINUX_QMAGIC conditional.\n\n\t* m/alliant-2800.h (USE_NONANSI_DEFUN): Defined.\n\n\t* lisp.h (DEFUN): Check USE_NONANSI_DEFUN.\n\n\t* Makefile.in.in (obj): Put cm.o before term.o.\n\t(Avoids mysterious lossage on Irix.)\n\n\t* xmenu.c (xmenu_show): Don't queue events that are in the menu bar.\n\n1994-08-24  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xmenu.c (xmenu_show): Do nothing special for ButtonPress in the menu.\n\tCall XtDispatchEvent for all ButtonRelease events.\n\txlwmenu.c now deals with posting the menu.\n\tCheck for events in subwidgets of the menu\n\twhen deciding whether to queue them for later handling.\n\n\t* unexelfsgi.c (unexec): Copy previous change in unexelf.c.\n\n\t* s/irix5-0.h [__GNUC__] (LD_SWITCH_SYSTEM): Defined.\n\n1994-08-24  Simon Leinen  <simon@lia.di.epfl.ch>\n\n\t* term.c (term_init): Added missing argument to tgetstr.\n\t(tgetstr): Move declarations to top level.\n\n1994-08-24  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* xterm.c (x_make_frame_visible): Raise a signal to cause the\n\tpending X I/O to be read.\n\n1994-08-24  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xdisp.c (display_scan_buffer): New function.\n\t(display_count_lines): Use that.\n\n\t* intervals.c (textget): Ignore category prop if not a symbol.\n\n1994-08-23  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>\n\n\t* s/gnu.h: New file.\n\n1994-08-23  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* indent.c (pos_tab_offset): Don't trigger point-motion hooks.\n\n\t* buffer.c (Frename_buffer): Fix gcpro problems.\n\t* fileio.c (Fmake_symbolic_link, Ffile_accessible_directory_p,\n\tFinsert_file_contents, auto_save_error, Fwrite_region): Likewise.\n\t(Fcopy_file, build_annotations, Fdo_auto_save): Delete unused\n\tvariables.\n\n1994-08-23  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* fileio.c (O_RDONLY): Defined.\n\t(Finsert_file_contents, Fcopy_file): use it.\n\t(barf_or_query_if_file_exists, Ffile_exists_p): Use stat, not access.\n\t(Ffile_readable_p): Use open, not access.\n\n\t* lread.c (O_RDONLY): Defined.\n\t(openp): Use it.\n\n\t* unexelf.c (unexec): Don't alter the info field\n\tof SHT_SYMTAB and SHT_DYNSYM sections.\n\n\t* xdisp.c (redisplay_window): Don't access text before BEGV.\n\n\t* keyboard.c (read_char): After read_char_minibuf_menu_prompt,\n\tdon't just return; jump to non_reread.\n\n\t* fileio.c (Fmake_directory_internal): Pass just 2 args to handler.\n\n1994-08-23  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* frame.c (Fmake_frame_invisible, Ficonify_frame): Don't switch frames.\n\n1994-08-22  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* search.c (Fstring_match): Fix sign error.\n\n\t* m/ibmrs6000.h (LD_SWITCH_MACHINE): Use full path to ibmrs6000.inp.\n\n1994-08-21  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* m/ibmrs6000.h (LD_SWITCH_MACHINE): Supply m/ibmrs6000.inp as input.\n\n\t* m/ibmrs6000.inp: New file.\n\n1994-08-19  Hiroshi NAKANO  <nakano@whale.math.ryukoku.ac.jp>\n\n\t* unexelf.c: Eliminate local var bss_end.\n\tUpdate the symbol values of _edata and _end.\n\n1994-08-19  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* process.c (wait_reading_process_input):\n\tClear waiting_for_user_input_p before returning.\n\n\t* xterm.c (x_make_frame_visible): Quit if requested, in loop at end.\n\n1994-08-17  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keyboard.c (read_char): Don't show buffer-events to the user.\n\tHandle chars over 255 in dribble files.\n\n1994-08-17  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* callproc.c (Fcall_process_region): gcpro filename_string.\n\n1994-08-17  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* doc.c (store_function_docstring): Do nothing for bytecode object\n\twhich has no slot for doc string.\n\n1994-08-16  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* buffer.c (list_buffers_1): Update header line layout.\n\n1994-08-13  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* s/sol2-4.h (pid_t): New definition.\n\t(vfork): Definition deleted.\n\n\t* xmenu.c (xmenu_show): Unconditionally update x_mouse_grabbed\n\tand Vmouse_depressed.\n\n\t* window.c (window_loop, case UNSHOW_BUFFER):\n\tWhen we delete a frame, skip all the windows on that frame.\n\n1994-08-12  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* s/isc4-0.h (NEED_SIOCTL): moved to isc-3.0.h.\n\t* s/isc3-0.h (NEED_SIOCTL): moved from isc-4.0.h, and disabled\n\tBROKEN_TIOCGWINSZ since it works fine when you use <sioctl.h>.\n\t(C_SWITCH_SYSTEM): Add -D_SYSV3 to ensure availability of\n\ttraditional non-standard functions.\n\t(memmove): Delete this macro; it screws up <string.h> if you\n\tuse the native cc.  (Emacs already does the right thing anyway.)\n\n1994-08-12  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* indent.c (compute_motion): Use WIN's frame, not selected one.\n\n\t* xterm.c (x_new_font): Don't set filename = full_name if that's null.\n\n1994-08-11  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* Makefile.in.in (FRAME_SUPPORT): Add faces.elc.\n\n\t* search.c (Freplace_match): Treat caseless initial like a\n\tlowercase initial.\n\n\t* keymap.c (Fdefine_key): Fix error message.\n\t(Fsingle_key_description): Likewise.\n\n1994-08-10  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* s/sol2-3.h (POSIX_SIGNALS): Define it.\n\t(PTY_TTY_NAME_SPRINTF): New overriding definition.\n\t(sigsetmask): Add #undefs.\n\n\t* s/sol2-4.h (POSIX_SIGNALS, PTY_TTY_NAME_SPRINTF, sigsetmask):\n\tDelete those things (moved to sol2-3.h).\n\n\t* s/sol2-4.h (HAVE_VFORK): Deleted.\n\t(vfork): Define as emacs_vfork.\n\n\t* window.c (Fwindow_end): Undo previous change.\n\n1994-08-09  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keyboard.c (record_asynch_buffer_change): Do nothing\n\texcept when waiting_for_user_input_p.\n\n\t* m/i860.h [USG5_4] (SVR4): Defined.\n\n\t* xdisp.c (display_text_line):\n\tMake previous change #ifdef HAVE_X_WINDOWS.\n\n1994-08-08  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* puresize.h [MULTI_FRAME] (PURESIZE): Increased.\n\n\t* window.c (Fwindow_end): If window_end_valid is nil, return nil.\n\n\t* window.c (Fpos_visible_in_window_p): Do something reasonable\n\tif w->start is outside the buffer bounds.\n\n1994-08-07  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* s/sol2-4.h (PTY_TTY_NAME_SPRINTF): New definition.\n\t(sigsetmask): Add #undef.\n\n\t* keymap.c (Faccessible_keymaps): Fix previous change.\n\n1994-08-06  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xdisp.c (display_text_line): Use the face properties\n\tof the overlay arrow, if any.\n\n\t* xfaces.c (compute_glyph_face_1): New function.\n\n\t* m/intel386.h (LIBS_MACHINE): If SOLARIS2_4, don't define this.\n\t* s/sol2-4.h (SOLARIS2_4): Defined.\n\n1994-08-05  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keymap.c (Fuse_global_map, Fuse_local_map):\n\tCall record_asynch_buffer_change.\n\n\t* xterm.c (XTread_socket):\n\tDon't test X_IO_BUG; make that code unconditional.\n\t(x_noop_count, x_term_init): Likewise.\n\n1994-08-04  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* data.c (Fdefine_function, Fdefalias): Handle advice as in Ffset.\n\t(Qad_advice_info): Lisp and C names renamed from Qadvice_info.\n\t(Qad_activate): C name renamed from Qactivate_advice.\n\n\t* fileio.c (Fread_file_name_internal): Call double_dollars\n\twhen `changed' is set.\n\n1994-08-03  Caveh Jalali  (caveh@eng.sun.com)\n\n\t* m/intel386.h [SOLARIS2] (VALBITS, GCTYPEBITS): New definitions.\n\n\t* s/sol2-4.h: New file.\n\n1994-08-03  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* buffer.c (list_buffers_1): Add one column to size column.\n\n\t* xterm.c (x_make_frame_visible): Start one_in_four at 1.\n\n\t* window.c (Fwindow_end): Doc fix.\n\n\t* xterm.c (construct_mouse_click, construct_menu_click):\n\tDon't update x_mouse_grabbed, Vmouse_depressed, last_mouse_frame here.\n\t(XTread_socket): Update them here, so we do it without fail.\n\t(XTmouse_position, XTread_socket case MotionNotify):\n\tCheck last_mouse_frame is nonzero before using it.\n\n\t* Makefile.in.in (alloca.o): Use -f in all rm's.\n\n1994-08-02  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keymap.c (Faccessible_keymaps): Use PREFIX to set loop starting\n\tpoint; don't even consider maps except those reached via prefix.\n\n\t* keyboard.c (make_lispy_event): If the position is not in a window,\n\tat least pass along the frame it is in.\n\n1994-08-01  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>\n\n\t* data.c (Ffset): Don't call Fget unless SYM's plist is consp.\n\n1994-08-01  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* eval.c (Fprog2): Doc fix.\n\n\t* window.c (Fmove_to_window_line): Doc fix.\n\n1994-08-01  Frederic Pierresteguy  (F.Pierresteguy@frcl.bull.fr)\n\n\t* xmenu.c (xmenu_show): Ignore any geometry resource from the user.\n\n1994-07-31  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xfns.c (Fx_get_resource): Doc fix.\n\n\t* data.c (syms_of_data): Set up Qadvice_info, Qactivate_advice.\n\t(Ffset): Activate advice if symbol has advice-info property.\n\n\t* xdisp.c (redisplay_window): Avoid using SET_PT to change point\n\ttemporarily.\n\n\t* dispnew.c (sit_for): Undo previous change.\n\n1994-07-30  enami tsugutomo  <enami@sys.ptg.sony.co.jp>\n\n\t* dispnew.c (direct_output_for_insert): Pass missing 8th\n\targument to compute_char_face.\n\n1994-07-30  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keyboard.c (follow_key): Don't downcase letters here.\n\tDelete arg `case_converted'.\n\t(read_key_sequence): Do it here; but not if in middle of fcn key.\n\n\t* fns.c (Frandom): Handle LIMIT >= 40000000.\n\n\t* xdisp.c (decode_mode_spec): Handle %&.\n\n1994-07-29  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* process.c (create_process): Set default handling for SIGINT, etc.\n\n1994-07-28  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* process.c (wait_reading_process_input): Fix previous change.\n\n\t* s/hpux9.h (HAVE_TERMIOS, NO_TERMIO): Defined.\n\t(HAVE_TERMIO): Add #undef.\n\n\t* sysdep.c (random): Use rand differently, and distinguish BSD/USG.\n\n\t* fns.c (Frandom): Fix previous change.\n\n1994-07-27  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* syssignal.h [POSIX_SIGNALS] (signal): New definition.\n\n\t* config.h.in (HAVE_RAND48): Add #undef.\n\n1994-07-26  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xterm.c (x_queue_event, x_unqueue_events): New functions.\n\t(x_start_queuing_selection_requests): New function.\n\t(x_stop_queuing_selection_requests): New function.\n\t(XTread_socket): Queue up SelectionRequest events sometimes.\n\t* xselect.c (x_get_foreign_selection): Use the new feature\n\tto queue up SelectionRequest events.\n\n\t* process.c (wait_reading_process_input): If wait_for_cell,\n\tdo check for keyboard input and handle it.\n\n\t* fns.c (Frandom): Use just the low 30 bits of random's value.\n\n\t* sysdep.c (random, srandom): Obey HAVE_RAND48 flag.\n\tTest that random is not a macro.  Don't test USG or BSD4_1.\n\n\t* m/tek4300.h (tek4300): Don't define if already defined.\n\n1994-07-25  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* m/tek4300.h (BSD_PGRPS): Defined.\n\n\t* puresize.h (PURESIZE): Increase non-MULTI_FRAME value.\n\n\t* editfns.c (get_system_name): Add a cast.\n\n\t* config.h.in: Add #undef HAVE_H_ERRNO.\n\t* process.c, sysdep.c [!HAVE_H_ERRNO]: Declare h_errno.\n\t* sysdep.c (init_system_name): Set h_errno to 0 initially.\n\t* process.c (Fopen_network_stream): Set h_errno to 0 initially.\n\n\t* window.c (Fdisplay_buffer): Add MULTI_FRAME cond in last change.\n\n\t* Makefile.in.in: Add #undef alloca.\n\n1994-07-23  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* minibuf.c (Fdisplay_completion_list): gcpro `completions'.\n\n\t* print.c (internal_with_output_to_temp_buffer): gcpro things.\n\n\t* puresize.h (PURESIZE): Incremented to 252000.\n\n1994-07-23  Jim Blandy  (jimb@totoro.bio.indiana.edu)\n\n\t* .gdbinit: Set the breakpoint in x_error_quitter instead of\n\t_XPrintDefaultError.\n\n1994-07-20  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* window.c (Fnext_window, Fprevious_window): Don't get stuck in a loop\n\tin the minibuffer frame.\n\n\t* dispnew.c (direct_output_for_insert): Dpn't call compute_char_face\n\tfor a non-X frame.\n\n\t* s/usg5-4.h: Move #undef static before the includes.\n\n\t* xrdb.c [USG5] (SYSV): Don't define if already defined.\n\n\t* fileio.c (Fwrite_region): Do unwind the new unwind protect.\n\n1994-07-19  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* xterm.c (struct font_info): New field full_name.\n\t(x_new_font): Record, and return, the full name of the font.\n\n\t* widget.c (EmacsFrameSetCharSize): Delete the code to make rows at\n\tleast 3.\n\n\t* fileio.c (Vwrite_region_annotations_so_far): New variable.\n\t(syms_of_fileio): Set up Lisp var.\n\t(build_annotations): Handle annotate functions that switch buffers.\n\tSet Vwrite_region_annotations_so_far.\n\t(Fwrite_region): Handle change of buffer in build_annotations.\n\tAdd an unwind protect to restore original buffer and kill the temp.\n\n\t* sysdep.c (init_system_name): Retry gethostbyname after TRY_AGAIN\n\tfailure.\n\n\t* process.c (Fopen_network_stream):\n\tRetry gethostbyname after TRY_AGAIN failure.\n\n\t* s/isc4-0.h [__GNUC__] (LIBX11_SYSTEM): Add -lcposix.\n\n\t* s/usg5-4.h (PTY_TTY_NAME_SPRINTF): Fail smoothly if cannot get pty.\n\n\t* sysdep.c (sys_subshell): Expand ~ in dir.\n\tDo the processing of dir before calling fork.\n\tUse vfork.\n\n1994-07-18  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* xterm.c (note_mouse_movement): Use proper data type for window\n\targs to XQueryPointer.\n\t(x_scroll_bar_note_movement): Likewise.\n\n\t* keyboard.c (Vdeferred_action_list, Vdeferred_action_function):\n\tNew variables.\n\t(command_loop_1): Handle them.\n\t(syms_of_keyboard): Set up Lisp variables.\n\n\t* s/linux.h [emacs]: Include stdio.h.\n\n\t* commands.h (unread_command_char): Declare.\n\t* dispnew.c (sit_for): Return immediately if unread events exist.\n\n1994-07-17  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* textprop.c (Fget_text_property): Simplify using Ftext_properties_at.\n\n1994-07-17  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xfns.c (Fx_create_frame): Use 140 as default font size.\n\n\t* xmenu.c [USE_X_TOOLKIT] (xmenu_show): Handle UnmapNotify events.\n\n1994-07-16  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* window.c (Fdisplay_buffer): Cope with unsplittable frames\n\tand dedicated windows.\n\n\t* frame.c [!MULTI_FRAME] (Fframe_first_window): Defined.\n\t(syms_of_frame): Defvar it.\n\n1994-07-14  Morten Welinder  (terra@diku.dk)\n\n\t* s/msdos.h (HAVE_VOLATILE): Define.\n\n1994-07-14  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* keyboard.c (safe_run_hooks): Use local var to restore hook's value.\n\n1994-07-13  Morten Welinder  (terra@diku.dk)\n\n\t* keyboard.c (kbd_buffer_get_event) [HAVE_MOUSE]: Include code\n\tto check for mouse dragging.\n\t(make_lispy_movement) [HAVE_MOUSE]: Define also in this case,\n\tbut only include the non-multiframe stuff.\n\n\t* msdos.c (mouse_init1): Use alternate mouse detection for old\n\tmouse drivers.\n\t(mouse_get_pos): Downscale coordinates by 8.\n\n1994-07-13  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* window.c (Fselect_window): Fix bug checking new_point is in range.\n\n\t* fileio.c (syms_of_fileio): Finish previous change.\n\n\t* keyboard.c (command_loop_1): Do direct output for cursor motion\n\tover text chars when disp tab exists but says nothing for them.\n\n\t* frame.h (FRAME_EXTERNAL_MENU_BAR) [!USE_X_TOOLKIT]: Give zero.\n\n\t* xdisp.c [!HAVE_X_WINDOWS] (compute_char_face, compute_glyph_face):\n\tAdd simple alternate definitions for non-X case.\n\n1994-07-12  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* process.c (Qlast_nonmenu_event): New variable.\n\t(syms_of_process): Set it up.\n\t(read_process_output, exec_sentinel): Bind it to t around filter.\n\n\t* fileio.c (Fmake_directory_internal): Use Qmake_directory_internal.\n\t(syms_of_fileio): Set up Qmake_directory_internal, not Qmake_directory.\n\n\t* frame.c [MULTI_FRAME] (Fframe_parameters): For non-X frames,\n\tfill in menu-bar-lines value.\n\n1994-07-11  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* xmenu.c (xmenu_show): Don't call XtUngrabPointer here.\n\n\t* Makefile.in.in (ctagsfiles): Rewrite to avoid compiler bug.\n\n1994-07-10  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* window.c (Fdisplay_buffer): Add MULTI_FRAME conditional\n\tin previous change.\n\n1994-07-10  Morten Welinder  (terra@diku.dk)\n\n\t* m/intel386.h [MSDOS] (NO_REMAP): Defined.\n\t* s/msdos.h (HAVE_MOUSE, PURESIZE): Definitions moved here.\n\t* m/dos386.h: File obsolete and deleted.\n\n\t* msdos.c (dos_rawgetc): Use bios, not kbhit.\n\n1994-07-09  Morten Welinder  (terra@diku.dk)\n\n\t* fileio.c (Ffile_name_directory, Ffile_name_nondirectory,\n\tfile_name_as_directory, directory_file_name, Fexpand_file_name,\n\tFfile_name_absolute_p, Fsubstitute_in_file_name) [MSDOS]:\n\tAllow backslashed file names.\n\n1994-07-09  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* puresize.h (PURESIZE) [MULTI_FRAME]: Increased to 250000.\n\n\t* lread.c (readevalloop): Correctly unbind the unwind protect.\n\n1994-07-08  Morten Welinder  (terra@diku.dk)\n\n\t* msdos.c (do_visible_bell): Clean-up using GNU assembly extension.\n\n1994-07-07  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* m/sparc.h (BIG_ENDIAN): Don't redefine if defined.\n\n\t* Makefile.in.in (alloca.o): Delete allocatem.c first thing.\n\n\t* xmenu.c (xmenu_show) {USE_X_TOOLKIT}: ButtonPress no longer pops\n\tdown; instead it forces the next ButtonRelease to exit.  Don't\n\tdispatch on ButtonPress events.\n\n\t* xfns.c (syms_of_xfns): Provide x-toolkit in toolkit version.\n\tUndo previous change.\n\t(x_toolkit): Variable deleted.\n\n\t* xfns.c (x_toolkit): New variable.\n\t(syms_of_xfns): Set up Lisp var x-toolkit.\n\n\t* window.c (Fnext_window, Fprevious_window): ALL_FRAMES = 0 means\n\ttry both visible frames and iconified frames.\n\t(window_loop): Likewise, for FRAMES = 0.\n\t(Fget_buffer_window): Likewise, for FRAME = 0.\n\t(Fdisplay_buffer): Pass 0 to Fget_buffer_window;\n\tif the frame is iconified, make it visible.\n\n\t* frame.c (next_frame, prev_frame):\n\tMINIBUF = 0 means try visible frames and iconified frames.\n\n1994-07-06  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* xmenu.c (xmenu_show) [USE_X_TOOLKIT]: Keyboard input exits the menu.\n\tButtonRelease does so if within Vdouble_click_time.\n\tIgnore mouse motion if button was already released.\n\t(menu_item_selection): Declare volatile, if __STDC__.\n\n\t* keyboard.c (make_lispy_event): Ignore menu bar up events.\n\n1994-07-05  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* doprnt.c (doprnt): Handle padding on %c.\n\n\t* frame.c (next_frame, prev_frame): Change which frames to use\n\twhen MINIBUF is a window.\n\t(Fnext_frame, Fprevious_frame): Doc fixes.\n\n\t* window.c: Doc fixes.\n\n1994-07-04  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* xterm.c (XTread_socket, construct_menu_click) [USE_X_TOOLKIT]:\n\tUpdate x_mouse_grabbed and Vmouse_depressed.\n\n1994-07-02  Richard Stallman  (rms@gnu.ai.mit.edu)\n\n\t* xdisp.c (decode_mode_spec): %+ makes % for unmodified RO buffer.\n\n\t* buffer.c (syms_of_buffer): Doc fix.\n\n\t* xfaces.c (get_cached_face): Set the cached_index field.\n\n1994-07-01  Richard Stallman  (rms@gnu.ai.mit.edu)\n\n\t* sysdep.c (init_sys_modes): Turn off VSTART and VSTOP chars.\n\tOn DGUX, turn off INPCK.\n\n1994-07-01  Paul Reilly  (pmr@churchy.gnu.ai.mit.edu)\n\n\t* xfns.c (Fx_create_frame): Add GC protection for frame being made.\n\n1994-06-30  Richard Stallman  (rms@gnu.ai.mit.edu)\n\n\t* xterm.c (x_make_frame_visible): In x_sync loop at the end,\n\tevery fourth time, sleep for 1/4 second.\n\n\t* xselect.c (x_own_selection, x_get_foreign_selection):\n\tGet rid of spurious X_TOOLKIT conditional.\n\n\t* frame.c (Fdelete_frame): Call x_clear_frame_selections.\n\n\t* xselect.c (x_own_selection): Put the frame in Vselection_alist.\n\t(x_clear_frame_selections): New function.\n\n\t* xterm.c (x_draw_box): Use curs_x and curs_y, not f->cursor_[xy].\n\n\t* xfns.c (XLIB_ILLEGAL_ACCESS): Defined.\n\n1994-06-29  Richard Stallman  (rms@gnu.ai.mit.edu)\n\n\t* s/hpux.h (random, srandom): Defined.\n\n\t* cmds.c (internal_self_insert): Now can return 2.\n\t* keyboard.c (command_loop_1): Don't clear nonundocount\n\twhen internal_self_insert returns 1.\n\n1994-06-28  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* xfns.c (x_set_frame_parameters): Call x_set_offset directly.\n\tHandle `-' for position parameters.\n\n1994-06-28  Karl Heuer  (kwzh@hal.gnu.ai.mit.edu)\n\n\t* lread.c (readchar): Restart interrupted I/O.\n\n1994-06-28  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)\n\n\t* fileio.c (a_write): Loop while *ANNOT is listp, not consp.\n\tPrevious code omitted all data from output files when *ANNOT was\n\tnil.\n\n1994-06-28  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* xfns.c (x_set_name): If no change needed, avoid consing.\n\n\t* xdisp.c (prepare_menu_bars): Call x_consider_frame_title\n\tonly if windows_or_buffers_changed.\n\n\t* keyboard.c (safe_run_hooks): Take symbol as arg.\n\tUse Fsymbol_value and Fset.\n\t(command_loop_1): Pass symbol to safe_run_hooks.\n\tLook in the value cell to check for trivial case (no hooks).\n\n\t* xdisp.c (redisplay_region): For special treatment, BUF most be\n\tboth current and displayed in selected window.\n\n\t* buffer.c (Foverlay_put): Pass redisplay_region a struct buffer *.\n\n1994-06-27  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* fileio.c (a_write): Verify that *annot is a cons.\n\n1994-06-26  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* keyboard.c (echo_dash): Fix backwards conditional.\n\t(read_key_sequence): Don't echo if echo_keystrokes is 0.\n\n\t* m/news-risc.h (C_DEBUG_SWITCH) [not NEWSOS5]:\n\tDon't define if __GNUC__.\n\t(KERNEL_FILE) [not NEWSOS5]: New override definition.\n\n1994-06-25  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* process.c (send_process): Major rewrite.\n\tDon't put in a C-d unless a single line is too long.\n\tRead process input whenever output gets stuck.\n\tRelocate BUF if we read input.  New arg OBJECT.\n\t(Fprocess_send_region, Fprocess_send_string, process_send_signal)\n\t(Fprocess_send_eof): Pass new arg OBJECT.\n\n\t* buffer.h (BUF_PTR_CHAR_POS): New macro.\n\n\t* window.c (Fsave_window_excursion): Doc fix.\n\n\t* s/hpux9.h (C_SWITCH_SYSTEM): Add -D_BSD.\n\n\t* frame.c (Fframe_parameters): Don't handle menu-bar-lines explicitly.\n\n\t* window.c (Fother_window_for_scrolling): New function.\n\t(Fscroll_other_window): Use that.\n\t(syms_of_window): defsubr it.\n\n1994-06-24  Karl Heuer  (kwzh@nutrimat.gnu.ai.mit.edu)\n\n\t* fileio.c (Finsert_file_contents): Fix check for non-regular files.\n\n1994-06-24  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* syntax.c (scan_lists, Fforward_comment): When moving backward over\n\ta comment, ignore a comment-starter that overlaps the comment-ender.\n\n\t* minibuf.c (Fcompleting_read): Doc fix.\n\n1994-06-23  Karl Heuer  (kwzh@hal.gnu.ai.mit.edu)\n\n\t* keyboard.c (syms_of_keyboard): Don't staticpro the same var twice.\n\n1994-06-23  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* s/convexos.h: File deleted.\n\n\t* xterm.c: Don't include string.h or strings.h.\n\n\t* term.c (term_get_fkeys): Don't redeclare term_get_fkeys_1 here.\n\n\t* m/convex.h (LIBS_MACHINE, GETPGRP_NO_ARG): Defined.\n\t(NLIST_NAME_UNION, DECLARE_GETPWUID_WITH_UID_T): Defined.\n\t(CRT0_DUMMIES): Conditionalize according to __GNUC__.\n\t(convex): Define if necessary.\n\t(C_SWITCH_MACHINE): Definition deleted.\n\n1994-06-22  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* buffer.c (Fmove_overlay): Fix typo in previous change.\n\n\t* s/sunos4shr.h (X_IO_BUG): Defined.\n\n1994-06-21  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* minibuf.c (read_minibuf_unwind): Run Qminibuffer_exit_hook here.\n\t(read_minibuf): Not here.\n\n\t* buffer.c (Fkill_buffer): Don't delete auto save file\n\tif it didn't come from this Emacs session.\n\t(Fmove_overlay): Add missing XINT calls in previous change.\n\n1994-06-20  Karl Heuer  (kwzh@hal.gnu.ai.mit.edu)\n\n\t* xfns.c (x_window): Delete duplicate computation.\n\tChange type of reference argument from int to Dimension.\n\n1994-06-20  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* config.h.in: Move #undef HAVE_STRERROR before the #includes.\n\n\t* m/mips4.h (HAVE_STRERROR, HAVE_XRMSETDATABASE)\n\t(HAVE_XSCREENRESOURCESTRING, HAVE_SETSID): Add #undefs.\n\n\t* buffer.c (Fmove_overlay): Call redisplay_region even when\n\tchanging to a different buffer.\n\n\t* syntax.c (Fmatching_paren): Fix typo.\n\n\t* xterm.c (show_mouse_face): Set endcolumn ok in side-by-side windows.\n\n1994-06-19  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* s/linux.h (SEGMENT_MASK): Defined.\n\n\t* xfns.c (x_window): Take account of pane widget internal border width.\n\n\t* s/linux.h (C_OPTIMIZE_SWITCH): Definition deleted.\n\n\t* lisp.h (RETURN_UNGCPRO): Swallow semicolon.\n\t(GCPRO5): New macro.\n\n\t* xmenu.c (single_keymap_panes): Put menu_item_equiv_key in the gcpro.\n\t(menu_item_equiv_key): GCPRO things.\n\n\t* keymap.c (Flookup_key): Add gcpro.\n\t(Fkey_binding, Fminor_mode_key_binding): Likewise.\n\t(Fwhere_is_internal): Likewise.\n\n\t* keyboard.c (apply_modifiers): Use assq_no_quit.\n\n1994-06-19  Erik Naggum  (erik@naggum.no)\n\n\t* syntax.h (SYNTAX_MATCH): Fix typo (syntax -> matcher).\n\n\t* syntax.c (Fmatching_paren): New function.\n\t(Fchar_syntax): Pass arg directly to SYNTAX, no masking.\n\n1994-06-18  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* .gdbinit: Doc fixes.\n\t(xsymbol): Cast $ to int.\n\t(xvector, xstring): Don't use a string constant.\n\tReduce size limit for printing contents.\n\n\t* s/sol2.h (GETTIMEOFDAY_ONE_ARGUMENT): Undo previous change.\n\n1994-06-18  Francesco Potort\u00ec  (pot@fly.cnuce.cnr.it)\n\n\t* m/delta.h (memmove): switch the first two args.\n\n1994-06-18  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* xterm.c (x_make_frame_visible): At end, wait till Emacs sees\n\tframe is visible.\n\n\t* keyboard.c (echo_after_prompt): New variable.\n\t(echo_prompt, cancel_echoing): Set it.\n\t(echo_dash): Test it.\n\n\t* s/linux.h (C_DEBUG_SWITCH): Define, if THIS_IS_CONFIGURE.\n\t(HAVE_GETTIMEOFDAY, HAVE_MKDIR, HAVE_RMDIR):\n\t(HAVE_XSCREENNUMBEROFSCREEN, HAVE_XRMSETDATABASE):\n\tComment out these definitions.\n\n\t* Makefile.in.in (doprnt.o): Depend on config_h.\n\n1994-06-17  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* systime.h (EMACS_GET_TIME): Test GETTIMEOFDAY_ONE_ARGUMENT,\n\tnot USG5_4.\n\t* s/usg5-4.h (GETTIMEOFDAY_ONE_ARGUMENT): Define it.\n\t* s/sol2.h (GETTIMEOFDAY_ONE_ARGUMENT): Undef it.\n\n\t* xfns.c (x_real_positions): Make sure we know the parent window.\n\n1994-06-17  Karl Heuer  (kwzh@hal.gnu.ai.mit.edu)\n\n\t* window.h (minibuf_prompt): Now a Lisp_Object.  All uses changed.\n\n\t* minibuf.c (minibuf_save_list): New variable, replaces\n\tminibuf_save_vector.\n\t(read_minibuf): Cons it up.\n\t(read_minibuf_unwind): Pop back the saved values.\n\t(syms_of_minibuf): staticpro it.\n\n\t* indent.c (compute_motion): Recenter overlays, for speed.\n\n1994-06-17  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* xterm.c (scratch_cursor_gc): New variable.\n\t(dumpglyphs): Rework handling of GCs for cursor display\n\tto use scratch_cursor_gc, and reuse the GC more.\n\n1994-06-16  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* unexec.c (make_hdr): Handle case of no \"additional header\".\n\n\t* xdisp.c (redisplay_region): Treat selected window's buffer\n\tspecially, not current buffer.\n\n\t* syssignal.h [USG5_4] (sigblock): Use |, not &.\n\n1994-06-16  Karl Heuer  (kwzh@hal.gnu.ai.mit.edu)\n\n\t* xdisp.c (redisplay_window): Don't use shortcut if window_end_vpos\n\tis out of date.\n\n1994-06-16  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* process.c (Fprocess_status): Return nil for process name\n\tthat has no process.\n\n\t* dispnew.c (syms_of_display): Make baud-rate a user var.\n\n\t* syntax.c (scan_lists): Get error if eob within comment with depth!=0.\n\n1994-06-16  Roland McGrath  (roland@geech.gnu.ai.mit.edu)\n\n\t* unexec.c: Include <sys/file.h> and [USG5] <fcntl.h> to define\n\tO_* macros.\n\t(O_RDONLY, O_RDWR): Define if undefined.\n\t[emacs] (report_error): Use report_file_error so the user can tell\n\twhat the errno code was.\n\t(unexec): Use O_RDONLY instead of explicit 0.\n\t(make_hdr): Don't undo A_TEXT_OFFSET adjustment #ifndef NO_REMAP,\n\tsince it was never adjusted earlier #ifndef NO_REMAP.\n\t(adjust_lnnoptrs): Use O_RDWR instead of explicit 2.\n\n1994-06-15  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* xterm.c (x_noop_count): New variable.\n\t(x_term_init) [X_IO_BUG]: Init it.\n\t(XTread_socket) [X_IO_BUG]: Don't do XNoOp every time, just 1 in 100.\n\n1994-06-15  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* syssignal.h (sigblock) [USG5_4]: Define if not defined.\n\n1994-06-14  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* lread.c: Put config.h first.\n\n\t* hftctl.c: Put sys/signal.h and errno.h first, then config.h.\n\n\t* dired.c: Put stdio.h, sys/types.h and sys/stat.h after config.h.\n\n\t* callproc.c, dispnew.c, frame.c, term.h: Put stdio.h after config.h.\n\t* widget.c, xmenu.c, xterm.c: Put stdio.h after config.h.\n\n1994-06-14  Karl Heuer  (kwzh@hal.gnu.ai.mit.edu)\n\n\t* sysdep.c (init_system_name): New function, replaces get_system_name.\n\t* lisp.h: declare it.\n\t* editfns.c (init_editfns): Call it.\n\t(get_system_name): New function, now just uses Vsystem_name.\n\t* xterm.c (x_term_init): Use Vsystem_name instead of calling\n\tget_system_name.\n\n\t* keymap.c (Fsingle_key_description): Allow strings as keys.\n\n\t* process.c (create_process): Set input_wait_mask before forking.\n\n1994-06-14  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* indent.c (vmotion): Use find_next_newline_no_quit.\n\t(indented_beyond_p): Likewise.\n\n\t* search.c (find_next_newline_no_quit): New function.\n\n\t* sysdep.c (init_sys_modes): Don't set up sigio here if window system.\n\n\t* keyboard.c (read_key_sequence): Verify event has a POSN_BUFFER_POSN\n\tbefore trying to extract it.\n\n\t* eval.c (init_eval_once): Call xmalloc, not malloc.\n\n\t* process.c (Fprocess_send_eof): Doc fix.\n\n1994-06-13  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* keyboard.c (interrupt_signal, init_keyboard):\n\tDon't handle SIGINT and SIGQUIT if using window system directly.\n\n\t* sysdep.c (init_sys_modes): Don't call set_terminal_modes\n\tif using a window system.\n\n\t* xterm.c (XTread_socket): Use x_top_window_to_frame in prev change.\n\n\t* s/sol2.h (SOLARIS2): Defined.\n\n\t* m/intel386.h: Add conditional for SOLARIS2.\n\n1994-06-13  Karl Heuer  (kwzh@hal.gnu.ai.mit.edu)\n\n\t* xmenu.c (single_keymap_panes): gcpro some things.\n\n1994-06-13  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* xterm.c (XTread_socket): Handle Xatom_wm_save_yourself\n\tby calling XSetCommand.\n\n\t* emacs.c (init_cmdargs): Set up initial_argv, initial_argc.\n\n\t* keyboard.c (syms_of_keyboard): Properly init Vsystem_key_alist.\n\n\t* unexaix.c (adjust_lnnoptrs): Handle multiple aux symbols.\n\n1994-06-12  Karl Heuer  (kwzh@hal.gnu.ai.mit.edu)\n\n\t* editfns.c (transpose_markers): Allow for gap at start of region.\n\t(Ftranspose_regions): Don't precompute pointers into buffer text.\n\n1994-06-12  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* xfns.c (x_window): Request \"save yourself\" commands.\n\n\t* callint.c (Fcall_interactively): Ignore `-' in string.\n\t(Fcall_interactively): Don't call minibuffer-window-active-p;\n\tdetermine directly whether a minibuf window is active.\n\n\t* keyboard.c (read_char): When we loop and call redisplay,\n\tdo prepare_menu_bars first.\n\n1994-06-11  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* search.c (Freplace_match): Be sure not to treat non-digit like digit.\n\n\t* xmenu.c (xmenu_show): Don't call XMenuDestroy twice\n\tin XM_FAILURE case.\n\n\t* Makefile.in.in (xterm.o): Depend on dispextern.h.\n\n\t* s/sunos4-1-3.h (X_IO_BUG): Defined.\n\n1994-06-10  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* s/linux.h (CLASH_DETECTION): Defined.\n\n\t* minibuf.c (Fdisplay_completion_list):\n\tRequire at least two spaces between items.\n\n1994-06-07  Richard Stallman  (rms@geech.gnu.ai.mit.edu)\n\n\t* keyboard.c (command_loop_1):\n\tTreat nil in display tab like no display tab.\n\n1994-06-07  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* m/mips-siemens.h: Include pyramid.h, not mips.h.\n\t(LOAD_AVE_TYPE, LOAD_AVE_CVT): Definitions deleted.\n\t(NO_ARG_ARRAY, HAVE_ALLOCA): Defined.\n\t(BROKEN_FIONREAD): Add #undef.\n\n1994-06-07  Morten Welinder  (terra@diku.dk)\n\n\t* msdos.c (init_environment): Clean up code and make the default\n\tEMACSPATH equal to the directory from which Emacs was started.\n\t(emacsroot): New variable.\n\t(rootrelativepath): New function.\n\t* msdos.h: Add template for rootrelativepath.\n\t* lread.c [MSDOS]: #include \"msdos.h\".\n\t* callproc.c (init_callproc) [MSDOS]: Exclude less code, so ../etc\n\tis still tested for doc file.\n\n1994-06-06  Karl Heuer  (kwzh@hal.gnu.ai.mit.edu)\n\n\t* fns.c (Fy_or_n_p, Fyes_or_no_p) [HAVE_X_MENU]: Redisplay before\n\tpopping up a menu.\n\n\t* dispnew.c (Fframe_or_buffer_changed_p): Reuse the state vector.\n\n1994-06-06  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* frame.c (Ficonify_frame, Fmake_frame_invisible, Fmake_frame_visible):\n\tIncrement windows_or_buffers_changed.\n\n\t* xdisp.c (redisplay): Don't call x_consider_frame_title.\n\t(display_mode_line): Likewise.\n\t(prepare_menu_bars): Call it here.\n\n1994-06-06  Karl Heuer  (kwzh@hal.gnu.ai.mit.edu)\n\n\t* dispnew.c (Fframe_or_buffer_changed_p): New function.\n\n1994-06-05  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* xterm.c (x_wm_set_icon_position, x_wm_set_icon_pixmap):\n\t[USE_X_TOOLKIT]: Use top-level widget's window.\n\n\t* s/bsd386.h (BSD): Redefine.\n\t(WAITTYPE, WRETCODE, WCOREDUMP): New definitions.\n\tInclude wait.h.\n\n\t* m/sun386.h (LIBS_MACHINE) [USG]: New #define.\n\n\t* xterm.c (x_term_init): New args xrm_option and resource_string.\n\tPass an -xrm option to XtAppInitialize if appropriate.\n\n\t* xfns.c (Fx_open_connection): Set up Vx_resource_name and xrm_option\n\tbefore calling x_term_init.  Pass new args.\n\n\t* keyboard.c (modify_event_symbol): Return nil if out of range.\n\n\t* keymap.c (Fkey_description): Avoid using Fmapconcat--do it directly.\n\n\t* keyboard.c, dispnew.c: Include systime.h after xterm.h.\n\n\t* xfns.c (x_window): Take account of internal border of paned widget.\n\n\t* m/dos386.h (PURESIZE): Increased to 240000.\n\n\t* xfns.c (using_x_p): New function.\n\t* fns.c (Fy_or_n_p): Don't use dialog box if not an X frame.\n\t(Fyes_or_no_p): Likewise.\n\n1994-06-04  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* s/hpux9shr.h (C_DEBUG_SWITCH): Define as empty.\n\n1994-06-03  Morten Welinder  (terra@diku.dk)\n\n\t* callproc.c [MSDOS]: #include \"msdos.h\" for rootrelativepath\n\ttemplate.\n\n\t* msdos.c (run_msdos_command): Make local copy of argv[2] on stack,\n\tnot on heap.\n\t(run_msdos_command): When changing argv[2] from using slashes to\n\tusing backslashes, only do so on the first white-space delimited\n\tpart.\n\n1994-06-02  Karl Heuer  (kwzh@hal.gnu.ai.mit.edu)\n\n\t* textprop.c (Fprevious_single_property_change): Check for null\n\tinterval after correcting for edge effects.\n\n\t* xdisp.c (display_text_line): Make sure pointer is in range.\n\n\t* xmenu.c (xdialog_show): Fix problem with message in dialog box.\n\n1994-06-02  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* emacs.c (main): Do the setpgrp after checking for -batch.\n\n\t* keyboard.c (command_loop_1): Properly handle nil in display table.\n\n\t* s/hpux9.h (C_SWITCH_SYSTEM): Put inside __GNUC__ conditional.\n\n1994-06-01  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* process.c (kill_buffer_processes): For net conn, use Fdelete_process.\n\nSee ChangeLog.4 for earlier changes.\n\n;; Local Variables:\n;; coding: utf-8\n;; End:\n\n  Copyright (C) 1994-1995, 2001-2015 Free Software Foundation, Inc.\n\n  This file is part of GNU Emacs.\n\n  GNU Emacs is free software: you can redistribute it and/or modify\n  it under the terms of the GNU General Public License as published by\n  the Free Software Foundation, either version 3 of the License, or\n  (at your option) any later version.\n\n  GNU Emacs is distributed in the hope that it will be useful,\n  but WITHOUT ANY WARRANTY; without even the implied warranty of\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  GNU General Public License for more details.\n\n  You should have received a copy of the GNU General Public License\n  along with GNU Emacs.  If not, see <http://www.gnu.org/licenses/>.\n"
    },
    "skipped": [
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/admin/charsets/mapfiles/cns2ucsdkw.txt",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/nt/icons/gnu4g48t.ico",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/nt/icons/gnu2a32.ico",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/nt/icons/gnu2a32t.ico",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/nt/icons/gnu3b32.ico",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/nt/icons/gnu5w32.ico",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/nt/icons/gnu4g48.ico",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/nt/icons/gnu3b32t.ico",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/nt/icons/gnu2b48.ico",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/nt/icons/gnu6w48t.ico",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/nt/icons/gnu2b48t.ico",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/nt/icons/gnu8.ico",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/nt/icons/emacs.ico",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/nt/icons/gnu5w32t.ico",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/nt/icons/gnu9.ico",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/nt/icons/gnu6w48.ico",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/nt/icons/gnu7.ico",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/nt/icons/emacs22.ico",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/nt/icons/hand.cur",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/msdos/emacs.pif",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/msdos/emacs.ico",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/src/msdos.c",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/nextstep/Cocoa/Emacs.base/Contents/Resources/document.icns",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/nextstep/Cocoa/Emacs.base/Contents/Resources/Emacs.icns",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/nextstep/GNUstep/Emacs.base/Resources/emacs.tiff",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/lisp/pcomplete.elc",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/lisp/leim/quail/CTLau-b5.el",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/lisp/leim/quail/quick-b5.el",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/lisp/leim/quail/QJ.el",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/lisp/leim/quail/CTLau.el",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/lisp/leim/quail/tibetan.elc",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/lisp/leim/quail/PY-b5.el",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/lisp/leim/quail/ethiopic.elc",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/lisp/leim/quail/CCDOSPY.el",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/lisp/leim/quail/PY.el",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/lisp/leim/quail/QJ-b5.el",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/lisp/leim/quail/ARRAY30.el",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/lisp/leim/quail/Punct-b5.elc",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/lisp/leim/quail/ZIRANMA.el",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/lisp/leim/quail/ZOZY.el",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/lisp/leim/quail/ARRAY30.elc",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/lisp/leim/quail/SW.el",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/lisp/leim/quail/tsang-b5.el",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/lisp/leim/quail/4Corner.el",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/lisp/leim/quail/Punct.el",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/lisp/leim/quail/quick-cns.elc",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/lisp/leim/quail/ETZY.el",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/lisp/leim/quail/tsang-cns.elc",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/lisp/leim/quail/Punct-b5.el",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/lisp/leim/quail/ECDICT.el",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/lisp/leim/quail/tibetan.el",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/lisp/leim/quail/ethiopic.el",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/lisp/leim/quail/ECDICT.elc",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/lisp/leim/quail/TONEPY.el",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/lisp/international/titdic-cnv.elc",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/lisp/language/tibet-util.el",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/lisp/language/ethio-util.elc",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/lisp/language/tibet-util.elc",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/lisp/language/ind-util.el",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/lisp/language/tibetan.elc",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/lisp/language/ind-util.elc",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/lisp/language/tibetan.el",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/lisp/language/ethio-util.el",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/lisp/language/ethiopic.el",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/leim/MISC-DIC/CTLau-b5.html",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/leim/MISC-DIC/pinyin.map",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/leim/MISC-DIC/CTLau.html",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/leim/MISC-DIC/ziranma.cin",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/leim/MISC-DIC/cangjie-table.b5",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/leim/CXTERM-DIC/ECDICT.tit",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/leim/CXTERM-DIC/CCDOSPY.tit",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/leim/CXTERM-DIC/ETZY.tit",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/leim/CXTERM-DIC/TONEPY.tit",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/leim/CXTERM-DIC/Punct.tit",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/leim/CXTERM-DIC/QJ-b5.tit",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/leim/CXTERM-DIC/ARRAY30.tit",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/leim/CXTERM-DIC/SW.tit",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/leim/CXTERM-DIC/4Corner.tit",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/leim/CXTERM-DIC/PY-b5.tit",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/leim/CXTERM-DIC/Punct-b5.tit",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/leim/CXTERM-DIC/QJ.tit",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/leim/CXTERM-DIC/ZOZY.tit",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/leim/SKK-DIC/SKK-JISYO.L",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/package-keyring.gpg",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/right-arrow.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/info.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/delete.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/attach.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/gnus.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/open.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/close.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/save.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/preferences.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/bookmark_add.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/back-arrow.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/prev-node.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/splash.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/up-arrow.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/paste.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/index.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/fwd-arrow.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/home.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/jump-to.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/cancel.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/search-replace.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/diropen.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/refresh.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/saveas.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/undo.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/up-node.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/show.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/zoom-out.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/splash.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/copy.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/contact.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/help.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/exit.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/cut.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/print.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/next-page.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/next-node.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/search.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/data-save.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/spell.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/new.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/left-arrow.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/letter.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/tree-widget/default/leaf.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/tree-widget/default/empty.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/tree-widget/default/no-guide.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/tree-widget/default/close.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/tree-widget/default/no-handle.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/tree-widget/default/end-guide.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/tree-widget/default/open.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/tree-widget/default/guide.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/tree-widget/default/handle.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/tree-widget/folder/leaf.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/tree-widget/folder/empty.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/tree-widget/folder/no-guide.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/tree-widget/folder/close.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/tree-widget/folder/no-handle.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/tree-widget/folder/end-guide.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/tree-widget/folder/open.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/tree-widget/folder/guide.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/tree-widget/folder/handle.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/smilies/frown.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/smilies/wry.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/smilies/sad.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/smilies/blink.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/smilies/smile.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/icons/hicolor/24x24/apps/emacs22.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/icons/hicolor/24x24/apps/emacs.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/icons/hicolor/48x48/apps/emacs22.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/icons/hicolor/48x48/apps/emacs.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/icons/hicolor/16x16/apps/emacs22.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/icons/hicolor/16x16/apps/emacs.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/icons/hicolor/32x32/apps/emacs22.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/icons/hicolor/32x32/apps/emacs.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/icons/hicolor/128x128/apps/emacs.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/icons/allout-widgets/dark-bg/leaf.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/icons/allout-widgets/dark-bg/empty.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/icons/allout-widgets/dark-bg/extender-connector.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/icons/allout-widgets/dark-bg/mid-connector.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/icons/allout-widgets/dark-bg/skip-descender.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/icons/allout-widgets/dark-bg/end-connector.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/icons/allout-widgets/dark-bg/unlocked-encrypted.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/icons/allout-widgets/dark-bg/locked-encrypted.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/icons/allout-widgets/dark-bg/through-descender.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/icons/allout-widgets/dark-bg/opened.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/icons/allout-widgets/dark-bg/closed.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/icons/allout-widgets/light-bg/leaf.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/icons/allout-widgets/light-bg/empty.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/icons/allout-widgets/light-bg/extender-connector.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/icons/allout-widgets/light-bg/mid-connector.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/icons/allout-widgets/light-bg/skip-descender.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/icons/allout-widgets/light-bg/end-connector.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/icons/allout-widgets/light-bg/unlocked-encrypted.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/icons/allout-widgets/light-bg/locked-encrypted.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/icons/allout-widgets/light-bg/through-descender.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/icons/allout-widgets/light-bg/opened.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/icons/allout-widgets/light-bg/closed.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/gnus/followup.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/gnus/uu-decode.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/gnus/save-art.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/gnus/rot13.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/gnus/describe-group.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/gnus/get-news.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/gnus/reply-wo.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/gnus/subscribe.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/gnus/reply.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/gnus/catchup.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/gnus/uu-post.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/gnus/cu-exit.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/gnus/post.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/gnus/next-ur.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/gnus/fuwo.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/gnus/mail-reply.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/gnus/gnntg.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/gnus/kill-group.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/gnus/gnus.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/gnus/prev-ur.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/gnus/unsubscribe.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/gnus/save-aif.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/gnus/exit-gnus.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/gnus/exit-summ.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/gud/stepi.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/gud/cont.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/gud/until.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/gud/go.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/gud/step.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/gud/remove.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/gud/next.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/gud/down.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/gud/watch.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/gud/stop.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/gud/run.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/gud/up.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/gud/print.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/gud/finish.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/gud/pp.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/gud/pstar.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/gud/nexti.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/gud/break.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/mail/reply-all.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/mail/move.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/mail/reply-from.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/mail/flag-for-followup.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/mail/inbox.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/mail/reply.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/mail/reply-to.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/mail/send.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/mail/compose.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/images/mail/repack.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/refcards/refcard.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/refcards/orgcard.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/refcards/fr-refcard.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/refcards/sk-survival.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/refcards/viperCard.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/refcards/sk-dired-ref.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/refcards/dired-ref.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/refcards/cs-refcard.tex",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/refcards/sk-refcard.tex",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/refcards/fr-survival.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/refcards/sk-dired-ref.tex",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/refcards/calccard.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/refcards/sk-survival.tex",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/refcards/fr-dired-ref.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/refcards/cs-survival.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/refcards/cs-dired-ref.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/refcards/ru-refcard.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/refcards/gnus-refcard.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/refcards/cs-dired-ref.tex",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/refcards/gnus-booklet.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/refcards/pl-refcard.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/refcards/pt-br-refcard.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/refcards/cs-refcard.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/refcards/survival.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/refcards/vipcard.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/refcards/cs-survival.tex",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/refcards/sk-refcard.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/refcards/gnus-logo.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/etc/refcards/de-refcard.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/doc/lispintro/cons-2a.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/doc/lispintro/cons-2.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/doc/lispintro/lambda-2.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/doc/lispintro/cons-5.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/doc/lispintro/cons-3.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/doc/lispintro/cons-4.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/doc/lispintro/cons-1.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/doc/lispintro/lambda-3.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/doc/lispintro/drawers.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-24.5-d2sivndxvz3hfnraqoo4xirixsdb7qlo/spack-src/doc/lispintro/lambda-1.pdf"
    ],
    "total_files": 4796
}