{
    "matches": {
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/ChangeLog.2": "2017-04-18  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix a typo in indexing the user manual\n\n\t* doc/emacs/cmdargs.texi (General Variables): Fix a horrible typo.\n\n2017-04-12  Eli Zaretskii  <eliz@gnu.org>\n\n\t* lisp/menu-bar.el (kill-this-buffer): Doc fix.  (Bug#26466)\n\n2017-04-11  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument 'line-pixel-height'\n\n\t* doc/lispref/display.texi (Size of Displayed Text): Document\n\tline-pixel-height.  Suggested by Tak Kunihiro\n\t<tkk@misasa.okayama-u.ac.jp>.  (Bug#26379)\n\n2017-04-07  Hong Xu  <hong@topbug.net>\n\n\t* src/search.c (Fre_search_forward, Fre_search_backward): Improve doc (Bug#25193).\n\n2017-04-07  Noam Postavsky  <npostavs@gmail.com>\n\n\tMention that processes start in default-directory (Bug#18515)\n\n\t* doc/lispref/processes.texi (Synchronous Processes):\n\t(Asynchronous Processes):\n\t* lisp/subr.el (start-process):\n\t* src/callproc.c (call-process): Mention that the subprocess starts in\n\t`default-directory' when local, suggest `start-file-process' and\n\t`process-file' otherwise.\n\n2017-04-07  Noam Postavsky  <npostavs@gmail.com>\n\n\t* src/xdisp.c (vmessage, message): Clarify commentary.\n\n2017-04-02  Glenn Morris  <rgm@gnu.org>\n\n\tBelated fixes for admin.el's M-x make-manuals-dist\n\n\t* admin/admin.el (make-manuals-dist-output-variables): Additions.\n\t(make-manuals-dist--1): Also copy docstyle.texi.\n\n2017-03-31  Tino Calancha  <tino.calancha@gmail.com>\n\n\tdefault-directory: Remark that it must be a directory name\n\n\t* src/buffer.c (default-directory): Update docstring (Bug#26272).\n\n2017-03-31  Tino Calancha  <tino.calancha@gmail.com>\n\n\tDelete confuse statement in manual\n\n\t* doc/misc/cl.texi (For Clauses): Delete confuse statement\n\tand its example (Bug#23550).\n\n2017-03-31  Noam Postavsky  <npostavs@gmail.com>\n\n\tImprove packaging documentation\n\n\t* doc/lispref/package.texi (Packaging Basics):\n\t* doc/lispref/tips.texi (Library Headers): Clarify some header\n\tformats, relation between file headers and package\n\tattributes (Bug#13281).\n\n2017-03-27  Eric Abrahamsen  <eric@ericabrahamsen.net>\n\n\tExpand manual section on quitting windows\n\n\t* doc/lispref/windows.texi (Quitting Windows): Provide more\n\t  information about the elements of the quit-restore window parameter,\n\t  and how they affect the behavior of quit-restore-window.\n\n2017-03-26  Noam Postavsky  <npostavs@gmail.com>\n\n\tFix docstring of dabbrev-abbrev-char-regexp\n\n\t* lisp/dabbrev.el (dabbrev-abbrev-char-regexp): Using a value of nil\n\tis equivalent to \"\\\\sw\\\\|\\\\s_\", and has no special behavior.  If the\n\tprevious character doesn't match, we search backwards for one that\n\tdoes, not throw an error.  Replace Lisp example with C based one to\n\tmake it clear that \"symbol\" means a sequence of word and symbol\n\tconstituent characters, not a Lisp symbol (Bug#358).\n\n2017-03-26  Johan Claesson  <johanclaesson@bredband.net>  (tiny change)\n\n\t* doc/misc/cl.texi (Iteration Clauses): Clarify example (Bug#19515).\n\n2017-03-25  Eli Zaretskii  <eliz@gnu.org>\n\n\t;* doc/misc/info.texi (Choose menu subtopic): Improve indexing.  (Bug#26236)\n\n2017-03-21  Noam Postavsky  <npostavs@gmail.com>\n\n\tNarrow scope of modification hook renabling in org-src fontification\n\n\tModification hooks should be enabled while modifying text in the\n\torg-src temp buffer, but in 2017-01-29 \"Call modification hooks in\n\torg-src fontify buffers\" the hooks were enabled also for modifications\n\tto the original org buffer.  This causes fontification errors when\n\tcombined with certain packages, as reported in\n\thttp://lists.gnu.org/archive/html/emacs-orgmode/2017-03/msg00420.html.\n\n\t* lisp/org/org-src.el (org-src-font-lock-fontify-block): Reduce scope\n\tof inhibit-modification-hooks let-binding.\n\n2017-03-17  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of interactive \"r\".\n\n\t* doc/lispref/commands.texi (Interactive Codes): Mention that mark\n\tmust be set for \"r\" to work.\n\n2017-03-17  Thien-Thi Nguyen  <ttn@gnu.org>\n\n\tFix bug: Range-check integer \u2018alpha\u2019 frame parm value\n\n\tTypo introduced 2013-04-01, \"Prefer < to >\n\tin range checks such as 0 <= i && i < N\".\n\n\t* src/frame.c (x_set_alpha): Use \u2018ialpha\u2019, not \u2018alpha\u2019.\n\n2017-03-17  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* etc/PROBLEMS: Say that HP-UX cc doesn't work.\n\n2017-03-14  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix duplicate wording in Emacs manual\n\n\t* doc/emacs/programs.texi (Which Function): Delete duplicate\n\twording.  (Bug#26098)\n\n2017-03-14  Hong Xu  <hong@topbug.net>\n\n\t* lisp/paren.el (show-paren--default, show-paren-function): Add docstring.\n\n2017-03-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix wording in Emacs manual\n\n\t* doc/emacs/text.texi (Paragraphs): Fix a garbled sentence.\n\t(Bug#26086)\n\n2017-03-11  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument how to customize input methods\n\n\t* doc/emacs/mule.texi (Input Methods): Document how to customize\n\tinput methods.\n\n2017-03-11  Eli Zaretskii  <eliz@gnu.org>\n\n\t* lisp/net/eww.el (eww-reload): Doc fix.  (Bug#25981)\n\n2017-03-06  Noam Postavsky  <npostavs@gmail.com>\n\n\tFix warning message about native completion (Bug#25984)\n\n\t* lisp/progmodes/python.el (python-shell-completion-native-turn-on-maybe):\n\tThe relevant variable is `python-shell-completion-native-enable'.\n\n2017-03-04  Eli Zaretskii  <eliz@gnu.org>\n\n\tClarify documentation of 'raise' and 'height' display specs\n\n\t* doc/lispref/display.texi (Other Display Specs): Clarify the\n\teffect of 'height' display spec on the following 'raise'.\n\t(Bug#25824)\n\n2017-03-04  Eli Zaretskii  <eliz@gnu.org>\n\n\tMention problems with GPaste in PROBLEMS\n\n\t* etc/PROBLEMS (GPaste): Mention the problem in yanking caused by\n\tGPaste, and its solution.  (Bug#25902)\n\n2017-02-25  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix doc strings in info.el\n\n\t* lisp/info.el (Info-selection-hook, Info-mode-hook)\n\t(Info-edit-mode-hook): Doc fixes.  (Bug#25794)\n\n2017-02-25  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix doc string of 'posn-at-point'\n\n\t* src/keyboard.c (Fposn_at_point): Clarify the doc string.\n\t(Bug#25796)\n\n2017-02-24  Tino Calancha  <tino.calancha@gmail.com>\n\n\tDocumentation fix in elisp reference manual\n\n\t* doc/lispref/macros.texi (Defining Macros): Drop redundant mention\n\ton 'declare' forms (Bug#25846).\n\n2017-02-18  Noam Postavsky  <npostavs@gmail.com>\n\n\t* lisp/woman.el (woman): Fix docstring prefix arg description.\n\n2017-02-18  Eli Zaretskii  <eliz@gnu.org>\n\n\tMention \"editor\" in Emacs man page header\n\n\t* doc/man/emacs.1.in: Mention \"editor\" in the header line.\n\t(Bug#25771, Bug#25779)\n\n2017-02-18  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument problems with nerd-fonts\n\n\t* etc/PROBLEMS (fonts): Describe the potential problems with\n\tnerd-fonts that cause slow display.  (Bug#25697)\n\n2017-02-13  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* doc/lispref/modes.texi (Derived Modes): Make example more idiomatic\n\n2017-02-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tClarify what is the \"cursor\"\n\n\t* doc/lispref/windows.texi (Window Point): Clarify the notion of\n\t\"cursor\".\n\n2017-02-10  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove commentary in lisp.h\n\n\t* src/lisp.h: Explain in the comment why enlarging a Lisp_Misc\n\tobject is discouraged.\n\n2017-02-08  Noam Postavsky  <npostavs@gmail.com>\n\n\tDisable native completion for ipython (Bug#25067)\n\n\t* lisp/progmodes/python.el:\n\t(python-shell-completion-native-disabled-interpreters): Add \"ipython\".\n\n2017-02-07  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix a typo in ada-mode manual\n\n\t* doc/misc/ada-mode.texi (Project file variables): Add a missing\n\tright bracket.  Reported by Jean-Christophe Helary\n\t<jean.christophe.helary@gmail.com>.\n\n2017-02-05  Eli Zaretskii  <eliz@gnu.org>\n\n\tClarify documentation of 'bufferpos-to-filepos' and 'filepos-to-bufferpos'\n\n\t* doc/lispref/nonascii.texi (Text Representations): Clarify that\n\t'exact' value of QUALITY argument to 'bufferpos-to-filepos' and\n\t'filepos-to-bufferpos' can lead to expensive and slow processing.\n\n\t* lisp/international/mule-util.el (filepos-to-bufferpos)\n\t(bufferpos-to-filepos): Doc fix.  (Bug#25626)\n\n2017-02-03  Nicolas Petton  <nicolas@petton.fr>\n\n\tBump Emacs version to 25.2 RC1\n\n\t* README:\n\t* configure.ac:\n\t* msdos/sed2v2.inp:\n\t* nt/README.W32: Bump Emacs version.\n\t* lisp/ldefs-boot.el: Update.\n\n2017-02-03  Nicolas Petton  <nicolas@petton.fr>\n\n\t* admin/make-tarball.txt: Add documentation regarding the release banner.\n\n2017-02-03  Tino Calancha  <tino.calancha@gmail.com>\n\n\t* CONTRIBUTE (Documenting your changes): Index new vars/commands in manual.\n\n2017-01-31  Eli Zaretskii  <eliz@gnu.org>\n\n\tIndex byte-compile-debug\n\n\t* doc/lispref/compile.texi (Compilation Functions): Index\n\tbyte-compile-debug.\n\n2017-01-31  Philipp Stephani  <phst@google.com>\n\n\tDocument `byte-compile-debug' in the ELisp manual\n\n\t* doc/lispref/compile.texi: Document variable `byte-compile-debug'.\n\n2017-01-31  Philipp Stephani  <phst@google.com>\n\n\tDocument variable `byte-compile-debug'\n\n\t* lisp/emacs-lisp/bytecomp.el (byte-compile-debug): Document variable.\n\n2017-01-31  Noam Postavsky  <npostavs@gmail.com>\n\n\tFix call to debugger on assertion failure\n\n\t* lisp/emacs-lisp/cl-preloaded.el (cl--assertion-failed): The first\n\targument must be `error', and the second is a list of arguments for\n\t`signal'.\n\n2017-01-29  Noam Postavsky  <npostavs@gmail.com>\n\n\tCall modification hooks in org-src fontify buffers\n\n\t* lisp/org/org-src.el (org-src-font-lock-fontify-block): Let-bind\n\t`inhibit-modification-hooks' to nil, since this function can be called\n\tfrom jit-lock-function which binds that variable to t (Bug#25132).\n\n2017-01-28  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of 'format' conversions\n\n\t* src/editfns.c (Fformat): More accurate description of %g and\n\teffects of the various flags on it.  More accurate description of\n\tinteger conversions.\n\n\t* doc/lispref/strings.texi (Formatting Strings): More accurate\n\tdescription of %g and effects of the various flags on it.  More\n\taccurate description of integer conversions.  (Bug#25557)\n\n2017-01-27  Vladimir Panteleev  <git@thecybershadow.net>  (tiny change)\n\n\tRemove stale functions from ert manual\n\n\t* doc/misc/ert.texi (Useful Techniques when Writing Tests):\n\tReplace ert--mismatch references with its cl-lib replacement,\n\tcl-mismatch.\n\n2017-01-27  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix a typo in Eshell manual\n\n\t* doc/misc/eshell.texi (History): Fix a typo.  Reported by Mak\n\tKolybabi <mak@kolybabi.com>.\n\n2017-01-20  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of hooks related to saving buffers\n\n\t* lisp/files.el (write-file-functions, write-contents-functions)\n\t(before-save-hook, after-save-hook): Note that these are only used\n\tby save-buffer.\n\n\t* doc/lispref/backups.texi (Auto-Saving):\n\t* doc/lispref/files.texi (Saving Buffers): Mention that\n\tsave-related hooks are not run by auto-saving.  (Bug#25460)\n\n2017-01-20  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of auto-save-visited-file-name\n\n\t* doc/emacs/files.texi (Auto Save Files): Mention subtle\n\tdifferences between saving the buffer and auto-saving with\n\tauto-save-visited-file-name set non-nil.  (Bug#25478)\n\n2017-01-18  Tom Tromey  <tom@tromey.com>\n\n\tfix typo in mailcap-mime-extensions\n\n\t* lisp/gnus/mailcap.el (mailcap-mime-extensions): Use \"text/x-patch\",\n\tnot \"test/x-patch\".  (Bug#25472)\n\n2017-01-18  Lele Gaifax  <lele@metapensiero.it>  (tiny change)\n\n\tFix typos in flymake.el\n\n\t* lisp/progmodes/flymake.el (flymake-check-patch-master-file-buffer):\n\tSpelling fixes in the doc string.\n\n2017-01-17  Glenn Morris  <rgm@gnu.org>\n\n\tMore NEWS checking for admin.el's set-version\n\n\t* admin/admin.el (set-version): Warn if temporary NEWS markup\n\tstill present in release candidates.\n\n2017-01-17  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix auto-save-file-name problem in Tramp on MS Windows. Do not merge\n\n\t* lisp/net/tramp.el (tramp-handle-make-auto-save-file-name):\n\tFix a problem when running on MS Windows.\n\n2017-01-16  Ian Dunn  <dunni@gnu.org>  (tiny change)\n\n\t* lisp/net/eww.el (eww-tag-meta): Handle single quoted URLs (Bug#25445).\n\n2017-01-14  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/progmodes/sql.el (sql-product-alist): Doc tweak\n\n\t`:sqli-comint-func' does not have to be a symbol.\n\n2017-01-14  Eli Zaretskii  <eliz@gnu.org>\n\n\t* lisp/progmodes/sql.el (sql-product-alist): Doc fix.  (Bug#25440)\n\n2017-01-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of dabbrevs\n\n\t* doc/emacs/abbrevs.texi (Dynamic Abbrevs): Add a cross reference\n\tto \"Dabbrev Customization\".\n\t(Dabbrev Customization): More details about the default value of\n\tdabbrev-abbrev-char-regexp and use cases when it might not be good\n\tenough.  (Bug#25432)\n\n2017-01-12  Noam Postavsky  <npostavs@gmail.com>\n\n\tClarify that easy-menu-add is a nop (Bug#25382)\n\n\t* lisp/emacs-lisp/easymenu.el (easy-menu-add): Make it into an alias of\n\t`ignore', like `easy-menu-remove'.\n\n2017-01-12  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/textmodes/rst.el (rst-package-emacs-version-alist): Fix entry.\n\n2017-01-11  Eli Zaretskii  <eliz@gnu.org>\n\n\tRevert \"Add DNS keywords and remove duplications\"\n\n\tThis reverts commit 1cb9aa5b14867983d0013a61709b4d0af18364ff.\n\n2017-01-11  Alexander Kuleshov  <kuleshovmail@gmail.com>\n\n\tAdd DNS keywords and remove duplications\n\n\t* lisp/textmodes/dns-mode.el (dns-mode-types): Add two TLSA and\n\tNSEC\" DNS related keywords and remove duplication of \"NSAP\".\n\n2017-01-10  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of coding-systems\n\n\t* doc/lispref/nonascii.texi (Coding System Basics): Mention\n\t'prefer-utf-8'.  Index it and 'undecided'.\n\t(Encoding and I/O): Fix a typo.\n\t(User-Chosen Coding Systems): Improve the documentation of\n\tACCEPT-DEFAULT-P argument to select-safe-coding-system.  Document\n\tselect-safe-coding-system-function.\n\t(Specifying Coding Systems): Document coding-system-require-warning.\n\n2017-01-09  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove definition of 'variable-pitch' face on MS-Windows\n\n\t* lisp/faces.el (variable-pitch): Don't specify too many\n\tattributes of the font, otherwise faces that request different\n\tweight or slant or size will not get them.\n\n2017-01-09  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix an error message in python.el\n\n\t* lisp/progmodes/python.el (python-shell-get-process-or-error):\n\tDon't repeat the same key binding twice.  (Bug#25405)\n\n2017-01-07  Noam Postavsky  <npostavs@gmail.com>\n\n\tClarify major mode switching\n\n\t* doc/emacs/modes.texi (Major Modes):\n\t* doc/lispref/modes.texi (Modes, Major Modes): Explictly say that each\n\tbuffer has exactly one major mode and can't be \"turned off\", only\n\tswitched away from (Bug#25357).\n\n2017-01-07  Noam Postavsky  <npostavs@gmail.com>\n\n\tAdd helpful comment to compile-command's docstring\n\n\t* lisp/progmodes/compile.el (compile-command): Mention trailing space in\n\tdocstring (Bug#25337).\n\n2017-01-06  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix ':version' of 'select-enable-primary'\n\n\t* lisp/select.el (select-enable-primary): Fix a typo in\n\t':version'.  (Bug#25375)\n\n2017-01-04  Glenn Morris  <rgm@gnu.org>\n\n\tUpdate remaining copyright years with admin.el M-x set-copyright\n\n\t* etc/refcards/ru-refcard.tex (cyear): Set to 2017.\n\n2017-01-04  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/ffap.el (ffap-lax-url): Bump :version after recent change.\n\n2017-01-03  Philipp Stephani  <phst@google.com>\n\n\tDocument that functions in 'ffap-alist' can use the match data\n\n\t* lisp/ffap.el (ffap-alist): Document that ffap sets the match data\n\twhile walking 'ffap-alist'.\n\n2017-01-01  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix copyright years by hand\n\n\tThese are dates that admin/update-copyright did not update, or\n\tupdated incorrectly.\n\n2017-01-01  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tUpdate copyright year to 2017\n\n\tRun admin/update-copyright.\n\n2016-12-30  Nicolas Petton  <nicolas@petton.fr>\n\n\tBump Emacs version to 25.1.91\n\n\t* README:\n\t* configure.ac:\n\t* msdos/sed2v2.inp:\n\t* nt/README.W32: Bump Emacs version.\n\t* lisp/ldefs-boot.el: Update.\n\n2016-12-30  Alan Mackenzie  <acm@muc.de>\n\n\tBackport: Remove an ambiguity from defvar's doc string.  Fixes bug #25292.\n\n\tThe ambiguity was whether INITVALUE is evaluated when it's not going to be\n\tused to set SYMBOL's value.\n\n\t* src/eval.c (defvar): Rewrite a paragraph of the doc string.\n\n\t(cherry picked from commit 8295e97f18490a535d1188a3daf0b0fd1bf4fa0d)\n\n2016-12-28  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/inline.el: Fix apply-conversion (bug#25280)\n\n\t(inline--dont-quote): Quote the function with #' when passing it to `apply'.\n\tCherry picked from commit e6161f648903d821865b9610b3b6aa0f82a5dcb7.\n\n2016-12-26  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument 'default-toplevel-value' and 'set-default-toplevel-value'\n\n\t* doc/lispref/variables.texi (Default Value): Document\n\t'default-toplevel-value' and 'set-default-toplevel-value'.\n\n2016-12-25  Leo Liu  <sdl.web@gmail.com>\n\n\tDon't modify minibuffer variables globally\n\n\t* lisp/files.el (cd): Use setq-local instead.  (Bug#25260)\n\n2016-12-24  Eli Zaretskii  <eliz@gnu.org>\n\n\tRevert to pre-25.1 behavior in ffap\n\n\t* lisp/ffap.el (ffap-lax-url): Change the default to t, to produce\n\tthe same behavior as in Emacs 24.x.  (Bug#25264)\n\tExplain the trade-offs of customizing this in the doc string.\n\n2016-12-24  Noam Postavsky  <npostavs@gmail.com>\n\n\t* lisp/ffap.el: Fix obsolete comment referencing ffap-bug.\n\n2016-12-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tAttempt to fix 64-bit AIX build\n\n\t* src/unexaix.c (make_hdr, copy_text_and_data, write_segment): Fix\n\ttype-casts that assumed 32-bit pointers.  (Bug#25141)\n\n2016-12-23  Philipp Stephani  <phst@google.com>\n\n\tClarify usage of 'ediff-cleanup-hook' (Bug#24675)\n\n\t* doc/misc/ediff.texi (Hooks): Clarify usage of 'ediff-cleanup-hook'\n\n2016-12-23  Philipp Stephani  <phst@google.com>\n\n\tDocument that variable binding order is unspecified\n\n\t* doc/lispref/variables.texi (Local Variables):\n\t* doc/misc/cl.texi (Modify Macros): Document that binding order in 'let' and\n\t'cl-letf' is unspecified.\n\n2016-12-23  Eli Zaretskii  <eliz@gnu.org>\n\n\t* lisp/desktop.el (desktop-buffers-not-to-save): Doc fix.\n\n2016-12-23  Stefan Monnier  <monnier@IRO.UMontreal.CA>\n\n\tFix M-x hints on Mac port\n\n\t* lisp/simple.el (execute-extended-command--shorter): Call\n\tinput-pending-p to trigger input processing on some systems, such\n\tas Mac port.  (Bug#23002)\n\n2016-12-22  Martin Rudalics  <rudalics@gmx.at>\n\n\tWork around reporting a dpi change in apply_xft_settings\n\n\t* src/xsettings.c (apply_xft_settings): Don't report a change\n\twhen dpi settings do not differ substantially.\n\n2016-12-20  Alan Mackenzie  <acm@muc.de>\n\n\tAmend the version number of CC Mode 5.33 -> 5.32.99.  Don't merge to trunk.\n\n\tlisp/progmodes/cc-defs.el: Amend the version number.\n\tetc/NEWS: Add an item explaining the change.\n\n2016-12-20  Noam Postavsky  <npostavs@gmail.com>\n\n\tImprove skeleton docstrings\n\n\t* lisp/skeleton.el (skeleton-end-newline): Remove mention of\n\t`skeleton-end-hook', its default code was moved into `skeleton-insert'.\n\t(skeleton-insert): Mention `skeleton-end-newline' and move reference to\n\t`skeleton-end-hook' above the explanation of skeleton syntax.\n\n2016-12-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of 'w32-scroll-lock-modifier'\n\n\t* doc/emacs/msdos.texi (Windows Keyboard): Document how to set up\n\tw32-scroll-lock-modifier so that Scroll Lock toggles the LED.\n\n\t* src/w32fns.c (syms_of_w32fns) <w32-scroll-lock-modifier>: Doc\n\tfix.  (Bug#25204)\n\n2016-12-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument 'describe-fontset'\n\n\t* doc/emacs/mule.texi (Fontsets): Document 'describe-fontset'.\n\t(Bug#25216)\n\n2016-12-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument 'describe-fontset'\n\n\t* doc/emacs/mule.texi (Fontsets): Document 'describe-fontset'.\n\t(Bug#25216)\n\n2016-12-17  Eli Zaretskii  <eliz@gnu.org>\n\n\tRepair desktop restoration on text terminals\n\n\t* lisp/desktop.el (desktop-restoring-frameset-p): Test for the GUI\n\tframe here, instead of in desktop-restoring-frameset.  That's\n\tbecause desktop-read wants to know whether frameset will actually\n\tbe restored, and has fallback procedures up its sleeve when it\n\twon't be; these fallbacks need to be invoked when the frameset is\n\tnot going to be restored.  (Bug#24298)\n\n2016-12-17  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tIgnore forward-sexp-function in js-mode indentation code\n\n\t* lisp/progmodes/js.el (js--multi-line-declaration-indentation)\n\t(js--maybe-goto-declaration-keyword-end):\n\tBind forward-sexp-function to nil (bug#25215).\n\n2016-12-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of 'define-coding-system'\n\n\t* lisp/international/mule.el (define-coding-system): Warn against\n\tpossible infinite recursion in pre-write-conversion and\n\tpost-read-conversion functions.  (Bug#25203)\n\n2016-12-11  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix Bug#25162\n\n\t* doc/emacs/files.texi (Reverting): Document\n\tauto-revert-remote-files and auto-revert-verbose.\n\n\t* lisp/autorevert.el (auto-revert-verbose, auto-revert-mode)\n\t(auto-revert-tail-mode, global-auto-revert-mode): Fix docstring.\n\n2016-12-11  Glenn Morris  <rgm@gnu.org>\n\n\tFix a typo in define-abbrev-table\n\n\t* lisp/abbrev.el (define-abbrev-table): Fix typo in docstring handling.\n\n2016-12-11  Glenn Morris  <rgm@gnu.org>\n\n\tBump makeinfo requirement from 4.7 to 4.13\n\n\t* configure.ac: Bump makeinfo version requirement from 4.7 to 4.13.\n\tWe need at least 4.8, and that may be buggy, so go for the last\n\tof the 4 series, which is 8 years old.  (Bug#25108)\n\n2016-12-11  Glenn Morris  <rgm@gnu.org>\n\n\tFixes related to select-enable-clipboard\n\n\t* lisp/menu-bar.el (clipboard-yank, clipboard-kill-ring-save)\n\t(clipboard-kill-region):\n\t* lisp/eshell/esh-io.el (eshell-virtual-targets)\n\t(eshell-clipboard-append):\n\tReplace option gui-select-enable-clipboard with\n\tselect-enable-clipboard; renamed October 2014.  (Bug#25145)\n\n2016-12-10  Noam Postavsky  <npostavs@gmail.com>\n\n\tDefine struct predicate before acccesors\n\n\tThe accessor functions use the predicate function, which causes problems\n\twhen reloading after unload-feature: the compiler-macro property is\n\tstill present on the predicate symbol, and the compiler fails to find\n\tthe definition when trying to inline it into the accessor\n\tfunction (Bug#25088).\n\n\t* lisp/emacs-lisp/cl-macs.el (cl-defstruct): Move predicate definition\n\tbefore field accessor definitions.\n\n2016-12-08  Glenn Morris  <rgm@gnu.org>\n\n\tDoc fix for vc-git\n\n\t* lisp/vc/vc-git.el (vc-git-region-history): Add a doc string.\n\n2016-12-08  Glenn Morris  <rgm@gnu.org>\n\n\tFurther improve make-dist checking\n\n\t* make-dist: Print status messages when checking.\n\n2016-12-08  Glenn Morris  <rgm@gnu.org>\n\n\tImprove previous make-dist change\n\n\t* make-dist: Let make check the info files more thoroughly.\n\n2016-12-08  Glenn Morris  <rgm@gnu.org>\n\n\tMake make-dist --snapshot do some sanity checks\n\n\t* make-dist: Snapshot mode no longer disables checks.\n\tChecks now includes checks for freshness.  (Bug#25084)\n\tChecks now exits with an error if problems were found.\n\n2016-12-07  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix minor quoting problems in doc strings\n\n2016-12-07  Philipp Stephani  <p.stephani2@gmail.com>\n\n\t* lisp/emacs-lisp/easy-mmode.el (define-minor-mode): Fix docstring\n\n\tso that it matches the actual implementation.\n\tSee https://lists.gnu.org/archive/html/help-gnu-emacs/2016-04/msg00071.html\n\n2016-12-07  Noam Postavsky  <npostavs@gmail.com>\n\n\tDon't assume window-point and point are the same\n\n\tThe function `cursor-sensor--detect' calls `bobp' to decide whether to\n\tcheck properties at (1- (window-point)).  However, (window-point) may be\n\tat beginning of buffer, even if (point) is not.  In this case an\n\t`args-out-of-range' error will be signaled (Bug#25104).\n\n\t* lisp/emacs-lisp/cursor-sensor.el (cursor-sensor--detect): Check the\n\tvalue of (window-point) against (point-min), rather than (bobp) to\n\tdecide if (1- (window-point)) is accessible.\n\n2016-12-02  Nicolas Petton  <nicolas@petton.fr>\n\n\tFix bug#25087\n\n\t* etc/themes/manoj-dark-theme.el: Fix two typos.\n\n\t(cherry picked from commit 66d6e7e9ecf5e481f8c2c3a4f88411f66c869a6e)\n\n2016-12-02  Eli Zaretskii  <eliz@gnu.org>\n\n\t* lisp/vc/ediff-util.el (ediff-janitor): Doc fix.  (Bug#25046)\n\n2016-12-02  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove indexing of 'man'\n\n\t* doc/emacs/programs.texi (Man Page): Index 'man', not\n\t'manual-entry', as the latter is an alias for the former.\n\tSuggested by Hong Xu <hong@topbug.net>.  (Bug#25033)\n\n2016-12-02  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort to Sun C 5.14\n\n\tBackport from master.  Sun C 5.14 supports C11 but not GCC\n\textensions, and so refuses to compile Emacs without this patch.\n\t* src/alloc.c (lmalloc, lrealloc): Don't use INT_ADD_WRAPV on\n\tsize_t, as in general this macro is restricted to signed types.\n\n2016-12-02  Richard Stallman  <rms@gnu.org>\n\n\tFix mail-combine-fields\n\n\t* lisp/mail/sendmail.el (mail-combine-fields): Call `save-excursion' to\n\tavoid losing our place in the search loop.\n\n\t(cherry picked from commit 5fbba6cceaf843cfca449eb000a0a65243b61808)\n\n2016-12-01  Martin Rudalics  <rudalics@gmx.at>\n\n\tFix documentation of `window-combination-resize'\n\n\t* src/window.c (Vwindow_combination_resize): Fix doc-string.\n\t* doc/lispref/windows.texi (Recombining Windows): Fix\n\tdocumentation of `window-combination-resize'.\n\n2016-11-29  Bogdan Creanga  <bogdan.creanga@gmail.com>  (tiny change)\n\n\tTypo fixes in elisp manual\n\n\t* doc/lispref/sequences.texi: Add missing '4' in result (Bug#25047).\n\t* doc/lispref/strings.texi (Text Comparison): Avoid duplicate\n\tdefinitions of 'string-prefix-p' and 'string-suffix-p'.\n\t* doc/lispref/symbols.texi (Definitions): Pluralize 'definitions'.\n\n2016-11-28  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix 'expand-file-name' during startup on MS-Windows\n\n\t* src/w32.c (w32_init_file_name_codepage): New function, resets\n\tfile_name_codepage and w32_ansi_code_page to undo the values\n\trecorded during dumping.\n\t(codepage_for_filenames): Fix an embarrassing typo.  Ignore the\n\tcached value of file-name encoding if it is nil, i.e. not\n\tinitialized yet.  Actually cache the last used file-name encoding\n\tto avoid calling APIs when not necessary.\n\n\t* src/w32.h (w32_init_file_name_codepage): Add prototype.\n\n\t* src/w32term.c (syms_of_w32term): Set the value of\n\tw32_unicode_filenames according to the OS version.  This avoids\n\tresetting it during startup, which then causes temacs to run with\n\tthe incorrect value.\n\n\t* src/emacs.c (main): Call w32_init_file_name_codepage early\n\tduring the startup.\n\n\t* src/fileio.c (Fexpand_file_name) [WINDOWSNT]: Update 'newdir'\n\tafter converting $HOME to a UTF-8 string, so that 'newdirlim' is\n\tconsistent with it.  (Bug#25038)\n\n\t* lisp/international/mule-cmds.el (set-locale-environment): Set\n\t'default-file-name-coding-system' to the ANSI codepage even in\n\tnon-interactive sessions.\n\n\t* lisp/files.el (directory-abbrev-alist, abbreviated-home-dir):\n\tDoc fix.\n\t(abbreviate-file-name): Decode 'abbreviated-home-dir' if it is a\n\tunibyte string.\n\n\t* doc/lispref/files.texi (Directory Names): Index\n\t'directory-abbrev-alist'.\n\n2016-11-28  Nicolas Petton  <nicolas@petton.fr>\n\n\t* admin/authors.el (authors-renamed-files-alist): Addition.\n\n2016-11-28  Glenn Morris  <rgm@gnu.org>\n\n\tTweak refcard note about documentation location\n\n\t* etc/refcards/calccard.tex, etc/refcards/cs-dired-ref.tex:\n\t* etc/refcards/cs-refcard.tex, etc/refcards/cs-survival.tex:\n\t* etc/refcards/de-refcard.tex, etc/refcards/dired-ref.tex:\n\t* etc/refcards/fr-dired-ref.tex, etc/refcards/fr-refcard.tex:\n\t* etc/refcards/fr-survival.tex, etc/refcards/gnus-refcard.tex:\n\t* etc/refcards/orgcard.tex, etc/refcards/pl-refcard.tex:\n\t* etc/refcards/pt-br-refcard.tex, etc/refcards/refcard.tex:\n\t* etc/refcards/ru-refcard.tex, etc/refcards/sk-dired-ref.tex:\n\t* etc/refcards/sk-refcard.tex, etc/refcards/sk-survival.tex:\n\t* etc/refcards/survival.tex, etc/refcards/vipcard.tex:\n\t* etc/refcards/viperCard.tex: Tweak documentation url.\n\n2016-11-28  Glenn Morris  <rgm@gnu.org>\n\n\tImprove treatment of Fortran's \"class is\"\n\n\t* lisp/progmodes/f90.el (f90-start-block-re, f90-no-block-limit):\n\tHandle \"class is\".  (Bug#25039)\n\t* test/automated/f90.el (f90-test-bug25039): New test.\n\n2016-11-28  Nicolas Petton  <nicolas@petton.fr>\n\n\tBump Emacs version to 25.1.90\n\n\t* README:\n\t* configure.ac:\n\t* msdos/sed2v2.inp:\n\t* nt/README.W32: Bump Emacs version to 25.1.90\n\n2016-11-27  Nicolas Petton  <nicolas@petton.fr>\n\n\tBump Emacs version\n\n\t* README:\n\t* configure.ac:\n\t* etc/NEWS:\n\t* msdos/sed2v2.inp:\n\t* nt/README.W32: Bump Emacs version to 25.2.90\n\n2016-11-26  Karl Fogel  <kfogel@red-bean.com>\n\n\tHandle TeX comments when making new paragraph\n\n\t* lisp/textmodes/tex-mode.el (tex-handle-newline): New function.\n\t  Handle comment case directly, and dispatch to `tex-terminate-paragraph'\n\t  for original behavior in non-comment case.\n\t  (tex-mode-map): Bind above to C-j, replacing `tex-terminate-paragraph'.\n\n2016-11-25  Eli Zaretskii  <eliz@gnu.org>\n\n\tRestore keystroke echo in 'C-q'\n\n\t* lisp/simple.el (read-quoted-char): Use 'read-event' instead of\n\t'read-key', to avoid losing the keystroke echo in 'C-q'.  (Bug#24635)\n\n2016-11-25  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of 'current-word'\n\n\t* lisp/simple.el (current-word): Clarify and improve the doc\n\tstring.  (Bug#24979)\n\n2016-11-25  Chunyang Xu  <mail@xuchunyang.me>\n\n\tFix a typo in an Eshell defcustom\n\n\t* lisp/eshell/esh-mode.el (eshell-scroll-to-bottom-on-output): Fix\n\ta typo in the 'others' standard value.  (Bug#24983)\n\n2016-11-24  Hong Xu  <hong@topbug.net>  (tiny change)\n\n\tMinor copyedits of electric-pair-mode\n\n\t* doc/emacs/programs.texi (Matching): Add index entries.  Fix\n\ttypos.  (Bug#25012)\n\n2016-11-24  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix documentation of 'invocation-directory'\n\n\t* doc/lispref/os.texi (System Environment): Fix wording of the\n\tdescription of 'invocation-directory'.  (Bug#24999)\n\n2016-11-23  Glenn Morris  <rgm@gnu.org>\n\n\t* admin/authors.el (authors-aliases): Add an entry.\n\n2016-11-22  Philipp Stephani  <phst@google.com>\n\n\tGuard terminal parameter in XTerm mouse mode\n\n\tIt has been observed (in the HTerm terminal emulator) that the\n\tevent stored in the 'xterm-mouse-last-down' terminal parameter gets\n\toverwritten during a mouse drag operation, causing Emacs to attempt to\n\tsynthesize the non-existing <drag-mouse-0> event.  Copy the event into\n\tthe terminal parameter to protect against such modifications.\n\n\t* lisp/xt-mouse.el (xterm-mouse-translate-1): Guard against modification\n\tof input event list.\n\n2016-11-21  Nicolas Petton  <nicolas@petton.fr>\n\n\t* etc/AUTHORS: Regenerate the AUTHORS file\n\n2016-11-21  Nicolas Petton  <nicolas@petton.fr>\n\n\tUpdate ChangeLog files and authors.el\n\n\t* admin/authors.el (authors-renamed-files-alist): Add entries for\n\t  obsolete files.\n\t* ChangeLog.2: Update.\n\n2016-11-21  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix menu bindings of Dired 'A' and 'Q' commands\n\n\t* lisp/dired.el (dired-mode-map): Rebind \"Search Files\" and \"Query\n\tReplace in Files\" menu items to 'dired-do-find-regexp' and\n\t'dired-do-find-regexp-and-replace', respectively.  (Bug#24977)\n\n2016-11-20  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid errors in shr-pixel-column due to dedicated windows\n\n\t* lisp/net/shr.el (shr-pixel-column): If we are switching to\n\tanother buffer in the selected window, make that window\n\ttemporarily non-dedicated.  (Bug#24950)\n\n2016-11-20  Tino Calancha  <tino.calancha@gmail.com>\n\n\tUpdate format-time-string documentation\n\n\t* doc/lispref/os.texi (Time Parsing):\n\tDocument %F, %g, %G, %u and %V.\n\n2016-11-19  Eli Zaretskii  <eliz@gnu.org>\n\n\t* admin/release-process: Update versions and blocking bug numbers.\n\n2016-11-18  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of functions that accept time values\n\n\t* doc/lispref/os.texi (Time Calculations): Mention the meaning of\n\t'nil' or a scalar number as the time-value argument.  Add a\n\tcross-reference to 'float-time' for computing a time difference as\n\ta scalar number of seconds.\n\n\t* src/editfns.c (Fformat_time_string, Ftime_less_p)\n\t(Ftime_subtract, Ftime_add, Fdecode_time, Fcurrent_time_string)\n\t(Fcurrent_time_zone): Mention in the doc strings the meaning of\n\tnil argument and the fact that a time value can be a scalar number\n\tof seconds since the epoch.\n\t(Ftime_subtract): Mention 'float-time'.\n\n2016-11-18  Daniel Colascione  <dancol@dancol.org>\n\n\tSpeed up initialization by preferring /dev/urandom to GnuTLS\n\n\t* src/sysdep.c (init_random): Try /dev/urandom before GnuTLS.\n\n\t(cherry picked from commit a37eba849eddc41375ad73974f6fcb1258aa8eba)\n\n2016-11-18  Glenn Morris  <rgm@gnu.org>\n\n\tAdd a comment in generated refcards about the source\n\n\t* etc/refcards/calccard.tex, etc/refcards/cs-dired-ref.tex:\n\t* etc/refcards/cs-refcard.tex, etc/refcards/cs-survival.tex:\n\t* etc/refcards/de-refcard.tex, etc/refcards/dired-ref.tex:\n\t* etc/refcards/fr-dired-ref.tex, etc/refcards/fr-refcard.tex:\n\t* etc/refcards/fr-survival.tex, etc/refcards/gnus-refcard.tex:\n\t* etc/refcards/orgcard.tex, etc/refcards/pl-refcard.tex:\n\t* etc/refcards/pt-br-refcard.tex, etc/refcards/refcard.tex:\n\t* etc/refcards/ru-refcard.tex, etc/refcards/sk-dired-ref.tex:\n\t* etc/refcards/sk-refcard.tex, etc/refcards/sk-survival.tex:\n\t* etc/refcards/survival.tex, etc/refcards/vipcard.tex:\n\t* etc/refcards/viperCard.tex: Add comment about the source.\n\n2016-11-17  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tjs-mode: Fix indent problem after a regexp\n\n\t* lisp/progmodes/js.el (js--looking-at-operator-p): Check that the\n\tslash is not ending a regexp (bug#24854).\n\n2016-11-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix sluggish display of symbols in UTF-8 language environment\n\n\t* lisp/international/fontset.el (setup-default-fontset): Make sure\n\tSymbola and FreeMono are set up in the default fontset as belonging\n\tto the \"iso10646-1\" registry.  In the UTF-8 locale, this avoids a\n\tlong and futile search for a suitable font, whose side effect is a\n\tlot of consing, which then hits the font-cache compacting issue,\n\tand causes very sluggish redisplay of characters displayed by\n\tthese fonts.  All this happens because the default for the\n\tregistry is \"iso8859-1\".  (Bug#24953)\n\n2016-11-16  Glenn Morris  <rgm@gnu.org>\n\n\tDon't confuse how Texinfo outputs @var with the input\n\n\t* doc/emacs/rmail.texi (Movemail):\n\t* doc/lispref/control.texi (Pattern matching case statement):\n\t* doc/lispref/frames.texi (Size and Position):\n\t* doc/lispref/processes.texi (Asynchronous Processes):\n\t* doc/lispref/text.texi (Document Object Model):\n\t* doc/lispref/windows.texi (Coordinates and Windows):\n\tDo not upper-case the argument of @var.\n\n2016-11-16  Glenn Morris  <rgm@gnu.org>\n\n\t* doc/lispref/display.texi (Scroll Bars):\n\t* doc/lispref/frames.texi (Size and Position):\n\t* doc/lispref/windows.texi (Window Sizes): Fix arglist typos.\n\n\t* doc/emacs/cmdargs.texi (Initial Options): Copyedit for --daemon.\n\n2016-11-15  Eli Zaretskii  <eliz@gnu.org>\n\n\tMore fixes in copyright notices in etc/refcards/\n\n\t* etc/refcards/calccard.tex:\n\t* etc/refcards/cs-dired-ref.tex:\n\t* etc/refcards/cs-refcard.tex:\n\t* etc/refcards/cs-survival.tex:\n\t* etc/refcards/de-refcard.tex:\n\t* etc/refcards/dired-ref.tex:\n\t* etc/refcards/fr-dired-ref.tex:\n\t* etc/refcards/fr-refcard.tex:\n\t* etc/refcards/fr-survival.tex:\n\t* etc/refcards/orgcard.tex:\n\t* etc/refcards/pl-refcard.tex:\n\t* etc/refcards/pt-br-refcard.tex:\n\t* etc/refcards/refcard.tex:\n\t* etc/refcards/ru-refcard.tex:\n\t* etc/refcards/sk-dired-ref.tex:\n\t* etc/refcards/sk-refcard.tex:\n\t* etc/refcards/sk-survival.tex:\n\t* etc/refcards/survival.tex:\n\t* etc/refcards/vipcard.tex:\n\t* etc/refcards/viperCard.tex: Change \"GNU Emacs\" to \"this\n\tdocument\" in copyright notices.  (Bug#24520)\n\n2016-11-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tUpdate copyright text in refcards\n\n\t* etc/refcards/viperCard.tex:\n\t* etc/refcards/vipcard.tex:\n\t* etc/refcards/survival.tex:\n\t* etc/refcards/sk-survival.tex:\n\t* etc/refcards/sk-dired-ref.tex:\n\t* etc/refcards/sk-refcard.tex:\n\t* etc/refcards/ru-refcard.tex:\n\t* etc/refcards/refcard.tex:\n\t* etc/refcards/pt-br-refcard.tex:\n\t* etc/refcards/pl-refcard.tex:\n\t* etc/refcards/orgcard.tex:\n\t* etc/refcards/gnus-refcard.tex:\n\t* etc/refcards/fr-survival.tex:\n\t* etc/refcards/fr-refcard.tex:\n\t* etc/refcards/fr-dired-ref.tex:\n\t* etc/refcards/dired-ref.tex:\n\t* etc/refcards/de-refcard.tex:\n\t* etc/refcards/cs-survival.tex:\n\t* etc/refcards/cs-refcard.tex:\n\t* etc/refcards/cs-dired-ref.tex:\n\t* etc/refcards/calccard.tex: Update the copyright blurb.  (Bug#24520)\n\n2016-11-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix Outline command names\n\n\t* doc/emacs/text.texi (Foldout): Use the outline-* names instead\n\tof the obsolete aliases.  (Bug#24890)\n\n2016-11-10  Philipp Stephani  <phst@google.com>\n\n\tSend text received by bracketed paste to process\n\n\tSee Bug#24639.\n\n\t* lisp/term.el (term--xterm-paste): New function.\n\t(term-raw-map): Use it.\n\t(xterm--pasted-text): Declare function from xterm.el.\n\n2016-11-10  Alan Mackenzie  <acm@muc.de>\n\n\tCorrect the statement about programming modes always running prog-mode-hook.\n\n\t* doc/emacs/modes.texi (Major Modes): Amend the statement about programming\n\tmodes running prog-mode-hook to say that it applies to many (not all) such\n\tmodes, and specifying exactly which modes.\n\n2016-11-10  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of 'occur'\n\n\t* doc/emacs/search.texi (Other Repeating Search): Clarify how to\n\tuse Occur with search strings from last Isearch.  (Bug#24890)\n\n2016-11-09  Noam Postavsky  <npostavs@gmail.com>\n\n\tDo call debugger on failed cl-assert\n\n\t\"Don't call debug on failed cl-assert...\" removed the call to `debug' in\n\tcl--assertion-failed because `debug' calls `kill-emacs' in batch mode,\n\tthus messing up ert test runs.  However, calling the debugger is useful\n\tbecause it allows catching failed assertions even inside\n\t`condition-case' calls.  The problem with ert can be avoided by calling\n\t`debugger' instead of `debug' directly, since ert installs its own\n\tdebugger while running tests.\n\n\t* lisp/emacs-lisp/cl-preloaded.el (cl--assertion-failed): Call\n\t`debugger' if `debug-on-error' is non-nil.\n\n2016-11-09  Daniel Colascione  <dancol@dancol.org>\n\n\tAvoid infloop in python\n\n\tFix bug#24905\n\n\t* lisp/progmodes/python.el (python-info-docstring-p): Improve\n\tinfloop avoidance: replace (bobp) with generic test for\n\tforward progress.\n\t* test/automated/python-tests.el (python-bob-infloop-avoid): Add\n\ttest for bug#24905\n\n2016-11-07  Eli Zaretskii  <eliz@gnu.org>\n\n\tDon't refer to obsolete FEATURE-unload-hook\n\n\t* doc/lispref/tips.texi (Coding Conventions): Refer to\n\tFEATURE-unload-function rather than its obsolete variant\n\tFEATURE-unload-hook.  (Bug#24890)\n\n2016-11-07  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of dabbrevs\n\n\t* lisp/dabbrev.el (dabbrev-expand): Doc fix.  (Bug#24890)\n\n\t* doc/emacs/abbrevs.texi (Dynamic Abbrevs): Mention\n\t'dabbrev-check-all-buffers', 'dabbrev-check-other-buffers', and\n\t'dabbrev-ignored-buffer-names' and their purpose.  (Bug#24890)\n\n2016-11-07  Eli Zaretskii  <eliz@gnu.org>\n\n\t* lisp/chistory.el (list-command-history): Doc fix.  (Bug#24890)\n\n\t* lisp/simple.el (set-mark-command): Doc fix.  (Bug#24890)\n\n2016-11-07  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of some Help commands\n\n\t* doc/emacs/help.texi (Help Mode): Fix mistake in key sequences.\n\tMention the 'l' and 'r' keys.\n\t(Misc Help): Mention that 'C-h m' describes key bindings.\n\t(Bug#24890)\n\n2016-11-07  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix documentation of yes-or-no prompts\n\n\t* doc/emacs/mini.texi (Yes or No Prompts): Fix mistakes in key\n\tsequences.  (Bug#24890)\n\n2016-11-07  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix documentation of partial completion style\n\n\t* doc/emacs/mini.texi (Completion Styles): Fix the description of\n\tthe wildcard '*'.  (Bug#24890)\n\n2016-11-07  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix documentation of the mode line on emacsclient frames\n\n\t* doc/emacs/screen.texi (Mode Line): Document the '@' indicator on\n\temacsclient frames.\n\n2016-11-07  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix description of 'C-z' in User manual\n\n\t* doc/emacs/entering.texi (Exiting): 'C-z' is bound to\n\t'suspend-frame'.  (Bug#24890)\n\n2016-11-07  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove and clarify documentation of Outline Mode\n\n\t* doc/emacs/text.texi (Outline Visibility): Use the outline-*\n\tnames instead of the obsolete aliases.  (Bug#24890)\n\n\t* lisp/outline.el (outline-hide-sublevels, outline-hide-other)\n\t(outline-hide-body): Doc fixes.  (Bug#24890)\n\n2016-11-06  Eli Zaretskii  <eliz@gnu.org>\n\n\tAdd Emacs version number to nt/README.W32\n\n\t* nt/README.W32: Include the version number of the latest Emacs\n\trelease.\n\n\t* admin/admin.el (set-version): Update the version in nt/README.W32.\n\n2016-11-06  Noam Postavsky  <npostavs@gmail.com>\n\n\tFix python-mode hideshow regexp\n\n\t2015-02-07 \"Fix hideshow integration[...]\" changed the regexp added to\n\t`hs-special-modes-alist' so that it worked when not searching from the\n\tbeginning of the line.  However, this allows matching tokens ending in\n\t\"def\" or \"class\", not just those keywords.  This results in an infinite\n\tloop in hs-hide-all (Bug #24815).\n\n\t* lisp/progmodes/python.el (python-mode): Add symbol boundaries around\n\tthe def|class matching part of the regexp added to\n\ths-special-modes-alist.\n\n2016-11-06  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tModernize usage of 'macOS' in doc and comments\n\n\tApple changed the spelling of its operating system again, to \"macOS\",\n\teffective with macOS 10.12 Sierra (2016-09-20).  Change Emacs\n\tdocumentation and comments to match this.  Stick with older OS\n\tspellings (\"OS X\", \"Mac OS X\") when talking about older releases where\n\tthe older names are more correct.\n\n2016-11-06  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPrefer comments /* like this */ in C code\n\n\tEmacs C code assumes C99 features, but has long used traditional\n\tcomments /* like this */ instead of C99-style comments // like this.\n\tStick with traditional comments for now, partly for style, partly as\n\tit may be safer with compilers that are not fully in C99 mode.\n\n2016-11-05  Noam Postavsky  <npostavs@gmail.com>\n\n\t* doc/lispref/loading.texi (Autoload): Better link (Bug#24845).\n\n2016-11-05  Eli Zaretskii  <eliz@gnu.org>\n\n\tClarify documentation of face attribute functions\n\n\t* doc/lispref/display.texi (Attribute Functions): Make sure to\n\tdocument that an omitted FRAME argument means the same as nil.\n\t(Bug#24879)\n\n2016-11-05  Noam Postavsky  <npostavs@gmail.com>\n\n\tDon't call debug on failed cl-assert\n\n\tDoing this causes problems when running ert tests, for\n\tinstance (Bug#24778).  The call to `debug` when `debug-on-error' is\n\tnon-nil was introduced in 2015-02-14 \"* lisp/emacs-lisp/cl*.el: Use\n\tdefine-inline and move some code...\".\n\n\t* lisp/emacs-lisp/cl-preloaded.el (cl--assertion-failed): Don't call\n\t`debug' directly.\n\n2016-11-04  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\tUpdate README for precompiled windows Emacs.\n\n\t * nt/README.W32: Describe 64 and 32-bit downloads, optional\n\t   dependencies bundle. Remove old material on sourcing dependencies.\n\t   Remove references to Windows 95. Update GUI references to recent\n\t   Windows. Remove references to Usenet.\n\n2016-11-04  Hong Xu  <hong@topbug.net>\n\n\tClarify documentation of 'vc-responsible-backend' wrt symlinks\n\n\t* lisp/vc/vc.el (vc-responsible-backend): Clarify that symlinks\n\tare not resolved when the VC backend is reported.\n\n\t* doc/lispref/files.texi (Truenames): Document\n\t'vc-responsible-backend'.  (Bug#23436)\n\t* doc/emacs/maintaining.texi (Version Control Systems): Fix a\n\ttypo.\n\n2016-11-04  Eli Zaretskii  <eliz@gnu.org>\n\n\tClarify doc string of 'transpose-sexps'\n\n\t* lisp/simple.el (transpose-sexps): Clarify the conditions for\n\ttransposing sexps that are lists or strings.  Mention the effect\n\tof the prefix argument.  (Bug#24860)\n\n2016-11-04  Tibor Cs\u00f6g\u00f6r  <tibi@tiborius.net>  (tiny change)\n\n\tFix docstring of 'browse-url-firefox-new-window-is-tab'\n\n\t* lisp/net/browse-url.el (browse-url-firefox-new-window-is-tab):\n\tRemove obsolete note from docstring (obsoleted by previous commits).\n\t(Bug#24843)\n\n2016-11-04  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of 'font-lock-remove-keywords'\n\n\t* doc/lispref/modes.texi (Customizing Keywords): Clarify the\n\t'keywords' argument of 'font-lock-remove-keywords'.  Suggested by\n\tHong Xu <hong@topbug.net>.  (Bug#24830)\n\n2016-11-04  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix documentation of the command summary key\n\n\t* doc/misc/info.texi (Help-^L, Help-Xref, Top): Emacs Info uses\n\t'?' for the summary of commands, whereas the stand-alone reader\n\tuses 'H'.  (Bug#24825)\n\n2016-11-04  Eli Zaretskii  <eliz@gnu.org>\n\n\tMark relocation workarounds with REL_ALLOC\n\n\t* src/search.c (boyer_moore): Mark workarounds for ralloc.c\n\trelocation of buffer text with \"#ifdef REL_ALLOC\".\n\n2016-11-02  Thomas Fitzsimmons  <fitzsim@fitzsim.org>\n\n\tFix documentation for 'eudc-options-file'\n\n\t* doc/misc/eudc.texi (The Server Hotlist): Update the default\n\tvalue of 'eudc-options-file'.\n\n\tBackport:\n\n\t(cherry picked from commit 0575fd95d0b92a9a0ebff8df183a449190f74dbc)\n\n2016-11-02  Tibor Cs\u00f6g\u00f6r  <tibi@tiborius.net>\n\n\tFix documentation of 'eudc-inline-expansion-format'\n\n\t* doc/misc/eudc.texi (Inline Query Expansion): Fix the default value of\n\t'eudc-inline-expansion-format'. (Bug#24840)\n\n\tBackport:\n\n\t(cherry picked from commit 1fef1387c387d80f8ece326621539b89a6965702)\n\n2016-10-31  Cl\u00e9ment Pit--Claudel  <clement.pitclaudel@live.com>\n\n\tpython.el: Fix detection of native completion in Python 3 (bug #24401)\n\n\tWith Python 3.5, (python-shell-completion-native-get-completions ... \"\")\n\twould return an empty list, causing python.el to think that native\n\tcompletion was unavailable (the difference between Python 2 and Python 3\n\tis due to https://bugs.python.org/issue25660).\n\n\t* lisp/progmodes/python.el (python-shell-completion-native-try): Use \"_\"\n\t  to check whether native completion is available instead of \"\".\n\n2016-10-26  Glenn Morris  <rgm@gnu.org>\n\n\t* Makefile.in (install-arch-indep): Skip etc/refcards/emacsver.tex.in.\n\n2016-10-26  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/subr.el (set-transient-map): Exit for unbound events (bug#24755).\n\n2016-10-26  Eli Zaretskii  <eliz@gnu.org>\n\n\tUpdate category-table for Chinese characters\n\n\t* lisp/international/characters.el (standard-category-table):\n\tUpdate the ranges of Han and Chinese characters.  (Bug#24798)\n\n2016-10-26  Noam Postavsky  <npostavs@gmail.com>\n\n\tInhibit buffer relocation during regex searches\n\n\t* src/search.c (looking_at_1, fast_looking_at, search_buffer): Prevent\n\trelocation of buffer contents during calls to re_search_2.  This ensures\n\tthe pointers into buffer text won't be invalidated by\n\tr_alloc_sbrk (called from malloc with configurations where\n\tREL_ALLOC=yes).\n\n2016-10-26  Noam Postavsky  <npostavs@gmail.com>\n\n\tRevert fixes to allocation of regex matching\n\n\tThe fix was not complete, and completing it was proving too complicated.\n\n\t- Revert \"* src/regex.c (re_search_2): Make new code safe for\n\t          -Wjump-misses-init.\"\n\t  This reverts commit c2a17924a57483d14692c8913edbe8ad24b5ffbb.\n\t- Revert \"Port to GCC 6.2.1 + --enable-gcc-warnings\"\n\t  This reverts commit f6134bbda259c115c06d4a9a3ab5c39340a15949.\n\t- Revert \"Fix handling of allocation in regex matching\"\n\t  This reverts commit ad66b3fadb7ae22a4cbb82bb1507c39ceadf3897.\n\t- Revert \"Fix handling of buffer relocation in regex.c functions\"\n\t  This reverts commit ee04aedc723b035eedaf975422d4eb242894121b.\n\n2016-10-25  Eli Zaretskii  <eliz@gnu.org>\n\n\tComment for bug#24793\n\n\t* lisp/info.el (Info-mode-font-lock-keywords): Add a comment\n\texplaining why `..' quoting is not fontified using the\n\t'Info-quoted' face.  (Bug#24793)\n\n2016-10-25  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDefault REL_ALLOC to 'no'\n\n\tThis should make ralloc-related bugs less likely on GNU/Linux\n\tsystems with bleeding-edge glibc.  See the email thread containing:\n\thttp://lists.gnu.org/archive/html/emacs-devel/2016-10/msg00801.html\n\tDo not merge to master.\n\t* configure.ac (REL_ALLOC): Default to 'no' on all platforms, not\n\tmerely on platforms with Doug Lea malloc.  Although bleeding-edge\n\tglibc no longer exports __malloc_initialize_hook and so longer\n\tpasses the configure-time test for Doug Lea malloc, ralloc tickles\n\tlongstanding bugs like Bug#24358 and Bug#24764 and Emacs is likely\n\tto be more reliable without it.  This patch is not needed on\n\tmaster, which uses hybrid malloc in this situation.\n\n2016-10-24  Eli Zaretskii  <eliz@gnu.org>\n\n\tYet another fix for using pointers into buffer text\n\n\t* src/search.c (boyer_moore): Update pointers to buffer text\n\tafter call to set_search_regs.  (Bug#24358)\n\n2016-10-24  Eli Zaretskii  <eliz@gnu.org>\n\n\tAnother fix for using pointer to buffer text\n\n\t* src/search.c (Freplace_match): Move the call to BYTE_POS_ADDR\n\tafter the call to xpalloc, to avoid the danger of buffer text\n\trelocation after its address was taken.  (Bug#24358)\n\n2016-10-24  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix Bug#24478\n\n\t* lisp/net/tramp-sh.el (tramp-histfile-override): Change default value\n\tto \"~/.tramp_history\".\n\t(tramp-open-shell): Check proper HISTFILE setting.\n\t(tramp-maybe-open-connection): Cleanup also for errors.  (Bug#24478)\n\n2016-10-24  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort --enable-gcc-warnings to bleeding-edge glibc\n\n\tBleeding-edge glibc sets emacs_cv_var_doug_lea_malloc to 'no'.\n\tDo not merge to master.\n\t* configure.ac: Check for valloc decl when compiling gmalloc.c.\n\t* src/gmalloc.c (emacs_abort) [emacs]: Adjust decl to match\n\twhat is in lisp.h.  Remove duplicate decl.\n\t(aligned_alloc): #undef before defining.\n\t(aligned_alloc, memalign) [!MSDOS]: Declare.\n\t(valloc) [HAVE_DECL_VALLOC]: Remove duplicate decl.\n\n2016-10-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix handling of buffer relocation in regex.c functions\n\n\t* src/search.c (search_buffer): Updated the base pointer to buffer\n\ttext after the call to re_search_2.  (Bug#24358)\n\n2016-10-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid relocating buffers while libxml2 reads its text\n\n\t* src/xml.c (parse_region) [REL_ALLOC]: Freeze the ralloc arena\n\twhile libxml2 reads the current buffer's text.  (Bug#24764)\n\n2016-10-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tAttempt to catch reads from a buffer that is relocated\n\n\t* src/xml.c (parse_region): Add assertion to ensure buffer text is\n\tnot relocated while libxml2 is reading it.  (Bug#24764)\n\n2016-10-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tRevert \"* lisp/simple.el (process-menu-mode, list-processes--refresh):\"\n\n\tThis reverts commit a4285bcb1114e29200001f33af9b4802167d6140.\n\tDo not merge to master!\n\n2016-10-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tRevert \"* lisp/ibuf-ext.el (ibuffer-do-shell-command-file):\"\n\n\tThis reverts commit b0c447e4668116cecfda91d0203cb7cac2486d92.\n\tDo not merge to master!\n\n2016-10-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tRevert \"* lisp/ibuffer.el (ibuffer): Improve 'other-window' case.  (Bug#23617)\"\n\n\tThis reverts commit cf3c19b0298236293d9c56d5ba425af4f42c1f8e.\n\tDo not merge to master!\n\n2016-10-23  Eli Zaretskii  <eliz@gnu.org>\n\n\t;* src/w32heap.c: Fix typo and wording of the comments.\n\n2016-10-23  Paul Eggert  <eggert@cs.ucla.edu>\n\n\telectric-quote mode no longer worries about coding\n\n\t* doc/emacs/text.texi (Quotation Marks), etc/NEWS: Document this.\n\t* lisp/electric.el (electric--insertable-p): Remove.\n\tAll uses removed (Bug#24759).\n\n2016-10-23  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* src/regex.c (re_search_2): Make new code safe for -Wjump-misses-init.\n\n2016-10-23  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort to GCC 6.2.1 + --enable-gcc-warnings\n\n\t* src/regex.c (ENSURE_FAIL_STACK, re_search_2):\n\tRedo recent regex changes to avoid complaints from GCC 6.2.1 when\n\tEmacs is configured with --enable-gcc-warnings.  Also, work around\n\tGCC bug 78081, which was uncovered by this new code.\n\n2016-10-22  Noam Postavsky  <npostavs@gmail.com>\n\n\tExplain how to debug emacsclient lisp errors\n\n\t* doc/lispref/debugging.texi (Error Debugging): Mention that\n\tdebug-on-signal is useful for getting backtraces from\n\temacsclient (Bug#24616).\n\n2016-10-22  Noam Postavsky  <npostavs@gmail.com>\n\n\tLet describe-function work for lambda again\n\n\tSince commit \"* lisp/help-fns.el (describe-function): More type\n\tchecking[...]\", `describe-function' throws a user-error when given a\n\tnon-symbol.  This prevents the [back] button in a *Help* buffer from\n\tworking when the page it goes back to describes an anonymous\n\tfunction (e.g., the result of `describe-key' on a key which is bound to\n\ta lambda form).\n\n\t* lisp/help-fns.el (describe-function): Move the checks on FUNCTION\n\tbeing an fbound symbol into the `interactive' form.  This allows\n\tnon-interactive calls to pass an anonymous function (Bug #24221).  Note\n\tthat passing a non-bound symbol non-interactively will still trigger a\n\t`void-function' error from `describe-function-1'.\n\n2016-10-22  Noam Postavsky  <npostavs@gmail.com>\n\n\tFix kill-line's docstring\n\n\t* lisp/simple.el (kill-line): The effect of show-trailing-whitespace is\n\timportant lines with *no* nonblanks (Bug #16654).\n\n2016-10-22  Noam Postavsky  <npostavs@gmail.com>\n\n\tFix handling of allocation in regex matching\n\n\t`re_match_2_internal' uses pointers to the lisp objects that it\n\tsearches.  Since it may call malloc when growing the \"fail stack\", these\n\tpointers may be invalidated while searching, resulting in memory\n\tcurruption (Bug #24358).\n\n\tTo fix this, we check the pointer that the lisp object (as specified by\n\tre_match_object) points to before and after growing the stack, and\n\tupdate existing pointers accordingly.\n\n\t* src/regex.c (STR_BASE_PTR): New macro.\n\t(ENSURE_FAIL_STACK, re_search_2): Use it to convert pointers into\n\toffsets before possible malloc call, and back into pointers again\n\tafterwards.\n\t(POS_AS_IN_BUFFER): Add explanatory comment about punning trick.\n\t* src/search.c (search_buffer): Instead of storing search location as\n\tpointers, store them as pointers and recompute the corresponding address\n\tfor each call to `re_search_2'.\n\t(string_match_1, fast_string_match_internal, fast_looking_at):\n\t* src/dired.c (directory_files_internal): Set `re_match_object' to Qnil\n\tafter calling `re_search' or `re_match_2'.\n\t* src/regex.h (re_match_object): Mention new usage in commentary.\n\n2016-10-21  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* lisp/electric.el (electric-quote-mode): Improve doc (Bug#24759).\n\n2016-10-20  Tino Calancha  <tino.calancha@gmail.com>\n\n\tvc-region-history: Search just on lines intersecting the region\n\n\t* lisp/vc/vc.el (vc-region-history): If region ends in the beginning\n\tof a line, then exclude that line from the search (Bug#24725).\n\n2016-10-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix documentation of 'alist-get'\n\n\t* doc/lispref/lists.texi (Association Lists): Fix the signature of\n\t'alist-get'.  Fix the markup, the wording, and the punctuation in\n\tthe description. (Bug#24740)\n\n2016-10-19  Eli Zaretskii  <eliz@gnu.org>\n\n\t* src/regex.h (re_match_object): Improve commentary.\n\n2016-10-19  Alan Third  <alan@idiocy.org>\n\n\tFix cursor at bottom left of rectangle (bug#24364)\n\n\t* lisp/rect.el (rectangle--col-pos): Don't assume point at EOL doesn't\n\trequire rectangle--point-crutches to be set.\n\n2016-10-19  Michael Albinus  <michael.albinus@gmx.de>\n\n\tChange Tramp version to \"2.2.13.25.2\"\n\n\t* doc/misc/trampver.texi:\n\t* lisp/net/trampver.el: Change version to \"2.2.13.25.2\".\n\n2016-10-19  Eli Zaretskii  <eliz@gnu.org>\n\n\t* lisp/emacs-lisp/autoload.el (update-directory-autoloads): Fix last change.\n\n2016-10-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tDon't scan compiled module files for autoloads\n\n\t* lisp/emacs-lisp/autoload.el (update-directory-autoloads): Ignore\n\tcompiled module files.  Make sure the extension really ends the\n\tfile name.\n\n2016-10-18  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix Bug#24698\n\n\t* lisp/net/tramp-sh.el (tramp-open-connection-setup-interactive-shell):\n\tDon't send \"stty tab0\" to *BSD and Darwin machines.  (Bug#24698)\n\n2016-10-18  Eli Zaretskii  <eliz@gnu.org>\n\n\t* lisp/subr.el (start-process): Doc fix.  (Bug#24693)\n\n2016-10-18  G\u00f6ktu\u011f Kayaalp  <self@gkayaalp.com>\n\n\tFix display of vc-dir CVS file statuses in subdirectories\n\n\t* lisp/vc/vc-cvs.el (vc-cvs-dir-status-files): Use 'cvs update'\n\tinstead of 'cvs status'.  It's faster, easier to parse, and\n\trelieves us of the need to use vc-expand-dirs.  (Bug#24082)\n\t(vc-cvs-after-dir-status): Parse its output.\n\n2016-10-17  Eli Zaretskii  <eliz@gnu.org>\n\n\tUpdate URL of MS-Windows optional DLLs\n\n\t* nt/README.W32:\n\t* nt/INSTALL: Update the URL of the MS-Windows binaries of the\n\toptional libraries built with MSYS2/MinGW64 project tools.\n\n2016-10-17  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix time-related data types in 2 editfns.c functions\n\n\t* src/editfns.c (format_time_string, Fcurrent_time_zone): Pass a\n\tpointer to time_t value to emacs_localtime_rz and gmtime_r,\n\tinstead of relying on struct timespec's tv_sec member to be of\n\tcompatible type.\n\n2016-10-17  Tino Calancha  <f92capac@gmail.com>\n\n\t* lisp/simple.el (process-menu-mode, list-processes--refresh):\n\tInclude PID.  (Bug#21725)\n\n\t(cherry picked from commit b7adc2f23787eb72015cd705b873e229db6a5049)\n\n2016-10-17  Tino Calancha  <f92capac@gmail.com>\n\n\t* lisp/ibuf-ext.el (ibuffer-do-shell-command-file):\n\tFix non-file-visiting-buffer case.  (Bug#22678)\n\n\t(cherry picked from commit 738738259ba77fe17e433c64e0758ea59ab5bc75)\n\n2016-10-17  Tino Calancha  <f92capac@gmail.com>\n\n\t* lisp/ibuffer.el (ibuffer): Improve 'other-window' case.  (Bug#23617)\n\n\t(cherry picked from commit f4ef1a1fea15aa58fbb5e7a59bff260720658e49)\n\n2016-10-17  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort to Ubuntu 16.10, which needs gcc -nopie\n\n\t* configure.ac (emacs_cv_prog_cc_no_pie): Rename from\n\temacs_cv_prog_cc_nopie.  All usages changed.  Check for -no-pie in\n\tpreference to -nopie (Bug#24682).  Backport from master.\n\n2016-10-17  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/cus-start.el (exec-path): Handle nil elements.  (Bug#24471)\n\n2016-10-16  Andreas Politz  <politza@hochschule-trier.de>\n\n\tCatch the imenu-unavailable error in sh-mode completion table\n\n\t* lisp/progmodes/sh-script.el (sh--cmd-completion-table):\n\tCatch the imenu-unavailable error (bug#24238).\n\n2016-10-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tMore char-width fixes\n\n\t* lisp/international/characters.el (char-width-table): More fixes\n\taccording to the latest EastAsianWidth.txt.  (Bug#24705)\n\n2016-10-15  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix char-width-table values for some Emoji\n\n\t* lisp/international/characters.el (char-width-table): Add missing\n\trange U+1F400..U+1F43E.  (Bug#24699)\n\n\t* admin/notes/unicode: Mention the need to verify char-width-table\n\tsetting against data in EastAsianWidth.txt.\n\n2016-10-15  Eli Zaretskii  <eliz@gnu.org>\n\n\tKeep point when switching from and to *terminal* buffer\n\n\t* lisp/term.el (term-reset-size): Don't reset the size if it\n\tdidn't change.  If the size did change, restore point after\n\tadjusting the size.  (Bug#24465)\n\n2016-10-15  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* INSTALL: Use correct Emacs release number 25.\n\n2016-10-14  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid crashes due to objects read with the #n=object form\n\n\t* src/lread.c (read1): Use Fcons for 'placeholder', not AUTO_CONS,\n\tbecause elements of the list in 'read_objects' cannot be allocated\n\toff the stack.  (Bug#24640)\n\n2016-10-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove doc string of 'completion-at-point-functions'\n\n\t* lisp/minibuffer.el (completion-at-point-functions): Doc fix.\n\t(Bug#24663)\n\n2016-10-13  Philipp Stephani  <phst@google.com>\n\n\tFix crash in evaluating functions\n\n\tSee Bug#24673\n\n\t* src/eval.c (funcall_lambda): Fix crash for bogus functions such\n\tas (closure).\n\n2016-10-13  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* src/filelock.c (current_lock_owner): Update comment.\n\n2016-10-12  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort --enable-gcc-warnings to GCC 6.2.1\n\n\tBackport from master.\n\t* src/conf_post.h (GNUC_PREREQ): New macro.\n\t* src/keyboard.c: Use it to work around GCC bug 54561.\n\t* src/process.c (would_block): New function.\n\t(server_accept_connection, wait_reading_process_output, send_process):\n\tUse it.\n\n2016-10-12  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tWork around Samba bug with ':' in symlink contents\n\n\t* src/filelock.c (current_lock_owner): When reading the contents\n\tof a lock, treat the UTF-8 for U+F022 as if it were ':' (Bug#24656).\n\tBackport from master.\n\n2016-10-12  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort last_marked change to full-program optimizers\n\n\t* src/alloc.c (last_marked): Now EXTERNALLY_VISIBLE.\n\n2016-10-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tAdapt GDB scripts to '--enable-check-lisp-object-type' builds\n\n\t* etc/emacs-buffer.gdb <$qnil>: New variable.\n\t(ybuffer-list, yset-buffer): Use $qnil for comparing against\n\t'nil', as direct comparison with Qnil doesn't work in a build with\n\t'--enable-check-lisp-object-type'.\n\n\t* src/.gdbinit: Adapt commands of the temporary breakpoint in\n\tinit_sys_modes to a build with '--enable-check-lisp-object-type'.\n\n2016-10-11  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid optimizing out the last_marked[] array\n\n\t* src/alloc.c <last_marked>: No longer 'static', to avoid having\n\tit optimized out in optimized builds, which then makes debugging\n\tGC problems harder.\n\n2016-10-09  Alan Mackenzie  <acm@muc.de>\n\n\tCC Mode manual: remove reference to former Emacs variable last-command-char\n\n\t* doc/misc/cc-mode.texi (Hanging Semicolons and Commas): Replace reference to\n\tvariable last-command-char by one to macro c-last-command-char.\n\n2016-10-08  Eli Zaretskii  <eliz@gnu.org>\n\n\tAllow to disable compaction of font caches\n\n\t* src/font.c (syms_of_font) <inhibit-compacting-font-caches>: New\n\tboolean variable.\n\t* src/alloc.c (compact_font_caches): Use it to bypass the call to\n\tcompact_font_cache_entry.  (Bug#24634)  (Bug#24565)\n\n\t* etc/NEWS: Mention the new variable.\n\n2016-10-08  Eli Zaretskii  <eliz@gnu.org>\n\n\tAllow selection of font for symbols as in Emacs 24.x\n\n\t* src/fontset.c (syms_of_fontset) <use-default-font-for-symbols>:\n\tNew boolean variable.\n\t(face_for_char): Use it to fall back to pre-Emacs 25.1 behavior\n\twhen selecting fonts for displaying symbol and punctuation\n\tcharacters.  (Bug#24644)\n\n\t* etc/NEWS: Mention the new variable.\n\n2016-10-08  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix horizontal scrolling during Isearch\n\n\t* lisp/isearch.el (isearch-update): Compute the window's body\n\twidth in a way that is correct when there are no fringes.\n\t(Bug#24584)\n\n2016-10-08  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix infloop in redisplay due to truncated lines and invisible text\n\n\t* src/xdisp.c (forward_to_next_line_start): Don't call\n\t'get_next_display_element' after finding the end of line.  This\n\tavoids setting the row's end position to the wrong value when the\n\tnext screen line begins with invisible text; that wrong value\n\tcaused set_cursor_from_row position the cursor in the wrong screen\n\tline, and eventually triggered bug#24109.\n\n2016-10-07  David Engster  <deng@randomsample.de>\n\n\tgitmerge: Add cherry pick to gitmerge-skip-regexp\n\n\t* admin/gitmerge.el (gitmerge-skip-regexp): Add \"cherry picked\n\tfrom commit\", which is the string appended by 'git cherry-pick\n\t-x'.\n\n\t(cherry picked from commit f648e4866981b142fca788372e1fd9013a0bb16a)\n\n2016-10-06  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of 'menu-bar-open'\n\n\t* lisp/term/w32-win.el (w32-menu-bar-open): Clarify that sometimes\n\ttwo ESC keypresses are needed to exit the menu.\n\n\t* doc/emacs/screen.texi (Menu Bar): Qualify the description of how\n\tto exit menus.  (Bug#24596)\n\n2016-10-06  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix compilation with MinGW runtime 3.22.2 and w32api 3.18.2\n\n\t* nt/inc/ms-w32.h (_WIN32_WINNT) [!MINGW_W64]: Undefine before\n\tdefining to avoid redefinition warnings.\n\n\t* nt/inc/sys/stat.h (_SYS_STAT_H, _INC_STAT_H): Define, to avoid\n\tinclusion of sys/stat.h from the system headers, which could then\n\tlead to compilation errors due to redefinition of 'struct stat'\n\tetc.  This is needed because latest versions of MinGW runtime\n\tinclude sys/stat.h from wchar.h.\n\n\t* src/image.c (__MINGW_MAJOR_VERSION) [WINDOWSNT]: Temporarily\n\tredefine to 4 to avoid conflict between 2 definitions of\n\tMemoryBarrier.  (Bug#24613)\n\n\tDo not merge to master!\n\n2016-10-05  John Wiegley  <johnw@newartisans.com>\n\n\tAdd documentation note from Alex\n\n2016-10-05  Aurelien Aptel  <aaptel@suse.com>\n\n\t* src/alloc.c: call only non-null finalizers\n\n2016-10-04  Karl Fogel  <kfogel@red-bean.com>\n\n\tClarify that doc fixes are okay in feature freeze\n\n\t* CONTRIBUTE (branches): Explain that doc fixes are always safe, even\n\ton a release branch in feature freeze.  Tweak wording of paragraph\n\tafter that to avoid a misleading contrast.\n\n2016-10-04  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid crashes when setting the cursor\n\n\t* src/xdisp.c (display_and_set_cursor): Don't index glyphs of a\n\tglyph row if hpos is out of valid bounds.  This avoids crashes in\n\tsome rare cases.  (Bug#24614)\n\n2016-10-04  Philippe Vaucher  <philippe.vaucher@gmail.com>\n\n\tRestore 'command-debug-status' functionality\n\n\t* src/callint.c (Fcall_interactively): Bind command-debug-status\n\tto nil.  This restores functionality inadvertently removed in\n\tEmacs 25.1.  (Bug#24555)\n\n\t* lisp/subr.el (command-debug-status): Declare obsolete.\n\n\t* doc/lispref/debugging.texi (Internals of Debugger): Document\n\tthat 'command-debug-status' is obsolete.\n\n2016-10-03  Karl Fogel  <kfogel@red-bean.com>\n\n\tDocument yank behavior in the right place\n\n\t* lisp/simple.el (yank): Document the handling of the\n\t`yank-handled-properties' and `yank-excluded-properties' variables,\n\tand the `yank-handler' text property.\n\t(yank-pop): Refer to `yank' now (bug#286)\n\n\t* lisp/subr.el (insert-for-yank): Refer to `yank' now.\n\t(insert-for-yank-1): Refer to `insert-for-yank' now.\n\n\tSee this thread for discussion:\n\n\t  https://lists.gnu.org/archive/html/emacs-devel/2016-09/threads.html#00329\n\t  From: Karl Fogel\n\t  To: Emacs Devel\n\t  Subject: Question about intended behavior of 'insert-for-yank-1'.\n\t  Date: Mon, 12 Sep 2016 00:17:14 -0500\n\t  Message-ID: <874m5lr92d.fsf@red-bean.com>\n\n2016-10-03  Philipp Stephani  <phst@google.com>\n\n\tDocument nil args of compare-buffer-substrings\n\n\t* src/editfns.c (Fcompare_buffer_substrings): Document behavior when\n\tthe arguments are nil.\n\n2016-10-03  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\t* doc/misc/message.texi (Bcc Warning): Fix markup.\n\n\t* doc/misc/message.texi (Bcc Warning):\n\tDocument mml-secure-safe-bcc-list.\n\n2016-10-02  Noam Postavsky  <npostavs@gmail.com>\n\n\tDon't require isearch-update before isearch-done\n\n\tIt is useful to be able to call `isearch-done' unconditionally to\n\tensure a non-isearching state.\n\n\t* lisp/isearch.el (isearch-done): Check that `isearch--current-buffer'\n\tis a live buffer before using it (Bug #21091).\n\t* test/automated/isearch-tests.el (isearch--test-done): Test it.\n\n\t(cherry picked from commit 68f4b5292781bc331b040105c4079902b993835c)\n\n2016-10-02  Peder O. Klingenberg  <peder@klingenberg.no>\n\n\tAvoid error in icalendar--read-element\n\n\t* lisp/calendar/icalendar.el (icalendar--read-element): Avoid a regex\n\tstack overflow by not using regex to extract values from calendar\n\tevents. (Bug#24315)\n\n\t(cherry picked from commit 55dde6c1a21a792d3d75c19e612c74dd054aaf1e)\n\n2016-10-02  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMake a menu less ambiguous\n\n\t* doc/emacs/custom.texi (Key Bindings): The Modifier Keys node\n\tis about using modifier keys, not binding them (bug#10942).\n\n\t(cherry picked from commit 214f85a0a68b96a552ca605d601b33f6eef5c4ca)\n\n2016-10-02  Devon Sean McCullough  <Emacs-Hacker2012@jovi.net>\n\n\tDoc fix for url-http\n\n\t* lisp/url/url-http.el (url-http): Document better return values\n\t  (bug#13187) (tiny change)\n\n\t(cherry picked from commit 344303c8d9cb03d4778a73940e80e966280aa694)\n\n2016-10-01  Eli Zaretskii  <eliz@gnu.org>\n\n\t* lisp/frame.el (blink-cursor-delay): Doc fix.  (Bug#24372)\n\n2016-09-30  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\t* lisp/gnus/gnus-art.el (gnus-button-handle-library): Fix typo.\n\n2016-09-27  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRegexp Functions doc minor fixes\n\n\t* doc/lispref/searching.texi (Regexp Functions):\n\tFix misspelling of \u201cmatching\u201d.  Use @table for table.\n\tReformat code example to fit into info file width (Bug#17862).\n\n2016-09-27  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\tBackport mm-convert-shr-links fix from master (bug#23964)\n\n\t* lisp/gnus/mm-decode.el (mm-convert-shr-links):\n\tPreserve key bindings that shr adds (bug#23964).\n\n2016-09-26  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of 'expand-abbrev' and wrapper hooks\n\n\t* lisp/simple.el (filter-buffer-substring-functions)\n\t(buffer-substring--filter): Add a link to 'with-wrapper-hook' as\n\tthe place to look for documentation of wrapper hooks.\n\t* lisp/minibuffer.el (completion-in-region-functions)\n\t(completion--in-region): Add a link to 'with-wrapper-hook' as the\n\tplace to look for documentation of wrapper hooks.\n\t* lisp/abbrev.el (expand-abbrev, abbrev--default-expand): Clarify\n\tthe doc strings.  (Bug#24540)\n\n\t* doc/lispref/text.texi (Buffer Contents): Mention\n\t'with-wrapper-hook's doc string as the place to learn about that\n\tobsolete facility.\n\n2016-09-25  Eli Zaretskii  <eliz@gnu.org>\n\n\tMinor copyedits of MS-Windows installation instructions\n\n\t* nt/INSTALL:\n\t* nt/README.W32: Add URL of Emacs dependencies on alpha.gnu.org.\n\n2016-09-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix display of cursor when 'blink-cursor-delay' has small value\n\n\t* lisp/frame.el (blink-cursor-check, blink-cursor-mode):\n\tProtect ourselves against too small values of blink-cursor-delay.\n\tThis avoids erratic display of the cursor, or even failure to\n\tdisplay it, when user types text at high speed or leans on a key\n\tto invoke the keyboard auto-repeat feature.  (Bug#24372)\n\n2016-09-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove the doc string of 'format'\n\n\t* src/editfns.c (Fformat): Fix ambiguity in the doc string's usage\n\tof a literal period.  (Bug#24407)\n\n\tThis was backported from master\n\t(cherry picked from commit 7123896626b06c26c4e37839ab41e41980c8f433)\n\n2016-09-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove doc strings in whitespace.el\n\n\t* lisp/whitespace.el (whitespace-mode, whitespace-newline-mode)\n\t(global-whitespace-mode, global-whitespace-newline-mode): Improve\n\tthe doc strings.  (Bug#24413)\n\n\tThis was backported from master\n\t(cherry picked from commit 3462fe73351f3da5bc3ebf8296ee44dd2e6b1dbc)\n\n2016-09-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove detectability of 'next-logical-line' and 'previous-logical-line'\n\n\t* lisp/simple.el (next-line, previous-line): Mention\n\t'next-logical-line' and 'previous-logical-line' in the doc\n\tstrings.  (Bug#24443)\n\n\tThis was backported from master\n\t(cherry picked from commit e95d0d15bb1534803b0adb3c3a927c8beb7d4e79)\n\n2016-09-23  Martin Rudalics  <rudalics@gmx.at>\n\n\tFix (next-frame nil t) crash (Bug#24281)\n\n\t* src/frame.c (candidate_frame): Check minibuf argument before\n\tcomparing it to zero (Bug#24281).\n\n\tThis was backported from master\n\t(cherry picked from commit dc491c3df305a73908fe8de20b7c428a5b38c846)\n\n2016-09-23  Noam Postavsky  <npostavs@gmail.com>\n\n\tFix debugging of string-match-p errors\n\n\t* src/eval.c (call_debugger): Bind inhibit-changing-match-data to nil so\n\tthat debugger code that needs to do regexp match won't break\n\t(Bug #23949, Bug #24166, Bug#16294).\n\n\tThis was backported from master\n\t(cherry picked from commit 7fb75680b38fe0805c2ff7e9cca3bec8121ba984)\n\n2016-09-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix region display while dragging mouse\n\n\t* lisp/mouse.el (mouse-drag-track): Reset deactivate-mark in the\n\tbuffer of the drag event, to allow mark to be set and the region\n\tbe shown as we drag the mouse.  (Bug#24030)\n\n\tThis was backported from master\n\t(cherry picked from commit 7d58b02f363ab02961faa950d1ba727df96f2f19)\n\n2016-09-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix 'vertical-motion' and 'posn-at-point' under 'visual-line-mode'\n\n\t* src/xdisp.c (move_it_in_display_line_to): Don't assume we can\n\twrap on a whitespace character if it's followed by another\n\twhitespace character.  When returning under WORD_WRAP for a screen\n\tline that is continued, restore to wrap point when atpos/atx\n\tposition would be displayed on the next screen line due to\n\tline-wrap.  (Bug#23570)\n\n\tThis is backported from master\n\t(cherry picked from commit 99848b37d2c3e14c0af45fc6da437a806aa58a80)\n\n2016-09-23  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tImprove display of tex-verbatim and Info quoted\n\n\tProblem reported by Glenn Morris (Bug#19889).\n\t* doc/emacs/display.texi (Standard Faces):\n\t* doc/lispref/display.texi (Basic Faces):\n\t* etc/NEWS: Mention fixed-pitch-serif.\n\t* lisp/faces.el (face-font-family-alternatives):\n\tNew family alias Monospace Serif.\n\t(fixed-pitch-serif): New face, which uses the new family.\n\t* lisp/info.el (Info-quoted):\n\t* lisp/textmodes/tex-mode.el (tex-verbatim): Use the new face.\n\t* test/automated/font-parse-tests.el (font-parse-tests--data):\n\tAdd test case for Monospace Serif.\n\n\tThis is backport from master\n\t(cherry picked from commit 36906806ccfc0e53f1d8c365ab0d7151288b7833)\n\n2016-09-23  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDocument how to check for ImageMagick support\n\n\t* doc/lispref/display.texi (ImageMagick Images): Say how to\n\tcheck for ImageMagick support, which isn't quite obvious\n\t(bug#20702).\n\n\tThis is backport from master\n\t(cherry picked from commit faf07d646575c78d6d956ce91820ebbf38308553)\n\n2016-09-23  Tino Calancha  <f92capac@gmail.com>\n\n\tRun find-function-after-hook after finding a symbol\n\n\t* lisp/emacs-lisp/find-func.el (find-library):\n\t* lisp/help-mode.el (help-function-def, help-variable-def):\n\tRun `find-function-after-hook' inside the help-function of the\n\tbuttons (bug#22583).\n\t* etc/NEWS: Mention the change.\n\n\tThis is a backport from master.\n\t(cherry picked from commit f069d854508946bcc03e4c77ceb430748e3ab6d7)\n\n2016-09-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument 'timerp'\n\n\t* doc/lispref/os.texi (Timers): Document 'timerp'.  (Bug#24511)\n\tImprove indexing.\n\n2016-09-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of overlay priorities\n\n\t* doc/lispref/display.texi (Overlay Properties): Minor copyedits.\n\tBy popular demand, mention the '(PRIMNARY . SECONDARY)' form of\n\toverlay properties used for the region.  (Bug#20253)\n\n2016-09-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix 'dired-compress-files'\n\n\t* lisp/dired-aux.el (dired-do-compress-to): Make sure the archive\n\tfile name is fully expanded by running it through\n\t'expand-file-name'.  Suggested by Drew Adams <drew.adams@oracle.com>.\n\t(Bug#24486)  Doc fix.\n\t* lisp/dired.el: Regenerated changes in autoloads.\n\n2016-09-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tUpdate commentary of STRING_CHAR and FETCH_MULTIBYTE_CHAR\n\n\t* src/character.h (STRING_CHAR):\n\t* src/buffer.h (FETCH_MULTIBYTE_CHAR): Update commentary: these\n\ttwo macros no longer do any character unification, so the caveats\n\tin those comments are no longer pertinent.\n\n2016-09-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tIncrement Emacs version to 25.1.50\n\n\t* README:\n\t* configure.ac:\n\t* etc/NEWS:\n\t* msdos/sed2v2.inp: Bump the version to 25.1.50.\n\n2016-09-21  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument the optional zlib library in MS-Windows builds\n\n\t* nt/README.W32:\n\t* nt/INSTALL.W64:\n\t* nt/INSTALL: Mention the optional text decompression support and\n\tthe zlib library.\n\n2016-09-21  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix tagging of DEFUN by etags\n\n\t* lib-src/etags.c (C_entries): Tag DEFUN twice: once with its C\n\tname, and then again with its Lisp name.  This restores the\n\tability to find Lisp primitives by their C name, which was lost\n\twhen the etags back-end was switched to a more strict search\n\tcriteria.\n\n\t* test/etags/ETAGS.good_1:\n\t* test/etags/ETAGS.good_2:\n\t* test/etags/ETAGS.good_3:\n\t* test/etags/ETAGS.good_4:\n\t* test/etags/ETAGS.good_5:\n\t* test/etags/ETAGS.good_6:\n\t* test/etags/CTAGS.good: Adapt to the changes in etags.c wrt\n\ttagging DEFUN.\n\n2016-09-21  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid resetting track-mouse by mouse clicks\n\n\t* lisp/mouse.el (mouse-drag-line, mouse-drag-track): Don't assume\n\tthe previous value of track-mouse is nil; instead, save and\n\trestore the previous value.  (Bug#24480)\n\n2016-09-20  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove nt/README.W32 instructions\n\n\t* nt/README.W32: Add instructions for installing 64-bit builds of\n\toptional libraries.  (Bug#24470)\n\n2016-09-17  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument that desktop file overrides frame parameters\n\n\t* doc/emacs/misc.texi (Saving Emacs Sessions):\n\t* doc/emacs/frames.texi (Frame Parameters): Document that frame\n\tparameters restored by desktop.el take precedence over the\n\tcustomizations in the init file, and explain how to countermand\n\tthat.  For the details of the issue, see\n\thttp://lists.gnu.org/archive/html/emacs-devel/2016-09/msg00318.html.\n\n2016-09-15  Nicolas Petton  <nicolas@petton.fr>\n\n\t* etc/AUTHORS: Regenerate the AUTHORS file\n\n2016-09-16  Nicolas Petton  <nicolas@petton.fr>\n\n\t* Version 25.1 released.\n\n2016-09-15  Nicolas Petton  <nicolas@petton.fr>\n\n\t* etc/AUTHORS: Regenerate the AUTHORS file\n\n2016-09-15  Eli Zaretskii  <eliz@gnu.org>\n\n\tUpdate admin/authors.el\n\n\t* admin/authors.el (authors-fixed-entries): Add an entry for Bob\n\tWeiner.\n\n2016-09-14  Eli Zaretskii  <eliz@gnu.org>\n\n\tUpdate Antinews in ELisp manual\n\n\t* doc/lispref/anti.texi (Antinews): Update for Emacs 25.1.\n\t* doc/lispref/elisp.texi (Top): Update the main menu entry for\n\tAntinews.\n\n2016-09-11  Noam Postavsky  <npostavs@gmail.com>\n\n\tFix comments on window height macros\n\n\t* src/window.h (WINDOW_MODE_LINE_HEIGHT, WINDOW_HEADER_LINE_HEIGHT): Fix\n\tconfusing claim that \"height is in pixels and in lines\"; in fact it's in\n\tpixels.\n\n2016-09-10  Toke H\u00f8iland-J\u00f8rgensen  <toke@toke.dk>  (tiny change)\n\n\tFix 'url-http-create-request' when cookies are used\n\n\t* lisp/url/url-http.el (url-http-create-request): Make sure the\n\tcookie headers are a unibyte string.  For the details, see\n\thttp://lists.gnu.org/archive/html/emacs-devel/2016-09/msg00202.html.\n\n2016-09-08  Martin Rudalics  <rudalics@gmx.at>\n\n\tFix cross reference in frames.texi\n\n\t* doc/lispref/frames.texi (Minibuffers and Frames): Fix cross\n\treference.\n\n2016-09-04  immerrr  <immerrr@gmail.com>\n\n\tFix regexp-opt documentation (bug #17862)\n\n\t* lisp/emacs-lisp/regexp-opt.el (regexp-opt):\n\t* doc/lispref/searching.texi (Regexp Functions): Update PAREN doc.\n\n2016-08-31  Nicolas Richard  <youngfrog@members.fsf.org>\n\n\t* lisp/emacs-lisp/gv.el (gv-ref): Fix example of PLACE in docstring.\n\n2016-08-27  Noam Postavsky  <npostavs@gmail.com>\n\n\tFix tags-query-replace docstring\n\n\t* lisp/progmodes/etags.el (tags-query-replace): Remove incorrect info\n\tregarding non-existent parameters.\n\n2016-08-26  Eli Zaretskii  <eliz@gnu.org>\n\n\tClarify documentation of precision in format specs\n\n\t* doc/lispref/strings.texi (Formatting Strings): Be less\n\tdefinitive wrt what precision means in format specs other than\n\tfloating-point, %s and %S.  (Bug#24314)\n\n2016-08-24  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove and clarify documentation of subprocesses\n\n\t* doc/lispref/processes.texi (Subprocess Creation, Shell Arguments):\n\tMention 'make-process' rather than 'start-process'.  Update wrt\n\tstandard destinations of standard output/error streams and due to\n\tdifferent formats of arguments accepted by 'make-process'.\n\t(Processes): Mention process objects that represent connections.\n\t(Synchronous Processes): Minor clarifications.\n\t(Asynchronous Processes): Describe 'make-process' and\n\t'make-pipe-process' before 'start-process'.  Update and expand the\n\tdocumentation.\n\t(Deleting Processes, Process Information, Input to Processes)\n\t(Signals to Processes, Query Before Exit, Network): Update and\n\texpand the documentation, especially wrt process objects that\n\trepresent connections.\n\t(Output from Processes): Mention the possibility of separating\n\tstderr via 'make-process'.\n\t(Filter Functions): Mention that stderr by default arrives at the\n\tfilter function together with stdout.  (Bug#24287)\n\n\t* src/process.c (Fprocess_id, Fprocess_command)\n\t(Fprocess_contact, Fprocess_type, Fstop_process): Doc fixes for\n\tprocess objects that represent connections.\n\n2016-08-23  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* etc/PROBLEMS: Mention gnutls-cli 3.5.3 (Bug#24247).\n\n2016-08-21  Nicolas Petton  <nicolas@petton.fr>\n\n\t* etc/AUTHORS: Update the AUTHORS file\n\n2016-08-20  Philipp Stephani  <phst@google.com>\n\n\tSome assorted documentation clarifications\n\n\t* src/fileio.c (Fwrite_region): Clarify that END is ignored if\n\tSTART is nil.\n\t* src/editfns.c (Fbuffer_size): Add short discussion about\n\tnarrowing.\n\t* src/callproc.c (Fcall_process_region): Discuss behavior when\n\tSTART and END are not buffer positions.\n\n2016-08-18  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove commentary in src/character.h\n\n\t* src/character.h (BYTES_BY_CHAR_HEAD, MULTIBYTE_LENGTH)\n\t(MULTIBYTE_LENGTH_NO_CHECK, STRING_CHAR_AND_LENGTH): Remove stale\n\tinfo from commentary and improve it.\n\n2016-08-17  Dmitry Gutov  <dgutov@yandex.ru>\n\n\t* etc/NEWS: Mention the change in json-encode-string.\n\n\tThe change was made to fix bug#20154, and came up again in bug#24239.\n\n2016-08-16  Eli Zaretskii  <eliz@gnu.org>\n\n\t* src/doc.c (Fsubstitute_command_keys): Another fix for smart quotes.\n\n\t(Bug#24206)\n\n2016-08-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid segfaults due to quoting in 'substitute-command-keys'\n\n\t* src/doc.c (Fsubstitute_command_keys): Correct character counts\n\twhen the input string is unibyte.  (Bug#24206)\n\n2016-08-16  Martin Rudalics  <rudalics@gmx.at>\n\n\tIn NEWS describe new handling of window margins (Bug#24193)\n\n\t* etc/NEWS: Describe new handling of margins when splitting or\n\tresizing windows (Bug#24193).\n\n2016-08-16  Martin Rudalics  <rudalics@gmx.at>\n\n\tFacultatively ignore margins when splitting and resizing windows (Bug#24193)\n\n\tProvide a new window parameter 'min-margins' which allows to\n\tignore the actual widths of a window's margins when splitting or\n\tresizing that window horizontally.  This should serve as a\n\tworkaround for handling the problems raised by Bug#24193.\n\n\t* lisp/window.el (window--min-size-1): Handle new window\n\tparameter 'min-margins'.\n\t(split-window): Fix text of error messages.\n\t* doc/lispref/windows.texi (Window Parameters): Describe new\n\tparameter 'min-margins'.\n\n2016-08-14  Noam Postavsky  <npostavs@gmail.com>\n\n\tDocument CATEGORY arg to modify-category-entry\n\n\t* src/category.c (Fmodify_category_entry): Document CATEGORY argument.\n\n2016-08-13  Noam Postavsky  <npostavs@gmail.com>\n\n\tDocument char-script-table's effect on word motion\n\n\t* doc/lispref/positions.texi (Word Motion): Talk about\n\tchar-script-table (Bug #10494).\n\n2016-08-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tFurther fix for 'url-http-create-request' and multibyte strings\n\n\t* lisp/url/url-http.el (url-http-create-request): Run\n\turl-mime-charset-string through url-http--encode-string.\n\t(Bug#24117)\n\n2016-08-13  Noam Postavsky  <npostavs@gmail.com>\n\n\tFix docstring of eval-expression\n\n\t* lisp/simple.el (eval-expression): Fix the docstring to reflect the\n\tfact that the prefix argument does not affect formatting for\n\tintegers (Bug #20691).\n\n2016-08-11  Eli Zaretskii  <eliz@gnu.org>\n\n\tClarify when 'cursor' property is in effect\n\n\t* doc/lispref/text.texi (Special Properties): Minor copyedits.\n\t(Bug#24179)\n\n2016-08-11  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tConvert the remaining strings to unibyte before concatenating\n\n\t* lisp/url/url-http.el (url-http--encode-string): New function.\n\t(url-http-create-request): Use it to convert ASCII to unibyte.\n\t(Bug#24117)\n\n2016-08-11  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix bug with handling the bidi cache\n\n\t* src/xdisp.c (redisplay_window): Save and restore the state of\n\tthe bidi cache before reusing the iterator after calls to\n\ttry_window and try_window_reusing_current_matrix.\n\n2016-08-10  Eli Zaretskii  <eliz@gnu.org>\n\n\t* doc/lispref/text.texi (Change Hooks): Minor copyedits.\n\n2016-08-09  Eli Zaretskii  <eliz@gnu.org>\n\n\tClarify documentation of before/after-change-functions\n\n\t* doc/lispref/text.texi (Change Hooks): Clarify that the hooks are\n\tnot called in balanced pairs.\n\n2016-08-06  Noam Postavsky  <npostavs@gmail.com>\n\n\tDocument use of vectors in keymaps\n\n\t* doc/lispref/keymaps.texi (Format of Keymaps): Mention vector\n\tformat (Bug #14797).\n\n2016-08-03  Alan Third  <alan@idiocy.org>\n\n\tPost AppDefined events from the main thread ONLY (bug#23934)\n\n\t* src/nsterm.h: Make nextappdefined var not just GNUStep.\n\t* src/nsterm.m (ns_send_appdefined, sendFromMainThread): Remove GNUStep\n\n2016-08-03  John Wiegley  <johnw@newartisans.com>\n\n\tUpdate to the AUTHORS file for Bob Weiner\n\n\t\t* etc/AUTHORS: Update the packages attributed to Bob Weiner\n\n2016-08-02  John Wiegley  <johnw@newartisans.com>\n\n\tRevert \"Fix local printer set to left aligned string formatter.\"\n\n\tThis reverts commit 8a38e948b039516e70176ebe20c5349e2ade6ac5.\n\n2016-08-02  John Wiegley  <johnw@newartisans.com>\n\n\tRevert \"Fix ses-delete-blanks to delete only blanks + documentation.\"\n\n\tThis reverts commit 3c97b0f7589e06aeb1ab0147f0ee32974c32926d.\n\n2016-08-02  John Wiegley  <johnw@newartisans.com>\n\n\tRevert \"Fix English.\"\n\n\tThis reverts commit b275cc76f0c5ab49e81445fcc3420c8772aefd42.\n\n2016-08-01  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove doc strings of 'gud-gdb' and 'gdb'\n\n\t* lisp/progmodes/gdb-mi.el (gdb):\n\t* lisp/progmodes/gud.el (gud-gdb): Doc fix.  (Bug#24125)\n\n2016-08-01  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix doc string of 'minibuffer-message-timeout'\n\n\t* src/keyboard.c (syms_of_keyboard) <minibuffer-message-timeout>:\n\tDoc fix.  (Bug#24123)\n\n2016-07-29  Vincent Bela\u00efche  <vincentb1@users.sourceforge.net>\n\n\tFix English.\n\n\t* doc/misc/ses.texi (Nonrelocatable references): Fix grammatically\n\t  incorrect English.\n\n2016-07-29  Vincent Bela\u00efche  <vincentb1@users.sourceforge.net>\n\n\tFix ses-delete-blanks to delete only blanks + documentation.\n\n\t* doc/misc/ses.texi (Quick Tutorial): Mention the '!'\n\t'ses-range' modifier as an alternative to 'ses+'.\n\t(Advanced Features): Add a refernce to node 'Nonrelocatable\n\treferences' concerning function 'ses-rename-cell'.\n\t(Standard formula functions): Mention the '!' 'ses-range'\n\tmodifier as an alternative to 'ses-delete-blanks'.\n\t(More on cell printing): Fix fallback printer\n\tdefinition.  Minor editorial formatting changes.\n\t(Nonrelocatable references): Document the use of\n\t'ses-rename-cell' as a better way to make cell reference\n\tnon-relocatable.\n\t(The data area): Document the presence of local printer\n\tdefinitions in the data area.\n\n\t* lisp/ses.el (ses-delete-blanks): Do not remove\n\t*error*.  Any error in an argument should propagate into the\n\tusing formula rather than being silently hidden !\n\n2016-07-29  Noam Postavsky  <npostavs@gmail.com>\n\n\tprofiler: document prefix arg for tree expansion\n\n\t* doc/lispref/debugging.texi (Profiling):\n\t* lisp/profiler.el (profiler-report-toggle-entry): Document use of\n\tprefix argument to expand whole call trees.\n\n2016-07-29  Noam Postavsky  <npostavs@gmail.com>\n\n\tClarify usage of eshell-visual-options\n\n\t* lisp/eshell/em-term.el (eshell-visual-options): Add second option to\n\texample usage (Bug #19627).\n\n2016-07-29  Noam Postavsky  <npostavs@gmail.com>\n\n\tFix comment in files-in-below-directory\n\n\t* doc/lispintro/emacs-lisp-intro.texi (Files List): Comment should not\n\tsay append, since the code is adding to front of list (Bug #21589).\n\n2016-07-28  Vincent Bela\u00efche  <vincentb1@users.sourceforge.net>\n\n\tFix local printer set to left aligned string formatter.\n\n\t* lisp/ses.el (ses-local-printer-compile): Add missing case\n\tfor left-aligned string formatter.\n\n2016-07-24  Nicolas Petton  <nicolas@petton.fr>\n\n\tBump Emacs version to 25.1 for the first RC\n\n\t* README:\n\t* configure.ac:\n\t* lisp/ldefs-boot.el:\n\t* msdos/sed2v2.inp: Bump Emacs version to 25.1.\n\n2016-07-24  Nicolas Petton  <nicolas@petton.fr>\n\n\t* etc/AUTHORS: Update the AUTHORS file\n\n\t;; * ChangeLog.2: ChangeLog update.\n\n2016-07-24  Nicolas Petton  <nicolas@petton.fr>\n\n\t* admin/authors.el (authors-valid-file-names): Addition.\n\n2016-07-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tWarn about Cairo-related problems\n\n\t* etc/NEWS: Warn about known problems in the Cairo build.\n\t(Bug#23925)\n\n2016-07-23  Paul Pogonyshev  <pogonyshev@gmail.com>\n\n\tDon't let completion break `declare' handling\n\n\t* lisp/progmodes/elisp-mode.el (elisp-completion-at-point): Fix to not alter\n\t`defun-declarations-alist' by side effect (Bug #23648).\n\n2016-07-23  Noam Postavsky  <npostavs@gmail.com>\n\n\tAdjust match data before calling after-change-funs\n\n\tIt's important to adjust the match data in between calling\n\tbefore-change-functions and after-change-functions, so that buffer\n\tchange hooks will always see match-data consistent with buffer content.\n\t(Bug #23917)\n\n\t* src/insdel.c (replace_range): Add new parameter ADJUST_MATCH_DATA, if\n\ttrue call update_search_regs.  Update all callers (except\n\tFreplace_match) to pass 0 for the new parameter.\n\t* src/search.c (update_search_regs): New function, extracted from\n\tFreplace_match.\n\t(Freplace_match): Remove match data adjustment code, pass 1 for\n\tADJUST_MATCH_DATA to replace_range instead.\n\n2016-07-21  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tDo not show string-rectangle preview if minibuffer is empty\n\n\t* lisp/rect.el (rectangle--string-preview): Remove condition that sets\n\tpreview string to the default replacement string.\n\n2016-07-21  Achim Gratz  <Stromeko@nexgo.de>\n\n\t* etc/PROBLEMS: Add entry about selection problems under Plasma 5.\n\n\tBug#24013\n\n2016-07-21  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort to glibc 2.24 (pre-release) + ppc64\n\n\tBackport from master (Bug#24033).\n\tInspired by a suggestion by Florian Weimer in:\n\thttps://sourceware.org/ml/libc-alpha/2016-07/msg00425.html\n\t* src/emacs.c (main) [__PPC64__]:\n\tSpecial case for __PPC64__, which needs ASLR disabled in\n\tdumped Emacs too.\n\n2016-07-21  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\t* lisp/net/shr.el (shr-fill-line): Withdraw the last commit (4157159).\n\n\t* lisp/net/shr.el (shr-fill-line):\n\tPreserve text properties in folded lines (bug#24034).\n\n2016-07-17  Robert Cochran  <robert-git@cochranmail.com>  (tiny change)\n\n\tExpand FIXME near definition of fboundp\n\n\tThis expansion of the FIXME is so that future developers are aware of\n\tthe potential problems of aliasing fboundp to symbol-function without\n\ttaking backwards compatibility into account.\n\n\t* src/data.c (fboundp): Note potential backwards compatibility issues in\n\tFIXME.\n\n2016-07-17  Noam Postavsky  <npostavs@gmail.com>\n\n\tkill-rectangle should mention killed-rectangle\n\n\t* lisp/rect.el (kill-rectangle): Mention `killed-rectangle' in docstring\n\tand warning message, rather than kill ring (Bug#19773).\n\n2016-07-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid assertion violations in nhexl-mode\n\n\t* src/bidi.c (bidi_resolve_neutral): Convert an assertion to real\n\tcode executed in all builds.  (Bug#24001)\n\n2016-07-15  Fredrik Bergroth  <fbergroth@gmail.com>  (tiny change)\n\n\tUse memmove instead of memcpy on overlapping regions\n\n\t* src/editfns.c (Ftranspose_regions): Regions may overlap, so\n\tuse memmove instead of memcpy (bug#19213).\n\n\n\tThis is a backport from trunk.\n\t(cherry picked from commit 354f9f0fc6cc05ed98883447f9b2f37943d79160)\n\n2016-07-15  Noam Postavsky  <npostavs@gmail.com>\n\n\tDocument buffer-swap-text+save-excursion interaction\n\n\t* doc/lispref/buffers.texi (Swapping Text):\n\t* src/buffer.c (Fbuffer_swap_text): Add warning about interaction of\n\t`buffer-swap-text' and `save-excursion' (Bug #4655).\n\n2016-07-14  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tFix eieio vs cl-generic incompatibilities found in Rudel (bug#23947)\n\n\t* lisp/emacs-lisp/cl-generic.el (cl-generic-apply): New function.\n\t* lisp/emacs-lisp/eieio-compat.el (eieio--defmethod): Fix incorrect\n\tmapping between cl-no-applicable-method and EIEIO's no-applicable-method.\n\t* lisp/emacs-lisp/eieio-core.el (eieio--class-precedence-c3):\n\t`class' is not a symbol but a class object.\n\n2016-07-14  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tInclude cl-generic in package--builtin-versions (bug#22817)\n\n\t* lisp/emacs-lisp/cl-generic.el (package--builtin-versions):\n\tAdd ourselves manually.  Don't merge since there's a better fix on master.\n\n2016-07-14  Michael Albinus  <michael.albinus@gmx.de>\n\n\tImprove timing in `tramp-test29-environment-variables'\n\n\t* test/automated/tramp-tests.el\n\t(tramp-test--shell-command-to-string-asynchronously):\n\tAdd additional `accept-process-output' call.\n\t(tramp-test29-environment-variables): Remove additional sleep calls.\n\n2016-07-14  Michael Albinus  <michael.albinus@gmx.de>\n\n\tAdd test for handling environment variables in Tramp\n\n\t* test/automated/tramp-tests.el\n\t(tramp-test--shell-command-to-string-asynchronously): New defun.\n\t(tramp-test29-environment-variables): New test.\n\t(tramp-test30-vc-registered)\n\t(tramp-test31-make-auto-save-file-name)\n\t(tramp-test32-special-characters)\n\t(tramp-test32-special-characters-with-stat)\n\t(tramp-test32-special-characters-with-perl)\n\t(tramp-test32-special-characters-with-ls, tramp-test33-utf8)\n\t(tramp-test33-utf8-with-stat, tramp-test33-utf8-with-perl)\n\t(tramp-test33-utf8-with-ls)\n\t(tramp-test34-asynchronous-requests)\n\t(tramp-test35-recursive-load, tramp-test36-unload): Rename.\n\n2016-07-13  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/emacs-lisp/package.el (describe-package-1)\n\t(package-status-external): Fix face references.  (Bug#23927)\n\n2016-07-12  Stephen Berman  <stephen.berman@gmx.net>\n\n\tImprove documentation of search functions\n\n\tMake the documentation of the search functions more accurate,\n\tcomplete, and uniform; in particular, extend the description of\n\tthe effect when the 'count' parameter is a negative number to all\n\tof these functions.\n\n\t* src/search.c (Fsearch_backward, Fsearch_forward)\n\t(Fre_search_backward, Fre_search_forward)\n\t(Fposix_search_backward, Fposix_search_forward):\n\t* lisp/isearch.el (word-search-backward, word-search-forward)\n\t(word-search-backward-lax, word-search-forward-lax): Improve doc\n\tstrings as described above.\n\n\t* doc/lispref/searching.texi (String Search, Regexp Search)\n\t(POSIX Regexps): Use 'count' instead of 'repeat' as the name of\n\tthe fourth parameter of the *-search-{forward,backward} functions\n\tand improve documentation as described above.\n\n2016-07-12  Michael Albinus  <michael.albinus@gmx.de>\n\n\tDelete environment variables in Tramp when needed\n\n\t* lisp/net/tramp-sh.el (tramp-get-env-with-u-option): New defun.\n\t(tramp-sh-handle-start-file-process)\n\t(tramp-sh-handle-process-file, ): Use it.  (Bug#23952)\n\n2016-07-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tAdd \"New in Emacs 25\" section to the FAQ\n\n\t* doc/misc/efaq.texi (Latest version of Emacs): Update for later\n\tversions.\n\t(New in Emacs 25): New node.\n\t(Status of Emacs): Add it to the menu.\n\n2016-07-10  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix 'vertical-motion' in non-interactive sessions\n\n\t* src/indent.c (Fvertical_motion): Don't return uninitialized\n\tvalue in non-interactive session.  This fixes random errors in\n\tbatch mode, see\n\thttp://lists.gnu.org/archive/html/emacs-devel/2016-06/msg00609.html\n\tand\n\thttp://lists.gnu.org/archive/html/emacs-devel/2016-07/msg00500.html\n\tfor the details.\n\n2016-07-10  Andreas Schwab  <schwab@linux-m68k.org>\n\n\tFix memory leak in imagemagick-types\n\n\t* src/image.c (Fimagemagick_types): Use AcquireExceptionInfo to\n\tavoid memory leak.\n\n2016-07-10  Eli Zaretskii  <eliz@gnu.org>\n\n\tUpdate ELisp manual to match 'string-collate-equalp' doc string\n\n\t* doc/lispref/strings.texi (Text Comparison): Remove reference to\n\tsorting from the description of 'string-collate-equalp'.  (Bug#23902)\n\n2016-07-09  Noam Postavsky  <npostavs@gmail.com>\n\n\tClarify docstring of find-feature-regexp\n\n\t* lisp/emacs-lisp/find-func.el (find-feature-regexp): Explain that `%s'\n\tis optional (Bug #23520).\n\n2016-07-09  Noam Postavsky  <npostavs@gmail.com>\n\n\tAdd details to cl-lib defining macros' docstrings\n\n\t* lisp/emacs-lisp/cl-macs.el (cl-defun, cl-defmacro): Add terse summary\n\tof supported arglist forms (Bug #22462).\n\n2016-07-09  Eli Zaretskii  <eliz@gnu.org>\n\n\tClarify doc string of 'save-buffer'\n\n\t* lisp/files.el (save-buffer): Clarify that backups might not be\n\tmade even if this command is invoked with 2 or 3 \"C-u\"s.\n\t(Bug#3702)\n\n2016-07-08  Eli Zaretskii  <eliz@gnu.org>\n\n\tUn-confuse doc string of 'string-collate-equalp'\n\n\t* src/fns.c (Fstring_collate_equalp): Remove confusing text from\n\tdoc string.  (Bug#23902)\n\n2016-07-07  Eli Zaretskii  <eliz@gnu.org>\n\n\tClarify documentation of 'mouse-on-link-p'\n\n\t* lisp/mouse.el (mouse-on-link-p): Clarify the form of the POS\n\targument.  (Bug#23899)\n\n2016-07-06  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\tFix missing undo-boundary on revert-buffer.\n\n\t* lisp/simple.el (undo-auto--undoable-change-no-timer): New function.\n\t* src/fileio.c (insert-buffer-contents): Call\n\t  undo-auto--undoably-changed-buffers before changes.\n\n\tAddresses Bug#23785.\n\n\tDo not merge to master as c98bc98 also addresses the same bug.\n\n2016-07-06  Martin Rudalics  <rudalics@gmx.at>\n\n\tAmend last addition to etc/PROBLEMS\n\n\t* etc/PROBLEMS: Mention GTK+ problem with unexpected frame widenings\n\n2016-07-06  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix open-network-stream responsiveness\n\n\tProblem reported by Christer Ekholm (Bug#23864).\n\tBackport from master.\n\t* src/process.c (wait_reading_process_output):\n\tFix typo introduced in 2015-07-06T02:19:13Z!eggert@cs.ucla.edu\n\twhen wait == INFINITY and got_output_end_time is invalid.\n\tIn this case the code should break, not continue.\n\n2016-07-05  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\tFix missing point information in undo\n\n\t* src/undo.c (record_insert): Use record_point instead of\n\t  prepare_record, and do so unconditionally.\n\t  (prepare_record): Do not record first change.\n\t  (record_point): Now conditional on state before the last command.\n\t  (record_delete): Call record_point unconditionally.\n\t  (record_property_change): Use prepare_record.\n\t  (record_marker_adjustments): Use prepare_record.\n\n\tAddresses Bug# 21722\n\n2016-07-04  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid crashes when buffer modification hooks clobber match data\n\n\t* src/search.c (Freplace_match): Error out if buffer modification\n\thooks triggered by buffer changes in replace_range, upcase-region,\n\tand upcase-initials-region clobber the match data needed to be\n\tadjusted for the replacement.  (Bug#23869)\n\n2016-07-03  Noam Postavsky  <npostavs@gmail.com>\n\n\tNote combine-and-quote-strings doesn't shell quote\n\n\t* doc/lispref/processes.texi (Shell Arguments):\n\t* lisp/subr.el (combine-and-quote-strings): Add a note that\n\tcombine-and-quote-strings doesn't protect arguments against shell\n\tevaluation (Bug #20333).\n\n2016-07-03  Noam Postavsky  <npostavs@gmail.com>\n\n\tExplain when package-initialize isn't called\n\n\t* doc/lispref/os.texi (Startup Summary): Explain that package-initialize\n\tis not called when options -q, -Q, or --batch were passed (Bug #19151).\n\n2016-07-03  Noam Postavsky  <npostavs@gmail.com>\n\n\tFix escaping in sh-indent-after-continuation docstr\n\n\t* lisp/progmodes/sh-script.el (sh-indent-after-continuation): Properly\n\tescape backslashes in docstring (Bug#23046).\n\n2016-07-02  Eli Zaretskii  <eliz@gnu.org>\n\n\tClarify the documentation of back-references in replacements\n\n\t* doc/emacs/search.texi (Regexp Replace): Clarify that \\D starts\n\twith \\1, not \\0.\n\n\t* lisp/replace.el (query-replace-regexp)\n\t(query-replace-regexp-eval, replace-regexp): Doc fix (Bug#23884)\n\n2016-07-01  Noam Postavsky  <npostavs@gmail.com>\n\n\tClarify lexical binding with symbol args behavior\n\n\t* doc/lispref/variables.texi (Lexical Binding): Clarify that symbol\n\targuments always refer to dynamic values (Bug #23781).  Remove mention\n\tof obsolete restriction regarding lexical binding for defun and\n\tdefmacro, this no longer applies since 61b108cc 2012-05-29 \"*\n\tlisp/emacs-lisp/byte-run.el (defmacro, defun): Move from C...\".\n\n2016-06-30  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* lisp/net/tramp-sh.el (tramp-remote-path): Doc fix.\n\n2016-06-29  Eli Zaretskii  <eliz@gnu.org>\n\n\t* lisp/net/tramp-sh.el (tramp-remote-path): Doc fix.  (Bug#23865)\n\n2016-06-29  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid assertion violations when rendering some fonts\n\n\t* src/dispextern.h (FONT_TOO_HIGH): Don't consider a font \"too\n\thigh\" if its pixel_size value is zero.  This avoids assertion\n\tviolations at the end of x_produce_glyphs.\n\n2016-06-28  Noam Postavsky  <npostavs@gmail.com>\n\n\tDocument more details of package activation\n\n\t* doc/emacs/package.texi (Package Installation): Explain that package\n\tactivation adds to load-path (Bug #21704).\n\n2016-06-28  Noam Postavsky  <npostavs@gmail.com>\n\n\tFixup warning message regarding HOME a bit more\n\n\t* src/w32.c (init_environment): The manual section title is \"Windows\n\tHOME\" (Bug #11612).  Move newline so warning fits in 80 character lines.\n\n2016-06-27  Eli Zaretskii  <eliz@gnu.org>\n\n\t* lisp/leim/quail/indian.el (\"bengali-probhat\"): Change indicator to BngPB.\n\n2016-06-27  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix input method \"probhat\" for Bengali\n\n\tAuthor: \u0989\u09ce\u09b8\u09ac \u09b0\u09be\u09df <uroybd@gmail.com>\n\n\t* lisp/leim/quail/indian.el (\"bengali-probhat\"): Fix entry.\n\n2016-06-27  Noam Postavsky  <npostavs@gmail.com>\n\n\tAdd to elisp-completion-at-point's docstring\n\n\t* lisp/progmodes/elisp-mode.el (elisp-completion-at-point): Document\n\tposition dependent behavior (Bug #19854).\n\n2016-06-27  Noam Postavsky  <npostavs@gmail.com>\n\t    Eli Zaretskii  <eliz@gnu.org>\n\n\tGive more helpful warning about setting HOME\n\n\t* src/w32.c (init_environment): Improve warning message that pops when\n\tEmacs sets HOME according to existence of C:\\.emacs (Bug #11612).\n\n2016-06-26  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix slow redisplay in term-mode\n\n\t* lisp/term.el (term-mode): Move the setting of\n\tbidi-paragraph-direction from 'ansi-term' to here, since term-mode\n\tis also affected.  Do not merge to master, since there the problem\n\tis solved in bidi.c by changing the regexps that delimit a\n\tparagraph.  (Bug#23801)\n\n2016-06-26  \u0989\u09ce\u09b8\u09ac \u09b0\u09be\u09df  <uroybd@gmail.com>\n\n\tNew input method \"probhat\" for Bengali\n\n\t* lisp/leim/quail/indian.el (\"probhat\"): New input method.\n\t(Bug#23822)\n\n\t* etc/NEWS: Mention the new input method.\n\n2016-06-25  Noam Postavsky  <npostavs@gmail.com>\n\t    Drew Adams  <drew.adams@oracle.com>\n\n\tUpdate docs for `customize-mode'\n\n\t* lisp/cus-edit.el (customize-mode): This function works with both major\n\tand minor modes, make docstring and prompt reflect that (Bug #23649).\n\n\t* doc/lispref/modes.texi (Derived Modes): Remove note about\n\tcustomize-mode being experimental; it has been around since Emacs\n\t22 (Bug #11299).\n\n2016-06-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix documentation of 'assoc-string' and 'compare-strings'\n\n\t* src/minibuf.c (Fassoc_string): Clarify how CASE-FOLD affects the\n\tstring comparison.  (Bug#23833)\n\t* src/fns.c (Fcompare_strings): Fix the description of how\n\tIGNORE-CASE affects the comparison.\n\n\t* doc/lispref/strings.texi (Text Comparison): Clarify how\n\tCASE-FOLD affects the string comparison in 'assoc-string'.  Fix\n\tthe description of how IGNORE-CASE affects the comparison in\n\t'compare-strings'.\n\n2016-06-22  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tError on multibyte characters in HTTP request\n\n\t* lisp/url/url-http.el (url-http-create-request): Check the\n\tconstructed request in the end to verify that it does not contain\n\tmultibyte characters (bug#23750).\n\n2016-06-22  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\t* lisp/gnus/mm-decode.el (mm-convert-shr-links):\n\tMask keys that launch `widget-button-click' (bug#22157).\n\n2016-06-22  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tUnset GIT_DIR when calling Git commands\n\n\t* lisp/vc/vc-git.el (vc-git--call, vc-git-command):\n\tUnset GIT_DIR (bug#23769).\n\n2016-06-21  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\tEnsure undo-boundary after insert-file-contents.\n\n\t* src/fileio.c: Record undoable change during insert-file-contents.\n\n\tAddresses Bug #23785.\n\n2016-06-21  Eli Zaretskii  <eliz@gnu.org>\n\n\tClarify documentation of 'line-spacing' and 'line-height'\n\n\t* doc/lispref/display.texi (Line Height): Clarify how the line\n\theight is determined via variables and text properties.  (Bug#23806)\n\n2016-06-20  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix removal of variables from process-environment\n\n\t* src/callproc.c (add_env): Fix comparison of a variable with a\n\tvalue against the same variable without a value.  (Bug#23779)\n\n2016-06-20  Glenn Morris  <rgm@gnu.org>\n\n\t* admin/authors.el (authors-ignored-files, authors-valid-file-names)\n\t(authors-renamed-files-alist): Additions.\n\n\t* admin/authors.el (authors-aliases, authors-fixed-case): Additions.\n\n2016-06-18  Noam Postavsky  <npostavs@gmail.com>\n\n\tFix documentation of completion functions\n\n\tSo that the described behavior matches the code (and docstrings).\n\n\t* doc/lispref/minibuf.texi (Basic Completion): Symbol keys of hash table\n\tcollections are used like string keys, not ignored (Bug #10416).\n\n2016-06-18  Eli Zaretskii  <eliz@gnu.org>\n\n\tClarify documentation of 'font-lock-maximum-decoration'\n\n\t* doc/emacs/display.texi (Font Lock): Explain how to make the\n\tcustomization of 'font-lock-maximum-decoration' effective for an\n\texisting buffer.  (Bug#23783)\n\n2016-06-17  Glenn Morris  <rgm@gnu.org>\n\n\t* doc/misc/cl.texi (Usage): Add some more details.\n\n2016-06-17  Noam Postavsky  <npostavs@gmail.com>\n\n\tFbackward_prefix_chars: stay within buffer bounds\n\n\tThe commit 1fd3172d \"(Fbackward_prefix_chars): Set point properly while\n\tscanning\" (1998-03-18), moved the check against of the position against the\n\tbuffer beginning out the loop condition so that we might end up checking\n\tthe syntax of characters before the beginning of the buffer.  This can\n\tcause segfaults or trigger a \"Point before start of properties\" error in\n\t`update_interval' (called indirectly from `char_quoted').\n\n\t* src/syntax.c (Fbackward_prefix_chars): Stop the loop when beginning of\n\tbuffer is reached (Bug #3552, Bug #17132, Bug #19379).\n\n2016-06-16  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix ifdef-vs-if typo with RANDR13_LIBRARY\n\n\t* src/xfns.c (x_get_monitor_attributes_xrandr): Use #if, not #ifdef.\n\tThis ports to systems that predate xrandr 1.3. See Christian Lynbech in:\n\thttp://lists.gnu.org/archive/html/emacs-devel/2016-06/msg00198.html\n\n\t(cherry picked from commit dce99f222f1ca33265cd56ddb157817be1dc078e)\n\n2016-06-16  Stephen Berman  <stephen.berman@gmx.net>\n\n\tFix last todo-mode change\n\n\t* lisp/calendar/todo-mode.el (todo-read-category): Return the\n\tkeymap in order to use its defined key bindings.\n\n2016-06-15  Stephen Berman  <stephen.berman@gmx.net>\n\n\tImprove last todo-mode fix\n\n\t* lisp/calendar/todo-mode.el (todo-read-category): Use\n\tset-keymap-parent instead of copy-keymap, and default (as\n\tpreviously) to the global binding (for rationale, see\n\thttp://lists.gnu.org/archive/html/emacs-devel/2016-06/msg00217.html).\n\n2016-06-14  Stephen Berman  <stephen.berman@gmx.net>\n\n\tFix todo-mode use of minibuffer completion keymap (bug#23695).\n\n\t* lisp/calendar/todo-mode.el (todo-read-category): Don't\n\toverride minibuffer-local-completion-map globally (bug#23695).\n\tBind <SPC> key to self-insert-command.\n\n2016-06-14  Glenn Morris  <rgm@gnu.org>\n\n\t* src/alloc.c (ALIGN): Avoid error on DragonFly BSD.  (Bug#23764)\n\n\t* lisp/emacs-lisp/nadvice.el (advice--make-docstring):\n\tAvoid mangling autoloads with unspecified arguments.  (Bug#21299)\n\n2016-06-13  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/help-fns.el (describe-function-1): Avoid reporting advised\n\tautoloads as aliases.  (Bug#21299)\n\n2016-06-13  Stephen Berman  <stephen.berman@gmx.net>\n\n\tMinor grammar fix (bug#23746)\n\n\t* doc/lispref/processes.texi (Synchronous Processes):\n\tAnother minor grammar fix (bug#23746).\n\n2016-06-13  Stephen Berman  <stephen.berman@gmx.net>\n\n\tDoc fixes for grammar and typos (bug#23746)\n\n\t* doc/emacs/files.texi (Customize Save):\n\t* doc/emacs/frames.texi (Window Dividers):\n\t* doc/emacs/misc.texi (Printing):\n\t* doc/lispref/compile.texi (Compiler Errors):\n\t* doc/lispref/keymaps.texi (Changing Key Bindings):\n\t* doc/lispref/loading.texi (Named Features):\n\t* doc/lispref/markers.texi (Marker Insertion Types):\n\t* doc/lispref/modes.texi (Mode Hooks):\n\t* doc/lispref/text.texi (Undo):\n\t* src/floatfns.c (Fldexp):\n\t* src/xfaces.c (syms_of_xfaces):\n\tMinor doc fixes for grammar and typos (bug#23746).\n\n2016-06-13  Eli Zaretskii  <eliz@gnu.org>\n\n\t* doc/lispref/processes.texi (Process Buffers): Minor rewording.  (Bug#23446)\n\n2016-06-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tAdd cross-reference to ELisp manual\n\n\t* doc/lispref/commands.texi (Classifying Events): Add\n\tcross-reference to \"Motion Events\".  (Bug#23756)\n\n2016-06-11  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/macroexp.el (macroexp--expand-all): Fix (bug#19704)\n\n\tDon't rewrite (funcall 'f ...) to (f ...).\n\n2016-06-11  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\tRestore initial undo boundary with viper\n\n\t* lisp/emulation/viper-cmd.el (viper-adjust-undo): Add back last undo\n\t  boundary if it has been removed.\n\n\tAddresses Bug#22295.\n\n2016-06-11  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\tRevert \"Fix viper undo breakage from undo-boundary changes\"\n\n\tThis reverts commit c0139e32f1f3bb287b04e02a69a7848d6a040003.\n\n2016-06-11  Ken Brown  <kbrown@cornell.edu>\n\n\tFix dbus crash on 32-bit Cygwin\n\n\t* src/dbusbind.c (Fdbus__init_bus): Use make_save_pointer to store\n\tconnection address.  (Bug#23741)\n\t(xd_lisp_dbus_to_dbus): Use XSAVE_POINTER to retrieve connection\n\taddress.\n\n2016-06-10  Nicolas Petton  <nicolas@petton.fr>\n\n\tBump version to 25.0.95\n\n\t* README:\n\t* configure.ac:\n\t* lisp/ldefs-boot.el:\n\t* msdos/sed2v2.inp: Bump Emacs version to 25.0.95.\n\n2016-06-10  Nicolas Petton  <nicolas@petton.fr>\n\n\t* etc/AUTHORS: Update the AUTHORS file\n\n2016-06-10  Nicolas Petton  <nicolas@petton.fr>\n\n\tadd entries to authors.el\n\n\t* admin/authors.el (authors-renamed-files-alist): Add char-fold files.\n\n2016-06-10  Jules Tamagnan  <jtamagnan@gmail.com>\n\n\tFix eldoc-related freezes in python mode\n\n\t* lisp/progmodes/python.el (python-eldoc-get-doc): New defvar.\n\t(python-eldoc-function-timeout)\n\t(python-eldoc-function-timeout-permanent): New defcustoms.\n\t(python-eldoc-function): If python-eldoc--get-doc-at-point times\n\tout, effectively turn off ElDoc in current buffer.  (Bug#23609)\n\n2016-06-09  Martin Rudalics  <rudalics@gmx.at>\n\n\tHandle mouse leaving initial window in `mouse-set-region' (Bug#23707)\n\n\t* lisp/mouse.el (mouse-set-region): If the mouse ends up in\n\tanother window or on the menu bar, use `window-point' of\n\tselected window instead of `posn-point' of the event end\n\t(Bug#23707).\n\n2016-06-08  Marco Wahl  <marcowahlsoft@gmail.com>\n\n\torg.el: Fix bindings of < and > for calendar scrolling\n\n\t[This patch taken from upstream Org repo with 8b63dc9 dated\n\t2014-10-20 (Bug#23725).]\n\t* lisp/org/org.el (org-read-date-minibuffer-local-map):\n\tSwitch to the current calendar API for scrolling the calendar.\n\n2016-06-08  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\tFix undo boundary in recursive edit (Bug#23632)\n\n\t * src/keyboard.c (recursive_edit_1): specbind\n\t   undo-auto--undoably-changed-buffers.\n\t * lisp/simple.el (undo-auto--undoably-changed-buffers):\n\t   fix docstring.\n\n2016-06-07  Glenn Morris  <rgm@gnu.org>\n\n\tDoc fixes re alist-get.  (Bug#23548)\n\n\t* lisp/subr.el (alist-get): Doc fix.\n\t* doc/lispref/lists.texi (Association Lists): Improve alist-get.\n\n2016-06-07  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/progmodes/python.el (inferior-python-mode):\n\tAvoid tabs.  (Bug#23616)\n\n\t* src/syntax.c (syms_of_syntax) <comment-end-can-be-escaped>: Doc fix.\n\n2016-06-07  Tino Calancha  <f92capac@gmail.com>\n\n\t* lisp/help-fns.el (describe-function-1):\n\tFix handling of file name for aliases.  (Bug#21950)\n\n\t* lisp/emacs-lisp/cl-macs.el (cl-loop): Doc fix re \"by\".\n\n\t* doc/misc/cl.texi (Mapping over Sequences): Fix cl-notevery.\n\n2016-06-07  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix crash in syntax.c after GC\n\n\tProblem reported by Vincent Bela\u00efche (Bug#23704).\n\t* src/syntax.c (skip_chars): Recompute pointers into the\n\tbuffer after every call to update_syntax_table_forward,\n\tas it can GC.\n\n2016-06-06  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tImprove squiggly heredoc support in non-SMIE Ruby mode\n\n\t* lisp/progmodes/ruby-mode.el (ruby-parse-partial): Support\n\tsquiggly heredocs here, too (port from upstream).\n\n2016-06-06  Stephen Berman  <stephen.berman@gmx.net>\n\n\tFix doc string quoting\n\n\t* lisp/files.el (shell-quote-wildcard-pattern):\n\t* lisp/progmodes/vhdl-mode.el (vhdl-mode):\n\t* lisp/subr.el (replace-regexp-in-string):\n\t* lisp/view.el (view-mode):\n\t* src/nsfns.m (syms_of_nsfns):\n\t* src/syntax.c (Fbackward_prefix_chars):\n\tFix quoting problems in doc strings (Bug#23696).\n\n2016-06-05  Martin Rudalics  <rudalics@gmx.at>\n\n\tFix mouse dragging of vertical dividers with scroll bars on left (Bug#23690)\n\n\t* lisp/mouse.el (mouse-drag-line): With scroll bars on the left\n\tadjust trailing edge of window on the left when dragging the\n\tvertical divider of the mode line.  (Bug#23690)\n\n2016-06-04  Eli Zaretskii  <eliz@gnu.org>\n\n\t* etc/PROBLEMS: Mention the link-time problems on FreeBSD 11.\n\n\t(Bug#23641)\n\n2016-05-31  Glenn Morris  <rgm@gnu.org>\n\n\t* test/automated/viper-tests.el (viper-test-undo-kmacro):\n\tDelete temp-file at end.\n\n\t* lisp/mail/footnote.el (footnote-mode): Fix doc typo.\n\n\t* doc/misc/smtpmail.texi (Encryption): Fix 2012-12-22 typo.\n\n\t* lisp/emacs-lisp/lisp-mode.el (lisp--mode-syntax-table):\n\tFix typo.  (Bug#23654)\n\n2016-05-30  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/recentf.el (recentf-dialog-mode-map): Remove follow-link (bug#22434)\n\n2016-05-30  Bill Wohler  <wohler@newt.com>\n\n\tCorrect cl-flet usage (Bug#22317)\n\n\t* lisp/mh-e/mh-compat.el: Rename mh-cl-flet to mh-flet and convert alias to\n\tmacro using patch from Katsumi Yamaoka <yamaoka@jpl.org>.\n\t* lisp/mh-e/mh-thread.el (mh-thread-set-tables):\n\t* lisp/mh-e/mh-show.el (mh-gnus-article-highlight-citation):\n\t* lisp/mh-e/mh-mime.el (mh-display-with-external-viewer):\n\t(mh-mime-display, mh-press-button, mh-push-button):\n\t(mh-display-emphasis): Call mh-flet instead of mh-cl-flet.\n\n2016-05-30  Bill Wohler  <wohler@newt.com>\n\n\tRelease MH-E manual version 8.6\n\n\t* doc/misc/mh-e.texi (VERSION, EDITION, UPDATED, UPDATE-MONTH):\n\tUpdate for release 8.6.\n\n2016-05-30  Mike Kupfer  <m.kupfer@acm.org>\n\n\tUpdate MH-E's documentation about HTML renderers\n\n\t* doc/misc/mh-e.texi (HTML): Remove the footnote with the minimum Gnus\n\tversion (we are no longer trying to support multiple Emacs\n\treleases). Sort the table of HTML renderers by name (the previous\n\tordering was based on a 10-year-old survey). Add shr and gnus-w3m to\n\tthe table. Remove the entry for w3 (no longer available).  Update\n\texisting entries so that they are more consistent about what features\n\tare discussed, and to reflect recent testing (Debian 8). Small tweaks\n\tto existing text.\n\n2016-05-30  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tFx the we->the typo\n\n\t* doc/emacs/trouble.texi (Sending Patches):\n\tFix the typo (bug#23657).\n\n2016-05-30  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRestore frames into the current display by default\n\n\t* lisp/desktop.el (desktop-restore-in-current-display):\n\tDefault to t, not nil (Bug#23604).\n\t* etc/NEWS: Mention the change.\n\n2016-05-29  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/recentf.el (recentf-open-files-item): Quick fix for (bug#22434).\n\n\tetc/TODO: Remove out-of-place issue\n\n2016-05-29  Eli Zaretskii  <eliz@gnu.org>\n\n\tClarify doc string of 'file-name-sans-extension'\n\n\t* lisp/files.el (file-name-sans-extension, file-name-extension):\n\tClarify in the doc strings what is the extension, and which\n\tleading period doesn't count.  (Bug#23643)\n\n2016-05-28  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix the MSDOS build\n\n\t* msdos/sed1v2.inp (PAXCTL_dumped, PAXCTL_notdumped): Define to\n\tempty, and remove the lines which use them in recipes, as that\n\tcauses weird error message from Make and breaks the MSDOS build.\n\n2016-05-28  Andreas Schwab  <schwab@linux-m68k.org>\n\n\t* lisp/progmodes/elisp-mode.el (elisp-function-argstring): Call\n\tsubstitute-command-keys to undo help--docstring-quote. (Bug#23634)\n\n2016-05-27  Eli Zaretskii  <eliz@gnu.org>\n\n\t* src/dired.c (Ffile_name_all_completions): Doc fix.  (Bug#23631)\n\n2016-05-27  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix infloop in 'number-sequence'\n\n\t* lisp/subr.el (number-sequence): Avoid overflow leading to an\n\tinfloop.  (Bug#23627)\n\n\t* test/automated/subr-tests.el (number-sequence-test): New test.\n\n2016-05-26  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/emacs-lisp/find-func.el (find-function-library):\n\n\tUpdate for symbol-function no longer erroring.  (Bug#23626)\n\n2016-05-26  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/w32-fns.el (set-message-beep, w32-get-locale-info)\n\t(w32-get-valid-locale-ids): Improve declarations.\n\n2016-05-26  Vincent Bela\u00efche  <vincentb1@users.sourceforge.net>\n\n\tCorrect old cell name unbinding when renaming cell.\n\n\tBug is to unbind old cell names when renaming a cell with\n\t'makunbound'. when the old cell name is of A1 type, then\n\t'kill-local-variable' must be used instead, so that only the current\n\tspreadsheet is affected. When the old cell name is a renamed cell,\n\tthen 'ses--unbind-cell-name' must be used in order to remove the old\n\tname from the name hashmap.\n\n\t* lisp/ses.el (ses-rename-cell): check consistency of cell symbol from\n\ttext-property and from array object. Instead of 'makunbound', use\n\teither 'ses--unbind-cell-name' or 'kill-local-variable' depending on\n\twhether the cell old name is a named cell or an A1 type cell\n\n2016-05-25  Vincent Bela\u00efche  <vincentb1@users.sourceforge.net>\n\n\tDocument problem: slow screen refresh on missing font.\n\n\tSee discussion of bug#22519 for more on this.\n\n2016-05-25  Glenn Morris  <rgm@gnu.org>\n\n\t* admin/admin.el (add-release-logs): Basic check of existing ChangeLog.\n\n2016-05-25  Glenn Morris  <rgm@gnu.org>\n\n\t* build-aux/gitlog-to-emacslog: Handle empty generated ChangeLog.\n\n\tThis is relevant for M-x add-release-logs right after M-x authors.\n\n2016-05-25  Glenn Morris  <rgm@gnu.org>\n\n\t* admin/admin.el (add-release-logs): Generate ChangeLog if needed.\n\n2016-05-25  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* doc/misc/texinfo.tex: Revert previous change (Bug#23611).\n\n2016-05-25  Glenn Morris  <rgm@gnu.org>\n\n\t* admin/authors.el (authors): First update the ChangeLog.\n\n\t* admin/make-tarball.txt: Related updates.\n\n2016-05-24  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tRename vc-stay-local back to vc-cvs-stay-local\n\n\t* lisp/vc/vc-cvs.el (vc-cvs-stay-local): Rename back from\n\tvc-stay-local (bug#19548).  Improve the docstring.\n\t(vc-cvs-stay-local-p): Update accordingly.\n\n2016-05-24  Glenn Morris  <rgm@gnu.org>\n\n\t* doc/emacs/files.texi (Comparing Files):\n\t* doc/emacs/trouble.texi (Sending Patches): Fix external xrefs.\n\n\t* doc/misc/eww.texi (Advanced): Fix xref.\n\n2016-05-24  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix cross-references between manuals\n\n\t* doc/misc/viper.texi (Viper Specials):\n\t* doc/misc/url.texi (Tramp):\n\t* doc/misc/sem-user.texi (Smart Jump):\n\t* doc/lispintro/emacs-lisp-intro.texi (Finding More):\n\t* doc/misc/efaq.texi (Replacing text across multiple files): Fix\n\tcross-references between manuals.  (Bug#23612)\n\t* doc/lispintro/emacs-lisp-intro.texi (etags): Node deleted: no\n\tlonger relevant to Emacs Lisp programming.\n\n2016-05-24  Glenn Morris  <rgm@gnu.org>\n\n\t* doc/misc/vhdl-mode.texi (Sample Init File): Rename node to avoid \".\".\n\n\t* admin/admin.el (add-release-logs): Also update etc/HISTORY.\n\n2016-05-24  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid aborting due to errors in arguments of 'set-face-attribute'\n\n\t* src/xfaces.c (Finternal_set_lisp_face_attribute): Check the\n\tFRAME argument before using it.  This avoids gratuitous aborts in\n\tEmacs built with --enable-checking when the luser was unlucky\n\tenough to get the argument list in wrong order.\n\n2016-05-23  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\tAdd automated test for viper-tests.el\n\n2016-05-23  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\tFix viper undo breakage from undo-boundary changes\n\n\t* lisp/simple.el (undo-auto-disable-boundaries): New variable\n\t* lisp/emulation/viper-init.el (viper-undo-in-complex-command,\n\t  viper-undo-needs-adjustment): Rename\n\t  variable to reflect new purpose,\n\t  (viper-buffer-undo-list-mark): Remove\n\t* lisp/emulation/viper-cmd.el (viper-set-complex-command-for-undo):\n\t  Add undo using `undo-boundary', disable default undo-boundary\n\t  addition.\n\t* lisp/emulation/viper-cmd.el\n\t  (viper-complete-complex-command-for-undo,viper-adjust-undo):\n\t  Change function name, remove old undo list manipulation.\n\t* lisp/emulation/viper-cmd.el (viper-undo,viper-repeat,\n\t  viper-change-state-to-vi,viper-change-state):\n\t  Update for function name change.\n\n\tAddresses Bug #22295\n\n2016-05-22  Kaushal Modi  <kaushal.modi@gmail.com>\n\n\tFix reference to obsolete fn ps-eval-switch\n\n\tlpr-eval-switch is functionally the same as ps-eval-switch,\n\twhich was obsoleted in 2cdeb903c57126d3ad5f0cbd72e182584b76ee29.\n\tSo use that instead (Bug#19717).\n\t* lisp/printing.el (pr-switches): Use lpr-eval-switch instead of\n\tps-eval-switch.\n\n2016-05-22  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDo not trash symlinks to init file\n\n\tIf the user\u2019s init file is a symbolic link, do not break the link\n\twhen initializing the package system.  Problem reported by Jackson\n\tHamilton (Bug#23050).\n\t* lisp/emacs-lisp/package.el (package--ensure-init-file):\n\tBind find-file-visit-truename when visiting the init file, and\n\tsave and restore the buffer name the way cus-edit does in a\n\tsimilar situation (Bug#454).\n\n2016-05-22  Alan Mackenzie  <acm@muc.de>\n\n\tDon't print the \"decomposition\" line for control chars in what-cursor-position\n\n\tThis is a temporary workaround for bug #23594, where the decomposition line\n\tfor linefeed corrupted the display on a Linux virtual terminal.\n\n\t* lisp/descr-text.el (describe-char): Remove `decomposition' from the list of\n\tcharacter code properties printed for control characters.\n\n2016-05-22  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tBring back xterm pasting with middle mouse\n\n\tProblem reported by Jan Syn\u00e1\u010dek.\n\tSolution suggested by Stefan Monnier (Bug#23519).\n\t* lisp/isearch.el (isearch-mode-map): Add a binding for xterm-paste.\n\t(xterm--pasted-text): New decl.\n\t(isearch-xterm-paste): New function.\n\t* lisp/term/xterm.el (xterm--pasted-text): New function,\n\ttaken from xterm-paste internals.\n\t(xterm-paste): Use it.\n\n2016-05-22  Eli Zaretskii  <eliz@gnu.org>\n\n\tProvide workaround for xftfont rendering problem\n\n\t* src/xftfont.c (syms_of_xftfont) <xft-font-ascent-descent-override>:\n\tNew variable.\n\t(xftfont_open): Use it to work around problems with rendering some\n\tfonts.  (Bug#23360)\n\n2016-05-21  Jun Hao  <jun_hao@aol.com>\n\n\t* lisp/desktop.el: Disable restore frameset if in non-graphic display.\n\n\t(Bug#17693)\n\n2016-05-21  Eli Zaretskii  <eliz@gnu.org>\n\n\tMention GTK+ problems in etc/PROBLEMS\n\n\t* etc/PROBLEMS (GDK_SCALE, GDK_DPI_SCALE): Mention the possible\n\tproblems this could create and the workaround.  (Bug#23587)\n\n2016-05-20  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el (package-refresh-contents):\n\n\tDon't change the value of `package-check-signature'.\n\t(package-check-signature): Use `epg-find-configuration'\n\tinstead of `executable-find'.\n\n2016-05-20  Daiki Ueno  <ueno@gnu.org>\n\n\tRevert \"epg: Add a way to detect gpg1 executable for tests\"\n\n\tThis reverts commit d4ae6d7033b34e8b75c59aaf1584131e439ef2d5.\n\n2016-05-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid errors with Czech and Slovak input methods\n\n\t* lisp/leim/quail/slovak.el (slovak, slovak-prog-1, slovak-prog-2)\n\t(slovak-prog-3): Remove the kp-* key bindings, they are not needed\n\tand cause errors in \"C-u C-x =\".\n\t* lisp/leim/quail/czech.el (czech, czech-qwerty, czech-prog-1)\n\t(czech-prog-2, czech-prog-3): Remove the kp-* key bindings.\n\t(Bug#23559)\n\n2016-05-19  Daiki Ueno  <ueno@gnu.org>\n\n\tepg: Add a way to detect gpg1 executable for tests\n\n\tFixes bug#23561.\n\n\t* test/automated/epg-tests.el\n\t(epg-tests-program-alist-for-passphrase-callback): New\n\tconstant.\n\t(epg-tests-find-usable-gpg-configuration): New function,\n\trenamed from `epg-tests-gpg-usable'.  All callers changed.\n\t(epg-tests-gpg-usable): Remove.\n\n\t* lisp/epg-config.el (epg-config--program-alist): Factor out\n\tconstructor element to...\n\t(epg-config--configuration-constructor-alist): ...here.\n\t(epg-find-configuration): Rename FORCE argument to NO-CACHE,\n\tand add PROGRAM-ALIST argument.\n\n2016-05-18  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el: Fix free variable warnings.\n\n\t(package--with-response-buffer): Replace two usages of\n\t`macroexp-let2*' with `let'.\n\n2016-05-18  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el (package--with-response-buffer):\n\n\tFix some macro locals leaking into body.  (Bug#22440)\n\n\t* test/automated/package-test.el (package-test-signed):\n\tManually check all possible values of `package-check-signature'.\n\n2016-05-18  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of 'server-name'\n\n\t* doc/emacs/misc.texi (Emacs Server): Fix example of setting\n\t'server-name'.  Mention how to do that with daemon sessions.\n\t(Bug#23576)\n\n2016-05-18  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tModernize ASLR advice in etc/PROBLEMS\n\n\t* etc/PROBLEMS (Segfault during 'make'): Modernize advice for\n\tseccomp, Docker, and NetBSD (Bug#23529).\n\n2016-05-17  Juri Linkov  <juri@linkov.net>\n\n\t* lisp/char-fold.el: Rename from character-fold.el.\n\n\t* lisp/replace.el (replace-char-fold): Rename from replace-character-fold.\n\t* test/automated/char-fold-tests.el: Rename from character-fold-tests.el.\n\thttp://lists.gnu.org/archive/html/emacs-devel/2015-12/msg00529.html\n\n2016-05-17  Nicolas Petton  <nicolas@petton.fr>\n\n\tBump version to 25.0.94\n\n\t* README:\n\t* configure.ac:\n\t* msdos/sed2v2.inp: Bump Emacs version to 25.0.94.\n\n2016-05-17  Nicolas Petton  <nicolas@petton.fr>\n\n\tetc/AUTHORS: Update the AUTHORS file\n\n2016-05-16  Alan Third  <alan@idiocy.org>\n\n\tFix bug#23462: Crash when iconifying frame on OS X.\n\n\t* src/nsterm.m (x_iconify_frame): Block input while miniaturize is\n\trunning.\n\n2016-05-16  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tAvoid shrinking windows with Gtk+ 3.20.3\n\n\tProblem reported by Matthias Clasen (Bug#23144).\n\tThis was fixed in a different way in master.\n\tDo not merge to master.\n\t* src/xterm.c (handle_one_xevent) [GTK_CHECK_VERSION (3, 20, 3)]:\n\tDo not call xg_frame_resized in the MapNotify case.\n\n2016-05-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix bug in default setting of 'ps-paper-type'\n\n\t* lisp/international/mule-cmds.el (set-locale-environment): Don't\n\tinherit the value of locale from previous examination of different\n\tenvironment variables, which didn't look at LC_PAPER, and so using\n\tthat value would effectively ignore the setting of LC_PAPER.\n\t(Bug#23544)\n\n2016-05-13  Paul Eggert  <eggert@cs.ucla.edu>  (tiny change)\n\n\tProperly reject malformed or empty package sigs\n\n\tProblem report and fix by Lizzie Dixon (Bug#23513).\n\t* lisp/emacs-lisp/package.el (package--check-signature-content):\n\tReport an error if no good signatures OR if a fatal error.  Not AND.\n\n2016-05-13  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRemove buggy non-native image scrolling\n\n\tThis never worked, and could cause infinite recursion.\n\tProblem reported by Glenn Morris (Bug#22465).\n\t* lisp/xwidget.el (xwidget-webkit-scroll-behavior): Remove.\n\tAll uses removed.\n\n2016-05-13  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* doc/misc/texinfo.tex: Sync from gnulib.\n\n2016-05-12  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/emacs-lisp/find-func.el (find-feature-regexp)\n\t(find-alias-regexp): Fix :version.\n\n2016-05-11  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tDo not mistake colon at the end of regexp for slash symbol\n\n\t* lisp/progmodes/ruby-mode.el (ruby-syntax-propertize):\n\tCheck the parse state in the \"Symbols with special characters\"\n\trule (bug#23515).\n\n2016-05-11  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tMake package-install-from-buffer not move point\n\n\t* lisp/emacs-lisp/package.el (package-install-from-buffer):\n\tUse save-excursion here (bug#22616).\n\n2016-05-11  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tRedo the fix for bug#21839\n\n\t* lisp/help.el (help-add-fundoc-usage): Undo the previous change.\n\t(help--make-usage-docstring): Escape newlines when printing.\n\n\t* lisp/emacs-lisp/cl-macs.el (cl--transform-lambda):\n\tDitto (bug#21839).\n\n2016-05-10  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tDon't treat JS spread as contination method call\n\n\t* lisp/progmodes/js.el (js--indent-operator-re):\n\tAllow only one dot (bug#23492).\n\n\t* test/indent/js.js (default): Add a corresponding example.\n\n2016-05-09  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tAllow newlines inside cl function arglists\n\n\t* lisp/help.el (help-add-fundoc-usage): Allow newlines inside\n\tARGLIST (bug#21839).\n\n2016-05-09  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tPublicize cl--generic-all-functions\n\n\t* lisp/emacs-lisp/cl-generic.el (cl-generic-all-functions):\n\tRename from cl--generic-all-functions.  Update both callers.\n\n\t* lisp/cedet/semantic/db-el.el\n\t(semanticdb-find-tags-external-children-of-type-method):\n\tAnd use it here (bug#23042).\n\n2016-05-09  Alan Mackenzie  <acm@muc.de>\n\n\tAdd some \"safe-local-variable\" declarations for compatibility with master.\n\n\tThese enable C files from the master repository to be visited in Emacs 25\n\twithout generating irritating questions about configuration variable safety.\n\n\t* lisp/progmodes/cc-vars.el: (c-string-list-p, c-string-or-string-list-p): New\n\tfunctions.\n\t(c-noise-macro-names, c-noise-macro-with-parens-names): give the\n\tsafe-local-variable property c-string-list-p.\n\t(c-macro-names-with-semicolon): give the safe-local-variable property\n\tc-string-or-string-list-p.\n\n2016-05-09  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFix doc string in `insert'\n\n\t* src/editfns.c (Finsert_and_inherit): The before-insertion\n\tmarkers do not move.\n\t(Finsert): Ditto.\n\n2016-05-08  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* doc/misc/emacs-mime.texi (time-date): Document now-builtins better.\n\n2016-05-07  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tSay 'All results processed' at the end\n\n\t* lisp/progmodes/xref.el (xref--query-replace-1):\n\tSay 'All results processed' at the end if the user hadn't\n\tcancelled the process (bug#23284).\n\n2016-05-07  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument automatic adjustment of process' logical window dimensions\n\n\t* doc/lispref/processes.texi (Process Buffers): Document\n\t'set-process-window-size' and\n\t'window-adjust-process-window-size-function'.\n\n\t* etc/NEWS: Mention the new functionality and variable.\n\n\t* src/process.c (Fset_process_window_size): Improve the doc string.\n\n2016-05-06  Michael Albinus  <michael.albinus@gmx.de>\n\n\ttramp-sh.el: Work around a stat bug (backport from master)\n\n\t* lisp/net/tramp-sh.el (tramp-get-remote-stat): Do not use\n\tstat versions which produce shell quoted output.  See also\n\tcoreutils Bug#23422.\n\n\t(cherry picked from commit 6aad36ace9953b9672b13be68416d205532d5e59)\n\n2016-05-05  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDoc fixes for fclist and grep\n\n\tA newline is needed between two fc-list calls.\n\tegrep and fgrep have been withdrawn from POSIX,\n\tso document grep -E and grep -F instead.\n\n2016-05-05  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMinor doc fixes for quoting\n\n\t* doc/lispref/control.texi (Signaling Errors):\n\t* doc/lispref/display.texi (Displaying Messages):\n\tDon\u2019t say that formats \u201cgenerate\u201d.  Try to word more clearly.\n\t* etc/NEWS: Coalesce near-duplicate entries.\n\n2016-05-05  Dmitry Gutov  <dgutov@yandex.ru>\n\n\t`nreverse' the marker pairs list\n\n\t* lisp/progmodes/xref.el (xref--buf-pairs-iterator): `nreverse'\n\tthe marker pairs list for each buffer before returning.\n\n2016-05-04  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tUse save-excursion in xref-location-marker more\n\n\t* lisp/progmodes/elisp-mode.el (xref-location-marker): Use\n\tsave-excursion, in order not to alter the value of point if the\n\tbuffer is currently open in the background (problem reported by\n\tRobert Weiner).\n\n\t* lisp/progmodes/etags.el (xref-location-marker): Same.\n\n2016-05-04  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tshell-quote-argument DIR when appropriate\n\n\t* lisp/progmodes/project.el (project-file-completion-table):\n\t`shell-quote-argument' DIR as well.\n\n\t* lisp/progmodes/xref.el (xref--rgrep-command): Pass DIR through\n\t`shell-quote-argument' (bug#23453).  Thanks for Kaushal Modi for\n\tpointing out the problem.  Assert that DIR doesn't start with `~'.\n\n2016-05-04  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tRework xref-query-replace-in-results\n\n\t* lisp/progmodes/xref.el (xref-query-replace-in-results): Collect\n\tall xrefs from the buffer first, then delegate most of the\n\tprocessing to the value returned by xref--buf-pairs-iterator.\n\t(xref--buf-pairs-iterator): New function.  Return an \"iterator\"\n\twhich partitions returned markers into buffers, and only processes\n\tmarkers from one buffer at a time.  When an xref is out of date,\n\tskip it with a message instead of signaling error (bug#23284).\n\t(xref--outdated-p): Extract from xref--buf-pairs-iterator.  Trim\n\tCR from both strings before comparing.\n\t(xref--query-replace-1): Remove the variable current-buf, no need\n\tto track it anymore.  Simplify the filter-predicate and search\n\tfunctions accordingly.  Iterate over buffer-markers pairs returned\n\tby the iterator, and call `perform-replace' for each of them.  Use\n\tmulti-query-replace-map (bug#23284).  Use `switch-to-buffer' every\n\ttime after the first, in order not to jump between windows.\n\n\t* test/automated/xref-tests.el\n\t(xref--buf-pairs-iterator-groups-markers-by-buffers-1)\n\t(xref--buf-pairs-iterator-groups-markers-by-buffers-2)\n\t(xref--buf-pairs-iterator-cleans-up-markers): New tests.\n\n2016-05-04  Juri Linkov  <juri@linkov.net>\n\n\t* lisp/replace.el (query-replace-read-from): Use minibuffer-with-setup-hook\n\n\tto set minibuffer-local value of text-property-default-nonsticky.\n\t(Bug#23418, bug#23127)\n\n2016-05-04  Stephen Berman  <stephen.berman@gmx.net>\n\n\tFix todo-mode bug involving archived items (bug#23447)\n\n\t* lisp/calendar/todo-mode.el (todo-jump-to-category): When jumping\n\tfrom Todo Categories mode to a category with only archived items\n\tand todo-skip-archived-categories is non-nil, make sure the\n\tarchive file buffer is in Todo Archive mode to prevent\n\ttodo-category-select from raising an error, and don't set\n\ttodo-current-todo-file, since that makes todo-show display the\n\tarchived category.  Remove a no-op call to kill-buffer, which is\n\talready called in todo-insert-category-line.\n\n2016-05-03  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tHandle \"empty line\" regexp in xref searches\n\n\t* lisp/progmodes/xref.el (xref--collect-matches-1): Stop after one\n\tmatch if re-search-forward doesn't move point (bug#23426).\n\n\t* test/automated/xref-tests.el\n\t(xref-collect-matches-finds-an-empty-line-regexp-match):\n\tUncomment test.\n\n2016-05-03  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tAdd tests for xref-collect-matches\n\n\t* test/automated/xref-tests.el: New file.  Add tests for\n\txref-collect-matches.\n\n2016-05-03  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tUse grep-find-ignored-directories instead of vc-directory-exclusion-list\n\n\t* lisp/dired-aux.el (dired-do-find-regexp):\n\tUse grep-find-ignored-directories instead of\n\tvc-directory-exclusion-list.  The result should be functionally\n\tsimilar (the former uses the latter as the default value), but it\n\tshould be more consistent and appropriate WRT user\n\tcustomizations.\n\t(dired-do-find-regexp-and-replace): Update the docstring.\n\n\t* lisp/dired.el: Update the corresponding autoloads.\n\n\t* doc/emacs/dired.texi (Operating on Files): Update the\n\tdocumentation accordingly.\n\n2016-05-03  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tClear buffer-undo-list when showing xrefs\n\n\t* lisp/progmodes/xref.el (xref--show-xref-buffer): Clear\n\tbuffer-undo-list and temporarily bind it to t while rendering the\n\tbuffer contents.\n\n2016-05-03  Alan Mackenzie  <acm@muc.de>\n\n\tNote the quote translation in `message' in section \"incompatible changes\".\n\n\t* etc/NEWS: Note that `message' translates quotes, that the translation\n\tcannot be disabled, and that `format' can be used to get the old\n\tbehavior back.\n\n2016-05-03  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* etc/NEWS: Mention (message \"%s\" (format ...)).\n\n2016-05-03  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\t(Common Keywords): Correct what missing :group means\n\n\t* doc/lispref/customize.texi (Common Keywords): Correct what\n\tmissing :group means.\n\n2016-05-03  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of Dired's 'A' and 'Q' commands\n\n\t* lisp/dired-aux.el (dired-do-find-regexp)\n\t(dired-do-find-regexp-and-replace): Mention\n\t'grep-find-ignored-files' and 'vc-directory-exclusion-list', and\n\talso the fact that REGEXP should be palatable by Grep.  (Bug#23426)\n\t* lisp/dired.el: Update the corresponding autoload forms.\n\n\t* doc/emacs/dired.texi (Operating on Files): Mention\n\t'grep-find-ignored-files' and 'vc-directory-exclusion-list'.\n\t(Bug#23429)\n\n2016-05-03  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDoc fixes for quoting\n\n\t* doc/emacs/text.texi, doc/lispintro/emacs-lisp-intro.texi:\n\t* doc/lispref/control.texi, doc/lispref/display.texi:\n\t* doc/lispref/help.texi, doc/lispref/strings.texi, lisp/subr.el:\n\t* src/callint.c, src/doprnt.c, src/editfns.c:\n\tDocument quoting a bit more systematically.\n\tProblem reported by Alan Mackenzie (Bug#23425).\n\n2016-05-02  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tposnp doc clarification\n\n\t* lisp/subr.el (posnp): Mention that a posn object is returned\n\tfrom `event-start' (bug#18211).\n\n2016-05-02  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMention what a missing :group does\n\n\t* doc/lispref/customize.texi (Common Keywords): Document that\n\ta missing :group reuses the group from the preceding item (bug#21601).\n\n2016-05-02  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix documentation of dired-aux search/replace commands\n\n\t* lisp/dired-aux.el (dired-do-find-regexp)\n\t(dired-do-find-regexp-and-replace): Doc fixes.  (Bug#23429)\n\t* lisp/dired.el: Update the corresponding autoload forms.\n\n2016-05-02  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix quoting problem in cc-engine debug message\n\n\t* lisp/progmodes/cc-engine.el (c-replay-parse-state-state):\n\tUse \"%s\" format to pass through \u2018'\u2019 unscathed (Bug#23425), and\n\tlikewise for \u2018`\u2019, and \u2018%\u2019.\n\n2016-05-02  Philipp Stephani  <phst@google.com>\n\n\tAdd electric-quote-string unit test\n\n\t* test/automated/electric-tests.el (electric-quote-string): New test.\n\n2016-05-02  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDon\u2019t electrically quote \u2018'\u2019 in Python\n\n\tProblem reported by Philipp Stephani (Bug#23387).\n\t* lisp/electric.el (electric-quote-post-self-insert-function):\n\tDo not requote a string starter or ender.\n\n2016-05-02  Dmitry Gutov  <dgutov@yandex.ru>\n\n\t`nreverse' Grep hits before passing them to xref--convert-hits\n\n\t* lisp/progmodes/xref.el (xref-collect-matches): `nreverse' hits\n\tbefore passing them to xref--convert-hits.  Fixes a regression\n\tfrom cc0b7132.\n\n2016-05-01  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* doc/misc/texinfo.tex: Sync from gnulib.\n\n2016-05-01  Juri Linkov  <juri@linkov.net>\n\n\t* lisp/isearch.el (isearch-forward-symbol-at-point): Add isearch-push-state.\n\n\t(Bug#23410)\n\n2016-05-01  Michael Albinus  <michael.albinus@gmx.de>\n\n\ttramp.texi: Revert last change due to backward compatibility\n\n\t(cherry picked from commit 910f9a0a936aacbffe9b9b790d7f698dfd287aac)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tcua-prefix-override-inhibit-delay doc fix\n\n\t* lisp/emulation/cua-base.el\n\t(cua-prefix-override-inhibit-delay): Typo fix in doc string\n\t(bug#23401).\n\n\t(cherry picked from commit 2b4c099822811ede787fc6e575bfbb17b3cc0681)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tglobal-eldoc-mode doc fix\n\n\t* lisp/emacs-lisp/eldoc.el (global-eldoc-mode): Be more\n\tspecific about what \"applicable\" means (bug#23071).\n\n\t(cherry picked from commit 25e95b5dd8cd92e03788e589bf99a4b399f03114)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tnormal-top-level-add-subdirs-to-load-path doc fix\n\n\t* lisp/startup.el (normal-top-level-add-subdirs-to-load-path):\n\tDoc fix (bug#21962).\n\n\t(cherry picked from commit 28aaa6d20586e3330a23b017a65e56dd6461c003)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tisearch-search-fun-function doc tweak\n\n\t* lisp/isearch.el (isearch-search-fun-function): Mention what\n\tthe STRING parameter is (bug#21552).\n\n\t(cherry picked from commit cafc2a5940cdc523cfea6dcf1cf540f48367c62a)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFill some imenu--index-alist doc lines\n\n\t* lisp/imenu.el (imenu--index-alist): Fill some doc lines (bug#21269).\n\n\t(cherry picked from commit 4b7bb8f596550628eaa83b82c0f7eabe59a84964)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFmarker_position doc string clarification\n\n\t* src/marker.c (Fmarker_position): Clarify the doc string\n\t(bug#21231).\n\n\t(cherry picked from commit eeac7c57273cec3f9408b18392dd2bafe3be4450)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFurther define-obsolete-* doc fixups\n\n\t* lisp/emacs-lisp/byte-run.el (define-obsolete-face-alias):\n\tFix up last change.\n\t(define-obsolete-variable-alias): Ditto.\n\n\t(cherry picked from commit 28e9f4390d8391c2c36be4ef515cf3a2c679a5a5)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDescribe WHEN in all the define-obsolete- macros\n\n\t* lisp/emacs-lisp/byte-run.el (define-obsolete-face-alias):\n\tSay more verbosely what WHEN is (bug#21225).\n\t(define-obsolete-function-alias): Describe the WHEN parameter.\n\t(define-obsolete-variable-alias): Ditto.\n\n\t(cherry picked from commit 247c388f160581d207e41ca5926990bbf69d4a0f)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMention with-silent-modifications in the lispref manual\n\n\t* doc/lispref/text.texi (Changing Properties): Document\n\twith-silent-modifications (bug#21171).\n\n\t(cherry picked from commit fcd0d854eef6e439d51e8f07cf734d5e34e502b3)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\twith-silent-modifications doc clarification\n\n\t* lisp/subr.el (with-silent-modifications): Rearrange the doc\n\tstring a bit so that the most pertinent information is at the\n\ttop (bug#21171).\n\n\t(cherry picked from commit e0e70f030e69d9696a963a86f5f7caaff4df06eb)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tclear-visited-file-modtime doc string fix\n\n\t* lisp/files.el (clear-visited-file-modtime): Fix possibly\n\tconfusing doc string wording (bug#21169).\n\n\t(cherry picked from commit 1aaeaf1450756a71c9254a2a5b174c72084ca67a)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDocument mode mode line variables\n\n\t* doc/lispref/modes.texi (Mode Line Variables): Document\n\t`mode-line-front-space, `mode-line-misc-info',\n\t`mode-line-end-spaces' (bug#21014).\n\n\t(cherry picked from commit bf7a630b0a5d3900f2afb0e7a881ce62e2b9f935)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAdd a cross ref to Optional Mode Line\n\n\t* doc/lispref/modes.texi (Mode Line Variables): Add a cross\n\treference to the Emacs mode line node that explains things\n\tlike `display-time-string' (bug#21002).\n\n\t(cherry picked from commit a3151a28789f413af73b14fbba557b2a587fca53)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAdd a doc string to display-time-string\n\n\t* lisp/time.el: Add a doc string to `display-time-string',\n\tbecause it's referred to in the manual, and is too mysterious\n\totherwise (bug#21002).\n\n\t(cherry picked from commit 45559c584e5a4ddeed1539b028b50b95baa372f8)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tcustom-buffer-style doc fix\n\n\t* lisp/cus-edit.el (custom-buffer-style): Document the `tree'\n\tvalue (bug#20724).\n\n\t(cherry picked from commit bcf0291d0cd02095b0809b1eb91f1e5c5c2ac5e3)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRearrange the doc of query-replace slightly\n\n\t* lisp/replace.el (query-replace): Move the mention of the\n\tinteractive prefix arg earlier so that users can find it\n\t(bug#20654).\n\n\t(cherry picked from commit bcc10761c3b968fa4534718116a0a601ed7da389)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tapropos-print doc fix\n\n\t* lisp/apropos.el (apropos-print): Document the undocumented\n\tparameters (bug#20520).\n\n\t(cherry picked from commit 0714d7387812a151f59993ac77c7321724ef79b1)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tcompletion-table-with-predicate doc string fix\n\n\t* lisp/minibuffer.el (completion-table-with-predicate): t ->\n\tnon-nil in the doc string (bug#20460).\n\n\t(cherry picked from commit b6a4d162208f239bc7804696d611ae52c686f138)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFill the completion-table-with-predicate doc string\n\n\t* lisp/minibuffer.el (completion-table-with-predicate): Fill\n\tthe doc string (bug#20460).\n\n\t(cherry picked from commit 207a31432c1ed8b548003a3e4af32c49aa3441e9)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\treplace-match-maybe-edit doc clarification\n\n\t* lisp/replace.el (replace-match-maybe-edit): Say what\n\tMATCH-DATA is (bug#20304).\n\n\t(cherry picked from commit 139874ba53c2e2de9868f8e5234d6ea2bcb97af8)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tadd-timeout doc fix\n\n\t* lisp/emacs-lisp/timer.el (add-timeout): Mention the return\n\tvalue (bug#20181).\n\n\t(cherry picked from commit 921b40476f597c84d7c34aa289cd43caeb389c4a)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tExtremely minor doc fix in Choosing Window\n\n\t* doc/lispref/windows.texi (Choosing Window): There's only one\n\taction alist, I think (bug#20158).\n\n\t(cherry picked from commit 6c7e7f421d02d9290d6d1d85320737371160aef7)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tTransform mentions of `eval-after-load' to `with-eval-after-load'\n\n\t* doc/lispref/loading.texi (Hooks for Loading): Update text to\n\tnot mention `eval-after-load' (bug#20038).\n\n\t(cherry picked from commit 9392193be56eebdfac702a0bbb5e954088371c7a)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tcursor-type doc fix\n\n\t* src/buffer.c (syms_of_buffer): Mention that cursor-type's\n\tWIDHT/HEIGHT can't exceed the frame char size (bug#19215).\n\n\t(cherry picked from commit 77c5f4554ebb3b7c7d49bc881e45a550f6c93987)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAdd a link from Tool Bar to Images\n\n\t* doc/lispref/keymaps.texi (Tool Bar): Add a link to the\n\tImages node (bug#19722).\n\n\t(cherry picked from commit da5d0786163a91400eced4fddba4a92b652458d1)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\t(default-mode-line-format): More explicit obsolete info\n\n\t* lisp/subr.el (default-mode-line-format): Be more explicit in\n\thow default values are now handled (bug#19424).\n\n\t(cherry picked from commit 9dc5f6d830e72420dc4d41c8f6ca1ca6b28609c0)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFcompare_buffer_substrings doc string clarification\n\n\t* src/editfns.c (Fcompare_buffer_substrings): Extremely minor\n\tdoc string clarification (bug#19255).\n\n\t(cherry picked from commit aa692acbb598a1cc8219ed7a87dde25fd7626ba5)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tinsert-file-contents-literally doc fix\n\n\t* lisp/files.el (insert-file-contents-literally): Say that the\n\tparameters are explained in the other function (bug#18317).\n\n\t(cherry picked from commit b6481b19bc9592492b1f70dfecb4de6256f537fe)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFix custom types for cursor-in-non-selected-windows\n\n\t* lisp/cus-start.el (standard): Use the same custom types for\n\tcursor-in-non-selected-windows as for cursor-type (bug#19214).\n\n\t(cherry picked from commit b66bc0cced786e0320e1c3b0758bd3c434d4e8b5)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDoc clarification to mwheel-scroll\n\n\t* lisp/mwheel.el (mwheel-scroll): Mention that the restriction\n\tdoes not apply to Windows (bug#19209).\n\n\t(cherry picked from commit 696052b5fdfbc5c25dff3c6b081aebe70f6d06c7)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tClarify the doc of eval-expression-print-format\n\n\t* lisp/simple.el (eval-expression-print-format): Doc\n\tclarification (bug#19114).\n\n\t(cherry picked from commit cd193a871f5a8e1c81ba86fc398ac382fa814383)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tExplictly explain that package-initialize loads the packages\n\n\t* lisp/emacs-lisp/package.el (package-initialize): Be explicit\n\tin saying that `package-initialize' obviates adjusting the\n\tpath or requiring the packages, as this is a question that\n\tapparently comes up now and then (bug#18829).\n\n\t(cherry picked from commit 619e0aedb2f3dbfe6821ac34e2d25b4e5c181117)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tHave the doc strings of `load-path' and `require' mention each other\n\n\t* src/fns.c (Frequire): Mention `load-path' and fill the doc\n\tstring (bug#18829).\n\n\t* src/lread.c (syms_of_lread): Mention that `require' uses\n\t`load-path'.\n\n\t(cherry picked from commit 3eca9a03816f95da0030665223c0b5262f223ba7)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDoc fix for insert-pair-alist\n\n\t* lisp/emacs-lisp/lisp.el (insert-pair-alist): Say what\n\tCOMMAND-CHAR is (bug#18809).\n\n\t(cherry picked from commit 2824c587e9749a8f350f1d3dddd65176b4561dcb)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMove doc of backup-directory-alist to the Backup node\n\n\t* doc/emacs/files.texi (Backup): Move the documentation of\n\t`backup-directory-alist' here from the \"Single or Numbered\n\tBackups\" node, because it doesn't seem to have much to do with\n\tnumbering (bug#18692).\n\n\t(cherry picked from commit e77b8d84b4161f2cf8720dec2bf44a3e50134398)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tTiny doc clarification for create-fontset-from-fontset-spec\n\n\t* lisp/international/fontset.el (create-fontset-from-fontset-spec):\n\tClarify what the optional part is (bug#18686).\n\n\t(cherry picked from commit c05d186455ce9907eeb6b21ea4227e453996c681)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFill the doc string of font-lock-keywords\n\n\t* lisp/font-lock.el (font-lock-keywords): Fill the lines and\n\treorganise some explanations (bug#21427).\n\n\t(cherry picked from commit c05716d3a26ea7518b89eacfccaf70c9d0731df7)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDoc fix for font-lock-remove-keywords\n\n\t* lisp/font-lock.el (font-lock-remove-keywords): Add a link to\n\t`font-lock-add-keywords' to describe KEYWORDS (bug#18634).\n\n\t(cherry picked from commit bc00dcf12983cd399127d0eea39647f29778eb02)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tClarify whitespace-style doc string\n\n\t* lisp/whitespace.el (whitespace-style): Doc clarification\n\t(bug#18296).\n\n\t(cherry picked from commit d96c720d0cca7c9ffbb4c712ad315bb707d6625c)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDoc fixed for next-error-buffer-p\n\n\t* lisp/simple.el (next-error-buffer-p): Clarify doc string\n\t(bug#18202).\n\n\t(cherry picked from commit a10eb168cc96db9f0dab2d75550cbd8f08be2363)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tTiny doc fix\n\n\t* src/fileio.c (Ffile_accessible_directory_p): Tiny doc fix\n\t(and fill) (bug#18201).\n\n\t(cherry picked from commit 2ef0040e2363a669d9b93df935d31c98fa130132)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDoc fix\n\n\t* src/keymap.c (Fdefine_prefix_command): Clarify doc string\n\tslightly (bug#18092).\n\n\t(cherry picked from commit 6b769c81d024f7eeb90b167e7df6f87d859614d4)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tdelsel doc touch ups\n\n\t* lisp/delsel.el (delete-selection-helper): Use non-nil\n\tinstead of t and clarify function return values (bug#18089).\n\n\t(cherry picked from commit d7a5b5be9a5869bcd233434ec3103dd1976d7df7)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDoc fixes for menu-bar.el\n\n\t* lisp/menu-bar.el (clipboard-kill-ring-save): Describe the\n\tREGION parameter (bug#18028).\n\t(clipboard-kill-region): Ditto.\n\n\t(cherry picked from commit 33d2c67bff0992ecbc0fe38556683242b9d1a4ae)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDoc fix\n\n\t* lisp/rect.el (delete-whitespace-rectangle): Doc fix (bug#18026).\n\n\t(cherry picked from commit 6baca4911ec901579749dbf7596011d90fea3781)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMinor doc clarification\n\n\t* lisp/subr.el (y-or-n-p): Document the return value from \"n\"\n\t(bug#18024).\n\n\t(cherry picked from commit 5d1f3192d484edee92caa46cd7d699da3e920259)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFill font-lock-mode doc string\n\n\t* lisp/font-core.el (font-lock-mode): Fill the text to make it\n\tnarrower (bug#18008).\n\n\t(cherry picked from commit 27abf372836532c57be2e9e3ed23413729cc07fc)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tWrap the auto-generated doc string\n\n\t* lisp/emacs-lisp/easy-mmode.el (define-minor-mode): Wrap a\n\tstring to make it less likely that we get overlong lines\n\t(bug#17999).\n\n\t(cherry picked from commit 323b69664914d687fd4b48593479cea223dfbcb4)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tClarify hi-lock-find-patterns\n\n\t* lisp/hi-lock.el (hi-lock-find-patterns): Doc clarification\n\t(bug#17989).\n\n\t(cherry picked from commit 552e90ce7dff3a7107243fdf71c4de3af443e13a)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAdd a doc string to `winner-mode'\n\n\t* lisp/winner.el (winner-mode): Add a doc string based on the\n\tcomments in the file (bug#17716).\n\n\t(cherry picked from commit 2c3ab9b6e39a3d600e7d82deacc24effaec051bb)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDoc fix for align-newline-and-indent\n\n\t* lisp/align.el (align-newline-and-indent): Mention that\n\talignment is done by `align' (bug#17707).\n\n\t(cherry picked from commit 340a224ec3e01706112a07164da9a9f3f369a5aa)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDoc fix for `kbd'\n\n\t* lisp/subr.el (kbd): Describe more fully the format of the\n\tparameter (bug#17039).\n\n\t(cherry picked from commit 3a33afe25d8518f194fa4706eaccdb2a786a0348)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDoc tweak\n\n\t* lisp/simple.el (use-empty-active-region): Doc tweak.\n\tThere's only one region (bug#16513).\n\n\t(cherry picked from commit 35fb7897f161d5e5a87e039dc1e427094640b0c8)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tLink from (emacs)Exiting to (lisp)Killing Emacs\n\n\t* doc/emacs/entering.texi (Exiting): Link to the lispref\n\tmanual for further customisations (bug#15445).\n\n\t(cherry picked from commit bc5f27aa099cdde02ca66e71501b89300685ab28)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tfind-lisp doc touchups\n\n\t* lisp/find-lisp.el (find-lisp-format): Copy over the doc\n\tstring (bug#15047).\n\t(find-lisp-find-files): Clarify doc.\n\n\t(cherry picked from commit e4c7657b0d1a31d64ca24bc64b5480cd7687e332)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDon't have the manual claim that it lists all CL incompatibilities\n\n\t* doc/misc/cl.texi (Common Lisp Compatibility): The list of\n\tincompatibilities isn't exhaustive, so don't say that it is\n\t(bug#15171).\n\n\t(cherry picked from commit fb685bc91a72508c97ce7e30f970d4157677f371)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tChange all occurrences of \"Mouse-[0-9]\" to \"mouse-[0-9]\"\n\n\t* doc/emacs/*.texi: Change all occurrences of \"Mouse-[0-9]\" to\n\t\"mouse-[0-9]\".  These are case sensitive, and the keys are lower case\n\t(bug#14554).\n\n\t(cherry picked from commit e4c26271f2c2fe08f8490e25c63a436ab2a804ca)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDoc string change to enable-recursive-minibuffers\n\n\t* src/minibuf.c (syms_of_minibuf): Mention\n\tminibuffer-depth-indicator-mode in the doc string to\n\tenable-recursive-minibuffers (bug#14147).\n\n\t(cherry picked from commit 23ba488a5e8290c4de91e0ff4161641efa364c0d)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tClarify the `interactive' doc string slightly\n\n\t* src/callint.c (Finteractive): Clarify the doc string slightly\n\t  (bug#14577).\n\n\t(cherry picked from commit cd993be60da2d12db0d390001373d486c1091c47)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tClarify some doc strings\n\n\t* lisp/emacs-lisp/syntax.el (syntax-propertize-via-font-lock):\n\tClarify doc string (bug#8693).\n\t(syntax-propertize): Clarify doc string.\n\n\t(cherry picked from commit ad3ef417f3c40f086de9c547d6272e5685595e42)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAdd some concept index entries for custom types\n\n\t* doc/lispref/customize.texi (Composite Types): Add concept\n\tindex entries for restricted-sexp, radio and choice (bug#7385).\n\n\t(cherry picked from commit 388bb723fa078158d3148de05e942f9c01e95dd8)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMention `lisp-indent-function' in the lispref manual\n\n\t* doc/lispref/macros.texi (Indenting Macros): Mention\n\t`lisp-indent-function' (bug#3393).\n\n\t(cherry picked from commit a1627691a896b2afaa264f93534178bc763564c9)\n\n2016-05-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tClarify doc string of internal compilation function\n\n\t* lisp/progmodes/compile.el (compilation-get-file-structure):\n\tClarify doc string (bug#3137).\n\n\t(cherry picked from commit 123191decb7428db3b32a6c01631fa755088393a)\n\n2016-05-01  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tUse \u2018T *restrict\u2019 proto, not \u2018T[restrict]\u2019\n\n\t* src/fns.c (sort_vector_copy): Use a different way to attempt to\n\twork around GCC 3.0-and-earlier incompatibility with C99, one that\n\tdoes not have problems with modern non-GCC compilers.\n\n2016-05-01  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix documentation of 'url-retrieve-synchronously'\n\n\t* doc/misc/url.texi (Retrieving URLs): Update argument list of\n\t'url-retrieve-synchronously'.  (Bug#23411)\n\n2016-05-01  Eli Zaretskii  <eliz@gnu.org>\n\n\t* lisp/url/url.el (url-retrieve-synchronously): Doc fix.  (Bug#23411)\n\n2016-04-30  Leo Liu  <sdl.web@gmail.com>\n\n\tFix last change to isearch-update (bug#23406)\n\n\t* lisp/isearch.el (isearch-update): Remove (setq cursor-sensor-inhibit\n\t  nil) ie remove the original (unless (boundp 'cursor-sensor-inhibit)\n\t  ...) form.\n\n2016-04-30  Leo Liu  <sdl.web@gmail.com>\n\n\tAutoload cursor-sensor-inhibit (bug#23406)\n\n\t* lisp/emacs-lisp/cursor-sensor.el (cursor-sensor-inhibit): Autoload.\n\t* lisp/isearch.el (isearch-update): Remove boundp check.\n\n2016-04-30  Phillip Lord  <phillip.lord@newcastle.ac.uk>\n\n\torg-map-entries: Fix org-agenda-prepare-buffers call\n\n\t* lisp/org/org.el (org-map-entries): Check that buffer-file-name is non-nil\n\t  before passing to org-agenda-prepare-buffers.\n\n\tThis is a backport of commit 44c8cd7136e3fcd1e6bfa08895cac437b7a691fa\n\tfrom upstream org-mode. Addresses bug #23365.\n\n2016-04-30  Eli Zaretskii  <eliz@gnu.org>\n\n\tFollowup for last commit in the user manual\n\n\t* doc/emacs/basic.texi (Moving Point): Clarify that\n\tset-goal-column has buffer-local effect.  (Bug#23405)\n\n2016-04-30  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove doc string of 'set-goal-column'\n\n\t* lisp/simple.el (set-goal-column): Doc fix.  (Bug#23405)\n\n2016-04-30  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix the MSDOS build\n\n\t* config.bat:\n\t* msdos/sedlisp.inp:\n\t* msdos/sedlibmk.inp:\n\t* msdos/sedleim.inp:\n\t* msdos/sedadmin.inp:\n\t* msdos/sed6.inp:\n\t* msdos/sed3v2.inp:\n\t* msdos/sed2v2.inp:\n\t* msdos/sed1v2.inp: Adapt to Emacs 25.\n\n\t* src/process.c (remove_slash_colon): Move out of \"#ifdef\n\tsubprocesses\" block, as it its called unconditionally.  Move\n\tADD_SUBFEATURE calls into \"#ifdef subprocesses\" block, as they\n\treference variables only defined in that block.\n\t* src/msdos.h: Provide prototypes for IT_set_frame_parameters,\n\tfaccessat, msdos_fatal_signal, syms_of_msdos, pthread_sigmask,\n\tdos_keysns, dos_keyread, run_msdos_command, and\n\tsyms_of_win16select, to avoid compiler warnings.\n\t* src/msdos.c (SYS_ENVIRON): Define to either '_environ' or\n\t'environ', depending on the DJGPP version.\n\tRemove declarations of externally-visible Lisp objects, like\n\tQbackground_color and Qreverse.\n\t(run_msdos_command): First argument is not signed, not unsigned.\n\tUse SYS_ENVIRON.\n\t(sys_select): Use 'timespec_cmp' instead of 'timespec_sign', as\n\tthe latter doesn't work when 'time_t' is an unsigned data type.\n\tThis caused idle timers to behave incorrectly: they only fired\n\tafter a keyboard input event.\n\t* src/frame.c (adjust_frame_size) [MSDOS]: Account for\n\tFRAME_TOP_MARGIN that isn't counted in the frame's number of\n\tlines, but dos_set_window_size needs it to be added.\n\t* src/lread.c (INFINITY, NAN) [DJGPP < 2.05]: Provide definitions.\n\t* src/fns.c (sort_vector_copy) [__GNUC__ < 4]: Provide a prototype\n\tthat works around compilation errors with older GCC versions.\n\t* src/w16select.c: Don't declare QCLIPBOARD and QPRIMARY as Lisp\n\tObjects.\n\t* src/filelock.c [MSDOS]: Ifdef away most of the code.  Provide\n\tno-op implementations for 'lock_file' and 'unlock_file'.\n\t(Ffile_locked_p) [MSDOS]: Always return nil.  This avoids multiple\n\tifdefs in all users of filelock.c functionality.\n\t* src/conf_post.h (EOVERFLOW, SIZE_MAX) [DJGPP < 2.04]: Define.\n\t* src/emacs.c [MSDOS]: Include dosfns.h, to avoid compiler\n\twarnings.\n\t* src/dosfns.h: Provide prototypes for dos_cleanup,\n\tsyms_of_dosfns, and init_dosfns.\n\t* src/deps.mk (atimer.o): Depend on msdos.h.\n\t(emacs.o): Depend on dosfns.h.\n\t* src/atimer.c [MSDOS]: Include msdos.h, to avoid compiler\n\twarnings.\n\n\t* lisp/window.el (window--adjust-process-windows): Skip the body\n\tif 'process-list' is not available.  This avoids failure to start\n\tup on MS-DOS.\n\t* lisp/vc/diff.el (diff-no-select): Test 'make-process', not\n\t'start-process', as the latter is now available on all platforms.\n\t* lisp/textmodes/ispell.el (ispell-async-processp): Replace\n\t'start-process' with 'make-process' in a comment.\n\t* lisp/term/internal.el (IT-unicode-translations): Modify and add\n\ta few translations to display Info files with Unicode markup.  Fix\n\tan ancient off-by-one mismatch error with Unicode codepoints.\n\t* lisp/progmodes/compile.el (compilation-start): Test\n\t'make-process', not 'start-process', as the latter is now\n\tavailable on all platforms.\n\t* lisp/man.el (Man-build-man-command, Man-getpage-in-background):\n\tTest 'make-process', not 'start-process', as the latter is now\n\tavailable on all platforms.\n\t* lisp/international/mule-cmds.el (set-coding-system-map): Test\n\t'make-process', not 'start-process', as the latter is now\n\tavailable on all platforms.\n\t* lisp/eshell/esh-cmd.el (eshell-do-pipelines-synchronously): Doc\n\tfix.\n\t(eshell-execute-pipeline): Test 'make-process', not\n\t'start-process', as the latter is now available on all platforms.\n\n2016-04-30  Andreas Schwab  <schwab@linux-m68k.org>\n\n\tRemove \\= from format string (bug#18190)\n\n\t* lisp/emacs-lisp/eieio.el (defclass): Remove \\= from format\n\tstring.\n\n2016-04-30  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix variable-pitch font on MS-Windows\n\n\t* lisp/faces.el (variable-pitch) [w32]: Name a variable-pitch font\n\texplicitly, to avoid Emacs picking up a bold-italic variant on\n\tsome MS-Windows systems.  See this thread for details:\n\thttp://lists.gnu.org/archive/html/emacs-devel/2016-04/msg00746.html.\n\n2016-04-29  Alan Mackenzie  <acm@muc.de>\n\n\tRestore follow-scroll-up/down to scrolling by the combined size of all windows\n\n\tAlso rename the current follow-scroll-up/down functions to\n\tfollow-scroll-up-window and follow-scroll-down-window.  These scroll by the\n\theight of the current window.\n\n\tThis fixes bug #23347.\n\n\t* lisp/follow.el (follow-mode): Tweak the doc string.\n\t(follow-scroll-up-arg, follow-scroll-down-arg): new functions, extracted from\n\tfollow-scroll-up/down.\n\t(follow-scroll-up-window, follow-scroll-down-window): Functions renamed from\n\tfollow-scroll-up/down.\n\t(follow-scroll-up, follow-scroll-down): Restore the historic functionality.\n\n2016-04-29  Alan Mackenzie  <acm@muc.de>\n\n\tRevert unneeded change which harms syntactic parsing.  This fixes bug #23308.\n\n\t* lisp/progmodes/cc-engine.el (c-invalidate-state-cache): User\n\tc-state-old-cpp-end as an argument to c-with-all-but-one-cpps-commented-out\n\tregardless of the value of `here'.\n\n2016-04-29  Alan Mackenzie  <acm@muc.de>\n\n\tCorrect indentation of ids in a C++ enum after a protection keyword.\n\n\tAlso correct the misfontification of the last enum identifier.\n\n\t* lisp/progmodes/cc-engine.el (c-forward-keyword-prefixed-id): setq\n\tc-last-identifier-range to nil to ensure that only types recognized by this\n\tmacro are set for fontification as types.\n\t(c-backward-typed-enum-colon): Function renamed from\n\tc-backward-colon-prefixed-type.  On finding a colon in the backward search,\n\tcheck it is preceded by an identifier rather than a keyword.\n\n2016-04-27  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/window.el (window--process-window-list): No-op if no processes.\n\n\tThis avoids an issue with save-selected-window (from walk-windows)\n\tfailing if frame.el is not loaded, eg if the terminal is resized\n\tduring startup of a -nw CANNOT_DUMP build.  (Bug#23369).\n\n2016-04-27  Paul Eggert  <eggert@penguin.cs.ucla.edu>\n\n\tPort dumping to NetBSD with PaX\n\n\tProblem reported by Thomas Klausner (Bug#23371).\n\t* configure.ac (PAXCTL_dumped, PAXCTL_notdumped): New vars.\n\tSet them to setfattr and/or paxctl commands appropriate for\n\tGNU/Linux and/or NetBSD; the latter prefers paxctl +a.  Search\n\tfor paxctl only if setfattr is not found.\n\t* src/Makefile.in (PAXCTL_dumped, PAXCTL_notdumped):\n\tNew vars, replacing PAXCTL_if_present and SETFATTR_if_present.\n\tAll uses changed.\n\n2016-04-27  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tDon't mistake `for' inside a function for a part of array comprehension\n\n\t* lisp/progmodes/js.el (js--indent-in-array-comp): Also check the\n\tdepth in parens between the bracket and `for' (bug#23391).\n\n\t* test/indent/js.js: Add a corresponding example.\n\n2016-04-27  Anders Lindgren  <andlind@gmail.com>\n\n\tFix bug#22891: wrong terminal width when a fringe width is zero.\n\n\tWhen either fringe width is zero, Emacs reserved one column for a\n\tcontinuation glyph. Terminal windows does not take this into\n\taccount when the frame is resized.\n\n\t* lisp/window.el (window-adjust-process-window-size): Use\n\t`window-max-chars-per-line' instead of `window-body-width'.\n\t* lisp/term.el (term-window-width): Remove function. (It does the\n\tsame as `window-max-chars-per-line' but without recent bug fixes.)\n\t(term-mode): Use `window-max-chars-per-line' instead of\n\t`term-window-width'.\n\n\tBackport\n\n\t(cherry picked from commit 5b5403289888efe8783ae6a405845b925f544ec1)\n\n2016-04-27  Leo Liu  <sdl.web@gmail.com>\n\n\tImprove last change to vc-git-mode-line-string\n\n\t* lisp/vc/vc-git.el (vc-git-mode-line-string): Better fix that caches\n\t  the result.\n\n2016-04-27  Stephen Berman  <stephen.berman@gmx.net>\n\n\tTodo mode doc bug fix\n\n\t* lisp/calendar/todo-mode.el (todo-show): Correct obsolete and no\n\tlonger correct information in doc string.\n\n2016-04-27  Leo Liu  <sdl.web@gmail.com>\n\n\tFix revision calculation in vc-git-mode-line-string\n\n\t* lisp/vc/vc-git.el (vc-git-mode-line-string): Use\n\t  vc-git-working-revision because vc-working-revision needs to decide\n\t  the backend and may return nil.\n\n2016-04-26  Jorgen Schaefer  <contact@jorgenschaefer.de>\n\n\tAdd Python 3.5 keyword \"await\"\n\n\t* lisp/progmodes/python.el (python-font-lock-keywords): Add await as\n\tkeyword.\n\n2016-04-26  Lele Gaifax  <lele@metapensiero.it>\n\n\tAdd new keywords of Python 3.5\n\n\tPython 3.5, released in mid September 2015, introduced a few new\n\tkeywords to better support asynchronous code, \"async\" and \"await\"\n\tin particular. See https://www.python.org/dev/peps/pep-0492/ for\n\tdetails. (Bug#21783)\n\t* lisp/progmodes/python.el (python-rx-constituents): Add async\n\tdef/for/with as block-start and async def as defun.\n\t* lisp/progmodes/python.el (python-font-lock-keywords): Add async\n\tdef/for/with as keyword.\n\t* test/automated/python-tests.el (python-indent-after-async-block-1,\n\tpython-indent-after-async-block-2, python-indent-after-async-block-3,\n\tpython-nav-beginning-of-defun-3): New tests to test indentation and\n\tnavigation for the async keyword.\n\n2016-04-26  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tPartially revert previous change.\n\n\tThis commit partially reverts 0f332848cdb2ed6d46771914a911cbca194cd51a.\n\t* lisp/rect.el (rectangle--highlight-for-redisplay): Use region face.\n\tThis function is for rectangle-mark-mode, not string-rectangle.\n\n2016-04-25  Paul Eggert  <eggert@penguin.cs.ucla.edu>\n\n\tSay why text-quoting-style is not a user option\n\n\t* doc/lispref/help.texi (Keys in Documentation):\n\t* etc/NEWS: Document why text-quoting-style is not a\n\tcustomizable variable (Bug#23372).\n\n2016-04-25  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/emacs-lisp/autoload.el (update-directory-autoloads):\n\tFuture-proof against non-time-values.\n\n2016-04-25  Eli Zaretskii  <eliz@gnu.org>\n\n\tDon't mention ~/.emacs.bmk literally in doc strings\n\n\t* lisp/bookmark.el (bookmark-save-flag, bookmark-load): Don't\n\tmention \"~/.emacs.bmk\" explicitly as the default bookmark file in\n\tthe doc strings.  (Bug#23350)\n\n2016-04-25  YAMAMOTO Mitsuharu  <mituharu@math.s.chiba-u.ac.jp>\n\n\t* etc/NEWS: Explain why multicolor font display is disabled on OS X Cocoa.\n\n2016-04-24  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort to Ubuntu 16.04 --enable-gcc-warnings\n\n\t* src/image.c (gif_load) [HAVE_GIF]: Fix pointer signedness problem.\n\n2016-04-24  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* etc/NEWS: Improve wording of vc-git-log-output-coding-system etc.\n\n2016-04-24  Tino Calancha  <f92capac@gmail.com>\n\n\tDon't kill ~/ if it's the top level directory\n\n\t* lisp/dired-aux.el (dired-kill-subdir): Don't kill ~/ if it's\n\tthe top level directory (bug#23017).\n\n2016-04-23  Tino Calancha  <f92capac@gmail.com>  (tiny change)\n\n\tdescribe-char: fix insert char documentation\n\n\t* lisp/descr-text.el (describe-char):\n\tOnly 'ucs-names' entries can be inserted by unicode name (Bug#23325).\n\n2016-04-23  Dmitry Gutov  <dgutov@yandex.ru>\n\n\t(vc-git-mode-line-string): Don't use `replace-regexp-in-string'\n\n\t* lisp/vc/vc-git.el (vc-git-mode-line-string): Use `substring'\n\tinstead of `replace-regexp-in-string', because REV can be nil\n\t(e.g. when FILE is a directory, bug#23344), and we actually know\n\twe only need the first 4 characters.\n\n2016-04-22  Nicolas Petton  <nicolas@petton.fr>\n\n\tBump version to 25.0.93\n\n\t* README:\n\t* configure.ac:\n\t* msdos/sed2v2.inp: Bump Emacs version to 25.0.93.\n\n2016-04-22  Nicolas Petton  <nicolas@petton.fr>\n\n\t* etc/AUTHORS: Update the AUTHORS file\n\n\t* admin/update_autogen: Use #!/usr/bin/env bash\n\n\t* admin/authors.el (authors-ignored-files): Additions.\n\n2016-04-22  Martin Rudalics  <rudalics@gmx.at>\n\n\tIn x_set_window_size restore do_pending_window_change calls\n\n\t* src/xterm.c (x_set_window_size):\n\t* src/w32term.c (x_set_window_size): Restore\n\tdo_pending_window_change calls after their stupid removal on\n\t2015-08-31.\n\n2016-04-21  Ilya Zakharevich  <ilya@math.berkeley.edu>\n\n\tFix Alt-modified keys on some European MS-Windows keyboards\n\n\t* src/w32fns.c (deliver_wm_chars): If the reported character is\n\tASCII, AND Meta modifier is a candidate, behave as if Meta is\n\tpresent, i.e. fall back to the legacy code.  (Bug#23251)\n\n2016-04-20  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument 'help-go-forward'\n\n\t* doc/emacs/help.texi (Help Mode): Document and index\n\t'help-go-forward'.  (Bug#23323)\n\n2016-04-20  Eli Zaretskii  <eliz@gnu.org>\n\n\tRevert \"Allow to customize names of executables used by grep.el\"\n\n\tThis reverts commit c93ae7a1e5a94541189a8f36984014344d561ffc.\n\n2016-04-20  Eli Zaretskii  <eliz@gnu.org>\n\n\tRevert \"Don't use 'find-program'\"\n\n\tThis reverts commit 10597c977d55cbf9304b51c3b364ce58199384a0.\n\n2016-04-20  Eli Zaretskii  <eliz@gnu.org>\n\n\tRevert \"Use 'grep-find-program' in check-declare.el\"\n\n\tThis reverts commit 33bef6e90bfd20609d044b8a076c1570c627684a.\n\n2016-04-20  Eli Zaretskii  <eliz@gnu.org>\n\n\tClarify documentation of 'dired-mark-files-containing-regexp'\n\n\t* doc/emacs/dired.texi (Marks vs Flags): Clarify that for files\n\tvisited in buffers, 'dired-mark-files-containing-regexp' searches\n\tthe buffer rather than the file on disk.  (Bug#22694)\n\n\t* lisp/dired.el (dired-mark-files-containing-regexp): Clarify that\n\tfor files visited in buffers, 'dired-mark-files-containing-regexp'\n\tsearches the buffer rather than the file on disk.  (Bug#22694)\n\n2016-04-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tMake tmm-menubar work in correct order again\n\n\t* lisp/tmm.el (tmm-prompt): Don't reverse 'tmm-km-list' right at the\n\tbeginning; instead, pass a reversed copy to 'tmm--completion-table'.\n\t(Bug#23309)\n\t(tmm-menubar): Fix an off-by-one error in determining the menu\n\titem when the function is called with a non-nil 'x-position'\n\targument.\n\n2016-04-18  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tRemove the Meta-CVS VC backend\n\n\t* lisp/obsolete/vc-mcvs.el: Remove the file (bug#20475).\n\n\t* lisp/vc/log-view.el (log-view-extract-comment): Remove the MCVS\n\treference.\n\n\t* doc/misc/efaq-w32.texi (Version control): Same.\n\n2016-04-18  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix Bug#23276\n\n\t* lisp/autorevert.el (auto-revert-handler): Ignore errors\n\tcoming from `revert-buffer'.  (Bug#23276)\n\n2016-04-17  Reto Zimmermann  <reto@gnu.org>\n\n\tSync with upstream vhdl mode v3.38.1.\n\n\t* lisp/progmodes/vhdl-mode.el (vhdl-version, vhdl-time-stamp): Update.\n\t(vhdl-mode): No longer set comment-padding.\n\t(vhdl-begin-p): Handle missing space between keyword and parenthesis.\n\t(vhdl-beginning-of-statement-1): Fix indentation for \"else generate\".\n\t(vhdl-template-else, vhdl-template-elsif): Support generate statement.\n\t(vhdl-re-search-forward, vhdl-re-search-backward): Save match data.\n\n2016-04-16  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tTweak configure.ac syntax in recent module patch\n\n\t* configure.ac: Use proper Autoconf parenthesization in\n\trecent HAVE_MODULES patch.  Although this doesn\u2019t fix any bugs,\n\tthe previous syntax was confusing.\n\n2016-04-16  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort to GCC 5.3.1 20160406 (Red Hat 5.3.1-6)\n\n\t* src/indent.c (Fvertical_motion): Pacify --enable-gcc-warnings\n\twhen using the April 6 Fedora patch to GCC.\n\n2016-04-16  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tMake sh-electric-here-document-mode accessible in sh-mode-hook. (Bug#3226)\n\n\t* lisp/progmodes/sh-script.el (sh-mode-hook): Add\n\tsh-electric-here-document-mode as an option and the default value.\n\t(sh-mode): Mention sh-mode-hook in docstring.\n\t(sh-mode): Remove sh-electric-here-document-mode invocation.\n\n2016-04-16  Glenn Morris  <rgm@gnu.org>\n\n\t* configure.ac (HAVE_MODULES): Exclude gnu-kfreebsd from previous.\n\n2016-04-16  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tMake use of rectangle-preview custom variable.\n\n\tlisp/rect.el (rectangle--string-preview): Only create a preview if\n\trectangle-preview is non-nil (Bug#23248).\n\n2016-04-16  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tMake use of rectangle-preview face.\n\n\t* lisp/rect.el (rectangle--string-preview):\n\t(rectangle--highlight-for-redisplay): Replace 'region with\n\t'rectangle-preview (Bug#23248).\n\n2016-04-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tUse 'grep-find-program' in check-declare.el\n\n\t* lisp/emacs-lisp/check-declare.el (check-declare-directory): Use\n\t'grep-find-program', not 'find-program'.\n\n2016-04-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove \"C-h S\" for cl-lib symbols\n\n\t* lisp/info-look.el: Add cl.info lookup to emacs-lisp-mode related\n\tmanuals.  (Bug#23289)\n\n2016-04-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix minor issues with removing left or right fringes\n\n\t* lisp/window.el (window-max-chars-per-line): Account for\n\t'left-fringe-width' and 'right-fringe-width' variables.\n\n\t* doc/lispref/windows.texi (Window Sizes): Document the effect on\n\twindow text width when setting the width of one or both fringes to\n\tzero.\n\t* doc/emacs/display.texi (Fringes): Document the effect on window\n\ttext width when setting the width of one or both fringes to zero.\n\t(Bug#22891)\n\n2016-04-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tSpeed up redisplay in ansi-term mode\n\n\t* lisp/term.el (ansi-term): Force L2R 'bidi-paragraph-direction'.\n\t(Bug#20611)\n\n2016-04-16  Philipp Stephani  <phst@google.com>\n\n\tSimplify 8-bit character handling by terminal for 'raw-text'\n\n\t* lisp/international/mule.el (set-keyboard-coding-system): Treat\n\t'raw-text' as another coding type that requires 8-bit characters.\n\t* lisp/xt-mouse.el (xterm-mouse--read-coordinate): Use 'no-conversion'\n\tinstead of 'latin-1'.\n\n2016-04-15  Glenn Morris  <rgm@gnu.org>\n\n\t* configure.ac (HAVE_MODULES): Treat gnu like gnu-linux.  (Bug#22722)\n\n2016-04-15  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix w32 memory-management problem when extending buffer text\n\n\t* src/w32heap.c (mmap_realloc): Only attempt extending a region if\n\tthe following region has the same allocation base.  Also, use the\n\toriginal allocation base and enlarged size to commit reserved\n\tmemory, to ensure that the allocation base stays at its original\n\tvalue.  This fixes several hard-to-debug problems whereby part of\n\tbuffer text was overwritten with binary nulls, because\n\tmmap_realloc copied only part of buffer text when extending it.\n\tSee\n\thttp://lists.gnu.org/archive/html/emacs-devel/2016-04/msg00325.html\n\tand http://debbugs.gnu.org/cgi/bugreport.cgi?bug=23223#55 for two\n\texamples of the related problems.\n\n2016-04-14  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix Bug#20637.  Do not merge to master\n\n\t* lisp/vc/vc-hooks.el (vc-state, vc-working-revision):\n\tUse `vc-backend' instead of `vc-responsible-backend'.  (Bug#20637)\n\n\t* test/automated/vc-tests.el (vc-test--state)\n\t(vc-test--working-revision): Deactivate now failing checks.\n\n2016-04-14  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tsubstitute-command-keys keeps quotes\u2019 text props\n\n\tProblem reported by Cl\u00e9ment Pit--Claudel (Bug#23254).\n\t* src/doc.c: Include intervals.h.\n\t(Fsubstitute_command_keys): If the only substitutions are for\n\tquotes, copy the source string\u2019s text properties too, since no\n\tsubstring lengths have changed.\n\n2016-04-13  YAMAMOTO Mitsuharu  <mituharu@math.s.chiba-u.ac.jp>\n\n\t* src/xwidget.c (x_draw_xwidget_glyph_string): More clipping fixes.\n\n2016-04-12  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tAdd semantic-symref-filepattern-alist entry for lisp-interaction-mode\n\n\t* lisp/cedet/semantic/symref/grep.el\n\t(semantic-symref-filepattern-alist):\n\tAdd entry for lisp-interaction-mode\n\t(http://debbugs.gnu.org/cgi/bugreport.cgi?bug=23223#47)\n\n2016-04-12  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tPerform xref searches without visiting unopened files\n\n\t* lisp/progmodes/xref.el (xref-collect-references): Instead of\n\tcalling `semantic-symref-find-references-by-name', use\n\t`semantic-symref-instantiate' and `semantic-symref-perform-search'\n\tdirectly.  Ask for `line-and-text' results (bug#23223).\n\t(xref-collect-matches): Include the line text in the \"hit\"\n\tstructure.\n\t(xref--convert-hits): New function, split off from\n\t`xref-collect-references' and `xref-collect-matches', to convert\n\t\"hits\" to xref instance list.  Create a temporary buffer here, to\n\tuse it for post-processing all hit lines.\n\t(xref--collect-matches): Use a different approach for non-visited\n\tfiles.  Insert the line text into the temp buffer, apply the\n\tfile's major mode the best we can without reading its whole\n\tcontents, syntax-propertize, and search in the result.\n\t(xref--collect-matches-1): Extract, to handle the common logic\n\tbetween two cases.\n\t(xref--find-buffer-visiting): New function, a wrapper around\n\t`find-buffer-visiting' to amortize its cost.\n\n\t* lisp/cedet/semantic/symref/idutils.el\n\t(semantic-symref-idutils--line-re): New constant.\n\t(semantic-symref-parse-tool-output-one-line): Support result type\n\t`line-and-text'.\n\n\t* lisp/cedet/semantic/symref/grep.el\n\t(semantic-symref-grep--line-re)\n\t(semantic-symref-parse-tool-output-one-line): Same.\n\n\t* lisp/cedet/semantic/symref/cscope.el\n\t(semantic-symref-cscope--line-re)\n\t(semantic-symref-parse-tool-output-one-line): Same.\n\n\t* lisp/cedet/semantic/symref/global.el\n\t(semantic-symref-global--line-re)\n\t(semantic-symref-parse-tool-output-one-line): Same.\n\n2016-04-12  Phillip Lord  <phillip.lord@newcastle.ac.uk>\n\n\tRevert \"Prevent bootstrap autoload backup files\"\n\n\tThis reverts commit c23c965bb9d0a4bcc1b6158833ff99aa20fd53e9.\n\n2016-04-12  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tImprove time zone documentation\n\n\t* doc/lispref/os.texi (Time Zone Rules):\n\tNew section, mostly with material moved here from other sections.\n\t* doc/emacs/cmdargs.texi (General Variables):\n\t* doc/lispref/os.texi (Time Conversion, Time Parsing):\n\tXref new section.\n\t* etc/NEWS, etc/PROBLEMS:\n\t* lisp/org/org.el (org-timestamp-format):\n\t* src/editfns.c (Fformat_time_string, Fdecode_time)\n\t(Fencode_time, Fcurrent_time_string, Fcurrent_time_zone)\n\t(Fset_time_zone_rule):\n\tWhen documenting time zone rule strings, mention the TZ\n\tenvironment variable in preference to mentioning the\n\tsort-of-internal function set-time-zone-rule.\n\n2016-04-12  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\tPrevent bootstrap autoload backup files\n\n\t * lisp/emacs-lisp/autoload.el (autoload-find-generated-file): Suppress\n\t   backups in newly created file.\n\n\t  (autoload-ensure-default-file): Function split into two.\n\t  (autoload-ensure-file-writeable): New function from split.\n\n\t  (Bug#23203)\n\n2016-04-11  YAMAMOTO Mitsuharu  <mituharu@math.s.chiba-u.ac.jp>\n\n\tDisable multicolor fonts on OS X since they are not supported on free systems\n\n\t* src/macfont.m (macfont_list): Don't use color bitmap fonts.\n\n2016-04-11  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tCapitalize \u201cUniversal Time\u201d in documentation\n\n\tIt\u2019s a proper noun.\n\t* lisp/vc/add-log.el (add-log-time-zone-rule): Also, fix typo by\n\tmentioning \u2018format-time-string\u2019 instead of \u2018set-time-zone-rule\u2019.\n\n2016-04-11  Eli Zaretskii  <eliz@gnu.org>\n\n\tDon't use 'find-program'\n\n\t* lisp/progmodes/project.el (project-file-completion-table): Use\n\t'grep-find-program', rather than the obsolete 'find-program'.\n\n2016-04-11  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSync with gnulib\n\n\tThis is for picky compilers whose stdint.h fails our C11 tests.\n\tProblem reported for clang by Philipp Stephani (Bug#23261).\n\tThis incorporates:\n\t2016-04-11 stdint: port to strict C11 left shift\n\t* doc/misc/texinfo.tex, lib/stdint.in.h: Copy from gnulib.\n\n2016-04-11  Leo Liu  <sdl.web@gmail.com>\n\n\tFix last change on 2016-01-02\n\n\t* lisp/emacs-lisp/lisp-mode.el (lisp-el-font-lock-keywords-2): Move\n\t  `cl-errs-re' before `lisp--el-match-keyword'; don't use `prepend'\n\t  which highlights `cl-errs-re' even in comments or strings.\n\n2016-04-11  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort run-prolog EMACS to SWI-Prolog 7.2.3\n\n\t* lisp/progmodes/prolog.el (prolog-ensure-process):\n\tWork around incompatibility of SWI-Prolog 7.2.3 and earlier\n\twith the new way of dealing with the EMACS and INSIDE_EMACS\n\tenvironment variables.\n\n2016-04-10  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid crashes due to unreasonably large or small text scaling\n\n\t* lisp/face-remap.el (text-scale-min-amount)\n\t(text-scale-max-amount): New functions.\n\t(text-scale-set, text-scale-increase): Use them to limit the text\n\tscaling to a reasonable range of values.  (Bug#23259)\n\n2016-04-10  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of 'with-eval-after-load'\n\n\t* lisp/subr.el (with-eval-after-load): Doc fix.  (Bug#23258)\n\n2016-04-10  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove handling of non-ASCII characters in Git log messages\n\n\t* lisp/vc/vc-git.el (vc-git-commits-coding-system): Now a defcustom.\n\t(vc-git-log-output-coding-system): New defcustom.\n\t(vc-git-print-log, vc-git-command, vc-git--call): Use\n\t'vc-git-log-output-coding-system' for reading stuff from Git.\n\tDon't override values of 'coding-system-for-read/write' if they\n\tare bound by caller -- this allows the user to force an encoding\n\tvia \"C-x RET c\".\n\t(vc-git-checkin): On MS-Windows, pass the log message via a\n\ttemporary file, to work around the limitations on passing\n\tnon-ASCII characters via command-line arguments.  Force using the\n\t'locale-coding-system' for Git command-line arguments.  This fixes\n\tproblems with non-ASCII commit log messages on MS-Windows.\n\t(Bug#23076)\n\n\t* etc/NEWS: Mention the new vc-git related defcustoms.\n\n2016-04-09  Philipp Stephani  <phst@google.com>\n\n\tRemove undefined behavior in OS X dumper.\n\n\tFound by Address Sanitizer.\n\n\t* src/unexmacosx.c (unexec_write): Use Mach virtual memory API to\n\tavoid undefined behavior when reading arbitrary memory.\n\n2016-04-09  Joakim Verona  <joakim@verona.se>\n\n\tFix clipping of xwidgets\n\n\t* src/xwidget.c (x_draw_xwidget_glyph_string): Use window_box\n\tinstead of calculating the clipping borders manually.  Suggested\n\tby YAMAMOTO Mitsuharu <mituharu@math.s.chiba-u.ac.jp>.\n\n2016-04-09  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove Lisp-level documentation of tooltips\n\n\t* doc/lispref/display.texi (Tooltips): New section.  (Bug#23246)\n\t(Display): Update the chapter menu.\n\t* doc/lispref/text.texi (Special Properties): Make the \"tooltip\"\n\tindex entry more concrete.  Change the cross-reference to point to\n\t\"Tooltips\" in the ELisp manual.\n\t* doc/lispref/elisp.texi (Top): Update the master menu.\n\t* doc/emacs/frames.texi (Tooltips): Include more customization\n\tvariables.  Add a cross-reference to the ELisp manual.\n\n2016-04-08  Glenn Morris  <rgm@gnu.org>\n\n\tFaces names should not end in \"-face\".\n\n\t* lisp/rect.el (rectangle-preview): Rename from rectangle-preview-face.\n\t* lisp/vc/vc-hooks.el (vc-state-base): Rename from vc-state-base-face.\n\n2016-04-08  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* src/xsmfns.c (syms_of_xsmfns): Remove stray \"s in doc strings.\n\n2016-04-08  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tComint and compile no longer set EMACS\n\n\tThis mostly restores the change that I reverted on March 23,\n\tfixing most of Bug#20202.  The only part of the change that is\n\tstill reverted is the change to M-x term, where compatibility with\n\tcurrent Bash constrains us from moving too quickly (Bug#20484).\n\tProblem reported by Phillip Lord in: http://bugs.gnu.org/20484#108\n\t* etc/NEWS: Document this.\n\t* lisp/comint.el (comint-exec-1):\n\t* lisp/net/tramp-sh.el (tramp-remote-process-environment):\n\t* lisp/progmodes/compile.el (compilation-start):\n\tDon\u2019t set EMACS=t in the subsidiary process.\n\n2016-04-08  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/subr.el (read-key): Don't let the prompt linger (bug#22714)\n\n2016-04-08  Eli Zaretskii  <eliz@gnu.org>\n\n\tAllow to customize names of executables used by grep.el\n\n\t* lisp/progmodes/grep.el (grep-find-program): Renamed from\n\t'find-program', which was a variable.  All uses changed.\n\t(grep-xargs-program): Renamed from 'xargs-program', which was a\n\tvariable.  All uses changed.\n\t(grep-program): Now a defcustom rather than a simple variable.\n\t(Bug#23219)\n\n2016-04-08  Alan Third  <alan@idiocy.org>\n\n\tSet locale encoding to UTF-8 when run from OS X GUI.\n\n\t* src/nsterm.m (ns_init_locale): Append .UTF-8 when setting LANG.\n\n2016-04-08  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid signaling errors in 'M-n' at the 'C-x C-f' prompt\n\n\t* lisp/ffap.el (ffap-guess-file-name-at-point): Ignore errors\n\twhile 'ffap-guesser' runs.  (Bug#23218)\n\n2016-04-08  Marcin Borkowski  <mbork@mbork.pl>\n\n\tAvoid infinite loop in 'studlify-word'\n\n\t* lisp/play/studly.el (studlify-region): Call\n\t'forward-word-strictly' and 'backward-word-strictly' instead of\n\t'forward-word' and 'backward-word'.  (Bug#19940)\n\n2016-04-07  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDon\u2019t recommend obsolete EMACS env var\n\n\t* doc/misc/efaq.texi (Escape sequences in shell output):\n\tRemove long-obsolete (and now-confusing) notes about\n\tthe EMACS environment variable in Emacs 21.1 and earlier.\n\t* doc/misc/efaq.texi (^M in the shell buffer):\n\t* etc/PROBLEMS:\n\tRemove obsolescent recommendation to consult the EMACS environment\n\tvariable.\n\n2016-04-07  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/emacs-lisp/package.el: Change from a few days ago needs seq.\n\n\t* lisp/emacs-lisp/seq.el: Load cl-lib, not cl-extra.\n\n2016-04-07  Leo Liu  <sdl.web@gmail.com>\n\n\tFix \"Beginning of buffer\" error in forward-page\n\n\t* lisp/textmodes/page.el (forward-page): Check before move to prevent\n\t  \"Beginning of buffer\" error.\n\n2016-04-06  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tAdd a `transient' project type\n\n\t* lisp/progmodes/project.el (project-roots): Implement for the\n\t`transient' project type (bug#23224).\n\t(project-current): Instead of signaling an error, return a\n\ttransient project instance rooted in the chosen directory.\n\n2016-04-06  Lars Magne Ingebrigtsen  <larsi@gnus.org>\n\n\tRevert \"Backport HTTPS proxy fix\"\n\n\tThis reverts commit 2d1a6054b161bd1055d4feb11c8c5ac95543f5db.\n\n\tIt's too late in the Emacs 25 release cycle to add things like this to\n\tEmacs 25.1.  It's border line new feature.\n\n2016-04-06  Tao Fang  <fangtao0901@gmail.com>\n\n\tBackport HTTPS proxy fix\n\n\tCherry-picked from 3c623c26ae7d695746e05d8a2e16a67a6256b024\n\n\tBackport:\n\n2016-04-06  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix stability confusion in sort-tests\n\n\tProblem reported by Philipp Stephani (Bug#23205).\n\t* test/automated/sort-tests.el:\n\t(sort-tests--insert-words-sort-and-compare):\n\tDon\u2019t assume that reversing a sorted list is the same\n\tas sorting with the reverse predicate.  This is not true\n\tfor stable sorts when items compare equal.\n\n2016-04-05  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tAvoid describe-key error with lambdas\n\n\tProblem reported by Sho Takemori (Bug#22716).\n\t* lisp/cedet/mode-local.el (describe-mode-local-overload)\n\t(xref-mode-local-overload): Use function-overload-p instead\n\tof assuming the argument is a symbol.\n\n2016-04-04  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el (package-install-selected-packages):\n\n\tSkip unavailable packages.\n\n2016-04-04  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSync with gnulib\n\n\tThis incorporates:\n\t2016-04-03 stdint: detect good enough pre-C++11 stdint.h in C++ mode\n\t2016-04-01 stddef: support configuring with g++\n\t* doc/misc/texinfo.tex, lib/stddef.in.h, m4/stdint.m4:\n\tCopy from gnulib.\n\n2016-04-03  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix doc for Universal Time\n\n\t* doc/lispref/os.texi (Time of Day, Time Conversion):\n\tBe more careful about distinguishing UTC (which is not valid for\n\tpre-1961 time stamps) and UT (which is).\n\t(Time Parsing): Remove stray obsolete paragraph about a\n\tUNIVERSAL argument for \u2018format-time-string\u2019.\n\n2016-04-03  Michael Albinus  <michael.albinus@gmx.de>\n\n\tHandle Bug#23186\n\n\t* lisp/net/tramp.el (tramp-encoding-command-switch)\n\t(tramp-encoding-command-interactive):\n\t* lisp/net/tramp-sh.el (tramp-maybe-open-connection):\n\t`tramp-encoding-shell' could be nil.  (Bug#23186)\n\n2016-04-03  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMore format-time-string change fixups\n\n\t* lisp/net/tramp-sh.el (tramp-sh-handle-set-file-times):\n\t* lisp/org/org.el (org-timestamp-format):\n\tFix doc to match new format-time-string behavior.\n\t* lisp/org/ox-icalendar.el (org-icalendar-convert-timestamp):\n\tUse (not (not X)) to treat non-nil values of utc arg as UTC.\n\n2016-04-02  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tmake-xwidget unused arg cleanup\n\n\t* doc/lispref/display.texi (Xwidgets): Remove stray refs.\n\t* src/xwidget.c (syms_of_xwidget): Qwebkit, not Qwebkit_osr.\n\n2016-04-02  Joakim Verona  <joakim@verona.se>\n\n\tRemove unused arguments from make-xwidget\n\n\tThe arguments BEG and END were unused, and are now removed.\n\n\t* doc/emacs/display.texi (Xwidgets): Document the change\n\t* lisp/xwidget.el (make-xwidget, xwidget-insert)\n\t(xwidget-webkit-new-session): Reflect changed arguments\n\t* src/xwidget.c (Fmake_xwidget, syms_of_xwidget): Reflect changed arguments\n\n2016-04-02  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument incompatible changes in 'format-time-string'\n\n\t* etc/NEWS: Mention the incompatible change in the interpretation\n\tof the 3rd argument to 'format-time-string'.  (Bug#21943)\n\n2016-04-02  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of byte-code objects\n\n\t* doc/lispref/compile.texi (Byte-Code Objects): Document the\n\tinteger format of the argument descriptor.  (Bug#23061)\n\n2016-04-02  Eli Zaretskii  <eliz@gnu.org>\n\n\tAdapt calls to 'format-time-string' to changes in Emacs 25\n\n\t* lisp/vc/pcvs-info.el (cvs-fileinfo-from-entries): Use t as the\n\tlast argument to format-time-string.  (Bug#23128)\n\t* lisp/gnus/gmm-utils.el (gmm-format-time-string): Use t as the\n\tlast argument to format-time-string, when the TZ argument is not a\n\tnumber, per the doc string.\n\n2016-04-02  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove vc-diff with Git backend\n\n\t* lisp/vc/vc-git.el (vc-git-command): Don't override\n\tcoding-system-for-read/write if they are already bound.\n\tSuggested by joaotavora@gmail.com (Jo\u00e3o T\u00e1vora).  (Bug#20892)\n\t(vc-git-print-log): Don't override coding-system-for-read if it's\n\talready bound.\n\n2016-04-01  Dmitry Gutov  <dgutov@yandex.ru>\n\n\t(js--continued-expression-p): Special-case unary plus and minus\n\n\t* lisp/progmodes/js.el (js--continued-expression-p): Make an\n\teffort to recognize unary plus and minus, in the contexts where\n\tthey make sense (https://github.com/mooz/js2-mode/issues/322).\n\n2016-04-01  Alan Mackenzie  <acm@muc.de>\n\n\tPrevent C++ Mode wrongly fontifying some identifiers near templates as types\n\n\tThis fixes debbugs #7917.\n\n\t* lisp/progmodes/cc-engine.el (c-forward-keyword-prefixed-id): Accept 'maybe\n\t(from c-forward-type) as sufficient to record an id.  Record type id as well\n\tas ref ids.\n\t(c-forward-name): Bind c-last-identifier-range around the call to\n\tc-forward-<>-arglist to prevent it getting corrupted.  Don't automatically\n\tassume an identifier is a type when a template \">\" is followed by a \"(\".\n\t(c-forward-type): Don't automatically assume an identifier is a type when a\n\ttemplate \">\" is followed by a \"(\".\n\n\t* lisp/progmodes/cc-fonts.el (c-font-lock-<>-arglists): Don't fontify an\n\tidentifier as a type when its associated \">\" is followed by a \"(\".\n\n2016-04-01  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid crashes due to insanely large columns in tabulated-list-format\n\n\t* src/xdisp.c (append_stretch_glyph, produce_xwidget_glyph)\n\t(produce_image_glyph): Limit the pixel width of the produced glyph\n\tto SHRT_MAX.  (Bug#23178)\n\t(append_composite_glyph, append_glyph, append_glyphless_glyph):\n\tAdd assertions to verify that the pixel width of the glyph will\n\tnever overflow a 'short'.\n\t* src/term.c (append_composite_glyph): Add assertion to verify\n\tthat the pixel width of the glyph will never overflow a 'short'.\n\n2016-03-31  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tTeach M-x disassemble a default argument.\n\n\tAdopts default argument in the same way as `describe-function'.\n\t* lisp/emacs-lisp/disass.el (disassemble): Default to function at point,\n\tif any.\n\n2016-03-31  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix EOL decoding in vc-annotate with SVN back-end on MS-Windows\n\n\t* lisp/vc/vc-annotate.el (vc-annotate): Force DOS EOL decoding on\n\tMS-Windows and MS-DOS, when processing the output of \"svn annotate\".\n\n2016-03-31  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix OS X specific settings in tramp-tests\n\n\t* lisp/net/tramp-sh.el (tramp-maybe-open-connection): Use it.\n\n\t* lisp/net/tramp.el (tramp-get-local-locale): New defun.\n\n\t* test/automated/tramp-tests.el (tramp--test-darwin-p): Remove.\n\t(tramp--test-utf8): Improve settings of coding systems.\n\tDo not use `tramp--test-darwin-p' anymore.  (Bug#22145)\n\n2016-03-30  Alan Mackenzie  <acm@muc.de>\n\n\tFinish fixing a cacheing bug in CC Mode (see 2016-03-09)\n\n\t* lisp/progmodes/cc-cmds.el: (c-beginning-of-defun, c-end-of-defun): Remove\n\tsuperfluous invocations of c-self-bind-state-cache.\n\n\t* lisp/progmodes/cc-defs.el: (c-self-bind-state-cache): Copy and terminate\n\tmarkers correctly.\n\n\t* lisp/progmodes/cc-engine.el (c-record-parse-state-state): Terminate stale\n\tmarkers.\n\n2016-03-30  Alan Mackenzie  <acm@muc.de>\n\n\tMerge branch 'emacs-25' of /home/acm/emacs/emacs.git/emacs-25 into emacs-25\n\n2016-03-29  Xue Fuqiao  <xfq.free@gmail.com>\n\n\t* doc/lispref/text.texi (Columns): Remove a nonexistent reference.\n\n\tThe example was removed by Chong Yidong on Mar 5, 2012.\n\n2016-03-29  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* doc/man/emacsclient.1: Document +line:column option.\n\n2016-03-29  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix rare problems with echo-area display and multiple frames\n\n\t* src/xdisp.c (redisplay_window): Bind inhibit-redisplay non-nil\n\taround the call to x_consider_frame_title, to prevent\n\tresize_mini_window from undoing echo-area display.  (Bug#23124)\n\n2016-03-29  Alan Mackenzie  <acm@muc.de>\n\n\tIn M-%, avoid making buffer-local binding of text-property-default-nonsticky\n\n\tThis would happen when that variable already has a buffer local binding.  Such\n\ta binding would not be seen by read-from-minibuffer.  This fixes bug #23127.\n\n\t* lisp/replace.el (query-replace-read-from): Move the binding of\n\ttext-property-default-nonsticky to inside of a new with-current-buffer buffer\n\tform with the minibuffer as argument.\n\n2016-03-27  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tRemove prog-indentation-context\n\n\t* lisp/progmodes/prog-mode.el: (prog-indentation-context)\n\t(prog-first-column, prog-widen): Remove, as discussed in\n\thttp://lists.gnu.org/archive/html/emacs-devel/2016-03/msg01425.html.\n\n\t* doc/lispref/text.texi (Mode-Specific Indent): Remove references\n\tto them.\n\n\t* etc/NEWS: Ditto.\n\n\t* lisp/progmodes/python.el: (prog-widen, prog-first-column):\n\tRemove the compatibility aliases and all uses.\n\n\tDo not merge to master.\n\n2016-03-27  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* src/font.c (QCuser_spec): Add missing colon to :user-spec.\n\n2016-03-27  Eli Zaretskii  <eliz@gnu.org>\n\n\tDon't start the 'midnight' timer twice\n\n\t* lisp/midnight.el (midnight-mode): Avoid starting the midnight\n\ttimer twice when activating the mode the first time.  (Bug#23123)\n\n2016-03-27  YAMAMOTO Mitsuharu  <mituharu@math.s.chiba-u.ac.jp>\n\n\t* src/xwidget.c (Fxwidget_resize): Fix inappropriate use of XFASTINT.\n\n2016-03-26  Stephen Berman  <stephen.berman@gmx.net>\n\n\tFix todo-mode category movement\n\n\t* lisp/calendar/todo-mode.el (todo-move-category): Use moved\n\tcategory's existing categories sexp instead of invoking\n\ttodo-update-categories-sexp in file moved to, in order to take\n\tarchived items into account.  If the moved category has archived\n\titems, handle the source archive buffer properly.  Remove\n\tsuperfluous code.\n\n2016-03-26  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/xt-mouse.el (xterm-mouse-utf-8): Add :version.\n\n2016-03-26  Eli Zaretskii  <eliz@gnu.org>\n\n\tIgnore non-nil. non-cons values of unread-command-events\n\n\t* src/keyboard.c (requeued_events_pending_p, read_char)\n\t(Finput_pending_p): Use CONSP instead of !NILP to see if there are\n\tunread command events to be processed.  (Bug#22976)\n\n2016-03-26  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentatuon of 'truncate-partial-width-windows'\n\n\t* src/xdisp.c (syms_of_xdisp) <truncate-partial-width-windows>:\n\tClarify in the doc string how the width of partial-width windows\n\tis computed for the purposes of truncation decision.  (Bug#4338)\n\n\t* doc/emacs/windows.texi (Split Window): Clarify how the width of\n\twindows is calculated for the purposes of truncation decision.\n\t* doc/emacs/display.texi (Line Truncation): Remove a redundant\n\tindex entry.\n\n2016-03-25  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* src/ftfont.c (ftfont_shape_by_flt): Parenthesize as per GNU style.\n\n2016-03-25  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix 'dired-goto-file' in Dired buffers produced by find-dired\n\n\t* lisp/dired.el (dired-goto-file): Try looking for the file as a\n\trelative name with leading sub-directories, before looking for the\n\tbasename alone.  (Bug#23089)\n\n2016-03-25  Nicolas Petton  <nicolas@petton.fr>\n\n\tFix map-put and map-delete for alists (Bug#23105)\n\n\t* lisp/emacs-lisp/map.el (map-put): Do not bind the evaluated place\n\texpression to a new symbol.\n\t* test/automated/map-tests.el: Add a regression test.\n\n2016-03-25  Eli Zaretskii  <eliz@gnu.org>\n\n\tMinor copyedits of documentation for temporary displays\n\n\t* doc/emacs/windows.texi (Temporary Displays): Improve indexing.\n\tMinor changes in wording.\n\t(Window Choice, Displaying Buffers, Pop Up Window): Disambiguate\n\tindex entries for 'display-buffer'.\n\n\t* etc/NEWS: Minor rewording of the entry about temporary displays.\n\n2016-03-25  Philipp Stephani  <phst@google.com>\n\n\tAdd customization option for using UTF-8 coordinates in xt-mouse\n\n\t* lisp/xt-mouse.el (xterm-mouse-utf-8): New customization option.\n\t(xterm-mouse--read-coordinate): New function to replace\n\t`xterm-mouse--read-utf8-char'; uses UTF-8 only if enabled.\n\t(xterm-mouse--read-number-from-terminal): Adapt to new name.\n\t(xterm-mouse-tracking-enable-sequence)\n\t(xterm-mouse-tracking-disable-sequence): Replace constants with\n\tfunctions, mark constants as obsolete.\n\t(xterm-mouse--tracking-sequence): New helper function.\n\t(turn-on-xterm-mouse-tracking-on-terminal): Use new functions;\n\tenable UTF-8 only if customization option says so; store UTF-8\n\tflag in terminal parameter.  (Bug#23009)\n\n\t* test/automated/xt-mouse-tests.el: Add tests for xt-mouse.el.\n\n2016-03-25  Eli Zaretskii  <eliz@gnu.org>\n\n\tMinor doc string fixes in replace.el\n\n\t* lisp/replace.el (query-replace, query-replace-regexp)\n\t(query-replace-regexp-eval, map-query-replace-regexp)\n\t(replace-string, replace-regexp): Clarify in doc strings that\n\tthese commands operate from point to the end of the buffer's\n\taccessible portion.  (Bug#23067)\n\n2016-03-25  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix scrolling upwards with 'xwidget-webkit-browse-url'\n\n\t* src/xwidget.c (Fxwidget_set_adjustment): Use CHECK_NUMBER instead\n\tof CHECK_NATNUM.  Suggested by Shayan Pirani <shayanpirani@gmail.com>.\n\t(Bug#22918)\n\n2016-03-25  K. Handa  <handa@gnu.org>\n\n\tFix display of Indic scripts\n\n\t* src/ftfont.c (ftfont_shape_by_flt): For combining characters out\n\tof the range U+300...U+36F, use the \"combining\" FLT only with\n\tnon-OTF fonts.\n\n2016-03-25  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix splash screen display at startup\n\n\t* src/frame.c (DEFAULT_ROWS): Enlarge to 36, so that the initial\n\twindow displayed by \"emacs -q\" has enough space to show the whole\n\ttext even if it includes 2 lines talking about recovering crashes\n\tsessions.  (Bug#23074)\n\n\t* lisp/startup.el (use-fancy-splash-screens-p): Fix off-by-one\n\terror when computing the window-height from frame-height.\n\n\t* etc/NEWS: Mention the change.\n\n2016-03-25  Martin Rudalics  <rudalics@gmx.at>\n\n\tDescribe temporary displays in Emacs manual\n\n\t* doc/emacs/emacs.texi (Temporary Displays): New subsubsection.\n\t* doc/emacs/windows.texi (Window Choice): Minor fixes.\n\t(Temporary Displays): New subsubsection describing display of\n\ttemporary buffers and `temp-buffer-resize-mode'.\n\n2016-03-24  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tAvoid stray As next to IDLW icons\n\n\t* lisp/progmodes/idlw-toolbar.el (idlwave-toolbar-add-everywhere):\n\tUse \"\" for empty labels, not \"a\", as the latter now displays stray\n\t\"A\"s (Bug#18997).\n\n2016-03-24  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tAvoid GTK 3 crash with icons and masks\n\n\tProblem reported by Mos\u00e8 Giordano (Bug#18997).\n\t* src/gtkutil.c (xg_get_pixbuf_from_pixmap): Remove.\n\t(xg_get_pixbuf_from_pix_and_mask): Do not use\n\txg_get_pixbuf_from_pixmap, as it is poorly documented.  Instead,\n\tinvoke XGetPixel directly.  This is slow but speed is not\n\timportant here.  Also, fail for unusual situations (not TrueColor,\n\tor images that are not 8 bits per sample) instead of displaying\n\tjunk or crashing.\n\n2016-03-24  Juri Linkov  <juri@linkov.net>\n\n\t* lisp/minibuffer.el (minibuffer-completion-help): Use fit-window-to-buffer\n\n\tinstead of shrink-window-if-larger-than-buffer.  (Bug#23092)\n\n2016-03-24  Eli Zaretskii  <eliz@gnu.org>\n\n\tDefine make_save_ptr_ptr unconditionally\n\n\t* src/alloc.c (make_save_ptr_ptr): Remove the !(defined\n\tUSE_X_TOOLKIT || defined USE_GTK) conditional.  Reported by\n\tPhilipp Stephani <phst@google.com>.  (Bug#23101)\n\n2016-03-24  Eli Zaretskii  <eliz@gnu.org>\n\n\tPreserve current buffer when popping up TTY menus\n\n\t* src/term.c (tty_menu_show): Be sure to save and restore the\n\tcurrent buffer around TTY menu pop-ups.  (Bug#23101)\n\n2016-03-24  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove font selection by family on MS-Windows\n\n\t* src/w32font.c (w32font_list_internal): Allow 'ascii-0' charset,\n\tin addition to 'iso10646-1', 'unicode-bmp', and 'unicode-sip'.\n\tThis avoids rejecting many font families whose members are shown\n\tby 'font-family-list', in particular 'courier' requested by\n\tinfo.el.  Without this change, many values of ':family' attribute\n\tof a face have no effect on MS-Windows, because they are rejected\n\tdue to bogus mismatch of the charset.\n\n2016-03-23  Paul Eggert  <eggert@penguin.cs.ucla.edu>\n\n\tComint, term, and compile now set EMACS\n\n\tThis fixes directory tracking in ansi-term, at the expense of\n\tbreaking some usages of 'configure'.  Setting EMACS is meant to be\n\ta somewhat temporary measure, until Bash 4.4 comes out and is\n\tcommon.  (Bug#20484).\n\t* etc/NEWS: Document this.\n\t* lisp/comint.el (comint-exec-1):\n\t* lisp/net/tramp-sh.el (tramp-remote-process-environment):\n\t* lisp/progmodes/compile.el (compilation-start):\n\t* lisp/term.el (term-exec-1):\n\tGo back to setting the EMACS environment variable, for backward\n\tcompatibility to Bash 4.3 and earlier.\n\n2016-03-23  Paul Eggert  <eggert@penguin.cs.ucla.edu>\n\n\tIgnore more merges when generating ChangeLog\n\n\t* build-aux/gitlog-to-emacslog: Ignore all merges from gnu.org,\n\tnot merely those from master and emacs-NN.  The ChangeLog entries\n\tthey generate are not that useful.\n\n2016-03-23  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSync with gnulib\n\n\tThis incorporates:\n\t2016-03-22 gitlog-to-changelog: suppress ignored chatter\n\t2016-03-21 sys_select: port to new Cygwin\n\t* build-aux/gitlog-to-changelog, doc/misc/texinfo.tex:\n\t* lib/sys_select.in.h: Copy from gnulib.\n\n2016-03-23  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tResurrect GNUS-NEWS autogeneration\n\n\t* doc/misc/gnus-coding.texi (Gnus Maintenance Guide): Update\n\tGNUS-NEWS section to match current file locations and procedure.\n\t* etc/GNUS-NEWS: Regenerate by using new procedure.\n\t* lisp/Makefile.in (update-gnus-news): New rule, containing a\n\tprocedure for building GNUS-NEWS.  The old procedure got lost\n\tsomehow when Gnus was merged into Emacs.\n\n2016-03-22  Anders Lindgren  <andlind@gmail.com>\n\n\tMake `toggle-frame-maximized' respect the dock on OS X (bug#22988).\n\n\t* src/nsterm.m (ns_screen_margins): New function.\n\t(ns_screen_margins_ignoring_hidden_dock): New function.\n\t(ns_menu_bar_height): Reimplement in terms of `ns_screen_margins'.\n\t([EmacsWindow zoom:]): Take all screen margins (except those\n\toriginating from a hidden dock) into account.\n\n2016-03-22  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix bug in displaying header line with a box face\n\n\t* src/xdisp.c (get_next_display_element): Handle the case when a\n\tdisplay string acquires the box face from an underlying string,\n\tnot from the buffer.  (Bug#23091)\n\n2016-03-21  Kaushal Modi  <kaushal.modi@gmail.com>\n\n\tFix an Isearch var to be a string (Bug#23038)\n\n\t* lisp/isearch.el (isearch--describe-regexp-mode): The `description' var\n\t  needs to always be a string.  Add the missing default case for the\n\t  cond form that ensures that.\n\n\tBefore this bug fix, for the events when `regexp-function' and\n\t`search-default-mode' both were nil, `description' also stayed nil.  So\n\twhen `space-before' was non-nil, the \"non-string\" `description'\n\t(with a value of nil) got passed as an argument to\n\t`replace-regexp-in-string' (where a string was expected).  That caused\n\tthe error described in Bug#23038.\n\n2016-03-21  Leo Liu  <sdl.web@gmail.com>\n\n\tFix (args-out-of-range 1) error in cursor-sensor--detect\n\n\t* lisp/emacs-lisp/cursor-sensor.el (cursor-sensor--detect): Don't\n\t  hard-code (point-min) as 1 which fails in narrowed buffers.\n\n2016-03-20  Lars Magne Ingebrigtsen  <larsi@gnus.org>\n\n\tRender empty <ul><li><ul> correctly\n\n\t* lisp/net/shr.el (shr-tag-ul): Render empty <ul><li><ul>\n\tcorrectly (bug#22964).\n\t(cherry picked from commit 4f6ea3988b66cf132c67fd0cc26d12eb9a300ba1)\n\n\tBackport:\n\n2016-03-20  Lars Magne Ingebrigtsen  <larsi@gnus.org>\n\n\tIgnore invalid base64 encoded embedded images\n\n\t* lisp/net/shr.el (shr-image-from-data): Ignore invalid base64\n\tencoded embedded images (bug#22928).\n\t(cherry picked from commit f2da80d0e1ccd121c4891e869a45aeb9c6b1795d)\n\n\tBackport:\n\n2016-03-20  Lars Magne Ingebrigtsen  <larsi@gnus.org>\n\n\tFix <p> and <div> newlines with or without <li> in shr\n\n\t* lisp/net/shr.el (shr-ensure-newline): Respect that we're in\n\ta <li>, if we are, and don't insert newlines there.\n\t(shr-ensure-paragraph): When mixing newlines and paragraph\n\tensurements, don't insert too many blank lines.\n\t(shr-tag-div): A <div> shouldn't introduce a paragraph, but a\n\tnew line.\n\t(cherry picked from commit 292921facaff2f02ac4e8602c1f7ecbdcfe7ef45)\n\n\tBackport:\n\n2016-03-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid errors in 'newline'\n\n\t* lisp/simple.el (newline): Don't barf if invoked with\n\tnon-positive argument in the middle of a line.  (Bug#22490)\n\n2016-03-19  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix Bug#23032\n\n\t* doc/misc/eshell.texi (Arguments): Mention the pipe symbol in\n\tremote file names.  (Bug#23032)\n\n2016-03-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tAdjudicate review comments in abbrevs.texi\n\n\t* doc/lispref/abbrevs.texi (Abbrev Files, Abbrev Expansion):\n\t* doc/emacs/abbrevs.texi (Dabbrev Customization): State the\n\tdefault values of variables.  Suggested by Steve Byrne\n\t<sbb@penguinis.org>.  (Bug#23016)\n\n\t* admin/release-process (Check manuals): Mark files reviewed by\n\tSteve Byrne.\n\n2016-03-18  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tFixup the \"normal\" matcher; highlight global var symbols, too\n\n\t* lisp/progmodes/ruby-mode.el (ruby-font-lock-keywords): Highlight\n\toperator name symbols with the \"normal\" matcher (it actually\n\tneeded updating).  Highlight global variable symbols, too.\n\n2016-03-18  Marcin Borkowski  <mbork@mbork.pl>\n\n\tHonor prefix arg in doc-view-next-line-or-next-page\n\n\t* lisp/doc-view.el (doc-view-next-line-or-next-page): Take the\n\tprefix argument into consideration when continuous scrolling is\n\tnot in effect (i.e., by default) (bug#19559).\n\n2016-03-18  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort to strict C99 offsetof\n\n\t* src/bidi.c (bidi_copy_it):\n\t* src/lisp.h (CHAR_TABLE_EXTRA_SLOTS):\n\tUse only a single identifier as the second argument of offsetof.\n\tFound by using clang -pedantic.\n\n2016-03-18  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort to GTK with strict C11 compiler\n\n\t* src/gtkutil.c (xg_create_frame_widgets, xg_toggle_notify_cb):\n\tCast from function type to void * where the C standard requires this.\n\tThis works around a problem in the prototypes for\n\tg_signal_handler_find and g_signal_handlers_block_by_func, which\n\tuse gpointer instead of GCallback.  Found by using gcc -pedantic.\n\n2016-03-18  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort to GTK with strict C99 compiler\n\n\t* src/emacsgtkfixed.c: Use workaround for GNOME bug 683906 only\n\tin glib 2.35.6 and earlier, since the bug is fixed in 2.35.7.\n\t* src/emacsgtkfixed.c (EmacsFixedPrivate):\n\t* src/emacsgtkfixed.h (EmacsFixedClass):\n\tRemove duplicate typedef, which strict C99 does not allow (Bug#23003).\n\n2016-03-17  Anders Lindgren  <andlind@gmail.com>\n\n\tAvoid screen artifacts with new OS X visible bell after scrolling\n\n\t* src/nsterm.m (EmacsBell): Save NSView when displaying the\n\tvisible bell and set `needsDisplay' when removed.\n\t(hide_bell): Trace.\n\t(ns_copy_bits): Trace.\n\n2016-03-17  Michael Albinus  <michael.albinus@gmx.de>\n\n\tSuppress some Tramp tests for OSX, do not merge with master\n\n\t* test/automated/tramp-tests.el (tramp--test-darwin-p): New defun.\n\t(tramp--test-utf8): Use it.  (Bug#22145)\n\n2016-03-17  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/progmodes/xref.el (xref-buffer-name, xref--window):\n\tMove definitions before use.\n\n\t* lisp/gnus/mm-decode.el (gnus-format-message): Autoload it.\n\n\t* lisp/mail/rmail.el (rmail-mime-entity-truncated): Declare.\n\n2016-03-17  Glenn Morris  <rgm@gnu.org>\n\n\tAddress compilation warnings due to 2016-01-03 mml refactoring.\n\n\t* lisp/gnus/mml-sec.el (password-cache, mm-encode): Require.\n\t(message-options-get): Autoload.\n\t(message-options-set): Declare.\n\t(mml-secure-cache-passphrase, mml-secure-passphrase-cache-expiry):\n\tSimplify default value.\n\t* lisp/gnus/mml-smime.el (message-options-set): Remove declaration.\n\t* lisp/gnus/mml1991.el, lisp/gnus/mml2015.el:\n\tNo longer a need for password-cache.\n\n2016-03-16  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/smie.el (smie-indent-keyword): Don't burp in strings\n\n\t(bug#22960).\n\n2016-03-16  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/dired-x.el (dired-omit-here-always): Correct error message\n\tfor 2016-01-25 change.\n\n\t* lisp/dired-x.el (dired-omit-here-always): Replace undefined function\n\tremoved 2016-01-30.\n\n\t* lisp/xml.el (xml-parse-tag-1): Replace undefined function.\n\n2016-03-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid segfaults due to frame image cache being absent\n\n\t* src/image.c (cache_image): If the frame doesn't have an image\n\tcache, create it.  (Bug#23028)\n\n2016-03-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of glyphless-character display\n\n\t* doc/emacs/display.texi (Text Display): Document and index the\n\t'glyphless-char' face.\n\n2016-03-16  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tSupport safe navigation operator in non-SMIE indentation code\n\n\t* lisp/progmodes/ruby-mode.el (ruby-calculate-indent):\n\tSupport safe navigation operator in non-SMIE indentation code.\n\tCherry-picked from\n\thttps://github.com/ruby/ruby/commit/68e16ddd7961b86e5013e62ae2954e88638de058.\n\n2016-03-16  Thomas Fitzsimmons  <fitzsim@fitzsim.org>\n\n\tMove xsd:base64Binary decoding fix to debbugs.el 0.9.1\n\n\t* lisp/net/soap-client.el (soap-encode-xs-basic-type): Do not\n\tassume xsd:base64Binary values are UTF-8 strings.\n\t(soap-decode-xs-basic-type): Likewise.\n\t(soap-invoke): Document xsd:base64Binary handling.\n\n2016-03-15  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tFix Ruby's operator precedence\n\n\t* lisp/progmodes/ruby-mode.el (ruby-smie-grammar):\n\tRearrange the smie-precs->prec2 form.\n\n2016-03-15  Dmitry Gutov  <dgutov@yandex.ru>\n\n\t(ruby-interpolation-inside-another-interpolation): New failing test\n\n\t* test/automated/ruby-mode-tests.el\n\t(ruby-interpolation-inside-another-interpolation):\n\tNew failing test.\n\n2016-03-15  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort to clang 3.7.0 on x86-64\n\n\t* configure.ac: Use AS_IF so that gl_WARN_ADD\u2019s prerequisites are\n\tnot done conditionally.  This helps clang, which needs\n\t-Wunknown-warning-option later when configured with warnings.\n\t* src/editfns.c (invalid_time): Now _Noreturn, since clang isn\u2019t\n\tsmart enough to figure this out on its own if warnings are enabled.\n\t(lisp_time_struct): Redo for clarity, and to pacify clang.\n\t* src/xfns.c (x_real_pos_and_offsets) [USE_XCB]: Don\u2019t use\n\tuninitialized locals.  This avoids undefined behavior and pacifies\n\tclang.\n\n2016-03-15  Glenn Morris  <rgm@gnu.org>\n\n\t* test/automated/package-test.el (package-test-signed): Tweak skip\n\tcondition, for hydra.\n\n2016-03-15  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSync with gnulib\n\n\tThis incorporates:\n\t2016-03-15 time_rz: port to clang -Wunused-const-variable\n\t2016-03-15 select: port more to Intel 2016.1.150 compiler\n\t* lib/sys_select.in.h, lib/time_rz.c: Copy from gnulib.\n\n2016-03-15  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix startup of \"emacs -nw\" on systems that CANNOT_DUMP\n\n\t* src/xdisp.c (syms_of_xdisp) <resize-mini-windows>: Initialize to\n\tnil.\n\n\t* lisp/loadup.el <resize-mini-windows>: Set to 'grow-only' after\n\tloading window.el.  (Bug#22975)\n\n2016-03-14  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tDo not tokenize a comment before continuation as ';'\n\n\t* lisp/progmodes/ruby-mode.el (ruby-smie--implicit-semi-p):\n\tAccount for a comment right after point.\n\n2016-03-14  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tDon't misindent arguments of a method call inside continuation\n\n\t* lisp/progmodes/ruby-mode.el (ruby-smie-rules):\n\tUse smie-indent-virtual instead of smie-rule-parent (bug#23015).\n\tSimplify the traversal loop.\n\n2016-03-14  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* src/keyboard.c (echo_keystrokes_p): Don't test cursor_in_echo_area\n\n\t(read_key_sequence): Test it here, as before.\n\t(bug#22825).\n\n2016-03-14  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tASCII-only etc/NEWS etc.\n\n\t* etc/NEWS, nextstep/README: Revert the recently-added curved\n\tquotes, and stick to ASCII.  This typically involves replacing\n\tcurved with straight quotes.  Since etc/NEWS is viewed so often by\n\tUTF-8-ignorant tools, rewrite its non-ASCII text to spell out\n\tUnicode, e.g., replace \u2018\u2012\u2019 with \u2018U+2012 (FIGURE DASH)\u2019.\n\n2016-03-14  Alan Mackenzie  <acm@muc.de>\n\n\tFix a cacheing bug, which led to inordinately slow c-beginning-of-defun.\n\n\t* lisp/progmodes/cc-defs.el (c-self-bind-state-cache): New macro.\n\n\t* lisp/progmodes/cc-engine.el (c-ssb-lit-begin): Always call c-parse-state\n\trather than just using the cache variable c-state-cache.\n\t(c-syntactic-skip-backward): Invoke c-self-bind-state-cache to isolate calls\n\tto c-parse-state from other uses of the parse state cache.\n\n\t* lisp/progmodes/cc-cmds.el (c-beginning-of-defun, c-end-of-defun): Invoke\n\tc-self-bind-state-cache around the processing, replacing flawed bindings of\n\tc-state-cache.\n\n2016-03-14  Alan Mackenzie  <acm@muc.de>\n\n\tFix a cacheing bug, which led to inordinately slow c-beginning-of-defun.\n\n\t* lisp/progmodes/cc-defs.el (c-self-bind-state-cache): New macro.\n\n\t* lisp/progmodes/cc-engine.el (c-ssb-lit-begin): Always call c-parse-state\n\trather than just using the cache variable c-state-cache.\n\t(c-syntactic-skip-backward): Invoke c-self-bind-state-cache to isolate calls\n\tto c-parse-state from other uses of the parse state cache.\n\n\t* lisp/progmodes/cc-cmds.el (c-beginning-of-defun, c-end-of-defun): Invoke\n\tc-self-bind-state-cache around the processing, replacing flawed bindings of\n\tc-state-cache.\n\n2016-03-14  Kaushal Modi  <kaushal.modi@gmail.com>\n\n\tFix Isearch prompt when invoked with an argument\n\n\t* lisp/isearch.el (isearch--describe-regexp-mode): With\n\t`search-default-mode' set to nil, if user does C-u C-s, the minibuffer\n\tnow displays \"Regexp I-search: \" again.  But if the user has set\n\t`search-default-mode' to t, and then does C-s, the minibuffer now\n\tdisplays \"I-search: \" because the default search mode is now regexp\n\tmode.  Comments have been added to explain the priority of conditions\n\tin the `cond' form.  (Bug#22991)\n\n2016-03-14  Cesar Quiroz  <cesar.quiroz@gmail.com>  (tiny change)\n\n\tFix a typo in the Emacs manual\n\n\t* doc/emacs/maintaining.texi (VC Directory Commands): Fix a typo\n\tin a command name.\n\n2016-03-14  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tCurved quotes in etc/NEWS etc.\n\n\t* etc/NEWS, nextstep/README: Prefer curved quotes in the\n\trecently-changed text documentation.  See:\n\thttp://lists.gnu.org/archive/html/emacs-devel/2016-03/msg00860.html\n\n2016-03-14  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix some single quotes in documentation\n\n\t* doc/emacs/anti.texi (Antinews): Avoid confusion in info and PDF\n\twhen documenting quoting styles.\n\t* etc/NEWS, nextstep/README: In these plain text files, quote\n\t'like this' consistently, rather than also (sometimes) \u2018like this\u2019\n\tor (more often) `like this'.\n\n2016-03-13  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tMake lisp-completion-at-point's argument optional\n\n\t* lisp/progmodes/elisp-mode.el (lisp-completion-at-point): Make\n\tthe argument optional, like it was before the rename.\n\n2016-03-13  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tTweak the left precedence of '=>'\n\n\t* lisp/progmodes/ruby-mode.el (ruby-smie-grammar): Tweak the left\n\tprecedence of '=>', to improve indentation and sexp navigation.\n\n2016-03-13  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tIndent '.' relative to the first sibling expression\n\n\t* lisp/progmodes/ruby-mode.el (ruby-smie-rules):\n\tIndent '.' relative to the first sibling expression, instead of the\n\tparent token (bug#17213).\n\n2016-03-13  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tMake '.' associative, for easier sexp navigation\n\n\t* lisp/progmodes/ruby-mode.el (ruby-smie-grammar):\n\tMake '.' associative, for easier sexp navigation.\n\n2016-03-13  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\tRevert \"Simplify \"Visit New File\" to \"New File\"\"\n\n\tThis reverts commit d457fd9dc782465e1547f74021390c9d5951d6af.\n\n2016-03-12  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\tSimplify \"Visit New File\" to \"New File\"\n\n\t* doc/emacs/files.texi, lisp/menu-bar.el (menu-bar-file-menu),\n\t  lisp/startup.el(normal-mouse-start-screen,\n\t  normal-no-mouse-startup-screen): Change label \"Visit New File\" to \"New\n\t  File\".\n\n2016-03-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tUpdate Unicode notes for importing a new Unicode version\n\n\t* admin/notes/unicode: Mention the need to update otf-script-alist\n\tin fontset.el when importing data files from a new Unicode\n\tversion.\n\n2016-03-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tImport new data files from Unicode 9.0.0beta\n\n\t* admin/unidata/UnicodeData.txt:\n\t* admin/unidata/Blocks.txt:\n\t* admin/unidata/BidiMirroring.txt:\n\t* admin/unidata/BidiBrackets.txt: Update from Unicode 9.0.0beta.\n\t* admin/unidata/unidata-gen.el (unidata-gen-files): Bind\n\t'coding-system-for-read' to 'utf-8, as various Unicode data files\n\tnow actually use non-ASCII characters.\n\t(unidata-setup-list, unidata-get-name): Support the new Tangut\n\tIdeographs block.\n\n\t* lisp/international/characters.el (standard-case-table): Add new\n\tcharacters from Unicode 9.0.0.\n\t(standard-category-table): Add Arabic block u+08A0..u+08FF.  Add\n\tCyrillic Extended-C block.\n\t(char-width-table): Update ranges per Unicode 9.0.0.\n\t* lisp/international/fontset.el (script-representative-chars): Add\n\tnew scripts defined by Unicode 9.0.0.\n\t(otf-script-alist): Add new OTF script tags.\n\t* lisp/international/mule-cmds.el (ucs-names): Update ranges per\n\tUnicode 9.0.0 additions.\n\n2016-03-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid errors in forms-mode when default major mode is text\n\n\t* lisp/forms.el (forms-mode): Bind\n\tchange-major-mode-with-file-name to nil when calling\n\tset-visited-file-name.  (Bug#22982)\n\n2016-03-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid crashes at startup on systems that CANNOT_DUMP\n\n\t* src/xdisp.c (syms_of_xdisp) <redisplay--inhibit-bidi>: New\n\tboolean variable.\n\t(init_iterator, reseat_to_string)\n\t(Fcurrent_bidi_paragraph_direction)\n\t(Fbidi_find_overridden_directionality): Use\n\tredisplay--inhibit-bidi instead of purify-flag, to determine when\n\tit's safe to reorder bidirectional text.\n\n\t* lisp/loadup.el (redisplay--inhibit-bidi): Set to t at the\n\tbeginning of the file.  Reset to nil when charprop.el is\n\tsuccessfully loaded, or when we are going to dump, whichever\n\thappens last.  (Bug#22975)\n\n2016-03-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix documentation of seq.el functions\n\n\t* doc/lispref/sequences.texi (Sequence Functions): Fix typos.  Add\n\tcross-references.  Fix formatting.  (Bug#22992)\n\n2016-03-11  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tSupport Ruby 2.3.0's safe navigation operator\n\n\t* lisp/progmodes/ruby-mode.el (ruby-smie--forward-token)\n\t(ruby-smie--backward-token): Tokenize '&.' as '.'.\n\t(ruby-smie--implicit-semi-p): Check for possible '&' before '.'.\n\n\t* test/indent/ruby.rb: Add an example using safe navigation\n\toperator.  Fix a syntax error in existing example.\n\n2016-03-11  John Wiegley  <johnw@newartisans.com>\n\n\tUpdate Emacs manual section related to character folding\n\n\t* doc/emacs/search.texi: Character folding is not on by default.\n\n2016-03-11  Eli Zaretskii  <eliz@gnu.org>\n\n\tUpdate admin/notes/unicode\n\n\t* admin/notes/unicode: Update the list of files from the UCD we\n\tare using.  Mention the possible need to change 'ucs-names' when\n\timporting a new version of the Unicode Standard.\n\n2016-03-10  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tAdd symref-filepattern entries for c?perl-mode\n\n\t* lisp/cedet/semantic/symref/grep.el\n\t(semantic-symref-filepattern-alist): Add entries for perl-mode and\n\tcperl-mode.\n\n2016-03-10  Ken Raeburn  <raeburn@raeburn.org>\n\n\tDon't use XRANDR 1.3 extensions if the server doesn't support them.\n\n\t* src/xterm.h (struct x_display_info): Add fields to save XRANDR\n\tversion number.\n\t* src/xfns.c (x_get_monitor_attributes): Save the version numbers\n\tafter querying the X server.\n\t(x_get_monitor_attributes_xrandr): Don't use XRRGetOutputPrimary or\n\tXRRGetScreenResourcesCurrent if the server doesn't support at least\n\tRANDR version 1.3.  Conditionalize the code blocks on compiling\n\tagainst library version 1.3 or better, rather than feature tests for\n\teach function.\n\t* configure.ac: Stop testing for those two functions.\n\n2016-03-10  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSync with gnulib\n\n\tThis incorporates:\n\t2016-03-08 intprops: make .h file license match module\n\t2016-03-08 acl: fix missing return on Cygwin\n\t2016-03-05 extern-inline: port to PGI CC\n\t* doc/misc/texinfo.tex, lib/intprops.h, lib/set-permissions.c:\n\t* m4/extern-inline.m4:\n\tCopy from gnulib.\n\n2016-03-10  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRework C source files to avoid ^(\n\n\tWork around Bug#22884 by rewording comments and strings to avoid \u2018(\u2019\n\tat the start of a line unless it starts a function.  This change\n\tis a short-term hack; in the longer run we plan to fix cc-mode\u2019s\n\tperformance for C files that have \u2018(\u2019 at the start of a line in a\n\tcomment or string.\n\n2016-03-10  Eli Zaretskii  <eliz@gnu.org>\n\n\tBy default, etags produces unqualified Perl tag names\n\n\t* lib-src/etags.c (Perl_functions): Produce unqualified names,\n\tunless -Q was specified.\n\t(print_help): Update the description of -Q.\n\n\t* doc/man/etags.1: Update the documentation of -Q.\n\n\t* test/etags/ETAGS.good_1:\n\t* test/etags/ETAGS.good_2:\n\t* test/etags/ETAGS.good_3:\n\t* test/etags/ETAGS.good_4:\n\t* test/etags/ETAGS.good_5:\n\t* test/etags/CTAGS.good: Adapt the expected test results to the\n\tchanged Perl functionality.\n\n2016-03-10  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tIndent methods with keyword names correctly\n\n\t* lisp/progmodes/ruby-mode.el (ruby-smie--at-dot-call):\n\tRename to ruby-smie--before-method-name.  Now also check if we're\n\tafter a 'def' keyword.  Update both callers.\n\n2016-03-10  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tPropertize character literals and special global variables differently\n\n\t* lisp/progmodes/ruby-mode.el (ruby-syntax-propertize): Propertize\n\tcharacter literals and global variables with special names with\n\tprefix and symbol syntax classes, for SMIE to tokenize them\n\ttogether automatically.\n\t(ruby-font-lock-keywords): Fix an old regression in highlighting\n\tcharacter literals.\n\n2016-03-09  John Wiegley  <johnw@newartisans.com>\n\n\tChange how /etc/NEWS presents character folding\n\n\t* NEWS: Note that character folding is no longer the default.\n\n2016-03-09  John Wiegley  <johnw@newartisans.com>\n\n\tRevert \"Revert \"Backport: * lisp/isearch.el: Turn char-folding off by default\"\"\n\n\tThis reverts commit a91b4b51ddf2575d821adb8b84fdf32cff83886e.\n\n2016-03-09  Andreas Schwab  <schwab@linux-m68k.org>\n\n\tProperly handle lambda as read function (bug 22961)\n\n\t* src/lread.c (readchar): Be more strict about checking for\n\tstring in cons for read_vector.\n\t(unreadchar): Likewise.\n\n2016-03-09  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tPropertize operator symbol names with symbol syntax class\n\n\t* lisp/progmodes/ruby-mode.el (ruby-syntax-propertize):\n\tDo it here.\n\t(ruby-font-lock-keywords): Instead of handling them here.  Leave\n\thighlighting them to the \"normal\" matcher, because now we can.\n\t(ruby-smie--forward-token, ruby-smie--backward-token):\n\tLikewise, don't special-case operator symbols anymore.\n\t(ruby-smie--args-separator-p): Simplify the regexp, match operator\n\tnames with \\s_.\n\t(ruby-smie--implicit-semi-p): Handle the special cases of ? and =\n\tat EOL the same way: check if the character has been assigned the\n\tsymbol syntax class by syntax-propertize.\n\n2016-03-09  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tStop recognizing :#{} as symbol in ruby-mode\n\n\t* lisp/progmodes/ruby-mode.el (ruby-font-lock-keywords): Remove\n\tthe weird part that recognized colon followed by interpolation\n\tconstruct without quotes (e.g. ':#{abc}') as symbol, which is just a\n\tsyntax error in any modern version of Ruby.  Fix nearby bug reference.\n\n2016-03-09  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tAllow using the left shift operator without spaces on both sides\n\n\t* lisp/progmodes/ruby-mode.el (ruby-singleton-class-p): Rename to\n\truby-verify-heredoc, reverse the meaning of the return value, and\n\tshort-circuit if preceded by a symbol not separated by whitespace.\n\n\t* test/automated/ruby-mode-tests.el (ruby-no-heredoc-left-shift)\n\t(ruby-no-heredoc-class-self): New tests.\n\n2016-03-08  Andreas Schwab  <schwab@linux-m68k.org>\n\n\tProperly handle unquoting in wdired (bug 22938)\n\n\tThe recorded old names are not quoted, don't unquote them.\n\n\t* lisp/wdired.el (wdired-normalize-filename): Add argument\n\tunquotep, only unquote if non-nil.\n\t(wdired-get-filename): Don't unquote the old file name.\n\t(wdired-get-previous-link): Always unquote.\n\n2016-03-06  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tAllow splat operator before percent literal\n\n\t* lisp/progmodes/ruby-mode.el (ruby-syntax-propertize):\n\tAllow splat operator before percent literal.\n\n2016-03-06  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tDon't apply the return value of goto-char as syntax class\n\n\t* lisp/progmodes/ruby-mode.el (ruby-syntax-propertize): Don't\n\tapply the return value of goto-char as syntax class.\n\n2016-03-06  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tGuard against nested percent literals\n\n\t* lisp/progmodes/ruby-mode.el\n\t(ruby-syntax-propertize-percent-literal):\n\tDon't check the syntax status.\n\t(ruby-syntax-propertize): Check it here.  And also guard against\n\tbeing in a larger percent literal.\n\n\t* test/automated/ruby-mode-tests.el\n\t(ruby-no-nested-percent-literals): New test.\n\n2016-03-06  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tRecognize iuwu-mod after an escaped newline\n\n\t* lisp/progmodes/ruby-mode.el (ruby-smie--bosp): Check if the\n\tnewline is escaped.\n\t(ruby-smie-rules): Indent iuwu-mod after an escaped newline\n\tcorrectly.\n\n2016-03-06  Andreas Schwab  <schwab@linux-m68k.org>\n\n\tFix symbolic mode string conversion for s and t\n\n\t* lisp/files.el (file-modes-char-to-right): Fix values for ?s and\n\t?t.\n\t(file-modes-symbolic-to-number): Default to a for ts permissions.\n\n2016-03-06  Eli Zaretskii  <eliz@gnu.org>\n\n\tUpdate 'ucs-names' database\n\n\t* lisp/international/mule-cmds.el (ucs-names): Update used and\n\tunused ranges from the latest UnicodeData.txt.\n\n2016-03-06  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove doc string of 'shell-command'\n\n\t* lisp/simple.el (shell-command): Mention that COMMAND is prompted\n\tfor.  (Bug#22926)\n\n2016-03-06  Eli Zaretskii  <eliz@gnu.org>\n\n\tMake the code in movemail_strftime more general\n\n\t* lib-src/movemail.c (movemail_strftime): Transform the format\n\tstring passed by the caller instead of using a separate format\n\tstring.\n\n2016-03-06  Eli Zaretskii  <eliz@gnu.org>\n\n\tSpeed up redisplay of binary files with long series of nulls\n\n\t* src/bidi.c (bidi_resolve_weak): Avoid entering a loop searching\n\tfor a character needed for resolving the type of a series of BN\n\tand ET characters, as required by rule W5 of UAX#9, if the results\n\tof the resolution are known in advance, because we are at level\n\tzero, and the previous strong character was L.\n\t(bidi_resolve_neutral): Partially resurrect the optimization for a\n\tlong series of control characters in an otherwise strictly L2R\n\ttext.\n\t(bidi_level_of_next_char): Don't enter the loop that searches for\n\ta paragraph separator if the current character is already at base\n\tembedding level.  (Bug#22739)\n\n2016-03-05  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tRemove the highlighting support for quoting 'like this' inside Lisp docstrings\n\n\tRemove the highlighting support for quoting 'like this' inside\n\tLisp docstrings.  This part of\n\tc4151ebe15479de4c2e511b068cdf9af6a4576cf seems to have been\n\tunintentional, considering substitute-command-keys gives wrong\n\toutput for such usage.\n\t* lisp/emacs-lisp/lisp-mode.el (lisp-el-font-lock-keywords-2)\n\t(lisp-cl-font-lock-keywords-2): Do not highlight text between two\n\tstraight quotes as symbol.\n\n2016-03-05  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRestore leading space in movemail pop output\n\n\t* lib-src/movemail.c (movemail_strftime) [WINDOWSNT]: New function.\n\t(strftime) [WINDOWSNT]: New macro.\n\t(mbx_delimit_begin): Go back to previous version of this code,\n\tnow that there\u2019s a special-purpose WINDOWSNT implementation\n\tthat should do the right thing.  That way, the output continues\n\tto use leading space rather than leading zero for day of month.\n\n2016-03-05  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix bidi-paragraph-direction in Rmail view buffer\n\n\t* lisp/mail/rmail.el (rmail-show-message-1): Reset\n\tbidi-paragraph-direction to nil before formatting the message for\n\tdisplay.\n\n2016-03-05  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tDon't misindent computed property generator methods\n\n\t* lisp/progmodes/js.el (js--looking-at-operator-p):\n\tDon't misindent computed property generator methods\n\t(https://github.com/mooz/js2-mode/issues/317).\n\n2016-03-05  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix mbox files produced by movemail on MS-Windows\n\n\t* lib-src/movemail.c (mbx_delimit_begin): Use portable strftime\n\tformat specifiers, as at least the MS-Windows version of strftime\n\tdoesn't support %e and %T.\n\n2016-03-04  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tdoc string file descriptor exhaustion fix\n\n\t* src/doc.c (get_doc_string): Move newly-added check to a better\n\tlocation (Bug#22814).\n\n2016-03-04  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix Bug#22814\n\n\t* src/doc.c (get_doc_string): Raise an error in case too many\n\tfiles are open.  (Bug#22814)\n\n2016-03-04  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFix insertion of edited servers in the dribble file\n\n\t* lisp/gnus/gnus-srvr.el (gnus-server-update-server): Don't\n\tinsert explicit newlines, because they're quoted (bug#22903).\n\n\tBackport:\n\n\t(cherry picked from commit ca4e30058eba0531f38fff75f14734acffab84ea)\n\n2016-03-04  Martin Rudalics  <rudalics@gmx.at>\n\n\tFix previous fix of enlarge-/shrink-window\n\n\t* lisp/window.el (enlarge-window, shrink-window): Consistently\n\tsignal user-error instead of error.  Resize minibuffer window by\n\tdelta lines instead of pixels.  When a window cannot be resized,\n\tsignal an error only when this function was invoked by a command\n\tin the enlarge-/shrink-window group (this restores the behavior\n\tbefore the fix of bug#22723 for the non-interactive case).\n\n2016-03-03  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/isearch.el (isearch-define-mode-toggle): Fix toggling logic\n\n2016-03-03  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tComplete temperature units in calc-convert-temperature\n\n\t* lisp/calc/calc-units.el (calc-convert-temperature): Complete with\n\ttemperature units in math-standard-units.\n\n2016-03-02  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tMake sure to use case-sensitive search\n\n\t* lisp/progmodes/xref.el (xref-collect-references): Make sure to\n\tuse case-sensitive search.\n\n2016-03-02  Ulf Jasper  <ulf.jasper@web.de>\n\n\tPrevent infinite loop on not-well-formed xml. (Bug#16344)\n\n\t* lisp/xml.el (xml-parse-tag-1): Prevent inifinite loop. (Bug#16344)\n\t* test/automated/xml-parse-tests.el (xml-parse-tests--bad-data): Add\n\t  test cases for Bug#16344.\n\n2016-03-02  Alan Third  <alan@idiocy.org>\n\n\tAdd the missing test case for the previous patch\n\n\tlisp/dabbrev.el (dabbrev--substitute-expansion): Return EXPANSION after\n\tany processing.\n\tlisp/dabbrev.el (dabbrev-expand): Set EXPANSION to the return value of\n\tDABBREV--SUBSTITUTE-EXPANSION.\n\ttest/automated/dabbrev-tests.el (dabbrev-expand-test): Test for bug#1948.\n\n2016-03-02  Alan Third  <alan@idiocy.org>\n\n\tUse the correct dabbrev expansion\n\n\tlisp/dabbrev.el (dabbrev--substitute-expansion): Return EXPANSION after\n\tany processing.\n\tlisp/dabbrev.el (dabbrev-expand): Set EXPANSION to the return value of\n\tDABBREV--SUBSTITUTE-EXPANSION.\n\ttest/automated/dabbrev-tests.el (dabbrev-expand-test): Test for bug#1948.\n\n2016-03-02  Nicolas Petton  <nicolas@petton.fr>\n\n\tBump version to 25.0.92\n\n\t* README:\n\t* configure.ac:\n\t* msdos/sed2v2.inp: Bump version to 25.0.92.\n\n2016-03-02  Nicolas Petton  <nicolas@petton.fr>\n\n\t* etc/AUTHORS: Update the AUTHORS file\n\n2016-03-02  Nicolas Petton  <nicolas@petton.fr>\n\n\tauthors.el updates\n\n\t* admin/authors.el (authors-ignored-files): Addition.\n\n2016-03-02  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix Bug#22859\n\n\t* lisp/filenotify.el (file-notify-callback): Return a `deleted'\n\tevent in case of kqueue and file1 is nil.  (Bug#22859)\n\n2016-03-01  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix reordering of bidi text in an isolate inside an override\n\n\t* src/bidi.c (bidi_resolve_explicit): Override the orig_type value\n\tof FSI with either LRI or RLI, as determined by the first strong\n\tdirectional character in the isolate.  This prevents failure to\n\tisolate when the FSI...PDI text is inside a directional override.\n\t(Bug#22786)\n\n2016-03-01  Alan Mackenzie  <acm@muc.de>\n\n\tDocument c-guess-basic-syntax in the CC Mode manual.\n\n\t* doc/misc/cc-mode.texi (Syntactic Analysis): Document the function, adding\n\tpxrefs to Custom Line-Up and Other Indentation.\n\t(Custom Line-Up): Add a note on using c-guess-basic-syntax with a pxref to\n\tSyntactic Analysis.\n\n2016-03-01  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix targets in test/automated/Makefile.in\n\n\t* test/automated/Makefile.in: Use $(SELECTOR_DEFAULT) also for\n\tempty target and target all.\n\n2016-03-01  Leo Liu  <sdl.web@gmail.com>\n\n\tComment on last change to define-derived-mode\n\n\t* lisp/emacs-lisp/derived.el (define-derived-mode): Add comment.\n\n2016-03-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAllow binding `url-mime-accept-string'\n\n\t* lisp/url/url-http.el (url-http): Allow binding\n\t`url-mime-accept-string' (bug#22855).\n\n\tBackport:\n\n\t(cherry picked from commit 144bb0cf322b9756d29def3e27a42303e2edce43)\n\n2016-03-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAlso allow setting the paragraph direction to nil\n\n\t* lisp/net/eww.el (eww-toggle-paragraph-direction): Also allow\n\tsetting the paragraph direction to nil (\"auto\").\n\n2016-02-29  Anders Lindgren  <andlind@gmail.com>\n\n\tMade the new OS X visible bell more visible.\n\n\t* src/nsterm.m: (EmacsBell:init:) Scaled up the visible bell\n\t  \"caution\" image five times, as the image in its original size\n\t  was hard to see.\n\n2016-02-29  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tUse the correct background color when filling nested <divs>\n\n\t* lisp/net/shr.el (shr-face-background): Return the first\n\tbackground, because that's the one that's visible (bug#22680).\n\n\tBackport:\n\n\t(cherry picked from commit cad0bc70558f9c28c808711c5295dec9fc5ad6e5)\n\n2016-02-29  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMake <div> in <li> not insert extra newlines\n\n\t* lisp/net/shr.el (shr-tag-div): Make <div> in <li> not insert\n\textra newlines (bug#19587).\n\n\tBackport:\n\n\t(cherry picked from commit 379a846b8548dc32a9019ef0a37c02f62cd9bad1)\n\n2016-02-29  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tUncomment the next-error-function integration in xref\n\n\t* lisp/progmodes/xref.el (xref--xref-buffer-mode):\n\tUncomment the next-error-function integration\n\t(http://debbugs.gnu.org/cgi/bugreport.cgi?bug=20489#110).\n\n2016-02-29  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tRemove the word \"valid\", to avoid ambiguity\n\n\t* doc/emacs/maintaining.texi (Identifier Search)\n\t(Looking Up Identifiers): Remove the word \"valid\" (bug#22692).\n\n2016-02-28  Michael Albinus  <michael.albinus@gmx.de>\n\n\tMerge branch 'emacs-25' of git.sv.gnu.org:/srv/git/emacs into emacs-25\n\n2016-02-28  Michael Albinus  <michael.albinus@gmx.de>\n\n\tSet auto-revert-use-notify to nil in global-auto-revert-mode.  (Bug#22814)\n\n\t* etc/NEWS:\n\t* etc/PROBLEMS: Mention this.\n\n\t* lisp/autorevert.el (global-auto-revert-mode): Set\n\t`auto-revert-use-notify' to nil.  (Bug#22814)\n\n2016-02-28  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* etc/TODO: Minor quoting and grammar fixes.\n\n2016-02-28  Friedrich Beckmann  <friedrich.beckmann@gmx.de>  (tiny change)\n\n\tFix ModelSim error parsing\n\n\t* lisp/progmodes/vhdl-mode.el (vhdl-compiler-alist): Fix\n\tModelSim error parsing (bug#5768).\n\n2016-02-28  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMake parse-time-string-chars faster\n\n\t* lisp/calendar/parse-time.el (parse-time-string-chars): Clean\n\tup the code (backport:).\n\n2016-02-28  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAdd a eww command to toggle paragraph direction\n\n\t* lisp/net/eww.el (eww-toggle-paragraph-direction): New\n\tcommand and keystroke.\n\n\t* doc/misc/eww.texi (Advanced): Mention the `D' command.\n\n2016-02-27  Glenn Morris  <rgm@gnu.org>\n\n\t* nextstep/WISHLIST: Merge into etc/TODO and remove.\n\n\t* etc/TODO: Merge in items from nextstep/WISHLIST.\n\t* nextstep/README: Update for this change.\n\n2016-02-27  Andreas Schwab  <schwab@linux-m68k.org>\n\n\tFix char signedness issue in bidi code\n\n\t* src/dispextern.h (struct bidi_t): Change type of resolved_level\n\tand isolate_level to signed char.  (Bug#22830)\n\n2016-02-27  Andreas Schwab  <schwab@linux-m68k.org>\n\n\t* lib-src/pop.c (socket_connection): Fix format string.\n\n2016-02-27  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid inflooping in thing-at-point-looking-at\n\n\t* lisp/thingatpt.el (thing-at-point-looking-at): Avoid inflooping\n\twith regular expressions whose matching doesn't move point.\n\t(Bug#22756)\n\tDescribe the argument DISTANCE in the doc string.\n\n2016-02-27  Leo Liu  <sdl.web@gmail.com>\n\n\t* lisp/emacs-lisp/derived.el (define-derived-mode): Revert indent change.\n\n2016-02-26  Michael Albinus  <michael.albinus@gmx.de>\n\n\tetc/PROBLEMS: Mention problems with using file descriptors\n\n\t* etc/PROBLEMS: Mention problems with using file descriptors\n\tof kqueue file notification library.\n\n2016-02-26  Kaushal Modi  <kaushal.modi@gmail.com>\n\n\t* lisp/apropos.el (apropos-variable): Doc fix.  (Bug#22813).\n\n2016-02-25  Eli Zaretskii  <eliz@gnu.org>\n\n\tRemove unneeded workaround in xftfont.c\n\n\t* src/xftfont.c (xftfont_open): Remove \"dirty workaround\" for\n\tXftTextExtents8 behavior, as it is no longer needed.  Suggested by\n\tFangwen Yu <yynyygy@gmail.com>.  (Bug#22383)\n\n2016-02-25  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/saveplace.el (save-place-local-mode): New minor mode\n\n\t(toggle-save-place): Define as obsolete alias.\n\t(save-place--setup-hooks): New function.\n\t(save-place-mode): Use it.\n\n2016-02-25  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix redisplay on a TTY after 'make-frame'\n\n\t* src/xdisp.c (clear_garbaged_frames): Don't clear/redraw a\n\tgarbaged TTY frame if it is not the selected frame.  (Bug#22794)\n\n2016-02-25  Alan Mackenzie  <acm@muc.de>\n\n\tMake double-click-1 work with unbalanced parens in CC Mode.  Fixes bug#5560.\n\n\t* lisp/mouse.el (mouse-start-end): check the syntax of alleged parens with\n\t`syntax-after' to ensure syntax-table text properties are respected.\n\n2016-02-25  Magnus Henoch  <magnus.henoch@gmail.com>\n\n\tInput method polish-slash should not use keyboard translation\n\n\t* lisp/leim/quail/latin-pre.el (\"polish-slash\"): Input method\n\tpolish-slash should not use keyboard translation (bug#19081).\n\n2016-02-25  Chris Feng  <chris.w.feng@gmail.com>\n\n\tFix an assertion\n\n\t* src/dispnew.c (clear_glyph_matrix_rows): Test matrix->nrows == 0 (which\n\timplies start == 0) separately.\n\n2016-02-24  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix 'toggle-save-place'\n\n\t* lisp/saveplace.el (toggle-save-place): Set up hooks necessary to\n\tsupport save-place in the buffer.  Autoload the command.\n\n2016-02-24  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* src/keyboard.c: Don't inadvertently set immediate_echo (bug#22581)\n\n\t* src/keyboard.c (read_key_sequence): Don't inadvertently set\n\timmediate_echo when we don't want any echo-keystrokes.\n\t(echo_keystrokes_p): Move earlier.\n\n2016-02-24  Chris Zheng  <chriszheng99@gmail.com>  (tiny change)\n\n\tMinor fixes in calculator.el\n\n\t* lisp/calculator.el (calculator-mode-map): Bind `E' for\n\t`calculator-exp'.\n\t(calculator-last-input): Fix a bug with pressing F1.\n\t(Bug#20764)\n\n2016-02-24  Anders Lindgren  <andlind@gmail.com>\n\n\tUpdate HISTORY section in readme for the NextStep interface.\n\n\t* nextstep/README: Update HISTORY after suggestion\n\tfrom former maintainer Adrian Robert.\n\n2016-02-24  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of 'save-place-mode'\n\n\t* lisp/saveplace.el (toggle-save-place): Update the doc string wrt\n\tturning on 'save-place-mode' globally.\n\n\t* etc/NEWS: Mention the need to call 'save-place-mode' for turning\n\ton the mode in all buffers.\n\n2016-02-24  Chris Feng  <chris.w.feng@gmail.com>  (tiny change)\n\n\tAllocate glyph matrices for the initial frame\n\n\t* src/frame.c (make_initial_frame): Allocate glyph matrices (Bug#22787).\n\n\t* src/dispnew.c (clear_glyph_matrix_rows): matrix->nrows can be 0.\n\n2016-02-24  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFix white space in last checkin\n\n2016-02-24  Dima Kogan  <gnuplot@dima.secretsauce.net>\n\n\tMake `insert-pair' always leave the cursor where documented\n\n\t* lisp/emacs-lisp/lisp.el (insert-pair): The docstring of\n\tinsert-pair states that after insertion, the point ends up\n\tafter the opening character. This was not true if the pair was\n\tinserted to surround a region (bug#16949).\n\n2016-02-24  Kaushal Modi  <kaushal.modi@gmail.com>\n\n\tetc/NEWS: Mention the new second parameter to `package-install'\n\n\t* etc/NEWS: Mention the new second parameter to\n\t`package-install' (bug#22784).\n\n2016-02-24  John F. Trudeau  <JFTrudeau@aetna.com>  (tiny change)\n\n\tHighlight assignments in Makefiles more correctly\n\n\t* lisp/progmodes/make-mode.el (makefile-macroassign-regex):\n\tHighlight assignments preceded by a TAB character correctly\n\t(bug#20787).\n\n\n\tBackport:\n\n\t(cherry picked from commit bbd86c5642bd62c43d72391669f28eaa14459fd5)\n\n2016-02-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of focus-related hooks\n\n\t* doc/lispref/commands.texi (Focus Events): Mention focus-related\n\thooks.  (Bug#21728)\n\n2016-02-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tFurther improve doc string of 'disable-point-adjustment'\n\n\t* src/keyboard.c (syms_of_keyboard): <disable-point-adjustment>\n\t<global-disable-point-adjustment>: Clarify doc strings.  (Bug#22771)\n\n2016-02-23  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFurther adaptions in file-notify-tests.el for w32notify\n\n\t* test/automated/file-notify-tests.el\n\t(file-notify--test-read-event-timeout, file-notify--test-timeout):\n\tDecrease values.\n\t(file-notify-test03-autorevert)\n\t(file-notify-test04-file-validity)\n\t(file-notify-test05-dir-validity): Run tests also for w32notify.\n\t(file-notify-test08-watched-file-in-watched-dir):\n\tAdapt expected events for w32notify.\n\n2016-02-23  Jan Tatarik  <jan.tatarik@gmail.com>\n\n\tDon't bug out on localised dates in gnus-icalendar\n\n\t* lisp/gnus/gnus-icalendar.el\n\t(gnus-icalendar-event:org-timestamp): Don't bug out on\n\tlocalised dates.\n\n2016-02-23  Drew Adams  <drew.adams@oracle.com>\n\n\t(ls-lisp-insert-directory): Make -B work\n\n\t* lisp/ls-lisp.el (ls-lisp-insert-directory): Make -B work\n\t(bug#20776).\n\n\tBackport:\n\n\t(cherry picked from commit ef52e66efd78aac4c4e5bd5e11870e5ba3b37a1e)\n\n2016-02-23  Vaidheeswaran C  <vaidheeswaran.chinnaraju@gmail.com>\n\n\tMake buttons in header lines work\n\n\t* lisp/help-mode.el (help-button-action): `help-xref-button' in\n\theader line doesn't work (bug#21024).\n\n\tBackport:\n\n\t(cherry picked from commit c11e565a6b6d09fa39d4c3ef65bef08190eaecc1)\n\n2016-02-23  Christopher Wellons  <wellons@nullprogram.com>\n\n\tMake setf for frame-height/width work again\n\n\t* lisp/emacs-lisp/cl-lib.el (frame-height): Make setf for\n\tframe-height/width work again (bug#21979).\n\n2016-02-23  \u0141ukasz Stelmach  <stlman@poczta.fm>\n\n\tEncode header strings before printing\n\n\t* lisp/ps-print.el (ps-generate-header-line): Encode the\n\theader strings to avoid problems with non-ASCII headers\n\t(bug#22611).\n\n\tBackport:\n\n\t(cherry picked from commit 3cedbdcc71ebefc12bd20ec84f74251fe99ee7d0)\n\n2016-02-23  Nicolas Richard  <youngfrog@members.fsf.org>\n\n\t(cl-union): Do not ignore :test argument when lists are equal.\n\n\t* lisp/emacs-lisp/cl-seq.el (cl-union): Do not ignore :test argument when lists are equal.\n\n\t* test/automated/cl-seq-tests.el: New file (bug#22729).\n\n2016-02-23  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAdd `isearch' to `basic-faces'\n\n\t* doc/lispref/display.texi (Basic Faces): Mention the isearch\n\tand lazy-highlight faces.\n\n\t* lisp/replace.el (match): Add `isearch' to the `basic-faces'\n\tgroup, too (bug#22760).\n\n2016-02-23  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tMake $, : and @ \"prefix characters\" in ruby-mode\n\n\t* lisp/progmodes/ruby-mode.el (ruby-mode-syntax-table): Change the\n\tsyntax classes of $, : and @ to \"prefix character\"\n\t(http://lists.gnu.org/archive/html/emacs-devel/2016-01/msg00272.html).\n\t(ruby-syntax-propertize): Undo that specifically for colons\n\tfollowed by an opening paren or bracket.\n\t(ruby-font-lock-keyword-beg-re): Include colon character.\n\t(ruby-font-lock-keywords): Adjust the constants matcher for `:'\n\tnot being a symbol constituent anymore.\n\n2016-02-23  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tMake find-tag-default-bounds more strict\n\n\t* lisp/subr.el (find-tag-default-bounds): Delegate to\n\tbounds-of-thing-at-point (bug#22692).\n\n2016-02-22  Michael Albinus  <michael.albinus@gmx.de>\n\n\tMinor fixes in filenotify.el\n\n\t* lisp/filenotify.el (top): Require 'cl-lib.\n\t(file-notify--rm-descriptor)\n\t(file-notify--event-watched-file): Use cl-caadr.\n\t(file-notify-callback): Handle also `ignore' events from inotify.\n\n2016-02-22  Michael Albinus  <michael.albinus@gmx.de>\n\n\tAdditional fixes for file notification\n\n\t* lisp/filenotify.el (top): Require 'cl when compiling.\n\t(file-notify--event-watched-file): New defun.\n\t(file-notify--rm-descriptor, file-notify-callback):\n\tHandle case of several monitors running in parallel.\n\n\t* test/automated/file-notify-tests.el\n\t(file-notify--test-event-test): Simplify test.\n\t(file-notify--test-with-events): Get rid of outer definition.\n\tCheck also results of tests performed in callbacks.\n\t(file-notify-test02-events): No wrapping when calling\n\t`file-notify-rm-watch'.  No special checking for callback tests.\n\t(file-notify-test07-backup): Adapt expected events for gfilenotify.\n\t(file-notify-test08-watched-file-in-watched-dir): Improve.\n\n2016-02-22  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix documentation of 'global-disable-point-adjustment'\n\n\t* src/keyboard.c (syms_of_keyboard) <disable-point-adjustment>\n\t<global-disable-point-adjustment>: Doc fixes.  (Bug#22771)\n\n2016-02-22  Daiki Ueno  <ueno@gnu.org>\n\n\tSet file modes of pinentry socket for extra safety\n\n\t* lisp/net/pinentry.el: Require 'cl-lib for `cl-letf'.\n\t(pinentry-start): Change the file modes of the socket file to 0700.\n\tThis is just for extra safety since the parent directory is already\n\tprotected with `server-ensure-safe-dir'.\n\n2016-02-22  Daiki Ueno  <ueno@gnu.org>\n\n\tClarify GnuPG version compatibility chapter\n\n\t* doc/misc/epa.texi (GnuPG version compatibility): Make the gpg-agent\n\tdescription a bit clearer.\n\n2016-02-22  Daiki Ueno  <ueno@gnu.org>\n\n\tRevert \"Change the default socket location for pinentry\"\n\n\tThis reverts commit e34fbdee8aca84b98393b06b2450837d175999ca.\n\tIt turned out that the address is fixed in Pinentry itself.\n\n2016-02-21  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tKill off xref--display-history\n\n\tNow that the core workflow keeps the xref window visible, there's\n\tless value in storing this history.  And it never was\n\tcomprehensive enough to undo scrolling changes.\n\t* lisp/progmodes/xref.el (xref--display-history)\n\t(xref--save-to-history, xref-quit): Remove.\n\t(xref--show-pos-in-buf): Update accordingly.\n\t(xref--xref-buffer-mode-map): Remove xref-quit binding.\n\n2016-02-21  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tKeep the xref buffer visible until the user quits it explicitly\n\n\t* lisp/progmodes/xref.el (xref--pop-to-location):\n\tRename WINDOW argument to ACTION.\n\t(xref--with-dedicated-window): New macro.\n\t(xref--show-pos-in-buf): Rename from `xref--display-position'.\n\tAdd and handle new argument, SELECTED.  Use the above macro.\n\t(xref--show-location): Add SELECTED argument.\n\t(xref-show-location-at-point): Make an effort to avoid the\n\toriginal window when showing the location.\n\t(xref-goto-xref): Don't quit the xref window (bug#20487 and\n\thttp://lists.gnu.org/archive/html/emacs-devel/2016-01/msg01133.html).\n\t(xref--query-replace-1): Use xref--with-dedicated-window as well.\n\t(xref--next-error-function): Call xref--show-location instead of\n\txref--pop-to-location.\n\t(xref--show-xrefs): Rename WINDOW argument to DISPLAY-ACTION.\n\tOnly pass that value to xref--pop-to-location.  Pass the current\n\tselected window to xref-show-xrefs-function as the `window'\n\tproperty.\n\t(xref--find-xrefs, xref--find-definitions): Rename WINDOW argument\n\tto DISPLAY-ACTION as well.\n\n2016-02-21  Daiki Ueno  <ueno@gnu.org>\n\n\tChange the default socket location for pinentry\n\n\t* lisp/net/pinentry.el: Require 'cl-lib for `cl-letf'.\n\t(pinentry--socket-dir): Change the default from /tmp/emacsXXX to\n\t~/.emacs.d/pinentry.\n\t(pinentry-start): Change the file modes of the socket file to 0700.\n\tThis is just for extra safety since the parent directory is already\n\tprotected with `server-ensure-safe-dir'.\n\n2016-02-21  Daiki Ueno  <ueno@gnu.org>\n\n\tMention how to enable pinentry feature\n\n\t* etc/NEWS: Mention \"gpgconf --reload gpg-agent\".\n\t* lisp/net/pinentry.el: Likewise.\n\n2016-02-21  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSync with gnulib\n\n\tThis incorporates:\n\t2016-02-10 stdalign: port to older HP and IBM cc\n\t* doc/misc/texinfo.tex, lib/stdalign.in.h: Copy from gnulib.\n\n2016-02-21  David Engster  <deng@randomsample.de>\n\n\tRemove `semanticdb-save-all-db-idle' from `auto-save-hook'\n\n\t* lisp/cedet/semantic/db-mode.el (semanticdb-hooks): Do not put\n\t  `semanticdb-save-all-db-idle' into `auto-save-hook'. The latter is\n\t  not an idle hook, so it's not appropriate to call it there. It will\n\t  already be called in the `semantic-idle-work-core-handler', which\n\t  runs when Emacs is actually idle.\n\n2016-02-21  David Engster  <deng@randomsample.de>\n\n\tRestore point when writing semantic table to disk\n\n\t* lisp/cedet/semantic/db-file.el (object-write): Wrap call to\n\t  `semantic-fetch-tags' in `save-excursion', since it might move point\n\t  in current buffer. (Bug #22287)\n\n2016-02-21  Daiki Ueno  <ueno@gnu.org>\n\n\tMention pinentry.el in epa manual\n\n\t* doc/misc/epa.texi (GnuPG version compatibility): New chapter,\n\tdescribing the differences between three GnuPG branches, and how\n\tto enable pinentry.el.\n\t(Caching Passphrases): Add xref to the compatibility chapter.\n\n2016-02-21  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix Bug#22736\n\n\t* lisp/filenotify.el (file-notify-callback): Use the proper\n\tdescriptor when calling the callback.  (Bug#22736)\n\n\t* test/automated/file-notify-tests.el\n\t(file-notify--test-event-handler): Deactivate trace.\n\t(file-notify-test08-watched-file-in-watched-dir): Bind\n\t`file-notify--test-tmpfile' temporarily in `dir-callback'.\n\n2016-02-21  Wieland Hoffmann  <themineo@gmail.com>  (tiny change)\n\n\tGrammar fix in doc string\n\n\t* lisp/custom.el (defgroup): Grammar fix in doc string.\n\n2016-02-20  Daiki Ueno  <ueno@gnu.org>\n\n\tNaming fix for consistency\n\n\t* lisp/epg-config.el (epg-find-configuration): Rename from\n\t`epg-configuration-find' to be consistent with other epg-* functions.\n\tChange all callers.\n\n2016-02-20  Daiki Ueno  <ueno@gnu.org>\n\n\tPrefer customized value for GnuPG executable\n\n\t* lisp/epg-config.el (epg-configuration-find): Don't check GPG\n\tconfiguration if it is already set with custom.  (Bug#22747)\n\n2016-02-20  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix memory reservation on MS-Windows\n\n\t* src/w32heap.c (mmap_alloc): Reserve memory in 64KB granular\n\tunits.  This avoids leaving gaps in reserved memory regions that\n\tno one can use, since memory reservation must produce 64KB-aligned\n\taddresses.  (Bug#22526)\n\n2016-02-20  Anders Lindgren  <andlind@gmail.com>\n\n\tUpdate NextStep readme and add wish list.\n\n\t* nextstep/README: Rewritten from scratch. New sections on\n\t\"History\", \"Overview of Cocoa and Objective-C\", \"Guidelines\",\n\t\"Tracing Support\", and \"GNUStep\". Expanded the \"See Also\" section.\n\t* nextstep/WISHLIST: New file containing list of issues and ideas\n\tassociated with the NS port of Emacs.\n\n2016-02-20  Michael Albinus  <michael.albinus@gmx.de>\n\n\tReport also result in `file-notify--test-event-handler'\n\n2016-02-20  Michael Albinus  <michael.albinus@gmx.de>\n\n\tImprove file-notify-test08-watched-file-in-watched-dir\n\n\t* test/automated/file-notify-tests.el (file-notify--test-desc2):\n\tNew variable.\n\t(file-notify--test-cleanup): Use it.\n\t(file-notify--test-event-handler): Enable trace.\n\t(file-notify-test08-watched-file-in-watched-dir): Tag it as\n\t:expensive-test.  Rewrite callbacks to use\n\t`file-notify--test-event-handler'.  Read events in loop.  Check\n\t`file-notify--test-results'.\n\t(file-notify-test08-watched-file-in-watched-dir): Fix docstring.\n\n2016-02-20  Stephen Berman  <stephen.berman@gmx.net>\n\n\tFix todo-mode item date editing bugs\n\n\t* lisp/calendar/todo-mode.el (todo-edit-item--header): Prevent out of\n\trange error by making sure the value of the numerical month date\n\tcomponent cannot be nil.  Prevent wrong type error on trying to edit\n\tday number in February by making sure numerical instead of string\n\tvalue of the year component is passed to todo-read-date.\n\t(todo-read-date): When using the numerical month date component make\n\tsure to use `*' for an arbitrary month instead of its numerical value.\n\n2016-02-20  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix \"[:upper:]\" for non-ASCII characters\n\n\t* src/regex.c (re_match_2_internal): Support [:upper:] and\n\t[:lower:] for non-ASCII characters.  (Bug#18150)\n\n2016-02-20  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAllow customising the article mode cursor behavior\n\n\t* doc/misc/gnus.texi (HTML): Mention gnus-article-show-cursor.\n\n\t* lisp/gnus/gnus-art.el (gnus-article-show-cursor): New variable.\n\t(gnus-article-mode): Use it.\n\n2016-02-20  Ari Roponen  <ari.roponen@gmail.com>\n\n\tUse pop-to-buffer-same-window in woman.el\n\n\t* lisp/woman.el (woman-really-find-file): Work around going to\n\tthe wrong buffer by using `pop-to-buffer-same-window' (bug#22332).\n\t(WoMan-find-buffer): Ditto.\n\n2016-02-20  Tassilo Horn  <tsdh@gnu.org>\n\n\tNew filenotify test for bug#22736\n\n\t* test/automated/file-notify-tests.el\n\t(file-notify-test08-watched-file-in-watched-dir):\n\t(file-notify--test-desc1): New filenotify test for bug#22736\n\n2016-02-20  Marcin Borkowski  <mbork@mbork.pl>\n\n\tReport critical battery errors\n\n\t* lisp/battery.el (battery-pmset): Report critical battery\n\terrors (bug#18157).\n\n2016-02-19  Kaushal Modi  <kaushal.modi@gmail.com>  (tiny change)\n\n\tMake eww message toggling message clearer\n\n\t* lisp/net/eww.el (eww-toggle-fonts): Make the message\n\tclearer.\n\n2016-02-19  Mark Oteiza  <mvoteiza@udel.edu>\n\n\t* lisp/calc/calc-units.el (math-standard-units): Update to 2014 CODATA adjustment.\n\n2016-02-18  Martin Rudalics  <rudalics@gmx.at>\n\n\tFix bugs in window resizing code\n\n\t* lisp/window.el (adjust-window-trailing-edge): Fix mismatched\n\tparenthesis.\n\t(shrink-window, enlarge-window): Fix bug#22723 where windows\n\twith preserved size would not get resized.  Also now signal an\n\terror when the window cannot be shrunk or enlarged as requested.\n\n2016-02-17  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix decoding DOS EOL in a unibyte buffer\n\n\t* src/coding.c (decode_eol): Loop over bytes, not characters.\n\t(Bug#5251)\n\n2016-02-17  Alan Mackenzie  <acm@muc.de>\n\n\tCorrect c-parse-state cache manipulation error.\n\n\t* lisp/progmodes/cc-engine.el (c-invalidate-state-cache-1): Correct a\n\tcomparison bound.  Amend comments.\n\n2016-02-17  Daiki Ueno  <ueno@gnu.org>\n\n\tTake advantage of new GnuPG version check function\n\n\t* lisp/emacs-lisp/package.el (epg-configuration-find): Declare.\n\t(package-refresh-contents): Use `epg-configuration-find' to check if EPG\n\tis usable.\n\n2016-02-17  Daiki Ueno  <ueno@gnu.org>\n\n\tMake GnuPG version check robuster\n\n\tWe changed the default gpg program to \"gpg2\" from \"gpg\" in the commit\n\tf93d669a16bd3cb3f43f0c8cfd22fe18b627a6a1.  However, there are two\n\tmaintained branches (2.0 and 2.1) and Emacs doesn't work well with 2.0\n\tseries.  Check the actual version of \"gpg2\" at run time, and properly\n\tdivert to \"gpg\" if necessary.\n\t* lisp/epg-config.el: Require 'cl-lib for `cl-destructuring-bind'.\n\t(epg-config--program-alist): New variable.\n\t(epg--configurations): New variable.\n\t(epg-configuration-find): New function.\n\t(epg-config--make-gpg-configuration): New function.\n\t(epg-config--make-gpgsm-configuration): New function.\n\t(epg-configuration): Mark as obsolete.\n\t* lisp/epg.el (epg-context): Use `epg-configuration-find'.\n\n2016-02-17  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix x-load-color-file pointer signedness\n\n\t* src/xfaces.c (Fx_load_color_file) [!HAVE_X_WINDOWS]:\n\tFor sscanf and int *, use %d, not %u.\n\tProblem found on Ubuntu 15.10 x32, which lacks X support.\n\n2016-02-17  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* lisp/time-stamp.el (time-stamp-time-zone): Fix doc string punct.\n\n2016-02-16  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tFollow convention for greek letter constants.\n\n\t* lisp/calc/calc-units.el (math-standard-units):\n\tAdd \"sigma\" and alias \u03c3 to it.\n\n2016-02-16  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tAdd Stefan-Boltzmann constant to calc units table.\n\n\t* lisp/calc/calc-units.el (math-standard-units):\n\tAdd Stefan-Boltzmann constant.\n\n2016-02-16  Mark Oteiza  <mvoteiza@udel.edu>\n\n\t* lisp/calc/calc-units.el (math-build-units-table-buffer): Use special-mode.\n\n2016-02-16  Glenn Morris  <rgm@gnu.org>\n\n\tAvoid loading cl-lib for term/xterm.elc, eg in -Q -nw.  (Bug#22669)\n\n\t* lisp/emacs-lisp/cl-generic.el (cl--generic-dispatchers):\n\tPrefill with relevant elements for term/xterm.\n\n2016-02-16  Tassilo Horn  <tsdh@gnu.org>\n\n\tFix soffice UserInstallation-URL for Windows\n\n\t* lisp/doc-view.el (doc-view-odf->pdf-converter-soffice): Fix\n\tUserInstallation-URL when calling soffice on Windows.\n\n2016-02-16  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFix display of <pre> elements\n\n\t* lisp/net/eww.el (eww-display-html): Remove CRLF before\n\tparsing so that <pre> elements don't render with ^M at the end\n\tof the lines.\n\n2016-02-15  Eli Zaretskii  <eliz@gnu.org>\n\n\tMinor fixes in global-auto-composition-mode\n\n\t* lisp/emacs-lisp/easy-mmode.el (easy-mmode-pretty-mode-name):\n\tProduce prettier names of globalized minor modes.\n\t* lisp/composite.el (global-auto-composition-mode): Make it a\n\tglobalized mode.  (Bug#22682)\n\n2016-02-15  Alan Mackenzie  <acm@muc.de>\n\n\tAllow arithmetic operators inside C++ template constructs.\n\n\tFixes debbugs #22486.  This corrects the previous patch with this message\n\twhich was empty.\n\n\t* lisp/progmodes/cc-langs.el (c-multichar->-op-not->>-regexp): New language\n\tvariable.\n\t(c-<>-notable-chars-re): New language variable.\n\n\t* lisp/progmodes/cc-engine.el (c-forward-<>-arglist-recur): User\n\tc-<>-notable-chars-re in place of the former fixed string in searching for\n\tplaces to stop and examine.\n\tUse c-multichar->-op-not->>-regexp to check that a found \">\" is not part of a\n\tmultichar operator in place of the former c->-op-without->-cont-regexp.\n\tAdd code to skip forwards over a balanced parenthesized expression.\n\n2016-02-15  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid crashes in semi-malformed 'condition-case'\n\n\t* src/eval.c (internal_lisp_condition_case): Treat a handler\n\t'(nil)' as if it were '(nil nil)'.  (Bug#22675)\n\n2016-02-15  Alan Mackenzie  <acm@muc.de>\n\n\tAllow arithmetic operators inside C++ template constructs.\n\n\tFixes debbugs #22486.\n\n\t* lisp/progmodes/cc-langs.el (c-multichar->-op-not->>-regexp): New language\n\tvariable.\n\t(c-<>-notable-chars-re): New language variable.\n\n\t* lisp/progmodes/cc-engine.el (c-forward-<>-arglist-recur): User\n\tc-<>-notable-chars-re in place of the former fixed string in searching for\n\tplaces to stop and examine.\n\tUse c-multichar->-op-not->>-regexp to check that a found \">\" is not part of a\n\tmultichar operator in place of the former c->-op-without->-cont-regexp.\n\tAdd code to skip forwards over a balanced parenthesized expression.\n\n2016-02-15  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix regression with 'recent-keys' and keyboard macros\n\n\t* src/keyboard.c (record_char): Don't record in 'recent_keys'\n\tevents that come from executing keyboard macros.  (Bug#22674)\n\n2016-02-15  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix wording in a doc-view.el comment\n\n\t* lisp/doc-view.el (doc-view--current-cache-dir): Don't use\n\t\"illegal\" for something that is not against the law.\n\n2016-02-15  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tCONTRIBUTE cleanups and updates\n\n\t* CONTRIBUTE: Mention URLs and info nodes more consistently,\n\tavoiding possibly-confusing punctuation adjacent to a URL, and\n\tgiving full shell commands for 'info'.  Start with a brief but\n\tcomplete how-to, for people who want to get started right away.\n\tThen briefly discuss how to join the development process in the\n\ttypical order.  Omit needless words.  Update some of the\n\tnow-obsolete file names, info node names, and quoting styles.\n\tBetter document emacs-NN branches and how they are merged.\n\t* admin/notes/git-workflow: Change emacs-24 to emacs-25,\n\tand trunk to master.  This file still needs work.\n\n2016-02-14  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort USE_STACK_LISP_OBJECTS fix to Clang\n\n\t* src/lisp.h (USE_STACK_LISP_OBJECTS): Default to false for Clang.\n\tRecent versions of Clang claim to be GCC 4.2.1 but do not have\n\tthe GCC bug.\n\n2016-02-14  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort to x86 GCC 4.3.1 and earlier\n\n\tThis tries to port to x86 FreeBSD 9, where Emacs dumps core (Bug#22065).\n\t* src/lisp.h (USE_STACK_LISP_OBJECTS): Default to false\n\tfor GCC 4.3.1 and earlier.\n\n2016-02-14  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix point movement under 'scroll-conservatively'\n\n\t* src/xdisp.c (redisplay_window): Correct a typo in computing the\n\teffective number of text lines in a window.  (Bug#22637)\n\n2016-02-14  Thomas Plass  <thomas.plass@arcor.de>\n\n\tReplace colon in file name (not legal on Windows)\n\n\t* lisp/doc-view.el (doc-view--current-cache-dir): Replace colon in file\n\tname (not legal on Windows). [tiny change]\n\n2016-02-14  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix a typo in edt.texi\n\n\t* doc/misc/edt.texi: Fix a typo in an email address.  Reported by\n\t\"Herbert J. Skuhra\" <herbert@mailbox.org>.\n\n2016-02-14  Eli Zaretskii  <eliz@gnu.org>\n\n\tMake 'mmap_realloc' on MS-Windows more reliable\n\n\t* src/w32heap.c (mmap_alloc): If reserving memory succeeds, but\n\tcommitting fails, return NULL.  Don't call GetLastError twice for\n\tthe same API error.\n\t(mmap_realloc): Zero out MEMORY_BASIC_INFORMATION structures\n\tbefore calling VirtualQuery, to avoid using garbled values if the\n\tcall fails.  If committing more pages from the same block fails,\n\tfall back on mmap_alloc + CopyMemory.  Enhance debugging printouts\n\tif the call to VirtualAlloc to commit more pages fails.\n\t(Bug#22526)\n\n2016-02-14  Oscar Fuentes  <ofv@wanadoo.es>\n\n\tGrep alias `all' shall not match parent directory\n\n\t* lisp/progmodes/grep.el (grep-files-aliases): Don't match parent\n\t  directory for `all'. Fixes bug#22577\n\n2016-02-13  Nicolas Petton  <nicolas@petton.fr>\n\n\tBump version to 25.0.91\n\n\t* README:\n\t* configure.ac:\n\t* msdos/sed2v2.inp: Bump version to 25.0.91.\n\n2016-02-13  Nicolas Petton  <nicolas@petton.fr>\n\n\t* etc/AUTHORS: Update the AUTHORS file\n\n2016-02-13  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/dired-aux.el: Require cl-lib.  (Bug#22613)\n\n2016-02-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tIndex tilde characters in names of backup files\n\n\t* doc/emacs/files.texi (Backup Names): Improve indexing.\n\t(Bug#22625)\n\n2016-02-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument deprecation of hi-lock-mode's 'C-x w' bindings\n\n\t* doc/emacs/display.texi (Highlight Interactively): Deprecate the\n\t\"C-x w\" bindings of hi-lock-mode.\n\n\t* etc/NEWS: Mark the deprecation entry as documented.\n\n2016-02-13  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tAnnounce that the `C-x w' bindings are deprecated\n\n2016-02-13  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSuppress GNUstep hardening\n\n\tFedora 23 normally hardens GNUstep applications, which causes\n\t\u2018./configure --with-ns\u2019 to break Emacs\u2019s funky way of undumping.\n\tFix this by eliding the hardening options (Bug#22518).\n\t* src/Makefile.in (LIBS_GNUSTEP): Omit options like\n\t\u2018-specs=/usr/lib/rpm/redhat/redhat-hardened-ld\u2019.\n\t(GNU_OBJC_CFLAGS): Omit options like\n\t\u2018-specs=/usr/lib/rpm/redhat/redhat-hardened-cc1\u2019.\n\n2016-02-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix redisplay after a large insertion\n\n\t* src/xdisp.c (redisplay_internal): Don't accept the results of\n\t\"optimization 3\" if the cursor ends up in a partially visible\n\tglyph row.  (Bug22637)\n\n2016-02-12  Andreas Schwab  <schwab@linux-m68k.org>\n\n\tRevert \"Fix gnus-group-get-new-news-this-group on group with closed server\"\n\n\tThis reverts commit 9dc77e37aa84c6df9b3ddb4609f3c09201b0580e.\n\n\t\t* lisp/gnus/nnimap.el (nnimap-change-group): Revert last\n\t\tchange.  (Bug#22634)\n\n2016-02-11  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* lib-src/make-docfile.c: Include stdarg.h.\n\n2016-02-11  Alan Mackenzie  <acm@muc.de>\n\n\tExtend gpm-mouse-mode's doc string and doc to point out limitations.\n\n\t* lisp/t-mouse.el (gpm-mouse-mode): Extend doc string to indicate the\n\tinability to transfer text between Emacs and other programs which use GPM.\n\n\t* doc/emacs/frames.texi (Text-Only Mouse): Note the inability to transfer text\n\tbetween Emacs and other progrmas which use GPM.\n\n2016-02-11  Eli Zaretskii  <eliz@gnu.org>\n\n\tRevert \"Backport: * lisp/isearch.el: Turn char-folding off by default\"\n\n\t* lisp/isearch.el: Turn char-folding back oon by default.\n\n\tThis reverts commit 12c50e82c9b432b2fc31f8fb2215f43ceea80822.\n\n2016-02-11  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRevert \"Support integer image rotation and respect EXIF rotations\"\n\n\tThis reverts commit 0f600496050bf435f55dc81056e06fcd45992dc8.\n\n\tThis change does not work on Fedora.\n\n2016-02-11  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRevert \"Document EXIF image rotation\"\n\n\tThis reverts commit 10b8ed27ec91ff52f93eb0297dcc3abb214931aa.\n\n\tThis change does not work on Fedora, for instance.\n\n2016-02-11  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDocument OS X LANG default\n\n\t* doc/emacs/cmdargs.texi (General Variables):\n\tDocument OS X Language and Region system preference.\n\tSuggested by Alan Third.\n\n2016-02-11  Alan Third  <alan@idiocy.org>\n\n\tSet locale when run from OS X GUI\n\n\t* src/emacs.c (main): Call ns_init_locale.\n\t* src/nsterm.m (ns_init_locale): Get locale from OS and set LANG.\n\t* src/nsterm.h: Include ns_init_locale.\n\n2016-02-10  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tmake-docfile cleanup for I/O, etc.\n\n\t* lib-src/make-docfile.c (progname, generate_globals, num_globals)\n\t(num_globals_allocated, globals): Now static.\n\t(generate_globals, struct rcsoc_state, read_c_string_or_comment):\n\t(write_c_args, scan_c_stream, search_lisp_doc_at_eol, scan_lisp_file):\n\tUse bool for boolean.\n\t(verror): New function.\n\t(fatal, error): Use it.  API is now like printf.  All callers changed.\n\t(main): Remove err_count local that was always 0.\n\t(main, scan_c_stream, scan_lisp_file): Check for I/O error.\n\t(scan_file, scan_c_file, scan_c_stream, scan_lisp_file):\n\tReturn void, not 0.\n\t(put_char, scan_keyword_or_put_char, scan_c_file): Use char for byte.\n\t(scan_keyword_or_put_char): Check for missing ( and unexpected EOF.\n\t(close_emacs_globals): Use ptrdiff_t for index, not int.\n\t(scan_c_file, scan_lisp_file): Exit with failure if file cannot be\n\topened, rather than diagnosing but exiting with status 0.\n\t(search_lisp_doc_at_eol): Don't worry about ungetc of EOF; it's\n\tportable now.\n\n2016-02-10  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMemory-management cleanup in make-docfile\n\n\tI compiled it with -fsanitize=address and fixed the leaks it detected.\n\tAlso, I changed it to prefer signed to unsigned integer types,\n\tand to check for integer overflow.\n\t* lib-src/make-docfile.c:\n\tInclude <stddef.h>, <stdint.h>, <intprops.h>, <min-max.h>.\n\t(memory_exhausted): New function.\n\t(xmalloc, xrealloc): Use it.\n\t(xmalloc, xrealloc, scan_file, struct rcsoc_state, write_c_args)\n\t(uncompiled, scan_lisp_file):\n\tPrefer signed integer types to unsigned.\n\t(xstrdup): Remove.  All uses removed.\n\t(num_globals, num_globals_allocated, write_globals, scan_c_stream):\n\tUse ptrdiff_t, not int, for indexes that in theory could exceed INT_MAX.\n\t(add_global): Use const to pacify --enable-gcc-warnings.\n\tMake a copy here, rather than relying on strdup calls later.\n\t(add_global, write_globals, scan_c_stream):\n\tAvoid integer overflow when calculating sizes.\n\t(write_globals, scan_c_stream, scan_lisp_file): Avoid memory leak.\n\t(scan_c_stream): Check for add_global failure.\n\n2016-02-10  Kevin Gallagher  <Kevin.Gallagher@boeing.com>\n\n\tKevin Gallagher has new email address\n\n\t* lisp/emulation/edt.el:\n\t* lisp/emulation/edt-lk201.el:\n\t* lisp/emulation/edt-mapper.el:\n\t* lisp/emulation/edt-pc.el:\n\t* lisp/emulation/edt-vt100.el:\n\t* etc/edt-user.el:\n\t* doc/misc/edt.texi: Update Kevin Gallagher's email address.\n\n2016-02-10  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove doc strings of 'forward/backward-word-strictly'\n\n\t* lisp/simple.el (backward-word): Refer to 'backward-word-strictly'\n\tin the doc string.  Suggested by Glenn Morris <rgm@gnu.org>.\n\t* lisp/subr.el (forward-word-strictly, backward-word-strictly):\n\tMention 'subword-mode' in the doc strings.\n\n\t* src/syntax.c (Fforward_word): Refer to 'forward-word-strictly'\n\tin the doc string.  (Bug#22560)\n\n2016-02-10  Michael Albinus  <michael.albinus@gmx.de>\n\n\tDescribe Makefile test targets in test/README\n\n\t* CONTRIBUTE: Move Makefile test targets to test/README.\n\n\t* Makefile.in:\n\t* test/README: Describe Makefile test targets.\n\n2016-02-10  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\tBackport: * lisp/isearch.el: Turn char-folding off by default\n\n\t(search-default-mode): Set default value to nil.\n\n2016-02-10  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDocument EXIF image rotation\n\n\t* doc/lispref/display.texi (ImageMagick Images): Mention EXIF rotation.\n\n2016-02-10  Dima Kogan  <dima@secretsauce.net>\n\n\tSupport integer image rotation and respect EXIF rotations\n\n\t* src/image.c (imagemagick_load_image): Allow integer rotations in\n\taddition to floating point rotations (bug#22591).\n\t* src/image.c (imagemagick_load_image): Images that have an\n\torientation given in EXIF and have no explicit :rotation tag are now\n\tpre-rotated.  All information such as width/height is reported for the\n\trotated image.\n\n2016-02-10  Matthew Carter  <m@ahungry.com>\n\n\tQuote table names for postgres listings (sql-mode)\n\n\t* lisp/progmodes/sql.el (sql-postgres-completion-object): Avoid passing\n\t  unquoted table names to the completion list.\n\n2016-02-10  Juri Linkov  <juri@linkov.net>\n\n\t* lisp/replace.el (replace-match-maybe-edit): Make arg `backward' optional.\n\n\tDoc fix.\n\t(replace-search, replace-highlight): Make arg `backward' optional.\n\t(Bug#18388)\n\n2016-02-10  Juri Linkov  <juri@linkov.net>\n\n\t* lisp/simple.el (next-line-or-history-element): Reset temporary-goal-column.\n\n\t(previous-line-or-history-element): Reset temporary-goal-column.\n\tUse end-of-visual-line instead of line-end-position.  (Bug#22544)\n\n2016-02-10  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSuppress ACL ops if configured with --disable-acl\n\n\tWithout this patch, some ACL operations were suppressed, but not all.\n\t* src/fileio.c [!USE_ACL]: Do not include sys/acl.h.\n\t(Ffile_acl, Fset_file_acl) [!USE_ACL]: Return nil in this case.\n\n2016-02-09  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\tMention web bugs\n\n\t* doc/misc/emacs-mime.texi (Display Customization):\n\tMention web bugs in the mm-html-blocked-images section.\n\n2016-02-09  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\tMake mm-html-blocked-images default to \"\" again\n\n\t* lisp/gnus/mm-decode.el (mm-html-blocked-images):\n\tDefault to \"\" that blocks all external images.\n\n\t* doc/misc/emacs-mime.texi (Display Customization):\n\tMention that mm-html-blocked-images defaults to \"\".\n\n2016-02-09  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMinor alignas cleanup\n\n\t* src/lisp.h (alignas): Remove now-redundant #ifdef that was left\n\tover from the old way of doing things, before Bug#20862 was fixed.\n\n2016-02-09  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tAdd lmalloc commentary and tweak laligned\n\n\t* src/alloc.c (laligned): Help compiler in a tiny way by putting\n\tthe more-commonly-failing disjunct first.\n\n2016-02-09  Eli Zaretskii  <eliz@gnu.org>\n\n\tClarify documentation of key binding conventions\n\n\t* doc/lispref/tips.texi (Key Binding Conventions): Clarify which\n\t\"punctuation characters\" are reserved after \"C-c\".  (Bug#22604)\n\n2016-02-09  Oscar Fuentes  <ofv@wanadoo.es>\n\n\t* etc/NEWS: mention the `vc-faces' customization group\n\n2016-02-09  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSync with gnulib\n\n\tThis incorporates:\n\t2016-02-09 stdalign: port to clang 3.7.0\n\t2016-02-06 misc: port better to gcc -fsanitize=address\n\t* doc/misc/texinfo.tex, lib/stdalign.in.h, m4/acl.m4, m4/getgroups.m4:\n\tCopy from gnulib.\n\n2016-02-09  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* CONTRIBUTE: Add more examples for $(SELECTOR) make variable.\n\n2016-02-09  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\tMake mm-html-inhibit-images and mm-html-blocked-images default to nil\n\n\t* lisp/gnus/mm-decode.el (mm-html-inhibit-images)\n\t(mm-html-blocked-images): Default to nil.\n\n\t* doc/misc/emacs-mime.texi (Display Customization): Mention that\n\tmm-html-inhibit-images and mm-html-blocked-images default to nil.\n\n\t* etc/NEWS (Gnus): Document mm-html-inhibit-images and\n\tmm-html-blocked-images.\n\n2016-02-09  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tIncrease success rate of fallback lmalloc\n\n\t* src/alloc.c (lmalloc, lrealloc): Reallocate with (typically)\n\tlarger and larger sizes, to increase the probability that\n\tthe allocator will return a Lisp-aligned pointer.\n\n2016-02-09  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMake backgrounds extend to the end of the lines in shr\n\n\t* lisp/net/shr.el (shr-face-background): Faces can also be on\n\tthe form `(:background \"#fff)' (bug#22547).\n\n2016-02-09  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMake the `R' command get the correct relative <img>s\n\n\t* lisp/net/eww.el (eww-readable): Preserve the base URL so\n\tthat image expansions are fetched from the right place (bug#22605).\n\n\t(cherry picked from commit 8722e849f75ceafb82a1c17105e8ab76077a8ebc)\n\n\tBackport:\n\n2016-02-09  Mike Kupfer  <m.kupfer@acm.org>\n\n\tFix typos in emacs-mime.texi and gnus.texi\n\n\t* doc/misc/emacs-mime.texi (Display Customization):\n\t* doc/misc/gnus.texi (HTML): Fix typo.\n\n2016-02-09  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\t* doc/misc/emacs-mime.texi (Display Customization):\n\tDoc fix for mm-html-inhibit-images.\n\n2016-02-09  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFix message-cross-post-followup-to group names\n\n\t* lisp/gnus/message.el (message-cross-post-followup-to): Don't\n\tinsert group names like \"nntp+foo:zot\", because those aren't valid.\n\n2016-02-09  David Edmondson  <dme@dme.org>\n\n\tCompare recipient and keys case-insensitively\n\n\t* lisp/gnus/mml2015.el: (mml-secure-check-user-id): When comparing a\n\trecipient address with that from a key, do so in a case insensitive\n\tmanner (bug#22603).\n\n2016-02-08  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/gnus/mm-decode.el (mm-alist-to-plist): Doc fix.\n\n2016-02-08  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\tRefactor HTML images handling of Gnus and mm-* (a part of bug#21650)\n\n\t* doc/misc/emacs-mime.texi (Display Customization):\n\tRemove mm-inline-text-html-with-images; add documentations for\n\tmm-html-inhibit-images and mm-html-blocked-images.\n\n\t* lisp/gnus/gnus-art.el (gnus-article-show-images):\n\tNo need to bind mm-inline-text-html-with-images.\n\t(gnus-bind-safe-url-regexp): Rename to gnus-bind-mm-vars.\n\t(gnus-bind-mm-vars): Rename from gnus-bind-safe-url-regexp;\n\tbind mm-html-inhibit-images and mm-html-blocked-images.\n\t(gnus-mime-view-all-parts, gnus-mime-view-part-internally)\n\t(gnus-mm-display-part, gnus-mime-display-single)\n\t(gnus-mime-display-alternative): Use gnus-bind-mm-vars.\n\n\t* lisp/gnus/mm-decode.el (mm-inline-text-html-with-images): Remove.\n\t(mm-html-inhibit-images, mm-html-blocked-images): New user options.\n\t(mm-shr): Bind shr-inhibit-images and shr-blocked-images with\n\tmm-html-inhibit-images and mm-html-blocked-images respectively\n\tinstead of gnus-inhibit-images and gnus-blocked-images.\n\n\t* lisp/gnus/mm-view.el (mm-setup-w3m): Use mm-html-inhibit-images\n\tinstead of mm-inline-text-html-with-images.\n\n2016-02-08  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort to FreeBSD 11-CURRENT i386\n\n\tProblem reported by Herbert J. Skuhra in:\n\thttp://lists.gnu.org/archive/html/emacs-devel/2016-02/msg00354.html\n\tInstead of trying\n\t* src/alloc.c (lmalloc, lrealloc, laligned): New functions.\n\t(xmalloc, xzalloc, xrealloc, lisp_malloc): Use them.\n\t(__alignof__) [!__GNUC__ && !__alignof__]: New macro.\n\t(MALLOC_IS_GC_ALIGNED): New macro.\n\t* src/lisp.h (NONPOINTER_BITS): Remove.  All uses removed.\n\tNo longer needed now that alloc.c uses lmalloc and lrealloc.\n\n2016-02-08  Michael Albinus  <michael.albinus@gmx.de>\n\n\tSome fixes in file-notify-tests.el\n\n\t* test/automated/file-notify-tests.el\n\t(file-notify--test-with-events-check)\n\t(file-notify--test-with-events-explainer): New defuns.\n\t(file-notify--test-with-events): Use it.\n\t(file-notify-test07-backup): Fix docstring.  Some of the\n\tbackends fire two `changed' events.  Backup by rename doesn't\n\twork for kqueue.\n\n2016-02-07  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix Bug#22557\n\n\t* lisp/filenotify.el (file-notify-callback): Do not send a\n\t`stopped' event in case of backup by renaming.  (Bug#22557)\n\n\t* test/automated/Makefile.in: Use $(SELECTOR_EXPENSIVE) for\n\tall targets but check and check-maybe.\n\n\t* test/automated/file-notify-tests.el\n\t(file-notify--test-read-event-timeout): New defconst.\n\t(file-notify--deftest-remote, file-notify--wait-for-events)\n\t(file-notify-test02-events)\n\t(file-notify-test04-file-validity)\n\t(file-notify-test06-many-events): Use it.\n\t(file-notify--test-cleanup): Make it more robust.  Delete also\n\tbackup file.\n\t(file-notify-test07-backup): New test.\n\n2016-02-07  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix test for dladdr\n\n\tProblem reported by Andreas Schwab in:\n\thttp://lists.gnu.org/archive/html/emacs-devel/2016-02/msg00327.html\n\t* configure.ac (dladdr): Link with LIBMODULES when checking for\n\tthis function.\n\n2016-02-07  Andreas Schwab  <schwab@linux-m68k.org>\n\n\tFix gnus-group-get-new-news-this-group on group with closed server\n\n\t* lisp/gnus/nnimap.el (nnimap-change-group): Lookup server\n\tmethod and pass to nnimap-open-server.\n\n2016-02-07  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/comint.el (comint-prompt-read-only): Clean tabs in docstring\n\n\tWhile tabs in code are mostly fine because the Emacs sources have a\n\t.dir-locals file specifying tab-width, the same is not true of tabs in\n\tcode examples inside docstrings.  The docstring is printed on a *Help*\n\tbuffer, which can be created on any directory and won't necessarily have\n\tthe same tab-width set.\n\n2016-02-07  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDon't inloop gnus-uu-mark-thread on the last thread\n\n\t* lisp/gnus/gnus-uu.el (gnus-uu-mark-thread): Don't infloop on the\n\tfinal thread in the summary buffer (bug#16666).\n\n2016-02-06  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDisplay non-ASCII group names better in prompts\n\n\t* lisp/gnus/gnus-sum.el (gnus-articles-to-read): To decode the\n\tgroup name, we have to do that before we remove the prefix.\n\n2016-02-06  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDefault to gpg2 instead of gpg\n\n\t* lisp/epg-config.el (epg-gpg-program): Prefer gpg2 over gpg, if\n\tit exists.  This fixes many problems with using the GPG\n\tauthentication agent.\n\n2016-02-06  David Edmondson  <dme@dme.org>\n\n\tsrc/process.c Correctly convert AF_INET6 addresses\n\n\t* src/process.c (conv_lisp_to_sockaddr): AF_INET6 addresses are\n\tconverted to a list of 16 bit quantities by\n\tconv_sockaddr_to_lisp(). conv_lisp_to_sockaddr() should follow the\n\tsame scheme rather than expecting a (longer) list of 8 bit\n\tquantities.\n\n\tBackport:\n\n\t(cherry picked from commit 55ce3c30d617c38eb086d5ad4ffbd881c20c559c)\n\n2016-02-06  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/isearch.el (isearch-define-mode-toggle): Improve logic\n\n2016-02-06  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/menu-bar.el (menu-bar-options-menu): New search submenu\n\n\t(menu-bar-search-options-menu): New variable\n\n2016-02-06  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/isearch.el (search-default-mode)\n\n\t(isearch-regexp-function): Improve docstrings.\n\n2016-02-06  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/isearch.el: Rename search-default-regexp-mode to search-default-mode\n\n\t(search-default-mode): New variable.\n\t(isearch-mode, isearch-define-mode-toggle)\n\t(isearch--describe-regexp-mode): Update accordingly.\n\t* lisp/menu-bar.el (nonincremental-search-forward): Update accordingly.\n\t* etc/NEWS: Update accordingly.\n\t* doc/emacs/search.texi: Update accordingly.\n\n2016-02-06  Oscar Fuentes  <ofv@wanadoo.es>\n\n\tUse monitor's resolution for positioning tooltips\n\n\t* src/xfns.c (compute_tip_xy): Use the resolution of the monitor where\n\t  the mouse pointer is to avoid placing the tooltip over the border of\n\t  the monitor on multi-head displays. Fixes bug#22549.\n\n2016-02-06  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix file-notify-test on MS-Windows\n\n\t* test/automated/file-notify-tests.el (file-notify--test-timeout):\n\tReduce w32notify timeout to 10 sec.\n\t(file-notify-test06-many-events): Call read-event after each\n\trename, to keep the w32notify backend happy in batch mode.\n\t(Bug#22534)\n\n2016-02-06  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix issues found by auditing w32notify code\n\n\t* src/w32inevt.c (handle_file_notifications): Count the number of\n\tevents to be returned.\n\t* src/w32notify.c (send_notifications): Don't copy to the file\n\tnotification buffer more than it can hold.  (Bug#22534)\n\n2016-02-06  Eli Zaretskii  <eliz@gnu.org>\n\n\tExtend etags Ruby support for accessors\n\n\t* lib-src/etags.c (Ruby_functions): Support accessors defined with\n\tparentheses.  (Bug#22563)\n\n\t* test/etags/ruby-src/test1.ru (A::B): Add tests for accessors\n\tdefined with parentheses.\n\t* test/etags/ETAGS.good_1:\n\t* test/etags/ETAGS.good_2:\n\t* test/etags/ETAGS.good_3:\n\t* test/etags/ETAGS.good_4:\n\t* test/etags/ETAGS.good_5:\n\t* test/etags/ETAGS.good_6:\n\t* test/etags/CTAGS.good: Adapt to changes in Ruby tests.\n\n2016-02-06  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tUpdate publicsuffix.txt.\n\n\t* etc/publicsuffix.txt: Updated from\n\thttps://publicsuffix.org/list/public_suffix_list.dat.\n\n2016-02-06  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tEnsure that Gnus dribble handling allows removing entries\n\n\t* lisp/gnus/gnus-start.el (gnus-dribble-enter): Ensure that each\n\tentry is on a single line.\n\n2016-02-05  OGAWA Hirofumi  <hirofumi@mail.parknet.co.jp>  (tiny change)\n\n\tBe consistent when using encoded strings in nnimap data\n\n\t* lisp/gnus/nnimap.el (nnimap-encode-gnus-group): New function\n\t(nnimap-request-list): Use it.\n\t(nnimap-request-newgroups): Ditto.\n\n2016-02-05  OGAWA Hirofumi  <hirofumi@mail.parknet.co.jp>  (tiny change)\n\n\tDisplay the decoded Gnus group name\n\n\t* lisp/gnus/gnus-sum.el (gnus-summary-read-group-1): Use the\n\tdecoded group name in the message.\n\n2016-02-05  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tUse completion-ignore-case instead of defining command\n\n\t* lisp/erc/erc.el (erc-mode): Set completion-ignore-case so\n\tthat we get case-insensitive completion.\n\t(erc-completion-at-point): Remove.\n\n2016-02-05  Eli Zaretskii  <eliz@gnu.org>\n\n\tMerge branch 'emacs-25' of git.savannah.gnu.org:/srv/git/emacs into emacs-25\n\n2016-02-05  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* test/automated/file-notify-tests.el (file-notify-test06-many-events):\n\n\tReduce the number of iterations to 250 in case of w32notify.\n\n2016-02-05  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix problems caused by new implementation of sub-word mode\n\n\t* lisp/subr.el (forward-word-strictly, backward-word-strictly):\n\tNew functions.\n\t(word-move-empty-char-table): New variable.\n\n\t* etc/NEWS: Mention 'forward-word-strictly' and\n\t'backward-word-strictly'.\n\n\t* doc/lispref/positions.texi (Word Motion): Document\n\t'find-word-boundary-function-table', 'forward-word-strictly', and\n\t'backward-word-strictly'.  (Bug#22560)\n\n\t* src/syntax.c (syms_of_syntax)\n\t<find-word-boundary-function-table>: Doc fix.\n\n\t* lisp/wdired.el (wdired-xcase-word):\n\t* lisp/textmodes/texnfo-upd.el (texinfo-copy-node-name)\n\t(texinfo-copy-section-title, texinfo-start-menu-description)\n\t(texinfo-copy-menu-title, texinfo-specific-section-type)\n\t(texinfo-insert-node-lines, texinfo-copy-next-section-title):\n\t* lisp/textmodes/texinfo.el (texinfo-clone-environment)\n\t(texinfo-insert-@end):\n\t* lisp/textmodes/texinfmt.el (texinfo-format-scan)\n\t(texinfo-anchor, texinfo-multitable-widths)\n\t(texinfo-multitable-item):\n\t* lisp/textmodes/tex-mode.el (latex-env-before-change):\n\t* lisp/textmodes/flyspell.el (texinfo-mode-flyspell-verify):\n\t* lisp/skeleton.el (skeleton-insert):\n\t* lisp/simple.el (count-words):\n\t* lisp/progmodes/vhdl-mode.el (vhdl-beginning-of-libunit)\n\t(vhdl-beginning-of-defun, vhdl-beginning-of-statement-1)\n\t(vhdl-update-sensitivity-list, vhdl-template-block)\n\t(vhdl-template-break, vhdl-template-case, vhdl-template-default)\n\t(vhdl-template-default-indent, vhdl-template-for-loop)\n\t(vhdl-template-if-then-use, vhdl-template-bare-loop)\n\t(vhdl-template-nature, vhdl-template-procedural)\n\t(vhdl-template-process, vhdl-template-selected-signal-asst)\n\t(vhdl-template-type, vhdl-template-variable)\n\t(vhdl-template-while-loop, vhdl-beginning-of-block)\n\t(vhdl-hooked-abbrev, vhdl-port-copy, vhdl-hs-forward-sexp-func):\n\t* lisp/progmodes/verilog-mode.el (verilog-backward-sexp)\n\t(verilog-forward-sexp, verilog-beg-of-statement)\n\t(verilog-set-auto-endcomments, verilog-backward-token)\n\t(verilog-do-indent):\n\t* lisp/progmodes/vera-mode.el (vera-guess-basic-syntax)\n\t(vera-indent-block-closing):\n\t* lisp/progmodes/simula.el (simula-context)\n\t(simula-backward-up-level, simula-forward-down-level)\n\t(simula-previous-statement, simula-next-statement)\n\t(simula-skip-comment-backward, simula-calculate-indent)\n\t(simula-find-if, simula-electric-keyword):\n\t* lisp/progmodes/sh-script.el (sh-smie--rc-newline-semi-p):\n\t* lisp/progmodes/ruby-mode.el (ruby-smie--redundant-do-p)\n\t(ruby-smie--forward-token, ruby-smie--backward-token)\n\t(ruby-singleton-class-p, ruby-calculate-indent)\n\t(ruby-forward-sexp, ruby-backward-sexp):\n\t* lisp/progmodes/ps-mode.el (ps-run-goto-error):\n\t* lisp/progmodes/perl-mode.el (perl-syntax-propertize-function)\n\t(perl-syntax-propertize-special-constructs)\n\t(perl-backward-to-start-of-continued-exp):\n\t* lisp/progmodes/pascal.el (pascal-indent-declaration):\n\t* lisp/progmodes/octave.el (octave-function-file-p):\n\t* lisp/progmodes/mantemp.el (mantemp-insert-cxx-syntax):\n\t* lisp/progmodes/js.el (js--forward-function-decl):\n\t* lisp/progmodes/idlwave.el (idlwave-show-begin-check)\n\t(idlwave-beginning-of-block, idlwave-end-of-block)\n\t(idlwave-block-jump-out, idlwave-determine-class):\n\t* lisp/progmodes/icon.el (icon-is-continuation-line)\n\t(icon-backward-to-start-of-continued-exp, end-of-icon-defun):\n\t* lisp/progmodes/hideif.el (hide-ifdef-define):\n\t* lisp/progmodes/f90.el (f90-change-keywords):\n\t* lisp/progmodes/cperl-mode.el (cperl-electric-pod)\n\t(cperl-linefeed, cperl-electric-terminator)\n\t(cperl-find-pods-heres, cperl-fix-line-spacing)\n\t(cperl-invert-if-unless):\n\t* lisp/progmodes/cc-engine.el (c-forward-<>-arglist-recur):\n\t* lisp/progmodes/cc-align.el (c-lineup-java-inher):\n\t* lisp/progmodes/ada-mode.el (ada-compile-goto-error)\n\t(ada-adjust-case-skeleton, ada-create-case-exception)\n\t(ada-create-case-exception-substring)\n\t(ada-case-read-exceptions-from-file, ada-after-keyword-p)\n\t(ada-scan-paramlist, ada-get-current-indent, ada-get-indent-end)\n\t(ada-get-indent-if, ada-get-indent-block-start)\n\t(ada-get-indent-loop, ada-get-indent-type)\n\t(ada-search-prev-end-stmt, ada-check-defun-name)\n\t(ada-goto-decl-start, ada-goto-matching-start)\n\t(ada-goto-matching-end, ada-looking-at-semi-or)\n\t(ada-looking-at-semi-private, ada-in-paramlist-p)\n\t(ada-search-ignore-complex-boolean, ada-move-to-start)\n\t(ada-move-to-end, ada-which-function, ada-gen-treat-proc):\n\t* lisp/net/quickurl.el (quickurl-grab-url):\n\t* lisp/mail/sendmail.el (mail-do-fcc):\n\t* lisp/mail/rmail.el (rmail-resend):\n\t* lisp/mail/mailabbrev.el (mail-abbrev-complete-alias):\n\t* lisp/mail/mail-extr.el (mail-extract-address-components):\n\t* lisp/json.el (json-read-keyword):\n\t* lisp/files.el (insert-directory):\n\t* lisp/emacs-lisp/checkdoc.el (checkdoc-this-string-valid-engine):\n\t* lisp/completion.el (symbol-under-point, symbol-before-point)\n\t(symbol-before-point-for-complete, next-cdabbrev)\n\t(add-completions-from-c-buffer):\n\t* lisp/cedet/semantic/texi.el (semantic-up-context)\n\t(semantic-beginning-of-context):\n\t* lisp/cedet/semantic/bovine/el.el (semantic-get-local-variables):\n\tuse 'forward-word-strictly' and 'backward-word-strictly' instead\n\tof 'forward-word' and 'backward-word'.\n\n2016-02-05  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFix doc string of tls-program\n\n\t* lisp/net/tls.el (tls-program): Document the %t parameter (bug#22559).\n\n2016-02-05  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRestore window conf in nsm\n\n\t* lisp/net/nsm.el (nsm-query-user): Restore the window configuration.\n\n\tBackport:\n\n2016-02-05  Mark Oteiza  <mvoteiza@udel.edu>\n\n\t* etc/NEWS: Document new mpc.el features\n\n2016-02-04  Leo Liu  <sdl.web@gmail.com>\n\n\t* lisp/custom.el (defface): Revert indentation change.  (Bug#22524)\n\n2016-02-04  Alan Mackenzie  <acm@muc.de>\n\n\tCorrectly fontify C++ initializations which \"look like\" functions.\n\n\tFixes bug#7579.\n\n\tlisp/progmodes/cc-engine.el (c-forward-declarator): Add extra optional\n\tparameter to enable handling of \"anonymous\" declarators in declarations.\n\n\tlisp/progmodes/cc-fonts.el (c-font-lock-declarators): Check more rigorously\n\twhether a \"(\" opens a parameter list of a function, or an initialization of a\n\tvariable.\n\n2016-02-04  Ulf Jasper  <ulf.jasper@web.de>\n\n\tImprove newsticker-treeview-selection-face\n\n\t* lisp/net/newst-treeview.el (newsticker-treeview-selection-face): Improve\n\treadability for dark background.\n\n2016-02-04  Eli Zaretskii  <eliz@gnu.org>\n\n\tMinor fix in tagging Ruby accessors by etags\n\n\t* lib-src/etags.c (Ruby_functions): Don't tag accessors whose\n\tnames are not literal symbols.  (Bug#22241)\n\n2016-02-04  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSpelling fixes\n\n2016-02-04  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tRemove 'def X' from the example\n\n\t* test/etags/ruby-src/test1.ru (A::B): Remove 'def X'\n\t(http://lists.gnu.org/archive/html/emacs-devel/2016-02/msg00167.html).\n\t* test/etags/CTAGS.good:\n\t* test/etags/ETAGS.good_1:\n\t* test/etags/ETAGS.good_2:\n\t* test/etags/ETAGS.good_3:\n\t* test/etags/ETAGS.good_4:\n\t* test/etags/ETAGS.good_5:\n\t* test/etags/ETAGS.good_6: Adjust accordingly.\n\n2016-02-04  Vasilij Schneidermann  <v.schneidermann@gmail.com>  (tiny change)\n\n\tAllow sending empty hidden values in eww\n\n\t* lisp/net/eww.el (eww-tag-input): Allow sending empty hidden\n\tvalues (bug#22388).\n\n\t(cherry picked from commit 5898da8210af7953e638ddf7821c05260979c3f0)\n\n\tBackport:\n\n2016-02-04  David Edmondson  <dme@dme.org>\n\n\tMake erc work better when encountering unknown prefix chars\n\n\t* lisp/erc/erc.el (erc-channel-receive-names): Output a warning\n\tinstead of erroring out on unknown prefix chars (bug#22380).\n\n2016-02-04  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMake erc completion case-insensitive again\n\n\t* lisp/erc/erc.el (erc-completion-at-point): Make erc completion\n\tcase-insensitive again (bug#11360).\n\n2016-02-04  Carlos Pita  <carlosjosepita@gmail.com>  (tiny change)\n\n\tMake complection in erc use consistent casing\n\n\t* lisp/erc/erc-pcomplete.el (pcomplete-erc-all-nicks): Make\n\tcase in the complection consistent (bug#18509).\n\n2016-02-04  Francis Litterio  <flitterio@gmail.com>\n\n\tMake /QUIT in erc more robust\n\n\t* lisp/erc/erc.el (erc-kill-query-buffers): Don't bug out if we're\n\tissuing /QUIT to disconnected servers (bug#22099).\n\n2016-02-04  Kevin Brubeck Unhammer  <unhammer@fsfe.org>  (tiny change)\n\n\tMake tracking faces in Emacs work more reliably\n\n\t* lisp/erc/erc-track.el (erc-faces-in): Always return lists of\n\tfaces to avoid later ambiguity (bug#22424).\n\n2016-02-04  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMake shr not bug out on images on non-graphical displays\n\n\t* lisp/net/shr.el (shr-put-image): Don't bug out on alt-less\n\timages on non-graphical displays (bug#22327).\n\n2016-02-04  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFix bookmark display widths\n\n\t* lisp/net/eww.el (eww-list-bookmarks): Pop to the buffer before\n\tpreparing it so that the widths are computed correctly (bug#22328).\n\n2016-02-04  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFix typo in eww-make-unique-file-name\n\n\t* lisp/net/eww.el (eww-make-unique-file-name): Make this function\n\tactually work.\n\n2016-02-03  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMake it possible to TAB to input fields\n\n\t* lisp/net/eww.el (eww-tag-input): Make it possible to TAB to\n\tinput fields (bug#22540).\n\n2016-02-03  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tInsert complete alt texts when images are disabled\n\n\t* lisp/net/shr.el (shr-tag-img): When images are disabled, insert\n\tthe complete alt/title string (bug#22293).\n\n2016-02-03  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAllow eww text fields to grow\n\n\t* lisp/net/eww.el (eww-process-text-input): Allow text fields to\n\tgrow when typing in stuff that's longer than the original width.\n\n2016-02-03  Dima Kogan  <dima@secretsauce.net>\n\n\tMake erc work when subword-mode is switched on\n\n\t* lisp/erc/erc-backend.el (erc-forward-word, erc-word-at-arg-p)\n\t(erc-bounds-of-word-at-point): New functions to do word-based\n\tthings when subword-mode is switched on.\n\n\t* lisp/erc/erc-button.el (erc-button-add-nickname-buttons): Use them\n\t(bug#17558).\n\n2016-02-03  Teemu Likonen  <tlikonen@iki.fi>\n\n\tFix IMAP doc example\n\n\t* doc/misc/gnus.texi (Client-Side IMAP Splitting): Fix example.\n\n2016-02-03  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tQuoting fixes in doc strings and diagnostics\n\n\t* lisp/emacs-lisp/bytecomp.el (byte-compile-setq, byte-compile-funcall):\n\t* lisp/gnus/mml-smime.el (mml-smime-get-dns-cert)\n\t(mml-smime-get-ldap-cert):\n\tFollow user style preference when quoting diagnostics.\n\n2016-02-03  Noam Postavsky  <npostavs@gmail.com>\n\n\tFix warning message in hack-local-variables\n\n\t* lisp/files.el (hack-local-variables): use 'thisbuf' to reference\n\tthe original buffer name in the warning message.  (Bug#21681)\n\n2016-02-03  Eli Zaretskii  <eliz@gnu.org>\n\n\tEtags: yet another improvement in Ruby tags\n\n\t* lib-src/etags.c (Ruby_functions): Handle continuation lines in\n\tRuby accessor definitions.  (Bug#22241)\n\n\t* test/etags/ruby-src/test1.ru (A::B#X): Add some more tests for\n\taccessors and multiline definitions.\n\t* test/etags/ETAGS.good_1:\n\t* test/etags/ETAGS.good_2:\n\t* test/etags/ETAGS.good_3:\n\t* test/etags/ETAGS.good_4:\n\t* test/etags/ETAGS.good_5:\n\t* test/etags/ETAGS.good_6:\n\t* test/etags/CTAGS.good: Adapt to changes in Ruby tags.\n\n2016-02-03  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix x-popup-menu on TTYs without a mouse\n\n\t* src/menu.c (Fx_popup_menu): Be sure to initialize 'x' and 'y'\n\tfor the TTY case without a mouse.  (Bug#22538)\n\n2016-02-03  Nicolas Petton  <nicolas@petton.fr>\n\n\t* lisp/emacs-lisp/map.el: Improvements to the docstring of the pcase macro\n\n2016-02-02  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tUse pop-to-buffer-same-window in eww\n\n\t* lisp/net/eww.el: pop-to-buffer-same-window throughout instead of\n\tswitch-to-buffer (bug#22244).\n\n2016-02-02  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* autogen.sh: Revert all recent changes.\n\n2016-02-02  Glenn Morris  <rgm@gnu.org>\n\n\t* make-dist: Updates related to nt/.\n\n\t* make-dist: Add modules/.\n\n\t* make-dist: Update for super-special file that can't live in etc/.\n\n2016-02-02  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix failure to compile ns-win.el in parallel builds\n\n\t* src/Makefile.in ($(lispsource)/term/ns-win.elc): Add order-only\n\tdependency on $(lispsource)/international/charprop.el.\n\t(Bug#22501)\n\n2016-02-02  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix names of tags generated for Ruby accessors\n\n\t* lib-src/etags.c (Ruby_functions): Don't include the leading\n\tcolon ':' in tags for Ruby accessors and aliases.  (Bug#22241)\n\n\t* test/etags/ETAGS.good_1:\n\t* test/etags/ETAGS.good_2:\n\t* test/etags/ETAGS.good_3:\n\t* test/etags/ETAGS.good_4:\n\t* test/etags/ETAGS.good_5:\n\t* test/etags/ETAGS.good_6:\n\t* test/etags/CTAGS.good: Adapt to changes in Ruby tags.\n\n2016-02-02  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix file-name recognition in 'etags'\n\n\t* lib-src/etags.c (get_language_from_filename): If FILE includes a\n\tleading directory, compare only its basename to the known file\n\tnames in lang_names[].\n\n\t* test/etags/Makefile (RBSRC): Adapt to recent test1.ruby\n\trenaming.\n\t* test/etags/ETAGS.good_1:\n\t* test/etags/ETAGS.good_2:\n\t* test/etags/ETAGS.good_3:\n\t* test/etags/ETAGS.good_4:\n\t* test/etags/ETAGS.good_5:\n\t* test/etags/ETAGS.good_6:\n\t* test/etags/CTAGS.good: Adapt to changes in Ruby file names and\n\tto the results in Makefile due to the above etags.c fix.\n\n2016-02-02  Eli Zaretskii  <eliz@gnu.org>\n\n\tChange Ruby file names and extensions recognized by 'etags'\n\n\t* lib-src/etags.c <Ruby_filenames>: New variable, holds names\n\tof Ruby files.\n\t<Ruby_suffixes>: Treat .rb, .ru, and .rbw as Ruby extensions.\n\t<lang_names>: Add Ruby_filenames to the Ruby entry.\n\t* test/etags/ruby-src/test1.ru: Renamed from test1.ruby.\n\t(Bug#22241)\n\n2016-02-02  Eli Zaretskii  <eliz@gnu.org>\n\n\tMore improvements for Ruby support in 'etags'\n\n\t* lib-src/etags.c (Ruby_functions): Tag Ruby accessors and\n\talias_method.  Identify constants even if the assignment is not\n\tfollowed by whitespace.  (Bug#22241)\n\n\t* test/etags/ruby-src/test1.ru: Add tests for constants,\n\taccessors, and alias_method.\n\t* test/etags/ETAGS.good_1:\n\t* test/etags/ETAGS.good_2:\n\t* test/etags/ETAGS.good_3:\n\t* test/etags/ETAGS.good_4:\n\t* test/etags/ETAGS.good_5:\n\t* test/etags/ETAGS.good_6:\n\t* test/etags/CTAGS.good: Adapt to changes in Ruby tests.\n\n2016-02-02  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tAdd --git-config option to autogen.sh\n\n\t* autogen.sh: New options --git-config, --help.\n\t(git_config): New shell var.  Alter function to respect this var.\n\n2016-02-02  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFix editing undo changes in eww fields\n\n\t* eww.el (eww-tag-form): Don't overwrite initial form data in text\n\tfields.\n\t(eww-process-text-input): Make `M-t' at the end of text fields work\n\tbetter (bug#19085).\n\n2016-02-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAllow the user more control of popping up the eww window\n\n\t* eww.el (eww): Use pop-to-buffer-same-window (suggested by\n\tMichael Heerdegen) (bug#22244).\n\n2016-02-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMake eww-browse-url with new-window parameter work again\n\n\t* eww.el (eww-browse-url): Stay in the same buffer if we're\n\talready in a eww mode buffer so that eww-browse-url with a\n\tnew-window parameter works (bug#22244).\n\n2016-02-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tClean up eww code slightly\n\n\t* eww.el (eww-browse-url): Clean up code slightly.\n\n2016-02-01  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDon't insert nil faces in shr\n\n\t* shr.el (shr-insert-table): Don't add nil faces, because that\n\twill show up in *Messages* as \"Invalid face reference: nil [32\n\ttimes]\".\n\n2016-02-01  Glenn Morris  <rgm@gnu.org>\n\n\tImprove the custom type of some user options.\n\n\t* lisp/autoinsert.el (auto-insert-alist):\n\t* lisp/replace.el (query-replace-from-to-separator):\n\t* lisp/gnus/gnus-art.el (gnus-hidden-properties):\n\t* lisp/gnus/gnus-gravatar.el (gnus-gravatar-properties):\n\t* lisp/gnus/gnus-picon.el (gnus-picon-properties):\n\t* lisp/progmodes/prolog.el (prolog-keywords, prolog-types)\n\t(prolog-mode-specificators, prolog-determinism-specificators)\n\t(prolog-directives, prolog-program-name, prolog-program-switches)\n\t(prolog-consult-string, prolog-compile-string, prolog-eof-string)\n\t(prolog-prompt-regexp): Improve custom type.\n\n2016-02-01  Glenn Morris  <rgm@gnu.org>\n\n\tMark some risky calendar variables.\n\n\t* lisp/calendar/cal-china.el (chinese-calendar-time-zone):\n\tRemove risky setting for deleted obsolete alias.\n\t(calendar-chinese-standard-time-zone-name)\n\t(calendar-chinese-daylight-saving-start)\n\t(calendar-chinese-daylight-saving-end):\n\t* lisp/calendar/calendar.el (calendar-iso-date-display-form)\n\t(calendar-european-date-display-form)\n\t(calendar-american-date-display-form, calendar-date-display-form):\n\t* lisp/calendar/diary-lib.el (diary-remind-message)\n\t(diary-header-line-format):\n\t* lisp/calendar/solar.el (calendar-time-display-form)\n\t(calendar-location-name): Mark as risky.\n\n2016-02-01  Simen Heggest\u00f8yl  <simenheg@gmail.com>\n\n\tHighlight two additional SCSS keywords\n\n\t* lisp/textmodes/css-mode.el (css-bang-ids): New defconst holding CSS\n\tidentifiers on the form !foo.\n\t(scss-bang-ids): New defconst holding SCSS identifiers on the form\n\t!foo.\n\t(css--font-lock-keywords): Highlight the new SCSS bang identifiers in\n\t`font-lock-builtin-face'.\n\n\t* test/indent/css-mode.css: Add bang rule test case.\n\n\t* test/indent/scss-mode.scss: Add test cases for the introduced bang\n\trules.\n\n2016-02-01  Karl Fogel  <kfogel@red-bean.com>\n\n\tRecommend enabling integrity-checking in git\n\n\t* admin/notes/git-workflow:  Recommend setting transfer.fsckObjects.\n\n\tThis is related to the autogen.sh changes made by Paul Eggert in\n\tcommit d766ca8f (2016-02-01) and commit cedd7cad (2016-02-01), and to\n\tmy edits today to http://www.emacswiki.org/emacs/GitForEmacsDevs and\n\tto emacswiki.org/emacs/GitQuickStartForEmacsDevs.  See also the thread\n\t\"Recommend these .gitconfig settings for git integrity.\" at\n\thttps://lists.gnu.org/archive/html/emacs-devel/2016-01/threads.html#01802.\n\n2016-02-01  Martin Rudalics  <rudalics@gmx.at>\n\n\tSome corrections in Elisp manual\n\n\t* doc/lispref/buffers.texi (Read Only Buffers): Describe optional\n\targument POSITION.\n\t* doc/lispref/debugging.texi (Error Debugging): `debug-on-signal'\n\tis an option.\n\t* doc/lispref/display.texi (Refresh Screen): Describe optional\n\targument FRAME of `redraw-frame'.\n\t(Attribute Functions): Describe optional argument CHARACTER of\n\t`face-font'.\n\t(Defining Images): `image-load-path' is an option.\n\t(Beeping): `ring-bell-function' is an option.\n\t* doc/lispref/frames.texi (Size and Position): The PIXELWISE\n\targument of `set-frame-size' is optional.\n\t(Raising and Lowering): The TERMINAL argument of `tty-top-frame'\n\tis optional.\n\t* doc/lispref/keymaps.texi (Controlling Active Maps): Fix doc of\n\t`set-transient-map'.\n\t* doc/lispref/minibuf.texi (Text from Minibuffer):\n\t`read-regexp-defaults-function' is an option.\n\t(Minibuffer Contents): `delete-minibuffer-contents' is a command.\n\t* doc/lispref/modes.texi (Mode Line Variables):\n\t`mode-line-position' and `mode-line-modes' are variables, not\n\toptions.\n\t* doc/lispref/strings.texi (Creating Strings): The START argument\n\tof `substring' is optional.\n\t* doc/lispref/text.texi (Buffer Contents): Describe optional\n\targument NO-PROPERTIES of `thing-at-point'.\n\t(User-Level Deletion): Both arguments of\n\t`delete-trailing-whitespace' are optional.\n\t(Margins): Use @key{RET} instead of @kbd{RET}.\n\t* doc/lispref/windows.texi (Display Action Functions): Write\n\tnon-@code{nil} instead of non-nil.\n\t(Choosing Window Options): The WINDOW arg of\n\t`split-window-sensibly' is optional.\n\t(Choosing Window Options): Write non-@code{nil} instead of\n\tnon-nil.\n\t(Window Start and End): Both args of `window-group-end' are\n\toptional.\n\n\t* src/buffer.c (Fbarf_if_buffer_read_only): Rename argument POS\n\tto POSITION to keep consisteny with doc-string.\n\n2016-02-01  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tChatter when autogen.sh changes Git configuration\n\n\t* autogen.sh (git_config): New function.  Use it instead of \u2018git config\u2019.\n\n2016-02-01  Kyle Meyer  <kyle@kyleam.com>\n\n\t* lisp/org/org-compat.el (org-font-lock-ensure): Fix bogus test (bug#22399)\n\n2016-01-31  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tOmit unnecessary history from Lisp intro\n\n\t* doc/lispintro/emacs-lisp-intro.texi (Review, Digression into C)\n\t(Conclusion): Reword so as not to talk about earlier versions\n\tof Emacs in what should be an intro.\n\n2016-01-31  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* etc/HISTORY: Add some more history, plus git tags.\n\n2016-01-31  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tImprove elisp \u201cSecurity Considerations\u201d doc\n\n\t* doc/lispref/os.texi (Security Considerations):\n\tMention call-process and rename-file as opposed to shell commands.\n\tAdd some more cross-references.\n\n2016-01-31  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tautogen.sh now arranges for git to check hashes\n\n\tSuggested by Karl Fogel in:\n\thttp://lists.gnu.org/archive/html/emacs-devel/2016-01/msg01802.html\n\t* autogen.sh: Do \"git config transfer.fsckObjects true\".\n\n2016-01-31  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix (c & 040) typo in emergency escapes\n\n\t* src/keyboard.c (handle_interrupt): Fix recently-introduced\n\ttypo (040 should have been ~040) that silently suppressed\n\tauto-saves after emergency escapes.  Redo comparison to avoid\n\tsimilar problems.\n\n2016-01-31  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix display of overlay strings with 'display' and 'box' property\n\n\t* src/xdisp.c (get_next_display_element): Take the box face from\n\tdisplay stack level that comes from a buffer, not an overlay\n\tstring.  (Bug#22499)\n\n2016-01-31  Andreas Schwab  <schwab@linux-m68k.org>\n\n\tFix imap-starttls-open\n\n\t* lisp/net/imap.el (imap-starttls-open): Log imap process\n\toutput.  Call imap-parse-greeting.  (Bug#22500)\n\n2016-01-31  Andreas Schwab  <schwab@linux-m68k.org>\n\n\tFix return value of imap-starttls-open\n\n\t* lisp/net/imap.el (imap-starttls-open): Fix return value.\n\n2016-01-31  John Wiegley  <johnw@newartisans.com>\n\n\tCorrect reference to DARWIN_OS preprocessor symbol\n\n\t* src/alloc.c: Correct a preprocessor reference to DARWIN_OS, which may\n\t  not be defined.\n\n2016-01-30  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSpelling fix\n\n\tSpelling fixes\n\n2016-01-30  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPacify GCC on C library without glibc API\n\n\tWithout this change, with --enable-gcc-warnings GCC would complain\n\t\u201cerror: redundant redeclaration of \u2018aligned_alloc\u2019\u201d.\n\t* configure.ac: Simplify aligned_alloc testing.\n\t* src/alloc.c (aligned_alloc): Don\u2019t use if DARWIN_OS,\n\tsince the simplified configure.ac no longer checks for that.\n\tDon\u2019t declare if HAVE_ALIGNED_ALLOC.\n\tCorrect misspelling of HAVE_ALIGNED_ALLOC in ifdef.\n\n2016-01-30  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\tBackport: * lisp/files.el: Remove support for extra .dir-locals file\n\n\t(dir-locals-file-2, dir-locals--all-files): Remove.\n\t(dir-locals-collect-variables, dir-locals-file, dir-locals-find-file)\n\t(dir-locals-read-from-file, hack-dir-local-variables): Revert changes.\n\n\t* lisp/files-x.el (modify-dir-local-variable): Revert changes.\n\n\t* lisp/help-fns.el (describe-variable): Revert changes.\n\n\t* doc/emacs/custom.texi (Directory Variables): Revert changes.\n\n\t* etc/NEWS: Revert changes.\n\n2016-01-30  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/net/browse-url.el (browse-url-default-browser):\n\tLower priority of non-free Chrome.\n\n2016-01-30  Glenn Morris  <rgm@gnu.org>\n\n\tImprove the custom type of some user options.\n\n\t* lisp/desktop.el (desktop-minor-mode-table):\n\t* lisp/man.el (Man-frame-parameters):\n\t* lisp/midnight.el (midnight-delay):\n\t* lisp/speedbar.el (speedbar-select-frame-method):\n\t* lisp/tooltip.el (tooltip-frame-parameters):\n\t* lisp/tree-widget.el (tree-widget-space-width):\n\t* lisp/type-break.el (type-break-keystroke-threshold):\n\t* lisp/woman.el (woman-imenu-generic-expression):\n\t* lisp/cedet/ede.el (ede-debug-program-function):\n\t* lisp/cedet/ede/project-am.el (project-am-debug-target-function):\n\t* lisp/emulation/viper-keym.el (viper-toggle-key):\n\t* lisp/erc/erc-networks.el (erc-server-alist):\n\t* lisp/gnus/message.el (message-deletable-headers, message-signature):\n\t* lisp/mail/mailalias.el (mail-directory-stream):\n\t* lisp/play/tetris.el (tetris-x-colors):\n\t* lisp/progmodes/gud.el (gud-tooltip-modes): Improve custom type.\n\n2016-01-30  Simen Heggest\u00f8yl  <simenheg@gmail.com>\n\n\tHighlight CSS variables with variable name face\n\n\t* lisp/textmodes/css-mode.el (css-nmstart-re): Don't match variables.\n\t(css--font-lock-keywords): Highlight variables in\n\t`font-lock-variable-name-face'.\n\n2016-01-30  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/gnus/gnus-kill.el (gnus-winconf-kill-file): Not user-serviceable.\n\n2016-01-30  Glenn Morris  <rgm@gnu.org>\n\n\tMark some user options that can get evalled as risky.\n\n\t* lisp/allout.el (allout-title):\n\t* lisp/emacs-lisp/edebug.el (edebug-global-break-condition):\n\t* lisp/gnus/message.el (message-mailer-swallows-blank-line):\n\t* lisp/progmodes/gud.el (gud-tooltip-display):\n\t* lisp/vc/ediff-mult.el (ediff-default-filtering-regexp):\n\tMark as risky.\n\n2016-01-30  Eli Zaretskii  <eliz@gnu.org>\n\n\tDisable DebPrint in sys_read on MS-Windows\n\n\t* src/w32.c (sys_read): Disable a debugging print that is normal\n\twhen non-blocking reads are retried.\n\n2016-01-30  Martin Rudalics  <rudalics@gmx.at>\n\n\t;Fix ChangeLog entry\n\n2016-01-30  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix typos in Introduction to Emacs Lisp manual\n\n\t* doc/lispintro/emacs-lisp-intro.texi (Emacs Initialization)\n\t(kill-new function, Digression into C)\n\t(Complete forward-sentence, Divide and Conquer, Find a File)\n\t(lengths-list-many-files, Columns of a graph, defcustom)\n\t(recursive-count-words): Fix typos.  Reported by Daniel Bastos\n\t<dbastos@toledo.com>.\n\n2016-01-30  Nicolas Petton  <nicolas@petton.fr>\n\n\tBump version to 25.0.90\n\n\t* README:\n\t* configure.ac:\n\t* msdos/sed2v2.inp: Bump version to 25.0.90.\n\n2016-01-30  Nicolas Petton  <nicolas@petton.fr>\n\n\t* etc/AUTHORS: Update the AUTHORS file\n\n2016-01-30  Nicolas Petton  <nicolas@petton.fr>\n\n\tBump version to 25.0.90\n\n\t* README:\n\t* configure.ac:\n\t* msdos/sed2v2.inp: Bump version to 25.0.90.\n\n2016-01-30  Nicolas Petton  <nicolas@petton.fr>\n\n\t* etc/AUTHORS: Update the AUTHORS file\n\n2016-01-30  Nicolas Petton  <nicolas@petton.fr>\n\n\tauthors.el updates\n\n\t* admin/authors.el (authors-renamed-files-alist): Additions.\n\n2016-01-30  Nicolas Petton  <nicolas@petton.fr>\n\n\tMake it possible to run make change-history on emacs-25\n\n\t* Makefile.in: Check if the current branch is emacs-25 instead of\n\t  master.\n\n2016-01-30  lu4nx  <lx@shellcodes.org>\n\n\tSupport Go language in 'etags'\n\n\t* lib-src/etags.c <Ruby_help>: Fix documentation of Ruby tags.\n\t<Go_help>: New help.\n\t<Go_suffixes>: New variable.\n\t(Go_functions): New function.\n\t<lang_names>: Add entry for Go.  (Bug#22370)\n\n\t* doc/emacs/maintaining.texi (Tag Syntax): Document Go support.\n\t* doc/man/etags.1: Mention Go support.\n\n\t* etc/NEWS: Mention Go support.\n\n\t* test/etags/go-src/test.go:\n\t* test/etags/go-src/test1.go: New test files.\n\t* test/etags/Makefile (GOSRC): New variable.\n\t(SRCS): Add $(GOSRC).\n\t* test/etags/ETAGS.good_1:\n\t* test/etags/ETAGS.good_2:\n\t* test/etags/ETAGS.good_3:\n\t* test/etags/ETAGS.good_4:\n\t* test/etags/ETAGS.good_5:\n\t* test/etags/ETAGS.good_6:\n\t* test/etags/CTAGS.good: Adapt to addition of Go tests.\n\n2016-01-30  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove Ruby support in 'etags'\n\n\t* lib-src/etags.c (Ruby_functions): Tag constants.  Don't tag\n\tsingleton classes.  Remove class qualifiers from tags generated\n\tfor method and constant names.  (Bug#22241)\n\n\t* doc/emacs/maintaining.texi (Tag Syntax): Mention that constants\n\tare tagged by etags in Ruby.\n\n\t* etc/NEWS: Mention that constants are tagged by etags in Ruby.\n\n\t* test/etags/ruby-src/test1.ru: Add more tests.\n\t* test/etags/ETAGS.good_1:\n\t* test/etags/ETAGS.good_2:\n\t* test/etags/ETAGS.good_3:\n\t* test/etags/ETAGS.good_4:\n\t* test/etags/ETAGS.good_5:\n\t* test/etags/ETAGS.good_6:\n\t* test/etags/CTAGS.good: Adapt to the changes in etags and in Ruby\n\ttests.\n\n2016-01-30  Eli Zaretskii  <eliz@gnu.org>\n\n\tAdjust etags test results to changes in copyright years\n\n\t* test/etags/CTAGS.good:\n\t* test/etags/ETAGS.good_1:\n\t* test/etags/ETAGS.good_2:\n\t* test/etags/ETAGS.good_3:\n\t* test/etags/ETAGS.good_4:\n\t* test/etags/ETAGS.good_5:\n\t* test/etags/ETAGS.good_6: Adjust to shift in characters and\n\tin line numbers.\n\n2016-01-30  Andreas Schwab  <schwab@linux-m68k.org>\n\n\tRevert \"Re-enable checks in member, memql, delete to complain about non-lists\"\n\n\tThis reverts commit f524e8b7f12d9b5a8b92084e5385429fe7b085b9.\n\n2016-01-30  Nicolas Petton  <nicolas@petton.fr>\n\n\tMake it possible to run make change-history on emacs-25\n\n\t* Makefile.in: Check if the current branch is emacs-25 instead of\n\t  master.\n\n2016-01-30  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tDon't fiddle with DEFAULT\n\n\t* lisp/progmodes/project.el (project--completing-read-strict):\n\tDon't change DEFAULT, whether is has any matches in\n\tCOLLECTION, or not.\n\n2016-01-30  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument xwidget commands and functions\n\n\t* doc/lispref/display.texi (Xwidgets): New section, describes some\n\tof the xwidget primitives.\n\t* doc/lispref/display.texi (Display): Update the chapter menu.\n\t* doc/emacs/misc.texi (Embedded WebKit Widgets): New section.\n\t* doc/emacs/emacs.texi (Top): Update the master menu to include\n\tthe xwidget node.\n\n2016-01-30  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tBuild fix for shr.el\n\n\t* shr.el (seq): Require.\n\n2016-01-30  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tImprove project-find-file yet again!\n\n\t* lisp/progmodes/project.el (project--completing-read-strict):\n\tNew function.\n\t(project-find-file-in): Use it.\n\t(project-file-completion-table): Move the default\n\timplementation inside the cl-defgeneric form.\n\t(http://lists.gnu.org/archive/html/emacs-devel/2016-01/msg01720.html)\n\n2016-01-30  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tDon't pass DIR to 'hg status'\n\n\t* lisp/vc/vc-hg.el (vc-hg-dir-status-files):\n\tDon't pass DIR to 'hg status' (bug#22481).\n\n2016-01-30  Stephen Leake  <stephen_leake@stephe-leake.org>\n\n\tFix typo in previous commits\n\n\t* lisp/progmodes/project.el (project-find-file-in):\n\t* lisp/vc/vc-mtn.el (vc-mtn-find-ignore-file): Fix typo in previous\n\tcommit.\n\n2016-01-30  Stephen Leake  <stephen_leake@stephe-leake.org>\n\n\tImprove project-find-file\n\n\t* lisp/progmodes/project.el (project-file-completion-table): New.\n\t(project-find-file, project-or-external-find-file): Default to filename\n\tat point.\n\t(project-file-completion-table): New, split out from\n\tproject--find-file-in.\n\t(project-find-file-in): Renamed from project--find-file-in, use\n\tproject-file-completion-table.\n\n\t* lisp/progmodes/xref.el (ede-minor-mode): New declaration.\n\t(xref--find-ignores-arguments): Add doc string.\n\n2016-01-30  Stephen Leake  <stephen_leake@stephe-leake.org>\n\n\tImplement vc-mtn-find-ignore-file, fix some doc strings\n\n\t* lisp/cedet/cedet-global.el (cedet-gnu-global-root): Improve doc string.\n\n\t* lisp/cedet/ede/locate.el (initialize-instance): Improve doc string.\n\n\t* lisp/vc/vc-git.el (vc-git-find-ignore-file): Fix doc string.\n\n\t* lisp/vc/vc-mtn.el (vc-mtn-find-ignore-file): New function.\n\n2016-01-29  Vincent Bela\u00efche  <vincentb1@users.sourceforge.net>\n\n\tCorrect a whole bunch of bugs coming with renamed cell relocation.\n\n\tThis is the same change as commit on master branch. See\n\thttp://git.savannah.gnu.org/cgit/emacs.git/commit/?id=badcd38aa86ed7973f2be2743c405710973a0bdd\n\n\t* lisp/ses.el (ses-localvars): rename variable\n\t`ses--renamed-cell-symb-list' into `ses--in-killing-named-cell-list'\n\tand adjust the comment about it.\n\t(ses-plist-delq): new defun.\n\t(ses--ses-buffer-list): new defvar.\n\t(ses--unbind-cell-name): new defun.\n\t(ses-relocate-symbol): Do not relocate symbol when it is a named cell.\n\t(ses-relocate-formula): Undo change of\n\t2011-12-27T19:30:39Z!vincentb1@users.sourceforge.net that was\n\tpreventing relocation for named cell --- now doing this is delegated\n\tto function `ses-relocate-symbol'.\n\t(ses-relocate-range): In docstring, undo change of\n\t2016-01-03T07:31:52Z!johnw@newartisans.com, `ses-range' must remain\n\tlower case as it is not a variable.\n\t(ses-relocate-all): Cell name relocation : 1) check that cell is a\n\trenamed cell by testing `ses-cell' property to :ses-named, rather than\n\tcomparing name to corresponding standard name. Set rowcol of renamed\n\tcell into the hashmap --- `ses-cell' property must not be used for\n\tthat as the same name can be used for different locations in different\n\tSES sheets ; 2) use `local-variable-if-set-p' rather than `boundp' and\n\t`local-variable-p' to check if cell name is already in use in this\n\tsheet or needs initialization.\n\t(ses-relocate-all): Cell value relocation : 1) like for name\n\trelocation use the `ses-cell' property rather than comparing actual\n\tname to corresponding standard name. 2) Correct bug introduced in\n\t2011-12-27T19:30:39Z!vincentb1@users.sourceforge.net, as the test was\n\tmade the other way round than the intention --- ie value relocation\n\twas disabled for standard cell, not for renamed cell as was the\n\tintention.\n\t(ses-relocate-all): Add loop for unbinding deleted renamed cells\n\tnames.\n\t(ses-killbuffer-hook): new defun.\n\t(ses-mode): Add the ses--ses-buffer-list maintenance mechanism ---\n\tkill buffer hook, plus pushing current buffer if new in list.\n\t(ses-delete-row, ses-delete-column): Collect deleted renamed cells\n\tinto `ses--in-killing-named-cell-list'.\n\t(ses-rename-cell): Remove update of variable\n\t`ses--renamed-cell-symb-list', this variable is renamed to\n\t`ses--in-killing-named-cell-list', and its setting is done in\n\tfunctions `ses-delete-row' and , `ses-delete-column' now.\n\t(ses-rename-cell): Make cell new name a buffer local variable.\n\t(ses-rename-cell): Change correction of\n\t2015-12-30T23:10:37Z!vincentb1@users.sourceforge.net concerning\n\tcomputation of the range over which `cursor-intangible' property was\n\tto be updated. This correction was ok for non spilling cells, but not\n\tfor cells spilling over following blank cells. Simply use\n\t`next-single-property-change' rather than computing the end column\n\tfrom column widths.\n\n2016-01-29  Andreas Schwab  <schwab@linux-m68k.org>\n\n\tRe-enable checks in member, memql, delete to complain about non-lists\n\n\t* src/fns.c (Fmember, Fmemql, Fdelete): Revert 2007-10-16 change.\n\n2016-01-29  Martin Rudalics  <rudalics@gmx.at>\n\n\tMinor doc(-string) tweaks\n\n\t* lisp/window.el (window-in-direction): Fix doc-string typo.\n\t* doc/lispref/frames.texi (Frame Font): Mention canonical\n\tcharacter width/height.\n\t* doc/lispref/windows.texi (Windows and Frames): Clarify\n\thandling of minibuffer window for `window-in-direction'.\n\t(Window Sizes): Minor tweaks in descriptions of\n\t`window-max-chars-per-line', `window-min-width' and\n\t`window-min-size'.\n\t(Deleting Windows): Minor tweak in `delete-window' description.\n\t(Selecting Windows): Clarify window use time description.\n\t(Cyclic Window Ordering): Minor tweak.\n\t(Switching Buffers): Clarify description of\n\t`switch-to-buffer-in-dedicated-window'.\n\n2016-01-29  Eli Zaretskii  <eliz@gnu.org>\n\n\tMinor improvements to 'pcase' documentation\n\n\t* doc/lispref/control.texi (Pattern matching case statement):\n\tImprove the documentation of 'pcase' per comments.  See two\n\tdiscussion threads on emacs-devel@gnu.org for the details:\n\thttp://lists.gnu.org/archive/html/emacs-devel/2016-01/msg01335.html\n\thttp://lists.gnu.org/archive/html/emacs-devel/2016-01/msg01336.html.\n\n2016-01-29  Glenn Morris  <rgm@gnu.org>\n\n\tDon't use eval to quieten prolog.el compilation.\n\n\t* lisp/progmodes/prolog.el (pltrace-on, pltrace-off): Declare.\n\t(prolog-enable-sicstus-sd, prolog-disable-sicstus-sd): Don't use eval.\n\n2016-01-29  Glenn Morris  <rgm@gnu.org>\n\n\tMark some risky prolog variables.\n\n\t* lisp/progmodes/prolog.el (prolog-system-version)\n\t(prolog-keywords, prolog-types, prolog-mode-specificators)\n\t(prolog-determinism-specificators, prolog-directives)\n\t(prolog-program-name, prolog-program-switches)\n\t(prolog-consult-string, prolog-compile-string)\n\t(prolog-eof-string, prolog-prompt-regexp, prolog-help-function):\n\tMark anything processed by prolog-find-value-by-system as risky.\n\n2016-01-28  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/custom.el (defcustom): Doc fix.\n\n\t* doc/lispref/customize.texi (Variable Definitions):\n\tDefcustom should always have a type.\n\n2016-01-28  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/cedet/semantic/db-file.el (semanticdb-persistent-path):\n\tFix :type.\n\n\t* lisp/emacs-lisp/package.el (package-load-list): Improve :type.\n\n2016-01-28  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix Bug#22452\n\n\t* lisp/net/tramp-adb.el (tramp-adb-maybe-open-connection):\n\t* lisp/net/tramp-gvfs.el (tramp-gvfs-maybe-open-connection):\n\t* lisp/net/tramp-sh.el (tramp-maybe-open-connection):\n\t* lisp/net/tramp-smb.el (tramp-smb-maybe-open-connection):\n\tMark it as connected.\n\n\t* lisp/net/tramp.el (tramp-handle-file-remote-p): Check also, if\n\tconnection property \"connected\" is set.  (Bug#22452)\n\n2016-01-27  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/xwidget.el (xwidget-query-on-exit-flag): Declare.\n\n\t* lisp/xwidget.el (xwidget-webkit-browse-url): Give explicit error\n\tif not compiled with xwidgets.\n\n2016-01-27  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tC-u C-x = example doc fix\n\n\t* doc/emacs/mule.texi (International Chars):\n\tAdjust example to match current behavior of C-u C-x =.\n\n2016-01-27  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tmalloc.h hygiene\n\n\tThis attempts to future-proof Emacs a bit against possible glibc\n\tchanges, by having Emacs use <malloc.h> declarations rather than\n\tcoding them up by hand.  Problem noted by Florian Weimer in:\n\thttps://sourceware.org/ml/libc-alpha/2016-01/msg00777.html\n\tImplement this mainly by moving malloc.h-related functions from\n\temacs.c (which does not include <malloc.h>) to alloc.c (which does).\n\t* src/alloc.c (my_heap_start) [DOUG_LEA_MALLOC || GNU_LINUX]:\n\tNew function.\n\tThe remaining changes to this file apply only if DOUG_LEA_MALLOC.\n\t(alloc_unexec_pre, alloc_unexec_post): New functions.\n\t(malloc_initialize_hook): Use my_heap_start and alloc_unexec_post.\n\t(__MALLOC_HOOK_VOLATILE): New macro, if not already defined.\n\t(__malloc_initialize_hook): Use it.\n\t(malloc_state_ptr, malloc_initialize_hook, __malloc_initialize_hook):\n\tMove here from ...\n\t* src/emacs.c: ... here.\n\t(malloc_get_state, malloc_set_state): Remove extern decls.\n\t(my_heap_start) [DOUG_LEA_MALLOC || GNU_LINUX]: Remove static var.\n\tAll uses changed to similarly-named new function.\n\t(Fdump_emacs): Use new functions alloc_unexec_pre, alloc_unexec_post.\n\t* src/lisp.h (my_heap_start, alloc_unexec_pre, alloc_unexec_post):\n\tNew decls.\n\n2016-01-26  Eli Zaretskii  <eliz@gnu.org>\n\n\t* doc/emacs/mark.texi (Using Region): Clarify wording.  (Bug#22467)\n\n2016-01-26  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRemove never-set var handle_user_signal_hook\n\n\t* src/keyboard.c, src/keyboard.h (handle_user_signal_hook):\n\tRemove never-set var.  All uses removed.\n\n2016-01-26  K. Handa  <handa@gnu.org>\n\n\tBackport:fix previous change of src/ftfont.c (ftfont_shape_by_flt)\n\n\t* src/ftfont.c (ftfont_shape_by_flt): Fix previous change.  Access the\n\tsecond glyph only when there are enough glyphs.\n\n\t(cherry picked from commit 9835757013569673854b692ccbb58bfb3c3ed1f7)\n\n2016-01-26  K. Handa  <handa@gnu.org>\n\n\tsupport rendering of wider range of combinging characters by ftfont backend\n\n\t* lisp/language/hebrew.el (hebrew-shape-gstring): If the font backend\n\tsupports rendering of combining characters, call\n\tfont-shape-gstring.\n\n\t* src/font.c (Ffont_get): Handle `combining-capability' property.\n\t(syms_of_font): New symbol \":combining-capability'.\n\n\t* src/font.h (struct font_driver): New member combining_capability.\n\n\t* src/ftfont.c: Include \"category.h\".\n\t(ftfont_driver): Initialize combining_capability to\n\tftfont_combining_capability.\n\t(ftfont_shape_by_flt): If OTF is null, try to find a suitable\n\tFLT in advance.\n\t(ftfont_combining_capability): New function.\n\n\t(cherry picked from commit 536f48e9a2251b9e654ea974bd90ff2f40218753)\n\n2016-01-26  Anders Lindgren  <andlind@gmail.com>\n\n\tFixed NextStep fullscreen issue (bug#22468)\n\n\tWhen in fullscreen mode, `[screen visibleFrame]' sometimes\n\tincludes, sometimes excludes the menu bar. This could cause\n\ta frame to be placed too low when in fullscreen mode.\n\n\t* src/nsterm.m (ns_menu_bar_should_be_hidden): Trace.\n\t(constrain_frame_rect): New parameter, isFullscreen, when true don't\n\tquery the height of the menu bar.\n\t(ns_constrain_all_frames): Pass `false' (isFullscreen) to\n\t`constrain_frame_rect'.\n\t([EmacsView initFrameFromEmacs:]): Trace.\n\t([EmacsView isFullscreen]): Trace.\n\t([EmacsWindow constrainFrameRect:toScreen:]): Pass fullscreen\n\tstate to `constrain_frame_rect'.\n\n2016-01-26  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/files.el: Use a fixed file name for the second dir-locals file\n\n\t(dir-locals-file): Revert to its original fixed value.\n\t(dir-locals-file-2): New const.\n\t(dir-locals--all-files): Don't use `file-name-all-completions'.\n\tInstead, just check for the 2 dir-locals files and return a list\n\tof the ones that exit (if any).\n\n\t* etc/NEWS: Document the change.\n\n\t* doc/emacs/custom.texi (Directory Variables): Document the change.\n\n\t* doc/lispref/variables.texi (Directory Local Variables): Update\n\taccordingly.\n\n2016-01-26  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/files-x.el (modify-dir-local-variable): Small rewrite\n\n\tChange a variable name to be more meaningful, and reorder some of\n\tthe code with no change in behaviour.\n\n2016-01-26  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/files.el (dir-locals-find-file): Refactor return values\n\n\tReturning a cache remains unchanged, but the case of returning a\n\tfile (or pattern) is now changed to return the contaning\n\tdirectory.\n\n\t(dir-locals-read-from-file): Rename to `dir-locals-read-from-dir'\n\tand make obsolete.\n\t(dir-locals-read-from-dir): Simplify accordingly.\n\t(hack-dir-local-variables): Simplify accordingly and rename a\n\tvariable.\n\n2016-01-26  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/textmodes/flyspell.el (flyspell--prev-meta-tab-binding):\n\tDeclare.\n\n\t* configure.ac (USE_CAIRO): Rename to more standard HAVE_CAIRO.\n\n\t* configure.ac (--with-cairo): Say it's experimental.\n\n\t* lisp/xwidget.el (xwidget-webkit-scroll-behavior):\n\tRename using American spelling.  Update all uses.\n\n2016-01-26  Glenn Morris  <rgm@gnu.org>\n\n\tYet more xwidget doc fixes.\n\n\t* lisp/xwidget.el (xwidget-webkit-scroll-behaviour)\n\t(xwidget-insert, xwidget-webkit-browse-url)\n\t(xwidget-webkit-scroll-up, xwidget-webkit-scroll-down)\n\t(xwidget-webkit-scroll-forward, xwidget-webkit-scroll-backward)\n\t(xwidget-webkit-insert-string, xwidget-webkit-show-named-element)\n\t(xwidget-webkit-show-id-element)\n\t(xwidget-webkit-show-id-or-named-element)\n\t(xwidget-webkit-adjust-size, xwidget-webkit-current-url)\n\t(xwidget-webkit-execute-script-rv)\n\t(xwidget-webkit-copy-selection-as-kill, xwidget-get)\n\t(xwidget-put):  Doc fixes.\n\t(xwidget-webkit-insert-string, xwidget-webkit-show-named-element)\n\t(xwidget-webkit-show-id-element)\n\t(xwidget-webkit-show-id-or-named-element): Prompt fixes.\n\n2016-01-25  Ted Zlatanov  <tzz@lifelogs.com>\n\n\t* lisp/gnus/gnus-art.el (gnus-blocked-images):\n\tAdd explicit nil choice and tags.\n\n2016-01-25  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSpelling fixes\n\n2016-01-25  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t(font-lock-ensure-function): Fix bug#22399\n\n\t* lisp/font-lock.el (font-lock-ensure-function): Fix handling when\n\tfont-lock-mode is not enabled (bug#22399).\n\n2016-01-25  Alan Mackenzie  <acm@muc.de>\n\n\tExpunge \"allow\" + infinitive from source and doc, part 2.\n\n\tDo the same for \"permit\", \"enable\", \"prevent\", and (where appropriate)\n\t\"require\".\n\n\tdoc/misc/reftex.texi:\n\tdoc/misc/url.texi:\n\tlib/get-permissions.c:\n\tlib/strftime.c:\n\tlisp/org/org-element.el:\n\tlisp/org/org-mobile.el:\n\tlisp/textmodes/reftex-vars.el:\n\tsrc/bidi.c:\n\tsrc/emacs.c:\n\tsrc/xdisp.c:\n\ttest/etags/c-src/emacs/src/lisp.h:\n\n\tExpunge the likes of \"This allows to do something\" from the above files.\n\n2016-01-25  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/tabulated-list.el (tabulated-list-mode): Redundant line\n\n\t`special-mode' is already read-only.\n\n2016-01-25  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/ert.el (ert--results-move): Change error to user-error\n\n2016-01-25  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort \"$@\" to OpenIndiana ksh93\n\n\tIn http://lists.gnu.org/archive/html/bug-autoconf/2015-12/msg00000.html\n\tPavel Raiskup reports that ${1+\"$@\"} runs afoul of a bug in /bin/sh\n\t(derived from ksh 93t+ 2010-03-05).  ${1+\"$@\"} works around an ancient\n\tbug in long-dead shells, so remove the workaround.\n\t* admin/check-doc-strings, configure.ac, lib-src/rcs2log:\n\tUse plain \"$@\" rather than ${1+\"$@\"}.\n\n2016-01-25  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* src/xwidget.c (Fxwidget_set_adjustment): Fix doc string quoting typo.\n\n2016-01-25  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tImprove wording for SMB support\n\n\t* doc/misc/tramp.texi (External methods): Improve and modernize\n\twording for discussion of smbclient.  There is no longer any\n\tneed to mention the laundry list of old MS Windows implementations\n\tof SMB and CIFS, nor to mention CIFS.  Also, give a URL for Samba.\n\n2016-01-24  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from gnulib\n\n\tThis incorporates:\n\t2016-01-24 openat_proc_name: fix last '/' overwritten on OS/2 kLIBC\n\t2016-01-24 closedir, dirfd, opendir: port to OpenSolaris 5.10\n\t2016-01-15 detect utimes() correctly on OS/2 kLIBC\n\t2016-01-15 openat_proc_name: port to OS/2 kLIBC\n\t2016-01-14 stdint: check _INTPTR_T_DECLARED for intptr_t etc.\n\t2016-01-14 opendir, closedir, dirfd, fdopendir: port to OS/2 kLIBC\n\t2016-01-14 dup, dup2, fcntl: support a directory fd on OS/2 kLIBC\n\t2016-01-14 binary-io: don't put fd in binary mode if a console on EMX\n\t2016-01-14 sig2str: list all signals on FreeBSD >= 7\n\t2016-01-13 acl-permissions: port to USE_ACL==0 platforms\n\t2016-01-12 mktime: rename macro to avoid glibc clash\n\t2016-01-12 Port \"$@\" to OpenIndiana ksh93\n\t2016-01-12 Port Universal Time settings to strict POSIX\n\t* build-aux/gitlog-to-changelog, build-aux/update-copyright:\n\t* doc/misc/texinfo.tex, lib/acl-internal.c, lib/acl-internal.h:\n\t* lib/binary-io.h, lib/dirent.in.h, lib/dirfd.c, lib/dup2.c:\n\t* lib/fcntl.c, lib/fdopendir.c, lib/mktime.c, lib/openat-proc.c:\n\t* lib/sig2str.h, lib/stdint.in.h, m4/dirfd.m4, m4/dup2.m4:\n\t* m4/fcntl.m4, m4/utimes.m4:\n\tCopy from gnulib.\n\t* m4/gnulib-comp.m4: Regenerate.\n\n2016-01-24  Alan Mackenzie  <acm@muc.de>\n\n\tExpunge \"allow\" + infinitive without direct object from source and doc.\n\n\tDo the same for \"permit\", \"enable\", and \"prevent\".\n\n\t* doc/emacs/mule.texi:\n\t* doc/lispref/control.texi:\n\t* doc/lispref/display.texi:\n\t* doc/lispref/frames.texi:\n\t* doc/lispref/functions.texi:\n\t* doc/lispref/nonascii.texi:\n\t* doc/lispref/streams.texi:\n\t* doc/lispref/windows.texi:\n\t* doc/misc/dbus.texi:\n\t* doc/misc/eww.texi:\n\t* doc/misc/flymake.texi:\n\t* doc/misc/octave-mode.texi:\n\t* doc/misc/org.texi:\n\t* doc/misc/reftex.texi:\n\t* doc/misc/tramp.texi:\n\t* doc/misc/wisent.texi:\n\t* etc/NEWS:\n\t* lisp/autorevert.el:\n\t* lisp/cedet/mode-local.el:\n\t* lisp/cedet/semantic/senator.el:\n\t* lisp/cedet/semantic/wisent.el:\n\t* lisp/dos-fns.el:\n\t* lisp/frameset.el:\n\t* lisp/gnus/gnus-agent.el:\n\t* lisp/gnus/mm-util.el:\n\t* lisp/international/characters.el:\n\t* lisp/ldefs-boot.el:\n\t* lisp/mail/mailclient.el:\n\t* lisp/man.el:\n\t* lisp/mh-e/mh-search.el:\n\t* lisp/net/tramp-cmds.el:\n\t* lisp/net/tramp-gvfs.el:\n\t* lisp/org/org-crypt.el:\n\t* lisp/org/org-element.el:\n\t* lisp/org/org-feed.el:\n\t* lisp/org/org.el:\n\t* lisp/org/ox-ascii.el:\n\t* lisp/org/ox-icalendar.el:\n\t* lisp/org/ox-publish.el:\n\t* lisp/org/ox.el:\n\t* lisp/play/gamegrid.el:\n\t* lisp/play/gomoku.el:\n\t* lisp/progmodes/antlr-mode.el:\n\t* lisp/progmodes/python.el:\n\t* lisp/progmodes/vhdl-mode.el:\n\t* lisp/strokes.el:\n\t* lisp/textmodes/ispell.el:\n\t* lisp/tree-widget.el:\n\t* lisp/vc/pcvs.el:\n\t* lisp/window.el:\n\t* src/lisp.h:\n\t* src/w32.c:\n\t* src/w32heap.c:\n\t* src/w32term.c:\n\t* src/window.c:\n\t* src/xfaces.c:\n\n\tReplace solecisms like \"This allow to do something\" with a correct\n\talternative, such as \"This allow you to do something\", \"This allows\n\tsomething to be done\" or \"This allows the doing of something\".\n\n2016-01-24  l3thal  <kwhite@gnu.org>\n\n\tMerge branch 'emacs-25' of git.sv.gnu.org:/srv/git/emacs into emacs-25\n\n2016-01-24  Kelvin White  <kwhite@gnu.org>\n\n\tAdd NEWS entry for asynchronous reconnect in ERC\n\n2016-01-24  l3thal  <kwhite@gnu.org>\n\n\tAdd NEWS entry for asynchronous reconnect in ERC\n\n2016-01-24  Kelvin White  <kwhite@gnu.org>\n\n\tbrowse-url.el: Add 'google-chrome' to supported browsers.\n\n2016-01-24  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort Tramp manual to latest Texinfo\n\n\tOtherwise, 'make pdf' did not work (Bug#22416).\n\t* doc/misc/tramp.texi (xxx, yyy): Remove macros.\n\t(trampfn): Specialize to the case where METHOD is nonempty.\n\tThe 2nd argument is now user@host, not 2nd user and 3rd host args.\n\tAll uses changed.\n\t(trampf): New macro.\n\n2016-01-24  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\t* eww.el (eww-render): Protect against empty content-types.\n\n2016-01-24  Nicolas Petton  <nicolas@petton.fr>\n\n\tauthors.el updates\n\n\t* admin/authors.el (authors-ignored-files, authors-renamed-files-alist):\n\t  Additions.\n\n2016-01-24  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tRename xref-query-replace to xref-query-replace-in-results\n\n\t* lisp/progmodes/xref.el(xref-query-replace):\n\tRename to xref-query-replace-in-results.\n\t(http://lists.gnu.org/archive/html/emacs-devel/2016-01/msg01240.html)\n\n\t* lisp/progmodes/xref.el (xref--xref-buffer-mode-map):\n\t* lisp/dired-aux.el (dired-do-find-regexp-and-replace):\n\t* doc/emacs/dired.texi (Operating on Files):\n\t* doc/emacs/maintaining.texi (Xref Commands)\n\t(Identifier Search, Identifier Search): Update accordingly.\n\n2016-01-24  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tUpdate cl-defgeneric and cl-defmethod docstrings\n\n\t* lisp/emacs-lisp/cl-generic.el: Remove outdated TODO item.\n\t(cl-defgeneric): Rename BODY to DEFAULT-BODY.\n\t(cl-defmethod): Mention that multiple dispatch arguments are\n\tallowed.  Document supported types.  (Bug#22336)\n\n2016-01-23  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tComment out next-error-function integration in xref\n\n\t* lisp/progmodes/xref.el (xref--xref-buffer-mode):\n\tComment out next-error-function integration\n\t(http://lists.gnu.org/archive/html/emacs-devel/2016-01/msg01286.html).\n\n2016-01-23  John Wiegley  <johnw@newartisans.com>\n\n\tCorrect a use of \"which\" in intro.texi\n\n2016-01-23  Alan Mackenzie  <acm@muc.de>\n\n\tDistinguish the two meanings of Java's keyword \"default\".  Fixes bug #22358.\n\n\t* lisp/progmodes/cc-engine.el (c-guess-basic-syntax CASE 14): Check the\n\tcontext of case labels (including \"default\") more rigorously.\n\t(c-guess-basic-syntax CASE 15): Consequential amendment.\n\n\t* lisp/progmodes/cc-langs.el (c-modifier-kwds): Add \"default\" to Java's value.\n\n2016-01-23  Oscar Fuentes  <ofv@wanadoo.es>\n\n\tDon't operate on menu bar of nonexistent frame\n\n\t* src/xfns.c (Fx_hide_tip) [USE_LUCID]: Check that the current frame\n\tis valid before redisplaying its menu. Fixes bug#22438.\n\n2016-01-23  Anders Lindgren  <andlind@gmail.com>\n\n\tUnbreak the GNUstep build.\n\n\t* src/nsterm.m ([EmacsBell init]): In GNUstep, don't use the\n\tpredefined \"caution\" image. Add trace.\n\t(x_set_window_size): Remove unused variables `cols' and `rows'.\n\t(ns_draw_fringe_bitmap): Exclude assignment of `fromRect' when\n\tGNUstep is used.\n\t([EmacsView updateFrameSize:]): Remove unused variable `win'.\n\t([EmacsWindow zoom:]): Remove unused variable `f'.\n\n2016-01-23  Eli Zaretskii  <eliz@gnu.org>\n\t    John Wiegley  <johnw@gnu.org>\n\t    Michael Heerdegen  <michael_heerdegen@web.de>\n\n\tImprove documentation of 'pcase'\n\n\t* doc/lispref/control.texi (Pattern matching case statement):\n\tReorganize, expand, and improve wording.\n\n\t* etc/NEWS: Mention that 'pcase' changes are documented.\n\n2016-01-23  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* etc/NEWS: Say that Cairo is experimental.\n\n2016-01-23  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tReport error for PNG under Cairo\n\n\t* src/image.c (lookup_rgb_color): Signal a file error instead\n\tof dumping core when mishandling an image.\n\n2016-01-23  Arash Esbati  <esbati@gmx.de>\n\n\tDelete a spurious backquote (tiny change)\n\n\t* lisp/textmodes/reftex-ref.el (reftex-label): Delete a\n\tspurious backquote which raises an error with emacs 25.\n\n2016-01-23  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPacify --enable-gcc-warnings --with-cairo\n\n\tProblem reported by Alexander Kuleshov in:\n\thttp://lists.gnu.org/archive/html/emacs-devel/2016-01/msg01289.html\n\t* src/gtkutil.c (xg_get_page_setup):\n\tUse switch rather than if-then-else.\n\t* src/image.c (COLOR_TABLE_SUPPORT):\n\tDefine directly rather than via #define and optional later #undef.\n\t(lookup_rgb_color) [USE_CAIRO && ENABLE_CHECKING]:\n\tCrash when the pixel is undefined, as there is a genuine bug\n\there (Bug#22442).\n\t* src/image.c (tiff_load, gif_load, svg_load_image)\n\t(x_kill_gs_process) [USE_CAIRO]:\n\t* src/xterm.c (x_draw_fringe_bitmap) [USE_CAIRO]:\n\tOmit unused locals, or move them to where they\u2019re needed.\n\t(x_clear_area1): Now ATTRIBUTE_UNUSED.\n\n2016-01-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tUpdate documentation for Dired search and replace\n\n\t* doc/emacs/dired.texi (Operating on Files): Update descriptions\n\tof 'A' and 'Q' now bound to 'dired-do-find-regexp' and\n\t'dired-do-find-regexp-and-replace'.\n\n\t* etc/NEWS: Mention xref-related changes in Dired.\n\n2016-01-23  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort recent xdisp.c fix to picky C compilers\n\n\t* src/xdisp.c (dump_glyph): Redo the call to fprintf to avoid\n\tputting #if inside the arguments to a standard function, which\n\tthe C standard says has undefined behavior.\n\n2016-01-22  Alan Mackenzie  <acm@muc.de>\n\n\tPrevent spurious recognition of K&R argument declarations.  Fixes bug #2203\n\n\t* lisp/progmodes/cc-engine.el (c-forward-declarator): New function.\n\t(c-in-knr-argdecl): Before recognizing a K&R argument declaration, check it is\n\tcontained in the preceding arg list.\n\n\t* lisp/progmodes/cc-fonts.el (c-font-lock-declarators): Use the new function\n\t`c-forward-declarator' in place of inline code.\n\n2016-01-22  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix the build with --enable-checking=glyphs\n\n\t* src/xdisp.c (dump_glyph): Don't refer to glyph->u.xwidget in a\n\tbuild without xwidget support.\n\n2016-01-22  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument cl-generic.el\n\n\t* doc/lispref/functions.texi (Generic Functions): New section.\n\t(Bug#22336)\n\t(Functions): Update the chapter menu.\n\t* doc/lispref/elisp.texi: Update the master menu.\n\n2016-01-22  Paul Eggert  <eggert@cs.ucla.edu>\n\n\txwidgets style cleanup\n\n\tAdjust the newly-added Xwidgets code so that it uses a more-typical\n\tEmacs style.  This should not affect behavior, except that in\n\ta few places it adds runtime checks that Lisp arguments are of\n\tthe proper type, and in one place it uses more-precise arithmetic.\n\t* src/buffer.c, src/dispnew.c, src/emacs.c, src/emacsgtkfixed.c:\n\t* src/emacs.c, src/print.c, src/window.c, src/xdisp.c, src/xterm.c:\n\tInclude xwidget.h unconditionally.\n\t* src/buffer.c (Fkill_buffer):\n\t* src/dispnew.c (update_window):\n\t* src/emacs.c (main):\n\t* src/print.c (print_object):\n\t* src/window.c (Fdelete_window_internal):\n\t* src/xdisp.c (handle_single_display_spec, push_it, pop_it)\n\t(get_next_element, set_iterator_to_next, next_element_from_xwidget)\n\t(dump_glyph, calc_pixel_width_or_height, BUILD_GLYPH_STRINGS_XW)\n\t(BUILD_GLYPH_STRINGS, x_produce_glyphs, get_window_cursor_type):\n\t* src/xterm.c (x_draw_glyph_string, x_draw_bar_cursor):\n\tCall xwidget functions and macros without worrying about\n\tHAVE_XWIDGETS when the code is a no-op on non-xwidget\n\tplatforms.\n\t* src/dispextern.h (XWIDGET_GLYPH, struct glyph_string.xwidget)\n\t(IT_XWIDGET, GET_FROM_XWIDGET, struct it.u.xwidget)\n\t(struct it.xwidget):\n\t* src/lisp.h (PVEC_XWIDGET, PVEC_XWIDGET_VIEW):\n\tAlways define.\n\t* src/emacsgtkfixed.h: Omit unnecessary comment.\n\t* src/keyboard.c: Fix spacing.\n\t* src/xdisp.c (BUILD_XWIDGET_GLYPH_STRING, produce_xwidget_glyph):\n\tDefine to be a no-op if not HAVE_XWIDGETS.\n\t* src/xwidget.c: Include xwidget.h first (after config.h)\n\tto make sure that it can stand by itself.\n\t(Fmake_xwidget, Fxwidget_webkit_execute_script):\n\tFix typo in doc string.\n\t(Fmake_xwidget): Check type of args.\n\t(Fmake_xwidget, offscreen_damage_event)\n\t(webkit_document_load_finished_cb, webkit_download_cb)\n\t(webkit_new_window_policy_decision_requested_cb)\n\t(webkit_navigation_policy_decision_requested_cb)\n\t(xwidget_osr_draw_cb, xwidget_osr_event_forward)\n\t(xwidget_osr_event_set_embedder, xwidget_init_view):\n\tOmit unnecessary casts.\n\t* src/xwidget.c (Fmake_xwidget, xwidget_hidden)\n\t(xwidget_show_view, xwidget_hide_view)\n\t(x_draw_xwidget_glyph_string, xwidget_start_redisplay, xwidget_touch)\n\t(xwidget_touched):\n\t* src/xwidget.h (struct xwidget.kill_without_query)\n\t(struct xwidget_view.redisplayed, struct xwidget_view.hidden):\n\tUse bool for boolean.\n\t* src/xwidget.c (store_xwidget_event_string, Fxwidget_size_request):\n\tSimplify by using list functions.\n\t(WEBKIT_FN_INIT): Omit unnecessary test for nil.\n\t(Fxwidget_resize): Check type of integer args\n\tbefore doing any work.  Check that they are nonnegative.\n\t(Fxwidget_set_adjustment): Check type of integer arg.\n\tAvoid redundant call to gtk_scrolled_window_get_vadjustment.\n\tSimplify.  Use double, not float.\n\t(Fxwidget_info, Fxwidget_view_info): Simplify by using CALLN.\n\t(valid_xwidget_spec_p): Simplify.\n\t(xwidget_spec_value): Omit unused arg FOUND.  All callers changed.\n\t* src/xwidget.h: Include lisp.h first, so that includers do\n\tnot need to worry about doing that before including this file.\n\tMake this .h file safe to include even on non-HAVE_XWIDGETS\n\tconfigurations, to simplify the includers.\n\t(x_draw_xwidget_glyph_string, syms_of_xwidget, valid_xwidget_spec_p)\n\t(xwidget_end_redisplay, lookup_xwidget)\n\t(xwidget_view_delete_all_in_window, kill_buffer_xwidgets):\n\tNow a no-op if !HAVE_XWIDGETS, to simplify callers.\n\t(struct glyph_matrix, struct glyph_string, struct xwidget)\n\t(struct xwidget_view, struct window):\n\tNew forward or incomplete decls, so that includers need not\n\tassume the corresponding .h files are already included, or that\n\tHAVE_XWIDGETS is defined.\n\t(struct xwidget_type, xwidget_from_id): Remove; unused.\n\n2016-01-22  Michael Albinus  <michael.albinus@gmx.de>\n\n\tBackport kqueue integration from master\n\n\t* configure.ac (--with-file-notification): Add kqueue.\n\t(top): Remove special test for \"${HAVE_NS}\" and\n\t${with_file_notification}, this is handled inside gfilenotify\n\ttests.  Add kqueue tests.  Use NOTIFY_CFLAGS and NOTIFY_LIBS\n\tinstead of library specific variables.  Add error message for\n\tgfile on Nextstep.\n\n\t* doc/lispref/os.texi (File Notifications): Add kqueue as backend.\n\tFix some glitches in the example.\n\n\t* etc/NEWS: Mention kqueue.\n\n\t* lisp/filenotify.el (file-notify--library)\n\t(file-notify-descriptors, file-notify-callback)\n\t(file-notify-add-watch, file-notify-rm-watch)\n\t(file-notify-valid-p): Add kqueue support.\n\t(file-notify--rm-descriptor): Remove WHAT arg.\n\n\t* src/Makefile.in: Use NOTIFY_CFLAGS and NOTIFY_LIBS.\n\n\t* src/emacs.c (main): Call globals_of_kqueue and syms_of_kqueue.\n\n\t* src/inotify.c (inotifyevent_to_event): Extract file name from\n\twatch_object if the event doesn't provide it.\n\t(Finotify_add_watch): Add file name to watch_object.\n\n\t* src/keyboard.c (make_lispy_event): Check also for HAVE_KQUEUE.\n\n\t* src/kqueue.c: New file.\n\n\t* src/lisp.h: Declare extern globals_of_kqueue and syms_of_kqueue.\n\n\t* test/automated/file-notify-tests.el\n\t(file-notify--test-expected-events): Remove.\n\t(file-notify--test-cleanup): Do not set that variable.\n\t(file-notify--test-timeout) Use different timeouts for\n\tdifferent libraries.\n\t(file-notify--test-library): New defun.\n\t(file-notify--test-event-test): Make stronger checks.\n\t(file-notify--test-with-events): EVENTS can also be a list of\n\tlists.  Flush outstanding events before running the body.\n\tMake timeout heuristically depend on the number of events.\n\t(file-notify-test01-add-watch, file-notify-test02-events)\n\t(file-notify-test04-file-validity, file-notify-test05-dir-validity):\n\tRewrite in order to call file monitors but directory monitors.\n\t(file-notify-test02-events, file-notify-test04-file-validity): Do\n\tnot skip cygwin tests.  Add additional test for file creation.\n\tAdapt expected result for different backends.\n\t(file-notify-test03-autorevert): Some of the tests don't work for\n\tw32notify.\n\t(file-notify-test06-many-events): New test.\n\n2016-01-22  John Wiegley  <johnw@newartisans.com>\n\n\tFurther corrections to the pcase docstring\n\n2016-01-22  Eli Zaretskii  <eliz@gnu.org>\n\n\t* doc/emacs/anti.texi (Antinews): Rewrite for Emacs 25.\n\n2016-01-22  Stephen Leake  <stephen_leake@stephe-leake.org>\n\n\tIn xref-collect-references, force backends to respect the 'dir' arg\n\n\t* lisp/progmodes/xref.el (xref-collect-references): Force symref backends\n\tto use `default-directory'.\n\n2016-01-22  John Wiegley  <johnw@newartisans.com>\n\n\tMinor correction to pcase docstring\n\n2016-01-22  John Wiegley  <johnw@newartisans.com>\n\n\tWrite a new docstring for the pcase macro\n\n\t* lisp/emacs-lisp/pcase.el (pcase): Write a new docstring.\n\n2016-01-21  Stephen Berman  <stephen.berman@gmx.net>\n\n\tAvoid byte-compiler warning in todo-mode (bug#21953)\n\n\t* lisp/calendar/todo-mode.el (todo-convert-legacy-files): Add limit argument\n\tto looking-back to comply with advertised-calling-convention.\n\n2016-01-21  Stephen Berman  <stephen.berman@gmx.net>\n\n\tFix desktop support in todo-mode and doc-view (bug#22377)\n\n\t* lisp/calendar/todo-mode.el (todo-restore-desktop-buffer):\n\t* lisp/doc-view.el (doc-view-restore-desktop-buffer): Return current buffer.\n\n\t* lisp/calendar/todo-mode.el (todo-modes-set-2):\n\t* lisp/doc-view.el (doc-view-mode): Set desktop-save-buffer unconditionally.\n\n2016-01-21  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tNo need to configure gobject-introspection\n\n\tIt wasn\u2019t needed for the recently-installed xwidget_mvp code; see:\n\thttp://lists.gnu.org/archive/html/emacs-devel/2016-01/msg01154.html\n\t* configure.ac (DOES_XWIDGETS_USE_GIR, GIR_REQUIRED, GIR_MODULES):\n\t(HAVE_GIR):\n\t* src/Makefile.in (GIR_LIBS, GIR_CFLAGS):\n\tRemove.  All uses removed.\n\t* configure.ac (emacs_config_features): Don\u2019t worry about GIR.\n\n2016-01-20  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDon\u2019t export C symbols not used elsewhere\n\n\tThese were recently added, mostly as part of xwidget code.\n\t* src/emacsgtkfixed.c (emacs_fixed_get_type): Now static.\n\t(EMACS_FIXED, EMACS_FIXED_GET_CLASS):\n\tNow static functions here, not macros in emacsgtkfixed.h.\n\t* src/emacsgtkfixed.h (EMACS_TYPE_FIXED):\n\tRemove.  All uses replaced by definiens.\n\t(EMACS_FIXED, EMACS_FIXED_GET_CLASS):\n\tRemove; these are now static functions in emacsgtkfixed.c.\n\t(EMACS_FIXED_CLASS, EMACS_IS_FIXED, EMACS_IS_FIXED_CLASS):\n\tRemove; unused.\n\t(emacs_fixed_get_type): Remove decl; no longer extern.\n\t* src/xwidget.c (offscreen_damage_event)\n\t(webkit_mime_type_policy_typedecision_requested_cb)\n\t(webkit_new_window_policy_decision_requested_cb)\n\t(webkit_navigation_policy_decision_requested_cb)\n\t(xwidget_spec_value, xwidget_view_lookup)\n\t(xwidget_start_redisplay, xwidget_touch):\n\tNow static.\n\t* src/xwidget.h (xwidget_start_redisplay, xwidget_touch):\n\tRemove decls.\n\n2016-01-20  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tSupport squiggly heredocs in ruby-mode\n\n\t* lisp/progmodes/ruby-mode.el (ruby-here-doc-beg-re):\n\tSupport squiggly heredocs added in Ruby 2.3.\n\n\t* test/indent/ruby.rb: Add squiggly example.\n\n2016-01-20  Glenn Morris  <rgm@gnu.org>\n\n\t* configure.ac (emacs_config_features): Remove WEBKIT.\n\n2016-01-20  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort to platforms with gtk3 but not webkitgtk3\n\n\tI ran into this problem on my Fedora 23 installation;\n\tEmacs configured but did not build when --with-xwidgets was specified.\n\t* configure.ac (HAVE_WEBKIT, HAVE_GIR): Omit unnecessary initializations.\n\t(DOES_XWIDGETS_USE_GIR): New var.\n\tIf --with-xwidgets is specified, report an error if not\n\tdoable, to be consistent with the other --with options.\n\tRequire webkitgtk3 to use Xwidgets, as the Xwidgets code does\n\tnot work at all without webkitgtk3.  Simplify use of\n\tEMACS_CHECK_MODULES.  Output message about gobject\n\tintrospection only if xwidgets are used.\n\t* etc/NEWS: Users need webkitgtk3, not merely webkit.\n\t* src/xwidget.c (syms_of_xwidget): Don\u2019t worry about HAVE_WEBKIT_OSR,\n\tsince this file is no longer compiled if webkitgtk3 is not available.\n\n2016-01-20  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix doc string of 'isearch-search-fun-function'\n\n\t* lisp/isearch.el (isearch-search-fun-function)\n\t(isearch-search-string): Doc fixes.  (Bug#22411)\n\n2016-01-20  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/xwidget.el: Nitpicks\n\n\t* lisp/xwidget.el (xwidget-log, xwidget-webkit-callback):\n\tUse with-current-buffer rather than save-excursion + set-buffer.\n\n2016-01-20  Glenn Morris  <rgm@gnu.org>\n\n\tDon't hard-code 1 as point-min.\n\n\t* lisp/image-mode.el (image-display-size):\n\t* lisp/xwidget.el (xwidget-webkit-last-session)\n\t(xwidget-webkit-current-session): Don't hard-code 1 as point-min.\n\n2016-01-20  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/xwidget.el: Add declarations to silence non-xwidget compilation.\n\n2016-01-20  Glenn Morris  <rgm@gnu.org>\n\n\tTrivial doc copyedits.\n\n\t* src/xwidget.c (Fmake_xwidget, Fget_buffer_xwidgets)\n\t(Fxwidget_webkit_get_title, Fxwidget_resize)\n\t(Fxwidget_set_adjustment, Fxwidgetp, Fxwidget_view_p)\n\t(Fxwidget_info, Fxwidget_view_lookup)\n\t(Fset_xwidget_query_on_exit_flag): Trivial doc copyedits.\n\n2016-01-20  Glenn Morris  <rgm@gnu.org>\n\n\tAvoid advising image-display-size for xwidgets.\n\n\t* lisp/xwidget.el (xwidget-image-display-size): Remove.\n\t(image-display-size): Remove advice.\n\t* lisp/image-mode.el (xwidget-info, xwidget-at): Declare.\n\t(image-display-size): Incorporate xwidget code directly.\n\n2016-01-20  Glenn Morris  <rgm@gnu.org>\n\n\tAvoid breaking non-xwidget Emacs that happen to load xwidget.el.\n\n\t* lisp/xwidget.el (window-configuration-change-hook)\n\t(kill-buffer-query-functions): Only modify these hooks if\n\tcompiled with xwidget support.\n\n2016-01-20  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/xwidget.el (xwidget-webkit-scroll-behaviour): Fix custom spec.\n\n2016-01-19  Glenn Morris  <rgm@gnu.org>\n\n\t* configure.ac (WEBKIT, GIR, CAIRO): Use EMACS_CHECK_MODULES, not PKG_.\n\n\t* configure.ac (emacs_config_features): Add XWIDGETS, WEBKIT, GIR.\n\n\t* configure.ac (HAVE_WEBKIT_OSR): Remove broken, duplicated gtk3 test.\n\n2016-01-19  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\t* lisp/gnus/nnir.el (nnir-request-update-mark):\n\tDefault to the original mark.\n\tcf. <http://thread.gmane.org/gmane.emacs.gnus.general/86583>\n\tand <http://thread.gmane.org/gmane.emacs.gnus.general/86640>\n\n2016-01-19  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/xwidget.el (report-xwidget-bug): Remove.\n\n\t(top-level): No longer require reporter.\n\n2016-01-19  Joakim Verona  <joakim@verona.se>\n\t    Gr\u00e9goire Jadi  <daimrod@gmail.com>\n\n\tSupport for the new Xwidget feature.\n\n\t* configure.ac:\n\t(HAVE_XWIDGETS, WIDGET_OBJ, EMACS_CONFIG_FEATURES):\n\t* src/xterm.c (x_draw_glyph_string, x_draw_bar_cursor):\n\t* src/xdisp.c:\n\t(handle_display_spec, handle_single_display_spec, push_it)\n\t(pop_it, set_iterator_to_next, dump_glyph)\n\t(calc_pixel_width_or_height, fill_xwidget_glyph_string)\n\t(BUILD_XWIDGET_GLYPH_STRING, BUILD_GLYPH_STRINGS)\n\t(produce_xwidget_glyph, x_produce_glyphs)\n\t(get_window_cursor_type):\n\t* src/window.c (Fdelete_window_internal):\n\t* src/termhooks.h (e):\n\t* src/print.c (print_object):\n\t* src/lisp.h (ptrdiff_t):\n\t* src/keyboard.c (kbd_buffer_get_event, make_lispy_event)\n\t(syms_of_keyboard):\n\t* src/emacs.c (main):\n\t* src/dispnew.c (update_window, scrolling_window):\n\t* src/dispextern.h (g, i):\n\t* Makefile.in (XWIDGETS_OBJ, WEBKIT_CFLAGS, WEBKIT_LIBS)\n\t(GIR_LIBS, ALL_CFLAGS, base_obj, LIBES):\n\t* src/keyboard.c (kbd_buffer_get_event):\n\t* src/emacsgtkfixed.c (emacs_fixed_gtk_widget_size_allocate)\n\t(emacs_fixed_class_init): Add case for an xwidget view.\n\n\t* src/xwidget.c, src/xwidget.h, lisp/xwidget.el: New files for xwidgets\n\n\n\tVarious improvements to the Xwidget feature.\n\t* src/xwidget.c:\n\t* src/emacsgtkfixed.c:\n\t* lisp/xwidget.el:\n\n2016-01-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of 'alist-get'\n\n\t* doc/lispref/variables.texi (Setting Generalized Variables): Add\n\t'alist-get' to the list of functions that can appear in PLACE\n\targument of 'setf'.\n\n2016-01-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tMinor copyedits of doc/emacs/maintaining.texi\n\n\t* doc/emacs/maintaining.texi (List Identifiers): More accurate\n\tdescription of \"C-M-i\" wrt tags tables.\n\t(Tags Tables): Move the definition of \"tag\" to a footnote.\n\n2016-01-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tUnbreak the Cygwin-w32 build\n\n\t* src/w32fns.c (globals_of_w32fns): Move the initialization of\n\tresetstkoflw into a part that isn't compiled on Cygwin.\n\t(Bug#22403)\n\n2016-01-19  Lars Magne Ingebrigtsen  <larsi@gnus.org>\n\n\t* shr.el (shr-table-body): Allow tables to have text children.\n\n2016-01-19  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\tCope with multiple overlapping faces.\n\n\t* lisp/htmlfontify.el (hfy-face-to-style-i): Treat inheritance right to\n\t  left.\n\t  (hfy-face-resolve-face): Handle font specification as well as font\n\t  name. Documentation update. (Bug#21990)\n\n2016-01-19  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix spurious escapes in describe-input-method\n\n\tProblem reported by Vincent Bela\u00efche (Bug#22309).\n\t* lisp/international/mule-cmds.el (describe-language-environment):\n\t* lisp/international/quail.el (quail-help):\n\tApply substitute-command-keys to doc strings before displaying them.\n\n2016-01-19  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMinor improvements to (random t) documentation\n\n\t* doc/lispref/numbers.texi (Random Numbers):\n\t* src/fns.c (Frandom):\n\tOmit unnecessary details about randomness fallback.\n\tSay that it is a fallback.\n\n2016-01-19  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tRename methods in Ruby etags example file\n\n\t* test/etags/ruby-src/test.rb: Rename the example methods to\n\tcorrespond to the common terminology used in Ruby.\n\t* test/etags/CTAGS.good:\n\t* test/etags/ETAGS.good_1:\n\t* test/etags/ETAGS.good_2:\n\t* test/etags/ETAGS.good_3:\n\t* test/etags/ETAGS.good_4:\n\t* test/etags/ETAGS.good_5:\n\t* test/etags/ETAGS.good_6: Adjust accordingly.\n\n2016-01-19  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tPropertize backtick in 'def `(abc)' as symbol constituent\n\n\t* lisp/progmodes/ruby-mode.el (ruby-syntax-propertize):\n\tPropertize backtick in 'def `(abc)' as symbol constituent.\n\t(ruby-syntax-propertize-function):\n\tRename to ruby-syntax-propertize.\n\n2016-01-18  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix scrolling under scroll-preserve-screen-position on TTY\n\n\t* src/window.c (window_scroll_line_based): When setting point to\n\tpreserve screen coordinates, don't let cursor enter either of the\n\ttwo scroll margins.  (Bug#22395)\n\n2016-01-18  Lars Magne Ingebrigtsen  <larsi@gnus.org>\n\n\tFix shr table rendering of nested tables\n\n\t* shr.el (shr-table-body): Don't include all tbodies in nested\n\ttables in the levels above.\n\n2016-01-18  Dmitry Gutov  <dgutov@yandex.ru>\n\n\t* lisp/progmodes/project.el (project--read-regexp): Quote the identifier.\n\n2016-01-18  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tAdd xref-based replacements for Dired search commands\n\n\t* lisp/dired-aux.el (dired-do-find-regexp)\n\t(dired-do-find-regexp-and-replace): New commands.\n\thttp://lists.gnu.org/archive/html/emacs-devel/2016-01/msg00864.html\n\n\t* lisp/dired.el (dired-mode-map): Change bindings for `A' and\n\t`Q' to the new commands.\n\n\t* lisp/progmodes/xref.el (xref-query-replace)\n\t(xref-collect-matches): Add progress reporters.\n\t(xref--find-ignores-arguments): Return nil for zero ignores.\n\t(xref--show-xrefs): Add an optional argument.\n\t(xref-collect-matches): Drop the assert.  'find' accepts a\n\tregular file in place of directory argument, too.\n\n2016-01-18  Alan Mackenzie  <acm@muc.de>\n\n\t* doc/lispref/frames.texi (Position Parameters): Say they don't exist on TTYs.\n\n2016-01-18  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove user documentation of Xref\n\n\t* doc/emacs/maintaining.texi (Xref, Find Identifiers)\n\t(Looking Up Identifiers, Identifier Search, List Identifiers):\n\tAdjudicate comments by Dmitry Gutov <dgutov@yandex.ru>.  See\n\thttp://lists.gnu.org/archive/html/emacs-devel/2016-01/msg00650.html\n\tfor the details.\n\n2016-01-18  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix scrolling under scroll-preserve-screen-position and margins\n\n\t* src/window.c (window_scroll_pixel_based): When setting point to\n\tpreserve screen coordinates, don't let cursor enter either of the\n\ttwo scroll margins.  Fix incorrect usage of\n\tWINDOW_WANTS_HEADER_LINE_P and use WINDOW_HEADER_LINE_HEIGHT\n\tinstead of CURRENT_HEADER_LINE_HEIGHT.  (Bug#22395)\n\n2016-01-18  Eli Zaretskii  <eliz@gnu.org>\n\n\tUnbreak the MS-Windows build\n\n\t* src/sysdep.c (emacs_gnutls_global_init, gnutls_rnd): Disable for\n\tWINDOWSNT, to avoid link failure.  (Bug#22202)\n\n2016-01-18  Alan Mackenzie  <acm@muc.de>\n\n\tDesktop: protect users against inadvertant upgrading of desktop file.\n\n\tAn upgraded (version 208) desktop file cannot be read in Emacs < 25.\n\n\t* etc/NEWS: Add an entry about upgrading a desktop file.\n\n\t* lisp/desktop.el (desktop-file-version): Amend doc string.\n\t(desktop-native-file-version, desktop-io-file-version): new variables.\n\t(desktop-clear): Set desktop-io-file-version to nil.\n\t(desktop-buffer-info): make the presence of the last item on the list\n\tconditional on (>= desktop-io-file-version 208).\n\t(desktop-save): Add extra parameter VERSION to take user's C-u or C-u C-u.\n\tAmend the doc string.  Add code to determine the output file version.\n\t(desktop-create-buffer): Set desktop-io-file-version to the input file's\n\tversion.\n\n2016-01-18  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tInitialize GnuTLS before calling gnutls_rnd\n\n\t* src/gnutls.c (emacs_gnutls_global_init): Now extern.\n\tDon\u2019t set gnutls_global_initialized if gnutls_global_init fails.\n\t* src/sysdep.c: Include \"gnutls.h\", and <gnutls/crypto.h>\n\tif 2.12 or later, which has gnutls_rnd.\n\t(emacs_gnutls_global_init, gnutls_rnd): New fallback\n\tplaceholder macros if before 2.12.\n\t(init_random): Initialize gnutls globals before trying to\n\tuse gnutls_rnd.\n\n2016-01-18  Andreas Schwab  <schwab@linux-m68k.org>\n\n\tDon't use GnuTLS before it is initialized\n\n\t\t* src/sysdep.c (init_random): Don't use gnutls_rnd.\n\n2016-01-17  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort cleanup attribute to OpenBSD\n\n\tThe OpenBSD C compiler issues false alarms about strcpy, strcat, and\n\tsprintf, and this messes up 'configure' when it tests for the cleanup\n\tattribute.  Work around the problem by using __has_attribute directly.\n\tProblem reported by Joakim Jalap (Bug#22385).\n\t* configure.ac: Don\u2019t use AX_GCC_VAR_ATTRIBUTE.\n\t* m4/ax_gcc_var_attribute.m4: Remove.\n\t* src/conf_post.h (__has_attribute): Provide a substitute, for\n\tnon-GCC or older GCC compilers.  All uses changed to assume\n\tthe substitute.  Check for the cleanup attribute.\n\t* src/emacs-module.c (module_has_cleanup): Just use __has_attribute.\n\n2016-01-17  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPrefer GnuTLS when acquiring random seed\n\n\tThis attempts to improve on the fix for Bug#22202.\n\t* configure.ac (HAVE_DEV_URANDOM): Remove.\n\tCheck /dev/urandom existence at run time, not at build time,\n\tsince the device could exist in the former but not the latter.\n\t* src/sysdep.c [HAVE_GNUTLS]: Include gnutls/gnutls.h.\n\t(gnutls_rnd) [GNUTLS_VERSION_NUMBER < 0x020c00]: New fallback macro.\n\t(random_seed): New typedef.\n\t(set_random_seed): New static function.\n\t(seed_random): Use them.\n\t(init_random): Use random_seed instead of uintmax_t, so as to\n\tnot consume more entropy than needed.  Prefer gnutls_rnd if it\n\tworks; this avoids a redundant open of /dev/urandom on\n\tGNU/Linux with modern GnuTLS.\n\n2016-01-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of dynamic modules\n\n\t* doc/lispref/loading.texi (How Programs Do Loading): Update the\n\tdescription of searching for files in 'load' when Emacs was built\n\twith support for dynamic modules.\n\n2016-01-16  Eli Zaretskii  <eliz@gnu.org>\n\n\t* INSTALL: Document --with-modules.\n\n2016-01-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument 'function-put'\n\n\t* doc/lispref/symbols.texi (Symbol Plists): Document\n\t'function-put'.  Update documentation of 'function-get'.\n\n2016-01-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument 'funcall-interactively'\n\n\t* doc/lispref/commands.texi (Interactive Call): Document\n\t'funcall-interactively'.\n\t* doc/lispref/functions.texi (Calling Functions): Mention\n\t'funcall-interactively' and provide a cross-reference.\n\n2016-01-16  Eli Zaretskii  <eliz@gnu.org>\n\n\t* doc/lispref/lists.texi (Association Lists): Document 'alist-get'.\n\n\t* doc/lispref/strings.texi (Text Comparison): Document 'string-greaterp'.\n\n2016-01-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument renaming of selection-related functions\n\n\t* doc/lispref/frames.texi (Window System Selections): Rename \"x-*\"\n\tfunctions into the corresponding \"gui-*\" functions.  Make the\n\tdescription slightly less X-centric.\n\n2016-01-16  Eli Zaretskii  <eliz@gnu.org>\n\n\t* doc/lispref/macros.texi (Expansion): Document 'macroexpand-1'.\n\n2016-01-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument 'define-inline'\n\n\t* doc/lispref/functions.texi (Defining Functions): Document\n\t'define-inline' and related macros.\n\n\t* lisp/emacs-lisp/inline.el (inline-letevals): Doc fix.\n\n2016-01-16  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/files.el (dir-locals--all-files): Respect absolute file-names\n\n\t* lisp/help-fns.el (describe-variable): Fix a left-over parenthesis\n\n2016-01-16  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/dired-x.el (dired-omit-here-always): Use add-dir-local-variable\n\n\tinstead of manually writing a dir-locals file.\n\n2016-01-16  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/files.el (dir-locals--all-files): Use completion instead of wildcards\n\n\t(dir-locals-file)\n\t* lisp/files-x.el (modify-dir-local-variable)\n\t* lisp/dos-fns.el (dosified-file-name)\n\t* lisp/help-fns.el (describe-variable): Change accordingly.\n\n2016-01-16  Jussi Lahdenniemi  <jussi@aprikoodi.fi>  (tiny change)\n\n\tFix incompatbilities with MS-Windows 2000 and older\n\n\t* src/w32.c <multiByteToWideCharFlags>: New global variable.\n\t(filename_to_utf16, filename_from_ansi, check_windows_init_file):\n\tUse it instead of the literal MB_ERR_INVALID_CHARS.\n\t(maybe_load_unicows_dll): Initialize multiByteToWideCharFlags as\n\tappropriate for the underlying OS version.  For details, see\n\thttp://lists.gnu.org/archive/html/emacs-devel/2016-01/msg00835.html.\n\t* src/w32.h: Declare multiByteToWideCharFlags.\n\t* src/w32fns.c (Fx_file_dialog, Fw32_shell_execute)\n\t(add_tray_notification): Use multiByteToWideCharFlags instead of\n\tthe literal MB_ERR_INVALID_CHARS.\n\t(_resetstkoflw_proc): New typedef.\n\t(w32_reset_stack_overflow_guard): Call _resetstkoflw via a\n\tpointer, as this function is absent in msvcrt.dll shipped with W2K\n\tand older systems.\n\n2016-01-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tMention in PROBLEMS an issue with MS-Windows NT4\n\n\t* etc/PROBLEMS (MS-Windows): Mention the problem with Shell32.dll\n\ton Windows NT4.  For the details, see\n\thttp://lists.gnu.org/archive/html/emacs-devel/2016-01/msg00835.html.\n\n2016-01-16  Jussi Lahdenniemi  <jussi@aprikoodi.fi>  (tiny change)\n\n\tEnsure 8-byte aligned memory allocation on MS-Windows 9X\n\n\t* src/w32heap.c (init_heap): Redirect malloc, realloc, and free to\n\tspecial functions on Windows 9X.  Refuse to dump Emacs on Windows 9X.\n\t(malloc_after_dump_9x, realloc_after_dump_9x)\n\t(free_after_dump_9x): New functions.  (Bug#22379)  See also\n\thttp://lists.gnu.org/archive/html/emacs-devel/2016-01/msg00852.html\n\tfor more details about the original problem.\n\n\t* nt/inc/ms-w32.h (malloc_after_dump_9x, realloc_after_dump_9x)\n\t(free_after_dump_9x): Add prototypes.\n\n2016-01-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix tests for active region in hideif.el\n\n\t* lisp/progmodes/hideif.el (hif-evaluate-macro, hide-ifdef-block): Use\n\t'use-region-p' to test whether to operate on region, instead of\n\ttesting 'mark-active'.\n\n2016-01-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix interactive specs in some hideif.el commands\n\n\t* lisp/progmodes/hideif.el (hif-evaluate-macro)\n\t(hide-ifdef-undef, show-ifdef-block): Don't use '(interactive \"r\")'\n\tin commands that should only act on the region if it's active.\n\n2016-01-15  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\tMerge branch 'emacs-25' of git.sv.gnu.org:/srv/git/emacs into emacs-25\n\n2016-01-15  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\tEnable test selector from command line\n\n\t* test/automated/Makefile.in: Change variable manipulation to avoid\n\t  over-writing selector.\n\n2016-01-15  Alan Mackenzie  <acm@muc.de>\n\n\tDon't confuse \"::\" with \":\" when trying to parse member initializers.\n\n\t* lisp/progmodes/cc-engine.el (c-back-over-member-initializers): Check\n\tmore robustly for \":\" token when searching backwards for it.\n\n\t* lisp/progmodes/cc-langs.el (c-:$-multichar-token-regexp): New language\n\tvariable.\n\n2016-01-15  Eli Zaretskii  <eliz@gnu.org>\n\n\tEnsure positive number of glyphs for margins of positive width\n\n\t* src/dispnew.c (margin_glyphs_to_reserve): Always return a\n\tpositive value when a non-zero width of the marginal area was\n\trequested.  (Bug#22356)\n\n2016-01-15  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix crashes when mini-window has non-zero margins\n\n\t* src/window.c (resize_frame_windows): Use 'new_size' to set\n\tminibuffer window's 'total_cols' value, as 'size' might be in\n\tpixels.  (Bug#22356)\n\n2016-01-15  Alan Mackenzie  <acm@muc.de>\n\n\tIn comment-dwim with style `extra-line', respect indent-tabs-mode.\n\n\tThis fixes bug #22369.\n\n\t* lisp/newcomment.el (comment-make-bol-ws): New function.\n\t(comment-make-extra-lines): Use new function instead of a crude `make-string'.\n\n2016-01-15  Eli Zaretskii  <eliz@gnu.org>\n\n\tMake 'random' seeds cryptographically secure if possible\n\n\t* configure.ac: Check for \"/dev/urandom\".\n\n\t* src/sysdep.c (init_random) [HAVE_DEV_URANDOM]: Read the stream\n\tfor the seed from \"/dev/urandom\".\n\t[WINDOWSNT]: Obtain the stream for the seed from w32 APIs.\n\t* src/fns.c (Frandom): Update the doc string to indicate that\n\tsystem entropy is used when available.\n\t* src/w32.c: Include wincrypt.h.\n\t(w32_init_crypt_random, w32_init_random): New functions, use the\n\tCryptGenRandom API.\n\t(globals_of_w32): Initialize w32_crypto_hprov handle to zero.\n\t* src/w32.h (w32_init_random): Add prototype.\n\n\t* doc/lispref/numbers.texi (Random Numbers): Document more details\n\tabout 't' as the argument to 'random'.\n\n\t* etc/NEWS: Mention that '(random t)' now uses a cryptographically\n\tstrong seed if possible.\n\n\t(Bug#22202)\n\n2016-01-15  Eli Zaretskii  <eliz@gnu.org>\n\n\tUnhide the --no-line-directive option to 'etags'\n\n\t* lib-src/etags.c (print_help): Un-undocument the --no-line-directive\n\toption.  (Bug#22306)\n\n\t* doc/man/etags.1: Document the --no-line-directive option.\n\n2016-01-15  Alan J Third  <alan@idiocy.org>  (tiny change)\n\n\tFix picture-mode wrt double-width characters\n\n\t* lisp/textmodes/picture.el (picture-insert): Check the width of\n\tthe character being replaced, not just that of the replacement.\n\t(Bug#1808)\n\n2016-01-15  Eric Abrahamsen  <eric@ericabrahamsen.net>\n\n\tHonor docstring of gnus-group-get-new-news\n\n\t* lisp/gnus/gnus-start.el (gnus-get-unread-articles): If the prefix arg is t,\n\tbut non-numeric, unconditionally consider all groups to need updating.\n\n2016-01-14  Simen Heggest\u00f8yl  <simenheg@gmail.com>\n\n\tDisallow parenthesis in non-pseudo CSS selectors\n\n\t* lisp/textmodes/css-mode.el (css--font-lock-keywords): Disallow\n\tparenthesis in selectors except for in the function notation that\n\tmight appear right after a pseudo-class.\n\t* test/indent/scss-mode.scss: Add a test for it.\n\n2016-01-14  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\t* lisp/gnus/nntp.el (nntp-request-newgroups): Simplify\n\n2016-01-14  Michael Albinus  <michael.albinus@gmx.de>\n\n\tcheck-maybe shall run only default tests\n\n\t* test/automated/Makefile.in (check, check-expensive): Depend on\n\tmostlyclean.\n\t(check-maybe): Re-run only default tests.\n\t(check-doit): Use code of check-maybe.\n\t(mostlyclean): Move *.log files away.\n\n2016-01-14  Mark Oteiza  <mvoteiza@udel.edu>\n\n\t* lisp/thingatpt.el (thing-at-point-uri-schemes): Add \"magnet:\"\n\n2016-01-14  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tUn-obsolete tags-loop-continue\n\n\t* lisp/progmodes/etags.el (tags-loop-continue): Un-obsolete.\n\thttp://lists.gnu.org/archive/html/emacs-devel/2016-01/msg00682.html\n\n2016-01-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument obsoletion of 'intangible' and 'point-entered/left'\n\n\t* doc/lispref/text.texi (Special Properties): Document the new\n\tproperties 'cursor-intangible' and 'cursor-sensor-functions'.\n\tDocument the obsolete status of 'intangible', 'pointer-left',\n\tand 'point-entered' properties, and of 'inhibit-point-motion-hooks'.\n\t* doc/lispref/display.texi (Overlay Properties): Document that\n\t'intangible' overlay property is obsolete.\n\n\t* lisp/emacs-lisp/cursor-sensor.el (cursor-sensor-mode): Doc fix.\n\n2016-01-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tUpdater documentation of 'looking-back'\n\n\t* doc/lispref/searching.texi (Regexp Search): Update documentation\n\tof 'looking-back'.  Fix markup.\n\n2016-01-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument 'pre-redisplay-functions'\n\n\t* doc/lispref/hooks.texi (Standard Hooks):\n\t* doc/lispref/display.texi (Forcing Redisplay): Document\n\t'pre-redisplay-functions'.\n\n2016-01-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument the new deafault value of 'load-read-function'\n\n\t* doc/lispref/loading.texi (How Programs Do Loading): Document the\n\tchange in the default value of 'load-read-function'.\n\n2016-01-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument 'bufferpos-to-filepos' and 'filepos-to-bufferpos'\n\n\t* doc/lispref/nonascii.texi (Text Representations): Document\n\t'bufferpos-to-filepos' and 'filepos-to-bufferpos'.\n\n2016-01-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument the new prefix-command hooks\n\n\t* doc/lispref/hooks.texi (Standard Hooks): Document\n\t`prefix-command-echo-keystrokes-functions' and\n\t`prefix-command-preserve-state-hook'.\n\n2016-01-13  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix one more misuse of time-stamp-time-zone\n\n\t* test/etags/html-src/softwarelibero.html: Use \"UTC0\" rather\n\tthan the unportable \"GMT\" for time zone.\n\n2016-01-13  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix NNTP NEWGROUPS off-by-a-few-hours bug\n\n\t* lisp/gnus/nntp.el (nntp-request-newgroups): Format string\n\tin Universal Time, since we\u2019re telling the server \u201cGMT\u201d.\n\n2016-01-13  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tUpdate publicsuffix.txt from upstream\n\n\t* etc/publicsuffix.txt: Update from\n\thttps://publicsuffix.org/list/effective_tld_names.dat\n\tdated 2016-01-12 11:52:01 UTC.\n\n2016-01-13  Glenn Morris  <rgm@gnu.org>\n\n\tFix some declarations.\n\n\t* lisp/descr-text.el (internal-char-font):\n\t* lisp/cedet/mode-local.el (xref-item-location):\n\t* lisp/gnus/mml-smime.el (epg-key-sub-key-list)\n\t(epg-sub-key-capability, epg-sub-key-validity):\n\t* lisp/international/mule-util.el (internal-char-font):\n\tFix declarations.\n\n2016-01-13  Glenn Morris  <rgm@gnu.org>\n\n\tFix some custom types.\n\n\t* lisp/gnus/gnus-fun.el (gnus-x-face-omit-files, gnus-face-omit-files):\n\t* lisp/gnus/gnus.el (gnus-valid-select-methods):\n\t* lisp/mail/rmail.el (rmail-get-coding-function):\n\t* lisp/net/newst-treeview.el (newsticker-groups-filename):\n\t* lisp/progmodes/hideif.el (hide-ifdef-exclude-define-regexp):\n\t* lisp/textmodes/tildify.el (tildify-space-predicates):\n\t* lisp/url/url-tramp.el (url-tramp-protocols):\n\tFix custom types.\n\n2016-01-13  Glenn Morris  <rgm@gnu.org>\n\n\tAdd some missing version tags.\n\n\t* lisp/electric.el (electric-quote-comment)\n\t(electric-quote-string, electric-quote-paragraph):\n\t* lisp/epg-config.el (epg-gpgconf-program):\n\t* lisp/rect.el (rectangle-preview):\n\t* lisp/emacs-lisp/check-declare.el (check-declare-ext-errors):\n\t* lisp/emacs-lisp/package.el (package-selected-packages)\n\t(package-hidden-regexps):\n\t* lisp/erc/erc.el (erc-network-hide-list, erc-channel-hide-list):\n\t* lisp/eshell/em-term.el (eshell-destroy-buffer-when-process-dies):\n\t* lisp/gnus/mml-sec.el (mml1991-signers, mml2015-signers)\n\t(mml-smime-signers, mml1991-encrypt-to-self, mml2015-encrypt-to-self)\n\t(mml-smime-encrypt-to-self, mml2015-sign-with-sender)\n\t(mml-smime-sign-with-sender, mml2015-always-trust)\n\t(mml-secure-fail-when-key-problem, mml-secure-key-preferences):\n\t* lisp/net/browse-url.el (browse-url-conkeror-new-window-is-buffer)\n\t(browse-url-conkeror-arguments):\n\t* lisp/net/newst-reader.el (newsticker-download-logos):\n\t* lisp/progmodes/gud.el (gud-guiler-command-name):\n\t* lisp/progmodes/prog-mode.el (prettify-symbols-unprettify-at-point):\n\t* lisp/progmodes/project.el (project-vc):\n\t* lisp/progmodes/python.el (python-indent-guess-indent-offset-verbose)\n\t(python-shell-remote-exec-path, python-shell-first-prompt-hook)\n\t(python-shell-completion-native-disabled-interpreters)\n\t(python-shell-completion-native-enable)\n\t(python-shell-completion-native-output-timeout)\n\t(python-shell-completion-native-try-output-timeout):\n\t* lisp/progmodes/xref.el (xref):\n\t* lisp/term/screen.el (xterm-screen-extra-capabilities):\n\t* lisp/term/xterm.el (xterm-max-cut-length):\n\tAdd missing version tags.\n\n2016-01-13  Glenn Morris  <rgm@gnu.org>\n\n\t* test/automated/core-elisp-tests.el\n\t(core-elisp-tests-1-defvar-in-let): Add a custom type.\n\n2016-01-13  Glenn Morris  <rgm@gnu.org>\n\n\t* src/buffer.c (syms_of_buffer) <major-mode>: Doc fix.\n\n\tRemove comments that do not apply since 2005-08-09.  (Bug#22349)\n\n2016-01-12  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from gnulib\n\n\tThis mostly just changes \"UTC\" to \"UTC0\" for POSIX conformance.\n\tIt also updates to the latest version of texinfo.tex.\n\t* build-aux/gitlog-to-changelog, build-aux/move-if-change:\n\t* build-aux/update-copyright, doc/misc/texinfo.tex:\n\tUpdate from gnulib.\n\n2016-01-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tUpdate documentation of 'process-running-child-p'\n\n\t* doc/lispref/processes.texi (Input to Processes): Document the\n\tchanges in return value of 'process-running-child-p'.\n\n2016-01-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tUpdate documentation of 'deactivate-mark'.\n\n\t* doc/lispref/markers.texi (The Mark): Document that\n\t'deactivate-mark' is now buffer-local when set.\n\n2016-01-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tUpdate documentation of 'completion-table-dynamic'\n\n\t* doc/lispref/minibuf.texi (Programmed Completion): Document the\n\tnew optional argument to 'completion-table-dynamic'.\n\n2016-01-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument changes in 'read-buffer' and 'read-buffer-function'\n\n\t* doc/lispref/minibuf.texi (High-Level Completion): Document the\n\t4th argument to 'read-buffer' and 'read-buffer-function'.\n\n2016-01-12  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix time-stamp-time-zone bugs introduced in July\n\n\tThis fixes a bug introduced when the July changes to\n\tformat-time-string installed, as the changes were not\n\tcorrectly handled in this module (Bug#22302).\n\tAlso, document time stamp time zones.\n\t* lisp/time-stamp.el (time-stamp-time-zone): Document values better.\n\t(time-stamp--format): New private function.\n\t(time-stamp-string, time-stamp-string-preprocess)\n\t(time-stamp-do-number): Use it.\n\t* doc/emacs/files.texi (Time Stamps): Mention time zones.\n\t* doc/misc/autotype.texi (Timestamps): Document time-stamp-time-zone.\n\n2016-01-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tMake piping to subprocesses more robust on MS-Windows\n\n\t* src/w32.c (sys_write): Don't write to a pipe more stuff than its\n\tbuffer can hold.  Don't return -1 if something has been written to\n\tthe pipe.  Zero out 'errno' before calling '_write', to avoid\n\treturning a stale value.  (Bug#22344)\n\t* src/w32proc.c (syms_of_ntproc) <w32-pipe-buffer-size>: New variable.\n\t* src/w32.c (pipe2): Use it to request a user-defined size for the\n\tpipe being created.\n\n\t* etc/NEWS: Mention 'w32-pipe-buffer-size'.\n\n\t* doc/emacs/msdos.texi (Windows Processes): Document\n\t'w32-pipe-buffer-size'.\n\n2016-01-11  Dmitry Gutov  <dgutov@yandex.ru>\n\n\ttest/automated/vc-hg.el: Support out-of-tree build\n\n\t* test/automated/vc-hg.el\n\t(vc-hg-annotate-extract-revision-at-line-with-filename)\n\t(vc-hg-annotate-extract-revision-at-line-with-both):\n\tDon't refer to source-directory.\n\thttp://lists.gnu.org/archive/html/emacs-devel/2016-01/msg00755.html\n\n2016-01-11  Michael Albinus  <michael.albinus@gmx.de>\n\n\tMinor change in tramp-tests.el\n\n\t* test/automated/tramp-tests.el (tramp-test29-vc-registered):\n\tUse `dired-uncache' instead of a Tramp internal function.\n\n2016-01-11  Peter Feigl  <peter.feigl@nexoid.at>\n\n\t* etc/HELLO: Add Armenian and Mongolian greetings.\n\n\t(Bug#22346)\n\n2016-01-11  Alan Mackenzie  <acm@muc.de>\n\n\tJava Mode: Fontify identifiers in the presence of annotations.\n\n\t* lisp/progmodes/cc-engine.el (c-forward-annotation): Tidy up the coding:\n\tDon't move point when the defun fails.\n\t(c-forward-decl-or-cast-1): Correct a usage of match data.\n\n\t* lisp/progmodes/cc-fonts.el (c-font-lock-maybe-decl-faces): Remove.\n\t(c-font-lock-declarations): Use the new c-maybe-decl-faces in place of the\n\tremoved variable.\n\n\t* lisp/progmodes/cc-langs.el (c-maybe-decl-faces): New language variable.\n\n2016-01-11  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid an infloop when we run out of memory\n\n\t* src/alloc.c (garbage_collect_1): Don't bother saving and\n\trestoring the echo-area message if we are GC'ing after running out\n\tof memory.  This avoids an infloop due to repeated attempts to\n\tallocate memory for the cons cell needed to save the message,\n\twhich signals the memory-full error, which attempts to save the\n\techo-area message, which signals memory-full again, etc.\n\n2016-01-11  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid unnecessary failures of auto-saving after fatal error\n\n\t* src/w32.c (map_w32_filename): Avoid non-trivial system calls for\n\tthe benefit of FAT volumes if we are called as part of shutting\n\tdown due to a fatal error, which probably means we are trying to\n\tauto-save the session.\n\t* src/lread.c (check_obarray): Don't bother making the obarray\n\tvalid if we are shutting down due to a fatal error.  This avoids\n\tinterfering with auto-saving the crashed session.\n\n2016-01-11  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSimplify HAVE_MODULES use in mark_maybe_pointer\n\n\t* src/alloc.c (HAVE_MODULES): Now a constant 0 if not defined,\n\tso that later code can use 'if' rather than '#ifdef'.\n\t(mark_maybe_pointer): Simplify based on HAVE_MODULES now\n\talways working.\n\n2016-01-11  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRevert attempt to use 'noexcept' in typedef\n\n\tThis use of 'noexcept' runs afoul of the C++11 standard.\n\tProblem reported by Philipp Stephani in:\n\thttp://lists.gnu.org/archive/html/emacs-devel/2016-01/msg00706.html\n\t* src/emacs-module.c (emacs_finalizer_function):\n\tMove this typedef here ...\n\t* src/emacs-module.h: ... from here, and use only the C\n\tversion of the typedef.  The typedef is now private since it\n\tis never used in the .h file now and anyway it seemed to be\n\tcausing more confusion than it cured.\n\t(make_user_ptr, get_user_finalizer, set_user_finalizer):\n\tOpen-code the type instead.\n\n2016-01-10  Eli Zaretskii  <eliz@gnu.org>\n\n\tUpdate documentation of 'indirect-function'\n\n\t* doc/lispref/eval.texi (Function Indirection): Update the\n\tdocumentation of 'indirect-function'.\n\n2016-01-10  Eli Zaretskii  <eliz@gnu.org>\n\n\tUpdate documentation for obsoleting 'syntax-begin-function'\n\n\t* doc/lispref/syntax.texi (Position Parse): Undocument\n\t'syntax-begin-function' that is now obsolete.\n\n2016-01-10  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument new features if Eshell\n\n\t* doc/misc/eshell.texi (Input/Output): Document the new\n\t'#<bufname>' syntax.\n\t(Input/Output): Document 'eshell-destroy-buffer-when-process-dies'.\n\tDisable \"Key Index\" generation, as there are no @kindex entries in\n\tthis manual.\n\n2016-01-10  Michael Albinus  <michael.albinus@gmx.de>\n\n\tHandle too long commands in Tramp\n\n\t* lisp/net/tramp-sh.el (tramp-sh-handle-make-symbolic-link)\n\t(tramp-do-file-attributes-with-ls): Send sequence of commands, in\n\torder to not exceed shell command line limit.\n\n\t* test/automated/tramp-tests.el (tramp--test-darwin-p): Remove.\n\t(tramp--test-utf8): Include Arabic file name, again.\n\n2016-01-10  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* .gitattributes: *.cur and *.pif are binary files too.\n\n2016-01-10  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* src/alloc.c (mark_maybe_pointer): HAVE_MODULES may be undefined\n\n2016-01-10  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/progmodes/sh-script.el (sh-smie-sh-rules): Improve indentation inside $(...)\n\n\t* lisp/progmodes/sh-script.el (sh-smie-sh-rules): Improve indentation\n\twithin $(...).\n\t* test/indent/shell.sh: Add corresponding test.\n\n2016-01-10  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* src/alloc.c (mark_maybe_pointer): Also check wide-int's emacs_value\n\n\t(mark_memory): Simplify loop.  Don't assume a pointer-sized word can be\n\tcast to Lisp_Object.\n\n2016-01-10  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tUse short date for 'hg annotate', and output the author\n\n\t* lisp/vc/vc-hg.el (vc-hg-annotate-command):\n\tChange '-d' to '-dq'.  (Bug#21805)\n\t(vc-hg-annotate-switches): Default to \"-u\" \"--follow\".\n\t(vc-hg-annotate-re): Update to recognize the short date format\n\tand the optional username.\n\t(vc-hg-annotate-time)\n\t(vc-hg-annotate-extract-revision-at-line): Update accordingly.\n\n\t* test/automated/vc-hg.el: New file.\n\n2016-01-10  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSpelling fix\n\n2016-01-09  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument user-level functions in project.el\n\n\t* lisp/progmodes/project.el (project-find-file)\n\t(project-or-external-find-file): Add doc strings.\n\n2016-01-09  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument the user-level features of the Xref package\n\n\t* doc/emacs/maintaining.texi (Maintaining): Add a list of\n\tdescribed features.\n\t(Xref): New section, made out of thoroughly rewritten \"Tags\"\n\tsection.\n\t(Find Identifiers, Looking Up Identifiers, Xref Commands)\n\t(Identifier Search, List Identifiers): New subsections,\n\tincorporating the old tags commands and the new xref commands.\n\t(Tags Tables, Tag Syntax, Create Tags Table, Etags Regexps):\n\tSection and subsections demoted to a lower level.\n\t* doc/emacs/search.texi (Search):\n\t* doc/emacs/windows.texi (Pop Up Window):\n\t* doc/emacs/frames.texi (Creating Frames):\n\t* doc/emacs/programs.texi (Imenu, Symbol Completion):\n\t* doc/emacs/building.texi (Grep Searching):\n\t* doc/emacs/dired.texi (Operating on Files):\n\t* doc/emacs/glossary.texi (Glossary): All references to tags changed.\n\n2016-01-09  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* doc/lispref/loading.texi: Add `define-type' entry for load-history\n\n\t* doc/lispref/loading.texi (Where Defined): Remove incorrect\n\tcl-defmethod description, and add missing define-type entry.\n\n2016-01-09  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove doc strings and prompts in xref.el\n\n\t* lisp/progmodes/xref.el (xref-backend-functions)\n\t(xref-find-definitions): Doc fixes.\n\t(xref-query-replace): Doc fix.  Improve prompts for arguments.\n\n2016-01-09  Alan Mackenzie  <acm@muc.de>\n\n\tAllow the use of `font-lock-extend-region-multiline' in CC Mode.\n\n\t* lisp/progmodes/cc-mode.el (c-font-lock-init): Remove\n\t`font-lock-extend-regions-wholelines' from\n\t`font-lock-extend-region-functions' rather than setting the latter to\n\tnil.\n\n2016-01-09  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix coding system for Tramp on OS X.\n\n\t* lisp/net/tramp-compat.el: Require ucs-normalize.\n\n\t* lisp/net/tramp-sh.el (tramp-open-connection-setup-interactive-shell):\n\tSet coding system to `utf-8-hfs' for Mac OS X.\n\n\t* test/automated/tramp-tests.el (tramp-test29-vc-registered):\n\tFlush directory properties when needed.\n\t(tramp--test-utf8): Include Chinese file name, again.\n\n2016-01-09  Eli Zaretskii  <eliz@gnu.org>\n\n\tUpdate 'load-history' docs\n\n\t* doc/lispref/loading.texi (Where Defined): Update the list of\n\tforms in 'load-history' by adding the forms created for the\n\t'cl-generic' generics.  (Bug#21422)\n\n2016-01-09  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix (error ...) error\n\n\tProblem reported by Glenn Morris in:\n\thttp://lists.gnu.org/archive/html/emacs-devel/2016-01/msg00561.html\n\t* lisp/vc/add-log.el (change-log-goto-source): Fix typos\n\tintroduced in my Aug 28 change, where I got confused by the\n\ttwo meanings of (error ...).\n\n2016-01-08  Alan Mackenzie  <acm@muc.de>\n\n\tCorrectly analyze brace arguments in templated C++ function declarations.\n\n\t* lisp/progmodes/cc-defs.el (c-go-list-forward, c-go-list-backward): add\n\tPOS and LIMIT parameters, like the other c-go-list-* functions have.\n\n\t* lisp/progmodes/cc-engine.el (c-restore-<>-properties): Check backwards\n\tfor a ?\\( rather than a ?<.  (c-looking-at-inexpr-block): Handle names\n\tfollowed by template specifiers.\n\n2016-01-08  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/cedet/mode-local.el (describe-function-orig-buffer): Declare.\n\n\t* lisp/ffap.el (ffap-latex-mode): Avoid free variable.\n\n2016-01-08  Mark Oteiza  <mvoteiza@udel.edu>\n\n\t* lisp/play/dunnet.el (dun-fix-screen): Avoid `end-of-buffer`.\n\n2016-01-08  Alan Mackenzie  <acm@muc.de>\n\n\tRespect fontification region calculated by major mode.  Fixes bug #22316.\n\n\t* lisp/font-lock.el (font-lock-extend-jit-lock-region-after-change): when a\n\tfontification region has been calculated by a function on\n\tfont-lock-extend-after-change-region-function use this region rather than\n\tchanging the end position to somewhere else.\n\n2016-01-08  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of Delete Selection mode\n\n\t* lisp/delsel.el (delete-selection-mode)\n\t(delete-selection-helper): Update and expand the doc strings.\n\t(Bug#22296)\n\n\t* doc/emacs/mark.texi (Using Region): Document the behavior of\n\tdelete commands in Delete Selection mode.  (Bug#22296)\n\n\t* doc/lispref/markers.texi (The Mark): Document how to add the\n\tsupport for Delete Selection mode to Lisp programs. (Bug#22296)\n\n2016-01-08  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tFix two project-find-file issues\n\n\t* lisp/progmodes/project.el (project--value-in-dir):\n\tTemporarily set enable-local-variables to :all.\n\t(project-find-file, project-or-external-find-file):\n\tAll autoloads.\n\t(project--find-file-in): Require xref.\n\n2016-01-08  Eli Zaretskii  <eliz@gnu.org>\n\n\tClarify doc string of 'dired-current-directory'\n\n\t* lisp/dired.el (dired-current-directory): Doc fix: clarify that\n\tthe return value might not end in a slash when called with the\n\toptional argument non-nil.  (Bug#6273)\n\n2016-01-08  Eli Zaretskii  <eliz@gnu.org>\n\n\tUse the face of preceding text for displaying the ellipsis\n\n\t* src/xdisp.c (setup_for_ellipsis): Use the face of the preceding\n\ttext in it->saved_face_id for displaying the ellipsis, and ignore\n\tthe face, if any, of the invisible text.  (Bug#22320)\n\n2016-01-08  Michael Albinus  <michael.albinus@gmx.de>\n\n\tSuppress Chinese file name test for OSX in tramp-tests.el\n\n\t* test/automated/tramp-tests.el (tramp--test-utf8):\n\tRemove instrumentation.  Suppress Chinese file name test for OSX.\n\n2016-01-08  Glenn Morris  <rgm@gnu.org>\n\n\t* admin/admin.el (set-version): Also handle the NEWS file.\n\n2016-01-08  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tapropos-library: Skip obvious duplicates; don't error on generics\n\n\t* lisp/apropos.el (apropos-library): Skip \"was an autoload\"\n\tentries, to avoid obvious duplicates.  For each cl-defmethod\n\tentry, take just its function symbol (bug#21422).\n\n2016-01-07  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tAdd project-find-file and project-or-external-find-file\n\n\t* lisp/minibuffer.el (completion-category-defaults):\n\tAdd `project-file' category.\n\n\t* lisp/progmodes/project.el (project-find-file)\n\t(project-or-external-find-file): New commands.\n\t(project--find-file-in): New private function.\n\n\t* lisp/progmodes/xref.el (xref-collect-matches): Use\n\t`expand-file-name' on DIR, to expand the tildes.\n\t(xref--find-ignores-arguments): Extract from\n\t`xref--rgrep-command'.\n\n2016-01-07  Leo Liu  <sdl.web@gmail.com>\n\n\tAdd defvar-local to lisp-imenu-generic-expression\n\n\t* lisp/emacs-lisp/lisp-mode.el (lisp-imenu-generic-expression): Add\n\t  defvar-local.\n\n2016-01-07  Leo Liu  <sdl.web@gmail.com>\n\n\tRevert commit b1e3d14845517bfa9fa5d6d3840f3ab3160306fd\n\n\t* lisp/emacs-lisp/easy-mmode.el (define-minor-mode):\n\t  Don't declare (indent 1).\n\n2016-01-07  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/emacs-lisp/autoload.el (autoload-find-destination): Doc fix.\n\n2016-01-07  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/emacs-lisp/autoload.el (autoload-find-destination):\n\n\tAvoid specifying the length of a time object (it has not been \"2\"\n\tfor some time).\n\n2016-01-06  Andreas Schwab  <schwab@linux-m68k.org>\n\n\tProperly encode/decode base64Binary data in SOAP\n\n\t\t* lisp/net/soap-client.el (soap-encode-xs-basic-type): Encode\n\t\tbase64Binary value as utf-8.\n\t\t(soap-decode-xs-basic-type): Decode base64Binary value as utf-8.\n\n2016-01-06  Eli Zaretskii  <eliz@gnu.org>\n\n\tObey coding-system-for-write when writing stdout/stderr in batch\n\n\t* src/print.c (printchar_to_stream):\n\t* src/xdisp.c (message_to_stderr): If coding-system-for-write has\n\ta non-nil value, use it to encode output in preference to\n\tlocale-coding-system.  See the discussions in\n\thttp://lists.gnu.org/archive/html/emacs-devel/2016-01/msg00048.html\n\tfor the details.\n\n\t* doc/lispref/os.texi (Terminal Output): Document how to send\n\tnon-ASCII text via 'send-string-to-terminal'.\n\t(Batch Mode): Document how text written to standard streams is\n\tencoded.  Fix inaccuracy regarding which output streams are used\n\tby output functions in batch mode.\n\n2016-01-06  Xue Fuqiao  <xfq.free@gmail.com>\n\n\t* doc/misc/efaq.texi (Packages that do not come with Emacs):\n\tUpdate the URI of MELPA and marmalade-repo.  Reported by CHENG Gao\n\t<chenggao@royau.me> in\n\thttps://lists.gnu.org/archive/html/emacs-devel/2016-01/msg00390.html.\n\n2016-01-06  Maksim Golubev  <maksim.golubev72@gmail.com>  (tiny change)\n\n\t* lisp/progmodes/opascal.el (opascal-mode-syntax-table):\n\n\tFix backslash.  (Bug#22224)\n\n2016-01-06  Federico Beffa  <beffa@ieee.org>  (tiny change)\n\n\t* lisp/progmodes/xscheme.el (xscheme-prompt-for-expression-exit):\n\n\tMake it actually work.  (Bug#22265)\n\n2016-01-05  Alan Mackenzie  <acm@muc.de>\n\n\tRemove function wrongly on AWK Mode value of context fontification hook.\n\n\t* lisp/progmodes/cc-langs.el (c-before-context-fontification-functions):\n\tswap order of entries so that awk's entry isn't superseded by the default.\n\n\t* lisp/progmodes/cc-mode.el (c-before-context-fl-expand-region): Correct\n\tto handle nil value of c-before-context-fontification-functions.\n\n2016-01-05  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* src/buffer.c: Stick with ASCII in doc string.\n\n2016-01-05  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tReword transient-mark-mode doc string\n\n\t* src/buffer.c (syms_of_buffer): Reword doc string to avoid confusion.\n\tThe value 'lambda (literally) can be interpreted as (quote lambda),\n\twhich is not intended here; we want just the lambda symbol.\n\n2016-01-05  Eli Zaretskii  <eliz@gnu.org>\n\n\tUpdate doc string of 'selective-display'\n\n\t* src/buffer.c (syms_of_buffer) <selective-display>: Say that\n\tusing it with the value of 't' is obsolete.  (Bug#1092)\n\n2016-01-05  Alan Mackenzie  <acm@muc.de>\n\n\tMake C++ buffers writeable when writing their initial text properties.\n\n\tThis is a correction to yesterday's CC Mode patch.\n\n\t* lisp/progmodes/cc-engine.el (c-before-change-check-<>-operators): Put\n\tc-save-buffer-state around the function rather than a mere `let'.\n\n2016-01-05  Michael Albinus  <michael.albinus@gmx.de>\n\n\tAdditional changes for \"make check-expensive\"\n\n\t* CONTRIBUTE : Encourage use of \":tags '(:expensive-test)\".\n\tExplain make target `check-expensive'.\n\n\t* etc/NEWS: Mention new make target `check-expensive'.\n\n\t* test/automated/Makefile.in (check-doit): New target.\n\t(check, check-expensive): Use it.\n\n2016-01-04  Alan Mackenzie  <acm@muc.de>\n\n\tApply text properties for <, > in new after-change function (C++ Java Modes).\n\n\tThese are category/syntax-table properties to give < and > paren syntax.\n\tAlso apply certain `c-type' text properties to the insides of <..> constructs\n\tto ensure that identifiers contained by them get fontified.  This patch fixes\n\tbug #681.\n\n\t* lisp/progmodes/cc-cmds.el (c-electric-lt-gt): Reformulate due to new\n\tafter-change action.\n\n\t* lisp/progmodes/cc-engine.el (c-before-change-check-<>-operators): Expand\n\tchange region to include <s and >s which might not be already marked as\n\tparens, rather than just when paren text properties are removed.\n\t(c-restore-<>-properties): New after-change function, which applies text\n\tproperties marking < and > with paren syntax.\n\n\t* lisp/progmodes/cc-fonts.el (c-font-lock-declarations): Ensure `c-type'\n\tproperties are applied to the interiors of <...> constructs, to ensure\n\tfontification of identifiers there.\n\n\t* lisp/progmodes/cc-langs.el (c-before-font-lock-functions): Add\n\tc-restore-<>-properties to this list for C++ and Java.\n\n\t* lisp/progmodes/cc-mode.el (c-common-init): When invoking\n\tc-before-font-lock-functions, exclude c-restore-<>-properties from the\n\tfunctions invoked.\n\t(c-before-change): Initialize c-new-BEG/END here (rather than c-after-change)\n\tto allow modification by before-change functions.\n\t(c-after-change): Amend c-new-END here, rather than initializing it and\n\tc-new-BEG.\n\n2016-01-04  Michael Albinus  <michael.albinus@gmx.de>\n\n\tMerge branch 'emacs-25' of git.sv.gnu.org:/srv/git/emacs into emacs-25\n\n2016-01-04  Michael Albinus  <michael.albinus@gmx.de>\n\n\tIntroduce check-expensive tests.\n\n\t* Makefile.in (check-expensive):\n\t* test/automated/Makefile.in (check-expensive): New target.\n\n\t* test/automated/auto-revert-tests.el\n\t(auto-revert-test01-auto-revert-several-files):\n\t* test/automated/file-notify-tests.el (file-notify--deftest-remote):\n\t* test/automated/tramp-tests.el (tramp-test26-process-file)\n\t(tramp-test27-start-file-process, tramp-test28-shell-command)\n\t(tramp-test29-vc-registered)\n\t(tramp-test31-special-characters-with-stat)\n\t(tramp-test31-special-characters-with-perl)\n\t(tramp-test31-special-characters-with-ls)\n\t(tramp-test32-utf8-with-stat, tramp-test32-utf8-with-perl)\n\t(tramp-test32-utf8-with-ls, tramp-test33-asynchronous-requests)\n\t(tramp-test35-unload): Tag the tests as :expensive-test.\n\n2016-01-04  Lars Magne Ingebrigtsen  <larsi@gnus.org>\n\n\tshr-tag-video bug fix\n\n\t* shr.el (shr-tag-video): Protect against the `poster' being\n\tempty.\n\n2016-01-04  Michael Albinus  <michael.albinus@gmx.de>\n\n\tMinor fixes in tramp-tests.el\n\n\t* test/automated/tramp-tests.el (tramp-test26-process-file):\n\tMove point properly.\n\t(tramp-test29-vc-registered): Work with relative file names.\n\n2016-01-04  Eli Zaretskii  <eliz@gnu.org>\n\n\tEnsure redisplay when 'truncate-lines' is set\n\n\t* lisp/frame.el (redisplay--variables): Add 'truncate-lines'.\n\t(Bug#22303)\n\n2016-01-04  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix a doc string of 'transient-mark-mode'\n\n\t* src/buffer.c (syms_of_buffer) <transient-mark-mode>: Prevent\n\t\"lambda\" in doc string from becoming a link to lambda expressions.\n\n2016-01-04  Eli Zaretskii  <eliz@gnu.org>\n\n\tMS-Windows followup to latest gnulib update\n\n\t* nt/gnulib.mk (EXTRA_DIST): Add ignore-value.h.\n\n2016-01-04  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSpelling fix\n\n2016-01-04  Jens Lechtenboerger  <jens.lechtenboerger@fsfe.org>\n\n\tDo secure signed Bcc handling\n\n\t* lisp/gnus/message.el (message-send): Do secure signed Bcc handling\n\t(bug#18718).\n\n2016-01-04  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tAvoid stdio in SIGINT handler\n\n\t* admin/merge-gnulib (GNULIB_MODULES): Add ignore-value.\n\t* lib/gnulib.mk, m4/gnulib-comp.m4: Regenerate.\n\t* lib/ignore-value.h: New file, from gnulib.\n\t* src/keyboard.c: Include it.\n\t(write_stdout, read_stdin): New functions.\n\t(handle_interrupt): Use them instead of printf and getchar,\n\tand avoid fflush when handling signals.\n\n2016-01-04  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* doc/misc/texinfo.tex: Revert unwanted copyright change.\n\n2016-01-03  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/align.el (align): Simplify a lambda\n\n\t* lisp/align.el (align): Fix arg order in call to `align-region'\n\n2016-01-03  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix compilation next-error in buffers with selective-display\n\n\t* lisp/progmodes/compile.el (compilation-beginning-of-line): New\n\tfunction.\n\t(compilation-internal-error-properties)\n\t(compilation-next-error-function, compilation-set-window): Use\n\tit.  (Bug#1092)\n\n2016-01-03  Lars Magne Ingebrigtsen  <larsi@gnus.org>\n\n\t* lisp/net/nsm.el (nsm-check-protocol): Fix typo in the message.\n\n2016-01-03  Lars Magne Ingebrigtsen  <larsi@gnus.org>\n\n\tAdd SHA1 warnings for high network security settings\n\n\t* lisp/net/nsm.el (nsm-check-protocol): When using high security, warn\n\tabout SHA1 certificates, which are now believed to be open to\n\tspoofing.\n\n2016-01-03  Jens Lechtenboerger  <jens.lechtenboerger@fsfe.org>\n\n\tRefactor mml-smime.el, mml1991.el, mml2015.el\n\n\t(Maybe this is the last merge from Gnus git to Emacs git)\n\n\tCf. discussion on ding mailing list, messages in\n\t<http://thread.gmane.org/gmane.emacs.gnus.general/86228>.\n\tCommon code from the three files mml-smime.el, mml1991.el, and\n\tmml2015.el is moved to mml-sec.el.  Auxiliary functions are added\n\tto gnus-util.el.\n\n\tThe code is supported by test cases with necessary test keys.\n\n\tDocumentation in message.texi is updated.\n\n\t* doc/misc/message.texi (Security, Using S/MIME):\n\tUpdate for refactoring mml-smime.el, mml1991.el, mml2015.el.\n\t(Using OpenPGP): Rename from \"Using PGP/MIME\"; update contents.\n\t(Passphrase caching, Encrypt-to-self, Bcc Warning): New sections.\n\n\t* lisp/gnus/gnus-util.el (gnus-test-list, gnus-subsetp, gnus-setdiff):\n\tNew functions.\n\n\t* lisp/gnus/mml-sec.el: Require gnus-util and epg.\n\t(epa--select-keys): Autoload.\n\t(mml-signencrypt-style-alist, mml-secure-cache-passphrase): Doc fix.\n\t(mml-secure-openpgp-signers): New user option;\n\tmake mml1991-signers and mml2015-signers obsolete aliases to it.\n\t(mml-secure-smime-signers): New user option;\n\tmake mml-smime-signers an obsolete alias to it.\n\t(mml-secure-openpgp-encrypt-to-self): New user option;\n\tmake mml1991-encrypt-to-self and mml2015-encrypt-to-self obsolete\n\taliases to it.\n\t(mml-secure-smime-encrypt-to-self): New user option;\n\tmake mml-smime-encrypt-to-self an obsolete alias to it.\n\t(mml-secure-openpgp-sign-with-sender): New user option;\n\tmake mml2015-sign-with-sender an obsolete alias to it.\n\t(mml-secure-smime-sign-with-sender): New user option;\n\tmake mml-smime-sign-with-sender an obsolete alias to it.\n\t(mml-secure-openpgp-always-trust): New user option;\n\tmake mml2015-always-trust an obsolete alias to it.\n\t(mml-secure-fail-when-key-problem, mml-secure-key-preferences):\n\tNew user options.\n\t(mml-secure-cust-usage-lookup, mml-secure-cust-fpr-lookup)\n\t(mml-secure-cust-record-keys, mml-secure-cust-remove-keys)\n\t(mml-secure-add-secret-key-id, mml-secure-clear-secret-key-id-list)\n\t(mml-secure-cache-passphrase-p, mml-secure-cache-expiry-interval)\n\t(mml-secure-passphrase-callback, mml-secure-check-user-id)\n\t(mml-secure-secret-key-exists-p, mml-secure-check-sub-key)\n\t(mml-secure-find-usable-keys, mml-secure-select-preferred-keys)\n\t(mml-secure-fingerprint, mml-secure-filter-keys)\n\t(mml-secure-normalize-cust-name, mml-secure-select-keys)\n\t(mml-secure-select-keys-1, mml-secure-signer-names, mml-secure-signers)\n\t(mml-secure-self-recipients, mml-secure-recipients)\n\t(mml-secure-epg-encrypt, mml-secure-epg-sign): New functions.\n\n\t* lisp/gnus/mml-smime.el: Require epg;\n\trefactor declaration and autoloading of epg functions.\n\t(mml-smime-use): Doc fix.\n\t(mml-smime-cache-passphrase, mml-smime-passphrase-cache-expiry):\n\tObsolete.\n\t(mml-smime-get-dns-cert, mml-smime-get-ldap-cert):\n\tUse format instead of gnus-format-message.\n\t(mml-smime-epg-secret-key-id-list): Remove variable.\n\t(mml-smime-epg-passphrase-callback, mml-smime-epg-find-usable-key)\n\t(mml-smime-epg-find-usable-secret-key): Remove functions.\n\t(mml-smime-epg-sign, mml-smime-epg-encrypt): Refactor.\n\n\t* lisp/gnus/mml1991.el (mml1991-cache-passphrase)\n\t(mml1991-passphrase-cache-expiry): Obsolete.\n\t(mml1991-epg-secret-key-id-list): Remove variable.\n\t(mml1991-epg-passphrase-callback, mml1991-epg-find-usable-key)\n\t(mml1991-epg-find-usable-secret-key): Remove functions.\n\t(mml1991-epg-sign, mml1991-epg-encrypt): Refactor.\n\n\t* lisp/gnus/mml2015.el (mml2015-cache-passphrase)\n\t(mml2015-passphrase-cache-expiry): Obsolete.\n\t(mml2015-epg-secret-key-id-list): Remove variable.\n\t(mml2015-epg-passphrase-callback, mml2015-epg-check-user-id)\n\t(mml2015-epg-check-sub-key, mml2015-epg-find-usable-key)\n\t(mml2015-epg-find-usable-secret-key): Remove functions.\n\t(mml2015-epg-decrypt, mml2015-epg-clear-decrypt, mml2015-epg-sign)\n\t(mml2015-epg-encrypt): Refactor.\n\n2016-01-02  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/progmodes/fortran.el (fortran-make-syntax-propertize-function):\n\n\tExplicitly ignore case.  (Bug#22262)\n\n2016-01-02  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t(semantic-symref-derive-find-filepatterns): Return a list\n\n\t* lisp/cedet/semantic/symref/grep.el\n\t(semantic-symref-derive-find-filepatterns): Return a list.\n\t(semantic-symref-perform-search): Quote the result here once and for all.\n\n2016-01-02  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix xref-find-references on MS-Windows\n\n\t* lisp/cedet/semantic/symref/grep.el\n\t(semantic-symref-derive-find-filepatterns): Use\n\t'shell-quote-argument' instead of manually quoting in a way that\n\tonly works with Posix shells.  (Bug#22289)\n\n2016-01-02  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument new features of tildify-mode\n\n\t* lisp/textmodes/tildify.el (tildify-foreach-ignore-environments)\n\t(tildify-mode): Spelling fixes in doc strings.\n\n\t* etc/NEWS: Reformat the tildify-mode entry.\n\n2016-01-02  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument new features of Whitespace mode\n\n\t* doc/emacs/display.texi (Useless Whitespace): Document\n\t'whitespace-toggle-options' and the new 'big-indent' style.\n\tDocument 'whitespace-big-indent-regexp'.  Document the Global\n\tWhitespace mode.\n\n2016-01-02  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of new Hide-IfDef features\n\n\t* etc/NEWS: Expand and reword Hide-IfDef section.\n\n2016-01-02  Leo Liu  <sdl.web@gmail.com>\n\n\tFix regression in font-locking cl-assert and cl-check-type\n\n\t* lisp/emacs-lisp/lisp-mode.el (lisp-el-font-lock-keywords-2): Fix\n\t  el-errs-re.\n\n2016-01-01  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSpelling and grammar fixes\n\n2016-01-01  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix copyright years by hand\n\n\tThese are dates that admin/update-copyright did not update, or\n\tupdated incorrectly.\n\n2016-01-01  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tUpdate copyright year to 2016\n\n\tRun admin/update-copyright.\n\n2016-01-01  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from gnulib\n\n\tThis mostly just updates copyright dates of gnulib files.\n\tIt also updates to the latest version of texinfo.tex.\n\n2015-12-31  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tlisp/emacs-lisp/chart.el (chart-new-buffer): Move to silence byte compiler.\n\n2015-12-31  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tPort chart.el methods to cl-generic.\n\n\tcl-call-next-method cannot be used inside EIEIO's defmethod.\n\t* lisp/emacs-lisp/chart.el: Require cl-generic at compile time.\n\t* lisp/emacs-lisp/chart.el (initialize-instance, chart-draw):\n\t(chart-draw-title, chart-size-in-dir, chart-draw-axis):\n\t(chart-axis-draw, chart-translate-xpos, chart-translate-ypos):\n\t(chart-translate-namezone, chart-draw-data, chart-add-sequence):\n\t(chart-trim, chart-sort): Use cl-defmethod instead of defmethod.\n\n2015-12-31  Brian Burns  <bburns.km@gmail.com>\n\n\tAdd nt/INSTALL.W64 build instructions\n\n\t* nt/INSTALL.W64: New file.\n\t* nt/INSTALL: Point to INSTALL.W64 for 64-bit build instructions.\n\n2015-12-31  Joakim Jalap  <joakim.jalap@fastmail.com>\n\n\tAdd new input method 'programmer-dvorak'\n\n\t* lisp/leim/quail/programmer-dvorak.el (\"programmer-dvorak\"): New\n\tinput method.\n\n\t* etc/NEWS: Mention it.\n\n2015-12-31  Eli Zaretskii  <eliz@gnu.org>\n\n\tAllow to invoke original M-TAB binding in 'flyspell-prog-mode'\n\n\t* lisp/textmodes/flyspell.el (flyspell-prog-mode): Record the\n\toriginal M-TAB binding in a buffer-local variable.\n\t(flyspell-auto-correct-word): Invoke the original binding of M-TAB\n\tif that is recorded, when point is in a place where flyspell\n\tshould not be active (e.g., because the user turned on\n\t'flyspell-prog-mode').  (Bug#18533)\n\n2015-12-31  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix EWW rendering of long RTL lines\n\n\t* lisp/net/shr.el (shr-insert-document): Undo any previous hscroll\n\tof the selected window before filling its lines.  (Bug#22250)\n\n2015-12-31  Vincent Bela\u00efche  <vincentb1@users.sourceforge.net>\n\n\tfix  bug#21054\n\n\t* lisp/ses.el (ses-check-curcell): Call `ses-set-curcell' unconditionally\n\n2015-12-31  YAMAMOTO Mitsuharu  <mituharu@math.s.chiba-u.ac.jp>\n\n\tClean up cairo printing code\n\n\t* src/gtkutil.c (xg_get_page_setup): Use listn.\n\t* src/xfns.c (Fx_export_frames, Fx_print_frames_dialog): Doc fix.  Use\n\tdecode_window_system_frame and FRAME_VISIBLE_P.\n\t(Fx_print_frames_dialog): Use redisplay_preserve_echo_area instead\n\tof Fdisplay.\n\t* src/xterm.c (x_cr_export_frames): Use redisplay_preserve_echo_area\n\tinstead of Fdisplay.  Temporarily unblock_input around QUIT.\n\n2015-12-31  YAMAMOTO Mitsuharu  <mituharu@math.s.chiba-u.ac.jp>\n\n\tMove variables to inner loop, preparing for Mac port merge\n\n\t* src/keyboard.c (command_loop_1): Move variables `cmd',\n\t`keybuf', and `i' to inner loop.\n\n2015-12-31  YAMAMOTO Mitsuharu  <mituharu@math.s.chiba-u.ac.jp>\n\n\tAdd handle_user_signal_hook\n\n\t* src/keyboard.h (handle_user_signal_hook): New declaration.\n\t* src/keyboard.c (handle_user_signal_hook): New variable.\n\t(handle_user_signal): Call it.\n\n2015-12-31  YAMAMOTO Mitsuharu  <mituharu@math.s.chiba-u.ac.jp>\n\n\tAvoid writing to purespace\n\n\t* src/alloc.c (Fmake_string): Don't write to empty string contents.\n\t(allocate_vector): Don't write to empty vector size.\n\t* src/character.h (CHECK_CHARACTER_CAR, CHECK_CHARACTER_CDR):\n\tDon't call unnecessary XSETCAR or XSETCDR.\n\t* src/lisp.h (STRING_SET_UNIBYTE, STRING_SET_MULTIBYTE): Don't\n\twrite to empty string size_byte.\n\n2015-12-31  YAMAMOTO Mitsuharu  <mituharu@math.s.chiba-u.ac.jp>\n\n\tRemove unused variable\n\n\t* lisp/international/mule-cmds.el: Remove unused variable\n\t`mac-system-coding-system'.\n\n2015-12-31  YAMAMOTO Mitsuharu  <mituharu@math.s.chiba-u.ac.jp>\n\n\t* configure.ac: Find libxml2 headers in Xcode SDK dir on Darwin.\n\n2015-12-31  YAMAMOTO Mitsuharu  <mituharu@math.s.chiba-u.ac.jp>\n\n\tUse posix_openpt instead of openpty on Darwin\n\n\t* configure.ac (PTY_ITERATION, FIRST_PTY_LETTER, PTY_OPEN)\n\t(PTY_NAME_SPRINTF, PTY_TTY_NAME_SPRINTF): Remove\n\tDarwin-specific definitions.  Use posix_openpt instead.\n\n2015-12-30  Shakthi Kannan  <shakthimaan@gmail.com>\n\n\tDocument support for ':documentation' in Lisp mode\n\n\t* lisp/emacs-lisp/lisp-mode.el (lisp-string-in-doc-position-p)\n\t(lisp-string-after-doc-keyword-p)\n\t(lisp-font-lock-syntactic-face-function): Add doc strings.\n\n2015-12-30  Shakthi Kannan  <shakthimaan@gmail.com>\n\n\tDocument new features of TeX mode\n\n\t* doc/emacs/text.texi (TeX Print): Document\n\t'tex-print-file-extension'.\n\t* doc/emacs/programs.texi (Misc for Programs): Document support\n\tfor Prettify Symbols mode in TeX mode.\n\n2015-12-30  Eli Zaretskii  <eliz@gnu.org>\n\n\tClarify docs of hscroll in RTL text\n\n\t* doc/lispref/windows.texi (Horizontal Scrolling): Clarify the\n\tmeaning of a window's horizontal scroll amount for RTL paragraphs.\n\n2015-12-30  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix rendering of HTML pages that use character composition\n\n\t* src/indent.c (Fvertical_motion): Fix the case when point starts\n\tin the middle of a composition, as in shr-vertical-motion.\n\t(Bug#22250)\n\n2015-12-30  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid some compiler warnings in w32.c\n\n\t* src/w32.c (codepage_for_filenames, crlf_to_lf)\n\t(ansi_encode_filename, socket_to_fd, sys_write)\n\t(check_windows_init_file): Avoid compiler warnings about\n\tdifferences in pointer signedness.\n\n2015-12-30  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tUndo ill-advised change\n\n\t* lisp/progmodes/xref.el (xref-collect-matches): Undo\n\till-advised change.  The hits come in the order that `find'\n\tproduces them in, which isn't alphabetical.\n\n2015-12-30  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tUnbreak completion in python-mode buffers\n\n\t* lisp/progmodes/python.el (python-shell-completion-at-point):\n\tUnbreak in python-mode buffers.\n\n2015-12-29  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix typos in CC Mode manual\n\n\t* doc/misc/cc-mode.texi (c-offsets-alist, Style Variables): Fix\n\ttypos.  (Bug#22267)\n\n2015-12-29  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid assertion violations in compact_font_cache_entry\n\n\t* src/alloc.c (compact_font_cache_entry): Don't use VECTORP to\n\tavoid assertion violation in ASIZE.  (Bug#22263)\n\n2015-12-29  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix filling text with bidirectional characters in shr.el\n\n\t* lisp/net/shr.el (shr-insert-document): Bind\n\tbidi-display-reordering to nil while filling lines.  This is\n\trequired for when a line includes characters whose bidi\n\tdirectionality is opposite to the base paragraph direction,\n\tbecause columns are counted in the logical order.  (Bug#22250)\n\n2015-12-29  Martin Rudalics  <rudalics@gmx.at>\n\n\t* src/xfns.c (x_create_tip_frame): Process alpha parameter.\n\n2015-12-29  Michael Albinus  <michael.albinus@gmx.de>\n\n\tSync with Tramp 2.2.13\n\n\t* doc/misc/trampver.texi: Change version to \"2.2.13.25.1\".\n\n\t* lisp/net/tramp-compat.el (tramp-compat-delete-dups):\n\tUse `tramp-compat-funcall'.\n\n\t* lisp/net/tramp-gvfs.el (tramp-gvfs-parse-device-names):\n\tMake `split-string' call compatible with older Emacsen.\n\n\t* lisp/net/trampver.el: Change version to \"2.2.13.25.1\".\n\n2015-12-29  Lambda Coder  <sjLambda@gmail.com>\n\n\t* doc/misc/tramp.texi: Editorial revisions to the Tramp manual\n\n2015-12-29  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMention that tls.el is secure by default, and will fail\n\n2015-12-29  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMake tls.el use trustfiles by default\n\n\t* lisp/net/tls.el (tls-program): Add a certfile by default (bug#21227).\n\t(open-tls-stream): Insert the trustfile by looking at\n\t`gnutls-trustfiles'.\n\n2015-12-29  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRefactor out gnutls-trustfiles\n\n\t* lisp/net/gnutls.el (gnutls-trustfiles): Refactor out for reuse by tls.el.\n\n2015-12-29  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tRemove --insecure from gnutls-cli invocation\n\n\t* tls.el (tls-program): Default to using secure TLS\n\tconnections (bug#19284).\n\n2015-12-29  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSpelling fix\n\n2015-12-29  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort report-emacs-bug to deterministic builds\n\n\t* lisp/mail/emacsbug.el (report-emacs-bug): Future-proof the\n\trecent \"built on\" change to deterministic builds where\n\temacs-build-system will be nil.  See:\n\thttp://lists.gnu.org/archive/html/emacs-devel/2015-12/msg01369.html\n\n2015-12-29  Jose A. Ortega Ruiz  <jao@gnu.org>  (tiny change)\n\n\tFix URL auth error message\n\n\t* lisp/url/url-http.el (url-http-handle-authentication): Make the error\n\tmessage more correct (bug#20069).\n\n2015-12-28  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tshr link traversal fixup\n\n\t* shr.el (shr-next-link): Don't bug out on adjacent links.\n\n\tBackport:\n\n\t(cherry picked from commit 1efc5f8b09273c359683ce13be95fb5df7a84311)\n\n2015-12-28  Tom Tromey  <tom@tromey.com>\n\n\tset :safe on css-indent-offset\n\n\t* lisp/textmodes/css-mode.el (css-indent-offset): Add :safe 'integerp.\n\n2015-12-28  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\t* eww.el (eww-mode): Remove superfluous bidi reset.\n\n2015-12-28  James Stout  <james.wolf.stout@gmail.com>  (tiny change)\n\n\tMake chunked encoding trailer detection more compliant\n\n\t* lisp/url/url-http.el\n\t(url-http-chunked-encoding-after-change-function): Make\n\ttrailer detection more compliant (bug#16345).\n\n2015-12-28  Martin Rudalics  <rudalics@gmx.at>\n\n\tFix Bug#10873 in `report-emacs-bug'\n\n\t* lisp/mail/emacsbug.el (report-emacs-bug): If\n\t`report-emacs-bug-no-explanations' is nil, make sure we can show\n\tmail and warnings buffer on this frame (Bug#10873).\n\n2015-12-28  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAlways reset the bidi direction\n\n\t* eww.el (eww-display-html): Always reset the bidi direction\n\tto `left-to-right' (bug#22257).\n\n2015-12-28  Alan Mackenzie  <acm@muc.de>\n\n\tAllow line comments ending with escaped NL to be continued to the next line.\n\n\tUse this in C, C++, and Objective C Modes.  Fixes bug#22246\n\n\t* src/syntax.c (comment-end-can-be-escaped): New buffer local variable.\n\t(forw-comment, back-comment): On encountering an end of comment character,\n\ttest whether it is escaped when `comment-end-can-be-escaped' is non-nil.\n\n\t* doc/lispref/syntax.texi (Control Parsing): Describe\n\t`comment-end-can-be-escaped'.\n\n\t* etc/NEWS (Lisp Changes): Describe `comment-end-can-be-escaped'.\n\n\t* lisp/progmodes/cc-langs.el: New c-lang-setvar `comment-end-can-be-escaped'.\n\n2015-12-28  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tRename project-library-roots to project-external-roots\n\n\t* lisp/progmodes/project.el (project-library-roots): Rename to\n\tproject-external-roots.\n\t(project-library-roots-function): Rename to\n\tproject-vc-external-roots-function.  Only use it in the VC\n\tbackend, for now.  Update project-external-roots accordingly.\n\t(project-vc-library-roots): Remove.\n\t(project-or-libraries-find-regexp):\n\tRename to project-or-external-find-regexp.\n\n\t* lisp/progmodes/elisp-mode.el (elisp-library-roots):\n\tRename to elisp-load-path-roots.\n\n\t* lisp/progmodes/etags.el (etags-library-roots): Remove.  Use\n\tan anonymous function for the default value of\n\tproject-vc-external-roots-function.\n\n2015-12-27  Deniz Dogan  <deniz@dogan.se>\n\n\tClear erc user list upon disconnection\n\n\t* lisp/erc/erc-backend.el (erc-process-sentinel): Clear channel user\n\tlists upon disconnection.  This prevents invalid channel\n\tuser lists when reconnecting (bug#10947).\n\n2015-12-27  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDon't bug out in erc after waking from sleep\n\n\t* lisp/erc/erc-backend.el (erc-server-send-ping): If the server has\n\tclosed connection, this may already have been detected and\n\t`erc-server-last-received-time' has been set to nil (bug#13608).\n\n2015-12-27  David Edmondson  <dme@dme.org>\n\n\tProxy error in erc with multiple clients\n\n\t* lisp/erc/erc.el (erc-channel-receive-names): Fix errors\n\tgenerated when multiple IRC clients talk to a single IRC proxy\n\t(bug#19034).\n\n\tBackport:\n\n\t(cherry picked from commit 507e98a54d1aa37823c64993d6b59257a82fe8f4)\n\n2015-12-27  Dima Kogan  <dima@secretsauce.net>\n\n\tEnsure that we don't have several timers in erc\n\n\t* lisp/erc/erc-backend.el (erc-server-setup-periodical-ping): Checks\n\tfor existing timers in the alist before adding new ones.  If a\n\ttimer already exists, it is cancelled and\n\toverwritten. (bug#19292).\n\n2015-12-27  Jens Lechtenboerger  <jens.lechtenboerger@fsfe.org>\n\n\tFix mml-sec build warnings\n\n\t* lisp/gnus/mml-sec.el: Fix warnings by adding autoloads\n\t(bug#18718).\n\n\tBackport:\n\n\t(cherry picked from commit 3603097f62f5f4aa5451716e9ac380161f6829e2)\n\n2015-12-27  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDon't insert erc logs at the end\n\n\t* lisp/erc/erc-log.el (erc-log-setup-logging): Insert the previous log\n\tat the start of the buffer, not at the end (bug#20496).\n\n2015-12-27  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\t(eww-setup-buffer): Restore left-to-right defaults\n\n\t* eww.el (eww-setup-buffer): Restore left-to-right defaults.\n\n\tBackport:\n\n\t(cherry picked from commit 96c874b96b617c124d500a94de761a61f2a08685)\n\n2015-12-27  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDon't join erc channels doubly\n\n\t* lisp/erc/erc-join.el (erc-autojoin-channels): Don't join channels\n\tmore than once (if you have several nicks) (bug#20695).\n\n2015-12-27  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid leaving \"ghost\" of mouse pointer on MS-Windows\n\n\t* src/w32term.c (frame_set_mouse_pixel_position):\n\t* src/w32fns.c (Fw32_mouse_absolute_pixel_position): Momentarily\n\tdisable \"mouse trails\" when moving the mouse pointer.  (Bug#22247)\n\t* src/w32term.c (frame_set_mouse_pixel_position): Include\n\tw32common.h.\n\n2015-12-27  Krzysztof Jurewicz  <krzysztof.jurewicz@gmail.com>  (tiny change)\n\n\tFix auth source lookups from erc with port numbers\n\n\t* lisp/erc/erc.el (erc-open): `auth-source' wants strings, not port\n\tnumbers (bug#20541).\n\n2015-12-27  Fran Litterio  <flitterio@gmail.com>\n\n\tRun erc-kill-channel-hook always on exit\n\n\t* lisp/erc/erc.el (erc-kill-buffer-function): Run erc-kill-channel-hook\n\twhen erc-kill-queries-on-quit is set (bug#21187).\n\n2015-12-27  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSpelling fix\n\n\t* test/automated/url-parse-tests.el:\n\t(url-generic-parse-url/same-document-reference):\n\tRename from url-generic-parse-url/same-decument-reference.\n\n2015-12-27  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tReword initial *scratch* for brevity, appearance\n\n\t* lisp/startup.el (initial-scratch-message):\n\tReword to avoid apostrophes, and to make it shorter.\n\tSee the thread starting in:\n\thttp://lists.gnu.org/archive/html/emacs-devel/2015-12/msg01241.html\n\n2015-12-26  Leo Liu  <sdl.web@gmail.com>\n\n\tAdd ert-deftest to lisp-mode.el\n\n\t* lisp/emacs-lisp/lisp-mode.el (lisp-imenu-generic-expression,\n\t  lisp-el-font-lock-keywords-1): Add ert-deftest.\n\n2015-12-26  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMark imap changes as not needing doc changes\n\n\t* lisp/net/imap.el (imap-ssl-open): Remove\n\n2015-12-26  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tUse built-in encryption in imap.el\n\n\t* lisp/net/imap.el (imap-ssl-program): Remove (bug#21134).\n\t(imap-starttls-open): Use open-network-stream instead of starttls.el.\n\t(imap-tls-open): Use open-network-stream instead of tls.el.\n\n2015-12-26  Eli Zaretskii  <eliz@gnu.org>\n\n\tDon't try using /bin/sh in artist.el on MS-Windows\n\n\t* lisp/textmodes/artist.el (artist-figlet-get-font-list-windows):\n\tNew function.\n\t(artist-figlet-choose-font): Use it on MS-Windows and MS-DOS.\n\t(Bug#20167)\n\n2015-12-26  Wolfgang Jenkner  <wjenkner@inode.at>\n\n\tAlways define gmalloc etc. in src/gmalloc.c\n\n\tThis is a work-around to prevent the compiler from using semantic\n\tknowledge about malloc for optimization purposes.  E.g., gcc 5.2\n\twith -O2 replaces most of calloc's definition by a call to calloc;\n\tsee Bug#22085.\n\t* src/gmalloc.c [!HYBRID_MALLOC] (malloc, realloc, calloc)\n\t(aligned_alloc, free): Do not undef.  Instead, define these as\n\tfunctions (perhaps renamed to gmalloc etc.) in terms of gmalloc etc.\n\n2015-12-26  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix documentation of browse-url browser-related functions\n\n\t* lisp/net/browse-url.el (browse-url)\n\t(browse-url-default-browser, browse-url-default-windows-browser)\n\t(browse-url-default-macosx-browser, browse-url-chromium)\n\t(browse-url-kde, browse-url-text-xterm): Clarify the usage of ARGS\n\tand NEW-WINDOW arguments in these functions.  (Bug#19421)\n\n2015-12-26  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPropagate Bug#14412 fix to backtrace_eval_unrewind\n\n\t* src/eval.c (unbind_to): Redo so that the FALLTHROUGH!! comment\n\tbecomes accurate again. This shouldn\u2019t affect behavior.\n\t(backtrace_eval_unrewind): Apply the recent unbind_to fix here, too.\n\n2015-12-26  Eli Zaretskii  <eliz@gnu.org>\n\n\tDon't produce non-ASCII characters in *scratch*\n\n\t* lisp/startup.el (initial-scratch-message): Quote apostrophes to\n\tavoid producing non-ASCII characters in the *scratch* buffer's\n\tcommentary.\n\n2015-12-26  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument changes in 'compare-windows'\n\n\t* lisp/vc/compare-w.el (compare-windows-removed)\n\t(compare-windows-added): Doc fix.\n\n\t* doc/emacs/files.texi (Comparing Files): Document the changes in\n\twindow selection by 'compare-windows'.\n\n2015-12-26  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument 'vc-annotate-background-mode'\n\n\t* doc/emacs/maintaining.texi (Old Revisions): Document\n\t'vc-annotate-background-mode'.\n\n2015-12-26  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument 'vc-region-history'\n\n\t* doc/emacs/maintaining.texi (VC Change Log): Document\n\t'vc-region-history'.\n\n2015-12-26  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of 'vc-push'\n\n\t* doc/emacs/maintaining.texi (Pulling / Pushing): Expand and\n\timprove the documentation of 'vc-push'.\n\n\t* lisp/vc/vc.el (vc-pull, vc-push): Doc fix.\n\n2015-12-26  Alain Schneble  <a.s@realize.ch>\n\n\tInclude the tests for the URL parsing fixes\n\n2015-12-26  Alain Schneble  <a.s@realize.ch>\n\n\tMake relative URL parsing and resolution consistent with RFC 3986 (bug#22044)\n\n\t* test/automated/url-parse-tests.el: Add tests covering url-generic-parse-url.\n\t* test/automated/url-expand-tests.el: Add tests covering url-expand-file-name.\n\t* lisp/url/url-parse.el (url-generic-parse-url): Keep empty fragment\n\tinformation in URL-struct.\n\t* lisp/url/url-parse.el (url-path-and-query): Do not artificially turn empty\n\tpath and query into nil path and query, respectively.\n\t* lisp/url/url-expand.el (url-expander-remove-relative-links): Do not turn\n\tempty path into an absolute (\"/\") path.\n\t* lisp/url/url-expand.el (url-expand-file-name): Properly resolve\n\tfragment-only URIs. Do not just return them unchanged.\n\t* lisp/url/url-expand.el (url-default-expander): An empty path in the relative\n\treference URI should not drop the last segment.\n\n\tBackport:\n\n\t(cherry picked from commit b792ecea1715e080ad8e232d3d154b8a25d2edfb)\n\n2015-12-26  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument 'url-user-agent'.\n\n\t* lisp/url/url-http.el (url-user-agent): Move from here...\n\t* lisp/url/url-vars.el (url-user-agent): ...to here.  This is to\n\tkeep all the URL defcustoms in one place, and also have it defined\n\twhenever the URL library is loaded.\n\n\t* doc/misc/url.texi (Customization): Document 'url-user-agent'.\n\n2015-12-26  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument protocols supported by URL library via Tramp\n\n\t* doc/misc/url.texi (Tramp): New node, describes the URL schemes\n\tsupported via Tramp.\n\t(Supported URL Types, file/ftp, rlogin/telnet/tn3270): Mention\n\tTramp.\n\n2015-12-26  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument changes in Shell-script mode\n\n\t* lisp/progmodes/sh-script.el (sh-mode, sh-set-shell): Document\n\tthe 'sh-shell' file-local variable.\n\t(top level): Add an auto-load form to avoid byte-compiler warning\n\tabout 'comint-send-string'.\n\n2015-12-26  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix documentation of 'ses-define-local-printer'\n\n\t* doc/misc/ses.texi (Printer functions): Fix whitespace between\n\tsentences and punctuation.  Add an index entry for\n\t'ses-define-local-printer'.\n\n2015-12-26  Shakthi Kannan  <shakthimaan@gmail.com>\n\n\tDocument 'ert-summarize-tests-batch-and-exit'\n\n\t* doc/misc/ert.texi (Running Tests in Batch Mode): Document\n\t'ert-summarize-tests-batch-and-exit'.\n\n2015-12-26  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid assertion violation in unbind_to\n\n\t* src/eval.c (unbind_to) <SPECPDL_LET>: Avoid assertion violation\n\tif we get here with an object that is not a symbol.  (Bug#14412)\n\n2015-12-25  Andreas Schwab  <schwab@linux-m68k.org>\n\n\tDon't treat /foo/bar:mumble as ange-ftp address\n\n\t\t* lisp/net/browse-url.el (browse-url-filename-alist): Match colons\n\t\tonly in the first component.  (bug#5362)\n\n2015-12-25  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tFollow <meta> redirects in eww\n\n\tMerge conflict, but I think I resolved it.\n\n\t    Follow meta refresh tags in eww\n\n\t    * eww.el (eww-tag-meta): Follow meta refresh tags (bug#22234).\n\n\tBackport:\n\n2015-12-25  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAllow http://user:pass@foo/ URLs again\n\n\t* lisp/url/url-auth.el (url-basic-auth): Allow explicit\n\tuser/passwords in URLs (bug#19046).\n\n\tBackport:\n\n\t(cherry picked from commit b563715a2db265517d5a77f165a42afa1e233fdd)\n\n2015-12-25  Samer Masterson  <samer@samertm.com>\n\n\tAutoload url-insert-buffer-contents\n\n\t* lisp/url/url-handlers.el: Add autoload cookie so that\n\t`package-list-packages' doesn't bug out (bug#21927) (tiny change)\n\n\tBackport:\n\n\t(cherry picked from commit 7a7b5b492ff9929eecd90c4564db6fbf3b192323)\n\n2015-12-25  Eli Zaretskii  <eliz@gnu.org>\n\n\tMake sure *scratch* etc. use forward slashes in its default-directory\n\n\t* lisp/startup.el (normal-top-level): On MS-Windows, convert\n\tbackslashes to forward slashes while decoding default-directory\n\tof the initially-created buffers.\n\n2015-12-25  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMore eww file name coding fixes\n\n\t* eww.el (eww-decode-url-file-name): Use the base coding\n\tsystem to check for encodability.\n\n\tBackport:\n\n\t(cherry picked from commit a8627008abe4ab339df19b417776da28b3ce0fc7)\n\n2015-12-25  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAlways save eww history\n\n\t* eww.el (eww-setup-buffer): Always save history, even when\n\tcalled from outside the eww buffer (bug#19638).\n\n\tBackport:\n\n\t(cherry picked from commit 2a0f18d9b6ce0ccce3d9c4a4a3b5743bae71b41e)\n\n2015-12-25  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDefault web pages to right-to-left\n\n\t* eww.el (eww-mode): Most web pages are left-to-right, so make\n\tthat the default (bug#19801).\n\n\t* shr.el (shr-tag-html): Respect \"dir\" attributes\n\t(left-to-right, right-to-left).\n\n\tBackport:\n\n\t(cherry picked from commit 9e089ec8a380ec3758fcf1564c5f86dc92c68c2a)\n\n2015-12-25  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMake toggling checkboxes work again\n\n\t* eww.el (eww-update-field): Make toggling checkboxes work\n\tagain (bug#21881).\n\n\tBackport:\n\n\t(cherry picked from commit 5e56f606952e5e81b4d3a93ea70e791b74b33041)\n\n2015-12-25  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDon't store cookies with empty names\n\n\t* lisp/url/url-cookie.el (url-cookie-store): Refuse to store\n\tcookies with empty names (bug#21936).\n\n\tBackport:\n\n\t(cherry picked from commit 9f0fd7cb1aec3eb9e2e0f7b8854c30870286d96c)\n\n2015-12-25  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tStop rendering HTML before specdlr exhaustion\n\n\tFixes: 22117\n\n\t* shr.el (shr-descend): Stop rendering before we run out of\n\tspecpdl room (bug#22117).\n\n\tBackport:\n\n\t(cherry picked from commit 248da292fe46224b0b5a79b632c89cf4de2c2081)\n\n2015-12-25  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tUse cl-reduce, not reduce.\n\n\tBackport:\n\n\t(cherry picked from commit fe4606f93b91ff3d046aee0cf21ecc277af7a786)\n\n2015-12-25  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tAllow several <tbody> tags in shr\n\n\t* shr.el (shr-table-body): New function to find the real body\n\tof a table.\n\t(shr-tag-table): Use it to render several <tbody> tags in a\n\ttable (bug#22170).\n\n\tBackport:\n\n\t(cherry picked from commit cdaf33029d6620073833876d76056045ecfbc7c4)\n\n2015-12-25  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tMake prettier unique file names in eww\n\n\t(eww-make-unique-file-name): Make unique file names by making\n\tfiles like foo(2).jpg instead of foo(1)(2).jpg.\n\n\tBackport:\n\n\t(cherry picked from commit edfdd0a6cbdfa9e5e4bd0553e2b489401ca39266)\n\n2015-12-25  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tDecode hex-encoded URLs before using them as file names\n\n\t* eww.el (eww-decode-url-file-name): New function.\n\t(eww-download-callback): Use it to decode file names before\n\tsaving them.\n\n\tBackport:\n\n\t(cherry picked from commit af22a010d87516c2a646572fb27512c03057784f)\n\n2015-12-25  Ashish SHUKLA  <ashish.is@lostca.se>\n\n\tAdd FreeBSD cert bundle\n\n\t* doc/misc/emacs-gnutls.texi (Help For Users): Document\n\tFreeBSD bundle.\n\n\t* lisp/net/gnutls.el (gnutls-trustfiles): Add FreeBSD cert bundle.\n\n\tBackport:\n\n\t(cherry picked from commit 60c0f1a18ad88d6dc1a8f4ee5d9d18940eaeb6f7)\n\n2015-12-25  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tIgnore invalid SVG images\n\n\t* shr.el (shr-tag-svg): Ignore SVG images that have no width\n\tor height, because these can't be displayed by ImageMagick,\n\tanyway.\n\n\tBackport:\n\n\t(cherry picked from commit 821107d53c2e390240d25c036b99ebbf9b4a93b6)\n\n2015-12-25  Lars Ingebrigtsen  <larsi@gnus.org>\n\n\tshr table rendering fix\n\n\t* shr.el (shr-tag-table): Allow rendering body-less tables\n\tthat have headers.\n\n\tBackport:\n\n\t(cherry picked from commit b05471e42c17e02c56c87d7599ada0c124a5fe09)\n\n2015-12-25  Eli Zaretskii  <eliz@gnu.org>\n\n\tRestore info about the build host in bug reports\n\n\t* lisp/mail/emacsbug.el (report-emacs-bug): Report the system on\n\twhich Emacs was built.  This is important information for\n\tinvestigating bug reports reported by users who don't build their\n\tEmacs.\n\n2015-12-25  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix bootstrap broken by changes related to OS X file-name encoding\n\n\t* lisp/international/ucs-normalize.el (eval-when-compile): Make\n\tsure char-code-property-alist includes elements that allow access\n\tto 'decomposition' and 'canonical-combining-class' Unicode\n\tproperties, as compiling ucs-normalize.el requires that.\n\t* lisp/loadup.el (featurep 'ns): Load ucs-normalize and ns-win\n\tonly of charprop.el was already loaded.\n\n\t* src/Makefile.in ($(lispsource)/international/ucs-normalize.elc):\n\tNew order-only dependency.\n\n2015-12-25  Leo Liu  <sdl.web@gmail.com>\n\n\t* lisp/ido.el (ido-add-virtual-buffers-to-list): Use bookmark-get-filename.\n\n2015-12-25  Michael Albinus  <michael.albinus@gmx.de>\n\n\tMake tramp-test29-vc-registered more robust\n\n\t* test/automated/tramp-tests.el (tramp-test29-vc-registered):\n\tMove `bzr' case down.  Skip test when `vc-create-repo' fails.\n\tRemove instrumentation.\n\n2015-12-24  YAMAMOTO Mitsuharu  <mituharu@math.s.chiba-u.ac.jp>\n\n\t* lisp/term/x-win.el (x-gtk-stock-map): Fix typo.\n\n2015-12-24  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\tFix `gnus-union' so as to behave like `cl-union'\n\n\t* lisp/gnus/gnus-group.el (gnus-group-prepare-flat):\n\tMake gnus-union use `equal' to compare items in lists.\n\n\t* lisp/gnus/gnus-util.el (gnus-union):\n\tMake it behave like cl-union partially.\n\n2015-12-23  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix dired.c typo with ptrdiff_t vs Lisp_Object\n\n\t* src/dired.c (file_name_completion): Don't assume Lisp_Object is\n\tan integer type, fixing a problem introduced in the recent fix for\n\tBug#22169.\n\n2015-12-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument default process sentinel more prominently\n\n\t* doc/lispref/processes.texi (Asynchronous Processes): Mention the\n\tdefaults for process filter and sentinel.  Provide cross-references.\n\t(Process Information): Provide cross-references to where filters\n\tand sentinels are described.\n\t(Filter Functions): Add an index entry for \"default filter\".\n\t(Sentinels): Add a few status messages not documented previously.\n\tResolve the \"killed\" confusion.  Document and describe the default\n\tsentinel.  (Bug#22220)\n\n2015-12-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix file-name completion on OS X\n\n\t* src/dired.c (file_name_completion): Reject false matches due to\n\tfile-name-coding-systems that decompose characters when encoding\n\tfile names, by comparing decoded file names as well.  (Bug#22169)\n\t(syms_of_dired) <Qdecomposed_characters>: New DEFSYM.\n\n\t* lisp/international/ucs-normalize.el (utf-8-hfs): Give it a\n\tnon-nil 'decomposed-characters' property.\n\n2015-12-23  Anders Lindgren  <andlind@gmail.com>\n\n\tFile-name completion of non-ASCII characters on OS X (bug#22169)\n\n\tThe coding system `utf-8-nfd', locally defined in ns-win.el,\n\tdidn't provide a :pre-write-conversion method, causing file name\n\tcompletion of non-ASCII characters to fail.  Solved by using the\n\t`utf-8-hfs' coding system provided by `ucs-normalize'.\n\n\t* lisp/loadup.el: Load international/ucs-normalize (when building\n\tfor ns).\n\n\t* lisp/term/ns-win.el (utf-8-nfd): Made `utf-8-nfd' as alias for\n\t`utf-8-hfs' and removed the old implementation.  Set `utf-8-hfs'\n\tas the file name coding system.\n\n\t* src/nsfns.m (ns-convert-utf8-nfd-to-nfc): Removed.\n\n2015-12-23  Tom Tromey  <tom@tromey.com>\n\n\tFix bug #18588 by making bug-reference-bug-regexp more lenient\n\n\t* lisp/progmodes/bug-reference.el (bug-reference-bug-regexp): Accept\n\t\"bug NNNN\".  (Bug #18588)\n\n2015-12-23  Tom Tromey  <tom@tromey.com>\n\n\tadd some cl-* aliases to lisp-mode imenu\n\n\t* (lisp-imenu-generic-expression): Add cl-define-compiler-macro,\n\tcl-defgeneric, and cl-defmethod.\n\n2015-12-22  Tom Tromey  <tom@tromey.com>\n\n\tMake a variable buffer-local\n\n\t* lisp/generic-x.el (generic-rul-mode-setup-function): Make\n\tfont-lock-syntax-table buffer-local.  (Bug #21627)\n\n2015-12-22  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix decoding of text in URLs retrieved by EWW\n\n\t* lisp/net/eww.el (eww-render): Pass 'charset' to\n\t'eww-display-raw'.  Use the value of 'last-coding-system-used', if\n\tnon-nil, to set 'buffer-file-coding-system' of the buffer where we\n\tshow the URL.\n\t(eww-display-html, eww-display-raw): Decode the text correctly,\n\tusing the charset found in the headers, and defaulting to UTF-8.\n\tIf the user told us to use a specific encoding, override the\n\tcharset from the headers.  (Bug#22222)\n\n2015-12-22  Alan Mackenzie  <acm@muc.de>\n\n\tFix a coding error in c-forward-<>-arglist-recur.  Fixes bug#22156\n\n\t* lisp/progmodes/cc-engine.el (c-forward-<>-arglist-recur): Remove unused\n\tvariable `tmp'.\n\tAfter a failed search for a matching \">\", restore point before continuing.\n\n2015-12-22  Michael Albinus  <michael.albinus@gmx.de>\n\n\tInstrument Tramp tests\n\n\t* test/automated/tramp-tests.el (tramp-test29-vc-registered)\n\t(tramp--test-utf8): Instrument tests.\n\n2015-12-22  Martin Rudalics  <rudalics@gmx.at>\n\n\tFix `display-buffer' call in `display-message-or-buffer' (Bug#22221)\n\n\t* lisp/simple.el (display-message-or-buffer): Call\n\t`display-buffer' with ACTION instead of NOT-THIS-WINDOW\n\t(Bug#22221).\n\n2015-12-22  Juri Linkov  <juri@linkov.net>\n\n\t* lisp/saveplace.el (toggle-save-place, save-place-to-alist)\n\n\t(save-places-to-alist, save-place-dired-hook):\n\tCheck for dired-subdir-alist.  (Bug#19851)\n\n2015-12-21  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tAdd FIXME comment re stack overflow and modules\n\n2015-12-21  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRevert some recent emacs-module commentary\n\n\tMost of the recently-added commentary was incorrect, due to the\n\tpossibility of stack overflow.\n\n2015-12-21  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSpelling fix: prefer \"cooperate\" to \"co-operate\"\n\n2015-12-21  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort undo fixes to -fno-common\n\n\tPort recent fix for Bug#21968 to platforms like 'gcc -fno-common'.\n\t* src/keyboard.c, src/keyboard.h (point_before_last_command_or_undo)\n\t(buffer_before_last_command_or_undo):\n\tDeclare in keyboard.h, and define in keyboard.c,\n\tinstead of assuming the traditional Unix relaxed ref-def linkage.\n\n2015-12-20  Philipp Stephani  <phst@google.com>\n\n\tImprove commentary for emacs-module.c\n\n\t* src/lisp.h: Document emacs-module.c assumptions about EQ and NILP.\n\t* src/emacs-module.c (module_non_local_exit_get): Document that we\n\tcannot use the current implementation.\n\t(module_is_not_nil, module_eq): Document assumptions about EQ and\n\tNILP.\n\n2015-12-20  Michael Albinus  <michael.albinus@gmx.de>\n\n\tSuppress test on Mac OS X\n\n\t* test/automated/tramp-tests.el (tramp--test-darwin-p): New defun.\n\t(tramp--test-utf8): Use it.\n\n2015-12-20  Alan Mackenzie  <acm@muc.de>\n\n\tMerge branch 'scratch/follow' into emacs-25\n\n\tThis allows Isearch, etc., to work well when Follow Mode is active.\n\n2015-12-19  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* lisp/net/tramp-sh.el (tramp-get-ls-command-with-w-option): Improve check.\n\n2015-12-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix last commit\n\n\t* doc/emacs/rmail.texi (Rmail Deletion): Document new behavior of 'u'\n\twith numeric argument.\n\n2015-12-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument new features of Rmail\n\n\t* doc/emacs/rmail.texi (Rmail Summary Edit, Rmail Deletion):\n\tDocument new behavior of 'd' and 'C-d' with numeric argument.\n\t(Rmail Display): Document the rendering of HTML MIME parts.\n\n2015-12-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of new cl-lib functions\n\n\t* doc/misc/cl.texi (Predicates on Numbers, Numerical Functions):\n\tFix wording.\n\n2015-12-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument the new feature of 'minibuffer-with-setup-hook'\n\n\t* lisp/files.el (minibuffer-with-setup-hook): Clarify how FUN is\n\tadded to `minibuffer-setup-hook'.\n\n2015-12-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument new features of Font Lock\n\n\t* doc/lispref/modes.texi (Other Font Lock Variables): Document\n\t'font-lock-flush-function' and 'font-lock-ensure-function'.\n\t(Font Lock Basics): Document the basic fontification functions\n\treferenced in \"Other Font Lock Variables\".\n\n\t* lisp/font-lock.el (font-lock-flush, font-lock-ensure): Doc fix.\n\n2015-12-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument new features of Rectangle mode\n\n\t* doc/emacs/killing.texi (Rectangles): Document \"C-x C-x\" in\n\trectangle-mark-mode.\n\n2015-12-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tManual followup to last change\n\n\t* doc/lispref/display.texi (Displaying Messages): Sync with the\n\tdoc string.  (Bug#22210)\n\n2015-12-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tClarify doc string of 'display-message-or-buffer'\n\n\t* lisp/simple.el (display-message-or-buffer): Doc fix.  Suggested\n\tby Sebastian Wiesner <swiesner@lunaryorn.com>.  (Bug#22210)\n\n2015-12-19  Eli Zaretskii  <eliz@gnu.org>\n\n\t* doc/emacs/emacs.texi (Top): Update top-level menus.\n\n\t* doc/lispref/elisp.texi (Top): Update top-level menus.\n\n2015-12-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument how to avoid file-local variables that aren't\n\n\t* doc/emacs/custom.texi (Specifying File Variables): Describe how\n\tto prevent Emacs from interpreting unrelated text as file-local\n\tvariables.  (Bug#22166)\n\n2015-12-19  Dave Thomas  <dave@pragprog.org>  (tiny change)\n\n\tFix a typo in eterm-color's termcap entry\n\n\t* lisp/term.el (term-termcap-format): Fix a typo in the \"ue=\"\n\tentry.  (Bug#22184)\n\n2015-12-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tAllow 'browse-url-emacs' visit non-existent URLs\n\n\t* lisp/url/url-handlers.el (url-insert-file-contents): Don't\n\tsignal an error if VISIT is non-nil, to more faithfully emulate\n\tthe behavior of 'insert-file-contents'.  (Bug#22160)\n\n2015-12-19  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRemove SunOS 4.x cruft\n\n\tSupport for SunOS 4.x was removed in Emacs 23 but some cruft was left behind.\n\t* lib-src/pop.c [sun]: Remove no-longer-needed include.\n\t* lwlib/xlwmenu.c (SUNSO41): Remove.\n\n2015-12-19  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from gnulib\n\n\tThis mostly commentary fixes.\n\t* doc/misc/texinfo.tex, lib/intprops.h: Copy from gnulib.\n\t* lib/gnulib.mk: Regenerate with new gnulib-tool.\n\n2015-12-18  Michael Albinus  <michael.albinus@gmx.de>\n\n\tMinor fixes in Tramp\n\n\t* lisp/net/tramp-sh.el (tramp-do-file-attributes-with-ls):\n\tReorder ls arguments.\n\n\t* lisp/net/tramp.el (tramp-dissect-file-name): Fix docstring.\n\n2015-12-18  Michael Albinus  <michael.albinus@gmx.de>\n\n\tMake tramp a built-in package\n\n\t* lisp/finder.el (finder-compile-keywords): Update\n\t`package--builtins' also when Version: keyword is available.\n\n\t* lisp/net/trampver.el: Add Version: keyword.\n\t(tramp-version): Change it to \"2.2.13.25.1\", in order to be\n\tcompatible with `version-to-list'.\n\n2015-12-18  Lele Gaifax  <lele@metapensiero.it>\n\n\t* etc/tutorials/TUTORIAL.it: Update and fix typos.\n\n2015-12-18  Alan Mackenzie  <acm@muc.de>\n\n\tRename `recenter-group' to `recenter-window-group'\n\n\t* doc/lispref/windows.texi (Textual Scrolling)\n\t* lisp/window.el (top level, recenter-group)\n\t* lisp/follow.el (follow-mode)\n\t* lisp/isearch.el (isearch-back-into-window): Rename `recenter-group' to\n\t`recenter-window-group' and `recenter-group-function' to\n\t`recenter-window-group-function'.\n\n2015-12-18  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix vertical-motion in tabulated-list mode\n\n\t* src/indent.c (Fvertical_motion): When moving from line beginning\n\tto point under line truncation, assume overshoot by one line only\n\tif point actually lies beyond the window's right margin.\n\t(Bug#22194)\n\n2015-12-18  Martin Rudalics  <rudalics@gmx.at>\n\n\tDon't have help functions call x-display-pixel-width/-height on ttys\n\n\t* lisp/help.el (temp-buffer-max-height, temp-buffer-max-width):\n\tDon't call x-display-pixel-width/-height on ttys.\n\n2015-12-18  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tUse 'hg id' in vc-hg-previous-revision\n\n\t* lisp/vc/vc-hg.el (vc-hg-previous-revision):\n\tUse 'hg id' to retrieve it (bug#22032).\n\n2015-12-17  Alan Mackenzie  <acm@muc.de>\n\n\t* lisp/follow.el (follow-sit-for): Remove (it's redundant).\n\n2015-12-17  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix a typo in the Emacs manual\n\n\t* doc/emacs/trouble.texi (Sending Patches): Fix a typo.  Reported\n\tby Lele Gaifax <lele@metapensiero.it>.  (Bug#22193)\n\n2015-12-17  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix parsing netrc entries with ports\n\n\t* lisp/gnus/auth-source.el (auth-source-ensure-strings): Don't\n\tmake a list out of 't'.  (Bug#22188)\n\n\t* test/automated/auth-source-tests.el\n\t(auth-source-test-netrc-parse-entry): New test.\n\n2015-12-17  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix typo in Doug Lea malloc configure log\n\n\t* configure.ac (emacs_cv_var_doug_lea_malloc):\n\tFix typo that confused the log output of 'configure'.\n\n2015-12-16  Nicolas Petton  <nicolas@petton.fr>\n\n\t* etc/NEWS: Mention the new pcase patterns `seq' and `map'.\n\n2015-12-16  Alan Mackenzie  <acm@muc.de>\n\n\t* etc/NEWS: Move entry on pcase to correct section\n\n\t(Accidentally omitted from previous commit)\n\n2015-12-16  Alan Mackenzie  <acm@muc.de>\n\n\tAdd documentation for changes to Show Paren mode.\n\n\t* lisp/paren.el (show-paren-highlight-openparen): Enhance doc string.\n\n\t* doc/emacs/programs.texi (Matching): Add descriptions of some pertinent user\n\toptions, including the new show-paren-when-point-inside-paren and\n\tshow-paren-when-point-in-periphery.\n\n\t* etc/NEWS (.. Specialized Modes ...): Add an entry for Show Paren mode.\n\tMove an entry on pcase to the Lisp Changes section.\n\n2015-12-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument Eldoc changes\n\n\t* doc/emacs/programs.texi (Lisp Doc): Document Global Eldoc mode.\n\n2015-12-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix invocation of Python and Guile interpreters from gdb-mi\n\n\t* lisp/progmodes/gdb-mi.el (gdb-control-commands-regexp): Add\n\tcommands for interactive Python and Guile interpreters.\n\t(gdb-send): Recognize various ways of exiting from Python and\n\tGuile interpreters and returning to GDB.  For details, see\n\thttp://lists.gnu.org/archive/html/emacs-devel/2015-12/msg00693.html\n\tand http://stackoverflow.com/questions/31514741.\n\n2015-12-16  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRemove attempt to use C11 threads\n\n\tC11 threads are not needed for Emacs now, and their use is causing\n\thassles on FreeBSD 10.x.  Problem reported by Ashish SHUKLA in:\n\thttp://lists.gnu.org/archive/html/emacs-devel/2015-12/msg00648.html\n\t* configure.ac: Do not check for C11 threads. Remove unnecessary\n\tfiddling with CPPFLAGS when configuring pthreads.\n\t* src/emacs-module.c (main_thread, check_main_thread)\n\t(module_init): Do not worry about C11 threads.\n\n2015-12-15  Michael Albinus  <michael.albinus@gmx.de>\n\n\tSet utf8 encoding with stty in Tramp\n\n\t* lisp/net/tramp-sh.el (tramp-open-connection-setup-interactive-shell):\n\tMove up uname check.  Handle Mac OS X eol encoding.  Set utf8\n\tencoding with stty.\n\n2015-12-15  Alan Mackenzie  <acm@muc.de>\n\n\tTidy up documentation associated with window groups.\n\n\t* doc/lispref/windows.texi (Basic Windows): Add an @anchor for \"Window\n\tGroups\".  Correct example function to `window-group-start'.\n\t(Window Start and End, Textual scrolling): Point to the new anchor.  State\n\tthat (most of) the args in window group functions have the same meaning as for\n\tthe corresponding window primitives.\n\n\t* doc/lispref/positions.texi (Screen Lines).  Same as above.\n\n2015-12-15  Michael Albinus  <michael.albinus@gmx.de>\n\n\tComplete last commit\n\n\t* lisp/net/tramp-sh.el (tramp-open-connection-setup-interactive-shell):\n\tMove uname check up.  Handle Mac OS X eol encoding.\n\n2015-12-15  Michael Albinus  <michael.albinus@gmx.de>\n\n\tHandle Mac OS X eol encoding in Tramp\n\n\t* lisp/net/tramp-sh.el (tramp-open-connection-setup-interactive-shell):\n\tHandle Mac OS X eol encoding.\n\n2015-12-15  YAMAMOTO Mitsuharu  <mituharu@math.s.chiba-u.ac.jp>\n\n\tFix variable name typo in compute_tip_xy\n\n\t* src/w32fns.c (compute_tip_xy):\n\t* src/xfns.c (compute_tip_xy): Modify *root_x instead of *root_y\n\twhen `right' is integer.\n\n2015-12-14  foudfou  <foudil.newbie+git@gmail.com>\n\n\t* lisp/ibuffer.el: Add ability to (un-)mark or delete buffers in the region.\n\n2015-12-14  Tassilo Horn  <tsdh@gnu.org>\n\n\tRevert \"Fix rx matcher overflow without limiting\"\n\n\tThis reverts commit fe27e037663d36be3e5741c2ce86ab4ee8017db1.\n\n2015-12-14  Alan Mackenzie  <acm@muc.de>\n\n\tIspell: Bind isearch-regexp-function to nil around call to isearch..-new-loop\n\n\t* lisp/textmodes/ispell.el (ispell-highlight-spelling-error-overlay): bind\n\tisearch-regexp-function to nil around call to isearch-lazy-highligh-new-loop.\n\n2015-12-14  Tassilo Horn  <tsdh@gnu.org>\n\n\tFix rx matcher overflow without limiting\n\n\t* lisp/textmodes/reftex-vars.el (reftex-label-regexps): Improve last\n\tchange to the regexp without imposing a limit on the length of the\n\toptions.\n\n2015-12-14  Alan Mackenzie  <acm@muc.de>\n\n\tEnhance ispell-skip-region-alist by generating part of it at runtime.\n\n\t* lisp/textmodes/ispell.el (ispell--\\\\w-filter, ispell--make-\\\\w-expression)\n\t(ispell--make-filename-or-URL-re): New functions which generate a regexp.\n\t(ispell-skip-region-alist): Remove the bit that matches a filename/URL, etc.\n\t(ispell-begin-skip-region-regexp, ispell-skip-region-list, ispell-message):\n\tInclude the result of ispell--make-filename-or-URL-re in regexps.\n\n2015-12-14  Glenn Morris  <rgm@gnu.org>\n\n\t* build-aux/gitlog-to-emacslog: Ignore more pointless merge commits.\n\n2015-12-14  Alan Mackenzie  <acm@muc.de>\n\n\tReplace GROUP argument in six window primitives by new functions.\n\n\t* doc/lispref/windows.texi (Window Start and End, Textual Scrolling)\n\t* doc/lispref/positions.texi (Screen Lines): Remove optional GROUP argument\n\tfrom description of six window functions.  Add in description of new functions\n\twindow-group-start, window-group-end, set-window-group-start,\n\tpos-visible-in-window-group-p, recenter-group and move-to-window-group-line,\n\ttogether with the six variables indirecting to the pertinent group\n\tfunctions.\n\n\t* src/window.c\n\t* src/keyboard.c: Revert the commit from 2015-11-11 12:02:48, in so far as it\n\tapplies to these two files, which added the GROUP argument to six window\n\tprimitives.\n\n\t* lisp/follow.el (follow-mode): Use updated variable names for the indirected\n\tfunctions.\n\n\t* lisp/isearch.el (isearch-update, isearch-done, isearch-string-out-of-window)\n\t(isearch-back-into-window, isearch-lazy-highlight-new-loop)\n\t(isearch-lazy-highlight-search, isearch-lazy-highlight-update): Replace calls\n\tto window primitives (e.g. window-start) with a GROUP argument by calls to\n\tnew functions (e.g. window-group-start).\n\n\t* lisp/ispell.el (ispell-command-loop): Replace call to\n\tpos-visible-in-window-p with pos-visible-in-window-group-p.\n\n\t* lisp/window.el (window-group-start, window-group-end)\n\t(set-window-group-start, recenter-group, pos-visible-in-window-group-p)\n\t(selected-window-group, move-to-window-group-line): New functions.\n\t(window-group-start-function, window-group-end-function)\n\t(set-window-group-start-function, recenter-group-function)\n\t(pos-visible-in-window-group-p-function, selected-window-group-function)\n\t(move-to-window-group-line-function): New variables.\n\n2015-12-14  Vitorio Miguel  <vdrbandeiras@gmail.com>  (tiny change)\n\n\t* etc/tutorials/TUTORIAL.pt_BR: Fix a typo.  (Bug#22165)\n\n2015-12-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tMerge branch 'emacs-25' of git.savannah.gnu.org:/srv/git/emacs into emacs-25\n\n2015-12-13  Tassilo Horn  <tsdh@gnu.org>\n\n\tImprove regex to not trigger stack overflow\n\n\t* lisp/textmodes/reftex-vars.el (reftex-label-regexps): Improve regex in\n\torder not to trigger a stack overflow in regex matcher with unbalanced\n\tbrackets (bug#22146).\n\n2015-12-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix visiting files with raw-text\n\n\t* src/fileio.c (Finsert_file_contents): Fix setting buffer unibyte\n\twhen some stuff was actually read.  (Bug#22162)\n\n2015-12-13  Tassilo Horn  <tsdh@gnu.org>\n\n\tFix regex matching keyval labels\n\n\t* lisp/textmodes/reftex-vars.el (reftex-label-regexps): Fix regexp\n\tmatching keyval labels.\n\n2015-12-13  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* lisp/ido.el (ido-file-name-all-completions-1): Do not raise an error\n\n\t... in case of Tramp.  (Bug#20821)\n\n2015-12-13  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix performance regression with gcc -O0\n\n\tThis fixes the smaller performance hit that I noted in:\n\thttps://lists.gnu.org/archive/html/emacs-devel/2015-12/msg00357.html\n\t* src/alloc.c (macro_XPNTR_OR_SYMBOL_OFFSET, macro_XPNTR):\n\t* src/puresize.h (puresize_h_PURE_P)\n\t(puresize_h_CHECK_IMPURE):\n\tNew macros, with the old contents of the functions.\n\t* src/alloc.c (XPNTR_OR_SYMBOL_OFFSET, XPNTR):\n\t* src/puresize.h (PURE_P, CHECK_IMPURE):\n\tUse the new macros.  Also macros, if DEFINE_KEY_OPS_AS_MACROS.\n\t* src/conf_post.h (ATTRIBUTE_UNUSED):\n\t* src/lisp.h (DEFINE_KEY_OPS_AS_MACROS): New macros.\n\n2015-12-12  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el (package-unpack): Security check\n\n\tCheck that we received the package we were offered.\n\n2015-12-12  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el (package--compile): Don't activate\n\n\t`package-unpack' takes care of all activations now (other than\n\t`package-initialize).  `package--compile' now only compiles.\n\n2015-12-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument the new bindings of <UP> and <DOWN> in the minibuffer\n\n\t* doc/emacs/mini.texi (Minibuffer History): Describe the new\n\tbindings of <UP> and <DOWN> in the minibuffer.\n\n2015-12-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument new features of Ido\n\n\t* doc/misc/ido.texi (Misc): Document 'C-S-b'.\n\n2015-12-12  Martin Rudalics  <rudalics@gmx.at>\n\n\tFix frame height calculations with added menu bar on Windows (Bug#22105)\n\n\t* doc/lispref/frames.texi (Parameter Access): Mention pitfalls\n\twhen simultaneously specifying multiple parameters for\n\t`modify-frame-parameters' that all may change the frame's size.\n\t* src/w32fns.c (x_set_menu_bar_lines): Don't set\n\twindows_or_buffers_changed here.\n\t(my_create_tip_window, Fx_show_tip): Call AdjustWindowRect\n\twith third argument false.\n\t* src/w32menu.c (set_frame_menubar): Set\n\twindows_or_buffers_changed here.\n\t* src/w32term.c (x_set_window_size): Determine third argument of\n\tAdjustWindowRect from whether the frame has a menu bar and not\n\tfrom whether it wants one.\n\n2015-12-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument the change in interactive shell mode\n\n\t* doc/emacs/misc.texi (Interactive Shell): Document that the\n\t'*shell*' buffer by default displays in a new window.\n\n2015-12-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument new features of package.el\n\n\t* doc/emacs/package.texi (Package Menu): Document the 'external'\n\tstatus and the new menu commands.\n\t(Package Installation): Document archive priorities.\n\n\t* lisp/emacs-lisp/package.el (package-archive-priorities): Doc fix.\n\t(package-menu-hide-low-priority): Doc fix.\n\n2015-12-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tUpdate and document new features of xterm support\n\n\t* doc/emacs/frames.texi (Text-Only Mouse): Document that\n\ttrack-mouse is supported by newer xterm versions.\n\n2015-12-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument new features of Prettify Mode\n\n\t* doc/emacs/programs.texi (Misc for Programs): Document\n\t'prettify-symbols-compose-predicate' and\n\t'prettify-symbols-unprettify-at-point'.\n\n\t* lisp/progmodes/prog-mode.el (prettify-symbols-alist)\n\t(prettify-symbols-default-compose-p)\n\t(prettify-symbols-compose-predicate)\n\t(prettify-symbols--compose-symbol): Doc fixes.\n\n2015-12-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument multi-mode indentation facilities\n\n\t* doc/lispref/text.texi (Mode-Specific Indent): Document\n\t'prog-indentation-context', 'prog-first-column', and 'prog-widen'.\n\n\t* lisp/progmodes/prog-mode.el (prog-indentation-context)\n\t(prog-widen): Doc fixes.\n\n2015-12-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument 'vc-refresh-state'\n\n\t* doc/emacs/maintaining.texi (Version Control): Document\n\t'vc-refresh-state'.\n\n\t* lisp/vc/vc-hooks.el (vc-refresh-state): Doc fix.\n\n2015-12-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix echo for \"C-u\"\n\n\t* src/keyboard.c (command_loop_1): Undo last change.  It caused\n\tduplicate echo of C-u.  (Bug#22107)\n\n2015-12-11  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid errors when creating files under SVN in new directory\n\n\t* lisp/vc/vc-svn.el (vc-svn-registered): Use\n\tfile-accessible-directory-p, to avoid cd'ing to a non-existing\n\tdirectory, which signals an error on some systems.  (Bug#21984)\n\t(vc-svn-checkin): Call log-edit-extract-headers with 2 arguments.\n\tUse declare-function to avoid byte-compiler warnings.\n\n2015-12-11  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove Lua support in etags\n\n\t* lib-src/etags.c (Lua_functions): Skip spaces before looking for\n\t\"function\".\n\n\t* etc/NEWS: Mention improved Lua support by 'etags'.\n\n\t* test/etags/lua-src/test.lua (test): Add tests for indented\n\tfunction definitions.\n\t* test/etags/ETAGS.good_1:\n\t* test/etags/ETAGS.good_2:\n\t* test/etags/ETAGS.good_3:\n\t* test/etags/ETAGS.good_4:\n\t* test/etags/ETAGS.good_5:\n\t* test/etags/ETAGS.good_6:\n\t* test/etags/CTAGS.good: Adapt to the modified Lua tests.\n\n2015-12-11  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix 'this-command-keys' wrt prefix argument\n\n\t* src/keyboard.c (command_loop_1): Restore the feature whereby C-u\n\twas part of this-command-keys, but not of this-single-command-keys.\n\t(Bug#22107)\n\n\t* lisp/simple.el (internal-echo-keystrokes-prefix): Add\n\tcommentary about the function's return value.\n\n2015-12-11  Eli Zaretskii  <eliz@gnu.org>\n\n\t* lisp/files.el (load-library): Doc fix.  (Bug#22140)\n\n2015-12-11  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove and document Ruby support in 'etags'\n\n\t* lib-src/etags.c (Ruby_suffixes): Add \".ruby\".\n\t(Ruby_functions): Support \"module\" and overloaded operators.\n\t(Ruby_help): Mention \"module\".\n\n\t* test/etags/ruby-src/test.rb:\n\t* test/etags/ruby-src/test1.ru: New files.\n\t* test/etags/Makefile (RBSRC): New tests.\n\t(SRCS): Add ${RBSRC}.\n\t* test/etags/ETAGS.good_1:\n\t* test/etags/ETAGS.good_2:\n\t* test/etags/ETAGS.good_3:\n\t* test/etags/ETAGS.good_4:\n\t* test/etags/ETAGS.good_5:\n\t* test/etags/ETAGS.good_6:\n\t* test/etags/CTAGS.good: Adapt to the new Ruby tests.\n\n\t* doc/man/etags.1: Mention Ruby support.\n\t* etc/NEWS: Mention Ruby support.\n\n2015-12-11  Xi Lu  <lx@shellcodes.org>\n\n\tInitial support for Ruby in 'etags'\n\n\t* lib-src/etags.c <Ruby_suffixes>: New variable.\n\t(lang_names): Add an entry for Ruby.\n\t(Ruby_functions): New function.  (Bug#22116)\n\n2015-12-11  Eli Zaretskii  <eliz@gnu.org>\n\n\tClarify documentation of 'modify-frame-parameters'\n\n\t* doc/lispref/frames.texi (Parameter Access): Clarify what \"ignored\n\tPARMs\" mean for 'modify-frame-parameters'.\n\n\t* src/frame.c (Fmodify_frame_parameters): Clarify what \"ignored\n\tPARMs\" mean for this function.  (Bug#22104)\n\n2015-12-11  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix setting buffer unibyte when reading from a device\n\n\t* src/fileio.c (Finsert_file_contents): Call Fset_buffer_multibyte\n\tto make a (possibly non-empty) buffer unibyte.  (Bug#22096)\n\n2015-12-11  Eli Zaretskii  <eliz@gnu.org>\n\n\tClarify documentation of 'values'\n\n\t* doc/lispref/eval.texi (Eval): Clarify that 'values' are not\n\tupdated by any evaluation commands in 'lisp-interaction-mode'.\n\t(Bug#22056)\n\n2015-12-11  Anders Lindgren  <andlind@gmail.com>\n\n\tFixed subversion vc error when opening file in new directory (bug#21984).\n\n\t* lisp/vc/vc-svn.el (vc-svn-registered): Check if directory exists.\n\n2015-12-09  Eli Zaretskii  <eliz@gnu.org>\n\n\tYet another fix for when point ends up in invisible text\n\n\t* src/xdisp.c (redisplay_window): When someone forced\n\twindow-start, and honoring that failed to show the cursor, try\n\tmoving out of invisible text, before falling back to the middle of\n\tthe window.  (Bug#22098)\n\n2015-12-09  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix error in Tramp perl script for cygwin\n\n\t* lisp/net/tramp-sh.el (tramp-perl-file-truename): Do not raise an\n\terror if file doesn't exist.\n\n2015-12-09  YAMAMOTO Mitsuharu  <mituharu@math.s.chiba-u.ac.jp>\n\n\tRemove font workaround for limited outdated versions\n\n\t* src/macfont.m (mac_font_descriptor_get_adjusted_weight): Remove\n\tworkaround for HiraginoSans-W7 on OS X 10.11 and 10.11.1.\n\n2015-12-09  Anders Lindgren  <andlind@gmail.com>\n\n\tDon't add \".\" to load path (bug#21104)\n\n\tWhen configured with --enable-locallisppath=no, which is the\n\tdefault for OS X, the load-path incorrectly was populated with \".\".\n\n\t* src/lread.c (init_lread): Don't call `decode_env_path' when\n\tPATH_SITELOADSEARCH is empty.\n\n2015-12-08  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el (package--with-response-buffer):\n\n\tSearch for the blank-line in the right buffer.\n\n2015-12-08  Glenn Morris  <rgm@gnu.org>\n\n\t* test/automated/simple-test.el (undo-auto-boundary-timer): Update\n\tfor recent change.\n\n2015-12-08  Glenn Morris  <rgm@gnu.org>\n\n\tFix some display-warning usage.\n\n\t* lisp/files.el (hack-local-variables, hack-dir-local-variables):\n\t* lisp/calendar/diary-lib.el (diary-include-files, diary-sexp-entry):\n\t* lisp/calendar/holidays.el (calendar-holiday-list):\n\t* lisp/mail/rmailout.el (rmail-output-read-file-name):\n\tFix display-warning usage.\n\n2015-12-08  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/calendar/cal-html.el: Require diary-lib.\n\n\t(cal-html-list-diary-entries): Handle no diary.  (Bug#21994)\n\n2015-12-08  Thomas Fitzsimmons  <fitzsim@fitzsim.org>\n\n\tAdd Obsolete-since header to eudcb-ph.el\n\n\t* lisp/obsolete/eudcb-ph.el: Add Obsolete-since header.\n\n2015-12-07  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSpelling fixes\n\n\t* doc/misc/calc.texi (Predefined Units): Use the bland modern\n\tscientific style for spelling the units \u201campere\u201d and\n\t\u201cangstrom\u201d rather than the older style \u201cAmpere\u201d and\n\t\u201c\u00c5ngstrom\u201d.  The latter spelling was wrong anyway (it should\n\thave been \u201c\u00c5ngstr\u00f6m\u201d).\n\t* lisp/emacs-lisp/ert.el (ert--explain-equal-rec):\n\tFix misspelling of \u2018atom\u2019 in code.\n\n2015-12-07  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of kill commands\n\n\t* lisp/simple.el (region-extract-function, delete-backward-char)\n\t(delete-forward-char, kill-region, copy-region-as-kill)\n\t(kill-ring-save): Better document the optional argument REGION in\n\tthe doc strings.  Mention in the doc strings that text put in the\n\tkill-ring can be filtered by 'filter-buffer-substring'.\n\n\t* doc/lispref/text.texi (Kill Functions): Mention that functions\n\tdescribed in this subsection can filter text they put in the\n\tkill-ring.  Add a cross-reference to \"Buffer Contents\" and an\n\tindex entry.  Document the optional argument 'region' and its\n\teffect.\n\t(Bug#21315)\n\n2015-12-07  Alan Mackenzie  <acm@muc.de>\n\n\tFurther progress making Isearch, Ispell, Replace work with Follow Mode.\n\n\t* lisp/follow.el: (follow-mode): Remove references to sit*-for-function, which\n\tno longer exists.  Add follow-post-command-hook to  three special purpose\n\thooks at setup, and remove them at tear down.\n\n\t* lisp/isearch.el: (isearch-update): invoke isearch-update-post-hook before\n\tisearch-lazy-highlight-new-loop.\n\t(isearch-lazy-highlight-new-loop): Restore this function to what it previously\n\twas, merging the functionality of isearch-lazy-highlight-maybe-new-loop into\n\tit.\n\t(isearch-lazy-highlight-maybe-new-loop): function removed.\n\n\t* lisp/replace.el: (replace-update-post-hook): New hook variable.\n\t(perform-replace): Add second (nil) argument to looking-back.  Invoke\n\treplace-update-post-hook before calling replace-highlight.\n\n\t* lisp/textmodes/ispell.el: (ispell-update-post-hook): New hook variable.\n\t(ispell-command-loop): invoke ispell-update-post-hook.  Add GROUP argument to\n\tcall of pos-visible-in-window-p.\n\t(ispell-display-buffer): Place *Choices* window at the top of the last window\n\tin a window group.\n\n2015-12-07  Alan Mackenzie  <acm@muc.de>\n\n\tAmend doc of `mapconcat': it can take sequences, not merely strings.\n\n\t* doc/lispref/functions.texi (Mapping Functions): Amend the doc of `mapconcat'\n\tto say that SEPARATOR and the results from FUNCTION may be any character\n\tsequences, not just strings.  Add an @xref to \"Sequences Arrays Vectors\".\n\n2015-12-07  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix an utf8 problem for Tramp on BSD\n\n\t* lisp/net/tramp-sh.el (tramp-open-connection-setup-interactive-shell):\n\tMake lax check for utf8.\n\t(tramp-get-remote-locale): Add \"en_US.UTF-8\" as candidate.\n\n2015-12-07  Thomas Fitzsimmons  <fitzsim@fitzsim.org>\n\n\tMake eudcb-ph.el obsolete\n\n\t* doc/misc/eudc.texi: Bump version to 1.40.0.\n\tRemove PH/QI sections and mentions.\n\t* lisp/obsolete/eudcb-ph.el: Make obsolete.\n\t* lisp/net/eudc-vars.el (eudc-known-protocols): Remove ph.\n\t(eudc-ph-bbdb-conversion-alist): Make obsolete.\n\t* etc/NEWS: Mention this.  (Bug#21191)\n\n2015-12-07  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRemove overenthusiastic eassert\n\n\t* src/lisp.h (XSYMBOL): Remove eassert incorrectly added in\n\tprevious change.  It breaks on MS-Windows --with-wide-int.\n\tProblem reported by Eli Zaretskii in:\n\thttp://lists.gnu.org/archive/html/emacs-devel/2015-12/msg00275.html\n\n2015-12-06  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPacify gcc -Wparentheses\n\n\t* src/xdisp.c (row_containing_pos): Reparenthesize.\n\n2015-12-06  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort mod-test to 32-bit Emacs --without-wide-int\n\n\t* modules/mod-test/test.el (mod-test-sum-test):\n\tBring back the 2**29 tests, but port them to 32-bit Emacs\n\t--without-wide-int.\n\n2015-12-06  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix minor Tramp problems found on BSD\n\n\t* lisp/net/tramp-sh.el (tramp-perl-file-truename): Do not append\n\ttrailing slash.  Quote apostrophes.\n\t(tramp-sh-handle-file-truename): Do not append trailing slash in\n\tthe \"ls\" case.\n\t(tramp-get-ls-command-with-w-option): New defun.\n\t(tramp-do-file-attributes-with-ls)\n\t(tramp-do-directory-files-and-attributes-with-stat): Use it.\n\n\t* test/automated/tramp-tests.el\n\t(tramp-test31-special-characters-with-perl)\n\t(tramp-test31-special-characters-with-ls)\n\t(tramp-test32-utf8-with-perl, tramp-test32-utf8-with-ls):\n\tSuppress also readlink.\n\n2015-12-06  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix cursor display when invisible text is at line beginning\n\n\t* src/xdisp.c (redisplay_window): When scrolling fails to show\n\tpoint, prefer using the desired matrix if possible for finding the\n\tfallback glyph row for displaying the cursor.  (Bug#22098)\n\t(row_containing_pos): Exit the loop as soon as we hit the first\n\tdisabled glyph row.  Otherwise we risk accessing garbled data and\n\tdeparting to the no-no land.\n\n2015-12-06  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tImprove module interface when WIDE_EMACS_INT\n\n\t* src/emacs-module.c (plain_values): New constant.\n\t(module_nil): Now a constant.\n\t(Finternal_module_call, value_to_lisp_bits, lisp_to_value_bits)\n\t(syms_of_module): Use if, not #ifdef, so that both sides are\n\tchecked at compile-time, and so that GCC doesn\u2019t complain\n\tabout an unused var in the typical case.  Also, depend on\n\tplain_values, not on WIDE_EMACS_INT; the code shouldn\u2019t assume\n\tthat WIDE_EMACS_INT implies !USE_LSB_TAG.\n\t(value_to_lisp_bits, lisp_to_value_bits): New functions.\n\tSign-extend integers rather than zero-extending them, as small\n\tnegative integers are more likely.\n\t(value_to_lisp, lisp_to_value): Rewrite in terms of the new *_bits\n\tfunctions.\n\t(HAVE_STRUCT_ATTRIBUTE_ALIGNED): Define to 0 if not already defined.\n\t(mark_modules): Remove.  All uses removed.\n\t(lisp_to_value): Don\u2019t assume Fcons returns a pointer aligned\n\tto GCALIGNMENT.\n\t(syms_of_module): Check that module_nil converts to Qnil.\n\t* src/lisp.h (lisp_h_XSYMBOL, XSYMBOL): Use signed conversion, since\n\twe prefer signed to unsigned when either will do.\n\t(TAG_PTR): Sign-extend pointers when USE_LSB_TAG, as this is\n\ta bit better for emacs-module.c.\n\n2015-12-06  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort mod-test to x86-64 GNU/Linux running 32-bit\n\n\t* modules/mod-test/test.el (mod-test-sum-test):\n\tDon\u2019t attempt to match descriptions to operating systems.\n\tIt didn\u2019t work on Fedora x86-64 running a 32-bit executable,\n\tand it\u2019s not worth the trouble anyway.\n\tPort to 32-bit platforms by removing an assumption about\n\tfixnum widths.\n\n2015-12-06  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix auto-revert-tests.el when filenotify isn't used\n\n\t* test/automated/auto-revert-tests.el (auto-revert--wait-for-revert):\n\tMake it working also when filenotify isn't used.\n\n2015-12-06  Juri Linkov  <juri@linkov.net>\n\n\t* lisp/textmodes/ispell.el (ispell-highlight-spelling-error-overlay):\n\n\tLet-bind isearch-regexp-function to nil.  (Bug#22097)\n\n2015-12-05  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el: Don't install bad signatures (bug#22089)\n\n\t(package--with-response-buffer): NOERROR and ERROR-FORM only\n\thandle connection errors.\n\t(bad-signature): New error type.\n\t(package--check-signature-content): Use it.\n\t(package--check-signature): Properly distinguish connection errors\n\tfrom bad-signature errors.  Do the check for\n\t`package-check-signature' `allow-unsigned' here instead of forcing\n\tthe callbacks to do it.  Add a new argument, UNWIND.\n\t(package--download-one-archive, package-install-from-archive):\n\tUpdate usage of `package--check-signature'.\n\n2015-12-05  Ulf Jasper  <ulf.jasper@web.de>\n\n\tFix Bug#22092.\n\n\t* lisp/calendar/icalendar.el (icalendar--get-unfolded-buffer):\n\t  Clean up inconsistent line endings. (Bug#22092)\n\t  (icalendar--clean-up-line-endings): New.\n\t* test/automated/icalendar-tests.el (icalendar-real-world): Add test\n\t  for Bug#22092.\n\n2015-12-05  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument 'bookmark-set-no-overwrite'\n\n\t* doc/emacs/regs.texi (Bookmarks): Document the new command\n\t'bookmark-set-no-overwrite' and its keybinding.\n\n2015-12-05  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument new binding of 'mouse-buffer-menu'\n\n\t* doc/emacs/buffers.texi (Buffer Menus): 'mouse-buffer-menu' is\n\tnow also on C-F10.\n\n2015-12-05  Eli Zaretskii  <eliz@gnu.org>\n\n\tInitial documentation of dynamic modules\n\n\t* doc/lispref/loading.texi (Dynamic Modules): New section with\n\tinitial documentation for dynamic modules.\n\t* doc/lispref/elisp.texi (Top): Add \"Dynamic Modules\" to the\n\tdetailed menu\n\n\t* etc/NEWS: Fix typos in dynamic modules' entry.\n\n2015-12-05  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\tRemove copyright statements from trivial test files\n\n2015-12-05  Eli Zaretskii  <eliz@gnu.org>\n\n\tAdd \"Preliminaries\" section to etc/DEBUG\n\n\t* etc/DEBUG: Add the \"Preliminaries\" section for GDB beginners.\n\tMost of the content was suggested by Phillip Lord\n\t<phillip.lord@russet.org.uk>.  Remove the section about debugging\n\twith the Visual Studio, as building Emacs with the Microsoft\n\tcompilers is no longer supported.  Minor fixes in some other\n\tsections.\n\n2015-12-05  Alex Dunn  <dunn.alex@gmail.com>  (tiny change)\n\n\tImprove parsing of version strings\n\n\t* lisp/subr.el (version-regexp-alist): Allow \".\" as priority separator\n\t(version-to-list): More helpful error messages.\n\t(version-to-list): \".5\" is valid (update docstring).  Make\n\t\"22.8X3\" invalid, as the doc string says.\n\n\t* test/automated/subr-tests.el (ert-test-version-parsing): New\n\ttests for version string processing.\n\n2015-12-05  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix documentation of 'undo' changes\n\n\t* doc/lispref/text.texi (Undo): Minor wording changes.  Use US\n\tEnglish conventions for spelling and whitespace between sentences.\n\n\t* etc/NEWS: Fix wording and spelling of undo-related entries.\n\tMark them as documented.\n\n2015-12-05  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/net/net-utils.el: Small improvements.\n\n\t(net-utils--executable-find-sbin): New function.\n\t(ifconfig-program): Check sbin directories.\n\tFallback to \"ip\".  (Bug#22091)\n\t(ifconfig-program-options): Check the actual program in use.\n\t(arp-program): Check sbin directories.\n\n2015-12-04  (tiny change) Arash Esbati  <esbati@gmx.de>  (tiny change)\n\n\tFix wrong-type-argument integer-or-marker-p nil error\n\n\t* lisp/textmodes/reftex-auc.el (reftex-what-index-tag):\n\tFix (wrong-type-argument integer-or-marker-p nil) error (bug#22077).\n\n2015-12-04  Alan Mackenzie  <acm@muc.de>\n\n\tMerge branch 'scratch/follow' of /home/acm/emacs/emacs.git/emacs-25 into scratch/follow\n\n\tMerge necessitated by a rebase operation.\n\n2015-12-04  Alan Mackenzie  <acm@muc.de>\n\n\tlisp/isearch.el: Eliminate macro isearch-call-message, replacing with funcall.\n\n2015-12-04  Alan Mackenzie  <acm@muc.de>\n\n\tFirst commit to scratch/follow.  Make Isearch work with Follow Mode, etc.\n\n\tdoc/lispref/window.texi (Basic Windows): Add paragraph defining \"Group of\n\tWindows\" and new @defun selected-window-group.\n\t(Window Start and End): Describe new &optional parameter GROUP and\n\t...-group-function for window-start, window-end, set-window-start, and\n\tpos-visible-in-window-p.\n\t(Textual Scrolling) Describe the same for recenter.\n\tdoc/lispref/positions.texi (Screen Lines): Describe the same for\n\tmove-to-window-line.\n\n\tsrc/window.c (Fwindow_start, Fwindow_end, Fset_window_start)\n\t(Fpos_visible_in_window_p, Frecenter, Fmove_to_window_line): To each, add ar\n\tnew optional parameter \"group\".  At the beginning of each, check whether the\n\tcorresponding ...-group-function is set to a function, and if so execute this\n\tfunction in place of the normal processing.\n\t(syms_of_window): Define symbols for the six new variables below.\n\t(window-start-group-function, window-end-group-function)\n\t(set-window-start-group-function, recenter-group-function)\n\t(pos-visible-in-window-p-group-function, move-to-window-line-group-function):\n\tNew permanent local buffer local variables.\n\tsrc/keyboard.c (Fposn_at_point): Add extra parameter in call to\n\tFpos_visible_in_window_p.\n\n\tlisp/window.el (selected-window-group-function): New permanent local buffer\n\tlocal variable.\n\t(selected-window-group): New function.\n\n\tlisp/follow.el (follow-mode): Set the ...-group-function variables at mode\n\tenable, kill them at mode disable.  Add/remove follow-after-change to/from\n\tafter-change-functions.\n\t(follow-start-end-invalid): New variable.\n\t(follow-redisplay): Manipulate follow-start-end-invalid.\n\t(follow-after-change, follow-window-start, follow-window-end)\n\t(follow-set-window-start, follow-pos-visible-in-window-p)\n\t(follow-move-to-window-line, follow-sit-for): New functions.\n\n\tlisp/isearch.el (isearch-call-message): New macro.\n\t(isearch-update, with-isearch-suspended, isearch-del-char)\n\t(isearch-search-and-update, isearch-ring-adjust): Invoke above new macro.\n\t(with-isearch-suspended): Rearrange code such that isearch-call-message is\n\tinvoked before point is moved.\n\t(isearch-message): Add comment about where point must be at function call.\n\t(isearch-search): Remove call to isearch-message.\n\t(isearch-lazy-highlight-window-group): New variable.\n\t(isearch-lazy-highlight-new-loop): Unconditionally start idle timer.  Move\n\tthe battery of tests to ...\n\t(isearch-lazy-highlight-maybe-new-loop): New function, started by idle timer.\n\tNote: (sit-for 0) is still called.\n\t(isearch-lazy-highlight-update): Check membership of\n\tisearch-lazy-highlight-window-group.  Don't set the `window' overlay\n\tproperty.\n\t(isearch-update, isearch-done, isearch-string-out-of-window)\n\t(isearch-back-into-window, isearch-lazy-highlight-maybe-new-loop)\n\t(isearch-lazy-highlight-search, isearch-lazy-highlight-update)\n\t(isearch-lazy-highlight-update): Call the six amended primitives (see\n\tsrc/window.c above) with the new `group' argument set to t, to cooperate\n\twith Follow Mode.\n\n2015-12-04  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/ert.el: Prefer pcase over cl-typecase\n\n\t* lisp/emacs-lisp/ert.el (ert--should-error-handle-error)\n\t(ert--explain-format-atom, ert--explain-equal-rec)\n\t(ert--print-backtrace, ert-test-result-type-p, ert-select-tests)\n\t(ert--insert-human-readable-selector): Prefer pcase over cl-typecase.\n\n2015-12-04  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/character-fold.el: Remove special case-folding support\n\n\t(character-fold-to-regexp): Remove special code for\n\tcase-folding.  Char-fold search still respects the\n\t`case-fold-search' variable (i.e., f matches F).  This only\n\tremoves the code that was added to ensure that f also matched\n\tall chars that F matched.  For instance, after this commit, f\n\tno longer matches \ud835\udd3d.\n\n\tThis was necessary because the logic created a regexp with\n\t2^(length of the string) redundant paths.  So, when a very\n\tlong string \"almost\" matched, Emacs took a very long time to\n\tfigure out that it didn't.  This became particularly relevant\n\tbecause isearch's lazy-highlight does a search bounded by (1-\n\tmatch-end) (which, in most circumstances, is a search that\n\talmost matches).  A recipe for this can be found in bug#22090.\n\n2015-12-04  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/cl-macs.el (character): Can't be negative\n\n\tFixes (bug#21701)\n\n2015-12-04  Daiki Ueno  <ueno@gnu.org>\n\n\tlisp/gnus/qp.el: Don't replace \"from \" at bol\n\n\t* lisp/gnus/qp.el (quoted-printable-encode-region): Bind `case-fold-search'\n\tto nil when looking for \"^From \".  Problem reported by Simon Josefsson.\n\n2015-12-03  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\tExternalize some symbols in undo-auto\n\n\t * doc/lispref/text.texi: Update symbols.\n\t * lisp/simple.el (undo-auto--amalgamate,\n\t   undo-auto--current-boundary-timer): Make symbols public.\n\t * src/cmds.c (Fself_insert_command,Fdelete_char): Call\n\t   updated symbol.\n\n2015-12-03  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/smie.el (smie-next-sexp): Fix BOB \"token\"\n\n2015-12-03  Michael Albinus  <michael.albinus@gmx.de>\n\n\tSome error message improvements in tramp-sh.el\n\n\t* lisp/net/tramp-sh.el (tramp-open-connection-setup-interactive-shell):\n\tSuppress error messages for \"mesg\" and \"biff\" calls.\n\t(tramp-get-remote-path): Ignore errors when expanding\n\t`tramp-own-remote-path'.  Raise a warning instead.\n\n2015-12-03  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument 'nacl' value for 'system-type'\n\n\t* doc/lispref/os.texi (System Environment): Document the 'nacl'\n\tvalue of 'system-type'.\n\n2015-12-03  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument 'window-max-chars-per-line'\n\n\t* doc/lispref/windows.texi (Window Sizes): Document\n\t'window-max-chars-per-line'.\n\n2015-12-03  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\tFix some file headers for the purpose of `package--builtins'\n\n\t* lisp/emacs-lisp/cl-preloaded.el\n\t* lisp/emacs-lisp/eieio-compat.el\n\t* lisp/net/sasl-scram-rfc.el: Add a \"Package:\" header\n\n\t* lisp/ielm.el: Fix summary line.\n\n2015-12-03  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el (package-unpack): Load before compiling\n\n\tReload any previously loaded package files before compiling\n\tthe package (also reload the same files after compiling).\n\tThis ensures that we have the most recent definitions during\n\tcompilation, and avoids generating bad elc files when a macro\n\tchanges and it is used in a different file from the one it's\n\tdefined in.\n\n2015-12-03  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el: Refactor package activation code\n\n\t(package-activate): Move code that activates dependencies into\n\tpackage-activate-1.\n\t(package--load-files-for-activation): New function.\n\t(package-activate-1): Add code for (optionally) activating\n\tdependencies, and move file-loading code into\n\t`package--load-files-for-activation'.\n\n2015-12-03  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument new font-related functionality\n\n\t* doc/lispref/display.texi (Low-Level Font): Document\n\t'default-font-width', 'default-font-height', 'window-font-width',\n\tand 'window-font-height'.\n\n\t* etc/NEWS: Move entries for 'default-font-width',\n\t'default-font-height', 'window-font-width', and 'window-font-height'\n\tto their place and mark them documented.\n\n2015-12-03  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix documentation and implementation of 'directory-name-p'\n\n\t* lisp/files.el (directory-name-p): Modify to recognize\n\tbackslashes on MS-Windows and MS-DOS.  Adjust the doc string\n\taccordingly.  Use '=', not char-equal, for comparison, as\n\tletter-case cannot possibly be an issue here.\n\n\t* doc/lispref/files.texi (Directory Names): Move the documentation\n\tof directory-name-p here from \"Relative File Names\".  Update the\n\tdescription per the changes in implementation.\n\n\t* etc/NEWS: Move the entry for 'directory-name-p' to its proper\n\tplace and mark it documented.\n\n2015-12-02  Eli Zaretskii  <eliz@gnu.org>\n\n\tMinor copyedit in Emacs manual\n\n\t* doc/emacs/search.texi (Lax Search): Make wording about character\n\tfolding by default less definitive.  (Bug#22043)\n\n2015-12-02  Eli Zaretskii  <eliz@gnu.org>\n\n\tMore emacs-module.c fixes for wide ints\n\n\t* src/emacs-module.c (value_to_lisp) [WIDE_EMACS_INT]: Use\n\tunsigned data types to manipulate pointers, to avoid sign\n\textension coming after us with a vengeance.\n\n\t* modules/mod-test/test.el (mod-test-sum-test): Add tests for\n\tEmacs with wide ints that verify integer values near the critical\n\tvalue that requires us to switch to a cons cell.\n\n2015-12-02  Stephen Leake  <stephen_leake@stephe-leake.org>\n\n\tFix bug#22069 in cl-generic.el\n\n\t* lisp/emacs-lisp/cl-generic.el (cl-no-method): Remove %S; this string is\n\tnot run thru `format'.\n\n2015-12-02  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tAPPEND etags--xref-backend to xref-backend-functions\n\n\t* lisp/progmodes/xref.el (xref-backend-functions):\n\tUse APPEND when adding the default element\n\t(http://lists.gnu.org/archive/html/emacs-devel/2015-12/msg00061.html).\n\n2015-12-01  Eli Zaretskii  <eliz@gnu.org>\n\n\tMore accurate documentation of lax whitespace matching\n\n\t* lisp/isearch.el (isearch-forward-word, isearch-forward-symbol)\n\t(word-search-backward, word-search-forward)\n\t(word-search-backward-lax, word-search-forward-lax): Mention in\n\tdoc strings that toggling lax whitespace matching has no effect on\n\tthese commands.\n\n\t* doc/emacs/search.texi (Word Search, Symbol Search): Clarify that\n\tlax whitespace matching has no effect on these commands.\n\n2015-12-01  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix emacs-module.c for wide ints\n\n\t* src/emacs-module.c (lisp_to_value): Compare the produced value\n\twith the original Lisp object, not with the one potentially\n\tconverted into a Lisp_Cons.  Fixes assertion violations when\n\tworking with integers larger than fit into a 32-bit value.\n\n\t* modules/mod-test/test.el (mod-test-sum-test): Add tests for\n\tlarge integers, to test --with-wide-int.\n\n2015-12-01  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument 'directory-files-recursively'\n\n\t* lisp/files.el (directory-files-recursively): Doc fix.  Rename\n\tthe argument MATCH to REGEXP, to be more explicit about its form.\n\n\t* doc/lispref/files.texi (Contents of Directories): Improve the\n\tdocumentation of 'directory-files-recursively'.  Add\n\tcross-references.\n\n\t* etc/NEWS: Move the entry for 'directory-files-recursively' to\n\tits place and mark it documented.\n\n2015-12-01  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument 'inhibit-read-only' property\n\n\t* doc/lispref/text.texi (Special Properties): Describe the new\n\t'inhibit-read-only' text property.  Add cross-reference to where\n\tread-only buffers are described.\n\t* doc/lispref/buffers.texi (Read Only Buffers): Mention that\n\t'inhibit-read-only' property exempts text from being read-only.\n\tAdd cross-reference to \"Special Properties\".\n\n\t* etc/NEWS: Move the entry about 'inhibit-read-only' property to\n\tits place and mark it documented.\n\n2015-12-01  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el: Update header comments\n\n2015-12-01  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/character-fold.el: Add back multi-char matching\n\n\t(character-fold-to-regexp): Uncomment recently commented code\n\tand make the algorithm \"dummer\" by not checking every possible\n\tcombination.  This will miss some possible matches, but it\n\tgreatly reduces regexp size.\n\n\t* test/automated/character-fold-tests.el\n\t(character-fold--test-fold-to-regexp): Comment out test of\n\tfunctionality no longer supported.\n\n2015-12-01  Xue Fuqiao  <xfq.free@gmail.com>\n\n\t* doc/emacs/ack.texi (Acknowledgments): Update.\n\n2015-12-01  Michael Albinus  <michael.albinus@gmx.de>\n\n\tCheck `file-remote-p' over absolute files names in files.el\n\n\t* lisp/files.el (directory-files-recursively)\n\t(get-free-disk-space): Check `file-remote-p' over absolute files names.\n\n2015-12-01  Andreas Schwab  <schwab@linux-m68k.org>\n\n\t\t* src/lread.c (syms_of_lread): Doc fix.\n\n2015-12-01  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tDon't mistake certain JS method calls for keywords\n\n\t* lisp/progmodes/js.el (js--ctrl-statement-indentation):\n\tBraceless keyword can't come after a period (bug#22063).\n\n2015-12-01  David Reitter  <david.reitter@gmail.com>\n\n\tRead frame_title_format from buffer-local variable for NS port\n\n\t* src/nsfns.m (x_implicitly_set_name): Read frame-title-format and\n\ticon-title-format variables from buffer in appropriate window.\n\t(Bug#22048)\n\n2015-12-01  Juri Linkov  <juri@linkov.net>\n\n\t* lisp/replace.el (occur-engine): Count matches in empty lines.\n\n\t(Bug#22062)\n\n2015-11-30  Aur\u00e9lien Aptel  <aurelien.aptel@gmail.com>\n\n\t* src/emacs-module.h: Fix finalizer typedef for C++11\n\n\tC++11 standard doesn't allow exception-specification in typedef.\n\tThe workaround is to declare a dummy function prototype and use\n\tdecltype on it.\n\n2015-11-30  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix last change\n\n\t* src/emacs-module.c (lisp_to_value, value_to_lisp)\n\t[WIDE_EMACS_INT]: Avoid compiler warnings.\n\n2015-11-30  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tRely on conservative stack scanning to find \"emacs_value\"s\n\n\t* src/emacs-module.c (struct emacs_value_tag)\n\t(struct emacs_value_frame, struct emacs_value_storage): Remove.\n\t(value_frame_size): Remove constant.\n\t(struct emacs_env_private): Use Lisp_Object for non_local_exit info.\n\t(lisp_to_value): Remove first arg.\n\t(module_nil): New constant.\n\tUse it instead of NULL when returning an emacs_value.\n\t(module_make_function): Adjust to new calling convention of\n\tQinternal_module_call.\n\t(DEFUN): Receive args in an array rather than a list.\n\tUse SAFE_ALLOCA rather than xnmalloc.  Skip the lisp_to_value loop when\n\twe don't have WIDE_EMACS_INT.  Adjust to new type of non_local_exit info.\n\t(module_non_local_exit_signal_1, module_non_local_exit_throw_1):\n\tAdjust to new type of non_local_exit info.\n\t(ltv_mark) [WIDE_EMACS_INT]: New constant.\n\t(value_to_lisp, lisp_to_value): Rewrite.\n\t(initialize_frame, initialize_storage, finalize_storage): Remove functions.\n\t(allocate_emacs_value): Remove function.\n\t(mark_modules): Gut it.\n\t(initialize_environment): Don't initialize storage any more.\n\tKeep the actual env object on Vmodule_environments.\n\t(finalize_environment): Don't finalize storage any more.\n\t(syms_of_module): Initialize ltv_mark and module_nil.\n\n\t* src/emacs-module.h (emacs_value): Make it more clear that this type\n\tis really opaque, including the fact that NULL may not be valid.\n\n\t* modules/mod-test/mod-test.c (Fmod_test_signal, Fmod_test_throw):\n\tDon't assume that NULL is a valid emacs_value.\n\n2015-11-30  Eli Zaretskii  <eliz@gnu.org>\n\n\tYet another doc improvement for search commands\n\n\t* doc/emacs/search.texi (Word Search, Symbol Search)\n\t(Regexp Search): Document commands that don't support lax\n\twhitespace matching or character folding.\n\t(Nonincremental Search): Mention the search commands that can be\n\tinvoked from the menu bar.\n\n\t* lisp/isearch.el (isearch-define-mode-toggle-word)\n\t(isearch-define-mode-toggle-symbol)\n\t(isearch-define-mode-toggle-character-fold): Note in the doc\n\tstring that turning these on exits the regexp mode.\n\t(isearch-forward-regexp, isearch-forward-word)\n\t(isearch-forward-symbol, isearch-backward-regexp)\n\t(word-search-backward, word-search-forward)\n\t(word-search-backward-lax, word-search-forward-lax): State in the\n\tdoc string which commands don't support character folding and/or\n\tlax-whitespace matching.\n\n2015-11-30  Martin Rudalics  <rudalics@gmx.at>\n\n\tRun `window-size-change-functions' also when reading from minibuffer\n\n\t* src/xdisp.c (redisplay_internal): Run `window-size-change-functions'\n\talso when reading from minibuffer.\n\n2015-11-30  Ulf Jasper  <ulf.jasper@web.de>\n\n\tFix scrambling of html-rendered item buffers\n\n\t* lisp/net/newst-treeview.el (newsticker--treeview-render-text): Fix\n\t  scrambling of contents by wrapping call to html-renderer in\n\t  save-selected-window.\n\n2015-11-30  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix font typo in previous doc fix.\n\n2015-11-30  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tA bit more security doc, esp. file local vars\n\n\t* doc/emacs/emacs.texi (Top):\n\t* doc/emacs/misc.texi (Miscellaneous Commands):\n\tRefer to new Host Security section.\n\t(Host Security): New section.\n\t* doc/lispref/os.texi (Security Considerations):\n\tMention file local variables.\n\n2015-11-30  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/character-fold.el: Comment out branching code\n\n\t(character-fold-to-regexp): Comment out code that uses multi-char\n\ttable.  The branching caused by this induces absurdly long regexps,\n\tup to 10k chars for as little as 25 input characters.\n\n2015-11-30  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSpelling and grammar fixes\n\n2015-11-30  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tMake lisp-completion-at-point a wrapper instead of an alias\n\n\t* lisp/progmodes/elisp-mode.el (lisp-completion-at-point):\n\tTurn into an obsolete wrapper around elisp-completion-at-point\n\t(bug#20455).\n\n2015-11-29  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/isearch.el (isearch-search-fun-default): Nicer error\n\n\tmessage when the search fails.\n\n2015-11-29  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tUpdate menu-bar-goto-uses-etags-p for the current xref API\n\n\t* lisp/menu-bar.el (menu-bar-goto-uses-etags-p): Consult\n\txref-backend-functions, instead of now-nonexistent\n\txref-find-function.\n\n2015-11-29  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/isearch.el (isearch-define-mode-toggle): Advertise binding\n\n2015-11-29  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/menu-bar.el: Use folding in searches\n\n\t(nonincremental-search-forward): Use `isearch-search-fun-default'\n\tto determine the search function.\n\t(nonincremental-search-backward)\n\t(nonincremental-repeat-search-forward)\n\t(nonincremental-repeat-search-backward): Use it.\n\n2015-11-29  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/menu-bar.el (menu-bar-goto-uses-etags-p): Fix a warning\n\n2015-11-29  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/character-fold.el (character-fold-to-regexp): Be careful\n\n\tnot to return huge regexps.\n\n2015-11-29  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of string-collate-* functions\n\n\t* doc/lispref/strings.texi (Text Comparison): Improve wording and\n\tindexing of 'string-collate-equalp' and 'string-collate-lessp'.\n\n\t* etc/NEWS: Move the entry of 'string-collate-equalp' and\n\t'string-collate-lessp' to \"Lisp Changes\" section and mark it as\n\tdocumented.\n\n2015-11-29  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument truncate-string-ellipsis\n\n\t* doc/lispref/display.texi (Size of Displayed Text): Document\n\t'truncate-string-ellipsis'.\n\n\t* lisp/international/mule-util.el (truncate-string-ellipsis): Doc fix.\n\t(truncate-string-to-width): Mention in the doc string that the\n\tdefault for ELLIPSIS comes from 'truncate-string-ellipsis'.\n\n\t* etc/NEWS: Move the 'truncate-string-ellipsis' entry to the \"Lisp\n\tChanges\" section.\n\n2015-11-29  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix confusion wrt character folding in the Emacs manual\n\n\t* doc/emacs/search.texi (Nonincremental Search, Regexp Search):\n\tDocument that invoking search-forward/backward and\n\tre-search-forward/backward supports only case folding, but not the\n\trest of the lax-search features.  Reported by Mike Kupfer\n\t<m.kupfer@acm.org>.\n\n2015-11-29  Ken Brown  <kbrown@cornell.edu>\n\n\tUpdate mod-test-sum-test\n\n\t* modules/mod-test/test.el (mod-test-sum-test): Update to\n\taccommodate the lack of dladdr on Cygwin.\n\n2015-11-29  Alan Mackenzie  <acm@muc.de>\n\n\tByte compiler: Catch missing argument to `funcall'.  Fixes bug#22051.\n\n\t* lisp/emacs-lisp/bytecomp.el (byte-compile-funcall): When there's no argument\n\tto `funcall', (i) Output an error message; (ii) Generate code to signal a\n\t`wrong-number-of-arguments' error.\n\n2015-11-29  Martin Rudalics  <rudalics@gmx.at>\n\n\t* lisp/window.el (split-window): Don't sanitize sizes when SIZE is non-nil.\n\n2015-11-28  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/character-fold.el (character-fold-to-regexp)\n\n\tWarn about using long strings.\n\n\t* test/automated/character-fold-tests.el\n\t(character-fold--test-lax-whitespace)\n\t(character-fold--test-consistency): Reduce string size for tests.\n\n2015-11-28  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument renaming of x-select-enable-* variables\n\n\t* doc/emacs/killing.texi (Clipboard): Rename\n\tx-select-enable-clipboard to select-enable-clipboard and\n\tx-select-enable-primary to select-enable-primary.  Update index\n\tentries.\n\n\t* etc/NEWS: Mark entry as documented.\n\n2015-11-28  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument the shorthand hints displayed by M-x\n\n\t* doc/emacs/m-x.texi (M-x): Document the numeric meaning of\n\tsuggest-key-bindings.  Document the shorthand hints for commands\n\tthat have no key bindings.  Document that M-x completion ignores\n\tobsolete commands.\n\n\t* etc/NEWS: Move the M-x entry to \"Editing Changes\" and mark it as\n\tdocumented.\n\n2015-11-28  Eli Zaretskii  <eliz@gnu.org>\n\n\tUpdate docs of character folding\n\n\t* doc/emacs/search.texi (Lax Search): Update the description of\n\tcharacter folding for the latest changes.\n\n2015-11-28  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/character-fold.el: Also play nice with case-folding\n\n\t(character-fold-to-regexp): Take `case-fold-search' into account.\n\n2015-11-28  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/character-fold.el: Add support for multi-char matches\n\n\t(character-fold-table): Now has an extra-slot. This is a second\n\tchar-table that holds multi-character matches.  See docstring for\n\tdetails.\n\t(character-fold-to-regexp): Can build branching regexps when a\n\tcharacter's entry the extra slot of `character-fold-table' matches the\n\tcharacters that succeed it.\n\n2015-11-28  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/character-fold.el: Code simplifications\n\n\t(character-fold-table): Reduce the scope of a variable.\n\t(character-fold-to-regexp): Change logic to work directly on the\n\tinput string.  It's a little easier to understand, probably\n\tfaster, and sets us up for implementing multi-char matches.\n\n\t* test/automated/character-fold-tests.el\n\t(character-fold--test-fold-to-regexp): New test.\n\n2015-11-28  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument changes in \"C-h l\"\n\n\t* doc/emacs/help.texi (Misc Help): Document the changes in \"C-h l\".\n\n\t* etc/NEWS: mark \"C-h l\" changes as documented.\n\n2015-11-28  Eli Zaretskii  <eliz@gnu.org>\n\n\tFinalize documentation of 'custom-prompt-customize-unsaved-options'\n\n\t* doc/emacs/custom.texi (Saving Customizations): Index the new\n\tfunction 'custom-prompt-customize-unsaved-options'.\n\n\t* etc/NEWS: Mention when 'custom-prompt-customize-unsaved-options'\n\tis useful.\n\n2015-11-28  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument 'comment-line'\n\n\t* doc/emacs/programs.texi (Comment Commands): Document\n\t'comment-line'.\n\n\t* etc/NEWS: Move the entry for 'comment-line' into \"Editing Changes\".\n\n2015-11-28  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument new checkdoc features\n\n\t* doc/lispref/tips.texi (Tips, Library Headers): Document the\n\tkeyword-checking features of checkdoc and the commands\n\t'checkdoc-file' and 'checkdoc-current-buffer'.\n\n\t* etc/NEWS: Move the checkdoc-related entries to their own\n\tsection.\n\n2015-11-28  Philipp Stephani  <p.stephani2@gmail.com>\n\n\tSimplify the prologue of emacs-module.c functions\n\n\t* src/emacs-module.c (MODULE_FUNCTION_BEGIN): New macro.\n\t(module_make_global_ref)\n\t(module_free_global_ref, module_make_function, module_funcall)\n\t(module_intern, module_type_of, module_extract_integer)\n\t(module_make_integer, module_extract_float, module_make_float)\n\t(module_copy_string_contents, module_make_string)\n\t(module_make_user_ptr, module_get_user_ptr, module_set_user_ptr)\n\t(module_get_user_finalizer, module_set_user_finalizer)\n\t(module_vec_set, module_vec_get, module_vec_size): Use new helper\n\tmacro MODULE_FUNCTION_BEGIN.\n\n2015-11-28  Eli Zaretskii  <eliz@gnu.org>\n\n\tDon't reject module calls with no arguments\n\n\t* src/emacs-module.c (Finternal_module_call): Allow ARGLIST be nil.\n\n2015-11-28  Philipp Stephani  <p.stephani2@gmail.com>\n\n\tMake module-call be visible from Lisp\n\n\t* src/emacs-module.c (module_make_function): Use internal--module-call.\n\t(Finternal_module_call): Renamed from Fmodule_call.  Add safety\n\tchecks.\n\t(syms_of_module): DEFSYM save-value-p and save-pointer-p.  Do\n\tdefsubr internal--module-call.\n\n2015-11-28  Eli Zaretskii  <eliz@gnu.org>\n\n\tAdd etags tests for the recent Lua-related bugfix\n\n\t* test/etags/lua-src/test.lua: New file, tests the issues raised\n\tby bug#21934.\n\t* test/etags/Makefile (LUASRC): Add test.lua.\n\t* test/etags/ETAGS.good_1:\n\t* test/etags/ETAGS.good_2:\n\t* test/etags/ETAGS.good_3:\n\t* test/etags/ETAGS.good_4:\n\t* test/etags/ETAGS.good_5:\n\t* test/etags/ETAGS.good_6:\n\t* test/etags/CTAGS.good: Adapt to the new Lua test.  Also, an old\n\tregression fix, resolved around 25 May 2015, required changes to\n\tthe \"good\" ETAGS files.\n\n2015-11-28  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix Lua tags when a function name includes '.' or ':'\n\n\t* lib-src/etags.c (Lua_functions): Add a tag for the last element\n\tof a function name after a dot or a colon.  (Bug#21934)\n\n2015-11-28  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of search and replace commands\n\n\t* doc/emacs/search.texi (Replacement and Lax Matches): Document\n\twhich commands are affected by 'replace-character-fold'.\n\t(Lax Search): Add a cross reference to \"Replacement and Lax\n\tMatches\".  Improve wording.  Fix lost extra whitespace.\n\t(Search Customizations): Improve wording.  (Bug#22036)\n\tSee also comments in\n\thttp://lists.gnu.org/archive/html/emacs-devel/2015-11/msg02376.html.\n\n\t* lisp/replace.el (query-replace, query-replace-regexp)\n\t(query-replace-regexp-eval, replace-string, replace-regexp):\n\tMention 'replace-character-fold' in the doc strings.\n\n2015-11-28  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix minor problems found by static checking\n\n\t* src/undo.c (prepare_record): Add proper prototype for C.\n\n2015-11-27  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* src/emacs-module.c (struct env_storage): Delete\n\n\t(struct emacs_runtime_private): Keep an emacs_env instead.\n\t(Fmodule_load, Fmodule_call): Declare emacs_env_private separately.\n\t(initialize_environment): Split the arg in two.\t Adjust all callers.\n\tOnly store the private part in Vmodule_environments.\n\t(finalize_environment): Change the arg to only be the private env.\n\tAdjust all callers.\n\n2015-11-27  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of 'replace-character-fold'\n\n\t* lisp/replace.el (replace-character-fold): Clarify which commands\n\tare affected by this variable.\n\n2015-11-27  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tBackport: Add interactive seek command.\n\n\t* lisp/mpc.el (mpc-cmd-seekcur): New function.\n\t(mpc-seek-current): New command.\n\t(mpc-mode-menu): Add entry for mpc-seek-current\n\t(mpc-mode-map): Bind mpc-seek-current to \"g\"\n\n2015-11-27  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tAutoload etags when using its xref backend\n\n\t* lisp/progmodes/xref.el (xref--etags-backend):\n\tRename to etags--xref-backend.  Move to etags.el.  Autoload.\n\t(Bug#22026)\n\n2015-11-27  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/character-fold.el: Allow complex chars to match their decomposition\n\n\t(character-fold-table): When a character's decomposition does not\n\tinvolve a formatting tag (i.e., if it has an \"exact\" description via\n\tother characters), then this character is allowed to match the\n\tdecomposition.\n\n2015-11-27  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/character-fold.el: More descriptive variable names\n\n\t(character-fold-table): Rename a lot of the lexical variables to\n\tmake the code easier to read.\n\n2015-11-27  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/isearch.el: Ensure we still support `isearch-new-word'\n\n\t(isearch-new-regexp-function): Define variable.\n\t(isearch-new-word): Define as an obsolete alias. (Bug#22018)\n\n2015-11-27  Eli Zaretskii  <eliz@gnu.org>\n\n\tMerge branch 'emacs-25' of git.savannah.gnu.org:/srv/git/emacs into emacs-25\n\n2015-11-27  Lee Bochicchio  <lboc.home@gmail.com>\n\n\t* test/automated/abbrev-tests.el: Define more tests\n\n\t(abbrev-table-name-test, kill-all-abbrevs-test)\n\t(clear-abbrev-table-test): New tests.\n\n2015-11-27  Eli Zaretskii  <eliz@gnu.org>\n\n\tAdd module tests for wrong-type-argument\n\n\t* modules/mod-test/test.el (mod-test-sum-test): Add tests for\n\twrong-type-argument.\n\n2015-11-27  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove handling of signals and 'throw' in modules\n\n\t* src/emacs-module.c: Add commentary explaining how to write\n\tfunctions in this file.\n\t(module_make_global_ref, module_free_global_ref)\n\t(module_non_local_exit_signal, module_non_local_exit_throw)\n\t(module_make_function, module_funcall, module_intern)\n\t(module_type_of, module_is_not_nil, module_eq)\n\t(module_extract_integer, module_make_integer)\n\t(module_extract_float, module_make_float)\n\t(module_copy_string_contents, module_make_string)\n\t(module_make_user_ptr, module_get_user_ptr, module_set_user_ptr)\n\t(module_get_user_finalizer, module_set_user_finalizer)\n\t(module_vec_set, module_vec_get, module_vec_size)\n\t(module_non_local_exit_signal_1, module_non_local_exit_throw_1):\n\tDo nothing and return with failure indication immediately, if some\n\tprevious module call signaled an error or wants to throw.  See\n\thttp://lists.gnu.org/archive/html/emacs-devel/2015-11/msg02133.html\n\tfor the relevant discussions.\n\n2015-11-27  Eli Zaretskii  <eliz@gnu.org>\n\n\tAdd ':version' tag to 'checkdoc-package-keywords-flag'\n\n\t* lisp/emacs-lisp/checkdoc.el (checkdoc-package-keywords-flag):\n\tAdd a ':version' tag.\n\n2015-11-27  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of 'eval-buffer' and 'eval-region'\n\n\t* src/lread.c (Feval_buffer, Feval_region): Doc fixes.  (Bug#22023)\n\n\t* doc/lispref/eval.texi (Eval): Mention narrowing to clarify\n\t\"accessible portion of buffer\".\n\n2015-11-27  Eli Zaretskii  <eliz@gnu.org>\n\n\tUnbreak the Cygwin w32 build\n\n\t* src/emacs.c (main): Call w32_init_main_thread in the Cygwin w32\n\tbuild as well.  Reported by Andy Moreton <andrewjmoreton@gmail.com>.\n\n2015-11-27  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove commentary in character-fold.el\n\n\t* lisp/character-fold.el (character-fold-to-regexp): Move detailed\n\tdescription from commit log message to comments.  (Bug#22019)\n\n2015-11-26  Alan Mackenzie  <acm@muc.de>\n\n\tByte Compiler: generate code to adjust stack count after call to `signal'.\n\n\tCorrects change from earlier today.\n\n\t* lisp/emacs-lisp/bytecomp.el (byte-compile-setq): supply the current value of\n\t`byte-compile--for-effect' as argument to `byte-compile-form'.\n\n2015-11-26  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove commentary of prepare_to_modify_buffer_1\n\n\t* src/insdel.c (prepare_to_modify_buffer_1): Mention in commentary\n\tthat this function runs Lisp.  Suggested by Richard Stallman\n\t<rms@gnu.org>.\n\n2015-11-26  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\tMerge branch 'emacs-25' of git.sv.gnu.org:/srv/git/emacs into emacs-25\n\n2015-11-26  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\tFix regression after merge.\n\n\t * src/undo.c (prepare_record): Remove call to run_undoable_change.\n\n2015-11-26  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\tAfter delete, record point location in undo.\n\n\tAddresses Bug #21968.\n\n\t\t* lisp/simple.el (undo-auto--add-boundary): Clean up code to\n\t\tbetter support intercalating calls.\n\t\t* src/keyboard.c, src/keyboard.h (command_loop_1): Store value of\n\t\tpoint and current buffer before each command.\n\t\t* src/undo.c (record_point): Now only record the point.\n\t\t* src/undo.c (prepare_record): Functionality removed form\n\t\trecord_point.\n\t\t* src/undo.c (record_delete): Check if point needs recording.\n\t\t* src/undo.c (undo-boundary): Record value of point before each\n\t\tboundary.\n\t\t* test/automated/simple-test.el: New tests.\n\n\tConflicts:\n\t\tsrc/undo.c\n\n2015-11-26  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix compiler warnings in w32.c\n\n\t* src/w32.c (sys_socket): In case of error, use -1 as return\n\tvalue, not INVALID_SOCKET, which causes compiler warnings.\n\t(maybe_load_unicows_dll): Cast the return value of GetProcAddress\n\tto the appropriate function signature, to avoid compiler errors.\n\tReported by Andy Moreton <andrewjmoreton@gmail.com>.  (Bug#21953)\n\n2015-11-26  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tCheck if the file exists on disk before producing the revert diff\n\n\t* lisp/vc/vc-dispatcher.el (vc-buffer-sync): Check if the file\n\texists on disk (bug#20558).\n\n2015-11-26  Alan Mackenzie  <acm@muc.de>\n\n\tByte compiler: on setq with an odd number of arguments, generate a `signal'\n\n\t* lisp/emacs-lisp/cconv.el (cconv-convert): Don't transform `setq' form when\n\tit has an odd number of arguments, to allow bytecomp to handle the error.\n\n\t* lisp/emacs-lisp/bytecomp.el (byte-compile-setq): In a `setq' form with an\n\todd number of arguments, generate a `signal' instead of the normal code.\n\n2015-11-26  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tUse find-tag-default for xref-backend-identifier-at-point\n\n\t* lisp/progmodes/etags.el (find-tag-tag)\n\t(tags-completion-at-point-function): Extract common code as\n\tfind-tag--default.\n\t(xref-backend-identifier-at-point): Define in terms of the new\n\tfunction.\n\n2015-11-26  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* src/undo.c (record_property_change): Remove now-unused local.\n\n2015-11-25  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\trun_undoable_changes now called from insdel.\n\n\tThe original calls from inside undo.c are not always at a safe position\n\tto call lisp, as they originate in varied positions within insdel.c.\n\tCalling them directly from prepare_to_modify_buffer_1 ensures that they\n\tare always run at the same point.\n\n\t * src/undo.c (run_undoable_changes,syms_of_undo): Remove function\n\t and symbol used.\n\t * src/insdel.c (run_undoable_changes): Add function and symbol.\n\n2015-11-25  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove and update documentation of search commands\n\n\t* doc/emacs/search.texi (Lax Search): Renamed from \"Search Case\";\n\tall references changed.  Move the description of lax-whitespace\n\there.  Add description of the new character folding features and\n\tadditional customizable options.\n\t(Isearch Yank): Move before \"Error in Search\".\n\t(Basic Isearch): Improve wording.  Add index entries.  Add short\n\tdescription of how to abandon search, making this subsection a\n\tcomplete introduction to search basics.\n\t(Repeat Isearch): Add index entries.  Describe additional\n\tcustomizable options.  Describe mouse clicks.\n\t(Isearch Yank): Add index entries.  Describe mouse-2 click in echo\n\tarea.  Describe more customizable options.\n\t(Error in Isearch): Add index entries.\n\t(Special Isearch): Move actual description of some isearch\n\tcommands to other sections, leaving here just the summary of the\n\tcommands.  Add command that toggles character folding.  Describe\n\tcommands, like \"C-h C-h\", that were previously omitted for some\n\treason.\n\t(Not Exiting Isearch): Describe search-exit-option.  Add index\n\tentries.\n\t(Word Search): Describe eww-search-word and eww-search-prefix.\n\t(Symbol Search): Add index entries.\n\t(Regexp Search): Describe regexp-search-ring-max.\n\t(Replacement and Lax Matches): Renamed from \"Replacement and\n\tCase\"; all references changed.  Describe lax-whitespace matching\n\tin replace commands and related options.  Describe character\n\tfolding in replace commands and related options.\n\t(Query Replace): Describe query-replace-from-to-separator and the\n\tnew history features.  Add index entries for highlighted text.\n\tDescribe query-replace-skip-read-only.  Describe more keys\n\taccepted by query-replace.\n\t(Other Repeating Search): More index entries for Occur.  Describe\n\tlist-matching-lines-default-context-lines.\n\t(Search Customizations): New section, documents customizable\n\toptions that were not documented until now.\n\t* doc/emacs/glossary.texi (Glossary): Add \"Case Folding\" and\n\t\"Character Folding\".\n\n\t* etc/NEWS: Move search- and replace-related entries to a single\n\tparent section.\n\n\t* lisp/replace.el (query-replace-show-replacement): Doc fix.\n\t* lisp/isearch.el (search-nonincremental-instead)\n\t(isearch-hide-immediately): Doc fixes.\n\n2015-11-25  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\tRemove nnml-retrieve-groups that is unnecessary and somewhat problematic\n\n\t* lisp/gnus/nnml.el (nnml-retrieve-groups): Remove.  See:\n\t<http://thread.gmane.org/gmane.emacs.gnus.general/86308> and\n\t<http://thread.gmane.org/gmane.emacs.gnus.general/86321>\n\n2015-11-25  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix module_format_fun_env when dynlib_addr fails\n\n\t* src/emacs-module.c (module_format_fun_env):\n\texprintf doesn\u2019t support %p, so use %x.  Reported by Eli Zaretskii in:\n\thttp://lists.gnu.org/archive/html/emacs-devel/2015-11/msg02122.html\n\n2015-11-25  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDisambiguate variable help a bit better\n\n\t* lisp/help-fns.el (describe-variable): Quote the\n\tvariable\u2019s value if it is a symbol other than t or nil.\n\tSee: T.V Raman in:\n\thttp://lists.gnu.org/archive/html/emacs-devel/2015-11/msg02147.html\n\n2015-11-25  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tPass SVN commit message through log-edit-extract-headers\n\n\t* lisp/vc/vc-svn.el (vc-svn-checkin): Pass COMMENT through\n\tlog-edit-extract-headers (bug#18954).\n\n2015-11-24  Alan Mackenzie  <acm@muc.de>\n\n\tCC Mode: Eliminate compiler warning messages.\n\n\t* lisp/progmodes/cc-mode.el (top level): remove compile time declaration of\n\t`font-lock-syntactic-keywords' (which CC Mode doesn't use).\n\t* lisp/progmodes/cc-awk.el (awk-mode-syntax-table)\n\t(c-awk-set-syntax-table-properties): Clarify comments about\n\t`font-lock-syntactic-keywords'.\n\n\t* lisp/progmodes/cc-bytecomp.el (cc-bytecomp-load): Create a dummy declaration\n\tof this before the real (interpreted) one, to satisfy the byte compiler.\n\n2015-11-24  Simen Heggest\u00f8yl  <simenheg@gmail.com>\n\n\tExtend the test suite for json.el\n\n\t* lisp/json.el (json-plist-p): Clarify docstring.\n\n\t* test/automated/json-tests.el (json-tests--with-temp-buffer): New\n\tmacro.\n\t(test-json-join, test-json-alist-p)\n\t(test-json-plist-p, test-json-advance, test-json-peek)\n\t(test-json-pop, test-json-skip-whitespace)\n\t(test-json-read-keyword, test-json-encode-keyword)\n\t(test-json-read-number, test-json-encode-number)\n\t(test-json-read-escaped-char, test-json-read-string)\n\t(test-json-encode-string, test-json-encode-key)\n\t(test-json-new-object, test-json-add-to-object)\n\t(test-json-read-object, test-json-encode-list)\n\t(test-json-read-array, test-json-encode-array)\n\t(test-json-read, test-json-read-from-string)\n\t(test-json-encode): New tests.\n\t(json-read-simple-alist): Merged into `test-json-read-object'.\n\t(json-encode-string-with-special-chars): Merged into\n\t`test-json-encode-string'.\n\t(json-read-string-with-special-chars): Split into\n\t`test-json-encode-string' and `test-json-read-from-string'.\n\n2015-11-24  Anders Lindgren  <andlind@gmail.com>\n\n\tFixed bug#18283: Enable applescript in NextStep.\n\n\t* nextstep/templates/Info.plist.in: Set NSAppleScriptEnabled to YES.\n\n2015-11-24  Eli Zaretskii  <eliz@gnu.org>\n\n\tAllow completion on dynamic module files in load-library\n\n\t* lisp/files.el (load-library): Bind completion-ignored-extensions\n\tto nil, to allow completion on dynamic modules typed as file\n\tnames.  Reported by Andy Moreton <andrewjmoreton@gmail.com>.\n\n2015-11-24  Alan Mackenzie  <acm@muc.de>\n\n\tCC Mode: eliminate almost all byte compilation warnings\n\n\t* lisp/progmodes/cc-bytecomp.el (cc-bytecomp-noruntime-functions): Remove.\n\t(cc-require): Remove the crude hack that saved and restored\n\tbyte-compile-noruntime-functions.\n\t(cc-conditional-require, cc-conditional-require-after-load): New macros.\n\n\t* lisp/progmodes/cc-defs.el (top level): Reformulate code which loaded\n\tcc-fix.el using the new macros in cc-bytecomp.el.\n\n\t* lisp/progmodes/cc-langs.el (c++-template-syntax-table)\n\t(c-no-parens-syntax-table): Add extra \"(eval ..)\"s around \"'(lambda ..)\"\n\tforms to remove the superflous quotes.\n\n2015-11-24  Eli Zaretskii  <eliz@gnu.org>\n\n\tAdd one more mod-test test\n\n\t* modules/mod-test/test.el (mod-test-sum-test): Test the error\n\tsignaled when the function is invoked with a wrong number of\n\targuments.\n\n2015-11-24  Philipp Stephani  <phst@google.com>\n\n\t* modules/mod-test/mod-test.c (Fmod_test_sum): Verify there are 2 args.\n\n2015-11-24  Eli Zaretskii  <eliz@gnu.org>\n\n\tImplement dynlib_addr for MS-Windows\n\n\t* src/dynlib.c [WINDOWSNT]: Include w32common.h.\n\t<g_b_init_get_module_handle_ex> [WINDOWSNT]: New static variable.\n\t(GET_MODULE_HANDLE_EX_FLAG_FROM_ADDRESS)\n\t(GET_MODULE_HANDLE_EX_FLAG_UNCHANGED_REFCOUNT) [WINDOWSNT]: Define\n\tif undefined.\n\t(dynlib_reset_last_error): Reset g_b_init_get_module_handle_ex to\n\tzero.\n\t(dynlib_addr) [WINDOWSNT]: Non-trivial implementation to report\n\tthe full file name of the module for a given address.\n\n2015-11-24  Alan Mackenzie  <acm@muc.de>\n\n\tMerge branch 'emacs-25' of git.sv.gnu.org:/srv/git/emacs into emacs-25\n\n2015-11-24  Alan Mackenzie  <acm@muc.de>\n\n\tSquashed commit of the following:\n\n\tcommit e1ecf76585bef2eb87995f7a7f92cc12003a6f70\n\tAuthor: Alan Mackenzie <acm@muc.de>\n\tDate:   Tue Nov 24 16:50:09 2015 +0000\n\n\t    Byte compile: minor amendments.\n\n\t    * lisp/emacs-lisp/bytecomp.el (byte-compile-initial-macro-environment):\n\t    add a comment to explain the binding of variables around a subsidiary\n\t    compilation.\n\t    (byte-compile-new-defuns): Amend the doc string.\n\n\tcommit c537bfed1dda1593d218956ff00c6105a3ff0316\n\tAuthor: Alan Mackenzie <acm@muc.de>\n\tDate:   Sat Nov 21 18:43:57 2015 +0000\n\n\t    Byte compiler: fix spurious warnings \"might not be defined at runtime\".\n\n\t    Also initialize byte-compile-noruntime-functions between runs.\n\n\t    * lisp/emacs-lisp/bytecomp.el (byte-compile-new-defuns): New variable.\n\t    (byte-compile-initial-macro-environment): For eval-when-compile: bind\n\t    byte-compile-unresolved-functions and byte-compile-new-defuns around\n\t    byte-compile-top-level, to prevent spurious entries being made.\n\t    (byte-compile-warn-about-unresolved-functions): Check whether function is\n\t    in byte-compile-new-defuns before emitting a warning about it.\n\t    (byte-compile-from-buffer): Initialize new variable and\n\t    byte-compile-noruntime-functions to nil.\n\t    (byte-compile-file-form-require): record all new functions defined by a\n\t    `require' in byte-compile-new-defuns.\n\t    (byte-compile-file-form-defmumble): record the new alias in\n\t    byte-compile-new-defuns.\n\n2015-11-24  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix crash at startup related to GC of font entities\n\n\t* src/font.h (GC_FONT_SPEC_P, GC_FONT_ENTITY_P)\n\t(GC_FONT_OBJECT_P, GC_XFONT_SPEC, GC_XFONT_ENTITY)\n\t(GC_XFONT_OBJECT): New macros, for use in garbage collector.\n\t* src/alloc.c (compact_font_cache_entry, compact_font_caches):\n\tDon't ifdef away font cache compaction on NT_GUI, as the problems\n\twhich led to that seem to have been solved.\n\t(compact_font_cache_entry): Use GC_FONT_SPEC_P, GC_XFONT_SPEC,\n\tGC_XFONT_ENTITY, and GC_XFONT_OBJECT, instead of their non-GC_\n\tcousins.  (Bug#21999)\n\n2015-11-24  Alan Mackenzie  <acm@muc.de>\n\n\tByte compile: Output an error, not a warning, for odd number of args to setq\n\n\t* lisp/emacs-lisp/bytecomp.el (byte-compile-setq): Amend.\n\n2015-11-24  Ken Raeburn  <raeburn@raeburn.org>\n\n\tFix kbd_buffer iteration loop in readable_events\n\n\t* src/keyboard.c (readable_events): Wrap the event pointer back to the\n\tstart of the kbd_buffer array inside the top of the loop instead of\n\tright before checking the loop condition, since kbd_fetch_ptr and\n\tkbd_store_ptr point past the end of the array to mean that element 0\n\tis next. (bug#21935)\n\n2015-11-24  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tImprove text-quoting-style doc again\n\n\t* doc/lispref/help.texi (Keys in Documentation):\n\tOmit overkill discussion of \u2018setq\u2019.  Mention Emacs versions\n\twhere \u2018grave\u2019 style was standard.\n\n2015-11-24  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tImprove text-quoting-style doc\n\n2015-11-24  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSimplify module_make_function\n\n\t* src/emacs-module.c (module_make_function):\n\tSimplify by calling build_unibyte_string.\n\n2015-11-24  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort better to FreeBSD\u2019s dlfunc vs dlsym\n\n\tThis avoids warnings when converting between void * and\n\tfunction pointers, which strict C11 does not allow.\n\t* configure.ac (dlfunc): Check for existence.\n\t* src/dynlib.c (dlfunc) [!HAVE_DLFUNC]: New macro.\n\t(dynlib_func): New function.\n\t* src/dynlib.h (dynlib_function_ptr, dynlib_func): New decls.\n\t* src/emacs-module.c (Fmodule_load): Use dynlib_func, not\n\tdynlib_sym, for function pointers.\n\n2015-11-24  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSimplify use of emacs_finalizer_function type\n\n\t* src/emacs-module.h (emacs_finalizer_function):\n\tNow EMACS_NOEXCEPT.  All users simplified to omit EMACS_NOEXCEPT.\n\t(struct emacs_env_25): Use emacs_finalizer_function where applicable.\n\n2015-11-24  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tmodule_format_fun_env fixes\n\n\t* src/doprnt.c (exprintf) [HAVE_MODULES]: Also define in this case.\n\t* src/emacs-module.c (module_format_fun_env):\n\tConvert path and sym to UTF-8.\n\tDon\u2019t use VLAs, as the C11 standard says they\u2019re optional,\n\tand anyway they can cause core dumps with large allocations.\n\tUse exprintf rather than snprintf, as exprintf handles arbitrarily\n\tlong strings.  Simplify the code a bit.\n\n2015-11-23  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tDon't use package-user-dir in elisp-library-roots if it's not bound\n\n\t* lisp/progmodes/elisp-mode.el (elisp-library-roots): Don't\n\tuse package-user-dir if it's not bound (bug#19759).\n\n2015-11-23  Anders Lindgren  <andlind@gmail.com>\n\n\tNew visible-bell for NextStep (OS X El Capitan compatible).\n\n\tInstead of inverting a rectangle in the middle of the frame, use\n\tthe standard NextStep image \"caution\", represented using an\n\twarning sign with an exclamation mark.  (Bug#21662)\n\n\tImplemented based on a suggestion drafted by Mustafa Kocaturk.\n\n\t* src/nsterm.m (EmacsBell): New class for managing the caution\n\timage.  Support multiple active bells, the image is removed once\n\tall bells have timed out.\n\t(ns_timeout): Removed, no longer used.\n\t(ns_ring_bell): Reimplemented to use EmacsBell.\n\n2015-11-23  Johan Bockg\u00e5rd  <bojohan@gnu.org>\n\n\t* lisp/emacs-lisp/nadvice.el (add-function): Fix debug spec.\n\n\t(remove-function): Ditto. (Bug#20376)\n\n2015-11-23  Mark Oteiza  <mvoteiza@udel.edu>\n\n\t* lisp/leim/quail/tamil-dvorak.el: Add necessary escapes.\n\n2015-11-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove how non-ASCII strings are accepted from modules\n\n\t* src/emacs-module.c (module_make_function, module_make_string):\n\tBuild a unibyte Lisp string and then decode it by UTF-8, instead\n\tof building a multibyte string without decoding.  This is more\n\ttolerant to deviations from UTF-8.\n\n2015-11-23  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort recent module changes to pickier compilers\n\n\t* src/emacs-module.c (module_make_function)\n\t(module_make_string): Add casts to fix pointer signedness issues.\n\n2015-11-23  Philipp Stephani  <phst@google.com>\n\n\tFix how strings are accepted from modules\n\n\t* src/emacs-module.c (module_make_function, module_make_string): Use\n\tmake_multibyte_string.\n\t(module_copy_string_contents): Encode before reading the byte\n\tsize.  Return false if and only if an error occurred.\n\n2015-11-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tMerge branch 'emacs-25' of git.savannah.gnu.org:/srv/git/emacs into emacs-25\n\n2015-11-23  Shakthi Kannan  <shakthimaan@gmail.com>\n\n\tAdd the tamil-dvorak input method\n\n\t* lisp/leim/quail/tamil-dvorak.el: New file.  (Bug#21768)\n\n\t* etc/NEWS: Mention the new input method.\n\n2015-11-23  Martin Rudalics  <rudalics@gmx.at>\n\n\tMove setting FRAME_WINDOW_SIZES_CHANGED to resize_frame_windows.\n\n\t* src/frame.c (adjust_frame_size): Don't set\n\tFRAME_WINDOW_SIZES_CHANGED here ...\n\t* src/window.c (resize_frame_windows): ... but here, as suggested\n\tby Stefan Monnier.  Also remove some dead code along the way.\n\n2015-11-23  Alan Mackenzie  <acm@muc.de>\n\n\t* etc/NEWS (Incompatible Lisp Changes): Also `setf' needs an even # of args.\n\n2015-11-23  Alan Mackenzie  <acm@muc.de>\n\n\tSignal an error when `setf' gets an odd number of arguments.\n\n\t* lisp/emacs-lisp/gv.el (setf): Amend.\n\n2015-11-23  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/smie.el (smie-backward-sexp): Handle BOB better.\n\n2015-11-23  Alan Mackenzie  <acm@muc.de>\n\n\t* etc/NEWS (Incompatible Lisp Changes): Document new restriction on `setq'.\n\n2015-11-23  Alan Mackenzie  <acm@muc.de>\n\n\tExpunge occurrences of `setq' with an odd number of arguments.\n\n\t* lisp/apropos.el (apropos-documentation):\n\t* lisp/obsolete/complete.el (PC-include-file-all-completions):\n\t* lisp/progmodes/compile.el (compilation-goto-locus):\n\t* lisp/vc/vc-cvs.el (vc-cvs-parse-root): (twice)\n\tInsert missing nil at end of `setq' forms.\n\n\t* lisp/emacs-lisp/bytecomp.el (byte-compile-file-form-autoload): Remove an\n\terroneous trailing variable name from a setq, thus allowing a compilation\n\tproperly to track functions not defined at runtime.\n\n2015-11-23  John Wiegley  <johnw@newartisans.com>\n\n\tAdd a note about a questionable use of bool in xdisp.c\n\n2015-11-23  Alan Mackenzie  <acm@muc.de>\n\n\tIssue a warning from the byte compiler on a malformed `setq' form.\n\n\tPartly fixes bug#20241.\n\t* lisp/emacs-lisp/bytecomp.el (byte-compile-setq): Issue a warning when a\n\t`setq' form with an odd number of arguments is compiled.\n\n2015-11-23  Alan Mackenzie  <acm@muc.de>\n\n\tDon't let cconv_convert insert a nil argument into a `setq' form.\n\n\tFixes bug#21983.\n\t* lisp/emacs-lisp/cconv.el (cconv-convert): Don't silently insert a nil last\n\targument into a `setq' when there're an odd number of args.  This enables the\n\tbyte compiler to issue a message in this case.\n\n2015-11-23  Alan Mackenzie  <acm@muc.de>\n\n\tSignal an error when `setq' has an odd number of arguments.  Fixes bug#20241.\n\n\t* src/eval.c (Fsetq): Signal an error on an odd number of arguments.\n\t(syms_of_eval): Add a DEFSYM for Qsetq.\n\n2015-11-23  Martin Rudalics  <rudalics@gmx.at>\n\n\t* doc/lispref/windows.texi (Window Sizes): Fix indices and references.\n\n\t* src/frame.c (adjust_frame_size): Set FRAME_WINDOW_SIZES_CHANGED (Bug#21975).\n\n2015-11-23  Thomas Fitzsimmons  <fitzsim@fitzsim.org>\n\n\tAdd EUDC BBDB 3 entry in NEWS\n\n\t* NEWS: Mention EUDC BBDB backend support for BBDB 3.\n\n2015-11-23  Thomas Fitzsimmons  <fitzsim@fitzsim.org>\n\n\tImprove EUDC to BBDB 3 export\n\n\t* lisp/net/eudc-vars.el (eudc-ldap-bbdb-conversion-alist): Change phone\n\tentry to single item.  Add company conversion.\n\t* lisp/net/eudc-export.el (eudc-bbdbify-company): New function.\n\t(bbdb-parse-phone): Declare function.\n\t(eudc-bbdbify-phone): Add BBDB 3 support.\n\t(Bug#21971)\n\n2015-11-23  Thomas Fitzsimmons  <fitzsim@fitzsim.org>\n\n\tAdd BBDB 3 support for EUDC export\n\n\t* lisp/net/eudc.el: Add bbdb-version defvar.\n\t(eudc--using-bbdb-3-or-newer-p): New function.\n\t* lisp/net/eudc-export.el (eudc-create-bbdb-record): Add support for\n\tbbdb-create-internal argument list changes introduced in BBDB 3.\n\t* lisp/net/eudcb-bbdb.el: Remove bbdb-version defvar.\n\t(eudc-bbdb-field): Call eudc--using-bbdb-3-or-newer-p.\n\t(Bug#21971)\n\n2015-11-22  Eli Zaretskii  <eliz@gnu.org>\n\n\tAllow loading modules by 'load-file'\n\n\t* src/lread.c (Fload): Call 'unbind_to' with 'Fmodule_load' as the\n\t2nd arg, to avoid the \"binding stack not balanced\" error.\n\t(syms_of_lread) <module-file-suffix>: New Lisp variable.\n\n\t* lisp/files.el (module-file-suffix): Declare.\n\t(load-file): Remove 'module-file-suffix' from\n\t'completion-ignored-extensions', to allow completion on modules.\n\n\t* etc/NEWS: Mention 'module-file-suffix'.\n\n2015-11-22  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix unoptimized builds\n\n\t* src/lisp.h (XTYPE): Move before XSYMBOL, to fix unoptimized\n\tbuilds.\n\n2015-11-22  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tWork around the asynchronous-empty-diff problem\n\n\t* lisp/vc/vc-rcs.el (vc-rcs-diff):\n\t* lisp/vc/vc-mtn.el (vc-mtn-diff):\n\t* lisp/vc/vc-hg.el (vc-hg-diff):\n\t* lisp/vc/vc-git.el (vc-git-diff): Ignore the ASYNC argument,\n\tdo a synchronous process call (bug#21969).\n\n2015-11-22  Karl Fogel  <kfogel@red-bean.com>\n\n\tFinish excising electric indent from `open-line'\n\n\t* lisp/simple.el (open-line): Remove INTERACTIVE argument.\n\n\t* test/automated/simple-test.el (open-line-indent, open-line-hook):\n\t  Adjust accordingly.\n\n\tThis change finishes what my commit of Thu Nov 19 17:32:37 2015 -0600\n\t(git commit c59353896) started.  It turns out that having INTERACTIVE\n\tcause `post-self-insert-hook' to run (via `newline') meant `open-line'\n\tstill had the electric indent behavior, as `post-self-insert-hook'\n\tnormally contains `electric-indent-post-self-insert-function' ever\n\tsince `electric-indent-mode' has been on by default.  Tracing the code\n\tchange in `open-line' is mildly twisty, because Artur Malabarba's\n\tearliest two commits of 24 Oct 2015 first removed the `interactive'\n\tform entirely (git commit 6939896e2) and then restored it with the new\n\textra \"p\" already added (git commit bd4f04f86), such that there is no\n\tsingle-commit diff in which one sees the second \"p\" appear.  Thus this\n\tchange is effectively a reversion of parts of each of those commits.\n\n\tThis could close bug#21884, at least until further discussion.\n\n2015-11-22  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tAdhere closer to the \"implicit tag name\" definition\n\n\t* lisp/progmodes/etags.el (etags-tags-completion-table):\n\tAdhere closer to the \"implicit tag name\" definition.  Simplify\n\tthe regexp.  Search for the explicit tag name first, and when\n\tnot found, search locally for the implicit one.  (Bug#21934)\n\n2015-11-22  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tUnrevert most of regexp reentrancy abort patch\n\n\tThe problem was in:\n\t  * src/syntax.c (update_syntax_table_forward): Propertize even when truncated\n\twhich is hence not unreverted.\n\tThe rest is:\n\t* src/syntax.h (UPDATE_SYNTAX_TABLE_FORWARD_FAST):\n\t(UPDATE_SYNTAX_TABLE_FAST): Re-introduce.\n\tAll callers in regex.c changed back to the _FAST versions.\n\n\t* test/automated/message-mode-tests.el: Tweak the test to rely on auto\n\tpropertization in backward-sexp.\n\n2015-11-21  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRevert regexp reentrancy abort patch\n\n\tAlthough the patch does fix Bug#21688 and prevents a core dump,\n\tit also makes the message-mode-propertize test fail; see:\n\thttp://lists.gnu.org/archive/html/emacs-devel/2015-11/msg01667.html\n\tPerhaps someone else can come up with a better fix some day.\n\t* src/syntax.c (update_syntax_table_forward):\n\tPropertize even when truncated.\n\t* src/syntax.h (UPDATE_SYNTAX_TABLE_FORWARD_FAST):\n\t(UPDATE_SYNTAX_TABLE_FAST): Remove.\n\tAll callers changed back to the non-_FAST versions.\n\n2015-11-21  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tAdd a few safety checks when ENABLE_CHECKING\n\n\tThis was motivated by the recent addition of module code,\n\twhich added some ENABLE_CHECKING-enabled checks that are\n\tuseful elsewhere too.\n\t* src/alloc.c (compact_font_cache_entry):\n\t* src/fns.c (sweep_weak_table):\n\t* src/lread.c (oblookup):\n\tUse gc_asize rather than doing it by hand.\n\t* src/emacs-module.c (module_make_global_ref)\n\t(module_free_global_ref, module_vec_size):\n\tOmit assertions that lisp.h now checks.\n\t* src/lisp.h (XFASTINT, ASIZE): In functional implementations,\n\tcheck that the result is nonnegative.  Use eassume, as this\n\tinfo can help a bit when optimizing production code.\n\t(XSYMBOL) [!USE_LSB_TAG]: Assert that argument is a symbol,\n\tto be consistent with the USE_LSB_TAG case.\n\t(gc_asize): New function, when ASIZE is needed in the gc.\n\t(gc_aset): Use it.\n\t(HASH_TABLE_P): Move definition up, so that it can be used ...\n\t(XHASH_TABLE): ... here, to assert that the arg is a hash table.\n\n2015-11-21  Eli Zaretskii  <eliz@gnu.org>\n\n\tSimplify recording of main thread's ID on MS-Windows\n\n\t* src/w32term.c (w32_initialize):\n\t* src/w32console.c (initialize_w32_display):\n\t* src/w32fns.c (globals_of_w32fns): Don't record the main thread\n\tID independently for each type of session (GUI, TTY, batch).\n\t* src/w32term.c (w32_init_main_thread): New function, records the\n\tmain thread's thread ID.\n\t* src/w32term.h: Add prototype for w32_init_main_thread.\n\t* src/emacs.c (main) [WINDOWSNT]: Call w32_init_main_thread.\n\n\t* src/emacs-module.c [WINDOWSNT]: Rename main_thread_id to\n\tmain_thread, for consistency with other threading libraries.  All\n\tusers changed.  Include w32term.h.\n\t(check_main_thread) [WINDOWSNT]: Simplify the test: no need to\n\tmake sure the main thread is alive, as we hold a handle on it\n\topened by w32_init_main_thread.\n\t(module_init) [WINDOWSNT]: Reuse the thread ID recorded by\n\tw32_init_main_thread, instead of calling the requisite APIs once\n\tmore.\n\n2015-11-21  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tBackport: Fix issue where a new tempfile was created every refresh\n\n\t* lisp/mpc.el (mpc-format): Leave dir as relative path\n\n2015-11-21  Eli Zaretskii  <eliz@gnu.org>\n\n\tCall 'window-size-change-functions' for mini-windows\n\n\t* src/window.c (grow_mini_window, shrink_mini_window): Set the\n\tframe's 'window_sizes_changed' flag.\n\t* src/xdisp.c (redisplay_internal): Call the hooks on\n\t'window-size-change-functions' if the call to 'echo_area_display'\n\tsets the frame's 'window_sizes_changed' flag.\n\t(syms_of_xdisp) <window-size-change-functions>:\n\tUpdate doc string to indicate the mini-window resizes trigger a\n\tcall to the hooks, and don't promise that will happen \"before\n\tredisplay\".  (Bug#19576, Bug#21333)\n\n\t* doc/lispref/windows.texi (Window Hooks): Update the description\n\tof 'window-size-change-functions'.\n\n2015-11-21  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of dynamic modules\n\n\t* src/fns.c (Frequire): Doc fix to include the dynamic module\n\tsupport.\n\t* src/lread.c (Fload, Vload_suffixes): Doc fixes to include the\n\tdynamic module support.\n\t(Fload): Treat the module suffix the same as '*.el' and '*.elc'\n\twrt the MUST-SUFFIX argument.\n\n\t* etc/NEWS: Expand documentation of dynamically loaded modules.\n\n2015-11-21  Philipp Stephani  <phst@google.com>  (tiny change)\n\n\tInitial documentation for dynamic modules\n\n\t* etc/NEWS: Mention the new support for dynamically loaded modules.\n\n2015-11-21  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tAdd xref--etags-backend to xref-backing-functions using add-hook\n\n\t* lisp/progmodes/xref.el (xref-backend-functions): Move the\n\tdefault value into a separate `add-hook' call (bug#21964).\n\n\t* lisp/progmodes/elisp-mode.el (emacs-lisp-mode):\n\tDon't declare the xref-backend-functions variable.\n\tIt doesn't make any difference.\n\n2015-11-20  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix double-decrement bug when freeing global refs\n\n\t* src/emacs-module.c (module_free_global_ref): Add a FIXME\n\tcomment about error reporting.  Fix a recently-introduced typo\n\tthat double-decremented the refcount.\n\n2015-11-20  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDeclare emacs_module_init in the module API\n\n\t* src/emacs-module.h (emacs_module_init): New decl.\n\tWithout it, GCC might complain about a module that defines\n\temacs_module_init without using it.  This also checks the\n\tAPI better.\n\n2015-11-20  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix module test to use ptrdiff_t nargs too\n\n\t* modules/mod-test/mod-test.c (Fmod_test_return_t)\n\t(Fmod_test_sum, Fmod_test_signal, Fmod_test_throw)\n\t(Fmod_test_non_local_exit_funcall, Fmod_test_globref_make)\n\t(Fmod_test_string_a_to_b, Fmod_test_userptr_make)\n\t(Fmod_test_userptr_get, Fmod_test_vector_fill)\n\t(Fmod_test_vector_eq): Arg counts are ptrdiff_t, not int.\n\t(finalizer): Remove; no longer used.\n\n2015-11-20  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix reindent-introduced typo in module code\n\n\t* src/emacs-module.c (MODULE_SETJMP_1): Fix typo that I\n\tintroduced while reindenting the code earlier, and add a\n\tcomment explaining the unusual use of do-while here.\n\n2015-11-20  Anders Lindgren  <andlind@gmail.com>\n\n\tFixed bug#19576: `write-file' saves wrong buffer.\n\n\tIf a function on the hook `window-size-change-functions' doesn't\n\trestore the current buffer, functions that save and restore the\n\tcurrent window configuration (like `y-or-no-p') could silently\n\tchange the current buffer.  When `write-file' asked the user\n\tconfirmation to overwrite a file, `y-or-no-p' changed the current\n\tbuffer, and the wrong buffer was saved to the file.\n\n\t* lisp/follow.el (follow-windows-start-end): Call `select-frame'\n\tusing the `norecord' parameter.\n\t(follow-window-size-change): Restore current buffer. Call\n\t`select-frame' using the `norecord' parameter. Cleanup.\n\n2015-11-20  John Wiegley  <johnw@newartisans.com>\n\n\tCorrect a documentation error in frames.texi\n\n2015-11-20  Stephen Leake  <stephen_leake@stephe-leake.org>\n\n\t* lisp/cedet/mode-local.el: Delete obsolete comment\n\n2015-11-20  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tModule function arg counts are ptrdiff_t, not int\n\n\t* src/emacs-module.c (struct module_fun_env)\n\t(module_make_function, module_funcall, Fmodule_call):\n\t* src/emacs-module.h (struct emacs_runtime, struct emacs_env_25):\n\tUse ptrdiff_t, not int, for arg counts.\n\t* src/emacs-module.c (module_make_function): Don\u2019t bother\n\tchecking arity against MOST_POSITIVE_FIXNUM, as that\u2019s\n\tunnecessary here.  Make the checking clearer by negating it.\n\t(module_make_function, Fmodule_call): No need to use xzalloc\n\tsince the storage doesn\u2019t need to be cleared.\n\t(module_funcall): Don\u2019t use VLA, since C11 doesn\u2019t guarantee support\n\tfor it, and many implementations are buggy with large VLAs anyway.\n\tUse SAFE_ALLOCA_LISP instead.\n\t(module_vec_set): Don\u2019t crash if i < 0.\n\t(module_vec_get): Don\u2019t crash if i < MOST_NEGATIVE_FIXNUM.\n\t(module_vec_set, module_vec_get): Do fixnum checks only when\n\ti is out of array bounds, for efficiency in the usual case.\n\t(Fmodule_load): Simplify fixnum range check.\n\t(Fmodule_call): Simplify arity check.  Use xnmalloc to detect\n\tinteger overflow in array allocation size.\n\n2015-11-20  Eli Zaretskii  <eliz@gnu.org>\n\n\tMinor improvements in module test\n\n\t* modules/mod-test/mod-test.c: Include stdlib.h, to avoid warnings\n\tabout missing prototype of malloc.\n\t* modules/mod-test/Makefile (CFLAGS): Add -std=gnu99, to avoid\n\tcompiler warnings.\n\n2015-11-20  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove MS-Windows implementation in dynlib.c\n\n\t* src/dynlib.c [WINDOWSNT]: Include errno.h, lisp.h, and w32.h.\n\tNo need to include windows.h, as w32.h already does that.\n\t<dynlib_last_err>: New static variable.\n\t(dynlib_reset_last_error): New function.\n\t(dynlib_open): Convert forward slashes to backslashes.  Convert\n\tfile names from UTF-8 to either UTF-16 or the current ANSI\n\tcodepage, and call either LoadLibraryW or LoadLibraryA.  If the\n\targument is NULL, return a handle to the main module, like\n\t'dlopen' does.  Record the error, if any, for use by dynlib_error.\n\t(dynlib_sym): Check the handle for validity. Record the error, if\n\tany, for use by dynlib_error.\n\t(dynlib_error): Call w32_strerror to produce the error string, and\n\tzero out the last error code, like dlerror does.\n\t(dynlib_close): Check the handle for validity.  Record the error,\n\tif any, for use by dynlib_error.  Don't call FreeLibrary with a\n\thandle for the main module.\n\t* src/w32.c (globals_of_w32): Call dynlib_reset_last_error.\n\n2015-11-20  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tInclude-file tweaks for modules\n\n\t* src/dynlib.c, src/emacs-module.c: Include <config.h> first.\n\t* src/dynlib.h: Do not include config.h.\n\tIt\u2019s every .c file\u2019s responsibility to include config.h first.\n\t* src/emacs-module.c: Include emacs-module.h immediately after\n\tconfig.h, to test that emacs-module.h doesn\u2019t depend on\n\tinclude files other than config.h.\n\n2015-11-20  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSimplify push_handler and profile its malloc\n\n\t* src/lisp.h (PUSH_HANDLER): Remove.\n\tAll callers changed to use push_handler directly.\n\t* src/eval.c (internal_condition_case)\n\t(internal_condition_case_1, internal_condition_case_2)\n\t(internal_condition_case_n):\n\tUse same pattern as for other invokers of push_handler.\n\t(push_handler, push_handler_nosignal): Use call-by-value\n\tinstead of call-by-reference.  All uses changed.\n\t(push_handler): Simplify by rewriting in terms of\n\tpush_handler_nosignal.\n\t(push_handler_nosignal): Profile any newly allocated memory.\n\n2015-11-20  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* src/emacs-module.h: Include stddef.h, not stdlib.h.\n\n2015-11-20  Juanma Barranquero  <lekktu@gmail.com>\n\n\tDiscover repository version in linked worktrees (bug#21930)\n\n\t* lisp/version.el (emacs-repository--version-git-1): Do not assume\n\tHEAD is at .git/HEAD, it can also be at .git/worktrees/<branch>/HEAD.\n\t(emacs-repository-get-version): Grok linked worktrees when EXTERNAL\n\tis nil too.\n\n2015-11-20  Juri Linkov  <juri@linkov.net>\n\n\t* lisp/replace.el (occur-regexp-descr): New function.\n\t(occur-1, occur-engine): Use it.\n\n\t* lisp/isearch.el (isearch-occur): Propertize regexp with\n\tisearch-string and isearch-regexp-function-descr for\n\toccur-regexp-descr to display the correct description\n\tmessage in the header (bug#21176, bug#21180).\n\n2015-11-20  Karl Fogel  <kfogel@red-bean.com>\n\n\tRevert `open-line' electric-indent sensitivity\n\n\t* lisp/simple.el (open-line): Remove electric indent code.\n\t  (electric-indent-just-newline): Don't declare.\n\n\t* test/automated/simple-test.el (open-line-indent): Adjust test.\n\n\tThis partly reverts Artur Malabarba's change that added electric\n\tindent sensitivity to `open-line' (Oct 24 22:26:27 2015 +0100, git\n\tcommit bd4f04f86), and adjusts a new test he added right afterwards\n\t(Sat Oct 24 23:43:06 2015 +0100, git commit 207f235e3) accordingly.\n\tHowever, the new INTERACTIVE argument to `open-line', which he also\n\tadded in the first commit, is not reverted here.\n\n\tSee the thread \"Questioning the new behavior of `open-line'.\" on the\n\tEmacs Devel mailing list, and in particular this message:\n\n\t  From: Artur Malabarba\n\t  Subject: Re: Questioning the new behavior of `open-line'.\n\t  To: Karl Fogel\n\t  Cc: David Kastrup, Pierpaolo Bernardi, emacs-devel\n\t  Date: Wed, 18 Nov 2015 21:03:58 +0000\n\t  Message-ID: \\\n\t    <CAAdUY-KN06pvCMy5bt3+Buk3yeKjf6n9iB2FaSTTOPpCqPwyhA@mail.gmail.com>\n\n\t  https://lists.gnu.org/archive/html/emacs-devel/2015-11/msg01707.html\n\n2015-11-20  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tOmit unnecessary clear in Fmodule_load\n\n\t* src/emacs-module.c (Fmodule_load):\n\tSimplify and avoid unnecessary initialization of priv member to 0.\n\n\t* src/emacs-module.c: (module_vec_set, module_vec_get, module_vec_size)\n\n2015-11-20  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPrefer signed integer types in module code\n\n\tGenerally speaking, at the C level the Emacs source code prefers\n\tsigned types like \u2018ptrdiff_t\u2019 to unsigned types like \u2018size_t\u2019,\n\tpartly to avoid the usual signedness confusion when comparing values.\n\tChange the module API to follow this convention.\n\tUse \u2018int\u2019 for small values that can\u2019t exceed INT_MAX.\n\t* modules/mod-test/mod-test.c (Fmod_test_globref_make)\n\t(Fmod_test_string_a_to_b, Fmod_test_vector_fill)\n\t(Fmod_test_vector_eq):\n\t* src/emacs-module.c (struct emacs_value_frame)\n\t(module_make_global_ref, module_free_global_ref)\n\t(module_copy_string_contents, module_make_string)\n\t(module_vec_set, module_vec_get, module_vec_size):\n\t* src/emacs-module.h (struct emacs_runtime, struct emacs_env_25):\n\t* src/lread.c (suffix_p):\n\tPrefer signed to unsigned integer types.\n\n2015-11-19  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tOmit \u2018const\u2019 on locals\n\n\tRemove \u2018const\u2019 qualifier from locals that were newly added.\n\tWe don\u2019t normally bother declaring locals with \u2018const\u2019 even\n\tthough they are not modified, for the same reason we don\u2019t\n\tbother declaring them with \u2018register\u2019 even though their\n\taddresses are not taken; the advantage in compile-time\n\tchecking isn\u2019t worth the loss of readability.\n\t* modules/mod-test/mod-test.c (Fmod_test_non_local_exit_funcall)\n\t(Fmod_test_vector_fill, Fmod_test_vector_eq):\n\t* src/emacs-module.c (MODULE_SETJMP_1)\n\t(module_make_global_ref, module_free_global_ref)\n\t(module_non_local_exit_get, module_make_function)\n\t(module_extract_integer, module_extract_float)\n\t(module_get_user_ptr, module_set_user_ptr)\n\t(module_get_user_finalizer, module_set_user_finalizer)\n\t(module_vec_get, Fmodule_call)\n\t(module_non_local_exit_signal_1)\n\t(module_non_local_exit_throw_1, lisp_to_value)\n\t(finalize_storage, allocate_emacs_value, mark_modules)\n\t(module_handle_signal, module_handle_throw)\n\t(module_format_fun_env):\n\t* src/eval.c (push_handler, push_handler_nosignal)\n\t(init_handler):\n\t* src/lread.c (suffix_p):\n\tOmit unnecessary \u2018const\u2019.\n\n2015-11-19  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPrefer intmax_t to int64_t in module code\n\n\t* modules/mod-test/mod-test.c (sum, Fmod_test_sum):\n\t* src/emacs-module.c (module_extract_integer)\n\t(module_make_integer):\n\t* src/emacs-module.h (struct emacs_env_25):\n\tPrefer intmax_t to int64_t.  This doesn\u2019t change the generated\n\tcode on any of the machines Emacs currently ports to, but it\u2019s\n\tat least in theory more future-proof as C99 doesn\u2019t guarantee\n\tthat int64_t exists.\n\n2015-11-19  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRename module.c to emacs-module.c, etc.\n\n\t* src/emacs-module.c: Rename from src/module.c.\n\t* src/emacs-module.h: Rename from src/module.h.\n\tAll uses changed.\n\n2015-11-19  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix minor module problems found by static checking\n\n\t* src/dynlib.c (dynlib_close): #ifdef out for now, as it\u2019s not used.\n\t* src/eval.c, src/lisp.h (lisp_eval_depth): Now static.\n\t* src/emacs-module.c (Fmodule_load): Fix pointer signedness bug.\n\t(Fmodule_call): Tell GCC that the default case is unreachable.\n\n2015-11-19  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tStyle fixes for indenting etc. in module code\n\n\tThis is mostly indenting and spacing changes.  Also, remove\n\tsome unnecessary static decls instead of bothering to reindent them.\n\t* src/emacs-module.h (EMACS_EXTERN_C_BEGIN): Remove, and do this inline,\n\tas most other Emacs files do for this sort of thing.\n\n2015-11-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tMinor improvements in modules testing Makefile\n\n\t* modules/mod-test/Makefile (EMACS, SO): New variables.\n\t(CFLAGS): When SO = dll, don't use -fPIC.\n\t(check): New target, runs the test.\n\n2015-11-19  Eli Zaretskii  <eliz@gnu.org>\n\n\t* .gitignore: Add \"*.dll\".\n\n2015-11-19  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMigrate modules/.gitignore into .gitignore\n\n\t* .gitignore: Add former contents of modules/.gitignore.\n\t* modules/.gitignore: Remove.\n\n2015-11-19  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tAdd copyright notices to module code\n\n\tPut them in the usual format for GNU Emacs copyright notices.\n\n2015-11-19  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRename emacs_module.h to module.h\n\n\t* src/module.h: Rename from src/emacs_module.h.\n\tAll uses changed.\n\n2015-11-19  Juanma Barranquero  <lekktu@gmail.com>\n\n\t* src/module.c (Fmodule_load): Remove unused vars `doc_name', `args'\n\n\t* src/lread.c (Fload): Remove unused variable `size'\n\n2015-11-19  Alan Mackenzie  <acm@muc.de>\n\n\tsrc/keyboard.c (pre-command-hook): Fix typo in doc string: \"pre\" -> \"post\".\n\n2015-11-19  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tPrioritize looking inside vc-parent-buffer over log-view-mode fallback\n\n\t* lisp/vc/vc.el (vc-deduce-fileset): Prioritize looking inside\n\tvc-parent-buffer over log-view-mode fallback (bug#21955).\n\n2015-11-18  Alan Mackenzie  <acm@muc.de>\n\n\tlisp/isearch.el: Eliminate macro isearch-call-message, replacing with funcall.\n\n2015-11-18  Ken Brown  <kbrown@cornell.edu>\n\n\t* configure.ac (LIBMODULES): Don\u2019t define on Cygwin\n\n2015-11-18  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix MS-Windows build --with-modules\n\n\t* src/module.c: Reformat copyright commentary.\n\t(module_vec_get): Use explicit cast to size_t to avoid compiler\n\twarning in 32-bit builds.\n\t(check_main_thread) [WINDOWSNT]: Fix letter-case in Windows APIs.\n\tCompare thread IDs directly, as GetThreadId is not available\n\tbefore Windows Vista.\n\t(check_main_thread) [WINDOWSNT]: Duplicate the thread handle\n\twithout using APIs and constants not available on XP and older\n\tsystems.  Obtain and store the thread ID as well.\n\n2015-11-18  Aur\u00e9lien Aptel  <aurelien.aptel@gmail.com>\n\t    Philipp Stephani  <phst@google.com>\n\n\tAdd dynamic module test and helper script\n\n\tAdd 'modhelp.py' script (python2) to automate module testing and\n\tmodule generation.\n\n\tTo build and test all modules in the modules/ dir\n\t  $ ./modhelp.py test\n\n\tTo generate a module from template code (good starting point)\n\t  $ ./modhelp init mynewtestmodule\n\n\tSee the script -h option for more documentation.\n\n\t* modules/modhelp.py: New module helper script.\n\t* modules/mod-test/Makefile: New file. Makefile for the test module.\n\t* modules/mod-test/mod-test.c: New file. Test module source file.\n\t* modules/mod-test/test.el: New file. ert test suite for the test module.\n\t* modules/.gitignore: New file. Local .gitignore file.\n\n2015-11-18  Aur\u00e9lien Aptel  <aurelien.aptel@gmail.com>\n\n\tMake 'Fload' look for modules\n\n\t'Fload' can now load dynamic modules. This also makes 'require' work.\n\n\t* src/lread.c:\n\t  (suffix_p): New function.\n\t  (Fload): Use 'suffix_p'.  Call 'Fmodule_load' when we try to load a file\n\t  with a module suffix.\n\t  (syms_of_lread): Append module suffix to 'Vload_suffixes'.\n\n2015-11-18  Aur\u00e9lien Aptel  <aurelien.aptel@gmail.com>\n\t    Philipp Stephani  <phst@google.com>\n\n\tAdd dynamic module module support\n\n\t* configure.ac: Add '--with-modules' option.  Conditionally add\n\t  dynlib.o and module.o to the list of objects.  Add any system\n\t  specific flags to the linker flags to support dynamic libraries.\n\t* m4/ax_gcc_var_attribute.m4: Add autoconf extension to test gcc\n\t  attributes.\n\t* src/Makefile.in: Conditionally add module objects and linker flags.\n\t* src/alloc.c (garbage_collect_1): protect module local values from\n\t  GC.\n\t* src/lisp.h: Add 'module_init' and 'syms_of_module' prototypes.\n\t* src/emacs-module.h: New header file included by modules.  Public\n\t  module API.\n\t* src/emacs-module.c: New module implementation file.\n\n2015-11-18  Aur\u00e9lien Aptel  <aurelien.aptel@gmail.com>\n\n\tAdd new User Pointer (User_Ptr) type\n\n\t* src/lisp.h: Add new Lisp_Misc_User_Ptr type.\n\t(XUSER_PTR): New User_Ptr accessor.\n\t* src/alloc.c (make_user_ptr): New function.\n\t(mark_object, sweep_misc): Handle Lisp_Misc_User_Ptr.\n\t* src/data.c (Ftype_of): Return 'user-ptr' for user pointer.\n\t(Fuser-ptrp): New user pointer type predicate function.\n\t(syms_of_data): New 'user-ptrp', 'user-ptr' symbol.  New 'user-ptrp'\n\tsubr.\n\t* src/print.c (print_object): Add printer for User_Ptr type.\n\n2015-11-18  Aur\u00e9lien Aptel  <aurelien.aptel@gmail.com>\n\t    Philipp Stephani  <phst@google.com>\n\n\tAdd portable layer for dynamic loading\n\n\t* src/dynlib.h: New file.\n\t* src/dynlib.c: New file.\n\n2015-11-18  Philipp Stephani  <phst@google.com>\n\n\tAdd catch-all & no-signal version of PUSH_HANDLER\n\n\tGround work for modules. Add a non-signaling version of PUSH_HANDLER and\n\ta new \"catch-all\" handler type.\n\n\t* src/eval.c (init_handler, push_handler, push_handler_nosignal): New\n\t  functions.\n\t* src/fns.c (hash_remove_from_table): Expose function public.\n\t* src/lisp.h: New handler type, define macro to push_handler call.\n\n2015-11-18  Ken Brown  <kbrown@cornell.edu>\n\n\tSilence byte-compiler warning\n\n\t* lisp/server.el (server-process-filter): Silence byte-compiler\n\twarning.\n\n2015-11-18  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tQuote symbols in docstrings using `'\n\n\tBe more systematic about quoting symbols `like-this' rather than\n\t`like-this or 'like-this' in docstrings.  This follows up Artur\n\tMalabarba's email in:\n\thttp://lists.gnu.org/archive/html/emacs-devel/2015-11/msg01647.html\n\n2015-11-18  Peder O. Klingenberg  <peder@klingenberg.no>\n\n\tFix savegames in dunnet\n\n\t* lisp/play/dunnet.el (dun-rot13): Use the standard rot13-region instead\n\t  of separate implementation.\n\n2015-11-18  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el (package--with-response-buffer):\n\n\tEnsure we're at the start of the buffer before searching for\n\tthe end of headers.\n\n2015-11-18  Xue Fuqiao  <xfq.free@gmail.com>\n\n\t* admin/release-process: Improve wording.\n\n2015-11-18  Xue Fuqiao  <xfq.free@gmail.com>\n\n\tBackport: * CONTRIBUTE: Remove information about feature freeze.\n\n\t(cherry picked from commit ae0653b5ab9ee223751ec389b87011963e1cbbef)\n\n2015-11-18  Xue Fuqiao  <xfq.free@gmail.com>\n\n\tBackport: Document the release process\n\n\t* admin/notes/versioning: Add information about RC releases.\n\t* admin/release-process: Document the release process.\n\t* admin/authors.el (authors-ignored-files):\n\t* admin/README: Change FOR-RELEASE to release-process.\n\t* CONTRIBUTE:\n\t* admin/notes/bugtracker: Don't mention FOR-RELEASE.\n\n\t(cherry picked from commit 9a4aa0f5945a03611ae29c516025dbd353bd26ab)\n\n2015-11-18  Xue Fuqiao  <xfq.free@gmail.com>\n\n\tBackport: * admin/release-process: Rename from admin/FOR-RELEASE.\n\n\t(cherry picked from commit f8cc14b59700e51a4e31139c0a65c8154995e055)\n\n2015-11-18  Xue Fuqiao  <xfq.free@gmail.com>\n\n\tBackport: Mention CONTRIBUTE in README\n\n\tMention CONTRIBUTE in README, since it was moved from etc/ to root.\n\t* etc/TODO: Remove the reference to `etc/CONTRIBUTE'.\n\t* README: Mention CONTRIBUTE.\n\n\t(cherry picked from commit ed2e7e20ae0945288c98091f308f5460c3453873)\n\n2015-11-18  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix docstring quoting problems with \u2018 '\u2019\n\n\tProblem reported by Artur Malabarba in:\n\thttp://lists.gnu.org/archive/html/emacs-devel/2015-11/msg01513.html\n\tMost of these fixes are to documentation; many involve fixing\n\tlongstanding quoting glitches that are independent of the\n\trecent substitute-command-keys changes.  The changes to code are:\n\t* lisp/cedet/mode-local.el (mode-local-augment-function-help)\n\t(describe-mode-local-overload):\n\tSubstitute docstrings before displaying them.\n\t* lisp/emacs-lisp/cl-macs.el (cl--transform-lambda):\n\tQuote the generated docstring for later substitution.\n\n2015-11-17  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove configure --help text for wide ints\n\n\t* configure.ac (wide-int): Clarify user-level advantages and\n\tdisadvantages.\n\n2015-11-17  Stephen Leake  <stephen_leake@stephe-leake.org>\n\n\tImprove doc string\n\n\t* lisp/progmodes/xref.el (xref-backend-references): Improve doc string.\n\n2015-11-17  Paul Eggert  <eggert@cs.ucla.edu>\n\n\teval_sub followed dangling pointer when debugging\n\n\tProblem reported by Pip Cet (Bug#21245).\n\tThis bug could occur in eval_sub if the C compiler reused\n\tstorage associated with the \u2018argvals\u2019 local after \u2018argvals\u2019\n\twent out of scope, and if the Elisp debugger stopped on Elisp\n\tfunction exit and accessed \u2018argvals\u2019.  It could also occur if\n\ta variadic function was called with so many arguments (over\n\t2048 args on x86-64) that SAFE_ALLOCA_LISP called malloc, then\n\tSAFE_FREE freed the arguments, then the memory manager used\n\tthe storage for other purposes, then the debugger accessed the\n\targuments.\n\t* src/eval.c (eval_sub): Declare \u2018argvals\u2019 at top level of\n\tfunction body.\tSimplify local decls.\n\tWhen allocating args via SAFE_ALLOCA, call\n\tdebugger before invoking SAFE_FREE, as the debugger needs\n\taccess to the args.\n\t(eval_sub, apply_lambda): Rework to avoid need for\n\tset_backtrace_debug_on_exit hack.  This is cleaner,\n\tand should work better with buggy custom debuggers.\n\n2015-11-17  Daiki Ueno  <ueno@gnu.org>\n\n\t* lisp/image-mode.el: Support encrypted file\n\n\t(image-toggle-display-image): Read content from the buffer instead\n\tof the file, if the buffer holds a decrypted data.  (Bug#21870)\n\n2015-11-17  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tELF unexec: align section header\n\n\tThis ports the recent unexelf.c changes to Fedora x86-64\n\twhen configured with GCC\u2019s -fsanitize=undefined option.\n\t* src/unexelf.c (unexec): Align new_data2_size to a multiple\n\tof ElfW (Shdr)\u2019s alignment, so that NEW_SECTION_H returns a\n\tpointer aligned appropriately for its type.\n\n2015-11-17  Andreas Schwab  <schwab@linux-m68k.org>\n\n\tDo more checks on bytecode objects (Bug#21929)\n\n\t* src/eval.c (funcall_lambda): Check size of compiled function\n\tobject.\n\t(Ffetch_bytecode): Likewise.\n\n2015-11-16  Johan Bockg\u00e5rd  <bojohan@gnu.org>\n\n\tpcase.el: Fix edebugging of backquoted cons patterns\n\n\t* lisp/emacs-lisp/pcase.el (pcase-QPAT): Fix edebugging of backquoted\n\tcons patterns. (Bug#21920)\n\n2015-11-16  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tImprove fix for regex reentrancy abort\n\n\tSuggested by Stefan Monnier (Bug#21688).\n\t* src/syntax.c (update_syntax_table_forward):\n\tRemove recently-added PROPERTIZE arg, and assume it is true.\n\tAll callers changed.\n\t* src/syntax.h (UPDATE_SYNTAX_TABLE_FORWARD_FAST):\n\tInvoke update_syntax_table directly.\n\n2015-11-16  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/faces.el (faces--attribute-at-point): Use `face-list-p'\n\n\t* lisp/emacs-lisp/package.el (package--with-response-buffer): Missing require\n\n\t* lisp/emacs-lisp/nadvice.el (add-function): Escape quote\n\n2015-11-16  Vasily Korytov  <vasily.korytov@yahoo.com>\n\n\tRecognize .rbw and .pyw files (bug#18753)\n\n\t* lisp/progmodes/python.el (auto-mode-alist):\n\tRecognize .pyw files.\n\n\t* lisp/progmodes/ruby-mode.el (auto-mode-alist):\n\tRecognize .rbw files.\n\n2015-11-16  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tFix ruby-mode auto-mode-alist entry\n\n\t* lisp/progmodes/ruby-mode.el (auto-mode-alist): Add grouping\n\taround the extensions (bug#21257).\n\n2015-11-15  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tFix etags completion near eob\n\n\t* lisp/progmodes/etags.el (tags-completion-at-point-function):\n\tUse `goto-char', to avoid the end-of-buffer error (bug#20061).\n\n2015-11-15  Alan Mackenzie  <acm@muc.de>\n\n\tDe-pessimize detection of C++ member initialization lists.\n\n\tlist/progmodes/cc-engine.el (c-back-over-list-of-member-inits): New macro.\n\t(c-back-over-member-initializers): Reformulate such that c-at-toplevel-p\n\tis only called when a construct \"looks right\" rather than continually.\n\t(c-guess-basic-syntax, CASE 5R): Add a check for the mode being C++ Mode.\n\n2015-11-15  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\tBackport: * lisp/emacs-lisp/package.el: Fix a decoding issue.\n\n\t* lisp/url/url-handlers.el (url-insert-file-contents): Move some code to\n\t`url-insert-buffer-contents'.\n\t(url-insert-buffer-contents): New function\n\n\t(package--with-response-buffer): Use `url-insert-buffer-contents'.\n\tThe previous code had some issues with decoding. Refactoring that\n\tfunction allows us to use the decoding from url-handlers while still\n\ttreating both sync and async requests the same.\n\n2015-11-15  Stephen Leake  <stephen_leake@stephe-leake.org>\n\n\tImprove a few doc strings, comments\n\n\t* lisp/cedet/cedet-global.el (cedet-gnu-global-expand-filename):\n\t* lisp/cedet/ede/locate.el (ede-locate-base):\n\t* lisp/cedet/semantic/symref.el (semantic-symref-calculate-rootdir):\n\t* src/fns.c (Fdelq): Improve doc string.\n\n\t* lisp/progmodes/elisp-mode.el (elisp--xref-find-definitions): Add FIXME.\n\n2015-11-15  Anders Lindgren  <andlind@gmail.com>\n\n\tEnhance NSTRACE (trace output for NextStep).\n\n\tTrace can be disabled for groups of functions. By default, event\n\tfunctions and functions that generate lots of output are disabled.\n\n\tTrace output of Objective-C functions now use the \"[ClassName\n\tparameter:]\" form.\n\n\t* src/nsterm.h (NSTRACE_ALL_GROUPS, NSTRACE_GROUP_EVENTS)\n\t(NSTRACE_GROUP_UPDATES, NSTRACE_GROUP_FRINGE, NSTRACE_GROUP_COLOR)\n\t(NSTRACE_GROUP_GLYPHS, NSTRACE_GROUP_FOCUS): New macros,\n\tcontrolling in which function groups trace should be active.\n\t(NSTRACE_WHEN): Support for silencing a function, this also\n\tsilencing all called functions.\n\t(NSTRACE_UNSILENCE): New macro, used to re-enable trace.\n\t(NSTRACE_FMT_FSTYPE, NSTRACE_ARG_FSTYPE): New macros, used to\n\tprint the full screen state in NSTRACE functions.\n\n\t* src/nsterm.m (nstrace_depth, nstrace_num): Made volatile as they\n\tcan be accessed from multiple threads.\n\t(nstrace_enabled_global): New variable, when FALSE, trace is\n\tsilenced.\n\t(nstrace_restore_global_trace_state): New function, used to\n\trestore `nstrace_enabled_global' at end of block.\n\t([EmacsView setFrame:], [EmacsWindow setFrame:display:])\n\t([EmacsWindow setFrame:display:animation:])\n\t([EmacsWindow setFrameTopLeftPoint:]): New functions, print trace\n\tand call corresponding super function.\n\t(Many functions): Add or enhance trace output.\n\n\t* src/nsimage.m (ns_image_from_file): Enhanced trace output.\n\n\t* src/nsfns.m (x_set_tool_bar_lines): Add trace output.\n\n\t* src/nsmenu.m ([EmacsToolbar setVisible:]): New function, print trace\n\tand call corresponding super function.\n\n2015-11-15  Anders Lindgren  <andlind@gmail.com>\n\n\tFixed a toolbar related issue on OS X.\n\n\tEarlier, when toggling the tool-bar in a maximized frame, the\n\tframe size didn't match the number of text lines, leaving an\n\tunused area at the bottom of the frame.\n\n\t* src/nsfns.m (x_set_tool_bar_lines): Exit maximized and full height\n\tfullscreen modes when tool bar is disabled.\n\n2015-11-15  Anders Lindgren  <andlind@gmail.com>\n\n\tFixed OS X 10.6.8 build issue (bug#21862).\n\n\t* src/nsterm.h (EmacsView): Add missing declarations.\n\t* src/nsterm.m ([EmacsView windowDidBecomeKey]): New method, like\n\tthe standard method but without the notification parameter.\n\tIntended to be used for direct calls.\n\t([EmacsView windowDidEnterFullScreen]): Call the non-notification\n\tversion of `windowDidBecomeKey'. Made the notification method call\n\tthe non-notification method instead of the vice versa.\n\t(NSWindowDidEnterFullScreenNotification): Deleted, no longer\n\tneeded.\n\n2015-11-15  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/faces.el (faces--attribute-at-point): Fix an issue\n\n\tPrevious code would signal an error when the face at point was\n\ta manually built list of attributes such as '(:foregroud \"white\").\n\n\t* test/automated/faces-tests.el (faces--test-color-at-point): Add a test\n\n2015-11-15  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix regex abort when it tries to reenter itself\n\n\tProblem reported by Ken Raeburn.\n\tSolution suggested by Stefan Monnier (Bug#21688).\n\t* src/regex.c (re_match_2_internal):\n\tUse new _FAST functions to avoid regex code reentering itself.\n\t* src/syntax.c (update_syntax_table_forward): New arg PROPERTIZE.\n\tAll callers changed.\n\t* src/syntax.h (UPDATE_SYNTAX_TABLE_FORWARD_FAST)\n\t(UPDATE_SYNTAX_TABLE_FAST): New inline functions.\n\n2015-11-15  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tImprove Ruby 1.9-style keyword keys highlighting\n\n\t* lisp/progmodes/ruby-mode.el (ruby-font-lock-keywords):\n\tHandle required keyword arguments (bug#21367).\n\tAnd highlight the colon together with the name.\n\n2015-11-15  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tUnify the absolutely equal xref-backend-references implementations\n\n\t* lisp/progmodes/elisp-mode.el (xref-backend-references):\n\tRemove.\n\n\t* lisp/progmodes/etags.el (xref-backend-references):\n\tRemove.\n\n\t* lisp/progmodes/xref.el (xref-backend-references):\n\tDefine the default implementation.\n\n2015-11-15  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tUpdate project-find-regexp for the new xref API\n\n\t* lisp/progmodes/project.el (project--read-regexp):\n\tUpdate to use the new xref API methods.\n\n\t* lisp/progmodes/xref.el (xref-find-backend): Autoload.\n\n2015-11-15  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tFix replacing a match with a shorter string\n\n\tIn effect, partially reverting fe973fc.\n\n\t* lisp/progmodes/xref.el (xref-query-replace): Store the end\n\tof each match as a marker again, instead of length.\n\t(xref--query-replace-1): Update accordingly.\n\n2015-11-14  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/progmodes/xref.el (xref-pop-marker-stack): Downgrade errors\n\n\tSignal user-errors instead.\n\n2015-11-14  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument 'describe-symbol'\n\n\t* doc/emacs/help.texi (Help Summary): Mention \"C-h o\".\n\t(Name Help): Document \"C-h o\" and describe-symbol.\n\n\t* lisp/help-fns.el (describe-symbol): Doc fix.\n\n2015-11-14  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tChange test name to avoid spellcheck issue.\n\n2015-11-14  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid signaling an error in 'describe-symbol'\n\n\t* lisp/help-fns.el (describe-symbol): Avoid errors when the symbol\n\texists as a function/variable/face/etc., but is undocumented.\n\n\t* test/automated/help-fns.el (help-fns-test-describe-symbol): New\n\ttest.\n\n2015-11-14  Eli Zaretskii  <eliz@gnu.org>\n\n\t* INSTALL (--with-cairo): Document this new configure option.\n\n2015-11-14  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument that GNU Make >= 3.81 is required to build Emacs\n\n\t* doc/lispref/internals.texi (Building Emacs): Document that GNU\n\tMake 3.81 or later is now required.\n\n2015-11-14  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\tBackport: * lisp/emacs-lisp/package.el: Refactor -with-work-buffer-async.\n\n\t(package--with-work-buffer-async): Reimplement as\n\t`package--with-response-buffer'.\n\t(package--with-work-buffer): Mark obsolete.\n\t(package--with-response-buffer): New macro. This is a more self\n\tcontained and less contrived version of\n\t`package--with-work-buffer-async'.  It uses keyword arguments,\n\tdoesn't have async on the name, doesn't fallback on\n\t`package--with-work-buffer', and has _much_ simpler error\n\thandling.  On master, this macro will soon be part of another\n\tlibrary (either standalone or inside url.el), which is why this\n\tcommit is not to be merged back.\n\n\t(package--check-signature, package--download-one-archive)\n\t(package-install-from-archive, describe-package-1): Use it.\n\n\t(package--download-and-read-archives): Let\n\t`package--download-one-archive' take care of calling\n\t`package--update-downloads-in-progress'.\n\n2015-11-14  Eli Zaretskii  <eliz@gnu.org>\n\n\t* CONTRIBUTE (Branches): Improve wording for back-ported commits.\n\n2015-11-14  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tMerge branch 'master' into emacs-25\n\n2015-11-14  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tUse generic dispatch for xref backends\n\n\t* lisp/progmodes/xref.el (xref-backend-functions):\n\tNew variable.\n\t(xref-find-function): Remove.\n\t(xref-find-backend)\n\t(xref--etags-backend): New functions.\n\t(xref-identifier-at-point-function)\n\t(xref-identifier-completion-table-function): Remove.\n\t(xref-backend-definitions, xref-backend-references)\n\t(xref-backend-apropos, xref-backend-identifier-at-point)\n\t(xref-backend-identifier-completion-table):\n\tNew generic functions.\n\n\t* lisp/progmodes/elisp-mode.el (emacs-lisp-mode):\n\tAdd `elisp--xref-backend' to the beginning of\n\t`xref-backend-functions', locally.  Delete references to\n\tremoved functions and vars.\n\t(elisp-xref-find): Remove.\n\t(elisp--xref-backend): New function.\n\t(elisp--xref-find-references, elisp--xref-find-apropos)\n\t(elisp--xref-identifier-completion-table):\n\tTurn into appropriately named generic methods.\n\n\t* lisp/progmodes/etags.el (etags-xref-find): Remove.\n\t(xref-backend-identifier-completion-table)\n\t(xref-backend-references, xref-backend-definitions)\n\t(xref-backend-apropos): New generic methods.\n\n2015-11-14  Juri Linkov  <juri@linkov.net>\n\n\tSupport rectangular regions for more commands\n\n\t* lisp/simple.el (region-extract-function): Handle the arg\n\tvalue \u2018bounds\u2019.\n\t(region-insert-function): New function.\n\t(shell-command-on-region): Add arg \u2018region-noncontiguous-p\u2019.\n\tIf non-nil, operate on multiple chunks.\n\t(region-noncontiguous-p): New function.\n\n\t* lisp/rect.el: Add function rectangle--insert-region\n\taround region-insert-function.\n\t(extract-rectangle-bounds): New function.\n\t(rectangle--extract-region): Handle the arg value \u2018bounds\u2019.\n\t(rectangle--insert-region): New function.\n\n\t* lisp/emulation/cua-rect.el: Add function cua--insert-rectangle\n\taround region-insert-function.\n\t(cua--extract-rectangle-bounds): New function.\n\t(cua--rectangle-region-extract): Handle the arg value \u2018bounds\u2019.\n\n\t* lisp/replace.el (query-replace, query-replace-regexp): Add arg\n\t\u2018region-noncontiguous-p\u2019.  Use \u2018use-region-p\u2019.\n\t(query-replace-regexp-eval, map-query-replace-regexp)\n\t(replace-string, replace-regexp): Use \u2018use-region-p\u2019.\n\t(keep-lines, flush-lines, how-many): Use \u2018use-region-p\u2019.\n\t(perform-replace): Add arg \u2018region-noncontiguous-p\u2019.\n\tIf non-nil, operate on multiple chunks.\n\n\t* src/casefiddle.c (Fdowncase_region): Add arg \u2018region-noncontiguous-p\u2019.\n\tIf non-nil, operate on multiple chunks.  (Bug#19829)\n\n2015-11-14  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tHandle multiple matches on the same line; add highlighting\n\n\t* lisp/progmodes/xref.el (xref-location-marker): Interpret the\n\tcolumn value in characters.\n\t(xref--collect-matches): Rename from `xref--collect-match'.\n\tSearch for all matches in the hit line.  Add `highlight' face to\n\tthe matched region in the summary.  Update both callers.\n\n2015-11-14  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tReplace xref-match-bounds with xref-match-length\n\n\tRelying on xref-location-marker to point to the beginning of the match\n\n\t* lisp/progmodes/xref.el (xref-match-bounds): Remove.\n\t(xref-match-length): Add.\n\t(xref-make-match): Change the arguments.\n\t(xref--match-buffer-bounds): Remove.\n\t(xref-match-item): Store length, instead of end-column.\n\t(xref-pulse-momentarily)\n\t(xref--collect-match)\n\t(xref--query-replace-1): Update accordingly.\n\t(xref-query-replace): Ditto.  And check that the search results\n\tare up-to-date.\n\n2015-11-13  John Wiegley  <johnw@newartisans.com>\n\n\tMerge remote-tracking branch 'origin/master' into emacs-25\n\n2015-11-13  l3thal  <kwhite@gnu.org>\n\n\tMerge branch 'erc-async-reconnect' into emacs-25\n\n\tReconnect asynchronously.\n\n2015-11-13  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from gnulib\n\n\tThis incorporates:\n\t2015-11-13 xalloc-oversized: improve performance with GCC 5\n\t* lib/xalloc-oversized.h: Copy from gnulib.\n\n2015-11-13  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSpruce up ftfont.c memory allocation\n\n\t* src/ftfont.c (setup_otf_gstring):\n\tAvoid O(N**2) behavior when reallocating.\n\t(ftfont_shape_by_flt): Prefer xpalloc to xrealloc when\n\treallocating buffers; this simplifies the code.  Do not trust\n\tmflt_run to leave the output areas unchanged on failure, as\n\tthis isn\u2019t part of its interface spec.\n\n2015-11-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tMerge branch 'emacs-25' of git.savannah.gnu.org:/srv/git/emacs into emacs-25\n\n2015-11-13  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort recent XCB changes to 64-bit \u2018long int\u2019\n\n\tFor historical reasons, libX11 represents 32-bit values like Atoms as\n\t\u2018long int\u2019 even on platforms where \u2018long int\u2019 is 64 bits.  XCB doesn\u2019t\n\tdo that, so adapt the recent XCB code to behave properly on 64-bit\n\tplatforms.  Also, fix what appears to be a bug in the interpretation\n\tof xcb_get_property_value_length, at least on my Fedora platform\n\twhich is running libxcb-1.11-5.fc21.\n\t* src/xfns.c (x_real_pos_and_offsets):\n\t* src/xterm.c (get_current_wm_state):\n\txcb_get_property_value_length returns a byte count, not a word count.\n\tFor 32-bit quantities, xcb_get_property_value returns a vector\n\tof 32-bit words, not of (possibly 64-bit) long int.\n\n\tBackport.\n\n2015-11-13  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* src/undo.c (run_undoable_change): Now static.\n\n\tBackport.\n\n2015-11-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tRemove support for ':timeout' from w32 tray notifications\n\n\t* src/w32fns.c (Fw32_notification_notify): Delete the code that\n\tsupports ':timeout'.\n\t(syms_of_w32fns): Don't DEFSYM ':timeout'.  This avoids clashes\n\twith dbusbind.c when D-Bus is compiled in.\n\n\t* doc/lispref/os.texi (Desktop Notifications): Don't mention\n\t':timeout'.\n\n\tBackport.\n\n2015-11-13  Juanma Barranquero  <lekktu@gmail.com>\n\n\t* test/automated/simple-test.el: Add test for bug#20698 (bug#21885)\n\n\t(simple-test--transpositions): New macro.\n\t(simple-transpose-subr): New test.\n\n\tBackport.\n\n2015-11-13  Juanma Barranquero  <lekktu@gmail.com>\n\n\t* lisp/progmodes/elisp-mode.el: Declare function `project-roots'\n\n\tBackport.\n\n2015-11-13  Juanma Barranquero  <lekktu@gmail.com>\n\n\t* src/undo.c: Small fixes for previous change\n\n\t(run_undoable_change): Mark void argument list.\n\t(record_property_change): Remove unused variable `boundary'.\n\n\tBackport.\n\n2015-11-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tAdd a few more variables to redisplay--variables\n\n\t* lisp/frame.el (redisplay--variables): Add bidi-paragraph-direction\n\tand bidi-display-reordering to the list.\n\n\tBackport.\n\n2015-11-13  Eli Zaretskii  <eliz@gnu.org>\n\n\t* lisp/loadup.el: Enlarge the size of the hash table to 80000.\n\n\tBackport.\n\n2015-11-13  Eli Barzilay  <eli@barzilay.org>\n\n\tFix point positioning after transposing with negative arg\n\n\t* lisp/simple.el (transpose-subr): When invoked with a negative\n\targument, move point to after the transposed text, like we do\n\twhen invoked with a positive argument.  (Bug#21885)\n\n\tBackport.\n\n2015-11-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix last change in shr.el\n\n\t* lisp/net/shr.el (shr--have-one-fringe-p): Rename from\n\thave-fringes-p.  All callers changed.  Doc fix.  (Bug#21895)\n\n\tBackport.\n\n2015-11-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix last change\n\n\t* src/w32fns.c (syms_of_w32fns) [WINDOWSNT && !HAVE_DBUS]:\n\tDon't DEFSYM tray notification symbols if D-Bus is being used.\n\n\tBackport.\n\n2015-11-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tAnother fix for MinGW64 and Cygwin builds due to notifications\n\n\t* src/w32fns.c: Ifdef away tray notification code if D-Bus is\n\tbeing compiled into Emacs.\n\t(syms_of_w32fns) [WINDOWSNT && !HAVE_DBUS]: Don't defsubr\n\tSw32_notification_notify and Sw32_notification_close if the code\n\tis not compiled.  Reported by Andy Moreton <andrewjmoreton@gmail.com>.\n\n\tBackport.\n\n2015-11-13  YAMAMOTO Mitsuharu  <mituharu@math.s.chiba-u.ac.jp>\n\n\tRemove intern calls and XXX comments from Fx_export_frames\n\n\t* src/xfns.c (Fx_export_frames): Use Qpdf, Qpng, Qpostscript, and\n\tQsvg instead of intern calls.  Use \"postscript\" instead of \"ps\"\n\tfor consistency with image types.  Remove XXX comments.\n\t(syms_of_xfns) <Qpdf>: DEFSYM it.\n\n\tBackport.\n\n2015-11-13  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort recent XCB changes to 64-bit \u2018long int\u2019\n\n\tFor historical reasons, libX11 represents 32-bit values like Atoms as\n\t\u2018long int\u2019 even on platforms where \u2018long int\u2019 is 64 bits.  XCB doesn\u2019t\n\tdo that, so adapt the recent XCB code to behave properly on 64-bit\n\tplatforms.  Also, fix what appears to be a bug in the interpretation\n\tof xcb_get_property_value_length, at least on my Fedora platform\n\twhich is running libxcb-1.11-5.fc21.\n\t* src/xfns.c (x_real_pos_and_offsets):\n\t* src/xterm.c (get_current_wm_state):\n\txcb_get_property_value_length returns a byte count, not a word count.\n\tFor 32-bit quantities, xcb_get_property_value returns a vector\n\tof 32-bit words, not of (possibly 64-bit) long int.\n\n2015-11-13  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* src/undo.c (run_undoable_change): Now static.\n\n2015-11-13  Michael Albinus  <michael.albinus@gmx.de>\n\n\tAdapt Tramp version, do not merge with master\n\n\t* doc/misc/trampver.texi (trampver):\n\t* lisp/net/trampver.el (tramp-version): Set to \"2.2.13-25.1\".\n\n2015-11-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tRemove support for ':timeout' from w32 tray notifications\n\n\t* src/w32fns.c (Fw32_notification_notify): Delete the code that\n\tsupports ':timeout'.\n\t(syms_of_w32fns): Don't DEFSYM ':timeout'.  This avoids clashes\n\twith dbusbind.c when D-Bus is compiled in.\n\n\t* doc/lispref/os.texi (Desktop Notifications): Don't mention\n\t':timeout'.\n\n2015-11-13  Juanma Barranquero  <lekktu@gmail.com>\n\n\t* test/automated/simple-test.el: Add test for bug#20698 (bug#21885)\n\t(simple-test--transpositions): New macro.\n\t(simple-transpose-subr): New test.\n\n2015-11-13  Juanma Barranquero  <lekktu@gmail.com>\n\n\t* lisp/progmodes/elisp-mode.el: Declare function `project-roots'\n\n2015-11-13  Juanma Barranquero  <lekktu@gmail.com>\n\n\t* src/undo.c: Small fixes for previous change\n\t(run_undoable_change): Mark void argument list.\n\t(record_property_change): Remove unused variable `boundary'.\n\n2015-11-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tAdd a few more variables to redisplay--variables\n\n\t* lisp/frame.el (redisplay--variables): Add bidi-paragraph-direction\n\tand bidi-display-reordering to the list.\n\n2015-11-13  Eli Zaretskii  <eliz@gnu.org>\n\n\t* lisp/loadup.el: Enlarge the size of the hash table to 80000.\n\n2015-11-13  Eli Barzilay  <eli@barzilay.org>\n\n\tFix point positioning after transposing with negative arg\n\n\t* lisp/simple.el (transpose-subr): When invoked with a negative\n\targument, move point to after the transposed text, like we do\n\twhen invoked with a positive argument.  (Bug#21885)\n\n2015-11-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix last change in shr.el\n\n\t* lisp/net/shr.el (shr--have-one-fringe-p): Rename from\n\thave-fringes-p.  All callers changed.  Doc fix.  (Bug#21895)\n\n2015-11-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix last change\n\n\t* src/w32fns.c (syms_of_w32fns) [WINDOWSNT && !HAVE_DBUS]:\n\tDon't DEFSYM tray notification symbols if D-Bus is being used.\n\n2015-11-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tAnother fix for MinGW64 and Cygwin builds due to notifications\n\n\t* src/w32fns.c: Ifdef away tray notification code if D-Bus is\n\tbeing compiled into Emacs.\n\t(syms_of_w32fns) [WINDOWSNT && !HAVE_DBUS]: Don't defsubr\n\tSw32_notification_notify and Sw32_notification_close if the code\n\tis not compiled.  Reported by Andy Moreton <andrewjmoreton@gmail.com>.\n\n2015-11-13  YAMAMOTO Mitsuharu  <mituharu@math.s.chiba-u.ac.jp>\n\n\tRemove intern calls and XXX comments from Fx_export_frames\n\n\t* src/xfns.c (Fx_export_frames): Use Qpdf, Qpng, Qpostscript, and\n\tQsvg instead of intern calls.  Use \"postscript\" instead of \"ps\"\n\tfor consistency with image types.  Remove XXX comments.\n\t(syms_of_xfns) <Qpdf>: DEFSYM it.\n\n2015-11-13  Eric Hanchrow  <eric.hanchrow@gmail.com>\n\n\tshr: don't invoke unbound function (Bug#21895)\n\n\t* lisp/net/shr.el (have-fringes-p): New function.\n\t(shr-insert-document, shr-fill-text): Use it.\n\n2015-11-12  Juanma Barranquero  <lekktu@gmail.com>\n\n\t* test/automated/keymap-tests.el: Fix test to make it repeatable\n\n\t(keymap-store_in_keymap-FASTINT-on-nonchars): Reset Buffer-menu-mode-map\n\tentry to its initial value to make the test repeatable in interactive\n\tsessions (assuming it doesn't fail and crashes Emacs, of course).\n\n2015-11-13  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* test/automated/cl-lib-tests.el (cl-lib-struct-constructors): Small fix\n\n2015-11-12  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\t: Tests for undo-auto functionality.\n\n2015-11-12  Phillip Lord  <phillip.lord@newcastle.ac.uk>\n\n\tThe heuristic that Emacs uses to add an `undo-boundary' has been\n\treworked, as it interacts poorly with functions on `post-command-hook'\n\tor `after-change-functions'.\n\n\t* lisp/simple.el: New section added.\n\t* src/cmds.c (remove_excessive_undo_boundaries): Now in lisp.\n\t(self_insert_command): Calls simple.el to amalgamate.\n\t(delete_char): Calls simple.el to amalgamate.\n\t* src/keyboard.c (last_undo_boundary): Removed.\n\t* src/undo.c (run_undoable_change): New function.\n\n2015-11-12  Juri Linkov  <juri@linkov.net>\n\n\tBind [?\\S-\\ ] to previous line command in Dired-like modes.\n\n\t* lisp/arc-mode.el (archive-mode-map):\n\t* lisp/dired.el (dired-mode-map):\n\t* lisp/proced.el (proced-mode-map):\n\t* lisp/vc/vc-dir.el (vc-dir-mode-map):\n\tBind [?\\S-\\ ] to previous line command.\n\t(Bug#20790)\n\n2015-11-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix the MinGW64 and Cygwin-w32 builds\n\n\t* src/w32fns.c (MYNOTIFYICONDATAW_V1_SIZE)\n\t(MYNOTIFYICONDATAW_V2_SIZE, MYNOTIFYICONDATAW_V3_SIZE): Define and\n\tuse instead of the corresponding NOTIFYICONDATAW_Vn_SIZE macros,\n\twhich cause trouble with MinGW42 headers.  Ifdef away tray\n\tnotifications code for Cygwin.  Reported by Andy Moreton\n\t<andrewjmoreton@gmail.com>.\n\n2015-11-12  Simen Heggest\u00f8yl  <simenheg@gmail.com>\n\n\tEnable sorting of JSON object keys when encoding\n\n\t* lisp/json.el (json-encoding-object-sort-predicate): New variable\n\tfor specifying a sorting predicate for JSON objects during encoding.\n\t(json--plist-to-alist): New utility function.\n\t(json-encode-hash-table): Re-use `json-encode-alist' when object keys\n\tare to be sorted.\n\t(json-encode-alist): Sort output by\n\t`json-encoding-object-sort-predicate, when set.\n\t(json-encode-plist): Re-use `json-encode-alist' when object keys are\n\tto be sorted.\n\t(json-pretty-print-buffer-ordered): New command to pretty print the\n\tbuffer with object keys sorted alphabetically.\n\t(json-pretty-print-ordered): New command to pretty print the region\n\twith object keys sorted alphabetically.\n\n\t* test/automated/json-tests.el (test-json-plist-to-alist)\n\t(test-json-encode-plist, test-json-encode-hash-table)\n\t(test-json-encode-alist-with-sort-predicate)\n\t(test-json-encode-plist-with-sort-predicate): New tests.\n\n\t* etc/NEWS: Add an entry for the new commands.\n\n2015-11-12  Juanma Barranquero  <lekktu@gmail.com>\n\n\t* test/automated/keymap-tests.el: New test file.\n\n2015-11-12  Ken Raeburn  <raeburn@raeburn.org>\n\n\tSpeed up x_real_pos_and_offsets using XCB\n\n\t* src/xfns.c (x_real_pos_and_offsets) [USE_XCB]: Add XCB flavors of\n\tall X calls, and pipeline requests when possible, collecting results\n\tlater.  Eliminate use of x_catch_errors (and thus XSync) in XCB case.\n\n2015-11-12  Ken Raeburn  <raeburn@raeburn.org>\n\n\tEnable use of XCB for checking window manager state\n\n\t* src/xterm.c (get_current_wm_state) [USE_XCB]: Use XCB calls instead\n\tof XGetWindowProperty plus error-catching, since we can explicitly\n\tcheck for errors in the XCB version.  This eliminates 3 XSync calls on\n\ttop of the round-trip actually fetching the information.\n\n2015-11-12  Ken Raeburn  <raeburn@raeburn.org>\n\n\tDetect XCB and save a connection handle\n\n\t* configure.ac: If using X11, check for XCB libraries and header.\n\t* src/Makefile.in (XCB_LIBS): Define.\n\t(LIBX_EXTRA): Include it.\n\n\t* src/xterm.h [USE_XCB]: Include X11/Xlib-xcb.h.\n\t(struct x_display_info) [USE_XCB]: Add an XCB connection handle field.\n\t* src/xterm.c (x_term_init) [USE_XCB]: Initialize the new field.\n\n2015-11-12  Ken Raeburn  <raeburn@raeburn.org>\n\n\tReduce some data dependencies between X calls\n\n\tGains nothing in the traditional-Xlib code, but more closely aligns\n\twith how the XCB version will work.\n\n\t* src/xfns.c (x_real_pos_and_offsets): When translating coordinates,\n\tsend coordinates (0,0) to the X server and add in the real coordinates\n\tafter getting the response.  Move XGetGeometry for outer window inside\n\terror-trapping block.  Use DPY variable more, since it's available.\n\n2015-11-12  Ken Raeburn  <raeburn@raeburn.org>\n\n\tUse color cache for creating bitmap\n\n\t* src/image.c (x_create_bitmap_from_xpm_data) [ALLOC_XPM_COLORS]:\n\tSet attributes to use the caching color allocator.  Initialize and\n\tfree the cache.\n\n2015-11-12  Eli Barzilay  <eli@barzilay.org>\n\n\tAdd \"^\" to the interactive specs of `dired-next/previous-line'\n\n\t* lisp/dired.el (dired-next-line, dired-previous-line): It makes sense\n\tto bind these commands to the arrow keys, and that means that they work\n\tbetter with a \"^\" in the `interactive' declaration so selection works\n\tas expected.\n\n2015-11-12  Thomas Fitzsimmons  <fitzsim@fitzsim.org>\n\n\tSync with soap-client repository, version 3.0.2\n\n\t* lisp/net/soap-client.el: Bump version to 3.0.2.\n\n\t* lisp/net/soap-client.el (soap-warning): Use format, not format-message.\n\n\t* lisp/net/soap-client.el: Add cl-lib to Package-Requires.  Require cl-lib.\n\t(soap-validate-xs-simple-type): Use cl-labels instead of cl-flet.\n\n\t* lisp/net/soap-client.el: Support Emacs versions that do not have\n\tdefine-error.\n\n\t* lisp/net/soap-inspect.el: Remove version header.\n\n\t* lisp/net/soap-client.el, lisp/net/soap-inspect.el: Fix first line header\n\tformat.\n\n2015-11-11  Alan Mackenzie  <acm@muc.de>\n\n\tCC Mode: Respect users' settings of open-paren-in-column-0-is-defun-start.\n\n\t* lisp/progmodes/cc-engine.el (c-backward-single-comment)\n\t(c-backward-comments, c-invalidate-state-cache-1, c-parse-state-1)\n\t(c-guess-basic-syntax):\n\tRemove bindings of open-paren-in-column-0-is-defun-start to nil.\n\t(c-get-fallback-scan-pos): \"New\" function (existed several years ago).\n\t(c-parse-state-get-strategy): Reintroduce the 'BOD strategy, using\n\tc-get-fallback-scan-pos.\n\t(c-parse-state-1): Handle 'BOD strategy.\n\n\t* lisp/progmodes/cc-mode.el (c-before-change, c-after-change)\n\t(c-font-lock-fontify-region): Remove bindings of\n\topen-paren-in-column-0-is-defun-start to nil.\n\n\t* doc/misc/cc-mode.texi (Performance Issues)\n\t(Limitations and Known Bugs): Fix mix up between @chapter and @appendix.\n\n2015-11-11  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/obarray.el: Fix shadowed variables.\n\t(obarray-map, obarray-remove, obarray-put, obarray-get):\n\tChange OBARRAY arg to OB to avoid shadowing \u2018obarray\u2019.\n\n2015-11-11  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid error in submitting a form with EWW\n\n\t* lisp/gnus/mm-url.el (mm-url-form-encode-xwfu): Allow argument\n\tCHUNK to be nil.  (Bug#21881)\n\n2015-11-11  Nicolas Petton  <nicolas@petton.fr>\n\n\tRename seq-p and map-p to seqp and mapp\n\n\t* lisp/emacs-lisp/seq.el (seqp): New name.\n\t* lisp/emacs-lisp/map.el (mapp): New name.\n\t* doc/lispref/sequences.texi: Update the documentation for seqp.\n\t* test/automated/map-tests.el: Update the tests for mapp.\n\n2015-11-11  Nicolas Petton  <nicolas@petton.fr>\n\n\tRename obarray-p to obarrayp\n\n\t* lisp/obarray.el (obarrayp): New name.\n\t* test/automated/obarray-tests.el: Update the tests.\n\n2015-11-11  Nicolas Petton  <nicolas@petton.fr>\n\n\tRename obarray-foreach to obarray-map\n\n\t* lisp/obarray.el (obarray-map): New name.\n\t* test/automated/obarray-tests.el: Update the corresponding tests.\n\n2015-11-11  Przemys\u0142aw Wojnowski  <esperanto@cumego.com>\n\n\tNew file with obarray functions.\n\n\t* lisp/obarray.el: Basic obarray functions extracted from abbrev.el.\n\t* test/automated/obarray-tests.el: New file.\n\n2015-11-11  Eli Zaretskii  <eliz@gnu.org>\n\n\tImplement tray notifications for MS-Windows\n\n\t* src/w32fns.c (MY_NOTIFYICONDATAW): New typedef.\n\t(NOTIFYICONDATAW_V1_SIZE, NOTIFYICONDATAW_V2_SIZE)\n\t(NOTIFYICONDATAW_V3_SIZE, NIF_INFO, NIIF_NONE, NIIF_INFO)\n\t(NIIF_WARNING, NIIF_ERROR, EMACS_TRAY_NOTIFICATION_ID)\n\t(EMACS_NOTIFICATION_MSG): New macros.\n\t(NI_Severity): New enumeration.\n\t(get_dll_version, utf8_mbslen_lim, add_tray_notification)\n\t(delete_tray_notification, Fw32_notification_notify)\n\t(Fw32_notification_close): New functions.\n\t(syms_of_w32fns): Defsubr functions exposed to Lisp.  DEFSYM\n\tkeywords used by w32-notification-notify.\n\n\t* doc/lispref/os.texi (Desktop Notifications): Describe the native\n\tw32 tray notifications.\n\n2015-11-11  Alan Mackenzie  <acm@muc.de>\n\n\tFirst commit to scratch/follow.  Make Isearch work with Follow Mode, etc.\n\n\tdoc/lispref/window.texi (Basic Windows): Add paragraph defining \"Group of\n\tWindows\" and new @defun selected-window-group.\n\t(Window Start and End): Describe new &optional parameter GROUP and\n\t...-group-function for window-start, window-end, set-window-start, and\n\tpos-visible-in-window-p.\n\t(Textual Scrolling) Describe the same for recenter.\n\tdoc/lispref/positions.texi (Screen Lines): Describe the same for\n\tmove-to-window-line.\n\n\tsrc/window.c (Fwindow_start, Fwindow_end, Fset_window_start)\n\t(Fpos_visible_in_window_p, Frecenter, Fmove_to_window_line): To each, add ar\n\tnew optional parameter \"group\".  At the beginning of each, check whether the\n\tcorresponding ...-group-function is set to a function, and if so execute this\n\tfunction in place of the normal processing.\n\t(syms_of_window): Define symbols for the six new variables below.\n\t(window-start-group-function, window-end-group-function)\n\t(set-window-start-group-function, recenter-group-function)\n\t(pos-visible-in-window-p-group-function, move-to-window-line-group-function):\n\tNew permanent local buffer local variables.\n\tsrc/keyboard.c (Fposn_at_point): Add extra parameter in call to\n\tFpos_visible_in_window_p.\n\n\tlisp/window.el (selected-window-group-function): New permanent local buffer\n\tlocal variable.\n\t(selected-window-group): New function.\n\n\tlisp/follow.el (follow-mode): Set the ...-group-function variables at mode\n\tenable, kill them at mode disable.  Add/remove follow-after-change to/from\n\tafter-change-functions.\n\t(follow-start-end-invalid): New variable.\n\t(follow-redisplay): Manipulate follow-start-end-invalid.\n\t(follow-after-change, follow-window-start, follow-window-end)\n\t(follow-set-window-start, follow-pos-visible-in-window-p)\n\t(follow-move-to-window-line, follow-sit-for): New functions.\n\n\tlisp/isearch.el (isearch-call-message): New macro.\n\t(isearch-update, with-isearch-suspended, isearch-del-char)\n\t(isearch-search-and-update, isearch-ring-adjust): Invoke above new macro.\n\t(with-isearch-suspended): Rearrange code such that isearch-call-message is\n\tinvoked before point is moved.\n\t(isearch-message): Add comment about where point must be at function call.\n\t(isearch-search): Remove call to isearch-message.\n\t(isearch-lazy-highlight-window-group): New variable.\n\t(isearch-lazy-highlight-new-loop): Unconditionally start idle timer.  Move\n\tthe battery of tests to ...\n\t(isearch-lazy-highlight-maybe-new-loop): New function, started by idle timer.\n\tNote: (sit-for 0) is still called.\n\t(isearch-lazy-highlight-update): Check membership of\n\tisearch-lazy-highlight-window-group.  Don't set the `window' overlay\n\tproperty.\n\t(isearch-update, isearch-done, isearch-string-out-of-window)\n\t(isearch-back-into-window, isearch-lazy-highlight-maybe-new-loop)\n\t(isearch-lazy-highlight-search, isearch-lazy-highlight-update)\n\t(isearch-lazy-highlight-update): Call the six amended primitives (see\n\tsrc/window.c above) with the new `group' argument set to t, to cooperate\n\twith Follow Mode.\n\n2015-11-11  Michael Albinus  <michael.albinus@gmx.de>\n\n\tOptimize `file-equal-p' and `file-in-directory-p' in Tramp\n\n\t* lisp/net/tramp.el (tramp-handle-file-equal-p)\n\t(tramp-handle-file-in-directory-p): New defuns.  Suggested by\n\tHarvey Chapman <hchapman@3gfp.com>.\n\n\t* lisp/net/tramp-adb.el (tramp-adb-file-name-handler-alist):\n\t* lisp/net/tramp-gvfs.el (tramp-gvfs-file-name-handler-alist):\n\t* lisp/net/tramp-sh.el (tramp-sh-file-name-handler-alist):\n\t* lisp/net/tramp-smb.el (tramp-smb-file-name-handler-alist): Use them.\n\n2015-11-10  Karl Fogel  <kfogel@red-bean.com>\n\n\t* CONTRIBUTE: Encourage adding tests.\n\n\tBased on this post from John Wiegley:\n\n\t  From: \"John Wiegley\" <johnw@newartisans.com>\n\t  Subject: Re: [Emacs-diffs] master 1f02cbe: Fix bug#21766 and add test\n\t  To: Juanma Barranquero <lekktu@gmail.com>\n\t  Cc: emacs-diffs@gnu.org, bruce.connor.am@gmail.com,\n\t      emacs-devel <emacs-devel@gnu.org>\n\t  Date: Wed, 28 Oct 2015 18:45:29 -0700\n\t  Message-ID: <m2y4emqwg6.fsf@newartisans.com>\n\n\t  https://lists.gnu.org/archive/html/emacs-devel/2015-10/msg02372.html\n\n2015-11-10  David Reitter  <david.reitter@gmail.com>\n\n\tAvoid creating notification objects when possible\n\n\t* src/nsterm.m (windowWillEnterFullScreen, windowWillExitFullScreen:)\n\t(windowDidEnterFullScreen, windowDidExitFullScreen): Provide convenience\n\tfunctions that do not require a notification object.  When needed,\n\tdefine NSWindowDidEnterFullScreenNotification to allow for compilation\n\ton OS X 10.6.8.\n\n2015-11-10  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMove INTEGER_TO_CONS body out of .h file\n\n\t* src/data.c (INTBIG_TO_LISP): New macro, with most\n\tof the contents of the old INTEGER_TO_CONS.\n\t(intbig_to_lisp, uintbig_to_lisp): New functions.\n\t* src/lisp.h (INTEGER_TO_CONS):\n\tSimplify by using EXPR_SIGNED and the new functions.\n\tThis shrinks code size a bit, and makes it easier to\n\tput a breakpoint on handling of large integers.\n\n2015-11-10  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from gnulib\n\n\tThis incorporates:\n\t2015-11-10 intprops: new public macro EXPR_SIGNED\n\t2015-11-10 intprops: fix typo in clang port\n\t* lib/intprops.h: Copy from gnulib.\n\n2015-11-10  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSpelling fixes\n\n\t* lisp/net/soap-inspect.el (soap-inspect-xs-simple-type):\n\tFix misspelling in output.\n\n2015-11-10  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* doc/lispref/variables.texi (Directory Local Variables):\n\tDocument dir-locals wildcards.\n\n\t* lisp/files.el (dir-locals-file): Point to Info node.\n\n\t* doc/emacs/custom.texi (Directory Variables):\n\tDocument dir-locals wildcards.\n\n\t* etc/NEWS: Document new functionality.\n\n2015-11-10  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/files.el: Don't allow customization of dir-locals sorting.\n\tIn retrospect, this is not a good idea for the same reason that\n\t`dir-locals-file' is a defconst, because it is important that this\n\tbehavior be \"uniform across different environments and users\".\n\tSure, the user can still change the sorting with a hack, but we\n\tshouldn't encourage them to change it.\n\t(dir-locals--all-files): Return list in the order returned by\n\t`file-expand-wildcards'.\n\t(file-expand-wildcards): Document the sorting predicate used.\n\t(dir-locals-sort-predicate): Delete variable.\n\n2015-11-10  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/files.el (dir-locals-read-from-file): Better handle errors.\n\n\t* lisp/isearch.el (search-default-regexp-mode): Change default value.\n\n2015-11-10  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/files.el (dir-locals-find-file): Don't stop at unreadable files.\n\t`locate-dominating-file' will now keep looking if the files it finds in\n\ta given directory are unreadable (or not files).\n\n2015-11-10  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/files.el (dir-locals-file): Allow wildcards.\n\t(dir-locals-find-file, dir-locals-collect-variables)\n\t(dir-locals-read-from-file): Update accordingly.\n\t(hack-dir-local-variables): Rename a local variable.\n\n\t* lisp/files-x.el (modify-dir-local-variable): Update accordingly.\n\n\t* lisp/help-fns.el (describe-variable): Update accordingly.\n\n\t* .gitignore: Add .dir-locals?.el.\n\n2015-11-10  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/map.el (map-merge-with): New function.\n\n\t* test/automated/map-tests.el (test-map-merge-with): New test.\n\n2015-11-10  Karl Fogel  <kfogel@red-bean.com>\n\n\tFix some recently-perturbed bookmark autoloads\n\n\t* lisp/bookmark.el (bookmark-set-internal): Remove unnecessary autoload.\n\t(bookmark-set): Restore autoload.\n\t(bookmark-set-no-overwrite): Add autoload.\n\n\tThanks to Juanma Barranquero for noticing the autoload problems\n\tintroduced by my recent commit adding/changing the above functions\n\t(Sun Nov 8 14:16:43 2015 -0500, git commit 3812e17978).\n\n2015-11-09  Noah Friedman  <friedman@splode.com>\n\n\t* etc/emacs-buffer.gdb (ydump-buffer): Handle case where gap is at\n\tthe start of buffer.  I don't recall if older versions of gdb were\n\tless strict but you cannot dump a 0-length range in gdb 7.9.1.\n\n2015-11-10  Dmitry Gutov  <dgutov@yandex.ru>\n\n\t* lisp/progmodes/project.el: Update Commentary.\n\n\tMerge branch 'project-next'\n\n2015-11-10  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tFold `project-ask-user' into `project-current'\n\n\t* lisp/progmodes/project.el (project-find-functions): Remove\n\t`project-ask-user'.\n\t(project-ask-user): Remove function and the corresponding\n\t`project-roots' implementation.\n\t(project-current): Add a new argument, MAYBE-PROMPT.  Prompt the\n\tuser in case there's no project in the current directory.  Update\n\tall callers.\n\n2015-11-09  Karl Fogel  <kfogel@red-bean.com>\n\n\tWhen VC detects a conflict, specify which file\n\n\t* lisp/vc/vc.el (vc-message-unresolved-conflicts): New function.\n\t* lisp/vc/vc-svn.el (vc-svn-find-file-hook):\n\t* lisp/vc/vc-hg.el (vc-hg-find-file-hook):\n\t* lisp/vc/vc-bzr.el (vc-bzr-find-file-hook):\n\t* lisp/vc/vc-git.el (vc-git-find-file-hook): Use above new function\n\t  to display a standard message that specifies the conflicted file.\n\n\tBefore this change, the message VC used for indicating a conflicted\n\tfile was just \"There are unresolved conflicts in this file\" without\n\tnaming the file (and this language was duplicated in several places).\n\tAfter this change, it's \"There are unresolved conflicts in file FOO\"\n\t(and this language is now centralized in one function in vc.el).\n\n\tJustification: It's important for the message to name the conflicted\n\tfile because the moment when VC realizes a file is conflicted does not\n\talways come interactively.  For example, some people automatically\n\tfind a set of Org Mode files on startup, and may keep those .org files\n\tunder version control.  If any of the files are conflicted, the user\n\tjust sees some messages fly by, and might later check the \"*Messages*\"\n\tbuffer to find out what files were conflicted.  I'm not saying this\n\thappened to me or anything; it's a purely hypothetical example.\n\n2015-11-09  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix assertion violation in define-key\n\n\t* src/keymap.c (store_in_keymap): Don't use XFASTINT on non-character\n\tobjects.  Reported by Drew Adams <drew.adams@oracle.com>\n\tand Juanma Barranquero <lekktu@gmail.com>.\n\n2015-11-09  Dima Kogan  <dima@secretsauce.net>\n\n\tFix a memory leak in GC of font cache\n\n\t* src/alloc.c (compact_font_cache_entry): Don't GC unmarked font\n\tentities if some of the fonts it references are marked.  This\n\tplugs a memory leak.  (Bug#21556)\n\n2015-11-09  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tUse INT_ADD_WRAPV etc. to check integer overflow\n\n\t* src/alloc.c (xnmalloc, xnrealloc, xpalloc, Fmake_string):\n\t* src/buffer.c (record_overlay_string, overlay_strings):\n\t* src/casefiddle.c (casify_object):\n\t* src/ccl.c (Fccl_execute_on_string):\n\t* src/character.c (char_width, c_string_width, lisp_string_width)\n\t(count_size_as_multibyte, string_escape_byte8):\n\t* src/coding.c (coding_alloc_by_realloc, produce_chars):\n\t* src/data.c (arith_driver):\n\t* src/dispnew.c (realloc_glyph_pool, init_display):\n\t* src/editfns.c (styled_format):\n\t* src/fns.c (Ffillarray):\n\t* src/ftfont.c (ftfont_shape_by_flt):\n\t* src/gnutls.c (gnutls_hex_string):\n\t* src/gtkutil.c (get_utf8_string):\n\t* src/image.c (x_to_xcolors, x_detect_edges, png_load_body):\n\t* src/keymap.c (Fkey_description):\n\t* src/lisp.h (SAFE_ALLOCA_LISP):\n\t* src/term.c (encode_terminal_code):\n\t* src/tparam.c (tparam1):\n\t* src/xselect.c (x_property_data_to_lisp):\n\t* src/xsmfns.c (smc_save_yourself_CB):\n\t* src/xterm.c (x_term_init):\n\tWhen checking for integer overflow, prefer INT_MULTIPLY_WRAPV to\n\tmore-complicated code involving division and/or\n\tINT_MULTIPLY_OVERFLOW, and similarly for INT_ADD_WRAPV and\n\tsubtraction and/or INT_ADD_OVERFLOW.\n\t* src/casefiddle.c (casify_object): Simplify multibyte size check.\n\t* src/character.c: Remove some obsolete \u2018#ifdef emacs\u2019s.\n\t* src/data.c (arith_driver): Also check for division overflow,\n\tas that\u2019s now possible given that the accumulator can now contain\n\tany Emacs integer.\n\t* src/lisp.h (lisp_word_count): Remove; no longer used.\n\n2015-11-09  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tMake sure that the ignore file exists\n\n\t* lisp/vc/vc.el (vc-default-ignore-completion-table):\n\tMake sure that the ignore file exists.\n\n2015-11-09  Michael Sperber  <mike@xemacs.org>\n\n\t* lisp/gnus-sum.el (gnus-summary-backend-map): Bind B-backspace to\n\t`gnus-summary-delete-article` in a way that also works on XEmacs.\n\n2015-11-08  Simen Heggest\u00f8yl  <simenheg@gmail.com>\n\n\tAdd support for retrieving paths to JSON elements\n\n\tAdd support for retrieving the path to a JSON element. This can for\n\tinstance be useful to retrieve paths in deeply nested JSON\n\tstructures.\n\n\t* lisp/json.el (json-pre-element-read-function)\n\t(json-post-element-read-function): New variables to hold pre- and post\n\tread callback functions for `json-read-array' and `json-read-object'.\n\t(json--path): New variable used internally by `json-path-to-position'.\n\t(json--record-path, json--check-position): New functions used\n\tinternally by `json-path-to-position'.\n\t(json-path-to-position): New function for retrieving the path to a\n\tJSON element at a given position.\n\t(json-read-object, json-read-array): Call\n\t`json-pre-element-read-function' and `json-post-element-read-function'\n\twhen set.\n\n\t* test/automated/json-tests.el (test-json-path-to-position-with-objects)\n\t(test-json-path-to-position-with-arrays)\n\t(test-json-path-to-position-no-match): New tests for\n\t`json-path-to-position'.\n\n2015-11-08  Karl Fogel  <kfogel@red-bean.com>\n\n\t* etc/NEWS: Mention new `bookmark-set-no-overwrite'.\n\n\tThis really should been part of my previous commit\n\t(Sun Nov 8 14:16:43 2015 -0500, git commit 3812e17978).\n\n2015-11-08  Karl Fogel  <kfogel@red-bean.com>\n\n\tOffer non-overwrite bookmark setter (Bug#15746)\n\n\t* lisp/bookmark.el (bookmark-set-internal): New helper function to do\n\twhat `bookmark-set' used to do, but with more choices for overwrite\n\tvs push, and with minor changes to the interactive prompt format.\n\t(bookmark-set): Rewrite as wrapper around above.\n\tIf overwriting, inform the user of that in the prompt.\n\t(bookmark-set-no-overwrite): New function, also done as wrapper.\n\tBind to \"M\" in `ctl-x-r-map' autoloads.\n\t(bookmark-map): Similarly bind \"M\" here.\n\n2015-11-08  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* src/unexelf.c (NEW_PROGRAM_H): Remove unused macro (Bug#20614).\n\n2015-11-08  Alan Modra  <amodra@gmail.com>\n\n\tELF unexec: Don't insert a new section\n\n\tReuse the .bss section instead, making it SHT_PROGBITS.  This way we\n\tdon't need to mess with symbol st_shndx, or section sh_link and\n\tsh_info.\n\n\tThis does lead to eu-elflint complaints about symbols defined in .bss\n\twith a needed version, because normally it is undefined symbols that\n\thave needed versions;  Defined symbols have version definitions.\n\tThe exception is symbols defined by the linker in .dynbss for\n\tvariables copied from a shared library in order to avoid text\n\trelocations, with copy relocs to copy their initial values from the\n\tshared library.  These symbols are both defined and have needed\n\tversions, and eu-elflink only expects to see them in SHT_NOBITS\n\tsections.  Of course there is no real problem with having such symbols\n\tin SHT_PROGBITS sections.  glibc ld.so handles them fine.\n\n\t* src/unexelf.c: Delete outdated comments.\n\t(PATCH_INDEX): Delete.\n\t(find_section): Delete.\n\t(unexec): Don't add a new section.  Instead reuse the last bss\n\tsection, extending it to cover dumped data.  Make bss sections\n\tSHT_PROGBITS.  Remove all patching of sh_link, sh_info and\n\tst_shndx.  Rename bss sections.\n\n2015-11-08  Alan Modra  <amodra@gmail.com>\n\n\tELF unexec: Drive from PT_LOAD header rather than sections\n\n\tThis rewrites bss handling in the ELF unexec code.  Finding bss\n\tsections by name results in complicated code that\n\t- does not account for all names of possible bss sections,\n\t- assumes specific ordering of bss sections,\n\t- can wrongly choose a SHT_NOBITS section not in the bss segment,\n\t- incorrectly calculates bss size (no accounting for alignment gaps),\n\t- assumes .data and .bss are in the same segment.\n\n\tAll of these problems and more are solved by finding the bss segment\n\tin PT_LOAD headers, ie. the address range included in p_memsz but not\n\tp_filesz of the last PT_LOAD header, then matching SHT_NOBITS sections\n\tin that address range.\n\n\t* src/unexelf.c: Delete old ppc comment.\n\t(OLD_PROGRAM_H): Define.\n\t(round_up): Delete.\n\t(unexec): Don't search for bss style sections by name.  Instead,\n\tuse the last PT_LOAD header address range covered by p_memsz\n\tbut not p_filesz and match any SHT_NOBITS section in that\n\taddress range.  Simplify initialization of section header vars.\n\tDon't assume that section headers are above bss segment.  Move\n\tcopying of bss area out of section loop.  Align .data2 section\n\tto 1, since it now covers the entire bss area.  For SHT_NOBITS\n\tsections in the bss segment, leave sh_addr and sh_addralign\n\tunchanged, but correct sh_offset.  Clear memory corresponding\n\tto SHT_NOBITS .plt section.  Delete comment and hacks for\n\tsections partly overlapping bss range now that the full range\n\tis properly calculated.  Delete now dead .sbss code.\n\t(Bug#20614)\n\n2015-11-08  Alan Modra  <amodra@gmail.com>\n\n\tELF unexec: R_*_NONE relocs\n\n\tThese should be ignored on all targets.\n\n\t* src/unexelf.c (unexec): Ignore R_*_NONE relocs for any target,\n\tnot just Alpha.  Comment on reloc size assumption.\n\n2015-11-08  Alan Modra  <amodra@gmail.com>\n\n\tELF unexec: _OBJC_ symbols in bss sections\n\n\tThis code assumed that there was only one bss section.  Rather than\n\tchecking for a particular index, check the section type.  Also, handle\n\tthe possibility that the section was SHT_NOBITS originally and is\n\tunchanged, in which case no clearing is needed (and sh_offset isn't\n\tnecessarily valid, which can lead to a wild memset).\n\n\t* src/unexelf.c (unexec): Properly handle _OBJC_ symbols in\n\tbss sections.\n\n2015-11-08  Alan Modra  <amodra@gmail.com>\n\n\tELF unexec: Symbol table patching\n\n\tNo st_shndx value larger than SHN_LORESERVE should be changed.\n\t* src/unexelf.c (unexec): Don't adjust any st_shndx larger than\n\tSHN_LORESERVE.  Error on SHN_XINDEX.\n\n2015-11-08  Alan Modra  <amodra@gmail.com>\n\n\tELF unexec: Merge Alpha and MIPS COFF debug handling\n\n\t* src/unexelf.c (unexec): Merge Alpha and MIPS COFF debug handling.\n\tDon't find .mdebug section index, find the section in the loop.\n\tAllow for unlikely possibility that .mdebug is located at sh_offset\n\tbefore bss segment, by calculating move from difference in\n\tsh_offset rather than just assuming new_data2_size.  Simplify\n\tcbLineOffset handling.\n\n2015-11-08  Alan Modra  <amodra@gmail.com>\n\n\tELF unexec: Tidy code\n\n\tSeparate out some of the more mechanical changes so following patches\n\tare smaller.\n\n\t* src/unexelf.c (unexec): Rearrange initialization of program\n\theader vars.  Use pointer vars in loops rather than indexing\n\tsection header array via macros.  Simplify _OBJC_ sym code\n\tand reloc handling code.\n\n2015-11-08  Alan Modra  <amodra@gmail.com>\n\n\tELF unexec: Correct section header index\n\n\tFirst a small fix.  The code incorrectly uses \"NEW_SECTION_H (n)\" when\n\tit should have been using \"NEW_SECTION_H (nn)\" to find the name of the\n\tsection currently being processed.  Of course, before the bss\n\tsections, n and nn have the same value, so this doesn't matter except\n\tin the case of .sbss.  For .sbss this probably meant .bss (most likely\n\tthe next section) was copied from memory.  A later patch removes the\n\tbogus .sbss handling anyway.\n\n\t* src/unexelf.c (unexec): Use correct index to look up names.\n\n2015-11-08  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix Bug#21841\n\n\t* lisp/filenotify.el (file-notify--rm-descriptor):\n\tUse `descriptor' instead of computing its value.\n\t(file-notify--descriptor): Additional argument FILE.  Adapt all callees.\n\t(file-notify-rm-watch): Use `descriptor' when calling file name handler.\n\t(Bug#21841)\n\n2015-11-08  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tRemove dirs in vc project roots from the the vc project library roots\n\n\t* lisp/progmodes/project.el (project-library-roots):\n\tRemove directories inside the project roots from the result.\n\t(http://lists.gnu.org/archive/html/emacs-devel/2015-11/msg00536.html)\n\n2015-11-08  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tMove and rename xref-find-regexp to the project package\n\n\t* lisp/progmodes/project.el (project-find-regexp)\n\t(project--read-regexp)\n\t(project--find-regexp-in): New functions.\n\n\t* lisp/progmodes/xref.el (xref--find-xrefs): Extract from\n\txref--show-xrefs.  Use in existing callers in place of that\n\tfunction.\n\t(xref--show-xrefs): Only do the \"show\" part.\n\t(xref-find-regexp): Rename, more or less, to\n\tproject-or-libraries-find-regexp.\n\n2015-11-06  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tAbolish temporary buffer management for xref\n\n\t* lisp/progmodes/xref.el (xref--temporary-buffers)\n\t(xref--current)\n\t(xref--inhibit-mark-current)\n\t(xref--mark-selected): Remove.  Remove all references.\n\t(xref--show-xrefs): Do not construct the\n\tlist of the temporary buffers, nor pass it along.\n\n2015-11-06  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tRename \"search path\" to \"library roots\"\n\n\t* lisp/emacs-lisp/cl-seq.el (cl-set-difference): Retain the order\n\tof the elements from CL-LIST1.\n\n\t* test/automated/cl-lib-tests.el (cl-lib-test-set-functions):\n\tUpdate WRT to the above change.\n\n\t* lisp/progmodes/project.el (project-search-path-function): Rename\n\tto project-library-roots-function, update the documentation and\n\treferences.\n\t(project-search-path): Likewise, to project-library-roots.\n\t(project-roots): Clarify documentation.\n\t(project-vc-search-path): Likewise, to project-vc-library-roots.\n\t(project-library-roots): In addition to the renames, thread the\n\tresults through file-name-as-directory.\n\t(project-prune-directories): Accept a variable number of\n\targuments.  Rename to project-combine-directories.\n\t(project-subtract-directories): New function.\n\n\t* lisp/progmodes/elisp-mode.el (elisp--xref-find-references):\n\tAppend project-roots and project-library-roots together.\n\n\t* lisp/progmodes/etags.el (etags--xref-find-references): Ditto.\n\n2015-11-08  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPrefer xpalloc to doubling buffers by hand\n\n\t* src/lread.c (grow_read_buffer): New function, which uses xpalloc.\n\t(read1): Use it for simplicity.\n\t* src/macros.c (store_kbd_macro_char):\n\t* src/minibuf.c (read_minibuf_noninteractive):\n\t* src/term.c (encode_terminal_code):\n\t* src/xrdb.c (magic_db):\n\tPrefer xpalloc to growing buffers by hand.\n\tThis doesn\u2019t fix any bugs, but simplifies the code a bit.\n\n2015-11-08  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from gnulib\n\n\tThis incorporates:\n\t2015-11-05 timespec-sub: fix overflow bug; add tests\n\t2015-11-04 intprops: revise _WRAPV macros, revert _OVERFLOW\n\t2015-11-03 intprops: add parentheses\n\t* lib/intprops.h, lib/timespec-add.c, lib/timespec-sub.c:\n\tCopy from gnulib.\n\n2015-11-07  David Reitter  <david.reitter@gmail.com>\n\n\tProvide NS notification objects where required to eliminate warnings\n\n\t* src/nsterm.m (windowDidResize:, toggleFullScreen:):\n\tCall notification functions with notification objects\n\tas per delegate APIs.\n\n2015-11-07  Noam Postavsky  <npostavs@users.sourceforge.net>\n\n\tAdd test for bug #21824\n\n\t* test/automated/buffer-tests.el: New file.\n\t(overlay-modification-hooks-message-other-buf): New test.\n\n2015-11-07  Kelvin White  <kwhite@gnu.org>\n\n\t* lisp/erc/erc-pcomplete.el (pcomplete-erc-nicks): Fix bug#18771.\n\n2015-11-07  David Reitter  <david.reitter@gmail.com>\n\n\tIgnore fullscreen exit notifications on NS when frame is dead\n\n\t* src/nsterm.m (windowDidResize:, windowWillExitFullScreen:)\n\t(windowDidExitFullScreen:): Return if frame is dead.\n\tThese functions may be called when a fullscreen frame\n\tis closed; they are called before, not after.\n\n\tMay address Bug#21428.\n\n2015-11-07  Eli Zaretskii  <eliz@gnu.org>\n\n\tSpeed up lookup in redisplay--variables\n\n\t* lisp/frame.el (redisplay--variables): Make it a hash-table.\n\n\t* src/xdisp.c (maybe_set_redisplay): Access redisplay--variables\n\tas a hash-table.  This speeds up this function by an order of\n\tmagnitude: where previously a setq was slowed down by 100% by\n\tintroducing the maybe_set_redisplay test, it is now only 5%\n\tslower.\n\t(syms_of_xdisp) <redisplay--variables>: Doc fix.\n\n2015-11-07  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/cl-macs.el (cl-defstruct): Fix a bug.\n\n\tThe defsubst was being created as:\n\t    (cl-defsubst name (args) (\"DOC\") ...)\n\n\t* test/automated/cl-lib-tests.el (cl-lib-struct-constructors):\n\tAdd test.\n\n2015-11-07  Mihai Olteanu  <mihai_olteanu@fastmail.fm>  (tiny change)\n\n\tUpdate doc string of hexl-mode\n\n\t* lisp/hexl.el (hexl-mode): Doc fix.  (Bug#21800)\n\n2015-11-07  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix error in copy-abbrev-table\n\n\t* lisp/abbrev.el (define-abbrev): Don't erase the :abbrev-table-modiff\n\tproperty of the abbrev-table.  (Bug#21828)\n\n\t* test/automated/abbrev-tests.el: New file.\n\n2015-11-07  Michael Albinus  <michael.albinus@gmx.de>\n\n\tAdd test to auto-revert-tests.el for Bug#21841\n\n\t* test/automated/auto-revert-tests.el\n\t(auto-revert-test01-auto-revert-several-files): New test.\n\t(auto-revert-test02-auto-revert-tail-mode)\n\t(auto-revert-test03-auto-revert-mode-dired): Rename them.\n\n2015-11-07  Martin Rudalics  <rudalics@gmx.at>\n\n\t* doc/lispref/windows.texi (Coordinates and Windows): Fix typo.\n\n2015-11-07  Martin Rudalics  <rudalics@gmx.at>\n\n\tIn x_consider_frame_title don't set title of tooltip frames\n\n\t* src/xdisp.c (x_consider_frame_title): Return immediately for\n\ttooltip frames to avoid displaying empty tooltips.\n\n2015-11-06  Anders Lindgren  <andlind@gmail.com>\n\n\tFixed NextStep fullscreen problem (bug#21770).\n\n\t* src/nsterm.m (ns_constrain_all_frames): Don't constrain\n\tfullscreen frames.\n\n2015-11-06  Eli Zaretskii  <eliz@gnu.org>\n\n\tEnsure redisplay after evaluation\n\n\t* lisp/progmodes/elisp-mode.el (elisp--eval-last-sexp):\n\tRevert last change.\n\t* lisp/frame.el (redisplay--variables): Populate the\n\tredisplay--variables list.\n\t* src/xdisp.c (maybe_set_redisplay): New function.\n\t(syms_of_xdisp) <redisplay--variables>: New variable.\n\t* src/window.h (maybe_set_redisplay): Declare prototype.\n\t* src/data.c (set_internal): Call maybe_set_redisplay.  (Bug#21835)\n\n2015-11-06  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* test/automated/subr-tests.el (subr-test-when): Fix again.\n\n2015-11-06  Eli Zaretskii  <eliz@gnu.org>\n\n\tDon't invoke overlay modification hooks in wrong buffer\n\n\t* src/buffer.c (report_overlay_modification): When called with\n\tAFTER non-zero, don't invoke overlay modification hooks if the\n\tbuffer recorded in last_overlay_modification_hooks is different\n\tfrom the current buffer.  (Bug#21824)\n\n2015-11-06  Juanma Barranquero  <lekktu@gmail.com>\n\n\t* admin/notes/repo: Fix a few obsolete references to Bazaar.\n\n2015-11-06  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* test/automated/subr-tests.el (subr-test-when): Fix test.\n\n2015-11-06  Martin Rudalics  <rudalics@gmx.at>\n\n\tAvoid division by zero crash observed by Yuan MEI\n\n\tSee http://lists.gnu.org/archive/html/emacs-devel/2015-11/msg00194.html.\n\n\t* src/dispnew.c (required_matrix_height, required_matrix_width):\n\tAvoid division by zero.\n\t* src/xterm.c (x_term_init): Init dpyinfo->smallest_font_height and\n\tdpyinfo->smallest_char_width to 1.\n\n2015-11-06  Eli Zaretskii  <eliz@gnu.org>\n\n\tEnsure redisplay after \"C-x C-e\"\n\n\t* lisp/progmodes/elisp-mode.el (elisp--eval-last-sexp): Make sure\n\tredisplay happens to account for any side effects of the evaluated\n\tsexp.  (Bug#21835)\n\n2015-11-06  Michael Albinus  <michael.albinus@gmx.de>\n\n\tSkip some file notification tests for cygwin\n\n\t* test/automated/file-notify-tests.el (file-notify--test-with-events):\n\tRemove argument TIMEOUT.  Adapt all callees.\n\t(file-notify-test02-events, file-notify-test04-file-validity):\n\tSkip for cygwin.  (Bug#21804)\n\n2015-11-05  Stephen Leake  <stephen_leake@stephe-leake.org>\n\n\t* lisp/progmodes/xref.el: Require semantic/symref during compilation.\n\n2015-11-05  Daiki Ueno  <ueno@gnu.org>\n\n\tSuppress redundant Pinentry startup messages\n\n\t* lisp/net/pinentry.el (pinentry-start): Add optional QUIET argument.\n\t* lisp/epg.el: Declare `pinentry-start'.\n\t(epg--start): Call `pinentry-start' with QUIET argument set.\n\n2015-11-05  Xue Fuqiao  <xfq.free@gmail.com>\n\n\t* doc/emacs/ack.texi (Acknowledgments): Updates.\n\n2015-11-05  Juanma Barranquero  <lekktu@gmail.com>\n\n\t* test/automated/elisp-mode-tests.el: Silence some run-time warnings.\n\t(xref-elisp-deftest): Bind `find-file-suppress-same-file-warnings' to t.\n\n2015-11-05  Tassilo Horn  <tsdh@gnu.org>\n\n\t* lisp/textmodes/tex-mode.el (tex--prettify-symbols-alist):\n\tAdd prettification support for \\times.\n\n2015-11-05  Juanma Barranquero  <lekktu@gmail.com>\n\n\t* test/automated/process-tests.el: Skip tests when bash is unavailable.\n\t(process-test-sentinel-accept-process-output)\n\t(process-test-sentinel-sit-for): skip-unless bash executable found.\n\n2015-11-05  Eli Zaretskii  <eliz@gnu.org>\n\n\tAdd test for bug #21831\n\n\t* test/automated/process-tests.el\n\t(start-process-should-not-modify-arguments): New test.  (Bug#21831)\n\tSuggested by Nicolas Richard <youngfrog@members.fsf.org>\n\n2015-11-04  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/eieio-compat.el: Typo caught by tests.\n\n\t(eieio--generic-static-object-generalizer): Fix typo.\n\t* test/automated/eieio-tests.el: Byte-compile it again.  It looks\n\tlike the underlying cause of bug#17852 was fixed in the mean time.\n\n2015-11-04  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\tRevert \"* lisp/subr.el (when): Use `macroexp-progn'\"\n\n\tThis reverts commit 8e843831eaf271801836b7a3e4dd3b4fb0bb72b8.\n\tIt breaks bootstrapping (duh).\n\n2015-11-04  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/files.el (report-errors): Obsolete.\n\n\t(normal-mode, hack-local-variables, dir-locals-find-file):\n\tUse `with-demoted-errors' instead.\n\n2015-11-04  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/subr.el (when): Use `macroexp-progn'.\n\n\t* test/automated/subr-tests.el (subr-test-when): New test.\n\n2015-11-04  Juanma Barranquero  <lekktu@gmail.com>\n\n\t* lisp/progmodes/xref.el: Doc fixes.\n\t(xref-make-file-location, xref-make-buffer-location, xref-make)\n\t(xref-make-bogus-location, xref-make-match): Add cross-references.\n\t(xref--insert-xrefs): Fix typo in docstring.\n\n2015-11-04  Anders Lindgren  <andlind@gmail.com>\n\n\tRender fringe bitmaps correctly on NextStep (bug#21301)\n\n\tThe fringe bitmaps were inverted, the background was not transparent,\n\tthe image data was horizontally mirrored, and periodic fringe bitmaps\n\twere not supported.\n\n\t* src/nsimage.m ([EmacsImage initFromXBM:width:height:fg:bg:]):\n\tWhen both background and foreground colors are 0, set the background\n\talpha channel to 0 (making the background transparent).  When\n\tcopying the image data, do this from the most significant bit\n\t(leftmost) to the least (rightmost), to avoid mirroring.\n\t* src/nsterm.m (ns_draw_fringe_bitmap): Don't invert the image bits.\n\tAdd support for periodic images (e.g. the empty line indicator).\n\n2015-11-03  Michael Heerdegen  <michael_heerdegen@web.de>\n\n\t* lisp/emacs-lisp/pcase.el (pcase): Tweak docstring.\n\n2015-11-03  Nicolas Petton  <nicolas@petton.fr>\n\n\t* admin/MAINTAINERS: Add seq-tests.el, map-tests.el, and thunk-tests.el.\n\n\t* admin/MAINTAINERS: Add thunk.el.\n\n2015-11-03  Jay Belanger  <jay.p.belanger@gmail.com>\n\n\t* lisp/calc/calc.el (calc-bug-address): Change maintainer address.\n\n2015-11-03  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix a stupid error in gfilenotify.c\n\n\t* src/gfilenotify.c (dir_monitor_callback): Cancel monitor only,\n\tif we've got a `deleted' signal AND the file name is the watched one.\n\n2015-11-03  Stephen Leake  <stephen_leake@stephe-leake.org>\n\n\tFix Bug#21816; case insensitive file system in elisp-mode-tests.el\n\n\t* test/automated/elisp-mode-tests.el (xref-elisp-test-run):\n\tUse case-insensitive string compare for file names.\n\t(emacs-test-dir): Add 'downcase' to cause case differences (at\n\tleast on my system).\n\n2015-11-02  Juanma Barranquero  <lekktu@gmail.com>\n\n\tflymake-tests.el (warning-predicate-rx-gcc): Fix check\n\n\t* test/automated/flymake-tests.el (warning-predicate-rx-gcc):\n\tAlso check that \"make\" is available, not just \"gcc\".\n\n2015-11-02  Ken Brown  <kbrown@cornell.edu>\n\n\tDocument behavior of collation on Cygwin\n\n\t* test/automated/fns-tests.el (fns-tests-collate-sort): Mark as\n\texpected failure on Cygwin.\n\t* doc/lispref/strings.texi (Text Comparison): Document that\n\tpunctuation and whitespace are not ignored for sorting on Cygwin.\n\n2015-11-02  Dani Moncayo  <dmoncayo@gmail.com>\n\n\t* build-aux/msys-to-w32: Prevent double slashes in w32 path list.\n\n2015-11-01  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/progmodes/f90.el (f90-no-block-limit): Add associate.\n\t(Bug#21794)\n\t* test/automated/f90.el (f90-test-bug21794): New test.\n\n2015-11-01  Juanma Barranquero  <lekktu@gmail.com>\n\n\tFix incompatibility with TCC in test for bug#18745\n\n\t* test/automated/process-tests.el (process-test-quoted-batfile):\n\tRemove spaces unrelated to the bug being tested.\n\n2015-11-01  Michael Albinus  <michael.albinus@gmx.de>\n\n\tImprove completion in tramp-gvfs.el\n\n\t* lisp/net/tramp-gvfs.el (tramp-zeroconf-parse-device-names):\n\tRename from `tramp-zeroconf-parse-service-device-names'.\n\t(tramp-zeroconf-parse-webdav-device-names): Remove.  Code merged\n\twith `tramp-zeroconf-parse-device-names'.\n\t(tramp-gvfs-parse-device-names): New defun.\n\t(top): Use it when `tramp-zeroconf-parse-device-names' is not\n\tapplicable.\n\n\t* lisp/net/tramp.el (tramp-set-completion-function): The argument\n\tcould also be a zeroconf service type.\n\n2015-10-31  Thomas Fitzsimmons  <fitzsim@fitzsim.org>\n\n\t* lisp/net/ntlm.el: Change version to 2.0.0.\n\n2015-10-31  Juanma Barranquero  <lekktu@gmail.com>\n\n\tFix bug#21762\n\t* lisp/progmodes/python.el (python-syntax-closing-paren-p): Check with\n\t`eql' instead of `=' to accommodate the case that (syntax-after (point))\n\treturns nil.\n\t* test/automated/python-tests.el (python-indent-inside-paren-7):\n\tNew test.\n\n2015-10-31  Juanma Barranquero  <lekktu@gmail.com>\n\n\t* test/automated/python-tests.el: Avoid warnings.\n\t(python-tests-with-temp-buffer, python-tests-with-temp-file):\n\tBind `python-indent-guess-indent-offset' to nil.\n\n2015-10-31  Juanma Barranquero  <lekktu@gmail.com>\n\n\t* src/alloc.c: Silence compiler warnings.\n\t(pointers_fit_in_lispobj_p, mmap_lisp_allowed_p): #ifdef DOUG_LEA_MALLOC.\n\n2015-10-31  Jackson Ray Hamilton  <jackson@jacksonrayhamilton.com>\n\n\t* etc/NEWS: Fix js-jsx-mode entry punctuation.\n\n2015-10-31  Jackson Ray Hamilton  <jackson@jacksonrayhamilton.com>\n\n\tAdd JSX indentation via js-jsx-mode  (Bug#21799)\n\n\t* lisp/progmodes/js.el: Add JSX indentation support.\n\t(js--jsx-end-tag-re)\n\t(js--jsx-after-tag-re): New variables.\n\t(js--jsx-find-before-tag)\n\t(js--jsx-indented-element-p)\n\t(js--as-sgml)\n\t(js--expression-in-sgml-indent-line)\n\t(js-jsx-indent-line)\n\t(js-jsx-mode): New functions.\n\t* test/indent/js-jsx.js: New file.\n\t* etc/NEWS: Add information about js-jsx-mode.\n\n2015-10-31  Michael Albinus  <michael.albinus@gmx.de>\n\n\tMinor fix in filenotify.el\n\n\t* lisp/filenotify.el (file-notify--event-file-name)\n\t(file-notify--event-file1-name): Normalize result with\n\t`directory-file-name'.\n\n2015-10-31  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid errors in redisplay--pre-redisplay-functions\n\n\t* lisp/emacs-lisp/cursor-sensor.el (cursor-sensor--detect): Don't\n\tuse 'bobp', instead compare window-point with 1.  (Bug#21730)\n\n2015-10-30  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from gnulib\n\n\tThis incorporates:\n\t2015-10-30 intprops: add WRAPV and const flavors for GCC 5\n\t2015-10-25 stdalign: port to Sun C 5.9\n\t* doc/misc/texinfo.tex, lib/intprops.h, lib/stdalign.in.h:\n\tCopy from gnulib.\n\n2015-10-30  Eli Zaretskii  <eliz@gnu.org>\n\n\t* src/w32proc.c (_NLSCMPERROR): Fix a typo in the name of this macro.\n\t(w32_compare_strings): Adjust for the correction.\n\n2015-10-30  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* test/automated/vc-tests.el (vc-test--state)\n\t(vc-test--working-revision, vc-test--checkout-model):\n\tAdd result messages.\n\n2015-10-30  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* test/automated/faces-tests.el: Add another test\n\n2015-10-30  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/faces.el (faces--attribute-at-point): Fix bug\n\tintroduced by previous commit.\n\n2015-10-30  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* test/automated/faces-tests.el: New file.\n\n2015-10-30  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/faces.el: Refactor common code and fix a bug.\n\t(faces--attribute-at-point): New function.  Fix a bug when the\n\tface at point is a list of faces and the desired attribute is not\n\ton the first one.\n\t(foreground-color-at-point, background-color-at-point): Use it.\n\n2015-10-30  Przemys\u0142aw Wojnowski  <esperanto@cumego.com>\n\n\t* etc/tutorials/TUTORIAL.translators: Fix PL names.\n\n2015-10-30  Juanma Barranquero  <lekktu@gmail.com>\n\n\t* lisp/character-fold.el: Provide `character-fold'.\n\n2015-10-30  Tassilo Horn  <tsdh@gnu.org>\n\n\t* etc/themes/tsdh-dark-theme.el (tsdh-dark): Add more faces\n\tfor Gnus and ivy.\n\n2015-10-30  Michael Albinus  <michael.albinus@gmx.de>\n\n\tSome minor fixes for tramp-gvfs.el\n\n\t* lisp/net/tramp-gvfs.el (tramp-gvfs-handle-file-attributes):\n\tAn attribute returned by gvfs-info might be empty.  In case of\n\tundetermined uid or gid, return \"UNKNOWN\" or -1, respectively.\n\t(tramp-zeroconf-parse-service-device-names): New defun.\n\tDerived from `tramp-zeroconf-parse-workstation-device-names'.\n\t(top): Add completion functions for \"afp\" and \"smb\" methods.\n\n2015-10-30  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* test/automated/character-fold-tests.el: New file\n\n2015-10-30  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* test/automated/sort-tests.el: New file.\n\tTests in this file are randomly generated and then tested with\n\tregular, reverse, and case-fold sorting.\n\n2015-10-30  Eli Zaretskii  <eliz@gnu.org>\n\n\tDescribe known problems with pinning Emacs to taskbar\n\n\t* etc/PROBLEMS: Describe the problem with pinning Emacs to taskbar\n\ton Windows 10.  For the details, see the discussion starting at\n\thttp://lists.gnu.org/archive/html/help-emacs-windows/2015-09/msg00000.html.\n\n2015-10-30  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/isearch.el: Avoid an error that blocks isearch.\n\t(isearch-update): Don't error if `isearch--current-buffer' has\n\tbeen killed.\n\n\t* test/automated/isearch-tests.el (isearch--test-update):\n\tNew file.\n\n2015-10-30  Phil Sainty  <psainty@orcon.net.nz>\n\n\tFix documentation of 'beginning/end-of-buffer'\n\n\t* lisp/simple.el (beginning-of-buffer, end-of-buffer): Clarify\n\tconditions under which the mark will be pushed at the previous\n\tposition.  (Bug#21748)\n\n2015-10-30  Tassilo Horn  <tsdh@gnu.org>\n\n\tAdd RefTeX feature idea: editing RefTeX TOC buffers\n\n\tMore face defs for ivy, swiper, ace-window, eshell\n\n2015-10-29  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/gnus/auth-source.el: Silence lexical-binding warnings.\n\t(auth-source-netrc-use-gpg-tokens): Simplify (symbol-value 'VAR) to\n\tjust VAR.\n\t(auth-source-backend-parse): Use make-instance.\n\t(auth-source-search): Remove unused key args.\n\tRemove unused vars `accessor-key' and `backend'.  Avoid `eval'.\n\t(auth-source-search-backends): Use slot names rather than their initarg.\n\t(auth-source-netrc-create):\n\t(auth-source-delete):\n\t(auth-source-secrets-create, auth-source-plstore-search)\n\t(auth-source-macos-keychain-create, auth-source-macos-keychain-search)\n\t(auth-source-plstore-create, auth-source-netrc-search)\n\t(auth-source-netrc-parse): Remove unused key args.\n\t(auth-source-forget+): Simplify the arglist.\n\t(auth-source-macos-keychain-search-items)\n\t(auth-source-token-passphrase-callback-function): Mark unused args.\n\t(auth-source-epa-extract-gpg-token): Remove unused var `plain'.\n\t(pp-escape-newlines): Declare.\n\t(auto-source--symbol-keyword): New function.\n\t(auth-source-plstore-create, auth-source-netrc-create)\n\t(auth-source-netrc-normalize): Use it.\n\t(auth-source-netrc-search): Don't pass :delete to\n\tauth-source-netrc-parse since it doesn't use it.\n\t(auth-source-plstore-create, auth-source-netrc-create): Use plist-get\n\tsymbol-value to index in keyword args.\n\t(auth-source-macos-keychain-result-append): Avoid setq.\n\t(auth-source-netrc-create): Remove unused vars `file' and `add'.\n\t(auth-source-user-or-password): Remove unused var `cname'.\n\n2015-10-29  Juri Linkov  <juri@linkov.net>\n\n\t* lisp/dired.el (dired-unmark-all-files-query): Declare.\n\t(dired-unmark-all-files): Let-bind it and use instead of \u2018query\u2019.\n\t(Bug#21746)\n\n2015-10-29  Juri Linkov  <juri@linkov.net>\n\n\t* lisp/ielm.el (ielm-indent-line): Use non-nil arg of comint-bol\n\tto go to the beginning of text line instead of command line.\n\thttp://lists.gnu.org/archive/html/emacs-devel/2015-10/msg02360.html\n\n2015-10-29  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix encoding of saving *Help* buffers\n\n\t* lisp/help-fns.el (describe-function-1): If we use curved quotes,\n\tset help buffer's buffer-file-coding-system to UTF-8.  (Bug#21780)\n\n2015-10-29  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/cl-generic.el: Add (major-mode MODE) context.\n\t(cl--generic-derived-specializers): New function.\n\t(cl--generic-derived-generalizer): New generalizer.\n\t(cl-generic-generalizers): New specializer (derived-mode MODE).\n\t(cl--generic-split-args): Apply the rewriter, if any.\n\t(cl-generic-define-context-rewriter): New macro.\n\t(major-mode): Use it to define a new context-rewriter, so we can write\n\t`(major-mode MODE)' instead of `(major-mode (derived-mode MODE))'.\n\n\t* lisp/frame.el (window-system): New context-rewriter so we can write\n\t`(window-system VAL)' instead of (window-system (eql VAL)).\n\t(cl--generic-split-args): Apply the rewriter, if any.\n\t(frame-creation-function): Use the new syntax.\n\n\t* lisp/term/x-win.el (window-system-initialization)\n\t(handle-args-function, frame-creation-function)\n\t(gui-backend-set-selection, gui-backend-selection-owner-p)\n\t(gui-backend-selection-exists-p, gui-backend-get-selection):\n\t* lisp/term/w32-win.el (window-system-initialization)\n\t(handle-args-function, frame-creation-function)\n\t(gui-backend-set-selection, gui-backend-get-selection)\n\t(gui-backend-selection-owner-p, gui-backend-selection-exists-p):\n\t* lisp/term/pc-win.el (gui-backend-get-selection)\n\t(gui-backend-selection-exists-p, gui-backend-selection-owner-p)\n\t(gui-backend-set-selection, window-system-initialization)\n\t(frame-creation-function, handle-args-function):\n\t* lisp/term/ns-win.el (window-system-initialization)\n\t(handle-args-function, frame-creation-function)\n\t(gui-backend-set-selection, gui-backend-selection-exists-p)\n\t(gui-backend-get-selection):\n\t* lisp/startup.el (handle-args-function):\n\t* lisp/term/xterm.el (gui-backend-get-selection)\n\t(gui-backend-set-selection): Use the new syntax.\n\n2015-10-29  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* test/indent/css-mode.css: Add tests for url(...) syntax.\n\n2015-10-29  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/smie.el: Use `declare' for `pure'.\n\t(smie-precs->prec2, smie-merge-prec2s, smie-bnf->prec2)\n\t(smie-prec2->grammar): Use `declare'.\n\n2015-10-29  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/cl-generic.el: Accommodate future changes.\n\t(cl--generic-generalizer): Add `name' field.\n\t(cl-generic-make-generalizer): Add corresponding `name' argument.\n\t(cl-generic-define-generalizer): New macro.\n\t(cl--generic-head-generalizer, cl--generic-eql-generalizer)\n\t(cl--generic-struct-generalizer, cl--generic-typeof-generalizer)\n\t(cl--generic-t-generalizer): Use it.\n\t(cl-generic-ensure-function): Add `noerror' argument.\n\t(cl-generic-define): Use it so we don't follow aliases.\n\t(cl-generic-define-method): Preserve pre-existing ordering of methods.\n\t(cl--generic-arg-specializer): New function.\n\t(cl--generic-cache-miss): Use it.\n\t(cl-generic-generalizers): Only fset a temporary definition\n\tduring bootstrap.\n\t(cl--generic-struct-tag, cl--generic-struct-specializers):\n\tAllow extra arguments.\n\n\t* lisp/emacs-lisp/eieio-compat.el\n\t(eieio--generic-static-symbol-generalizer)\n\t(eieio--generic-static-object-generalizer):\n\tUse cl-generic-define-generalizer.\n\t(eieio--generic-static-symbol-specializers): Allow extra arguments.\n\n\t* lisp/emacs-lisp/eieio-core.el (eieio--generic-generalizer)\n\t(eieio--generic-subclass-generalizer):\n\tUse cl-generic-define-generalizer.\n\t(eieio--generic-subclass-specializers): Allow extra arguments.\n\n2015-10-29  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/bytecomp.el (compile-defun): Add defvars in scope.\n\n2015-10-29  Michael Albinus  <michael.albinus@gmx.de>\n\n\tAdd \"afp\" method to Tramp\n\n\t* doc/misc/tramp.texi (GVFS based methods): Describe `afp' method.\n\n\t* lisp/net/tramp-gvfs.el (tramp-gvfs-methods): Add \"afp\" method.\n\t(tramp-gvfs-handle-expand-file-name)\n\t(tramp-gvfs-handler-mounted-unmounted)\n\t(tramp-gvfs-connection-mounted-p, tramp-gvfs-mount-spec)\n\t(tramp-gvfs-maybe-open-connection): Support also \"afp\".\n\t(tramp-gvfs-handle-file-attributes): Handle the case of empty\n\t\"owner::user\" and \"owner::group\" entries.\n\n2015-10-29  Andy Moreton  <andrewjmoreton@gmail.com>\n\n\tHandle negative coordinates in \u2018x_calc_absolute_position\u2019\n\n\t* src/w32term.c (x_calc_absolute_position): Find display origin to\n\tallow for negative coordinates.\n\n2015-10-28  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t(internal--syntax-propertize): Save match-data here (bug#21766)\n\n\t* lisp/emacs-lisp/syntax.el (internal--syntax-propertize): Save match-data.\n\t* lisp/simple.el (delete-trailing-whitespace): Undo last change.\n\n2015-10-28  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tDon't require default-directory to end with a slash\n\n\t* doc/lispref/files.texi (Magic File Names): Document the change\n\tin unhandled-file-name-directory.\n\n\t* lisp/url/url-handlers.el\n\t(url-handler-unhandled-file-name-directory): Update accordingly.\n\n\t* src/buffer.c (default-directory): Update the docsting.\n\n\t* src/fileio.c (unhandled-file-name-directory): Default to calling\n\t`file-name-as-directory'\n\t(http://lists.gnu.org/archive/html/emacs-devel/2015-10/msg02294.html).\n\n2015-10-28  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/isearch.el: Delete some outdated comments.\n\n2015-10-28  Vibhav Pant  <vibhavp@gmail.com>\n\n\tFix eshell/clear not working if the output has a small line count\n\n\t* lisp/eshell/esh-mode.el (eshell/clear): Use (window-size) as the\n\tnumber of newlines to be inserted. This fixes the issue where\n\teshell/clear wouldn't work if the prompt was not at the bottom of the\n\twindow, and the output wasn't too long.\n\n2015-10-28  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/files.el (write-file): Use vc-refresh-state.\n\n\t* lisp/autorevert.el (auto-revert-handler): Use vc-refresh-state.\n\n\t* lisp/vc/pcvs.el (cvs-revert-if-needed): Use vc-refresh-state.\n\n2015-10-28  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/macroexp.el: Tweak macroexp-if optimizations.\n\t(macroexp-unprogn): Make sure we never return an empty list.\n\t(macroexp-if): Remove unused (and unsafe) optimization.\n\tOptimize (if A T (if B T E)) into (if (or A B) T E) instead, which does\n\toccur occasionally.\n\n2015-10-28  Juanma Barranquero  <lekktu@gmail.com>\n\n\tFix bug#21766 and add test\n\t* lisp/simple.el (delete-trailing-whitespace): Save match data when\n\tcalling `skip-syntax-backward'.\n\t* test/automated/simple-test.el (simple-delete-trailing-whitespace):\n\tNew test.\n\n2015-10-28  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* doc/lispref/sequences.texi (Sequence Functions): Fix typo.\n\n2015-10-28  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* src/dispnew.c (init_display): Simplify overflow checking.\n\n2015-10-28  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/character-fold.el (character-fold-to-regexp): Fix case\n\twhere string ends in space\n\n2015-10-28  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/seq.el (seq-mapn): New function.\n\n\t* doc/lispref/sequences.texi (Sequence Functions): Document seq-mapn.\n\n2015-10-28  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/character-fold.el: Make compatible with lax-whitespace.\n\t(character-fold-to-regexp): Rework internals to play nice with\n\tlax-whitespacing.\n\n\tWhen the user types a space, we want to match the table entry for\n\t?\\s, which is generally a regexp like \"[ ...]\".  However, the\n\t`search-spaces-regexp' variable doesn't \"see\" spaces inside these\n\tregexp constructs, so we need to use \"\\\\( \\\\|[ ...]\\\\)\" instead (to\n\tmanually expose a space).\n\n\tFurthermore, the lax search engine acts on a bunch of spaces, not\n\ton individual spaces, so if the string contains sequential spaces\n\tlike \"  \", we need to keep them grouped together like this:\n\t\"\\\\(  \\\\|[ ...][ ...]\\\\)\".\n\n2015-10-28  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/isearch.el: Refactor momentary messages.\n\t(isearch--momentary-message): New function.\n\t(isearch-toggle-lax-whitespace, isearch-toggle-case-fold)\n\t(isearch-toggle-invisible): Use it.\n\n2015-10-28  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/isearch.el: Define all toggles with `isearch-define-mode-toggle'.\n\t(isearch-define-mode-toggle): New macro.\n\t(isearch-toggle-invisible): Rename to\n\t`isearch-define-mode-toggle'.\n\t(isearch-toggle-case-fold, isearch-toggle-invisible)\n\t(isearch-toggle-regexp, isearch-toggle-lax-whitespace): Define\n\twith `isearch-define-mode-toggle'.\n\n2015-10-28  Michael Albinus  <michael.albinus@gmx.de>\n\n\tAvoid using `add-to-list' on a let-local var in tramp-smb.el\n\n\t* lisp/net/tramp-compat.el (tramp-compat-delete-dups): New defun.\n\t* lisp/net/tramp-smb.el (tramp-smb-handle-directory-files): Use it.\n\n2015-10-28  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* lisp/net/tramp-smb.el (tramp-smb-handle-directory-files):\n\tRevert 692bce5b9eccfae19ae2a5a23a9ccd8d6bf86076, `delete-dups'\n\tdoes not exist in XEmacs 21.4.\n\n2015-10-28  Anders Lindgren  <andlind@gmail.com>\n\n\tFixed OS X startup crash\n\n\tInput events started to arrive before ns_term_init() was finished.\n\tSolved by blocking input.  This also seems to correct the \"You\n\tcan't open the application \"Emacs\" because it may be damaged or\n\tincomplete\" error issued when double-clicking on the Emacs\n\tapplication.\n\n\t* src/nsterm.m (ns_constrain_all_frames, ns_init_term): Block input.\n\t* src/nsterm.m (ns_send_appdefined, EmacsApp): Trace output.\n\n2015-10-28  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* src/process.c (Fget_buffer_process): Improve docstring.\n\tDocument the fact that it doesn't return dead processes.\n\n2015-10-28  Anders Lindgren  <andlind@gmail.com>\n\n\tFix incorrect NextStep tool-bar-mode -- wrong number of rows in frame.\n\n\t* src/nsterm.h (struct ns_output): New flag, in_animation.\n\t* src/nsfns.m (Fx_create_frame): Initialize in_animation flag.\n\t* src/nsmenu.m (free_frame_tool_bar, update_frame_tool_bar): Set\n\tin_animation flag around call to \"setVisible\". Set new tool bar\n\theight before call to setVisible.\n\t* src/nsterm.m (x_set_window_size): Don't call [view setRow:\n\tandColumns:] as this fools the subsequent call to updateFrameSize\n\tfrom performing the real resize.\n\t(windowDidResize): Don't update anything when in_animation is\n\tnon-zero.\n\n\tTrace output.\n\n\t* src/nsmenu.m (free_frame_tool_bar, update_frame_tool_bar)\n\t(EmacsToolbar):\n\t* src/nsterm.m (x_set_window_size, updateFrameSize)\n\t([EmacsView setRows: andColumns:])\n\n2015-10-28  Nicolas Petton  <nicolas@petton.fr>\n\n\t* lisp/emacs-lisp/thunk.el (thunk-delay): Fix the macro.\n\n2015-10-28  Tassilo Horn  <tsdh@gnu.org>\n\n\tPrettify TeX macros not ending in a word char\n\n\t* lisp/textmodes/tex-mode.el (tex--prettify-symbols-compose-p):\n\tPrettify macros which don't end in a word character.\n\n2015-10-27  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tPipe Hg commit descriptions through 'tabindent'\n\n\t* lisp/vc/vc-hg.el (vc-hg-log-format): Pipe commit description\n\tthrough 'tabindent'.\n\t(vc-hg-log-view-mode): Set tab-width to 2 locally.\n\t(http://lists.gnu.org/archive/html/emacs-devel/2015-10/msg02259.html)\n\n2015-10-27  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/net/tramp-smb.el: Avoid using `add-to-list' on a let-local var.\n\t(tramp-smb-handle-directory-files): Use `delete-dups'.\n\n\t* lisp/net/tramp.el (auto-save-file-name-transforms): Declare.\n\n2015-10-27  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/international/ccl.el: Use lexical-binding.\n\t(ccl-compile-if): Remove unused var `false-ic'.\n\t(ccl-compile-write-repeat): Remove unused var `i'.\n\t(ccl-compile-map-single): Remove unused var `id'.\n\t(ccl-dump, ccl-dump-binary): Use explicit let-binding to bind the\n\tdynamic var `ccl-code'.\n\n2015-10-27  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/json.el (json-new-object): Optimize trivial `list' call.\n\n2015-10-27  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/help.el: Fix bug with incorrect arglist string.\n\t(help-add-fundoc-usage): Don't mistake a mis-formatted string\n\tfor a list.\n\n2015-10-27  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/gnus/gnus-topic.el: Silence some warnings.\n\t(gnus-topic-prepare-topic): Remove unused var `topic'.\n\t(gnus-topic-remove-topic): Mark unused arg `hide'.\n\t(gnus-tmp-header): Declare.\n\t(gnus-topic-goto-missing-group): Remove unused var `entry'.\n\t(gnus-topic-unmark-topic): Mark unused arg `dummy'.\n\t(gnus-topic-copy-matching): Mark unused arg `copyp'.\n\tMove initialization of `topic' into its declaration.\n\n2015-10-27  Stephen Leake  <stephen_leake@stephe-leake.org>\n\n\tMinor CEDET fixes\n\n\t* lisp/cedet/cedet-global.el (cedet-gnu-global-gtags-call):\n\tHandle warnings from gtags about invalid options.\n\t(cedet-gnu-global-create/update-database): Do incremental update\n\tproperly.\n\n\t* lisp/cedet/ede/generic.el (ede-enable-generic-projects):\n\tGet monotone root right.\n\n2015-10-27  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFall back to polling in autorevert when needed\n\n\t* lisp/autorevert.el (auto-revert-notify-handler): When a\n\t`stopped' event arrives from file notification, fall back to polling.\n\n\t* test/automated/file-notify-tests.el\n\t(file-notify-test03-autorevert): Extend test for polling when file\n\tnotification ceases to work.\n\n2015-10-27  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tShow full commit messages in 'hg log' when appropriate\n\n\t* lisp/vc/vc-hg.el (vc-hg-log-format): New variable.\n\t(vc-hg-print-log, vc-hg-expanded-log-entry): Use it.\n\t(http://lists.gnu.org/archive/html/emacs-devel/2015-10/msg02191.html)\n\n2015-10-27  Nicolas Petton  <nicolas@petton.fr>\n\n\tUse a plain SVG file for the icon\n\n\t* etc/images/icons/hicolor/scalable/apps/emacs.svg: Use a plain SVG\n\t  format instead of the Inkscape SVG format.\n\n2015-10-27  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix subtle bug in auto-revert-tests.el\n\n\t* test/automated/auto-revert-tests.el\n\t(auto-revert-test02-auto-revert-mode-dired): Narrow *Messages*\n\tbuffer where it belongs to.  (Bug#21668)\n\n2015-10-26  Nicolas Petton  <nicolas@petton.fr>\n\n\t* lisp/emacs-lisp/map.el: Better docstrings.\n\n\t* lisp/emacs-lisp/seq.el: Better docstrings.\n\n\t* lisp/emacs-lisp/seq.el: Rename all seq arguments to sequence.\n\n2015-10-26  Phillip Lord  <phillip.lord@russet.org.uk>\n\n\t* lisp/emacs-lisp/ert.el: Print results without newline escaping.\n\n2015-10-26  Stephen Leake  <stephen_leake@stephe-leake.org>\n\n\tClarify that load-path contents should be directory file names\n\n\t* doc/lispref/files.texi (Directory Names): Define and use \"directory\n\tfile name\".  Recommend `expand-file-name'.\n\n\t* src/lread.c (load-path): Fix doc string; elements are directory file\n\tnames.\n\n2015-10-26  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix simple-test.el test\n\n\t* test/automated/simple-test.el (simple-test--dummy-buffer):\n\tMake sure indentation doesn't use TABs, otherwise the 6th test\n\tmight fail.\n\n2015-10-26  Mark Oteiza  <mvoteiza@udel.edu>\n\n\t* lisp/net/eww.el (eww-bookmark-prepare): Use truncate-string-to-width.\n\t`substring' does not account for full width characters.\n\n2015-10-26  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFurther work on `stopped' events in filenotify.el\n\n\t* doc/lispref/os.texi (File Notifications): Rework examples.\n\n\t* lisp/filenotify.el (file-notify--rm-descriptor): Optional parameter.\n\t(file-notify--rm-descriptor, file-notify-callback): Improve check\n\tfor sending `stopped' event.\n\t(file-notify-add-watch): Check for more events for `inotify'.\n\n\t* test/automated/file-notify-tests.el\n\t(file-notify--test-expected-events): New defvar.\n\t(file-notify--test-with-events): Use it.\n\t(file-notify--test-cleanup): Make it more robust when deleting\n\tdirectories.\n\t(file-notify--test-event-test): Check also for watched directories.\n\t(file-notify--test-event-handler): Suppress temporary .#files.\n\t(file-notify-test02-events, file-notify-test04-file-validity):\n\tRework `stopped' events.\n\t(file-notify-test05-dir-validity): Wait for events when appropriate.\n\n2015-10-26  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* src/keyboard.c (post-command-hook): Shorten docstring.\n\n2015-10-26  Tassilo Horn  <tsdh@gnu.org>\n\n\tFix infinite loop in sh-script's SMIE code\n\n\t* lisp/progmodes/sh-script.el (sh-smie-sh-forward-token): Fix infinite\n\tloop (bug#21747).\n\n2015-10-25  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/isearch.el (search-default-regexp-mode): Revert to nil.\n\tCharacter-fold search _still_ doesn't play well with\n\tlax-whitespace.  So disable it by default (again) for now.\n\n2015-10-25  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/isearch.el: No visual feedback for default search mode.\n\tDuring an isearch where character-folding is the default, we don't\n\twant to take up minibuffer space just to tell the user that\n\t\"Char-fold \" is on.  The same goes for other modes, if the user\n\tchanges the default.  In contrast, if the user toggles OFF the\n\tdefault mode, they should see \"Literal\", to distinguish it from\n\tthe default mode.\n\t(isearch--describe-regexp-mode): Return \"\" if describing the\n\tdefault mode, and return \"literal \" if describing a plain search\n\tand it is not default.\n\n2015-10-25  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* test/automated/simple-test.el: New file.\n\tDefine tests for `newline' and `open-line'.\n\n2015-10-25  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/simple.el (open-line): Integrate with electric-indent-mode.\n\tAlso run `post-self-insert-hook' when called interactively.\n\n2015-10-25  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/simple.el (open-line): Fix docstring.\n\tAlso explain apparently redundant line.\n\n2015-10-25  Thomas Fitzsimmons  <fitzsim@fitzsim.org>\n\t    Alexandru Harsanyi  <AlexHarsanyi@gmail.com>\n\n\tSync with soap-client repository, version 3.0.1\n\n\t* lisp/net/soap-client.el, lisp/net/soap-inspect.el:\n\tBump version to 3.0.1.\n\n\t* lisp/net/soap-client.el, lisp/net/soap-inspect.el: Update home page.\n\n2015-10-25  Eli Zaretskii  <eliz@gnu.org>\n\n\t* lisp/progmodes/grep.el (grep): Doc fix.  (Bug#21754)\n\n2015-10-25  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* src/keyboard.c (post-command-hook): Extend the docstring.\n\tMainly, explain how to use it without hanging Emacs, or giving the\n\timpression that it is hanging.  Also mention `pre-command-hook'.\n\t(pre-command-hook): Mention `post-command-hook'.\n\n2015-10-25  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/custom.el (custom-declare-variable): Shorten code again.\n\tWithout using pcase this time.  We can't use pcase because it is\n\tloaded after custom in loadup.el.  Also add a comment explaining\n\tthis to future dummies like me.\n\n2015-10-25  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* doc/lispref/os.texi (File Notifications): Document `stopped event'.\n\n2015-10-25  Michael Albinus  <michael.albinus@gmx.de>\n\n\tIntroduce `stopped' event in file notification\n\n\t* lisp/filenotify.el (file-notify--rm-descriptor): New defun.\n\t(file-notify-rm-watch): Use it.\n\t(file-notify-callback): Implement `stopped' event.\n\t(file-notify-add-watch): Mention `stopped' in the docstring.\n\tCheck, that upper directory exists.\n\n\t* test/automated/file-notify-tests.el (file-notify-test01-add-watch):\n\tAdd two test cases.\n\t(file-notify-test02-events): Handle also `stopped' event.\n\t(file-notify-test04-file-validity): Add another test case.\n\n2015-10-25  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRevert commit that broke 'make bootstrap'\n\n\t* lisp/custom.el (custom-declare-variable): Revert commit\n\t79fac080d277fed07b3c192890ad59d36d9f83b6.  custom.el needs to work\n\teven when pcase has not been defined yet, when doing bootstrapping.\n\n2015-10-25  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort recent inline functions fix to Standard C\n\n\t* src/lisp.h (LISP_MACRO_DEFUN, LISP_MACRO_DEFUN_VOID): Remove.\n\tAll uses rewritten to define the function directly rather than to\n\tuse a macro to define the function.  This conforms to Standard C,\n\twhich does not allow stray semicolons at the top level.  I hope it\n\talso avoids the problems with TAGS.  Those macros, though clever,\n\twere pretty confusing anyway, and it wasn\u2019t clear they were worth\n\tthe aggravation even without the TAGS problem.\n\n2015-10-24  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/isearch.el: Make character-fold search the default again.\n\n2015-10-24  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/character-fold.el: Many improvements.\n\t(character-fold-search-forward, character-fold-search-backward):\n\tNew command.\n\t(character-fold-to-regexp): Remove lax-whitespace hack.\n\t(character-fold-search): Remove variable.  Only isearch and\n\tquery-replace use char-folding, and they both have their own\n\tvariables to configure that.\n\n2015-10-24  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/isearch.el: Generalize definition of regexp-function toggles.\n\t(isearch-specify-regexp-function): New macro for specifying\n\tpossible values of `isearch-regexp-function'.\n\t(isearch-toggle-character-fold, isearch-toggle-symbol)\n\t(isearch-toggle-word): Define with `isearch-specify-regexp-function'.\n\n2015-10-24  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/isearch.el (search-default-regexp-mode): New variable.\n\t(isearch-mode): Use it.\n\n2015-10-24  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/isearch.el (search-exit-option, search-slow-window-lines)\n\t(search-slow-speed, search-upper-case)\n\t(search-nonincremental-instead, search-whitespace-regexp)\n\t(search-invisible, isearch-hide-immediately)\n\t(isearch-resume-in-command-history, search-ring-max)\n\t(regexp-search-ring-max, search-ring-update, search-highlight)\n\t(isearch-fail): Delete :group entries.\n\n2015-10-24  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/custom.el (custom-declare-variable): Shorten code a bit.\n\n2015-10-24  Juanma Barranquero  <lekktu@gmail.com>\n\n\taddpm.c: Silence some warnings.\n\n\t* nt/addpm.c (DdeCommand): Cast pData argument of DdeClientTransaction\n\tto LPBYTE.\n\t(add_registry): Pass NULL to optional lpClass argument of\n\tRegCreateKeyEx, not an empty string.\n\n2015-10-24  Juanma Barranquero  <lekktu@gmail.com>\n\n\taddpm.c: Do not add obsolete GTK libraries to the path.\n\n\t* nt/addpm.c (REG_GTK, REG_RUNEMACS_PATH): Delete.\n\t(add_registry): Remove variables `size' and `gtk_key'.\n\tDo not add the GTK DLL directory to the library search path; it is\n\tconfusing behavior (in particular, the same Emacs version with and\n\twithout invoking addpm will use a different path), and the GTK image\n\tlibraries are obsolete anyway.\n\n2015-10-24  Juanma Barranquero  <lekktu@gmail.com>\n\n\taddpm.c: Replace existing registry entries, but do not create new ones\n\n\t* nt/addpm.c (add_registry): If the Emacs registry key exists, replace\n\texisting values from previous versions, but do not add new ones; the\n\tkey could exist for other reasons unrelated to old Emacsen, like X-style\n\tresources, or to set some environment variables like HOME or LANG, and\n\tin that case we don't want to populate it with obsolete values.\n\n2015-10-24  Juanma Barranquero  <lekktu@gmail.com>\n\n\t* nt/addpm.c (add_registry): Do not compute unused return value.\n\n2015-10-24  Juanma Barranquero  <lekktu@gmail.com>\n\n\taddpm.c: Don't pass REG_OPTION_NON_VOLATILE to RegOpenKeyEx\n\n\t* nt/addpm.c (add_registry): Pass 0 to ulOptions argument of\n\tRegOpenKeyEx, not REG_OPTION_NON_VOLATILE.  This doesn't change\n\tcurrent behavior because REG_OPTION_NON_VOLATILE is defined to\n\tbe 0L anyway, but that option is actually documented only for\n\tRegCreateKeyEx.\n\n2015-10-24  Juanma Barranquero  <lekktu@gmail.com>\n\n\t* src/w32notify.c (Fw32notify_add_watch): Fix version check.\n\n2015-10-24  Eli Zaretskii  <eliz@gnu.org>\n\n\tUpdate frame title when redisplay scrolls selected window\n\n\t* src/xdisp.c (redisplay_window): Reconsider the frame's title\n\twhen the mode-line of the frame's selected window needs to be\n\tupdated.\n\n2015-10-24  Eli Zaretskii  <eliz@gnu.org>\n\n\tUpdate frame title when scrolling the selected window\n\n\t* src/window.c (wset_update_mode_line): New function, sets either\n\tthe window's update_mode_line flag or the global update_mode_lines\n\tvariable.\n\t(Fset_window_start, set_window_buffer, window_scroll_pixel_based)\n\t(window_scroll_line_based): Call it instead of only setting the\n\twindow's update_mode_line flag.\n\n2015-10-24  Eli Zaretskii  <eliz@gnu.org>\n\n\tAn even better fix for bug#21739\n\n\t* src/window.c (set_window_buffer): If the window is the frame's\n\tselected window, set update_mode_lines, not the window's\n\tupdate_mode_line flag.\n\t* src/buffer.c (Fkill_buffer): Undo last change.\n\t(set_update_modelines_for_buf): Function deleted.\n\n2015-10-24  Thomas Fitzsimmons  <fitzsim@fitzsim.org>\n\t    Alexandru Harsanyi  <AlexHarsanyi@gmail.com>\n\n\tSync with soap-client repository, version 3.0.0\n\n\t* lisp/net/soap-client.el, lisp/net/soap-inspect.el:\n\tBump version to 3.0.0.\n\n\t* lisp/net/soap-inspect.el: Merge in changes from Emacs master branch.\n\n\t* lisp/net/soap-client.el: Merge in changes from Emacs master branch.\n\n\t* lisp/net/soap-inspect.el: Shorten first line description.\n\n\t* lisp/net/soap-client.el: Make a small whitespace fix.\n\n\t* lisp/net/soap-inspect.el: Update copyright years.\n\n\t* lisp/net/soap-client.el (soap-encoded-namespaces): Move above\n\tfirst use in soap-encode-xs-element.\n\n\t* lisp/net/soap-client.el (soap-type-is-array?): new defun\n\t(soap-encode-xs-element): handle array elements in this function\n\t(soap-encode-xs-complex-type): flag error if asked to encode an\n\tarray type, this is handled in `soap-encode-xs-element'\n\n\t* lisp/net/soap-inspect.el (soap-inspect-xs-attribute-group):\n\tDo not print type for attribute group.\n\n\t* lisp/net/soap-inspect.el (soap-sample-value-for-xs-attribute-group)\n\tNew function.\n\t(soap-inspect-xs-attribute-group): Likewise.\n\n\t* lisp/net/soap-inspect.el\n\t(soap-resolve-references-for-xs-attribute-group): Resolve\n\treferences of attributes in an attribute group.\n\n\t* lisp/net/soap-client.el (soap-decode-xs-attributes): Process attribute\n\ttype directly, not through soap-wsdl-get.\n\n\t* lisp/net/soap-client.el (soap-xs-parse-attribute): Leave reference\n\tnil if reference attribute is nil.\n\n\t* lisp/net/soap-client.el (soap-resolve-references-for-xs-attribute):\n\tConvert XML schema attributes to xsd:string.\n\n\t* lisp/net/soap-inspect.el (soap-sample-value-for-xs-attribute):\n\tNew function.\n\t(soap-sample-value-for-xs-simple-type): Prepend attributes to result.\n\t(soap-sample-value-for-xs-complex-type): Likewise.\n\t(soap-inspect-xs-attribute): New function.\n\t(soap-inspect-xs-simple-type): Print attributes.\n\t(soap-inspect-xs-complex-type): Likewise.\n\n\t* lisp/net/soap-inspect.el (soap-resolve-references-for-xs-simple-type):\n\tResolve references for attributes.\n\t(soap-resolve-references-for-xs-complex-type): Likewise.\n\n\t* lisp/net/soap-client.el (soap-xml-node-find-matching-child):\n\tRename from soap-xml-node-first-child.\n\t(soap-xs-parse-attribute): Call soap-xml-node-find-matching-child.\n\t(soap-xs-parse-simple-type): Likewise.\n\n\t* lisp/net/soap-client.el (soap-invoke-async): Add error checking.\n\n\t* lisp/net/soap-client.el (soap-invoke-internal): New function.\n\t(soap-invoke-async): Call soap-invoke-internal.\n\t(soap-invoke): Likewise.\n\n\t* lisp/net/soap-client.el (soap-invoke-async): Ensure buffer passed to\n\turl-retrieve callback is killed.\n\n\t* lisp/net/soap-client.el (soap-parse-wsdl-phase-validate-node):\n\tRename function.\n\t(soap-parse-wsdl-phase-fetch-imports): Likewise.\n\t(soap-parse-wsdl-phase-parse-schema): Likewise.\n\t(soap-parse-wsdl-phase-fetch-schema): Likewise.\n\t(soap-parse-wsdl-phase-finish-parsing): Likewise.\n\t(soap-parse-wsdl): Update calls.\n\n\t* lisp/net/soap-client.el (soap-invoke-async): Fix callback invocation.\n\n\t* lisp/net/soap-client.el (soap-invoke-async): New function.\n\t(soap-invoke): Reimplement using soap-invoke-async.\n\n\t* lisp/net/soap-client.el (soap-parse-server-response):\n\tImprove docstring.\n\t(soap-invoke): Inline call to soap-parse-server-response.\n\n\t* lisp/net/soap-client.el (soap-decode-xs-complex-type):\n\tPrevent incorrect warning.\n\n\t* lisp/net/soap-client.el (soap-parse-server-response):\n\tRename soap-process-url-response.  Destroy the mime part.\n\t(soap-invoke): Call soap-parse-server-response.\n\n\t* lisp/net/soap-client.el: Update copyright date.\n\n\t* lisp/net/soap-client.el: Fix checkdoc issues.\n\n\t* lisp/net/soap-client.el: Fix indentation and long lines.\n\n\t* lisp/net/soap-client.el (soap-time-format): Remove variable.\n\t(soap-encode-xs-basic-type): Simplify date-time format detection.\n\t(soap-decode-xs-basic-type): Remove soap-time-format support.\n\n\t* lisp/net/soap-client.el (soap-process-url-response): New function.\n\t(soap-fetch-xml-from-url): Call soap-process-url-response.\n\t(soap-parse-wsdl-phase-1): New function.\n\t(soap-parse-wsdl-phase-2): Likewise.\n\t(soap-parse-wsdl-phase-3): Likewise.\n\t(soap-parse-wsdl-phase-4): Likewise.\n\t(soap-parse-wsdl-phase-5): Likewise.\n\t(soap-parse-wsdl): Call phase functions.\n\n\t* lisp/net/soap-client.el (soap-decode-xs-basic-type):\n\tRemove one-argument and call.\n\n\t* lisp/net/soap-client.el (soap-decode-date-time): Improve docstring.\n\n\t* lisp/net/soap-client.el (soap-xmlschema-imports): Remove variable.\n\t(soap-parse-schema): Add wsdl argument.  Look up XML schema\n\timports from wsdl.\n\t(soap-load-wsdl): Do not set soap-xmlschema-imports.\n\t(soap-parse-wsdl): Get XML schema imports from wsdl.\n\n\t* lisp/net/soap-client.el (soap-current-file): Remove variable.\n\t(soap-wsdl): Add current-file slot.\n\t(soap-fetch-xml-from-url): Add wsdl argument.  Look up current\n\tfile from wsdl.\n\t(soap-fetch-xml-from-file): Likewise.\n\t(soap-fetch-xml): Likewise.\n\t(soap-load-wsdl): Always create wsdl object first.\n\t(soap-parse-wsdl): Pass wsdl to soap-fetch-xml.\n\n\t* lisp/net/soap-client.el (soap-xs-element): Add is-group slot.\n\t(soap-xs-parse-element): Set is-group slot.\n\t(soap-resolve-references-for-xs-element): Skip is-group elements.\n\t(soap-xs-complex-type): Add is-group slot.\n\t(soap-xs-parse-complex-type): Set is-group slot.\n\t(soap-xs-parse-sequence): Parse xsd:group elements.\n\t(soap-resolve-references-for-xs-complex-type): Inline elements\n\tfrom referenced xsd:group nodes.\n\t(soap-parse-schema): Parse xsd:group nodes.\n\n\t* lisp/net/soap-client.el (soap-invoke):\n\tDon't set url-http-version to 1.0.\n\n\t* lisp/net/soap-client.el (soap-decode-xs-complex-type):\n\tAllow choice nodes to accept multiple values.\n\n\t* lisp/net/soap-client.el (soap-encode-body): Check parameters argument\n\tfor extra header values.\n\n\t* lisp/net/soap-client.el (soap-well-known-xmlns):\n\tAdd wsa and wsaw tags.\n\t(soap-operation): Add input-action and output-action slots.\n\t(soap-parse-operation): Parse wsaw:Action nodes.\n\t(soap-encode-body): Encode service-url for WS-Addressing.\n\t(soap-create-envelope): Likewise.\n\t(soap-invoke): Update soap-create-envelope call to provide\n\tservice-url argument.\n\n\t* lisp/net/soap-client.el (soap-decode-xs-complex-type):\n\tSupport xsi:type override attribute.\n\t(soap-decode-array): Likewise.\n\n\t* lisp/net/soap-client.el (soap-parse-schema):\n\tHandle location attribute.\n\n\t* lisp/net/soap-client.el (soap-decode-type): Check that multiRef\n\tmatched validation regexp.\n\n\t* lisp/net/soap-client.el (soap-encode-xs-simple-type):\n\tEncode xsd:list nodes.\n\t(soap-decode-xs-simple-type): Decode xsd:list nodes.\n\n\t* lisp/net/soap-client.el (soap-get-candidate-elements):\n\tFix reference handling.\n\n\t* lisp/net/soap-client.el (soap-xs-simple-type): Add is-list slot.\n\t(soap-xs-parse-simple-type): Call soap-xs-add-list for xsd:list nodes.\n\t(soap-xs-add-list): New function.\n\n\t* lisp/net/soap-client.el (soap-encode-xs-element): When a boolean is\n\texpected, interpret nil as \"false\".\n\n\t* lisp/net/soap-client.el (soap-make-xs-basic-types): Add gYearMonth,\n\tgYear, gMonthDay, gDay and gMonth.\n\n\t* lisp/net/soap-client.el (soap-time-format): New variable.\n\t(soap-encode-xs-basic-type): Handle dateTime, time, date,\n\tgYearMonth, gYear, gMonthDay, gDay and gMonth.\n\t(soap-decode-date-time): New function.\n\t(soap-decode-xs-basic-type): Use soap-decode-date-time.\n\n\t* lisp/net/soap-client.el (soap-encode-xs-basic-type): Validate value\n\tafter encoding.\n\t(soap-decode-xs-basic-type): Validate value before decoding.\n\n\t* lisp/net/soap-client.el (soap-validate-xs-basic-type): New function.\n\t(soap-validate-xs-simple-type): Call soap-validate-xs-basic-type.\n\n\t* lisp/net/soap-client.el (soap-xs-add-union): Append result to base\n\tinstead of overwriting it.\n\t(soap-validate-xs-simple-type): Add union support.\n\n\t* lisp/net/soap-client.el (soap-xs-add-restriction): Translate pattern\n\tto Emacs regexp using xsdre-translate.\n\t(soap-validate-xs-simple-type): Validate value against pattern.\n\n\t* lisp/net/soap-client.el (soap-xs-add-union): Preserve WSDL order of\n\tinline simpleType nodes.\n\t(soap-decode-type): Handle union types.\n\n\t* lisp/net/soap-client.el (soap-decode-xs-attributes): Decode basic-type\n\tattributes.\n\n\t* lisp/net/soap-client.el (soap-get-xs-attributes-from-groups): Rename\n\tfrom soap-xs-attribute-group-consolidate, all callers updated\n\t(soap-get-xs-attributes): Rename from\n\tsoap-xs-attributes-consolidate, all callers updated\n\n\t* lisp/net/soap-client.el (soap-xs-type): Add attribute-group slot.\n\t(soap-xs-attribute-group): New type.\n\t(soap-xs-parse-attribute-group): New function.\n\t(soap-resolve-references-for-xs-attribute-group): Likewise.\n\t(soap-xs-add-extension): Handle attribute groups.\n\t(soap-resolve-references-for-xs-simple-type): Likewise.\n\t(soap-xs-parse-complex-type): Likewise.\n\t(soap-xs-parse-extension-or-restriction): Likewise.\n\t(soap-resolve-references-for-xs-complex-type): Likewise.\n\t(soap-xs-attribute-group-consolidate): New function.\n\t(soap-xs-attributes-consolidate): Handle attribute groups.\n\t(soap-parse-schema): Likewise.\n\n\t* lisp/net/soap-client.el (soap-encode-xs-basic-type):\n\tFix boolean encoding.\n\n\t* lisp/net/soap-client.el (soap-encode-xs-complex-type): Print ref\n\telement names in warnings.\n\n\t* lisp/net/soap-client.el (soap-decode-xs-complex-type): Fix splicing.\n\n\t* lisp/net/soap-client.el (soap-decode-xs-complex-type):\n\tEliminate invalid warnings for choice types.\n\n\t* lisp/net/soap-client.el (soap-encode-xs-complex-type-attributes):\n\tAlso encode base type attributes.\n\n\t* lisp/net/soap-client.el (soap-encode-xs-complex-type): Fix compilation\n\twarning.  Print e-name in warnings, or element if e-name is nil.\n\n\t* lisp/net/soap-client.el (soap-xs-element): Add alternatives slot.\n\t(soap-xs-parse-element): Set substitution-group.\n\t(soap-resolve-references-for-xs-element): Populate alternatives slot.\n\t(soap-get-candidate-elements): New function.\n\t(soap-encode-xs-complex-type): Iterate through all candidate elements.\n\tHandle types with nil type indicator.  Fix warning logic.\n\n\t* lisp/net/soap-client.el (soap-current-wsdl): Move declaration\n\tearlier in the file to prevent compiler warning.\n\n\t* lisp/net/soap-client.el (soap-node-optional): New function.\n\t(soap-node-multiple): Likewise.\n\t(soap-xs-parse-element): Call soap-node-optional and\n\tsoap-node-multiple.\n\t(soap-xs-complex-type): Add optional? and multiple? slots.\n\t(soap-xml-get-children-fq): New function.\n\t(soap-xs-element-get-fq-name): Likewise.\n\t(soap-xs-complex-type-optional-p): Likewise.\n\t(soap-xs-complex-type-multiple-p): Likewise.\n\t(soap-xs-attributes-consolidate): Likewise.\n\t(soap-decode-xs-attributes): Likewise.\n\t(soap-decode-xs-complex-type): Decode types with nil type indicator.\n\tSupport children that use local namespaces.  Decode attributes.\n\tAdd type considerations to optional? and multiple? warnings.\n\n\t* lisp/net/soap-client.el (soap-xs-parse-extension-or-restriction):\n\tStore parsed attributes.\n\t(soap-encode-xs-complex-type-attributes): Encode custom attributes.\n\n\t* lisp/net/soap-client.el (soap-encode-xs-complex-type-attributes):\n\tDon't add the xsi:type attribute (Exchange refuses requests which have\n\tthis attribute).\n\n\t* lisp/net/soap-client.el, lisp/net/soap-inspect.el: Convert to lexical binding,\n\tcorrect compiler warnings about unused function arguments and\n\tlocal variables.\n\n\t* lisp/net/soap-client.el (soap-decode-xs-complex-type): Handle nil\n\ttype indicator.\n\t(soap-parse-envelope): Handle response headers.\n\t(soap-parse-response): Likewise.  Only return non-nil decoded values.\n\n\t* lisp/net/soap-client.el (soap-validate-xs-simple-type):\n\tReturn validated value.\n\n\t* lisp/net/soap-client.el (soap-xs-parse-element)\n\t(soap-xs-parse-simple-type)\n\t(soap-xs-parse-complex-type)\n\t(soap-parse-message)\n\t(soap-parse-operation): Add the current namespace to the element\n\tbeing created.\n\t(soap-resolve-references-for-xs-element)\n\t(soap-resolve-references-for-xs-simple-type)\n\t(soap-resolve-references-for-xs-complex-type)\n\t(soap-resolve-references-for-operation): Resolve the namespace to\n\tthe namespace tag.\n\t(soap-make-wsdl): specify a namespace tag when creating the xsd\n\tand soapenc namespaces\n\t(soap-wsdl-resolve-references): don't update namespace tags in\n\telements here\n\t(soap-parse-port-type): bind the urn: to soap-target-xmlns\n\t(soap-encode-body): don't add nil namespace tags to\n\tsoap-encoded-namespaces\n\n\t* lisp/net/soap-inspect.el: Use `soap-make-wsdl` to construct the object\n\tfor registering the soap-inspect method.  Make debbugs tests pass.\n\t* lisp/net/soap-client.el (soap-decode-any-type): Use soap-l2fq on the\n\ttype name, also skip string only nodes when decoding a structure.\n\t(soap-xs-parse-complex-type): (BUG) Dispatch parsing for choice\n\ttypes too.\n\t(soap-encode-body): Grab the header value from the param table.\n\n\t* lisp/net/soap-client.el (soap-should-encode-value-for-xs-element):\n\tNew function.\n\t(soap-encode-xs-element): Don't encode nil value unless needed.\n\n\t* lisp/net/soap-client.el (soap-bound-operation): New slot `soap-body`.\n\t(soap-parse-binding): Parse the message parts required in the body.\n\t(soap-encode-body): Encode only the parts that are declared to be\n\tpart of the body.\n\n\t* lisp/net/soap-client.el (soap-encode-xs-element): use the fq name\n\twhen writing out the tag.\n\t(soap-encode-body): Remove hack that inserts the xmlns in the\n\telement attributes list.\n\n\t* lisp/net/soap-client.el (soap-xs-attribute): Add \"default\" slot.\n\t(soap-xs-parse-attribute): Default slot is set from the XML\n\t\"fixed\" attribute.\n\t(soap-encode-xs-complex-type-attributes): Encode any attributes\n\tthat have a default value.  Also, don't put the xsi:nil attribute\n\twhen the complex type has no content anyway.\n\n\t* lisp/net/soap-client.el (soap-well-known-xmlns):\n\tAdd the xml namespace.\n\t(soap-local-xmlns): Start with the xml namespace.\n\t(soap-xml-node-first-child): Skip xsd:annotation nodes too.\n\t(soap-make-xs-basic-types): More xsd types added.\n\t(soap-encode-xs-basic-type, soap-decode-xs-basic-type):\n\tHandle \"language\", \"time\", \"date\", \"nonNegativeInteger\".\n\t(soap-resolve-references-for-xs-element): Don't signal an error if\n\tthe element does not have a type.\n\t(soap-xs-parse-simple-type): Subtypes are handled with ecase,\n\tadded stum for xsd:list.\n\t(soap-xs-add-union): Call soap-l2fq on all union members.\n\t(soap-xs-add-extension): Call soap-l2fq on the base member.\n\t(soap-resolve-references-for-xs-simple-type): Don't signal an\n\terror if the simple type has no base.\n\t(soap-resolve-references-for-xs-simple-type): Bugfix, call\n\tsoap-wsdl-get on each type of the base.\n\n\t* lisp/net/soap-client.el (soap-resolve-references-for-xs-attribute):\n\tReferenced type can be eiher a simple type or a basic type.\n\t(soap-xs-add-restriction)\n\t(soap-xs-parse-extension-or-restriction): Use `soap-l2fq' on base.\n\t(soap-make-xs-basic-types)\n\t(soap-encode-xs-basic-type, soap-decode-xs-basic-type):\n\tAdd support for more XMLSchema basic types.\n\t(soap-current-file, soap-xmlschema-imports): New defvars.\n\t(soap-parse-schema): Add locations from xsd:import tags to\n\t`soap-xmlschema-imports'.\n\t(soap-wsdl): Make destructor private.\n\t(soap-make-wsdl): New defun, SOAP-WSDL object constructor.\n\t(soap-wsdl-add-alias): Check if we try to replace aliases.\n\t(soap-fetch-xml-from-url, soap-fetch-xml-from-file)\n\t(soap-fetch-xml): New defuns.\n\t(soap-load-wsdl): Update to load the WSDL from either a file or\n\tan url.\n\t(soap-load-wsdl-from-url): Now an alias to `soap-load-wsdl'.\n\t(soap-parse-wsdl): Process wsdl:import tags and imports from\n\t`soap-xmlschema-imports'.\n\t* lisp/net/soap-client.el (soap-l2wk): Bugfix: call symbolp instead of\n\tsymbol-name.\n\t(soap-l2fq): Make the name part always a string.\n\t(soap-name-p): New defun, used for name tests.\n\n\t* lisp/net/soap-inspect.el (soap-sample-value-for-xs-complex-type):\n\tSupply sample values for choice types with a special tag.\n\t* lisp/net/soap-client.el (soap-encode-xs-complex-type):\n\tHandle anonymous elements correctly.\n\t(soap-encode-value): Accept nodes that have no namespace tag.\n\n\t* lisp/net/soap-client.el (soap-invoke): Encode the string for\n\t`url-request-data' as UTF-8.  Fixes issue 16.\n\n2015-10-24  Nicolas Petton  <nicolas@petton.fr>\n\n\tUpdate the new icon\n\n\tMove the E slightly to the right in the circle.\n\n\t* etc/images/icons/hicolor/128x128/apps/emacs.png:\n\t* etc/images/icons/hicolor/16x16/apps/emacs.png:\n\t* etc/images/icons/hicolor/24x24/apps/emacs.png:\n\t* etc/images/icons/hicolor/32x32/apps/emacs.png:\n\t* etc/images/icons/hicolor/48x48/apps/emacs.png:\n\t* etc/images/icons/hicolor/scalable/apps/emacs.svg:\n\t* nextstep/Cocoa/Emacs.base/Contents/Resources/Emacs.icns:\n\t* nt/icons/emacs.ico: New icom update.\n\n2015-10-24  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid missing inline functions from lisp.h in TAGS\n\n\t* src/lisp.h (LISP_MACRO_DEFUN): Mention in the commentary the\n\tneed to end each invocation with a semi-colon.\n\tAdd a semi-colon at the end of each invocation of LISP_MACRO_DEFUN\n\tand LISP_MACRO_DEFUN_VOID.  This is to avoid missing in TAGS\n\tinline functions defined immediately after each invocation, and\n\talso avoid tagging every invocation of these macros.\n\n2015-10-24  Eli Zaretskii  <eliz@gnu.org>\n\n\tA better fix for bug#21739\n\n\t* src/buffer.c (set_update_modelines_for_buf): New function.\n\t(Fkill_buffer): Use it to set the global variable\n\tupdate_mode_lines if the killed buffer was displayed in some\n\twindow.  Don't set windows_or_buffers_changed.  This is a better\n\tfix for bug#21739 than the previous fix, since it will cause only\n\tredisplay of mode lines, not of entire windows, but will still\n\tcatch attention of x_consider_frame_title in xdisp.c, which\n\tredraws the frame title.\n\n2015-10-24  Tassilo Horn  <tsdh@gnu.org>\n\n\t* lisp/dired-aux.el (dired-compress-files-alist): Add support for\n\ttar.bz2 and tar.xz archives.\n\n2015-10-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix infloop in redisplay introduced by a recent change\n\n\t* src/xdisp.c (redisplay_internal): Avoid inflooping when\n\tredisplaying the selected window sets the selected frame's\n\tredisplay flag.  (Bug#21745)\n\n2015-10-23  Nicolas Petton  <nicolas@petton.fr>\n\n\t* lisp/emacs-lisp/thunk.el: Better documentation.\n\n2015-10-23  Nicolas Petton  <nicolas@petton.fr>\n\n\tReplace the old icon for Windows and Mac OSX\n\n\t* nt/icons/emacs.ico:\n\t* nextstep/Cocoa/Emacs.base/Contents/Resources/Emacs.icns:\n\tUse the new icons.\n\n2015-10-23  Stephen Leake  <stephen_leake@stephe-leake.org>\n\n\t* lisp/emacs-lisp/package.el (package-autoload-ensure-default-file):\n\t`load-path' should contain only directory names.\n\n2015-10-23  Nicolas Petton  <nicolas@petton.fr>\n\n\tNew library thunk.el\n\n\tthunk.el is extracted from stream.el in ELPA, with additional tests.\n\n\t* lisp/emacs-lisp/thunk.el: New file.\n\t* test/automated/thunk-tests.el: New file.\n\t* etc/NEWS: Add information about thunk.el\n\n2015-10-23  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix bug#21669\n\n\t* lisp/filenotify.el (file-notify-rm-watch): Improve check for\n\tcalling low-level functions.\n\n\t* test/automated/file-notify-tests.el (file-notify--test-timeout):\n\tDecrase to 6 seconds for remote directories.\n\t(file-notify-test02-events): Expect different number of\n\t`attribute-changed' events for the local and remote cases.  Apply\n\tshort delays between the operations, in order to receive all\n\tevents in the remote case.  Combine `attribute-change' tests.\n\t(Bug#21669)\n\n2015-10-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tDecode the HTML source when displaying it in EWW\n\n\t* lisp/net/eww.el (eww-view-source): Decode the HTML source\n\taccording to its headers.\n\n2015-10-23  Nicolas Petton  <nicolas@petton.fr>\n\n\tNew default icon\n\n\t* etc/images/icons/hicolor/128x128/apps/emacs23.png:\n\t* etc/images/icons/hicolor/16x16/apps/emacs23.png:\n\t* etc/images/icons/hicolor/24x24/apps/emacs23.png:\n\t* etc/images/icons/hicolor/32x32/apps/emacs23.png:\n\t* etc/images/icons/hicolor/48x48/apps/emacs23.png:\n\t* etc/images/icons/hicolor/scalable/apps/emacs23.svg:\n\t* etc/images/icons/hicolor/scalable/mimetypes/emacs-document23.svg:\n\tMove the old logo files to emacs23.*.\n\t* etc/images/icons/hicolor/128x128/apps/emacs.png:\n\t* etc/images/icons/hicolor/16x16/apps/emacs.png:\n\t* etc/images/icons/hicolor/24x24/apps/emacs.png:\n\t* etc/images/icons/hicolor/32x32/apps/emacs.png:\n\t* etc/images/icons/hicolor/48x48/apps/emacs.png:\n\t* etc/images/icons/hicolor/scalable/apps/emacs.svg:\n\t* etc/images/icons/hicolor/scalable/mimetypes/emacs-document.svg:\n\tNew files.\n\t* etc/images/icons/README: Update the copyright information.\n\n2015-10-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix redisplay of frame title when current buffer is killed\n\n\t* src/buffer.c (Fkill_buffer): Set windows_or_buffers_changed to a\n\tnon-zero value, to redisplay more than just the affected windows.\n\t(Bug#21739)\n\n2015-10-23  Anders Lindgren  <andlind@gmail.com>\n\n\tNextStep maximization and NSTRACE rewrite\n\n\tFull-height, full-width, and maximized windows now cover the\n\tentire screen (except the menu bar), including the part where the\n\tsystem dock is placed.  The system zoom animation is no longer\n\tused.\n\n\tMade NonMaximized->FullWidth->FullHeight->NonMaximized restore the\n\toriginal size.\n\n\t* src/nsterm.m (ns_menu_bar_height): New function, return height of\n\tthe menu bar, or 0 when it's hidden.\n\t(constrain_frame_rect): New function for constraining a frame.\n\t(ns_constrain_all_frames): Set frame size explicitly rather than\n\trelying on the system doing it for us by writing back the current\n\tframe size.\n\t(windowWillUseStandardFrame): Register non-maximized width or\n\theight as new user size.  When entering full width or height,\n\tthe other size component is taken from the user size.\n\t(fullscreenState): New method for accessing the fullscreen state.\n\t(constrainFrameRect): Restrict frame to be placed under the menu bar,\n\tif present.  The old version, sometimes, restricted the height of a\n\tframe to the screen, this version never does this.\n\t(zoom): Perform zoom by setting the frame to the full size of the\n\tscreen (minus the menu bar).  The default system function, with the\n\tzoom animation, is no longer used, as the final frame size doesn't\n\tcover the entire screen.\n\n\tRework how to constrain resizing to the character grid.  The old\n\tsystem used \"resizeIncrements\" in NSWindows.  However, once a frame\n\twas resized so that it was not aligned to the text grid, it\n\tremained unaligned even after a resize.  In addition, it conflicted\n\twhen resizing a fullheight window.\n\n\t* src/nsterm.m (windowWillResize): Restrict frame size to text grid,\n\tunless when pixelwise frame resizing is enabled.\n\t(updateFrameSize, initFrameFromEmacs)\n\t(toggleFullScreen, handleFS): Don't set resizeIncrements.\n\n\tRedesign the NS trace system.  The call structure is represented\n\tusing indentations and vertical lines.  The NSTRACE macro accepts\n\tprintf-style arguments.  New macros for printing various\n\tinformation.\n\n\t* src/nsterm.h (NSTRACE_ENABLED): Macro to enable trace system.\n\t(NSTRACE, NSTRACE_WHEN, NSTRACE_UNLESS): Macros to start a new\n\tblock (typically a function), accept printf-style arguments.\n\t(NSTRACE_MSG): Macro for extra information, accepts\n\tprintf-style arguments.\n\t(NSTRACE_what): Macros for printing various types.\n\t(NSTRACE_FMT_what): Macro with printf format string snippets.\n\t(NSTRACE_ARG_what): Macros for passing printf-style arguments,\n\tcorresponds to NSTRACE_FMT_what.\n\t(NSTRACE_RETURN): Macro to print return value, accept\n\tprintf-style arguments.\n\t(NSTRACE_RETURN_what): Macros to print return value for\n\tvarious types.\n\n\t* src/nsterm.m: Remove old NSTRACE macro\n\t* src/nsterm.m (nstrace_num): Trace counter.\n\t(nstrace_depth): Current call depth.\n\t(nstrace_leave): NSTRACE support function, called when the\n\tlocal variable \"nstrace_enabled\" goes out of scope using the\n\t\"cleanup\" extension.\n\t(ns_print_fullscreen_type_name): NSTRACE_FSTYPE support function.\n\t(constrain_frame_rect, ns_constrain_all_frames)\n\t(ns_update_auto_hide_menu_bar, ns_update_begin)\n\t(ns_update_window_begin, update_window_end, ns_update_end)\n\t(ns_focus, ns_unfocus, ns_ring_bell, ns_frame_raise_lower)\n\t(ns_frame_rehighlight, x_make_frame_visible)\n\t(x_make_frame_invisible, x_iconify_frame, x_free_frame_resources)\n\t(x_destroy_window, x_set_offset, x_set_window_size)\n\t(ns_fullscreen_hook, ns_lisp_to_color, ns_color_to_lisp)\n\t(ns_defined_color, frame_set_mouse_pixel_position)\n\t(note_mouse_movement, ns_mouse_position, ns_frame_up_to_date)\n\t(ns_define_frame_cursor, x_get_keysym_name, ns_redraw_scroll_bars)\n\t(ns_clear_frame, ns_clear_frame_area, ns_scroll_run)\n\t(ns_after_update_window_line, ns_shift_glyphs_for_insert)\n\t(dumpcursor, ns_draw_vertical_window_border)\n\t(ns_draw_window_divider, ns_draw_relief)\n\t(ns_dumpglyphs_box_or_relief, ns_maybe_dumpglyphs_background)\n\t(ns_dumpglyphs_image, ns_draw_glyph_string, ns_send_appdefined)\n\t(ns_read_socket, ns_select, ns_set_vertical_scroll_bar)\n\t(ns_set_horizontal_scroll_bar, ns_condemn_scroll_bars)\n\t(ns_redeem_scroll_bar, ns_judge_scroll_bars, ns_delete_terminal)\n\t(ns_create_terminal, ns_term_init, sendEvent)\n\t(applicationDidFinishLaunching, applicationDidBecomeActive)\n\t(timeout_handler, fd_handler, EmacsView_dealloc, changeFont)\n\t(acceptsFirstResponder, resetCursorRects, keyDown, mouseDown)\n\t(deltaIsZero, rightMouseDown, otherMouseDown, mouseUp)\n\t(rightMouseUp, otherMouseUp, scrollWheel, mouseMoved)\n\t(mouse_autoselect_window, in_window, mouseDragged)\n\t(rightMouseDragged, otherMouseDragged, windowShouldClose)\n\t(updateFrameSize, windowWillResize, windowDidResize)\n\t(windowDidBecomeKey, windowDidResignKey, windowWillMiniaturize)\n\t(initFrameFromEmacs, windowDidMove, windowDidDeminiaturize)\n\t(windowDidExpose, windowDidMiniaturize, windowWillEnterFullScreen)\n\t(windowDidEnterFullScreen, windowWillExitFullScreen)\n\t(windowDidExitFullScreen, toggleFullScreen, handleFS, setFSValue)\n\t(mouseEntered, mouseExited, menuDown, toolbarClicked, drawRect)\n\t(draggingEntered, performDragOperation, validRequestorForSendType)\n\t(setMiniwindowImage, constrainFrameRect, performZoom, zoom)\n\t(EmacsScroller_initFrame, EmacsScroller_setFrame)\n\t(EmacsScroller_dealloc, condemn, reprieve, judge)\n\t(resetCursorRects, setPosition, EmacsScroller_mouseDown)\n\t(EmacsScroller_mouseDragged, syms_of_nsterm): Use new trace system.\n\n\t* src/nsfns.m: Remove old NSTRACE macro\n\t* src/nsfns.m (x_set_icon_name, ns_set_name, x_explicitly_set_name)\n\t(x_implicitly_set_name, x_set_title, ns_set_name_as_filename)\n\t(ns_implicitly_set_icon_type, x_set_icon_type): Use new trace system.\n\n\t* src/nsimage.m: Remove old NSTRACE macro\n\t* src/nsimage.m (ns_image_from_XBM, ns_image_for_XPM)\n\t(ns_image_from_bitmap_file, ns_load_image): Use new trace system.\n\n\t* src/nsmenu.m: Remove old NSTRACE macro\n\t* src/nsmenu.m (ns_update_menubar, ns_menu_show, ns_popup_dialog):\n\tUse new trace system.\n\n2015-10-22  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\tNo need to use eval-and-compile\n\n\t* lisp/gnus/auth-source.el: Do require epg (when compiling) before\n\tautoload epg functions.\n\n2015-10-22  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\tFix auth-source-epa-make-gpg-token compilation (bug#21724)\n\n\t* lisp/gnus/auth-source.el: Add eval-and-compile to autoloads for\n\tepg-context-set-passphrase-callback, epg-decrypt-string, and\n\tepg-encrypt-string; require epg when compiling for the setf-method\n\tfor epg-context-armor. (bug#21724)\n\n2015-10-22  Eli Zaretskii  <eliz@gnu.org>\n\n\tInclude file cleanup for w32 files in src directory\n\n\t* src/w32xfns.c: Don't include keyboard.h, window.h, charset.h,\n\tfontset.h, blockinput.h.\n\t* src/w32uniscribe.c: Don't include dispextern.h, character.h,\n\tcharset.h, fontset.h.\n\t* src/w32term.c: Don't include systty.h, systime.h, charset.h,\n\tcharacter.h, ccl.h, dispextern.h, disptab.h, intervals.h,\n\tprocess.h, atimer.h, keymap.h, w32heap.h.  Include bitmap/gray.xbm\n\tin an ifdef-ed away block.\n\tInclude fcntl.h for CYGWIN.\n\t(set_frame_param): Remove unused function.\n\t* src/w32select.c: Don't include charset.h and composite.h.\n\t(setup_config, Fw32_get_clipboard_data): Avoid compiler warnings\n\tdue to pointer signedness mismatches.\n\t* src/w32reg.c (w32_get_string_resource): Avoid compiler warnings\n\tdue to pointer signedness mismatches.\n\t* src/w32proc.c: Include unistd.h.  Don't include systime.h,\n\tprocess.h, dispextern.h.\n\t(sys_spawnve, Fw32_short_file_name, Fw32_long_file_name)\n\t(Fw32_application_type): Avoid compiler warnings due to pointer\n\tsignedness mismatches.\n\t* src/w32menu.c: Don't include keymap.h, termhooks.h, window.h,\n\tcharacter.h, charset.h, dispextern.h.\n\t(simple_dialog_show, add_menu_item): Avoid compiler warnings due\n\tto pointer signedness mismatches.\n\t* src/w32inevt.c: Don't include dispextern.h, window.h,\n\ttermhooks.h, w32heap.h.\n\t* src/w32font.c: Don't include dispextern.h, character.h,\n\tcharset.h, fontset.h, font.h.\n\t(intern_font_name, add_font_entity_to_list)\n\t(registry_to_w32_charset, w32_to_x_charset, fill_in_logfont)\n\t(list_all_matching_fonts): Avoid compiler warnings due to pointer\n\tsignedness mismatches.\n\t* src/w32fns.c: Don't include character.h, intervals.h,\n\tdispextern.h, epaths.h, charset.h, ccl.h, fontset.h, systime.h,\n\ttermhooks.h, w32heap.h, bitmap/gray.xbm, font.h, w32font.h.\n\t(w32_color_map_lookup, add_system_logical_colors_to_map)\n\t(x_decode_color, x_set_name, FPRINTF_WM_CHARS, Fxw_color_defined_p)\n\t(Fxw_color_values, x_display_info_for_name, Fset_message_beep)\n\t(x_create_tip_frame, Fx_file_dialog, Fsystem_move_file_to_trash)\n\t(w32_parse_hot_key, Ffile_system_info, w32_kbd_patch_key): Avoid\n\tcompiler warnings, mainly due to pointer signedness mismatches.\n\t(unwind_create_frame_1): Remove unused function.\n\t* src/w32console.c: Don't include character.h, disptab.h, frame.h,\n\twindow.h, termhooks.h, dispextern.h.\n\t(w32con_write_glyphs, w32con_write_glyphs_with_face): Fix pointer\n\tsignedness mismatch.\n\t* src/w32.c: Include c-strcase.h and systty.h.  Don't include\n\tw32heap.h.\n\n2015-10-22  Tassilo Horn  <tsdh@gnu.org>\n\n\tImprove doc-view wrt. auto-revert-mode\n\n\t* lisp/doc-view.el (doc-view-revert-buffer): Don't revert when file\n\tis corrupted (bug#21729).\n\t(doc-view-mode): Set doc-view-revert-buffer as revert-buffer-function.\n\n2015-10-22  Oleh Krehel  <ohwoeowho@gmail.com>\n\n\tDescribe dired-do-compress-to in the manual\n\n\t* etc/NEWS: Update.\n\n\t* lisp/dired-aux.el: Fix typo.\n\n\t* doc/emacs/dired.texi: Add entry.\n\n2015-10-22  J\u00fcrgen H\u00f6tzel  <juergen@archlinux.org>\n\n\tFurther fix for proper locale handling in tramp-gvfs.el\n\n\t* lisp/net/tramp-gvfs.el (tramp-gvfs-handle-file-attributes):\n\tJust suppress LC_MESSAGES locale category settings.\n\n2015-10-21  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tNew lispref section \u201cSecurity Considerations\u201d\n\n\tThis attempts to document some of the issues recently discussed\n\ton emacs-devel, and to indicate other such issues.  The section\n\tcould be a lot longer.\n\t* doc/lispref/os.texi (Security Considerations):\n\tNew node.\n\t* doc/lispref/elisp.texi (Top):\n\t* doc/lispref/processes.texi (Shell Arguments):\n\t* lisp/subr.el (shell-quote-argument):\n\t* src/callproc.c (syms_of_callproc):\n\tReference it.\n\n2015-10-21  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from gnulib\n\n\tThis incorporates:\n\t2015-10-18 stdalign: work around pre-4.9 GCC x86 bug\n\t2015-10-18 time_rz: avoid warning from bleeding-edge gcc's -Wnonnull\n\t* doc/misc/texinfo.tex, lib/stdalign.in.h, lib/time_rz.c:\n\tCopy from gnulib.\n\n2015-10-21  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\t* lisp/gnus/mailcap.el (mailcap-mime-data): Remove fboundp checks.\n\t(mailcap-viewer-passes-test): Do it instead.  Thanks to Stefan Monnier.\n\n2015-10-21  Ken Brown  <kbrown@cornell.edu>\n\n\tFurther include-file cleanup\n\n\t* src/sheap.c: Include stdlib.h.\n\t* src/unexcw.c: Include string.h.\n\n2015-10-21  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix logic in 'server-kill-emacs-query-function'\n\n\t* lisp/server.el (server-kill-emacs-query-function): Correct the\n\tlogic that controls whether the user is asked for confirmation.\n\t(Bug#21723)\n\n2015-10-21  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/isearch.el (isearch-search-fun-default): Simplify logic.\n\t(isearch--lax-regexp-function-p): New function.\n\n2015-10-21  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/isearch.el: Support lax-whitespace in regexp-function searches.\n\t(isearch-search-fun-default): Let-bind `search-spaces-regexp'\n\taround `isearch-regexp-function'.\n\n2015-10-21  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/isearch.el: Rename word search to regexp-function search.\n\t`isearch-word' went well beyond its original purpose, and the name\n\tno longer makes sense.  It is now called\n\t`isearch-regexp-function', and its value should always be a function\n\tthat converts a string to a regexp (though setting it to t is still\n\tsupported for now).\n\t(isearch-word): Make obsolete.\n\t(isearch-regexp-function): New variable.\n\t(isearch-mode, isearch-done, isearch--state, isearch--set-state)\n\t(with-isearch-suspended, isearch-toggle-regexp)\n\t(isearch-toggle-word, isearch-toggle-symbol)\n\t(isearch-toggle-character-fold, isearch-query-replace)\n\t(isearch-occur, isearch-highlight-regexp)\n\t(isearch-search-and-update, isearch-message-prefix)\n\t(isearch-search-fun-default, isearch-search)\n\t(isearch-lazy-highlight-new-loop, isearch-lazy-highlight-search):\n\tUse it.\n\t(isearch-lazy-highlight-regexp-function): New var.\n\t(isearch-lazy-highlight-word): Make obsolete.\n\t(isearch--describe-regexp-mode): New function.\n\t(isearch--describe-word-mode): Make obsolete.\n\n\t* lisp/info.el (Info-isearch-search):\n\t* lisp/replace.el (replace-search, replace-highlight):\n\t* lisp/obsolete/longlines.el (longlines-search-function):\n\t* lisp/hexl.el (hexl-isearch-search-function):\n\t* lisp/cedet/semantic/senator.el (senator-isearch-search-fun):\n\tUse the new var.\n\n2015-10-21  Oleh Krehel  <ohwoeowho@gmail.com>\n\n\tAdd dired-do-compress-to command bound to \"c\"\n\n\t* lisp/dired-aux.el (dired-shell-command): Use the caller's\n\t  `default-directory', return the result of `process-file'.\n\t(dired-compress-file-suffixes): Add comment on why \"tar -zxf\" isn't\n\tused by default.\n\t(dired-compress-files-alist): New defvar.\n\t(dired-do-compress-to): New command.\n\n\t* lisp/dired.el (dired-mode-map): Bind `dired-do-compress-to' to \"c\".\n\t(dired-do-compress-to): Add an autoload entry.\n\n\t* etc/NEWS: Add two entries.\n\n2015-10-21  Tassilo Horn  <tsdh@gnu.org>\n\n\tMake RefTeX work with LaTeX subfiles package\n\n\t* lisp/textmodes/reftex.el (reftex-TeX-master-file): Recognize subfiles\n\tdocument class argument as master file for referencing purposes.\n\n2015-10-21  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\t* lisp/gnus/mailcap.el (mailcap-mailcap-entry-passes-test): Doc fix.\n\n2015-10-20  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tInclude-file cleanup for src directory\n\n\tOmit \u2018#include \"foo.h\"\u2019 unless the file needs foo.h (Bug#21707).\n\tIn a few cases, add \u2018#include \"foo.h\"\u2019 if the file needs foo.h\n\tbut does not include it directly.  As a general rule, a source\n\tfile should include foo.h if it needs the interfaces that foo.h\n\tdefines.\n\t* src/alloc.c: Don\u2019t include process.h.  Include dispextern.h,\n\tsystime.h.\n\t* src/atimer.c: Don\u2019t include blockinput.h.\n\t* src/buffer.c: Include coding.h, systime.h.  Don\u2019t include\n\tkeyboard.h, coding.h.\n\t* src/callint.c: Don\u2019t include commands.h, keymap.h.\n\t* src/callproc.c: Don\u2019t include character.h, ccl.h, composite.h,\n\tsystty.h, termhooks.h.\n\t* src/casetab.c: Don\u2019t include character.h.\n\t* src/category.c: Don\u2019t include charset.h, keymap.h.\n\t* src/ccl.h: Don\u2019t include character.h.\n\t* src/character.c: Don\u2019t include charset.h.\n\t* src/charset.c: Don\u2019t include disptab.h.\n\t* src/chartab.c: Don\u2019t include ccl.h.\n\t* src/cm.c: Don\u2019t include frame.h, termhooks.h.\n\t* src/cmds.c: Don\u2019t include window.h, dispextern.h.\n\t* src/coding.c: Don\u2019t include window.h, frame.h.\n\t* src/composite.c: Include composite.h.  Don\u2019t include window.h,\n\tfont.h.\n\t* src/data.c: Don\u2019t include syssignal.h, termhooks.h, font.h.\n\t* src/dbusbind.c: Don\u2019t include frame.h.\n\t* src/decompress.c: Don\u2019t include character.h.\n\t* src/dired.c: Don\u2019t include character.h, commands.h, charset.h.\n\t* src/dispnew.c: Don\u2019t include character.h, indent.h, intervals.h,\n\tprocess.h, timespec.h.  Include systime.h.\n\t* src/doc.c: Include coding.h.  Don\u2019t include keyboard.h.\n\t* src/editfns.c: Include composite.h.  Don\u2019t include frame.h.\n\t* src/emacs.c: Include fcntl.h, coding.h.  Don\u2019t include\n\tcommands.h, systty.h..\n\t* src/fileio.c: Don\u2019t include intervals.h, dispextern.h.\n\tInclude composite.h.\n\t* src/filelock.c: Don\u2019t include character.h, systime.h.\n\t* src/fns.c: Don\u2019t include time.h, commands.h, keyboard.h,\n\tkeymap.h, frame.h, blockinput.h, xterm.h.  Include composite.h.\n\t* src/font.c: Include termhooks.h.\n\t* src/font.h: Don\u2019t include ccl.h, frame.h.  Add forward decls of\n\tstruct composition_it, struct face, struct glyph_string.\n\t* src/fontset.c: Don\u2019t include buffer.h, ccl.h, keyboard.h,\n\tintervals.h, window.h, termhooks.h.\n\t* src/frame.c: Don\u2019t include character.h, commands.h, font.h.\n\t* src/frame.h: Don\u2019t include dispextern.h.\n\t* src/fringe.c: Don\u2019t include character.h.\n\t* src/ftcrfont.c: Don\u2019t include dispextern.h, frame.h,\n\tcharacter.h, charset.h, fontset.h.\n\t* src/ftfont.c: Don\u2019t include frame.h, blockinput.h, coding.h,\n\tfontset.h.\n\t* src/ftxfont.c: Don\u2019t include dispextern.h, character.h,\n\tcharset.h, fontset.h.\n\t* src/gfilenotify.c: Don\u2019t include frame.h, process.h.\n\t* src/gtkutil.c: Include dispextern.h, frame.h, systime.h.\n\tDon\u2019t include syssignal.h, buffer.h, charset.h, font.h.\n\t* src/gtkutil.h: Don\u2019t include frame.h.\n\t* src/image.c: Include fcntl.h and stdio.h instead of sysstdio.h.\n\tDon\u2019t include character.h.\n\t* src/indent.c: Don\u2019t include keyboard.h, termchar.h.\n\t* src/inotify.c: Don\u2019t include character.h, frame.h.\n\t* src/insdel.c: Include composite.h.  Don\u2019t include blockinput.h.\n\t* src/intervals.c: Don\u2019t include character.h, keyboard.h.\n\t* src/intervals.h: Don\u2019t include dispextern.h, composite.h.\n\t* src/keyboard.c: Don\u2019t include sysstdio.h, disptab.h, puresize.h.\n\tInclude coding.h.\n\t* src/keyboard.h: Don\u2019t incldue systime.h.\n\t* src/keymap.c: Don\u2019t include charset.h, frame.h.\n\t* src/lread.c: Include dispextern.h and systime.h.\n\tDon\u2019t include frame.h.  Include systime.h.\n\t* src/macros.c: Don\u2019t include commands.h, character.h, buffer.h.\n\t* src/menu.c: Include character.h, coding.h.  Don\u2019t include\n\tdispextern.h.\n\t* src/menu.h: Don\u2019t include systime.h.\n\t* src/minibuf.c: Don\u2019t include commands.h, dispextern.h, syntax.h,\n\tintervals.h, termhooks.h.\n\t* src/print.c: Include coding.h.  Don\u2019t include keyboard.h,\n\twindow.h, dispextern.h, termchar.h, termhooks.h, font.h.\n\tAdd forward decl of struct terminal.\n\t* src/process.c: Don\u2019t include termhooks.h, commands.h,\n\tdispextern.h, composite.h.\n\t* src/region-cache.c: Don\u2019t include character.h.\n\t* src/scroll.c: Don\u2019t include keyboard.h, window.h.\n\t* src/search.c: Don\u2019t include category.h, commands.h.\n\t* src/sound.c: Don\u2019t include dispextern.h.\n\t* src/syntax.c: Don\u2019t include command.h, keymap.h.\n\t* src/sysdep.c: Don\u2019t include window.h, dispextern.h.\n\t* src/systime.h: Use \u2018#ifdef emacs\u2019, not \u2018#ifdef EMACS_LISP_H\u2019,\n\t* src/term.c: Don\u2019t include systty.h, intervals.h, xterm.h.\n\t* src/terminal.c: Include character.h.\n\tDon\u2019t include charset.h, coding.h.\n\t* src/textprop.c: Don\u2019t include character.h.\n\t* src/undo.c: Don\u2019t include character.h, commands.h, window.h.\n\t* src/unexsol.c: Don\u2019t include character.h, charset.h.\n\t* src/widget.c: Include widget.h.  Don\u2019t include keyboard.h,\n\twindow.h, dispextern.h, blockinput.h, character.h, font.h.\n\t* src/widgetprv.h: Don\u2019t include widget.h.\n\t* src/window.c: Don\u2019t include character.h, menu.h, intervals.h.\n\t* src/xdisp.c: Include composite.h, systime.h.  Don\u2019t include\n\tmacros.h, process.h.\n\t* src/xfaces.c: Don\u2019t include charset.h, keyboard.h, termhooks.h,\n\tintervals.h.\n\t* src/xfns.c: Don\u2019t include menu.h, character.h, intervals.h,\n\tepaths.h, fontset.h, systime.h, atimer.h, termchar.h.\n\t* src/xfont.c: Don\u2019t include dispextern.h, fontset.h, ccl.h.\n\t* src/xftfont.c: Don\u2019t include dispextern.h, character.h, fontset.h.\n\t* src/xgselect.c: Don\u2019t include timespec.h, frame.h.\n\tInclude systime.h.\n\t* src/xgselect.h: Don\u2019t include time.h.\n\tUse a forward decl to struct timespec instead.\n\t* src/xmenu.c: Don\u2019t include keymap.h, character.h, charset.h,\n\tdispextern.h.  Include systime.h.\n\t* src/xml.c: Don\u2019t include character.h.\n\t* src/xrdb.c [USE_MOTIF]: Don\u2019t include keyboard.h.\n\t* src/xselect.c: Don\u2019t include dispextern.h, character.h,\n\tbuffer.h, process.h.\n\t* src/xsmfns.c: Don\u2019t include systime.h, sysselect.h.\n\t* src/xterm.c: Don\u2019t include syssignal.h, charset.h, disptab.h,\n\tintervals.h process.h, keymap.h, xgselect.h.  Include composite.h.\n\n2015-10-20  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t(/ N) now returns the reciprocal of N\n\n\tThis is more compatible with Common Lisp and XEmacs (Bug#21690).  See:\n\thttp://lists.gnu.org/archive/html/emacs-devel/2015-10/msg01053.html\n\t* lisp/color.el (color-hue-to-rgb, color-hsl-to-rgb)\n\t(color-xyz-to-srgb, color-xyz-to-lab):\n\t* lisp/emacs-lisp/cl-extra.el (cl-float-limits):\n\t* lisp/net/shr-color.el (shr-color-hue-to-rgb)\n\t(shr-color-hsl-to-rgb-fractions):\n\tExploit the change to simplify the code a bit.\n\t* lisp/emacs-lisp/bytecomp.el (byte-compile-quo):\n\tDon\u2019t complain about single-argument calls to \u2018/\u2019.\n\t* src/data.c (arith_driver, float_arith_driver):\n\tImplement the change.\n\n2015-10-20  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tCall vc-dir-refresh after stash operations\n\n\t* lisp/vc/vc-git.el (vc-git-stash-apply-at-point)\n\t(vc-git-stash-pop-at-point): Call vc-dir-refresh (bug#13960).\n\n\t* lisp/vc/vc-dir.el (vc-dir-resynch-file): Expand FNAME as well,\n\tsince it can be abbreviated (as returned by vc-find-root).\n\n2015-10-20  Dmitry Gutov  <dgutov@yandex.ru>\n\n\t* lisp/vc/vc-svn.el:\n\t* lisp/vc/vc-mtn.el:\n\t* lisp/vc/vc-hg.el:\n\t* lisp/vc/vc-cvs.el:\n\t* lisp/vc/vc-git.el:\n\t* lisp/vc/vc-bzr.el: Don't declare vc-exec-after anymore.\n\tIts usages have been replaced with vc-run-delayed.\n\n2015-10-20  Dima Kogan  <dima@secretsauce.net>\n\n\tFix memory leak in fontset handling\n\n\t* src/font.c (copy_font_spec): Make a deep copy of the input\n\targument FONT.  (Bug#21651)\n\n2015-10-20  Michael Sperber  <mike@xemacs.org>\n\n\t* lisp/gnus/mailcap.el (mailcap-mime-data):\n\tConditonalize `doc-view-mode', which does not exist on XEmacs.\n\n2015-10-20  Oleh Krehel  <ohwoeowho@gmail.com>\n\n\tUpdate the way directories are compressed\n\n\t* lisp/dired-aux.el (dired-compress-file-suffixes): Update the recipe\n\tfor *.tar.gz decompression to use a pipe.\n\tAdd an entry for the default directory compression (to *.tar.g).\n\t(dired-compress-file): Update.\n\n\tSee https://lists.gnu.org/archive/html/emacs-devel/2015-10/msg00949.html.\n\n2015-10-20  Michael Sperber  <mike@xemacs.org>\n\n\tUnbreak `group' option for `mail-sources'\n\n\t* lisp/gnus/nnml.el (nnml-retrieve-groups, nnml-request-scan):\n\t* lisp/gnus/nnmail.el (nnmail-get-new-mail-per-group)\n\t(nnmail-get-new-mail-1): Unbreak `group' option for `mail-sources'.\n\n2015-10-19  Nicolas Petton  <nicolas@petton.fr>\n\n\tNew function seq-position\n\n\t* lisp/emacs-lisp/seq.el (seq-position): New function.\n\t* test/automated/seq-tests.el: New tests for seq-position.\n\t* doc/lispref/sequences.texi: Add documentation for `seq-position'.\n\n2015-10-19  Ken Brown  <kbrown@cornell.edu>\n\n\tEnable --with-wide-int build on 32-bit Cygwin\n\n\t* src/sheap.c (STATIC_HEAP_SIZE): Remove distinction between x86\n\tand x86_64 to enable --with-wide-int build on 32-bit Cygwin.\n\n2015-10-19  Glenn Morris  <rgm@gnu.org>\n\n\t* doc/emacs/ack.texi (Acknowledgments): Small, sad, update.\n\n2015-10-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tResurrect image loading under auto-image-file-mode\n\n\t* src/image.c (x_find_image_fd): Handle the case of -2 returned by\n\t'openp' specially.  This special case was lost in the changes on\n\t2015-08-18.  (Bug#21685)\n\n2015-10-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix return value of 'set-file-extended-attributes'\n\n\t* lisp/files.el (set-file-extended-attributes): Return non-nil\n\twhen setting either ACLs or SELinux context succeeds.  Document\n\tthe return value.  (Bug#21699)\n\n\t* doc/lispref/files.texi (Changing Files): Document the return\n\tvalue of set-file-extended-attributes.\n\n2015-10-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of functions that change files\n\n\t* doc/lispref/files.texi (Changing Files): Document that these\n\tfunctions signal an error on failure.\n\n2015-10-18  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix doc string of 'shell-quote-argument'\n\n\t* lisp/subr.el (shell-quote-argument): Doc fix.  (Bug#21702)\n\n2015-10-18  Michael Albinus  <michael.albinus@gmx.de>\n\n\tSome minor Tramp changes\n\n\t* doc/misc/tramp.texi (Obtaining Tramp): Add http git cloning.\n\n\t* lisp/net/tramp.el (tramp-handle-make-auto-save-file-name):\n\tExpand `tramp-auto-save-directory'.\n\n2015-10-18  Michael Albinus  <michael.albinus@gmx.de>\n\n\tMinor edits in Tramp\n\n\t* lisp/net/tramp-adb.el (directory-listing-before-filename-regexp):\n\tDeclare it.\n\n\t* lisp/net/tramp-compat.el (directory-listing-before-filename-regexp):\n\tRemove declaration.\n\n2015-10-17  Mark Oteiza  <mvoteiza@udel.edu>\n\n\t* lisp/emacs-lisp/eldoc.el: Add back-to-indentation to the command list.\n\n2015-10-17  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid crashes when redisplayng a window changes faces or fonts\n\n\t* src/xdisp.c (redisplay_internal): If redisplaying the selected\n\twindow or one of the frames turns on the frame's 'redisplay' flag,\n\tredisplay again.  (Bug#21428)\n\n\t* src/frame.c (x_set_font): Set the frame's 'fonts_changed' flag.\n\n2015-10-17  Michael Albinus  <michael.albinus@gmx.de>\n\n\tSolve timimg issues in file-notify-tests.el\n\n\t* test/automated/file-notify-tests.el (file-notify-test02-events):\n\tRectify `attribute-change' tests.  There are timing issues with\n\tgfilenotify.  (Bug#21669)\n\n2015-10-16  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix quoting of data within htmlfontify doc\n\n\t* doc/misc/htmlfontify.texi (Data Structures, Customization):\n\tFix quoting of data structures.  A Lisp quote is needed only\n\twhen data appears within Lisp code.\n\n2015-10-16  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el: Reload archive-contents if\n\tpriorities change.\n\t(package--old-archive-priorities): New variable.\n\t(package-read-all-archive-contents, package-menu--refresh): Use it\n\tto decide when the `package-archive-contents' needs to be read\n\tagain.\n\n2015-10-16  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMake src headers idempotent and standalone\n\n\tRedo src/*.h so that each include file is idempotent (that is, can\n\tbe included multiple times with the latter inclusions having no\n\teffect) and standalone (that is, can be included by itself,\n\twith no include file other than config.h needed as a prerequisite).\n\tThis is standard practice in GNU programs nowadays.\n\t* lwlib/lwlib-widget.h, src/buffer.h, src/category.h, src/character.h:\n\t* src/charset.h, src/coding.h, src/commands.h, src/disptab.h:\n\t* src/fontset.h, src/gnutls.h, src/indent.h, src/keymap.h, src/macros.h:\n\t* src/regex.h [emacs]:\n\t* src/syntax.h, src/systty.h, src/termhooks.h:\n\tInclude lisp.h, for Lisp_Object.\n\t* src/buffer.h, src/category.h, src/cm.h, src/commands.h, src/disptab.h:\n\t* src/indent.h, src/intervals.h, src/keyboard.h, src/macros.h:\n\t* src/process.h, src/puresize.h, src/region-cache.h, src/syntax.h:\n\t* src/syssignal.h, src/sysstdio.h, src/systty.h, src/termchar.h:\n\t* src/termopts.h, src/tparam.h, src/unexec.h:\n\tProtect against multiple inclusion.\n\t* src/buffer.h: Include character.h, for STRING_CHAR.\n\t* src/emacsgtkfixed.h (struct frame):\n\t* src/fontset.h (struct face):\n\t* src/region-cache.h (struct buffer):\n\t* src/termhooks.h (struct glyph):\n\t* src/xsettings.h (struct x_display_info):\n\tAdd possibly-forward decl.\n\t* src/syntax.h: Include buffer.h, for BVAR.\n\t* src/sysselect.h: Include lisp.h, for eassume.\n\t* src/termchar.h: Include <stdio.h>, for FILE.\n\t* src/widget.h: Include <X11/IntrinsicP.h>, for Widget.\n\t* src/xsettings.h: Include <X11/Xlib.h>, for XEvent.\n\n2015-10-16  J\u00fcrgen H\u00f6tzel  <juergen@archlinux.org>\n\n\tHandle symlink targets containing spaces in tramp-gvfs.el\n\n\t* lisp/net/tramp-gvfs.el (tramp-gvfs-handle-file-attributes):\n\tHandle symlink targets containing spaces.\n\n2015-10-16  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/custom.el (custom-theme-load-path): Demote to defvar.\n\n\t`custom-theme-load-path' was a defcustom, but it shouldn't be for the\n\tsame reason that `load-path' shouldn't.  Setting it via the customize\n\tinterface is a trap for the user.\n\n\tInstalled themes commonly add themselves to this variable, which means\n\tits value is not fit for being saved (it will permanently remember dirs\n\tthat don't exist anymore).\n\n\tThis is aggravated by the fact that Emacs always applies the `user'\n\ttheme on top of any theme that's loaded, since this will apply the old\n\tvariable value and remove any new directories that had been recently\n\tadded by themes themselves.\n\n\tNot to mention, we already have `custom-theme-directory', which is safe\n\tto customize.\n\n2015-10-16  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/mpc.el: Rename the new toggling commands.\n\t(mpc-toggle-consume, mpc-toggle-repeat, mpc-toggle-single)\n\t(mpc-toggle-shuffle): Add \"-toggle\" in the name.\n\n2015-10-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove the doc string of 'completion-boundaries'\n\n\t* lisp/minibuffer.el (completion-boundaries): Rename the argument\n\tTABLE to COLLECTION, for consistency with other high-level\n\tcompletion functions.  Document how COLLECTION is called if it\n\tis a function.  (Bug#21644)\n\n2015-10-16  Oleh Krehel  <ohwoeowho@gmail.com>\n\n\t* lisp/dired-aux.el (dired-shell-command): Fix compile warning.\n\n2015-10-16  Oleh Krehel  <ohwoeowho@gmail.com>\n\n\tMake dired-do-compress work for *.zip files\n\n\t* lisp/dired-aux.el (dired-check-process): Transform the top-level\n\t  comment into a docstring.\n\t(dired-shell-command): New command.  This mirrors\n\t`dired-check-process', but is more user-friendly for passing\n\targuments.\n\t(dired-compress-file-suffixes): Allow to specify the command switches\n\talong with input (%i) and output (%o) inside the PROGRAM part.\n\tAdd an entry for *.zip files, and update the entry for *.tar.gz files\n\tto the new style.  Update the docstring.\n\t(dired-compress-file): When PROGRAM matches %i or %o, use the new\n\tlogic.\n\t(dired-update-file-line): Avoid an error when at end of buffer.\n\n\tFixes bug#21637.\n\n2015-10-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tMinor improvement in documentation of internals\n\n\t* doc/lispref/internals.texi (Writing Emacs Primitives): Document QUIT.\n\n2015-10-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of COLLECTION in completion functions\n\n\t* doc/lispref/minibuf.texi (Minibuffer Completion): Add a\n\tcross-reference to \"Programmed Completion\".\n\n\t* src/minibuf.c (Fcompleting_read): Improve the doc string.\n\t(Bug#21644)\n\n2015-10-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tAdd more release info to etc/HISTORY\n\n\t* etc/HISTORY: Add more release information about 19.x and 20.x\n\tversions.\n\n2015-10-15  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tNew file etc/HISTORY\n\n\t* admin/FOR-RELEASE: Procedure for etc/HISTORY.\n\t* etc/HISTORY: New file.\n\t* etc/NEWS: Mention it.\n\n2015-10-15  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tjs-mode: Don't misindent generator methods\n\n\t* lisp/progmodes/js.el (js--looking-at-operator-p): Distinguish\n\tgenerator methods from multiplication operator\n\t(https://github.com/mooz/js2-mode/issues/275).\n\n2015-10-15  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix animation timeout delay calculation\n\n\t* lisp/image.el (image-animate-timeout):\n\tDon\u2019t assume speed is floating-point.\n\n2015-10-15  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tAdd commands for controlling MPD modes\n\n\t* lisp/mpc.el (mpc-cmd-consume, mpc-cmd-random, mpc-cmd-repeat)\n\t(mpc-cmd-single): New functions.\n\t(mpc-consume, mpc-repeat, mpc-single, mpc-shuffle): New commands.\n\t(mpc-mode-menu): Add new commands as menu items.\n\n2015-10-15  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tRefer to `(elisp)Basic Completion' in completing-read docstring\n\n\t* src/minibuf.c (Fcompleting_read): Refer to `(elisp)Basic\n\tCompletion' in the docstring (bug#21644).\n\n2015-10-14  Mark Oteiza  <mvoteiza@udel.edu>\n\n\t* lisp/mpc.el (mpc-format): Always push form to pred\n\n2015-10-14  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSpelling fixes\n\n\t* configure.ac (bitmapdir): Fix misspelling of bmd_acc.\n\t* test/automated/coding-tests.el (ert-test-coding-bogus-coding-systems):\n\tFix misspelling of nonexistent file name.\n\n2015-10-14  Mark Oteiza  <mvoteiza@udel.edu>\n\n\t* lisp/mpc.el (mpc-mode-menu, mpc-toggle-play): Fix docstrings\n\n2015-10-14  Michael Albinus  <michael.albinus@gmx.de>\n\n\tSome editing fixes in Tramp\n\n\t* lisp/net/tramp-gvfs.el:\n\t* doc/misc/tramp.texi: \"customer option\" -> \"custom option\".\n\n\t* lisp/net/tramp.el (tramp-completion-function-alist): Fix docstring.\n\n2015-10-14  J\u00fcrgen H\u00f6tzel  <juergen@archlinux.org>\n\n\tUse proper localization in tramp-gvfs.el\n\n\t* lisp/net/tramp-gvfs.el (tramp-gvfs-handle-file-attributes):\n\tSuppress localized settings in order to proper parse gfvs output.\n\n2015-10-14  Warren Lynn  <wrn.lynn@gmail.com>  (tiny change)\n\n\t* lisp/net/tramp-sh.el (tramp-do-copy-or-rename-file-out-of-band):\n\tQuote argument in proper order.  (Bug#21562)\n\n2015-10-14  Nicolas Petton  <nicolas@petton.fr>\n\n\tFix typos in docstrings\n\n\t* lisp/emacs-lisp/map.el:\n\t* lisp/emacs-lisp/seq.el: Fix typos in the docstrings of the pcase\n\t  macros.\n\n2015-10-14  Mark Oteiza  <mvoteiza@udel.edu>\n\n\t* lisp/mpc.el (mpc-volume-refresh): Check if buffer is live.\n\n2015-10-14  Oleh Krehel  <ohwoeowho@gmail.com>\n\n\tMake dired-jump work with tar-subfile-mode\n\n\t* lisp/dired-x.el (dired-jump): When in `tar-subfile-mode', instead of\n\t  emitting an error, switch to `tar-superior-buffer'.\n\n2015-10-14  Juanma Barranquero  <lekktu@gmail.com>\n\n\t* .gitignore: Add build-aux/ar-lib.\n\n2015-10-14  Nicolas Petton  <nicolas@petton.fr>\n\n\tBetter docstrings in seq.el and map.el\n\n\t* lisp/emacs-lisp/map.el:\n\t* lisp/emacs-lisp/seq.el: Improve the docstring for the pcase patterns.\n\n2015-10-14  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from gnulib\n\n\tThis incorporates:\n\t2015-10-13 binary-io, u64, unistd: port to strict C\n\t2015-09-26 c-ctype: do not worry about EBCDIC + char signed\n\t2015-09-25 c-ctype: port better to z/OS EBCDIC\n\t2015-09-25 gnulib-common.m4: fix gl_PROG_AR_RANLIB/AM_PROG_AR clash\n\t* doc/misc/texinfo.tex, lib/binary-io.c, lib/c-ctype.h, lib/u64.c:\n\t* lib/unistd.c, m4/gnulib-common.m4, m4/gnulib-comp.m4:\n\tCopy from gnulib.\n\n2015-10-14  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tTake XPNTR private\n\n\t* src/alloc.c (PURE_POINTER_P): Remove.\n\tAll uses replaced with PURE_P.\n\t(XPNTR_OR_SYMBOL_OFFSET): New function.\n\t(XPNTR): Move here from lisp.h.\n\tReimplement in terms of XPNTR_OR_SYMBOL_OFFSET.\n\t(mark_maybe_object, valid_lisp_object_p, survives_gc_p):\n\tRemove unnecessary cast.\n\t(purecopy): Use XPNTR_OR_SYMBOL_OFFSET instead of XPNTR,\n\tto avoid an unnecessary runtime test for symbols.\n\t* src/lisp.h (lisp_h_XPNTR, XPNTR): Remove, moving XPNTR to alloc.c.\n\tOnly alloc.c needs XPNTR now.\n\n2015-10-13  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tAdd MPC play/pause command\n\n\t* lisp/mpc.el (mpc-toggle-play): New command.\n\t(mpc-mode-map): Bind it to \"s\".\n\t(mpc-mode-menu): Add corresponding menu item.\n\n2015-10-13  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tAdd bindings and menu items for prev and next tracks\n\n\t* lisp/mpc.el (mpc-mode-map): Bind \">\" to mpc-next,\n\t\"<\" to mpc-prev.\n\t(mpc-mode-menu): Add corresponding menu items\n\n2015-10-13  Ken Raeburn  <raeburn@raeburn.org>\n\n\tReduce face-related consing during frame creation.\n\n\t* lisp/faces.el (face--attributes-unspecified): Compute the \"unspecified\"\n\tattribute list once.\n\t(face-spec-reset-face): Use it instead of building the list.\n\n2015-10-13  Ken Raeburn  <raeburn@permabit.com>\n\n\tDo process ConfigureNotify events indicating size changes.\n\n\t* src/xterm.c (handle_one_xevent): If consecutive ConfigureNotify\n\tevents don't have the same size, process each one.\n\n2015-10-13  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tDerive mpc-mode from special-mode\n\n\tlisp/mpc.el (mpc-mode-map): Make from sparse keymap.  Unbind g.\n\t(mpc-mode): Derive from special mode.\n\t(mpc-songs-mode-map): Don't set parent keymap.\n\n2015-10-13  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tFix error messages for when covers are not found.\n\n\tThe last change to mpc-format let the binding to file call\n\tmpc-file-local-copy with nil argument.  Instead, employ if-let here\n\tso nil bindings don't result in needless computation and errors.\n\t* lisp/mpc.el: Require 'subr-x at compile time.\n\t* lisp/mpc.el (mpc-format): Use if-let.\n\n2015-10-13  Oleh Krehel  <ohwoeowho@gmail.com>\n\n\tMake dired-do-compress work for *.tar.gz files\n\n\t* lisp/dired-aux.el (dired-compress-file-suffixes): Associate\n\t  \"tar -zxvf\" to *.tar.gz; update docstring.\n\n\t(dired-compress-file): Allow to specify switches after the command in\n\t`dired-compress-file-suffixes'.\n\n2015-10-13  Oleh Krehel  <ohwoeowho@gmail.com>\n\n\tMake dired-do-compress work for directories\n\n\t* lisp/dired-aux.el (dired-compress-file): When FILE is a directory,\n\t  instead of emitting an error, call \"tar -czf FILE.tar.gz FILE\".\n\tAlso convert the top comment into a docstring.\n\n2015-10-13  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/mpc.el (mpc-songs-refresh): Don't side-effect `active'\n\n\t... since it might come straight from the memoizing table.\n\n2015-10-13  Juanma Barranquero  <lekktu@gmail.com>\n\n\t* src/w32fns.c (x_change_tool_bar_height): Remove unused variable frame.\n\n2015-10-13  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tUse special-mode in eww list modes\n\n\t* lisp/net/eww.el (eww-bookmark-mode, eww-history-mode)\n\t(eww-buffers-mode): Derive from special-mode and remove redundant\n\tsetting of buffer-read-only.\n\t(eww-mode-map): Remove redundant keymap parent setting.\n\t(eww-bookmark-mode-map, eww-history-mode-map, eww-buffers-mode-map):\n\tRemove redundant keymap suppressions and mappings.\n\n2015-10-13  Martin Rudalics  <rudalics@gmx.at>\n\n\tAllow setting frame pixel sizes from frame parameters (Bug#21415)\n\n\tAlso fix some misfeatures in frame (re-)sizing code, add more\n\tdebugging information and remove some dead code.\n\n\t* lisp/frame.el (frame-notice-user-settings, make-frame): Change\n\tparameter names when setting `frame-size-history'.\n\t(frame--size-history): New function.\n\n\t* src/frame.c (frame_inhibit_resize): If frame has not been made\n\tyet, return t if inhibit_horizontal_resize or\n\tinhibit_vertical_resize bit have been set.\n\t(adjust_frame_size): Simplify.\n\t(make_frame): Initialize inhibit_horizontal_resize,\n\tinhibit_vertical_resize, tool_bar_redisplayed, tool_bar_resized.\n\t(Fframe_after_make_frame): Reset inhibit_horizontal_resize and\n\tinhibit_vertical_resize slots.\n\t(x_set_frame_parameters): Handle `text-pixels' specification for\n\twidth and height parameters.  Don't consider new_height or\n\tnew_width changes.  Call adjust_frame_size instead of\n\tFset_frame_size.\n\t(x_figure_window_size): Two new arguments x_width and y_width\n\treturning frame's figures width and height.  Calculate tool bar\n\theight before frame sizes so SET_FRAME_HEIGHT can pick it up.\n\tHandle `text-pixels' specification for width and height\n\tparameters.\n\t(Qtext_pixels, Qx_set_frame_parameters, Qset_frame_size)\n\t(Qx_set_window_size_1, Qx_set_window_size_2)\n\t(Qx_set_window_size_3, Qx_set_menu_bar_lines)\n\t(Qupdate_frame_menubar, Qfree_frame_menubar_1)\n\t(Qfree_frame_menubar_2): New symbols.\n\t* src/frame.h (structure frame): New booleans\n\ttool_bar_redisplayed, tool_bar_resized,\n\tinhibit_horizontal_resize, inhibit_vertical_resize.\n\t(x_figure_window_size): Update external declaration.\n\t* src/gtkutil.c (xg_frame_set_char_size): Set size hints before\n\tcalling gtk_window_resize.\n\t(update_frame_tool_bar): Make inhibiting of frame resizing more\n\tdiscriminative.  Set tool_bar_resized bit.\n\t* src/nsfns.m (x_set_tool_bar_lines): Make inhibiting of frame\n\tresizing more discriminative.  Call adjust_frame_size instead of\n\tx_set_window_size.\n\t(Fx_create_frame): Handle x_width and x_height if\n\tset by x_figure_window_size.\n\t* src/nsterm.m (x_set_window_size): For GNUSTEP build don't\n\tsubtract 3 from tool bar height.\n\t(x_set_window_size): Add frame_size_history_add call.\n\t(x_new_font): Call adjust_frame_size instead of\n\tx_set_window_size.\n\t* src/w32fns.c (x_change_tool_bar_height): Reset\n\ttool_bar_redisplayed and tool_bar_resized bits when adding tool\n\tbar.  Make inhibiting of frame resizing more discriminative.\n\t(w32_wnd_proc): Remove dead code in WM_WINDOWPOSCHANGING case.\n\t(Fx_create_frame): Handle x_width and x_height if set by\n\tx_figure_window_size.  Set size hints before adjusting frame size.\n\t(x_create_tip_frame): Adjust x_figure_window_size call.\n\t* src/w32term.c (x_set_window_size): Add frame_size_history_add\n\tcall.\n\t* src/widget.c (set_frame_size): Remove dead code.  Add\n\tframe_size_history_add call.  When frame_resize_pixelwise is t\n\tuse FRAME_PIXEL_WIDTH and FRAME_PIXEL_HEIGHT instead of\n\tpixel_width and pixel_height.\n\t(update_various_frame_slots): Remove dead code.\n\t(EmacsFrameResize): Add more information in\n\tframe_size_history_add call.\n\t(EmacsFrameQueryGeometry): Round only when frame_resize_pixelwise\n\tis not set.\n\t* src/xdisp.c (redisplay_tool_bar): Set tool_bar_redisplayed bits.\n\t* src/xfns.c (x_set_menu_bar_lines): Change argument name.\n\t(x_change_tool_bar_height): Reset tool_bar_redisplayed and\n\ttool_bar_resized bits when adding tool bar.  Make inhibiting of\n\tframe resizing more discriminative.\n\t(Fx_create_frame): Handle x_width and x_height if set by\n\tx_figure_window_size.  Set size hints before adjusting frame size.\n\t(x_create_tip_frame): Adjust x_figure_window_size call.\n\t* src/xmenu.c (update_frame_menubar): Don't handle Lucid specially.\n\t(set_frame_menubar): On Lucid never add core-border-width to\n\tavoid that adding XtNinternalBorderWidth adds it again.\n\t(free_frame_menubar): Handle frame_inhibit_resize true for Motif.\n\t* src/xterm.c (x_new_font): In non-toolkit case handle size\n\tchange of menu bar.\n\t(x_set_window_size_1): Fix calls to frame_size_history_add.\n\t(x_wm_set_size_hint): Remove dead code.  Set\n\tsize_hints.min_width and size_hints.min_height to base_width and\n\tbase_height.\n\n2015-10-13  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* test/automated/file-notify-tests.el (file-notify--test-timeout):\n\tAdd docstring.  Increase to 10 seconds for remote\n\tdirectories.  (Bug#21669)\n\n2015-10-12  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tUnmacroize ebrowse.c and etags.c a bit\n\n\t* lib-src/ebrowse.c (READ_CHUNK_SIZE): Now an enum constant.\n\t(streq, filename_eq, set_flag, has_flag): Now inline functions.\n\t(set_flag): First arg is now an address, not an lvalue.\n\tAll callers changed.\n\t(filename_eq, set_flag, has_flag):\n\tRename from FILENAME_EQ, SET_FLAG, HAS_FLAG.\n\tAll callers changed.\n\t* lib-src/etags.c (streq, strcaseeq, strneq, strncaseeq):\n\tNow inline functions.  Remove asserts that are unnecessary these\n\tdays (and in some cases were too-generous anyway).\n\n2015-10-12  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tUse highlight for current items\n\n\t* lisp/mpc.el (mpc-select-make-overlay, mpc-tagbrowser-all-select):\n\tApply highlight face instead of region face.\n\n2015-10-12  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tSearch for more cover image names in MPC\n\n\t* lisp/mpc.el (mpc-format): Also look for .folder.jpg or folder.jpg\n\tcase insensitively\n\n2015-10-12  Juanma Barranquero  <lekktu@gmail.com>\n\n\tRemove or comment out unused variables\n\n\t* src/w32fns.c (x_set_mouse_color): Comment out variables cursor,\n\tnontext_cursor, mode_cursor, hand_cursor and count.\n\t(x_change_tool_bar_height): Remove variable old_text_height.\n\t(deliver_wm_chars): Remove variable strip_Alt.\n\t(Fw32_shell_execute): Remove variable document_a.\n\t(Fw32_frame_geometry): Remove variable fullboth.\n\t* src/w32term.c (w32_setup_relief_color): Comment out variable\n\tw32_display_info.\n\t(w32_horizontal_scroll_bar_handle_click): Remove variables start, end.\n\t(w32_read_socket): Comment out variables rows, columns.\n\t* src/w32uniscribe.c (uniscribe_check_otf_1): Remove variable rest.\n\n2015-10-12  Juanma Barranquero  <lekktu@gmail.com>\n\n\t* src/w32proc.c (sys_select): Fix bitwise test.\n\n2015-10-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tMinor typo corrections in doc strings\n\n\t* lisp/menu-bar.el (popup-menu, popup-menu-normalize-position):\n\tDoc fixes.\n\n2015-10-12  Eli Zaretskii  <eliz@gnu.org>\n\n\t* nt/INSTALL: Recommend MSYS Automake/Autoconf from ezwinports.\n\n2015-10-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tAttempt to avoid crashes in plist-member\n\n\t* src/fns.c (Fplist_member): Don't call QUIT between a CONSP test\n\tand a call to XCDR.  (Bug#21655)\n\n2015-10-12  Mike FABIAN  <mfabian@redhat.com>\n\n\t* lisp/select.el (gui-get-primary-selection): In\n\tgui-get-primary-selection use gui--selection-value-internal (Bug#20906)\n\n2015-10-12  Tassilo Horn  <tsdh@gnu.org>\n\n\tSupport RTF in doc-view\n\n\t* lisp/doc-view.el (doc-view-set-doc-type): Add entry for RTF extension.\n\n2015-10-12  Juanma Barranquero  <lekktu@gmail.com>\n\n\t* src/w32fns.c (get_wm_chars): Increment counter, not pointer.\n\n2015-10-11  Nicolas Petton  <nicolas@petton.fr>\n\n\tReplace the usage of an obsolete function in auth-source.el\n\n\t* lisp/gnus/auth-source.el (auth-source-epa-make-gpg-token):\n\tReplace an usage of `epg-context-set-armor' with `setf'.\n\n2015-10-11  Nicolas Petton  <nicolas@petton.fr>\n\n\t* lisp/gnus/auth-source.el: Use sharp-quoting with functions.\n\n2015-10-11  Jay Belanger  <jay.p.belanger@gmail.com>\n\n\tHave calc-yank recognize numbers in different bases.\n\n\t* lisp/calc/calc-yank.el (math-number-regexp): New function.\n\t(calc-yank): Use `math-number-regexp' to recognize numbers.\n\n2015-10-11  Ken Raeburn  <raeburn@raeburn.org>\n\n\tHandle an opaque-move X11 window manager operation more efficiently\n\n\t* src/xterm.c (handle_one_xevent): If a ConfigureNotify event is\n\tfollowed by more ConfigureNotify events for the same window, process\n\tonly the last one.\n\n2015-10-11  Ken Raeburn  <raeburn@raeburn.org>\n\n\tFix cursor setting for tip frame; re-enable cursor generation\n\n\t* src/xfns.c (x_create_tip_frame): Include the cursor in the window\n\tattributes sent when creating the new X window.  Don't skip setting\n\tthe pointerColor parameter.\n\n2015-10-11  Ken Raeburn  <raeburn@raeburn.org>\n\n\tRewrite x_set_mouse_color to sync less\n\n\tWe can track serial numbers of X requests and correlate error events\n\twith the associated requests.  This way we can identify errors for\n\tspecific calls without having to use XSync after every one.\n\n\t* src/xfns.c (enum mouse_cursor): New type.\n\t(struct mouse_cursor_types, struct mouse_cursor_data): New types.\n\t(mouse_cursor_types): New array listing the Lisp variables and default\n\tcursor appearances for each cursor type.\n\t(x_set_mouse_color_handler): New function; checks error event serial\n\tnumber against submitted requests.\n\t(x_set_mouse_color): Updated to use the new error handler callback,\n\tand to be more table-driven, to simplify repetitious code.\n\n2015-10-11  Ken Raeburn  <raeburn@raeburn.org>\n\n\tAdd x_catch_errors_with_handler\n\n\t* src/xterm.c (struct x_error_message_stack): Add new fields for a\n\tcallback function and associated data pointer.\n\t(x_error_catcher): If the callback function is set, call it after\n\tsaving the error message string.\n\t(x_catch_errors_with_handler): Renamed from x_catch_errors but now\n\taccepts a callback function and data pointer.\n\t(x_catch_errors): Now a wrapper function.\n\t* src/xterm.h (x_special_error_handler): New typedef.\n\t(x_catch_errors_with_handler): Declare.\n\n2015-10-11  Ken Raeburn  <raeburn@raeburn.org>\n\n\tIntroduce x_uncatch_errors_after_check to reduce XSync calls\n\n\tBoth x_had_errors_p and x_check_errors call XSync, so if they're\n\timmediately followed by x_uncatch_errors, its XSync call will be\n\tredundant, resulting in a wasted round trip to the X server.\n\n\t* src/xterm.c (x_uncatch_errors_after_check): New routine; a copy of\n\tx_uncatch_errors without the XSync call.\n\t(XTmouse_position, x_wm_supports):\n\t* src/xfns.c (x_set_mouse_color):\n\t* src/xmenu.c (Fx_menu_bar_open_internal):\n\t* src/xselect.c (x_own_selection, x_get_foreign_selection):\n\t(Fx_get_atom_name): Call it instead of x_uncatch_errors.\n\t* src/xterm.h (x_uncatch_errors_after_check): Declare.\n\n2015-10-10  Jay Belanger  <jay.p.belanger@gmail.com>\n\n\tDocument the optional prefix to `calc-yank'\n\n\t* doc/misc/calc.texi (Yanking into the Stack): Document the optional\n\tprefix to `calc-yank'.\n\t* lisp/calc/calc-yank.el (calc-yank): Ensure that things killed from\n\tthe Calc buffer are yanked back unchanged.\n\n2015-10-10  Mark Oteiza  <mvoteiza@udel.edu>\n\n\t* lisp/calendar/calendar.el: Display buffer before executing body.\n\n\tIn each use of this macro, the modeline is derived from a window width\n\tcalculation, which will be wrong if (display-buffer) splits the window\n\thorizontally.\n\n2015-10-10  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tUse \u2018echo\u2019 safely with \u2018\\\u2019 or leading \u2018-\u2019\n\n\tPOSIX says that \u2018echo FOO\u2019 produces implementation-defined output\n\tif FOO contains leading \u2018-\u2019, or \u2018\\\u2019 anywhere, so don\u2019t assume GNU\n\tbehavior in that case.\n\t* Makefile.in (removenullpaths): Remove.\n\t(epaths-force): Rewrite to avoid the need for \u2018echo\u2019.\n\t(install-etc): Be clearer about escaping the shell metacharacters\n\t\u2018\\\u2019 and \u2018$\u2019.\n\t* Makefile.in (install-arch-indep, install-etcdoc):\n\t* admin/charsets/mapconv, admin/merge-gnulib, admin/merge-pkg-config:\n\t* admin/quick-install-emacs, build-aux/gitlog-to-emacslog:\n\t* configure.ac, lib-src/rcs2log, make-dist:\n\t* src/Makefile.in (lisp.mk):\n\tDon\u2019t assume \u2018echo\u2019 outputs \u2018\\\u2019 and leading \u2018-\u2019 unscathed.\n\tFor example, use \u2018printf '%s\\n' \"$foo\"\u2019 rather than \u2018echo \"$foo\"\u2019\n\tif $foo can contain arbitrary characters.\n\t* lisp/Makefile.in (TAGS): Use \u2018ls\u2019, not \u2018echo\u2019, to avoid \u2018\\\u2019 issues.\n\t* doc/lispref/two-volume.make (vol1.pdf):\n\t* test/etags/make-src/Makefile (web ftp publish):\n\tUse \u2018printf\u2019 rather than \u2018echo -e\u2019.\n\n2015-10-10  Kaushal Modi  <kaushal.modi@gmail.com>\n\n\tAllow numbers with different radixes to be yanked.\n\n\t* lisp/calc/calc-yank.el (calc-yank): Allow radixes besides the\n\tdefault base 10.\n\n2015-10-10  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tImprove CHECK_IMPURE and PURE_P speedup\n\n\t* src/data.c (Faset): Use XVECTOR and XSTRING rather than XPNTR.\n\n2015-10-10  Jay Belanger  <jay.p.belanger@gmail.com>\n\n\tUse events instead of chars to keep track of steps.\n\n\t* lisp/calc/calc-prog.el (calc-kbd-loop): Use events instead of chars\n\tto keep track of steps.\n\n2015-10-10  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix --enable-gcc-warnings problem with older GCC\n\n\t* src/puresize.h: Add INLINE_HEADER_BEGIN, INLINE_HEADER_END.\n\tThis is for building with --enable-gcc-warnings with\n\tGCC 4.6 through 5.0.\n\n2015-10-10  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix vertical-motion in truncated lines that end in a stretch\n\n\t* src/indent.c (Fvertical_motion): Expect overshoot when point is\n\tbeyond window margin and lines are truncated, even if we have a\n\tstretch at point.  (Bug#21468)\n\n2015-10-10  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid link-time errors due to inline functions\n\n\t* src/emacs.c: Include puresize.h, to avoid link-time errors in\n\tunoptimized builds due to PURE_P and CHECK_IMPURE, which are now\n\tinline functions.\n\n2015-10-10  Andreas Schwab  <schwab@linux-m68k.org>\n\n\t* src/data.c (Faset): Fix last change.\n\n2015-10-10  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tCHECK_IMPURE and PURE_P speedup\n\n\t* src/intervals.c (create_root_interval):\n\tDo CHECK_IMPURE only for strings; not needed for buffers.\n\tPrefer ! STRINGP to BUFFERP, for a tad more speed.\n\t* src/puresize.h (CHECK_IMPURE, PURE_P):\n\tNow inline functions instead of macros.\n\t(PURE_P): Don\u2019t use XPNTR; that is now the caller\u2019s responsibility.\n\tAll callers changed.\n\t(CHECK_IMPURE): New argument PTR, to save us the work of running XPNTR.\n\tAll callers changed.\n\n2015-10-09  Noah Friedman  <friedman@splode.com>\n\n\t(tramp-open-connection-setup-interactive-shell): Send -onlcr as well.\n\n2015-10-09  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/progmodes/cc-mode.el (c-after-font-lock-init): Only *move*\n\n\tour after-change-function, rather than re-adding it if it was removed.\n\n2015-10-09  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/cedet/ede: Silence some compiler warnings\n\n\t* lisp/cedet/ede.el: Require cl-lib.  Silence some compiler warnings.\n\t(ede-menu-obj-of-class-p): Use cl-some rather than `eval'.\n\t(ede-apply-object-keymap, ede-reset-all-buffers)\n\t(ede-auto-add-to-target): Use dolist.\n\t(ede-new, ede-flush-deleted-projects, ede-global-list-sanity-check):\n\tUse field names rather than initarg names in `oref'.\n\t(ede-load-project-file): Remove unused var `file'.\n\t(ede-map-any-target-p): Use cl-some rather than ede-map-targets.\n\t(ede-set): Remove unused var `a'.\n\n\t* lisp/cedet/ede/emacs.el: Silence some compiler warnings.\n\t(ede-project-autoload): Avoid the old-style \"name\" argument.\n\t(ede-emacs-find-matching-target): Use field names rather than initarg\n\tnames in `oref'.\n\n\t* lisp/cedet/ede/linux.el: Silence some compiler warnings.\n\t(ede-linux-load, ede-project-autoload): Avoid the old-style\n\t\"name\" argument.\n\t(ede-linux-find-matching-target): Use field names rather than initarg\n\tnames in `oref'.\n\n2015-10-09  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/textmodes/reftex.el: Silence byte-compiler warnings.\n\n2015-10-09  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/progmodes/prolog.el (prolog-smie-rules): Try and avoid\n\tindenting too far after \":-\".\n\n2015-10-09  Eli Zaretskii  <eliz@gnu.org>\n\n\tUpdate case-table and categories of recently added characters\n\n\t* lisp/international/characters.el: Update information about Latin\n\tExtended-C, Latin Extended-D, Latin Extended-E, Cyrillic Extended,\n\tGeorgian, Glagolitic, Deseret, Old Hungarian, and Warang Citi\n\tblocks.  (Byug#21654)\n\n2015-10-09  Martin Rudalics  <rudalics@gmx.at>\n\n\t* src/frame.c (adjust_frame_size): In minibuffer-only windows\n\tdon't count minibuffer height twice.  (Bug#21643)\n\n2015-10-09  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid inflooping in font-lock\n\n\t* lisp/font-lock.el (font-lock-extend-region-wholelines): Bind\n\tinhibit-field-text-motion around the call to\n\tline-beginning-position, to avoid inflooping.  (Bug#21615)\n\n2015-10-09  Tassilo Horn  <tsdh@gnu.org>\n\n\tRefactor duplicated code; ensure default is in completions\n\n\t* lisp/textmodes/reftex-cite.el (reftex--query-search-regexps):\n\tNew function.\n\t(reftex-extract-bib-entries): Use it.\n\t(reftex-extract-bib-entries-from-thebibliography): Use it.\n\n2015-10-09  Vincent Bela\u00efche  <vincentb1@users.sourceforge.net>\n\n\t* doc/misc/autotype.texi (Skeletons as Abbrevs): \"if\" -> \"ifst\"\n\tin the example.\n\n2015-10-08  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/calc/calc.el: Silence byte-compiler warnings.\n\t(calc-scan-for-dels): Use ignore-errors.\n\t(calc-dispatch, calc-do-dispatch): Make unused arg optional.\n\t(calc-read-key-sequence): Remove unused var `prompt2'.\n\t(calc-kill-stack-buffer): Remove unused var `buflist'.\n\t(calc): Remove unused var `oldbuf'.\n\t(calc-refresh): Use inhibit-read-only.\n\t(calc-can-abbrev-vectors): Declare.\n\t(calc-record): Remove unused var `mainbuf'.\n\t(math-sub-bignum): Remove unused var `sum'.\n\t(math-svo-c, math-svo-wid, math-svo-off): Declare.\n\n2015-10-08  Daiki Ueno  <ueno@gnu.org>\n\n\tUse g_clear_error instead of g_error_free\n\n\t* src/image.c: Define g_clear_error instead of g_error_free.\n\t(init_svg_functions): Resolve symbol g_clear_error instead of\n\tg_error_free.\n\t(svg_load_image): Use g_clear_error instead of g_error_free, to\n\tsuppress GLib warnings when ERR is not set.  See bug#21641.\n\n2015-10-08  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* src/image.c (image_size_error): Simplify.\n\n2015-10-08  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix problems caught with --enable-gcc-warnings\n\n\t* src/image.c (lookup_rgb_color):\n\t* src/xfns.c (x_defined_color):\n\t* src/xterm.c (x_parse_color):\n\tRemove unused locals.\n\n2015-10-08  Jay Belanger  <jay.p.belanger@gmail.com>\n\n\t* lisp/calc/calc.el (calc-digit-start-entry): Fix typo.\n\n2015-10-08  Jay Belanger  <jay.p.belanger@gmail.com>\n\n\tFormat initial input uniformly\n\n\t* lisp/calc/calc.el (calc-digit-start-entry): New function.\n\t* lisp/calc/calc.el (calcDigit-start):\n\t* lisp/calc/calc-aent.el (calc-alg-digit-entry):\n\tUse `calc-digit-start-entry' to format input.\n\n2015-10-08  Ken Raeburn  <raeburn@raeburn.org>\n\n\tDisable non-working pointerColor setting for X tooltip frame\n\n\tIt generates a bunch of server traffic, but there's some bug wherein\n\tthe new mouse cursor settings don't seem to get used.  In most\n\tsituations the cursor isn't likely to be seen anyway, so it's not\n\turgent to fix.\n\n\t* src/xfns.c (x_create_tip_frame): Don't set pointerColor.\n\n2015-10-08  Ken Raeburn  <raeburn@raeburn.org>\n\n\tReduce some unnecessary X calls\n\n\t* src/xfns.c (x_real_pos_and_offsets): Remove a redundant XGetGeometry\n\tcall.  If border width is wanted, get it from the XGetGeometry call\n\tinstead of calling XGetWindowAttributes on the same window.  Skip some\n\tX calls if we've already detected an error from the X server.\n\t* src/xterm.c (x_wm_supports): Delete x_sync before x_had_errors_p.\n\t(handle_one_xevent): Delete XSync call before x_uncatch_errors.\n\n2015-10-08  Ken Raeburn  <raeburn@raeburn.org>\n\n\tReduce color allocation/query traffic in the TrueColor case\n\n\tWhen working with an X visual with TrueColor class, pixel values can\n\tbe generated from the RGB values according to mask value provided by\n\tthe server on connection.  Some of the image-handling code was already\n\tdoing this.\n\n\t* src/xterm.h (x_make_truecolor_pixel): New function; code taken from\n\tlookup_rgb_color.\n\t(x_mutable_colormap): New function.\n\t* src/image.c (lookup_rgb_color): Move pixel composition code to\n\tx_make_truecolor_pixel.\n\t(x_kill_gs_process): Call x_mutable_colormap.\n\t* src/xfaces.c (x_free_colors, x_free_dpy_colors): Call\n\tx_mutable_colormap.\n\t* src/xftfont.c (xftfont_get_colors): Call x_query_colors.\n\t* src/xterm.c (x_query_colors): For a TrueColor display, decompose the\n\tpixel value into RGB values directly, and don't send a request to the\n\tserver.\n\t(x_alloc_nearest_color): For a TrueColor display, construct the pixel\n\tvalue with x_make_truecolor_pixel.\n\t(x_copy_color): For an immutable color map, just return the provided\n\tpixel value.\n\n2015-10-08  Ken Raeburn  <raeburn@raeburn.org>\n\n\tCache XParseColor results in the X display info structure\n\n\tWith repeated lookups of foreground and background colors for multiple\n\tfaces per frame, we issue a lot of redundant color name lookups to the\n\tX server, waiting every time for the response.  On a remote network\n\twith, say, 30ms round-trip time, this can add nearly a full second to\n\tcreation of a new frame.\n\n\t* src/gtkutil.c (xg_check_special_colors): Call x_parse_color.\n\t* src/image.c (get_spec_bg_or_alpha_as_argb):\n\t(xpm_init_color_cache, xpm_lookup_color):\n\t* src/xfns.c (x_defined_color):\n\t* src/xterm.c (x_parse_color): New function; caches color names not\n\tstarting with \"#\" in the display-info structure.\n\t(x_delete_display): Delete the cache content.\n\t* src/xterm.h (struct color_name_cache_entry): New type.\n\t(x_parse_color): Declare.\n\t(struct x_display_info): Add a new field for the cache.\n\n2015-10-07  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* src/syntax.c (syms_of_syntax): Make syntax-propertize--done local.\n\n2015-10-07  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix segfault in image_size_error\n\n\t* src/image.c (image_size_error): Pass a Lisp string to\n\timage_error, not a C string.  (Bug#21641)\n\n2015-10-07  Simen Heggest\u00f8yl  <simenheg@gmail.com>\n\n\tHighlight CSS variable definitions\n\n\t* lisp/textmodes/css-mode.el (css-nmstart-re): Tweak regexp to accept\n\tCSS variables.  (Bug#21638)\n\n2015-10-07  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* test/automated/tabulated-list-test.el: New file.\n\tTest bug#21639 and some basic functionality.\n\n2015-10-07  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/tabulated-list.el (tabulated-list-sort):\n\tCheck if column can be sorted before trying.  (Bug#21639)\n\n2015-10-07  Nicolas Richard  <youngfrog@members.fsf.org>\n\n\tAdd test for `self-insert-command' (bug#21633)\n\n\t* test/automated/cmds-tests.el: New file.\n\n2015-10-07  Martin Rudalics  <rudalics@gmx.at>\n\n\t* src/window.c (resize_frame_windows): Don't set root window's\n\ttop position when resizing horizontally.\n\n2015-10-07  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/progmodes/prog-mode.el (prettify-symbols-alist):\n\tDocument more possible values.\n\n2015-10-06  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/textmodes/tex-mode.el: Use lexical-binding.\n\n2015-10-06  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/indent.el (indent--default-inside-comment): New function.\n\t(indent-for-tab-command): Use it for `noindent' indentation.\n\n2015-10-06  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix bug in GC_CHECK_MARKED_OBJECTS check\n\n\t* src/alloc.c (mark_object): Fix bug in checking code.\n\tWhen GC_CHECK_MARKED_OBJECTS is defined, the bug caused\n\tCHECK_ALLOCATED_AND_LIVE_SYMBOL to repeatedly do the\n\tCHECK_ALLOCATED and CHECK_LIVE tests for the first symbol in each\n\tbucket.  The bug did not affect behavior either in the normal case\n\twhere GC_CHECK_MARKED_OBJECTS is not defined, or where Emacs does\n\tnot have an internal error that a properly-written\n\tCHECK_ALLOCATED_AND_LIVE_SYMBOL would detect.\n\n2015-10-06  Tassilo Horn  <tsdh@gnu.org>\n\n\t* lisp/textmodes/tex-mode.el (tex--prettify-symbols-alist):\n\tAdd prettified version for \\\\Bbb{Q}.\n\n2015-10-06  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* test/automated/package-test.el (package-test-install-single):\n\tAdd a test for bug#21625.\n\n2015-10-06  Aaron Ecay  <aaronecay@gmail.com>\n\n\t* lisp/emacs-lisp/package.el (package-install): Fix error when pkg is\n\t  not a package-desc object.  Also clarify documentation.  (Bug#21625)\n\n2015-10-06  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix display of characters adjacent to ZWJ and ZWNJ\n\n\t* src/bidi.c (bidi_resolve_neutral): Treat all Bn (a.k.a. \"control\")\n\tcharacters the same as directional formatting controls.\n\t(bidi_level_of_next_char): Include all Bn characters in rule L1,\n\tas mandated by the UBA.\n\n2015-10-06  Andreas Schwab  <schwab@suse.de>\n\n\t* src/cmds.c (Fself_insert_command): Don't use XFASTINT on a negative\n\tnumber.  (Bug#21633)\n\n2015-10-05  Xue Fuqiao  <xfq.free@gmail.com>\n\n\t* doc/lispref/objects.texi (Window Type): Add a cross reference.\n\n\t* src/buffer.c (syms_of_buffer): Typo fix.  (Bug#21622)\n\n2015-10-05  Eli Zaretskii  <eliz@gnu.org>\n\n\t* lisp/language/misc-lang.el (composition-function-table):\n\tFix entries for Arabic and Syriac.\n\n2015-10-05  Damien Cassou  <damien@cassou.me>\n\n\tAdd first unit tests for auth-source.el\n\n\t* test/automated/auth-source-tests.el: New file.\n\n2015-10-05  Eli Zaretskii  <eliz@gnu.org>\n\n\tRemove redundant redisplay code\n\n\t* src/xdisp.c (redisplay_internal, try_cursor_movement)\n\t(try_window_reusing_current_matrix, try_window_id): Remove\n\tredundant restrictions on redisplay optimizations based on the\n\tframe's 'redisplay' flag.  See\n\thttp://osdir.com/ml/general/2015-10/msg02110.html for the relevant\n\tdiscussions.\n\n2015-10-04  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* src/xdisp.c (windows_or_buffers_changed): Improve docstring.\n\n2015-10-04  Xue Fuqiao  <xfq.free@gmail.com>\n\n\tUpdate tutorials/TUTORIAL.cn\n\n\t* etc/tutorials/TUTORIAL.cn: Improve translation.\n\n2015-10-04  YAMAMOTO Mitsuharu  <mituharu@math.s.chiba-u.ac.jp>\n\n\t* src/macfont.m (macfont_encode_char, syms_of_macfont):\n\tRemove unused vars.\n\n2015-10-04  Stefan Merten  <stefan@merten-home.de>\n\n\tPull in version numbers from rst.el upstream release.\n\n\t* lisp/textmodes/rst.el (rst-cvs-header, rst-svn-rev)\n\t(rst-svn-timestamp, rst-official-version)\n\t(rst-official-cvs-rev, rst-package-emacs-version-alist):\n\tUpdate version numbers.\n\n2015-10-04  Eli Zaretskii  <eliz@gnu.org>\n\n\t* test/automated/coding-tests.el: New file.\n\n2015-10-04  Michael Albinus  <michael.albinus@gmx.de>\n\n\tImprove XEmacs compatibility of Tramp\n\n\t* lisp/net/tramp-compat.el (directory-listing-before-filename-regexp):\n\tDeclare if it doesn't exist.\n\t(file-remote-p): Remove defalias, which was necessary for GNU Emacs 21.\n\t(redisplay): Make it an alias if it doesn't exist.\n\n\t* lisp/net/tramp.el (tramp-get-remote-tmpdir): Don't use\n\t`file-remote-p' (due to XEmacs compatibility).\n\n\t* lisp/net/trampver.el (locate-dominating-file)\n\t(tramp-compat-replace-regexp-in-string): Autoload.\n\t(tramp-repository-get-version): Do not dupe byte-compiler.\n\n2015-09-02  K. Handa  <handa@gnu.org>\n\n\tfix for the case that M17N_FLT_USE_NEW_FEATURE is not defined\n\n\t* src/ftfont.c (ftfont_drive_otf) [not M17N_FLT_USE_NEW_FEATURE]:\n\tAdjusted for the change of type of elements in the array\n\tMFLTGlyphString.glyphs.\n\n2015-10-04  Eli Zaretskii  <eliz@gnu.org>\n\t    Michael Heerdegen  <michael_heerdegen@web.de>\n\n\tshr: fix too long lines in rendered buffers (Bug#21012)\n\n\t* lisp/net/shr.el (shr-insert-document, shr-fill-text):\n\tCorrect calculation of available width.\n\t(shr-find-fill-point): Don't overflow window edge if shr-kinsoku-shorten\n\tis nil.\n\n2015-10-04  Vincent Bela\u00efche  <vincentb1@users.sourceforge.net>\n\n\tRestore blank line before next section, erroneously erased\n\tin my previous commit\n\n\t* etc/compilation.txt (symbol ant): Add an additional trailing blank\n\tline to this section, so that there are two of them immediately before\n\tthe next section.\n\n2015-10-04  Vincent Bela\u00efche  <vincentb1@users.sourceforge.net>\n\n\tSupport MSW filename style for ant compilation error regexp\n\n\t* etc/compilation.txt (symbol ant):\n\t* lisp/progmodes/compile.el (compilation-error-regexp-alist-alist):\n\tSupport MSW filename style.\n\n2015-10-03  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* nt/INSTALL: Minor spelling and quote fixes.\n\n\t* lisp/ibuffer.el: Fix docstring length (Bug#21541).\n\n2015-10-03  Simen Heggest\u00f8yl  <simenheg@gmail.com>\n\n\tMaintain ordering of JSON object keys by default\n\n\t* lisp/json.el (json-object-type): Mention order handling in doc-string.\n\t(json--plist-reverse): New utility function.\n\t(json-read-object): Maintain ordering for alists and plists.\n\t(json-pretty-print): Ensure that ordering is maintained.\n\n\t* test/automated/json-tests.el (test-json-plist-reverse): New test for\n\t`json--plist-reverse'.\n\t(json-read-simple-alist): Update test to accommodate for changes in\n\t`json-read-object'.\n\n\t* etc/NEWS: Document the new behavior of the pretty printing functions.\n\n2015-10-03  Andreas Schwab  <schwab@linux-m68k.org>\n\n\t* src/coding.c (complement_process_encoding_system): Revert last change.\n\n2015-10-03  Ulf Jasper  <ulf.jasper@web.de>\n\n\t* admin/MAINTAINERS: Add entry for Ulf Jasper.\n\n2015-10-03  Xue Fuqiao  <xfq.free@gmail.com>\n\n\tDoc fix for `defmacro'\n\n\t* doc/lispref/objects.texi (Macro Type): `defmacro' is a macro now.\n\n2015-10-03  Andreas Schwab  <schwab@linux-m68k.org>\n\n\tMore validatation of coding systems\n\n\t* src/fileio.c (Finsert_file_contents): Remove redundant\n\tcoding-system check.\n\t(choose_write_coding_system): Likewise.\n\t* src/coding.c (complement_process_encoding_system): Check argument\n\tfor valid coding system.\n\n2015-10-03  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid crashes in coding_inherit_eol_type\n\n\t* src/coding.c (coding_inherit_eol_type): Check the validity of\n\tthe arguments.  Suggested by Andreas Schwab <schwab@linux-m68k.org>.\n\t(Bug#21602)\n\n2015-10-03  Eli Zaretskii  <eliz@gnu.org>\n\n\tMore validatation of coding system in 'write-region'\n\n\t* src/coding.c (choose_write_coding_system): More validation of\n\tcoding-system from various sources.  Suggested by Andreas Schwab\n\t<schwab@linux-m68k.org>.  (Bug#21602)\n\n2015-10-03  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid crashes due to invalid coding-system\n\n\t* src/fileio.c (choose_write_coding_system)\n\t(Finsert_file_contents): Check validity of coding-system-for-write\n\tand coding-system-for-read bound by the caller.  (Bug#21602)\n\n2015-10-03  Tassilo Horn  <tsdh@gnu.org>\n\n\tAdapt to new prettify-symbols-unprettify-at-point default\n\n\t* etc/NEWS: Mention that unprettication of symbol at point is off\n\tby default.\n\n2015-10-03  Tassilo Horn  <tsdh@gnu.org>\n\n\tRevert my two recent process.c changes\n\n\tRevert \"Improve last commit to process.c\" and \"Remove callback-handled\n\tchannels from Available set\" because they did not fix bug#21313.\n\n\tThis reverts commits bfa1aa8e2bdaf14adbbf1e9e824051d3f740694c and\n\t27f871907cc24f33a7d12ac3a4ab71a88f0bc554.\n\n2015-10-02  Markus Triska  <triska@metalevel.at>\n\n\t* lisp/progmodes/prolog.el: Update and extend operator table.\n\t(prolog-smie-grammar): Add multifile, public etc.\n\n2015-10-02  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tAllow autogen even when Git is not installed\n\n\t* autogen.sh: Test \u2018git status\u2019 before trying to use Git.\n\n2015-10-02  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/vc/vc-git.el (vc-git-region-history): Handle local changes.\n\tAdjust lto/lfrom when we have uncommitted changes.\n\n2015-10-02  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix problems found by clang 3.5.0\n\n\t* src/cmds.c (Fdelete_char): Don\u2019t assume XINT returns int.\n\t* src/font.c (font_parse_family_registry):\n\tUse &\"str\"[X] instead of \"str\"+X, to pacify clang -Wstring-plus-int.\n\n2015-10-02  Eli Zaretskii  <eliz@gnu.org>\n\n\t* nt/INSTALL: Update instructions for running autogen.sh.\n\n\t* nt/INSTALL: Point to ezwinports for libXpm binaries.\n\n2015-10-02  Daniel Colascione  <dancol@dancol.org>\n\n\tFix winner in cl-lib not loaded case\n\n\t* lisp/winner.el (winner-change-fun): Don't use cl-lib functions\n\twithout requiring CL\n\n2015-10-02  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix a few problems with directed quotes\n\n\tThis is in response to a problem report by Kaushal Modi in:\n\thttp://bugs.gnu.org/21588#25\n\t* lisp/cedet/mode-local.el (describe-mode-local-overload):\n\t* lisp/emacs-lisp/bytecomp.el (byte-compile-fix-header):\n\t* lisp/info-xref.el (info-xref-check-all-custom):\n\t* lisp/mail/emacsbug.el (report-emacs-bug-hook):\n\tPrefer directed to undirected single quotes in diagnostics.\n\n2015-10-01  Eli Zaretskii  <eliz@gnu.org>\n\n\tRevert \"Attempt to fix slow redisplay caused by last changes\"\n\n\t* src/xdisp.c (try_window_id, try_window_reusing_current_matrix)\n\t(try_cursor_movement): Don't relax requirements for redisplay\n\toptimizations for the selected frame.  (Bug#21597)\n\n\tThis reverts commit c4c1fb97727ff52bcfa83ad5ed94a64a93d12e59.\n\n2015-10-01  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix slow redisplay when daemon frame exists\n\n\t* src/xdisp.c (redisplay_internal): Don't consider daemon frames\n\twhen looking for frames that need to be redisplayed.  (Bug#21597)\n\n2015-10-01  Eli Zaretskii  <eliz@gnu.org>\n\n\tAttempt to fix slow redisplay caused by last changes\n\n\t* src/xdisp.c (try_window_id, try_window_reusing_current_matrix)\n\t(try_cursor_movement): Relax requirements for redisplay\n\toptimizations for the selected frame.  (Bug#21597)\n\n2015-10-01  Stephen Leake  <stephen_leake@stephe-leake.org>\n\n\t* src/dired.c (Ffile_name_completion, Ffile_name_all_completions):\n\tImprove doc string.\n\n2015-10-01  Stephen Leake  <stephen_leake@stephe-leake.org>\n\n\t* lisp/minibuffer.el (minibuffer-completion-help):\n\tSet default base-size, in case completion table does not set it.\n\n2015-10-01  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix GUD display of GDB output with non-ASCII text\n\n\t* lisp/progmodes/gdb-mi.el (gdb-mi-decode-strings): New defcustom.\n\t(gdb-mi-decode): New function.\n\t(gud-gdbmi-marker-filter): If gdb-mi-decode-strings is non-nil,\n\tdecode octal escapes in GDB output.  (Bug#21572)\n\n2015-10-01  Eli Zaretskii  <eliz@gnu.org>\n\n\t* nt/INSTALL: Document where to find XPM support files.\n\n2015-10-01  Tassilo Horn  <tsdh@gnu.org>\n\n\tUn- and re-prettification are not exclusive\n\n\t* lisp/progmodes/prog-mode.el (prettify-symbols--post-command-hook):\n\tRe-apply prettification to previous symbol also when unprettifying\n\tnext one.\n\n2015-10-01  Tassilo Horn  <tsdh@gnu.org>\n\n\tDon't unprettify symbol at point by default\n\n\t* lisp/progmodes/prog-mode.el (prettify-symbols-unprettify-at-point):\n\tDefault to disabled (nil).\n\n2015-09-30  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/progmodes/prog-mode.el (prettify-symbols-unprettify-at-point):\n\tSupport unprettifying when point is after a symbol.\n\n\t* etc/NEWS: Document `prettify-symbols-unprettify-at-point'.\n\n2015-09-30  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid assertion violations in push_prefix_prop\n\n\t* src/xdisp.c (push_prefix_prop): Avoid assertion violations when\n\ta line that has a line-prefix defined starts with an image.  (Bug#21428)\n\n2015-09-30  Eli Zaretskii  <eliz@gnu.org>\n\n\tDisable some display optimizations when frames need redisplay\n\n\tThese optimizations were previously disabled by the\n\twindows_or_buffers_changed flag, which now is not set\n\twhen only some frames need to be redrawn.\n\t* src/xdisp.c (redisplay_internal): Redisplay any frame whose\n\t'redisplay' flag is set.\n\t(try_window_reusing_current_matrix, try_window_id)\n\t(try_cursor_movement): Disable these optimizations when the\n\tframe's 'redisplay' flag is set.\n\n2015-09-30  Tassilo Horn  <tsdh@gnu.org>\n\n\tDon't modify buffer by unprettification\n\n\t* lisp/progmodes/prog-mode.el (prettify-symbols--compose-symbol):\n\t(prettify-symbols--post-command-hook, prettify-symbols-mode): Don't\n\tmodify buffer when setting/removing custom prettify-symbols-start/end\n\ttext properties.  Add them to font-lock-extra-managed-props, too.\n\n2015-09-30  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tTry to avoid redisplaying all frames when creating a new one\n\n\t* src/xfns.c (x_set_menu_bar_lines, x_change_tool_bar_height):\n\t* src/xfaces.c (Finternal_make_lisp_face, Finternal_copy_lisp_face)\n\t(Finternal_set_lisp_face_attribute, update_face_from_frame_parameter):\n\t* src/frame.c (x_set_screen_gamma): Set the specific frame's\n\t`redisplay' bit rather than windows_or_buffers_changed.\n\n\t* src/window.c (apply_window_adjustment): Remove redundant setting of\n\twindows_or_buffers_changed.\n\n\t* src/xdisp.c (redisplay_internal): Set the specific frame's\n\t`redisplay' bit rather than update_mode_lines in response to\n\tcursor_type_changed.\n\t(syms_of_xdisp): Use hash-tables for redisplay_*_cause tables.\n\t(AINC): Adjust accordingly.\n\n2015-09-30  Tassilo Horn  <tsdh@gnu.org>\n\n\tImplement unprettification of symbol at point\n\n\t* lisp/progmodes/prog-mode.el: Implement feature for unprettifying the\n\tsymbol at point.\n\t(prettify-symbols--current-symbol-bounds): New variable.\n\t(prettify-symbols--post-command-hook): New function.\n\t(prettify-symbols-unprettify-at-point): New defcustom.\n\t(prettify-symbols-mode): Use it.\n\t(prettify-symbols--compose-symbol): Use them.\n\n2015-09-30  YAMAMOTO Mitsuharu  <mituharu@math.s.chiba-u.ac.jp>\n\n\t* src/macfont.m (mac_font_descriptor_supports_languages):\n\tRegard \"zh\" as synonym of \"zh-Hans\".\n\n2015-09-30  YAMAMOTO Mitsuharu  <mituharu@math.s.chiba-u.ac.jp>\n\n\tWork around crash when displaying etc/HELLO on OS X 10.11\n\n\t* src/macfont.m (mac_font_get_weight)\n\t(mac_font_descriptor_get_adjusted_weight): New functions.\n\t(macfont_store_descriptor_attributes): Adjust weight.\n\n2015-09-30  YAMAMOTO Mitsuharu  <mituharu@math.s.chiba-u.ac.jp>\n\n\t* src/macfont.m: Fix compilation with USE_CT_GLYPH_INFO.\n\n2015-09-30  Nicolas Petton  <nicolas@petton.fr>\n\n\t* lisp/arc-mode.el (archive-rar-summarize): Better alignment\n\tof the columns.\n\n2015-09-30  Nicolas Petton  <nicolas@petton.fr>\n\n\tUse unar and lsar to handle RAR archives in arc-mode\n\n\t* lisp/arc-mode.el (archive-rar-extract, archive-extract-by-file): Rely\n\ton unar and lsar instead of unrar-free for RAR archives (bug#17663).\n\n2015-09-30  Wieland Hoffmann  <themineo@gmail.com>  (tiny change)\n\n\tClarify :create in auth-source's docs\n\n\t* lisp/gnus/auth-source.el (auth-source-search):\n\tClarify :create's meaning.\n\n2015-09-30  Phil Sainty  <psainty@orcon.net.nz>\n\n\tAvoid empty -path arguments in rgrep\n\n\t* lisp/progmodes/grep.el (rgrep-default-command): Remove nil from\n\tthe list produced according to grep-find-ignored-directories,\n\tbefore passing it to Find/Grep invocation.  (Bug#21548)\n\n2015-09-30  Eli Zaretskii  <eliz@gnu.org>\n\n\tClarify documentation of pos-visible-in-window-p\n\n\t* src/window.c (Fpos_visible_in_window_p): Clarify the meaning of\n\tt for POS.  See\n\thttp://lists.gnu.org/archive/html/emacs-devel/2015-09/msg01040.html\n\tfor the original report.\n\n\t* doc/lispref/windows.texi (Window Start and End): Clarify the\n\tmeaning of t for the POSITION argument of pos-visible-in-window-p.\n\n2015-09-29  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/progmodes/prolog.el: Fix various indentation cases.\n\t(prolog-operator-chars): New const (add \\\\).\n\t(prolog-smie-forward-token, prolog-smie-backward-token): Use it.\n\t(prolog-smie-rules): Add rules according to bug#21526.\n\n2015-09-29  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/progmodes/sh-script.el: Old \"dumb\" continued line indent.\n\t(sh-indent-after-continuation): Add new value `always' (bug#17620)\n\t(sh-smie-sh-rules): Remove old handling of continued lines.\n\t(sh-smie--indent-continuation): New function.\n\t(sh-set-shell): Use it.\n\n2015-09-29  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/progmodes/octave.el: Use grammar more; Handle enumeration fun.\n\tRemove redundant :group keyword args.\n\t(octave-begin-keywords, octave-else-keywords, octave-end-keywords):\n\tRemove variables.\n\t(octave-operator-table, octave-smie-bnf-table): Use let-when-compile to\n\tturn them into compile-time variables.\n\tAuto-generate the \"foo ... end\" rules from the \"foo ... endfoo\" rules.\n\tAdd rules for break, continue, return, global, and persistent.\n\tRefine the rule for \"until\".\n\t(octave-smie--funcall-p, octave-smie--end-index-p)\n\t(octave-smie--in-parens-p): New functions.\n\t(octave-smie-backward-token, octave-smie-forward-token): Use them to\n\tdistinguish the \"enumeration\" function and the \"end\" index from\n\ttheir corresponding keywords.\n\t(octave--block-offset-keywords): New constant.\n\t(octave-smie-rules): Use it.  Adjust rules for new global/persistent\n\tparsing.\n\t(octave-reserved-words): Redefine using octave-smie-grammar.\n\t(octave-font-lock-keywords): Use octave-smie--funcall-p and\n\toctave-smie--end-index-p.\n\n2015-09-29  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/lisp-mode.el (let-when-compile): Work like let*.\n\n2015-09-29  Eli Zaretskii  <eliz@gnu.org>\n\n\t* nt/INSTALL: Remove references to GTK site.\n\tThat site no longer offers Windows downloads.\n\n2015-09-29  Eli Zaretskii  <eliz@gnu.org>\n\n\t* nt/INSTALL: Add instructions for installing Git.\n\n2015-09-29  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\t* lisp/net/shr.el (shr-colorize-region): Allow 88-color tty to\n\tuse colors.  Suggested by Eli Zaretskii.\n\n2015-09-28  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\t* lisp/net/shr.el (shr-colorize-region): Don't do it on a system\n\tnot supporting 256 above colors (bug#21557).\n\n2015-09-28  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tRevert \"Don't rely on defaults in decoding UTF-8 encoded Lisp files\"\n\n\tThis reverts commit db828f62f6f17414fbbc3206dac123dc73dd6055.\n\n2015-09-28  Nicolas Petton  <nicolas@petton.fr>\n\n\tAdd documentation for seq.el\n\n\t* doc/lispref/sequences.texi: Add documentation regarding extending\n\tseq.el, as well as missing documentation for seq-elt, seq-length, seq-p,\n\tseq-do and seq-map.\n\n2015-09-28  Nicolas Petton  <nicolas@petton.fr>\n\n\tBetter documentation for seq-some\n\n\t* doc/lispref/sequences.texi:\n\t* lisp/emacs-lisp/seq.el: Update the documentation of seq-some to\n\tguarantee that the returned value is the first non-nil value that\n\tresulted from applying the predicate.\n\n2015-09-28  Nicolas Petton  <nicolas@petton.fr>\n\n\t* lisp/arc-mode.el: Sharp-quote function arguments.\n\n2015-09-28  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid redisplay error in ediff-regions-wordwise\n\n\t* lisp/vc/ediff-util.el\n\t(ediff-clone-buffer-for-region-comparison): Make sure the mark is\n\tset before activating it.  (Bug#21567)\n\n2015-09-28  Eli Zaretskii  <eliz@gnu.org>\n\n\tAnother attempt to fix crashes due to prematurely freed faces\n\n\t* src/xdisp.c (redisplay_internal): Inhibit freeing of realized\n\tfaces for as long as we might have desired matrices that reference\n\tthose faces.  (Bug#21428)\n\n2015-09-28  Tassilo Horn  <tsdh@gnu.org>\n\n\tAdd auctex development list email address\n\n2015-09-28  Tassilo Horn  <tsdh@gnu.org>\n\n\t* admin/MAINTAINERS: Add entries for AUCTeX team and myself.\n\n2015-09-28  Arash Esbati  <esbati@gmx.de>  (tiny change)\n\n\tImprove wrapfig package support and caption parsing\n\n\t* lisp/textmodes/reftex-vars.el (reftex-label-alist-builtin):\n\tCorrect description string and add wraptable environment.\n\t(reftex-default-context-regexps): Improve caption regexp.\n\n2015-09-28  Anders Lindgren  <andlind@gmail.com>\n\n\tRespect value of frame_resize_pixelwise when handling fullscreen state\n\n\t* src/nsterm.m (handleFS): Respect frame_resize_pixelwise when\n\tsetting size increments.\n\n2015-09-27  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* src/gfilenotify.c (Fgfile_add_watch): Cleanup temporary variable.\n\n2015-09-27  Simen Heggest\u00f8yl  <simenheg@gmail.com>\n\n\tAdd prettify-symbols-alist for js-mode\n\n\t* lisp/progmodes/js.el (js--prettify-symbols-alist): New defconst.\n\t(js-mode): Use it.\n\n2015-09-27  Eli Zaretskii  <eliz@gnu.org>\n\n\t* nt/subdirs.el: File deleted (no longer used).\n\n2015-09-26  Alan Mackenzie  <acm@muc.de>\n\n\tFix follow-scroll-up/down, making them replacements for scroll-up/down\n\n\t1. Allow point to move between follow windows in scroll operations.\n\t2. Fix bug where `right-char' just before EOB caused spurious scrolling,\n\twhen EOB was isolated in the last follow window.\n\n\t* lisp/follow.el (follow-fixed-window): New variable.\n\t(follow-get-scrolled-point): New function.\n\t(follow-scrol-up, follow-scroll-down): Add autoload cookies.\n\tReformulate the code.  Put `scroll-command' properties on the functions.\n\tCorrect minor errors in ...-down's doc string and code.\n\t(follow-calc-win-end): Amend incomplete doc string.  Use\n\t`pos-visible-in-window-p' to check whether EOB is in the window.\n\t(follow-estimate-first-window-start): Correct an off-by-1 error.\n\t(follow-adjust-window): Add handling for explicit scrolling operations.\n\n2015-09-26  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* admin/MAINTAINERS: Add self, plus list some more files\n\tsans maintaners.\n\n2015-09-26  Zachary Kanfer  <zkanfer@gmail.com>  (tiny change)\n\n\tNew DWIM commands for changing letter-case\n\n\t* lisp/simple.el (upcase-dwim, downcase-dwim, capitalize-dwim):\n\tNew functions.  (Bug#21501)\n\n2015-09-26  Eli Zaretskii  <eliz@gnu.org>\n\n\t* etc/PROBLEMS: Document problems with pasting on MS-Windows.\n\n2015-09-26  Eli Zaretskii  <eliz@gnu.org>\n\n\tMake face realization be more frame-specific\n\n\t* src/frame.h (struct f): New flag face_change.\n\t* src/xfaces.c (Finternal_make_lisp_face)\n\t(Finternal_copy_lisp_face, Finternal_set_lisp_face_attribute)\n\t(update_face_from_frame_parameter): Set the face_change flag only\n\tfor the frame whose faces are affected.\n\t* src/xdisp.c (init_iterator): If a frame's face_change flag is\n\tset, free faces only on that frame.\n\t(redisplay_internal): Disable \"display optimization 1\" if the\n\tframe's face_change flag is set.\n\t(redisplay_window): Don't allow skipping a window's redisplay if\n\tits frame's face_change flag is set.\n\t* src/frame.c (x_set_screen_gamma): Instead of calling\n\tFclear_face_cache, call clear_face_cache and set\n\twindows_or_buffers_changed to a non-zero value.  This avoids\n\tsetting the global face_change flag that triggers face realization\n\ton all frames and thorough redisplay of all of them.\n\n\t* lisp/term/tty-colors.el (tty-register-default-colors): Don't\n\tclear face cache if the selected frame is a GUI frame.\n\n2015-09-26  Tassilo Horn  <tsdh@gnu.org>\n\n\tRemove font-latex specific check\n\n\t* lisp/textmodes/tex-mode.el (tex--prettify-symbols-compose-p):\n\tUse syntax-ppss data to identify verbatim contents.\n\n2015-09-25  Tassilo Horn  <tsdh@gnu.org>\n\n\t* lisp/textmodes/tex-mode.el (tex--prettify-symbols-compose-p):\n\tFix some false negatives.\n\n2015-09-25  Eli Zaretskii  <eliz@gnu.org>\n\n\tReorder Windows version in Emacs manifests\n\n\t* nt/emacs-x64.manifest:\n\t* nt/emacs-x86.manifest: Reorder Windows version from lowest to\n\thighest.\n\n2015-09-25  Eli Zaretskii  <eliz@gnu.org>\n\n\tUpdate Emacs manifest files for Windows 10\n\n\t* nt/emacs-x86.manifest:\n\t* nt/emacs-x64.manifest: Declare compatibility with Windows 10.\n\n2015-09-25  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid non-ASCII decoding errors in C src files\n\n\t* src/nsterm.m:\n\t* src/lisp.h:\n\t* src/editfns.c:\n\t* src/doprnt.c: Add 'coding' cookies -- these files include\n\tUnicode characters and should be decoded as UTF-8.\n\n2015-09-25  Alan Mackenzie  <acm@muc.de>\n\n\tResurrect edebug-set-initial-mode, repurposing it to set the global mode\n\n\t* lisp/emacs-lisp/edebug.el (edebug-initial-mode-alist): Uncomment, and\n\tamend to match current modes and functions.\n\t(edebug-set-initial-mode): Uncomment and change from setting a defun's\n\t`edebug-initial-mode''s property to setting the variable\n\t`edebug-initial-mode'.\n\t(top level): Create new binding C-x C-a C-m for\n\t`edebug-set-initial-mode'.\n\n\t* doc/lispref/edebug.texi (Edebug Execution Modes): Document\n\t`edebug-set-initial-mode' and its new key binding.\n\t(Edebug Options): Mention the new command in the pertinent place.\n\n\t* etc/NEWS: Write entry for this change.\n\n2015-09-25  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid non-ASCII decoding errors in Texinfo files\n\n\t* doc/misc/tramp.texi:\n\t* doc/lispref/strings.texi:\n\t* doc/lispref/positions.texi:\n\t* doc/lispref/help.texi:\n\t* doc/lispref/functions.texi:\n\t* doc/lispintro/emacs-lisp-intro.texi:\n\t* doc/emacs/text.texi:\n\t* doc/emacs/modes.texi:\n\t* doc/emacs/mini.texi:\n\t* doc/emacs/display.texi:\n\t* doc/emacs/custom.texi:\n\t* doc/emacs/basic.texi: Add 'coding' cookies -- these files use\n\tUnicode characters and should be decoded as UTF-8.\n\t* doc/lispref/frames.texi (Size Parameters): Don't use a non-ASCII\n\tapostrophe unnecessarily.\n\n2015-09-25  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from gnulib\n\n\tThis incorporates:\n\t2015-09-25 c-ctype: rewrite to use inline functions\n\t2015-09-24 maint: add coding cookies to non-ASCII sources\n\t2015-09-24 gitlog-to-changelog: trim only trailing whitespaces\n\t* build-aux/gitlog-to-changelog, doc/misc/texinfo.tex:\n\t* lib/acl-internal.c, lib/acl-internal.h, lib/c-ctype.c:\n\t* lib/c-ctype.h, lib/get-permissions.c, lib/qcopy-acl.c:\n\t* lib/set-permissions.c:\n\tCopy from gnulib.\n\n2015-09-24  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tUpdate publicsuffix.txt from upstream\n\n\t* etc/publicsuffix.txt: Update from\n\thttps://publicsuffix.org/list/effective_tld_names.dat\n\tdated 2015-09-24 17:29:21 UTC.\n\n2015-09-24  Eli Zaretskii  <eliz@gnu.org>\n\n\tPrevent timers from messing up TTY menus\n\n\t* src/term.c (tty_menu_activate): Inhibit redisplay for as long as\n\tthe TTY menu is open.  (Bug#21530)\n\n2015-09-24  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tNo need to mention K&R C in c-mode intro\n\n2015-09-24  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tFix recent bootstrap problems\n\n\t* src/syntax.c (parse_sexp_propertize): Fix last fix.\n\t* lisp/nxml/nxml-mode.el (nxml-comment-quote-nested): Fix paren typo.\n\t* lisp/emacs-lisp/lisp-mode.el: Require cl-lib for cl-progv.\n\n2015-09-24  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* src/gfilenotify.c (Fgfile_add_watch): Decrease polling rate.\n\n2015-09-23  Ivan Andrus  <darthandrus@gmail.com>\n\n\tProperly quote nested xml comments (Bug#6267) (Bug#20001)\n\n\t* lisp/nxml/nxml-mode.el (nxml-comment-quote-nested): New function.\n\t(nxml-mode): Set comment-quote-nested-function.\n\n2015-09-23  Ivan Andrus  <darthandrus@gmail.com>\n\n\tAllow major-modes full control over quoting nested comments\n\n\t* lisp/newcomment.el (comment-quote-nested-function): New variable.\n\t(comment-quote-nested-default): New function.\n\t(comment-quote-nested): Use `comment-quote-nested-function'.\n\n2015-09-23  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPrefer CALLN in a few more places\n\n\t* src/macfont.m (macfont_set_family_cache):\n\t* src/nsterm.m (append2):\n\t* src/xterm.c (x_cr_export_frames):\n\tPrefer CALLN to allocating the arg arrays by hand.\n\n2015-09-23  Michael Albinus  <michael.albinus@gmx.de>\n\n\tAdapt file-notify-test02-events test case\n\n\t* test/automated/file-notify-tests.el (file-notify-test02-events):\n\tCreate a new watch for every test.\n\n2015-09-23  Michael Albinus  <michael.albinus@gmx.de>\n\n\tContinue gfilenotify.c implementation of missing parts\n\n\t* lisp/filenotify.el (file-notify-add-watch): Append `flags' to\n\t`gfile-add-watch' call.\n\t(file-notify-rm-watch): Modify `file-notify-descriptors' only\n\tafter calling the low level functions.\n\n\t* src/gfilenotify.c (dir_monitor_callback): Check, whether\n\tevent_type is expected.\n\t(Fgfile_add_watch): Allow also `change'and `attribute-change' for FLAGS.\n\t(Fgfile_rm_watch): Fix typo.\n\t(syms_of_gfilenotify): Declare Qchange and Qattribute_change.\n\n2015-09-23  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* src/syntax.c (parse_sexp_propertize): Handle spurious\n\te_property_truncated flag.\n\t(update_syntax_table_forward): Remove invalid assertion.\n\n2015-09-23  Eli Zaretskii  <eliz@gnu.org>\n\n\t* src/xdisp.c (produce_stretch_glyph): Support ':relative-width'\n\tspace display spec on text-mode terminals, by calling\n\tPRODUCE_GLYPHS instead of x_produce_glyphs.  Remove the\n\tHAVE_WINDOW_SYSTEM guards from the supporting code, as well as the\n\ttest for a GUI frame.\n\n2015-09-23  Oleh Krehel  <ohwoeowho@gmail.com>\n\n\tMove let-when-compile to lisp-mode.el\n\n\tThis fixes the bootstrapping problem of `let-when-compile' using\n\t`cl-progv' while being in subr.el (i.e. before cl stuff was loaded).\n\n2015-09-23  Thomas Fitzsimmons  <fitzsim@fitzsim.org>\n\n\t* lisp/url/url-http.el (url-http-parse-headers): Do not\n\tautomatically include Authorization header in redirect.\n\t(Bug#21350)\n\n2015-09-22  Eli Zaretskii  <eliz@gnu.org>\n\n\tClarify documentation of ':relative-width'\n\n\t* doc/lispref/display.texi (Specified Space): Document that\n\t':relative-width' is only supported on GUI frames.\n\n2015-09-22  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix 'current-column' in presence of :relative-width\n\n\t* src/indent.c (check_display_width): Support ':relative-width'\n\tin a display spec that specifies a stretch glyph.  (Bug#21533)\n\n2015-09-22  Ken Manheimer  <ken.manheimer@gmail.com>\n\n\tReformat the pdbtrack remote-file fix ChangeLog.2 entry\n\n\t... to conform better to CONTRIBUTE guidelines.\n\n2015-09-22  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/progmodes/prolog.el: Fix indentation of empty line\n\n\t* lisp/emacs-lisp/smie.el (smie-rules-function): Document new\n\t`empty-line-token' element.\n\t(smie-indent-empty-line): New function.\n\t(smie-indent-functions): Add it.\n\n\t* lisp/progmodes/prolog.el (prolog-smie-rules): Fix :list-intro\n\tbehavior and use the new `empty-line-token' element (bug#21526).\n\t(prolog-mode-variables): Fix comment-start-skip setting to match\n\tcomment-start.\n\n\t* test/indent/prolog.prolog: Add nested indentation tests.\n\n\t* lisp/newcomment.el (comment-normalize-vars): Fix default value of\n\tcomment-start-skip not to misuse submatch 1.\n\n2015-09-22  Alan Mackenzie  <acm@muc.de>\n\n\tMake description of `edebug-initial-mode' user friendly\n\n\tFixes bug#21365.\n\n\t* doc/lispref/edebug.texi (Edebug Execution Modes): Change the\n\tdescription of `edebug-initial-mode' from that of its implementation\n\tto that of its visual effect and use.  Move the paragraph higher up.\n\n2015-09-22  Eli Zaretskii  <eliz@gnu.org>\n\n\tlisp/progmodes/gud.el (gud-format-command): Fix last commit\n\n\t* lisp/progmodes/gud.el (gud-format-command): Don't use Tramp internal\n\tfunctions 'tramp-file-name-localname' and 'tramp-dissect-file-name'.\n\n2015-09-22  Tassilo Horn  <tsdh@gnu.org>\n\n\tImprove last commit to process.c\n\n2015-09-22  Michael Albinus  <michael.albinus@gmx.de>\n\n\tImplement gfile-valid-p\n\n\t* lisp/filenotify.el (file-notify-callback): Fix typo.\n\t(gfile-valid-p): Remove defalias.\n\n\t* src/gfilenotify.c (dir_monitor_callback): Cancel the monitor if\n\tthe file or directory to be watched is deleted.\n\t(Fgfile_add_watch): Make watch_object a triple.\n\t(Fgfile_rm_watch): Check, whether watch is cancelled already.\n\t(Fgfile_valid_p): New defun.\n\t(syms_of_gfilenotify): Declare Sgfile_valid_p.\n\n2015-09-22  Tassilo Horn  <tsdh@gnu.org>\n\n\tRemove callback-handled channels from Available set\n\n\t* src/process.c (wait_reading_process_output): Remove channel from\n\tAvailable set if it is handled by a callback, e.g., dbus or\n\tinotify (bug#21313).\n\n2015-09-21  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tUse lunate epsilon for TeX \\epsilon\n\n\t* lisp/textmodes/tex-mode.el (tex--prettify-symbols-alist):\n\tAdd \\varepsilon using GREEK SMALL LETTER EPSILON, and change\n\t\\epsilon to use GREEK LUNATE EPSILON SYMBOL\n\n2015-09-21  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/progmodes/prolog.el: Fix nested electric if-then-else\n\n\t* lisp/progmodes/prolog.el (prolog-find-unmatched-paren): Use innermost\n\trather than outermost paren (bug#21526).\n\n2015-09-21  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tImprove git diff hunk headers for .el, .texi\n\n\tProblem reported by Alan Mackenzie in:\n\thttp://lists.gnu.org/archive/html/emacs-devel/2015-09/msg00826.html\n\t* .gitattributes (*.el, *.texi): New patterns.\n\t* autogen.sh: Configure diff.elisp.xfuncname and\n\tdiff.texinfo.xfuncname if using Git.\n\n2015-09-21  Eli Zaretskii  <eliz@gnu.org>\n\n\tDon't rely on defaults in decoding UTF-8 encoded Lisp files\n\n\t* lisp/replace.el:\n\t* lisp/textmodes/rst.el:\n\t* lisp/whitespace.el: Add an explicit UTF-8 encoding tag.\n\n2015-09-21  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tClarify or replace a few \\u escapes\n\n\t* doc/lispref/nonascii.texi (Character Properties)\n\tMore-detailed commentary for \\u escapes.\n\t* lisp/progmodes/python.el (python--prettify-symbols-alist):\n\t* lisp/replace.el (query-replace-from-to-separator):\n\t* lisp/textmodes/rst.el (rst-bullets, rst-re-alist-def)\n\t(rst-mode-syntax-table):\n\t* lisp/whitespace.el (whitespace-display-mappings):\n\tPrefer actual character to \\u escape when this makes the code\n\teasier to follow in the usual case where Unicode chars can be\n\tdisplayed.\n\n2015-09-21  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPacify GCC -Wmaybe-uninitialized in xdisp.c\n\n\t* src/xdisp.c (face_before_or_after_it_pos): Use do-while rather\n\tthan while loop to avoid GCC -Wmaybe-uninitialized diagnostic with\n\tcharpos.  The loop should always execute at least once anyway.\n\n2015-09-21  Tassilo Horn  <tsdh@gnu.org>\n\n\tSignal error on invalid regexp\n\n\t* lisp/textmodes/reftex-cite.el (reftex-extract-bib-entries):\n\tSignal an error when the user tries searching with a regexp\n\tmatching the empty string.\n\n2015-09-21  Eli Zaretskii  <eliz@gnu.org>\n\n\tAnother fix of file-notify-tests for w32notify\n\n\t* test/automated/file-notify-tests.el (file-notify-test02-events):\n\tFurther adaptation for w32notify: reduce the number of expected\n\t'changed' events.  (Bug#21435)\n\n2015-09-21  Michael Albinus  <michael.albinus@gmx.de>\n\n\tAdapt tests and manual for w32notify\n\n\t* doc/lispref/os.texi (File Notifications): w32notify does not\n\tsend `attribute-changed' events.\n\n\t* test/automated/file-notify-tests.el (file-notify--test-with-events):\n\tSimplify parameters.  Adapt all callees.\n\t(file-notify-test02-events): w32notify does not send\n\t`attribute-changed' events.\n\t(file-notify-test04-file-validity, file-notify-test05-dir-validity):\n\tDo not skip in case of w32notify.  Simply ignore this part of the test.\n\n2015-09-21  Dima Kogan  <dima@secretsauce.net>\n\n\tFix setting breakpoints when remote-debugging\n\n\t* lisp/progmodes/gud.el (gud-format-command): Send localized file\n\tnames to the debugger running on the remote.  (Bug#13304)\n\n2015-09-21  Nicolas Petton  <nicolas@petton.fr>\n\n\tBetter docstring and parameter name for seq-find\n\n\t* lisp/emacs-lisp/seq.el (seq-find): Improve the docstring and rename\n\tthe parameter `sentinel' to `default'.\n\n\t* doc/lispref/sequences.texi (Sequence Functions): Update the\n\t  documentation for `seq-find' accordingly.\n\n2015-09-21  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid infinite recursion while displaying box face\n\n\t* src/xdisp.c (face_before_or_after_it_pos): Fix calculation of\n\tthe previous string/buffer character position under bidi\n\titeration.  (Bug#21428)\n\n2015-09-21  Anders Lindgren  <andlind@gmail.com>\n\n\tKeep upper edge unchanged when changing size of NS frame\n\n\t* src/nsterm.m (x_set_window_size): Keep upper frame edge unchanged\n\t(Bug#21415).\n\n2015-09-20  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/progmodes/prolog.el: Improve handling of if/then/else.\n\t(prolog-smie-rules): Accommodate standard if/then/else special\n\tindentation.\n\t(prolog-mode): Add . to electric-indent-chars.\n\t(prolog-electric--if-then-else): Re-indent the line before adding space\n\tafter the new char (bug#21526).\n\n2015-09-20  Mark Oteiza  <mvoteiza@udel.edu>\n\n\tAdd prettify symbols to python-mode\n\n\t* lisp/progmodes/python.el (python-prettify-symbols-alist):\n\tNew variable.\n\t(python-mode): Use it\n\n2015-09-20  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/syntax.el (syntax-begin-function): Make obsolete.\n\n2015-09-20  Jostein Kj\u00f8nigsen  <jostein@secure.kjonigsen.net>  (tiny change)\n\n\t(compilation-error-regexp-alist-alist): Tone down guile-file\n\n\t* lisp/progmodes/compile.el (compilation-error-regexp-alist-alist):\n\tMake guile-file a bit less enthusiastic (bug#21496).\n\n2015-09-20  Drew Csillag  <drew@thecsillags.com>\n\n\t* lisp/progmodes/m4-mode.el (m4-font-lock-keywords):\n\tFix m4_* highlighting.\n\n\t* lisp/progmodes/m4-mode.el (m4-font-lock-keywords): Fix recognition\n\tof commands when they have a \"m4_\" prefix.\n\n2015-09-20  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t'.' -> `.' in doc string\n\n\t* lisp/emacs-lisp/timer.el (run-at-time): In doc string, quote\n\tindividual chars with grave quotes instead of straight quotes, as\n\tthis works better when they are translated to curved quotes.\n\n2015-09-20  Michael Albinus  <michael.albinus@gmx.de>\n\n\tImprove file notifications, especially for Tramp\n\n\t* doc/lispref/files.texi (Magic File Names):\n\tMention `file-notify-valid-p'.\n\n\t* doc/lispref/os.texi (File Notifications):\n\tDescribe `file-notify-valid-p'.\n\n\t* etc/NEWS: Add `file-notify-valid-p'.\n\n\t* lisp/net/tramp-gvfs.el (tramp-gvfs-handle-file-notify-add-watch):\n\tImprove implementation.\n\t(tramp-gvfs-monitor-file-process-filter): Rename from\n\t`tramp-gvfs-file-gvfs-monitor-file-process-filter'.  Delete\n\tprocess if appropriate.\n\n\t* lisp/net/tramp-sh.el (tramp-sh-handle-file-notify-add-watch):\n\tImprove implementation.\n\t(tramp-sh-gvfs-monitor-dir-process-filter): Rename from\n\t`tramp-sh-file-gvfs-monitor-dir-process-filter'.  Delete process\n\tif appropriate.\n\t(tramp-sh-inotifywait-process-filter): Rename from\n\t`tramp-sh-file-inotifywait-process-filter'.  Delete process if\n\tappropriate.\n\n\t* lisp/net/tramp.el (tramp-handle-file-notify-rm-watch):\n\tUse `delete-process'.\n\t(tramp-handle-file-notify-valid-p): Check also, that file or\n\tdirectory to be watched still exists.\n\n\t* test/automated/file-notify-tests.el (file-notify--test-timeout):\n\tNew defun.  Use it at all places a timeout is needed.\n\t(file-notify--test-cleanup): Delete directories recursively.\n\tCleanup also Tramp connections.\n\t(file-notify-test02-events): Add tests for `attribute-change'.\n\t(file-notify-test04-file-validity, file-notify-test05-dir-validity):\n\tAdd tests for `file-notify-rm-watch'.\n\n2015-09-20  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tUse %s to format strings instead of splicing them\n\n\tIf FOO might contain quotes that are part of a file or variable\n\tname, the quotes should not be translated when showing FOO\u2019s name\n\tin a diagnostic.  So, for example, (message (concat (FOO \": bar\")))\n\tis not quite right, as it would translate FOO\u2019s quotes.\n\tChange it to (message \"%s: bar\" FOO) instead.\n\t* lisp/allout.el (allout-process-exposed):\n\t* lisp/calc/calc-ext.el (calc-do-prefix-help):\n\t* lisp/calc/calc-store.el (calc-store-into):\n\t* lisp/calendar/todo-mode.el (todo-category-completions):\n\t* lisp/cedet/semantic/complete.el (semantic-completion-message):\n\t* lisp/org/ob-latex.el (convert-pdf):\n\t* lisp/org/org-crypt.el (org-crypt-check-auto-save):\n\t* lisp/org/ox-latex.el (org-latex-compile):\n\t* lisp/org/ox-man.el (org-man-compile):\n\t* lisp/org/ox-odt.el (org-odt--export-wrap):\n\t* lisp/org/ox-texinfo.el (org-texinfo-compile):\n\t* lisp/progmodes/ruby-mode.el (ruby-in-ppss-context-p):\n\t* lisp/progmodes/verilog-mode.el (verilog-batch-execute-func)\n\t(verilog-signals-combine-bus, verilog-read-defines)\n\t(verilog-getopt-file, verilog-expand-dirnames)\n\t(verilog-modi-lookup, verilog-modi-modport-lookup-one):\n\t* lisp/term/ns-win.el (ns-spi-service-call):\n\tUse %s to avoid translating quotes of file names etc. in diagnostics.\n\n2015-09-20  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/progmodes/js.el (js--syntax-begin-function): Remove.\n\t(js-mode): Don't set syntax-begin-function.\n\n2015-09-20  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/font-lock.el (font-lock-compile-keywords): Don't assume\n\tsyntax-begin-function is a symbol.\n\n2015-09-20  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of 'run-at-time'\n\t* lisp/emacs-lisp/timer.el (run-at-time): Improve the doc string.\n\tIn particular, don't refer to 'diary-entry-time', because it is\n\tunavailable until diary-lib is loaded.  Also, refer to\n\t'timer-duration-words', not 'timer-duration', as the latter's doc\n\tstring says nothing about the accepted strings.\n\n2015-09-19  Jay Belanger  <jay.p.belanger@gmail.com>\n\n\t* lisp/calc/calc-ext.el (calc-do-prefix-help): Tidy up error message.\n\n2015-09-19  Ken Manheimer  <ken.manheimer@gmail.com>\n\n\tRepair pdbtrack remote file tracking\n\t* lisp/progmodes/python.el (python-pdbtrack-set-tracked-buffer):\n\tRectify pdbtrack so it follows transitions from one remote source\n\tfile to the next.\n\n2015-09-19  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/timer.el (run-at-time): Docstring formatting.\n\n2015-09-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tAdapt vc-src to the old-new vc-checkin API\n\t* lisp/vc/vc-src.el (vc-src-checkin): Accept and ignore an\n\tadditional optional parameter.\n\n2015-09-19  Simen Heggest\u00f8yl  <simenheg@gmail.com>\n\n\tAdd overflow module to CSS property list\n\t* lisp/textmodes/css-mode.el (css-property-ids): Add properties\n\tfrom CSS Overflow Module Level 3.\n\n2015-09-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix documentation of \"C-u C-x v v\"\n\t* doc/emacs/maintaining.texi (Advanced C-x v v): Make the\n\tdocumentation of \"C-u C-x v v\" match what the code does.\n\n\tResurrect the ability to specify a revision in vc-next-action\n\t* lisp/vc/vc-bzr.el (vc-bzr-checkin):\n\t* lisp/vc/vc-dav.el (vc-dav-checkin):\n\t* lisp/vc/vc-git.el (vc-git-checkin):\n\t* lisp/vc/vc-hg.el (vc-hg-checkin):\n\t* lisp/vc/vc-mtn.el (vc-mtn-checkin): Accept and silently ignore\n\tan additional optional argument, the revision to checkin.\n\t* lisp/vc/vc-sccs.el (vc-sccs-checkin):\n\t* lisp/vc/vc-cvs.el (vc-cvs-checkin):\n\t* lisp/vc/vc-rcs.el (vc-rcs-checkin): Allow to optionally specify\n\ta revision to checkin.\n\t* lisp/vc/vc.el (vc-next-action): Allow to optionally specify the\n\trevision when checking in files.\n\tSee http://lists.gnu.org/archive/html/emacs-devel/2015-09/msg00688.html\n\tfor the details.\n\n2015-09-18  Wilson Snyder  <wsnyder@wsnyder.org>\n\n\t* lisp/progmodes/verilog-mode.el (verilog-forward-sexp-function)\n\t(verilog-decls-princ, verilog-modport-princ)\n\t(verilog-modi-modport-lookup-one): Fix checkdoc warnings.\n\n2015-09-17  Jay Belanger  <jay.p.belanger@gmail.com>\n\n\tFix the routine for help on Calc's prefixes\n\t* lisp/calc/calc-ext.el (calc-prefix-help-retry): New variable.\n\t(calc-do-prefix-help): Use `read-char' to determine the next Calc\n\tcommand.\n\n2015-09-17  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/font-lock.el (font-lock-beginning-of-syntax-function): Remove.\n\t(font-lock-fontify-block): Don't let-bind it.\n\t(font-lock-compile-keywords): Don't use it.\n\t(font-lock-set-defaults): Don't set it.  Allow the variable alist to\n\tstart one slot earlier, instead.\n\t* lisp/emacs-lisp/syntax.el (font-lock-beginning-of-syntax-function):\n\tDon't declare.\n\t(syntax-ppss): Don't use it either.\n\t* lisp/font-core.el (font-lock-defaults): Remove SYNTAX-BEGIN\n\tfrom docstring.\n\t* doc/emacs/display.texi (Font Lock): Don't mention\n\tfont-lock-beginning-of-syntax-function.\n\t* doc/lispref/modes.texi (Font Lock Basics): Update description of\n\tfont-lock-defaults.\n\t(Syntactic Font Lock): Remove font-lock-beginning-of-syntax-function.\n\t* lisp/loadhist.el (unload-feature-special-hooks):\n\tRemove font-lock-beginning-of-syntax-function.\n\t* lisp/obsolete/lazy-lock.el (lazy-lock-fontify-region):\n\t* lisp/emacs-lisp/lisp.el (beginning-of-defun-raw): Don't let-bind\n\tfont-lock-beginning-of-syntax-function.\n\n2015-09-17  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tBackslash cleanup in Elisp source files\n\tThis patch should not change behavior.  It typically omits backslashes\n\twhere they are redundant (e.g., in the string literal \"^\\$\").\n\tIn a few places, insert backslashes where they make regular\n\texpressions clearer: e.g., replace \"^\\*\" (equivalent to \"^*\") with\n\t\"^\\\\*\", which has the same effect as a regular expression.\n\tAlso, use \u2018\\ %\u2019 instead of \u2018\\%\u2019 when avoiding confusion with SCCS IDs,\n\tand similarly use \u2018\\ $\u2019 instead of \u2018\\$\u2019 when avoiding confusion with\n\tRCS IDs, as that makes it clearer that the backslash is intended.\n\n\tSome more minor backslash fixes\n\t* test/automated/compile-tests.el (compile-tests--test-regexps-data):\n\t* test/automated/info-xref.el (info-xref-test-write-file):\n\tDouble backslashes in strings.\n\n\tFix several backslash typos in Elisp strings\n\t* lisp/calendar/todo-mode.el (todo-files, todo-rename-file)\n\t(todo-find-filtered-items-file, todo-reset-nondiary-marker)\n\t(todo-reset-done-string, todo-reset-comment-string)\n\t(todo-reset-highlight-item):\n\t* lisp/erc/erc-networks.el (erc-networks-alist):\n\t* lisp/gnus/gnus-art.el (gnus-button-handle-library):\n\t* lisp/gnus/gnus-group.el (gnus-read-ephemeral-gmane-group-url):\n\t* lisp/gnus/nntp.el (nntp-via-shell-prompt)\n\t(nntp-telnet-shell-prompt):\n\t* lisp/gnus/spam-report.el (spam-report-gmane-regex):\n\t* lisp/image-dired.el (image-dired-rotate-original):\n\t(image-dired-get-exif-file-name):\n\t* lisp/international/latin1-disp.el (latin1-display-ucs-per-lynx):\n\t* lisp/mail/undigest.el (rmail-digest-parse-rfc1153strict):\n\t* lisp/mh-e/mh-letter.el (mh-file-is-vcard-p):\n\t* lisp/mh-e/mh-mime.el (mh-file-mime-type-substitutions):\n\t* lisp/net/shr-color.el (shr-color->hexadecimal):\n\t* lisp/org/org-bibtex.el (org-bibtex-fields):\n\t* lisp/org/org-docview.el (org-docview-export):\n\t* lisp/org/org-entities.el (org-entities):\n\t* lisp/org/ox-icalendar.el (org-icalendar-cleanup-string):\n\t* lisp/progmodes/cperl-mode.el (cperl-indent-exp):\n\t* lisp/progmodes/ebnf2ps.el (ebnf-file-suffix-regexp)\n\t(ebnf-style-database):\n\t* lisp/progmodes/idlw-help.el (idlwave-do-context-help1):\n\t* lisp/progmodes/ruby-mode.el (ruby-imenu-create-index-in-block):\n\t* lisp/progmodes/sql.el (sql-product-alist):\n\t* lisp/progmodes/verilog-mode.el (verilog-error-regexp-emacs-alist)\n\t(verilog-error-font-lock-keywords)\n\t(verilog-assignment-operator-re):\n\t* lisp/progmodes/vhdl-mode.el (vhdl-compiler-alist):\n\t* lisp/textmodes/reftex-parse.el (reftex-parse-from-file):\n\t* lisp/vc/add-log.el (change-log-version-number-regexp-list):\n\tFix typo by replacing \u2018\\\u2019 with \u2018\\\\\u2019 in a string literal.\n\tFor example, to get the regular expression \u2018\\.\u2019 use the string\n\tliteral \"\\\\.\", not \"\\.\" (which is equivalent to \".\").\n\t* lisp/emulation/viper-util.el (viper-glob-unix-files):\n\tRemove stray \u2018\\j\u2019 from string.\n\t* lisp/gnus/nntp.el (nntp-via-shell-prompt)\n\t(nntp-telnet-shell-prompt):\n\tTreat > like $ when matching a shell prompt.\n\t* lisp/progmodes/make-mode.el (makefile-browse):\n\tProperly quote a diagnostic.\n\n\tFix minor quoting problems in diagnostics\n\t* lisp/tutorial.el (tutorial--describe-nonstandard-key):\n\t* lisp/vc/ediff-ptch.el (ediff-fixup-patch-map):\n\tFollow text-quoting-style in diagnostic, and quote a file name.\n\n2015-09-17  Eli Zaretskii  <eliz@gnu.org>\n\n\t* doc/lispref/frames.texi (Cursor Parameters):\n\tDocument 'x-stretch-cursor'.\n\n2015-09-16  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tOmit unnecessary \\ before paren in C docstrings\n\tAlthough \\( is needed in docstrings in Elisp code, it is not needed in\n\tdocstrings in C code, since C function definitiions do not start with\n\ta parenthesis.  The backslashes made the docstrings a bit harder to\n\tread and to format in columns.  Also, some C docstrings had ( in\n\tcolumn 1 and this did not appear to be causing any problems.  So,\n\tsimplify C docstrings by replacing \\( with ( and \\) with ).\n\n\tA few more minor quoting fixes in a script and a text file\n\n\tMinor quoting fixes in scripts and doc\n\tPrefer straight quotes in random script files, as they are not\n\tconverted.  Prefer grave quotes in a couple of places in the manual\n\tthat were missed earlier, as these quotes are converted.\n\n\tMinor backslash fixes in manuals and scripts\n\t* Makefile.in (install-arch-indep):\n\t* admin/charsets/compact.awk:\n\t* admin/charsets/gb180302.awk (gb_to_index):\n\t* admin/charsets/gb180304.awk (gb_to_index):\n\tAvoid undefined behavior in Awk regular expression backslashes.\n\t* doc/misc/efaq.texi (Matching parentheses):\n\tOmit unnecessary backslashes.\n\t* doc/misc/gnus-faq.texi (FAQ 5-8):\n\tAvoid undefined behavior in suggested sed backslash usage.\n\n\tAdd -Wswitch to --enable-gcc-warnings\n\tMake --enable-gcc-warnings a bit pickier, by also using -Wswitch.\n\t* configure.ac (WERROR_CFLAGS): Don\u2019t add -Wno-switch.\n\t* lib-src/etags.c (main, consider_token, C_entries):\n\t* src/coding.c (encode_invocation_designation):\n\t* src/data.c (Ftype_of):\n\t* src/eval.c (Fdefvaralias, default_toplevel_binding)\n\t(Fbacktrace__locals, mark_specpdl):\n\t* src/lisp.h (record_xmalloc):\n\t* src/syntax.c (scan_lists, scan_sexps_forward):\n\t* src/window.c (window_relative_x_coord):\n\t* src/xdisp.c (push_it, pop_it):\n\t* src/xterm.c (xg_scroll_callback, x_check_fullscreen):\n\tError out or do nothing (as appropriate) if a switch statement\n\twith an enum value does not cover all of the enum.\n\t* src/dispextern.h (struct iterator_stack_entry.u.comp):\n\tRemove unused member discovered by using -Wswitch.\n\t* src/lisp.h (record_xmalloc): Add a \u2018+ 0\u2019 to pacify -Wswitch.\n\t* src/vm-limit.c (check_memory_limits):\n\tSimplify warning-diagnostic computation by using a table.\n\n\tetags \u2018fatal\u2019 function is now printf-like\n\t* lib-src/etags.c (fatal): Now printf-like.  All callers changed.\n\tAlso, now static; not clear why it needed to be extern.\n\t(verror): New function, with most of the old contents of \u2018error\u2019.\n\t(fatal, error): Use it.\n\n2015-09-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tMore adaptations in file-notify-tests.el\n\t* test/automated/file-notify-tests.el\n\t(file-notify-test05-dir-validity): Skip for w32notify in\n\tbatch-mode.  (Bug#21432)\n\n2015-09-16  Michael Albinus  <michael.albinus@gmx.de>\n\n\tAdapt test in file-notify-tests.el\n\t* test/automated/file-notify-tests.el\n\t(file-notify-test04-file-validity): Skip for w32notify in\n\tbatch-mode.  Add test lost last commit.\n\n2015-09-16  Dima Kogan  <dima@secretsauce.net>\n\n\twinner no longer holds on to dead frames\n\t* lisp/winner.el (winner-change-fun): Cull dead frames.\n\tThis prevents a potentially massive memory leak.  See:\n\thttp://lists.gnu.org/archive/html/emacs-devel/2015-09/msg00619.html\n\n2015-09-16  Michael Albinus  <michael.albinus@gmx.de>\n\n\tUse common report_file_notify_error function\n\t* src/fileio.c (report_file_notify_error): New function.\n\t* src/inotify.c (report_inotify_error): Remove function.\n\t(inotify_callback, symbol_to_inotifymask, Finotify_add_watch)\n\t(Finotify_rm_watch): Use report_file_notify_error.\n\t* src/lisp.h (report_file_notify_error): Declare external function.\n\t* src/w32notify.c (report_w32notify_error): Remove function.\n\t(Fw32notify_add_watch, Fw32notify_rm_watch):\n\tUse report_file_notify_error.\n\n2015-09-16  Jay Belanger  <jay.p.belanger@gmail.com>\n\n\tFix documentation.\n\t* doc/misc/calc.texi (Single-Variable Statistics): Fix the wording of\n\tthe documentation of the root mean square.\n\n2015-09-16  Martin Rudalics  <rudalics@gmx.at>\n\n\tRemove tool_bar_redisplayed_once and associated code.\n\t* src/frame.h (tool_bar_redisplayed_once): Remove slot.\n\t* src/frame.c (make_frame, x_set_font): Remove initialization of\n\tf->tool_bar_redisplayed_once.\n\t* src/w32fns.c (x_change_tool_bar_height):\n\t* src/xfns.c (x_change_tool_bar_height): Don't check for\n\tf->tool_bar_redisplayed_once.\n\t* src/xdisp.c (redisplay_internal): Remove handling of\n\tf->tool_bar_redisplayed_once.\n\n2015-09-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tRestore some of the quoting in the manuals\n\t* doc/lispref/windows.texi (Coordinates and Windows)\n\t(Coordinates and Windows):\n\t* doc/lispref/variables.texi (Lexical Binding)\n\t(File Local Variables):\n\t* doc/lispref/text.texi (Format Properties):\n\t* doc/lispref/symbols.texi (Symbol Components):\n\t* doc/lispref/strings.texi (Creating Strings):\n\t* doc/lispref/sequences.texi (Sequence Functions):\n\t* doc/lispref/searching.texi (Regexp Special, Regexp Search)\n\t(Search and Replace):\n\t* doc/lispref/processes.texi (Bindat Spec):\n\t* doc/lispref/os.texi (Idle Timers):\n\t* doc/lispref/objects.texi (Basic Char Syntax):\n\t* doc/lispref/numbers.texi (Float Basics, Random Numbers):\n\t* doc/lispref/nonascii.texi (Character Properties):\n\t* doc/lispref/modes.texi (Major Mode Conventions, Mode Hooks)\n\t(Mode Line Variables):\n\t* doc/lispref/minibuf.texi (Text from Minibuffer):\n\t* doc/lispref/loading.texi (Autoload):\n\t* doc/lispref/keymaps.texi (Controlling Active Maps):\n\t* doc/lispref/frames.texi (Frame Layout, Size and Position)\n\t(Size Parameters, Implied Frame Resizing):\n\t* doc/lispref/files.texi (Changing Files, Magic File Names):\n\t* doc/lispref/eval.texi (Self-Evaluating Forms):\n\t* doc/lispref/display.texi (Progress, Abstract Display)\n\t(Abstract Display Example, Bidirectional Display):\n\t* doc/lispref/commands.texi (Event Mod):\n\t* doc/emacs/windows.texi (Displaying Buffers):\n\t* doc/emacs/trouble.texi (Bug Criteria, Checklist):\n\t* doc/emacs/text.texi (Enriched Text):\n\t* doc/emacs/programs.texi (MixedCase Words):\n\t* doc/emacs/picture-xtra.texi (Insert in Picture)\n\t(Tabs in Picture):\n\t* doc/emacs/misc.texi (Emacs Server, Printing):\n\t* doc/emacs/mini.texi (Minibuffer History):\n\t* doc/emacs/maintaining.texi (Old Revisions, VC Change Log)\n\t(Pulling / Pushing):\n\t* doc/emacs/killing.texi (Yanking, Cut and Paste, Clipboard):\n\t* doc/emacs/help.texi (Help, Help Echo):\n\t* doc/emacs/glossary.texi (Glossary):\n\t* doc/emacs/frames.texi (Mouse Commands, Creating Frames)\n\t(Frame Commands):\n\t* doc/emacs/files.texi (Reverting, Saving, Directories):\n\t* doc/emacs/entering.texi (Exiting):\n\t* doc/emacs/emacs.texi (Top):\n\t* doc/emacs/cmdargs.texi (Window Size X, Icons X):\n\t* doc/emacs/anti.texi (Antinews): Restore quoting of text where\n\tappropriate or replace quoting with @dfn.\n\t* doc/misc/ediff.texi (Window and Frame Configuration):\n\t* doc/lispref/processes.texi (Network Feature Testing):\n\t* doc/lispref/display.texi (Display Margins): Quote the phrase\n\tafter \"a.k.a.\" where appropriate.\n\n2015-09-16  Tassilo Horn  <tsdh@gnu.org>\n\n\tClarify reftex-extra-bindings docs\n\t* lisp/textmodes/reftex-vars.el (reftex-extra-bindings):\n\t* doc/misc/reftex.texi (Key Bindings): Document that the variable\n\tonly has an effect at load-time.\n\n2015-09-16  Daniel McClanahan  <danieldmcclanahan@gmail.com>  (tiny change)\n\n\t* lisp/emacs-lisp/lisp-mode.el (lisp--el-match-keyword): Fix\n\tsearch argument.  (Bug#21492) (Bug#21493)\n\n2015-09-16  Tassilo Horn  <tsdh@gnu.org>\n\n\t* lisp/textmodes/tex-mode.el (tex--prettify-symbols-alist):\n\tAdd pretty symbols for \\qquad and \\varrho.\n\n2015-09-15  Jay Belanger  <jay.p.belanger@gmail.com>\n\n\tAdd new functions for the root mean square of a (Calc) vector\n\t* lisp/calc/calc-stat.el (calcFunc-rms, calc-vector-rms):\n\tNew functions.\n\t* lisp/calc/calc-ext.el (calc-init-extensions): Add keybinding for\n\t`calc-vector-rms', add autoloads for `calc-vector-rms' and\n\t`calcFunc-rms'.\n\t* lisp/calc/calc-map.el (calc-u-oper-keys): Add entry for\n\t`calcFunc-rms'.\n\t* lisp/calc/calc-menu.el (calc-vectors-menu): Add entry for\n\t`calc-vector-rms'.\n\t* doc/misc/calc.texi (Single-Variable Statistics): Document the rms\n\tcommand.\n\n2015-09-15  Stephen Leake  <stephen_leake@stephe-leake.org>\n\n\tAdd monotone EDE generic project\n\t* lisp/cedet/ede/generic.el (ede-enable-generic-projects):\n\tAdd monotone generic project.\n\n\tRevert premature commit\n\t* doc/lispref/files.texi: Revert premature commit of change to\n\tfile-name-all-completions.\n\n\tFix a bug in elisp--xref-find-definitions related to cl-generic defaults\n\t* lisp/progmodes/elisp-mode.el (elisp--xref-find-definitions): Fix bug\n\twith cl-generic defaults.\n\t(elisp--xref-find-references): Add doc string.\n\t* test/automated/elisp-mode-tests.el (xref-elisp-generic-*): Improve\n\ttests to find bug.\n\n\tFix bugs in eieio-oref-default related to class symbols\n\t* lisp/emacs-lisp/eieio-core.el (class-p): Handle symbol properly.\n\t(eieio-oref-default): Handle class properly.\n\n2015-09-15  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tQuote \u201cfullboth\u201d when defining it\n\t* doc/lispref/frames.texi (Size Parameters): Use @dfn for \u201cfullboth\u201d\n\tand rewrite the containing paragraph, which was awkward.  (Bug#21472).\n\n2015-09-15  Eli Zaretskii  <eliz@gnu.org>\n\n\tMinor doc fix in emacs/ack.texi\n\t* doc/emacs/ack.texi (Acknowledgments): Fix an xref missing the\n\tfirst argument.\n\n2015-09-15  Michael Albinus  <michael.albinus@gmx.de>\n\n\tAdapt tests in auto-revert-tests.el\n\t* test/automated/auto-revert-tests.el (auto-revert--timeout):\n\tMake it a defconst.\n\t(auto-revert--wait-for-revert): New defun.\n\t(auto-revert-test00-auto-revert-mode)\n\t(auto-revert-test01-auto-revert-tail-mode)\n\t(auto-revert-test02-auto-revert-mode-dired): Use it.\n\n2015-09-15  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/lisp-mode.el (lisp-mode-symbol-regexp): New const.\n\tUse it everywhere \"\\\\(\\\\sw\\\\|\\\\s_\\\\|\\\\\\\\.\\\\)+\" was used.\n\t(cl-lib-fdefs): Add defgeneric.\n\t(cl-kw): Add all elements of eieio-kw and cl-lib-kw.\n\t(eieio-kw, cl-lib-kw, el-kw): Remove.\n\n2015-09-15  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tQuote less in manuals\n\tThe manuals often used quotes ``...'' when it is better to use @dfn or\n\t@code or capitalized words or no quoting at all.  For example, there is\n\tno need for the `` and '' in \u201cif a variable has one effect for\n\t@code{nil} values and another effect for ``non-@code{nil}'' values\u201d.\n\tReword the Emacs, Lisp intro, and Lisp reference manuals to eliminate\n\tunnecessary quoting like this, and to use @dfn etc. instead when called\n\tfor (Bug#21472).\n\n2015-09-15  Mark Oteiza  <mvoteiza@udel.edu>\n\n\t* lisp/custom.el (load-theme): Only compute hash when needed.\n\n2015-09-15  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPacify --enable-gcc-warnings\n\t* src/inotify.c (report_inotify_error): Declare it _Noreturn.\n\n2015-09-15  Michael Albinus  <michael.albinus@gmx.de>\n\n\tImprove error reports in inotify.c\n\t* src/inotify.c (report_inotify_error): New function.  Clone of\n\treport_w32notify_error.\n\t(inotify_callback, symbol_to_inotifymask, Finotify_add_watch)\n\t(Finotify_rm_watch): Use it.\n\n2015-09-15  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix the file-notify tests for watch validation on w32\n\t* test/automated/file-notify-tests.el\n\t(file-notify-test04-file-validity): Move the directory deletion\n\tout of the file-notify--test-with-events macro.\n\t(file-notify-test04-file-validity)\n\t(file-notify-test05-dir-validity): Enlarge the timeout of\n\tread-event to 0.5, as 0.1 is borderline on w32.  (Bug#21432)\n\n2015-09-15  Tassilo Horn  <tsdh@gnu.org>\n\n\tUse OPEN BOX instead of space for \\quad.\n\t* lisp/textmodes/tex-mode.el (tex--prettify-symbols-alist): Use OPEN BOX\n\tcharacter for \\quad instead of a space.\n\n2015-09-15  Eli Zaretskii  <eliz@gnu.org>\n\n\tAdd missing *.pbm images\n\t* etc/images/connect.pbm: New file.\n\t* etc/images/custom/down-pushed.pbm: New file.\n\t* etc/images/custom/down.pbm: New file.\n\t* etc/images/custom/right-pushed.pbm: New file.\n\t* etc/images/custom/right.pbm: New file.\n\t* etc/images/describe.pbm: New file.\n\t* etc/images/disconnect.pbm: New file.\n\t* etc/images/ezimage/bits.pbm: New file.\n\t* etc/images/ezimage/bitsbang.pbm: New file.\n\t* etc/images/ezimage/box-minus.pbm: New file.\n\t* etc/images/ezimage/box-plus.pbm: New file.\n\t* etc/images/ezimage/box.pbm: New file.\n\t* etc/images/ezimage/checkmark.pbm: New file.\n\t* etc/images/ezimage/dir-minus.pbm: New file.\n\t* etc/images/ezimage/dir-plus.pbm: New file.\n\t* etc/images/ezimage/dir.pbm: New file.\n\t* etc/images/ezimage/doc-minus.pbm: New file.\n\t* etc/images/ezimage/doc-plus.pbm: New file.\n\t* etc/images/ezimage/doc.pbm: New file.\n\t* etc/images/ezimage/info.pbm: New file.\n\t* etc/images/ezimage/key.pbm: New file.\n\t* etc/images/ezimage/label.pbm: New file.\n\t* etc/images/ezimage/lock.pbm: New file.\n\t* etc/images/ezimage/mail.pbm: New file.\n\t* etc/images/ezimage/page-minus.pbm: New file.\n\t* etc/images/ezimage/page-plus.pbm: New file.\n\t* etc/images/ezimage/page.pbm: New file.\n\t* etc/images/ezimage/tag-gt.pbm: New file.\n\t* etc/images/ezimage/tag-minus.pbm: New file.\n\t* etc/images/ezimage/tag-plus.pbm: New file.\n\t* etc/images/ezimage/tag-type.pbm: New file.\n\t* etc/images/ezimage/tag-v.pbm: New file.\n\t* etc/images/ezimage/tag.pbm: New file.\n\t* etc/images/ezimage/unlock.pbm: New file.\n\t* etc/images/gnus/important.pbm: New file.\n\t* etc/images/gnus/mail-send.pbm: New file.\n\t* etc/images/gnus/receipt.pbm: New file.\n\t* etc/images/gnus/toggle-subscription.pbm: New file.\n\t* etc/images/gnus/unimportant.pbm: New file.\n\t* etc/images/gud/all.pbm: New file.\n\t* etc/images/gud/rcont.pbm: New file.\n\t* etc/images/gud/recstart.pbm: New file.\n\t* etc/images/gud/recstop.pbm: New file.\n\t* etc/images/gud/rfinish.pbm: New file.\n\t* etc/images/gud/rnext.pbm: New file.\n\t* etc/images/gud/rnexti.pbm: New file.\n\t* etc/images/gud/rstep.pbm: New file.\n\t* etc/images/gud/rstepi.pbm: New file.\n\t* etc/images/gud/thread.pbm: New file.\n\t* etc/images/lock-broken.pbm: New file.\n\t* etc/images/lock-ok.pbm: New file.\n\t* etc/images/lock.pbm: New file.\n\t* etc/images/mail/copy.pbm: New file.\n\t* etc/images/mail/forward.pbm: New file.\n\t* etc/images/mail/not-spam.pbm: New file.\n\t* etc/images/mail/outbox.pbm: New file.\n\t* etc/images/mail/preview.pbm: New file.\n\t* etc/images/mail/save-draft.pbm: New file.\n\t* etc/images/mh-logo.pbm: New file.\n\t* etc/images/mpc/add.pbm: New file.\n\t* etc/images/mpc/ffwd.pbm: New file.\n\t* etc/images/mpc/next.pbm: New file.\n\t* etc/images/mpc/pause.pbm: New file.\n\t* etc/images/mpc/play.pbm: New file.\n\t* etc/images/mpc/prev.pbm: New file.\n\t* etc/images/mpc/rewind.pbm: New file.\n\t* etc/images/mpc/stop.pbm: New file.\n\t* etc/images/redo.pbm: New file.\n\t* etc/images/smilies/braindamaged.pbm: New file.\n\t* etc/images/smilies/cry.pbm: New file.\n\t* etc/images/smilies/dead.pbm: New file.\n\t* etc/images/smilies/evil.pbm: New file.\n\t* etc/images/smilies/forced.pbm: New file.\n\t* etc/images/smilies/grin.pbm: New file.\n\t* etc/images/smilies/indifferent.pbm: New file.\n\t* etc/images/sort-ascending.pbm: New file.\n\t* etc/images/sort-column-ascending.pbm: New file.\n\t* etc/images/sort-criteria.pbm: New file.\n\t* etc/images/sort-descending.pbm: New file.\n\t* etc/images/sort-row-ascending.pbm: New file.\n\t* etc/images/unchecked.pbm: New file.\n\t* etc/images/zoom-in.pbm: New file.\n\t* etc/images/README: Update instructions for PBM files.\n\n\tAdd separator.pbm tool-bar image\n\t* etc/images/separator.pbm: New file.  Having it avoids the side\n\teffect of changing the tool-bar height when the default font's size\n\tchanges and XPM image support is not available, due to the SPC\n\tcharacters that are left in the Lisp string used to display the tool\n\tbar, because there are no images to display instead of those SPC\n\tcharacters.\n\n\tMake show-paren-match face visible on mono-color displays\n\t* lisp/faces.el (show-paren-match): Use the underline face for\n\tmono-color displays.  (Bug#21481)\n\n2015-09-14  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDon\u2019t double-encode non-ASCII mail clipboard\n\t* lisp/mail/mailclient.el (mailclient-send-it):\n\tAlso fix the case when mailclient-place-body-on-clipboard-flag\n\tis non-nil.  Problem reported by Eli Zaretskii (Bug#21471#37).\n\n2015-09-14  Michael Albinus  <michael.albinus@gmx.de>\n\n\tAdapt file-notify-tests.el test cases\n\t* lisp/filenotify.el (file-notify-rm-watch): Ignore `file-notify-error'.\n\t* src/inotify.c (Finotify_valid_p): Adapt docstring.\n\t* test/automated/file-notify-tests.el\n\t(file-notify-test03-autorevert)\n\t(file-notify-test04-file-validity)\n\t(file-notify-test04-file-validity-remote)\n\t(file-notify-test05-dir-validity)\n\t(file-notify-test05-dir-validity-remote): Adapt docstring.\n\t(file-notify-test04-file-validity): Let events arrive before\n\tcalling final `file-notify-valid-p'.  Do not ignore errors.\n\t(file-notify-test05-dir-validity): Do not manipulate\n\t`temporary-file-directory', it isn't necessary.  Let events arrive\n\tbefore calling final `file-notify-valid-p'.  Do not ignore errors.\n\n2015-09-14  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDon\u2019t double-encode non-ASCII for mail client\n\t* lisp/mail/mailclient.el (mailclient-encode-string-as-url):\n\tUse RFC 6068\u2019s list of unreserved characters.\n\t(mailclient-send-it): When encoding the body as a URL,\n\tfirst decode it as per Content-Type: and Content-Transfer-Encoding:,\n\tas URLs must use percent-encoded UTF-8 (Bug#21471).\n\t* doc/misc/url.texi (mailto): Update RFC number.\n\n2015-09-14  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/progmodes/cc-langs.el (c-make-init-lang-vars-fun): Use dolist.\n\n2015-09-14  Alan Mackenzie  <acm@muc.de>\n\n\tReplace `cadar' with `cadr/car', since `cadar' is problematic on Emacs\n\t(c-make-init-lang-vars-fun): Replace two occurrences of `cadar' with\n\t`cadr/car'.\n\n2015-09-14  Eli Zaretskii  <eliz@gnu.org>\n\n\tClarify documentation of char-table extra slots\n\t* doc/lispref/sequences.texi (Char-Tables): Clarify that extra\n\tslot numbers are zero-based.  (Bug#21467)\n\n2015-09-14  Alan Mackenzie  <acm@muc.de>\n\n\tElisp mode: Make font-lock and imenu handle escaped characters in symbols\n\tFixes bug#21449.\n\t* lisp/emacs-lisp/lisp-mode.el (lisp-imenu-generic-expression)\n\t(lisp--el-match-keyword, lisp-el-font-lock-keywords-1)\n\t(lisp-cl-font-lock-keywords-1, lisp-el-font-lock-keywords-2)\n\t(lisp-cl-font-lock-keywords-2, lisp-string-in-doc-position-p):\n\tInsert \"\\\\|\\\\\\\\.\" into regexps which match symbols.\n\n2015-09-14  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove the doc string of w32notify-valid-p\n\t* src/w32notify.c (Fw32notify_valid_p): Mention in the doc string\n\tthat removing a watch makes its object invalid.\n\n2015-09-14  Tassilo Horn  <tsdh@gnu.org>\n\n\tFix tests for file-notify-valid-p\n\t* test/automated/file-notify-tests.el (file-notify--test-cleanup):\n\tUse delete-directory to delete file-notify--test-tmpfile if it is\n\ta directory.  Likewise for file-notify--test-tmpfile1.\n\t(file-notify-test04-file-validity)\n\t(file-notify-test05-dir-validity): Delete the parent directory of\n\tthe test.  Ignore errors when cleaning up after the test.\n\n2015-09-14  Eli Zaretskii  <eliz@gnu.org>\n\n\tReport file-notify-error in w32notify.c\n\t* src/w32notify.c (report_w32notify_error): New function.\n\t(Fw32notify_add_watch, Fw32notify_rm_watch): Use it to report\n\terrors, instead of calling report_file_error.  (Bug#21432)\n\n\tImplement w32notify-valid-p\n\t* src/w32notify.c (Fw32notify_valid_p): New function.  (Bug#21432)\n\t* lisp/filenotify.el (w32notify-valid-p): No longer an alias for\n\t'identity'.\n\n2015-09-14  Tassilo Horn  <tsdh@gnu.org>\n\n\tTest file-notify-valid-p\n\t* test/automated/file-notify-tests.el\n\t(file-notify-test04-file-validity, file-notify-test05-dir-validity):\n\tNew tests.\n\n2015-09-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix markup in ELisp manual\n\t* doc/lispref/frames.texi (Font and Color Parameters): Fix markup\n\tof the 'alpha' parameter value.  (Bug#21470)\n\n2015-09-13  Michael Albinus  <michael.albinus@gmx.de>\n\n\tIntroduce `file-notify-valid-p'\n\t* lisp/filenotify.el (file-notify-valid-p): New defun.\n\t(gfile-valid-p, w32notify-valid-p): Make them an alias to `identity'.\n\t* lisp/net/tramp-adb.el (tramp-adb-file-name-handler-alist)\n\t* lisp/net/tramp-gvfs.el (tramp-gvfs-file-name-handler-alist)\n\t* lisp/net/tramp-sh.el (tramp-sh-file-name-handler-alist)\n\t* lisp/net/tramp-smb.el (tramp-smb-file-name-handler-alist)\n\t<file-notify-valid-p>: Add handler.\n\t* lisp/net/tramp.el (tramp-file-name-for-operation):\n\tAdd `file-notify-valid-p'.\n\t(tramp-handle-file-notify-valid-p): New defun.\n\t* src/inotify.c (Finotify_valid_p): New defun.\n\t(syms_of_inotify): Declare Sinotify_valid_p.\n\n2015-09-13  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort Unicode char detection to FreeBSD+svgalib\n\tProblem reported by Ashish SHUKLA in:\n\thttp://lists.gnu.org/archive/html/emacs-devel/2015-09/msg00531.html\n\t* configure.ac: Check for struct unipair.unicode instead of for\n\t<linux/kd.h>, since that\u2019s more specific to what the code\n\tactually needs.\n\t* src/terminal.c: Use HAVE_STRUCT_UNIPAIR_UNICODE, not HAVE_LINUX_KD_H.\n\n\t* src/indent.c (Fvertical_motion): Simplify bugfix (Bug#21468).\n\n2015-09-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix vertical cursor motion across overlay strings with newlines\n\t* src/indent.c (Fvertical_motion): Don't leave point in the middle\n\tof an overlay string with newlines, as that will position the\n\tcursor after the string at whatever column is there.  (Bug#21468)\n\n2015-09-12  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix tests in file-notify-tests.el\n\t* test/automated/file-notify-tests.el: Remove Tramp declarations.\n\t(file-notify-test00-availability): Print remote command w/o Tramp\n\tinternal functions.\n\t(file-notify-test02-events, file-notify-test02-events-remote):\n\tAdapt docstring.\n\t(file-notify-test03-autorevert): Use `format-message' when\n\tinspecting *Messages* buffer.\n\n2015-09-12  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tBind inhibit-modification-hooks rather than a/b-c-f\n\t* lisp/wid-edit.el (widget-editable-list-insert-before)\n\t(widget-editable-list-delete-at):\n\t* lisp/progmodes/cperl-mode.el (cperl-find-pods-heres)\n\t(cperl-font-lock-unfontify-region-function):\n\t* lisp/progmodes/antlr-mode.el (save-buffer-state-x):\n\t* lisp/obsolete/longlines.el (longlines-mode):\n\t* lisp/obsolete/fast-lock.el (save-buffer-state):\n\t* lisp/mouse.el (mouse-save-then-kill-delete-region):\n\t* lisp/gnus/message.el (message-hide-headers):\n\t* lisp/eshell/esh-mode.el (eshell-send-input, eshell-output-filter):\n\t* lisp/ibuffer.el (ibuffer-update-title-and-summary)\n\t(ibuffer-redisplay-engine): Bind inhibit-modification-hooks to t rather\n\tthan after/before-change-functions to nil.\n\n2015-09-11  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t(jit-lock-deferred-fontify): Pay attention to skipped redisplays\n\t* lisp/jit-lock.el (jit-lock-deferred-fontify): Make sure we refresh\n\tthe buffers, even if the forced redisplay is interrupted.\n\n\t* lisp/emacs-lisp/eieio-core.el (class-p): Accept class objects\n\n\tMerge syntax-propertize--done and parse-sexp-propertize-done\n\t* lisp/emacs-lisp/syntax.el (syntax-propertize--done): Remove.\n\t(syntax-propertize): Set syntax-propertize--done even if\n\tsyntax-propertize-function is nil.  Avoid recursive invocations.\n\t(syntax-propertize-chunks): New var.\n\t(internal--syntax-propertize): Use it.  Rename from syntax--jit-propertize.\n\tSimplify.\n\t(parse-sexp-propertize-function): Don't set any more.\n\t* src/syntax.c (SETUP_SYNTAX_TABLE): Call parse_sexp_propertize as needed.\n\t(parse_sexp_propertize): Don't assume charpos is not yet propertized.\n\tCall Qinternal__syntax_propertize instead of\n\tVparse_sexp_propertize_function.  Truncate e_property if needed.\n\t(update_syntax_table_forward): Streamline.\n\t(syms_of_syntax): Define Qinternal__syntax_propertize.\n\t(syntax_propertize__done): Rename from parse_sexp_propertize_done.\n\n2015-09-11  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPrefer straight quoting in some text files\n\tMostly this just changes ` to ' in static text.  Some exceptions:\n\t* INSTALL.REPO: Use curved quotes, as the diagnostic in question\n\ttypically does that now.\n\t* admin/quick-install-emacs (TRY, top level):\n\tUse straight quoting in diagnostics.\n\t* src/README: Fix working-directory confusion.\n\n\t* CONTRIBUTE: Move send-email here from git-workflow.\n\n2015-09-11  Michael Albinus  <michael.albinus@gmx.de>\n\n\tImprove file notifications in Tramp\n\t* lisp/net/tramp-sh.el (tramp-sh-handle-file-notify-add-watch):\n\tSet proper events to watch for.\n\t(tramp-sh-file-gvfs-monitor-dir-process-filter): Report only\n\twatched events.\n\n2015-09-11  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix NS build with --enable-checking='glyphs'\n\t* src/nsfns.m (unwind_create_frame): Make the preprocessor\n\tconditionals for referencing 'dpyinfo' consistent throughout the\n\tfunction.  (Bug#21426)\n\n2015-09-10  Nicolas Petton  <nicolas@petton.fr>\n\n\tAdd seq-find\n\tThis function is similar to `seq-some' but returns the found element.\n\tIn the cases where nil can be the found element, a sentinel optional\n\targument can be provided to avoid ambiguities.\n\t* lisp/emacs-lisp/seq.el (seq-find): New function.\n\t* test/automated/seq-tests.el (test-seq-find): Add tests for `seq-find'.\n\t* doc/lispref/sequences.texi (Sequence Functions): Add documentation for\n\tseq-find.\n\n2015-09-10  Tassilo Horn  <tsdh@gnu.org>\n\n\tDocument file-notify--test-with-events.\n\t* test/automated/file-notify-tests.el (file-notify--test-with-events):\n\tAdd docstring.\n\n2015-09-10  Michael Albinus  <michael.albinus@gmx.de>\n\n\tReport used native library in file-notify-tests.el\n\t* test/automated/file-notify-tests.el\n\t(tramp-get-remote-gvfs-monitor-dir)\n\t(tramp-get-remote-inotifywait): Declare them.\n\t(file-notify-test00-availability): Print used native library.\n\n2015-09-10  Mark Oteiza  <mvoteiza@udel.edu>\n\n\t* lisp/mpc.el (mpc--proc-connect): Use file-name-absolute-p.\n\t(mpc-file-local-copy): Check for absolute path.  Check more config\n\tlocations.\n\n2015-09-10  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove documentation of categories\n\t* doc/lispref/syntax.texi (Categories): Clarify the example of\n\tusing define-category and modify-category-entry.  (Bug#21448)\n\n2015-09-10  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRevert some stray curved quotes I missed earlier\n\tProblem reported by David Kastrup in:\n\thttp://lists.gnu.org/archive/html/emacs-devel/2015-09/msg00440.html\n\t* lisp/international/mule-cmds.el (leim-list-header):\n\tUse format-message with an ASCII-only format.\n\n\tPrefer NUMBERP to spelling it out\n\t* src/editfns.c (styled_format):\n\t* src/frame.h (NUMVAL):\n\t* src/image.c (parse_image_spec):\n\t* src/lisp.h (CHECK_NUMBER_OR_FLOAT)\n\t(CHECK_NUMBER_OR_FLOAT_COERCE_MARKER):\n\t* src/process.c (Fsignal_process):\n\t* src/xdisp.c (calc_pixel_width_or_height, on_hot_spot_p):\n\t* src/xfaces.c (check_lface_attrs):\n\t* src/xselect.c (x_fill_property_data, x_send_client_event):\n\tUse NUMBERP rather than INTEGERP || FLOATP.\n\n2015-09-10  Tassilo Horn  <tsdh@gnu.org>\n\n\tImprove file-notify-tests\n\t* test/automated/file-notify-tests.el: Use lexical-binding.\n\t(file-notify--test-cleanup): New function.\n\t(file-notify-test00-availability, file-notify-test01-add-watch)\n\t(file-notify-test02-events, file-notify-test03-autorevert): Use it.\n\t(file-notify--test-with-events): New macro.\n\t(file-notify-test02-events): Use it.\n\n2015-09-10  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tAdd patch-sending instructions to git-workflow\n\tFrom a suggestion by Mitchel Humpherys in:\n\thttp://lists.gnu.org/archive/html/emacs-devel/2015-09/msg00421.html\n\t* admin/notes/git-workflow (Sending patches): New section.\n\n\tPort to GIFLIB 5.0.6 and later\n\tProblem reported by Mitchel Humpherys in:\n\thttp://lists.gnu.org/archive/html/emacs-devel/2015-09/msg00420.html\n\t* src/image.c (HAVE_GIFERRORSTRING) [HAVE_GIF]: New macro.\n\t(GifErrorString, init_gif_functions) [HAVE_GIF && WINDOWSNT]:\n\t(gif_load) [HAVE_GIF]: Use it.\n\n2015-09-10  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/cedet/ede/auto.el (ede-project-autoload): Doc fix.\n\n2015-09-09  Glenn Morris  <rgm@gnu.org>\n\n\t* test/automated/file-notify-tests.el (file-notify-test02-events):\n\tFix recent change.\n\n2015-09-09  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRefix movemail GCC pacification\n\tProblem reported by Ken Brown in:\n\thttp://lists.gnu.org/archive/html/emacs-devel/2015-09/msg00406.html\n\t* lib-src/movemail.c (main): Fix previous change.\n\n2015-09-09  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/calendar/time-date.el (time-to-seconds, time-less-p):\n\tMark unused vars with underscore.\n\n\t* src/syntax.c (SETUP_SYNTAX_TABLE): Move truncation...\n\t(parse_sexp_propertize): ...from here.\n\n\t* lisp/filenotify.el: Use lexical-binding\n\t(file-notify-add-watch): Avoid add-to-list.\n\n2015-09-09  Tassilo Horn  <tsdh@gnu.org>\n\n\tStart checking event types in file-notify tests\n\t* test/automated/file-notify-tests.el (file-notify--test-events):\n\tNew variable.\n\t(file-notify--test-event-handler): Append received event to\n\tfile-notify--test-events for later analysis.\n\t(file-notify-test02-events): Assert that the expected notifications have\n\tarrived in the expected order.\n\n2015-09-09  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from gnulib and texinfo\n\tThis incorporates:\n\t2015-08-03 Improve port of stdalign to C++11\n\t* lib/stdalign.in.h: Copy from gnulib.\n\t* doc/misc/texinfo.tex: Copy from texinfo.\n\n2015-09-09  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tMake syntax.c call syntax-propertize on demand\n\t* lisp/emacs-lisp/syntax.el (syntax--jit-propertize): New function.\n\t(parse-sexp-propertize-function): Use it.\n\t(syntax-propertize): Disable parse-sexp-propertize-function.\n\t* src/syntax.c (parse_sexp_propertize, update_syntax_table_forward):\n\tNew functions.\n\t(syms_of_syntax): New vars `parse-sexp-propertize-done' and\n\t`parse-sexp-propertize-function'.\n\t* src/syntax.h (struct gl_state_s): Add `e_property_truncated' field.\n\t(UPDATE_SYNTAX_TABLE_FORWARD): Use update_syntax_table_forward.\n\t(SETUP_BUFFER_SYNTAX_TABLE): Set e_property_truncated.\n\t* lisp/progmodes/elisp-mode.el (elisp-byte-code-syntax-propertize):\n\tDon't assume `point' is set.\n\n2015-09-09  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix indentation of an @example in ELisp manual\n\t* doc/lispref/syntax.texi (Categories): Untabify the example.\n\t(Bug#21448)\n\n2015-09-09  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDefine internal-char-font even if --without-x\n\tThe function is used now even in non-graphical environments.\n\tProblem reported by Glenn Morris in:\n\thttp://lists.gnu.org/archive/html/emacs-devel/2015-09/msg00401.html\n\t* src/font.c (Finternal_char_font): Move here ...\n\t* src/fontset.c (Finternal_char_font): ... from here.\n\n2015-09-09  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/cl-generic.el (cl-generic-generalizers):\n\tRemove warning.\n\n2015-09-09  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix display of complex local data types in GDB-MI\n\t* lisp/progmodes/gdb-mi.el (gdb-locals-handler-custom): If a\n\tvariable has no value, display \"<complex data type>\" as a\n\tplaceholder, instead of a confusing \"nil\".  (Bug#21438)\n\n2015-09-09  Oleh Krehel  <ohwoeowho@gmail.com>\n\n\tRemove redundant redefinition of seq-drop-while from seq.el\n\t* lisp/emacs-lisp/seq.el (seq-drop-while): Define only once.\n\n2015-09-09  Phil Sainty  <psainty@orcon.net.nz>\n\n\t* lisp/emacs-lisp/package.el (package--ensure-init-file):\n\tMore robust check for `package-initialize' calls in init file.\n\tThis function accepts an optional argument, but calls passing\n\tan argument would not have been detected.\n\n2015-09-09  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort movemail to RHEL 6 with --enable-gcc-warnings\n\t* lib-src/movemail.c (main): Declare local only if needed.\n\n\tPort recent Linux console changes to RHEL 6\n\t* src/terminal.c [HAVE_LINUX_KD_H]: Include <sys/ioctl.h>.\n\n\tImprovements for curved quotes on Linux consule\n\tThis should help Emacs work better out-of-the-box on Linux consoles,\n\twhich have only limited support for displaying Unicode characters.\n\tAlso, undo the recent change that caused text-quoting-style to\n\taffect quote display on terminals, so that the two features are\n\tindependent.  See Alan Mackenzie in:\n\thttp://lists.gnu.org/archive/html/emacs-devel/2015-09/msg00244.html\n\tFinally, add a style parameter to startup--setup-quote-display,\n\tso that this function can also be invoked after startup, with\n\tdifferent styles depending on user preference at the time.\n\t* configure.ac: Check for linux/kd.h header.\n\t* doc/emacs/display.texi (Text Display): Document quote display.\n\t* doc/lispref/display.texi (Active Display Table):\n\t* etc/NEWS:\n\t* lisp/startup.el (startup--setup-quote-display, command-line):\n\ttext-quoting-style no longer affects quote display.\n\t* doc/lispref/frames.texi (Terminal Parameters): Fix typo.\n\t* lisp/international/mule-util.el (char-displayable-p):\n\t* lisp/startup.el (startup--setup-quote-display):\n\tOn a text terminal supporting glyph codes, use the reported\n\tglyph codes instead of the terminal coding system, as this\n\tis more accurate on the Linux console.\n\t* lisp/startup.el (startup--setup-quote-display):\n\tNew optional arg STYLE.\n\t* src/fontset.c (Finternal_char_font):\n\tReport glyph codes for a text terminal, if they are available.\n\tCurrently this is supported only for the Linux console.\n\t* src/termhooks.h (struct terminal): New member glyph-code-table.\n\t* src/terminal.c [HAVE_LINUX_KD_H]: Include <errno.h>, <linux/kd.h>.\n\t(calculate_glyph_code_table) [HAVE_LINUX_KD_H]: New function.\n\t(terminal_glyph_code): New function.\n\n2015-09-08  Juri Linkov  <juri@linkov.net>\n\n\t* lisp/info.el (Info-fontify-node): Don't stop at the non-title\n\tunderline.  (Bug#21433)\n\n2015-09-08  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/calendar/time-date.el (with-decoded-time-value): Fix debug spec.\n\n2015-09-08  Tassilo Horn  <tsdh@gnu.org>\n\n\tFix double-reporting of rename events with inotify\n\t* lisp/filenotify.el (file-notify-callback): Fix double-reporting\n\tof rename events with inotify (bug#21435).\n\n2015-09-08  Vasilij Schneidermann  <v.schneidermann@gmail.com>  (tiny change)\n\n\t* lisp/play/tetris.el (tetris-move-down): New command (bug#21360).\n\t(tetris-mode-map): Use it.\n\n2015-09-08  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tRemove a few simple cases of global redisplay\n\t* src/dispnew.c (redraw_frame): Don't redisplay all frames.\n\t* src/xdisp.c (echo_area_display): Set the frame's `redisplay' bit\n\trather than returning a \"resized_p\" boolean.\n\t(redisplay_internal): Adjust call accordingly.\n\t* src/xfaces.c (free_realized_faces): Don't redisplay all frames.\n\t(free_all_realized_faces): Set windows_or_buffers_changed so as to ease\n\ttracking of this undesirable situation.\n\n\t* src/process.c (status_notify): Avoid global redisplay (bug#11822)\n\t* src/process.c (status_notify): Only set the update_mode_line on the\n\trelevant buffers rather than setting it globally.\n\n2015-09-07  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/electric.el (electric-quote-post-self-insert-function):\n\tDon't use syntax-ppss if comment-use-syntax is nil (e.g. message-mode).\n\t(electric-quote-mode): Activate everywhere in message-mode.\n\n2015-09-07  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tGo back to grave quoting in source-code docstrings etc.\n\tThis reverts almost all my recent changes to use curved quotes\n\tin docstrings and/or strings used for error diagnostics.\n\tThere are a few exceptions, e.g., Bah\u00e1\u2019\u00ed proper names.\n\t* admin/unidata/unidata-gen.el (unidata-gen-table):\n\t* lisp/abbrev.el (expand-region-abbrevs):\n\t* lisp/align.el (align-region):\n\t* lisp/allout.el (allout-mode, allout-solicit-alternate-bullet)\n\t(outlineify-sticky):\n\t* lisp/apropos.el (apropos-library):\n\t* lisp/bookmark.el (bookmark-default-annotation-text):\n\t* lisp/button.el (button-category-symbol, button-put)\n\t(make-text-button):\n\t* lisp/calc/calc-aent.el (math-read-if, math-read-factor):\n\t* lisp/calc/calc-embed.el (calc-do-embedded):\n\t* lisp/calc/calc-ext.el (calc-user-function-list):\n\t* lisp/calc/calc-graph.el (calc-graph-show-dumb):\n\t* lisp/calc/calc-help.el (calc-describe-key)\n\t(calc-describe-thing, calc-full-help):\n\t* lisp/calc/calc-lang.el (calc-c-language)\n\t(math-parse-fortran-vector-end, math-parse-tex-sum)\n\t(math-parse-eqn-matrix, math-parse-eqn-prime)\n\t(calc-yacas-language, calc-maxima-language, calc-giac-language)\n\t(math-read-giac-subscr, math-read-math-subscr)\n\t(math-read-big-rec, math-read-big-balance):\n\t* lisp/calc/calc-misc.el (calc-help, report-calc-bug):\n\t* lisp/calc/calc-mode.el (calc-auto-why, calc-save-modes)\n\t(calc-auto-recompute):\n\t* lisp/calc/calc-prog.el (calc-fix-token-name)\n\t(calc-read-parse-table-part, calc-user-define-invocation)\n\t(math-do-arg-check):\n\t* lisp/calc/calc-store.el (calc-edit-variable):\n\t* lisp/calc/calc-units.el (math-build-units-table-buffer):\n\t* lisp/calc/calc-vec.el (math-read-brackets):\n\t* lisp/calc/calc-yank.el (calc-edit-mode):\n\t* lisp/calc/calc.el (calc, calc-do, calc-user-invocation):\n\t* lisp/calendar/appt.el (appt-display-message):\n\t* lisp/calendar/diary-lib.el (diary-check-diary-file)\n\t(diary-mail-entries, diary-from-outlook):\n\t* lisp/calendar/icalendar.el (icalendar-export-region)\n\t(icalendar--convert-float-to-ical)\n\t(icalendar--convert-date-to-ical)\n\t(icalendar--convert-ical-to-diary)\n\t(icalendar--convert-recurring-to-diary)\n\t(icalendar--add-diary-entry):\n\t* lisp/calendar/time-date.el (format-seconds):\n\t* lisp/calendar/timeclock.el (timeclock-mode-line-display)\n\t(timeclock-make-hours-explicit, timeclock-log-data):\n\t* lisp/calendar/todo-mode.el (todo-prefix, todo-delete-category)\n\t(todo-item-mark, todo-check-format)\n\t(todo-insert-item--next-param, todo-edit-item--next-key)\n\t(todo-mode):\n\t* lisp/cedet/ede/pmake.el (ede-proj-makefile-insert-dist-rules):\n\t* lisp/cedet/mode-local.el (describe-mode-local-overload)\n\t(mode-local-print-binding, mode-local-describe-bindings-2):\n\t* lisp/cedet/semantic/complete.el (semantic-displayor-show-request):\n\t* lisp/cedet/srecode/srt-mode.el (srecode-macro-help):\n\t* lisp/cus-start.el (standard):\n\t* lisp/cus-theme.el (describe-theme-1):\n\t* lisp/custom.el (custom-add-dependencies, custom-check-theme)\n\t(custom--sort-vars-1, load-theme):\n\t* lisp/descr-text.el (describe-text-properties-1, describe-char):\n\t* lisp/dired-x.el (dired-do-run-mail):\n\t* lisp/dired.el (dired-log):\n\t* lisp/emacs-lisp/advice.el (ad-read-advised-function)\n\t(ad-read-advice-class, ad-read-advice-name, ad-enable-advice)\n\t(ad-disable-advice, ad-remove-advice, ad-set-argument)\n\t(ad-set-arguments, ad--defalias-fset, ad-activate)\n\t(ad-deactivate):\n\t* lisp/emacs-lisp/byte-opt.el (byte-compile-inline-expand)\n\t(byte-compile-unfold-lambda, byte-optimize-form-code-walker)\n\t(byte-optimize-while, byte-optimize-apply):\n\t* lisp/emacs-lisp/byte-run.el (defun, defsubst):\n\t* lisp/emacs-lisp/bytecomp.el (byte-compile-lapcode)\n\t(byte-compile-log-file, byte-compile-format-warn)\n\t(byte-compile-nogroup-warn, byte-compile-arglist-warn)\n\t(byte-compile-cl-warn)\n\t(byte-compile-warn-about-unresolved-functions)\n\t(byte-compile-file, byte-compile--declare-var)\n\t(byte-compile-file-form-defmumble, byte-compile-form)\n\t(byte-compile-normal-call, byte-compile-check-variable)\n\t(byte-compile-variable-ref, byte-compile-variable-set)\n\t(byte-compile-subr-wrong-args, byte-compile-setq-default)\n\t(byte-compile-negation-optimizer)\n\t(byte-compile-condition-case--old)\n\t(byte-compile-condition-case--new, byte-compile-save-excursion)\n\t(byte-compile-defvar, byte-compile-autoload)\n\t(byte-compile-lambda-form)\n\t(byte-compile-make-variable-buffer-local, display-call-tree)\n\t(batch-byte-compile):\n\t* lisp/emacs-lisp/cconv.el (cconv-convert, cconv--analyze-use):\n\t* lisp/emacs-lisp/chart.el (chart-space-usage):\n\t* lisp/emacs-lisp/check-declare.el (check-declare-scan)\n\t(check-declare-warn, check-declare-file)\n\t(check-declare-directory):\n\t* lisp/emacs-lisp/checkdoc.el (checkdoc-this-string-valid-engine)\n\t(checkdoc-message-text-engine):\n\t* lisp/emacs-lisp/cl-extra.el (cl-parse-integer)\n\t(cl--describe-class):\n\t* lisp/emacs-lisp/cl-generic.el (cl-defgeneric)\n\t(cl--generic-describe, cl-generic-generalizers):\n\t* lisp/emacs-lisp/cl-macs.el (cl--parse-loop-clause, cl-tagbody)\n\t(cl-symbol-macrolet):\n\t* lisp/emacs-lisp/cl.el (cl-unload-function, flet):\n\t* lisp/emacs-lisp/copyright.el (copyright)\n\t(copyright-update-directory):\n\t* lisp/emacs-lisp/edebug.el (edebug-read-list):\n\t* lisp/emacs-lisp/eieio-base.el (eieio-persistent-read):\n\t* lisp/emacs-lisp/eieio-core.el (eieio--slot-override)\n\t(eieio-oref):\n\t* lisp/emacs-lisp/eieio-opt.el (eieio-help-constructor):\n\t* lisp/emacs-lisp/eieio-speedbar.el:\n\t(eieio-speedbar-child-make-tag-lines)\n\t(eieio-speedbar-child-description):\n\t* lisp/emacs-lisp/eieio.el (defclass, change-class):\n\t* lisp/emacs-lisp/elint.el (elint-file, elint-get-top-forms)\n\t(elint-init-form, elint-check-defalias-form)\n\t(elint-check-let-form):\n\t* lisp/emacs-lisp/ert.el (ert-get-test, ert-results-mode-menu)\n\t(ert-results-pop-to-backtrace-for-test-at-point)\n\t(ert-results-pop-to-messages-for-test-at-point)\n\t(ert-results-pop-to-should-forms-for-test-at-point)\n\t(ert-describe-test):\n\t* lisp/emacs-lisp/find-func.el (find-function-search-for-symbol)\n\t(find-function-library):\n\t* lisp/emacs-lisp/generator.el (iter-yield):\n\t* lisp/emacs-lisp/gv.el (gv-define-simple-setter):\n\t* lisp/emacs-lisp/lisp-mnt.el (lm-verify):\n\t* lisp/emacs-lisp/macroexp.el (macroexp--obsolete-warning):\n\t* lisp/emacs-lisp/map-ynp.el (map-y-or-n-p):\n\t* lisp/emacs-lisp/nadvice.el (advice--make-docstring)\n\t(advice--make, define-advice):\n\t* lisp/emacs-lisp/package-x.el (package-upload-file):\n\t* lisp/emacs-lisp/package.el (package-version-join)\n\t(package-disabled-p, package-activate-1, package-activate)\n\t(package--download-one-archive)\n\t(package--download-and-read-archives)\n\t(package-compute-transaction, package-install-from-archive)\n\t(package-install, package-install-selected-packages)\n\t(package-delete, package-autoremove, describe-package-1)\n\t(package-install-button-action, package-delete-button-action)\n\t(package-menu-hide-package, package-menu--list-to-prompt)\n\t(package-menu--perform-transaction)\n\t(package-menu--find-and-notify-upgrades):\n\t* lisp/emacs-lisp/pcase.el (pcase-exhaustive, pcase--u1):\n\t* lisp/emacs-lisp/re-builder.el (reb-enter-subexp-mode):\n\t* lisp/emacs-lisp/ring.el (ring-previous, ring-next):\n\t* lisp/emacs-lisp/rx.el (rx-check, rx-anything)\n\t(rx-check-any-string, rx-check-any, rx-check-not, rx-=)\n\t(rx-repeat, rx-check-backref, rx-syntax, rx-check-category)\n\t(rx-form):\n\t* lisp/emacs-lisp/smie.el (smie-config-save):\n\t* lisp/emacs-lisp/subr-x.el (internal--check-binding):\n\t* lisp/emacs-lisp/tabulated-list.el (tabulated-list-put-tag):\n\t* lisp/emacs-lisp/testcover.el (testcover-1value):\n\t* lisp/emacs-lisp/timer.el (timer-event-handler):\n\t* lisp/emulation/viper-cmd.el (viper-toggle-parse-sexp-ignore-comments)\n\t(viper-toggle-search-style, viper-kill-buffer)\n\t(viper-brac-function):\n\t* lisp/emulation/viper-macs.el (viper-record-kbd-macro):\n\t* lisp/env.el (setenv):\n\t* lisp/erc/erc-button.el (erc-nick-popup):\n\t* lisp/erc/erc.el (erc-cmd-LOAD, erc-handle-login, english):\n\t* lisp/eshell/em-dirs.el (eshell/cd):\n\t* lisp/eshell/em-glob.el (eshell-glob-regexp)\n\t(eshell-glob-entries):\n\t* lisp/eshell/em-pred.el (eshell-parse-modifiers):\n\t* lisp/eshell/esh-opt.el (eshell-show-usage):\n\t* lisp/facemenu.el (facemenu-add-new-face)\n\t(facemenu-add-new-color):\n\t* lisp/faces.el (read-face-name, read-face-font, describe-face)\n\t(x-resolve-font-name):\n\t* lisp/files-x.el (modify-file-local-variable):\n\t* lisp/files.el (locate-user-emacs-file, find-alternate-file)\n\t(set-auto-mode, hack-one-local-variable--obsolete)\n\t(dir-locals-set-directory-class, write-file, basic-save-buffer)\n\t(delete-directory, copy-directory, recover-session)\n\t(recover-session-finish, insert-directory)\n\t(file-modes-char-to-who, file-modes-symbolic-to-number)\n\t(move-file-to-trash):\n\t* lisp/filesets.el (filesets-add-buffer, filesets-remove-buffer):\n\t* lisp/find-cmd.el (find-generic, find-to-string):\n\t* lisp/finder.el (finder-commentary):\n\t* lisp/font-lock.el (font-lock-fontify-buffer):\n\t* lisp/format.el (format-write-file, format-find-file)\n\t(format-insert-file):\n\t* lisp/frame.el (get-device-terminal, select-frame-by-name):\n\t* lisp/fringe.el (fringe--check-style):\n\t* lisp/gnus/nnmairix.el (nnmairix-widget-create-query):\n\t* lisp/help-fns.el (help-fns--key-bindings)\n\t(help-fns--compiler-macro, help-fns--parent-mode)\n\t(help-fns--obsolete, help-fns--interactive-only)\n\t(describe-function-1, describe-variable):\n\t* lisp/help.el (describe-mode)\n\t(describe-minor-mode-from-indicator):\n\t* lisp/image.el (image-type):\n\t* lisp/international/ccl.el (ccl-dump):\n\t* lisp/international/fontset.el (x-must-resolve-font-name):\n\t* lisp/international/mule-cmds.el (prefer-coding-system)\n\t(select-safe-coding-system-interactively)\n\t(select-safe-coding-system, activate-input-method)\n\t(toggle-input-method, describe-current-input-method)\n\t(describe-language-environment):\n\t* lisp/international/mule-conf.el (code-offset):\n\t* lisp/international/mule-diag.el (describe-character-set)\n\t(list-input-methods-1):\n\t* lisp/mail/feedmail.el (feedmail-run-the-queue):\n\t* lisp/mouse.el (minor-mode-menu-from-indicator):\n\t* lisp/mpc.el (mpc-playlist-rename):\n\t* lisp/msb.el (msb--choose-menu):\n\t* lisp/net/ange-ftp.el (ange-ftp-shell-command):\n\t* lisp/net/imap.el (imap-interactive-login):\n\t* lisp/net/mairix.el (mairix-widget-create-query):\n\t* lisp/net/newst-backend.el (newsticker--sentinel-work):\n\t* lisp/net/newst-treeview.el (newsticker--treeview-load):\n\t* lisp/net/rlogin.el (rlogin):\n\t* lisp/obsolete/iswitchb.el (iswitchb-possible-new-buffer):\n\t* lisp/obsolete/otodo-mode.el (todo-more-important-p):\n\t* lisp/obsolete/pgg-gpg.el (pgg-gpg-process-region):\n\t* lisp/obsolete/pgg-pgp.el (pgg-pgp-process-region):\n\t* lisp/obsolete/pgg-pgp5.el (pgg-pgp5-process-region):\n\t* lisp/org/ob-core.el (org-babel-goto-named-src-block)\n\t(org-babel-goto-named-result):\n\t* lisp/org/ob-fortran.el (org-babel-fortran-ensure-main-wrap):\n\t* lisp/org/ob-ref.el (org-babel-ref-resolve):\n\t* lisp/org/org-agenda.el (org-agenda-prepare):\n\t* lisp/org/org-clock.el (org-clock-notify-once-if-expired)\n\t(org-clock-resolve):\n\t* lisp/org/org-ctags.el (org-ctags-ask-rebuild-tags-file-then-find-tag):\n\t* lisp/org/org-feed.el (org-feed-parse-atom-entry):\n\t* lisp/org/org-habit.el (org-habit-parse-todo):\n\t* lisp/org/org-mouse.el (org-mouse-popup-global-menu)\n\t(org-mouse-context-menu):\n\t* lisp/org/org-table.el (org-table-edit-formulas):\n\t* lisp/org/ox.el (org-export-async-start):\n\t* lisp/proced.el (proced-log):\n\t* lisp/progmodes/ada-mode.el (ada-get-indent-case)\n\t(ada-check-matching-start, ada-goto-matching-start):\n\t* lisp/progmodes/ada-prj.el (ada-prj-display-page):\n\t* lisp/progmodes/ada-xref.el (ada-find-executable):\n\t* lisp/progmodes/ebrowse.el (ebrowse-tags-apropos):\n\t* lisp/progmodes/etags.el (etags-tags-apropos-additional):\n\t* lisp/progmodes/flymake.el (flymake-parse-err-lines)\n\t(flymake-start-syntax-check-process):\n\t* lisp/progmodes/python.el (python-shell-get-process-or-error)\n\t(python-define-auxiliary-skeleton):\n\t* lisp/progmodes/sql.el (sql-comint):\n\t* lisp/progmodes/verilog-mode.el (verilog-load-file-at-point):\n\t* lisp/progmodes/vhdl-mode.el (vhdl-widget-directory-validate):\n\t* lisp/recentf.el (recentf-open-files):\n\t* lisp/replace.el (query-replace-read-from)\n\t(occur-after-change-function, occur-1):\n\t* lisp/scroll-bar.el (scroll-bar-columns):\n\t* lisp/server.el (server-get-auth-key):\n\t* lisp/simple.el (execute-extended-command)\n\t(undo-outer-limit-truncate, list-processes--refresh)\n\t(compose-mail, set-variable, choose-completion-string)\n\t(define-alternatives):\n\t* lisp/startup.el (site-run-file, tty-handle-args, command-line)\n\t(command-line-1):\n\t* lisp/subr.el (noreturn, define-error, add-to-list)\n\t(read-char-choice, version-to-list):\n\t* lisp/term/common-win.el (x-handle-xrm-switch)\n\t(x-handle-name-switch, x-handle-args):\n\t* lisp/term/x-win.el (x-handle-parent-id, x-handle-smid):\n\t* lisp/textmodes/reftex-ref.el (reftex-label):\n\t* lisp/textmodes/reftex-toc.el (reftex-toc-rename-label):\n\t* lisp/textmodes/two-column.el (2C-split):\n\t* lisp/tutorial.el (tutorial--describe-nonstandard-key)\n\t(tutorial--find-changed-keys):\n\t* lisp/type-break.el (type-break-noninteractive-query):\n\t* lisp/wdired.el (wdired-do-renames, wdired-do-symlink-changes)\n\t(wdired-do-perm-changes):\n\t* lisp/whitespace.el (whitespace-report-region):\n\tPrefer grave quoting in source-code strings used to generate help\n\tand diagnostics.\n\t* lisp/faces.el (face-documentation):\n\tNo need to convert quotes, since the result is a docstring.\n\t* lisp/info.el (Info-virtual-index-find-node)\n\t(Info-virtual-index, info-apropos):\n\tSimplify by generating only curved quotes, since info files are\n\ttypically that ways nowadays anyway.\n\t* lisp/international/mule-diag.el (list-input-methods):\n\tDon\u2019t assume text quoting style is curved.\n\t* lisp/org/org-bibtex.el (org-bibtex-fields):\n\tRevert my recent changes, going back to the old quoting style.\n\n2015-09-07  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el: Reduce autoloading before compiling.\n\t(package--autoloads-file-name)\n\t(package--activate-autoloads-and-load-path): New function.\n\t(package-activate-1): Delegate autoloading and load-path\n\tconfiguration to `package--activate-autoloads-and-load-path'.\n\t(package--compile): Before compilation, call\n\t`package--activate-autoloads-and-load-path' instead of\n\t`package-activate-1'.\n\n2015-09-07  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* src/keyboard.c (read_key_sequence): Complete last fix (bug#21403).\n\n2015-09-07  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix deletion of symlinks to directories on MS-Windows\n\t* src/w32.c (sys_unlink): If 'unlink' fails, and the argument is a\n\tsymlink to a directory, try again with 'rmdir'.\n\t(is_symlink): If the argument is a symlink to a directory, set a\n\tbit in the return value to indicate that fact.\n\n2015-09-07  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el (package-initialize): Set enable-at-startup\n\tWhen `package-initialize' is called as part of loading the init file,\n\tthe user probably doesn't want it to be called again afterwards.\n\tIn this situation, `package-initialize' now sets\n\t`package-enable-at-startup' to nil to prevent that.  The user can have\n\tthe old behavior by setting this variable to t after the call to\n\t`package-initialize'.  (Bug#21423)\n\t* doc/emacs/package.texi (Package Installation): Document it.\n\t* doc/lispref/package.texi (Packaging Basics): Document it.\n\t* etc/NEWS: Document it.\n\n2015-09-06  Thomas Fitzsimmons  <fitzsim@fitzsim.org>\n\n\tBump version of ntlm.el to 2.00\n\t* lisp/net/ntlm.el: Bump version to 2.00.  New maintainer.\n\tAdd comm keyword.\n\n2015-09-06  Adam Sj\u00f8gren  <asjo@koldfront.dk>\n\n\t* doc/misc/gnus.texi (Mail Source Specifiers):\n\tAllow :mailbox to be a list.\n\n2015-09-06  Dmitry Gutov  <dgutov@yandex.ru>\n\n\t* lisp/progmodes/etags.el (etags-tags-completion-table):\n\tAllow even one non-regular character before the implicit tag name.\n\tReported at http://emacs.stackexchange.com/questions/15269/.\n\n2015-09-06  Thomas Fitzsimmons  <fitzsim@fitzsim.org>\n\n\tAdd support for NTLMv2 authentication\n\t* lisp/net/ntlm.el (ntlm): New customization group.\n\t(ntlm-compatibility-level): New defcustom.\n\t(ntlm-compute-timestamp): New function.\n\t(ntlm-generate-nonce): Likewise.\n\t(ntlm-build-auth-response): Add support for NTLMv2 authentication.\n\n2015-09-06  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el: Rename custom faces.\n\tAll of the recently introduced faces, like `package-name-face', have\n\tbeen renamed to no end in `-face' to comply with the convention\n\tdescribed in (info \"(elisp) Defining Faces\").\n\t(package-name, package-description)\n\t(package-status-built-in, package-status-external)\n\t(package-status-available, package-status-new)\n\t(package-status-held, package-status-disabled)\n\t(package-status-installed, package-status-dependency)\n\t(package-status-unsigned, package-status-incompat)\n\t(package-status-avail-obso): New faces.\n\t(package-menu--print-info-simple): Use them.\n\n2015-09-06  Adam Sj\u00f8gren  <asjo@koldfront.dk>\n\n\tmail-source.el: Make the imap mail-source's :mailbox handle a list\n\t* lisp/gnus/mail-source.el (mail-source-fetch-imap):\n\tAllow :mailbox to be  a list.\n\n2015-09-06  Eric Abrahamsen  <eric@ericabrahamsen.net>\n\n\tnnimap.el: Handle nil arg to nnimap-request-group\n\t* lisp/gnus/nnimap.el (nnimap-request-group): Handle nil \"info\" arg.\n\tThis arg isn't always passed in, check it's not nil before making it\n\tinto a list.  The active arg will also be nil if the group is new,\n\tcheck for that.\n\n2015-09-06  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFile notifications: Support renaming over directory boundaries\n\t* lisp/filenotify.el (file-notify-handle-event):\n\t(file-notify--pending-event): Adapt docstring.\n\t(file-notify--descriptor, file-notify-callback): Reimplement in\n\torder to support renaming over directory boundaries.\n\t(file-notify-add-watch): Adapt `file-notify--descriptor' call.\n\t* doc/lispref/os.texi (File Notifications): Remove limitation of\n\tfile renaming to the same directory.\n\n2015-09-05  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSpelling fix (Bug#21420)\n\n2015-09-05  Nicolas Petton  <nicolas@petton.fr>\n\n\tImprove the semantic of map-some\n\tUpdate map-some to return the returned by the predicate, similar to\n\tseq-some.\n\t* lisp/emacs-lisp/map.el (map-some): Update the function to return the\n\t  return value of the predicate.\n\t* test/automated/map-tests.el (test-map-some): Update the test to check\n\t  for non-nil values only.\n\n\tRename map-contains-key-p and map-some-p\n\tRemove the \"-p\" suffix from both function names.\n\t* lisp/emacs-lisp/map.el (map-contains-key, map-some):\n\t  Rename the functions.\n\t* test/automated/map-tests.el (test-map-contains-key, test-map-some):\n\t  Update both test functions.\n\n\tImprove the semantic of seq-some\n\tUpdate seq-some to return non-nil if the predicate returns non-nil for\n\tany element of the seq, in which case the returned value is the one\n\treturned by the predicate.\n\t* lisp/emacs-lisp/seq.el (seq-some): Update the function and its\n\t  docstring.\n\t* test/automated/seq-tests.el (test-seq-some): Add a regression test.\n\t* doc/lispref/sequences.texi (Sequence Functions): Update the\n\t  documentation for seq-some.\n\n\tRename seq-some-p to seq-some and seq-contains-p to seq-contains\n\t* lisp/emacs-lisp/seq.el (seq-some, seq-contains): Rename the functions\n\t  without the \"-p\" prefix.\n\t* test/automated/seq-tests.el (test-seq-some, test-seq-contains): Update\n\t  the tests accordingly.\n\t* doc/lispref/sequences.texi (Sequence Functions): Update the\n\t  documentation for seq.el.\n\n2015-09-05  Paul Eggert  <eggert@Penguin.CS.UCLA.EDU>\n\n\ttext-quoting-style for usage of fn names with \u2018\u2019\n\t* lisp/help.el (help--docstring-quote): Don\u2019t assume\n\ttext-quoting-style is \u2018curve\u2019 when generating usage strings for\n\tfunctions whose names contain curved quotes.\n\n2015-09-05  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix fix for describe-function keybinding confusion\n\tThis fixes a bug introduced by the previous patch.\n\t* lisp/help-fns.el (help-fns--signature):\n\tLast arg of help-fns--signature is now a buffer, or nil if a\n\traw signature is wanted.  All callers changed.\n\t(describe-function-1): Use this to do the right thing with signatures.\n\n2015-09-05  Johan Bockg\u00e5rd  <bojohan@gnu.org>\n\n\t* doc/lispref/frames.texi (Mouse Tracking): Fix typo.\n\n\tUse PAT rather than UPAT in pcase macros\n\t* lisp/emacs-lisp/cl-macs.el (cl-struct) <pcase-defmacro>:\n\t* lisp/emacs-lisp/eieio.el (eieio) <pcase-defmacro>: Use PAT rather\n\t  than UPAT.\n\n2015-09-05  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix describe-function keybinding confusion\n\t* lisp/help-fns.el (describe-function-1): Compute signature\n\tin the original buffer, not in standard-output, so that\n\tsubstitute-command-keys uses the proper keybindings.\n\tThis fixes Bug#21412, introduced in commit\n\t2015-06-11T10:23:46-0700!eggert@cs.ucla.edu.\n\n2015-09-05  Xue Fuqiao  <xfq.free@gmail.com>\n\n\t* doc/emacs/programs.texi (Program Modes): Remove an index entry.\n\n2015-09-05  Robert Pluim  <rpluim@gmail.com>  (tiny change)\n\n\tAvoid read error messages from 'inotify'\n\t* src/process.c (wait_reading_process_output): Add a\n\t'tls_available' set and manipulate it instead of 'Available' when\n\tchecking TLS inputs.  Assign the value to 'Available' only if we\n\tfind any TLS data waiting to be read.  This avoids error messages\n\tfrom 'inotify' that tries to read data it shouldn't.  (Bug#21337)\n\n2015-09-05  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid errors in thing-at-point with 2nd argument non-nil\n\t* lisp/thingatpt.el (thing-at-point): Only call 'length' on\n\tsequences.  (Bug#21391)\n\n2015-09-05  Philip  <pipcet@gmail.com>  (tiny change)\n\n\tFix segfaults due to using a stale face ID\n\t* src/xdisp.c (forget_escape_and_glyphless_faces): New function.\n\t(display_echo_area_1, redisplay_internal): Call it to avoid\n\treusing stale face IDs for 'escape-glyph' and 'glyphless-char'\n\tfaces, which could case a segfault if the frame's face cache was\n\tfreed since the last redisplay.  (Bug#21394)\n\t* src/xfaces.c (free_realized_faces):\n\tCall forget_escape_and_glyphless_faces.\n\t* src/dispextern.h (forget_escape_and_glyphless_faces): Add prototype.\n\n2015-09-04  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix minor problems with \" in manual\n\n2015-09-04  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* doc/misc/tramp.texi (Frequently Asked Questions): New item for ad-hoc\n\tmulti-hop files.\n\n2015-09-04  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSupport automated \u2018make check\u2019 in non-C locale\n\tThis lets the builder optionally test Emacs behavior in other locales.\n\tThe C locale is still the default for tests.\n\t* test/automated/Makefile.in (TEST_LOCALE): New macro.\n\t(emacs): Use it.\n\t* test/automated/flymake-tests.el (flymake-tests--current-face):\n\tUse C locale for subprocesses so that tests behave as expected.\n\t* test/automated/python-tests.el:\n\t(python-shell-prompt-validate-regexps-1)\n\t(python-shell-prompt-validate-regexps-2)\n\t(python-shell-prompt-validate-regexps-3)\n\t(python-shell-prompt-validate-regexps-4)\n\t(python-shell-prompt-validate-regexps-5)\n\t(python-shell-prompt-validate-regexps-6)\n\t(python-shell-prompt-set-calculated-regexps-1):\n\tAdjust expected output to match locale.\n\t* test/automated/tildify-tests.el (tildify-test--test)\n\t(tildify-space-test--test, tildify-space-undo-test--test):\n\tThis test assumes UTF-8 encoding.\n\n2015-09-03  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix some more docstring etc. quoting problems\n\tMostly these fixes prevent the transliteration of apostrophes\n\tthat should stay apostrophes.  Also, prefer curved quotes in\n\tBah\u00e1\u2019\u00ed proper names, as that\u2019s the preferred Bah\u00e1\u2019\u00ed style and\n\tthese names are chock-full of non-ASCII characters anyway.\n\t* lisp/emacs-lisp/eieio-core.el (eieio-defclass-autoload)\n\t(eieio-defclass-internal):\n\t* lisp/emacs-lisp/eieio.el (defclass):\n\t* lisp/hi-lock.el (hi-lock-mode):\n\tDon\u2019t transliterate Lisp apostrophes when generating a\n\tdoc string or diagnostic.\n\t* lisp/international/mule-diag.el (list-coding-systems-1):\n\t* lisp/international/ogonek.el (ogonek-jak, ogonek-how):\n\t* lisp/mail/sendmail.el (sendmail-query-user-about-smtp):\n\t* lisp/vc/ediff-mult.el (ediff-redraw-registry-buffer):\n\t* lisp/vc/ediff-ptch.el (ediff-fixup-patch-map):\n\tSubstitute quotes before putting them in the help buffer.\n\n2015-09-03  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tRe-add the notion of echo_prompt lost in the translation\n\t* src/keyboard.h (struct kboard): Replace echo_after_prompt with new\n\techo_prompt which contains the actual string.  Update all uses.\n\t* src/keyboard.c (kset_echo_prompt): New function.\n\t(echo_update): Add echo_prompt at the very beginning.\n\t(read_char): Remove workaround for bug#19875, not needed any more.\n\t(read_key_sequence): Set echo_prompt rather than echo_string\n\t(bug#21403).\n\t(mark_kboards): Mark echo_prompt.\n\n\tFix disassembly of non-compiled lexical functions (bug#21377)\n\t* lisp/emacs-lisp/bytecomp.el (byte-compile): Handle `closure' arg.\n\t* lisp/emacs-lisp/disass.el: Use lexical-binding.\n\t(disassemble): Recognize `closure's as well.\n\t(disassemble-internal): Use indirect-function and\n\thelp-function-arglist, and accept `closure's.\n\t(disassemble-internal): Use interactive-form.\n\t(disassemble-1): Use functionp.\n\n\t* lisp/textmodes/tex-mode.el (tex--prettify-symbols-compose-p):\n\tDon't compose inside verbatim blocks!\n\n2015-09-03  Mark Oteiza  <mvoteiza@udel.edu>\n\n\t* lisp/thingatpt.el (thing-at-point-uri-schemes): Add \"man:\"\n\t(bug#19441).\n\n\t* lisp/mpc.el (mpc--proc-connect): Handle unix sockets (bug#19394).\n\n2015-09-03  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tvc-git-mode-line-string: Explicitly re-apply the face\n\t* lisp/vc/vc-git.el (vc-git-mode-line-string): Explicitly re-apply\n\tthe face (bug#21404).\n\n2015-09-02  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tTreat initial-scratch-message as a doc string\n\t* doc/emacs/building.texi (Lisp Interaction):\n\t* doc/lispref/os.texi (Startup Summary):\n\t* etc/NEWS: Document this.\n\t* lisp/startup.el (initial-scratch-message):\n\tLook up find-file\u2019s key rather than hardcoding it.\n\t(command-line-1): Substitute the doc string.\n\tThis also substitutes the quotes, which will help test display\n\tquoting at startup.\n\n\tFix describe-char bug with glyphs on terminals\n\t* lisp/descr-text.el (describe-char): Terminals can have glyphs in\n\tbuffers too, so don\u2019t treat them differently from graphic displays.\n\tWithout this fix, describe-char would throw an error on a terminal\n\tif given a glyph with a non-default face.\n\n\tFollow text-quoting-style in display table init\n\tThis attempts to fix a problem reported by Alan Mackenzie in:\n\thttp://lists.gnu.org/archive/html/emacs-devel/2015-09/msg00112.html\n\t* doc/lispref/display.texi (Active Display Table):\n\tMention how text-quoting-style affects it.\n\t* doc/lispref/help.texi (Keys in Documentation):\n\tSay how to set text-quoting-style in ~/.emacs.\n\t* etc/NEWS: Document the change.\n\t* lisp/startup.el (startup--setup-quote-display):\n\tFollow user preference if text-quoting-style is set.\n\t(command-line): Setup quote display again if user expresses\n\ta preference in .emacs.\n\n2015-09-02  K. Handa  <handa@gnu.org>\n\n\tFix typo\n\t* src/ftfont.c (ftfont_drive_otf): otf_positioning_type_components_mask\n\t-> OTF_positioning_type_components_mask.\n\n\tFix previous change\n\t* src/ftfont.c (ftfont_drive_otf): Remember some bits of\n\tOTF_Glyph->positioning_type in MFLTGlyphFT->libotf_positioning_type.\n\n2015-09-01  David Caldwell  <david@porkrind.org>  (tiny change)\n\n\t* lisp/vc/vc-hooks.el (vc-refresh-state): New command.\n\tRename from vc-find-file-hook and make interactive.\n\t(vc-find-file-hook): Redefine as obsolete alias.\n\n2015-09-01  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tEscape ` and ' in doc\n\tEscape apostrophes and grave accents in docstrings if they are\n\tare supposed to stand for themselves and are not quotes.  Remove\n\tapostrophes from docstring examples like \u2018'(calendar-nth-named-day\n\t-1 0 10 year)\u2019 that confuse source code with data.  Do some other\n\tminor docstring fixups as well, e.g., insert a missing close quote.\n\n2015-09-01  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tGeneralize the prefix-command machinery of C-u\n\t* lisp/simple.el (prefix-command-echo-keystrokes-functions)\n\t(prefix-command-preserve-state-hook): New hooks.\n\t(internal-echo-keystrokes-prefix): New function.\n\t(prefix-command--needs-update, prefix-command--last-echo): New vars.\n\t(prefix-command-update, prefix-command-preserve): New functions.\n\t(reset-this-command-lengths): New compatibility definition.\n\t(universal-argument--mode): Call prefix-command-update.\n\t(universal-argument, universal-argument-more, negative-argument)\n\t(digit-argument): Call prefix-command-preserve-state.\n\t* src/keyboard.c: Call internal-echo-keystrokes-prefix to build\n\tthe \"prefix argument\" to echo.\n\t(this_command_key_count_reset, before_command_key_count)\n\t(before_command_echo_length): Delete variables.\n\t(echo_add_key): Always add a space.\n\t(echo_char): Remove.\n\t(echo_dash): Don't give up when this_command_key_count is 0, since that\n\tis now the case after a prefix command.\n\t(echo_update): New function, extracted from echo_now.\n\t(echo_now): Use it.\n\t(add_command_key, read_char, record_menu_key): Remove old disabled code.\n\t(command_loop_1): Don't refrain from pushing an undo boundary when\n\tprefix-arg is set.  Remove other prefix-arg special case, now handled\n\tdirectly in the prefix commands instead.  But call echo_now if there's\n\ta prefix state to echo.\n\t(read_char, record_menu_key): Use echo_update instead of echo_char.\n\t(read_key_sequence): Use echo_now rather than echo_dash/echo_char.\n\t(Freset_this_command_lengths): Delete function.\n\t(syms_of_keyboard): Define Qinternal_echo_keystrokes_prefix.\n\t(syms_of_keyboard): Don't defsubr Sreset_this_command_lengths.\n\t* lisp/simple.el: Use those new hooks for C-u.\n\t(universal-argument--description): New function.\n\t(prefix-command-echo-keystrokes-functions): Use it.\n\t(universal-argument--preserve): New function.\n\t(prefix-command-preserve-state-hook): Use it.\n\t(command-execute): Call prefix-command-update if needed.\n\t* lisp/kmacro.el (kmacro-step-edit-prefix-commands)\n\t(kmacro-step-edit-prefix-index): Delete variables.\n\t(kmacro-step-edit-query, kmacro-step-edit-insert): Remove ad-hoc\n\tsupport for prefix arg commands.\n\t(kmacro-step-edit-macro): Don't bind kmacro-step-edit-prefix-index.\n\t* lisp/emulation/cua-base.el (cua--prefix-override-replay)\n\t(cua--shift-control-prefix): Use prefix-command-preserve-state.\n\tRemove now unused arg `arg'.\n\t(cua--prefix-override-handler, cua--prefix-repeat-handler)\n\t(cua--shift-control-c-prefix, cua--shift-control-x-prefix):\n\tUpdate accordingly.\n\t(cua--prefix-override-timeout): Don't call reset-this-command-lengths\n\tany more.\n\t(cua--keep-active, cua-exchange-point-and-mark): Don't set mark-active\n\tif the mark is not set.\n\n2015-09-01  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRework quoting in Emacs Lisp Introduction\n\t* doc/lispintro/emacs-lisp-intro.texi (Sample let Expression)\n\t(if in more detail, type-of-animal in detail, else): Rework the\n\tearly example to use \" rather than ' so that we don\u2019t burden\n\tcomplete novices with the low-priority detail of text quoting style.\n\t(Complete zap-to-char, kill-region, Complete copy-region-as-kill)\n\t(kill-new function, kill-ring-yank-pointer)\n\t(Complete forward-sentence, Loading Files)\n\t(Code for current-kill, Code for current-kill, yank):\n\tResurrect the Emacs 22 versions of the code, which uses grave\n\tquoting style in doc strings.\n\t(Complete zap-to-char): Mention how quoting works in doc strings.\n\n\tSetup quote display only if interactive\n\t* lisp/startup.el (command-line):\n\tSkip call to startup--setup-quote-display if noninteractive.\n\tWithout this change, python-shell-prompt-validate-regexps-1\n\tfails in test/automated/python-tests.el when run in an\n\ten_US.utf8 locale on Fedora.\n\n2015-09-01  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\tUse defalias at the top level\n\t* lisp/gnus/gnus-util.el (gnus-format-message):\n\t* lisp/net/tls.el (tls-format-message): Use defalias at the top level\n\tso as to make eval-and-compile unnecessary.  Thanks to Stefan Monnier.\n\n2015-09-01  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tterminal-init-w32console mimics command-line\n\tProblem reported by Eli Zaretskii.\n\t* lisp/startup.el (startup--setup-quote-display):\n\tNew function, refactored from a part of \u2018command-line\u2019.\n\t(command-line): Use it.\n\t* lisp/term/w32console.el (terminal-init-w32console):\n\tUse it, so that this function stays consistent with \u2018command-line\u2019.\n\n\tDisplay replacement quotes with shadow glyphs\n\t* lisp/startup.el (command-line): When displaying ASCII\n\treplacements for curved quotes, use a shadow glyph instead of a\n\tregular one, to avoid ambiguity.\n\n2015-09-01  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* lisp/net/tramp-sh.el (tramp-methods) <sudo>: Mask \"Password:\".\n\n2015-09-01  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDocstring fixes re quotes in C code\n\tFix some docstring quoting problems, mostly by escaping apostrophe.\n\n2015-09-01  Michael Albinus  <michael.albinus@gmx.de>\n\n\tSome Tramp password fixes\n\t* lisp/net/tramp.el (tramp-clear-passwd): Clear also the passwords\n\tof the hops.\n\t* lisp/net/tramp-sh.el (tramp-methods) <sudo>: Move \"-p\" \"Password:\"\n\tat the beginning of the command.  Otherwise, it could be\n\tinterpreted as password prompt if the remote host echoes the\n\tcommand.\n\t(tramp-remote-coding-commands): Add \"openssl enc -base64\".\n\n2015-09-01  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tMake vc-git-working-revision always return the commit hash\n\t* lisp/vc/vc-git.el (vc-git-working-revision):\n\tReturn the commit hash (bug#21383).\n\t(vc-git--symbolic-ref): New function, extracted from above.\n\t(vc-git-mode-line-string): Use it.\n\n2015-09-01  K. Handa  <handa@gnu.org>\n\n\tUse the new type MFLTGlyphFT for MFLTGlyphString.glyphs\n\t* src/ftfont.c (MFLTGlyphFT): New type.\n\t(ftfont_get_glyph_id, ftfont_get_metrics, ftfont_drive_otf)\n\t(ftfont_shape_by_flt): Make MFLTGlyphFT the actual type of\n\telements in the array MFLTGlyphString.glyphs.\n\n2015-09-01  Stephen Leake  <stephen_leake@stephe-leake.org>\n\n\tImprove comments in elisp-mode.el, elisp-mode-tests.el\n\t* lisp/progmodes/elisp-mode.el: Clean up FIXMEs, comments.\n\n\tDelete Emacs 25 test in mode-local.el\n\t* lisp/cedet/mode-local.el (describe-mode-local-overload):\n\tFix missed an edit in previous commit.\n\n\tShow all known mode-local overrides in *Help*\n\t* lisp/cedet/mode-local.el (describe-mode-local-overload):\n\tAssume Emacs 25. Add all known mode-local overrides.\n\n2015-09-01  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\t* lisp/gnus/gnus-sum.el (gnus-summary-search-article):\n\tEnsure that the article where the search word is found is displayed\n\tand pointed to in the summary buffer.\n\n2015-08-31  Zachary Kanfer  <zkanfer@gmail.com>  (tiny change)\n\n\t* lisp/newcomment.el (comment-dwim): Use `use-region-p'.\n\tWhen the region is active, but is empty (length 0), act as though\n\tthe region was not active; that is, put a comment at the end of\n\tthe line.  (Bug#21119)\n\n2015-08-31  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\tPort tls.el to older Emacs\n\t* lisp/net/tls.el (tls-format-message):\n\tAlias to format-message, or format if not available.\n\t(open-tls-stream): Use it.\n\n2015-08-31  R\u00fcdiger Sonderfeld  <ruediger@c-plusplus.net>\n\n\thideif.el: Recognize .h++ as C++ header\n\t* lisp/progmodes/hideif.el (hide-ifdef-header-regexp): Add .h++.\n\n\tisearch: Document character folding mode\n\t* lisp/isearch.el (isearch-forward):\n\tMention `isearch-toggle-character-fold' in doc string.\n\n2015-08-31  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tQuoting fixes in ERC and Eshell\n\t* lisp/erc/erc-autoaway.el (erc-autoaway-set-away):\n\t* lisp/erc/erc-backend.el (define-erc-response-handler):\n\t* lisp/erc/erc-fill.el (erc-fill-static-center):\n\t* lisp/eshell/em-dirs.el (eshell-save-some-last-dir):\n\t* lisp/eshell/em-glob.el (eshell-glob-entries):\n\t* lisp/eshell/em-hist.el (eshell-save-some-history):\n\t* lisp/eshell/em-unix.el (eshell-remove-entries, eshell/rm)\n\t(eshell-shuffle-files):\n\t* lisp/eshell/esh-cmd.el (eshell-do-eval):\n\t* lisp/eshell/esh-proc.el (eshell-process-interact)\n\t(eshell-query-kill-processes):\n\tRespect \u2018text-quoting-style\u2019 in diagnostics and doc strings.\n\n\tQuoting fixes in Gnus\n\t* lisp/gnus/gnus-agent.el:\n\t(gnus-agent-possibly-synchronize-flags-server):\n\t* lisp/gnus/gnus-art.el (gnus-article-browse-delete-temp-files):\n\t* lisp/gnus/gnus-eform.el (gnus-edit-form):\n\t* lisp/gnus/gnus-group.el (gnus-group-edit-group)\n\t(gnus-group-nnimap-edit-acl):\n\t* lisp/gnus/gnus-topic.el (gnus-topic-edit-parameters):\n\t* lisp/gnus/mail-source.el (mail-source-delete-old-incoming):\n\t* lisp/gnus/message.el (message-strip-subject-encoded-words)\n\t(message-check-recipients, message-send-form-letter):\n\t* lisp/gnus/mm-decode.el (mm-display-part):\n\t* lisp/gnus/mm-uu.el (mm-uu-pgp-signed-extract-1):\n\t* lisp/gnus/mml-smime.el (mml-smime-get-dns-cert)\n\t(mml-smime-get-ldap-cert):\n\t* lisp/gnus/spam-report.el (spam-report-process-queue):\n\tRespect \u2018text-quoting-style\u2019 in diagnostics.\n\t* lisp/gnus/gnus-art.el (article-display-face)\n\t* lisp/gnus/gnus-fun.el (gnus-display-x-face-in-from):\n\tUse straight quoting in email.\n\t* lisp/gnus/rfc2231.el (rfc2231-decode-encoded-string):\n\tEscape apostrophes in doc strings.\n\n\tQuoting fixes in lisp mail, mh-e, net, url\n\t* lisp/mail/emacsbug.el (report-emacs-bug)\n\t(report-emacs-bug-hook): Use straight quotes in outgoing email,\n\t* lisp/mail/feedmail.el (feedmail-message-action-help-blat):\n\t* lisp/mail/rmail.el (rmail-unknown-mail-followup-to):\n\t* lisp/mail/rmailout.el (rmail-output-read-file-name):\n\t* lisp/net/imap.el (imap-interactive-login):\n\t* lisp/net/tls.el (open-tls-stream):\n\t* lisp/url/url-auth.el (url-register-auth-scheme):\n\tRespect \u2018text-quoting-style\u2019 in diagnostics.\n\t* lisp/mh-e/mh-e.el (mh-sortm-args):\n\tQuote docstring example using text quotes, not as a Lisp quote.\n\n2015-08-31  Stephen Leake  <stephen_leake@stephe-leake.org>\n\n\tFix some byte-compiler warnings in EDE\n\tThis fixes a bug that caused ede-generic-new-autoloader to overwrite the\n\texisting autoloader list, rather than add to it.\n\t* lisp/cedet/ede/auto.el (ede-project-class-files): Delete obsolete name\n\targument to eieio class constructor.\n\t(ede-show-supported-projects): New.\n\t(ede-add-project-autoload): Replace obsolete `eieio-object-name-string'\n\twith (oref ... name).\n\t(ede-auto-load-project): Use slot name, not initarg key.\n\t* lisp/cedet/ede/generic.el (ede-generic-load)\n\t(ede-generic-find-matching-target): Use slot name, not initarg key.\n\t(ede-find-target): Use oref-default on class name.\n\t(ede-generic-new-autoloader): Delete obsolete name argument to eieio\n\tclass constructor.\n\t(ede-enable-generic-projects): Make project type names unique.\n\n2015-08-31  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix directory accessibility tests for w32 network volumes\n\t* src/w32.c (faccessat): Don't fail with network volumes without a\n\tshare.\n\t(w32_accessible_directory_p): Handle network volumes without a\n\tshare.\n\n\tFix handling long file names in readdir on MS-Windows\n\t* src/w32.c (sys_readdir): Append \"\\*\" to the directory after\n\tconverting it to UTF-16/ANSI, not before, to avoid overflowing the\n\t260-character limit on file names in filename_to_utf16/ansi.\n\n\tMake file-accessible-directory-p reliable on MS-Windows\n\t* src/w32.c (w32_accessible_directory_p): New function.\n\t* src/w32.h (w32_accessible_directory_p): Add prototype.\n\t* src/fileio.c (file_accessible_directory_p) [WINDOWSNT]: Call\n\tw32_accessible_directory_p to test a directory for accessibility\n\tby the current user.  (Bug#21346)\n\t(Ffile_accessible_directory_p): Remove the w32 specific caveat\n\tfrom the doc string.\n\n2015-08-31  Martin Rudalics  <rudalics@gmx.at>\n\n\tDon't call do_pending_window_change in signal handlers (Bug#21380)\n\t* src/gtkutil.c (xg_frame_resized):\n\t* src/xterm.c (x_set_window_size):\n\t* src/w32term.c (x_set_window_size): Don't call\n\tdo_pending_window_change.\n\n2015-08-31  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tQuoting fixes in lisp/org\n\t* lisp/org/org-agenda.el (org-search-view, org-todo-list)\n\t(org-tags-view):\n\t* lisp/org/org-capture.el (org-capture-mode)\n\t* lisp/org/org-ctags.el (org-ctags-visit-buffer-or-file)\n\t(org-ctags-ask-append-topic):\n\t* lisp/org/org.el (org-time-string-to-time)\n\t(org-time-string-to-absolute):\n\t* lisp/org/org-ctags.el (org-ctags-visit-buffer-or-file)\n\t(org-ctags-ask-append-topic):\n\t* lisp/org/org.el (org-time-string-to-time)\n\t(org-time-string-to-absolute):\n\tRespect \u2018text-quoting-style\u2019 in diagnostics.\n\t* lisp/org/org-agenda.el (org-agenda-custom-commands)\n\t(org-agenda-dim-blocked-tasks): Plural of TODO is TODOs, not TODO\u2019s.\n\t* lisp/org/org-capture.el (org-capture-fill-template):\n\tAvoid contraction in output file that might be ASCII.\n\t* lisp/org/org-compat.el (format-message):\n\tDefine if not already defined, for backward compatibility.\n\t* lisp/org/org-src.el (org-edit-src-save):\n\t* lisp/org/org.el (org-cycle, org-ctrl-c-ctrl-c):\n\tEscape apostrophes in diagnostics.\n\n\tTreat \u201cinstead\u201d strings as docstrings\n\t* lisp/emacs-lisp/bytecomp.el (byte-compile-form):\n\t* lisp/emacs-lisp/macroexp.el (macroexp--obsolete-warning):\n\tSubstitute quotes in instead strings.\n\n2015-08-31  Nicolas Petton  <nicolas@petton.fr>\n\n\tBetter documentation of seq-let\n\t* doc/lispref/sequences.texi (Sequence Functions): Rephrase the\n\tdocumentation of seq-let.\n\n2015-08-31  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* lisp/international/ccl.el: Fix quoting.\n\n\tQuoting fixes in lisp/international and lisp/leim\n\t* lisp/international/ccl.el (ccl-dump, ccl-dump-call):\n\t* lisp/international/ja-dic-utl.el (skkdic-lookup-key):\n\t* lisp/international/mule-cmds.el:\n\t(select-safe-coding-system-interactively, leim-list-file-name):\n\t* lisp/international/quail.el (quail-use-package, quail-help):\n\t* lisp/international/titdic-cnv.el (tit-process-header)\n\t(miscdic-convert):\n\tRespect text quoting style in doc strings and diagnostics.\n\t* lisp/international/quail.el (lisp/international/quail.el):\n\t* lisp/leim/quail/ethiopic.el (\"ethiopic\"):\n\tEscape apostrophes in doc strings.\n\n\tMake \u2018text-quoting-style\u2019 a plain defvar\n\tIt doesn\u2019t need customization, as it\u2019s likely useful only by experts.\n\tSuggested by Stefan Monnier in:\n\thttp://lists.gnu.org/archive/html/emacs-devel/2015-08/msg01020.html\n\t* lisp/cus-start.el: Remove doc.c section for builtin customized vars.\n\n\tQuoting fixes in lisp/textmodes\n\t* lisp/textmodes/bibtex.el (bibtex-validate)\n\t(bibtex-validate-globally, bibtex-search-entries):\n\t* lisp/textmodes/ispell.el (ispell-command-loop):\n\t* lisp/textmodes/page-ext.el (search-pages, pages-directory):\n\t* lisp/textmodes/texinfmt.el (texinfmt-version)\n\t(texinfo-format-region, texinfo-format-buffer-1):\n\t* lisp/textmodes/two-column.el (2C-split):\n\tRespect text quoting style in doc strings and diagnostics.\n\t* lisp/textmodes/conf-mode.el (conf-mode-map, conf-quote-normal):\n\t* lisp/textmodes/sgml-mode.el (sgml-specials, sgml-mode):\n\tEscape apostrophes in doc strings.\n\n\tDocumentation fixes re quotes\n\tPrefer curved quotes in examples if users will typically see\n\tcurved quotes when the examples run.\n\tMention format-message when appropriate.\n\tDon\u2019t use @code in examples.\n\tQuote an apostrophe with @kbd.\n\n\tQuoting fixes in lisp/progmodes\n\t* lisp/progmodes/cc-engine.el (c-bos-report-error):\n\t* lisp/progmodes/cpp.el (cpp-edit-reset):\n\t* lisp/progmodes/ebrowse.el (ebrowse-tags-apropos):\n\t* lisp/progmodes/etags.el (etags-tags-apropos-additional)\n\t(etags-tags-apropos, list-tags, tags-apropos):\n\t* lisp/progmodes/executable.el (executable-set-magic):\n\t* lisp/progmodes/octave.el (octave-sync-function-file-names)\n\t(octave-help, octave-find-definition-default-filename)\n\t(octave-find-definition):\n\tRespect text quoting style in doc strings and diagnostics.\n\t* lisp/progmodes/cc-langs.el (c-populate-syntax-table):\n\t* lisp/progmodes/verilog-mode.el (verilog-auto-reset-widths):\n\t* lisp/progmodes/vhdl-mode.el (vhdl-electric-quote):\n\tEscape apostrophes in doc strings.\n\t* lisp/progmodes/cmacexp.el (c-macro-expansion):\n\tUse straight quoting in ASCII comment.\n\t* lisp/progmodes/idlwave.el (idlwave-auto-fill-split-string)\n\t(idlwave-pad-keyword):\n\t* lisp/progmodes/vhdl-mode.el (vhdl-widget-directory-validate)\n\t(vhdl-electric-open-bracket, vhdl-electric-close-bracket):\n\t(vhdl-electric-semicolon, vhdl-electric-comma)\n\t(vhdl-electric-period, vhdl-electric-equal):\n\tUse directed quotes in diagnostics and doc strings.\n\n2015-08-30  Xue Fuqiao  <xfq.free@gmail.com>\n\n\tMinor documentation and NEWS tweak\n\t* doc/lispintro/emacs-lisp-intro.texi (fwd-para let):\n\tAdd an index entry.\n\t* etc/NEWS: Fix a typo in character-fold-to-regexp.\n\n2015-08-30  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* lisp/net/tramp-sh.el (tramp-convert-file-attributes):\n\tRevert patch from 2015-08-24.  Tramp shall behave like for local files.\n\t* test/automated/tramp-tests.el (tramp-test18-file-attributes):\n\tAdapt test.\n\n2015-08-30  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tText quoting fixes in cedet, emulation, emacs-lisp\n\t* lisp/cedet/ede.el (ede-check-project-directory):\n\t* lisp/cedet/semantic/analyze/debug.el\n\t(semantic-analyzer-debug-insert-include-summary):\n\t* lisp/cedet/semantic/bovine/c.el (semantic-c-describe-environment):\n\t* lisp/cedet/semantic/decorate/include.el\n\t(semantic-decoration-unknown-include-describe)\n\t(semantic-decoration-all-include-summary):\n\t* lisp/cedet/semantic/ia.el (semantic-ia-fast-jump):\n\t* lisp/emulation/edt.el (edt-load-keys):\n\t* lisp/emulation/viper-cmd.el\n\t(viper-display-current-destructive-command)\n\t(viper-query-replace, viper-brac-function):\n\t* lisp/emulation/viper-ex.el (viper-get-ex-token, ex-compile):\n\t* lisp/emulation/viper-macs.el (viper-unrecord-kbd-macro):\n\tRespect text quoting style in doc string or diagnostic.\n\t* lisp/cedet/mode-local.el (describe-mode-local-overload):\n\tUse format-message to avoid overtranslating quotes.\n\t* lisp/emacs-lisp/checkdoc.el (checkdoc-in-sample-code-p):\n\tEscape an apostrophe in a docstring.\n\t* lisp/emacs-lisp/warnings.el (lwarn): Fix doc string.\n\n2015-08-29  Daniel Colascione  <dancol@dancol.org>\n\n\tFix which-func for curly quotes: look for symbol, not message\n\t* lisp/progmodes/which-func.el (which-func-ff-hook): Look for new\n\timenu-unavailable error symbol instead of trying to match message\n\texactly.\n\t* lisp/imenu.el (imenu-unavailable): New error.\n\t(imenu-unavailable-error): New function.\n\n2015-08-29  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix Python tests on MS-Windows\n\t* test/automated/python-tests.el\n\t(python-shell-calculate-command-1): Run python-shell-interpreter\n\tthrough shell-quote-argument before comparing with what\n\tpython-shell-calculate-command returns.\n\t(python-shell-calculate-pythonpath-1)\n\t(python-shell-calculate-pythonpath-2)\n\t(python-shell-calculate-process-environment-2): Use path-separator\n\tinstead of a literal ':'.\n\t(python-shell-calculate-exec-path-2)\n\t(python-shell-calculate-exec-path-3)\n\t(python-shell-calculate-exec-path-4)\n\t(python-shell-with-environment-1)\n\t(python-shell-with-environment-2): Run \"/env/bin\" through\n\texpand-file-name before comparing with exec-path.  (Bug#21375)\n\n2015-08-29  YAMAMOTO Mitsuharu  <mituharu@math.s.chiba-u.ac.jp>\n\n\tUse Core Text types/functions/variables/enumerators directly\n\t* src/macfont.h (FontDescriptorRef, FontRef, FontSymbolicTraits)\n\t(CharacterCollection): Remove typedefs.  All uses replaced with\n\tdefinitions.\n\t(MAC_FONT_NAME_ATTRIBUTE, MAC_FONT_FAMILY_NAME_ATTRIBUTE)\n\t(MAC_FONT_TRAITS_ATTRIBUTE, MAC_FONT_SIZE_ATTRIBUTE)\n\t(MAC_FONT_CASCADE_LIST_ATTRIBUTE)\n\t(MAC_FONT_CHARACTER_SET_ATTRIBUTE, MAC_FONT_LANGUAGES_ATTRIBUTE)\n\t(MAC_FONT_FORMAT_ATTRIBUTE, MAC_FONT_SYMBOLIC_TRAIT)\n\t(MAC_FONT_WEIGHT_TRAIT, MAC_FONT_WIDTH_TRAIT)\n\t(MAC_FONT_SLANT_TRAIT): Remove macros.  All uses replaced with\n\tdefinitions.\n\t(MAC_FONT_TRAIT_ITALIC, MAC_FONT_TRAIT_BOLD)\n\t(MAC_FONT_TRAIT_MONO_SPACE, MAC_FONT_TRAIT_COLOR_GLYPHS)\n\t(MAC_FONT_FORMAT_BITMAP)\n\t(MAC_CHARACTER_COLLECTION_IDENTITY_MAPPING)\n\t(MAC_CHARACTER_COLLECTION_ADOBE_JAPAN1): Remove enumerators.\n\tAll uses replaced with definitions.\n\t(kCTFontTraitItalic, kCTFontTraitBold, kCTFontTraitMonoSpace)\n\t(kCTFontTraitColorGlyphs, kCTCharacterCollectionIdentityMapping)\n\t(kCTCharacterCollectionAdobeJapan1 kCTFontOrientationDefault):\n\tAdd compatibility enumerators for older versions.\n\t(mac_font_descriptor_create_with_attributes)\n\t(mac_font_descriptor_create_matching_font_descriptors)\n\t(mac_font_descriptor_create_matching_font_descriptor)\n\t(mac_font_descriptor_copy_attribute)\n\t(mac_font_descriptor_supports_languages)\n\t(mac_font_create_with_name, mac_font_get_size)\n\t(mac_font_copy_family_name, mac_font_copy_character_set)\n\t(mac_font_get_glyphs_for_characters, mac_font_get_ascent)\n\t(mac_font_get_descent, mac_font_get_leading)\n\t(mac_font_get_underline_position)\n\t(mac_font_get_underline_thickness, mac_font_copy_graphics_font)\n\t(mac_font_copy_non_synthetic_table): Remove macros.  All uses\n\treplaced with definitions.\n\t(mac_font_create_preferred_family_for_attributes)\n\t(mac_font_get_advance_width_for_glyph)\n\t(mac_font_get_bounding_rect_for_glyph)\n\t(mac_font_create_available_families, mac_font_shape):\n\tRemove macros for renamed functions.\n\t(mac_nsctfont_copy_font_descriptor): Remove unused macro.\n\t* src/macfont.m (mac_font_descriptor_supports_languages):\n\tRename from mac_ctfont_descriptor_supports_languages.\n\t(mac_font_create_preferred_family_for_attributes): Rename from\n\tmac_ctfont_create_preferred_family_for_attributes.\n\t(mac_font_get_advance_width_for_glyph): Rename from\n\tmac_ctfont_get_advance_width_for_glyph.\n\tUse kCTFontOrientationDefault also for older versions.\n\t(mac_font_get_bounding_rect_for_glyph): Rename from\n\tmac_ctfont_get_bounding_rect_for_glyph.\n\tUse kCTFontOrientationDefault also for older versions.\n\t(mac_font_create_available_families): Rename from\n\tmac_ctfont_create_available_families.\n\t(mac_font_equal_in_postscript_name): Rename from\n\tmac_ctfont_equal_in_postscript_name.  All uses changed.\n\t(mac_font_create_line_with_string_and_font): Rename from\n\tmac_ctfont_create_line_with_string_and_font.  All uses changed.\n\t(mac_font_shape): Rename from mac_ctfont_shape.\n\t(mac_font_family_compare): Remove unused declaration.\n\n2015-08-29  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix minor text quoting in calc, calendar, vc\n\t* lisp/calc/calc-ext.el (calc-shift-Z-prefix-help):\n\t* lisp/calc/calc-help.el (calc-j-prefix-help):\n\t* lisp/calc/calc-misc.el (calc-help):\n\t* lisp/calc/calc.el (calc-algebraic-mode, calc-mode):\n\tEscape an apostrophe in a docstring.\n\t* lisp/calc/calc-forms.el (calc-hms-notation):\n\t* lisp/calc/calc-mode.el (calc-display-raw, calc-algebraic-mode):\n\tEscape an apostrophe in a diagnostic.\n\t* lisp/calc/calc-misc.el (calc-help):\n\t* lisp/calendar/diary-lib.el (diary-include-files):\n\t* lisp/calendar/todo-mode.el (todo-prefix, todo-item-mark):\n\t* lisp/vc/diff-mode.el (diff-delete-trailing-whitespace):\n\t* lisp/vc/ediff-diff.el (ediff-same-contents):\n\t* lisp/vc/ediff-merg.el (ediff-re-merge):\n\t* lisp/vc/ediff-ptch.el (ediff-patch-file-internal):\n\t* lisp/vc/ediff-util.el (ediff-test-save-region)\n\t(ediff-status-info):\n\t* lisp/vc/ediff.el (ediff-merge-revisions)\n\t(ediff-merge-revisions-with-ancestor):\n\t* lisp/vc/pcvs.el (cvs-mode-checkout, cvs-vc-command-advice):\n\t* lisp/vc/vc-cvs.el (vc-cvs-mode-line-string):\n\tRespect text quoting style in doc string or diagnostic.\n\t* lisp/calc/calc-prog.el (calc-kbd-push, calc-kbd-pop):\n\t* lisp/vc/add-log.el (change-log-goto-source):\n\tAvoid double-formatting.\n\t* lisp/vc/ediff-init.el (format-message):\n\tNew backward-compatibility alias.\n\n2015-08-28  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix minor text quoting problems in lisp top level\n\t* lisp/apropos.el (apropos-describe-plist):\n\t* lisp/cus-theme.el (customize-themes):\n\t* lisp/dired.el (dired-log):\n\t* lisp/help-fns.el (describe-variable):\n\t* lisp/hexl.el (hexl-insert-multibyte-char):\n\t* lisp/info.el (Info-finder-find-node):\n\t* lisp/json.el (json-read-string):\n\t* lisp/novice.el (disabled-command-function)\n\t(disabled-command-function):\n\t* lisp/startup.el (normal-mouse-startup-screen):\n\t* lisp/woman.el (WoMan-log, WoMan-warn):\n\tRespect text quoting style in doc string or diagnostic.\n\t* lisp/replace.el (replace-character-fold):\n\t* src/syntax.c (Fmodify_syntax_entry):\n\tEscape an apostrophe in a docstring.\n\t* lisp/tempo.el (tempo-define-template):\n\tRemove confusing apostrophe from docstring.\n\t* lisp/whitespace.el (whitespace-mark-x):\n\tUse directed quotes in docstring.\n\n2015-08-28  Simen Heggest\u00f8yl  <simenheg@gmail.com>\n\n\tFix indentation rule in css-mode\n\t* lisp/textmodes/css-mode.el (css-smie-rules): Fix indentation of\n\tbrackets in presence of pseudo-selectors.  (Bug#21328)\n\n2015-08-28  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix a bug in recording a macro while flyspell-mode is active\n\t* lisp/subr.el (sit-for): Don't call read-event when recording a\n\tmacro.  (Bug#21329)\n\n2015-08-27  Paul Eggert  <eggert@Penguin.CS.UCLA.EDU>\n\n\tTweak startup screen quoting\n\t* lisp/startup.el (normal-splash-screen): Use standard\n\t\"M-\" abbrevation rather than a confusingly-different one.\n\t(normal-no-mouse-startup-screen): Follow \u2018text-quoting-style\u2019.\n\n2015-08-27  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tAdd test case for \u2018format\u2019 bug and refactor\n\t* src/editfns.c (styled_format): Refactor internally, mostly by\n\tmoving declarations closer to uses.  This should not affect behavior.\n\t* test/automated/textprop-tests.el (textprop-tests-format): New test.\n\n\tFix \u2018format\u2019 bug with property offsets\n\t* src/editfns.c (styled_format): Fix recently-introduced \u2018format\u2019\n\tbug in calculating string property offsets (Bug#21351).\n\n\tUse straight quotes in lib-src diagnostics\n\tThese auxiliary programs can\u2019t use Emacs\u2019s text-quoting-style,\n\tand it\u2019s too much trouble to redo that mechanism by hand.\n\tSo just use straight quotes for now.\n\t* lib-src/ebrowse.c (main):\n\t* lib-src/emacsclient.c (decode_options, main):\n\t* lib-src/etags.c (Ada_help, default_C_help, Cplusplus_help)\n\t(Forth_help, HTML_help, Lisp_help, Makefile_help, Objc_help)\n\t(Perl_help, PHP_help, Python_help, Scheme_help, TeX_help, auto_help)\n\t(none_help, print_language_names, print_help, add_regex)\n\t(suggest_asking_for_help):\n\t* lib-src/make-docfile.c (write_c_args, scan_c_stream):\n\tUse straight quotes in diagnostics.\n\n\t\u2018text-quoting-style\u2019 fixes for admin\n\t* admin/admin.el (cusver-scan, cusver-check):\n\t* admin/authors.el (authors-canonical-file-name):\n\t* admin/bzrmerge.el (bzrmerge-missing):\n\tRespect \u2018text-quoting-style\u2019 in diagnostics.\n\n2015-08-26  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tAssume GC_MARK_STACK == GC_MAKE_GCPROS_NOOPS\n\tThis removes the need for GCPRO1 etc.  Suggested by Stefan Monnier in:\n\thttp://lists.gnu.org/archive/html/emacs-devel/2015-08/msg00918.html\n\t* doc/lispref/internals.texi (Writing Emacs Primitives):\n\t* etc/NEWS:\n\tDocument the change.\n\t* src/alloc.c (gcprolist, dump_zombies, MAX_ZOMBIES, zombies)\n\t(nzombies, ngcs, avg_zombies, max_live, max_zombies, avg_live)\n\t(Fgc_status, check_gcpros, relocatable_string_data_p, gc-precise):\n\t* src/bytecode.c (mark_byte_stack) [BYTE_MARK_STACK]:\n\t* src/eval.c (gcpro_level) [DEBUG_GCPRO]:\n\t* src/lisp.h (struct handler.gcpro, struct gcpro, GC_MARK_STACK)\n\t(GC_USE_GCPROS_AS_BEFORE, GC_MAKE_GCPROS_NOOPS)\n\t(GC_MARK_STACK_CHECK_GCPROS, GC_USE_GCPROS_CHECK_ZOMBIES)\n\t(BYTE_MARK_STACK, GCPRO1, GCPRO2, GCPRO3, GCPRO4, GCPRO5, GCPRO6)\n\t(GCPRO7, UNGCPRO, RETURN_UNGCPRO):\n\tRemove.  All uses removed.  The code now assumes\n\tGC_MARK_STACK == GC_MAKE_GCPROS_NOOPS.\n\t* src/bytecode.c (relocate_byte_stack):\n\tRename from unmark_byte_stack, since it now only relocates.\n\tAll callers changed.\n\t* src/frame.c (make_frame): Add an IF_LINT to pacify GCC 5.2\n\twith GCPROs removed.\n\t* src/systime.h: Use EMACS_LISP_H as the canary instead of GCPRO1.\n\t* test/automated/finalizer-tests.el (finalizer-basic)\n\t(finalizer-circular-reference, finalizer-cross-reference)\n\t(finalizer-error):\n\t* test/automated/generator-tests.el (cps-test-iter-close-finalizer):\n\tRemove tests, as they depend on gc-precise.\n\n2015-08-26  Nicolas Petton  <nicolas@petton.fr>\n\n\tImprove seq-concatenate for new sequence types\n\tUse the new `seq-into-sequence' in seqs passed to `seq-concatenate' to\n\tensure that concatenation happens on sequences only.  This makes it\n\tpossible to use `seq-concatenate' for new types of seqs.\n\t* lisp/emacs-lisp/seq.el (seq-into-sequence, seq-concatenate):\n\tNew function used in `seq-concatenate'.\n\t* test/automated/seq-tests.el (test-seq-into-sequence): New unit test\n\tfor seq-into-sequence.\n\n2015-08-26  Stephen Leake  <stephen_leake@stephe-leake.org>\n\n\tAdd mode local overrides to xref-find-definitions\n\t* lisp/cedet/mode-local.el (xref-mode-local--override-present)\n\t(xref-mode-local-overload): New; add mode local overrides to\n\txref-find-definitions.\n\t* test/automated/elisp-mode-tests.el: Add mode local override tests.\n\t(xref-elisp-test-run): Handle indented defuns.\n\t(xref-elisp-generic-*): Improve doc strings.\n\t* lisp/progmodes/elisp-mode.el (elisp-xref-find-def-functions): New.\n\t(elisp--xref-find-definitions): Use it.\n\n\tAdd mode local overrides to describe-function\n\t* lisp/cedet/mode-local.el (describe-mode-local-overload):\n\tNew; add mode local overrides to describe-function.\n\t* etc/NEWS: Document change.\n\n2015-08-26  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPrefer straight quoting in some etc text files\n\tThese files are plain text and might be used by non-Emacs apps.\n\tThey\u2019re mostly ASCII, so just use straight quotes.\n\n\tFix quoting in \u2018message_with_string\u2019\n\t* src/nsfont.m (nsfont_open): Use directed quotes in format; they\n\tshould work now.\n\t* src/xdisp.c (message_to_stderr): New function, refactored from\n\tpart of \u2018message3_nolog\u2019.\n\t(message3_nolog): Use it.\n\t(message_with_string): Use it.  Don\u2019t mishandle NUL bytes when\n\tnoninteractive.  Prefer AUTO_STRING when it\u2019s most likely faster.\n\tUse \u2018format-message\u2019, not \u2018format\u2019, so that quotes are translated.\n\n2015-08-26  Eli Zaretskii  <eliz@gnu.org>\n\n\tMention false positives of file-accessible-directory on w32\n\t* src/fileio.c (Ffile_accessible_directory_p): Doc fix.\n\t(Bug#21346)\n\n2015-08-26  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tTreat error strings as help\n\t* src/print.c (print_error_message): Translate quotes and command\n\tkeys in errmsg so that users see, e.g., \"Symbol\u2019s value as\n\tvariable is void: foo\" when text-quoting-style is curved.\n\n2015-08-26  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* lisp/net/tramp-cache.el (top): Use `message', not `format-message'.\n\n2015-08-26  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tTop-level elisp files respect \u2018text-quoting-style\u2019\n\tIn top-level elisp files, use format-message in diagnostic formats,\n\tso that they follow user preference as per \u2018text-quoting-style\u2019\n\trather than being hard-coded to quote `like this'.\n\t* lisp/allout.el (allout-get-configvar-values):\n\t* lisp/apropos.el (apropos-symbols-internal):\n\t* lisp/dired-aux.el (dired-do-shell-command, dired-create-files)\n\t(dired-do-create-files-regexp, dired-create-files-non-directory):\n\t* lisp/dired-x.el (dired-do-run-mail):\n\t* lisp/dired.el (dired-log, dired-dnd-handle-local-file):\n\t* lisp/disp-table.el (standard-display-european):\n\t* lisp/find-dired.el (find-dired):\n\t* lisp/forms.el (forms-mode):\n\t* lisp/ido.el (ido-buffer-internal):\n\t* lisp/info.el (Info-index-next):\n\t* lisp/outline.el (outline-invent-heading):\n\t* lisp/printing.el (pr-ps-outfile-preprint, pr-i-ps-send):\n\t* lisp/proced.el (proced-log):\n\t* lisp/ps-print.el (ps-print-preprint, ps-get-size):\n\t* lisp/recentf.el (recentf-open-files, recentf-save-list):\n\t* lisp/savehist.el (savehist-save):\n\t* lisp/server.el (server-ensure-safe-dir):\n\t* lisp/ses.el (ses-rename-cell):\n\t* lisp/simple.el (list-processes--refresh):\n\t* lisp/startup.el (command-line):\n\t* lisp/strokes.el (strokes-unset-last-stroke)\n\t(strokes-execute-stroke):\n\tUse format-message so that quotes are restyled.\n\t* lisp/cus-edit.el (custom-raised-buttons, customize-browse):\n\tDon\u2019t quote \u2018raised\u2019.\n\t* lisp/descr-text.el (describe-char):\n\t* lisp/dirtrack.el (dirtrack-debug-message):\n\t* lisp/hexl.el (hexl-insert-multibyte-char):\n\tApply substitute-command-keys to help string.\n\t* lisp/wdired.el (wdired-do-renames, wdired-do-symlink-changes)\n\t(wdired-do-perm-changes):\n\tLet dired-log do the formatting.\n\n2015-08-25  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tGo back to grave quoting in Tramp\n\t* lisp/net/tramp-adb.el:\n\t* lisp/net/tramp-cache.el:\n\t* lisp/net/tramp-compat.el:\n\t* lisp/net/tramp-gvfs.el:\n\t* lisp/net/tramp-gw.el:\n\t* lisp/net/tramp-sh.el:\n\t* lisp/net/tramp-smb.el:\n\t* lisp/net/tramp.el:\n\tStick with grave quoting in diagnostics strings.  This is more\n\tportable to older Emacs, desirable for Tramp.\n\t* lisp/net/tramp-cache.el: Use \u2018format-message\u2019, not \u2018format\u2019,\n\tfor diagnostic that needs requoting.\n\t* lisp/net/tramp-compat.el (format-message):\n\tFall back on simple \u2018format\u2019, since that\u2019s good enough now.\n\n\tGo back to grave quoting in Gnus\n\t* lisp/gnus/auth-source.el (auth-source-netrc-parse-entries):\n\t* lisp/gnus/gnus-agent.el (gnus-agent-check-overview-buffer)\n\t(gnus-agent-fetch-headers):\n\t* lisp/gnus/gnus-int.el (gnus-start-news-server):\n\t* lisp/gnus/gnus-registry.el:\n\t(gnus-registry--split-fancy-with-parent-internal)\n\t(gnus-registry-post-process-groups):\n\t* lisp/gnus/gnus-score.el (gnus-summary-increase-score):\n\t* lisp/gnus/gnus-start.el (gnus-convert-old-newsrc):\n\t* lisp/gnus/gnus-topic.el (gnus-topic-rename):\n\t* lisp/gnus/legacy-gnus-agent.el (gnus-agent-unlist-expire-days):\n\t* lisp/gnus/spam.el (spam-check-blackholes):\n\tStick with grave quoting in diagnostics strings.  This is more\n\tportable to older Emacs, desirable for Gnus.\n\n\tFix customization of text-quoting-style\n\t* lisp/cus-edit.el (custom-guess-type, custom-variable-documentation):\n\t* lisp/wid-edit.el (widget-docstring):\n\tGet raw docstring here since it\u2019s cooked later and should not be\n\tcooked twice.\n\t* lisp/cus-edit.el (custom-group-value-create):\n\tCook the docstring before inserting it.\n\t* lisp/cus-start.el (text-quoting-style): Quote the customization\n\tdocstrings according to the new rules.  Give curved examples.\n\n\tformat-message now curves ` and '\n\tThat way, the caller doesn\u2019t have to use curved quotes to\n\tget diagnostics that match the text-quoting-style preferences.\n\tSuggested by Dmitry Gutov in:\n\thttp://lists.gnu.org/archive/html/emacs-devel/2015-08/msg00893.html\n\tThis means we no longer need %qs, so remove that format.\n\tWhile we\u2019re at it, fix an unlikely bug and lessen the pressure\n\ton the garbage collector by processing the string once rather\n\tthan twice in the usual case.\n\t* doc/lispref/strings.texi (Formatting Strings):\n\t* etc/NEWS: Document this.\n\t* lisp/subr.el (format-message): Remove; now done in C.\n\t* src/callint.c (Fcall_interactively):\n\t* src/editfns.c (Fmessage, Fmessage_box):\n\tUse Fformat_message instead of Finternal__text_restyle\n\tfollowed by Fformat.\n\t* src/doc.c (LSQM, RSQM): Remove; all uses changed to use\n\tuLSQM and uRSQM.\n\t(Fsubstitute_command_keys): Prefer AUTO_STRING to build_string\n\twhen pure ASCII now suffices.  Fix unlikely bug when parsing\n\tunibyte string containing non-ASCII bytes.  Use inline code\n\trather than memcpy, as it\u2019s a tiny number of bytes.\n\t(Finternal__text_restyle): Remove; no longer used.\n\t(syms_of_doc): Don\u2019t declare it.\n\t* src/editfns.c (Fformat): Rewrite in terms of new function\n\t\u2018styled_format\u2019.\n\t(Fformat_message): New function, moved here from subr.el.\n\t(styled_format): New function, with the old guts of Fformat,\n\texcept it now optionally transliterates quotes, and it transliterates\n\ttraditional grave accent and apostrophe quoting as well.\n\tRemove recently-added q flag; no longer needed or used.\n\t(syms_of_editfns): Define format-message.\n\t* src/lisp.h (uLSQM0, uLSQM1, uLSQM2, uRSQM0, uRSQM1, uRSQM2):\n\tRemove; no longer need to be global symbols.\n\t* src/xdisp.c (vadd_to_log): Use Fformat_message, not Fformat,\n\tso that callers can use `%s'.\n\t* src/image.c (image_size_error, xbm_load_image, xbm_load)\n\t(xpm_load, pbm_load, png_load_body, jpeg_load_body, tiff_load)\n\t(gif_load, imagemagick_load_image, imagemagick_load, svg_load)\n\t(svg_load_image, gs_load, x_kill_gs_process):\n\t* src/lread.c (load_warn_old_style_backquotes):\n\t* src/xfaces.c (load_pixmap):\n\t* src/xselect.c (x_clipboard_manager_error_1):\n\tUse `%s' instead of %qs in formats.\n\n2015-08-25  Eli Zaretskii  <eliz@gnu.org>\n\n\tMinor fixes in doc/emacs/search.texi\n\t* doc/emacs/search.texi (Basic Isearch): Fix a typo.\n\t(Special Isearch): Use @w{} to generate several consecutive spaces\n\twith Texinfo 6.  (Bug#21345)\n\n2015-08-25  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* lisp/net/tramp-sh.el (tramp-awk-encode, tramp-awk-decode)\n\t(tramp-awk-coding-test): New defconsts.\n\t(tramp-remote-coding-commands): Use them.\n\t(tramp-find-inline-encoding): Check for Perl only if necessary.\n\n2015-08-25  Xue Fuqiao  <xfq.free@gmail.com>\n\n\t* doc/lispintro/emacs-lisp-intro.texi (Run a Program): Add some\n\tindex entries for the special form `quote'.\n\n2015-08-25  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSpelling fixes\n\n\tGnus format-message typo fix\n\t* lisp/gnus/gnus-util.el (gnus-format-message):\n\tFix typo when running in older Emacs.\n\n\tPrefer directed to neutral quotes in docstings and diagnostics.\n\tIn docstrings, escape apostrophes that would otherwise be translated\n\tto curved quotes using the newer, simpler rules.\n\t* admin/unidata/unidata-gen.el (unidata-gen-table):\n\t* lisp/align.el (align-region):\n\t* lisp/allout.el (allout-mode, allout-solicit-alternate-bullet):\n\t* lisp/bookmark.el (bookmark-default-annotation-text):\n\t* lisp/calc/calc-aent.el (math-read-if, math-read-factor):\n\t* lisp/calc/calc-lang.el (math-read-giac-subscr)\n\t(math-read-math-subscr):\n\t* lisp/calc/calc-misc.el (report-calc-bug):\n\t* lisp/calc/calc-prog.el (calc-fix-token-name)\n\t(calc-read-parse-table-part):\n\t* lisp/cedet/ede/pmake.el (ede-proj-makefile-insert-dist-rules):\n\t* lisp/cedet/semantic/complete.el (semantic-displayor-show-request):\n\t* lisp/dabbrev.el (dabbrev-expand):\n\t* lisp/emacs-lisp/checkdoc.el (checkdoc-this-string-valid-engine):\n\t* lisp/emacs-lisp/elint.el (elint-get-top-forms):\n\t* lisp/emacs-lisp/lisp-mnt.el (lm-verify):\n\t* lisp/emulation/viper-cmd.el (viper-toggle-search-style):\n\t* lisp/erc/erc-button.el (erc-nick-popup):\n\t* lisp/erc/erc.el (erc-cmd-LOAD, erc-handle-login):\n\t* lisp/eshell/em-dirs.el (eshell/cd):\n\t* lisp/eshell/em-glob.el (eshell-glob-regexp):\n\t* lisp/eshell/em-pred.el (eshell-parse-modifiers):\n\t* lisp/eshell/esh-arg.el (eshell-parse-arguments):\n\t* lisp/eshell/esh-opt.el (eshell-show-usage):\n\t* lisp/files-x.el (modify-file-local-variable):\n\t* lisp/filesets.el (filesets-add-buffer, filesets-remove-buffer)\n\t(filesets-update-pre010505):\n\t* lisp/find-cmd.el (find-generic, find-to-string):\n\t* lisp/gnus/auth-source.el (auth-source-netrc-parse-entries):\n\t* lisp/gnus/gnus-agent.el (gnus-agent-check-overview-buffer)\n\t(gnus-agent-fetch-headers):\n\t* lisp/gnus/gnus-int.el (gnus-start-news-server):\n\t* lisp/gnus/gnus-registry.el:\n\t(gnus-registry--split-fancy-with-parent-internal):\n\t* lisp/gnus/gnus-score.el (gnus-summary-increase-score):\n\t* lisp/gnus/gnus-start.el (gnus-convert-old-newsrc):\n\t* lisp/gnus/gnus-topic.el (gnus-topic-rename):\n\t* lisp/gnus/legacy-gnus-agent.el (gnus-agent-unlist-expire-days):\n\t* lisp/gnus/nnmairix.el (nnmairix-widget-create-query):\n\t* lisp/gnus/spam.el (spam-check-blackholes):\n\t* lisp/mail/feedmail.el (feedmail-run-the-queue):\n\t* lisp/mpc.el (mpc-playlist-rename):\n\t* lisp/net/ange-ftp.el (ange-ftp-shell-command):\n\t* lisp/net/mairix.el (mairix-widget-create-query):\n\t* lisp/net/tramp-cache.el:\n\t* lisp/obsolete/otodo-mode.el (todo-more-important-p):\n\t* lisp/obsolete/pgg-gpg.el (pgg-gpg-process-region):\n\t* lisp/obsolete/pgg-pgp.el (pgg-pgp-process-region):\n\t* lisp/obsolete/pgg-pgp5.el (pgg-pgp5-process-region):\n\t* lisp/org/ob-core.el (org-babel-goto-named-src-block)\n\t(org-babel-goto-named-result):\n\t* lisp/org/ob-fortran.el (org-babel-fortran-ensure-main-wrap):\n\t* lisp/org/ob-ref.el (org-babel-ref-resolve):\n\t* lisp/org/org-agenda.el (org-agenda-prepare):\n\t* lisp/org/org-bibtex.el (org-bibtex-fields):\n\t* lisp/org/org-clock.el (org-clock-notify-once-if-expired)\n\t(org-clock-resolve):\n\t* lisp/org/org-feed.el (org-feed-parse-atom-entry):\n\t* lisp/org/org-habit.el (org-habit-parse-todo):\n\t* lisp/org/org-mouse.el (org-mouse-popup-global-menu)\n\t(org-mouse-context-menu):\n\t* lisp/org/org-table.el (org-table-edit-formulas):\n\t* lisp/org/ox.el (org-export-async-start):\n\t* lisp/play/dunnet.el (dun-score, dun-help, dun-endgame-question)\n\t(dun-rooms, dun-endgame-questions):\n\t* lisp/progmodes/ada-mode.el (ada-goto-matching-start):\n\t* lisp/progmodes/ada-xref.el (ada-find-executable):\n\t* lisp/progmodes/antlr-mode.el (antlr-options-alists):\n\t* lisp/progmodes/flymake.el (flymake-parse-err-lines)\n\t(flymake-start-syntax-check-process):\n\t* lisp/progmodes/python.el (python-define-auxiliary-skeleton):\n\t* lisp/progmodes/sql.el (sql-comint):\n\t* lisp/progmodes/verilog-mode.el (verilog-load-file-at-point):\n\t* lisp/server.el (server-get-auth-key):\n\t* lisp/subr.el (version-to-list):\n\t* lisp/textmodes/reftex-ref.el (reftex-label):\n\t* lisp/textmodes/reftex-toc.el (reftex-toc-rename-label):\n\t* lisp/vc/ediff-diff.el (ediff-same-contents):\n\t* lisp/vc/vc-cvs.el (vc-cvs-mode-line-string):\n\t* test/automated/tramp-tests.el (tramp-test33-asynchronous-requests):\n\tUse directed rather than neutral quotes in diagnostics.\n\n\tTreat ' like \u2019 even when not matching `\n\tThis is simpler and easier to explain, and should encourage better\n\ttypography.  Do this in Electric Quote mode and when translating\n\tquotes in docstrings.  Inspired by a suggestion by Dmitry Gutov in:\n\thttps://lists.gnu.org/archive/html/emacs-devel/2015-08/msg00806.html\n\t* doc/emacs/text.texi (Quotation Marks):\n\t* doc/lispref/help.texi (Keys in Documentation):\n\t* etc/NEWS:\n\tDocument this.\n\t* lisp/electric.el (electric-quote-post-self-insert-function):\n\t* src/doc.c (Fsubstitute_command_keys):\n\tAlways treat ' like \u2019 even when not matched by an open quote.\n\n2015-08-25  Glenn Morris  <rgm@gnu.org>\n\n\t* doc/emacs/cal-xtra.texi (Holiday Customizing): Fix typo in example.\n\t* lisp/calendar/holidays.el (calendar-holidays): Fix doc typo.\n\n2015-08-24  YAMAMOTO Mitsuharu  <mituharu@math.s.chiba-u.ac.jp>\n\n\t* src/macfont.m (macfont_create_family_with_symbol):\n\tAccept localized names.\n\n2015-08-24  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tTramp diagnostics as per \u2018text-quoting-style\u2019\n\t* lisp/net/tramp-adb.el (tramp-adb-handle-file-truename)\n\t(tramp-adb-get-ls-command, tramp-adb-handle-make-directory)\n\t(tramp-adb-handle-delete-directory)\n\t(tramp-adb-handle-delete-file)\n\t(tramp-adb-handle-file-local-copy)\n\t(tramp-adb-handle-write-region, tramp-adb-handle-copy-file)\n\t(tramp-adb-send-command-and-check, tramp-adb-wait-for-output)\n\t(tramp-adb-maybe-open-connection):\n\t* lisp/net/tramp-cache.el:\n\t* lisp/net/tramp-compat.el (tramp-compat-temporary-file-directory)\n\t(tramp-compat-octal-to-decimal)\n\t(tramp-compat-coding-system-change-eol-conversion):\n\t* lisp/net/tramp-gvfs.el (tramp-gvfs-file-name-handler)\n\t(tramp-gvfs-do-copy-or-rename-file)\n\t(tramp-gvfs-handle-delete-directory)\n\t(tramp-gvfs-handle-delete-file)\n\t(tramp-gvfs-handle-expand-file-name)\n\t(tramp-gvfs-handle-file-local-copy)\n\t(tramp-gvfs-handle-file-notify-add-watch)\n\t(tramp-gvfs-handle-make-directory)\n\t(tramp-gvfs-handle-write-region, tramp-gvfs-url-file-name):\n\t* lisp/net/tramp-gw.el (tramp-gw-gw-proc-sentinel)\n\t(tramp-gw-aux-proc-sentinel, tramp-gw-open-connection):\n\t* lisp/net/tramp-sh.el (tramp-sh-handle-file-truename)\n\t(tramp-sh-handle-set-visited-file-modtime)\n\t(tramp-sh-handle-set-file-modes)\n\t(tramp-sh-handle-file-name-all-completions)\n\t(tramp-sh-handle-add-name-to-file, tramp-do-copy-or-rename-file)\n\t(tramp-do-copy-or-rename-file-directly)\n\t(tramp-do-copy-or-rename-file-out-of-band)\n\t(tramp-sh-handle-make-directory)\n\t(tramp-sh-handle-delete-directory, tramp-sh-handle-delete-file)\n\t(tramp-sh-handle-insert-directory, tramp-process-sentinel)\n\t(tramp-sh-handle-start-file-process)\n\t(tramp-sh-handle-file-local-copy)\n\t(tramp-sh-handle-write-region, tramp-sh-handle-vc-registered)\n\t(tramp-sh-handle-file-notify-add-watch, tramp-maybe-send-script)\n\t(tramp-find-file-exists-command, tramp-open-shell)\n\t(tramp-find-shell)\n\t(tramp-open-connection-setup-interactive-shell)\n\t(tramp-find-inline-encoding, tramp-find-inline-compress)\n\t(tramp-compute-multi-hops, tramp-maybe-open-connection)\n\t(tramp-wait-for-output, tramp-send-command-and-check)\n\t(tramp-send-command-and-read, tramp-get-remote-path)\n\t(tramp-get-ls-command, tramp-get-ls-command-with-dired)\n\t(tramp-get-ls-command-with-quoting-style)\n\t(tramp-get-test-command, tramp-get-remote-ln)\n\t(tramp-get-remote-perl, tramp-get-remote-stat)\n\t(tramp-get-remote-readlink, tramp-get-remote-trash)\n\t(tramp-get-remote-touch, tramp-get-remote-gvfs-monitor-dir)\n\t(tramp-get-remote-inotifywait, tramp-get-remote-id)\n\t(tramp-get-remote-python):\n\t* lisp/net/tramp-smb.el (tramp-smb-errors)\n\t(tramp-smb-handle-add-name-to-file, tramp-smb-handle-copy-file)\n\t(tramp-smb-handle-delete-directory)\n\t(tramp-smb-handle-delete-file)\n\t(tramp-smb-handle-file-local-copy)\n\t(tramp-smb-handle-make-directory)\n\t(tramp-smb-handle-make-directory-internal)\n\t(tramp-smb-handle-make-symbolic-link)\n\t(tramp-smb-handle-rename-file, tramp-smb-handle-set-file-acl)\n\t(tramp-smb-handle-set-file-modes)\n\t(tramp-smb-handle-write-region, tramp-smb-get-file-entries):\n\t* lisp/net/tramp.el (tramp-debug-message, tramp-error)\n\t(tramp-process-actions):\n\tGenerate diagnostics according to \u2018text-quoting-style\u2019, by\n\tusing curved quotes in format strings and \u2018format-message\u2019\n\twhen appropriate.\n\t* lisp/net/tramp-compat.el (format-message):\n\tDefine a replacement, if it\u2019s an older version of Emacs\n\tthat doesn\u2019t have it already.\n\n\t* etc/NEWS: Clarify text-quoting-style and electric-quote-mode.\n\n2015-08-24  Xue Fuqiao  <xfq.free@gmail.com>\n\n\tFix documentation for `save-excursion'\n\t* doc/lispref/positions.texi (Excursions):\n\t* doc/lispintro/emacs-lisp-intro.texi (save-excursion)\n\t(Template for save-excursion, Point and mark): `save-excursion'\n\tdoes not save&restore the mark any more.\n\n2015-08-24  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* lisp/net/tramp-sh.el (tramp-stat-marker, tramp-stat-quoted-marker):\n\tNew defconsts.\n\t(tramp-do-file-attributes-with-stat)\n\t(tramp-do-directory-files-and-attributes-with-stat): Use them.\n\t(tramp-convert-file-attributes): Remove double slashes in symlinks.\n\t* test/automated/tramp-tests.el (tramp-test18-file-attributes):\n\tHandle symlinks with \"//\" in the file name.\n\n\tRevert fbb5531fa11d13854b274d28ccd329c9b6652cfc for tramp.el.\n\n2015-08-24  Nicolas Petton  <nicolas@petton.fr>\n\n\tFix cl-subseq and cl-concatenate\n\t* lisp/emacs-lisp/cl-extra.el (cl-subseq, cl-concatenate): Do not use\n\tseq functions.\n\t* lisp/emacs-lisp/seq.el (seq-concatenate): Call cl-concatenate in\n\tseq-concatenate.\n\n2015-08-24  Pip Cet  <pipcet@gmail.com>  (tiny change)\n\n\tFix full-screen code when there is no window manager (Bug#21317)\n\t* src/xterm.h (x_wm_supports): Declare external.\n\t* src/xterm.c (wm_suppports): Rename to `x_wm_supports', export.\n\t(do_ewmh_fullscreen, x_ewmh_activate_frame): Adjust for rename.\n\t(x_check_fullscreen): Call `x_wm_set_size_hint', restore\n\t`fullscreen' frame parameter.\n\t* src/gtkutil.c (x_wm_set_size_hint): Set size hints when running\n\twithout a window manager.\n\n2015-08-24  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/version.el (emacs-version): No longer include build host.\n\t* doc/lispref/intro.texi (Version Info): Update example.\n\n2015-08-24  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* doc/lispref/elisp.texi: Fix typo in previous change.\n\n\tMore-conservative \u2018format\u2019 quote restyling\n\tInstead of restyling curved quotes for every call to \u2018format\u2019,\n\tcreate a new function \u2018format-message\u2019 that does the restyling,\n\tand using the new function instead of \u2018format\u2019 only in contexts\n\twhere this seems appropriate.\n\tProblem reported by Dmitry Gutov and Andreas Schwab in:\n\thttp://lists.gnu.org/archive/html/emacs-devel/2015-08/msg00826.html\n\thttp://lists.gnu.org/archive/html/emacs-devel/2015-08/msg00827.html\n\t* doc/lispref/commands.texi (Using Interactive):\n\t* doc/lispref/control.texi (Signaling Errors, Signaling Errors):\n\t* doc/lispref/display.texi (Displaying Messages, Progress):\n\t* doc/lispref/elisp.texi:\n\t* doc/lispref/help.texi (Keys in Documentation):\n\t* doc/lispref/minibuf.texi (Minibuffer Misc):\n\t* doc/lispref/strings.texi (Formatting Strings):\n\t* etc/NEWS:\n\tDocument the changes.\n\t* lisp/abbrev.el (expand-region-abbrevs):\n\t* lisp/apropos.el (apropos-library):\n\t* lisp/calc/calc-ext.el (calc-record-message)\n\t(calc-user-function-list):\n\t* lisp/calc/calc-help.el (calc-describe-key, calc-full-help):\n\t* lisp/calc/calc-lang.el (math-read-big-balance):\n\t* lisp/calc/calc-store.el (calc-edit-variable):\n\t* lisp/calc/calc-units.el (math-build-units-table-buffer):\n\t* lisp/calc/calc-yank.el (calc-edit-mode):\n\t* lisp/calendar/icalendar.el (icalendar-export-region)\n\t(icalendar--add-diary-entry):\n\t* lisp/cedet/mode-local.el (mode-local-print-binding)\n\t(mode-local-describe-bindings-2):\n\t* lisp/cedet/semantic/complete.el (semantic-completion-message):\n\t* lisp/cedet/semantic/edit.el (semantic-parse-changes-failed):\n\t* lisp/cedet/semantic/wisent/comp.el (wisent-log):\n\t* lisp/cedet/srecode/insert.el (srecode-insert-show-error-report):\n\t* lisp/descr-text.el (describe-text-properties-1, describe-char):\n\t* lisp/dframe.el (dframe-message):\n\t* lisp/dired-aux.el (dired-query):\n\t* lisp/emacs-lisp/byte-opt.el (byte-compile-log-lap-1):\n\t* lisp/emacs-lisp/bytecomp.el (byte-compile-log)\n\t(byte-compile-log-file, byte-compile-warn, byte-compile-form):\n\t* lisp/emacs-lisp/cconv.el (cconv-convert, cconv--analyze-use)\n\t(cconv-analyze-form):\n\t* lisp/emacs-lisp/check-declare.el (check-declare-warn):\n\t* lisp/emacs-lisp/checkdoc.el (checkdoc-this-string-valid-engine):\n\t* lisp/emacs-lisp/cl-macs.el (cl-symbol-macrolet):\n\t* lisp/emacs-lisp/edebug.el (edebug-format):\n\t* lisp/emacs-lisp/eieio-core.el (eieio-oref):\n\t* lisp/emacs-lisp/eldoc.el (eldoc-minibuffer-message)\n\t(eldoc-message):\n\t* lisp/emacs-lisp/elint.el (elint-file, elint-log):\n\t* lisp/emacs-lisp/find-func.el (find-function-library):\n\t* lisp/emacs-lisp/macroexp.el (macroexp--obsolete-warning):\n\t* lisp/emacs-lisp/map-ynp.el (map-y-or-n-p):\n\t* lisp/emacs-lisp/nadvice.el (advice--make-docstring):\n\t* lisp/emacs-lisp/package.el (package-compute-transaction)\n\t(package-install-button-action, package-delete-button-action)\n\t(package-menu--list-to-prompt):\n\t* lisp/emacs-lisp/timer.el (timer-event-handler):\n\t* lisp/emacs-lisp/warnings.el (lwarn, warn):\n\t* lisp/emulation/viper-cmd.el:\n\t(viper-toggle-parse-sexp-ignore-comments)\n\t(viper-kill-buffer, viper-brac-function):\n\t* lisp/emulation/viper-macs.el (viper-record-kbd-macro):\n\t* lisp/facemenu.el (facemenu-add-new-face):\n\t* lisp/faces.el (face-documentation, read-face-name)\n\t(face-read-string, read-face-font, describe-face):\n\t* lisp/files.el (find-alternate-file, hack-local-variables)\n\t(hack-one-local-variable--obsolete, write-file)\n\t(basic-save-buffer, delete-directory):\n\t* lisp/format.el (format-write-file, format-find-file)\n\t(format-insert-file):\n\t* lisp/help-fns.el (help-fns--key-bindings)\n\t(help-fns--compiler-macro, help-fns--obsolete)\n\t(help-fns--interactive-only, describe-function-1)\n\t(describe-variable):\n\t* lisp/help.el (describe-mode):\n\t* lisp/info-xref.el (info-xref-output):\n\t* lisp/info.el (Info-virtual-index-find-node)\n\t(Info-virtual-index, info-apropos):\n\t* lisp/international/kkc.el (kkc-error):\n\t* lisp/international/mule-cmds.el:\n\t(select-safe-coding-system-interactively)\n\t(select-safe-coding-system, describe-input-method):\n\t* lisp/international/mule-conf.el (code-offset):\n\t* lisp/international/mule-diag.el (describe-character-set)\n\t(list-input-methods-1):\n\t* lisp/international/quail.el (quail-error):\n\t* lisp/minibuffer.el (minibuffer-message):\n\t* lisp/mpc.el (mpc--debug):\n\t* lisp/msb.el (msb--choose-menu):\n\t* lisp/net/ange-ftp.el (ange-ftp-message):\n\t* lisp/net/gnutls.el (gnutls-message-maybe):\n\t* lisp/net/newst-backend.el (newsticker--sentinel-work):\n\t* lisp/net/newst-treeview.el (newsticker--treeview-load):\n\t* lisp/net/nsm.el (nsm-query-user):\n\t* lisp/net/rlogin.el (rlogin):\n\t* lisp/net/soap-client.el (soap-warning):\n\t* lisp/net/tramp.el (tramp-debug-message):\n\t* lisp/nxml/nxml-outln.el (nxml-report-outline-error):\n\t* lisp/nxml/nxml-parse.el (nxml-parse-error):\n\t* lisp/nxml/rng-cmpct.el (rng-c-error):\n\t* lisp/nxml/rng-match.el (rng-compile-error):\n\t* lisp/nxml/rng-uri.el (rng-uri-error):\n\t* lisp/obsolete/iswitchb.el (iswitchb-possible-new-buffer):\n\t* lisp/org/org-ctags.el:\n\t(org-ctags-ask-rebuild-tags-file-then-find-tag):\n\t* lisp/proced.el (proced-log):\n\t* lisp/progmodes/ebnf2ps.el (ebnf-log):\n\t* lisp/progmodes/flymake.el (flymake-log):\n\t* lisp/progmodes/vhdl-mode.el (vhdl-warning-when-idle):\n\t* lisp/replace.el (occur-1):\n\t* lisp/simple.el (execute-extended-command)\n\t(undo-outer-limit-truncate, define-alternatives):\n\t* lisp/startup.el (command-line):\n\t* lisp/subr.el (error, user-error, add-to-list):\n\t* lisp/tutorial.el (tutorial--describe-nonstandard-key)\n\t(tutorial--find-changed-keys):\n\t* src/callint.c (Fcall_interactively):\n\t* src/editfns.c (Fmessage, Fmessage_box):\n\tRestyle the quotes of format strings intended for use as a\n\tdiagnostic, when restyling seems appropriate.\n\t* lisp/subr.el (format-message): New function.\n\t* src/doc.c (Finternal__text_restyle): New function.\n\t(syms_of_doc): Define it.\n\n2015-08-23  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* etc/NEWS: The new \u2018q\u2019 flag is not an incompatible change.\n\n2015-08-23  Fabi\u00e1n Ezequiel Gallina  <fgallina@gnu.org>\n\n\tpython.el: Fix python-shell-buffer-substring on indented code\n\t(Bug#21086)\n\t* lisp/progmodes/python.el (python-shell-buffer-substring):\n\tRespect current line indentation when calculating string.\n\t* test/automated/python-tests.el\n\t(python-shell-buffer-substring-10)\n\t(python-shell-buffer-substring-11)\n\t(python-shell-buffer-substring-12): New tests.\n\n2015-08-23  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix minor glitches from \u2018format\u2019 reversion\n\t* doc/lispref/strings.texi (Formatting Strings):\n\tAfter reversion, \u2018text-quoting-style\u2019 is documented in \u2018Keys in\n\tDocumentation\u2019, not below.\n\t* src/syntax.c (Finternal_describe_syntax_value):\n\tPrefer AUTO_STRING to build_string where either will do, as\n\tAUTO_STRING is a bit faster.\n\n2015-08-23  Fabi\u00e1n Ezequiel Gallina  <fgallina@gnu.org>\n\n\tpython.el: Defer shell setup code until first interactive prompt\n\t* lisp/progmodes/python.el\n\t(python-shell-comint-watch-for-first-prompt-output-filter):\n\tNew function.\n\t(inferior-python-mode): Use it.\n\t(python-shell-first-prompt-hook): New hook.\n\t(python-shell-send-setup-code)\n\t(python-shell-completion-native-turn-on-maybe-with-msg): Attach to\n\tthis hook instead of inferior-python-hook.\n\n2015-08-23  Nicolas Petton  <nicolas@petton.fr>\n\n\tRemove the calls to `seq-into` from `seq-concatenate`\n\tSince most new types of seq would have to be defined as sequences (cons\n\tcells or CL structs, mostly), there is no need to convert the seqs to\n\tsequences (which can be a fairly expensive operation).\n\t* lisp/emacs-lisp/seq.el (seq-concatenate): Do not ensure that seqs are\n\tsequences.\n\n2015-08-23  Fabi\u00e1n Ezequiel Gallina  <fgallina@gnu.org>\n\n\tpython.el: Fix completion for pdb interactions\n\t* lisp/progmodes/python.el (python-shell-completion-setup-code):\n\tSimplify.  Toggle print_mode for native wrapped completer.\n\t(python-shell-completion-native-setup): Ensure process buffer.\n\tAdd print_mode attribute to completer wrapper to toggle returning\n\tor printing candidates.\n\t(python-shell-completion-native-get-completions): Cleanup.\n\t(python-shell-completion-get-completions): Cleanup.\n\t(python-shell-completion-at-point): Perform prompt checks.\n\tForce fallback completion in pdb interactions.\n\n2015-08-23  Nicolas Petton  <nicolas@petton.fr>\n\n\tMake seq.el more extensible by using cl-defmethod\n\t* lisp/emacs-lisp/seq.el: Define seq.el functions using cl-defmethod to\n\tmake it easier to extend seq.el with new \"seq types\".\n\t* test/automated/seq-tests.el (test-setf-seq-elt): New test.\n\t* lisp/emacs-lisp/cl-extra.el (cl-subseq): Move back the definition of\n\tsubseq in cl-extra.el, and use it in seq.el.\n\n2015-08-23  Fabi\u00e1n Ezequiel Gallina  <fgallina@gnu.org>\n\n\tpython.el: Fix prompt detection with user overridden interpreter\n\t* lisp/progmodes/python.el (python-shell-prompt-detect):\n\tHonor buffer local python-shell-interpreter and\n\tpython-shell-interpreter-interactive-arg.\n\n2015-08-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tSupport exec-directory with non-ASCII characters on Windows\n\t* src/w32proc.c (sys_spawnve): Make sure exec-directory is encoded\n\tin the system's ANSI codepage, when it is used for invoking\n\tcmdproxy.\n\n2015-08-23  Andreas Schwab  <schwab@linux-m68k.org>\n\n\tRevert \"Extend \u2018format\u2019 to translate curved quotes\"\n\tThis reverts commit 244c801689d2f7a80480d83cd7d092d4762ebe08.\n\n\tRevert \"Prefer \u2018format\u2019 to \u2018substitute-command-keys\u2019\"\n\tThis reverts commit 6af5aad26411ffe21c3fe4bc5438347110910111.\n\n2015-08-23  Xue Fuqiao  <xfq.free@gmail.com>\n\n\t* doc/lispintro/emacs-lisp-intro.texi (Switching Buffers):\n\tClarify \"invisible window\".\n\n2015-08-23  Xue Fuqiao  <xfq.free@gmail.com>\n\n\t* doc/emacs/modes.texi (Choosing Modes): Minor doc fix for\n\tmagic-fallback-mode-alist.\n\n2015-08-22  Fabi\u00e1n Ezequiel Gallina  <fgallina@gnu.org>\n\n\tpython.el: fallback completion, ffap and eldoc setup enhancements\n\tSetup codes are now sent continuously so that the current frame is\n\talways taken into account.  This allows working within debuggers\n\tand always keeping a fresh version of setup codes that will return\n\tproper results.\n\t* lisp/progmodes/python.el (python-shell-setup-codes): Cleanup.\n\t(python-shell-send-setup-code): Send code only when\n\tpython-shell-setup-codes is non-nil.\n\t(python-shell-completion-string-code): Cleanup trailing newline.\n\t(python-shell-completion-get-completions): Always use\n\tpython-shell-completion-setup-code.\n\t(python-ffap-setup-code): Work with any object, not only modules.\n\t(python-ffap-string-code): Cleanup trailing newline.\n\t(python-ffap-module-path): Always use python-ffap-setup-code.\n\t(python-eldoc-string-code): Cleanup trailing newline.\n\t(python-eldoc--get-doc-at-point): Always use\n\tpython-eldoc-setup-code.  Return non-nil only if docstring is\n\tfound.\n\n\tpython.el: Increase native completion robustness\n\t* lisp/progmodes/python.el (python-shell-completion-native-setup):\n\tMake completer print real candidates and just return dummy ones to\n\tavoid input modification.\n\t(python-shell-completion-native-get-completions): Set\n\tcomint-redirect-insert-matching-regexp to non-nil and make\n\tcomint-redirect-finished-regexp match the last dummy candidate.\n\tUse python-shell-accept-process-output to wait for the full list\n\tof candidates.\n\n2015-08-22  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix invocation of programs via cmdproxy.exe\n\t* src/w32proc.c (sys_spawnve): Use exec-directory, not\n\tinvocation-directory, for finding cmdproxy.exe.  When Emacs is\n\trun from the source tree, look for cmdproxy.exe in the same source\n\ttree.  (Bug#21323)\n\n2015-08-22  Simen Heggest\u00f8yl  <simenheg@gmail.com>\n\n\tHandle comments inside unquoted URIs in css-mode\n\t* lisp/textmodes/css-mode.el (css--uri-re): New defconst.\n\t(css-syntax-propertize-function): New defconst.\n\t(css--font-lock-keywords): Handle parens around unquoted URIs.\n\t(css-mode): Set `syntax-propertize-function'.\n\n2015-08-22  Eli Zaretskii  <eliz@gnu.org>\n\n\tSupport invocation of Hunspell with multiple dictionaries\n\t* lisp/textmodes/ispell.el (ispell-parse-hunspell-affix-file):\n\tSupport lists of dictionaries of the form \"DICT1,DICT2,...\".\n\t(ispell-hunspell-add-multi-dic): New command.  (Bug#20495)\n\n\tMinor formatting changes in ispell.el\n\t* lisp/textmodes/ispell.el (ispell-create-debug-buffer)\n\t(ispell-print-if-debug, ispell-aspell-find-dictionary)\n\t(ispell-aspell-add-aliases, ispell-hunspell-dict-paths-alist)\n\t(ispell-hunspell-dictionary-alist)\n\t(ispell-hunspell-fill-dictionary-entry)\n\t(ispell-find-hunspell-dictionaries, ispell-send-replacement)\n\t(ispell-buffer-with-debug, ispell-complete-word)\n\t(ispell-current-dictionary, ispell-current-personal-dictionary)\n\t(ispell-accept-output, ispell-minor-mode)\n\t(ispell-personal-dictionary, ispell-dictionary-alist)\n\t(ispell-really-aspell, ispell-really-hunspell)\n\t(ispell-encoding8-command, ispell-aspell-supports-utf8)\n\t(ispell-aspell-dictionary-alist, ispell-set-spellchecker-params):\n\tFix whitespace, inconsistent capitalization, and arguments in doc\n\tstrings.\n\n2015-08-22  Martin Rudalics  <rudalics@gmx.at>\n\n\t* lisp/window.el (adjust-window-trailing-edge): Fix bug where this\n\tfunction refused to resize a size-preserved window.\n\n2015-08-22  Eli Zaretskii  <eliz@gnu.org>\n\n\t* doc/lispref/windows.texi (Selecting Windows): Improve\n\tdocumentation and indexing of 'window-use-time'.\n\n2015-08-21  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/progmodes/cc-vars.el, lisp/progmodes/cc-styles.el:\n\t* lisp/progmodes/cc-mode.el, lisp/progmodes/cc-menus.el:\n\t* lisp/progmodes/cc-langs.el, lisp/progmodes/cc-guess.el:\n\t* lisp/progmodes/cc-fonts.el, lisp/progmodes/cc-engine.el:\n\t* lisp/progmodes/cc-defs.el, lisp/progmodes/cc-cmds.el:\n\t* lisp/progmodes/cc-bytecomp.el, lisp/progmodes/cc-awk.el:\n\t* lisp/progmodes/cc-align.el, lisp/net/soap-client.el:\n\tFix up commenting style.\n\n2015-08-21  Paul Eggert  <eggert@cs.ucla.edu>\n\n\ttext-quoting-style in emacs-lisp diagnostics\n\t* lisp/emacs-lisp/advice.el (ad-read-advised-function)\n\t(ad-read-advice-class, ad-read-advice-name, ad-enable-advice)\n\t(ad-disable-advice, ad-remove-advice, ad-set-argument)\n\t(ad-set-arguments):\n\t* lisp/emacs-lisp/byte-opt.el (byte-compile-inline-expand)\n\t(byte-compile-unfold-lambda, byte-optimize-form-code-walker)\n\t(byte-optimize-while, byte-optimize-apply):\n\t* lisp/emacs-lisp/bytecomp.el (byte-compile-lapcode)\n\t(byte-compile-log-file, byte-compile-format-warn)\n\t(byte-compile-nogroup-warn, byte-compile-arglist-warn)\n\t(byte-compile-cl-warn)\n\t(byte-compile-warn-about-unresolved-functions)\n\t(byte-compile-file, byte-compile-fix-header)\n\t(byte-compile--declare-var, byte-compile-file-form-defmumble)\n\t(byte-compile-form, byte-compile-normal-call)\n\t(byte-compile-variable-ref, byte-compile-variable-set)\n\t(byte-compile-subr-wrong-args, byte-compile-setq-default)\n\t(byte-compile-negation-optimizer)\n\t(byte-compile-condition-case--old)\n\t(byte-compile-condition-case--new, byte-compile-save-excursion)\n\t(byte-compile-defvar, byte-compile-autoload)\n\t(byte-compile-lambda-form)\n\t(byte-compile-make-variable-buffer-local, display-call-tree)\n\t(batch-byte-compile):\n\t* lisp/emacs-lisp/cconv.el (cconv-convert, cconv--analyze-use)\n\t(cconv-analyze-form):\n\t* lisp/emacs-lisp/chart.el (chart-space-usage):\n\t* lisp/emacs-lisp/check-declare.el (check-declare-scan)\n\t(check-declare-warn, check-declare-file)\n\t(check-declare-directory):\n\t* lisp/emacs-lisp/checkdoc.el (checkdoc-this-string-valid-engine)\n\t(checkdoc-message-text-engine):\n\t* lisp/emacs-lisp/cl-extra.el (cl-parse-integer):\n\t* lisp/emacs-lisp/cl-macs.el (cl--parse-loop-clause, cl-tagbody)\n\t(cl-symbol-macrolet):\n\t* lisp/emacs-lisp/cl.el (cl-unload-function, flet):\n\t* lisp/emacs-lisp/copyright.el (copyright)\n\t(copyright-update-directory):\n\t* lisp/emacs-lisp/edebug.el (edebug-read-list):\n\t* lisp/emacs-lisp/eieio-base.el (eieio-persistent-read):\n\t* lisp/emacs-lisp/eieio-core.el (eieio--slot-override)\n\t(eieio-oref, eieio-oset-default):\n\t* lisp/emacs-lisp/eieio-speedbar.el:\n\t(eieio-speedbar-child-make-tag-lines)\n\t(eieio-speedbar-child-description):\n\t* lisp/emacs-lisp/eieio.el (defclass, change-class):\n\t* lisp/emacs-lisp/elint.el (elint-file, elint-get-top-forms)\n\t(elint-init-form, elint-check-defalias-form)\n\t(elint-check-let-form):\n\t* lisp/emacs-lisp/ert.el (ert-get-test):\n\t* lisp/emacs-lisp/find-func.el (find-function-search-for-symbol)\n\t(find-function-library):\n\t* lisp/emacs-lisp/generator.el (iter-yield):\n\t* lisp/emacs-lisp/gv.el (gv-define-simple-setter):\n\t* lisp/emacs-lisp/lisp-mnt.el (lm-verify):\n\t* lisp/emacs-lisp/package-x.el (package-upload-file):\n\t* lisp/emacs-lisp/package.el (package-version-join)\n\t(package-disabled-p, package-activate-1, package-activate)\n\t(package--download-one-archive)\n\t(package--download-and-read-archives)\n\t(package-compute-transaction, package-install-from-archive)\n\t(package-install, package-install-selected-packages)\n\t(package-delete, package-autoremove)\n\t(package-install-button-action, package-delete-button-action)\n\t(package-menu-hide-package, package-menu--list-to-prompt)\n\t(package-menu--perform-transaction)\n\t(package-menu--find-and-notify-upgrades):\n\t* lisp/emacs-lisp/pcase.el (pcase-exhaustive, pcase--u1):\n\t* lisp/emacs-lisp/re-builder.el (reb-enter-subexp-mode):\n\t* lisp/emacs-lisp/ring.el (ring-next, ring-previous):\n\t* lisp/emacs-lisp/rx.el (rx-check, rx-anything):\n\t* lisp/emacs-lisp/smie.el (smie-config-save):\n\t* lisp/emacs-lisp/subr-x.el (internal--check-binding):\n\t* lisp/emacs-lisp/testcover.el (testcover-1value):\n\tUse curved quotes in diagnostic format strings.\n\n2015-08-21  Fabi\u00e1n Ezequiel Gallina  <fgallina@gnu.org>\n\n\tpython.el: Ensure remote process-environment on non-interactive processes\n\t* lisp/progmodes/python.el\n\t(python-shell-tramp-refresh-process-environment): New function.\n\t(python-shell-with-environment): Use it.\n\t* test/automated/python-tests.el (python-shell-with-environment-2):\n\tUpdate.\n\n\tpython.el: Enhancements to process environment setup.\n\t* lisp/progmodes/python.el (python-shell-process-environment)\n\t(python-shell-extra-pythonpaths, python-shell-exec-path)\n\t(python-shell-virtualenv-root): Update docstring.  Remove :safe.\n\t(python-shell-setup-codes): Remove :safe.\n\t(python-shell-remote-exec-path): New defcustom.\n\t(python-shell--add-to-path-with-priority): New macro.\n\t(python-shell-calculate-pythonpath): Give priority to\n\tpython-shell-extra-pythonpaths.  Update docstring.\n\t(python-shell-calculate-process-environment): Give priority to\n\tpython-shell-process-environment.  Update docstring.\n\t(python-shell-calculate-exec-path): Give priority to\n\tpython-shell-exec-path and calculated virtualenv bin directory.\n\tUpdate docstring.\n\t(python-shell-tramp-refresh-remote-path): New function.\n\t(python-shell-with-environment): Use it when working remotely and\n\tdo not modify tramp-remote-path.  Allow nesting.\n\t(python-shell-calculate-command): Remove useless\n\tpython-shell-with-environment call.\n\t* test/automated/python-tests.el (python-shell-calculate-pythonpath-1)\n\t(python-shell-calculate-pythonpath-2)\n\t(python-shell-calculate-process-environment-6)\n\t(python-shell-calculate-process-environment-7)\n\t(python-shell-calculate-process-environment-8)\n\t(python-shell-calculate-exec-path-3)\n\t(python-shell-calculate-exec-path-4)\n\t(python-shell-calculate-exec-path-5)\n\t(python-shell-calculate-exec-path-6)\n\t(python-shell-with-environment-3): New tests.\n\t(python-shell-calculate-process-environment-2)\n\t(python-shell-calculate-process-environment-3)\n\t(python-shell-calculate-process-environment-4)\n\t(python-shell-calculate-process-environment-5)\n\t(python-shell-calculate-exec-path-1)\n\t(python-shell-calculate-exec-path-2)\n\t(python-shell-with-environment-1)\n\t(python-shell-with-environment-2): Update and simplify.\n\n2015-08-21  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tAvoid hard-coding \"M-x command\" in docstrings\n\t* lisp/calendar/todo-mode.el (todo-mode):\n\t* lisp/desktop.el (desktop-save-mode):\n\t* lisp/edmacro.el (edit-kbd-macro):\n\t* lisp/emacs-lisp/package.el (package-menu-execute):\n\t* lisp/emulation/viper-cmd.el (viper-ask-level):\n\t* lisp/emulation/viper-init.el (viper-expert-level):\n\t* lisp/filesets.el (filesets-add-buffer):\n\t* lisp/follow.el (follow-mode):\n\t* lisp/gnus/auth-source.el (auth-sources):\n\t* lisp/international/ogonek.el (ogonek-informacja)\n\t(ogonek-information):\n\t* lisp/net/tramp.el (tramp-process-actions):\n\t* lisp/org/org-gnus.el (org-gnus-no-new-news):\n\t* lisp/org/org.el (org-ellipsis):\n\t* lisp/progmodes/python.el (python-shell-get-process-or-error):\n\t* lisp/progmodes/vhdl-mode.el (vhdl-mode):\n\t* lisp/server.el (server-start):\n\t* lisp/type-break.el (type-break-noninteractive-query):\n\t* lisp/userlock.el (ask-user-about-supersession-help):\n\t* lisp/whitespace.el (whitespace-report-region):\n\tPrefer (substitute-command-keys \"`\\\\[foo-command]'\")\n\tto \"`M-x foo-command'\" in docstrings and the like.\n\n2015-08-21  Tassilo Horn  <tsdh@gnu.org>\n\n\tUse add-function for prettify-symbols-compose-predicate\n\t* lisp/textmodes/tex-mode.el (tex-common-initialization): Set\n\tprettify-symbols-compose-predicate in terms of add-function.\n\t* etc/NEWS: Mention prettify-symbols-compose-predicate and\n\tprettify-symbols-mode support in tex-mode.\n\n2015-08-21  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/smie.el (smie-indent-current-column): New fun.\n\t(smie-indent-exps, smie-indent-keyword): Use it.\n\t* test/indent/css-mode.css: Test alignment with leading comment.\n\n2015-08-21  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRespect text-quoting-style in (*Finder*) menus\n\t* lisp/info.el (info--prettify-description):\n\tTreat description as a docstring, so that it's requoted as\n\tper text-quoting-style.\n\n2015-08-21  Martin Rudalics  <rudalics@gmx.at>\n\n\tDocument `window-use-time' in Elisp manual\n\t* doc/lispref/windows.texi (Selecting Windows): Document\n\t`window-use-time'.\n\n2015-08-21  Eli Zaretskii  <eliz@gnu.org>\n\n\t* src/w32uniscribe.c (_WIN32_WINNT): Define to 0x0600.\n\tThis is a cleaner fix for Bug#21260 than the previous change.\n\n2015-08-21  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRespect text-quoting-style in calc\n\tIn calc, tespect text-quoting-style preference in diagnostic\n\tformats and fix a few similar problems in docstrings.\n\t* lisp/calc/calc-aent.el (math-read-factor):\n\t* lisp/calc/calc-embed.el (calc-do-embedded):\n\t* lisp/calc/calc-ext.el (calc-user-function-list)\n\t* lisp/calc/calc-graph.el (calc-graph-show-dumb):\n\t* lisp/calc/calc-help.el (calc-describe-key)\n\t(calc-describe-thing):\n\t* lisp/calc/calc-lang.el (calc-c-language)\n\t(math-parse-fortran-vector-end, math-parse-tex-sum)\n\t(math-parse-eqn-matrix, math-parse-eqn-prime)\n\t(calc-yacas-language, calc-maxima-language, calc-giac-language)\n\t(math-read-big-rec, math-read-big-balance):\n\t* lisp/calc/calc-mode.el (calc-auto-why, calc-save-modes)\n\t(calc-auto-recompute):\n\t* lisp/calc/calc-prog.el (calc-user-define-invocation)\n\t(math-do-arg-check):\n\t* lisp/calc/calc-store.el (calc-edit-variable):\n\t* lisp/calc/calc-units.el (math-build-units-table-buffer):\n\t* lisp/calc/calc-vec.el (math-read-brackets):\n\t* lisp/calc/calc-yank.el (calc-edit-mode):\n\t* lisp/calc/calc.el (calc, calc-do, calc-user-invocation):\n\tUse curved quotes in diagnostic format strings.\n\t* lisp/calc/calc-help.el (calc-describe-thing):\n\tFormat docstrings with substitute-command-keys.\n\t* lisp/calc/calc-help.el (calc-j-prefix-help):\n\t* lisp/calc/calc-misc.el (calc-help):\n\t* lisp/calc/calc-ext.el (calc-shift-Z-prefix-help):\n\tEscape a docstring \"`\".\n\n2015-08-21  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix documentation of 'menu-set-font' and 'set-frame-font'\n\t* lisp/menu-bar.el (menu-set-font): Doc fix.  (Bug#21303)\n\t* doc/lispref/frames.texi (Frame Font): Document that\n\tset-frame-font with the last argument 't' will also make the font\n\tthe default for the future GUI frames.\n\n\tDocument '--create-frame' option to emacsclient\n\t* doc/emacs/misc.texi (emacsclient Options): Document the\n\t'--create-frame' option.  (Bug#21308)\n\n2015-08-21  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/progmodes/js.el (js-mode): Don't eagerly syntax propertize.\n\n2015-08-21  Eli Zaretskii  <eliz@gnu.org>\n\n\tDocument 'get-mru-window' in the ELisp manual\n\t* doc/lispref/windows.texi (Cyclic Window Ordering): Document\n\t'get-mru-window'.  (Bug#21306)\n\n\tClarify documentation of 'get-buffer-window-list'\n\t* doc/lispref/windows.texi (Buffers and Windows): Mention that the\n\tcurrent window, if relevant, will be the first in the list\n\treturned by 'get-buffer-window-list'.\n\t* lisp/window.el (get-buffer-window-list): Doc fix.  (Bug#21305)\n\n2015-08-21  Vasilij Schneidermann  <v.schneidermann@gmail.com>\n\n\tIn `ielm' use `pop-to-buffer-same-window' (Bug#20848)\n\t* lisp/ielm.el (ielm): Use `pop-to-buffer-same-window' instead of\n\t`switch-to-buffer'.\n\n2015-08-21  Kaushal Modi  <kaushal.modi@gmail.com>  (tiny change)\n\n\tIn woman.el use `display-buffer' instead of `switch-to-buffer' (Bug#21047)\n\t* lisp/woman.el (woman-really-find-file, WoMan-find-buffer): Use\n\t`display-buffer' instead of `switch-to-buffer'.\n\n2015-08-21  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFollow user preference in calendar diagnostics\n\tRespect text-quoting-style preference in diagnostic formats by\n\tusing curved quotes (which are translated as per text-quoting-style)\n\tinstead of grave accent and apostrophe (which are not).\n\t* lisp/calendar/appt.el (appt-display-message):\n\t* lisp/calendar/diary-lib.el (diary-check-diary-file)\n\t(diary-mail-entries, diary-from-outlook):\n\t* lisp/calendar/icalendar.el (icalendar-export-region)\n\t(icalendar--convert-float-to-ical)\n\t(icalendar--convert-date-to-ical)\n\t(icalendar--convert-ical-to-diary)\n\t(icalendar--convert-recurring-to-diary)\n\t(icalendar--add-diary-entry):\n\t* lisp/calendar/time-date.el (format-seconds):\n\t* lisp/calendar/timeclock.el (timeclock-mode-line-display)\n\t(timeclock-make-hours-explicit):\n\t* lisp/calendar/todo-mode.el (todo-prefix, todo-delete-category)\n\t(todo-item-mark, todo-check-format)\n\t(todo-insert-item--next-param, todo-edit-item--next-key)\n\t(todo-mode):\n\tUse curved quotes in diagnostic format strings.\n\t* lisp/calendar/icalendar.el (icalendar-import-format-sample):\n\t* test/automated/icalendar-tests.el (icalendar--import-format-sample):\n\tJust use straight quoting for simple test case.\n\n2015-08-21  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* src/gfilenotify.c (Fgfile_add_watch):\n\tHandle errors from g_file_monitor.\n\n2015-08-21  Martin Rudalics  <rudalics@gmx.at>\n\n\tIn frames.texi use \"minibuffer-less frame\" instead of \"non-minibuffer frame\"\n\t* doc/lispref/frames.texi (Frame Layout): Use \"minibuffer-less\n\tframe\" instead of \"non-minibuffer frame\".\n\n\tFix frame geometry related text\n\t* doc/lispref/frames.texi (Frame Layout):\n\tRename `x-frame-geometry' to `frame-geometry'.\n\t* doc/lispref/frames.texi (Mouse Position):\n\t* doc/lispref/windows.texi (Coordinates and Windows):\n\tUse `set-mouse-absolute-pixel-position' instead of\n\t`x-set-mouse-absolute-pixel-position'.\n\n\tSanitize frame geometry related functions\n\t* src/nsfns.m (Fx_frame_geometry): Rename to Fns_frame_geometry.\n\t(Fx_frame_edges): Rename to Fns_frame_edges.\n\t* src/w32fns.c (Fx_frame_geometry): Rename to Fw32_frame_geometry.\n\t(Fx_frame_edges): Rename to Fw32_frame_edges.\n\t(Fx_mouse_absolute_pixel_position): Rename to\n\tFw32_mouse_absolute_pixel_position.\n\t(Fx_set_mouse_absolute_pixel_position): Rename to\n\tFw32_set_mouse_absolute_pixel_position.\n\t* lisp/frame.el (x-frame-geometry, w32-frame-geometry)\n\t(ns-frame-geometry, x-frame-edges, w32-frame-edges)\n\t(ns-frame-edges, w32-mouse-absolute-pixel-position)\n\t(x-mouse-absolute-pixel-position)\n\t(w32-set-mouse-absolute-pixel-position)\n\t(x-set-mouse-absolute-pixel-position): Declare.\n\t(frame-geometry, mouse-absolute-pixel-position)\n\t(set-mouse-absolute-pixel-position): New functions.\n\t(frame-edges): Rewrite in terms of x-/w32-/ns-frame-edges.\n\n2015-08-21  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix MinGW64 build broken by latest w32uniscribe.c changes\n\t* src/w32uniscribe.c (UNISCRIBE_OPENTYPE): Define to 0x0100, for\n\tMinGW64.  Reported by Andy Moreton <andrewjmoreton@gmail.com>.\n\t(Bug#21260)\n\n2015-08-21  Tassilo Horn  <tsdh@gnu.org>\n\n\tAdd TeX defaults for prettify-symbol-mode\n\t* lisp/textmodes/tex-mode.el (tex--prettify-symbols-alist):\n\tRename from tex-prettify-symbols-alist.\n\t(tex--prettify-symbols-compose-p): New function.\n\t(tex-common-initialization): Use them as prettify-symbols-alist\n\tand prettify-symbols-compose-predicate.\n\n\tGeneralize prettify-symbols to arbitrary modes\n\t* lisp/progmodes/prog-mode.el\n\t(prettify-symbols-default-compose-p): New function.\n\t(prettify-symbols-compose-predicate): New variable.\n\t(prettify-symbols--compose-symbol): Use it.\n\n2015-08-20  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDon't quote symbols 'like-this' in docstrings etc.\n\t* admin/unidata/uvs.el (uvs-insert-fields-as-bytes):\n\t* lisp/allout-widgets.el (allout-widgets-count-buttons-in-region):\n\t* lisp/allout.el (allout-add-resumptions, allout-mode):\n\t* lisp/calculator.el (calculator-operators):\n\t* lisp/cedet/data-debug.el (dd-propertize):\n\t* lisp/cedet/ede/proj-prog.el (ede-proj-target-makefile-program):\n\t* lisp/cedet/semantic/analyze/debug.el:\n\t(semantic-analyzer-debug-global-miss-text):\n\t* lisp/cedet/semantic/lex-spp.el:\n\t(semantic-lex-spp-replace-or-symbol-or-keyword):\n\t* lisp/cedet/semantic/symref.el:\n\t(semantic-symref-cleanup-recent-buffers-fcn):\n\t* lisp/cedet/semantic/tag.el (semantic-tag-class):\n\t* lisp/cedet/srecode/el.el (srecode-semantic-handle-:el-custom):\n\t* lisp/gnus/nnmairix.el (nnmairix-propagate-marks-upon-close):\n\t* lisp/gnus/pop3.el (pop3-authentication-scheme):\n\t* lisp/help-fns.el (describe-function-orig-buffer):\n\t* lisp/imenu.el (imenu--history-list):\n\t* lisp/mail/feedmail.el (feedmail-confirm-outgoing)\n\t(feedmail-display-full-frame, feedmail-deduce-bcc-where)\n\t(feedmail-queue-default-file-slug)\n\t(feedmail-queue-buffer-file-name):\n\t* lisp/net/mairix.el (mairix-searches-mode-map):\n\t* lisp/net/newst-backend.el (newsticker-retrieval-method)\n\t(newsticker-auto-mark-filter-list):\n\t* lisp/obsolete/vi.el (vi-mode):\n\t* lisp/progmodes/cc-engine.el (c-literal-type):\n\t* lisp/progmodes/cpp.el (cpp-face):\n\t* lisp/progmodes/ebrowse.el (ebrowse-electric-list-looper):\n\t* lisp/progmodes/elisp-mode.el (elisp--xref-make-xref):\n\t* lisp/progmodes/pascal.el (pascal-auto-lineup):\n\t* lisp/progmodes/prog-mode.el (prog-widen):\n\t* lisp/progmodes/verilog-mode.el (verilog-regexp-words)\n\t(verilog-auto-lineup, verilog-auto-reset-widths)\n\t(verilog-auto-arg-format, verilog-auto-inst-template-numbers):\n\t* lisp/textmodes/flyspell.el (flyspell-maybe-correct-transposition)\n\t(flyspell-maybe-correct-doubling):\n\t* lisp/textmodes/table.el (table-justify, table-justify-cell)\n\t(table-justify-row, table-justify-column, table-insert-sequence)\n\t(table--justify-cell-contents):\n\t* lisp/url/url-auth.el (url-get-authentication):\n\t* lisp/window.el (display-buffer-record-window):\n\t* lisp/xml.el (xml-parse-file, xml-parse-region):\n\t* src/gfilenotify.c (Fgfile_add_watch):\n\tDon't quote symbols with apostrophes in doc strings.\n\tUse asymmetric quotes instead.\n\t* lisp/cedet/semantic/complete.el (semantic-displayor-show-request):\n\tLikewise for symbol in diagnostic.\n\t* lisp/image.el (image-extension-data):\n\t* lisp/register.el (frame-configuration-to-register):\n\t* src/buffer.c (syms_of_buffer):\n\tRemove bogus apostrophes after symbols.\n\t* lisp/thumbs.el (thumbs-conversion-program):\n\tQuote Lisp string values using double-quotes, not apostrophes.\n\n2015-08-20  Martin Rudalics  <rudalics@gmx.at>\n\n\tDescribe frame geometry and related functions in Elisp manual\n\t* doc/lispref/display.texi (Size of Displayed Text, Line Height)\n\t(Showing Images): Update references.\n\t* doc/lispref/elisp.texi (Top): Update node listing.\n\t* doc/lispref/frames.texi (Frame Geometry): New node.\n\tMove `Size and Position' section here.\n\t(Size Parameters): Update references.\n\t(Mouse Position): Update references and nomenclature.\n\tDescribe new functions `x-mouse-absolute-pixel-position' and\n\t`x-set-mouse-absolute-pixel-position'.\n\t* doc/lispref/windows.texi (Window Sizes): Update references.\n\t(Resizing Windows): Update references.  Move description of\n\t`fit-frame-to-buffer' here.\n\t(Coordinates and Windows): Update nomenclature and references.\n\tDescribe new arguments of `window-edges'.  Comment out\n\tdescriptions of `window-left-column', `window-top-line',\n\t`window-pixel-left' and `window-pixel-top'.  Describe\n\t`window-absolute-pixel-position'.\n\n2015-08-20  Alan Mackenzie  <acm@muc.de>\n\n\tHandling of `c-parse-state'.  Fix low level bug.\n\t* lisp/progmodes/cc-engine.el (c-remove-stale-state-cache-backwards):\n\tAdd \"CASE 3.5\" to handle `cache-pos' being only slightly before `here'.\n\n2015-08-20  Andreas Politz  <politza@hochschule-trier.de>\n\n\t* lisp/wid-edit.el (widget-color--choose-action): Quit *Color*\n\twindow instead of deleting it.\n\n2015-08-20  Martin Rudalics  <rudalics@gmx.at>\n\n\tIn w32fns.c's Fx_frame_geometry rewrite check whether frame has a titlebar\n\t* src/w32fns.c (Fx_frame_geometry): Use title_bar.rgstate[0] to\n\tdetermine whether frame has a titlebar.\n\tSuggested by Eli Zaretskii <eliz@gnu.org>\n\n2015-08-20  Tassilo Horn  <tsdh@gnu.org>\n\n\tAdd a prettify-symbols-alist for (La)TeX\n\t* lisp/textmodes/tex-mode.el (tex-prettify-symbols-alist):\n\tNew variable holding an alist suitable as prettify-symbols-alist in\n\t(La)TeX modes.\n\n2015-08-19  Alan Mackenzie  <acm@muc.de>\n\n\tMake electric-pair-mode, delete-selection-mode and CC Mode cooperate.\n\tFixes debbugs#21275.\n\tIn Emacs >= 25, let electric-pair-mode take precedence over\n\tdelete-selection-mode.\n\t* lisp/delsel.el (delete-selection-uses-region-p): New function,\n\tpreviously a lambda expression in a property value for\n\t`self-insert-command'.\n\t(top-level): Set the `delete-selection' property of\n\t`self-insert-command' to `delete-selection-uses-region-p'.\n\t* lisp/progmodes/cc-cmds.el (top-level): Give the `delete-selection'\n\tproperty for c-electric-\\(brace\\|paren\\) the value\n\t`delete-selection-uses-region-p' when the latter function exists.\n\n2015-08-19  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix key binding quoting in tutorial *Help*\n\t* lisp/tutorial.el (tutorial--describe-nonstandard-key):\n\tWhen generating help for custom key bindings, use the user-preferred\n\tquoting style rather than hardcoding the grave style.\n\n2015-08-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove and future-proof OTF fonts support in w32uniscribe.c\n\t* src/w32uniscribe.c (uniscribe_otf_capability): Add commentary\n\tabout the expected results and why the new Uniscribe APIs are not\n\tused in this function.\n\t(ScriptGetFontScriptTags_Proc, ScriptGetFontLanguageTags_Proc)\n\t(ScriptGetFontFeatureTags_Proc): New function typedefs.\n\t(uniscribe_new_apis): New static variable.\n\t(uniscribe_check_features): New function, implements OTF features\n\tverification while correctly accounting for features in the list\n\tafter the nil member, if any.\n\t(uniscribe_check_otf_1): New function, retrieves the features\n\tsupported by the font for the requested script and language using\n\tthe Uniscribe APIs available from Windows Vista onwards.\n\t(uniscribe_check_otf): If the new Uniscribe APIs are available,\n\tuse them in preference to reading the font data directly.  Call\n\tuniscribe_check_features to verify that the requested features are\n\tsupported, replacing the original incomplete code.\n\t(syms_of_w32uniscribe): Initialize function pointers for the new\n\tUniscribe APIs.  (Bug#21260)\n\t(otf_features): Scan the script, langsys, and feature arrays back\n\tto front, so that the result we return has them in alphabetical\n\torder, like ftfont.c does.\n\t* src/w32fns.c (syms_of_w32fns) <w32-disable-new-uniscribe-apis>:\n\tNew variable for debugging w32uniscribe.c code.\n\n2015-08-19  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/isearch.el (isearch-search-fun-default): Revert a5bdb87\n\tRemove usage of `isearch-lax-whitespace' inside the `iearch-word'\n\tclause of `isearch-search-fun-default'.  That lax variable does not\n\trefer to lax-whitespacing.  Related to (bug#21777).\n\tThis reverts commit a5bdb872edb9f031fe041faf9a8c0be432e5f64c.\n\t* lisp/character-fold.el (character-fold-search): Set to nil.\n\tDefault to nil for now, until someone implements proper\n\tlax-whitespacing with char-fold searching.\n\n2015-08-19  Martin Rudalics  <rudalics@gmx.at>\n\n\tFix doc-string of `help-mode-finish'.\n\t* lisp/help-mode.el (help-mode-finish): Fix doc-string.\n\n\tIn nsimage.m include coding.h (Bug#21292)\n\t* src/nsimage.m (top-level): Include coding.h (Bug#21292).\n\n\tMove window edge functions to Elisp.\n\t* src/window.c (Fwindow_edges, Fwindow_pixel_edges)\n\t(Fwindow_absolute_pixel_edges, Fwindow_inside_edges)\n\t(Fwindow_inside_pixel_edges, Fwindow_inside_absolute_pixel_edges):\n\tMove to window.el.\n\t(calc_absolute_offset): Remove.\n\t* lisp/frame.el (frame-edges): New function.\n\t* lisp/window.el (window-edges, window-pixel-edges)\n\t(window-absolute-pixel-edges): Move here from window.c.\n\t(window-body-edges, window-body-pixel-edges)\n\t(window-absolute-body-pixel-edges): Move here from window.c and\n\trename \"inside\" to \"body\".  Keep old names as aliases.\n\t(window-absolute-pixel-position): New function.\n\n2015-08-19  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\t[Gnus]: Use overlay functions directly\n\t* lisp/gnus/gnus-art.el (gnus-mime-inline-part, gnus-mm-display-part)\n\t(gnus-insert-mime-button, gnus-mime-buttonize-attachments-in-header)\n\t(gnus-article-highlight-signature, gnus-article-extend-url-button)\n\t(gnus-article-add-button, gnus-insert-prev-page-button)\n\t(gnus-insert-next-page-button, gnus-insert-mime-security-button):\n\t* lisp/gnus/gnus-cite.el (gnus-cite-delete-overlays)\n\t(gnus-cite-add-face):\n\t* lisp/gnus/gnus-html.el (gnus-html-wash-tags):\n\t* lisp/gnus/gnus-salt.el (gnus-tree-read-summary-keys)\n\t(gnus-tree-recenter, gnus-highlight-selected-tree):\n\t* lisp/gnus/gnus-sum.el (gnus-summary-show-all-threads)\n\t(gnus-summary-show-thread, gnus-summary-hide-thread)\n\t(gnus-highlight-selected-summary):\n\t* lisp/gnus/gnus-util.el (gnus-put-overlay-excluding-newlines):\n\t* lisp/gnus/message.el (message-fix-before-sending)\n\t(message-toggle-image-thumbnails):\n\t* lisp/gnus/mm-decode.el (mm-convert-shr-links):\n\t* lisp/gnus/sieve.el (sieve-highlight, sieve-insert-scripts):\n\tUse overlay functions directly instead of using gnus-overlay-*,\n\tmessage-overlay-*, and sieve-overlay-*.\n\t* lisp/gnus/gnus-sum.el (gnus-remove-overlays):\n\t* lisp/gnus/gnus.el (gnus-make-overlay, gnus-copy-overlay)\n\t(gnus-delete-overlay, gnus-overlay-get, gnus-overlay-put)\n\t(gnus-move-overlay, gnus-overlay-buffer, gnus-overlay-start)\n\t(gnus-overlay-end, gnus-overlays-at, gnus-overlays-in):\n\t* lisp/gnus/message.el (message-delete-overlay, message-make-overlay)\n\t(message-overlay-get, message-overlay-put, message-overlays-in):\n\t* lisp/gnus/sieve.el (sieve-make-overlay, sieve-overlay-put)\n\t(sieve-overlays-at): Remove.\n\n2015-08-19  Martin Rudalics  <rudalics@gmx.at>\n\n\tIn w32fns.c condition TITLEBAR_INFO declaration on WINDOWS version\n\t* src/w32fns.c (TITLEBAR_INFO): Make it a typedef so MinGW64\n\tbuilds can use the declaration from the system headers.\n\t(GetTitleBarInfo_Proc, Fx_frame_geometry): Adapt to new\n\tdefinition of TITLEBAR_INFO.\n\tSuggested by Eli Zaretskii  <eliz@gnu.org>\n\n2015-08-19  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/gnus/nnmaildir.el (nnmaildir-flag-mark-mapping): Add \"P\".\n\n2015-08-19  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tUse new q \u2018format\u2019 flag when fixing quotes in C\n\t* src/image.c (image_size_error): New function.  All uses of\n\timage_error with \"Invalid image size ...\"  changed to use it.\n\t* src/image.c (image_size_error, xbm_load_image, xbm_load)\n\t(xpm_load, xpm_load_image, xpm_load, pbm_load, png_load_body)\n\t(jpeg_load_body, tiff_load, gif_load, imagemagick_load_image)\n\t(imagemagick_load, svg_load, svg_load_image, gs_load)\n\t(x_kill_gs_process):\n\t* src/lread.c (load_warn_old_style_backquotes):\n\t* src/xfaces.c (load_pixmap):\n\t* src/xselect.c (x_clipboard_manager_error_1):\n\tUse %qs, not uLSQM and uRSQM.\n\t* src/syntax.c (Finternal_describe_syntax_value):\n\tPrefer Fsubstitute_command_keys to Fformat, as this lets\n\tus use AUTO_STRING.\n\t* src/xdisp.c (vadd_to_log): Use AUTO_STRING on the format argument,\n\tas it's now guaranteed to be ASCII.\n\t* src/xselect.c (x_clipboard_manager_error_2):\n\tAvoid grave accent in low-level stderr diagnostic.\n\n2015-08-19  Paul Eggert  <eggert@Penguin.CS.UCLA.EDU>\n\n\tNew q flag for \u2018format\u2019\n\t* doc/lispref/processes.texi (Sentinels):\n\tDon't hardwire grave quoting style in example.\n\t* doc/lispref/strings.texi (Formatting Strings):\n\t* etc/NEWS:\n\tDocument new q flag.\n\t* src/editfns.c (Fformat): Implement it.\n\n2015-08-18  Daiki Ueno  <ueno@gnu.org>\n\n\tpinentry.el: Add debugging support\n\t* lisp/net/pinentry.el (pinentry-debug): New variable.\n\t(pinentry-debug-buffer): New variable.\n\t(pinentry--process-filter): Send input to the debug buffer, if\n\t`pinentry-debug' is set.\n\n\tpinentry.el: Improve multiline prompt\n\t* lisp/net/pinentry.el (pinentry--prompt): Simplify the interface.\n\t(pinentry--process-filter): Use `pinentry--prompt' for CONFIRM\n\tcommand.\n\n2015-08-18  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix multibyte confusion in diagnostics\n\t* src/print.c (print_error_message):\n\tDon't assume that the caller's name is unibyte.\n\t* src/xdisp.c (vadd_to_log):\n\tDon't assume that the formatted diagnostic is unibyte.\n\n\tFix file name encodings in diagnostics\n\tAlso, close some minor races when opening image files, by opening\n\tthem once instead of multiple times.\n\t* src/gtkutil.c (xg_get_image_for_pixmap):\n\t* src/image.c (xpm_load, tiff_load, gif_load, imagemagick_load)\n\t(svg_load):\n\t* src/nsimage.m (allocInitFromFile:):\n\t* src/xfns.c (xg_set_icon):\n\tEncode file name, since x_find_image_file no longer does that.\n\t* src/image.c (x_find_image_fd): New function.\n\t(x_find_image_file): Use it.  Do not encode resulting file name,\n\tsince callers sometimes need it decoded.\n\t(slurp_file): File arg is now a fd, not a file name.\n\tAll callers changed.  This saves us having to open the file twice.\n\t(xbm_load, xpm_load, pbm_load, png_load_body, jpeg_load_body)\n\t(svg_load):\n\tUse x_find_image_fd and fdopen to save a file-open.\n\tReport file name that failed.\n\t* src/lread.c (openp): If PREDICATE is t, open the file in binary mode.\n\n2015-08-18  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tAllow blink-matching-paren to jump off screen\n\t* doc/emacs/programs.texi (Matching): Mention the\n\t`blink-matching-paren' value `jump-offscreen'.\n\t* lisp/simple.el (blink-matching-paren): New possible value.\n\t(blink-matching-paren-on-screen): Clarify the docstring.\n\t(blink-matching-open): Handle `jump-offscreen' (bug#21286).\n\n\tRefine the previous change\n\t* lisp/simple.el (blink-matching-open): Use minibuffer-message\n\toutside of save-excursion (bug#21286).\n\n2015-08-18  Martin Rudalics  <rudalics@gmx.at>\n\n\tRewrite and add frame geometry related functions.\n\t* src/frame.c (Fframe_position): New function.\n\t(Fset_frame_position): Rename parameters and rewrite doc-string.\n\t(syms_of_frame): Remove Qframe_position, Qframe_outer_size,\n\tQtitle_height and Qframe_inner_size.  Add Qouter_edges,\n\tQouter_position, Qouter_size, Qnative_edges, Qinner_edges,\n\tQtitle_bar_size.\n\t* src/nsfns.m (frame_geometry): New function.\n\t(Fx_frame_geometry): Call frame_geometry.\n\t(Fx_frame_edges): New function.\n\t* src/w32fns.c (C_CHILDREN_TITLEBAR, TITLEBAR_INFO)\n\t(GetTitleBarInfo_Proc): Define these so we can use the\n\tGetTitleBarInfo API.\n\t(Fw32_frame_menu_bar_size, Fw32_frame_rect): Remove.\n\t(Fx_frame_geometry): Rewrite.\n\t(Fx_frame_edges, Fx_mouse_absolute_pixel_position)\n\t(Fx_set_mouse_absolute_pixel_position): New functions.\n\t* src/xfns.c (frame_geometry): New function.\n\t(Fx_frame_geometry): Call frame_geometry.\n\t(Fx_frame_edges, Fx_mouse_absolute_pixel_position)\n\t(Fx_set_mouse_absolute_pixel_position): New functions.\n\n2015-08-18  Michael Albinus  <michael.albinus@gmx.de>\n\n\tImprove Tramp's compatibility\n\t* lisp/net/tramp.el (tramp-get-method-parameter):\n\t* lisp/net/tramp-adb.el (tramp-adb-parse-device-names)\n\t(tramp-adb-get-device):\n\t* lisp/net/trampver.el (tramp-repository-get-version):\n\tUse `tramp-compat-replace-regexp-in-string'.\n\n2015-08-18  Pierre T\u00e9choueyres  <pierre.techoueyres@free.fr>  (tiny change)\n\n\t* lisp/net/tramp-cmds.el (tramp-reporter-dump-variable):\n\tEncode/decode string.\n\n2015-08-18  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tClarify what happens to match data on failure\n\tProblem reported by Ernesto Alfonso (Bug#21279).\n\t* doc/lispref/searching.texi (Regexp Search, Simple Match Data):\n\tDocument more carefully what happens to match data after a failed\n\tsearch.\n\t* src/search.c (Fmatch_beginning, Fmatch_end): Document that\n\tthe return value is undefined if the last search failed.\n\t(Fmatch_data): Simplify doc string line 1.\n\n2015-08-18  Daiki Ueno  <ueno@gnu.org>\n\n\tRevert \"pinentry.el: Support external passphrase cache\"\n\tThis reverts commit e086e55a664ec27fbca7b3231c4b32cb78a89337.\n\tpinentry.el shouldn't directly interact with the secrets service,\n\tbut ask the caller to cache the passphrase.\n\n2015-08-17  Xue Fuqiao  <xfq.free@gmail.com>\n\n\t* doc/emacs/sending.texi (Mail Misc): Fix two index entries for\n\tMessage mode hooks.\n\n2015-08-17  Daiki Ueno  <ueno@gnu.org>\n\n\tepg.el: Make gpgconf output parsing future proof\n\t* lisp/epg.el (epg--start): Count the number of fields in \"gpgconf\n\t--list-options\" output.\n\n\tpinentry.el: Support external passphrase cache\n\t* lisp/net/pinentry.el (pinentry-use-secrets): New user option.\n\t(pinentry--allow-external-password-cache): New local variable.\n\t(pinentry--key-info): New local variable.\n\t(secrets-enabled, secrets-search-items, secrets-get-secret):\n\tDeclare.\n\t(pinentry--send-passphrase): New function, split from\n\t`pinentry--process-filter'.\n\t(pinentry--process-filter): Use secrets.el to retrieve passphrase\n\tfrom login keyring.\n\n\tpinentry.el: Popup window for multiline prompt\n\t* lisp/net/pinentry.el (pinentry): New custom group.\n\t(pinentry-popup-prompt-window): New user option.\n\t(pinentry-prompt-window-height): New user option.\n\t(pinentry--prompt-buffer): New variable.\n\t(pinentry-prompt-mode-map): New variable.\n\t(pinentry-prompt-mode): New function.\n\t(pinentry--prompt): New function.\n\t(pinentry--process-filter): Use `pinentry--prompt' instead of\n\t`read-passwd' and `y-or-n-p'.\n\n2015-08-17  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\tmessage.el: Silent the byte compiler\n\t* lisp/gnus/message.el (message-overlay-put, message-make-overlay)\n\t(message-kill-all-overlays, message-overlays-in, message-overlay-get)\n\t(message-delete-overlay, message-window-inside-pixel-edges):\n\tDeclare before using.\n\n\t* lisp/gnus/message.el (message-overlay-get, message-overlays-in)\n\t(message-window-inside-pixel-edges): XEmacs compatible functions.\n\n2015-08-17  Lars Magne Ingebrigtsen  <larsi@gnus.org>\n\n\t* lisp/gnus/message.el (message-toggle-image-thumbnails): New command.\n\n2015-08-17  Noah Friedman  <friedman@splode.com>\n\n\t* lisp/simple.el (blink-matching-open): Restore point before\n\tcalling minibuffer-message.\n\n2015-08-17  Ronnie Schnell  <ronnie@driver-aces.com>\n\n\t* lisp/play/dunnet.el: Update version number in header (now\n\tmatches help).\n\n2015-08-17  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tCurved quotes in --batch diagnostics in non-UTF-8\n\tWhen run with --batch, check that curved quotes are compatible with\n\tthe system locale before outputting them in diagnostics.\n\tProblem reported by Eli Zaretskii in:\n\thttp://lists.gnu.org/archive/html/emacs-devel/2015-08/msg00594.html\n\t* lisp/startup.el (command-line): Set internal--text-quoting-flag\n\tafter the standard display table is initialized.\n\t* src/doc.c (default_to_grave_quoting_style): New function.\n\t(text_quoting_style): Use it.\n\t(text_quoting_flag): New static var, visible to Lisp as\n\tinternal--text-quoting-flag.\n\t* src/emacs.c: Include <wchar.h> if available.\n\t(using_utf8): New function.\n\t(main): Use it to initialize text_quoting_flag.\n\t* src/regex.h (btowc) [WIDE_CHAR_SUPPORT && emacs]:\n\tDon't define, as it's not needed and it clashes with wchar.h.\n\n2015-08-17  Glenn Morris  <rgm@gnu.org>\n\n\t* doc/misc/tramp.texi (Configuration): Reword to avoid warning\n\tfrom makeinfo about spurious \"Note:\" cross-reference, and for grammar.\n\n2015-08-17  Ilya Zakharevich  <ilya@math.berkeley.edu>\n\n\tMinor change in variable initialization on MS-Windows\n\t* src/w32fns.c <after_dead_key>: Initialize to -1.\n\t(deliver_wm_chars): If after_deadkey is zero, don't set after_dead\n\tnon-zero.\n\n\tFix a bug with LWindow key remapping on MS-Windows\n\t* src/w32fns.c (deliver_wm_chars): Fix a typo.  (Bug#21276)\n\n2015-08-17  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove fontset support for latest OTF script tags\n\t* lisp/international/fontset.el (otf-script-alist): Add some\n\tmissing script tags.\n\t(setup-default-fontset): Include settings for v2 versions of the\n\tscript tags used by some modern OTF/TTF fonts.\n\n2015-08-17  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSpelling fixes\n\n2015-08-16  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tUse curved quotes in core elisp diagnostics\n\tIn the core elisp files, use curved quotes in diagnostic formats,\n\tso that they follow user preference as per \u2018text-quoting-style\u2019\n\trather than being hard-coded to quote `like this'.\n\t* lisp/abbrev.el (expand-region-abbrevs):\n\t* lisp/button.el (button-category-symbol, button-put)\n\t(make-text-button):\n\t* lisp/cus-start.el:\n\t* lisp/custom.el (custom-add-dependencies, custom-check-theme)\n\t(custom--sort-vars-1, load-theme):\n\t* lisp/emacs-lisp/byte-run.el (defun, defsubst):\n\t* lisp/emacs-lisp/cl-generic.el (cl-defgeneric)\n\t(cl-generic-generalizers):\n\t* lisp/emacs-lisp/macroexp.el (macroexp--obsolete-warning):\n\t* lisp/emacs-lisp/map-ynp.el (map-y-or-n-p):\n\t* lisp/emacs-lisp/nadvice.el (advice--make-docstring)\n\t(advice--make, define-advice):\n\t* lisp/emacs-lisp/tabulated-list.el (tabulated-list-put-tag):\n\t* lisp/emacs-lisp/timer.el (timer-event-handler):\n\t* lisp/env.el (setenv):\n\t* lisp/facemenu.el (facemenu-add-new-face)\n\t(facemenu-add-new-color):\n\t* lisp/faces.el (face-documentation, read-face-name)\n\t(face-read-string, read-face-font, face-spec-set-match-display)\n\t(read-color, x-resolve-font-name):\n\t* lisp/files.el (locate-user-emacs-file, find-alternate-file)\n\t(set-auto-mode, hack-local-variables)\n\t(hack-one-local-variable--obsolete)\n\t(dir-locals-set-directory-class, write-file)\n\t(basic-save-buffer, delete-directory, copy-directory)\n\t(recover-session, recover-session-finish, insert-directory)\n\t(file-modes-char-to-who, file-modes-symbolic-to-number)\n\t(move-file-to-trash):\n\t* lisp/font-lock.el (font-lock-fontify-buffer):\n\t* lisp/format.el (format-write-file, format-find-file)\n\t(format-insert-file):\n\t* lisp/frame.el (get-device-terminal, select-frame-by-name):\n\t* lisp/fringe.el (fringe--check-style):\n\t* lisp/help.el (describe-minor-mode-from-indicator):\n\t* lisp/image.el (image-type):\n\t* lisp/international/fontset.el (x-must-resolve-font-name):\n\t* lisp/international/mule-cmds.el (prefer-coding-system)\n\t(select-safe-coding-system-interactively)\n\t(select-safe-coding-system, activate-input-method)\n\t(toggle-input-method, describe-current-input-method):\n\t* lisp/international/mule-conf.el (code-offset):\n\t* lisp/mouse.el (minor-mode-menu-from-indicator):\n\t* lisp/replace.el (query-replace-read-from)\n\t(occur-after-change-function, occur-1):\n\t* lisp/scroll-bar.el (scroll-bar-columns):\n\t* lisp/simple.el (execute-extended-command)\n\t(undo-outer-limit-truncate, compose-mail, set-variable)\n\t(choose-completion-string, define-alternatives):\n\t* lisp/startup.el (site-run-file, tty-handle-args)\n\t(command-line, command-line-1):\n\t* lisp/subr.el (noreturn, define-error, add-to-list)\n\t(read-char-choice):\n\t* lisp/term/common-win.el (x-handle-xrm-switch)\n\t(x-handle-name-switch, x-handle-args):\n\t* lisp/term/x-win.el (x-handle-parent-id, x-handle-smid):\n\tUse curved quotes in diagnostics.\n\t* lisp/international/mule.el (find-auto-coding):\n\tUse \" to quote in a diagnostic, to be consistent with the rest of\n\tthis file.\n\n\tConvert lisp/term/x-win.el to UTF-8\n\t* lisp/term/x-win.el: Convert to UTF-8.  This doesn't affect\n\truntime behavior, and the file is multilingual so compile-time\n\tappearance shouldn't be an issue.\n\t* admin/notes/unicode: Document this.\n\n2015-08-16  Wilson Snyder  <wsnyder@wsnyder.org>\n\n\tUpdate verilog-mode.el to 2015-05-14-6232468-vpo-GNU.\n\t* lisp/progmodes/verilog-mode.el: Fix some non-automated indent\n\tissues and comments, bug#943.\n\t(verilog-type-font-keywords): Cycle delay operators like ##1 and\n\t##[0:$] are now highlighted in their entirety similarly to the #\n\tdelay-control operator.  Likewise, the followed-by operators #-#\n\tand #=# are no longer partially highlighed.\n\t(verilog-backward-syntactic-ws-quick)\n\t(verilog-skip-backward-comments): Minor performance improvements\n\tto buffer traversal functions for reduced latency.\n\t(verilog-calc-1, verilog-in-deferred-immediate-final-p): When the\n\tkeyword 'final' follows 'assert/assume/cover', then it is part of\n\ta deferred immediate assertion item and should not be treated as a\n\tfinal construct for indentation.  Reported by Yuri Sugihara.\n\t(verilog-do-indent): Virtual task/function/class definition lines\n\tshould not be considered as declarations.  Reported by Enzo Chi.\n\t(verilog-do-indent): Do not falsely indent to '=' of\n\tproperty/sequence operators on subsequent lines of a multi-line\n\tstatement.\n\t(verilog-assignment-operator-re): Fix '!==' operator and add\n\tsupport for '<->', ':/', '#-#', and '#=#' operators.\n\t(verilog-calculate-indent, verilog-label-be): Enable\n\tcase-sensitive regular expression parsing when looking for\n\tkeywords.\n\t(verilog-calc-1): Detect 'pure virtual method' declarations which\n\texist in abstract classes.  Reported by Enzo Chi and Kaushal Modi.\n\t(verilog-backward-ws&directives): When moving back to the start of\n\ta line and the preceeding line ended with an escaped-newline, then\n\tjump up one line.  This properly consumes a multi-line\n\tpre-processor directive.  Reported by Kaushal Modi.\n\t(verilog-dpi-import-export-re, verilog-extended-complete-re)\n\t(verilog-calc-1): Teach verilog-mode to properly indent after a\n\tDPI import/export statement that resides outside of a module.\n\tReported by Kaushal Modi.\n\t(verilog-extended-complete-re): Update regexp to match both\n\t\"DPI-C\" and \"DPI\".  Reported by Kaushal Modi.\n\n2015-08-15  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tsubstitute-command-keys a few more doc strings\n\t* lisp/allout.el (outlineify-sticky):\n\t* lisp/files.el (hack-one-local-variable--obsolete):\n\t* lisp/help-fns.el (help-fns--obsolete, describe-variable):\n\tUse substitute-command-keys on some doc strings so that\n\tthey don't use hard-coded key bindings or quoting styles.\n\n\tFix quoting in Fformat calls\n\t* src/image.c (xbm_read_bitmap_data, xbm_load_image, xbm_load)\n\t(xpm_load, xpm_load_image, pbm_load, png_load_body)\n\t(jpeg_load_body, tiff_load, gif_load, imagemagick_load_image)\n\t(imagemagick_load, svg_load, svg_load_image, gs_load)\n\t(x_kill_gs_process):\n\t* src/lread.c (load_warn_old_style_backquotes):\n\t* src/xfaces.c (load_pixmap):\n\t* src/xselect.c (x_clipboard_manager_error_1):\n\tQuote diagnostics according to user preference when calling\n\tFformat or its derivatives.\n\n2015-08-15  Glenn Morris  <rgm@gnu.org>\n\n\t* admin/admin.el (set-version, set-copyright): Remove deleted files.\n\n2015-08-15  Stephen Leake  <stephen_leake@stephe-leake.org>\n\n\tAllow describe-function helpers to access buffer-local values\n\tThis will be used by cedet/mode-local.el `describe-mode-local-override'\n\ton `help-fns-describe-function-functions' in upstream CEDET.\n\t* lisp/help-fns.el (describe-function-orig-buffer): New, let-bound in\n\t`describe-function'.\n\t(describe-function): Bind it, save it on the help xref stack.\n\n\tHandle pulse-background being nil\n\t* lisp/cedet/pulse.el (pulse-lighten-highlight): Inherit\n\tpulse-background, handle it being nil.\n\n2015-08-15  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix \"\\`\" confusion in Lisp strings\n\t* admin/authors.el (authors-canonical-author-name):\n\tFix typo by using \"\\\\`\" not \"\\`\" in string RE.\n\t* lisp/obsolete/complete.el (PC-complete-as-file-name):\n\t* lisp/obsolete/vi.el (vi-backward-blank-delimited-word):\n\t* lisp/progmodes/verilog-mode.el (verilog-mode-map):\n\tUse plain \"`\", not the equivalent-but-confusing \"\\`\", in strings.\n\t* lisp/textmodes/texinfmt.el: Fix comment likewise.\n\n2015-08-15  Dani Moncayo  <dmoncayo@gmail.com>\n\n\t* nt/zipdist.bat: Remove -- no longer used.\n\n2015-08-15  J\u00fcrgen H\u00f6tzel  <juergen@archlinux.org>\n\n\t* lisp/net/tramp-sh.el (tramp-remote-selinux-p): Use \"selinuxenabled\"\n\trather than \"getenforce\".\n\t(tramp-sh-handle-set-file-selinux-context): Do not\n\tcache SELinux context if not all context components are given.\n\n2015-08-15  Eli Zaretskii  <eliz@gnu.org>\n\n\tAdd doc strings to 2 help-mode.el functions\n\t* lisp/help-mode.el (help-mode-setup, help-mode-finish): Add doc\n\tstrings.  (Bug#21263)\n\n\tRemove files used by the old MS-Windows specific build procedure\n\t* admin/unidata/makefile.w32-in:\n\t* doc/emacs/makefile.w32-in:\n\t* doc/lispintro/makefile.w32-in:\n\t* doc/lispref/makefile.w32-in:\n\t* doc/misc/makefile.w32-in:\n\t* leim/makefile.w32-in:\n\t* lib-src/makefile.w32-in:\n\t* lib/makefile.w32-in:\n\t* lisp/makefile.w32-in:\n\t* nt/INSTALL.OLD:\n\t* nt/config.nt:\n\t* nt/emacs-src.tags:\n\t* nt/envadd.bat:\n\t* nt/gmake.defs:\n\t* nt/makefile.w32-in:\n\t* nt/multi-install-info.bat:\n\t* nt/nmake.defs:\n\t* nt/paths.h:\n\t* src/makefile.w32-in: Files deleted.\n\t* nt/configure.bat: Remove everything except the blurb about the\n\tnew build procedure.\n\t* make-dist: Remove references to makefile.w32-in in various\n\tdirectories, and to files in nt/ that were deleted.\n\t* etc/NEWS: Mention the fact that the files were dropped.\n\n2015-08-15  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* doc/emacs/mule.texi (Charsets): Give fuller title for ISO-IR.\n\t(Bug#21248)\n\n2015-08-14  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDefault to inotify instead of gfile\n\t* configure.ac (with_file_notification): Fix typo that\n\tprevented suppression of file notification if HAVE_NS.\n\t(NOTIFY_OBJ): Prefer inotify to gfile if both exist and\n\twith_file_notification is 'yes' (Bug#21241).\n\t* etc/NEWS: Mention this.\n\n\tFix broken URLs for ISO-IR\n\t* doc/emacs/mule.texi (Charsets):\n\t* lisp/international/mule-conf.el:\n\tFix broken URL (Bug#21248).\n\n\tLow-level diagnostics now use \u2018text-quoting-style\u2019\n\t* src/doprnt.c (doprnt):\n\tFormat ` and ' as per \u2018text-quoting-style\u2019.\n\t* src/xdisp.c (vmessage, message): Mention that the format should\n\tnot contain ` or '.\n\n\tPrefer \u2018format\u2019 to \u2018substitute-command-keys\u2019\n\t* src/character.h (uLSQM, uRSQM): Move here ...\n\t* src/doc.c (uLSQM, uRSQM): ... from here.\n\t* src/doc.c (Fsubstitute_command_keys):\n\t* src/syntax.c (Finternal_describe_syntax_value):\n\t* lisp/cedet/mode-local.el (mode-local-print-binding)\n\t(mode-local-describe-bindings-2):\n\t* lisp/cedet/srecode/srt-mode.el (srecode-macro-help):\n\t* lisp/cus-theme.el (describe-theme-1):\n\t* lisp/descr-text.el (describe-text-properties-1, describe-char):\n\t* lisp/emacs-lisp/cl-extra.el (cl--describe-class):\n\t* lisp/emacs-lisp/cl-generic.el (cl--generic-describe):\n\t* lisp/emacs-lisp/eieio-opt.el (eieio-help-constructor):\n\t* lisp/emacs-lisp/package.el (describe-package-1):\n\t* lisp/faces.el (describe-face):\n\t* lisp/help-fns.el (help-fns--key-bindings)\n\t(help-fns--compiler-macro, help-fns--parent-mode)\n\t(help-fns--obsolete, help-fns--interactive-only)\n\t(describe-function-1, describe-variable):\n\t* lisp/help.el (describe-mode):\n\tPrefer \u2018format\u2019 to \u2018substitute-command-keys\u2019 when either will do\n\tto implement quoting style.  This generally makes the code simpler.\n\n\tExtend \u2018format\u2019 to translate curved quotes\n\tThis is a followup to the recent doc string change, and deals with\n\tdiagnostics and the like.  This patch is more conservative than\n\tthe doc string change, in that the behavior of \u2018format\u2019 changes\n\tonly if its first arg contains curved quotes and the user prefers\n\tstraight or grave quotes.  (Come to think of it, perhaps we should\n\tbe similarly conservative with doc strings too, but that can wait.)\n\tThe upside of this conservatism is that existing usage is almost\n\tsurely unaffected.  The downside is that we'll eventually have to\n\tchange Emacs's format strings to use curved quotes in places where\n\tthe user might want curved quotes, but that's a simple and\n\tmechanical translation that I'm willing to do later.  (Bug#21222)\n\t* doc/lispref/help.texi (Keys in Documentation):\n\tMove description of text-quoting-style from here ...\n\t* doc/lispref/strings.texi (Formatting Strings):\n\t... to here, and describe new behavior of \u2018format\u2019.\n\t* etc/NEWS: Describe new behavior.\n\t* lisp/calc/calc-help.el (calc-describe-thing):\n\t* lisp/emacs-lisp/derived.el (derived-mode-make-docstring):\n\t* lisp/info.el (Info-find-index-name):\n\tUse \u2018concat\u2019 rather than \u2018format\u2019 to avoid misinterpretation\n\tof recently-added curved quotes.\n\t* src/doc.c (uLSQM0, uLSQM1, uLSQM2, uRSQM0, uRSQM1, uRSQM2):\n\tMove from here ...\n\t* src/lisp.h: ... to here.\n\t* src/doc.c (text_quoting_style): New function.\n\t(Fsubstitute_command_keys): Use it.\n\t* src/editfns.c (Fformat): Implement new behavior.\n\t* src/lisp.h (enum text_quoting_style): New enum.\n\n2015-08-14  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* src/keyboard.c: Use false/true instead of 0/1 for booleans.\n\t* src/keyboard.h (struct kboard): Mark kbd_queue_has_data as boolean.\n\n2015-08-14  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* lisp/net/tramp-sh.el (tramp-sh-handle-file-acl): Do not redirect\n\tstderr to /dev/null, this is done in `tramp-send-command-and-check'.\n\n2015-08-14  J\u00fcrgen H\u00f6tzel  <juergen@archlinux.org>\n\n\tFlush file properties in Tramp\n\t* lisp/net/tramp-sh.el (tramp-sh-handle-set-file-modes)\n\t(tramp-sh-handle-set-file-times):\n\t* lisp/net/tramp-adb.el (tramp-adb-handle-set-file-modes)\n\t(tramp-adb-handle-set-file-times): Flush the file properties of\n\tthe directory.\n\n2015-08-14  Ronnie Schnell  <ronnie@driver-aces.com>\n\n\t* doc/emacs/misc.texi (Amusements): Fixed typo.\n\n2015-08-14  Eli Zaretskii  <eliz@gnu.org>\n\n\tDon't miss warnings about removing string text properties while dumping\n\t* src/alloc.c (purecopy): Warn about removing a string's text\n\tproperties even when the same string was already pure-copied\n\tearlier.\n\t* lisp/progmodes/elisp-mode.el (elisp--xref-format)\n\t(elisp--xref-format-extra): Fix the commentary.\n\n2015-08-13  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/progmodes/sh-script.el (sh-mode): Handle .cshrc (bug#21049).\n\n2015-08-13  Magnus Henoch  <magnus.henoch@gmail.com>\n\n\t* lisp/progmodes/compile.el: Use lexical-binding.\n\t(compilation-move-to-column): Assume 8-wide TABs (bug#21038).\n\n2015-08-13  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t(uniquify-ask-about-buffer-names-p): Remove, unused (bug#21037)\n\t* lisp/uniquify.el: Remove redundant `:group's.\n\n2015-08-13  J\u00fcrgen H\u00f6tzel  <juergen@archlinux.org>\n\n\t* lisp/net/tramp-adb.el\n\t(tramp-adb-handle-directory-files-and-attributes): Make a copy of\n\tresult to prevent modification of the tramp-cache by side effects.\n\tUse the correct cache key.\n\n2015-08-13  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMake add_to_log varargs\n\t* src/alloc.c (run_finalizer_handler):\n\t* src/charset.c (load_charset_map_from_vector):\n\t* src/nsimage.m (ns_load_image):\n\t* src/xfaces.c (load_pixmap, load_color2):\n\tSimplify, now that add_to_log has a variable number of args.\n\t* src/image.c (image_error): Take a variable number of args.\n\tCallers simplified.\n\t* src/lisp.h (add_to_log, vadd_to_log): Adjust to new APIs.\n\t* src/xdisp.c (format_nargs, vadd_to_log): New functions.\n\t(add_to_log): Make varargs, and reimplement in terms of vadd_to_log.\n\t* src/xfaces.c (merge_face_ref): Fix typo that omitted color name.\n\n\tOptional args for holiday-greek-orthodox-easter\n\t* etc/NEWS: Document this.\n\t* lisp/calendar/holidays.el (holiday-greek-orthodox-easter):\n\tAdd optional args N and STRING, mimicking the API and code of\n\t\u2018holiday-easter-etc\u2019.  From suggestion by Foivos S. Zakkak (Bug#21256).\n\n2015-08-13  Stephen Leake  <stephen_leake@stephe-leake.org>\n\n\txref-find-definitions: Exclude more generic function items.\n\t* lisp/emacs-lisp/cl-generic.el (cl--generic-search-method):\n\tAdd doc string.\n\t(cl--generic-find-defgeneric-regexp): New.\n\t(find-function-regexp-alist): Add it.\n\t* lisp/emacs-lisp/find-func.el (find-feature-regexp): Move here from\n\telisp-mode.el, change to search for \";;; Code:\"\n\t(find-alias-regexp): Move here from elisp-mode.el, cleaned up.\n\t(find-function-regexp-alist): Add them.\n\t* lisp/progmodes/elisp-mode.el:\n\t(elisp--xref-format, elisp--xref-format-extra): Change back to\n\tdefvar due to bug#21237.\n\t(elisp--xref-find-definitions): Exclude co-located default methods for\n\tgeneric functions.  Also exclude implicitly declared defgeneric.\n\t(elisp--xref-find-definitions): Handle C source properly.  Exclude minor\n\tmode variables defined by 'define-minor-mode'.\n\t* test/automated/elisp-mode-tests.el: Declare generic functions, add\n\ttests for them.\n\t(xref-elisp-test-run): Fix bug.\n\t(emacs-test-dir): Improve initial value.\n\t(find-defs-defun-defvar-el): Don't expect defvar.\n\t(find-defs-feature-el): Match change to find-feature-regexp.\n\n2015-08-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove warning about purecopy of strings with properties\n\t* src/alloc.c (purecopy): Show the offending string with the\n\twarning about removing its text properties.\n\n2015-08-12  Alan Mackenzie  <acm@muc.de>\n\n\tIntroduce new macros to cover Emacs's new names in cl-lib.el\n\tThis also eliminates `mapcan' warnings in XEmacs.\n\t* lisp/progmodes/cc-defs.el (c--mapcan-status): New variable to\n\tcharacterise [X]Emacs versions.\n\t(top-level): Require either 'cl or 'cl-lib, depending on\n\tc--mapcan-status.\n\tChange this back to cc-external-require from an eval-when-compile\n\trequire.\n\t(c--mapcan, c--set-difference, c--intersection, c--macroexpand-all)\n\t(c--delete-duplicates): New macros which expand into either old or new\n\tnames.\n\t(c-make-keywords-re, c-lang-defconst, c-lang-const): Use the new macros\n\trather than the old names.\n\t* lisp/progmodes/cc-engine.el (c-declare-lang-variables): Use c--mapcan\n\trather than mapcan.\n\t* lisp/progmodes/cc-fonts.el (c-compose-keywords-list): Use c--mapcan.\n\t* lisp/progmodes/cc-langs.el (top-level): Require either 'cl or 'cl-lib,\n\tdepending on c--mapcan-status.\n\t(c-filter-ops, c-all-op-syntax-tokens, c-assignment-op-regexp)\n\t(c-type-start-kwds, c-prefix-spec-kwds, c-specifier-key)\n\t(c-not-decl-init-keywords, c-not-primitive-type-keywords)\n\t(c-paren-any-kwds, c-<>-sexp-kwds, c-block-stmt-kwds, c-expr-kwds)\n\t(c-decl-block-key, c-keywords, c-keywords-obarray)\n\t(c-regular-keywords-regexp, c-primary-expr-regexp)\n\t(c-primary-expr-regexp, c-block-prefix-disallowed-chars)\n\t(c-known-type-key, c-nonlabel-token-key)\n\t(c-make-init-lang-vars-fun): Use the new macros rather than the old\n\tnames.\n\n2015-08-12  Oleh Krehel  <ohwoeowho@gmail.com>\n\n\tloadhist.el (read-feature): Conform to completing-read\n\t* lisp/loadhist.el (read-feature): According to `completing-read'\n\tdocumentation, if collection is a list, then it must be a list of\n\tstrings, not a list of symbols like before.\n\n2015-08-12  David Kastrup  <dak@gnu.org>\n\n\tDeal gracefully with up-events (Bug#19746)\n\t* src/keyboard.c (apply_modifiers_uncached, parse_solitary_modifier)\n\t(parse_modifiers_uncached): React gracefully to \"up-\" modifiers:\n\tthose may easily be injected by user-level Lisp code.\n\t(read_key_sequence): Discard unbound up-events like unbound\n\tdown-events: they are even more likely only relevant for special\n\tpurposes.\n\tWhile Emacs will not produce up-events on its own currently (those are\n\tconverted to drag or click events before being converted to\n\tLisp-readable structures), the input queue can be made to contain them\n\tby synthesizing events to `unread-command-events'.  Emacs should deal\n\tconsistently with such events.\n\n2015-08-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix display of thin lines whose newline has line-height property of t\n\t* src/xdisp.c (append_space_for_newline): Don't try to fix ascent\n\tand descent values of non-empty glyph rows, since they could have\n\tforced low values deliberately.  (Bug#21243)\n\n2015-08-12  Richard Stallman  <rms@gnu.org>\n\n\tOffer to combine multiple To or CC fields.\n\t* lisp/mail/sendmail.el (mail-combine-fields): New function.\n\t(mail-send): Call 'mail-combine-fields'.\n\n\tDon't decrypt encrypted files.\n\t* lisp/mail/mail-utils.el (mail-file-babyl-p): Bind epa-inhibit to t.\n\n\tHandle encrypted mbox files.\n\t* lisp/mail/rmailout.el (rmail-output-as-mbox): Decrypt and reencrypt\n\tthe mbox file if necessary.\n\n\tRe-enable mime processing after decryption.  Add 'decrypt' keyword.\n\t* lisp/mail/rmail.el (rmail-epa-decrypt-1): New subroutine.\n\t(rmail-epa-decrypt): rmail-epa-decrypt-1 broken out.\n\tIn a mime message, reenable Mime and show the parts that\n\twere shown before.\n\tAdd keyword \"decrypt\" if anything decrypted.\n\n\tepa-inhibit inhibits auto-recognition of .gpg files\n\t* lisp/epa-file.el (epa-inhibit): New variable.\n\t(epa-file-handler): Check epa-inhibit.\n\n2015-08-12  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/lisp-mnt.el (lm-header): Add save-excursion.\n\n2015-08-11  Fabi\u00e1n Ezequiel Gallina  <fgallina@gnu.org>\n\n\tRespect python.el imenu when semantic-mode is off\n\tFixes bug#21220\n\t* lisp/cedet/semantic/wisent/python.el: Do not force\n\twisent-python-default-setup on python-mode-hook.\n\n2015-08-11  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tGive names to Unicode code points in C code\n\t* src/character.h (NO_BREAK_SPACE, SOFT_HYPHEN)\n\t(ZERO_WIDTH_NON_JOINER, ZERO_WIDTH_JOINER, HYPHEN)\n\t(NON_BREAKING_HYPHEN, LEFT_SINGLE_QUOTATION_MARK)\n\t(RIGHT_SINGLE_QUOTATION_MARK, PARAGRAPH_SEPARATOR)\n\t(LEFT_POINTING_ANGLE_BRACKET, RIGHT_POINTING_ANGLE_BRACKET)\n\t(LEFT_ANGLE_BRACKET, RIGHT_ANGLE_BRACKET)\n\t(OBJECT_REPLACEMENT_CHARACTER):\n\tNew named constants for Unicode code points.\n\t* src/bidi.c (bidi_fetch_char, CANONICAL_EQU):\n\t* src/composite.c (char_composable_p):\n\t* src/lread.c (readevalloop, read1):\n\t* src/xdisp.c (get_next_display_element):\n\tUse them.\n\t* src/doc.c (LEFT_SINGLE_QUOTATION_POINT):\n\tRemove; now in character.h.\n\n2015-08-11  Stephen Leake  <stephen_leake@stephe-leake.org>\n\n\telisp--xref-find-definitions handle cl-defstuct default constructor\n\t* lisp/progmodes/elisp-mode.el (elisp-xref-find): Add FIXME.\n\t(elisp--xref-format-extra): Rename from elisp--xref-format-cl-defmethod.\n\t(elisp--xref-find-definitions): Handle cl-defstuct default constructor.\n\t* test/automated/elisp-mode-tests.el (xref-elisp-test-run): Split out\n\tfrom xref-elisp-test for ease of debugging.\n\t(xref-elisp-deftest): Rename from xref-elisp-test.\n\t(find-defs-constructor): New test.\n\t(find-defs-defgeneric-el): Match batch test config.\n\t(compile): Required for find-defs compilation-minor-mode test.\n\t(find-defs-defvar-el): Match code change.\n\t(find-defs-face-el): Match code change.\n\t* lisp/progmodes/xref.el (xref-find-function, xref-find-definitions):\n\tImprove doc string.\n\n2015-08-11  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/replace.el (perform-replace): Document `replacements'.\n\t(perform-replace): Move the description of the format of `replacements'\n\tfrom the body's comment to the doc string.\n\n2015-08-11  J\u00fcrgen H\u00f6tzel  <juergen@archlinux.org>\n\n\t* lisp/net/tramp-adb.el (tramp-adb-prompt): Match leading escape\n\tsequence.  Recent adb version send initial escape sequences, even\n\twhen terminal type is set to TERM=dumb.\n\n2015-08-10  Stephen Leake  <stephen_leake@stephe-leake.org>\n\n\tRewrite elisp--xref-find-definitions to handle many more cases; add tests\n\t* lisp/progmodes/elisp-mode.el (elisp--xref-identifier-location):\n\tFunction deleted.\n\t(elisp--xref-format-cl-defmethod): New defconst.\n\t(find-feature-regexp, find-alias-regexp): New defcustoms.\n\t(elisp--xref-make-xref): New function.\n\t(elisp--xref-find-definitions): Rewrite using the above, handle many\n\tmore cases.  Always output all available definitions.\n\t(xref-location-marker): No need for special cases.\n\t* test/automated/elisp-mode-tests.el: Add more tests of\n\telisp--xref-find-definitions, improve current tests.\n\n2015-08-10  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix recording of events pushed onto unread-command-events\n\t* src/keyboard.c (read_char): Make sure events read from\n\tunread-command-events and unread-post-input-method-events are\n\talways recorded by record_char.  Reported by David Kastrup\n\t<dak@gnu.org>, see\n\thttp://lists.gnu.org/archive/html/emacs-devel/2015-08/msg00193.html.\n\n2015-08-10  Samer Masterson  <samer@samertm.com>\n\n\tSet file buffer as current for \"--file\"\n\t* lisp/startup.el (command-line-1): Set file buffer as current before\n\tit is displayed so it can be used with options like \"--eval\".\n\t(Bug#21095)\n\n2015-08-10  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid setting LC_NUMERIC on MS-Windows to anything but \"C\"\n\t* src/emacs.c (synchronize_locale) [WINDOWSNT]: Call fixup_locale\n\tafter setting LC_ALL to the desired locale, to avoid affecting how\n\tnumbers are read and printed.  (Bug#21223)\n\n2015-08-10  Alan Mackenzie  <acm@muc.de>\n\n\tFix \"Invalid search bound (wrong side of point)\" in fontification\n\t* lisp/progmodes/cc-fonts.el (c-font-lock-declarators): After skipping\n\tan initialization expression, check point is not beyond the\n\tfontification limit.\n\n2015-08-09  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix DPI calculation when Xft/DPI is default\n\t* src/xsettings.c (parse_settings): Don't use Xft/DPI default\n\tvalue of -1, which evaluates to 2**32 - 1 (Bug#21152).\n\tRemove unnecessary cast while we're in the neighborhood.\n\n2015-08-09  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tAdd project-vc-search-path and project-vc-ignores\n\t* lisp/progmodes/project.el (project-vc): New group.\n\t(project-vc-search-path, project-vc-ignores): New variables.\n\t(project--value-in-dir): Utility function.\n\t(project-search-path, project-ignores): Use them.\n\t* lisp/progmodes/xref.el (xref--rgrep-command): Only replace `./'\n\tat bos.  Don't add extra `/'.  Don't prepend with `*' if replaced.\n\n2015-08-09  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix some minor quoting issues with grave accent\n\t* src/dispnew.c (add_window_display_history) [GLYPH_DEBUG]:\n\tRemove redundant quotes.\n\t* src/doc.c (uLSQM, uRSQM): New macros.\n\t* src/doc.c (Fsubstitute_command_keys):\n\t* src/syntax.c (Finternal_describe_syntax_value): Follow the user\n\tpreference for quotes rather than hardcoding the \u2018grave\u2019 style.\n\t* src/regex.c (PUSH_FAILURE_POINT, POP_FAILURE_POINT)\n\t(re_match_2_internal) [DEBUG]: In debugging output, quote C\n\tstrings with \"...\", not `...'.\n\n\tChangeLog.2 ignores remote-tracking merges\n\t* build-aux/gitlog-to-emacslog: Ignore commit logs matching\n\t\"Merge remote-tracking branch '.*'\" too.  See Eli Zaretskii in:\n\thttp://lists.gnu.org/archive/html/emacs-devel/2015-08/msg00384.html\n\n2015-08-09  Nicolas Richard  <youngfrog@members.fsf.org>\n\n\tUse kpsewhich in ffap-latex-mode, if available\n\t* lisp/ffap.el (ffap-latex-guess-rules): New variable.\n\t(ffap-latex-mode): Use kpsewhich if available.\n\n\tffap: disallow braces in filenames for tex modes\n\t* lisp/ffap.el (ffap-string-at-point-mode-alist): Don't allow\n\tbraces in tex-related modes.\n\n\tRemove useless backslashes from ffap-string-at-point-mode-alist\n\t* lisp/ffap.el (ffap-string-at-point-mode-alist): Remove useless and\n\tmisleading backslashes from default value.\n\n\tAugment docstring of ffap-string-at-point-mode-alist\n\t* lisp/ffap.el (ffap-string-at-point-mode-alist): Describe how BEG\n\tand END are handled.\n\n2015-08-09  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* lisp/org/org-src.el (org-edit-src-code)\n\t(org-edit-fixed-width-region):\n\t* lisp/simple.el (completion-setup-function):\n\tRemove calls to substitute-command-keys that always just return\n\ttheir argument.\n\n2015-08-09  Daiki Ueno  <ueno@gnu.org>\n\n\t* lisp/epa.el (epa-exit-buffer-function): Set to `quit-window'.\n\t(Bug#21210)\n\n2015-08-09  Ivan Kanis  <ivan@kanis.fr>\n\n\tFix link to source code in help window\n\t* lisp/help-fns.el (find-lisp-object-file-name): Remove code that\n\twill never work due to Glenn Morris change a6d63d9 on Apr 20 2013\n\t'No longer include timestamp in header of .elc files'.  Add code\n\tthat will return .el source file in load-path.\n\n2015-08-09  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/isearch.el (isearch-search-fun-default): (Bug#21164)\n\tRespect `isearch-lax-whitespace' when searching through\n\t`isearch-word'.\n\n2015-08-08  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* test/automated/ert-tests.el (ert-test-deftest): Add FIXME.\n\n\t* lisp/org/org.el: Fix up some lexical scoping warnings, and use dolist\n\t* lisp/org/org.el (org-set-regexps-and-options-for-tags, org-goto-map)\n\t(org-set-regexps-and-options, org-assign-fast-keys)\n\t(org-contextualize-keys, org-contextualize-validate-key)\n\t(org-notes-order-reversed-p, org-local-logging, org-map-entries)\n\t(org-find-olp, org-find-exact-heading-in-directory)\n\t(org-cycle-agenda-files, org-release-buffers, org-fill-template)\n\t(org-agenda-prepare-buffers, org-occur-in-agenda-files)\n\t(org-replace-escapes): Use dolist.\n\t(org-mode): Optimize away XEmacs-only code.\n\t(org-refile-get-targets): Remove unused var `f'.\n\t(org-fast-todo-selection): Remove unused var `e'.\n\t(org-make-tags-matcher): Use dolist.  Remove unused var `term'.\n\t(org-fast-tag-selection): Use dolist.  Remove unused var `e'.\n\t(org-format-latex): Use dolist.  Remove unused var `e'.\n\t(org-toggle-heading): Access vars lexically rather than dynamically.\n\t(org-backward-sentence, org-forward-sentence, org-meta-return)\n\t(org-kill-line): Mark arg as unused.\n\t(org-submit-bug-report): Silence compiler warning.\n\t(org-occur-in-agenda-files): Don't use add-to-list on local vars.\n\t(org-get-cursor-date): Remove unused var `tm'.\n\t(org-comment-or-uncomment-region): Use standard name `_'.\n\t(reftex-docstruct-symbol, reftex-cite-format): Declare to\n\tsilence byte-compiler.\n\t(org-reftex-citation): Add `org--' prefix to dynamically scoped\n\t`rds' var.\n\n2015-08-08  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tElectric quote if coding is undecided or no conv\n\t* lisp/electric.el (electric--insertable-p): Also say that a\n\tstring is insertable if the buffer file coding system is undecided\n\tor uses no conversion, as curved quotes will work in either case.\n\n\t* configure.ac (HAVE_STACK_OVERFLOW_HANDLING): Simplify configuration.\n\n2015-08-08  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix overlay string display regressions introduced in Emacs 24.5\n\t* src/xdisp.c (pop_it): Reset the flag to ignore overlays at this\n\tbuffer position, if we move the iterator to a new position as\n\tresult of jumping over text covered by a \"replacing\" display\n\tproperty.\n\t* test/redisplay-testsuite.el (test-redisplay-4): Add 2 new tests.\n\n\tSupport recovery from C stack overflow on MS-Windows\n\t* src/w32fns.c (w32_reset_stack_overflow_guard)\n\t(stack_overflow_handler): New functions for handling C stack\n\toverflow exceptions.\n\t(my_exception_handler): Handle EXCEPTION_STACK_OVERFLOW exceptions\n\tspecially, and zero out except_addr if we do.\n\t(globals_of_w32fns): Initialize dwMainThreadId in non-interactive\n\tmode.\n\t* src/sysdep.c [HAVE_STACK_OVERFLOW_HANDLING]: Add !WINDOWSNT to\n\tthe condition, as HAVE_STACK_OVERFLOW_HANDLING is now defined for\n\tthe MinGW build, but the code guarded by that is for Posix hosts.\n\t* src/keyboard.c (command_loop) [WINDOWSNT]:\n\tCall w32_reset_stack_overflow_guard.\n\t* nt/inc/ms-w32.h (sigjmp_buf): New typedef.\n\t(sigsetjmp): New macro.\n\t(w32_reset_stack_overflow_guard): Declare the prototype.\n\t* configure.ac (HAVE_STACK_OVERFLOW_HANDLING): Set to 1 for MinGW.\n\n2015-08-07  Phillip Lord  <phillip.lord@newcastle.ac.uk>\n\n\tImprove error signaling for seq-subseq\n\t* lisp/emacs-lisp/seq.el (seq-subseq): The existing behavior is to error\n\twhen indexes are too large, but to silently ignore numbers which\n\tare too negative for lists.  String and vector handling errors in\n\tboth cases.  This has been regularized.  Error signaling behavior\n\thas been explicitly added to the doc string.\n\n\t* lisp/cl-extra.el (cl-subseq): Defers to (seq-subseq) and is\n\ttherefore also impacted by this change.  Update the doc string\n\tto reflect this.\n\n\t* test/automated/seq-tests.el (test-seq-subseq): Tests have been\n\tadded for these exceptional cases, as well as one non exceptional\n\tbase case.\n\n2015-08-07  J\u00fcrgen H\u00f6tzel  <juergen@archlinux.org>\n\n\tImprove error checking in tramp-adb.el\n\t* lisp/net/tramp-adb.el (tramp-adb-ls-output-name-less-p):\n\tImprove error checking.  \"ls -l\" on Android in Enforcing mode can\n\tprint \"lstat './FILENAME failed: Permission denied\".\n\n2015-08-07  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/cl-generic.el (cl--generic-struct-tag): Don't burp on\n\tnon-struct vectors.\n\n2015-08-07  Stephen Leake  <stephen_leake@stephe-leake.org>\n\n\tFix typo in lisp/window.el, more `display-buffer-use-some-frame'\n\t* lisp/window.el: Fix typo that broke build.\n\t(display-buffer--action-function-custom-type):\n\tAdd `display-buffer-use-some-frame'.\n\t(display-buffer): Add `display-buffer-use-some-frame' to doc string.\n\n\tAdd support for 'inhibit-same-window in 'display-buffer-use-some-frame'\n\t* lisp/window.el (display-buffer-use-some-frame): Add support for\n\t'inhibit-same-window in alist.\n\t* doc/lispref/windows.texi (display-buffer-use-some-frame):\n\tDoc support for 'inhibit-same-window in alist.\n\n2015-08-07  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid infinite loop in display of invisible text in strings\n\t* src/xdisp.c (handle_invisible_prop): If the next change of\n\tinvisibility spec does not mean the beginning of a visible text,\n\tupdate the string position from which to start the search for the\n\tnext invisibility change.  This avoids an infinite loop when we\n\thave more than one invisibility spec that are made inactive by\n\tbuffer-invisibility-spec.  Simplify code.  (Bug#21200)\n\t* test/redisplay-testsuite.el (test-redisplay-4): Add a test case\n\tfor the situation that caused bug #21200.\n\n2015-08-06  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el: Simplify describe-package-1\n\t(package-help-section-name-face): New face.\n\t(package--print-help-section): New function.\n\t(describe-package-1): Refactor section printing.\n\t(package-make-button): Use face instead of font-lock-face, which\n\tdoesn't work on buttons.\n\n\t* lisp/emacs-lisp/package.el: Define custom faces\n\t(package-name-face, package-description-face)\n\t(package-status-built-in-face, package-status-external-face)\n\t(package-status-available-face, package-status-new-face)\n\t(package-status-held-face, package-status-disabled-face)\n\t(package-status-installed-face, package-status-dependency-face)\n\t(package-status-unsigned-face, package-status-incompat-face)\n\t(package-status-avail-obso-face): New faces.\n\t(package-menu--print-info-simple): Use them.\n\n2015-08-05  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix some confusion with \u2018format\u2019\n\t* lisp/allout-widgets.el (allout-widgets-before-change-handler)\n\t(allout-graphics-modification-handler):\n\tProtect arbitrary string in a format context with \"%s\" format.\n\t* lisp/avoid.el:\n\t* lisp/cedet/semantic/bovine/scm.el: Fix comment.\n\t* lisp/calendar/icalendar.el (icalendar--convert-sexp-to-ical):\n\t* lisp/erc/erc-button.el (erc-button-beats-to-time):\n\t* lisp/gnus/message.el (message-send-form-letter):\n\t* lisp/org/ob-core.el (org-babel-check-evaluate)\n\t(org-babel-confirm-evaluate):\n\t* lisp/org/ob-fortran.el (org-babel-fortran-var-to-fortran):\n\t* lisp/org/ox-latex.el (org-latex-compile):\n\t* lisp/org/ox-man.el (org-man-compile):\n\t* lisp/org/ox-odt.el (org-odt-template):\n\t* lisp/org/ox-texinfo.el (org-texinfo-compile):\n\t* lisp/progmodes/prolog.el (prolog-help-info)\n\t(prolog-view-predspec):\n\t* lisp/progmodes/ruby-mode.el (ruby-parse-partial):\n\t* lisp/progmodes/verilog-mode.el (verilog-showscopes):\n\t* lisp/textmodes/rst.el (rst-replace-lines):\n\tChange (message (format ...)) to (message ...), and likewise\n\tfor \u2018error\u2019.  This lessens the probability of confusion when the\n\toutput of \u2018format\u2019 contains \u2018%\u2019.\n\n2015-08-05  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/replace.el (replace-character-fold): Default to nil.\n\n\t* lisp/character-fold.el: Fix lax whitespace.\n\t(character-fold-table): Don't make space match other whitespace chars.\n\t(character-fold-to-regexp): Simplify lax behavior.\n\n2015-08-05  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tPreserve window point in xref-find-definitions-other-window\n\tFix the problem reported by Ingo Logmar in\n\thttp://lists.gnu.org/archive/html/emacs-devel/2015-08/msg00152.html\n\t* lisp/progmodes/xref.el (xref--goto-char): Extract from\n\txref--goto-location.\n\t(xref--pop-to-location): Use it.  Replace xref--goto-location with\n\ta direct xref-location-marker call.\n\t(xref--show-location): Likewise.\n\t(xref--display-position): Use xref--goto-char.\n\n\t* lisp/progmodes/project.el: Add a paragraph to the front matter.\n\n2015-08-04  David Kastrup  <dak@gnu.org>\n\n\t* lisp/vc/emerge.el (emerge-show-file-name):\n\t* lisp/progmodes/vhdl-mode.el (vhdl-electric-dash)\n\t(vhdl-comment-insert, vhdl-hooked-abbrev):\n\t* lisp/progmodes/octave.el (inferior-octave-dynamic-list-input-ring):\n\t* lisp/progmodes/fortran.el (fortran-window-create-momentarily):\n\t* lisp/progmodes/ebrowse.el (ebrowse-hack-electric-buffer-menu):\n\t* lisp/progmodes/cperl-mode.el (cperl-putback-char):\n\t* lisp/obsolete/vip.el (vip-escape-to-emacs)\n\t(vip-prefix-arg-value, vip-prefix-arg-com):\n\t* lisp/obsolete/terminal.el (te-escape-extended-command-unread):\n\t* lisp/leim/quail/tibetan.el (quail-tibetan-update-translation)\n\t(quail-tibkey-update-translation):\n\t* lisp/leim/quail/lrt.el (quail-lrt-update-translation):\n\t* lisp/leim/quail/lao.el (quail-lao-update-translation):\n\t* lisp/leim/quail/japanese.el (quail-japanese-update-translation)\n\t(quail-japanese-self-insert-and-switch-to-alpha):\n\t* lisp/leim/quail/hangul.el (hangul2-input-method)\n\t(hangul3-input-method, hangul390-input-method):\n\t* lisp/language/hanja-util.el (hangul-to-hanja-char):\n\t* lisp/international/robin.el (robin-input-method):\n\t* lisp/international/quail.el (quail-start-translation)\n\t(quail-start-conversion):\n\t* lisp/gnus/gnus-art.el (gnus-article-describe-key)\n\t(gnus-article-describe-key-briefly):\n\t* lisp/eshell/em-hist.el (eshell-list-history):\n\t* lisp/term.el (term-dynamic-list-input-ring)\n\t(term-dynamic-list-completions):\n\t* lisp/subr.el (momentary-string-display):\n\t* lisp/simple.el (read-quoted-char):\n\t* lisp/pcomplete.el (pcomplete-show-completions):\n\t* lisp/kmacro.el (kmacro-repeat-on-last-key):\n\t* lisp/info.el (Info-summary):\n\t* lisp/ehelp.el (electric-help-command-loop):\n\t* lisp/ebuff-menu.el (electric-buffer-list)\n\t(Electric-buffer-menu-exit):\n\t* lisp/double.el (double-translate-key):\n\t* lisp/comint.el (comint-dynamic-list-input-ring)\n\t(comint-dynamic-list-completions): Do not overwrite preexisting\n\tcontents of `unread-command-events' when putting new events into it.\n\n2015-08-04  Daniel Colascione  <dancol@dancol.org>\n\n\tImprove ansi-color filtering of unrecognized escape sequences\n\t* lisp/ansi-color.el (ansi-color-drop-regexp): Recognize mode-setting\n\tescape sequences.\n\t(ansi-color-filter-apply, ansi-color-apply): Filter out\n\tunrecognized escape sequences.\n\n2015-08-04  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el (package-menu-mode-map): Convert menu\n\tdefinitions to `easy-menu-define', improve a couple to account for\n\tasync, and add a couple of new commands.\n\n2015-08-03  J\u00fcrgen H\u00f6tzel  <juergen@archlinux.org>\n\n\t* lisp/net/tramp-cache.el (tramp-set-file-property): Fix code typo.\n\n2015-08-03  Ingo Lohmar  <i.lohmar@gmail.com>\n\n\tAdd new 'calendar-weekend-days' option\n\tMake the days receiving the 'calendar-weekend-header' face freely\n\tcustomizable, as they differ by region/culture.\n\t* doc/emacs/calendar.texi (Move to Beginning or End): Document the\n\tnew variable.\n\t* lisp/calendar/calendar.el (calendar-generate-month): New variable\n\tcalendar-weekend-days to customize day header fontification.\n\n2015-08-03  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRedo text-quoting-style variable\n\tRename help-quote-translation to text-quoting-style,\n\tand use symbols rather than characters as values.\n\tThis follows suggestions along these lines by Alan Mackenzie in:\n\thttp://lists.gnu.org/archive/html/emacs-devel/2015-06/msg00343.html\n\tand by Drew Adams in:\n\thttp://lists.gnu.org/archive/html/emacs-devel/2015-08/msg00048.html\n\t* doc/lispref/help.texi (Keys in Documentation)\n\t* etc/NEWS:\n\t* lisp/cus-start.el (standard):\n\t* src/doc.c (Fsubstitute_command_keys, syms_of_doc):\n\tDocument and/or implement the new behavior instead of the old.\n\t(syms_of_doc): New symbols 'grave' and 'straight'.\n\n2015-08-03  Nikolaus Rath  <Nikolaus@rath.org>\n\n\tnnimap.el: Use IMAP MOVE extension if available\n\t* lisp/gnus/nnimap.el (nnimap-request-move-article)\n\t(nnimap-process-expiry-targets, nnimap-split-incoming-mail):\n\tUse MOVE extension if available.\n\n\tnnimap.el: Explicitly ask for server capabilities\n\t* lisp/gnus/nnimap.el (nnimap-open-connection-1): Don't assume full\n\tcapabilities will be returned in the login-result.\n\n2015-08-02  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tTreat help strings like other doc strings\n\t* doc/lispref/text.texi (Special Properties), etc/NEWS: Document this.\n\t* lisp/epa.el (epa--select-keys): Remove no-longer-needed calls to\n\tsubstitute-command-keys.\n\t* src/keyboard.c (show_help_echo, parse_menu_item): Call\n\tsubstitute-command-keys on the help string before displaying it.\n\n\tAlso mention \"curly quotes\"\n\tSee Drew Adams's email in:\n\thttp://lists.gnu.org/archive/html/emacs-devel/2015-08/msg00040.html\n\t* doc/lispref/help.texi (Keys in Documentation):\n\tAdd index entry \"curly quotes\".\n\t* etc/NEWS: Use the phrase \"curly quotes\" too.\n\n\tede-proj-target-makefile docstring tweaks\n\t* lisp/cedet/ede/proj.el (ede-proj-target-makefile):\n\tConsistently use \"all:\" to describe the all: target,\n\treplacing three different and confusingly-quoted usages.\n\n2015-08-02  Evgeny Fraimovitch  <johnlen7@gmail.com>  (tiny change)\n\n\tDon't abort emacsclientw when -a was specified\n\t* lib-src/emacsclient.c (set_tcp_socket) [WINDOWSNT]: Don't error\n\tout if we are in emacsclientw and -a was specified.\n\n2015-08-02  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix handling of 1st keystroke on MS-Windows\n\t* src/w32fns.c (globals_of_w32fns): Initialize after_deadkey to -1.\n\tThis is needed to correctly handle the session's first keystroke,\n\tif it has any modifiers.  (Bug#19994)\n\n2015-08-02  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSubstitute some customization etc. doc strings\n\tThese changes apply substitute-command-keys to some\n\tdoc strings that were going through untranslated\n\twhen creating customization or other widgets.\n\t* lisp/cus-edit.el (custom-group-value-create):\n\t* lisp/wid-edit.el (widget-default-create):\n\t(widget-push-button-value-create):\n\tTreat the widget tag as a doc string.\n\t* lisp/emacs-lisp/cl-extra.el (cl--describe-class-slot):\n\tTreat the :documentation value as a doc string.\n\t* lisp/wid-edit.el (widget-choose):\n\tTreat the choice names as doc strings.\n\t(widget-default-create): Treat the :doc value as a doc string.\n\t(widget-toggle-value-create): Treat the :on and :off values\n\tas doc strings.\n\t(widget-documentation-string-value-create):\n\tSubstitute the doc string.\n\n2015-08-01  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tAdd a second argument to project-ignores\n\t* lisp/progmodes/project.el (project-ignores): Add a second\n\targument DIR.\n\t* lisp/progmodes/project.el (project-ignores): Only include the VC\n\tignores if DIR is the VC root.\n\t* lisp/progmodes/xref.el (xref-find-regexp): Update accordingly.\n\n2015-08-01  Eli Zaretskii  <eliz@gnu.org>\n\n\tPrevent incorrect display when 'line-spacing' variable is set\n\t* src/xdisp.c (try_window_id): Give up this optimization if the\n\tbuffer has its 'line-spacing' variable set non-nil.\n\n2015-08-01  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tDon't pass NOVISIT to find-file\n\t* lisp/progmodes/etags.el (next-file):\n\tDon't pass NOVISIT to find-file (bug#21175).\n\n\tIgnore buffer restriction for tags-loop-eval\n\t* lisp/progmodes/etags.el (tags-loop-continue): Ignore buffer\n\trestriction (bug#21167).\n\n2015-08-01  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix a thinko in 'ffap-gopher-at-point'\n\t* lisp/ffap.el (ffap-gopher-at-point): Fix last change.  (Bug#21168)\n\n\tHonor 'line-spacing' for empty lines\n\t* src/xdisp.c (append_space_for_newline): Honor 'line-height'\n\tproperty and 'line-spacing' frame parameter or variable or\n\tproperty for empty lines, by doing the same processing as in\n\tx_produce_glyph for newline characters.  (Bug#21165)\n\n2015-08-01  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSimplify by assuming C99 integer division\n\t* src/floatfns.c (ceiling2, floor2, truncate2):\n\tAssume C99 (i.e., Fortran) semantics for integer division.\n\tThis simplifies the code.\n\n2015-07-31  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDon't overflow if computing approximate percentage\n\t* lisp/align.el (align-region):\n\t* lisp/cedet/semantic.el (semantic-repeat-parse-whole-stream):\n\t* lisp/cedet/semantic/wisent.el (wisent-parse-region):\n\t* lisp/cus-edit.el (custom-buffer-create-internal):\n\t* lisp/emacs-lisp/checkdoc.el (checkdoc-interactive-ispell-loop)\n\t(checkdoc-message-interactive-ispell-loop, checkdoc-next-error)\n\t(checkdoc-next-message-error):\n\t* lisp/emacs-lisp/eieio-opt.el (eieio-display-method-list):\n\t* lisp/epa.el (epa-progress-callback-function):\n\t* lisp/erc/erc-dcc.el (erc-dcc-do-LIST-command):\n\t* lisp/ffap.el (ffap-menu-rescan):\n\t* lisp/gnus/nnbabyl.el (nnbabyl-retrieve-headers):\n\t* lisp/gnus/nndiary.el (nndiary-retrieve-headers):\n\t* lisp/gnus/nneething.el (nneething-retrieve-headers):\n\t* lisp/gnus/nnmbox.el (nnmbox-retrieve-headers):\n\t* lisp/gnus/nnmh.el (nnmh-retrieve-headers):\n\t* lisp/gnus/nnml.el (nnml-retrieve-headers):\n\t* lisp/gnus/nnspool.el (nnspool-retrieve-headers):\n\t* lisp/gnus/nntp.el (nntp-retrieve-headers)\n\t(nntp-retrieve-articles):\n\t* lisp/imenu.el (imenu--relative-position):\n\t* lisp/international/ja-dic-cnv.el (skkdic-collect-okuri-nasi)\n\t(skkdic-convert-okuri-nasi):\n\t* lisp/net/ange-ftp.el (ange-ftp-process-handle-hash):\n\t* lisp/nxml/rng-valid.el (rng-compute-mode-line-string):\n\t* lisp/org/org-list.el (org-update-checkbox-count):\n\t* lisp/org/org.el (org-table-map-tables)\n\t(org-update-parent-todo-statistics):\n\t* lisp/play/decipher.el (decipher-insert-frequency-counts)\n\t(decipher-analyze-buffer):\n\t* lisp/profiler.el (profiler-format-percent):\n\t* lisp/progmodes/cc-cmds.el (c-progress-update):\n\t* lisp/progmodes/cpp.el (cpp-highlight-buffer):\n\t* lisp/progmodes/idlwave.el (idlwave-convert-xml-system-routine-info)\n\t(idlwave-list-load-path-shadows):\n\t* lisp/progmodes/opascal.el (opascal-step-progress):\n\t* lisp/progmodes/vhdl-mode.el (vhdl-update-progress-info)\n\t(vhdl-scan-directory-contents):\n\t* lisp/textmodes/bibtex.el (bibtex-progress-message):\n\t* lisp/textmodes/flyspell.el (flyspell-small-region)\n\t(flyspell-external-point-words):\n\t* lisp/textmodes/table.el (table-recognize):\n\tPrefer (floor (* 100.0 NUMERATOR) DENOMINATOR) when calculating\n\tprogress-report percentages and the like.  This avoids problems\n\tif (* 100 NUMERATOR) would overflow.\n\t* lisp/gnus/gnus-registry.el (gnus-registry-import-eld):\n\t* lisp/gnus/registry.el (registry-reindex):\n\tUse (* 100.0 ...) rather than (* 100 ...) to avoid int overflow issues.\n\t* lisp/descr-text.el (describe-char):\n\t* lisp/org/org-colview.el (org-nofm-to-completion):\n\t* lisp/ps-print.el (ps-plot):\n\t* lisp/simple.el (what-cursor-position):\n\tPrefer (round (* 100.0 NUMERATOR) DENOMINATOR) to a\n\tmore-complicated and less-accurate approximation.\n\n\tFix some int overflows in profiler.c\n\t* src/profiler.c (make_log): Make args EMACS_INT, not int,\n\tto avoid unwanted behavior on 'int' overflow.\n\t(make_log, evict_lower_half, record_backtrace):\n\tUse ptrdiff_t, not int, for object indexes.\n\n\tPort to pedantic memcpy\n\t* src/keyboard.c (menu_bar_items, tool_bar_items):\n\t* src/xrdb.c (magic_db):\n\tPort to pedantic memcpy implementations that reject memcpy (0, 0, 0).\n\n\tMerge from gnulib\n\tThis incorporates:\n\t2015-07-29 time_rz: port to pedantic memcpy\n\t* lib/time_rz.c: Copy from gnulib.\n\n2015-07-31  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/tabulated-list.el (tabulated-list-print):\n\tWhen updating the very last entry, tabulated-list-print would\n\terase it and then try to look at the next one (which obviously\n\tisn't there).\n\n2015-07-31  Eli Zaretskii  <eliz@gnu.org>\n\n\tAllow to use the old key processing code on MS-Windows\n\t* src/w32fns.c (syms_of_w32fns) <w32-use-fallback-wm-chars-method>:\n\tNew variable.\n\t(w32_wnd_proc): Use it to invoke the old code that processed\n\tcharacter keys, as fallback, when this variable is non-nil.\n\tFix typos in comments.  (Bug#19994)\n\n2015-07-31  Ilya Zakharevich  <ilya@math.berkeley.edu>\n\n\tImprove handling of Unicode keyboard input on MS-Windows\n\t* src/w32fns.c (get_wm_chars, deliver_wm_chars): New functions.\n\t(FPRINTF_WM_CHARS) [DEBUG_WM_CHARS]: New macro for debugging.\n\t(w32_wnd_proc): Call deliver_wm_chars to process non-special keys\n\tupon receiving WM_KEYDOWN or WM_SYSKEYDOWN messages.  If that is\n\tsuccessful, don't call TranslateMessage.  (Bug#19994)\n\n2015-07-30  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tFix default-directory in changeset diffs after vc-print-log\n\t* lisp/vc/log-view.el (log-view-diff-common): Move the\n\trevision-granularity check back into log-view-diff-changeset.\n\t(log-view-diff-changeset): Bind default-directory to the current\n\tVC root.\n\n\tRename project-directories to project-roots\n\t* lisp/progmodes/project.el (project-search-path-function)\n\t(project-search-path): Update the docstring.\n\t(project-directories): Rename to `project-roots', update all\n\tcallers and implementations accordingly.\n\t(project-root): Remove.\n\t* lisp/progmodes/xref.el (xref-find-regexp): Use * instead of *.*\n\tas the default file mask.\n\n2015-07-30  Eli Zaretskii  <eliz@gnu.org>\n\n\tSupport long URLs in w32-shell-execute\n\t* src/w32fns.c (Fw32_shell_execute): Don't use filename_to_utf16\n\tand filename_to_ansi to convert the DOCUMENT argument, as it could\n\tbe a URL that is not limited to MAX_PATH characters.  Instead, use\n\tMultiByteToWideChar directly, and allocate heap storage as\n\trequired to accommodate the converted string.  Likewise with\n\tnon-Unicode operation.  Ensure OPERATION is null-terminated, even\n\tif it is longer than 32K bytes.  (Bug#21158)\n\n2015-07-30  Stephen Leake  <stephen_leake@stephe-leake.org>\n\n\t* lisp/vc/vc-mtn.el (vc-mtn-find-revision): Handle null rev.\n\n2015-07-29  Stephen Leake  <stephen_leake@stephe-leake.org>\n\n\tAdd docs for display-buffer action display-buffer-use-some-frame\n\t* lisp/window.el (display-buffer-use-some-frame): Improve doc string.\n\t* doc/lispref/windows.texi (Display Action Functions):\n\tAdd display-buffer-use-some-frame.\n\t* etc/NEWS: Mention display-buffer-use-some-frame.\n\n\tAdd display-buffer action display-buffer-use-some-frame\n\t* lisp/window.el (display-buffer-use-some-frame): New.\n\n\tHandle vc-mtn error more gently\n\t* lisp/vc/vc-mtn.el (vc-mtn-mode-line-string): Return \"\" when\n\tbranch is nil.\n\n2015-07-29  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix Tramp problems with multihops, and nc\n\t* lisp/net/tramp-cache.el (tramp-get-file-property)\n\t(tramp-set-file-property, tramp-flush-file-property)\n\t(tramp-get-connection-property, tramp-set-connection-property)\n\t(tramp-flush-connection-property): Remove hop from vector.\n\t* lisp/net/tramp-gw.el (tramp-gw-process-filter): Ignore errors.\n\t* lisp/net/tramp-sh.el (tramp-methods) <nc>: Separate STDERR.\n\t(tramp-do-copy-or-rename-file-out-of-band): Increase timeout of\n\tnetstat to 60\".\n\t(tramp-sh-handle-start-file-process): Do not show hops in prompt.\n\t* lisp/net/tramp.el (tramp-handle-file-name-as-directory)\n\t(tramp-handle-file-name-directory, tramp-handle-file-remote-p):\n\tKeep hop in result.\n\t* test/automated/tramp-tests.el (tramp-test02-file-name-dissect):\n\tAdd hop tests.\n\n2015-07-29  Eli Zaretskii  <eliz@gnu.org>\n\n\tResurrect highlighting of repeated words by Flyspell Mode\n\t* lisp/textmodes/flyspell.el (flyspell-word): Leave some non-word\n\tcharacters between point and the doublon candidate, so that\n\tflyspell-word-search-backward finds it.  (Bug#21157)\n\n\tFix redisplay of large images on expose events\n\t* src/xdisp.c (expose_window, expose_area): Avoid comparisons\n\tbetween signed negative values and unsigned values.  This\n\tprevented redisplay on expose events when the window showed a very\n\tlarge image.\n\n2015-07-29  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRemove unnecessary stack overflow dependency\n\t* configure.ac (HAVE_STACK_OVERFLOW_HANDLING):\n\tDon't worry about $ac_cv_header_sys_resource_h and\n\t$ac_cv_func_getrlimit, as they're no longer needed for this.\n\tProblem reported by Eli Zaretskii in:\n\thttp://lists.gnu.org/archive/html/emacs-devel/2015-07/msg00443.html\n\n2015-07-28  Andy Moreton  <andrewjmoreton@gmail.com>  (tiny change)\n\n\tPacify compilation -Wincompatible-pointer-types warnings\n\t* src/w32proc.c (Fw32_get_codepage_charset): Avoid compilation\n\twarning.\n\t(CompareStringW_Proc): New typedef.\n\t(w32_compare_strings): Use it, to pacify compiler warnings under\n\t\"-Wincompatible-pointer-types\".\n\t* src/w32fns.c (GetDiskFreeSpaceExW_Proc)\n\t(GetDiskFreeSpaceExA_Proc): New typedefs.\n\t(Ffile_system_info): Use them, to pacify compiler warnings under\n\t\"-Wincompatible-pointer-types\".\n\n2015-07-28  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix subscript error in calculate_direct_scrolling\n\tUse slightly-longer cost vectors.  Without this change,\n\tcalculate_direct_scrolling can have a subscript violation when\n\tFRAME_LINES (frame) <= delta.\n\t* src/scroll.c (calculate_scrolling, calculate_direct_scrolling)\n\t(line_ins_del, do_line_insertion_deletion_costs):\n\tAllocate and use slightly-larger cost vectors, ones based on\n\tFRAME_TOTAL_LINES instead of FRAME_LINES.\n\n\tFix uninitalized value in encode_coding_object\n\t* src/coding.c (encode_coding_object): Also initialize\n\tcoding->src_pos and coding->src_pos_byte when NILP (src_object).\n\tThis avoids later use of uninitialized storage.\n\n2015-07-27  Xue Fuqiao  <xfq.free@gmail.com>\n\n\t* doc/lispref/variables.texi (Variable Aliases): Typo fix.\n\t(Bug#21141)\n\n2015-07-27  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from gnulib\n\tThis incorporates:\n\t2015-07-27 time_rz: port better to MinGW\n\t2015-07-27 time: port __need_time_t to MinGW\n\t* lib/gnulib.mk, m4/gnulib-comp.m4: Regenerate.\n\t* lib/strftime.c, lib/time.in.h, lib/time_rz.c: Copy from gnulib.\n\t* lib/time-internal.h: New file, from gnulib.\n\n2015-07-27  Eli Zaretskii  <eliz@gnu.org>\n\n\tHandle NULL pointers in w32heap.c allocation routines\n\t* src/w32heap.c (FREEABLE_P): Consider a NULL pointer \"not\n\tfreeable\".\n\t(realloc_after_dump, realloc_before_dump, free_before_dump):\n\tHandle NULL pointers gracefully, as Emacs now seems to expect that.\n\n\tFix Cairo build without PNG\n\t* src/image.c: Define PNG function when USE_CAIRO is defined, even\n\tif HAVE_PNG is not.  (Bug#21133)\n\n\tMS-Windows follow-up for recent TZ-related changes\n\t* nt/mingw-cfg.site (ac_cv_header_pthread_h)\n\t(gl_cv_sys_struct_timespec_in_pthread_h): Force to \"no\", to avoid\n\tpicking up 'struct timespec' from pthread.h, if it is installed on\n\tthe user's system.  We want either the definitions from MinGW\n\tsystem headers, if available, or the Gnulib replacements if not.\n\t* nt/inc/ms-w32.h <struct timespec>: Don't define, as we now use\n\tlib/time.h.\n\t* lib/time.in.h: Don't let __need_* symbols affect what happens on\n\tMinGW.  These symbols are defined by MinGW system headers, but we\n\tdon't want that to affect whether Gnulib portions of the header\n\tare or aren't used.\n\n2015-07-26  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* src/ftfont.c (ftfont_close): Add comment re Bug#20890.\n\n\tNew optional ZONE arg for format-time-string etc.\n\tThis simplifies time conversions in other time zones.\n\tIt also prevents display-time-world tampering with TZ (Bug#21020).\n\t* admin/admin.el (add-release-logs):\n\tUse improved add-log-time-format API.\n\t* admin/merge-gnulib (GNULIB_MODULES): Add time_rz, timegm.\n\t(GNULIB_TOOL_FLAGS): Avoid flexmember, setenv, unsetenv.\n\t* configure.ac (tzalloc): Remove test for this, since\n\tEmacs no longer uses HAVE_TZALLOC directly.\n\t* doc/lispref/os.texi (Time of Day, Time Conversion)\n\t(Time Parsing):\n\t* etc/NEWS: Document the new behavior.\n\tMerge from gnulib, incorporating:\n\t2015-07-25 strftime: fix newly-introduced bug on Solaris\n\t2015-07-23 fprintftime, strftime: use timezone_t args\n\t* lib/gnulib.mk, m4/gnulib-comp.m4: Regenerate.\n\t* lib/strftime.c, lib/strftime.h, lib/time.in.h, m4/sys_time_h.m4:\n\t* m4/time_h.m4:\n\tUpdate from gnulib.\n\t* lib/time_rz.c, lib/timegm.c, m4/time_rz.m4, m4/timegm.m4:\n\tNew files from gnulib.\n\t* lisp/time-stamp.el (time-stamp-string):\n\t* lisp/time.el (display-time-world-list)\n\t(display-time-world-display):\n\tUse new API, with time zone arg.\n\t* lisp/time.el (display-time-world-display):\n\tFix race when current-time advances while we're running.\n\t* lisp/vc/add-log.el (add-log-iso8601-time-zone)\n\t(add-log-iso8601-time-string): Accept optional time zone arg.\n\t* lisp/vc/add-log.el (add-change-log-entry):\n\t* lisp/vc/log-edit.el (log-edit-changelog-ours-p): Use new arg.\n\t* nt/gnulib.mk: Propagate lib/gnulib.mk changes here.\n\tAdd rules for the time module, since they're now needed\n\tfor tzalloc etc.\n\t* src/conf_post.h (getenv_TZ, setenv_TZ): New macros.\n\t(emacs_getenv_TZ, emacs_setenv_TZ): New decls.\n\t* src/editfns.c: Include errno.h.\n\t(set_time_zone_rule): Omit unnecessary forward decl.\n\t(initial_tz): Remove, replacing with ...\n\t(local_tz, wall_clock_tz, utc_tz): New static vars and constants.\n\t(tzeqlen): New constant; prefer it to (sizeof \"TZ=\" - 1).\n\t(emacs_localtime_rz, emacs_mktime_z, xtzalloc, xtzfree)\n\t(tzlookup): New static functions.\n\t(init_editfns): New arg DUMPING.  All uses changed.\n\t(init_editfns): Omit most initialization if dumping, not if\n\t!initialized.  Initialize wall_clock_tz and local_tz.\n\t(emacs_nmemftime, format_time_string): Time zone argument can now\n\tbe any time zone, not just a boolean for UTC or local time.  All\n\tcallers changed.\n\t(Fformat_time_string, Fencode_time, Fcurrent_time_string)\n\t(Fcurrent_time_zone): New optional arg ZONE.\n\t(Fdecode_time, Fset_time_zone_rule): ZONE arg can now also take\n\tthe same form as with the other new additions.\n\t(decode_time_zone): Remove; no longer needed.\n\t(tzvalbuf): Now file-scope.\n\t(emacs_getenv_TZ, emacs_setenv_TZ): New functions.\n\t(syms_of_editfns): Define Qwall.\n\t* src/editfns.c (mktime_z) [!HAVE_TZALLOC]:\n\t* src/systime.h (mktime_z, timezone_t, tzalloc, tzfree)\n\t[!HAVE_TZALLOC]:\n\tRemove; now supplied by gnulib.\n\t* src/emacs.c (main):\n\t* src/lisp.h (init_editfns): Adjust to init_editfns API change.\n\n2015-07-26  Shigeru Fukaya  <shigeru.fukaya@gmail.com>\n\n\tFix infinite loop in delete-consecutive-dups\n\t* lisp/subr.el (delete-consecutive-dups): Work even if the last\n\telement is nil (Bug#20588).  Avoid rescan of a circular list in\n\tdeletion of last element.\n\n2015-07-26  Martin Rudalics  <rudalics@gmx.at>\n\n\tHave `x-frame-geometry' return nil for terminal and initial\n\tframes (Bug#21132)\n\t* src/nsfns.m (Fx_frame_geometry):\n\t* src/xfns.c (Fx_frame_geometry): Return nil for initial and\n\tterminal frames.\n\t* src/w32fns.c (Fw32_frame_menu_bar_size, Fw32_frame_rect)\n\t(Fx_frame_geometry): Return nil for terminal frames\n\n2015-07-26  HOSOYA Kei  <hosoyakei.free@gmail.com>  (tiny change)\n\n\t* etc/tutorials/TUTORIAL.ja: Improve translation.\n\n2015-07-25  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid crashes when w32 GUI functions are called in -batch\n\t* src/w32fns.c (Fx_frame_geometry, Fw32_frame_rect)\n\t(Fw32_frame_menu_bar_size, Fw32_send_sys_command): Don't call\n\tFRAME_W32_WINDOW for initial frame.  (Bug#21132)\n\n\tFix flyspell-check-previous-highlighted-word\n\t* lisp/textmodes/flyspell.el\n\t(flyspell-check-previous-highlighted-word): Really accept a\n\tnumeric argument, as the doc string describes.  Fix an off-by-one\n\terror in looking up overlays, so invocation with point immediately\n\tafter a word would check that word.  Clarify the doc string as\n\tSuggested by N. Jackson <nljlistbox2@gmail.com>.  (Bug#21129)\n\n2015-07-24  Michael Albinus  <michael.albinus@gmx.de>\n\n\tMinor cleanup in tramp-tests.el\n\t* test/automated/tramp-tests.el (tramp-test31-*, tramp-test32-*):\n\tImplement using the documented interface\n\t`tramp-connection-properties', rather than with internal functions.\n\n2015-07-24  Harald Hanche-Olsen  <hanche@math.ntnu.no>  (tiny change)\n\n\tPass lambdas to `skeleton-read'\n\t* lisp/skeleton.el (skeleton-read): Allow PROMPT to be a function.\n\t* lisp/textmodes/sgml-mode.el (sgml-attributes, sgml-value): Pass\n\tlambdas to `skeleton-read' (bug#20386).\n\n2015-07-24  Eli Zaretskii  <eliz@gnu.org>\n\n\t* INSTALL (DETAILED BUILDING AND INSTALLATION):\n\tMention --without-imagemagick.\n\n\tDon't require GUI frames and mouse for Flyspell menus\n\t* lisp/textmodes/flyspell.el (flyspell-correct-word-before-point)\n\t(flyspell-emacs-popup): Require neither a GUI frame nor mouse\n\tsupport, since pop-up menus work with text terminals and can be\n\tcontrolled via the keyboard.\n\n\tImprove documentation of Flyspell commands\n\t* doc/emacs/fixit.texi (Spelling): Mention Flyspell commands that\n\tcan be invoked via the keyboard.  Mention those commands by name\n\tand add them to the fn index.  (Bug#21125)\n\n2015-07-23  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix some Tramp problems with HP-UX\n\t* lisp/net/tramp-sh.el (tramp-open-connection-setup-interactive-shell):\n\tAdd \"tab0\" to stty call.\n\t* test/automated/tramp-tests.el (tramp-persistency-file-name):\n\tSet to nil.\n\t(tramp--test-hpux-p): New defun.\n\t(tramp--test-utf8): Use it.\n\n2015-07-22  Glenn Morris  <rgm@gnu.org>\n\n\t* build-aux/update-subdirs: Put \"no-update-autoloads: t\" in output.\n\n2015-07-22  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix point positioning in ffap-next-guess\n\t* lisp/ffap.el (ffap-url-at-point): Set ffap-string-at-point-region,\n\tas our callers expect.  This was clobbered as part of fixing\n\tbug#5673.  (Bug#21107)\n\t(ffap-gopher-at-point): Set ffap-string-at-point-region.\n\n2015-07-22  Martin Rudalics  <rudalics@gmx.at>\n\n\t* lisp/window.el (even-window-sizes): Fix customization type.\n\n\tOptionally even widths of `display-buffer' windows.  (Bug#21100)\n\t* lisp/window.el (quit-restore-window): Restore width if\n\trequested.\n\t(display-buffer-record-window): Record width when window is\n\treused and horizontally combined.\n\t(even-window-sizes): New option to allow evening window widths.\n\t(even-window-heights): Defalias to `even-window-sizes'.\n\t(window--even-window-heights): Rename to\n\t`window--even-window-sizes'.  Handle side-by-side windows.\n\t(display-buffer-use-some-window): Call `window--even-window-sizes'\n\tinstead of `window--even-window-heights'.\n\t* lisp/help.el (resize-temp-buffer-window): Fix indentation.\n\t* doc/lispref/windows.texi (Choosing Window Options): Describe\n\t`even-window-sizes'.\n\t(Coordinates and Windows): Fix typo.\n\n2015-07-22  Stephen Leake  <stephen_leake@stephe-leake.org>\n\n\tAdd file name to autoload error messages\n\t* lisp/emacs-lisp/autoload.el (autoload-save-buffers):\n\tAdd condition-case to add file name to error message.\n\n2015-07-22  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* lisp/net/tramp-sh.el (tramp-ssh-controlmaster-options):\n\tUse 0.0.0.1 as test host.\n\n2015-07-21  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t(advice--called-interactively-skip): Fix inf-loop (bug#21083)\n\t* lisp/emacs-lisp/nadvice.el (advice--called-interactively-skip):\n\tFix inf-loop (bug#21083).\n\n2015-07-21  Glenn Morris  <rgm@gnu.org>\n\n\t* test/automated/package-test.el (package-test-signed):\n\tUpdate for recent changes.\n\n\t* test/automated/elisp-mode-tests.el\n\t(elisp-xref-finds-both-function-and-variable)\n\t(elisp-xref-finds-only-function-for-minor-mode):\n\tUpdate for recent xref name changes.\n\n2015-07-21  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tMake eldoc timer non-repeatable\n\t* lisp/emacs-lisp/eldoc.el (eldoc-schedule-timer): Make the timer\n\tnon-repeatable.  Since it's on post-command hook, that just wasted\n\tCPU cycles.\n\n2015-07-21  Michael Albinus  <michael.albinus@gmx.de>\n\n\tMention `tramp-connection-properties' in NEWS\n\n\tSync with Tramp repository\n\t* doc/misc/tramp.texi (Configuration): Note, that Tramp must be\n\trequired prior changing its configuration.\n\t(Connection caching, Predefined connection information)\n\t(Remote shell setup): Fix typos.\n\t(Predefined connection information): Describe, how to overwrite\n\tparameters of `tramp-methods'.\n\t(Remote programs, Remote processes, Traces and Profiles):\n\tSimplify example.\n\t(Remote programs): Remove superfluous comment.\n\t* doc/misc/trampver.texi: Update release number.\n\t* lisp/net/tramp-cache.el (tramp-connection-properties):\n\tAdapt docstring.\n\t* lisp/net/tramp-gvfs.el (tramp-gvfs-do-copy-or-rename-file): New defun.\n\t(tramp-gvfs-handle-copy-file, tramp-gvfs-handle-rename-file): Use it.\n\t(tramp-gvfs-handle-make-directory): Reimplement PARENTS handling,\n\t\"gvfs-mkdir -p ...\" does not work robust.\n\t(tramp-gvfs-maybe-open-connection):\n\tAdapt `tramp-get-method-parameter' call.\n\t* lisp/net/tramp-sh.el (tramp-methods):\n\tAdd `tramp-remote-shell-login' parameter where it fits.\n\t(tramp-get-remote-path): Use it.\n\t(tramp-make-copy-program-file-name): Fix quoting for \"psftp\" method.\n\t(all): Adapt `tramp-get-method-parameter' calls.\n\t* lisp/net/tramp.el (tramp-methods): Adapt docstring.\n\t(tramp-get-method-parameter): Replace argument METHOD by VEC.\n\tCheck also for hits in `tramp-connection-properties'.  Adapt docstring.\n\t(tramp-get-remote-tmpdir): Cache only the local name of tmpdir.\n\t(all): Adapt `tramp-get-method-parameter' calls.\n\t* lisp/net/trampver.el: Update release number.\n\t* test/automated/tramp-tests.el (tramp--instrument-test-case):\n\tAdd \"^make-symbolic-link not supported$\" to `debug-ignored-errors'.\n\t(tramp-test13-make-directory, tramp--test-adb-p)\n\t(tramp--test-smb-or-windows-nt-p): Simplify.\n\t(tramp--test-ftp-p, tramp--test-gvfs-p): New defuns.\n\t(tramp--test-special-characters): Fix docstring.  Add gvfs and\n\tftp tests.\n\t(tramp--test-utf8): Fix docstring.\n\n2015-07-20  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tAdd new xref-query-replace command\n\t* lisp/progmodes/xref.el (xref--match-buffer-bounds):\n\tNew function, extracted from xref-pulse-momentarily.\n\t(xref-query-replace): New command.\n\t(xref--query-replace-1): New helper function.\n\t(xref--xref-buffer-mode-map): Add `r' binding.\n\n2015-07-20  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSimplify icalendar decoding of Z dates\n\t* lisp/calendar/icalendar.el (icalendar--decode-isodatetime):\n\tSimplify calculation of time strings with trailing \"Z\".\n\n2015-07-19  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tDo not corrupt grep-find-ignored-files\n\t* lisp/progmodes/project.el (project-ignores): Change the order of\n\tthe arguments to nconc, in order not to corrupt grep-find-ignored-files.\n\n\tAdd xref-match-item, and use it\n\t* lisp/progmodes/xref.el (xref-match-bounds): New generic function.\n\t(xref-file-location): Add reader for the column slot.\n\t(xref-match-item): New class.\n\t(xref-match-bounds): A method implementation for it.\n\t(xref-make-match): New constructor function.\n\t(xref--current-item): New private variable.\n\t(xref-pulse-momentarily): Use it.\n\t(xref--pop-to-location): Change the first argument to an xref\n\titem, instead of location, bind xref--current-item.\n\tUpdate all callers.\n\t(xref-next-line, xref-prev-line, xref--next-error-function)\n\t(xref--mouse-2): Look for the property `xref-item',\n\tinstead of `xref-location'.\n\t(xref--item-at-point): Likewise.  This function replaces\n\t`xref-location-at-point'.  Update all callers.\n\t(xref--insert-xrefs): Add the `xref-item' text property, instead\n\tof `xref-location'.\n\t(xref--collect-match): Use xref-make-match.\n\n\t* lisp/progmodes/xref.el (xref-item): Rename from `xref--xref'.\n\tUpdate all references.\n\n\t* lisp/progmodes/xref.el (xref--xref): Rename the `description'\n\tslot to `summary'.\n\n\tvc-hg: Perform the print-log call asynchronously\n\t* lisp/vc/vc-hg.el (vc-hg-print-log): Perform the call\n\tasynchronously (bug#21067).\n\n\tAdd xref-after-jump-hook and xref-after-return-hook\n\t* lisp/progmodes/xref.el (xref-after-jump-hook)\n\t(xref-after-return-hook): New hooks.\n\t(xref-pulse-on-jump): Remove, in favor of the above.\n\t(xref-pulse-momentarily): Rename from xref--maybe-pulse.\n\t(xref--pop-to-location, xref--display-position)\n\t(xref-pop-marker-stack): Use the new hooks, as requested in\n\thttp://lists.gnu.org/archive/html/emacs-devel/2015-07/msg00213.html\n\n2015-07-19  Bozhidar Batsov  <bozhidar@batsov.com>\n\n\t* lisp/progmodes/js.el (js-mode): Correct the lighter.\n\n2015-07-19  Leo Liu  <sdl.web@gmail.com>\n\n\tFix a bug in cfengine3-mode\n\t* lisp/progmodes/cfengine.el (cfengine3-mode): Handle nil\n\teldoc-documentation-function.\n\n2015-07-18  Julien Danjou  <julien@danjou.info>\n\n\tsieve-mode: support \"body\" test command\n\t* lisp/gnus/sieve-mode.el (sieve-font-lock-keywords):\n\tAdd missing \"body\" test command.\n\n2015-07-18  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix info-apropos when the default encoding is Latin-N\n\t* lisp/info.el (Info-find-node-2): Reset the buffer's encoding to\n\t'undecided', so that it is set to the encoding of the Info file we\n\tare about to insert.  Otherwise, 'info-apropos' will fail to find\n\tsome index nodes in some UTF-8 encoded files, if the buffer's\n\tprevious encoding is Latin-N or some such.\n\n2015-07-18  Ivan Andrus  <darthandrus@gmail.com>\n\n\t* lisp/epg.el (epg--start): Check that gpgconf can be found\n\tbefore calling it.\n\n\tExpose more file types to OS X that Emacs understands\n\t* nextstep/Cocoa/Emacs.base/Contents/Info.plist: Add editor role for\n\tsty, dtx, json, and org files.  Export UTIs for el, elc, and org files.\n\n2015-07-18  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix visual-order cursor movement when lines are truncated\n\t* src/xdisp.c (Fmove_point_visually): When lines are truncated,\n\tsimulate display in a window of infinite width, to allow move_it_*\n\tfunctions reach positions outside of normal window dimensions.\n\tRemove code that tried to handle a subset of these situations by\n\tmanual iteration of buffer text.  (Bug#17777)\n\n\tFix following Info cross-references to anchors\n\t* lisp/info.el (Info-read-subfile): Add to the returned value the\n\tlength of subfile preamble, after converting it to file's byte\n\toffset, as expected by the caller.  Use bufferpos-to-filepos.\n\t(Info-find-node-2): If searching for a node with a\n\t1000-character slop fails, try again with a 10000-character slop,\n\tto account for known bugs in Texinfo 5.0 and 5.1.  (Bug#21055)\n\t* lisp/international/mule-util.el (bufferpos-to-filepos): New\n\tfunction.\n\t* etc/NEWS: Mention bufferpos-to-filepos.\n\n\tFix scrolling backwards on TTY frames under scroll-conservatively\n\t* src/xdisp.c (move_it_vertically_backward): Fix off-by-one error\n\tin moving backwards on TTY frames.  (Bug#21080)\n\n2015-07-17  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tConsider a jsdoc tag to be a beginning of a paragraph as well\n\t* lisp/progmodes/js.el (js-mode): Change c-paragraph-start to\n\tconsider a jsdoc tag to be a beginning of a paragraph as well.\n\n2015-07-17  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el: Fix warnings.\n\n\t* lisp/emacs-lisp/package.el (package-buffer-info):\n\tAdd author and maintainers to `package-buffer-info'.\n\n\t* lisp/emacs-lisp/package.el: Many small changes.\n\tReplace all instances of 'face with 'font-lock-face.\n\t(describe-package-1): Improve some strings and move the summary\n\tup the list.\n\t(package-install-file): Update docstring.\n\t(package-menu-hide-package): Bind to `H'.\n\n\t* lisp/emacs-lisp/package.el (package--with-work-buffer-async):\n\tFix error handling.\n\n2015-07-17  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix hang with large yanks This should fix the bug fixed by Mike\n\tCrowe's patch in:\n\thttps://lists.gnu.org/archive/html/emacs-devel/2015-07/msg00106.html\n\tA problem in this area has been reported by several users; see\n\tBug#16737, Bug#17101, Bug#17026, Bug#17172, Bug#19320, Bug#20283.\n\tThis fix differs from Mike Crowe's patch in that it should avoid a\n\trace condition that could lose SIGIO signals.  ignore_sigio dates\n\tback to the 1980s when some platforms couldn't block signals, and\n\tcould only ignore them, which led to races when signals arrived\n\twhile being ignored.  We shouldn't have to worry about those old\n\tplatforms now.\n\t* src/dispextern.h, src/sysdep.c (ignore_sigio): Remove.\n\t* src/emacs.c (shut_down_emacs):\n\tDon't call ignore_sigio; unrequest_sigio should suffice.\n\t* src/keyboard.c (kbd_buffer_store_buffered_event):\n\tUse unrequest_sigio, not ignore_sigio.\n\t(kbd_buffer_get_event):\n\tCall request_sigio when getting the ball rolling again.\n\n2015-07-17  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/obsolete/longlines.el (longlines-search-function):\n\tFallback on `isearch-search-fun-default'.\n\n2015-07-17  Tassilo Horn  <tsdh@gnu.org>\n\n\tSupport @-mentions\n\t* lisp/net/rcirc.el (rcirc-completion-at-point): Support completion\n\tof mentions/messages with @nick instead of just nick.\n\n2015-07-16  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix bug#20943\n\t* lisp/autorevert.el (auto-revert-handler): Do not check for\n\t`buffer-modified-p'.\n\t* lisp/files.el (buffer-stale--default-function): Check for\n\t`buffer-modified-p'.\n\t* test/automated/auto-revert-tests.el\n\t(auto-revert-test02-auto-revert-mode-dired): Adapt test.\n\n2015-07-16  Ari Roponen  <ari.roponen@gmail.com>\n\n\tFix delete-dups bug on long lists\n\t* lisp/subr.el (delete-dups):\n\tDon't mistakenly keep some dups when applied to long lists.\n\n2015-07-16  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tBetter heuristic for C stack overflow\n\tImprove the heuristic for distinguishing stack overflows from\n\tother SIGSEGV causes (Bug#21004).  Corinna Vinschen explained that\n\tthe getrlimit method wasn't portable to Cygwin; see:\n\thttps://www.cygwin.com/ml/cygwin/2015-07/msg00092.html\n\tCorinna suggested pthread_getattr_np but this also has problems.\n\tInstead, replace the low-level system stuff with a simple\n\theuristic based on known good stack addresses.\n\t* src/eval.c, src/lisp.h (near_C_stack_top): New function.\n\t* src/sysdep.c: Don't include <sys/resource.h>.\n\t(stack_direction): Remove.  All uses removed.\n\t(stack_overflow): New function.\n\t(handle_sigsegv): Use it instead of incorrect getrlimit heuristic.\n\tMake SEGV fatal in non-main threads.\n\n2015-07-16  Daiki Ueno  <ueno@gnu.org>\n\n\tepg: Automatically start pinentry server\n\t* lisp/epg-config.el (epg-gpgconf-program): New variable.\n\t* lisp/epg.el (epg--start): Call `pinentry-start' if\n\tallow-emacs-pinentry is set in ~/.gnupg/gpg-agent.conf.\n\n2015-07-15  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\t* lisp/gnus/nnimap.el: Fix my last bogus change.\n\tReinstall Stefan Monnier's change that was made in\n\t<83d824bc4041332f338ad7e5e830f443535aa300>.\n\n2015-07-15  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from gnulib\n\tThis incorporates:\n\t2015-07-05 acl-permissions: Document FreeBSD ACL_TYPE_NFS4 acls\n\t2015-07-05 acl-permissions: Fix on FreeBSD\n\t2015-07-05 file-has-acl, acl-permissions: fix some more HP-UX typos\n\t* lib/acl-internal.c, lib/acl-internal.h, lib/get-permissions.c:\n\t* lib/set-permissions.c: Copy from gnulib.\n\n\tPort to stricter C99\n\t* src/keyboard.h (kbd_buffer_store_event_hold):\n\tDon't return a void expression.\n\n2015-07-15  Xue Fuqiao  <xfq.free@gmail.com>\n\n\t* doc/emacs/frames.texi (Creating Frames):\n\tFix the command `C-x 5 m' runs.\n\n2015-07-14  Michael Albinus  <michael.albinus@gmx.de>\n\n\tNew autorevert tests\n\t* test/automated/auto-revert-tests.el: New file.\n\n2015-07-14  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tClear gcprolist etc. after stack overflow\n\tAfter stack overflow, command_loop calls init_eval, and this needs to\n\tclear gcprolist and byte_stack_list (Bug#20996).\n\t* src/alloc.c (init_alloc):\n\tMove gcprolist and byte_stack_list initialization from here ...\n\t* src/eval.c (init_eval): ... to here.\n\n2015-07-13  Xue Fuqiao  <xfq.free@gmail.com>\n\n\t* doc/emacs/windows.texi (Pop Up Window): Fix the description\n\tof `C-x 4 m'.\n\n2015-07-13  YAMAMOTO Mitsuharu  <mituharu@math.s.chiba-u.ac.jp>\n\n\tAvoid deprecated enums in mac-ct font backend driver\n\t* src/macfont.m (mac_font_copy_default_descriptors_for_language)\n\t(mac_ctfont_get_advance_width_for_glyph)\n\t(mac_ctfont_get_bounding_rect_for_glyph): Avoid deprecated enums.\n\n\tCache font family in mac-ct font backend driver\n\t* src/macfont.m (macfont_family_cache): New variable.\n\t(syms_of_macfont): Initialize it.\n\t(macfont_available_families_cache): New variable.\n\t(macfont_invalidate_family_cache, macfont_get_family_cache_if_present)\n\t(macfont_set_family_cache, macfont_invalidate_available_families_cache)\n\t(macfont_handle_font_change_notification)\n\t(macfont_init_font_change_handler)\n\t(macfont_copy_available_families_cache): New functions.\n\t(macfont_create_family_with_symbol): Use font family caches.\n\t(macfont_list, macfont_list_family):\n\tUse macfont_copy_available_families_cache instead of\n\tmac_font_create_available_families.\n\n2015-07-12  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tShow the default value in the prompt\n\t* lisp/progmodes/xref.el: Add `M-?' binding for\n\txref-find-references.  Declare functions `grep-read-files' and\n\t`grep-expand-template'.\n\t(xref--read-identifier): Show the default value in the prompt.\n\n\t* lisp/progmodes/xref.el (xref-find-regexp): When called with\n\tprefix argument, ask for file patterns to search as well.  When\n\tprompting for the directory, require an existing one.\n\t(xref-collect-matches): Add a new argument, FILES.  Use it in the\n\tabove function.\n\n\tAdd `project-ignores'\n\t* lisp/progmodes/project.el (project-ignores): New generic\n\tfunction, and an implementation for the VC project type.\n\t* lisp/progmodes/xref.el (xref--rgrep-command): Split, as a\n\tvariant of rgrep-default-command that handles a generic list of\n\tignores.\n\t(xref-collect-matches): Use it, and pass through to it the value\n\tof the newly added argument.\n\t(xref-find-regexp): Handle ignored paths within the project.\n\tRemove outdated comment.\n\t* lisp/vc/vc.el (vc-default-ignore-completion-table):\n\tSkip the comments and the empty lines.\n\n2015-07-12  Xue Fuqiao  <xfq.free@gmail.com>\n\n\t* doc/emacs/buffers.texi (Misc Buffer): Add a cross reference.\n\n2015-07-11  Eric Abrahamsen  <eric@ericabrahamsen.net>\n\n\tgnus-registry.el: Correct function argument order\n\t* lisp/gnus/gnus-registry.el (gnus-registry--set/remove-mark):\n\tReverse the order of function arguments.\n\n2015-07-11  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tBind grep-highlight-matches to nil\n\t* lisp/progmodes/xref.el (xref-collect-matches):\n\tBind grep-highlight-matches to nil (bug#20728).\n\n2015-07-11  Nikolaus Rath  <Nikolaus@rath.org>\n\n\tnnimap.el: Fix IMAP message size parsing\n\t* lisp/gnus/nnimap.el (nnimap-transform-headers):\n\tDon't assume that UID comes before RFC822.SIZE.\n\n2015-07-10  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/gnus/nnimap.el: Clean up \"unused var\" warnings\n\t(auth-source-creation-prompts): Declare.\n\t(nnimap-retrieve-headers, nnimap-status-message)\n\t(nnimap-request-create-group, nnimap-request-delete-group)\n\t(nnimap-close-group, nnimap-request-move-article)\n\t(nnimap-request-accept-article, nnimap-request-newgroups)\n\t(nnimap-request-post, nnimap-dummy-active-number)\n\t(nnimap-save-mail-spec, nnimap-get-groups): Add _ to unused vars.\n\t(nnimap-parse-flags): Remove unused var `p'.\n\t(nnimap-retrieve-group-data-early): Remove unused var `groups'.\n\t(nnimap-flags-to-marks): Remove unused var `totalp'.\n\n2015-07-10  Andy Moreton  <andrewjmoreton@gmail.com>  (tiny change)\n\n\t* src/w32heap.c (DUMPED_HEAP_SIZE): Bump to 20MB.\n\n2015-07-10  YAMAMOTO Mitsuharu  <mituharu@math.s.chiba-u.ac.jp>\n\n\t* src/macfont.m (macfont_list): Ignore font families lacking\n\tfont descriptors.\n\n2015-07-09  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tDon't check the exit status, it can be misleading\n\t* lisp/progmodes/xref.el (xref-collect-matches): Don't check the\n\texit status, it can be misleading.\n\n\tIntroduce a Project API\n\t* lisp/progmodes/project.el: New file.\n\t* lisp/cedet/ede.el (project-try-ede): New function.\n\t(project-root): New implementation.\n\t* lisp/progmodes/elisp-mode.el (emacs-lisp-mode):\n\tSet project-search-path-function.\n\t(elisp--xref-find-references): Delegate some logic to\n\tproject-search-path.\n\t(elisp-search-path): New function.\n\t(elisp-xref-find): Don't implement `matches' anymore.\n\t* lisp/progmodes/etags.el: Don't implement `matches'.\n\tDelegate some logic to project-search-path.\n\t(etags-search-path): New function.\n\t* lisp/progmodes/xref.el (xref-find-function):\n\tRemove `matches' from the API.\n\t(xref-find-regexp): Move whatever common logic was in elisp and\n\tetags implementations, and search the directories returned by\n\tproject-directories and project-search-path.\n\n2015-07-09  Nicolas Petton  <nicolas@petton.fr>\n\n\t* test/automated/map-tests.el (test-map-delete-return-value):\n\tUncomment test.\n\n\tAdd support for gv.el in map.el\n\t* lisp/emacs-lisp/map.el (map-elt, map-delete): Declare a gv-expander.\n\t* lisp/emacs-lisp/map.el (map-put): Refactor using `setf' and `map-elt'.\n\t* test/automated/map-tests.el: Update tests to work with the new\n\timplementations of map-elt and map-put.\n\n2015-07-09  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/emacs-lisp/debug.el (debug-help-follow): Use describe-symbol.\n\n2015-07-09  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tSyntax-propertize until the end of the line first\n\t* lisp/progmodes/xref.el (xref--collect-match): Syntax-propertize\n\tuntil the end of the line first.\n\n2015-07-09  Xue Fuqiao  <xfq.free@gmail.com>\n\n\t* doc/emacs/files.texi (File Archives): Add a cross reference.\n\n2015-07-08  Nikolaus Rath  <Nikolaus@rath.org>\n\n\tnnimap.el: Handle plain value for nnimap-stream\n\t* lisp/gnus/nnimap.el (nnimap-open-connection-1): Always query\n\tcapabilities, so that a 'plain value for the `nnimap-stream' server\n\tvariable is handled correctly.\n\t* doc/misc/gnus.texi (Customizing the IMAP Connection):\n\tDocument the 'plain option.\n\n2015-07-08  Leo Liu  <sdl.web@gmail.com>\n\n\tFix bug in thing-at-point--bounds-of-well-formed-url\n\t* lisp/thingatpt.el (thing-at-point--bounds-of-well-formed-url): Make\n\tsure boundary contains current point.\n\n2015-07-08  Dmitry Gutov  <dgutov@yandex.ru>\n\n\t* lisp/progmodes/xref.el (xref-collect-matches): Use `nreverse'\n\tin the end.\n\n\tDeclare whitespace-line-column a safe file-local\n\t* lisp/whitespace.el (whitespace-line-column): Declare to be a\n\tsafe file-local when the value is an integer.\n\n2015-07-08  Eric Abrahamsen  <eric@ericabrahamsen.net>\n\n\tgnus-group.el: Check if group names are already strings\n\t* lisp/gnus/gnus-group.el (gnus-group-group-name):\n\tThe group name may already be a string.\n\tSpecifically, in the group list reached from the *Server* buffer,\n\tthe 'gnus-group text property returns a string.  Everywhere else\n\tit returns a symbol.\n\n\tnnimap.el: Remove unused let variables\n\t* lisp/gnus/nnimap.el (nnimap-request-group): Variables are not used.\n\n2015-07-08  Eli Zaretskii  <eliz@gnu.org>\n\n\tSupport \"maximized\" property of runemacs's shortcut\n\t* nt/runemacs.c (WinMain): If runemacs is invoked \"maximized\", pass\n\tthe '--maximized' switch to Emacs.\n\n\tSupport \"minimized\" property of runemacs's shortcut\n\t* nt/runemacs.c (WinMain): If runemacs is invoked \"minimized\",\n\tpass the '--iconic' switch to Emacs.  (Bug#20991)\n\n2015-07-08  Xue Fuqiao  <xfq.free@gmail.com>\n\n\tDoc fixes\n\t* doc/emacs/files.texi (Diff Mode): Fix the description of `C-c\n\tC-w' in Diff mode.\n\t* doc/emacs/arevert-xtra.texi (Auto Reverting the Buffer Menu):\n\tAdd a cross reference.\n\n2015-07-08  Nicolas Richard  <youngfrog@members.fsf.org>\n\n\t* lisp/obsolete/landmark.el: Add Obsolete-since header.\n\n2015-07-07  Glenn Morris  <rgm@gnu.org>\n\n\t* test/automated/ert-tests.el (ert-test-deftest):\n\tUpdate for recent changes.\n\n2015-07-07  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t(gv-setter, gv-synthetic-place, gv-delay-error): New funs/macros\n\t* lisp/emacs-lisp/gv.el (gv-setter): New function.\n\t(gv-invalid-place): New error.\n\t(gv-get): Use them.\n\t(gv-synthetic-place, gv-delay-error): New places.\n\t* lisp/emacs-lisp/cl-generic.el (cl--generic-setf-rewrite): Remove.\n\t(cl-defgeneric, cl-defmethod): Use gv-setter.\n\n2015-07-07  Fabrice Popineau  <fabrice.popineau@gmail.com>\n\n\tMake vc-tests work with MSYS svn program\n\t* lisp/vc/vc-svn.el (vc-svn-create-repo): Fix the file:// URL when\n\tsvn is an MSYS program.\n\n2015-07-07  Ken Brown  <kbrown@cornell.edu>\n\n\tImprove recent change to emacsclient on Cygwin\n\t* lisp/server.el (server-process-filter): Remove redundant check\n\tthat 'cygwin-convert-file-name-from-windows' is defined as a\n\tfunction on Cygwin.  Don't call that function unless its argument\n\tstarts with a drive letter.\n\n2015-07-07  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el (package-compute-transaction):\n\tFix void variable due to `found-something' being in the wrong `let'.\n\n2015-07-07  Nicolas Richard  <theonewiththeevillook@yahoo.fr>\n\n\t* lisp/play/landmark.el: Move to lisp/obsolete/.\n\n2015-07-07  Martin Rudalics  <rudalics@gmx.at>\n\n\tHave `x-show-tip' handle `right' and `bottom' frame parameters\n\t* src/nsfns.m (compute_tip_xy, Fx_show_tip)\n\t* src/w32fns.c (compute_tip_xy, Fx_show_tip)\n\t* src/xfns.c (compute_tip_xy, Fx_show_tip): Allow aligning\n\ttooltips also via `right' and `bottom' frame parameters.\n\n2015-07-07  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tAdd online-help support to describe types\n\t* lisp/help-fns.el (describe-symbol-backends): Move to help-mode.el.\n\t(describe-symbol): Improve the selection of default.\n\t* lisp/help-mode.el: Require cl-lib.\n\t(describe-symbol-backends): Move from help-fns.el.\n\t(help-make-xrefs): Use it.\n\t* lisp/emacs-lisp/cl-extra.el (describe-symbol-backends): Add entry\n\tfor types.\n\t(cl--typedef-regexp): New const.\n\t(find-function-regexp-alist): Add entry for types.\n\t(cl-help-type, cl-type-definition): New buttons.\n\t(cl-find-class): New function.\n\t(cl-describe-type): New command.\n\t(cl--describe-class, cl--describe-class-slot)\n\t(cl--describe-class-slots): New functions, moved from eieio-opt.el.\n\t* lisp/emacs-lisp/cl-generic.el (cl--generic-method-documentation)\n\t(cl--generic-all-functions, cl--generic-specializers-apply-to-type-p):\n\tNew functions.  Moved from eieio-opt.el.\n\t(cl--generic-class-parents): New function, extracted from\n\tcl--generic-struct-specializers.\n\t(cl--generic-struct-specializers): Use it.\n\t* lisp/emacs-lisp/cl-macs.el (cl-defstruct): Use pcase-dolist.\n\tImprove constructor's docstrings.\n\t(cl-struct-unknown-slot): New error.\n\t(cl-struct-slot-offset): Use it.\n\t* lisp/emacs-lisp/cl-preloaded.el (cl-struct-define): Record the type\n\tdefinition in current-load-list.\n\t* lisp/emacs-lisp/eieio-core.el (eieio--known-slot-names): New var.\n\t(eieio--add-new-slot): Set it.\n\t(eieio-defclass-internal): Use new name for current-load-list.\n\t(eieio-oref): Add compiler-macro to warn about unknown slots.\n\t* lisp/emacs-lisp/eieio.el (defclass): Update eieio--known-slot-names\n\tas compile-time as well.  Improve constructor docstrings.\n\t* lisp/emacs-lisp/eieio-opt.el (eieio-help-class)\n\t(eieio--help-print-slot, eieio-help-class-slots): Move to cl-extra.el.\n\t(eieio-class-def): Remove button.\n\t(eieio-help-constructor): Use new name for load-history element.\n\t(eieio--specializers-apply-to-class-p, eieio-all-generic-functions)\n\t(eieio-method-documentation): Move to cl-generic.el.\n\t(eieio-display-method-list): Use new names.\n\t* lisp/emacs-lisp/lisp-mode.el (lisp-imenu-generic-expression):\n\tAdd \"define-linline\".\n\t(lisp-fdefs): Remove \"defsubst\".\n\t(el-fdefs): Add \"defsubst\", \"cl-defsubst\", and \"define-linline\".\n\t* lisp/emacs-lisp/macroexp.el (macroexp--warned): New var.\n\t(macroexp--warn-and-return): Use it to avoid inf-loops.\n\tAdd `compile-only' argument.\n\n2015-07-06  Fabi\u00e1n Ezequiel Gallina  <fgallina@gnu.org>\n\n\tpython.el: Fix local/remote shell environment setup\n\t* lisp/progmodes/python.el (python-shell-with-environment):\n\tFix remote/local environment setup.\n\t* test/automated/python-tests.el (python-shell-with-environment-1)\n\t(python-shell-with-environment-2): New tests.\n\n2015-07-06  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/simple.el (set-variable): Tweak recent doc fix.\n\n2015-07-06  Ken Brown  <kbrown@cornell.edu>\n\n\t* src/sysdep.c (handle_sigsegv) [CYGWIN]: Increase STACK_DANGER_ZONE.\n\n2015-07-06  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/simple.el (set-variable): Use user-error for type mismatch.\n\n2015-07-06  Ken Brown  <kbrown@cornell.edu>\n\n\t* src/emacs.c (main): Don't increase the stack size on Cygwin.\n\n2015-07-06  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t(describe-symbol): Rewrite describe-function-or-variable\n\t* lisp/help-fns.el (describe-symbol-backends): New var.\n\t(help-xref-stack-item): Declare.\n\t(describe-symbol): Rename from describe-function-or-variable.\n\tRewrite using describe-symbol-backends instead of help-xref-interned.\n\t* lisp/help.el (help-map): Use it.\n\t* lisp/help-mode.el (help-symbol, help-follow-symbol): Use it.\n\t(help-xref-interned): Make it into an obsolete alias.\n\n\t* lisp/emacs-lisp/eieio-base.el (eieio-persistent-save): Don't ignore\n\t`file' arg (bug#20972).  Always use utf-8-emacs.  Use with-temp-buffer\n\tand cl-letf.\n\n2015-07-06  Wolfgang Jenkner  <wjenkner@inode.at>\n\n\tFix parsing glitches in dired-mark-sexp (bug#13575)\n\t* lisp/dired-x.el (dired-x--string-to-number): New function.\n\t(dired-mark-sexp): Use it.  Tweak dired-re-inode-size.  Fix usage\n\tof directory-listing-before-filename-regexp.  Consider\n\tforward-word harmful and replace it.  Add more verbiage in\n\tcomments and doc string.\n\n2015-07-06  Fabi\u00e1n Ezequiel Gallina  <fgallina@gnu.org>\n\n\tpython.el: Respect process environment for remote shells\n\t* lisp/progmodes/python.el\n\t(python-shell-calculate-process-environment): Calculate\n\tprocess-environment or tramp-remote-process-environment depending\n\twhether current file is remote.\n\t(python-shell-calculate-exec-path): Calculate exec-path or\n\ttramp-remote-path depending whether current file is remote.\n\t(python-shell-with-environment): New macro.\n\t(python-shell-prompt-detect, python-shell-calculate-command)\n\t(python-shell-make-comint, python-check): Use it.\n\n\tpython.el: Avoid making let-bound defvars buffer local  (Bug#18244)\n\t* lisp/progmodes/python.el (python-shell--interpreter)\n\t(python-shell--interpreter-args): New vars.\n\t(inferior-python-mode, python-shell-make-comint): Use them.\n\n\tpython.el: Fixes for IPython 3.x  (Bug#20580)\n\t* lisp/progmodes/python.el:\n\t(python-shell-completion-native-setup): Fix IPython 3.x setup.\n\t(python-shell-completion-native-get-completions): Fix timeout\n\tlogic.\n\n\tpython.el: Fix mark-defun behavior  (Bug#19665)\n\t* lisp/progmodes/python.el (python-mark-defun): New function.\n\t* test/automated/python-tests.el (python-mark-defun-1)\n\t(python-mark-defun-2, python-mark-defun-3): New tests.\n\n2015-07-05  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/progmodes/f90.el (f90-type-def-re): Handle attribute lists\n\tsuch as \"extends(parent), private\".  (Bug#20969)\n\t* test/automated/f90.el (f90-test-bug20969, f90-test-bug20969b):\n\tNew tests.\n\n2015-07-05  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tAvoid duplicate calls to current_timespec\n\t* src/process.c (wait_reading_process_output):\n\tCache current_timespec results as long as we're not waiting.\n\n2015-07-05  Ian Kelling  <ian@iankelling.org>\n\n\tAvoid returning early reading process output due to SIGIO\n\t* src/process.c (wait_reading_process_output): Extend the behavior of\n\tnot breaking due to not finding output when a timer has lowered the\n\ttimeout to include when SIGIO lowers the timeout.\n\n\tDon't return as fast reading any process output\n\t* src/process.c (wait_reading_process_output):\n\tThe patch for Bug#17647 returns too fast sometimes when reading\n\tfrom any processes.  Revert part of it, and limit the timeout more\n\tsensibly (Bug#20978).\n\n\tRefactor timeouts in wait_reading_process_output\n\t* src/process.c (wait_reading_process_output):\n\tSimplify timeouts with an enum.  Remove a redundant condition.\n\t(Bug#20978)\n\n\tRemove ADAPTIVE_READ_BUFFERING ifdef\n\t* src/process.c (make-process, make-pipe-process, deactivate_process)\n\t(wait_reading_process_output, read_process_output, send_process)\n\t(init_process_emacs): ifdef ADAPTIVE_READ_BUFFERING was originally\n\tadded in case there was an operating system in which it was not\n\tuseful.  That was 11 years ago and it hasn't happened.  Make\n\tdevelopment easier by not considering the effect of changes on a\n\ttheoretical OS where this is disabled (Bug#20978).\n\n2015-07-05  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/simple.el (set-variable): Doc fix.\n\n\t* lisp/progmodes/fortran.el (fortran-line-length): Doc fix.\n\n2015-07-05  Ian Kelling  <ian@iankelling.org>\n\n\taccept-process-output fix\n\tThis is a followon to the fix for bug#17647 (Bug#20976).\n\t* src/process.c (status_notify): Fix too high return in some cases.\n\n2015-07-05  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/character-fold.el (character-fold-table):\n\tOnly fold decompositions if at least one character is non-spacing.\n\t(Bug#20975)\n\n2015-07-05  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from gnulib\n\tThis incorporates:\n\t2015-07-04 file-has-acl, acl-permissions: fix HP-UX typos\n\t2015-07-03 set-permissions.c: adjust acl_from_mode's cpp guard\n\t2015-07-02 update-copyright: fix test failure with perl >= 5.22\n\t2015-07-01 gnulib-common.m4: change the ARFLAGS default to 'cr'\n\t2015-07-01 acl: fix definition of acl_from_mode on FreeBSD\n\t* build-aux/update-copyright, doc/misc/texinfo.tex, lib/acl-internal.h:\n\t* lib/set-permissions.c, m4/gnulib-common.m4: Copy from gnulib.\n\n2015-07-05  Christoph Wedler  <christoph.wedler@sap.com>\n\n\tRespect `prog-indentation-context' in python.el\n\t* lisp/progmodes/python.el (python-indent-guess-indent-offset)\n\t(python-indent-context, python-indent--calculate-indentation)\n\t(python-info-current-defun)\n\t(python-info-dedenter-opening-block-message)\n\t(python-info-line-ends-backslash-p)\n\t(python-info-beginning-of-backslash)\n\t(python-info-continuation-line-p): Use `prog-widen'.\n\t(python-indent--calculate-indentation)\n\t(python-indent--calculate-levels)\n\t(python-indent-calculate-indentation): Use `prog-first-column'.\n\t(python-indent--calculate-levels): Simplify.\n\tIgnore also initial empty lines for syntax calculation.\n\t* lisp/progmodes/python.el (python-indent-context): Return\n\t:no-indent for first non-empty line, not just in line 1.\n\t* test/automated/python-tests.el (python-indent-base-case)\n\t(python-indent-inside-paren-1, python-indent-inside-paren-2)\n\t(python-indent-inside-paren-3, python-indent-inside-paren-4)\n\t(python-indent-inside-paren-5, python-indent-inside-paren-6)\n\t(python-indent-after-backslash-1)\n\t(python-indent-after-backslash-2)\n\t(python-indent-after-backslash-3)\n\t(python-indent-after-backslash-4, python-indent-inside-string-1):\n\tExpect :no-indent for first non-empty line.\n\n2015-07-04  Daniel Colascione  <dancol@dancol.org>\n\n\tFactor isearch word description into new function\n\t* lisp/isearch.el (isearch--describe-word-mode): New function.\n\t(isearch-message-prefix, isearch-query-replace): Use it.\n\n2015-07-04  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix mouse pointer on w32 when a menu is active\n\t* src/w32fns.c (w32_wnd_proc): Don't change the mouse pointer\n\tshape while a menu is in use.  This started happening since we now\n\tsend WM_EMACS_SHOWCURSOR messages when the mouse moves.\n\n2015-07-04  Martin Rudalics  <rudalics@gmx.at>\n\n\tFix processing of alpha parameter for Windows tip frames  (Bug#17344)\n\t* src/w32fns.c (x_create_tip_frame): Fix processing alpha\n\tparameter.  (Bug#17344)\n\n\tHave `compilation-set-window' use right window for getting fringes\n\t(Bug#20829)\n\t* lisp/progmodes/compile.el (compilation-set-window):\n\tTake `window-fringes' from argument window.\n\n2015-07-03  Glenn Morris  <rgm@gnu.org>\n\n\tUpdate eieio tests for recent eieio-core change.\n\t* test/automated/eieio-test-persist.el (persist-test-save-and-compare):\n\t* test/automated/eieio-tests.el\n\t(eieio-test-32-slot-attribute-override-2):\n\tReplace the deleted eieio--class-v with cl--find-class.\n\n2015-07-03  Martin Rudalics  <rudalics@gmx.at>\n\n\tFix some issues with `window-divider-mode'\n\t* lisp/frame.el (window-divider-default-places): New option.\n\t(window-divider-mode): Remove option.\n\t(window-divider-mode): Make it a \"regular\" minor mode.\n\t(window-divider-width-valid-p): Drop frame- prefix.\n\t(window-divider-mode-apply): New argument ENABLE.  Drop frame-\n\tprefix.  Handle `window-divider-default-places'.\n\t(frame--window-divider-mode-set-and-apply): Remove.\n\t(window-divider-default-bottom-width)\n\t(window-divider-default-right-width): Drop :group entries.\n\t* lisp/menu-bar.el (menu-bar-bottom-and-right-window-divider)\n\t(menu-bar-right-window-divider, menu-bar-bottom-window-divider)\n\t(menu-bar-no-window-divider): Set `window-divider-default-places'\n\tand call `window-divider-mode'.\n\t* doc/emacs/frames.texi (Window Dividers): Document\n\t`window-divider-default-places'.\n\n2015-07-02  Xue Fuqiao  <xfq.free@gmail.com>\n\n\t* doc/emacs/display.texi (Displaying Boundaries):\n\t* doc/emacs/search.texi (Word Search): Add cross references.\n\n2015-07-02  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t-batch should not affect \u2018\u2019 -> `' display\n\t* lisp/startup.el (command-line): Do the \u2018\u2019 -> `' check even if\n\t-batch (Bug#20926).\n\n2015-07-02  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/eieio-core.el (eieio--class-v): Remove\n\t* lisp/emacs-lisp/eieio-core.el, lisp/emacs-lisp/eieio.el:\n\t* lisp/emacs-lisp/eieio-opt.el, lisp/emacs-lisp/eieio-compat.el:\n\tUse cl--find-class instead.\n\n\t* lisp/term/xterm.el (xterm--query): Fix paren typo (bug#20951).\n\n2015-07-02  Martin Rudalics  <rudalics@gmx.at>\n\n\tSome further fixes in Change Window node (Bug#20183)\n\t* doc/emacs/windows.texi (Change Window): Replace \"rearranging\"\n\tby \"resizing\" in section title.  Add some concept indices.\n\tSuggested by N. Jackson (Bug#20183).\n\n\t* doc/emacs/windows.texi (Change Window): Reference window\n\tdividers.\n\n\tDocument new `window-divider-mode'.\n\t* lisp/frame.el (window-divider-mode): Fix doc-string.\n\t* doc/emacs/frames.texi (Window Dividers): New section.\n\n\tImprove accessibility of window dividers (Bug#20183)\n\t* lisp/faces.el (window-divider)\n\t(window-divider-first-pixel, window-divider-last-pixel): Change\n\tmembership from `frames' to `window-divider' customization group.\n\t* lisp/frame.el (window-divider): New customization group.\n\t(window-divider-mode): New minor mode.\n\t(window-divider-default-bottom-width)\n\t(window-divider-default-right-width): New options.\n\t(frame--window-divider-previous-mode): New variable.\n\t(frame-window-divider-width-valid-p)\n\t(frame--window-divider-mode-apply)\n\t(frame--window-divider-mode-set-and-apply): New functions.\n\t* lisp/menu-bar.el (menu-bar-options-save): Save\n\twindow-divider-mode settings.\n\t(menu-bar-window-divider-customize)\n\t(menu-bar-bottom-and-right-window-divider)\n\t(menu-bar-right-window-divider, menu-bar-bottom-window-divider)\n\t(menu-bar-no-window-divider): New functions.\n\t(menu-bar-showhide-window-divider-menu): New variable.\n\t(menu-bar-showhide-menu): Show/hide window divider menu.\n\t* lisp/mouse.el (mouse-split-window-vertically)\n\t(mouse-split-window-horizontally): Replace `error' by\n\t`user-error'.  Bind `window-combination-resize' to nil.\n\t(top-level): Add/reorder mouse key bindings on mode- and\n\tvertical-line.\n\n2015-07-02  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDon't display \u2018\u2019 as `' under X in en_GB\n\tThe curved quote setup code invokes (char-displayable-p ?\u2018),\n\tbut this isn\u2019t reliable until after the X frame replaces the\n\tterminal frame (Bug#20926).\n\t* lisp/international/mule-cmds.el (set-locale-environment):\n\tMove curved quote setup code from here ...\n\t* lisp/startup.el (command-line): ... to here, after creating\n\tthe X frame.\n\n2015-07-01  Nicolas Richard  <youngfrog@members.fsf.org>\n\n\t* lisp/emacs-lisp/seq.el (seq-difference): Fix typo in docstring.\n\n\t* lisp/ido.el (ido-restrict-to-matches): Add an optional argument\n\tto reverse the meaning (Bug#15631).\n\n2015-07-01  Eli Zaretskii  <eliz@gnu.org>\n\n\tBe more tolerant to fonts named \"Foobar-12\"\n\t* src/frame.c (x_set_font): If font_spec_from_name returns nil,\n\tdon't barf; instead, request a new fontset to be generated.  This\n\tavoids unnecessarily rejecting fonts named against XLFD rules.  See\n\thttp://lists.gnu.org/archive/html/help-emacs-windows/2015-06/msg00001.html,\n\tfor the description of the original problem.\n\t* lisp/faces.el (set-face-attribute): Don't be fooled too easily\n\tby a hyphen in a font's name.\n\n\tFix value of posn-at-pont in R2L lines\n\t* src/keyboard.c (Fposn_at_x_y, Fposn_at_point): Allow X pixel\n\tcoordinate of -1, for a newline in a right-to-left line that\n\toverflowed into the left fringe.\n\n2015-07-01  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t(cl--copy-slot-descriptor): Copy the `props' alist as well\n\t* lisp/emacs-lisp/cl-preloaded.el (cl--copy-slot-descriptor-1):\n\tRename from cl--copy-slot-descriptor.\n\t(cl--copy-slot-descriptor): New function.  Copy the alist (bug#20914).\n\n2015-06-30  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/term/xterm.el (xterm--query): Avoid generating garbage\n\t(xterm-query-timeout): New var.\n\t(xterm--query): Use it.  Fallback on async method if we timeout before\n\tgetting the first byte of the reply (bug#12354).\n\n2015-06-30  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSpelling fixes\n\t* lisp/character-fold.el (character-fold-search):\n\t* lisp/emacs-lisp/package.el (package-hidden-regexps):\n\tFix typos.\n\n2015-06-30  Xue Fuqiao  <xfq.free@gmail.com>\n\n\t* doc/emacs/frames.texi (Frame Commands): Typo fix.  (Bug#20946)\n\n2015-06-30  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tIn strings, prefer plain ` and ' to \\` and \\'\n\t* lisp/allout.el (allout-insert-listified):\n\t* lisp/emacs-lisp/easy-mmode.el (define-globalized-minor-mode):\n\t* lisp/ls-lisp.el (ls-lisp-UCA-like-collation)\n\t(ls-lisp-string-lessp):\n\t* lisp/menu-bar.el (menu-bar-open):\n\t* lisp/obsolete/otodo-mode.el (todo-top-priorities):\n\t* lisp/progmodes/compile.el (compile):\n\t* lisp/progmodes/etags.el (tags-loop-scan):\n\t* lisp/progmodes/make-mode.el (makefile-browser-insert-continuation):\n\t* lisp/subr.el (posn-actual-col-row):\n\t* lisp/term/pc-win.el (x-list-fonts):\n\t* lisp/textmodes/texinfmt.el (texinfmt-version):\n\t* lisp/textmodes/texnfo-upd.el (texinfo-master-menu):\n\t* lisp/time.el (display-time-world-list):\n\t* lisp/tmm.el (tmm-menubar):\n\t* src/buffer.c (syms_of_buffer):\n\t* src/fileio.c (syms_of_fileio):\n\tOmit unnecessary and confusing backslash before quote.\n\t* lisp/erc/erc.el (erc-cmd-LASTLOG):\n\t* lisp/progmodes/flymake.el (flymake-fix-file-name):\n\t* lisp/progmodes/vhdl-mode.el (vhdl-in-extended-identifier-p):\n\tFix string that was intended to escape a backslash and not a quote.\n\n2015-06-30  Glenn Morris  <rgm@gnu.org>\n\n\t* leim/Makefile.in, lisp/Makefile.in: Add missing EXEEXT definition.\n\n\t* lisp/Makefile.in (MH_E_SRC, TRAMP_SRC, CAL_SRC):\n\tReplace hard-coded lists with wildcard + filter-out.\n\n\t* configure.ac (system-configuration-features): Add X11, NS.\n\n\tImprove reproducibility of generated loaddefs file\n\t* lisp/emacs-lisp/autoload.el (autoload-generate-file-autoloads):\n\tMake the return value the modtime of the input file (if no autoloads).\n\t(update-directory-autoloads): In the \"no autoloads\" section,\n\tuse \"most recent modtime\" rather than \"current time\".\n\n2015-06-30  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el (package--remove-hidden): Fix logic.\n\t(Bug#20930)\n\n2015-06-30  Nicolas Petton  <nicolas@petton.fr>\n\n\t* doc/lispref/sequences.texi: Add documentation for seq-min and seq-max.\n\n\tAdd seq-min and seq-max\n\tBump version number.\n\t* lisp/emacs-lisp/seq.el (seq-min, seq-max): New functions.\n\t* test/automated/seq-tests.el: Add tests for seq-min and seq-max.\n\n2015-06-30  Eli Zaretskii  <eliz@gnu.org>\n\n\tMake sure sleep-for always delays for as long as it's told\n\t* src/dispnew.c (Fsleep_for): Call wait_reading_process_output in\n\ta loop, to ensure we always wait exactly the required amount of\n\ttime.  (Bug#15990)\n\n2015-06-30  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix pointer signedness glitch\n\t* src/font.c (font_load_for_lface): Use SSDATA, not SDATA.\n\n2015-06-30  Eli Zaretskii  <eliz@gnu.org>\n\n\tDon't block changes in mouse pointer inside 'track-mouse'\n\t* etc/NEWS:\n\t* doc/lispref/frames.texi (Mouse Tracking): Document the special\n\teffect of setting 'track-mouse' to 'dragging'.\n\t* lisp/textmodes/artist.el (artist-mouse-draw-continously):\n\t* lisp/ruler-mode.el (ruler-mode-mouse-drag-any-column-iteration):\n\t* lisp/mouse-drag.el (mouse-drag-throw):\n\t* lisp/mouse.el (mouse-drag-line): Set 'track-mouse' to 'dragging'\n\tto avoid changes in the shape of the mouse pointer.\n\t* src/xdisp.c (define_frame_cursor1): Don't change the mouse\n\tpointer shape when do_mouse_tracking has the value of 'dragging',\n\tnot just any non-nil value.  (Bug#20934)\n\t(syms_of_xdisp): DEFSYM 'dragging'.\n\n2015-06-30  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/isearch.el (isearch-toggle-word): Fix toggle.\n\n\t* lisp/emacs-lisp/package.el (package-compute-transaction):\n\tDon't assume version sorting.\n\n\t* lisp/emacs-lisp/package.el (package--save-selected-packages):\n\tDon't save before init time, to avoid overwriting configurations.\n\t(Bug#20855)\n\n2015-06-30  Xue Fuqiao  <xfq.free@gmail.com>\n\n\t* doc/emacs/display.texi (Standard Faces, Fringes): Add cross\n\treferences.\n\n2015-06-29  Ted Zlatanov  <tzz@lifelogs.com>\n\n\tUpdate for the upcoming CFEngine 3.7 release: support macros and\n\tquoted context strings; reformat JSON; indent promise attributes 2\n\tunits by default; give function parameter descriptions in the eldoc\n\tglue.\n\t* lisp/progmodes/cfengine.el: Update version and docs and fix name.\n\tAutoload `json-pretty-print'.  Support new features in 3.7.\n\t(cfengine-parameters-indent): Set default promise attribute indent to\n\t2 more than the promise itself.\n\t(cfengine3-macro-regex): New variable to match the new macro syntax.\n\t(cfengine3-font-lock-keywords): Use it to highlight macros.\n\t(cfengine3-indent-line): Use it to indent macros to column 0.\n\t(cfengine3-class-selector-regex): Update for the new quoted strings\n\tformat.\n\t(cfengine3-reformat-json-string): New function to reformat a JSON\n\tstring using `json-pretty-print'.\n\t(cfengine3-format-function-docstring): Use function parameter\n\tdescription if it's provided by the cf-promises syntax dump.\n\n2015-06-29  Michael R. Mauger  <michael@mauger.com>\n\n\tCygwin emacsclient handles w32 file names\n\t* lisp/server.el (server-process-filter): Allow Cygwin's\n\temacsclient to be used as a file handler on MS-Windows.\n\n2015-06-29  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\t* lisp/isearch.el (isearch-exit): Don't call isearch-done twice\n\t(bug#20925).\n\n2015-06-29  Eli Zaretskii  <eliz@gnu.org>\n\n\t* doc/lispref/text.texi (Sticky Properties): Improve wording.\n\t(Bug#20924)\n\n\tAllow font names that end in \"-NN\", where NN is a number\n\t* src/font.c (font_load_for_lface): If the font-spec didn't match\n\tany available fonts, try again without interpreting trailing \"-NN\"\n\tas the font size.  For the description of the original problem, see\n\thttp://lists.gnu.org/archive/html/help-emacs-windows/2015-06/msg00001.html\n\n\t.gdbinit followup to changes in !USE_LSB_TAG\n\t* src/.gdbinit (xgetsym): Don't left-shift $ptr even under\n\t!USE_LSB_TAG, as Emacs no longer does.\n\n2015-06-29  Wolfgang Jenkner  <wjenkner@inode.at>\n\n\t* lisp/calc-store.el (calc-insert-permanent-variable): Heed case.\n\tOtherwise `s p' of f and F will stomp on each other's value.\n\t(Bug#20916)\n\n2015-06-29  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/tabulated-list.el (tabulated-list-print):\n\tDon't block remember-pos if buffer isn't displayed.  (Bug#20921)\n\n2015-06-29  Nicolas Richard  <theonewiththeevillook@yahoo.fr>\n\n\t* lisp/emacs-lisp/package.el (describe-package): Use symbol-at-point\n\tas additional guess.\n\n\t* lisp/emacs-lisp/package.el (describe-package): Convert the guess\n\tto a string.\n\n2015-06-28  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tapropos-library quoting fix\n\t* lisp/apropos.el (apropos-library): Quote library consistently\n\twith the rest of the quoting used by apropos.\n\n\tClarify interpreter-mode-alist doc\n\t* lisp/files.el (interpreter-mode-alist):\n\tReword to avoid confusing quoting that wasn't working anyway.\n\n2015-06-28  Michael Albinus  <michael.albinus@gmx.de>\n\n\tSync with Tramp 2.2.12\n\t* doc/misc/trampver.texi:\n\t* lisp/net/trampver.el: Update release number.\n\t* test/automated/tramp-tests.el (tramp-test13-make-directory):\n\tFix cleanup.\n\n2015-06-28  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/isearch.el (isearch-mode): Don't char-fold regexps (bug#20913).\n\n2015-06-27  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tBind grep-highlight-matches around the rgrep call\n\t* lisp/progmodes/grep.el (zrgrep): Bind grep-highlight-matches\n\taround the rgrep call (bug#20728).\n\n\tPut \"--color\" before the other options in grep-command\n\t* lisp/progmodes/grep.el (grep-compute-defaults): Put \"--color\"\n\tbefore the other options in grep-command (bug#20912).\n\n\tAdd --color Grep option to the command dynamically\n\t* lisp/progmodes/grep.el (grep-template, grep-find-template):\n\tUpdate the description for <C>.  (Bug#20728)\n\t(grep-compute-defaults): Don't add the --color option to\n\tgrep-options.  Only add it to grep-command.\n\t(grep-expand-keywords): Expand the env value opts into <C>.\n\t(grep-expand-template): Replace cf in the env with the opts list,\n\tthat can include -i and --color.\n\t* lisp/progmodes/xref.el (xref-collect-matches): Do not remove\n\t\"--color=always\" from the template, because we don't have to.\n\n2015-06-27  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tcl-extra fixes for most-negative-fixnum\n\t* lisp/emacs-lisp/cl-extra.el (cl-gcd, cl-lcm, cl-random):\n\tDon't mishandle an argument equal to most-negative-fixnum,\n\twhose absolute value equals itself.\n\t(cl-gcd, cl-lcm): Use dolist rather than doing it by hand.\n\n\tInitialize cl--gensym-counter to 0\n\tPreviously it was initialized to a random value, which made it\n\tharder to reproduce earlier Emacs runs.  The need for a random\n\tvalue went away when Emacs introduced and used the #: syntax for\n\tuninterned symbols (Bug#20862).\n\t* doc/misc/cl.texi (Creating Symbols, Common Lisp Compatibility):\n\tDocument that cl--gensym-counter now starts with 0.\n\t* lisp/emacs-lisp/cl-lib.el (cl--gensym-counter): Remove.\n\t(cl--random-time): Move to near only remaining use.\n\t* lisp/emacs-lisp/cl-macs.el (cl--gensym-counter): Initialize to 0.\n\n\tImprove docstring for macroexp-let2\n\t* lisp/emacs-lisp/macroexp.el (macroexp-let2):\n\tImprove as per suggestion by RMS in:\n\thttp://lists.gnu.org/archive/html/emacs-devel/2015-06/msg00621.html\n\tAlso, rename args to match new doc string.\n\n2015-06-27  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix VC test suite on MS-Windows\n\t* lisp/vc/vc-svn.el (vc-svn-create-repo): Make sure the file: URL\n\talways starts with 3 slashes after the colon.\n\t* test/automated/vc-tests.el (vc-test--create-repo-function): Use\n\t'w32-application-type' to invoke CVS on MS-Windows with properly\n\tformatted CVSROOT directory name.\n\n\tAdd a new function w32-application-type\n\t* src/w32proc.c (Fw32_application_type): New function.\n\n\tAvoid error in TLS connections due to incorrect format\n\t* src/gnutls.c (Fgnutls_boot): Use the %x conversion specifier in\n\tthe call to 'error', instead of the unsupported %u.  Reported by\n\tlo2net <fangtao0901@gmail.com>.  (Bug#20908)\n\n2015-06-26  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/replace.el (replace-search): Fix regexp case (bug#20901).\n\n2015-06-26  Leo Liu  <sdl.web@gmail.com>\n\n\t* lisp/emacs-lisp/cl-indent.el: Fix indentation for\n\t`with-output-to-string' in elisp.\n\n\tRevert \"lisp/emacs-lisp/cl-indent.el: Fix indent of\n\twith-output-to-string\".\n\tThis reverts commit 659199f2ca5f283fb246faa78a244e5ca25f53dd.\n\n2015-06-26  Eli Zaretskii  <eliz@gnu.org>\n\n\tMinor corrections in ELisp manual\n\t* doc/lispref/nonascii.texi (Character Properties): Correct\n\tinaccuracies in description of values of the Unicode properties.\n\n\tFix invisible mouse pointers on Windows.\n\t* src/w32fns.c: Include windowsx.h.\n\t(w32_wnd_proc): If the mouse moved and the mouse pointer is\n\tinvisible, make it visible again even when the main (Lisp)\n\tthread is busy.\n\t* src/w32term.c (w32_toggle_invisible_pointer): Rather then\n\tgarbaging the frame have the input thread call SetCursor.\n\n2015-06-26  Martin Rudalics  <rudalics@gmx.at>\n\n\tProvide invisible mouse pointers on Windows (Bug#6105) (Bug#12922)\n\t* src/w32fns.c (w32_wnd_proc): Handle f->pointer_invisible\n\tfor WM_SETCURSOR and WM_EMACS_SETCURSOR cases.\n\t* src/w32term.c (w32_hide_hourglass): Handle f->pointer_invisible.\n\t(w32_toggle_invisible_pointer): New function.\n\t(w32_create_terminal): Add w32_toggle_invisible_pointer as\n\ttoggle_invisible_pointer_hook for this terminal.\n\n2015-06-25  Xue Fuqiao  <xfq.free@gmail.com>\n\n\tDoc fix for deletion commands\n\t'delete-char' does not respect the value of 'delete-active-region'.\n\t* doc/emacs/killing.texi (Deletion):\n\tFix documentation for some single-char deletion commands.\n\n\t* doc/emacs/help.texi (Apropos):\n\tImprove documentation of 'apropos-do-all'.\n\n\t* doc/emacs/help.texi (Help Summary):\n\tImprove documentation of 'describe-mode'.\n\n2015-06-25  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix submake dependency bug with .h files\n\t* src/Makefile.in ($(libsrc)/make-docfile$(EXEEXT)):\n\tDepend on $(lib)/libgnu.a, so that we build $(lib)/*/*.h\n\tbefore the submake in $(libsrc) would spin off a subsubmake\n\tfor $(lib) in parallel with our submake for $(lib) (Bug#20894).\n\n2015-06-25  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/character-fold.el (character-fold-table): Reuse `table'.\n\n2015-06-25  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tTranslate undisplayable \u2018 to `\n\t* doc/lispref/help.texi (Keys in Documentation):\n\t* lisp/international/mule-cmds.el (set-locale-environment):\n\t* lisp/term/w32console.el (terminal-init-w32console):\n\t* src/doc.c (Fsubstitute_command_keys, Vhelp_quote_translation):\n\tIf \u2018 is not displayable, transliterate it to `, not to '.  See:\n\thttp://lists.gnu.org/archive/html/emacs-devel/2015-06/msg00542.html\n\n\tFix C99 incompatibilities in Cairo code\n\t* src/image.c (xpm_load) [USE_CAIRO]:\n\t* src/xterm.c (x_cr_accumulate_data) [USE_CAIRO]:\n\tFix pointer signedness problem.\n\n2015-06-25  Oleh Krehel  <ohwoeowho@gmail.com>\n\n\tlisp/emacs-lisp/cl-indent.el: Fix indent of with-output-to-string\n\t* lisp/emacs-lisp/cl-indent.el (common-lisp-indent-function):\n\t`with-output-to-string' should have the same indent as `progn'.\n\tThis is in line with the declaration of `with-output-to-string'.\n\n2015-06-25  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tGet \u2018./configure; make -C src emacs\u2019 to work\n\tWithout this fix, lib/fcntl.h isn't built in time (Bug#20894).\n\t* lib-src/Makefile.in (../lib/libgnu.a):\n\t* src/Makefile.in ($(lib)/libgnu.a): Build all, not libgnu.a.\n\n2015-06-24  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix GC bugs --with-wide-int and Qnil == 0\n\tUse the same alignment for the !USE_LSB_TAG case as for the\n\tmore-typical USE_LSB_TAG case.  The attempt to support arbitrary\n\talignments with !USE_LSB_TAG had subtle bugs in garbage collection\n\tonce we changed the representation of symbols so that Qnil == 0.\n\tProblem reported by Eli Zaretskii (Bug#20862).\n\t* src/alloc.c (XMALLOC_HEADER_ALIGNMENT) [XMALLOC_OVERRUN_CHECK]:\n\t* src/alloc.c (vector_alignment, union aligned_Lisp_Symbol)\n\t(union aligned_Lisp_Misc, maybe_lisp_pointer, pure_alloc):\n\tUse same alignment for !USE_LSB_TAG as for USE_LSB_TAG.\n\t* src/alloc.c (POINTERS_MIGHT_HIDE_IN_OBJECTS): Remove.\n\tThis optimization in the !USE_LSB_TAG case is no longer valid when\n\tsymbols are represented via offsets.  Change the only use to\n\tassume that pointers might hide in objects.\n\t* src/lisp.h (alignas) [!USE_LSB_TAG]:\n\tRequire support in this case, too.\n\t(TAG_SYMOFFSET, XSYMBOL) [!USE_LSB_TAG]: Do not shift the offset.\n\tThis is OK, because the !USE_LSB_TAG case now applies only when\n\tLisp_Object is wider than void *, so there's no longer any need\n\tto shift the offset.  Not shifting the offset means that\n\tsymbol representations have the same alignment as pointers,\n\twhich the GC assumes.\n\n2015-06-24  Xue Fuqiao  <xfq.free@gmail.com>\n\n\t* doc/lispintro/emacs-lisp-intro.texi (Data types):\n\tImprove documentation of 'substring'.\n\n2015-06-24  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/character-fold.el (character-fold-table): Fix table generation.\n\n2015-06-24  Glenn Morris  <rgm@gnu.org>\n\n\t* nextstep/Makefile.in (all): Make it the first target.\n\t(../src/emacs${EXEEXT}): Add rule for making it.\n\n2015-06-24  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* etc/NEWS: Fix mention to old function name.\n\n\t* lisp/character-fold.el: New file (Bug#20887)\n\t(character-fold-to-regexp): New function.\n\t* lisp/replace.el (replace-search): Check value of\n\t`character-fold-search'.\n\t* lisp/isearch.el: Move character-folding code to\n\tcharacter-fold.el\n\t(isearch-toggle-character-fold): New command.\n\t(isearch-mode-map): Bind it to \"\\M-sf\".\n\t(isearch-mode): Check value of `character-fold-search'.\n\n2015-06-24  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tlisp/subr.el (remove-from-invisibility-spec): Handle the t case\n\t* lisp/subr.el (remove-from-invisibility-spec): Make sure `element'\n\tis visible even if it's not yet in buffer-invisibility-spec (bug#20468).\n\n\t* lisp/progmodes/xref.el (xref-location-group, xref-location-marker)\n\t(xref--insert-xrefs, xref-collect-references): Avoid init-args in oref.\n\n2015-06-24  Glenn Morris  <rgm@gnu.org>\n\n\t* Makefile.in (install-arch-dep): Don't set sticky bit on the binary.\n\n2015-06-24  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tlisp/gnus/nnmaildir.el: Silence lexical warnings\n\t* lisp/gnus/nnmaildir.el (nnmaildir--prepare): Use a more\n\tfunctional style.\n\t(nnmaildir--update-nov): Remove unused var `numdir'.\n\t(nnmaildir-request-type, nnmaildir--scan, nnmaildir-request-newgroups)\n\t(nnmaildir-request-group, nnmaildir-request-create-group)\n\t(nnmaildir-request-post, nnmaildir-request-move-article)\n\t(nnmaildir-request-accept-article, nnmaildir-active-number):\n\tMark unused args.\n\t(nnmaildir-get-new-mail, nnmaildir-group-alist)\n\t(nnmaildir-active-file): Declare.\n\t(nnmaildir-request-scan): Remove unused vars `group' and `grp-dir'.\n\t(nnmaildir-request-update-info): Remove unused vars `dotfile', `num',\n\t`mark', `end', `new-mark', and `mark-sym'.\n\t(nnmaildir-retrieve-headers): Remove unused args `srv-dir', `dir',\n\t`nlist2'.\n\t(nnmaildir-request-expire-articles):\n\tRemove unused vars `article', `stop' and `nlist2'.\n\t(nnmaildir-request-set-mark): Remove unused vars `begin', `article' and\n\t`end'.  Use nnmaildir--article when dyn-binding is needed.\n\tGive the value directly in the `let' for `del-mark', `del-action',\n\t`add-action', and `set-action'.  Don't use `add-to-list' on a local var.\n\t(nnmaildir-close-server): Declare those local vars that need to be\n\tdyn-bound.\n\n2015-06-24  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* src/keyboard.h (kbd_buffer_store_event_hold): Remove unused local.\n\n\tPort selection info fix to clang\n\t* src/keyboard.h (kbd_buffer_store_event_hold):\n\tDon't assume C11 semantics for alignof (Bug#20756).\n\n\tFix bug that munged selection info\n\tOn some optimizing C compilers, copying a structure did not\n\tcopy the padding bytes between elements, and the type punning\n\tbetween struct input_data and struct selection_input_data did\n\tnot work.  Change the C code to use a proper union type instead.\n\tProblem reported by YAMAMOTO Mitsuharu (Bug#20756).\n\t* src/keyboard.c (kbd_buffer, kbd_fetch_ptr, kbd_store_ptr)\n\t(readable_events, discard_mouse_events, kbd_buffer_events_waiting)\n\t(kbd_buffer_get_event, process_special_events, stuff_buffered_input)\n\t(mark_kboards):\n\tUse union buffered_input_event, not struct input_event.\n\t(clear_event, deliver_input_available_signal, process_special_events):\n\tRemove unnecessary forward decls.\n\t(kbd_buffer_store_buffered_event): New function, mostly just the\n\told kbd_buffer_store_event_hold, except its argument is of type\n\tunion buffered_input_event, not struct input_event.\n\t(kbd_buffer_unget_event): Define only if HAVE_X11, since it's\n\tnot needed otherwise.  Argument is now of type\n\tstruct selection_input_event *, not struct input_event *.\n\tAll callers changed.\n\t(clear_event): Arg is now of type union buffered_input_event *,\n\tnot struct input_event *.  All callers changed.\n\t* src/keyboard.h [HAVE_X11]: Include \"xterm.h\".\n\t(union buffered_input_event): New type.\n\t(kbd_buffer_store_event_hold): Now an inline function,\n\tdefined here.\n\t* src/termhooks.h (EVENT_KIND_WIDTH): New constant.\n\t(struct input_event): Use it.\n\t* src/xselect.c (struct selection_event_queue):\n\tMake elements be of type struct selection_input_event,\n\tnot struct input_event.\n\t(selection_input_event_equal): New static function.\n\t(x_queue_event): Use it.\n\t(x_queue_event, x_decline_selection_request)\n\t(x_selection_current_request, x_reply_selection_request)\n\t(x_handle_selection_request, x_handle_selection_clear)\n\t(x_handle_selection_event): Use struct selection_input_event,\n\tnot struct input_event.  All callers changed.\n\t(x_convert_selection): Omit unused first arg.  All callers changed.\n\t(Fx_disown_selection_internal): Omit unnecessary union.\n\t* src/xterm.c (handle_one_xevent): Use new union buffered_input_event\n\trather than rolling our own equivalent.  Prefer sie.kind when\n\tsetting up that kind of structure.\n\tCall kbd_buffer_store_buffered_event, not kbd_buffer_store_event_hold.\n\t* src/xterm.h (struct selection_input_event: Use EVENT_KIND_WIDTH.\n\t(SELECTION_EVENT_DISPLAY, SELECTION_EVENT_DPYINFO)\n\t(SELECTION_EVENT_REQUESTOR, SELECTION_EVENT_SELECTION)\n\t(SELECTION_EVENT_TARGET, SELECTION_EVENT_PROPERTY)\n\t(SELECTION_EVENT_TIME, x_handle_selection_event):\n\tArg is now of type struct selection_input_event *)\n\tnot struct input_event *.  All callers changed.\n\n2015-06-23  Glenn Morris  <rgm@gnu.org>\n\n\t* Makefile.in (install-arch-dep): Simplify with Make conditionals.\n\n2015-06-23  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/isearch.el: Fold many unicode characters to ASCII.\n\t(isearch-character-fold-search, isearch--character-fold-extras)\n\t(isearch--character-fold-table): New variable.\n\t(isearch--character-folded-regexp): New function.\n\t(isearch-search-fun-default): Use them.\n\t* lisp/replace.el (replace-character-fold): New variable.\n\t(replace-search): Use it.\n\t* etc/NEWS: Document it.\n\n2015-06-23  Glenn Morris  <rgm@gnu.org>\n\n\tCheck for an input event before showing a dialog box.  (Bug#20813)\n\t* lisp/subr.el (y-or-n-p):\n\t* src/fns.c (Fyes_or_no_p): Check last-input-event as well\n\tas last-nonmenu-event.\n\n2015-06-23  J\u00fcrgen Hartmann  <juergen_hartman_@hotmail.com>  (tiny change)\n\n\tRespect \u2018switch-to-visible-buffer\u2019 more rigidly.  (Bug#20861)\n\t* lisp/window.el (switch-to-visible-buffer): Doc adjustment.\n\t(switch-to-prev-buffer, switch-to-next-buffer): Respect\n\tswitch-to-visible-buffer independent of the windows history.\n\n2015-06-23  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* src/keyboard.c (last_timer_event): Remove unused var.\n\n2015-06-23  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* test/automated/package-test.el (package-test-update-listing):\n\tFix test.\n\n2015-06-23  Glenn Morris  <rgm@gnu.org>\n\n\tRevert 2014-06-25 nextstep/Makefile change.\n\t* nextstep/Makefile.in (${ns_appbindir}): Remove rule.\n\t(${ns_appbindir}/Emacs, links): Create ns_appbindir in the rule,\n\tnot as an order-only prerequisite.\n\n\t* configure.ac (--with-ns): Enable by default on OS X.\n\n2015-06-23  Leo Liu  <sdl.web@gmail.com>\n\n\tFix shell-for/backward-command to exclude spaces\n\t* lisp/shell.el (shell-forward-command, shell-backward-command):\n\t  Handle the 'move case from re-search-forward/backward.\n\t  fixes debbugs:20873\n\n2015-06-22  Juri Linkov  <juri@linkov.net>\n\n\t* lisp/replace.el (query-replace-read-from): Add separator to\n\tthe local binding of text-property-default-nonsticky.  (Bug#20690)\n\n\t* lisp/simple.el (shell-command-on-region): Replace 'error' with 'user-error'.\n\t(Bug#20785)\n\n2015-06-22  Ken Brown  <kbrown@cornell.edu>\n\n\tEnable CPU profiling on Cygwin\n\t* src/syssignal.h [CYGWIN] (PROFILER_CPU_SUPPORT): Revert previous\n\tchange that undefined this.\n\t(SIGEV_SIGNAL): Ensure that this is defined as a macro.\n\t* src/profiler.c [CYGWIN] (timer_getoverrun): Define as a macro on\n\t  Cygwin.\n\n\tImprove diagnostics of profiler-cpu-start\n\t* src/profiler.c (setup_cpu_timer): Change return type to 'int';\n\treturn -1 if the sampling interval is invalid.\n\t(Fprofiler_cpu_start): Improve error message if 'setup_cpu_timer'\n\tfails.  (Bug#20843)\n\n2015-06-22  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el: Exclude packages by name.\n\t(package-hidden-regexps): New variable.\n\t(package-menu--refresh): Use it.\n\t(package-menu-hide-package): New command.\n\n\t* lisp/emacs-lisp/package.el: Rename hide-obsolete to toggle-hiding.\n\n2015-06-22  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix debug-timer-check on systems without HAVE_TIMERFD\n\t* src/atimer.c (Fdebug_timer_check) [!HAVE_TIMERFD]: Actively run\n\tthe expired timers, since wait_reading_process_output doesn't.\n\t(debug_timer_callback): Enlarge the tolerance to 20 msec.\n\n\tFix RCS crashes in vc-test\n\t* lisp/vc/vc-rcs.el (vc-rcs-register): Avoid crashes with some old\n\tports of 'ci' on MS-Windows by always passing the -t- switch.\n\n2015-06-22  Glenn Morris  <rgm@gnu.org>\n\n\t* doc/emacs/package.texi (Packages):\n\t* doc/emacs/trouble.texi (Known Problems): Remove faq cross-references.\n\n\t* doc/misc/efaq-w32.texi (Downloading): Copyedits.  (Bug#20851)\n\n2015-06-22  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort tests to help-quote-translation\n\t* test/automated/ert-x-tests.el (ert-test-describe-test):\n\t* test/automated/package-test.el (package-test-describe-package)\n\t(package-test-signed): Allow straight quotes, too.\n\n2015-06-22  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tMake find-function-on-key use the current window\n\t* lisp/emacs-lisp/find-func.el (find-function-on-key-do-it):\n\tExtract from `find-function-on-key', add a second argument.\n\t(find-function-on-key): Use it (bug#19679).\n\t(find-function-on-key-other-window)\n\t(find-function-on-key-other-frame): New commands.\n\n2015-06-21  Nicolas Petton  <nicolas@petton.fr>\n\n\tRevert \"Define `map-elt' as a generalized variable\"\n\tThis reverts commit 8b6d82d3ca86f76ed964063b3941a7c6ab0bf1c6.\n\n2015-06-21  Ken Brown  <kbrown@cornell.edu>\n\n\tDrop support for CPU profiling on Cygwin\n\t* src/syssignal.h (PROFILER_CPU_SUPPORT): Don't define on Cygwin.\n\t(Bug#20843)\n\n2015-06-21  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix some \u201cnested\u201d quoting confusion in doc strings\n\t* lisp/emacs-lisp/advice.el (ad-map-arglists):\n\t* lisp/kermit.el (kermit-clean-on):\n\t* lisp/mh-e/mh-comp.el (mh-repl-group-formfile):\n\t* src/keyboard.c (Frecursive_edit):\n\tUse curved quotes when quoting text containing apostrophe,\n\tso that the apostrophe isn't curved in the output.\n\n2015-06-21  Nicolas Petton  <nicolas@petton.fr>\n\n\tDefine `map-elt' as a generalized variable\n\t* lisp/emacs-lisp/map.el (map-elt): Define a gv-expander.\n\t* lisp/emacs-lisp/map.el (map--dispatch): Tighten the code.\n\t* lisp/emacs-lisp/map.el (map-put): Redefine it as a function using a\n\t`setf' with `map-elt'.\n\t* test/automated/map-tests.el: Comment out `test-map-put-literal'.\n\n2015-06-21  Michael Albinus  <michael.albinus@gmx.de>\n\n\tImprove error handling in tramp-adb.el\n\t* lisp/net/tramp-adb.el (tramp-adb-handle-file-local-copy):\n\tImprove error handling.\n\n2015-06-21  Nicolas Petton  <nicolas@petton.fr>\n\n\tReuse `alist-get' in map.el\n\t* lisp/emacs-lisp/map.el (map-elt): Use `alist-get' to retrieve alist\n\telements.\n\n2015-06-21  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix bytecomp-tests--warnings when $TMPDIR has a long name\n\t* test/automated/bytecomp-tests.el (bytecomp-tests--warnings):\n\tAllow the warning to begin on the 3rd, not only 2nd line, which\n\thappens if temporary-file-directory has a very long name.\n\n\tExpect 2 icalendar tests to fail on MS-Windows\n\t* test/automated/icalendar-tests.el (icalendar-import-with-timezone)\n\t(icalendar-real-world): Make them expected failures on MS-Windows.\n\n2015-06-20  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tImprove port of settings UI to older displays\n\t* lisp/cus-start.el (standard): Don't assume curved quotes are\n\teasily distinguishable when users are tinkering with a setting\n\tthat affects how curved quotes are generated.\n\n\tFix quoting in electric-quote-mode doc string\n\t* lisp/electric.el (electric-quote-mode): Fix quoting.\n\tThis is a fallout from the recent change introducing\n\t\u2018help-quote-translation\u2019.\n\n\tSpelling fix\n\n\t* doc/misc/texinfo.tex, lib/set-permissions.c: Merge from gnulib.\n\n\t* src/doc.c (syms_of_doc): Remove unused symbols.\n\n2015-06-20  Martin Rudalics  <rudalics@gmx.at>\n\n\t* lisp/window.el (window-state-put): Undedicate target window\n\tbefore putting STATE into it.  (Bug#20848)\n\n2015-06-19  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from origin/emacs-24\n\ta5e6f33 Fixes: debbugs:20832\n\tb9f02cf Fixes: debbugs:20832\n\n2015-06-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix file-in-directory-p when the directory is UNC\n\t* lisp/files.el (file-in-directory-p): Support files and\n\tdirectories that begin with \"//\".  (Bug#20844)\n\n2015-06-19  Stephen Berman  <stephen.berman@gmx.net>\n\n\t* lisp/calendar/todo-mode.el (todo-show): Don't visit todo file\n\tin the minibuffer.  (Bug#20832)\n\n2015-06-19  Nicolas Richard  <youngfrog@members.fsf.org>\n\n\t* lisp/calendar/todo-mode.el (todo-show): Signal an error if buffer\n\tfor adding new todo file is empty but modified.  (Bug#20832)\n\n2015-06-19  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t(filepos-to-bufferpos): Further tweaks to the utf-16 code\n\t* lisp/international/mule-util.el (filepos-to-bufferpos):\n\tFix typo.  Move non-exact check to the utf-16 branch (the only one\n\taffected).  Don't use byte-to-position for the utf-16 case.\n\n2015-06-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tMinor fixes in filepos-to-bufferpos\n\t* lisp/international/mule-util.el (filepos-to-bufferpos): Remove\n\ttest for utf-8-emacs.  Exempt single-byte encodings from the\n\t'use-exact' path when QUALITY is 'exact'.  Test UTF-16 encodings\n\tfor BOM before subtracting 2 bytes.  Use 'identity' when adjusting\n\tUTF-16 encoded files for CR-LF EOLs.\n\n2015-06-19  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tImprove the optional translation of quotes\n\tFix several problems with the recently-added custom variable\n\thelp-quote-translation where the code would quote inconsistently\n\tin help buffers.  Add support for quoting 'like this', which\n\tis common in other GNU programs in ASCII environments.  Change\n\thelp-quote-translation to use more mnemonic values: values are now the\n\tinitial quoting char, e.g., (setq help-quote-translation ?`) gets the\n\ttraditional Emacs help-buffer quoting style `like this'.  Change the\n\tdefault behavior of substitute-command-keys to match what's done in\n\tset-locale-environment, i.e., quote \u2018like this\u2019 if displayable,\n\t'like this' otherwise.\n\t* doc/lispref/help.texi (Keys in Documentation): Document\n\tnew behavior of substitute-command-keys, and document\n\thelp-quote-translation.\n\t* doc/lispref/tips.texi (Documentation Tips):\n\tMention the effect of help-quote-translation.\n\t* etc/NEWS: Mention new behavior of substitute-command-keys,\n\tand merge help-quote-translation news into it.\n\tWhen talking about doc strings, mention new ways to type quotes.\n\t* lisp/cedet/mode-local.el (overload-docstring-extension):\n\tRevert my recent change to this function, which shouldn't be\n\tneeded as the result is a doc string.\n\t* lisp/cedet/mode-local.el (mode-local-print-binding)\n\t(mode-local-describe-bindings-2):\n\t* lisp/cedet/srecode/srt-mode.el (srecode-macro-help):\n\t* lisp/cus-theme.el (describe-theme-1):\n\t* lisp/descr-text.el (describe-text-properties-1, describe-char):\n\t* lisp/emacs-lisp/cl-generic.el (cl--generic-describe):\n\t* lisp/emacs-lisp/eieio-opt.el (eieio-help-class)\n\t(eieio-help-constructor):\n\t* lisp/emacs-lisp/package.el (describe-package-1):\n\t* lisp/faces.el (describe-face):\n\t* lisp/help-fns.el (help-fns--key-bindings)\n\t(help-fns--compiler-macro, help-fns--parent-mode)\n\t(help-fns--obsolete, help-fns--interactive-only)\n\t(describe-function-1, describe-variable):\n\t* lisp/help.el (describe-mode):\n\tUse substitute-command-keys to ensure a more-consistent quoting\n\tstyle in help buffers.\n\t* lisp/cus-start.el (standard):\n\tDocument new help-quote-translation behavior.\n\t* lisp/emacs-lisp/lisp-mode.el (lisp-fdefs):\n\t* lisp/help-mode.el (help-xref-symbol-regexp, help-xref-info-regexp)\n\t(help-xref-url-regexp):\n\t* lisp/international/mule-cmds.el (help-xref-mule-regexp-template):\n\t* lisp/wid-edit.el (widget-documentation-link-regexp):\n\tAlso match 'foo', in case we're in a help buffer generated when\n\thelp-quote-translation is ?'.\n\t* src/doc.c: Include disptab.h, for DISP_CHAR_VECTOR.\n\t(LEFT_SINGLE_QUOTATION_MARK, uLSQM0, uLSQM1, uLSQM2, uRSQM0)\n\t(uRSQM1, uRSQM2, LSQM, RSQM): New constants.\n\t(Fsubstitute_command_keys): Document and implement new behavior.\n\t(Vhelp_quote_translation): Document new behavior.\n\n2015-06-18  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/cus-start.el (help-quote-translation): Add :version.\n\n\t* src/doc.c (Fsubstitute_command_keys): Make previous change compile.\n\n2015-06-18  Alan Mackenzie  <acm@muc.de>\n\n\tMake translation of quotes to curly in doc strings optional.\n\t* src/doc.c (traditional, prefer-unicode): New symbols.\n\t(help-quote-translation): New variable.\n\t(Fsubstitute_command_keys): Make translation of quotes dependent on\n\t`help-quote-translation'; also translate curly quotes back to ASCII\n\tones.\n\t* lisp/cus-start.el (top-level): Add a customization entry for\n\t`help-quote-translation'.\n\n2015-06-18  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el: Don't always propagate async errors\n\t(package--with-work-buffer-async): Only propagate the error if the\n\tcallback returns non-nil.\n\t(package--download-one-archive): Return nil on the signature\n\tchecking callback if we accept unsigned.\n\t(package--download-and-read-archives): Return non-nil on the\n\tarchive download callback.\n\n2015-06-18  Martin Rudalics  <rudalics@gmx.at>\n\n\tSet image_cache_refcount before x_default_parameter calls.  (Bug#20802)\n\t* src/nsfns.m (Fx_create_frame):\n\t* src/xfns.c (Fx_create_frame, x_create_tip_frame): Move setting\n\timage_cache_refcount before first x_default_parameter call.\n\n2015-06-18  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove and extend filepos-to-bufferpos\n\t* lisp/international/mule-util.el (filepos-to-bufferpos--dos):\n\tDon't barf if F returns nil for some argument.\n\t(filepos-to-bufferpos): Expand to support UTF-16 and not assume\n\tthat every encoding of type 'charset' is single-byte.\n\n2015-06-18  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el (package-menu--perform-transaction):\n\tProperly delete packages.  (Bug#20836)\n\n2015-06-18  Eli Zaretskii  <eliz@gnu.org>\n\n\tUpdate data files from just-released Unicode 8.0\n\t* etc/NEWS: Update wording since Unicode 8.0 is no longer in draft\n\tstatus.\n\t* test/BidiCharacterTest.txt: Update from Unicode 8.0.\n\t* admin/unidata/BidiMirroring.txt:\n\t* admin/unidata/BidiBrackets.txt:\n\t* admin/unidata/UnicodeData.txt: Update from Unicode 8.0.\n\n2015-06-18  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDocument curved quotes a bit better\n\t* doc/emacs/basic.texi (Inserting Text):\n\tMention C-x 8.  Change example to use curved quote rather\n\tthan infinity, as this lets us give more ways to do it.\n\t* doc/emacs/mule.texi (International Chars): Mention C-x 8 shortcuts\n\tand quotation marks.\n\t* doc/emacs/text.texi (Quotation Marks):\n\t* doc/lispref/tips.texi (Documentation Tips):\n\tAdd \"curly quotes\" and \"curved quotes\" to the index.\n\t* doc/emacs/text.texi (Quotation Marks):\n\tGive the C-x 8 shorthands for curved quotes.\n\tCross-reference to \"Quotation Marks\".\n\n2015-06-17  Daiki Ueno  <ueno@gnu.org>\n\n\tAdd pinentry.el for better GnuPG integration\n\t* lisp/pinentry.el: New file.\n\t* etc/NEWS: Add entry about pinentry.el.\n\t* lisp/epg.el (epg--start): Set INSIDE_EMACS envvar.\n\t(Bug#20550)\n\n2015-06-17  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el: Slightly better error reporting.\n\n2015-06-17  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t(define-minor-mode): Use setq-default for :global minor modes\n\t* lisp/emacs-lisp/easy-mmode.el (define-minor-mode):\n\tUse setq-default for :global minor modes (bug#20712).\n\n2015-06-17  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid infloop in redisplay with tall images\n\t* src/xdisp.c (try_scrolling): Prevent an infloop when scrolling\n\tdown near ZV.  (Bug#20808)\n\tCall bidi_unshelve_cache to avoid memory leaks.  Use IT_CHARPOS\n\tinstead of CHARPOS.\n\n2015-06-17  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el (package--with-work-buffer-async):\n\tFix error reporting.\n\n\t* lisp/emacs-lisp/let-alist.el: Move to lisp/emacs-lisp/let-alist.el\n\n\t* lisp/emacs-lisp/package.el: Revert buffer after any operation\n\tCall `package-menu--post-refresh' after any operation that changes\n\tthe package database (`package-install' and `package-delete').  To\n\tavoid performance issues in large transactions, these functions\n\tadd `post-refresh' to `post-command-hook' instead of calling it\n\timmediately.\n\t(package-menu--mark-or-notify-upgrades): New function.\n\t(list-packages): Add it to `package--post-download-archives-hook'.\n\t(package-menu--post-refresh): Lose the upgrade-checking code, add\n\tcode to remove itself from `post-command-hook'.\n\t(package-install, package-delete): Add it to `post-command-hook'.\n\t(package-menu-execute): Don't call `package-menu--post-refresh'.\n\n2015-06-17  Stephen Leake  <stephen_leake@stephe-leake.org>\n\n\tAdd missing function xref-location-group for elisp-mode.\n\t* lisp/progmodes/elisp-mode.el: Add missing function xref-location-group.\n\n2015-06-17  Wolfgang Jenkner  <wjenkner@inode.at>\n\n\t* src/editfns.c (Fbyte_to_position): Fix bytepos not at char boundary.\n\tThe behavior now matches the description in the manual.  (Bug#20783)\n\n2015-06-17  Xue Fuqiao  <xfq.free@gmail.com>\n\n\t* etc/tutorials/TUTORIAL.cn: Update; synchronize with TUTORIAL.\n\n2015-06-17  Glenn Morris  <rgm@gnu.org>\n\n\tGenerate char-script-table from Unicode source.  (Bug#20789)\n\t* admin/unidata/Makefile.in (AWK): New, set by configure.\n\t(all): Add charscript.el.\n\t(blocks): New variable.\n\t(charscript.el, ${unidir}/charscript.el): New targets.\n\t(extraclean): Also remove generated charscript.el.\n\t* admin/unidata/blocks.awk: New script.\n\t* admin/unidata/Blocks.txt: New data file, from unicode.org.\n\t* lisp/international/characters.el: Load charscript.\n\t* src/Makefile.in (charscript): New variable.\n\t(${charscript}): New target.\n\t(${lispintdir}/characters.elc): Depend on charscript.elc.\n\t(temacs$(EXEEXT)): Depend on charscript.\n\n\t* lisp/international/characters.el (char-script-table): Tweak\n\tsome ranges to better match the source.  (Bug#20789#17)\n\n\tRemove \"no-byte-compile: t\" from a few files.\n\t* lisp/obsolete/bruce.el, lisp/obsolete/keyswap.el:\n\t* lisp/obsolete/patcomp.el: No reason not to compile these.\n\n2015-06-16  Glenn Morris  <rgm@gnu.org>\n\n\tFix some typos in copied Unicode data.  (Bug#20789)\n\t* lisp/international/characters.el (char-script-table):\n\t* lisp/international/fontset.el (script-representative-chars)\n\t(setup-default-fontset): Fix typos.\n\n\t* lisp/emacs-lisp/check-declare.el (check-declare-warn):\n\tDon't print filename twice (it's in the prefix now).\n\n\t* lisp/emacs-lisp/pcase.el (pcase--u1): Revert earlier workaround.\n\tNo longer needed.\n\n\tAddress a compilation warning.\n\t* lisp/emacs-lisp/bytecomp.el (byte-compile-file-form-defalias):\n\tReplace 't' with '_' in pcase.\n\n\tAddress some check-declare warnings.\n\t* lisp/simple.el (tabulated-list-print):\n\t* lisp/progmodes/elisp-mode.el (xref-collect-matches):\n\t* lisp/term/ns-win.el (ns-selection-owner-p, ns-selection-exists-p)\n\t(ns-get-selection): Update declarations.\n\n\tAddress some compilation warnings.\n\t* lisp/elec-pair.el (electric-pair-post-self-insert-function):\n\t* lisp/vc/vc-git.el (vc-git-file-type-as-string):\n\tReplace 't' with '_' in pcase.\n\n\tAddress some compilation warnings.\n\t* lisp/face-remap.el (text-scale-adjust):\n\t* lisp/menu-bar.el (popup-menu-normalize-position):\n\t* lisp/emacs-lisp/byte-opt.el (byte-compile-inline-expand):\n\t* lisp/emacs-lisp/bytecomp.el (byte-compile-arglist-warn):\n\t* lisp/emacs-lisp/generator.el (cps--transform-1):\n\t* lisp/emacs-lisp/macroexp.el (macroexp--expand-all):\n\t* lisp/obsolete/vc-arch.el (vc-arch-mode-line-string):\n\t* lisp/progmodes/octave.el (octave-goto-function-definition)\n\t(octave-find-definition-default-filename):\n\tReplace 't' with '_' in pcase.\n\n\t* lisp/emacs-lisp/pcase.el (pcase--u1):\n\tPaper-over today's bootstrap failure.\n\n2015-06-16  Nicolas Petton  <nicolas@petton.fr>\n\n\t* lisp/emacs-lisp/seq.el: Fix a byte-compiler warnings related to pcase.\n\n\t* lisp/emacs-lisp/map.el (map-into): Fix a byte-compiler warning.\n\n\tBetter confirmation message in `find-alternate-file' (Bug#20830)\n\t* lisp/files.el (find-alternate-file'): Improve the confirmation\n\tmessage to show the buffer name.\n\n\tBetter docstring for null.  (Bug#20815)\n\t* src/data.c (null): Improves the docstring, saying what null returns\n\twhen OBJECT is non-nil.\n\n2015-06-16  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/net/newst-treeview.el: Use lexical-binding.\n\n\t(filepos-to-bufferpos): Add missing cases.  Make sure it terminates.\n\t* lisp/international/mule-util.el (filepos-to-bufferpos--dos):\n\tNew auxiliary function, extracted from filepos-to-bufferpos.\n\tMake sure it terminates.\n\t(filepos-to-bufferpos): Use it to fix the latin-1-dos case.\n\tAdd support for the `exact' quality.\n\n2015-06-16  C\u00e9dric Ch\u00e9pied  <cedric.chepied@gmail.com>\n\n\tIdentify feeds in newsticker treeview with :nt-feed property\n\t* lisp/net/newst-treeview.el:\n\t(newsticker--treeview-nodes-eq): Use property :nt-feed instead of :tag.\n\n2015-06-16  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/pcase.el: Improve docs and error handling.\n\t(pcase--self-quoting-p): Floats aren't self-quoting.\n\t(pcase): Tweak docstring.\n\t(pcase--u1): Deprecate the t pattern.  Improve error detection for\n\tthe nil pattern.\n\t(\\`): Tweak docstring.  Signal an error for unrecognized cases.\n\t(bug#20784)\n\n2015-06-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix infloop in filepos-to-bufferpos\n\t* lisp/international/mule-util.el (filepos-to-bufferpos): Fix EOL\n\toffset calculation, and make it conditional on the eol-type of the\n\tfile's encoding.  (Bug#20825)\n\n2015-06-16  Martin Rudalics  <rudalics@gmx.at>\n\n\tFix handling of image cache refcounts.  (Bug#20802)\n\tThis backports Eli Zaretskii's solution of this problem for W32\n\tto X and NS.\n\t* src/nsfns.m (image_cache_refcount): Define unconditionally.\n\t(unwind_create_frame): If the image cache's reference count\n\thasn't been updated yet, do that now.\n\t(Fx_create_frame): Set image_cache_refcount unconditionally.\n\t* src/xfns.c (image_cache_refcount): Define unconditionally.\n\t(unwind_create_frame): If the image cache's reference count\n\thasn't been updated yet, do that now.\n\t(Fx_create_frame, x_create_tip_frame): Set image_cache_refcount\n\tunconditionally.\n\t* src/w32fns.c (image_cache_refcount): Make it a ptrdiff_t as on\n\tX and NS.\n\n2015-06-16  Nils Ackermann  <nils@ackermath.info>\n\n\tImprove reftex-label-regexps default value\n\t* lisp/textmodes/reftex-vars.el (reftex-label-regexps): Make\n\tkeyvals label regexp more strict to better cope with unbalanced\n\tbrackets common in math documents.\n\n2015-06-16  Glenn Morris  <rgm@gnu.org>\n\n\t* doc/emacs/calendar.texi (Format of Diary File):\n\tMove \"nonmarking\" from here...\n\t(Displaying the Diary): ... to here.\n\n\t* doc/emacs/calendar.texi (Format of Diary File, Displaying the Diary):\n\tSwap the order of these nodes.\n\t* doc/emacs/emacs.texi: Update detailed menu for the above change.\n\n\t* doc/emacs/calendar.texi (Specified Dates, Special Diary Entries):\n\tUpdate date of examples.\n\t(Diary, Format of Diary File): Move example from former to latter.\n\tReduce duplication.\n\n\tNo need for cp51932.el, eucjp-ms.el to not be compiled any more.\n\t* admin/charsets/cp51932.awk, admin/charsets/eucjp-ms.awk:\n\tDon't set no-byte-compile in the outputs.\n\t* lisp/loadup.el: Don't specify uncompiled cp51932, eucjp-ms.\n\n2015-06-15  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/calendar/calendar.el (diary-file): Use locate-user-emacs-file.\n\t* doc/emacs/calendar.texi (Diary, Format of Diary File):\n\tUpdate for above diary-file change.\n\n\t* lisp/macros.el (name-last-kbd-macro, kbd-macro-query)\n\t(apply-macro-to-region-lines): Use user-error.\n\n\t* lisp/textmodes/page-ext.el (add-new-page, pages-directory)\n\t(pages-directory-for-addresses): Doc fixes.\n\n2015-06-15  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/info.el: Cleanup bytepos/charpos issues\n\t* lisp/international/mule-util.el: Use lexical-binding.\n\t(filepos-to-bufferpos): New function.\n\t* lisp/info.el (Info-find-in-tag-table-1): Use 0-based file positions.\n\t(Info-find-node-2): Use filepos-to-bufferpos (bug#20704).\n\t(Info-read-subfile, Info-search): Use 0-based file positions.\n\n\t* lisp/progmodes/perl-mode.el: Refine handling of /re/ and y/abc/def/\n\t(perl--syntax-exp-intro-keywords): New var.\n\t(perl--syntax-exp-intro-regexp, perl-syntax-propertize-function): Use it.\n\t(bug#20800).\n\n2015-06-15  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix quoting when making derived mode docstring\n\t* lisp/emacs-lisp/derived.el (derived-mode-make-docstring):\n\tNest regexp-quote inside format, not the reverse.\n\tProblem reported by Artur Malabarba in:\n\thttp://lists.gnu.org/archive/html/emacs-devel/2015-06/msg00206.html\n\n2015-06-15  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix current-iso639-language on MS-Windows\n\t* lisp/international/mule-cmds.el (set-locale-environment):\n\tDowncase the locale name before interning it.  This is so the\n\t'current-iso639-language' on MS-Windows matches the ':lang'\n\tproperty of font-spec objects.\n\n\tLimit Symbola usage some more\n\t* lisp/international/fontset.el (setup-default-fontset): Limit\n\tSymbol coverage of Currency Symbols to u+20B6..u+20CF.\n\t(Bug#20727)\n\n2015-06-15  Nicolas Petton  <nicolas@petton.fr>\n\n\t* lisp/emacs-lisp/map.el (map-let): Better docstring.\n\n2015-06-15  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* test/automated/help-fns.el (abc\\\\\\[universal-argument\\]b\\`c\\'d\\\\e\\\"f):\n\t(help-fns-test-funny-names): Spelling fixes.\n\n2015-06-14  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/version.el (emacs-repository-version-git): Demote errors.\n\tCheck result is a hash.\n\n2015-06-14  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el (package--with-work-buffer-async):\n\tCatch errors that happen before going async.  (Bug#20809)\n\n2015-06-14  Eli Zaretskii  <eliz@gnu.org>\n\n\tAnother improvement of documentation of set-fontset-font\n\t* doc/lispref/display.texi (Fontsets): Say explicitly that\n\tCHARACTER can be a single codepoint.\n\t* src/fontset.c (Fset_fontset_font): Doc fix.\n\n\tAnother improvement for symbol and punctuation characters\n\t* lisp/international/fontset.el (setup-default-fontset): Exclude\n\tfrom Symbola character ranges for symbols and punctuation covered\n\twell by popular Unicode fonts.  Prefer fixed-misc Unicode font, if\n\tinstalled and where its coverage of symbols and punctuation is\n\tknown to be good.  (Bug#20727)\n\n2015-06-14  Christoph Wedler  <christoph.wedler@sap.com>\n\n\tSome generic support for multi-mode indentation.\n\t* lisp/progmodes/prog-mode.el (prog-indentation-context):\n\tNew variable.\n\t(prog-first-column, prog-widen): New convenience functions.\n\n2015-06-14  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/tabulated-list.el (tabulated-list-print):\n\tDon't assume that `tabulated-list-printer' will leave point at the\n\tend of the buffer.  (Bug#20810)\n\n2015-06-13  Glenn Morris  <rgm@gnu.org>\n\n\tTweaks for getting repository version; a bit more like it was for bzr\n\t* lisp/version.el (emacs-repository-version-git)\n\t(emacs-repository--version-git-1): New functions,\n\tsplit from emacs-repository-get-version.\n\t(emacs-repository-get-version): Make the second argument meaningful.\n\n\t* lisp/startup.el (command-line-1): Inform if skipping relative\n\tfile names due to deleted PWD.\n\n\t* src/xsmfns.c (x_session_initialize): Avoid libSM crash\n\twhen starup directory is missing.  (Bug#18851)\n\t(errno.h): Include it.\n\n2015-06-13  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tBetter fix for documenting `X as \"`X\"\n\tFix suggested by Stefan Monnier.\n\t* lisp/help-fns.el (help-fns--signature):\n\tInsert \"`X\", not \"(\\` X)\", when documenting `X (Bug#20759).\n\t* lisp/help.el (help-split-fundoc, help--make-usage-docstring):\n\tDon't treat `X specially, as help-fns--signature now handles this.\n\n2015-06-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove the default fontset when Symbola is not installed\n\t* lisp/international/fontset.el (setup-default-fontset): Only\n\tprepend Symbola and FreeMono font specs for symbols and\n\tpunctuation; do not replace the default spec for them.  This\n\tshould have better results when Symbola/FreeMono are not\n\tinstalled.  (Bug#20727)\n\n\tImprove documentation of ':lang' in font specs\n\t* src/font.c (Ffont_spec): Doc fix: elaborate on the values and\n\tuse of the ':lang' property of the font spec.\n\t* doc/emacs/frames.texi (Fonts): Document the language names that\n\tcan be in the STYLE part of XLFD.\n\t* doc/lispref/display.texi (Low-Level Font): Document the ':lang'\n\tproperty.\n\n\t* nt/README: Don't advertise the (obsolescent) w32 FAQ.\n\n\t* nt/README.W32: Don't advertise the (obsolescent) w32 FAQ.\n\n\tRevert last change in fontset.el\n\t* lisp/international/fontset.el (setup-default-fontset): Revert\n\tthe change \"Configure Symbola font only if installed\", since font\n\tsearch is evidently not yet set up when this function is called.\n\t(Bug#20727)\n\n2015-06-12  Glenn Morris  <rgm@gnu.org>\n\n\tEnsure early startup warnings are visible at the end.  (Bug#20792)\n\t* lisp/emacs-lisp/warnings.el (display-warning):\n\tIf startup isn't complete, delay the warning.\n\t* lisp/startup.el (normal-top-level, command-line):\n\tLet display-warning automatically handle the needed delays.\n\tRun delayed-warnings-hook.\n\n\t* lisp/version.el (emacs-repository-get-version):\n\tAvoid calling external executable if possible.  (Bug#20799)\n\n2015-06-12  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDocument `X as \"`X\", not as \"(` X)\"\n\t* lisp/help.el (help-split-fundoc, help--make-usage-docstring):\n\tDocument (backquote FOO) as \"`FOO\", not as \"(` FOO)\" (Bug#20759).\n\n\t* src/print.c (print_object): Minor simplification.\n\n2015-06-12  Glenn Morris  <rgm@gnu.org>\n\n\t* src/buffer.c (init_buffer): Add final newline to message.\n\n2015-06-12  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tConfigure Symbola font only if installed\n\t* lisp/international/fontset.el (setup-default-fontset):\n\tDon't specify the Symbola font if it's not installed.\n\tLikewise for FreeMono.  (Bug#20727)\n\n2015-06-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tConfigure Symbola font only for symbols and punctuation\n\t* lisp/international/fontset.el (setup-default-fontset): Leave\n\tonly symbols and punctuation in the fontset setup for Symbola\n\tfont; remove \"Greek and Coptic\" and \"Cyrillic Supplement\".\n\t(Bug#20798)\n\n2015-06-12  Andreas Schwab  <schwab@linux-m68k.org>\n\n\tFix crash in fontset-info\n\t* src/fontset.c (Ffontset_info): Check that the RFONT-DEF elt is\n\tnon-nil.\n\n2015-06-12  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort to Solaris 10 sparc + Sun C 5.13\n\t* configure.ac (SETUP_SLAVE_PTY) [sol2* | unixware]:\n\tAdjust to process.c change.\n\t* src/process.c (create_process): Declare volatile variables at\n\ttop level of this function, so that they're less likely to be\n\treused later in the function in the code executed by the vforked\n\tchild.  Do not declare locals used only in the vforked child, as\n\tthey might share memory with locals still live in the parent.\n\tInstead, use the same variables in the child as in the parent.\n\tThis works around a subtle bug that causes a garbage collector\n\tcrash when Emacs is built with Sun C 5.13 sparc on Solaris 10.\n\n2015-06-12  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/startup.el (normal-top-level): Don't let *Messages* get\n\ta nil default-directory.\n\n2015-06-11  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/startup.el (normal-top-level): Use delay-warning.  (Bug#20792)\n\n\tSome progress towards starting with PWD deleted.  (Bug#18851)\n\t* src/buffer.c (init_buffer): Handle get_current_dir_name failures.\n\t* lisp/startup.el (normal-top-level, command-line-1):\n\t* lisp/minibuffer.el (read-file-name-default):\n\tHandle default-directory being nil.\n\n2015-06-11  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix \"not a tty\" bug on Solaris 10\n\t* configure.ac (PTY_OPEN): Define to plain 'open'\n\ton SVR4-derived hosts, so that the O_CLOEXEC flag isn't set.\n\t* src/process.c (allocate_pty): Set the O_CLOEXEC flag after\n\tcalling PTY_TTY_NAME_SPRINTF, for the benefit of SVR4-derived\n\thosts that call grantpt which does its work via a setuid subcommand\n\t(Bug#19191, Bug#19927, Bug#20555, Bug#20686).\n\tAlso, set O_CLOEXEC even if PTY_OPEN is not defined, since it\n\tseems relevant in that case too.\n\n2015-06-11  Juri Linkov  <juri@linkov.net>\n\n\t* lisp/bindings.el (debug-ignored-errors): Add mark-inactive.\n\t* lisp/simple.el (kill-region): Replace 'error' with 'user-error'.\n\t(Bug#20785)\n\n2015-06-11  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/international/characters.el (char-script-table): Fix typo.\n\n2015-06-11  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix quoting of help for functions with odd names\n\tWhile investigating Bug#20759, I discovered other quoting problems:\n\tC-h f mishandled characters like backslash and quote in function names.\n\tThis fix changes the behavior so that 'C-h f pcase RET' now\n\tgenerates \"... (\\` QPAT) ...\" instead of \"... (` QPAT) ...\",\n\tbecause '(format \"%S\" '(` FOO))' returns \"(\\\\` FOO)\".  A comment\n\tin src/lread.c's read1 function says that the backslash will be\n\tneeded starting in Emacs 25, which implies that 'format' is\n\tcorrect and the old pcase documention was wrong to omit the backslash.\n\t* lisp/emacs-lisp/nadvice.el (advice--make-docstring):\n\t* lisp/help-fns.el (help-fns--signature):\n\t* lisp/help.el (help-add-fundoc-usage):\n\t* lisp/progmodes/elisp-mode.el (elisp-function-argstring):\n\tUse help--make-usage-docstring rather than formatting\n\thelp-make-usage.\n\t* lisp/emacs-lisp/pcase.el (pcase--make-docstring):\n\tReturn raw docstring.\n\t* lisp/help-fns.el (help-fns--signature): New arg RAW, to return\n\traw docstring.  Take more care to distinguish raw from cooked dstrings.\n\t(describe-function-1): Let help-fns--signature substitute\n\tcommand keys.\n\t* lisp/help.el (help--docstring-quote): New function.\n\t(help-split-fundoc): Use it, to quote funny characters more\n\tsystematically.\n\t(help--make-usage): Rename from help-make-usage, since this\n\tshould be private.  Leave an obsolete alias for the old name.\n\t(help--make-usage-docstring): New function.\n\t* test/automated/help-fns.el (help-fns-test-funny-names): New test.\n\n2015-06-11  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/thingatpt.el (in-string-p): Revert last change,\n\tsince in-string-p is not used in thingatpt.el but only from outside.\n\tAlso, use lexical binding.\n\n2015-06-11  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/let-alist.el (let-alist--deep-dot-search): Fix cons.\n\t* test/automated/let-alist.el (let-alist-cons): Test it.\n\n2015-06-11  Nicolas Richard  <theonewiththeevillook@yahoo.fr>\n\n\t* src/syntax.c (Fbackward_prefix_chars): Reword docstring.\n\n2015-06-10  Glenn Morris  <rgm@gnu.org>\n\n\t* build-aux/gitlog-to-emacslog: Also ignore pointless merge commits.\n\n\tImprove generated ChangeLog for gitmerge.el commits.  (Bug#20717)\n\t* build-aux/gitlog-to-changelog: Handle gitmerge.el skipped commits.\n\t* admin/gitmerge.el (gitmerge-commit-message):\n\tExclude \"skipped\" messages from ChangeLog once again.\n\n\tSlight namespace cleanup for thingatpt.el.\n\t* lisp/thingatpt.el (thing-at-point--in-string-p)\n\t(thing-at-point--end-of-sexp, thing-at-point--beginning-of-sexp)\n\t(thing-at-point--read-from-whole-string): Rename from\n\told versions without \"thing-at-point--\" prefix.\n\tKeep old versions as obsolete aliases.  Update all uses.\n\n\t* lisp/emacs-lisp/checkdoc.el (checkdoc-get-keywords):\n\tMove requiring of finder from here...\n\t(checkdoc-package-keywords): ... to here.\n\n\tUse 'user-error' in a few calendar files.\n\t* lisp/calendar/appt.el (appt-add):\n\t* lisp/calendar/calendar.el (calendar-absolute-from-gregorian)\n\t(calendar-generate):\n\t* lisp/calendar/diary-lib.el (diary-mail-entries, diary-cyclic):\n\tReplace 'error' with 'user-error'.\n\n\t* lisp/progmodes/f90.el (f90-backslash-not-special): Use user-error.\n\n\t* lisp/files-x.el (add-file-local-variable):\n\tSpecial-case 'lexical-binding'.  (Bug#20641)\n\n\t* lisp/progmodes/executable.el (executable-self-display): Obsolete.\n\tNo longer autoload.\n\t* doc/misc/autotype.texi (Executables):\n\tUndocument executable-self-display.\n\n\t* lisp/progmodes/executable.el (executable-self-display):\n\tUse non-obsolete tail syntax.  (Bug#20779)\n\t(executable-self-display): Doc update.\n\n2015-06-10  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/checkdoc.el: Use lexical-binding\n\t(finder-known-keywords): Silence byte-compiler.\n\n2015-06-09  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/simple.el (eval-expression): Macroexpand before evaluating\n\t(bug#20730).\n\n\t* lisp/progmodes/sh-script.el: Better handle nested quotes.\n\t(sh-here-doc-open-re): Don't mis-match the <<< operator (bug#20683).\n\t(sh-font-lock-quoted-subshell): Make sure double quotes within single\n\tquotes don't mistakenly end prematurely the surrounding string.\n\n\t* lisp/progmodes/elisp-mode.el: Require cl-lib for cl-defstruct.\n\n2015-06-09  Glenn Morris  <rgm@gnu.org>\n\n\t* test/automated/Makefile.in (ELFILES): Sort.\n\n\t* Makefile.in (SUBDIR_MAKEFILES):\n\t* lwlib/Makefile.in (WARN_CFLAGS):\n\tUse built-in Make functions rather than echo+sed.\n\n2015-06-09  Eli Zaretskii  <eliz@gnu.org>\n\n\tUpdate char-script-table\n\t* lisp/international/characters.el (char-script-table): Update\n\tfrom Unicode 8.0 Draft.\n\n\tImprove font selection for punctuation and other symbols\n\t* src/fontset.c (face_for_char): If the character's script is\n\t'symbol', and the font used for ASCII face has a glyph for it, use\n\tthe font for the ASCII face instead of searching the fontsets.\n\tThis comes instead of NS-specific code that used the current\n\tface's font instead, which is now disabled due to undesirable\n\tconsequences.  (Bug#20727)\n\n2015-06-08  Dmitry Gutov  <dgutov@yandex.ru>\n\n\t* lisp/progmodes/elisp-mode.el (elisp-completion-at-point):\n\tSkip past `#' to find BEG (bug#20771).\n\t* test/automated/elisp-mode-tests.el\n\t(elisp-completes-functions-after-hash-quote): New test.\n\n2015-06-08  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix compilation warning/error in --without-x builds\n\t* src/xdisp.c (append_space_for_newline): Condition GUI-specific\n\tcode on HAVE_WINDOW_SYSTEM.\n\n\tImprove the default fontset wrt symbols\n\t* lisp/international/fontset.el (setup-default-fontset): Better\n\tsetup of fontset-default for symbols: use Symbola and FreeMono.\n\t(Bug#20727)\n\n2015-06-08  Oleh Krehel  <ohwoeowho@gmail.com>\n\n\tAdd new command checkdoc-package-keywords\n\t* lisp/emacs-lisp/checkdoc.el (checkdoc-package-keywords-flag):\n\tNew defcustom.\n\t(checkdoc-list-of-strings-p): Add doc.\n\t(checkdoc-current-buffer): When `checkdoc-package-keywords-flag' is\n\tnon-nil, call `checkdoc-package-keywords'.\n\t(checkdoc-get-keywords): New defun.\n\t(checkdoc-package-keywords): New command.  Warns if the current file\n\thas package.el-style keywords that aren't in `finder-known-keywords'.\n\t* etc/NEWS: Add entry.\n\n2015-06-08  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid crashes when key-binding is called from a timer\n\t* src/keymap.c (Fkey_binding): Don't segfault if called with an\n\tempty vector as KEY.  (Bug#20705)\n\n\tFix a thinko in arc-mode.el\n\t* lisp/arc-mode.el (archive-zip-summarize): Fix last change in the\n\tnon-Zip64 case.  (Bug#20769)\n\n2015-06-08  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el (package-delete): Make interactive.\n\n2015-06-08  Oleh Krehel  <ohwoeowho@gmail.com>\n\n\t* lisp/emacs-lisp/checkdoc.el (checkdoc-file): New function.\n\t(checkdoc-error): When `checkdoc-diagnostic-buffer' is set to\n\t\"*warn*\", print the warning to the standard output.  (bug#20754)\n\n2015-06-07  Glenn Morris  <rgm@gnu.org>\n\n\t* admin/update_autogen (changelog_files): Remove gitlog-to-emacslog.\n\n\t* src/font.c (syms_of_font) <font-log>: Doc fix.\n\n\tRemove the obsolete leading \"*\" from some C doc strings.\n\t* src/coding.c (syms_of_coding):\n\t* src/font.c (syms_of_font): Remove leading \"*\" from docs.\n\t* lisp/cus-start.el (enable-character-translation): Add it.\n\n2015-06-07  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMove gen_origin from program to data\n\tThat way, 'make change-history' needs to change only ChangeLog.2,\n\tinstead of having to change two files.\n\t* ChangeLog.2: Add commit info for range that this file covers.\n\t* Makefile.in (new_commit_regexp): New macro.\n\t(change-history-nocommit): Simplify, by putting what used to be\n\tthe gen_origin value into the data (ChangeLog.2) rather than\n\tinto the program (gitlog-to-emacslog).\n\t* build-aux/gitlog-to-emacslog (gen_origin): Calculate from\n\tthe input file (e.g., ChangeLog.2) rather than by having a\n\tconstant in the program.  Substitute it into the output.\n\n2015-06-07  Dmitry Gutov  <dgutov@yandex.ru>\n\n\t* lisp/help-fns.el (help-fns--signature): Quote any quotes in the\n\tfunction name (bug#20759).\n\n2015-06-07  Eli Zaretskii  <eliz@gnu.org>\n\n\tAdapt 'struct timespec' to next release of MinGW runtime\n\t* nt/inc/ms-w32.h (struct timespec): Don't declare if\n\t__struct_timespec_defined is defined.\n\n2015-06-06  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from gnulib\n\tThis incorporates:\n\t2015-06-06 acl-permissions: pacify -Wsuggest-attribute=const\n\t2015-06-05 stdio: Don't redefine gets when using C++\n\t2015-06-05 acl-permissions: port to AIX, C89 HP-UX\n\t2015-06-02 file-has-acl: fix build on Mac OS X 10\n\t2015-06-01 gnulib-tool: concatenate lib_SOURCES to a single line\n\t2015-06-01 pthread_sigmask: discount system version if a simple macro\n\t2015-05-31 readlinkat: avoid OS X 10.10 trailing slash bug\n\t* doc/misc/texinfo.tex, lib/acl-internal.h, lib/get-permissions.c:\n\t* lib/readlinkat.c, lib/set-permissions.c, lib/stdio.in.h:\n\t* m4/acl.m4, m4/pthread_sigmask.m4, m4/readlinkat.m4: Copy from gnulib.\n\t* lib/gnulib.mk: Regenerate.\n\n2015-06-06  Juri Linkov  <juri@linkov.net>\n\n\t* lisp/progmodes/grep.el (zrgrep): Let-bind grep-highlight-matches\n\tbefore calling grep-compute-defaults because now it affects the\n\tcommand lines computed in grep-compute-defaults.  (Bug#20728)\n\n2015-06-06  Glenn Morris  <rgm@gnu.org>\n\n\tAddress some compilation warnings.\n\t* lisp/international/mule-cmds.el (w32-get-console-codepage)\n\t(w32-get-console-output-codepage):\n\t* lisp/progmodes/elisp-mode.el (xref-collect-references):\n\t* lisp/version.el (cairo-version-string): Declare.\n\t* lisp/erc/erc.el (erc-nickname-in-use): Fix typo.\n\n2015-06-06  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix display when a font claims large values of ascent and descent\n\tThis fixes bug#20628.\n\t* src/xdisp.c (get_phys_cursor_geometry): Correct the Y\n\tcoordinate of a hollow cursor glyph when the original glyph's\n\tascent is too small.\n\t(get_font_ascent_descent, normal_char_ascent_descent)\n\t(normal_char_height): New functions.\n\t(handle_single_display_spec, append_space_for_newline)\n\t(calc_pixel_width_or_height, produce_stretch_glyph)\n\t(calc_line_height_property): Use normal_char_ascent_descent and\n\tnormal_char_height.\n\t(x_produce_glyphs): When font-global values of ascent and descent\n\tare too large, use per-character glyph metrics instead, if\n\tpossible.  But don't allow the glyph row's ascent and descent\n\tvalues become smaller than the values from the metrics of the\n\tfont's \"normal\" character.\n\t* src/xftfont.c (xftfont_draw):\n\t* src/w32font.c (w32font_draw): Correct the values of ascent and\n\tdescent used to draw glyphless characters' hex code in a box.\n\t* src/xterm.c (x_draw_glyph_string_background):\n\t* src/xdisp.c (x_produce_glyphs):\n\t* src/w32term.c (x_draw_glyph_string_background):\n\t* src/nsterm.m (ns_maybe_dumpglyphs_background): Use FONT_TOO_HIGH\n\tto detect fonts whose global ascent and descent values are too\n\tlarge to be used in layout decision, and redraw the background\n\twhen that happens.\n\t* src/dispextern.h (FONT_TOO_HIGH): New macro.\n\t(get_font_ascent_descent): Add prototype.\n\t* src/xterm.c (x_new_font):\n\t* src/w32term.c (x_new_font):\n\t* src/nsterm.m (x_new_font):\n\t* src/font.c (font_open_entity):\n\t* src/composite.c (composition_gstring_width):\n\tUse get_font_ascent_descent to obtain reasonable values for ascent\n\tand descent of a font.\n\n2015-06-06  Nicolas Richard  <youngfrog@members.fsf.org>\n\n\tAdd assertion in adjust_point_for_property\n\t* src/keyboard.c (adjust_point_for_property): Add eassert for\n\tcurrent buffer being shown in selected window.\n\n2015-06-06  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tReplace uses of in-string-p; make it obsolete\n\t* lisp/thingatpt.el (in-string-p): Declare obsolete (bug#20732).\n\t(end-of-sexp, beginning-of-sexp): Use syntax-ppss instead.\n\n2015-06-06  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix Dired display of an explicit list of files by ls-lisp.el\n\t* lisp/ls-lisp.el (ls-lisp-uid-d-fmt, ls-lisp-uid-s-fmt)\n\t(ls-lisp-gid-d-fmt, ls-lisp-gid-s-fmt): Make the initial values be\n\tcorrect for when displaying individual files separately, not as\n\tpart of listing a directory, in which case these values are not\n\trecomputed by 'ls-lisp-insert-directory', but used verbatim.\n\n\t* lisp/dired.el (dired): Doc fix.  (Bug#20739)\n\n2015-06-06  Nicolas Richard  <youngfrog@members.fsf.org>\n\n\tDo not adjust point in a non-selected window\n\t* src/keyboard.c (command_loop_1): Do not adjust point when\n\tcurrent buffer is not shown in selected window (Bug#20590).\n\n\t* etc/DEBUG: Mention 'maybe_call_debugger'\n\n2015-06-05  Nicolas Petton  <nicolas@petton.fr>\n\n\tFix a unit test for map.el\n\t* test/automated/map-tests.el (test-map-let): Fix the test to work\n\twith the new syntax of `map-let'.\n\n\t* lisp/emacs-lisp/map.el (map-let): Better docstring.\n\n\tBetter syntax for the map pcase pattern\n\t* lisp/emacs-lisp/map.el: Improves the map pcase pattern to take\n\tbindings of the form (KEY PAT) or SYMBOL.  KEY is not quoted.\n\n\t* lisp/emacs-lisp/map.el (map--dispatch): Better docstring.\n\n\tFix a byte-compiler error in map-put and map-delete\n\t* lisp/emacs-lisp/map.el (map-put, map-delete): Ensure that `setq' is\n\tcalled with a symbol.\n\n2015-06-05  Glenn Morris  <rgm@gnu.org>\n\n\t* admin/gitmerge.el (gitmerge-commit-message):\n\tRevert to including \"skipped\" messages in ChangeLog once again.\n\n2015-06-05  Tassilo Horn  <tsdh@gnu.org>\n\n\tUse string> instead of equiv lambda with string<\n\t* lisp/help.el (view-emacs-news): Use string> instead of equivalent\n\tlambda with string<.\n\n2015-06-05  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/emacs-lisp/map.el (map--dispatch): Move before use.\n\t(map--delete-array): Fix typo.\n\n\t* test/automated/map-tests.el: Replace \"assert\" with \"should\".\n\n\t* lisp/Makefile.in (SUBDIRS): Rename from SUBDIRS_ABS.\n\t(SUBDIRS_REL): Derive from SUBDIRS.\n\n\tTweak some build messages.\n\t* lisp/Makefile.in ($(lisp)/loaddefs.el):\n\t* lisp/cus-dep.el (custom-make-dependencies):\n\t* lisp/finder.el (finder-compile-keywords): Say what we are doing.\n\t* lisp/international/titdic-cnv.el (batch-titdic-convert):\n\tDon't say how to compile.\n\n2015-06-05  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tOmit U+0332 COMBINING LOW LINE in previous change\n\tIt turns out that it does not work on Ubuntu 15.04.\n\n\tFix transliteration of Bah\u00e1'\u00ed months\n\t* lisp/calendar/cal-bahai.el (calendar-bahai-month-name-array):\n\tImprove quality of Latin transliteration of Bah\u00e1'\u00ed month names.\n\n\tFix curved quotes in a few places\n\t* lisp/calc/calc-misc.el (calc-help): Fix quoting.\n\tThe strings in question are not doc strings, so this partially\n\tundoes the recent change that assumed they were doc strings.\n\t* lisp/cedet/srecode/srt-mode.el (srecode-macro-help):\n\t* lisp/info.el (Info-finder-find-node):\n\tUse curved quotes.\n\t* lisp/emacs-lisp/derived.el (derived-mode-make-docstring):\n\tAlso allow curved quotes in doc strings.\n\n2015-06-04  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/Makefile.in (AM_V_at): Add missing definition.\n\n\t* lisp/Makefile.in: Quieten output a bit.\n\t($(lisp)/cus-load.el, $(lisp)/finder-inf.el):\n\tDon't echo directories, since the commands we invoke print them.\n\n\t* lisp/Makefile.in: Replace shell fragments in variables with $(shell).\n\t(SUBDIRS_REL, SUBDIRS_ABS, SUBDIRS_ALMOST, SUBDIRS_FINDER)\n\t(SUBDIRS_SUBDIRS): New variables.\n\t(setwins, setwins_almost, setwins_finder, setwins_for_subdirs):\n\tRemove.\n\t($(lisp)/cus-load.el, $(lisp)/finder-inf.el, $(lisp)/loaddefs.el)\n\t(update-subdirs, compile-main, compile-clean):\n\tReplace \"setwins\" usage with new \"SUBDIRS\" variables.\n\n\t* lisp/vc/compare-w.el (compare-windows-get-window-function):\n\tFix :version tag.\n\n2015-06-04  YAMAMOTO Mitsuharu  <mituharu@math.s.chiba-u.ac.jp>\n\n\t* src/ftfont.c (ftfont_open2): Round divisions by upEM.\n\n\tUndo removal of x_clear_area call on expose for GTK3 or cairo\n\t* src/xterm.c (handle_one_xevent) [HAVE_GTK3 || USE_CAIRO]:\n\tClear exposed area.  (Bug#20677)\n\n2015-06-04  Glenn Morris  <rgm@gnu.org>\n\n\t* doc/lispref/hash.texi (Creating Hash): Remove obsolete makehash.\n\n\t* lisp/Makefile.in (check-defun-dups): Also skip ldefs-boot.\n\n\t* lisp/leim/quail/lrt.el (quail-lrt-update-translation):\n\tRename from quail-lao-update-translation, since lao.el defines that.\n\n2015-06-04  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tHandle new-style advice in find-funct\n\t* lisp/emacs-lisp/find-func.el (find-function-advised-original):\n\tHandle new-style advice.  Return the symbol's function definition.\n\t(Bug#20718)\n\t(find-function-library): Update accordingly.\n\n2015-06-04  Nicolas Petton  <nicolas@petton.fr>\n\n\tMerge branch 'map'\n\n\t* lisp/emacs-lisp/map.el: Better docstring for the map pcase macro.\n\n\tAdd new function string-greaterp\n\t* lisp/subr.el (string-greaterp): New function.  Also aliased to\n\t`string>'.\n\t* test/automated/subr-tests.el (string-comparison-test): Add unit\n\ttests for `string>'and `string<'.\n\t* src/fns.c (string-lessp): Better docstring.\n\n2015-06-04  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix timezone-related functions on MS-Windows\n\t* src/editfns.c (set_time_zone_rule) [WINDOWSNT]: Always call\n\t'xputenv', even if no reallocation of tzvalbuf was necessary.\n\tThis fixes a bug in timezone-related functions on MS-Windows.\n\tReported by Fabrice Popineau <fabrice.popineau@gmail.com>.\n\n2015-06-03  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDon't pass raw directory name to 'error'\n\t* lisp/files.el (basic-save-buffer-2): Avoid format error if\n\ta directory name contains a string like \"%s\".\n\n2015-06-03  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tOverride 'grep --color=always'\n\t* lisp/progmodes/xref.el (xref-collect-matches):\n\tOverride --color=always in grep-find-template.\n\n2015-06-03  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix error introduced recently in file-notify-tests.el\n\t* test/automated/file-notify-tests.el\n\t(file-notify--test-remote-enabled): Do not use `file-notify--test-desc'.\n\t(file-notify--deftest-remote): Revert previous patch, not\n\tnecessary anymore.\n\n2015-06-03  Wolfgang Jenkner  <wjenkner@inode.at>\n\n\t* src/indent.c (Fvertical_motion): Amend motion by 0 lines.\n\tStarting from a display string after a newline, point went to the\n\tprevious line.  Also, fix an inadvertent use of a buffer position\n\twith FETCH_BYTE.  (Bug#20701)\n\n2015-06-03  Michael Albinus  <michael.albinus@gmx.de>\n\n\tInstrument file-notify-test.el in order to catch hydra error\n\t* test/automated/file-notify-tests.el (file-notify--deftest-remote):\n\tWrap body by `ignore-case', in order to trap non-local errors.\n\n2015-06-03  YAMAMOTO Mitsuharu  <mituharu@math.s.chiba-u.ac.jp>\n\n\tUndo previous changes in non-toolkit scroll bar drawing\n\t* src/xterm.c (x_scroll_bar_set_handle, x_scroll_bar_expose)\n\t[!USE_TOOLKIT_SCROLL_BARS]: Draw into scroll bar window.  (Bug#20668)\n\n2015-06-03  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* .gitignore: Also ignore doc/*/*/*.html and .ps.\n\n\tSupport quotes 'like this' in info files\n\tThis is possible when 'makeinfo --disable-encoding' is used\n\tin Texinfo 5.\n\t* lisp/calc/calc-help.el (calc-describe-thing):\n\t* lisp/gnus/gnus-art.el (gnus-button-alist):\n\t* lisp/info.el (Info-find-index-name):\n\t* lisp/vc/ediff-help.el (ediff-help-for-quick-help):\n\tAlso support quotes 'like this'.\n\t* lisp/calc/calc-help.el (calc-describe-thing): Simplify.\n\t* lisp/finder.el (finder-font-lock-keywords): Remove var that\n\thasn't been used in years, instead of bothering to fix its quoting.\n\n2015-06-02  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* .gitignore: Remove !test/etags/html-src/*.html.\n\tIt's no longer needed, since *.html was removed.  Sort.\n\n2015-06-02  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tRestore <D> instead of '.' in grep-find-template\n\t* lisp/cedet/semantic/symref/grep.el\n\t(semantic-symref-grep-use-template): Update a comment.\n\t* lisp/progmodes/grep.el (grep-compute-defaults): Restore <D>\n\tinstead of '.' in grep-find-template (bug#20719).\n\t(rgrep): Pass nil as the directory to rgrep-default-command.\n\t* lisp/progmodes/grep.el (grep-expand-keywords): Use '.' as the\n\tdefault value for DIR.\n\t* lisp/progmodes/xref.el (xref-collect-matches): Drop the\n\tworkaround.\n\n2015-06-02  Glenn Morris  <rgm@gnu.org>\n\n\t* configure.ac (emacs_config_features): Add X toolkit and scroll-bars.\n\n\t* configure.ac (emacs_config_features): Add Cairo.\n\n\t* configure.ac [HAVE_GTK3]: Remove USE_CAIRO that gets reset later.\n\n2015-06-02  Michael Albinus  <michael.albinus@gmx.de>\n\n\tEnsure that autorevert works for remote files in file-notify-tests.el\n\t* test/automated/file-notify-tests.el (file-notify--test-desc):\n\tNew defvar.\n\t(file-notify--test-remote-enabled)\n\t(file-notify-test00-availability, file-notify-test01-add-watch)\n\t(file-notify-test02-events): Use it.\n\t(file-notify--test-event-test): Check proper descriptor.\n\t(file-notify-test03-autorevert): Ensure that\n\t`visited-file-modtime' has changed.  (Bug#20392)\n\n2015-06-02  Nicolas Petton  <nicolas@petton.fr>\n\n\tAdd a pcase pattern for maps and `map-let' based on it\n\t* lisp/emacs-lisp/map.el (map-let): New macro.\n\t(map--make-pcase-bindings, map--make-pcase-patterns): New functions.\n\t* test/automated/map-tests.el: New test for `map-let'.\n\n2015-06-02  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tReuse rgrep mechanics in xref-find-regexp\n\t* lisp/progmodes/grep.el (rgrep-default-command):\n\tExtract from `rgrep'.\n\t* lisp/progmodes/xref.el (xref-collect-references): Split from\n\t`xref-collect-matches'.  Only handle the case of symbol search.\n\t(xref-collect-matches): Instead of Semantic Symref, use\n\t`rgrep-default-command', to take advantage of its directory and\n\tfile ignore settings.\n\t(xref--collect-match): Remove the last argument, leaving the\n\tregexp construction up to the caller.\n\t* lisp/progmodes/elisp-mode.el (elisp--xref-find-matches):\n\tChange to take the xref-collect- function to use as an argument.\n\t(elisp-xref-find): Update accordingly.\n\t* lisp/progmodes/etags.el (etags--xref-find-matches)\n\t(etags-xref-find): Same.\n\n\tMove xref-elisp-location to elisp-mode.el\n\t* lisp/progmodes/xref.el (xref-elisp-location)\n\t(xref-make-elisp-location, xref-location-marker): Remove here.\n\t(xref--xref): Don't limit the type of the location slot.\n\t* lisp/progmodes/elisp-mode.el (xref-elisp-location):\n\tDefine as a cl-struct here.\n\t(xref-location-marker): Move here.\n\n2015-06-02  Eli Zaretskii  <eliz@gnu.org>\n\n\tMinor tweaks for .gitignore\n\t* .gitignore: Don't ignore versioned *.html and *.ps files.\n\tDon't ignore admin/notes/tags that might be ignored as TAGS\n\ton case-insensitive filesystems.  (Bug#20710)\n\n2015-06-02  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tGenerate curved quotes in ert doc\n\t* lisp/emacs-lisp/ert.el (ert--print-test-for-ewoc)\n\t(ert-results-mode-menu)\n\t(ert-results-pop-to-backtrace-for-test-at-point)\n\t(ert-results-pop-to-messages-for-test-at-point)\n\t(ert-results-pop-to-should-forms-for-test-at-point)\n\t(ert-describe-test):\n\tQuote \u2018like this\u2019, not `like this', when generating doc strings\n\tand the like.\n\t* test/automated/ert-x-tests.el (ert-test-describe-test):\n\tAllow quoting \u2018like this\u2019.\n\n2015-06-02  Nicolas Richard  <youngfrog@members.fsf.org>\n\n\tAdd test for previous commit\n\t* test/automated/replace-tests.el: New file.\n\t(query-replace--split-string-tests): Add test for previous commit.\n\n\tAvoid confusion in query-replace history when replacing NUL chars\n\t* lisp/replace.el (query-replace--split-string): New function.\n\t(query-replace-read-from): Rely on the 'separator' property\n\tinstead of searching for the NUL character (Bug#20690).\n\n2015-06-02  Glenn Morris  <rgm@gnu.org>\n\n\tMerge from origin/emacs-24\n\t8b5f2f4 * doc/emacs/emacs.texi: Update the ISBN of the Emacs manual.\n\n\t* admin/gitmerge.el (gitmerge-commit-message):\n\tExclude \"skipped\" messages from ChangeLog.\n\n2015-06-01  Michael Albinus  <michael.albinus@gmx.de>\n\n\tSync with Tramp repository\n\t* lisp/net/tramp.el (tramp-message): Dump connection buffer error\n\tmessages.\n\t(tramp-handle-make-auto-save-file-name): When calling\n\t`make-auto-save-file-name' internally, make sure it uses Unix-like\n\tbehavior, not Windows-like behavior.\n\t* lisp/net/tramp-sh.el (tramp-set-file-uid-gid): Add a timeout for\n\tthe local case, because \"chown\" might fail on w32.\n\t* lisp/net/trampver.el (tramp-repository-get-version): Don't run\n\tfor XEmacs.\n\n2015-06-01  Eli Zaretskii  <eliz@gnu.org>\n\n\tMS-Windows followup for batch stdout/stderr output changes\n\t* lisp/international/mule-cmds.el (set-locale-environment):\n\tIn batch mode, use console codepages for keyboard and terminal\n\tencoding.  (Bug#20545)\n\n\tUpdate .gitattributes for DOS EOL files\n\t* .gitattributes: Use \"whitespace=cr-at-eol\" for files with DOS\n\tCRLF end-of-line format.\n\n\tNS equivalents of xterm.c and w32term.c changes\n\t* src/nsterm.m (ns_maybe_dumpglyphs_background): Force redraw of\n\tglyph string background also when the font in use claims\n\tpreposterously large global height value.  Helps to remove\n\tartifacts left from previous displays when glyphless characters\n\tare displayed as hex code in a box.\n\t(x_new_font): Call get_font_ascent_descent to obtain a reasonable\n\tvalue for FRAME_LINE_HEIGHT, even when a font claims very large\n\tvalue for its height.\n\n2015-06-01  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tAvoid grave accent quoting in stderr diagnostics\n\tA few Emacs diagnostics go directly to stderr, and so can't easily\n\tcontain curved quotes (as non-UTF-8 locales might mishandle them).\n\tInstead of bothering to add support for this rarity, reword the\n\tdiagnostics so that they don't use grave accent to quote.\n\t* src/alloc.c (mark_memory): Fix comment.\n\t* src/buffer.c (init_buffer):\n\t* src/dispnew.c (init_display):\n\t* src/emacs.c (main, sort_args):\n\t* src/lread.c (dir_warning):\n\t* src/term.c (init_tty):\n\t* src/unexmacosx.c (unexec):\n\t* src/xfns.c (select_visual):\n\t* src/xterm.c (cvt_string_to_pixel, x_io_error_quitter):\n\tReword stderr diagnostics to avoid quoting `like this'.\n\t* src/unexmacosx.c: Include errno.h.\n\t* src/xfns.c (select_visual): Encode value for locale.\n\n2015-05-31  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tTreat batch stdout/stderr like standard display\n\tCalls like (print FOO) could generate improperly encoded or\n\thard-to-read output if FOO contains characters outside the system\n\tlocale.  Fix this by treating batch stdout and stderr like\n\tinteractive standard display, when it comes to transliterating and\n\tencoding characters (Bug#20545).\n\t* doc/emacs/mule.texi (Communication Coding):\n\t* doc/lispref/display.texi (Active Display Table):\n\t* doc/lispref/nonascii.texi (Locales):\n\t* etc/NEWS:\n\t* src/coding.c (syms_of_coding):\n\t* src/dispnew.c (syms_of_display):\n\tDocument this.\n\t* src/print.c: Include disptab.h.\n\t(printchar_to_stream): New function, with much of the guts of the\n\told Fexternal_debugging_output, except this one also uses the\n\tstandard display table.\n\t(printchar, strout, Fexternal_debugging_output): Use it.\n\n2015-05-31  Glenn Morris  <rgm@gnu.org>\n\n\t* src/emacs.c (syms_of_emacs) <system-configuration-features>: Doc fix.\n\n2015-05-31  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRemove DEFSYMs that aren't used at the C level.  Also:\n\t* src/decompress.c (Qzlib_dll):\n\t* src/font.c (Qunicode_sip):\n\t* src/frame.c (Qtip_frame):\n\t* src/ftfont.c (Qserif):\n\t* src/gnutls.c (Qgnutls_dll):\n\t* src/xml.c (Qlibxml2_dll):\n\tMove from here ...\n\t* src/w32fns.c (syms_of_w32fns): ... to here,\n\tas these are used only on MS-Windows.\n\n2015-05-31  Michael Albinus  <michael.albinus@gmx.de>\n\n\tUse another default value for tramp-histfile-override\n\t* lisp/net/tramp-sh.el (tramp-histfile-override):\n\tUse \".tramp_history\" as default.\n\tFixes bug#20446\n\n2015-05-29  Nicolas Petton  <nicolas@petton.fr>\n\n\t* doc/emacs/emacs.texi: Update the ISBN of the Emacs manual.\n\n2015-05-16  Nicolas Petton  <nicolas@petton.fr>\n\n\t* etc/NEWS: Add an entry about map.el.\n\n\tImprove the docstring of functions in map.el\n\tSince a map is not a data structure but a concept, adding information\n\tabout the possible types of maps can be useful information.\n\t* lisp/emacs-lisp/map.el: Add documentation about the type of MAP to\n\teach public function.\n\n2015-04-29  Nicolas Petton  <nicolas@petton.fr>\n\n\t* lisp/emacs-lisp/map.el (map-empty-p): Faster implementation using\n\tspecific tests depending on the type of the map.\n\n\t* lisp/emacs-lisp/map.el: Better docstrings.\n\n2015-04-25  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/map.el (map-pairs): Dump redundant lambda.\n\n2015-04-25  Nicolas Petton  <nicolas@petton.fr>\n\n\t* lisp/emacs-lisp/map.el (map--elt-list): Better docstring.\n\n\t* lisp/emacs-lisp/map.el (map--elt-list): Minor refactoring.\n\n\tFix a false negative in `map-elt' with alists and values being nil\n\t* lisp/emacs-lisp/map.el (map-elt): If map is an alist and key is\n\tfound but its associated value is nil, do not return the default\n\tvalue.\n\t* test/automated/map-tests.el: Add a regression test.\n\n2015-04-24  Nicolas Petton  <nicolas@petton.fr>\n\n\t* lisp/emacs-lisp/map.el (map--dispatch): Improve the docstring.\n\n\tDo not signal an error when trying to delete a key from an array\n\t* lisp/emacs-lisp/map.el (map-delete): When map is an array, check if\n\tthe key is present to avoid signaling an error.\n\t* test/automated/map-tests.el: Add a test for deleting non-existing\n\tkeys from maps.\n\n\t* lisp/emacs-lisp/map.el: Better docstring.\n\n\tMinor improvement in map-elt\n\t* lisp/emacs-lisp/map.el (map-elt): Do not use `ignore-errors' when\n\tdoing a lookup in arrays, but check the boundaries of the array\n\tinstead.\n\t* test/automated/map-tests.el: Adds a test for `map-elt' with arrays\n\tand a negative integer as key.\n\n2015-04-21  Nicolas Petton  <nicolas@petton.fr>\n\n\t* test/automated/map-tests.el: Refactoring of test methods.\n\n\t* test/automated/map-tests.el: Renamed from map-test.el.\n\n2015-04-18  Nicolas Petton  <nicolas@petton.fr>\n\n\t* lisp/emacs-lisp/map.el (map-into): Better error message.\n\n\t* lisp/emacs-lisp/map.el: Remove byte-compilation warnings.\n\n\tThrow an error when converting a map into an unknown map type\n\t* lisp/emacs-lisp/map.el (map-into): Throw an error if type is\n\tnot valid.\n\t* test/automated/map-tests.el: Add a regression test.\n\n\tNew library map.el similar to seq.el but for mapping data structures.\n\t* test/automated/map-tests.el: New file.\n\t* lisp/emacs-lisp/map.el: New file.\n\n2015-05-30  Dmitry Gutov  <dgutov@yandex.ru>\n\n\t* lisp/progmodes/etags.el (tag-implicit-name-match-p): Make sure\n\tthere's no explicit tag name (bug#20629).\n\n2015-05-30  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRemove format2\n\t* src/editfns.c, src/lisp.h (format2): Remove.\n\tIt is more trouble than it's worth, now that we have CALLN.\n\tThis is just a minor refactoring.\n\t* src/buffer.c (Fkill_buffer):\n\t* src/dbusbind.c (XD_OBJECT_TO_STRING):\n\t* src/fileio.c (barf_or_query_if_file_exists):\n\tAdjust to format2 going away.\n\n\tDon't misencode C-generated messages\n\tAlso, be more consistent about calls to 'Fmessage' vs 'message'.\n\t* src/alloc.c (Fgc_status):\n\tPrefer AUTO_STRING to build_string for Fmessage call.\n\t* src/data.c (Fmake_variable_buffer_local)\n\t(Fmake_local_variable, Fmake_variable_frame_local):\n\t* src/doc.c (store_function_docstring):\n\tUse Fmessage, not message, since the argument can contain\n\tnon-ASCII characters, and this can cause the resulting message\n\tto be incorrectly encoded for the current environment.\n\t* src/fns.c (maybe_resize_hash_table):\n\t* src/xselect.c (x_clipboard_manager_save_all):\n\tUse message, not Fmessage, since Fmessage's power isn't needed here.\n\t* src/process.c (Fmake_network_process): Reword message to avoid %s.\n\t* src/xdisp.c (vmessage): Document restrictions on message contents.\n\t(message_nolog) [false]: Remove unused code.\n\n\tUse \\r rather than ^M in string literals\n\tThis is less likely to cause problems on platforms that\n\tuse CRLF (or CR!) termination for lines.\n\n\tUpdate .gitattributes to match current sources\n\thttp://lists.gnu.org/archive/html/emacs-devel/2015-05/msg00879.html\n\t* .gitattributes: Accommodate tests that insist on DOS format.\n\tRemove test/automated/data/decompress/foo-gzipped.\n\tAdd etc/e/eterm-color.\n\n2015-05-30  Eli Zaretskii  <eliz@gnu.org>\n\n\t* doc/emacs/mule.texi (Modifying Fontsets):\n\tDocument face-ignored-fonts.  (Bug#20628)\n\n\tAdd etags test for the new -Q option\n\t* test/etags/ETAGS.good_1, test/etags/ETAGS.good_2:\n\t* test/etags/ETAGS.good_3, test/etags/ETAGS.good_4:\n\t* test/etags/ETAGS.good_5, test/etags/CTAGS.good: Adjust to\n\ttest-case changes below.\n\t* test/etags/ETAGS.good_6: New file.\n\t* test/etags/cp-src/x.cc: New file.\n\t* test/etags/Makefile (CPSRC): Add x.cc.\n\t(check): Add one more test, for -Q.\n\n2015-05-30  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tUse list for the tags completion table, not obarray\n\t* lisp/progmodes/etags.el (etags-tags-completion-table): Return a\n\tlist instead of an obarray\n\t(http://lists.gnu.org/archive/html/emacs-devel/2015-05/msg00876.html).\n\t(tags-completion-table): Combine those lists.\n\t(tags-completion-table): Update the docstring.\n\n2015-05-30  Eli Zaretskii  <eliz@gnu.org>\n\n\tRestore EOL format testing in etags\n\t* test/etags/ETAGS.good_1, test/etags/ETAGS.good_2:\n\t* test/etags/ETAGS.good_3, test/etags/ETAGS.good_4:\n\t* test/etags/ETAGS.good_5, test/etags/CTAGS.good: Adjust to\n\ttest-case changes below.\n\t* test/etags/html-src/algrthms.html: Convert back to DOS EOL format.\n\t* test/etags/cp-src/c.C (B): Add back stray CR character.\n\t* test/etags/c-src/dostorture.c: Add back.\n\t* test/etags/Makefile (CSRC): Add back c-src/dostorture.c.\n\n2015-05-30  Vitaly Takmazov  <vitalyster@gmail.com>  (tiny change)\n\n\tDeclare Emacs on MS-Windows to be DPI-aware\n\t* nt/emacs-x86.manifest (asmv3:windowsSettings): Add dpiAware.\n\t* nt/emacs-x64.manifest (asmv3:windowsSettings): Add dpiAware.\n\tThis avoids Windows entering compatibility mode for Emacs,\n\twhich causes fonts to look less nice.\n\n2015-05-30  Michael Albinus  <michael.albinus@gmx.de>\n\n\tImprove Tramp traces\n\t* lisp/net/trampver.el (tramp-repository-get-version): New defun.\n\t* lisp/net/tramp.el (tramp-debug-message): Use it.\n\n2015-05-30  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tbackup-buffer minor reworking of internals\n\t* lisp/files.el (backup-buffer): Rework to avoid a couple of\n\tunused locals inadvertently introduced in the previous change.\n\n\tbackup-buffer now reports .emacs.d/%backup% ills\n\t* lisp/files.el (backup-buffer): If the write to .emacs.d/%backup%\n\tfails due to disk space exhaustion or whatever, do not pretend\n\tthat it succeeded.  More generally, do a better job of checking\n\tfor I/O failures, and limit the scope of the condition-case to\n\tjust the operations where file errors should be caught and ignored\n\t(Bug#20595).  Also, don't bother trying to delete later backups if\n\tan earlier deletion fails, as this is a sign of trouble and it's\n\tbetter to stop when there's trouble.\n\n\tcopy-file now truncates output after writing\n\t* src/fileio.c (Fcopy_file): Truncate output after writing rather\n\tthan before.  This is more likely to work than truncation before\n\twriting, if the file system is out of space or the user is over\n\tdisk quota (Bug#20595).  Also, check for read errors.\n\n2015-05-29  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el (package-load-all-descriptors):\n\tDon't load descriptors from directories above the package directories.\n\n2015-05-29  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from gnulib\n\tThis incorporates the following (Bug#20681):\n\t2015-05-29 acl-permissions: Fix build on Mac OS X and older AIX\n\t2015-05-29 acl-permissions: Fix build on Solaris and Cygwin\n\t* lib/set-permissions.c: Copy from gnulib.\n\n2015-05-29  Michael Albinus  <michael.albinus@gmx.de>\n\n\tImprove Tramp traces\n\t* lisp/net/tramp.el (tramp-call-process-region): New defun.\n\t* lisp/net/tramp-sh.el (tramp-get-inline-coding): Use it.\n\n2015-05-29  Glenn Morris  <rgm@gnu.org>\n\n\t* test/automated/vc-tests.el: Try enabling tests on hydra.nixos.org.\n\n2015-05-29  Wolfgang Jenkner  <wjenkner@inode.at>\n\n\t* src/xfns.c (x_set_menu_bar_lines): Fix calls to x_clear_area.\n\tThe signature was changed in the cairo branch, merged on 2015-05-23.\n\tThis oversight broke compiling only the non-toolkit X version.\n\n2015-05-29  Samer Masterson  <samer@samertm.com>\n\n\t* doc/lispref/os.texi: Update initial-buffer-choice docs.\n\n2015-05-29  Glenn Morris  <rgm@gnu.org>\n\n\t* test/automated/vc-tests.el (vc-test-rcs04-checkout-model):\n\tMark as an expected failure.\n\n2015-05-29  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tChange package test to look for curved quotes\n\t* test/automated/package-test.el (package-test-describe-package)\n\t(package-test-signed): Search for curved single quotes as well as\n\tfor grave accent and apostrophe.\n\n2015-05-28  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\t* lisp/gnus/gnus-art.el (gnus-button-alist): Re-revert last change.\n\tcf. <http://news.gmane.org/group/gmane.emacs.devel/thread=186896>\n\n2015-05-28  Samer Masterson  <samer@samertm.com>\n\n\tShow files when `initial-buffer-choice' is non-nil\n\t* lisp/startup.el (command-line-1): When Emacs is given a file as an\n\targument and `initial-buffer-choice' is non-nil, display both the file\n\tand `initial-buffer-choice'.  For more than one file, show\n\t`initial-buffer-choice' and *Buffer List*.  Refactor display-changing\n\tcommands out of the command line arg parser.\n\t(initial-buffer-choice): Clarify docstring.\n\n2015-05-28  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix last commit\n\t* nt/gnulib.mk (libgnu_a_SOURCES): Add get-permissions.c back.\n\t(gnulib module qcopy-acl): Add back, as it is harmless.  This\n\tminimizes differences wrt lib/gnulib.mk.\n\n\tFix the MS-Windows build as followup to gnulib update\n\t* nt/gnulib.mk (libgnu_a_SOURCES): Remove get-permissions.c and\n\tset-permissions.c, as they don't compile on MinGW.\n\t(gnulib module qcopy-acl): Remove, as it needs set-permissions.c.\n\n2015-05-28  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRevert my change to gnus-art.el\n\t* lisp/gnus/gnus-art.el (gnus-button-alist): Revert last change.\n\tIt wasn't that important, and it caused a Gnus build to fail.  See:\n\thttp://www.randomsample.de:4456/builders/emacs-devel/builds/734\n\n\tNew minor mode Electric Quote\n\tThis lets you easily insert quotes \u2018like this\u2019 by typing\n\tquotes `like this', and similarly you can easily insert\n\tquotes \u201clike this\u201d by typing quotes ``like this'' (Bug#20545).\n\t* doc/emacs/basic.texi (Inserting Text):\n\t* doc/emacs/modes.texi (Minor Modes):\n\t* etc/NEWS: Document it.\n\t* doc/emacs/text.texi (Quotation Marks): New section.\n\t* lisp/electric.el (electric-quote-comment)\n\t(electric-quote-string, electric-quote-paragraph):\n\tNew custom vars.\n\t(electric--insertable-p)\n\t(electric-quote-post-self-insert-function): New functions.\n\t(electric-quote-mode, electric-quote-local-mode): New minor modes.\n\t* lisp/progmodes/elisp-mode.el (emacs-lisp-mode):\n\tAdd curved single quotes to electric-pair-text-pairs.\n\tSet electric-quote-string in this buffer.\n\n\tA few more doc string fixes (Bug#20385)\n\n\tAccept curved quotes in doc strings\n\t* lisp/info-look.el (info-lookup-guess-custom-symbol):\n\t(info-lookup-alist): Treat \u2018\u2019 like `' when parsing help buffers etc.\n\n\tGenerate curved quotes in pseudo-info nodes\n\t* lisp/info.el (Info-virtual-index-find-node)\n\t(Info-virtual-index, Info-apropos-find-node, info-apropos):\n\tQuote \u2018like this\u2019, not `like this', when generating pseudo-info nodes.\n\n\tFix minor quoting problems in doc strings\n\tMost of these fixes involve escaping grave accents that are\n\tactually intended to be grave accents, not left quotes.\n\t(Bug#20385)\n\n\tSupport curved quotes in doc strings\n\tEmacs's traditional doc string style has been to quote symbols\n\t`like this'.  This worked well on now-obsolete terminals where\n\t` and ' were symmetric quotes, but nowadays curved quotes\n\t\u2018like this\u2019 look better.  Support quoting the new way too.\n\t(Bug#20385)\n\t* doc/lispref/tips.texi (Documentation Tips): Symbols can be quoted\n\t\u2018like-this\u2019 as well as `like-this'.\n\t* etc/NEWS: Mention this.\n\t* lisp/cedet/mode-local.el (overload-docstring-extension)\n\t(mode-local-print-binding, mode-local-describe-bindings-2):\n\t* lisp/cus-theme.el (describe-theme-1):\n\t* lisp/descr-text.el (describe-text-properties-1, describe-char):\n\t* lisp/emacs-lisp/checkdoc.el (checkdoc-this-string-valid-engine):\n\t* lisp/emacs-lisp/cl-generic.el (cl--generic-describe):\n\t* lisp/emacs-lisp/eieio-opt.el (eieio-help-class)\n\t(eieio-help-constructor):\n\t* lisp/emacs-lisp/package.el (describe-package-1):\n\t* lisp/faces.el (describe-face):\n\t* lisp/help-fns.el (help-fns--key-bindings)\n\t(help-fns--compiler-macro, help-fns--parent-mode, help-fns--obsolete):\n\t(help-fns--interactive-only, describe-function-1):\n\t(describe-variable):\n\t* lisp/help.el (describe-mode):\n\t* lisp/international/mule-cmds.el (describe-input-method)\n\t(describe-language-environment):\n\t* lisp/international/mule-diag.el (describe-character-set)\n\t(print-coding-system-briefly, list-input-methods)\n\t(list-input-methods-1):\n\tInsert curved quotes rather than grave accent and apostrophe.\n\t* lisp/cedet/srecode/texi.el (srecode-texi-texify-docstring):\n\t* lisp/emacs-lisp/checkdoc.el (checkdoc-this-string-valid-engine)\n\t(checkdoc-proper-noun-region-engine):\n\t* lisp/emacs-lisp/lisp-mode.el (lisp-el-font-lock-keywords-2)\n\t(lisp-cl-font-lock-keywords-2):\n\t* lisp/finder.el (finder-font-lock-keywords):\n\t* lisp/gnus/gnus-art.el (gnus-button-alist):\n\t* lisp/help-fns.el (help-do-arg-highlight)\n\t(describe-function-1, describe-variable):\n\t* lisp/help-mode.el (help-xref-symbol-regexp)\n\t(help-xref-info-regexp, help-xref-url-regexp):\n\t* lisp/help.el (describe-mode):\n\t* lisp/international/mule-cmds.el (help-xref-mule-regexp-template):\n\t* lisp/wid-edit.el (widget-documentation-link-regexp):\n\tParse symbols quoted \u2018like-this\u2019 as well as `like-this'.\n\t* lisp/progmodes/elisp-mode.el (emacs-lisp-mode):\n\tAdd \"\u2018\" and \"\u2019\" to electric-pair-text-pairs.\n\t(elisp--form-quoted-p): Also allow \"\u2018\" as a quoting char.\n\t(elisp-completion-at-point, elisp--preceding-sexp):\n\tAlso treat \"\u2018\" and \"\u2019\" as quoting chars.\n\n\tsubstitute-command-keys now curves quotes\n\tSo, for example, it turns \"`abc'\" into \"\u2018abc\u2019\" (Bug#20385).\n\t* doc/lispref/help.texi (Keys in Documentation):\n\t* etc/NEWS: Document this.\n\t* src/doc.c (Fsubstitute_command_keys): Implement it.\n\n2015-05-28  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/mail/rmailsum.el (rmail-summary-by-recipients)\n\t(rmail-summary-by-topic, rmail-summary-by-senders):\n\tNo longer strip leading/trailing whitespace.\n\n\t* lisp/progmodes/f90.el (f90-type-def-re): Add \"type, extends\".\n\t(f90-no-block-limit): Add \"enum\".  (Bug#20680)\n\t* test/automated/f90.el (f90-test-bug20680, f90-test-bug20680b):\n\tNew tests.\n\n2015-05-27  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/isearch.el (isearch--current-buffer): Give a default value.\n\tUn-revert changes mistakenly dropped by f9fabb2b.\n\n2015-05-27  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from gnulib\n\tThis incorporates:\n\t2015-05-27 qacl: Reimplement qset_acl and qcopy_acl (Bug#20666)\n\t2015-05-27 file-has-acl: Split feature tests again (Bug#20667)\n\t2015-05-27 string: fix build failure on BSD/OSX with FORTIFY_SOURCE\n\t2015-05-26 stdio: limit __gnu_printf__ witness to gcc 4.4+\n\t2015-05-26 inttypes: force correct mingw PRIdMAX even without <stdio.h>\n\t2015-05-26 stdio: fix probe on mingw under gcc 5.1\n\t* admin/merge-gnulib (GNULIB_MODULES):\n\tReplace qacl with qcopy-acl, since we don't need the rest of qacl.\n\t* doc/misc/texinfo.tex, lib/acl-internal.c, lib/acl-internal.h:\n\t* lib/inttypes.in.h, lib/qcopy-acl.c, lib/qset-acl.c:\n\t* lib/string.in.h, m4/acl.m4, m4/stdio_h.m4:\n\tGet latest versions from gnulib.\n\t* lib/get-permissions.c, lib/set-permissions.c: New files.\n\t* lib/gnulib.mk, m4/gnulib-comp.m4:\n\tRegenerate.\n\t* nt/gnulib.mk: Merge lib/gnulib.mk changes by hand.\n\n2015-05-27  Dmitry Gutov  <dgutov@yandex.ru>\n\n\t* lisp/vc/vc-dispatcher.el (vc-setup-buffer): Delete the old\n\tprocess here.\n\t(vc-do-command): Rather than here (bug#20608).\n\n2015-05-27  Ivan Shmakov  <ivan@siamics.net>\n\n\tAvoid gratuitous delete-dups in face-at-point\n\t* lisp/faces.el (face-at-point): Do not compute the properly\n\tordered, duplicate-free list if only a single value is\n\trequested anyway.  (Bug#20519)\n\n\tShow the exact C-x 8 RET invocation in describe-char\n\t* lisp/descr-text.el (describe-char): Show the exact C-x 8 RET\n\tinvocation instead of a template.  (Bug#20522)\n\n2015-05-27  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el: Don't erase tags on refresh.\n\t(package-menu--post-refresh): Call `tabulated-list-print' with the\n\tUPDATE argument.  This only affects the refresh action, the revert\n\taction still erases tags.\n\t(package-menu-get-status): Change `assq' to `assoc'.\n\t(package-menu--mark-upgrades-1): New function.\n\t(package-menu--mark-upgrades-pending): New variable.\n\t(package-menu-mark-upgrades): Use them to delay marking until\n\tafter refresh is done.\n\t(package-menu--post-refresh): Call mark-upgrades-1 if\n\tmark-upgrades-pending is non-nil.\n\n2015-05-27  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* lisp/net/tramp.el (tramp-handle-make-auto-save-file-name):\n\tFix typo in \"Improve tramp-handle-make-auto-save-file-name\"\n\t(commit 3953c4be2816537be95520605d45b866dc731f4b).\n\n2015-05-27  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/isearch.el (isearch--current-buffer): New var.\n\t(isearch-update): Set cursor-sensor-inhibit here.\n\t(isearch-done): Unset cursor-sensor-inhibit in the right buffer\n\t(bug#20532).\n\n\tChange inhibit-point-motion-hooks to t\n\t* src/textprop.c (syms_of_textprop): Default Vinhibit_point_motion_hooks\n\tto t and document it as obsolete.\n\n2015-05-27  Eli Zaretskii  <eliz@gnu.org>\n\n\tSupport ZIP files that use Zip64 extensions\n\t* lisp/arc-mode.el (archive-zip-summarize): Handle the new ZIP\n\tformat of central directory offsets used by Zip64 extensions.\n\t(Bug#20665)\n\n2015-05-27  Michael Albinus  <michael.albinus@gmx.de>\n\n\tNew test tramp-test30-make-auto-save-file-name\n\t* test/automated/tramp-tests.el\n\t(tramp-test30-make-auto-save-file-name): New test.\n\t(tramp-test31-special-characters)\n\t(tramp-test31-special-characters-with-stat)\n\t(tramp-test31-special-characters-with-perl)\n\t(tramp-test31-special-characters-with-ls, tramp-test32-utf8)\n\t(tramp-test32-utf8-with-stat, tramp-test32-utf8-with-perl)\n\t(tramp-test32-utf8-with-ls, tramp-test33-asynchronous-requests)\n\t(tramp-test34-recursive-load, tramp-test35-unload): Rename.\n\n\tImprove tramp-handle-make-auto-save-file-name\n\t* lisp/net/tramp.el (tramp-auto-save-directory): Add :tags.\n\t(tramp-handle-make-auto-save-file-name): Let native\n\t`make-auto-save-file-name' use `auto-save-file-name-transforms',\n\tif `tramp-auto-save-directory' is not set.\n\n2015-05-27  Glenn Morris  <rgm@gnu.org>\n\n\tNo longer set dired-directory in eshell.  (Bug#16477)\n\t* lisp/eshell/esh-mode.el (eshell-mode):\n\t* lisp/eshell/em-dirs.el (eshell/cd): No longer set dired-directory.\n\n\t* lisp/mail/sendmail.el (mail-position-on-field): Doc fix.\n\n\tMake c-submit-bug-report file reports at debbugs.gnu.org.  (Bug#15784)\n\t* lisp/progmodes/cc-mode.el (c-mode-help-address):\n\tChange to submit@debbugs.\n\t(c-mode-bug-package): New constant.\n\t(mail-position-on-field): Declare.\n\t(c-submit-bug-report): Insert X-Debbugs-Package header.\n\t* doc/misc/cc-mode.texi (Mailing Lists and Bug Reports):\n\tMention debbugs.gnu.org.\n\n2015-05-26  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/mail/rmailsum.el: Commas no longer separate regexps.  (Bug#19026)\n\t(rmail-summary-by-recipients, rmail-summary-by-topic)\n\t(rmail-summary-by-senders): No longer use mail-comma-list-regexp.\n\t* doc/emacs/rmail.texi (Rmail Make Summary): Update for this change.\n\n2015-05-26  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tHandle curved quotes in info files\n\t* lisp/calc/calc-help.el (calc-describe-thing):\n\t* lisp/info.el (Info-find-index-name)\n\t(Info-try-follow-nearest-node, Info-fontify-node):\n\t* lisp/vc/ediff-help.el (ediff-help-for-quick-help):\n\tIn info files, process quotes \u2018like this\u2019 the same way we process\n\tquotes `like this'.  This catches a few places we missed earlier.\n\n2015-05-26  Dmitry Gutov  <dgutov@yandex.ru>\n\n\txref-prompt-for-identifier: Use a list value\n\t* lisp/progmodes/xref.el (xref-prompt-for-identifier): Allow list\n\tvalue, to be interpreted as a list of commands.\n\t(xref--prompt-p): New function.\n\t(xref--read-identifier): Use it.\n\n2015-05-26  Eli Zaretskii  <eliz@gnu.org>\n\n\tTeach MS-Windows font back-end return per-glyph ascent/descent\n\t* src/w32font.h (struct w32_metric_cache): Add ascent and descent\n\tvalues.\n\t* src/w32font.c (w32font_text_extents): Compute, cache, and\n\taccumulate per-glyph ascent and descent values, instead of copying\n\tglobal values from the font.  If the values are not available from\n\tthe font data, i.e., non-TTF fonts, fall back on font-global values.\n\t(compute_metrics): Compute and return per-glyph ascent and descent\n\tvalues, if returned by GetGlyphOutlineW, falling back on\n\tfont-global values.  (Bug#20628)\n\t* src/w32term.c (w32_draw_rectangle): Add 1 pixel to width and\n\theight of rectangle to be drawn, to be compatible with\n\tXDrawRectangle.  Fixes glyphless-char display as hex codes in a\n\tbox, when per-glyph ascent/descent values are used.\n\n2015-05-26  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/tabulated-list.el (tabulated-list-print):\n\tDon't sort if sorter is nil.\n\n2015-05-26  Michael Albinus  <michael.albinus@gmx.de>\n\n\tFix Bug#20621\n\t* lisp/net/tramp-sh.el (tramp-set-auto-save): Remove it.  There\n\tare major modes which set `auto-save-mode' on their own rules;\n\tTramp shall not overwrite such settings.\n\n2015-05-26  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/desktop.el: If modes aren't autoloaded, try simple guesswork.\n\t(desktop-load-file): Guess that \"foobar\" defines \"foobar-mode\".\n\t(desktop-buffer-mode-handlers, desktop-minor-mode-handlers):\n\tDoc updates.\n\t(vc-dir-mode): Remove unnecessary autoload.\n\n2015-05-25  Philipp Stephani  <phst@google.com>\n\n\t* lisp/term/xterm.el: Add gui-get-selection support via OSC-52.\n\t(xterm--extra-capabilities-type): Add `getSelection'.\n\t(xterm--query): Add `no-async' argument.\n\t(xterm--init-activate-get-selection): New function.\n\t(terminal-init-xterm): Use it.\n\t(xterm--init-modify-other-keys): Rename from\n\tterminal-init-xterm-modify-other-keys.\n\t(xterm--init-bracketed-paste-mode): Rename from\n\tterminal-init-xterm-bracketed-paste-mode.\n\t(xterm--init-activate-set-selection): Rename from\n\tterminal-init-xterm-activate-set-selection.\n\t(xterm--selection-char): New function.\n\t(gui-backend-set-selection): Use it.  Use the &context to only apply\n\tthis method in terminals where we enabled the feature.\n\t(gui-backend-get-selection): New method.\n\n2015-05-25  Daniel Colascione  <dancol@dancol.org>\n\n\t* lisp/progmodes/cc-langs.el (c-constant-kwds): Add C-language\n\tkeyword constants to C++.\n\n2015-05-25  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMake TAGS files more portable to MS-Windows\n\t* etc/NEWS: Document this.\n\t* lib-src/etags.c (readline_internal) [DOS_NT]:\n\tDon't treat CRs differently from GNUish hosts.\n\t* lisp/progmodes/etags.el (etags-goto-tag-location):\n\tAdjust STARTPOS to account for the skipped CRs in dos-style files.\n\n2015-05-25  Michael Albinus  <michael.albinus@gmx.de>\n\n\tImprove fix of bug#20634 in tramp-sh.el\n\n2015-05-25  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix a typo in last commit\n\t* lib-src/etags.c (C_entries): Fix a typo.\n\t* test/etags/ETAGS.good_1:\n\t* test/etags/ETAGS.good_2:\n\t* test/etags/ETAGS.good_3:\n\t* test/etags/ETAGS.good_4:\n\t* test/etags/ETAGS.good_5:\n\t* test/etags/CTAGS.good: Update due to the change in etags.c.\n\n\tFix tagging of class members in C-like OO languages\n\t* lib-src/etags.c (longopts): Add new option --class-qualify and\n\tits shorthand -Q.\n\t(print_help): Add help text for --class-qualify.\n\t(main): Add handling of -Q.\n\t(consider_token, C_entries) <omethodparm>: Append argument types\n\tto Objective C methods only if --class-qualify was specified.\n\tQualify C++, Objective C, and Java class members with their class\n\tnames only if --class-qualify was specified.\n\t(C_entries): If --class-qualify was not specified, remove the\n\tnamespace and class qualifiers from tag names of C++ methods.\n\tThis allows to use etags.el as xref back-end without the\n\ttag-symbol-match-p method, which greatly increases the number of\n\tpotentially false positives.  (Bug#20629)\n\t* doc/man/etags.1: Update to document the new --class-qualify\n\toption.\n\t* test/etags/ETAGS.good_1:\n\t* test/etags/ETAGS.good_2:\n\t* test/etags/ETAGS.good_3:\n\t* test/etags/ETAGS.good_4:\n\t* test/etags/ETAGS.good_5:\n\t* test/etags/CTAGS.good: Update due to changes in etags.c.\n\n2015-05-25  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t(cl-generic-define-method): Side effects are evil (bug#20644)\n\t* lisp/emacs-lisp/cl-generic.el (cl-generic-define-method): Don't reuse\n\tcons-cells that might be used as keys in an `equal' hash-table.\n\n2015-05-25  Lars Magne Ingebrigtsen  <larsi@gnus.org>\n\n\tMake erc timestamps visible again\n\t* lisp/erc/erc-stamp.el (erc-munge-invisibility-spec):\n\tMake timestamps visible again (if requested).\n\n2015-05-25  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix last change in etags.c that broke tagging compresed files\n\t* lib-src/etags.c (process_file_name) [MSDOS || DOS_NT]: Fix\n\tquoting of decompression shell command for MS-Windows/MS-DOS.\n\n2015-05-25  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/cl-macs.el (cl-tagbody): Scope cl--tagbody-alist.\n\t(Bug#20639)\n\n2015-05-25  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* lisp/net/tramp-sh.el (tramp-do-copy-or-rename-file-via-buffer):\n\tFix typo in \"Inhibit `epa-file-handler' in Tramp\"\n\t(commit 89035e247591c8d688fce922b7079881aa110f33).\n\n2015-05-25  Orivej Desh  <orivej@gmx.fr>  (tiny change)\n\n\tFix IPv6 addresses in Tramp\n\t* lisp/net/tramp-sh.el (tramp-make-copy-program-file-name):\n\tAdd square brackets around host name.\n\n2015-05-25  Michael Albinus  <michael.albinus@gmx.de>\n\n\tInhibit `epa-file-handler' in Tramp (Bug#20634)\n\t* lisp/net/tramp-sh.el (tramp-do-copy-or-rename-file-via-buffer)\n\t(tramp-sh-handle-insert-file-contents-literally): Inhibit also\n\t`epa-file-handler'.\n\n2015-05-24  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/pcase.el: Use PAT rather than UPAT in docstring.\n\t(pcase-let): Document the behavior in case the pattern doesn't match.\n\n2015-05-24  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/tabulated-list.el: New optional print method.\n\t(tabulated-list-print): New optional argument, UPDATE.  If\n\tnon-nil, the list is printed by only adding and deleting the\n\tchanged entries, instead of erasing the whole buffer.  This method\n\tis much faster when few or no entries have changed.\n\t* doc/lispref/modes.texi (Tabulated List Mode): Document it.\n\t* etc/NEWS: Document it.\n\n\t* lisp/emacs-lisp/tabulated-list.el: Improve printing.\n\t(tabulated-list--get-sorter): New function.\n\t(tabulated-list-print): Restore window-line when remember-pos is\n\tpassed and optimize away the `nreverse'.\n\n2015-05-24  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSimpilify etags TEX mode scanning\n\t* lib-src/etags.c (TEX_mode, TEX_esc, TEX_opgrp, TEX_clgrp):\n\tRemove static vars.\n\t(TeX_commands): Deduce escapes here instead.\n\t(TEX_LESC, TEX_SESC, TEX_mode): Remove; all uses removed.\n\tThis removes the need for a reset_input call.\n\n\tImprove etags I/O error reporting\n\t* lib-src/etags.c:\n\tDon't include sys/types.h and sys/stat.h; no longer needed.\n\t(infilename): New static var.\n\t(process_file_name): Don't call 'stat'.  Instead, just open the\n\tfile for reading and report any errors.  Don't bother making\n\ta copy of the file argument; it's not needed.  Be more careful to\n\tuse the failing errno when reporting an error.\n\tQuote the real name better (though no perfectly)\n\twhen passing it to the shell.\n\t(reset_input): New function, which reports I/O errors.\n\tAll uses of 'rewind' changed to use this function.\n\t(perhaps_more_input): New function, which also checks for\n\tI/O errors.  All uses of 'feof' changed to use this function.\n\t(analyze_regex): Report an error if fclose fails.\n\t(readline_internal): Report an error if getc fails.\n\t(etags_mktmp): Return an error if close fails.\n\n\tetags.c: avoid side effects in 'if'\n\t* lib-src/etags.c (process_file_name, Perl_functions)\n\t(TEX_decode_env): Hoist side effects into previous statement.\n\n\t.gitignore tweaks\n\t* .gitignore: Ignore all *.stamp files.  Sort.\n\tIgnore [0-9]*.txt (commonly used name for git patches)\n\tand /vc-dwim-log-* (vc-dwim temporary).\n\n2015-05-24  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix last change in etags.c, which failed the test suite\n\t* lib-src/etags.c (intoken): Add '$' to the set, as it was there\n\tbefore the last change.\n\n2015-05-23  Glenn Morris  <rgm@gnu.org>\n\n\tRemove charset map files from repository, generate in first bootstrap\n\t* admin/charsets/Makefile.in (${srcdir}/charsets.stamp): New.\n\t(all): Create the stamp file.\n\t(extraclean): Delete the stamp file.\n\t* src/Makefile.in (lispintdir, charsets): New variables.\n\t(${lispintdir}/cp51932.el, ${lispintdir}/eucjp-ms.el, ${charsets}):\n\tNew rules.\n\t(emacs$(EXEEXT), temacs$(EXEEXT)): Depend on $charsets.\n\t* lisp/international/cp51932.el, lisp/international/eucjp-ms.el:\n\t* etc/charsets/*.map: Remove from repository.\n\n2015-05-23  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tCleanup etags.c to use locale-independent code\n\tAlthough this doesn't alter behavior (as etags doesn't use\n\tsetlocale), the new version is more clearly locale-independent and\n\tthe executable is a bit smaller on my platform.\n\t* lib-src/etags.c: Include <limits.h>, for UCHAR_MAX.\n\tInclude <c-ctype.h> instead of <ctype.h>.\n\t(CHARS, CHAR, init, _wht, _nin, _itk, _btk, _etk, white, nonam, endtk)\n\t(begtk, midtk):\n\tRemove; no longer needed.\n\t(iswhite, ISALNUM, ISALPHA, ISDIGIT, ISLOWER, lowcase): Remove.\n\tAll callers changed to use c_isspace, c_isalnum, c_isalpha, c_isdigit,\n\tc_islower, c_tolower, respectively.\n\t(notinname, begtoken, intoken, endtoken): Rewrite as functions\n\tinstead of macros, and initialize the tables at compile-time\n\trather than at run-time.\n\n\tPut default action first in src/Makefile\n\t* src/Makefile.in (all): Put this rule before lisp.mk.\n\tThat way, plain 'make' works in the src directory again.\n\n2015-05-23  Glenn Morris  <rgm@gnu.org>\n\n\t* Makefile.in: Fix extraclean rule.\n\t(extraclean_dirs): New.\n\t(extraclean): Use it.\n\n2015-05-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid compiler warning in image.c on MS-Windows\n\t* src/w32term.h (x_query_color): Add prototype, to avoid compiler\n\twarning in image.c.\n\n2015-05-23  Glenn Morris  <rgm@gnu.org>\n\n\tFix --without-toolkit-scroll-bars builds.\n\t* src/xterm.c (x_scroll_bar_set_handle) [!USE_TOOLKIT_SCROLL_BARS]:\n\tAdd new argument to x_clear_area1.\n\t(XTset_horizontal_scroll_bar) [!USE_TOOLKIT_SCROLL_BARS]:\n\tUpdate x_clear_area arguments.\n\n\t* admin/charsets/glibc/: New directory, imported from glibc 2.21.\n\t* admin/charsets/Makefile.in (GLIBC_CHARMAPS):\n\tChange to included version.\n\t(LOCAL, local, totalclean): Remove.\n\t(extraclean): Delete all generated files.\n\n2015-05-23  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/pcmpl-cvs.el (pcmpl-cvs-entries): Don't assume\n\tCVS/Entries exists.\n\n\t* lisp/progmodes/xref.el (xref-find-apropos): Use read-string.\n\n\t* lisp/progmodes/etags.el (tags-completion-at-point-function):\n\tDon't trust the find-tag function.\n\n2015-05-23  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPacify --enable-gcc-warnings\n\t* src/frame.h (x_query_color): Remove redundant extern decl.\n\t* src/ftcrfont.c (ftcrfont_glyph_extents, ftcrfont_list)\n\t(ftcrfont_match, ftcrfont_open, ftcrfont_close)\n\t(ftcrfont_text_extents, ftcrfont_draw):\n\t* src/xterm.c (x_set_window_size_1, *x_color_cells, x_update_end)\n\t(XTframe_up_to_date, x_clear_area1, x_clear_frame)\n\t(x_ins_del_lines, frame_highlight, frame_unhighlight)\n\t(x_new_focus_frame, x_focus_changed, XTframe_rehighlight)\n\t(x_draw_hollow_cursor, x_draw_bar_cursor, x_flush, x_update_begin)\n\t(x_update_window_begin, x_connection_closed)\n\t(x_set_clip_rectangles, x_reset_clip_rectangles, x_fill_rectangle)\n\t(x_draw_rectangle, x_fill_trapezoid_for_relief, x_clear_window)\n\t(*x_gc_get_ext_data, x_extension_initialize)\n\t(x_cr_accumulate_data):\n\tRemove redundant static decl.  Many of these GCC doesn't complain\n\tabout, but we might as well clean out the duplication while we're\n\tin the neighborhood.\n\t* src/xterm.c (x_fill_trapezoid_for_relief):\n\tRemove decl of nonexistent function.\n\n2015-05-23  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tReplace gui-method macros with cl-generic with &context\n\t* lisp/frame.el (gui-method--name, gui-method, gui-method-define)\n\t(gui-method-declare, gui-call): Remove.\n\t(frame-creation-function): Use cl-defgeneric.\n\t(make-frame): Adjust callers.\n\t* lisp/menu-bar.el (menu-bar-edit-menu):\n\tUse gui-backend-selection-exists-p.\n\t* lisp/select.el (x-get-clipboard): Use gui-backend-get-selection.\n\t(gui-backend-get-selection): New cl-generic to replace\n\tgui-get-selection method.\n\t(gui-backend-set-selection): New cl-generic to replace\n\tgui-set-selection method.\n\t(gui-selection-owner-p): New cl-generic to replace\n\tgui-selection-owner-p method.\n\t(gui-backend-selection-exists-p): New cl-generic to replace\n\tgui-selection-exists-p method.  Adjust all callers.\n\t* lisp/server.el (server-create-window-system-frame): Don't ignore\n\twindow-system spec even when unsupported.\n\t* lisp/simple.el (deactivate-mark): Use new gui-backend-* functions.\n\t* lisp/startup.el (handle-args-function, window-system-initialization):\n\tUse cl-defgeneric.\n\t(command-line): Adjust calls accordingly.\n\t* lisp/term/ns-win.el (ns-window-system-initialization): Turn into\n\ta window-system-initialization method.\n\t(handle-args-function, frame-creation-function): Use cl-defmethod.\n\t(gui-set-selection, gui-selection-owner-p, gui-selection-exists-p)\n\t(gui-get-selection): Use cl-defmethod on the new functions instead.\n\t* lisp/term/pc-win.el (w16-get-selection-value): Turn into\n\ta gui-backend-get-selection method.\n\t(gui-selection-exists-p, gui-selection-owner-p, gui-set-selection):\n\tUse cl-defmethod on the new functions instead.\n\t(msdos-window-system-initialization): Turn into\n\ta window-system-initialization method.\n\t(frame-creation-function, handle-args-function): Use cl-defmethod.\n\t* lisp/term/w32-win.el (w32-window-system-initialization): Turn into\n\ta window-system-initialization method.\n\t(handle-args-function, frame-creation-function): Use cl-defmethod.\n\t(gui-set-selection, gui-selection-owner-p, gui-selection-exists-p)\n\t(gui-get-selection): Use cl-defmethod on the new functions instead.\n\t* lisp/term/x-win.el (x-window-system-initialization): Turn into\n\ta window-system-initialization method.\n\t(handle-args-function, frame-creation-function): Use cl-defmethod.\n\t(gui-set-selection, gui-selection-owner-p, gui-selection-exists-p)\n\t(gui-get-selection): Use cl-defmethod on the new functions instead.\n\t* lisp/term/xterm.el (xterm--set-selection): Turn into\n\ta gui-backend-set-selection method.\n\t* src/nsselect.m (Fns_selection_exists_p): Remove unused arg `terminal'.\n\t(Fns_selection_owner_p): Remove unused arg `terminal'.\n\t(Fns_get_selection): Remove unused args `time_stamp' and `terminal'.\n\n2015-05-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tRevert \"Fix etags Bug#20629 that broke C++ support\"\n\tThis reverts commit 13dd9d4f7e75d2c78aa5537cef09de03663e9748.\n\n2015-05-23  Jan D  <jan.h.d@swipnet.se>\n\n\tFix etags Bug#20629 that broke C++ support\n\t* lisp/progmodes/etags.el (etags-xref-find-definitions-tag-order):\n\tRevert commit from Sun May 10 (Bug#20629).\n\n\tMerge branch 'cairo'.\n\tMain work done by YAMAMOTO Mitsuharu <mituharu@math.s.chiba-u.ac.jp>.\n\tSmall fixes and image work by Jan D. <jan.h.d@swipnet.se>.\n\n\tMerge branch 'master' into cairo\n\n\tFixes to compile cairo branch without cairo\n\t* src/gtkutil.c (xg_update_scrollbar_pos): x_clear_area takes frame as\n\tfirst argument.\n\t* src/xterm.c (handle_one_xevent): Surround x_cr_destroy_surface with\n\tUSE_CAIRO.\n\n2015-05-23  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el: Always update selected-packages.\n\t(package--update-selected-packages): New function.\n\t(package-menu-execute): Use it before starting the transaction,\n\tthis way the list of selected packages is updated even when the\n\ttransaction fails.\n\t(package-menu--perform-transaction): Don't edit selected-packages.\n\n2015-05-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix etags reading of compressed files\n\t* lib-src/etags.c (O_CLOEXEC) [WINDOWSNT]: Define.\n\tInclude fcntl.h, for O_CLOEXEC.\n\t(process_file_name): Don't use 'popen', whose streams cannot be\n\trewound.  Instead, uncompress the file to a temporary file,\n\tcreated by 'etags_mktmp', and read from that as usual.\n\t(etags_mktmp): New function.\n\t* test/etags/ETAGS.good_1:\n\t* test/etags/ETAGS.good_2:\n\t* test/etags/ETAGS.good_3:\n\t* test/etags/ETAGS.good_4:\n\t* test/etags/ETAGS.good_5: Update to be consistent with latest\n\tchanges in etags.c regarding reading compressed files.\n\n\tImprove documentation of 'set-fontset-font'\n\t* doc/lispref/display.texi (Fontsets): Document the value of nil\n\tfor the 3rd argument of 'set-fontset-font'.\n\n\tFix documentation of forward-line\n\t* src/cmds.c (Fforward_line): Clarify the return value if the line\n\tat end of accessible portion of the buffer has no newline.\n\t* doc/lispref/positions.texi (Text Lines): Document what happens\n\tif the line at end of accessible portion of buffer has no newline.\n\t(Bug#20587)\n\n2015-05-22  Glenn Morris  <rgm@gnu.org>\n\n\t* admin/charsets/Makefile.in (TRANS_TABLE): Add short aliases.\n\n\t* admin/charsets/mapconv (LC_ALL): Set to C.\n\n\t* Makefile.in: Add admin/charsets into top-level clean rules.\n\t(clean): Add admin/charsets.\n\t(maybeclean_dirs): New variable.\n\t(distclean, bootstrap-clean, maintainer-clean): Use $maybeclean_dirs.\n\n\t* admin/charsets/Makefile.in (LOCAL, local): Fix members.\n\n2015-05-22  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el (package-selected-packages): Fix doc.\n\n2015-05-22  Glenn Morris  <rgm@gnu.org>\n\n\tGenerate admin/charsets Makefile via configure, and make more portable\n\t* configure.ac (SUBDIR_MAKEFILES): Add admin/charsets/Makefile.\n\t(admin/charsets/Makefile): Generate it.\n\t* admin/charsets/Makefile.in: Rename from Makefile.\n\t(AWK, srcdir, top_srcdir, AM_DEFAULT_VERBOSITY):\n\tNew variables, set by configure.\n\t(charsetdir, lispintdir, mapfiledir, AM_V_GEN, am__v_GEN_)\n\t(am__v_GEN_0, am__v_GEN_1, AM_V_at, am__v_at_, am__v_at_0)\n\t(am__v_at_1, LOCAL, mapconv, run_mapconv, big5, compact, cp51932)\n\t(cp932, eucjp_ms, gb180302, gb180304, kuten): New variables.\n\t(TRANS_TABLE, CHARSETS): Add directory prefix to value.\n\t(all): Declare PHONY.\n\t(local): New PHONY target.\n\t(map_template): New template.  Use to define short PHONY aliases.\n\t(*.map): Add directory prefixes to targets and prerequisites.\n\tRespect make verbosity.\n\t(JISC6226.map): Replace non-portable sed append without newline.\n\t(install): Remove rule.\n\t(clean): Only delete temporary sedscript.\n\t(bootstrap-clean, distclean, maintainer-clean, extraclean)\n\t(totalclean): New PHONY rules.\n\t* admin/charsets/mapconv (BASE): Replace basename with expr.\n\t(FILE): Add \"mapfiles\" subdirectory.\n\t(AWK): New variable.  Use throughout in place of \"awk\".\n\t(main): Use \"gunzip -c\" in place of \"zcat\".\n\tDon't leave whitespace before \"p\", for older sed.\n\t* admin/charsets/mapfiles/PTCP154: Add final newline,\n\tto make older sed versions happy.\n\n2015-05-22  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/autorevert.el: Use lexical-binding.  Fix hook usage.\n\t(global-auto-revert-ignore-buffer, auto-revert-notify-modified-p)\n\t(auto-revert-notify-watch-descriptor): Use defvar-local.\n\t(find-file-hook, auto-revert-tail-mode)\n\t(auto-revert-notify-add-watch): Use setq-local.\n\t(auto-revert-notify-add-watch): Don't call make-local-variable on\n\tkill-buffer-hook (bug#20601).\n\n2015-05-21  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tChange defgeneric so it doesn't completely redefine the function\n\t* lisp/emacs-lisp/cl-generic.el (cl-generic-define): Don't throw away\n\tpreviously defined methods.\n\t(cl-generic-define-method): Let-bind purify-flag instead of\n\tusing `fset'.\n\t(cl--generic-prefill-dispatchers): Only define during compilation.\n\t(cl-method-qualifiers): Remove redundant alias.\n\t(help-fns-short-filename): Silence byte-compiler.\n\t* test/automated/cl-generic-tests.el:\n\tAdjust to new defgeneric semantics.\n\n2015-05-21  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el (package-menu-execute):\n\tRemove reference to remove-dups.\n\n2015-05-21  kwhite  <kwhite@gnu.org>\n\n\t* lisp/erc/erc.el: Hide network/channel messages.\n\t(erc-network-hide-list, erc-channel-hide-list): New lists to define\n\tmessage types per network/channel.\n\t(erc-add-targets): New function to parse list of targets.\n\t(erc-hide-current-message-p): Modify to check for new targets.\n\n2015-05-21  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDon't quote nil and t in doc strings\n\tThis is as per \"Tips for Documentation Strings\" in the elisp manual.\n\tFor consistency, do the same in diagnostics and comments.\n\n2015-05-21  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix a minor problem with mouse-face on mode line\n\t* src/xdisp.c (note_mode_line_or_margin_highlight): Reset the\n\tmouse face also if the mouse pointer hovers above mode-line glyphs\n\tthat don't come from any Lisp string.  (Bug#20620)\n\n2015-05-21  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el: Fix selected-package logic.\n\t(package-menu-execute): Mark as selected all non-upgrade packages\n\tbeing installed.\n\t(package-menu--perform-transaction): Don't mark anything.\n\n\t* lisp/emacs-lisp/package.el: Mode-line progress report.\n\t(package-menu--transaction-status): New variable.\n\t(package-menu-mode, package-menu--perform-transaction): Use it.\n\n\t* lisp/emacs-lisp/package.el: Better transaction messages.\n\t(package-menu--partition-transaction): New function.\n\t(package-menu--prompt-transaction-p, package-menu-execute):\n\tUse it.\n\t(package-menu--perform-transaction): Don't do any messaging.\n\n\t* lisp/emacs-lisp/package.el: Revert async package transactions.\n\t(package-menu-async): Update doc.\n\t(package-install-from-archive, package-download-transaction)\n\t(package-install, package-menu--perform-transaction)\n\t(package-menu-execute): Remove asynchronous functionality.\n\n2015-05-21  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRevert doc string changes to f90.el\n\tProblem reported by Glenn Morris in:\n\thttp://lists.gnu.org/archive/html/emacs-devel/2015-05/msg00596.html\n\t* lisp/progmodes/f90.el (f90-mode, f90-abbrev-start):\n\tRevert recent changes to doc strings, as it's intended that they\n\tuse grave accent, not quote.\n\n2015-05-20  Bozhidar Batsov  <bozhidar@batsov.com>\n\n\t* lisp/emacs-lisp/subr-x.el (hash-table-empty-p):\n\tImprove parameter name.\n\n\t* lisp/emacs-lisp/subr-x.el (hash-table-empty-p): New inline function.\n\n2015-05-20  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDon't require help-fns when not needed\n\t* lisp/emacs-lisp/autoload.el, lisp/emacs-lisp/advice.el:\n\t* lisp/emacs-lisp/elint.el:\n\tDon't require help-fns at the top level\n\t* lisp/emacs-lisp/advice.el (ad-arglist):\n\t* lisp/emacs-lisp/cl-macs.el (cl--transform-lambda):\n\tDon't require help-fns.  (Bug#17001)\n\n2015-05-20  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix slash collapsing in etags on MS-Windows\n\t* lib-src/etags.c (canonicalize_filename) [DOS_NT]: Separate the\n\tMS-Windows code from the Posix code, and support collapsing both\n\tforward- and back-slashes on MS-Windows.  Fixes a regression found\n\tby the test suite.\n\n\tImprove documentation of glyphless-char-display\n\t* doc/lispref/display.texi (Glyphless Chars): Improve\n\tdocumentation of glyphless character display.\n\n\tFix \"acronym\" display of glyphless characters on w32\n\t* src/w32term.c (x_draw_glyphless_glyph_string_foreground): Don't\n\tignore \"acronym\" substitutes of 1 character for glyphless characters.\n\n2015-05-20  Oleh Krehel  <ohwoeowho@gmail.com>\n\n\tAdd an automated test for let-when-compile\n\t* test/automated/subr-tests.el (let-when-compile): New test.\n\n\tAdd let-when-compile macro instead of using pcase-let\n\t* lisp/subr.el (let-when-compile): New let-like macro that makes its\n\tbindings known to macros like `eval-when-compile' in the body.\n\t* lisp/emacs-lisp/lisp-mode.el: Change the top-level `pcase-let' to\n\ta `let-when-compile'.  Also comment out the unused lexical var\n\t`el-kws-re'.\n\tThe change greatly improves readability, while providing almost the\n\tsame (even shorter) byte code: instead of pre-evaluating 10 variables,\n\ttossing them into a list, and destructuring that list a full screen\n\tpage later, the variables are simply bound as they are evaluated,\n\twrapped individually in `eval-when-compile'.\n\n2015-05-20  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el: \"Delete\" button in Help buffer.\n\t(package-delete-button-action): New function.\n\t(describe-package-1): Add Delete button.\n\n\t* lisp/emacs-lisp/package.el: Better dependency description.\n\t(package--used-elsewhere-p): New optional arg, ALL, and return\n\tpackage-desc objects instead of names.\n\t(package-delete): Update accordingly.\n\t(describe-package-1): Describe which packages require the package.\n\n2015-05-20  Martin Rudalics  <rudalics@gmx.at>\n\n\tFix handling and doc-string of FRAME arg of `other-buffer' (Bug#20533)\n\t* src/buffer.c (Fother_buffer): Argument FRAME must denote a live frame.\n\tFix doc-string.\n\n\tImprove `switch-to-buffer' in strongly dedicated windows (Bug#20472)\n\t* lisp/window.el (switch-to-buffer-in-dedicated-window): New option.\n\t(switch-to-buffer): If the selected window is strongly dedicated\n\tto its buffer, signal error before prompting for buffer name.\n\tHandle `switch-to-buffer-in-dedicated-window'.\n\t* doc/lispref/windows.texi (Switching Buffers):\n\tDocument `switch-to-buffer-in-dedicated-window'.\n\n2015-05-19  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPrefer \"this\" to \u201cthis\u201d in doc strings\n\tThis mostly just straightens quotes introduced in my previous patch.\n\tSuggested by Dmitry Gutov in:\n\thttp://lists.gnu.org/archive/html/emacs-devel/2015-05/msg00565.html\n\t* lisp/faces.el, lisp/gnus/gnus-group.el, lisp/ldefs-boot.el:\n\t* lisp/mail/supercite.el, lisp/net/tramp.el, lisp/recentf.el:\n\t* lisp/textmodes/artist.el, lisp/textmodes/rst.el:\n\t* lisp/textmodes/tildify.el, lisp/vc/ediff-util.el:\n\t* lisp/vc/log-edit.el, lisp/xt-mouse.el:\n\tPrefer straight double quotes to curved double quotes in doc strings.\n\n\tFix minor quoting problems in doc strings\n\tThese were glitches regardless of how or whether we tackle the\n\tproblem of grave accent in doc strings.\n\t* lisp/calc/calc-aent.el (math-restore-placeholders):\n\t* lisp/ido.el (ido-ignore-buffers, ido-ignore-files):\n\t* lisp/leim/quail/cyrillic.el (\"bulgarian-alt-phonetic\"):\n\t* lisp/leim/quail/hebrew.el (\"hebrew-new\")\n\t(\"hebrew-biblical-sil\"):\n\t* lisp/leim/quail/thai.el (\"thai-kesmanee\"):\n\t* lisp/progmodes/idlw-shell.el (idlwave-shell-file-name-chars):\n\tUsed curved quotes to avoid ambiguities like \u2018`''\u2019 in doc strings.\n\t* lisp/calendar/calendar.el (calendar-month-abbrev-array):\n\t* lisp/cedet/semantic/mru-bookmark.el (semantic-mrub-cache-flush-fcn):\n\t* lisp/cedet/semantic/symref.el (semantic-symref-tool-baseclass):\n\t* lisp/cedet/semantic/tag.el (semantic-tag-copy)\n\t(semantic-tag-components):\n\t* lisp/cedet/srecode/cpp.el (srecode-semantic-handle-:cpp):\n\t* lisp/cedet/srecode/texi.el (srecode-texi-texify-docstring):\n\t* lisp/emacs-lisp/byte-opt.el (byte-optimize-all-constp):\n\t* lisp/emacs-lisp/checkdoc.el (checkdoc-message-text-engine):\n\t* lisp/emacs-lisp/generator.el (iter-next):\n\t* lisp/gnus/gnus-art.el (gnus-treat-strip-list-identifiers)\n\t(gnus-article-mode-syntax-table):\n\t* lisp/net/rlogin.el (rlogin-directory-tracking-mode):\n\t* lisp/net/soap-client.el (soap-wsdl-get):\n\t* lisp/net/telnet.el (telnet-mode):\n\t* lisp/org/org-compat.el (org-number-sequence):\n\t* lisp/org/org.el (org-remove-highlights-with-change)\n\t(org-structure-template-alist):\n\t* lisp/org/ox-html.el (org-html-link-org-files-as-html):\n\t* lisp/play/handwrite.el (handwrite-10pt, handwrite-11pt)\n\t(handwrite-12pt, handwrite-13pt):\n\t* lisp/progmodes/f90.el (f90-mode, f90-abbrev-start):\n\t* lisp/progmodes/idlwave.el (idlwave-mode, idlwave-check-abbrev):\n\t* lisp/progmodes/verilog-mode.el (verilog-tool)\n\t(verilog-string-replace-matches, verilog-preprocess)\n\t(verilog-auto-insert-lisp, verilog-auto-insert-last):\n\t* lisp/textmodes/makeinfo.el (makeinfo-options):\n\t* src/font.c (Ffont_spec):\n\tFix minor quoting problems in doc strings, e.g., missing quote,\n\t``x'' where `x' was meant, etc.\n\t* lisp/erc/erc-backend.el (erc-process-sentinel-2):\n\tFix minor quoting problem in other string.\n\t* lisp/leim/quail/ethiopic.el (\"ethiopic\"):\n\t* lisp/term/tvi970.el (tvi970-set-keypad-mode):\n\tOmit unnecessary quotes.\n\t* lisp/faces.el (set-face-attribute, set-face-underline)\n\t(set-face-inverse-video, x-create-frame-with-faces):\n\t* lisp/gnus/gnus-group.el (gnus-group-nnimap-edit-acl):\n\t* lisp/mail/supercite.el (sc-attribs-%@-addresses)\n\t(sc-attribs-!-addresses, sc-attribs-<>-addresses):\n\t* lisp/net/tramp.el (tramp-methods):\n\t* lisp/recentf.el (recentf-show-file-shortcuts-flag):\n\t* lisp/textmodes/artist.el (artist-ellipse-right-char)\n\t(artist-ellipse-left-char, artist-vaporize-fuzziness)\n\t(artist-spray-chars, artist-mode, artist-replace-string)\n\t(artist-put-pixel, artist-text-see-thru):\n\t* lisp/vc/ediff-util.el (ediff-submit-report):\n\t* lisp/vc/log-edit.el (log-edit-changelog-full-paragraphs):\n\tUse double-quotes rather than TeX markup in doc strings.\n\t* lisp/skeleton.el (skeleton-pair-insert-maybe):\n\tReword to avoid the need for grave accent and apostrophe.\n\t* lisp/xt-mouse.el (xterm-mouse-tracking-enable-sequence):\n\tDon't use grave and acute accents to quote.\n\n2015-05-19  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/generator.el (cps--gensym, cps--transform-1):\n\tSilence compiler.\n\n2015-05-19  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tTry to port new etags tests to MS-Windows\n\t* test/etags/CTAGS.good, test/etags/ETAGS.good_1:\n\t* test/etags/ETAGS.good_2, test/etags/ETAGS.good_3:\n\t* test/etags/ETAGS.good_4, test/etags/ETAGS.good_5:\n\tAdjust to test-case changes below.\n\t* test/etags/Makefile (CSRC): Remove dostorture.c.\n\tWhatever it was trying to test, wasn't working portably.\n\t(LC_ALL): Remove.  Apparently there wasn't an encoding problem,\n\tjust a line-ending problem.\n\t* test/etags/c-src/dostorture.c: Remove.\n\t* test/etags/cp-src/c.C: Remove stray CR.\n\t* test/etags/html-src/algrthms.html: Remove trailing CRs.\n\tState UTF-8 as the encoding.  The file is ASCII so it doesn't matter,\n\tbut if someone edits it later it should stay UTF-8-compatible.\n\n2015-05-19  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix display of overlapping window-specific overlays\n\t* src/keyboard.c (adjust_point_for_property): When adjusting point\n\tdue to display strings, ignore overlays that are specific to\n\twindows other than the currently selected one.\n\t* src/xdisp.c (handle_single_display_spec): If the display\n\tproperty comes from an overlay, arrange for buffer iteration to\n\tresume only after the end of that overlay.  (Bug#20607)\n\n2015-05-19  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tNew command icomplete-force-complete-and-exit\n\t* lisp/icomplete.el (icomplete-force-complete-and-exit):\n\tNew command\n\t(http://lists.gnu.org/archive/html/emacs-devel/2015-05/msg00461.html)\n\t(http://lists.gnu.org/archive/html/emacs-devel/2015-05/msg00516.html).\n\t(icomplete-minibuffer-map): Bind C-j to it.\n\t(icomplete-forward-completions, icomplete-backward-completions):\n\tMention the new command in the docstring.\n\t* lisp/minibuffer.el (minibuffer-force-complete-and-exit):\n\tRevert the previous fix for bug#17545.\n\n2015-05-19  Martin Rudalics  <rudalics@gmx.at>\n\n\tFix last commit\n\n\tIn Elisp manual explain how to override window manager positioning\n\t(Bug#20552)\n\t* doc/lispref/frames.texi (Position Parameters): Give example of\n\thow to override a window manager positioning decision.\n\n\tClarify concept of \"surrogate minibuffer frames\" (Bug#20538)\n\t* src/frame.c (Fdelete_frame): In doc-string mention that frame\n\tcan't be deleted if it has a surrogate minibuffer.\n\t* doc/lispref/frames.texi (Minibuffers and Frames)\n\t(Deleting Frames): Explain \"surrogate minibuffer frames\".\n\n\t* src/w32heap.c (DUMPED_HEAP_SIZE): Bump to 19/12 MB.\n\n2015-05-18  Glenn Morris  <rgm@gnu.org>\n\n\tAdd option to ignore commit lines matching a pattern in ChangeLog\n\t* build-aux/gitlog-to-changelog: Add --ignore-line option.\n\t* build-aux/gitlog-to-emacslog: Ignore lines matching '^; '.\n\n2015-05-18  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDon't skip new etags tests on non-UTF-8 hosts\n\tProblem reported by Eli Zaretskii for MS-Windows.\n\t* test/etags/Makefile (UTF8_LOCALE, UTF8_ENCODING): Remove.\n\t(LC_ALL): Set to C if the current locale isn't UTF-8.\n\t(.PHONY): Remove ediff_1 thru ediff_5.\n\t(check): Always run.\n\n2015-05-18  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/calculator.el (calculator-funcall):\n\t* lisp/textmodes/artist.el (artist-spray-random-points):\n\tUse standard degree/radian conversion utilities.\n\n\tFurther lisp-complete-symbol related cleanup.\n\t* lisp/emacs-lisp/lisp.el (lisp-complete-symbol):\n\tUnadvertise non-functional argument.  Replace obsolete alias.\n\n2015-05-18  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tAdd a test case for Maven warning ouput\n\t* test/automated/compile-tests.el\n\t(compile-tests--test-regexps-data): Add a case for Maven warning\n\touput.\n\t(compile--test-error-line): Check the compilation message type, if\n\tit's specified in the test data.\n\n2015-05-18  Paul Pogonyshev  <pogonyshev@gmail.com>\n\n\tUpdate Maven compilation-mode entry to distinguish warnings\n\t* lisp/progmodes/compile.el\n\t(compilation-error-regexp-alist-alist): Update Maven entry to\n\tdistinguish warnings (bug#20556).\n\n2015-05-18  Przemys\u0142aw Wojnowski  <esperanto@cumego.com>\n\n\t* test/automated/sgml-mode-tests.el: New file.\n\n2015-05-18  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tImprove handling of the first Git revision\n\t* lisp/vc/log-view.el (log-view-toggle-entry-display): When\n\tthere's no next entry, delete until the end of the buffer.\n\t(log-view-end-of-defun-1): Stop at eob.\n\t* lisp/vc/vc-annotate.el\n\t(vc-annotate-show-diff-revision-at-line-internal): Don't give up\n\twhen previous-revision is nil.\n\t* lisp/vc/vc-git.el (vc-git-expanded-log-entry): End the arguments\n\twith `--' to avoid ambiguity.\n\t(vc-git-annotate-extract-revision-at-line): Exclude `^' from the\n\treturned revision string.\n\t(vc-git-annotate-time): Expect `^' before the first revision.\n\t* lisp/vc/vc-git.el (vc-git-diff): Diff against an empty tree if\n\tREV1 is nil, and REV2 is not.\n\t* lisp/vc/vc.el: Update the description of the `diff' function.\n\n2015-05-18  Oleh Krehel  <ohwoeowho@gmail.com>\n\n\tAllow checkdoc to be called in batch\n\t* lisp/emacs-lisp/checkdoc.el (checkdoc-error): When `noninteractive'\n\tis non-nil, echo the error with `warn'.\n\tHow it can be used in -batch:\n\t(with-current-buffer (find-file \"checkdoc.el\")\n\t  (checkdoc-current-buffer t))\n\n2015-05-18  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/calendar/solar.el (solar-ecliptic-coordinates): Use float-pi.\n\n2015-05-17  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* admin/notes/unicode: New section \"binary files\".\n\n\tChange new etags test to use UTF-8 encoding\n\t* test/etags/CTAGS.good, test/etags/ETAGS.good_1:\n\t* test/etags/ETAGS.good_2, test/etags/ETAGS.good_3:\n\t* test/etags/ETAGS.good_4, test/etags/ETAGS.good_5:\n\t* test/etags/html-src/index.shtml, test/etags/html-src/software.html:\n\t* test/etags/html-src/softwarelibero.html:\n\tSwitch to UTF-8 encoding.\n\t* test/etags/Makefile (SRCS): Adjust to switch to UTF-8.\n\tRemove Makefile, as it's too incestuous to have the test input\n\tinclude the build procedure.\n\t(UTF8_LOCALE, UTF_ENCODING): New macros.\n\t(LC_ALL): If possible, set to a UTF-8 encoding if not already UTF-8.\n\t(check): Skip if not UTF-8.\n\t(.PHONY): New rule.\n\t(FRC): Remove, as superseded by .PHONY.  All uses removed.\n\t(regexfile): Prefer printf to echo when outputting oddball chars.\n\t(.PRECIOUS): Remove, as these files are not built.\n\n\tRename 'foo-gzipped' to 'foo.gz'\n\t* test/automated/data/decompress/foo.gz:\n\tRename from test/automated/data/decompress/foo-gzipped,\n\tto make it easier for other tools to tell that it's compressed.\n\t* test/automated/zlib-tests.el (zlib--decompress):\n\tAdjust to renamed file.\n\n2015-05-17  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tSet up default-directory\n\t* lisp/vc/vc-annotate.el (vc-annotate-mode-map): Remove duplicate\n\tbinding for `v'.\n\t(vc-annotate-show-changeset-diff-revision-at-line): Set up an\n\tappropriate value for default-directory.\n\n2015-05-17  Samer Masterson  <samer@samertm.com>\n\n\t* lisp/eshell/em-term.el (eshell-term-sentinel):\n\tNo-op by default, only kills term buffer if\n\t`eshell-destroy-buffer-when-process-dies' is non-nil.  (Bug#18108)\n\t(eshell-destroy-buffer-when-process-dies): New custom to preserve\n\tprevious behavior.\n\n\teshell: Introduce new buffer syntax\n\tThe new buffer syntax '#<buffer-name>' is equivalent to '#<buffer\n\tbuffer-name>'.  Remove `eshell-buffer-shorthand', as it is no longer\n\tneeded (Bug#19319).\n\t* lisp/eshell/esh-io.el (eshell-buffer-shorthand): Remove.\n\t(eshell-get-target): Remove shorthand-specific code.\n\t* lisp/eshell/esh-arg.el (eshell-parse-special-reference): Parse\n\t'#<buffer-name>'.\n\n2015-05-17  Jan D  <jan.h.d@swipnet.se>\n\n\tMerge branch 'master' into cairo\n\n2015-04-26  Jan D  <jan.h.d@swipnet.se>\n\n\tMerge branch 'master' into cairo\n\n\tAdd PBM support for cairo\n\t* src/image.c (xcolor_to_argb32): New function.\n\t(get_spec_bg_or_alpha_as_argb): Call xcolor_to_argb32.\n\t(pbm_load, png_load_body, jpeg_load_body, gif_load): Only use\n\tXImagePtr if ! USE_CAIRO.\n\t(pbm_load): Add cairo support.\n\n2015-04-12  Jan D  <jan.h.d@swipnet.se>\n\n\t* src/xterm.c (x_free_cr_resources): Rename from x_prepare_for_xlibdraw.\n\t(x_cr_draw_frame, x_cr_export_frames, x_shift_glyphs_for_insert)\n\t(x_free_frame_resources): Rename x_prepare_for_xlibdraw to\n\tx_free_cr_resources.\n\n\tHandle specified bg in images.  Use generic libpng code for PNGs.\n\t* src/image.c (get_spec_bg_or_alpha_as_argb)\n\t(create_cairo_image_surface): New functions when USE_CAIRO.\n\t(xpm_load): Call the above functions.  Handle XPM without mask\n\twhen USE_CAIRO.\n\t(png_load_body): Handle USE_CAIRO case.\n\t(png_load): Remove USE_CAIRO specific fuction, modify png_load_body\n\tinstead.\n\t(jpeg_load_body): Call create_cairo_image_surface.\n\t(gif_load, svg_load_image): Handle specified background, call\n\tcreate_cairo_image_surface.\n\t* src/xterm.c (x_draw_image_glyph_string): Add missing USE_CAIRO.\n\n2015-04-11  Jan D  <jan.h.d@swipnet.se>\n\n\tSupport GIF and TIFF with cairo\n\t* configure.ac: Allow jpeg with cairo.\n\tAllow tiff and gif with cairo.\n\t* src/image.c (jpeg_load_body): Create cairo image surface if USE_CAIRO.\n\t(tiff_load): Create cairo image surface if USE_CAIRO.\n\t(gif_load): Ditto.\n\n\tSupport JPEG with USE_CAIRO\n\t* configure.ac: Allow jpeg with cairo.\n\t* src/image.c (jpeg_load_body): Create cairo image surface if USE_CAIRO.\n\n2015-04-05  Jan D  <jan.h.d@swipnet.se>\n\n\tSupport RSVG and cairo\n\t* configure.ac: Allow rsvg with cairo.  Move back HAVE_RSVG.\n\t* src/dispextern.h (struct image): Add cr_data2 if cairo.\n\t* src/image.c: #undef COLOR_TABLE_SUPPORT when USE_CAIRO.\n\t(x_clear_image): Free cr_data and cr_data2 if set.\n\t(xpm_load): Assign data to cr_data2.\n\t(svg_load_image): Convert from GdkPixbuf to CAIRO_FORMAT_ARGB32.\n\n2015-04-03  Jan D  <jan.h.d@swipnet.se>\n\n\tIntroduce limited Xpm support (32 bit ZPixmap) for Cairo\n\t* configure.ac (HAVE_RSVG): Move after cairo.\n\t(USE_CAIRO): Disable rsvg, don't disable Xpm.\n\t* src/image.c (prepare_image_for_display): Don't load if USE_CAIRO.\n\t(x_clear_image): If USE_CAIRO, also free possible img->ximg->obdata and\n\tdon't return early.\n\t(ALLOC_XPM_COLORS): Don't define when USE_CAIRO.\n\t(xpm_load): Convert simple Xpms (32 bit ZPixmap) to CAIRO_FORMAT_ARGB32\n\tand create a surface.\n\n\tTool tips for menus did not show any text.\n\t* src/xterm.c (x_update_begin): Don't create any surface for non-visible\n\ttip frames, the geometry may be wrong.\n\n\tMerge branch 'master' into cairo, fixes tooltips not shown.\n\n\tMerge branch 'master' into cairo\n\n\tAdd CAIRO_CFLAGS to lwlib/Makefile.in\n\t* Makefile.in (CAIRO_CFLAGS): Add.\n\n2015-02-19  YAMAMOTO Mitsuharu  <mituharu@math.s.chiba-u.ac.jp>\n\n\t* src/ftcrfont.c (ftcrfont_draw): Don't flush when drawing to screen.\n\n2015-02-16  YAMAMOTO Mitsuharu  <mituharu@math.s.chiba-u.ac.jp>\n\n\tDraw outermost line using black relief and erase corners also for cairo.\n\t* src/xterm.c [USE_CAIRO]: Include math.h.\n\t(enum corners) [USE_CAIRO]: New enum.\n\t(x_erase_corners_for_relief) [USE_CAIRO]: New function.\n\t(x_draw_relief_rect) [USE_CAIRO]: Use it.  If box width is larger\n\tthan 1, draw the outermost line using the black relief.\n\n\t* src/xterm.c (x_fill_trapezoid_for_relief):\n\tRemove unnecessary cairo_close_path.\n\n2015-02-15  YAMAMOTO Mitsuharu  <mituharu@math.s.chiba-u.ac.jp>\n\n\t* src/xterm.c (x_draw_relief_rect) [USE_CAIRO]: Reset clipping.\n\n\t* src/xterm.c (x_draw_stretch_glyph_string):\n\tCall x_reset_clip_rectangles instead of XSetClipMask.\n\n\tUse int instead of unsigned int for width and height args.\n\t* src/xterm.c (x_cr_draw_image, x_fill_rectangle, x_draw_rectangle)\n\t(x_fill_trapezoid_for_relief): Use int instead of unsigned int for\n\twidth and height args.\n\n\tModernize k&r cairo-related function declarations.\n\t* src/gtkutil.c (xg_page_setup_dialog, xg_get_page_setup, draw_page)\n\t(xg_print_frames_dialog): Modernize k&r declarations.\n\t* src/xfns.c (Fx_export_frames, Fx_page_setup_dialog, Fx_get_page_setup)\n\t(Fx_print_frames_dialog): Modernize k&r declarations.\n\t* src/xterm.c (x_gc_get_ext_data, x_extension_initialize)\n\t(x_begin_cr_clip, x_end_cr_clip, x_set_cr_source_with_gc_foreground)\n\t(x_set_cr_source_with_gc_background, x_cr_define_fringe_bitmap)\n\t(x_cr_destroy_fringe_bitmap, x_cr_draw_frame, x_cr_accumulate_data)\n\t(x_cr_destroy, x_cr_export_frames, x_prepare_for_xlibdraw)\n\t(x_set_clip_rectangles, x_reset_clip_rectangles, x_fill_rectangle)\n\t(x_draw_rectangle, x_clear_window, x_fill_trapezoid_for_relief)\n\t(x_clear_area): Modernize k&r declarations.\n\n\tImplement wave-style variant of underlining for cairo.\n\t* src/xterm.c (x_draw_horizontal_wave) [USE_CAIRO]: New function.\n\t(x_draw_underwave) [USE_CAIRO]: Use it.\n\n\t* src/xterm.c (x_draw_window_divider): Use x_fill_rectangle\n\tinstead of XFillRectangle.\n\n2015-02-13  YAMAMOTO Mitsuharu  <mituharu@math.s.chiba-u.ac.jp>\n\n\tFix fringe bitmap initialization for cairo\n\t* src/fringe.c (init_fringe_bitmap) [USE_CAIRO]: Adjust bitmap\n\tdata for cairo image surface.\n\t* src/xterm.c (x_cr_define_fringe_bitmap):\n\tCall cairo_surface_mark_dirty.\n\n2015-02-11  Jan D  <jan.h.d@swipnet.se>\n\n\tAdd cairo drawing\n\t* configure.ac (with-cairo): New option.\n\t(USE_CAIRO): Default to yes for Gtk+ 3.  Add code to test for cairo,\n\tset CAIRO_CFLAGS, CAIRO_LIBS.  Add ftcrfonto to FONT_OBJ if cairo.\n\tOutput \"Does Emacs use cairo?\".\n\t* lisp/version.el (emacs-version): Add cairo version.\n\t* src/Makefile.in (CAIRO_CFLAGS, CAIRO_LIBS): New variables.\n\t(FONT_OBJ): Add comment about ftcrfont.\n\t(ALL_CFLAGS): Add CAIRO_CFLAGS.\n\t(LIBES): Add CAIRO_LIBS.\n\t* src/dispextern.h (struct image): Add cr_data for cairo.\n\t(x_cr_init_fringe): Declare.\n\t* src/font.c (syms_of_font): Call syms_of_ftcrfont for cairo.\n\t* src/font.h (ftcrfont_driver, syms_of_ftcrfont): Declare\n\t* src/fringe.c (x_cr_init_fringe): New function name that shares code\n\twith w32_init_fringe.\n\t* src/ftcrfont.c: New font driver for cairo, based on the ftfont driver.\n\t* src/ftfont.c (ftfont_info_size); New global variable.\n\t(ftfont_open2): New extern function almost the same as old ftfont_open,\n\tbut takes the font_object as argument.\n\t(ftfont_open): Build font object and call ftfont_open2.\n\t* src/ftfont.h (ftfont_open2, ftfont_info_size): Declare.\n\t* src/gtkutil.c (xg_clear_under_internal_border)\n\t(xg_update_scrollbar_pos, xg_update_horizontal_scrollbar_pos):\n\tOnly queue_draw if not cairo.  Change args to x_clear_area.\n\t(xg_get_font): Use Qftcr when using cairo, Qxft otherwise.\n\t(xg_page_setup_dialog, xg_get_page_setup, draw_page)\n\t(xg_print_frames_dialog): New functions for printing.\n\t* src/gtkutil.h (xg_page_setup_dialog, xg_get_page_setup)\n\t(xg_print_frames_dialog): Declare.\n\t* src/image.c: Add defined (USE_CAIRO) for PNG.\n\tAdd !defined USE_CAIRO for W32 PNG code.\n\t(x_clear_image): If cairo, destroy the surface in cr_data.\n\t(png_load): Add new cairo compatible implementation.\n\t(lookup_image_type): Add defined (USE_CAIRO) for define png_type.\n\t* src/xfns.c: New section Printing.\n\t(x-export-frames, x-page-setup-dialog, x-get-page-setup)\n\t(x-print-frames-dialog): New printing functions.\n\t(Fx_create_frame, x_create_tip_frame): Register ftcrfont if cairo.\n\t(syms_of_xfns): Defsym Qorientation, Qtop_margin, Qbottom_margin,\n\tQportrait, Qlandscape, Qreverse_portrait, Qreverse_landscape).\n\t(syms_of_xfns): Provide cairo and defvar cairo-version-string.\n\tdefsubr Sx_page_setup_dialog, Sx_get_page_setup, Sx_print_frames_dialog.\n\t* src/xterm.c (x_clear_area1, x_prepare_for_xlibdraw)\n\t(x_set_clip_rectangles, x_reset_clip_rectangles, x_fill_rectangle)\n\t(x_draw_rectangle, x_fill_trapezoid_for_relief, x_clear_window)\n\t(x_gc_get_ext_data, x_extension_initialize, x_cr_accumulate_data):\n\tDeclare.\n\t(FRAME_CR_CONTEXT, FRAME_CR_SURFACE): New macros.\n\t(max_fringe_bmp, fringe_bmp): New variables.\n\t(x_gc_get_ext_data, x_extension_initialize)\n\t(x_cr_destroy_surface, x_begin_cr_clip, x_end_cr_clip)\n\t(x_set_cr_source_with_gc_foreground)\n\t(x_set_cr_source_with_gc_background, x_cr_define_fringe_bitmap)\n\t(x_cr_destroy_fringe_bitmap, x_cr_draw_image, x_cr_draw_frame)\n\t(x_cr_accumulate_data, x_cr_destroy, x_cr_export_frames)\n\t(x_prepare_for_xlibdraw, x_set_clip_rectangles)\n\t(x_reset_clip_rectangles, x_fill_rectangle, x_draw_rectangle)\n\t(x_clear_window, x_fill_trapezoid_for_relief): New functions.\n\t(x_update_begin): Create cairo surface if needed.\n\t(x_draw_vertical_window_border): Call x_fill_rectangle for cairo.\n\t(x_update_end): Paint cairo drawing surface to xlib surface.\n\t(x_clear_under_internal_border, x_after_update_window_line): Adjust\n\targuments to x_clear_area.\n\t(x_draw_fringe_bitmap): Call x_fill_rectangle.  Get GC values and\n\tcall x_cr_draw_image for cairo.  Call x_reset_clip_rectangles instead\n\tof XSetClipMask.\n\t(x_set_glyph_string_clipping)\n\t(x_set_glyph_string_clipping_exactly): Use x_set_clip_rectangles\n\tinstead of XSetClipRectangles.\n\t(x_clear_glyph_string_rect, x_draw_glyph_string_background):\n\tUse x_fill_rectangle instead of XFillRectangle.\n\t(x_draw_glyph_string_foreground)\n\t(x_draw_composite_glyph_string_foreground)\n\t(x_draw_glyphless_glyph_string_foreground): Use x_draw_rectangle\n\tinstead of XDrawRectangle.\n\t(x_draw_relief_rect): Add code for USE_CAIRO.\n\tCall x_reset_clip_rectangles instead of XSetClipMask.\n\t(x_draw_box_rect): x_set_clip_rectangles instead of XSetClipRectangles,\n\tx_fill_rectangle instead of XFillRectangle, x_reset_clip_rectangles\n\tinstead of XSetClipMask.\n\t(x_draw_image_foreground, x_draw_image_foreground_1):\n\tx_draw_rectangle instead of XDrawRectangle.\n\t(x_draw_glyph_string_bg_rect): x_fill_rectangle instead of\n\tXFillRectangle.\n\t(x_draw_image_glyph_string): If img has cr_data, use it as\n\ta cairo surface.\n\t(x_draw_stretch_glyph_string): x_set_clip_rectangles instead of\n\tXSetClipRectangles, x_fill_rectangle instead of XFillRectangle.\n\t(x_draw_glyph_string): x_fill_rectangle instead of XFillRectangle.,\n\tx_reset_clip_rectangles instead of XSetClipMask.\n\t(x_shift_glyphs_for_insert): Call x_prepare_for_xlibdraw.\n\t(x_clear_area1): New function that calls XClearArea.\n\t(x_clear_area): Takes frame as parameter, calls x_clear_area1 for\n\tnon-cairo.\n\t(x_clear_frame): x_clear_window instead of XClearWindow.\n\t(x_scroll_run): Set frame garbaged if cairo.\n\t(XTmouse_position): Initialize *part to 0.\n\t(x_scroll_bar_create): Adjust arguments to x_clear_area.\n\t(x_scroll_bar_set_handle): x_clear_area1 instead of x_clear_area,\n\tx_fill_rectangle instead of XFillRectangle.\n\t(XTset_vertical_scroll_bar, XTset_horizontal_scroll_bar): Adjust\n\targuments to x_clear_area.\n\t(x_scroll_bar_expose): x_draw_rectangle instead of XDrawRectangle.\n\t(handle_one_xevent): Adjust arguments to x_clear_area.\n\tDestroy cairo surface for frame if ConfigureNotify.\n\t(x_clip_to_row): x_set_clip_rectangles instead of XSetClipRectangles.\n\t(x_draw_hollow_cursor): x_draw_rectangle instead of XDrawRectangle,\n\tx_reset_clip_rectangles instead of XSetClipMask.\n\t(x_draw_bar_cursor): x_fill_rectangle instead of XFillRectangle,\n\tx_reset_clip_rectangles instead of XSetClipMask.\n\t(x_clear_frame_area): Adjust arguments to x_clear_area.\n\t(x_free_frame_resources): Call x_prepare_for_xlibdraw.\n\t(x_term_init): Call x_extension_initialize if cairo.\n\t(x_redisplay_interface): Add x_cr_define_fringe_bitmap,\n\tx_cr_destroy_fringe_bitmap for cairo.\n\t(x_initialize): Call x_cr_init_fringe for cairo.\n\t* src/xterm.h: Add include of cairo header files.\n\t(x_bitmap_record): Add img if cairo.\n\t(x_gc_ext_data): New struct for cairo.\n\t(x_display_info): Add ext_codes for cairo.\n\t(x_output): Add cr_context and cr_surface for cairo.\n\t(x_clear_area): Change arguments from Display*/Window to frame pointer.\n\t(x_query_color, x_begin_cr_clip, x_end_cr_clip)\n\t(x_set_cr_source_with_gc_foreground, x_set_cr_source_with_gc_background)\n\t(x_cr_draw_frame, x_cr_export_frames): Declare.\n\n2015-05-17  Johan Bockg\u00e5rd  <bojohan@gnu.org>\n\n\tFix integer-valued `mouse-highlight' (Bug#20590)\n\t* src/xterm.c (handle_one_xevent) [USE_GTK]: Fix ifdef scope.\n\n2015-05-17  Eli Zaretskii  <eliz@gnu.org>\n\n\tMS-Windows followup for ASCIIfication of curved quotes\n\t* lisp/term/w32console.el (terminal-init-w32console): Repeat the\n\ttest for curved quotes being displayable, after switching the\n\tterminal encoding.  (Bug#20545)\n\n2015-05-17  Jan D  <jan.h.d@swipnet.se>\n\n\tAdd comment that x_shift_glyphs_for_insert is never called\n\t* src/xterm.c (x_shift_glyphs_for_insert, x_redisplay_interface):\n\tAdd comment that this function is never called.\n\n2015-05-16  Glenn Morris  <rgm@gnu.org>\n\n\t* src/lisp.mk: Remove from repository and generate at build-time.\n\t* src/Makefile.in (lisp.mk): New rule to generate from loadup.el.\n\t(shortlisp_filter): New variable.\n\t(emacs$(EXEEXT), $(etc)/DOC): Depend on lisp.mk.\n\t(distclean): Remove lisp.mk.\n\t* Makefile.in ($(MAKEFILE_NAME)): No longer depend on src/lisp.mk.\n\t* lisp/loadup.el: Tweak layout to make it easier to parse.\n\t* make-dist: Do not distribute src/lisp.mk.\n\n2015-05-16  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tDisplay shorter dates in Git annotate output\n\t* lisp/vc/vc-git.el (vc-git-annotate-command): Use the short date\n\tformat (when not overridden with vc-git-annotate-switches).\n\t(vc-git-annotate-time): Support the short format, as well as ISO\n\t8601 that has been used until now (bug#5428).\n\n2015-05-16  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tASCIIfy curved quotes on displays lacking them\n\t* lisp/international/mule-cmds.el (set-locale-environment):\n\tIf curved quotes don't work, display straight ASCII approximations\n\t(Bug#20545).\n\n2015-05-16  Glenn Morris  <rgm@gnu.org>\n\n\tSmall src/Makefile simplification\n\t* src/lisp.mk (shortlisp): Rename from lisp, remove $lispsource prefix.\n\t* src/Makefile.in (lisp): Derive from shortlisp.\n\t($(etc)/DOC): Use $shortlisp rather than parsing lisp.mk.\n\n2015-05-16  Eli Zaretskii  <eliz@gnu.org>\n\n\t* lisp/help-mode.el (help-go-forward): Doc fix.\n\t(Bug#20577)\n\n\t* doc/lispref/debugging.texi (Profiling): Improve indexing.\n\t(Bug#20576)\n\n2015-05-16  Dmitry Gutov  <dgutov@yandex.ru>\n\n\t* lisp/vc/vc-git.el (vc-git-resolve-when-done): Use `unless' to\n\thave one fewer `not'.\n\n\t* lisp/vc/vc-git.el (vc-git-diff-switches)\n\t(vc-git-annotate-switches, vc-git-resolve-conflicts)\n\t(vc-git-program, vc-git-root-log-format): Remove the redundant\n\t:group declarations.\n\n2015-05-16  Nicolas Petton  <nicolas@petton.fr>\n\n\tRemoves the predicate from lisp-complete-symbol (Bug#20456)\n\t* lisp/emacs-lisp/lisp.el (lisp-complete-symbol): Do not use predicate\n\tand remove it from the docstring.\n\n2015-05-16  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tAdd new option vc-git-resolve-conflicts\n\t* lisp/vc/vc-git.el (vc-git-resolve-conflicts): New variable.\n\t(vc-git-find-file-hook): Add to after-save-hook only when the\n\tabove is non-nil.\n\t(vc-git-resolve-when-done): Update to honor the new variable.\n\t(Bug#20292)\n\n2015-05-16  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/tabulated-list.el: Don't error on null header-string.\n\t(tabulated-list-init-header): Document new behavior.\n\t(tabulated-list-print-fake-header): Do nothing if\n\t`tabulated-list--header-string' is nil.\n\t(tabulated-list--header-string): Add a docstring.\n\t* doc/lispref/modes.texi (Tabulated List Mode): Document it.\n\t* etc/NEWS: Document it.\n\n2015-05-15  Leo Liu  <sdl.web@gmail.com>\n\n\tRevert \"Fix cps--gensym\"\n\t* lisp/emacs-lisp/generator.el (cps--gensym): Revert commit\n\tfbda511ab8069d0115eafca411a43353b85431b1 on 2015-05-14.\n\n2015-05-15  Glenn Morris  <rgm@gnu.org>\n\n\tReplace AC_SUBST_FILE in configure with include in Makefiles\n\t* configure.ac (DEPDIR, MKDEPDIR, deps_frag, lwlib_deps_frag)\n\t(oldxmenu_deps_frag, lisp_frag): Remove output variables/files.\n\t(AUTO_DEPEND): New output variable.\n\t* lwlib/Makefile.in (AUTO_DEPEND): New, set by configure.\n\t(DEPFLAGS, MKDEPDIR): Set directly via conditional.\n\t(lwlib_deps_frag): Replace by conditional include.\n\t* lwlib/autodeps.mk: Remove file.\n\t* oldXMenu/Makefile.in (AUTO_DEPEND): New, set by configure.\n\t(DEPFLAGS, MKDEPDIR): Set directly via conditional.\n\t(oldxmenu_deps_frag): Replace by conditional include.\n\t* oldXMenu/autodeps.mk: Remove file.\n\t* src/Makefile.in (AUTO_DEPEND): New, set by configure.\n\t(DEPFLAGS, MKDEPDIR): Set directly via conditional.\n\t(lisp_frag): Replace by an include.\n\t(deps_frag): Replace by conditional include.\n\t* src/autodeps.mk: Remove file.\n\n\tTweak japanese.el's loading of dependencies\n\t* lisp/loadup.el: Explicitly load cp51932 and eucjp-ms.\n\t* lisp/language/japanese.el: Use require rather than load.\n\t* lisp/international/cp51932.el, lisp/international/eucjp-ms.el:\n\tProvide a feature.\n\t* admin/charsets/eucjp-ms.awk, admin/charsets/cp51932.awk:\n\tProvide a feature in the generated file.\n\n2015-05-15  Jan D  <jan.h.d@swipnet.se>\n\n\tFix NS warnings\n\t* src/nsmenu.m (ns_popup_dialog)\n\t* src/nsimage.m (initFromXBM:width:height:fg:bg:)\n\t* src/nsfns.m (Fx_create_frame): Remove unused variables.\n\t(Fns_read_file_name): Initialize fname, remove ret.\n\t* src/nsterm.m (ns_draw_window_cursor): Handle DEFAULT_CURSOR in switch.\n\t(ns_get_color, ns_set_horizontal_scroll_bar, keyDown):\n\tRemove unused variable.\n\t(init): Add parantesis in if.\n\t(ns_create_terminal): Assign set_horizontal_scroll_bar_hook.\n\n2015-05-15  Jan Dj\u00e4rv  <jan.h.d@swipnet.se>\n\n\tFix a enum conversion warning in macfont.m\n\t* src/macfont.h (CharacterCollection): Typedef to NSCharacterCollection.\n\t(MAC_CHARACTER_COLLECTION_*): Use the NS variants.\n\n2015-05-15  Eli Zaretskii  <eliz@gnu.org>\n\n\t* lisp/textmodes/ispell.el (ispell-aspell-find-dictionary):\n\tSupport Aspell dictionaries with names like \"de-alt\".  (Bug#20581)\n\n2015-05-15  Jan Dj\u00e4rv  <jan.h.d@swipnet.se>\n\n\t* lisp/cus-start.el: Add ns-confirm-quit.\n\n\tFix warnings on OSX 10.10\n\t* src/nsfns.m (MODAL_OK_RESPONSE): New define for different\n\tOSX versions.\n\t(Fns_read_file_name): Check against MODAL_OK_RESPONSE.\n\t(compute_tip_xy): Use convertRectToScreen for OSX >= 10.7\n\t* src/nsmenu.m (initWithContentRect:styleMask:backing:defer:)\n\t* src/nsimage.m (allocInitFromFile, setPixmapData): Only call\n\tsetScalesWhenResized for OSX < 10.6.\n\t* src/nsterm.h (EmacsScroller): Declare scrollerWidth.\n\t* src/nsterm.m (ns_copy_bits): New function that does not use\n\tdeprecated NSCopyBits.\n\t(ns_scroll_run, ns_shift_glyphs_for_insert): Call ns_copy_bits.\n\t(runAlertPanel): New function.\n\t(applicationShouldTerminate:): Call runAlertPanel.\n\t(initFrameFromEmacs, toggleFullScreen:): Only call\n\tuseOptimizedDrawing for OSX < 10.10.\n\t(initFrameFromEmacs:): Only call allocateGState for OSX < 10.10.\n\t(windowWillUseStandardFrame:defaultFrame:): Cast arg to abs to int.\n\t(draggingEntered:): Returns NSDragOperation.\n\t(scrollerWidth): Use scrollerWidthForControlSize for OSX >= 10.7.\n\n2015-05-15  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el: Don't ensure-init during startup.\n\t(package--init-file-ensured): New variable.\n\t(package-initialize, package--ensure-init-file): Use it.\n\n2015-05-15  Jan Dj\u00e4rv  <jan.h.d@swipnet.se>\n\n\tHonor :fore/background for XBM on NS (Bug#14969)\n\t* src/nsterm.h (EmacsImage): Add xbm_fg, remove initFromSkipXBM,\n\tinitFromXBM takes bg, fg args, remove flip arg.\n\t(ns_image_from_XBM): Add bg, fg args.\n\t* src/image.c (x_create_bitmap_from_data)\n\t(Create_Pixmap_From_Bitmap_Data): ns_image_from_XBM takes bg, fg args.\n\t* src/nsimage.m (ns_image_from_XBM): Add fg, bg args, pass to\n\tinitFromXBM.  Remove flip arg.\n\t(initFromSkipXBM): Move code to initFromXBM.\n\t(initFromXBM): Actually set fg and bg, instead of playing alpha games.\n\tUse fg, bg from args (Bug#14969).  Remove if (length) section, was\n\talways false.\n\tRemove bit flipping (bitPat, swt), generated incorrect images when\n\twidth/height wasn't a multiple of 8.\n\t(setXBMColor:): Modify planes by comparing to saved xbm_fg.\n\t* src/nsterm.m (ns_draw_fringe_bitmap): initFromXBM takes fg, bg args,\n\tremove flip arg.\n\n2015-05-15  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el: Be more careful with the init file.\n\t(package--ensure-init-file): Check that user-init-file is set,\n\texists, is readable, and is writable.  (Bug#20584)\n\tAlso expand the docstring.\n\n2015-05-14  Wilson Snyder  <wsnyder@wsnyder.org>\n\n\tSync with upstream verilog-mode revision 6232468\n\t* lisp/progmodes/verilog-mode.el\n\t(verilog-font-lock-grouping-keywords-face)\n\t(verilog-highlight-grouping-keywords): Fix use of face when\n\t`verilog-highlight-grouping-keywords' set.  Reported by Jeff Pompa.\n\t(verilog-auto-reset): Fix AUTORESET to ignore member resets if\n\tparent is reset, bug906.  Reported by Ken Schmidt.\n\t(verilog-auto-inout-module): Add fourth regexp argument to\n\tAUTOINOUTMODULE and AUTOINOUTCOMP for signals to not match, bug856.\n\tReported by John Tillema.\n\t(verilog-auto-inst-port): Fix AUTOINST interfaces to not show\n\tmodport if signal attachment is itself a modport.  Reported by\n\tMatthew Lovell.\n\t(verilog-auto-reset, verilog-auto-sense-sigs): Fix AUTORESET with\n\talways_comb and always_latch, bug844.  Reported by Greg Hilton.\n\t(verilog-at-constraint-p, verilog-beg-of-statement-1): Fix hanging\n\twith many curly-bracket pairs, bug663.\n\t(verilog-set-auto-endcomments): Fix end comments for functions of\n\ttype void, etc.  Reported by Alex Reed.\n\t(verilog-do-indent): Fix electric tab deleting form-feeds.  Note\n\tcaused by indent-line-to deleting tabls pre 24.5.\n\t(verilog-nameable-item-re): Fix nameable items that can have an\n\tend-identifier to include endchecker, endgroup, endprogram,\n\tendproperty, and endsequence.  Reported by Alex Reed.\n\t(verilog-label-be): When auto-commenting a buffer, consider\n\tauto-comments on all known keywords (not just a subset thereof).\n\tReported by Alex Reed.\n\t(verilog-auto-end-comment-lines-re)\n\t(verilog-end-block-ordered-re, verilog-set-auto-endcomments):\n\tAutomatically comment property/endproperty blocks to match other\n\tsimilar blocks like sequence/endsequence, function/endfunction, etc.\n\tReported by Alex Reed.\n\t(verilog-set-auto-endcomments): Detect the function- or task-name\n\twhen auto-commenting blocks that lack an explicit portlist.\n\tReported by Alex Reed.\n\t(verilog-auto, verilog-auto-insert-last): Add AUTOINSERTLAST to\n\tallow post-AUTO user fixups, bug826.  Reported by Dennis Muhlestein.\n\t(verilog-no-indent-begin-re): When `verilog-indent-begin-after-if'\n\tis nil, fix indenting initial/final to match always statements,\n\tbug825.  Reported by Tim Clapp.\n\t(verilog-extended-complete-re): Fix indentation of DPI-C imports\n\twith c_identifiers, and DPI-C imports, bug557.  Reported by ZeDong\n\tMao and Jason Forkey.\n\t(verilog-read-decls): Fix parsing typed interfaces.  Fix\n\tAUTOINOUTMODPORT missing types.  Reported by Stephan Bourduas.\n\tFix localparam not being ignored in AUTOINSTPARAM,\n\tbug889.  Reported by Shannon Hill.\n\t(verilog-auto-output-every): Add regexp to AUTOOUTPUTEVERY,\n\tbug793.  Reported by Pierre-David Pfister.\n\t(verilog-auto-arg-format, verilog-auto-arg-ports):\n\tAdd verilog-auto-arg-format to support newlines in AUTOARG.\n\tReported by Jie Xiao.\n\t(verilog-batch-execute-func): Do not batch re-auto files loaded by\n\tLocal Variables.  Fix printing \"no changes to be saved\" with\n\tverilog-batch.  Reported by Dan Dever.\n\t(verilog-auto-inout-module): Fix AUTOINOUTMODULE not inserting\n\tinterface-only modules, bug721.  Reported by Dean Hoyt.\n\tAuthor: Alex Reed <acreed4@gmail.com>\n\t* lisp/progmodes/verilog-mode.el (verilog-beg-of-statement):\n\tDon't treat '<keyword>:<identifier>' as the start of a labeled\n\tstatement, bug905.  Reported by Enzo Chi.\n\t(verilog-directive-re, verilog-compiler-directives)\n\t(verilog-keywords): Match full set of IEEE 2012-1800 compiler\n\tdirectives (plus some extras) when determining indentation, bug\n\t901.  Reported by Bernd Beuster.\n\t(verilog-at-constraint-p): Fix indentation of coverpoint bins if\n\tiff expression doesn't start with word-character, bug900.\n\t(verilog-optional-signed-range-re, verilog-optional-signed-re):\n\tFix incorrect indentation/alignment of unsigned declarations,\n\tbug897.\n\t(verilog-looking-back, verilog-in-attribute-p): Fix labeling of\n\talways constructs, bug895.\n\t(verilog-calc-1): Fix verilog-mode constraint indentation, bug324.\n\tReported by Eric Mastromarchi.\n\t(verilog-beg-of-statement): Fix indenting for some forms of\n\tconstraintsm bug433.  Reported by Brad Parker.  Fix indentation of\n\tcontinued assignment incorrect if first line ends with ']', bug437.\n\tReported by Dan Dever.  Fix indention of cover inside an\n\tifdef, bug 862.  Reported by Bernd Beuster.  Fix labeling do-while\n\tblocks, bug842.\n\t(verilog-preprocessor-re): Fix fork/end UNMATCHED warning, bug859.\n\tReported by Kaushal Modi.\n\t(verilog-set-auto-endcomments): Fix endlabel end comments, bug888.\n\t(verilog-backward-token): Fix indenting sensitivity lists with\n\tnamed events, bug840.  Reed.\n\t(verilog-no-indent-begin-re): Fix `verilog-indent-begin-after-if'\n\tnil not honoring 'forever', 'foreach', and 'do' keywords.\n\n2015-05-14  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tCheck for invalid GTK+ monitor scales\n\t* src/gtkutil.c (xg_get_gdk_scale): Return 1 for invalid scales,\n\tINT_MAX for too-large scales.  All callers changed to assume the\n\tresult is valid (Bug#20432).\n\t(xg_frame_set_char_size, xg_update_scrollbar_pos):\n\tCalculate scale only if needed.\n\tShow ASCII approximations instead.\n\n2015-05-14  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix daemon crashes when linum-mode is turned on early on\n\t* src/window.c (Fwindow_end): Don't try calling display engine\n\tfunctions on initial-frame frame.  (Bug#20565)\n\n\tFix selective diff browsing in Ediff\n\t* lisp/vc/ediff-util.el (ediff-focus-on-regexp-matches):\n\tGo to the beginning of the region before searching for the\n\tediff-regexp-focus-* regexps.  (Bug#20568)\n\n2015-05-14  Jan D  <jan.h.d@swipnet.se>\n\n\tFixes bug#20142\n\t* src/gtkutil.c (delete_cb): Don't send delete event here, it does\n\tarrive in the main loop, even for Gtk 3 (Bug#20142).\n\n\tDon't access display after i/o error (Bug#19147).\n\t* src/xterm.c (x_connection_closed): Add third arg ioerror.\n\tIf ioerror, set display to 0 (Bug#19147).\n\t(x_error_quitter): Call x_connection_closed with third arg false.\n\t(x_io_error_quitter): Call x_connection_closed with third arg true.\n\n\tHandle GTK_SCALE, fixes Bug#20432.\n\t* src/gtkutil.c (xg_get_gdk_scale): New function.\n\t(xg_frame_set_char_size)\n\t(x_wm_set_size_hint, xg_get_default_scrollbar_width)\n\t(xg_get_default_scrollbar_height)\n\t(xg_update_horizontal_scrollbar_pos): Take GTK_SCALE in to account\n\twhen setting sizes (Bug#20432).\n\n2015-05-13  Leo Liu  <sdl.web@gmail.com>\n\n\t* lisp/emacs-lisp/generator.el (cps--gensym): Fix.\n\n2015-05-13  Glenn Morris  <rgm@gnu.org>\n\n\tFix bootstrap (void function cl-member).\n\t* lisp/emacs-lisp/cl-lib.el: Load cl-seq if no cl-loaddefs file.\n\t* lisp/emacs-lisp/cl-seq.el: Provide a feature.\n\n2015-05-13  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/loadup.el (\"emacs-lisp/cl-generic\"): Preload\n\t* src/lisp.mk (lisp): Add emacs-lisp/cl-generic.elc.\n\t* lisp/emacs-lisp/cl-generic.el (cl-generic-define-method):\n\tAvoid defalias for closures which are not immutable.\n\t(cl--generic-prefill-dispatchers): New macro.  Use it to prefill\n\tthe dispatchers table with various entries.\n\t* lisp/emacs-lisp/ert.el (emacs-lisp-mode-hook):\n\t* lisp/emacs-lisp/seq.el (emacs-lisp-mode-hook): Use add-hook.\n\n2015-05-13  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove tagging of C bindings in DEFVAR_*\n\t* src/Makefile.in (TAGS): Add --regex options to tag the C binding\n\tfrom DEFVAR_*.\n\n2015-05-13  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* src/editfns.c (Fformat): Fix use-after-free bug (Bug#20548).\n\n2015-05-12  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/progmodes/tcl.el (tcl-filter):\n\tHandle comint-prompt-read-only like gud.el does.  (Bug#20549)\n\n\tAdd basic VC push support\n\t* lisp/vc/vc.el (vc-push): New autoloaded command.\n\t* lisp/vc/vc-hooks.el (vc-prefix-map, vc-menu-map): Add vc-push.\n\t* lisp/vc/vc-bzr.el (vc-bzr--pushpull): New, factored from vc-bzr-pull.\n\t(vc-bzr-pull): Reimplement using vc-bzr--pushpull.\n\t(vc-bzr-push): New.\n\t* lisp/vc/vc-git.el (vc-git--pushpull): New, factored from vc-git-pull.\n\t(vc-git-pull): Reimplement using vc-git--pushpull.\n\t(vc-git-push): New.\n\t* lisp/vc/vc-hg.el (vc-hg--pushpull): New, factored from vc-hg-pull.\n\t(vc-hg-pull, vc-hg-push): Reimplement using vc-hg--pushpull.\n\t* doc/emacs/maintaining.texi (Pulling / Pushing):\n\tRename from \"VC Pull\".  Mention pushing.\n\t(VC With A Merging VCS, VC Change Log): Update xrefs.\n\t(Branches): Update menu.\n\t* doc/emacs/emacs.texi: Update menu.\n\t* etc/NEWS: Mention this.\n\n2015-05-12  Nicolas Petton  <nicolas@petton.fr>\n\n\tImprove the seq pcase pattern and the `seq-let' macro\n\t* lisp/emacs-lisp/seq.el: The pcase pattern now matches only if the\n\tobject is a sequence, and binds each element of ARGS to the\n\tcorresponding element of the sequence.\n\n2015-05-12  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix tags created from DEFVAR_* declarations in C\n\t* src/Makefile.in (TAGS): Improve the --regex argument to etags,\n\tto make tags extracted from DEFVAR_* declarations more accurate.\n\n\tAdd a test suite for etags\n\t* test/etags/: New test suite, adapted from\n\thttp://fly.isti.cnr.it/pub/software/unix/etags-regression-test.tar.bz2,\n\twhose original author is Francesco Potort\u00ec <pot@gnu.org>.\n\n\tFix tagging of symbols in C enumerations\n\t* lib-src/etags.c (consider_token): Don't tag symbols in\n\texpressions that assign values to enum constants.  See\n\thttp://lists.gnu.org/archive/html/emacs-devel/2015-05/msg00291.html\n\tfor details.\n\t(C_entries): Reset fvdef to fvnone after processing a preprocessor\n\tconditional and after a comma outside of parentheses.\n\n2015-05-12  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/url/url-handlers.el (url-file-name-completion)\n\t(url-file-name-all-completions): Silence compiler.\n\n\t* lisp/emacs-lisp/chart.el (chart-axis-draw): Replace obsolete alias.\n\n\t* lisp/play/dunnet.el (dun-dos-boot-msg): Fix time.  (Bug#20554)\n\n2015-05-12  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/cl-generic.el: Add dispatch on &context arguments\n\t(cl--generic-mandatory-args): Remove.\n\t(cl--generic-split-args): New function.\n\t(cl-generic-define, cl--generic-lambda): Use it.\n\t(cl-generic-define-method): Use it as well, and add support for\n\tcontext args.\n\t(cl--generic-get-dispatcher): Handle &context dispatch.\n\t(cl--generic-cache-miss): `dispatch-arg' can now be a\n\tcontext expression.\n\t(cl--generic-dispatchers): Pre-fill.\n\t* test/automated/cl-generic-tests.el (sm-generic-test-12-context):\n\tNew test.\n\n2015-05-11  Glenn Morris  <rgm@gnu.org>\n\n\t* make-dist: Abort if \"make ChangeLog\" fails.  Add \"--no-changelog\".\n\n2015-05-11  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/term/xterm.el: Fix xterm-paste handling for rxvt\n\t* lisp/term/rxvt.el: Require term/xterm.\n\t(rxvt-function-map): Use xterm-rxvt-function-map.\n\t(rxvt-standard-colors): Move before first use.\n\t(terminal-init-rxvt): Use xterm--push-map and\n\txterm-register-default-colors.\n\t(rxvt-rgb-convert-to-16bit, rxvt-register-default-colors): Remove.\n\t* lisp/term/xterm.el (xterm-rxvt-function-map): New var.\n\tMove shared bindings between rxvt and xterm to it.\n\t(xterm-function-map): Use it.  Move the xterm-paste binding to\n\txterm-rxvt-function-map (bug#20444).\n\t(xterm-standard-colors): Move before first use.\n\t(xterm--push-map): New function.\n\t(xterm-register-default-colors): Take standard colors as argument.\n\t(terminal-init-xterm): Use it.  Adjust call to\n\txterm-register-default-colors.\n\n2015-05-11  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/term/x-win.el: Quieten --without-x compilation.\n\t(x-own-selection-internal, x-disown-selection-internal)\n\t(x-selection-owner-p, x-selection-exists-p, x-get-selection-internal):\n\tDeclare.\n\n\t* Makefile.in (emacslog): Remove srcdir.\n\t(ChangeLog): Update for the above.\n\n2015-05-10  Fabi\u00e1n Ezequiel Gallina  <fgallina@gnu.org>\n\n\tpython.el: better limit for looking-back calls\n\t* lisp/progmodes/python.el (python-shell-accept-process-output):\n\tUse last comint prompt start as limit for looking-back.\n\n2015-05-10  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tCEDET (srecode-insert-fcn): Fix use of oref on a class\n\t* lisp/cedet/srecode/insert.el (srecode-insert-fcn): Fix use of oref\n\ton a class.  Reported by Pierre Lorenzon.\n\t(srecode-template-inserter-point): Remove declaration.\n\n\tCEDET (srecode-create-dictionary): Avoid obsolete object name\n\t* lisp/cedet/srecode/dictionary.el (srecode-create-dictionary):\n\tDon't use a symbol as an object name.  Reported by Pierre Lorenzon.\n\n2015-05-10  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tC-x 8 shorthands for curved quotes, Euro, etc.\n\tAlthough C-x 8 lets you insert arbitrary Unicode characters,\n\tit's awkward to use this to insert commonly used symbols such as curved\n\tquotes, the Euro symbol, etc.  This patch adds simpler sequences for\n\tcharacters commonly found in English text and in basic math.\n\tFor example, assuming the Alt key works on your keyboard and iso-transl\n\tis loaded, one can now type \"A-[\" instead of \"A-RET LEFT SIN TAB RET\"\n\tto get the character \"\u2018\" (U+2018 LEFT SINGLE QUOTATION MARK).\n\t(Bug#20499)\n\t* doc/emacs/mule.texi (Unibyte Mode):\n\tA few other printing characters now work too.\n\t* etc/NEWS: Document this.\n\t* lisp/international/iso-transl.el (iso-transl-char-map):\n\tAlso support the following characters:\n\t\u2010 \u2011 \u2012 \u2013 \u2014 \u2015 \u2018 \u2019 \u201c \u201d \u2020 \u2021 \u2022 \u2032 \u2033 \u20ac \u2116 \u2190 \u2192 \u2194 \u2212 \u2248 \u2260 \u2264 \u2265\n\n2015-05-10  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tAdd xref-find-regexp\n\t* lisp/progmodes/xref.el (xref-find-function): Describe the\n\t`matches' action.\n\t(xref-find-regexp): New command, using it.\n\t(xref-collect-references): Rename to xref-collect-matches.\n\t(xref--collect-reference): Rename to xref--collect-match.\n\t(xref-collect-matches, xref--collect-match): Accept new argument,\n\tKIND.  Update accordingly.\n\t(xref--regexp-to-extended): New function.\n\t* lisp/progmodes/elisp-mode.el (elisp-xref-find): Support the\n\t`matches' action.\n\t(elisp--xref-find-matches): Accept new argument.  Resolve a FIXME.\n\t* lisp/progmodes/etags.el (etags-xref-find):\n\tSupport the `matches' action.\n\t(etags--xref-find-matches): New function.\n\n2015-05-10  Glenn Morris  <rgm@gnu.org>\n\n\t* Makefile.in: Fixes for recent change-history changes.\n\t(change-history-nocommit): Update footer regexp.\n\tEnsure output script stays executable.\n\n2015-05-10  Nicolas Petton  <nicolas@petton.fr>\n\n\tNew version of `seq-let' based on a pcase pattern\n\t* lisp/emacs-lisp/seq.el (seq-let): Define the macro in terms of a\n\tpcase pattern if `pcase-defmacro' is defined (Emacs>=25.1).\n\n2015-05-10  Przemys\u0142aw Wojnowski  <esperanto@cumego.com>\n\n\tAdd basic HTML5 tags and a template\n\t* lisp/textmodes/sgml-mode.el: Basic HTML5 support.\n\t(html-tag-alist): Add HTML5 tags.\n\t(html-tag-help): Add new tags descriptions.\n\t(html-navigational-links): Template for nav links.\n\t(html-html5-template): Template for a HTML5 page.\n\n2015-05-10  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tsemantic/symref/grep: Don't use word boundaries\n\t* lisp/cedet/semantic/symref/grep.el\n\t(semantic-symref-perform-search): Instead of wrapping input in\n\tword boundaries, check that the characters before and after are\n\tnot word constituents.\n\n\tsemantic/symref/grep: Support regexp search\n\t* lisp/cedet/semantic/symref.el\n\t(semantic-symref-hit-to-tag-via-buffer): Don't regexp-quote when\n\tthe search type is regexp.\n\t* lisp/cedet/semantic/symref/grep.el\n\t(semantic-symref-perform-search): Support the regexp search type.\n\tPass -E to Grep when it's used.\n\n\tsemantic-symref-regexp: Allow to input an arbitrary string\n\t* lisp/cedet/semantic/symref/list.el (semantic-symref-regexp):\n\tAllow to input an arbitrary string interactively.\n\n\tRemove tag-symbol-match-p from etags-xref-find-definitions-tag-order\n\t* lisp/progmodes/etags.el (etags-xref-find-definitions-tag-order):\n\tRemove tag-symbol-match-p from the default value\n\t(http://lists.gnu.org/archive/html/emacs-devel/2015-05/msg00292.html).\n\n\tDeclare find-tag obsolete\n\t* lisp/progmodes/etags.el (find-tag): Declare obsolete in favor of\n\txref-find-definitions.\n\n2015-05-10  Jan D  <jan.h.d@swipnet.se>\n\n\tDraw composite string correctly (Bug#20537)\n\t* src/nsterm.m (ns_draw_composite_glyph_string_foreground):\n\tNew function.\n\t(ns_draw_glyph_string): Call it.\n\n2015-05-09  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid infloop in ERC\n\t* lisp/simple.el (line-move-to-column): Ignore field boundaries\n\twhile computing line beginning position.  (Bug#20498)\n\n2015-05-08  Glenn Morris  <rgm@gnu.org>\n\n\t* Makefile.in (ChangeLog): No longer pass \"srcprefix\"; cd instead.\n\t* build-aux/gitlog-to-emacslog: Check called from right directory.\n\t(srcprefix): Remove.\n\n\t* build-aux/gitlog-to-emacslog: Get rid of \"distprefix\".\n\t* Makefile.in (ChangeLog): No longer pass \"distprefix\".\n\t* make-dist: Update \"make ChangeLog\" syntax for the above change.\n\n\t* build-aux/gitlog-to-emacslog: Don't hard-code \"ChangeLog.2\".\n\t* Makefile.in (ChangeLog): Pass -n to gitlog-to-emacslog.\n\n\t* build-aux/gitlog-to-emacslog: Add \"for earlier changes\" to footer.\n\n\tAdd command-line option-parsing to gitlog-to-emacslog\n\t* build-aux/gitlog-to-emacslog: Add command-line options.\n\tBy default, refuse to remove an existing output file.\n\t* Makefile.in (CHANGELOG): Update default.\n\t(ChangeLog): Do not test for existing file.\n\t(change-history-nocommit): Ensure temp file does not exist.\n\n\tQuieten --without-x compilation\n\t* lisp/term/common-win.el: Provide a feature.\n\t* lisp/term/x-win.el (term/common-win): Require it.\n\n\t* lisp/dired-aux.el (dired-do-print): Require lpr.\n\n\tQuieten compilation, eg in --without-x builds\n\t* lisp/dired-aux.el (lpr-printer-switch):\n\t* lisp/frame.el (tool-bar-height):\n\t* lisp/linum.el (font-info):\n\t* lisp/window.el (font-info, overflow-newline-into-fringe)\n\t(tool-bar-height):\n\t* lisp/emacs-lisp/package-x.el (tar-data-buffer):\n\t* lisp/gnus/gnus-util.el (iswitchb-mode):\n\t* lisp/mail/rmailmm.el (libxml-parse-html-region):\n\t* lisp/net/nsm.el (gnutls-peer-status)\n\t(gnutls-peer-status-warning-describe):\n\t* lisp/net/shr.el (libxml-parse-xml-region):\n\t* lisp/url/url-http.el (gnutls-peer-status): Declare.\n\n2015-05-08  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tCEDET (srecode-pop, srecode-peek): Don't use `subclass'\n\t* lisp/cedet/srecode/insert.el (srecode-pop, srecode-peek): Don't use\n\t`subclass' since they're never called with a class.\n\t(srecode-insert-method, srecode-insert-subtemplate): Avoid obsolete\n\tsrecode-dictionary-child-p.\n\n2015-05-08  Nicolas Richard  <theonewiththeevillook@yahoo.fr>\n\n\t* lisp/help.el (help--binding-locus): Document argument POSITION.\n\t(Bug#20530)\n\n2015-05-08  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMerge from gnulib\n\t* doc/misc/texinfo.tex: Get latest version.\n\n2015-05-08  Oleh Krehel  <ohwoeowho@gmail.com>\n\n\tffap.el (ffap-read-file-or-url): Fix completing-read call\n\t* lisp/ffap.el (ffap-read-file-or-url): The HIST argument of\n\t`completing-read' should be a symbol.\n\n2015-05-08  Eli Zaretskii  <eliz@gnu.org>\n\n\tVerify file modifications by other programs\n\t* src/filelock.c (lock_file): Check whether the file was modified\n\tsince it was visited even if 'create-lockfiles' is nil.  (Bug#18828)\n\n\tFix keyboard macros that include function keys\n\t* src/keyboard.c (read_char_minibuf_menu_prompt): Record function\n\tkeys in the macro before returning.  (Bug#20454)\n\n2015-05-08  Glenn Morris  <rgm@gnu.org>\n\n\t* build-aux/gitlog-to-changelog: Treat \"Tiny-change\" like\n\t\"Copyright-paperwork-exempt\".  (Bug#20324)\n\n\t* lisp/vc/log-edit.el: Handle \"(tiny change)\".  (Bug#20324)\n\t(log-edit-rewrite-tiny-change): New variable.\n\t(log-edit-insert-changelog): Maybe add \"Copyright-paperwork-exempt\".\n\t(log-edit-changelog-ours-p): Set log-edit-author to a cons.\n\t* etc/NEWS: Mention this.\n\n\t* lisp/calc/calc.el (math-zerop): Declare.\n\n\t* lisp/emacs-lisp/eieio-opt.el (help-fns-short-filename): Declare.\n\n2015-05-07  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/subr-x.el (if-let): Fix debug spec.\n\tSupport the case when BINDINGS is a single tuple.  (Bug#20525)\n\n\t* etc/NEWS: Fix typo in previous commit\n\t(14bb519f1034ddb38ce375cbad7095d9b07f8b26).\n\n2015-05-07  Jan D  <jan.h.d@swipnet.se>\n\n\t* configure.ac: Warn for multiple display crash for all Gtk+ versions.\n\tOutput URL to Gtk+ bug (Bug#20452).\n\n\t* lisp/term/ns-win.el (ns-paste-secondary): Use gui-get-selection.\n\n2015-05-07  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el: New \"external\" package status.\n\tAn external package is any installed package that's not built-in\n\tand not from `package-user-dir', which usually means it's from an\n\tentry in `package-directory-list'.  They are treated much like\n\tbuilt-in packages, in that they cannot be through the Package Menu\n\tdeleted and are not considered for upgrades.\n\t(package-desc-status): Identify if a package is installed outside\n\t`package-user-dir'.\n\t(package-menu--print-info-simple)\n\t(package-menu--status-predicate): Add support for it.\n\t* etc/NEWS: Document it.\n\n2015-05-06  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/mail/rmail.el: Use lexical-binding.\n\t(rmail-bury): Remove unused var `buffer-to-bury'.\n\t(rmail-get-new-mail): Remove unused vars `opoint' and `success'.\n\t(rmail-parse-url): Remove unused var `proto', `user', and `host'.\n\t(rmail-unrmail-new-mail-maybe): Remove unused var `new-file'.\n\t(rmail-insert-inbox-text): Remove unused var `movemail'.\n\t(rmail-add-mbox-headers): Remove unused var `limit'.\n\t(rmail-undelete-previous-message): Remove unused var `value'.\n\t(rmail-reply): Remove unused vars `resent-to', `resent-cc',\n\t`resent-reply-to'.\n\t(rmail-mime-mbox-buffer, rmail-mime-view-buffer): Declare.\n\t(rmail-restore-desktop-buffer): Rename arguments.\n\n2015-05-06  Glenn Morris  <rgm@gnu.org>\n\n\t* Makefile.in (change-history-commit): Add missing piece of previous.\n\n\tAvoid unnecessary bumping of Makefile.in's timestamp\n\t* Makefile.in (gen_origin): Move to gitlog-to-emacslog.\n\t(emacslog): New variable.\n\t(ChangeLog): Use $emacslog.  Don't pass $gen_origin.\n\t(unchanged-history-files): Use $emacslog rather than Makefile.in.\n\t(change-history-nocommit): Store hash in $emacslog.\n\t* build-aux/gitlog-to-emacslog (gen_origin): Move default here.\n\t* admin/update_autogen (changelog_files): Update for the above.\n\n\t* Makefile.in: Don't always insist on removing existing \"ChangeLog\".\n\t(CHANGELOG): New variable.\n\t(no-ChangeLog): Remove.\n\t(ChangeLog): Replace \"no-ChangeLog\"; pass output file to script.\n\t(change-history-nocommit): Use a temp file rather than insisting\n\ton deletion of any existing \"ChangeLog\".\n\n\t* build-aux/gitlog-to-emacslog: Allow specification of output.\n\n\t* admin/update_autogen: Add option to update ChangeLog.\n\t(usage): Mention -H.\n\t(changelog_flag, changelog_n, changelog_files): New variables.\n\t(main): Check for -H, and maybe run change-history-nocommit.\n\n2015-05-06  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/subr.el (delete-dups): Pre-size the hashtable.\n\n\t* lisp/emacs-lisp/cl.el (define-modify-macro): Make sure\n\tcl--arglist-args is defined (bug#20517).\n\n2015-05-06  Glenn Morris  <rgm@gnu.org>\n\n\t* Makefile.in (change-history-nocommit): New.\n\n2015-05-06  Dmitry Gutov  <dgutov@yandex.ru>\n\n\t* lisp/cedet/pulse.el (pulse-momentary-unhighlight): Only cancel\n\ttimer when it is non-nil\n\t(http://lists.gnu.org/archive/html/emacs-devel/2015-05/msg00223.html).\n\n2015-05-06  Glenn Morris  <rgm@gnu.org>\n\n\tQuieten CEDET compilation\n\t* lisp/cedet/semantic/db-el.el (semanticdb-elisp-sym->tag):\n\tInvert fboundp test to quieten on current Emacs.\n\t* lisp/cedet/ede/config.el (ede-shell-run-something)\n\t(semanticdb-file-table-object, semanticdb-needs-refresh-p)\n\t(semanticdb-refresh-table): Declare.\n\t(ede-preprocessor-map): Require semantic/db.\n\n\tQuieten cc-mode compilation\n\t* lisp/progmodes/cc-awk.el (c-forward-sws):\n\t* lisp/progmodes/cc-cmds.el (c-forward-subword, c-backward-subword):\n\tDeclare.\n\n2015-05-06  Oleh Krehel  <ohwoeowho@gmail.com>\n\n\t* lisp/subr.el (delete-dups): Avoid nreverse.\n\n2015-05-06  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/subr.el (delete-dups): Make it destructive again.\n\n2015-05-06  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* doc/lispref/sequences.texi (Sequence Functions): Fix quoting.\n\n2015-05-06  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/testcover.el: Don't use edebug--read (bug#20487).\n\t* lisp/emacs-lisp/testcover.el: Use lexical-binding.\n\t(testcover--read): Rename from testcover-read.  Change calling\n\tconvention.  Use edebug-read-and-maybe-wrap-form now that edebug-read\n\tis gone.\n\t(testcover-start): Use add-function.  Move edebug-all-defs binding to\n\ttestcover--read.\n\t(testcover-this-defun): Tighten scope of edebug-all-defs binding.\n\t(testcover-mark): Remove unused var `item'.\n\t* src/lread.c (syms_of_lread): Default load-read-function to `read'.\n\n2015-05-06  Oleh Krehel  <ohwoeowho@gmail.com>\n\n\t* lisp/subr.el (delete-dups): When there are more than 100 candidates,\n\t  use a hash table.  This can result in ~500 times speed-up for typical\n\t  collections of size 5000, like that of `load-library'.\n\n2015-05-06  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tCEDET: Avoid `oref' on classes in a few more cases\n\t* lisp/cedet/ede/generic.el (ede-find-target):\n\t* lisp/cedet/ede.el (ede-project-forms-menu): Avoid `oref' on classes.\n\t* lisp/cedet/semantic/bovine/gcc.el (semantic-gcc-setup): Remove unused\n\tvar `prefix'.\n\n\t* lisp/cedet/semantic/symref/grep.el: Fix unused var warnings.\n\t(grepflags, greppattern): Declare.\n\t(semantic-symref-perform-search): Remove unused var `pat'.\n\n\tCEDET (srecode-compile-inserter): Avoid `oref' on classes\n\t* lisp/cedet/srecode/compile.el (srecode-compile-inserter):\n\tAvoid `oref' on classes (bug#20491).\n\t(srecode-compile-split-code): Remove unused var `key'.\n\n2015-05-06  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tClean up pulse.el a little\n\t* lisp/cedet/pulse.el (pulse): Remove.\n\t(pulse-momentary-timer): Save instead of the stop time.\n\t(pulse-momentary-highlight-overlay):\n\tCall pulse-momentary-unhighlight first thing.\n\tTreat pulse-momentary-overlay as a single value, not a list.\n\tSave the created timer.  Only pass the stop time to the timer.\n\t(pulse-tick): Update accordingly.\n\t(pulse-momentary-unhighlight): Treat pulse-momentary-overlay as a\n\tsingle value.  Cancel the timer.\n\n2015-05-06  Tassilo Horn  <tsdh@gnu.org>\n\n\t* lisp/textmodes/reftex-cite.el (reftex-format-bib-entry):\n\tSupport the biblatex journaltitle field.\n\n2015-05-05  Glenn Morris  <rgm@gnu.org>\n\n\tMinor declare-function improvement\n\t* lisp/emacs-lisp/bytecomp.el\n\t(byte-compile-macroexpand-declare-function):\n\tHandle declarations after calls.  (Bug#20509)\n\n\t* lisp/progmodes/js.el (js--optimize-arglist): Remove declaration.\n\n\t* lisp/w32-fns.el (w32-shell-name): Silence compiler.\n\n2015-05-05  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tPulse using a timer\n\t* lisp/cedet/pulse.el (pulse-momentary-stop-time): New variable.\n\t(pulse-momentary-highlight-overlay): Set up the timer instead of\n\tcalling `pulse'\n\t(http://lists.gnu.org/archive/html/emacs-devel/2015-05/).\n\t(pulse-tick): New function.\n\t(pulse-momentary-unhighlight): Cut off the stop time.\n\t(pulse-delay): Update the docstring WRT to not using sit-for.\n\n\tAdd semantic/symref/grep file patterns for ruby-mode\n\t* lisp/cedet/semantic/symref/grep.el\n\t(semantic-symref-filepattern-alist): Add patterns for ruby-mode.\n\tClarify the docstring.\n\n\tDon't require match\n\t* lisp/progmodes/xref.el (xref--read-identifier): Don't require\n\tmatch.  That doesn't work for every command, and some identifier\n\tcompletion tables are bound to be imperfect anyway.\n\n2015-05-05  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/cedet/semantic/grammar.el: Fix compiler warnings (bug#20505).\n\t(semantic-grammar--template-expand): New function.\n\t(semantic-grammar-header, semantic-grammar-footer): Use it.\n\t(semantic-grammar--lex-block-specs): Remove unused var `block-spec'.\n\t(semantic-grammar-file-regexp): Refine regexp.\n\t(semantic-grammar-eldoc-get-macro-docstring):\n\tUse elisp-get-fnsym-args-string when available.\n\t(semantic-idle-summary-current-symbol-info): Use new elisp-* names\n\tinstead of the old eldoc-* names.\n\t* lisp/emacs-lisp/eldoc.el (eldoc-docstring-format-sym-doc): Move back\n\tfrom elisp-mode.el.  Tweak calling convention.\n\t* lisp/progmodes/elisp-mode.el (package-user-dir): Declare.\n\t(elisp-get-fnsym-args-string): Add `prefix' argument.  Rename from\n\telisp--get-fnsym-args-string.\n\t(elisp--highlight-function-argument): Add `prefix' arg.\n\t(elisp-get-var-docstring): Rename from elisp--get-var-docstring.\n\t(elisp--docstring-format-sym-doc): Move back to eldoc.el.\n\n2015-05-05  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/help-fns.el (describe-function-1):\n\tHandle builtins with advertised calling conventions.  (Bug#20479)\n\n2015-05-05  Nicolas Petton  <nicolas@petton.fr>\n\n\tMerge branch 'seq-let'\n\n\tUpdate `seq-let' documentation\n\t* doc/lispref/sequences.texi: Update the documentation of `seq-let'\n\twith the support of  `&rest'.\n\n\tAdd support for &rest in `seq-let'\n\t* lisp/emacs-lisp/seq.el (seq--make-bindings): Add support for `&rest'\n\tin the argument list.\n\t* test/automated/seq-tests.el: Add a test for parsing and binding\n\t`&rest' in `seq-let'.\n\n2015-05-05  Pierre Lorenzon  <devel@pollock-nageoire.net>  (tiny change)\n\n\t* lisp/emacs-lisp/eieio-custom.el (eieio-object-value-get):\n\tAdd missing increment (Bug#20467).\n\t(eieio-object-value-create): Adjust to new slots representation\n\t(Bug#20467).\n\t(eieio-object-value-create): Fix missed adjustment to new\n\trepresentation of slots metadata.\n\n2015-05-05  Nicolas Petton  <nicolas@petton.fr>\n\n\t* lisp/emacs-lisp/seq.el (seq--make-bindings): Improve the docstring.\n\n2015-05-05  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tWork around \"Attempt to modify read-only object\"\n\t* lisp/progmodes/elisp-mode.el (elisp--xref-format): Extract from\n\telisp--xref-find-definitions, to work around \"Attempt to modify\n\tread-only object\" error.\n\n\tOnly skip some variables that have function counterparts\n\t* lisp/progmodes/elisp-mode.el (elisp--xref-identifier-location):\n\tOnly skip minor-mode-named variable if it's defined in a Lisp\n\tfile, and it's in minor-mode-list (bug#20506).\n\t* test/automated/elisp-mode-tests.el\n\t(elisp-xref-finds-both-function-and-variable)\n\t(elisp-xref-finds-only-function-for-minor-mode): New tests.\n\n2015-05-04  Dmitry Gutov  <dgutov@yandex.ru>\n\n\t* lisp/progmodes/xref.el (xref--location-at-point): Revert the\n\tprevious change.\n\t(xref--insert-xrefs): Buttonize the whole line, including the\n\tnumber at the beginning.\n\n\t* lisp/progmodes/elisp-mode.el (elisp-completion-at-point):\n\tMake sure we're inside the let bindings.\n\t* test/automated/elisp-mode-tests.el\n\t(elisp-completes-functions-after-let-bindings): New test.\n\n2015-05-04  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/cedet/semantic/grammar.el (eldoc-function-argstring)\n\t(eldoc-docstring-format-sym-doc, eldoc-last-data-store)\n\t(eldoc-get-fnsym-args-string, eldoc-get-var-docstring):\n\tRemove outdated declarations.\n\n\tReplace instances of \"(eval-when-compile (autoload ...))\"\n\t* lisp/gnus/gnus-art.el (nneething-get-file-name):\n\tDeclare rather than autoload.\n\t* lisp/gnus/gnus-async.el (gnus-html-prefetch-images):\n\tRemove pointless autoload.\n\t* lisp/gnus/gnus-sync.el (gnus-group-topic): Autoload at run-time.\n\t(gnus-topic-create-topic, gnus-topic-enter-dribble):\n\tDeclare rather than autoload.\n\t* lisp/gnus/mm-archive.el (gnus-recursive-directory-files)\n\t(mailcap-extension-to-mime): Autoload at run-time.\n\t* lisp/gnus/mm-util.el (latin-unity-massage-name)\n\t(latin-unity-maybe-remap, latin-unity-representations-feasible-region)\n\t(latin-unity-representations-present-region):\n\tDeclare rather than autoload.\n\t* lisp/gnus/mml-smime.el (epg-make-context)\n\t(epg-passphrase-callback-function): Autoload at run-time.\n\t(epg-context-set-signers, epg-context-result-for)\n\t(epg-new-signature-digest-algorithm)\n\t(epg-verify-result-to-string, epg-list-keys, epg-verify-string)\n\t(epg-sign-string, epg-encrypt-string)\n\t(epg-context-set-passphrase-callback, epg-sub-key-fingerprint)\n\t(epg-configuration, epg-expand-group, epa-select-keys):\n\tDeclare rather than autoload.\n\t* lisp/gnus/nnir.el (nnimap-change-group, nnimap-make-thread-query):\n\tAutoload at run-time.\n\t(gnus-group-topic-name, nnimap-buffer, nnimap-command)\n\t(gnus-registry-get-id-key, gnus-registry-action):\n\tDeclare rather than autoload.\n\t* lisp/gnus/nnmail.el (mail-send-and-exit): Autoload at run-time.\n\t* lisp/gnus/spam.el (spam-stat-buffer-change-to-non-spam)\n\t(spam-stat-buffer-change-to-spam, spam-stat-buffer-is-non-spam)\n\t(spam-stat-buffer-is-spam, spam-stat-load, spam-stat-save)\n\t(spam-stat-split-fancy): Remove pointless autoloads.\n\t* lisp/net/mairix.el: Load gnus-util when compiling.\n\t(gnus-group-read-ephemeral-group, gnus-summary-toggle-header)\n\t(message-field-value): Declare rather than autoload.\n\t(mairix-gnus-ephemeral-nndoc, mairix-gnus-fetch-field):\n\tCheck gnus-alive-p is fbound.\n\t(vm-quit, vm-visit-folder, vm-select-folder-buffer)\n\t(vm-check-for-killed-summary, vm-error-if-folder-empty)\n\t(vm-get-header-contents, vm-select-marked-or-prefixed-messages):\n\tDeclare rather than autoload.\n\n\t* lisp/gnus/mm-view.el (epg-decrypt-string): Autoload.\n\n\t* lisp/gnus/mml-smime.el (epg-key-sub-key-list)\n\t(epg-sub-key-capability, epg-sub-key-validity): Fix declarations.\n\n\t* lisp/progmodes/elisp-mode.el (xref-collect-references): Declare.\n\n\t* lisp/emacs-lisp/debug.el (help-xref-interned): Update declaration.\n\n\t* lisp/allout.el (epg-user-id-string, epg-key-user-id-list):\n\t* lisp/emacs-lisp/package.el (epg-signature-status):\n\tFix declarations.\n\n\t* lisp/play/gametree.el (gametree-show-children-and-entry)\n\t(gametree-apply-layout, gametree-mouse-show-subtree)\n\t(gametree-mouse-hide-subtree): Replace obsolete outline aliases.\n\n\t* lisp/emacs-lisp/check-declare.el (check-declare-verify):\n\tHandle cl-defgeneric, cl-defmethod.\n\n2015-05-04  Dmitry Gutov  <dgutov@yandex.ru>\n\n\t* lisp/progmodes/elisp-mode.el (elisp--xref-find-definitions):\n\tHighlight both type and symbol name.\n\n\tInsert, highlight and align line numbers in xref output\n\t* lisp/progmodes/etags.el (xref-location-line): Specialize for\n\txref-etags-location.\n\t* lisp/progmodes/xref.el (xref-location-line): New generic method.\n\t(xref-file-location): Add reader for the line slot.\n\t(xref--location-at-point): Skip to the `xref-location' property.\n\t(xref--collect-reference): Drop the line number from description.\n\t(xref--insert-xrefs): Insert, highlight and align line numbers.\n\n2015-05-04  Daniel Colascione  <dancol@dancol.org>\n\n\t* lisp/simple.el (save-mark-and-excursion--save)\n\t(save-mark-and-excursion--restore): Fix previous commit\n\t(255a011f0ecf004b31c59945b10154b10fac3af1).\n\n2015-05-04  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tDon't pulse the indentation, or the newline\n\t* lisp/cedet/pulse.el (pulse-lighten-highlight)\n\t(pulse-reset-face): Fall back to the inherited background\n\tattribute in FACE.\n\t(pulse-momentary-highlight-region): Add autoload cookie.\n\t* lisp/progmodes/xref.el (xref--maybe-pulse): Don't highlight the\n\tindentation, or the newline, if the line's non-empty\n\t(http://lists.gnu.org/archive/html/emacs-devel/2015-05/msg00118.html).\n\n2015-05-04  Daniel Colascione  <dancol@dancol.org>\n\n\tAdd `save-mark-and-excursion', which has the old\n\t`save-excursion' behavior\n\t* doc/lispref/positions.texi (Excursions):\n\tDocument `save-mark-and-excursion'.\n\t* lisp/font-lock.el (font-lock-fontify-block):\n\tUse `save-mark-and-excursion' instead of `save-excursion',\n\trestoring Emacs 24 behavior.\n\t* lisp/simple.el (save-mark-and-excursion--save)\n\t(save-mark-and-excursion--restore): New functions.\n\t(save-mark-and-excursion): New user macro.\n\t* src/editfns.c (Fsave_excursion): Mention `save-mark-and-excursion'\n\tin `save-excursion' documentation.\n\n2015-05-04  Dmitry Gutov  <dgutov@yandex.ru>\n\n\t* lisp/progmodes/elisp-mode.el (elisp-completion-at-point):\n\tClassify lone symbol inside let varlist as variable.\n\t* test/automated/elisp-mode-tests.el\n\t(completest-variables-in-let-bindings): New test.\n\n\tAdd xref-pulse-on-jump\n\t* lisp/cedet/pulse.el (pulse-momentary-highlight-one-line):\n\tAdd autoload cookie.\n\t* lisp/progmodes/xref.el (xref-pulse-on-jump): New option.\n\t(xref--maybe-pulse): New function.\n\t(xref-pop-marker-stack, xref--pop-to-location)\n\t(xref--display-position): Use it.\n\t(xref--location-at-point): Use back-to-indentation.\n\n2015-05-04  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tlisp/org/org-{macs,list}.el: Fix lexical warnings\n\t* lisp/org/org-list.el (org-list-struct): Remove unused var `ind'.\n\t(org-list-get-next-item, org-list-get-prev-item)\n\t(org-list-get-children): Mark unused arg `struct'.\n\t(org-list-use-alpha-bul-p): Remove unused var `bul'.\n\t(org-toggle-checkbox): Mark unused var.\n\t(org-update-checkbox-count): Remove unused var `box-num'.\n\t(org-adapt-indentation): Declare.\n\t(org-list-parse-list): Declare var instead of adding a dummy duplicate.\n\t(org-list-send-list): Remove unused var `txt'.\n\t(org-list-to-latex, org-list-to-texinfo): Mark unused arg `params'.\n\t(org-list-to-subtree): Add prefix to dyn-bind var, and declare them.\n\t* lisp/org/org-macs.el: Use `declare'.\n\t(org-with-limited-levels): Declare dyn-bound vars.\n\n2015-05-04  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix minor issues with CEDET on MS-Windows\n\t* lisp/cedet/semantic/symref/idutils.el\n\t(semantic-symref-parse-tool-output-one-line): Fix the search\n\tregexp to match MS-Windows file names with drive letters.\n\t(Bug#19468)\n\t* lisp/cedet/semantic/symref/grep.el\n\t(semantic-symref-grep-use-template): Remove \"--color=always\" from\n\tGrep switches on MS-Windows.\n\t(semantic-symref-grep-shell): Use shell-file-name as the default\n\tvalue, so this works not only on Posix platforms.\n\t(semantic-symref-perform-search): Use shell-quote-argument instead\n\tof literal '..' for portable quoting of Grep command-line\n\targument.  Use shell-command-switch instead of a literal \"-c\".\n\t* lisp/cedet/semantic/bovine/gcc.el\n\t(semantic-gcc-get-include-paths): Use file-name-absolute-p to test\n\tfor an absolute file name in a portable way.\n\n2015-05-04  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el: Remove `package--silence' variable.\n\t(package-import-keyring, package-refresh-contents)\n\t(package-compute-transaction, package--save-selected-packages)\n\t(package-install-from-archive, package-delete)\n\t(package-menu--perform-transaction): Use `inhibit-message' instead.\n\t(package--compile): Set `warning-minimum-level' to :error.\n\n2015-05-03  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/term/screen.el (xterm-screen-extra-capabilities): New custom.\n\t(terminal-init-screen): Use it (bug#20356).\n\t* lisp/term/xterm.el: Provide `term/xterm' instead of `xterm'.\n\t(xterm--extra-capabilities-type): New const.\n\t(xterm-extra-capabilities): Use it.\n\t(xterm--version-handler): Lower the pseudo-version for `screen'.\n\n2015-05-03  Dmitry Gutov  <dgutov@yandex.ru>\n\n\t* lisp/progmodes/xref.el (xref--insert-xrefs): Tweak the faces.\n\tAlways insert a newline at the end (to avoid mouse-face background\n\ttail at the last line).\n\n\telisp-completion-at-point: Prioritize being quoted over funpos\n\t* lisp/progmodes/elisp-mode.el (elisp-completion-at-point):\n\tOnly consider function position when not inside quoted form\n\t(bug#20425).\n\t* test/automated/elisp-mode-tests.el: New file.\n\n\tStop vc-print-log from jumping to the top\n\t* lisp/vc/vc.el (vc-print-log-internal): Pass nil\n\tGOTO-LOCATION-FUNC to vc-log-internal-common when WORKING-REVISION\n\tis not specified.\n\t(vc-incoming-outgoing-internal): Always pass nil.\n\t(vc-log-internal-common): When GOTO-LOCATION-FUNC is nil, don't\n\tcall it, and don't set vc-sentinel-movepoint (bug#15322).\n\t(vc-print-root-log): Don't fetch the root working revision, nor\n\tpass it to vc-print-log-internal.\n\n2015-05-02  Michael Vehrs  <Michael.Burschik@gmx.de>\n\n\tFix display of keyboard layouts for right-to-left scripts\n\t* lisp/international/quail.el (quail-insert-kbd-layout):\n\tForce left-to-right paragraph direction.\n\n2015-05-02  K. Handa  <handa@gnu.org>\n\n\t* src/cmds.c (internal_self_insert): When we insert spaces for\n\tpadding, set point before the padding spaces, not after them.\n\n2015-05-02  Nicolas Petton  <nicolas@petton.fr>\n\n\t* lisp/emacs-lisp/seq.el (seq-p): New alias to `sequencep'.\n\n2015-05-02  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tFix etags-xref-find for references\n\t* lisp/progmodes/elisp-mode.el (elisp--xref-find-references):\n\tUse `cl-mapcan'.\n\t* lisp/progmodes/etags.el (etags-xref-find): Ditto.  Prompt for\n\tdirectory if no tags tables are loaded (bug#19468).\n\n2015-05-02  Philipp Stephani  <phst@google.com>\n\n\tUpdate the options in whitespace-style defcustom\n\t* lisp/whitespace.el (whitespace-style): Use `set' instead of a\n\t`repeat' because the option is really set-like.  Add missing\n\toptions.  Reorder options to match the order in the\n\tdocumentation.  (Bug#20346)\n\n2015-05-02  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix error diagnostics of c-macro-expand\n\t* lisp/progmodes/cmacexp.el (c-macro-expansion): Don't bail out\n\ttoo early if no start-marker string was found -- that generally\n\tmeans cpp exited abnormally, and we still want to show its error\n\tmessages to the user.\n\n\tDon't require Texinfo 5.0 for Emacs documentation\n\t* doc/emacs/docstyle.texi: Use \"@set txicodequoteundirected\" and\n\t\"@set txicodequotebacktick\" instead of \"@codequotebacktick on\" and\n\t\"@codequoteundirected on\", respectively, to avoid requiring\n\tTexinfo 5.x for Emacs documentation.\n\n2015-05-01  Simen Heggest\u00f8yl  <simenheg@gmail.com>\n\n\t* lisp/files.el (pwd):\n\tWhen called with a prefix argument, insert the current default\n\tdirectory at point.\n\n2015-05-01  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/isearch.el (isearch-mode-map): Allow backspace remapping\n\t* lisp/isearch.el (isearch-mode-map): Don't inhibit\n\tfunction-key-map remapping for backspace (bug#20466).\n\n2015-05-01  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tImplement xref-find-references in etags and elisp-mode\n\t* lisp/progmodes/elisp-mode.el (elisp--xref-find-references): New function.\n\t(elisp-xref-find): Use it.\n\t* lisp/progmodes/etags.el (etags-xref-find): Use `xref-collect-references'.\n\t* lisp/progmodes/xref.el (xref-collect-references):\n\t(xref--collect-reference): New functions.\n\n2015-05-01  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPrefer plain characters to Texinfo circumlocutions\n\tFor example, prefer 'Fran\u00e7ois' to 'Fran\\c{c}ois', 'Fran\\c cois',\n\t'Fran@,{c}ois' or 'Francois' (all of which were used!) in Texinfo sources.\n\n\tFix single-quoting style in PDF manuals\n\tThe PDF versions of the GNU manuals used curved single quotes to\n\trepresent grave accent and apostrophe, which made it a pain to cut\n\tand paste code examples from them.  Fix the PDF versions to use\n\tgrave accent and apostrophe for Lisp source code, keystrokes, etc.\n\tThis change does not affect the info files, nor does it affect\n\tordinary uses of curved single quotes in PDF.\n\t* doc/emacs/docstyle.texi: New file, which specifies treatment for\n\tgrave accent and apostrophe, as well as the document encoding.\n\t* doc/emacs/emacs-xtra.texi, doc/emacs/emacs.texi:\n\t* doc/lispintro/emacs-lisp-intro.texi:\n\t* doc/lispref/back.texi, doc/lispref/book-spine.texi:\n\t* doc/lispref/elisp.texi, doc/lispref/lay-flat.texi:\n\t* doc/misc/ada-mode.texi, doc/misc/auth.texi:\n\t* doc/misc/autotype.texi, doc/misc/bovine.texi, doc/misc/calc.texi:\n\t* doc/misc/cc-mode.texi, doc/misc/cl.texi, doc/misc/dbus.texi:\n\t* doc/misc/dired-x.texi, doc/misc/ebrowse.texi, doc/misc/ede.texi:\n\t* doc/misc/ediff.texi, doc/misc/edt.texi, doc/misc/efaq-w32.texi:\n\t* doc/misc/efaq.texi, doc/misc/eieio.texi, doc/misc/emacs-gnutls.texi:\n\t* doc/misc/emacs-mime.texi, doc/misc/epa.texi, doc/misc/erc.texi:\n\t* doc/misc/ert.texi, doc/misc/eshell.texi, doc/misc/eudc.texi:\n\t* doc/misc/eww.texi, doc/misc/flymake.texi, doc/misc/forms.texi:\n\t* doc/misc/gnus-coding.texi, doc/misc/gnus-faq.texi:\n\t* doc/misc/gnus.texi, doc/misc/htmlfontify.texi:\n\t* doc/misc/idlwave.texi, doc/misc/ido.texi, doc/misc/info.texi:\n\t* doc/misc/mairix-el.texi, doc/misc/message.texi, doc/misc/mh-e.texi:\n\t* doc/misc/newsticker.texi, doc/misc/nxml-mode.texi:\n\t* doc/misc/octave-mode.texi, doc/misc/org.texi, doc/misc/pcl-cvs.texi:\n\t* doc/misc/pgg.texi, doc/misc/rcirc.texi, doc/misc/reftex.texi:\n\t* doc/misc/remember.texi, doc/misc/sasl.texi, doc/misc/sc.texi:\n\t* doc/misc/semantic.texi, doc/misc/ses.texi, doc/misc/sieve.texi:\n\t* doc/misc/smtpmail.texi, doc/misc/speedbar.texi:\n\t* doc/misc/srecode.texi, doc/misc/todo-mode.texi, doc/misc/tramp.texi:\n\t* doc/misc/url.texi, doc/misc/vhdl-mode.texi, doc/misc/vip.texi:\n\t* doc/misc/viper.texi, doc/misc/widget.texi, doc/misc/wisent.texi:\n\t* doc/misc/woman.texi:\n\tUse it instead of '@documentencoding UTF-8', to lessen the need for\n\tglobal changes like this in the future.\n\t* doc/emacs/Makefile.in (EMACS_XTRA):\n\t* doc/lispintro/Makefile.in (srcs):\n\t* doc/lispref/Makefile.in (srcs):\n\tAdd dependency on docstyle.texi.\n\t* doc/misc/Makefile.in (style): New macro.\n\t(${buildinfodir}/%.info, %.dvi, %.pdf, %.html)\n\t(${buildinfodir}/ccmode.info, ${buildinfodir}/efaq%.info, gnus_deps):\n\tUse it.\n\n2015-05-01  Glenn Morris  <rgm@gnu.org>\n\n\t* test/automated/cl-lib-tests.el (cl-lib-adjoin-test): Fix it.\n\n\t* lisp/emacs-lisp/pcase.el (get-edebug-spec, edebug-match)\n\t(help-fns--signature): Declare.\n\n\t* lisp/emacs-lisp/pcase.el (pcase--make-docstring): Require help-fns.\n\n2015-05-01  Nicolas Petton  <nicolas@petton.fr>\n\n\tNew macro seq-let, providing destructuring support to seq.el\n\t* lisp/emacs-lisp/seq.el (seq-let): New macro.  `seq-let' is similar\n\tto `cl-destructuring-bind' but works on all sequence types supported\n\tby `seq.el'.  Bump version number to 1.6.\n\t* test/automated/seq-tests.el: Add tests for seq-let.\n\t* doc/lispref/sequences.texi: Add documentation for seq-let.\n\n2015-05-01  Pontus Michael  <m.pontus@gmail.com>\n\n\t* lisp/simple.el (blink-matching-open): Better behavior in minibuffer.\n\n2015-05-01  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/emacs-lisp/ert.el (ert--special-operator-p): Fix previous.\n\n2015-05-01  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/bytecomp.el: Revert \"Silence noninteractive compilations\"\n\tThis reverts commit 9a7ddde977378cb5276a81476ae458889c403267.\n\tThis reverts commit 3c0ea587daf8b17960b90603a70e3ac4057d883d.\n\tWith message: \"* lisp/emacs-lisp/bytecomp.el: Use `inhibit-message'\".\n\t(Bug#20445).\n\n2015-05-01  K. Handa  <handa@gnu.org>\n\n\t* lisp/international/mule-cmds.el (input-method-use-echo-area):\n\tChange :type to 'boolean.\n\n2015-05-01  Lars Magne Ingebrigtsen  <larsi@gnus.org>\n\n\tStart using proportional fonts in eww by default\n\t* lisp/net/shr.el (shr-use-fonts): Switch the default to t, since\n\tit seems to work well.\n\n\tFix links in tables in shr\n\t* lisp/net/shr.el: Remove `shr-inhibit-decoration', because that\n\tmakes (some) links in tables not work.\n\n2015-05-01  Jan D  <jan.h.d@swipnet.se>\n\n\t* lisp/term/ns-win.el (ns-get-cut-buffer-internal): Remove this alias.\n\n2015-04-30  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/emacs-lisp/ert.el (ert--special-operator-p):\n\tUpdate for 2015-02-08 change to indirect-function.\n\n\t* lisp/term/ns-win.el (ns-get-selection-internal):\n\tRemove declaration for function deleted 2014-10-21.\n\n\t* lisp/dom.el: Load subr-x when compiling, for when-let.\n\n\tSilence some compilation warnings\n\t* lisp/emacs-lisp/check-declare.el (compilation-forget-errors):\n\t* lisp/emulation/cua-base.el (delete-active-region):\n\t* lisp/net/net-utils.el (w32-get-console-output-codepage):\n\t* lisp/term/ns-win.el (ns-own-selection-internal)\n\t(ns-disown-selection-internal, ns-selection-owner-p)\n\t(ns-selection-exists-p, ns-get-selection):\n\tDeclare for compiler.\n\n\tFunction declaration updates prompted by 'make check-declare'\n\t* lisp/emacs-lisp/package.el (lm-homepage):\n\t* lisp/gnus/gnus-util.el (iswitchb-read-buffer):\n\t* lisp/gnus/mm-decode.el (libxml-parse-html-region):\n\t* lisp/gnus/mml.el (libxml-parse-html-region):\n\t* lisp/gnus/nnrss.el (libxml-parse-html-region):\n\t* lisp/net/eww.el (libxml-parse-html-region):\n\t* lisp/net/shr.el (libxml-parse-html-region):\n\t* lisp/vc/vc-bzr.el (vc-annotate-convert-time):\n\t* lisp/vc/vc-cvs.el (vc-annotate-convert-time):\n\t* lisp/vc/vc-git.el (vc-annotate-convert-time):\n\t* lisp/vc/vc-hg.el (vc-annotate-convert-time):\n\t* lisp/vc/vc-mtn.el (vc-annotate-convert-time):\n\t* lisp/vc/vc-rcs.el (vc-annotate-convert-time):\n\tUpdate declaration.\n\n\tRemove compatibility code for 20-year old function renaming\n\t* lisp/progmodes/idlw-shell.el (idlwave-shell-comint-filter):\n\tMake it an obsolete alias.\n\t(idlwave-shell-filter): Change all uses to comint-output-filter.\n\n2015-04-30  Tassilo Horn  <tsdh@gnu.org>\n\n\tAdd ace-window face config\n\t* etc/themes/tsdh-light-theme.el (tsdh-light): Add ace-window face\n\tconfiguration.\n\n2015-04-30  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tUnclutter 'make doc' output a bit\n\t* Makefile.in ($(DOCS), $(INSTALL_DOC), $(UNINSTALL_DOC)):\n\tUse make subst rather than sh IFS to split target string apart.\n\tThis makes 'make' output easier to follow.\n\n\tMerge from gnulib\n\t* doc/misc/texinfo.tex: Update from gnulib.\n\n2015-04-30  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el: Some speed optimizations on menu refresh.\n\t(package-menu--print-info): Obsolete.\n\t(package-menu--print-info-simple): New function.\n\t(package-menu--refresh): Use it, simplify code, and improve\n\tperformance.\n\t* lisp/emacs-lisp/tabulated-list.el (tabulated-list-print-entry):\n\tTiny performance improvement.\n\n\t* lisp/emacs-lisp/package.el (package--message): inhibit-message.\n\n2015-04-29  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tOmit -Wstrict-overflow workaround in GCC 5\n\t* src/process.c: Remove workaround for GCC -Wstrict-overflow bug\n\tif it's GCC 5 or later, as the bug appears to be fixed in GCC 5.1.\n\n\tMerge from gnulib\n\tThis incorporates:\n\t2015-04-29 extern-inline: no need for workaround in GCC 5.1\n\t2015-04-26 file-has-acl: port to CentOS 6\n\t* m4/acl.m4, m4/extern-inline.m4: Update from gnulib.\n\n2015-04-29  Helmut Eller  <eller.helmut@gmail.com>\n\n\tSet next-error-* in xref--xref-buffer-mode\n\t* lisp/progmodes/xref.el (xref--xref-buffer-mode):\n\tSet `next-error-function' and `next-error-last-buffer'.\n\t(xref--next-error-function): New function.\n\t(http://lists.gnu.org/archive/html/emacs-devel/2015-04/msg01311.html)\n\n2015-04-29  Fabi\u00e1n Ezequiel Gallina  <fgallina@gnu.org>\n\n\tpython.el: Fix warnings on looking-back calls missing LIMIT\n\t* lisp/progmodes/python.el (python-shell-accept-process-output):\n\tPass LIMIT arg to looking-back.\n\n2015-04-29  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el: Use pushnew for downloads in progress.\n\t(package--download-and-read-archives): Use pushnew instead of\n\tappend.  If something terrible happened during a previous\n\tdownload, simply refreshing should now make things work again.\n\n2015-04-29  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tIntroduce etags-xref-find-definitions-tag-order\n\t* lisp/progmodes/etags.el (etags-xref-find-definitions-tag-order):\n\tNew variable.\n\t(etags--xref-find-definitions): Use it (bug#19468).\n\n2015-04-29  Eli Zaretskii  <eliz@gnu.org>\n\n\tPATH- and completion-related fixes in Eshell on MS-Windows\n\t* lisp/eshell/esh-ext.el (eshell-search-path): When running on\n\tMS-Windows, prepend \".\" to list of directories produced from PATH,\n\tas Windows always implicitly searches the current directory first.\n\t(eshell-force-execution): Make it have a non-nil default value on\n\tMS-Windows and MS-DOS.\n\t* lisp/eshell/em-cmpl.el (eshell-complete-commands-list): If\n\teshell-force-execution is non-nil, complete on readable files and\n\tdirectories, not only executables.  When running on MS-Windows,\n\tprepend \".\" to list of directories produced from PATH, as Windows\n\talways implicitly searches the current directory first.\n\n2015-04-29  Sam Steingold  <sds@gnu.org>\n\n\tBury RCIRC buffers when there is no activity\n\t* lisp/net/rcirc.el (rcirc-non-irc-buffer): Remove.\n\t(rcirc-bury-buffers): New function.\n\t(rcirc-next-active-buffer): When there is no new activity, use\n\t`rcirc-bury-buffers' to hide all RCIRC buffers.\n\n2015-04-29  Krzysztof Jurewicz  <krzysztof.jurewicz@gmail.com>  (tiny change)\n\n\tFix DBUS query result parsing for secrets-search-items\n\t* lisp/net/secrets.el (secrets-search-items): Fix DBUS query result\n\tparsing.  The function assumed that return value of the\n\tSearchItems method called on a collection is a list of two lists,\n\thowever this is true only when no collection is specified.  GNOME\n\thad used to incorrectly return a list of two lists in both cases,\n\tbut this was already fixed:\n\thttps://bugzilla.gnome.org/show_bug.cgi?id=695115 .  Also fix an\n\tincorrect information in the secrets-search-items\u2019 docstring.\n\t(Bug#20449)\n\n2015-04-29  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/bytecomp.el (byte-compile--message):\n\tUse `inhibit-message' instead of hiding the previous message\n\twith (message nil).\n\n2015-04-29  Oleh Krehel  <ohwoeowho@gmail.com>\n\n\tRemove the deprecated INTERNAL_FIELD macro by expanding it\n\t* src/lisp.h (INTERNAL_FIELD): Remove.\n\t(DEFVAR_KBOARD): Modify accordingly.\n\t* src/alloc.c, src/buffer.c, src/buffer.h, src/category.c:\n\t* src/keyboard.c, src/keyboard.h, src/syntax.c: Adjust users.\n\t* src/buffer.c (compact_buffer): Use BVAR.\n\n2015-04-29  Glenn Morris  <rgm@gnu.org>\n\n\tReplace an obsolete function alias\n\t* lisp/isearch.el (isearch-yank-x-selection):\n\t* lisp/mouse-copy.el (mouse-drag-secondary-pasting)\n\t(mouse-drag-secondary-moving):\n\t* lisp/obsolete/mouse-sel.el (mouse-sel-get-selection-function):\n\tReplace obsolete alias x-get-selection with gui-get-selection.\n\n2015-04-29  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/mail/rmailsum.el: Use lexical-binding.\n\n2015-04-29  Glenn Morris  <rgm@gnu.org>\n\n\t* test/automated/package-test.el (package-test-update-archives-async):\n\tSkip test on hydra.nixos.org.\n\n2015-04-28  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/foldout.el: Update for 2015-01-30 outline.el changes.\n\t(foldout-zoom-subtree, foldout-exit-fold, foldout-mouse-show)\n\t(foldout-mouse-hide-or-exit): Use new names for outline functions.\n\n\t* lisp/cedet/semantic/bovine/c.el (semantic-c-do-lex-if):\n\tUpdate for 2014-06-26 hideif.el change.\n\n\t* lisp/mail/rmailsum.el: Fix search for encoded subjects.  (Bug#19088)\n\t(rmail--decode-and-apply): New function.\n\t(rmail-message-regexp-p-1, rmail-message-subject-p): Use it.\n\n\t* lisp/mail/rmail.el (rmail-highlighted-headers): Fix :type.\n\n2015-04-28  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el: Fix priority-hiding corner case\n\t(package-menu--refresh): Delegate obsolete-hiding to\n\t`package--remove-hidden'.\n\t(package--remove-hidden): Disregard high-priority package if it is\n\tolder than the installed one.\n\n2015-04-28  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tUpdate source file encoding list\n\tUpdate admin/notes/unicode, along with coding system cookies in\n\tother files, so that the two match each other better.\n\t* admin/notes/unicode: lisp/language/ethio-util.el and\n\tlisp/language/ethiopic.el also use utf-8-emacs.\n\t* admin/notes/hydra, doc/misc/dbus.texi, doc/misc/org.texi:\n\t* doc/misc/remember.texi, etc/refcards/cs-dired-ref.tex:\n\t* etc/refcards/cs-refcard.tex, etc/refcards/cs-survival.tex:\n\t* etc/refcards/sk-dired-ref.tex, etc/refcards/sk-refcard.tex:\n\t* etc/refcards/sk-survival.tex:\n\tAdd \"coding: utf-8\" so that this file is not mishandled in a\n\tLatin-1 or Big-5 locale.\n\t* lisp/international/robin.el, lisp/org/ox-ascii.el:\n\tSpecify utf-8, not utf-8-emacs, as these are plain UTF-8 files.\n\t* lisp/language/ethio-util.el: Fix trailer.\n\n2015-04-28  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix synchronous invocation of Ispell\n\t* lisp/textmodes/ispell.el (ispell-init-process): Assign a non-nil\n\tvalue to ispell-process-directory before calling ispell-init-process.\n\tDon't call set-process-coding-system if ispell-async-processp is nil.\n\t(Bug#20448)\n\n2015-04-28  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el: Skip space and comments in init file\n\t(package--ensure-init-file): Insert snippet at first\n\tnon-whitespace non-comments line.  Respects local-vars at the top\n\tof the file.\n\n2015-04-28  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/mail/rmail.el (rmail-copy-headers):\n\tHandle rmail-nonignored-headers being nil.  (Bug#18878)\n\n\t* lisp/subr.el (delay-mode-hooks): Fix doc typo.\n\n\t* lisp/vc/vc-bzr.el (vc-bzr-after-dir-status):\n\tDon't get confused by a bzrlib version mismatch warning.\n\n2015-04-27  Thomas Fitzsimmons  <fitzsim@fitzsim.org>\n\n\tChange default location of EUDC options file\n\t* etc/NEWS: Document change to EUDC options file's default location.\n\t* lisp/net/eudc-vars.el (eudc-options-file): Use\n\t`locate-user-emacs-file' to change default options file location.\n\n2015-04-27  Glenn Morris  <rgm@gnu.org>\n\n\t* test/automated/package-test.el (package-test-update-archives-async):\n\tTry to handle the test server script dying.\n\n2015-04-27  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/saveplace.el (save-place-mode): New minor mode.\n\t(save-place): Redefine as an obsolete alias.\n\n\t* lisp/midnight.el: Make it a minor mode.  Allow predicates.\n\t* lisp/midnight.el: Use lexical-binding.\n\t(midnight-mode): Make it a proper minor mode.\n\t(midnight-buffer-display-time): Make arg non-optional.\n\t(midnight-find): Remove.\n\t(clean-buffer-list-kill-never-regexps)\n\t(clean-buffer-list-kill-regexps): Tweak type for new function choice.\n\t(clean-buffer-list-delay): Allow clean-buffer-list-kill-regexps to\n\tcontain functions.\n\t(clean-buffer-list): Use cl-find.\n\tAllow clean-buffer-list-kill-never-regexps to contain functions.\n\n2015-04-27  Nicolas Petton  <nicolas@petton.fr>\n\n\tBump version of seq.el to 1.5\n\t* lisp/emacs-lisp/seq.el (seq-doseq): Remove undocumented return value\n\tfrom seq-doseq.  Bump version number of seq.el.\n\n2015-04-27  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/mail/rmail.el (rmail-reply):\n\tDecode subject before matching \"Re:\" prefix.  (Bug#20396)\n\n2015-04-27  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el: Small improvements\n\t(package--with-work-buffer-async): More informative error.\n\t(package-install-user-selected-packages): Rename to\n\t`package-install-selected-packages'.\n\n2015-04-27  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/eieio-core.el (eieio-defclass-internal): Fix last\n\t* lisp/emacs-lisp/eieio-core.el (eieio-defclass-internal): Fix last change.\n\t(eieio--class-make): Remove leftover `tag'.\n\n2015-04-27  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/gnus/message.el (gnus-extract-address-components):\n\tRemove bogus declaration that was masking previous problem.\n\n2015-04-27  Nicolas Graner  <nicolas.graner@u-psud.fr>  (tiny change)\n\n\t* lisp/gnus/message.el (message-insert-formatted-citation-line):\n\tFix typo.  (Bug#20318)\n\n2015-04-27  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/eieio-core.el (eieio-defclass-internal): Reuse oldc.\n\n\t* lisp/textmodes/reftex-toc.el: Improve multi-frame behavior\n\t* lisp/textmodes/reftex-toc.el (reftex-toc-revert): Avoid displaying\n\tthe buffer in yet another frame.\n\t(reftex-toc-visit-location): Make sure toc-window has focus at the end\n\twhen `final' is nil.\n\t(reftex--rebuilding-toc): Defvar to avoid `boundp' and\n\tsilence warnings.  Use `--' to clarify that it's internal.\n\t(reftex-toc-next, reftex-toc-previous, reftex-toc-demote)\n\t(reftex-toc-promote): Clarify unused argument.\n\t(reftex--pro-or-de, reftex--start-line, reftex--mark-line):\n\tAdd `reftex--' prefix.  Fix all users.\n\t(reftex-toc-promote-prepare): Use _ for dummy variable.\n\t(reftex-toc-restore-region): Rename `m.\n\n2015-04-27  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix a typo in bibtex.el\n\t* lisp/textmodes/bibtex.el (bibtex-insert-kill): Fix a typo from\n\tlast change.  (Bug#20429)\n\n\tFix redisplay of frame after loading new fonts\n\t* src/xdisp.c (redisplay_internal): When retrying redisplay of\n\ta frame because new fonts were loaded, disable all redisplay\n\toptimizations on that frame by calling SET_FRAME_GARBAGED.\n\t(Bug#20410)\n\n2015-04-27  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/info.el (Info-menu): Properly provide the `default'\n\t(Bug#20391)\n\n\t* lisp/progmodes/elisp-mode.el (elisp--get-fnsym-args-string):\n\tCatch errors from documentation (bug#20418).\n\t(emacs-lisp-mode-abbrev-table): Remove redundant defvar.\n\n2015-04-26  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/package.el: Move variables to silence byte-compiler.\n\tRemove redundant \":group 'package\".\n\n2015-04-26  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix a typo in rmail.el\n\t* lisp/mail/rmail.el (rmail-ensure-blank-line): Fix a typo in the\n\tlast commit.  (Bug#20429)\n\n2015-04-26  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tIntroduce xref-prompt-for-identifier\n\t* lisp/progmodes/xref.el (xref-prompt-for-identifier): New option.\n\t(xref--read-identifier): Use it\n\t(http://lists.gnu.org/archive/html/emacs-devel/2015-04/msg01205.html).\n\n2015-04-26  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\t`tex-insert-quote' after single `'' opens quotes instead of closing\n\tWithout this, it's very hard to precede double quotes with the\n\tapostrophe character, i.e. insert the sequence '``\n\t(quote-backquote-backquote), commonly useful in portuguese, for\n\tinstance.\n\t* lisp/textmodes/tex-mode.el (tex-insert-quote): Add ?' to the list of\n\tpreceding chars making `tex-insert-quote' be in the \"opening\" context.\n\n2015-04-25  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tPass `id' to `completing-read' as def instead of initial input\n\t* lisp/progmodes/xref.el (xref--read-identifier): Pass `id' to\n\t`completing-read' as the default value instead of initial input\n\t(http://lists.gnu.org/archive/html/emacs-devel/2015-04/msg01182.html).\n\n2015-04-25  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tDon't freeze with unreadable processes\n\tDon't freeze if an exiting process can't be read from.  (Bug#19860).\n\tThis fixes a bug I introduced in\n\t2014-07-08T07:24:07Z@eggert@cs.ucla.edu\n\t\"* process.c: Add sanity checks for file descriptors.\"\n\tDmitry Gutov did most of the legwork in finding the problem.\n\t* src/process.c (wait_reading_process_output):\n\tTreat non-running processes that can't be read from\n\tthe same as other non-running processes.\n\n2015-04-25  Alan Mackenzie  <acm@muc.de>\n\n\tFix change from 2015-04-22 \"On C-y, stop some text property entries ...\"\n\t* lisp/subr.el (remove-yank-excluded-properties): Put\n\t`with-silent-modifications' around only the last three lines of code.\n\n2015-04-25  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el (package-all-keywords): Don't cache\n\t(package--all-keywords): Deleted variable.\n\n\t* etc/NEWS: Document package-hiding functionality.\n\n2015-04-25  Eli Zaretskii  <eliz@gnu.org>\n\n\t* lisp/window.el (recenter-last-op): Doc fix.  (Bug#20419)\n\n\tClarify the doc string of 'replace-regexp-in-string'\n\t* lisp/subr.el (replace-regexp-in-string): Doc fix.  (Bug#20395)\n\n\tImprove doc string of 'insert-buffer-substring'\n\t* src/editfns.c (Finsert_buffer_substring): Doc fix.  (Bug#20421)\n\n\tMS-Windows followup for the recent gnulib update\n\t* nt/gnulib.mk (libgnu_a_SOURCES): Replace file-has-acl.c with\n\tacl-internal.c.\n\n2015-04-24  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSpelling fixes\n\n\tMerge from gnulib\n\tThis incorporates:\n\t2015-04-24 file-has-acl: new module, split from acl\n\t2015-04-24 manywarnings: add GCC 5.1 warnings\n\t2015-04-21 lstat: fix cross-compilation 'ln -s' problem\n\t2015-04-15 qacl: Simplify HP-UX acl_nontrivial check\n\t2015-04-15 acl: On Linux, check for acls without libacl\n\t2015-04-14 tempname: avoid unused parameter warnings (trivial)\n\t* lib/acl-internal.c: New file, from gnulib.\n\t* lib/file-has-acl.c: Remove; no longer imported from gnulib.\n\t* lib/acl-internal.h, lib/gnulib.mk, lib/qcopy-acl.c, lib/tempname.c:\n\t* m4/acl.m4, m4/gnulib-comp.m4, m4/lstat.m4, m4/manywarnings.m4:\n\tUpdate from gnulib.\n\n\tPort --enable-gcc-warnings to GCC 5.1 x86-64\n\t* lib-src/ebrowse.c (dump_sym):\n\t* lib-src/hexl.c (main):\n\t* src/ccl.c (ccl_driver):\n\t* src/character.c (string_escape_byte8):\n\t* src/dbusbind.c (xd_retrieve_arg, xd_add_watch):\n\t* src/gnutls.c (Fgnutls_boot):\n\t* src/gtkutil.c (xg_check_special_colors):\n\t* src/image.c (x_build_heuristic_mask):\n\t* src/print.c (safe_debug_print, print_object):\n\t* src/term.c (produce_glyphless_glyph):\n\t* src/xdisp.c (get_next_display_element)\n\t(produce_glyphless_glyph):\n\t* src/xterm.c (x_draw_glyphless_glyph_string_foreground):\n\tDon't use a signed format to print an unsigned integer, or vice\n\tversa.  GCC 5.1's new -Wformat-signedness option warns about this.\n\t* src/image.c (png_load_body, jpeg_load_body):\n\tSilence a bogus setjump diagnostic from GCC 5.1 (GCC bug 54561).\n\n2015-04-24  Tassilo Horn  <tsdh@gnu.org>\n\n\tAdd new faces to tsdh-light-theme\n\t* etc/themes/tsdh-light-theme.el (tsdh-light): New face\n\tdefinitions for Info-quoted, ace-jump-face-foreground,\n\thl-paren-face, show-paren-match, and show-paren-mismatch.\n\n2015-04-24  Nicolas Petton  <nicolas@petton.fr>\n\n\t* lisp/emacs-lisp/seq.el (seq-doseq): Fix the macro.\n\n2015-04-24  Glenn Morris  <rgm@gnu.org>\n\n\t* build-aux/gitlog-to-emacslog:\n\tUse raw log format rather than wrapped one.\n\n2015-04-24  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/seq.el (seq-doseq): Tighten the code.\n\t(seq-doseq): Fix out-of-scope binding.\n\tDon't call `seq-length at every iteration.\n\tReduce `if's from 3 to 2 per iteration.\n\t(emacs-lisp-mode-hook): Don't tweak in Emacs\u226525.\n\n2015-04-24  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/textmodes/text-mode.el (text-mode-hook):\n\tMove text-mode-hook-identify to default.\n\n\t* lisp/mouse.el (minor-mode-menu-from-indicator):\n\tHandle non-function members of minor-mode-map-alist.  (Bug#20201)\n\n\t* lisp/help-fns.el (describe-function): More type checking.\n\t(describe-function-1): Handle changed symbol-function.  (Bug#20201)\n\n\t* build-aux/gitlog-to-emacslog: Convert \"Fixes:\" to \"(Bug#)\".\n\t(Bug#20325)\n\n2015-04-24  Andreas Schwab  <schwab@linux-m68k.org>\n\n\tshr: strip leading whitespace when expanding URLs\n\t* lisp/net/shr.el (shr-expand-url): Strip leading whitespace from URL.\n\n2015-04-24  Eli Zaretskii  <eliz@gnu.org>\n\n\tClarify \"co-authored\" some more\n\n\t* CONTRIBUTE: Clarify \"co-authored-by\".  (Bug#20400)\n\n\tClarify doc strings of functions that search for properties\n\t* src/textprop.c (Fnext_char_property_change)\n\t(Fprevious_char_property_change)\n\t(Fnext_single_char_property_change)\n\t(Fprevious_single_char_property_change, Fnext_property_change)\n\t(Fnext_single_property_change, Fprevious_property_change)\n\t(Fprevious_single_property_change): Clarify doc strings wrt return\n\tvalue and the optional LIMIT argument.  (Bug#20411)\n\n2015-04-24  Glenn Morris  <rgm@gnu.org>\n\n\t* test/automated/message-mode-tests.el (message-mode-propertize):\n\tHandle non-writable HOME; eg on hydra.nixos.org.\n\n2015-04-23  Eli Zaretskii  <eliz@gnu.org>\n\n\tAvoid starting threads by w32-shell-execute\n\t* src/w32fns.c (Fw32_shell_execute): Convert \"file:///\" URLs into\n\tlocal file names, before invoking ShellExecute.  (Bug#20220)\n\n2015-04-23  Martin Rudalics  <rudalics@gmx.at>\n\n\tFix following doc-links in `widget-documentation-link-action'\n\t* lisp/wid-edit.el (widget-documentation-link-action): Make\n\tfollowing doc-links less simplistic (Bug#20398).\n\n2015-04-22  Thomas Fitzsimmons  <fitzsim@fitzsim.org>\n\n\tImprove EUDC manual\n\t* doc/misc/eudc.texi (Troubleshooting):\n\tNew LDAP troubleshooting subsection.\n\n2015-04-22  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tOmit needless \"\\ \" after multibyte then newline\n\t* src/print.c: Include <c-ctype.h>, for c_isxdigit.\n\t(print_object): When print-escape-multibyte is non-nil and a\n\tmultibyte character is followed by a newline or formfeed, followed\n\tby a hex digit, don't output a needless \"\\ \" before the hex digit.\n\t* test/automated/print-tests.el (print-hex-backslash): New test.\n\n2015-04-22  Oleh Krehel  <ohwoeowho@gmail.com>\n\n\tAdd a new `inhibit-message' variable\n\t* src/xdisp.c (syms_of_xdisp): Define a boolean `inhibit_message'.\n\t(message3): Don't call `message3_nolog' (i.e. use the Echo Area) when\n\t`inhibit_message' is non-zero.\n\t* etc/NEWS: Add an entry.\n\t* doc/lispref/display.texi: Add an entry for `inhibit-message',\n\tmention it in `message'.\n\n2015-04-22  Martin Rudalics  <rudalics@gmx.at>\n\n\tFix last fix in `display-buffer-record-window'.\n\t* lisp/window.el (display-buffer-record-window): Fix last fix.\n\n2015-04-22  Eli Zaretskii  <eliz@gnu.org>\n\n\tMinor edits in CONTRIBUTE\n\t* CONTRIBUTE: Rearrange instructions about log messages.\n\tUse \"Git\" capitalized all over.\n\tUse 2 spaces between sentences.\n\n2015-04-22  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/files.el (basic-save-buffer): Fix argument.\n\n\t* lisp/cus-edit.el (custom-file): Consider init-file-had-error.\n\tIn case `(and (null custom-file) init-file-had-error)' do the same\n\tthing we'd do if `(null user-init-file)', which is to either error out\n\tor return nil.  This is in line with `custom-save-all' which would\n\tthrow an error in that situation.  (Bug#20355)\n\n\t* lisp/emacs-lisp/package.el: Hide lower-priority packages in menu.\n\t(package-menu-hide-low-priority): New variable, see its doc.\n\t(package-archive-priorities): Update doc.\n\t(package-desc-priority): New function.\n\t(package-desc-priority-version): Use it.\n\t(package--remove-hidden): New function.\n\t(package-menu--refresh): Use it.\n\n\t* lisp/emacs-lisp/package.el: Implement displaying obsolete packages.\n\t(package-menu--hide-obsolete): New variable.\n\t(package--remove-hidden): Use it.\n\t(package-menu-hide-obsolete): New interactive function to toggle\n\tthe variable.\n\t(package--quick-help-keys): Document it.\n\t(package-menu-async): Add :version tag.\n\t(package-menu-mode-map): Bind package-menu-hide-obsolete.\n\t(package-desc-status): Indicate non-installed obsolete packages as\n\tavail-obso.\n\t(package-menu-mark-install): Allow installation of avail-obso.\n\t(package-menu--status-predicate): Sort avail-obso with available.\n\n2015-04-22  Alan Mackenzie  <acm@muc.de>\n\n\tOn C-y, stop some text property entries being written into buffer-undo-list\n\t* lisp/subr.el (remove-yank-excluded-properties): Enclose the code in\n\t`with-silent-modifications'.\n\n2015-04-22  Martin Rudalics  <rudalics@gmx.at>\n\n\tIn display-buffer-record-window record selected window if necessary\n\t* lisp/window.el (display-buffer-record-window): Store selected window\n\tif it differs from 3rd element of 'quit-restore' parameter (Bug#20353).\n\n2015-04-22  Tassilo Horn  <tsdh@gnu.org>\n\n\tFix reftex-citation bug\n\t* lisp/textmodes/reftex-cite.el (reftex-extract-bib-entries):\n\tFix `wrong-type-argument stringp nil' error that occurs when AUCTeX\n\tintegration is enabled and there are no citations in the document\n\tso far.\n\n2015-04-21  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tAdd or reset based on the presence of MERGE_HEAD\n\t* lisp/vc/vc-git.el (vc-git-find-file-hook): Add\n\t`vc-git-resolve-when-done' to `after-save-hook' in either case.\n\t(vc-git-conflicted-files): Add a TODO.\n\t(vc-git-resolve-when-done): Depending on the presence of\n\tMERGE_HEAD, either update the resolved file in the index, or\n\tremove it from there.  (Bug#20292)\n\n2015-04-21  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/custom.el (custom-declare-group): No need to purecopy\n\tcustom-current-group-alist members following recent change to set\n\tit to nil before dumping.\n\n\t* build-aux/gitlog-to-emacslog: Get footer from ChangeLog.2.\n\t(Bug#20399)\n\n2015-04-21  Daniel Colascione  <dancol@dancol.org>\n\n\tUnbreak no-op buffer save message\n\t* lisp/files.el (basic-save-buffer): Accept called-interactively as\n\tan argument instead of directly invoking called-interactively-p,\n\twhich will always yield nil in that context.\n\n2015-04-21  Alan Mackenzie  <acm@muc.de>\n\n\tCC Mode: Do nothing in before/after-change-functions for text\n\tproperty changes\n\tFixes bug#20266.\n\t* lisp/progmodes/cc-mode.el (c-basic-common-init): Make\n\tyank-handled-properties buffer local, and remove 'category from it.\n\t(c-called-from-text-property-change-p): New function.\n\t(c-before-change): Don't do anything if a call of the new function\n\treturns non-nil.\n\t(c-after-change): Don't do much if a call of the new function returns\n\tnon-nil.\n\t(c-extend-after-change-region): Put changes to text property 'fontified\n\tinside c-save-buffer-state.\n\n2015-04-20  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tFix byte-compiler warnings about looking-back\n\t* lisp/vc/log-view.el (log-view-end-of-defun-1):\n\t* lisp/textmodes/tex-mode.el (latex-forward-sexp-1):\n\t* lisp/textmodes/reftex-ref.el (reftex-goto-label):\n\t* lisp/textmodes/bibtex.el (bibtex-insert-kill):\n\t* lisp/progmodes/sh-script.el (sh--maybe-here-document):\n\t* lisp/progmodes/ruby-mode.el (ruby-end-of-defun):\n\t* lisp/progmodes/ada-mode.el (ada-in-numeric-literal-p):\n\t* lisp/org/org.el (org-insert-heading, org-sort-entries):\n\t* lisp/org/org-mouse.el (org-mouse-end-headline)\n\t(org-mouse-context-menu):\n\t* lisp/org/org-clock.el (org-clock-cancel):\n\t* lisp/man.el (Man-default-man-entry):\n\t* lisp/mail/rmail.el (rmail-get-new-mail, rmail-insert-inbox-text)\n\t(rmail-ensure-blank-line):\n\t* lisp/mail/footnote.el (Footnote-delete-footnote):\n\t* lisp/mail/emacsbug.el (report-emacs-bug):\n\t* lisp/info.el (Info-follow-reference, Info-fontify-node):\n\t* lisp/info-look.el (info-lookup-guess-custom-symbol):\n\t* lisp/help-fns.el (help-fns--key-bindings):\n\t* lisp/files.el (hack-local-variables):\n\t* lisp/emulation/viper-ex.el (viper-get-ex-token, ex-cmd-complete)\n\t(viper-get-ex-pat, ex-expand-filsyms, viper-get-ex-file)\n\t(viper-complete-filename-or-exit):\n\t* lisp/emulation/viper-cmd.el (viper-backward-indent):\n\t* lisp/emacs-lisp/lisp-mode.el (calculate-lisp-indent):\n\t* lisp/emacs-lisp/elint.el (elint-get-top-forms):\n\t* lisp/cus-edit.el (custom-face-edit-value-create):\n\t* lisp/calendar/todo-mode.el (todo-set-item-priority)\n\t(todo-filter-items-1, todo-convert-legacy-files)\n\t(todo-prefix-overlays): Add explicit second arg to looking-back.\n\n2015-04-20  Glenn Morris  <rgm@gnu.org>\n\n\tAvoid non-nil current-load-list at startup\n\t* src/process.c (init_process_emacs): Move Fprovide statement...\n\t(syms_of_process): ... to here.\n\n\t* lisp/loadup.el (custom-current-group-alist): Reset before dumping.\n\n\t* lisp/startup.el (command-line) <site-run-file>: Avoid rogue value\n\tin emacs -Q.\n\n2015-04-20  Ludovic Court\u00e8s  <ludo@gnu.org>\n\n\t* lisp/loadup.el (exec-path): Avoid storing build-time PATH in binary.\n\t(Bug#20330)\n\n2015-04-20  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/cus-start.el (exec-path): Set standard value, to avoid rogue.\n\n\tTweak exec-path in uninstalled case\n\t* src/callproc.c (init_callproc): If running uninstalled, do not\n\tinclude eventual installation libexec directory in exec-path.\n\n2015-04-20  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el: Filter by multiple keywords and\n\tcache keywords.\n\t(package-menu-filter): Accept a list of keywords.\n\t(package--all-keywords): New variable to cache known keywords.\n\t(package-all-keywords): Populate it if necessary.\n\t(package-refresh-contents): Reset it.\n\n\t* lisp/emacs-lisp/package.el: Make archive and status pseudo-keywords\n\t(package--has-keyword-p): Understand \"arc:xxxx\" and \"status:xxxx\"\n\tas special keywords which match agains package archive and status\n\trespectively.\n\t* etc/NEWS: Document it.\n\n2015-04-20  Eli Zaretskii  <eliz@gnu.org>\n\n\tDescribe and index \"empty overlays\".\n\t* doc/lispref/display.texi (Overlays): Improve indexing.\n\t(Managing Overlays): Describe \"empty\" overlays.\n\t(Overlay Properties, Finding Overlays): Add cross-reference to\n\twhere empty overlays are described.\n\n2015-04-19  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tSpelling fixes\n\n\tQuote 'like this' in top-level files\n\t* CONTRIBUTE, INSTALL, Makefile.in, README, configure.ac, make-dist:\n\tPrefer to single-quote 'like this' (instead of the older style\n\t`like this').\n\t* configure.ac: Fix some space-before-tab problems that 'git commit'\n\tcomplained about.\n\n\tUse bool for boolean in textprop.c, undo.c\n\t* src/textprop.c (soft, hard): Now constants instead of macros.\n\t(validate_plist): Rewrite to avoid need for boolean local.\n\t(interval_has_all_properties, interval_has_some_properties)\n\t(interval_has_some_properties_list, add_properties)\n\t(remove_properties, get_char_property_and_overlay)\n\t(Fnext_single_char_property_change)\n\t(Fprevious_single_char_property_change, add_text_properties_1)\n\t(Fremove_text_properties, Fremove_list_of_text_properties)\n\t(copy_text_properties):\n\t* src/tparam.c (tparam1):\n\t* src/undo.c (record_change, record_property_change)\n\t(syms_of_undo):\n\tUse 'true' and 'false' for booleans.\n\n2015-04-19  Dmitry Gutov  <dgutov@yandex.ru>\n\n\t* lisp/vc/vc-git.el (vc-git-find-file-hook):\n\tCall `smerge-start-session' even when dealing with a stash\n\tconflict (bug#20292).\n\n2015-04-19  Vibhav Pant  <vibhavp@gmail.com>\n\n\tAdd option to eshell/clear to clear scrollback.\n\t* lisp/eshell/esh-mode.el (eshell/clear-scrollback): New function.\n\t(eshell/clear): Add an optional SCROLLBACK argument.  If non-nil,\n\tscrollback contents are cleared.\n\t* etc/NEWS: Describe change.\n\t* doc/misc/eshell.texi: Add entry for `clear'.\n\n2015-04-19  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* src/widget.c (set_frame_size): Prefer 'int' to 'unsigned'\n\twhere either will do.\n\n2015-04-19  Steve Purcell  <steve@sanityinc.com>\n\n\tAssume package archive-contents are UTF8-encoded\n\t* lisp/emacs-lisp/package.el (package--read-archive-file):\n\tSet `coding-system-for-read' explicitly to 'utf-8 when reading the\n\tdownloaded and cached archive-contents files, so that non-ASCII\n\tcharacters in package descriptions are displayed correctly in the\n\t`list-packages' menu.  (Bug#20231)\n\n2015-04-19  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tAbort when looking at stashed changes\n\t* lisp/vc/vc-git.el (vc-git-find-file-hook): Abort when looking at\n\tstashed changes (bug#20292).\n\n2015-04-19  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tRefactor low-level printing for simplicity\n\t* src/print.c (PRINTDECLARE): Remove.  Move its contents into\n\tPRINTPREPARE; doable now that we assume C99.  All callers changed.\n\t(PRINTCHAR): Remove, as it adds more mystery than clarity.\n\tAll callers changed.\n\t(strout): Assume that caller computes length.  All callers changed.\n\t(print_c_string): New function.\n\t(write_string, write_string_1): Compute length instead of asking\n\tthe caller to compute it.  All callers changed.\n\t(write_string): Simplify by using write_string_1.\n\t(write_string_1): Simplify by using print_c_string.\n\t(Fterpri): Compute default val more clearly.\n\t(Fprin1_to_string, print_object):\n\tAssume C99 to avoid unnecessary nesting.\n\t(print_object): Prefer print_c_string to multiple printchar, or\n\tto calling strout with -1 length.  Coalesce into sprintf when\n\tthis is easy.\n\n2015-04-18  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPrefer \"Bug#1234\" in commit messages (Bug#20325)\n\t* .dir-locals.el (log-edit-mode): Don't rewrite Bug#,\n\tas this isn't useful for Git.\n\t* CONTRIBUTE: Suggest \"Bug#1234\" instead of \"Fixes: debbugs:1234\".\n\n2015-04-18  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/files.el (auto-mode-alist): Use conf mode for gitconfig, hgrc.\n\t(Bug#19506)\n\n2015-04-18  Tom Willemse  <tom@ryuslash.org>  (tiny change)\n\n\t* lisp/elec-pair.el (electric-pair-post-self-insert-function):\n\tDo not use `chomp' as a function.  (Bug#19505)\n\n2015-04-18  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/net/browse-url.el (browse-url, browse-url-at-point): Doc fixes.\n\n\t* doc/emacs/misc.texi (Sorting): Small edit.\n\t(Bug#19896)\n\n\t* admin/admin.el (make-manuals): Add emacs-xtra in pdf and ps.\n\n2015-04-18  Simen Heggest\u00f8yl  <simenheg@gmail.com>\n\n\tcss-mode.el: Support multi-line comment filling\n\t(Bug#20256)\n\t* lisp/textmodes/css-mode.el (css-fill-paragraph): Support multi-line\n\tcomment filling.\n\t(css-adaptive-fill): New function.\n\t(css-mode): Set `adaptive-fill-function'.\n\t(scss-mode): Set `comment-continue'.\n\n2015-04-18  Nicolas Petton  <nicolas@petton.fr>\n\n\t* lisp/emacs-lisp/seq.el (seq-concatenate, seq-into):\n\tBetter error messages.\n\n2015-04-18  Ivan Radanov Ivanov  <ivanradanov@yahoo.co.uk>  (tiny change)\n\n\tMinor improvements in Bulgarian input methods\n\t* lisp/leim/quail/cyrillic.el (bulgarian-phonetic, bulgarian-bds):\n\tReplace U+042C with U+045D, as the former character is not used in\n\tthe modern Bulgarian language.\n\t(Bug#20350)\n\n2015-04-17  Thomas Fitzsimmons  <fitzsim@fitzsim.org>\n\n\tImprove EUDC manual\n\t* doc/misc/eudc.texi (LDAP Configuration): Mention simple and SASL\n\tauthentication schemes.  Add index items.  Shorten example server\n\tname.\n\n2015-04-17  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tDon't show both feature and function with the same name\n\t* lisp/progmodes/elisp-mode.el (elisp--xref-identifier-location):\n\tDon't show both feature and function with the same name.\n\n\t(elisp--xref-identifier-location): Skip variable, if it's also\n\ta function\n\t* lisp/progmodes/elisp-mode.el (elisp--xref-identifier-location):\n\tAvoid returning both the variable and the function for the same\n\tminor mode.\n\n2015-04-17  Wolfgang Jenkner  <wjenkner@inode.at>\n\n\tFix fontification of keywords clobbered by the prompt\n\t* lisp/comint.el (comint-output-filter): Remove the uses of\n\twith-silent-modifications I introduced as part of the last change.\n\tThis fixes, e.g., erratically missing highlighting when running\n\t./configure --help; ./configure in a shell-mode buffer with\n\tcompilation-shell-minor-mode turned on.\n\n2015-04-17  Glenn Morris  <rgm@gnu.org>\n\n\t* admin/authors.el (authors-valid-file-names)\n\t(authors-renamed-files-alist): Additions.\n\n2015-04-17  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/indent.el (indent-region): Don't deactivate the mark.\n\t(Bug#20357)\n\n2015-04-17  Sam Steingold  <sds@gnu.org>\n\n\t* lisp/net/rcirc.el (defun-rcirc-command): Mark `target' as ignorable.\n\n2015-04-16  Leo Liu  <sdl.web@gmail.com>\n\n\t* lisp/progmodes/xref.el (xref-push-marker-stack): Add optional arg.\n\n2015-04-16  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/erc/erc-pcomplete.el (erc-pcomplete):\n\tDon't use `pcomplete' any more.\n\n2015-04-16  Glenn Morris  <rgm@gnu.org>\n\n\t* admin/authors.el (authors-lax-changelogs): Update for erc changes.\n\n2015-04-16  Eli Zaretskii  <eliz@gnu.org>\n\n\tDon't link with -ljpeg on MS-Windows, to avoid dependency on DLL\n\t* configure.ac (LIBJPEG): Leave it empty for MinGW.\n\n2015-04-16  Glenn Morris  <rgm@gnu.org>\n\n\t* lisp/replace.el (query-replace-from-to-separator):\n\tDelay initialization to avoid rogue setting after startup.\n\n2015-04-16  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPre-4.6 GCC succeeds with unknown option\n\t* configure.ac (emacs_cv_prog_cc_nopie): Port to pre-4.6 GCC.\n\t(Bug#20338)\n\n2015-04-15  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t'[:graph:]' now excludes whitespace, not just ' '\n\t* doc/lispref/searching.texi (Char Classes):\n\t* lisp/emacs-lisp/rx.el (rx): Document [:graph:] to be [:print:]\n\tsans whitespace (not sans space).\n\t* src/character.c (graphicp): Exclude all Unicode whitespace chars,\n\tnot just space.\n\t* src/regex.c (ISGRAPH): Exclude U+00A0 (NO-BREAK SPACE).\n\n2015-04-15  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/subr.el (substitute-key-definition-key, special-form-p)\n\t(macrop): Drop deprecated second arg to indirect-function.\n\t(looking-back): Make the second arg non-optional.\n\n\t* lisp/org/org-clock.el (org-x11idle-exists-p): Be honest about which\n\tcommand is actually sent to the shell.\n\n2015-04-15  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPort jpeg configuration to Solaris 10 with Sun C\n\t* configure.ac: Check for jpeglib 6b by trying to link it, instead\n\tof relying on cpp magic that has problems in practice.  Check for\n\tboth jpeglib.h and jerror.h features.  Remove special case for\n\tmingw32, which should no longer be needed (and if it were needed,\n\tshould now be addressable by hotwiring emacs_cv_jpeglib).\n\t(Bug#20332)\n\n2015-04-15  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tMove some Elisp-specific code from lisp-mode.el to elisp-mode.el\n\t* lisp/emacs-lisp/lisp-mode.el (lisp--el-font-lock-flush-elisp-buffers):\n\tMove to elisp-mode.el.\n\t(lisp-mode-variables): (Re)move elisp-specific settings.\n\t* lisp/progmodes/elisp-mode.el (emacs-lisp-mode): Add settings removed\n\tfrom lisp-mode-variables.\n\t(elisp--font-lock-flush-elisp-buffers): New function, moved from\n\tlisp-mode.el.\n\n\t* lisp/emacs-lisp/lisp-mode.el (lisp--el-non-funcall-position-p):\n\tAvoid pathological slowdown at top-level in large file.\n\n2015-04-15  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tStandardize names of ChangeLog history files\n\tSuggested by Glenn Morris in:\n\thttp://lists.gnu.org/archive/html/emacs-devel/2015-04/msg00678.html\n\t* Makefile.in (install-man): Don't treat ChangeLog.1 as a man page.\n\t* doc/man/ChangeLog.1: Rename back from doc/man/ChangeLog.01.\n\t* lisp/erc/ChangeLog.1: New file, containing the old contents of ...\n\t* lisp/erc/ChangeLog.01, lisp/erc/ChangeLog.02, lisp/erc/ChangeLog.03:\n\t* lisp/erc/ChangeLog.04, lisp/erc/ChangeLog.05, lisp/erc/ChangeLog.06:\n\t* lisp/erc/ChangeLog.07, lisp/erc/ChangeLog.08, lisp/erc/ChangeLog.09:\n\tRemove.\n\n\tSplit top-level entries into pre- and post-April 7\n\tThis more clearly distingiushes pre-April-7 ChangeLog entries (which\n\tare for top-level files only) from post-April-7 entries (which are\n\tabout files at all levels.  Problem reported by Glenn Morris in:\n\thttp://lists.gnu.org/archive/html/emacs-devel/2015-04/msg00678.html\n\t* ChangeLog.1: Move post-April-7 entries from here ...\n\t* ChangeLog.2: ... to this new file.\n\t* Makefile.in (CHANGELOG_HISTORY_INDEX_MAX): Bump to 2.\n\n2015-04-15  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tFix recent cus-start changes that added customize-rogues\n\t* lisp/cus-start.el (custom-delayed-init-variables): Initialize the\n\tvars early.\n\t* lisp/loadup.el (\"cus-start\"): Move to the end to reduce\n\tcustomize-rogue.\n\n2015-04-15  Nicolas Petton  <nicolas@petton.fr>\n\n\tDefine cl-concatenate as an alias to seq-concatenate\n\t* lisp/emacs-lisp/cl-extra.el (cl-concatenate): Removes duplicated\n\t  code by making cl-concatenate an alias to seq-concatenate.\n\n2015-04-15  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* src/lread.c (intern_1): Make sure we'd find the symbol we add\n\t(Bug#20334)\n\t* src/xfaces.c (resolve_face_name): Don't use `intern' with\n\tLisp_Strings.\n\n2015-04-15  Glenn Morris  <rgm@gnu.org>\n\n\t* doc/lispref/sequences.texi (Sequence Functions): Fix typo in previous.\n\n2015-04-15  Lars Magne Ingebrigtsen  <larsi@gnus.org>\n\n\tClean up gnus-uu saving code slightly\n\t* lisp/gnus/gnus-uu.el (gnus-uu-save-article): Make the\n\tsave-restriction/widen calls make more sense.\n\n2015-04-15  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMake [:graph:] act like [:print:] sans space\n\tIn POSIX [[:print:]] is equivalent to [ [:graph:]], so change\n\t[:graph:] so that it matches everything that [:print:] does,\n\texcept for space.\n\t* doc/lispref/searching.texi (Char Classes):\n\t* etc/NEWS:\n\t* lisp/emacs-lisp/rx.el (rx):\n\tDocument [:graph:] to be [:print:] sans ' '.\n\t* src/character.c, src/character.h (graphicp): New function.\n\t* src/regex.c (ISGRAPH) [emacs]: Use it.\n\t(BIT_GRAPH): New macro.\n\t(BIT_PRINT): Increase to 0x200, to make room for BIT_GRAPH.\n\t(re_wctype_to_bit) [! WIDE_CHAR_SUPPORT]:\n\tReturn BIT_GRAPH for RECC_GRAPH.\n\t(re_match_2_internal) [emacs]: Use ISGRAPH if BIT_GRAPH,\n\tand ISPRINT if BIT_PRINT.\n\n2015-04-14  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tautomated/eieio-test-methodinvoke.el (make-instance) <(subclass C)>:\n\tDon't use call-next-method in a cl-defmethod.\n\n\t* lisp/emacs-lisp/eieio-core.el (eieio--class): Derive from cl--class\n\t(eieio--class-p): Remove, provided by cl-defstruct.\n\n2015-04-14  Nicolas Petton  <nicolas@petton.fr>\n\n\tAdd seq-intersection and seq-difference to the seq library\n\t* lisp/emacs-lisp/seq.el (seq-intersection, seq-difference):\n\tNew functions.\n\t* test/automated/seq-tests.el: Add tests for seq-intersection and\n\tseq-difference.\n\t* doc/lispref/sequences.texi: Add documentation for seq-intersection\n\tand seq-difference.\n\n2015-04-14  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/eieio-core.el (class-abstract-p): Don't inline,\n\tto avoid leaking internals.\n\n2015-04-14  Sam Steingold  <sds@gnu.org>\n\n\tpackage--ensure-init-file: widen requires save-restriction\n\n2015-04-14  Eli Zaretskii  <eliz@gnu.org>\n\n\tImprove the commit-msg Git hook for unibyte environments\n\t* build-aux/git-hooks/commit-msg: Set LC_ALL=C, before running Awk\n\tin unibyte environments.  (Suggested by Paul Eggert\n\t<eggert@cs.ucla.edu>.)  Use a more accurate approximation to\n\t[:print:], based on UTF-8 sequences of the unprintable characters.\n\n\tDescribe problems with cursor caused by Windows Magnifier\n\t* etc/PROBLEMS: Describe the problem with cursor shape on\n\tMS-Windows due to Windows Magnifier.\n\t(Bug#20271)\n\n\tMake [:print:] support non-ASCII characters correctly\n\t* src/regex.c (ISPRINT): Call 'printablep' for multibyte characters.\n\t(BIT_PRINT): New bit mask.\n\t(re_wctype_to_bit): Return BIT_PRINT for RECC_PRINT.\n\t* src/character.c (printablep): New function.\n\t* src/character.h (printablep): Add prototype.\n\t* lisp/emacs-lisp/rx.el (rx): Doc fix: document the new behavior\n\tof 'print', 'alnum', and 'alphabetic'.\n\t* doc/lispref/searching.texi (Char Classes): Document the new\n\tbehavior of [:print:].\n\t* etc/NEWS: Mention the new behavior of [:print:].\n\n\tAssign correct general-category and names to surrogates\n\t* admin/unidata/unidata-gen.el (unidata-setup-list): Don't ignore\n\tsurrogates.  This avoids assigning them the default\n\tgeneral-category of 'Cn', i.e. unassigned codepoints.\n\t(unidata-get-name): Give surrogates synthetic names.\n\n2015-04-14  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tAssume C89 offsetof in xterm.c, xlwmenu.c\n\t* lwlib/xlwmenu.c (offset):\n\t* src/xterm.c (cvt_string_to_pixel_args):\n\tUse offsetof, not XtOffset.\n\n2015-04-14  Paul Eggert  <eggert@Penguin.CS.UCLA.EDU>\n\n\tAssume C89 offsetof in widget.c\n\t* src/widget.c (XtOffset): Remove; no longer needed.\n\t(offset): Implement via offsetof instead of via pre-C89 XtOffset hack.\n\n\tFix think-o in previous patch\n\t* src/window.c (count_windows, get_leaf_windows):\n\tDon't optimize count_windows incorrectly.\n\n2015-04-13  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tAvoid some int overflows in window.c\n\t* src/print.c (print_object):\n\t* src/window.c (sequence_number):\n\t* src/window.h (struct window.sequence_number):\n\tDon't assume window sequence number fits in int.\n\t* src/window.c (window_select_count):\n\t* src/window.h (struct window.use_time, window_select_count):\n\tDon't assume window use time fits in int.\n\t* src/window.c (Fsplit_window_internal):\n\tDon't assume user-supplied integer, or sum, fits in int.\n\t(Fset_window_configuration, count_windows, get_leaf_windows)\n\t(save_window_save, Fcurrent_window_configuration):\n\tUse ptrdiff_t for object counts.\n\t(Fset_window_configuration): Omit unused local 'n'.\n\t(count_windows): Simplify by writing in terms of get_leaf_windows.\n\t(get_leaf_windows): Don't store through FLAT if it's null.\n\t(extract_dimension): New static function.\n\t(set_window_margins, set_window_fringes, set_window_scroll_bars):\n\tUse it to avoid undefined behavior when converting user-supplied\n\tinteger to 'int'.\n\n2015-04-13  Glenn Morris  <rgm@gnu.org>\n\n\tMinor doc copyedits\n\t* doc/emacs/custom.texi (Init Examples): Tweak example, replace typo.\n\t* doc/lispintro/emacs-lisp-intro.texi (condition-case): Typo fix.\n\n2015-04-13  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\t[Gnus] Catch the invalid-operation that idna.el will issue\n\t* lisp/gnus/gnus-art.el (gnus-use-idna):\n\t* lisp/gnus/gnus-sum.el (gnus-summary-idna-message):\n\t* lisp/gnus/message.el (message-use-idna):\n\tCatch the invalid-operation that idna.el will issue.\n\n2015-04-13  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* doc/lispref/processes.texi (Shell Arguments): Prefer diff -u.\n\n2015-04-13  Sam Steingold  <sds@gnu.org>\n\n\tpackage--ensure-init-file: widen before looking for\n\t\"(package-initialize)\"\n\n2015-04-13  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tChange diff-switches default to `-u' (Bug#20290)\n\t* doc/emacs/files.texi (Comparing Files): Document the new default\n\tvalue of `diff-switches'.\n\t* doc/emacs/trouble.texi (Sending Patches): Document the preference\n\tfor unified diff format.  Escape the plus in the suggested `-F' regexp\n\tvalue.\n\t* lisp/vc/diff.el (diff-switches): Change the default to `-u'.\n\n2015-04-13  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t(gnus-group--setup-tool-bar-update): Fix last change\n\t* lisp/gnus/gnus-group.el (gnus-group--setup-tool-bar-update):\n\tcursor-sensor-functions should be a list of functions.\n\n2015-04-13  Katsumi Yamaoka  <yamaoka@jpl.org>\n\n\t* lisp/gnus/gnus-topic.el (gnus-topic-mode):\n\tUse gmm-called-interactively-p.\n\n2015-04-13  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/loadup.el (\"cus-start\"): Load it after loaddefs.el\n\t(Bug#20321)\n\t* lisp/cus-start.el (read-buffer-function): Don't advertise\n\tiswitchb-read-buffer any more.\n\t(iswitchb): Don't tweak this obsolete group any more.\n\n2015-04-13  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el: Fix package--ensure-init-file.\n\n\t* lisp/emacs-lisp/cl-macs.el (cl-defstruct): Implement docstrings.\n\tAdding a string after a constructor's argument list will use\n\tthat string as the constructor function docstring.  If this string\n\tis absent but the struct itself was given a docstring, use that as\n\tthe constructor's docstring.\n\tFixes bug#17284.\n\n2015-04-13  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tDeprecate `intangible' and `point-entered' properties\n\t* lisp/emacs-lisp/cursor-sensor.el: New file.\n\t* lisp/simple.el (pre-redisplay-functions): New hook.\n\t(redisplay--pre-redisplay-functions): New function.\n\t(pre-redisplay-function): Use it.\n\t(minibuffer-avoid-prompt): Mark obsolete.\n\t(redisplay--update-region-highlight): Adapt it to work as a function on\n\tpre-redisplay-functions.\n\t* lisp/cus-start.el (minibuffer-prompt-properties--setter): New fun.\n\t(minibuffer-prompt-properties): Use it.  Use cursor-intangible rather\n\tthan point-entered to make the prompt intangible.\n\t* lisp/forms.el: Move `provide' calls to the end.\n\t(forms-mode): Don't use `run-hooks' on a local var.\n\t(forms--make-format, forms--make-format-elt-using-text-properties):\n\tUse cursor-intangible rather than `intangible'.\n\t(forms-mode): Enable cursor-intangible-mode.\n\t* lisp/isearch.el (isearch-mode): Use defvar-local.\n\t(cursor-sensor-inhibit): Declare.\n\t(isearch-mode): Set cursor-sensor-inhibit.\n\t(isearch-done): Set it back.\n\t(isearch-open-overlay-temporary, isearch-open-necessary-overlays)\n\t(isearch-close-unnecessary-overlays): Don't bother with `intangible'\n\tany more.\n\t* lisp/ses.el (ses-localvars): Remove `mode-line-process'.\n\t(ses-sym-rowcol, ses-cell-value, ses-col-width, ses-col-printer):\n\tAdd Edebug spec.\n\t(ses-goto-print, ses-print-cell, ses-adjust-print-width)\n\t(ses-goto-data, ses-setup, ses-copy-region): Don't let-bind\n\tinhibit-point-motion-hooks any more.\n\t(ses--cell-at-pos, ses--curcell): New functions, extracted from\n\tses-set-curcell.\n\t(ses-set-curcell): Use them.\n\t(ses-print-cell, ses-setup): Use cursor-intangible instead of\n\t`intangible'.  Make sure cursor-intangible isn't sticky at BOB.\n\t(ses-print-cell-new-width, ses-reprint-all, ses-recalculate-all):\n\tUse ses--cell-at-pos.\n\t(ses--mode-line-process, ses--cursor-sensor-highlight): New functions,\n\textracted from ses-command-hook.  Make them work with multiple windows\n\tdisplaying the same buffer.\n\t(ses-mode): Use them via mode-line-process and pre-redisplay-functions.\n\tEnable cursor-intangible-mode.\n\t(ses-command-hook): Remove cell highlight and mode-line update code.\n\t(ses-forward-or-insert, ses-copy-region-helper, ses-sort-column):\n\tUpdate for new name of text-property holding the cell name.\n\t(ses-rename-cell): Don't mess with mode-line-process.\n\t* lisp/erc/erc-stamp.el (erc-add-timestamp): Use the new\n\tcursor-sensor-functions property instead of point-entered.\n\t(erc-insert-timestamp-right, erc-format-timestamp):\n\tUse cursor-intangible rather than `intangible'.\n\t(erc-munge-invisibility-spec): Use add-to-invisibility-spec and\n\tremove-from-invisibility-spec.  Enable cursor-intangible-mode and\n\tcursor-sensor-mode if needed.\n\t(erc-echo-timestamp): Adapt to calling convention of\n\tcursor-sensor-functions.\n\t(erc-insert-timestamp-right): Remove unused vars `current-window' and\n\t`indent'.\n\t* lisp/gnus/gnus-group.el (gnus-tmp-*): Declare.\n\t(gnus-update-group-mark-positions): Remove unused `topic' var.\n\t(gnus-group-insert-group-line): Remove unused var `header'.\n\t(gnus-group--setup-tool-bar-update): New function.\n\t(gnus-group-insert-group-line): Use it.\n\t(gnus-group-update-eval-form): Declare local\n\tdynamically-bound variables.\n\t(gnus-group-unsubscribe-group): Use \\` and \\' to match string bounds.\n\t* lisp/gnus/gnus-topic.el (gnus-topic-jump-to-topic)\n\t(gnus-group-prepare-topics, gnus-topic-update-topic)\n\t(gnus-topic-change-level, gnus-topic-catchup-articles)\n\t(gnus-topic-remove-group, gnus-topic-delete, gnus-topic-indent):\n\tUse inhibit-read-only.\n\t(gnus-topic-prepare-topic): Use gnus-group--setup-tool-bar-update.\n\t(gnus-topic-mode): Use define-minor-mode and derived-mode-p.\n\t* lisp/textmodes/reftex-index.el (reftex-display-index):\n\tUse cursor-intangible-mode if available.\n\t(reftex-index-post-command-hook): Check cursor-intangible.\n\t* lisp/textmodes/reftex-toc.el (reftex-toc):\n\tUse cursor-intangible-mode if available.\n\t(reftex-toc-recenter, reftex-toc-post-command-hook):\n\tCheck cursor-intangible.\n\t* lisp/textmodes/sgml-mode.el: Use lexical-binding.\n\t(sgml-tag): Use cursor-sensor-functions instead of point-entered.\n\t(sgml-tags-invisible): Use with-silent-modifications and\n\tinhibit-read-only.  Enable cursor-sensor-mode.\n\t(sgml-cursor-sensor): Rename from sgml-point-entered and adjust to\n\tcalling convention of cursor-sensor-functions.\n\t* lisp/textmodes/table.el (table-cell-map-hook, table-load-hook)\n\t(table-point-entered-cell-hook, table-point-left-cell-hook):\n\tDon't autoload.\n\t(table-cell-entered-state): Remove var.\n\t(table--put-cell-point-entered/left-property)\n\t(table--remove-cell-properties):\n\tUse cursor-sensor-functions rather than point-entered/left.\n\t(table--point-entered/left-cell-function): Merge\n\ttable--point-entered-cell-function and table--point-left-cell-function\n\tand adjust to calling convention of cursor-sensor-functions.\n\n\tUpdate ldef-boots.el\n\n\t* lisp/emacs-lisp/pcase.el (pcase-dolist): Autoload as well.\n\n\t* doc/misc/eieio.texi: Don't advertise now obsolete constructs\n\n\tCollapse successive char deletions in the undo log\n\t* src/cmds.c (remove_excessive_undo_boundaries): New function,\n\textracted from Fself_insert_command.\n\t(Fdelete_char, Fself_insert_command): Use it.\n\t* src/fileio.c (Fmake_symbolic_link): Rename arg to `target'.\n\t* src/keyboard.c (syms_of_keyboard): `top-level' shouldn't be special.\n\n\txterm and OSC 52: Add NEWS entry, and tweak the code\n\t* lisp/term/xterm.el (gui-set-selection) <nil>: Move method definition\n\tto top-level.\n\t(terminal-init-xterm-activate-set-selection): Set a terminal property.\n\t(xterm--set-selection): Use it instead of checking the value of\n\t`terminal-initted'.  Don't use string-bytes.\n\n2015-04-13  Philipp Stephani  <p.stephani2@gmail.com>\n\n\txterm.el: Implement OSC-52 functionality for setting the X selection\n\t* lisp/term/xterm.el (xterm-max-cut-length): New var.\n\t(xterm--set-selection, terminal-init-xterm-activate-set-selection):\n\tNew funs.\n\t(terminal-init-xterm, xterm--version-handler): Use them.\n\n2015-04-13  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tRemove left over code from when we used an obsolete/loaddefs.el file\n\t* lisp/subr.el (do-after-load-evaluation): Remove left over code from\n\twhen we used an obsolete/loaddefs.el file.\n\n\t* lisp/cedet/semantic/fw.el (semantic-exit-on-input)\n\t(semanticdb-without-unloaded-file-searches): Use declare.\n\t(semantic-fw-add-edebug-spec): Remove.\n\n\t* lisp/completion.el (completion-lisp-mode-hook):\n\tUse completion-separator-chars rather than local key binding.\n\n\t* src/*.c: Set deactivate_mark buffer-locally\n\t(Bug#20260)\n\t* src/insdel.c (prepare_to_modify_buffer_1):\n\t* src/fileio.c (Finsert_file_contents): Set deactivate_mark\n\tbuffer-locally.\n\n2015-04-12  Fabi\u00e1n Ezequiel Gallina  <fgallina@gnu.org>\n\n\tpython.el: Keep symmetry on sexp navigation with parens\n\t(Bug#19954)\n\t* lisp/progmodes/python.el\n\t(python-nav--forward-sexp): Add argument skip-parens-p.\n\t(python-nav-forward-sexp, python-nav-backward-sexp)\n\t(python-nav-forward-sexp-safe)\n\t(python-nav-backward-sexp-safe): Use it.\n\t* test/automated/python-tests.el\n\t(python-nav-forward-sexp-1): Fix test.\n\n2015-04-12  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tDon't use `setq-local' in Gnus code\n\tThis might break upstream builds with older Emacsen\n\t* lisp/gnus/message.el (message-mode): Use `set' and\n\t`make-local-variable' instead of `setq-local'.\n\n2015-04-12  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tUpdate Makefile.in's .PHONY dependencies\n\t* Makefile.in (change-history-commit, master-branch-is-current)\n\t(no-ChangeLog): Now phony.\n\n\tRemove configure's --with-mmdf option\n\t* configure.ac (MAIL_USE_MMDF): Remove.\n\t* etc/NEWS: Document this.\n\t* lib-src/movemail.c: Assume MAIL_USE_MMDF is not defined.\n\t(Bug#20308)\n\n\t* doc/man/ChangeLog.01: Rename from doc/man/ChangeLog.1.\n\tThat way, 'make install' won't think it's a man page.\n\tReported by Ashish SHUKLA in:\n\thttp://lists.gnu.org/archive/html/emacs-devel/2015-04/msg00656.html\n\n\tImprove 'make change-history' prereq tests\n\t* Makefile.in (gen_origin): Fix to match what's in the master branch.\n\t(no-ChangeLog, master-branch-is-current): New rules.\n\t(change-history): Depend on them, to avoid similar future problems.\n\tEscape the local-variables string to pacify Emacs when editing\n\tMakefile.in.\n\n2015-04-12  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* test/automated/package-test.el (with-package-test):\n\tKill Packages buffer.\n\n\t* lisp/emacs-lisp/package.el: Improve transaction y-or-n prompt.\n\t(package-menu--prompt-transaction-p): Prompt for \"Delete\" first,\n\t\"Upgrade\" last, and use capitalized instead of all-caps.\n\n\t* lisp/emacs-lisp/package.el: Completely silence async operations.\n\t(package--make-autoloads-and-stuff): Silence autoloads.\n\t(package--save-selected-packages): New function, silences\n\t`customize-save-variable'.\n\t(package--user-selected-p, package-install-from-buffer)\n\t(package-delete, package-install): Use it.\n\t(package-install-from-archive)\n\t(package-menu--perform-transaction): Silence.\n\t(package-menu-execute): Feedback when operation starts.\n\n\tUse delay-mode-hooks when visiting the init-file\n\t* lisp/emacs-lisp/package.el (package--ensure-init-file):\n\tdelay-mode-hooks.\n\t* lisp/cus-edit.el (custom-save-all): delay-mode-hooks.\n\n\t* lisp/files.el: Only message when saving if save-silently is nil.\n\t(save-silently): New variable.\n\t(files--message): New function.\n\t(find-file-noselect, save-buffer, basic-save-buffer)\n\t(basic-save-buffer-2, save-some-buffers, not-modified)\n\t(append-to-file): Use them.\n\n2015-04-12  Johan Bockg\u00e5rd  <bojohan@gnu.org>\n\n\tSupport debug declarations in pcase macros\n\t* lisp/emacs-lisp/pcase.el (pcase-MACRO): New edebug spec.\n\t(pcase-UPAT): Use it.  Remove \"`\".\n\t(pcase--edebug-match-macro): New function.\n\t(pcase-defmacro): Support debug declarations.\n\t* lisp/emacs-lisp/cl-macs.el (cl-struct) <pcase-defmacro>:\n\t* lisp/emacs-lisp/eieio.el (eieio) <pcase-defmacro>:\n\t* lisp/emacs-lisp/pcase.el (\\`): <pcase-defmacro>:\n\tAdd debug declaration.\n\n\tpcase.el: Edebug support for `app' and vector patterns\n\t* lisp/emacs-lisp/pcase.el (pcase-FUN): New edebug spec.\n\t(pcase-UPAT): Use it.  Support `app' patterns.\n\t(pcase-QPAT): Support vector patterns.\n\n\tedebug.el: Disambiguate vector specifications\n\t* lisp/emacs-lisp/edebug.el (edebug-match-list): Always treat\n\t`(vector ...)' as a vector specification, not as a sublist.\n\n\t(gnus-summary-refer-thread): Don't clobber unread articles\n\tThis fixes a bug where `A T' causes \"random\" articles to become marked\n\tas read.\n\t* lisp/gnus/gnus-sum.el (gnus-summary-refer-thread): Make sure\n\tgnus-newsgroup-unreads remains sorted.\n\n\tmouse-sel.el: Fix mouse-sel-get-selection-function\n\t* lisp/obsolete/mouse-sel.el (mouse-sel-get-selection-function):\n\tUse gui--last-selected-text-primary instead of no longer existing\n\tgui-last-selected-text.\n\n\t* lisp/rect.el (delete-whitespace-rectangle-line): Don't cross EOL.\n\n\t* lisp/net/nsm.el (nsm-query-user): Use cursor-in-echo-area.\n\n2015-04-12  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el (list-packages): Avoid redundant generate.\n\n\t* lisp/emacs-lisp/package.el (list-packages): Call refresh in\n\tright buffer.\n\n\t* lisp/emacs-lisp/bytecomp.el: Silence noninteractive compilations.\n\t(byte-compile--interactive): New var.\n\t(byte-compile--message): New function.\n\t(byte-compile-log-1, byte-force-recompile)\n\t(byte-recompile-directory, byte-recompile-file)\n\t(byte-compile-file, compile-defun)\n\t(byte-compile-file-form-defmumble, byte-compile)\n\t(byte-compile-file-form-defalias, display-call-tree): Use it.\n\n\t* lisp/files.el: Don't message when nothing happened.\n\t(save-some-buffers, basic-save-buffer): Before messaging to say\n\t\"nothing was saved\" check if (called-interactively-p 'any).\n\n2015-04-12  Jo\u00e3o T\u00e1vora  <joaotavora@gmail.com>\n\n\tSummary: Improve sexp-based movement in message-mode\n\tWorks by giving citations and smileys a different syntax.  This helps\n\tmodes like `show-paren-mode', `electric-pair-mode', and C-M-*\n\tsexp-based movement.\n\t* lisp/gnus/message.el (message--syntax-propertize): New function.\n\t(message-mode): Set syntax-related vars.\n\t(message-smileys): New variable.\n\t* test/automated/message-mode-tests.el: New file\n\n2015-04-11  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tUse bool for boolean in window.c\n\t* src/window.c: Omit unnecessary static function decls.\n\t(adjust_window_count, select_window, Fselect_window)\n\t(window_body_width, Fwindow_body_height, Fwindow_body_width)\n\t(set_window_hscroll, check_window_containing, Fwindow_at)\n\t(Fwindow_end, Fset_window_start, Fpos_visible_in_window_p)\n\t(unshow_buffer, replace_window, recombine_windows)\n\t(add_window_to_list, candidate_window_p, next_window)\n\t(Fnext_window, Fprevious_window, window_loop, check_all_windows)\n\t(Fget_buffer_window, Fdelete_other_windows_internal)\n\t(replace_buffer_in_windows_safely, set_window_buffer)\n\t(Fset_window_buffer, Fforce_window_update)\n\t(temp_output_buffer_show, make_parent_window)\n\t(window_resize_check, window_resize_apply, Fwindow_resize_apply)\n\t(resize_frame_windows, Fsplit_window_internal)\n\t(Fdelete_window_internal, grow_mini_window, shrink_mini_window)\n\t(Fresize_mini_window_internal, mark_window_cursors_off)\n\t(window_scroll, window_scroll_pixel_based)\n\t(window_scroll_line_based, scroll_command, Fscroll_other_window)\n\t(Fscroll_left, Fscroll_right, displayed_window_lines, Frecenter)\n\t(Fmove_to_window_line, Fset_window_configuration)\n\t(delete_all_child_windows, apply_window_adjustment)\n\t(set_window_fringes, set_window_scroll_bars)\n\t(Fset_window_vscroll, foreach_window, foreach_window_1)\n\t(compare_window_configurations, Fcompare_window_configurations):\n\tPrefer 'bool', 'true', and 'false' for booleans.\n\t* src/window.h (WINDOW_MODE_LINE_LINES)\n\t(WINDOW_HEADER_LINE_LINES): Omit unnecessary \"!!\" on bool value.\n\n2015-04-11  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\tSpeed up byte-compilation and autoload generation by avoiding mode-hooks\n\tThis prevents emacs-lisp-mode-hook from being run everytime an\n\tautoload file is generated, which can account for a fraction of\n\tpackage installation time depending on the hooks the user has\n\tconfigured.\n\t* lisp/emacs-lisp/bytecomp.el (byte-compile-file): Use delay-mode-hooks.\n\t* lisp/emacs-lisp/autoload.el (autoload-find-file)\n\t(autoload-find-generated-file): Use delay-mode-hooks.\n\n\t* lisp/emacs-lisp/package.el: Improve `package-menu-refresh'.\n\t(package-menu-refresh): Respect async and do new package checking.\n\t(list-packages): Use `package-menu-refresh' instead of repeating code.\n\n\t* lisp/emacs-lisp/package.el: Improve package-menu-quick-help.\n\t(package--quick-help-keys): New variable.\n\t(package--prettify-quick-help-key): New function.\n\t(package-menu-quick-help): Use it.\n\n\t* lisp/emacs-lisp/package.el: Fix initially wrong compat table.\n\t(package--build-compatibility-table): Require finder.\n\n\t* test/automated/package-test.el: Fix new test.\n\n\t* lisp/emacs-lisp/package.el: Silence async operations.\n\t(package--silence): New variable.\n\t(package--message): New function.\n\t(package-import-keyring, package-refresh-contents)\n\t(package-compute-transaction, package-install, package-delete)\n\t(package-menu--perform-transaction, package-menu-execute): Use it.\n\n\t* test/automated/package-test.el: Test async functionality.\n\t(package-test-update-archives-async): New test.\n\n2015-04-11  Daiki Ueno  <ueno@gnu.org>\n\n\tUtilize `make-process' in epg.el\n\t* lisp/epg.el (epg-error-output): Abolish.\n\t(epg-context): New slot `error-buffer'.\n\t(epg--start): Use `make-process' and `make-pipe-process'.\n\t(epg--process-filter): Remove code separating stderr from stdout.\n\t(epg-wait-for-completion): Simplify `error-output' handling.\n\t(epg-reset): Dispose error buffer.\n\n2015-04-11  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* .gitignore: Ignore doc temps and outputs.\n\n\tPort commit-msg to MSYS Bash+Gawk\n\tSee Eli Zaretskii in:\n\thttp://lists.gnu.org/archive/html/emacs-devel/2015-04/msg00610.html\n\t* build-aux/git-hooks/commit-msg (cent_sign_utf8_format)\n\t(cent_sign, print_at_sign, at_sign): Revert previous change.\n\t(print_at_sign): Prepend \"BEGIN\".\n\t(at_sign): Redirect from /dev/null to be safer with pre-POSIX awk.\n\n\tPort commit-msg to broken MS-Windows shell\n\t* build-aux/git-hooks/commit-msg (cent_sign):\n\tJust use UTF-8 here rather than ASCII + printf, as the latter fails\n\ton a broken MS-Windows shell.  Reported by Eli Zaretskii in:\n\thttp://lists.gnu.org/archive/html/emacs-devel/2015-04/msg00592.html\n\n2015-04-11  Chris Zheng  <chriszheng99@gmail.com>  (tiny change)\n\n\tSupport GnuTLS v3.4 and later on MS-Windows\n\t* src/gnutls.c (syms_of_gnutls) <libgnutls-version>: New DEFSYM.\n\t* lisp/term/w32-win.el (dynamic-library-alist): Determine which\n\tGnuTLS DLL to load according to value of libgnutls-version.\n\t(Bug#20294)\n\n2015-04-11  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMinor quoting etc. fixes to misc manuals\n\tFix some minor quoting and spacing issues.  Distinguish more\n\tclearly among grave accent and apostrophe (which are ASCII) and\n\tsingle quote (which is not).  Prefer the standard terms\n\t\"apostrophe\" and \"grave accent\" to alternative names that can be\n\tconfusing.  Use apostrophes to single-quote ASCII text.\n\t* doc/misc/remember.texi: Spell the mystic's pseudonym in UTF-8\n\trather than approximating it in ASCII with grave accent.\n\n2015-04-11  Daiki Ueno  <ueno@gnu.org>\n\n\tRespect more keyword args in `make-process'\n\t* src/process.c (Fmake_process): Respect `:sentinel' and `:filter'\n\tkeywords as documented.\n\n2015-04-10  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tExtract ChangeLog entries when committing a directory\n\t* lisp/vc/vc-dispatcher.el (vc-log-edit): Update FIXME comment.\n\t* lisp/vc/log-edit.el (log-edit-changelog-insert-entries):\n\tAdd a FIXME comment.\n\t(log-edit-changelog-entries): Extract from\n\t`log-edit-changelog-entries', handle FILE being a directory\n\t(http://lists.gnu.org/archive/html/emacs-devel/2015-04/msg00555.html).\n\n2015-04-10  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tFix problems found by --enable-gcc-warnings\n\t* src/process.c (create_process, Fmake_pipe_process)\n\t(Fmake_network_process): Omit unused locals.\n\n\tFix commit-msg to handle scissors lines\n\t* build-aux/git-hooks/commit-msg:\n\tIgnore every line after a scissors line, such as a line generated\n\tby 'git commit -v'.  Problem reported by Johan Bockg\u00e5rd in:\n\thttp://lists.gnu.org/archive/html/emacs-devel/2015-04/msg00580.html\n\n\tport commit-msg to Gawk 3.0.4 (1999)\n\t* build-aux/git-hooks/commit-msg (cent_sign_utf8_format, cent_sign)\n\t(print_at_sign, at_sign): New vars.  Use them to avoid problems\n\tEli Zaretskii encountered with Gawk 3.0.4 (1999) on MSYS.  See:\n\thttp://lists.gnu.org/archive/html/emacs-devel/2015-04/msg00566.html\n\n\tHave commit-msg report commit failure\n\t* build-aux/git-hooks/commit-msg: If the commit is aborted,\n\tsay so.  Simplify by doing this at the end.  Problem reported\n\tby Eli Zaretskii in:\n\thttp://lists.gnu.org/archive/html/emacs-devel/2015-04/msg00566.html\n\n2015-04-10  Thomas Fitzsimmons  <fitzsim@fitzsim.org>\n\n\tClean up LDAP Configuration section of EUDC manual\n\t* doc/misc/eudc.texi: Combine indices.\n\t(LDAP Configuration): Use command markup.  Add index entries.\n\tChange formatting.  Wrap long lines.  Add noindent markup.\n\n2015-04-10  Daiki Ueno  <ueno@gnu.org>\n\n\tAdd facility to collect stderr of async subprocess\n\t* src/w32.h (register_aux_fd): New function declaration.\n\t* src/w32.c (register_aux_fd): New function.\n\t* src/process.h (struct Lisp_Process): New member stderrproc.\n\t* src/process.c (PIPECONN_P): New macro.\n\t(PIPECONN1_P): New macro.\n\t(Fdelete_process, Fprocess_status, Fset_process_buffer)\n\t(Fset_process_filter, Fset_process_sentinel, Fstop_process)\n\t(Fcontinue_process): Handle pipe process specially.\n\t(create_process): Respect p->stderrproc.\n\t(Fmake_pipe_process): New function.\n\t(Fmake_process): Add new keyword argument :stderr.\n\t(wait_reading_process_output): Specially handle a pipe process when\n\tit gets an EOF.\n\t(syms_of_process): Register Qpipe and Smake_pipe_process.\n\t* doc/lispref/processes.texi (Asynchronous Processes): Document\n\t`make-pipe-process' and `:stderr' keyword of `make-process'.\n\t* lisp/subr.el (start-process): Suggest to use `make-process' handle\n\tstandard error separately.\n\t* test/automated/process-tests.el (process-test-stderr-buffer)\n\t(process-test-stderr-filter): New tests.\n\t* etc/NEWS: Mention new process type `pipe' and its usage with the\n\t`:stderr' keyword of `make-process'.\n\n2015-04-10  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMinor quoting etc. fixes to lispref manual\n\t* doc/lispref/tips.texi (Documentation Tips):\n\tDistinguish more clearly among grave accent, apostrophe,\n\tand single quote.\n\t* doc/lispref/README, doc/lispref/buffers.texi:\n\t* doc/lispref/commands.texi, doc/lispref/control.texi:\n\t* doc/lispref/customize.texi, doc/lispref/display.texi:\n\t* doc/lispref/elisp.texi, doc/lispref/files.texi:\n\t* doc/lispref/frames.texi, doc/lispref/hash.texi:\n\t* doc/lispref/help.texi, doc/lispref/internals.texi:\n\t* doc/lispref/loading.texi, doc/lispref/makefile.w32-in:\n\t* doc/lispref/markers.texi, doc/lispref/modes.texi:\n\t* doc/lispref/nonascii.texi, doc/lispref/objects.texi:\n\t* doc/lispref/os.texi, doc/lispref/positions.texi:\n\t* doc/lispref/strings.texi, doc/lispref/syntax.texi:\n\t* doc/lispref/text.texi, doc/lispref/tips.texi:\n\t* doc/lispref/two-volume-cross-refs.txt, doc/lispref/windows.texi:\n\tUse American-style double quoting in ordinary text,\n\tand quote 'like this' when single-quoting in ASCII text.\n\tAlso, fix some minor spacing issues.\n\n2015-04-10  Michael Albinus  <michael.albinus@gmx.de>\n\n\tHandle symlinked test directory in tramp-tests.el\n\t* test/automated/tramp-tests.el (tramp-test18-file-attributes)\n\t(tramp--test-check-files): Use `file-truename' for directories.\n\n2015-04-10  Eli Zaretskii  <eliz@gnu.org>\n\n\tFix 'recenter' when visual-line-mode is turned on\n\t* src/window.c (Frecenter): Use the same code for GUI and TTY\n\tframes alike; use vmotion only for \"initial\" frames.  This is\n\tbecause vmotion doesn't support visual-line-mode.  Rewrite the\n\t'iarg >= 0' case to use move_it_* functions instead of using\n\tvmotion, for the same reason.  Fix the clipping of the argument\n\tvalue to support scroll-margin in all cases and avoid unwarranted\n\trecentering.  Reported by Milan Stanojevi\u0107 <milanst@gmail.com> in\n\thttp://lists.gnu.org/archive/html/help-gnu-emacs/2015-04/msg00092.html,\n\twhich see.\n\n2015-04-09  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/abbrev.el (define-abbrev-table): Refine last change.\n\n\t* lisp/emacs-lisp/cl-lib.el: Partial revert of \"2015-04-05 Rationalize\n\tuse of c[ad]+r\", so as to keep the \"cl-\" prefix on all\n\tcl-lib definitions.\n\n\t* lisp/progmodes/vhdl-mode.el (vhdl-prepare-search-2):\n\tUse inhibit-point-motion-hooks.\n\n\t* lisp/cedet/semantic: Remove some dead code.\n\t* lisp/cedet/semantic/util-modes.el\n\t(semantic-stickyfunc-header-line-format): Emacs<22 is not supported\n\tany more.\n\t* lisp/cedet/semantic/fw.el (semantic-buffer-local-value): Emacs<21 is\n\tnot supported any more.\n\t(semantic-safe): Use `declare'.\n\t* lisp/cedet/semantic/decorate.el (semantic-set-tag-intangible)\n\t(semantic-tag-intangible-p): Remove unused functions.\n\t* lisp/cedet/semantic/complete.el (semantic-displayor-window-edges):\n\tRemove unused function.\n\n\t* lisp/gnus/gnus-art.el (gnus-hidden-properties): Simplify.\n\t(gnus-article-hide-text, gnus-article-unhide-text)\n\t(gnus-article-unhide-text-type): Remove special handling of\n\t`intangible' since that property is not used any more.\n\t(gnus-article-treat-body-boundary): Use gnus-hidden-properties.\n\n2015-04-09  Dmitry Gutov  <dgutov@yandex.ru>\n\n\tUse the VC root in `log-edit-listfun'\n\t* lisp/vc/vc-dispatcher.el (vc-log-edit): Use the VC root in\n\t`log-edit-listfun'.\n\n2015-04-09  Jay Belanger  <jay.p.belanger@gmail.com>\n\n\tFix description of Unix time, mention new function.\n\t* lisp/calc/calc-forms.el (calcFunc-unixtime): Fix adjustment for\n\tUnix time.\n\t* doc/misc/calc.texi (Date Forms): Fix description of Unix time.\n\t(Basic Operations on Units): Mention `calc-convert-exact-units'.\n\n2015-04-09  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el: Use mode-line-process for notification.\n\n2015-04-09  Dmitry Gutov  <dgutov@yandex.ru>\n\n\t* lisp/vc/log-edit.el (log-edit-insert-changelog-entries):\n\tDon't add newline after the last entry.\n\n2015-04-09  Simen Heggest\u00f8yl  <simenheg@gmail.com>\n\n\tcss-mode.el: Add \"not\" pseudo-class\n\t(Bug#20267)\n\t* lisp/textmodes/css-mode.el (css-pseudo-class-ids): Add \"not\" to\n\tlist of CSS pseudo-classes.\n\n2015-04-09  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* etc/NEWS: Add missing entry for \"Stop messing with the EMACS env var\".\n\n2015-04-09  Michael Albinus  <michael.albinus@gmx.de>\n\n\tStop messing with the EMACS env var\n\t* doc/emacs/misc.texi (Interactive Shell): Remove description of\n\tEMACS env var.\n\n2015-04-09  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tAdapt 'make change-history' to coding cookie\n\t* Makefile.in (change-history): Adjust to change of format of\n\tChangeLog file, which now has a coding cookie before an indented\n\tcopyright notice.\n\n2015-04-09  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tAdapt 'make change-history' to coding cookie\n\t* Makefile.in (change-history): Adjust to change of format of\n\tChangeLog file, which now has a coding cookie before an indented\n\tcopyright notice.\n\n\tgitlog-to-changelog coding cookie and mv -i\n\t* build-aux/gitlog-to-emacslog: Use ChangeLog.1, not Makefile.in,\n\tfor copyright notice prototype, so that we get a proper \"coding:\"\n\tcookie.  Use 'mv -i' to avoid unconditionally overwriting an\n\texisting ChangeLog.  Problems reported by Eli Zaretskii in:\n\thttp://lists.gnu.org/archive/html/emacs-devel/2015-04/msg00504.html\n\n\tMerge from gnulib\n\t* build-aux/gitlog-to-changelog: Update from gnulib, incorporating:\n\t2015-04-09 gitlog-to-changelog: port to MS-Windows\n\n2015-04-09  Boruch Baum  <boruch_baum@gmx.com>  (tiny change)\n\n\t* lisp/bookmark.el (bookmark-bmenu-goto-bookmark): Don't inf-loop.\n\t(Bug#20212)\n\n2015-04-09  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\tStop messing with the EMACS env var\n\t(Bug#20202)\n\t* lisp/net/tramp-sh.el (tramp-remote-process-environment):\n\t* lisp/comint.el (comint-exec-1):\n\t* lisp/term.el (term-exec-1): Don't set EMACS envvar.\n\t* lisp/progmodes/compile.el (compilation-start): Same and bring\n\tINSIDE_EMACS's format in line with other users.\n\n\tcss-mode.el (css-smie-rules): Fix indentation after complex selectors\n\t(Bug#20282)\n\t* lisp/textmodes/css-mode.el (css-smie-rules): Don't get confused by\n\tinner structure of selectors.\n\n2015-04-08  Fabi\u00e1n Ezequiel Gallina  <fgallina@gnu.org>\n\n\tpython.el: Indent docstring lines to base-indent\n\t(Bug#19595)\n\tThanks to immerrr <immerrr@gmail.com> for reporting and providing\n\tan initial patch.\n\t* lisp/progmodes/python.el\n\t(python-indent-context): Add :inside-docstring context.\n\t(python-indent--calculate-indentation): Handle :inside-docstring.\n\t(python-indent-region): Re-indent docstrings.\n\t* test/automated/python-tests.el (python-indent-region-5)\n\t(python-indent-inside-string-2): Fix tests.\n\n\tpython.el: Increase native completion robustness\n\t(Bug#19755)\n\tThanks to Carlos Pita <carlosjosepita@gmail.com> for reporting\n\tthis and providing useful ideas.\n\t* lisp/progmodes/python.el\n\t(python-shell-completion-native-output-timeout): Increase value.\n\t(python-shell-completion-native-try-output-timeout): New var.\n\t(python-shell-completion-native-try): Use it.\n\t(python-shell-completion-native-setup): New readline setup avoids\n\tpolluting current context, ensures output when no-completions are\n\tavailable and includes output end marker.\n\t(python-shell-completion-native-get-completions): Trigger with one\n\ttab only.  Call accept-process-output until output end is found or\n\tpython-shell-completion-native-output-timeout is exceeded.\n\n2015-04-08  Samer Masterson  <samer@samertm.com>\n\n\t* lisp/eshell: Make backslash a no-op in front of normal chars\n\t(Bug#8531)\n\t* lisp/eshell/esh-arg.el (eshell-parse-argument-hook): Update comment.\n\t(eshell-parse-backslash): Return escaped character after backslash\n\tif it is special.  Otherwise, if the backslash is not in a quoted\n\tstring, ignore the backslash and return the character after; if\n\tthe backslash is in a quoted string, return the backslash and the\n\tcharacter after.\n\t* test/automated/eshell.el (eshell-test/escape-nonspecial)\n\t(eshell-test/escape-nonspecial-unicode)\n\t(eshell-test/escape-nonspecial-quoted)\n\t(eshell-test/escape-special-quoted): Add tests for new\n\t`eshell-parse-backslash' behavior.\n\n2015-04-08  Gustav H\u00e5llberg  <gustav@gmail.com>  (tiny change)\n\n\t* lisp/vc/diff-mode.el (diff-hunk-file-names): Don't require a TAB\n\tafter the file name.\n\t(Bug#20276)\n\n2015-04-08  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tMinor quoting etc. fixes to Emacs manual\n\t* doc/emacs/Makefile.in, doc/emacs/ack.texi, doc/emacs/building.texi:\n\t* doc/emacs/calendar.texi, doc/emacs/cmdargs.texi:\n\t* doc/emacs/custom.texi, doc/emacs/dired.texi, doc/emacs/emacs.texi:\n\t* doc/emacs/files.texi, doc/emacs/glossary.texi, doc/emacs/gnu.texi:\n\t* doc/emacs/indent.texi, doc/emacs/macos.texi:\n\t* doc/emacs/maintaining.texi, doc/emacs/makefile.w32-in:\n\t* doc/emacs/programs.texi, doc/emacs/rmail.texi:\n\t* doc/emacs/search.texi, doc/emacs/trouble.texi:\n\t* doc/emacs/vc1-xtra.texi:\n\tUse American-style double quoting in ordinary text,\n\tand quote 'like this' when single-quoting in ASCII text.\n\tAlso, fix some minor spacing issues.\n\n\tMinor quoting etc. fixes to elisp intro\n\t* doc/lispintro/emacs-lisp-intro.texi: Consistently use\n\tAmerican-style double quoting in ordinary text.  In ASCII text,\n\tconsistently quote 'like this' instead of `like this', unless\n\tEmacs requires the latter.\n\n2015-04-08  Dmitry Gutov  <dgutov@yandex.ru>\n\n\t* CONTRIBUTE: Mention log-edit-insert-changelog.\n\n\t* CONTRIBUTE: Emphasize creating the top-level ChangeLog file manually.\n\n2015-04-08  Paul Eggert  <eggert@cs.ucla.edu>\n\n\t* doc/misc/calc.texi (Summary): Avoid '@:' when usurped.\n\n2015-04-08  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t* lisp/emacs-lisp/eieio-core.el (eieio-copy-parents-into-subclass):\n\tFix inheritance of initargs.  (Bug#20270)\n\n2015-04-08  Artur Malabarba  <bruce.connor.am@gmail.com>\n\n\t* lisp/emacs-lisp/package.el (package-menu-mode): Mode-line notification\n\twhile dowloading information.\n\n\t* lisp/emacs-lisp/package.el: More conservative `ensure-init-file'\n\t(package--ensure-init-file): Check file contents before visiting.\n\t(package-initialize): Call it.\n\t(package-install-from-buffer, package-install): Don't call it.\n\n2015-04-08  Eli Zaretskii  <eliz@gnu.org>\n\n\t* src/eval.c (init_eval_once): Bump max_lisp_eval_depth to 800.\n\t(Bug#17517)\n\n2015-04-08  Michael Albinus  <michael.albinus@gmx.de>\n\n\t* lisp/net/tramp-cache.el (tramp-flush-file-property):\n\tFix nasty scoping bug.\n\n2015-04-08  Tassilo Horn  <tsdh@gnu.org>\n\n\tAdd notice to visual commands section\n\t* doc/misc/eshell.texi (Input/Output): Add notice that some tools\n\tsuch as git call less with its -F option which omits pagination if\n\tthe contents is less than one page long.  This interferes with\n\teshell's visual (sub-)commands.\n\n2015-04-07  Dmitry Gutov  <dgutov@yandex.ru>\n\n\t* lisp/ffap.el (ffap-string-at-point-mode-alist): Support\n\tenvironment variable expansion in file names.  (Bug#19839)\n\n2015-04-07  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPrefer double-quote to accent-grave in man pages\n\n2015-04-07  Stefan Monnier  <monnier@iro.umontreal.ca>\n\n\t(Bug#20257)\n\t* lisp/files.el (set-visited-file-name): Clear auto-save if nil.\n\n2015-04-07  Ivan Shmakov  <ivan@siamics.net>\n\n\tUpdate etc/PROBLEMS.\n\t* etc/PROBLEMS: Mention visible-cursor; a few more mentions of\n\t~/.Xresources and xrdb(1); refer to 'GNU Coreutils' and\n\t'X Window System' or 'X' (were: 'GNU Fileutils' and 'X Windows',\n\trespectively); other minor updates and tweaks.  (Bug#20011)\n\n2015-04-07  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tAdd doc strings for some Isearch state vars\n\t* lisp/misearch.el (multi-isearch-buffer-list)\n\t(multi-isearch-file-list): Add doc strings.\n\t(Bug#20232)\n\n2015-04-07  Alan Mackenzie  <acm@muc.de>\n\n\tAlways mark \"<\" and \">\" in #include directives with text properties.\n\t* lisp/progmodes/cc-fonts.el (c-cpp-matchers): Replace a font-lock\n\t\"anchored matcher\" with an invocation of\n\tc-make-font-lock-search-function to allow fontification when there's\n\tno trailing space on an \"#include <..>\" line.\n\n2015-04-07  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tGenerate a ChangeLog file from commit logs\n\t* .gitignore: Add 'ChangeLog'.\n\t* build-aux/gitlog-to-changelog: New file, from Gnulib.\n\t* build-aux/gitlog-to-emacslog: New file.\n\t* CONTRIBUTE: Document the revised workflow.\n\t* Makefile.in (clean): Remove *.tmp and etc/*.tmp*\n\tinstead of just special cases.\n\t(CHANGELOG_HISTORY_INDEX_MAX, CHANGELOG_N, gen_origin): New vars.\n\t(ChangeLog, unchanged-history-files, change-history)\n\t(change-history-commit): New rules.\n\t* admin/admin.el (make-manuals-dist--1):\n\tDon't worry about doc/ChangeLog.\n\t* admin/authors.el: Add a FIXME.\n\t* admin/make-tarball.txt:\n\t* lisp/calendar/icalendar.el:\n\t* lisp/gnus/deuglify.el:\n\t* lisp/obsolete/gulp.el:\n\t* lwlib/README:\n\tAdjust to renamed ChangeLog history files.\n\t* admin/merge-gnulib (GNULIB_MODULES): Add gitlog-to-changelog.\n\t* admin/notes/repo: Call it 'master' a la Git, not 'trunk' a la Bzr.\n\tRemove obsolete discussion of merging ChangeLog files.\n\tNew section \"Maintaining ChangeLog history\".\n\t* build-aux/git-hooks/pre-commit:\n\tReject attempts to commit files named 'ChangeLog'.\n\t* lib/gnulib.mk, m4/gnulib-comp.m4: Regenerate.\n\t* make-dist: Make and distribute top-level ChangeLog if there's a\n\t.git directory.  Distribute the new ChangeLog history files\n\tinstead of scattered ChangeLog files.  Distribute the new files\n\tgitlog-to-changelog and gitlog-to-emacslog.\n\t(Bug#19113)\n\n\tRename ChangeLogs for gitlog-to-changelog\n\tThis patch was implemented via the following shell commands:\n\tfind * -name ChangeLog |\n\tsed 's,.*,git mv & &.1,\n\ts, lisp/ChangeLog\\.1$, lisp/ChangeLog.17,\n\ts, lisp/erc/ChangeLog\\.1$, lisp/erc/ChangeLog.09,\n\ts, lisp/gnus/ChangeLog\\.1$, lisp/gnus/ChangeLog.3,\n\ts, lisp/mh-e/ChangeLog\\.1$, lisp/mh-e/ChangeLog.2,\n\ts, src/ChangeLog\\.1$, src/ChangeLog.13,' |\n\tsh\n\tgit commit -am\"[this commit message]\"\n\nThis file records repository revisions from\ncommit 9d56a21e6a696ad19ac65c4b405aeca44785884a (exclusive) to\ncommit 56a4461a48d5803fbc979924475da4b3621ea0f5 (inclusive).\nSee ChangeLog.1 for earlier changes.\n\n;; Local Variables:\n;; coding: utf-8\n;; End:\n\n  Copyright (C) 2015-2017 Free Software Foundation, Inc.\n\n  This file is part of GNU Emacs.\n\n  GNU Emacs is free software: you can redistribute it and/or modify\n  it under the terms of the GNU General Public License as published by\n  the Free Software Foundation, either version 3 of the License, or\n  (at your option) any later version.\n\n  GNU Emacs is distributed in the hope that it will be useful,\n  but WITHOUT ANY WARRANTY; without even the implied warranty of\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  GNU General Public License for more details.\n\n  You should have received a copy of the GNU General Public License\n  along with GNU Emacs.  If not, see <http://www.gnu.org/licenses/>.\n",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/configure.ac": "dnl  Autoconf script for GNU Emacs\ndnl To rebuild the 'configure' script from this, execute the command\ndnl\tautoconf\ndnl in the directory containing this script.\ndnl If you changed any AC_DEFINES, also run autoheader.\ndnl\ndnl Copyright (C) 1994-1996, 1999-2017 Free Software Foundation, Inc.\ndnl\ndnl  This file is part of GNU Emacs.\ndnl\ndnl  GNU Emacs is free software: you can redistribute it and/or modify\ndnl  it under the terms of the GNU General Public License as published by\ndnl  the Free Software Foundation, either version 3 of the License, or\ndnl  (at your option) any later version.\ndnl\ndnl  GNU Emacs is distributed in the hope that it will be useful,\ndnl  but WITHOUT ANY WARRANTY; without even the implied warranty of\ndnl  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\ndnl  GNU General Public License for more details.\ndnl\ndnl  You should have received a copy of the GNU General Public License\ndnl  along with GNU Emacs.  If not, see <http://www.gnu.org/licenses/>.\n\nAC_PREREQ(2.65)\ndnl Note this is parsed by (at least) make-dist and lisp/cedet/ede/emacs.el.\nAC_INIT(GNU Emacs, 25.2, bug-gnu-emacs@gnu.org)\n\ndnl Set emacs_config_options to the options of 'configure', quoted for the shell,\ndnl and then quoted again for a C string.  Separate options with spaces.\ndnl Add some environment variables, if they were passed via the environment\ndnl rather than on the command-line.\nemacs_config_options=\noptsep=\ndnl This is the documented way to record the args passed to configure,\ndnl rather than $ac_configure_args.\nfor opt in \"$@\" CFLAGS CPPFLAGS LDFLAGS; do\n  case $opt in\n    -n | --no-create | --no-recursion)\n      continue ;;\n    CFLAGS | CPPFLAGS | LDFLAGS)\n      eval 'test \"${'$opt'+set}\" = set' || continue\n      case \" $*\" in\n\t*\" $opt=\"*) continue ;;\n      esac\n      eval opt=$opt=\\$$opt ;;\n  esac\n\n  emacs_shell_specials=$IFS\\''\"#$&()*;<>?@<:@\\\\`{|~'\n  case $opt in\n    *[[\"$emacs_shell_specials\"]]*)\n      case $opt in\n\t*\\'*)\n\t  emacs_quote_apostrophes=\"s/'/'\\\\\\\\''/g\"\n\t  opt=`AS_ECHO([\"$opt\"]) | sed \"$emacs_quote_apostrophes\"` ;;\n      esac\n      opt=\"'$opt'\"\n      case $opt in\n\t*[['\"\\\\']]*)\n\t  emacs_quote_for_c='s/[[\"\\\\]]/\\\\&/g; $!s/$/\\\\n\\\\/'\n\t  opt=`AS_ECHO([\"$opt\"]) | sed \"$emacs_quote_for_c\"` ;;\n      esac ;;\n  esac\n  AS_VAR_APPEND([emacs_config_options], [\"$optsep$opt\"])\n  optsep=' '\ndone\n\nAC_CONFIG_HEADERS(src/config.h:src/config.in)\nAC_CONFIG_SRCDIR(src/lisp.h)\nAC_CONFIG_AUX_DIR(build-aux)\ndnl automake 1.13 and later understand this, making -I m4 unnecessary.\ndnl With older versions this is a no-op.\nAC_CONFIG_MACRO_DIR(m4)\n\nxcsdkdir=\nAC_CHECK_PROGS(XCRUN, [xcrun])\nif test -n \"$XCRUN\"; then\n  if test -z \"$MAKE\"; then\n    dnl Call the variable MAKE_PROG, not MAKE, to avoid confusion with\n    dnl the usual MAKE variable that 'make' itself uses.\n    AC_CHECK_PROG([MAKE_PROG], [make], [yes])\n    if test -z \"$MAKE_PROG\"; then\n      MAKE=\"$XCRUN MAKE\"\n      export MAKE\n      xcsdkdir=`$XCRUN --show-sdk-path 2>/dev/null`\n    fi\n  fi\nfi\n\ndnl GNU Make is required, so don't test for its individual features.\nam_cv_make_support_nested_variables=yes\nAC_DEFUN([AC_PROG_MAKE_SET],\n  [SET_MAKE=\n   AC_SUBST([SET_MAKE])])\n\ndnl Check for GNU Make and possibly set MAKE before running AM_INIT_AUTOMAKE.\n[emacs_check_gnu_make ()\n{\n  emacs_makeout=`($1 --version) 2>/dev/null` &&\n  case $emacs_makeout in\n    'GNU Make '3.8[1-9]* | 'GNU Make '3.9[0-9]* | \\\n    'GNU Make '3.[1-9][0-9][0-9]* | 'GNU Make '[4-9]* | 'GNU Make '[1-9][0-9]* )\n       ac_path_MAKE_found=:;;\n  esac\n}]\nAC_CACHE_CHECK([for GNU Make], [ac_cv_path_MAKE],\n  [ac_path_MAKE_found=false\n   if test -n \"$MAKE\"; then\n     emacs_check_gnu_make \"$MAKE\"\n     ac_cv_path_MAKE=$MAKE\n   else\n     emacs_tried_make=false\n     emacs_tried_gmake=false\n     emacs_tried_gnumake=false\n     AC_PATH_PROGS_FEATURE_CHECK([MAKE], [make gmake gnumake],\n       [[emacs_check_gnu_make \"$ac_path_MAKE\"\n\t if $ac_path_MAKE_found; then\n\t   # Use the fully-qualified program name only if the basename\n\t   # would not resolve to it.\n\t   if eval \\$emacs_tried_$ac_prog; then\n\t     ac_cv_path_MAKE=$ac_path_MAKE\n\t   else\n\t     ac_cv_path_MAKE=$ac_prog\n\t   fi\n\t fi\n\t eval emacs_tried_$ac_prog=:]])\n   fi])\n$ac_path_MAKE_found || {\nAC_MSG_ERROR([[Building Emacs requires GNU Make, at least version 3.81.\nIf you have it installed under another name, configure with 'MAKE=...'.\nFor example, run '$0 MAKE=gnu-make'.]])\n}\nMAKE=$ac_cv_path_MAKE\nexport MAKE\n\ndnl Fairly arbitrary, older versions might work too.\nAM_INIT_AUTOMAKE(1.11)\n\ndnl Canonicalize the configuration name.\nAC_CANONICAL_HOST\n\ncase $host in\n *-mingw*)\n\n  if test -z \"$host_alias\"; then\n\n      # No --host argument was given to 'configure'; therefore $host\n      # was set to a default value based on the build platform.  But\n      # this default value may be wrong if we are building from a\n      # 64-bit MSYS[2] pre-configured to build 32-bit MinGW programs.\n      # Therefore, we'll try to get the right host platform from the\n      # compiler's target.\n\n      AC_MSG_CHECKING([the compiler's target])\n      if test -z \"$CC\"; then\n\t  cc=gcc\n      else\n\t  cc=$CC\n      fi\n      cc_target=`$cc -v 2>&1 | sed -n 's/Target: //p'`\n      case \"$cc_target\" in\n          *-*) host=$cc_target\n\t      ;;\n          \"\") AC_MSG_ERROR([Impossible to obtain $cc compiler target.\nPlease explicitly provide --host.])\n              ;;\n\t  *) AC_MSG_WARN([Compiler reported non-standard target.\nDefaulting to $host.])\n              ;;\n      esac\n      AC_MSG_RESULT([$host])\n  fi\n\n  . $srcdir/nt/mingw-cfg.site\n\n  case $srcdir in\n    /* | ?:*)\n      # srcdir is an absolute path.  In this case, force the format\n      # \"/c/foo/bar\", to simplify later conversions to native Windows\n      # format (\"c:/foo/bar\").\n      srcdir=`cd \"${srcdir}\" && pwd -W`\n      # 'eval' pacifies strict POSIX non-MinGW shells (Bug#18612).\n      eval 'srcdir=\"/${srcdir:0:1}${srcdir:2}\"'\n      ;;\n  esac;;\nesac\n\ncanonical=$host\nconfiguration=${host_alias-${build_alias-$host}}\n\ndnl Support for --program-prefix, --program-suffix and\ndnl --program-transform-name options\nAC_ARG_PROGRAM\n\ndnl It is important that variables on the RHS not be expanded here,\ndnl hence the single quotes.  This is per the GNU coding standards, see\ndnl (autoconf) Installation Directory Variables\ndnl See also epaths.h below.\nlispdir='${datadir}/emacs/${version}/lisp'\nstandardlisppath='${lispdir}'\nlocallisppath='${datadir}/emacs/${version}/site-lisp:'\\\n'${datadir}/emacs/site-lisp'\nlisppath='${locallisppath}:${standardlisppath}'\netcdir='${datadir}/emacs/${version}/etc'\narchlibdir='${libexecdir}/emacs/${version}/${configuration}'\netcdocdir='${datadir}/emacs/${version}/etc'\ngamedir='${localstatedir}/games/emacs'\n\ndnl Special option to disable the most of other options.\nAC_ARG_WITH(all,\n[AS_HELP_STRING([--without-all],\n\t\t[omit almost all features and build\n\t\tsmall executable with minimal dependencies])],\n  [with_features=$withval],\n  [with_features=yes])\n\ndnl OPTION_DEFAULT_OFF(NAME, HELP-STRING)\ndnl Create a new --with option that defaults to being disabled.\ndnl NAME is the base name of the option.  The shell variable with_NAME\ndnl   will be set to either the user's value (if the option is\ndnl   specified; 'yes' for a plain --with-NAME) or to 'no' (if the\ndnl   option is not specified).  Note that the shell variable name is\ndnl   constructed as autoconf does, by replacing non-alphanumeric\ndnl   characters with \"_\".\ndnl HELP-STRING is the help text for the option.\nAC_DEFUN([OPTION_DEFAULT_OFF], [dnl\n  AC_ARG_WITH([$1],[AS_HELP_STRING([--with-$1],[$2])],[],[dnl\n    m4_bpatsubst([with_$1], [[^0-9a-z]], [_])=no])dnl\n])dnl\n\ndnl OPTION_DEFAULT_ON(NAME, HELP-STRING)\ndnl Create a new --with option that defaults to $with_features.\ndnl NAME is the base name of the option.  The shell variable with_NAME\ndnl   will be set either to 'no' (for a plain --without-NAME) or to\ndnl   'yes' (if the option is not specified).  Note that the shell\ndnl   variable name is constructed as autoconf does, by replacing\ndnl   non-alphanumeric characters with \"_\".\ndnl HELP-STRING is the help text for the option.\nAC_DEFUN([OPTION_DEFAULT_ON], [dnl\n  AC_ARG_WITH([$1],[AS_HELP_STRING([--without-$1],[$2])],[],[dnl\n   m4_bpatsubst([with_$1], [[^0-9a-z]], [_])=$with_features])dnl\n])dnl\n\nOPTION_DEFAULT_ON([pop],[don't support POP mail retrieval with movemail])\nif test \"$with_pop\" = yes; then\n   AC_DEFINE(MAIL_USE_POP)\nfi\nAH_TEMPLATE(MAIL_USE_POP, [Define to support POP mail retrieval.])dnl\n\nOPTION_DEFAULT_OFF([kerberos],[support Kerberos-authenticated POP])\nif test \"$with_kerberos\" != no; then\n   AC_DEFINE(KERBEROS)\nfi\nAH_TEMPLATE(KERBEROS,\n\t    [Define to support Kerberos-authenticated POP mail retrieval.])dnl\n\nOPTION_DEFAULT_OFF([kerberos5],[support Kerberos version 5 authenticated POP])\nif test \"${with_kerberos5}\" != no; then\n  if test \"${with_kerberos}\" = no; then\n    with_kerberos=yes\n    AC_DEFINE(KERBEROS)\n  fi\n  AC_DEFINE(KERBEROS5, 1, [Define to use Kerberos 5 instead of Kerberos 4.])\nfi\n\nOPTION_DEFAULT_OFF([hesiod],[support Hesiod to get the POP server host])\ndnl FIXME hesiod support may not be present, so it seems like an error\ndnl to define, or at least use, this unconditionally.\nif test \"$with_hesiod\" != no; then\n  AC_DEFINE(HESIOD, 1, [Define to support using a Hesiod database to find the POP server.])\nfi\n\nOPTION_DEFAULT_OFF([mail-unlink],[unlink, rather than empty, mail spool after reading])\nif test \"$with_mail_unlink\" != no; then\n   AC_DEFINE(MAIL_UNLINK_SPOOL, 1, [Define to unlink, rather than empty, mail spool after reading.])\nfi\n\nAC_ARG_WITH([mailhost],[AS_HELP_STRING([--with-mailhost=HOSTNAME],\n    [string giving default POP mail host])],\n    AC_DEFINE_UNQUOTED(MAILHOST, [\"$withval\"], [String giving fallback POP mail host.]))\n\nAC_ARG_WITH([sound],[AS_HELP_STRING([--with-sound=VALUE],\n  [compile with sound support (VALUE one of: yes, alsa, oss, bsd-ossaudio, no;\ndefault yes).  Only for GNU/Linux, FreeBSD, NetBSD, MinGW, Cygwin.])],\n  [ case \"${withval}\" in\n      yes|no|alsa|oss|bsd-ossaudio) val=$withval ;;\n      *) AC_MSG_ERROR(['--with-sound=$withval' is invalid;\nthis option's value should be 'yes', 'no', 'alsa', 'oss', or 'bsd-ossaudio'.])\n      ;;\n    esac\n    with_sound=$val\n  ],\n  [with_sound=$with_features])\n\ndnl FIXME currently it is not the last.\ndnl This should be the last --with option, because --with-x is\ndnl added later on when we find the file name of X, and it's best to\ndnl keep them together visually.\nAC_ARG_WITH([x-toolkit],[AS_HELP_STRING([--with-x-toolkit=KIT],\n [use an X toolkit (KIT one of: yes or gtk, gtk2, gtk3, lucid or athena, motif, no)])],\n[\t  case \"${withval}\" in\n\t    y | ye | yes )\tval=gtk ;;\n\t    n | no )\t\tval=no  ;;\n\t    l | lu | luc | luci | lucid )\tval=lucid ;;\n\t    a | at | ath | athe | athen | athena )\tval=athena ;;\n\t    m | mo | mot | moti | motif )\tval=motif ;;\n\t    g | gt | gtk  )\tval=gtk ;;\n\t    gtk2  )\tval=gtk2 ;;\n\t    gtk3  )\tval=gtk3 ;;\n\t    * )\nAC_MSG_ERROR(['--with-x-toolkit=$withval' is invalid;\nthis option's value should be 'yes', 'no', 'lucid', 'athena', 'motif', 'gtk',\n'gtk2' or 'gtk3'.  'yes' and 'gtk' are synonyms.\n'athena' and 'lucid' are synonyms.])\n\t    ;;\n\t  esac\n\t  with_x_toolkit=$val\n])\n\nOPTION_DEFAULT_OFF([wide-int], [prefer wide Emacs integers (typically 62-bit); allows buffer and string size up to 2GB on 32-bit hosts, at the cost of 10% to 30% slowdown of Lisp interpreter and larger memory footprint])\nif test \"$with_wide_int\" = yes; then\n  AC_DEFINE([WIDE_EMACS_INT], 1, [Use long long for EMACS_INT if available.])\nfi\n\ndnl _ON results in a '--without' option in the --help output, so\ndnl the help text should refer to \"don't compile\", etc.\nwith_xpm_set=${with_xpm+set}\nOPTION_DEFAULT_ON([xpm],[don't compile with XPM image support])\nOPTION_DEFAULT_ON([jpeg],[don't compile with JPEG image support])\nOPTION_DEFAULT_ON([tiff],[don't compile with TIFF image support])\nOPTION_DEFAULT_ON([gif],[don't compile with GIF image support])\nOPTION_DEFAULT_ON([png],[don't compile with PNG image support])\nOPTION_DEFAULT_ON([rsvg],[don't compile with SVG image support])\nOPTION_DEFAULT_OFF([cairo],[compile with Cairo drawing (experimental)])\nOPTION_DEFAULT_ON([xml2],[don't compile with XML parsing support])\nOPTION_DEFAULT_ON([imagemagick],[don't compile with ImageMagick image support])\n\nOPTION_DEFAULT_ON([xft],[don't use XFT for anti aliased fonts])\nOPTION_DEFAULT_ON([libotf],[don't use libotf for OpenType font support])\nOPTION_DEFAULT_ON([m17n-flt],[don't use m17n-flt for text shaping])\n\nOPTION_DEFAULT_ON([toolkit-scroll-bars],[don't use Motif or Xaw3d scroll bars])\nOPTION_DEFAULT_ON([xaw3d],[don't use Xaw3d])\nOPTION_DEFAULT_ON([xim],[don't use X11 XIM])\nAC_ARG_WITH([ns],[AS_HELP_STRING([--with-ns],\n[use Nextstep (macOS Cocoa or GNUstep) windowing system.\nOn by default on macOS.])],[],[with_ns=maybe])\nOPTION_DEFAULT_OFF([w32], [use native MS Windows GUI in a Cygwin build])\n\nOPTION_DEFAULT_ON([gpm],[don't use -lgpm for mouse support on a GNU/Linux console])\nOPTION_DEFAULT_ON([dbus],[don't compile with D-Bus support])\nOPTION_DEFAULT_ON([gconf],[don't compile with GConf support])\nOPTION_DEFAULT_ON([gsettings],[don't compile with GSettings support])\nOPTION_DEFAULT_ON([selinux],[don't compile with SELinux support])\nOPTION_DEFAULT_ON([gnutls],[don't use -lgnutls for SSL/TLS support])\nOPTION_DEFAULT_ON([zlib],[don't compile with zlib decompression support])\nOPTION_DEFAULT_OFF([modules],[compile with dynamic modules support])\n\nAC_ARG_WITH([file-notification],[AS_HELP_STRING([--with-file-notification=LIB],\n [use a file notification library (LIB one of: yes, inotify, kqueue, gfile, w32, no)])],\n [ case \"${withval}\" in\n    y | ye | yes )\tval=yes ;;\n    n | no )\t\tval=no  ;;\n    i | in | ino | inot | inoti | inotif | inotify )\tval=inotify ;;\n    k | kq | kqu | kque | kqueu | kqueue )\tval=kqueue ;;\n    g | gf | gfi | gfil | gfile )\tval=gfile ;;\n    w | w3 | w32 )\tval=w32 ;;\n    * ) AC_MSG_ERROR(['--with-file-notification=$withval' is invalid;\nthis option's value should be 'yes', 'no', 'inotify', 'kqueue', 'gfile' or 'w32'.\n'yes' is a synonym for 'w32' on MS-Windows, for 'no' on Nextstep,\notherwise for the first of 'inotify', 'kqueue' or 'gfile' that is usable.])\n    ;;\n   esac\n   with_file_notification=$val\n ],\n [with_file_notification=$with_features])\n\nOPTION_DEFAULT_OFF([xwidgets],\n  [enable use of some gtk widgets in Emacs buffers (requires gtk3)])\n\n## For the times when you want to build Emacs but don't have\n## a suitable makeinfo, and can live without the manuals.\ndnl http://lists.gnu.org/archive/html/emacs-devel/2008-04/msg01844.html\nOPTION_DEFAULT_ON([makeinfo],[don't require makeinfo for building manuals])\n\n## This might be a 'configure' arg.\nAC_SUBST([ACLOCAL_PATH])\n\n## Makefile.in needs the cache file name.\nAC_SUBST(cache_file)\n\n## This is an option because I do not know if all info/man support\n## compressed files, nor how to test if they do so.\nOPTION_DEFAULT_ON([compress-install],\n  [don't compress some files (.el, .info, etc.) when installing.  Equivalent to:\nmake GZIP_PROG= install])\n\nAC_ARG_WITH(gameuser,dnl\n[AS_HELP_STRING([--with-gameuser=USER_OR_GROUP],\n\t\t[user for shared game score files.\n\t\tAn argument prefixed by ':' specifies a group instead.])])\ngameuser=\ngamegroup=\n# We don't test if we can actually chown/chgrp here, because configure\n# may run without root privileges.  lib-src/Makefile.in will handle\n# any errors due to missing user/group gracefully.\ncase ${with_gameuser} in\n  no) ;;\n  \"\" | yes) gamegroup=games ;;\n  :*) gamegroup=${with_gameuser#:} ;;\n  *) gameuser=${with_gameuser} ;;\nesac\n\nAC_ARG_WITH([gnustep-conf],dnl\n[AS_HELP_STRING([--with-gnustep-conf=FILENAME],\n   [name of GNUstep configuration file to use on systems where the command\n    'gnustep-config' does not work; default $GNUSTEP_CONFIG_FILE, or\n    /etc/GNUstep/GNUstep.conf])])\ntest \"X${with_gnustep_conf}\" != X && test \"${with_gnustep_conf}\" != yes && \\\n  GNUSTEP_CONFIG_FILE=\"${with_gnustep_conf}\"\ntest \"X$GNUSTEP_CONFIG_FILE\" = \"X\" && \\\n     GNUSTEP_CONFIG_FILE=/etc/GNUstep/GNUstep.conf\n\nAC_ARG_ENABLE(ns-self-contained,\n[AS_HELP_STRING([--disable-ns-self-contained],\n                [disable self contained build under NeXTstep])],\n   EN_NS_SELF_CONTAINED=$enableval,\n   EN_NS_SELF_CONTAINED=yes)\n\nlocallisppathset=no\nAC_ARG_ENABLE(locallisppath,\n[AS_HELP_STRING([--enable-locallisppath=PATH],\n                [directories Emacs should search for lisp files specific\n\t\t to this site])],\nif test \"${enableval}\" = \"no\"; then\n  locallisppath=\nelif test \"${enableval}\" != \"yes\"; then\n  locallisppath=${enableval} locallisppathset=yes\nfi)\n\nAC_ARG_ENABLE(checking,\n[AS_HELP_STRING([--enable-checking@<:@=LIST@:>@],\n\t\t[enable expensive run-time checks.  With LIST,\n\t\t enable only specific categories of checks.\n\t\t Categories are: all,yes,no.\n\t\t Flags are: stringbytes, stringoverrun, stringfreelist,\n\t\t xmallocoverrun, conslist, glyphs])],\n[ac_checking_flags=\"${enableval}\"],[])\nIFS=\"${IFS= \t}\"; ac_save_IFS=\"$IFS\"; IFS=\"$IFS,\"\nfor check in $ac_checking_flags\ndo\n\tcase $check in\n\t# these set all the flags to specific states\n\tyes)\t\tac_enable_checking=1 ;;\n\tno)\t\tac_enable_checking= ;\n\t\t\tac_gc_check_stringbytes= ;\n\t                ac_gc_check_string_overrun= ;\n\t                ac_gc_check_string_free_list= ;\n\t                ac_xmalloc_overrun= ;\n\t                ac_gc_check_cons_list= ;\n\t\t\tac_glyphs_debug= ;;\n\tall)\t\tac_enable_checking=1 ;\n\t\t\tac_gc_check_stringbytes=1 ;\n\t                ac_gc_check_string_overrun=1 ;\n\t                ac_gc_check_string_free_list=1 ;\n\t                ac_xmalloc_overrun=1 ;\n\t                ac_gc_check_cons_list=1 ;\n\t\t\tac_glyphs_debug=1 ;;\n\t# these enable particular checks\n\tstringbytes)\tac_gc_check_stringbytes=1 ;;\n\tstringoverrun)\tac_gc_check_string_overrun=1 ;;\n\tstringfreelist) ac_gc_check_string_free_list=1 ;;\n\txmallocoverrun)\tac_xmalloc_overrun=1 ;;\n\tconslist)\tac_gc_check_cons_list=1 ;;\n\tglyphs)\t\tac_glyphs_debug=1 ;;\n\t*)\tAC_MSG_ERROR(unknown check category $check) ;;\n\tesac\ndone\nIFS=\"$ac_save_IFS\"\n\nif test x$ac_enable_checking != x ; then\n  AC_DEFINE(ENABLE_CHECKING, 1,\n[Define to 1 if expensive run-time data type and consistency checks are enabled.])\nfi\nif test x$ac_gc_check_stringbytes != x ; then\n  AC_DEFINE(GC_CHECK_STRING_BYTES, 1,\n[Define this temporarily to hunt a bug.  If defined, the size of\n   strings is redundantly recorded in sdata structures so that it can\n   be compared to the sizes recorded in Lisp strings.])\nfi\nif test x$ac_gc_check_string_overrun != x ; then\n  AC_DEFINE(GC_CHECK_STRING_OVERRUN, 1,\n[Define this to check for short string overrun.])\nfi\nif test x$ac_gc_check_string_free_list != x ; then\n  AC_DEFINE(GC_CHECK_STRING_FREE_LIST, 1,\n[Define this to check the string free list.])\nfi\nif test x$ac_xmalloc_overrun != x ; then\n  AC_DEFINE(XMALLOC_OVERRUN_CHECK, 1,\n[Define this to check for malloc buffer overrun.])\nfi\nif test x$ac_gc_check_cons_list != x ; then\n  AC_DEFINE(GC_CHECK_CONS_LIST, 1,\n[Define this to check for errors in cons list.])\nfi\nif test x$ac_glyphs_debug != x ; then\n  AC_DEFINE(GLYPH_DEBUG, 1,\n[Define this to enable glyphs debugging code.])\nfi\n\nAC_ARG_ENABLE(check-lisp-object-type,\n[AS_HELP_STRING([--enable-check-lisp-object-type],\n                [enable compile time checks for the Lisp_Object data type.\n\t\tThis is useful for development for catching certain types of bugs.])],\nif test \"${enableval}\" != \"no\"; then\n   AC_DEFINE(CHECK_LISP_OBJECT_TYPE, 1,\n   [Define this to enable compile time checks for the Lisp_Object data type.])\nfi)\n\n\ndnl The name of this option is unfortunate.  It predates, and has no\ndnl relation to, the \"sampling-based elisp profiler\" added in 24.3.\ndnl Actually, it stops it working.\ndnl http://lists.gnu.org/archive/html/emacs-devel/2012-11/msg00393.html\nAC_ARG_ENABLE(profiling,\n[AS_HELP_STRING([--enable-profiling],\n\t\t[build emacs with low-level, gprof profiling support.\n                Mainly useful for debugging Emacs itself.  May not work on\n                all platforms.  Stops profiler.el working.])],\n[ac_enable_profiling=\"${enableval}\"],[])\nif test x$ac_enable_profiling != x ; then\n   PROFILING_CFLAGS=\"-DPROFILING=1 -pg\"\nelse\n   PROFILING_CFLAGS=\nfi\nAC_SUBST(PROFILING_CFLAGS)\n\nAC_ARG_ENABLE(autodepend,\n[AS_HELP_STRING([--enable-autodepend],\n\t\t[automatically generate dependencies to .h-files.\n\t\t Requires gcc, enabled if found.])],\n[ac_enable_autodepend=\"${enableval}\"],[ac_enable_autodepend=yes])\n\nAC_ARG_ENABLE(gtk-deprecation-warnings,\n[AS_HELP_STRING([--enable-gtk-deprecation-warnings],\n\t\t[Show Gtk+/Gdk deprecation warnings for Gtk+ >= 3.0])],\n[ac_enable_gtk_deprecation_warnings=\"${enableval}\"],[])\n\ndnl This used to use changequote, but, apart from 'changequote is evil'\ndnl per the autoconf manual, we can speed up autoconf somewhat by quoting\ndnl the great gob of text.  Thus it's not processed for possible expansion.\ndnl Just make sure the brackets remain balanced.\ndnl\ndnl Since Emacs can't find matching pairs of quotes, boundaries are\ndnl indicated by comments.\ndnl quotation begins\n[\n\n### If you add support for a new configuration, add code to this\n### switch statement to recognize your configuration name and select\n### the appropriate opsys.\n\n### As far as handling version numbers on operating systems is\n### concerned, make sure things will fail in a fixable way.  If\n### /etc/MACHINES doesn't say anything about version numbers, be\n### prepared to handle anything reasonably.  If version numbers\n### matter, be sure /etc/MACHINES says something about it.\n\nopsys='' unported=no\ncase \"${canonical}\" in\n\n  ## GNU/Linux and similar ports\n  *-*-linux* )\n    opsys=gnu-linux\n  ;;\n\n  ## FreeBSD ports\n  *-*-freebsd* )\n    opsys=freebsd\n  ;;\n\n  ## DragonFly ports\n  *-*-dragonfly* )\n    opsys=dragonfly\n  ;;\n\n  ## FreeBSD kernel + glibc based userland\n  *-*-kfreebsd*gnu* )\n    opsys=gnu-kfreebsd\n  ;;\n\n  ## NetBSD ports\n  *-*-netbsd* )\n    opsys=netbsd\n  ;;\n\n  ## OpenBSD ports\n  *-*-openbsd* | *-*-mirbsd* )\n    opsys=openbsd\n  ;;\n\n  ## Apple Darwin / macOS\n  *-apple-darwin* )\n    case \"${canonical}\" in\n      *-apple-darwin[0-9].*) unported=yes ;;\n      i[3456]86-* | x86_64-* )  ;;\n      * )            unported=yes ;;\n    esac\n    opsys=darwin\n    ## Use fink packages if available.\n    ## FIXME find a better way to do this: http://debbugs.gnu.org/11507\n##    if test -d /sw/include && test -d /sw/lib; then\n##      GCC_TEST_OPTIONS=\"-I/sw/include -L/sw/lib\"\n##      NON_GCC_TEST_OPTIONS=${GCC_TEST_OPTIONS}\n##    fi\n  ;;\n\n  ## Chromium Native Client\n  *-nacl )\n    opsys=nacl\n  ;;\n\n  ## Cygwin ports\n  *-*-cygwin )\n    opsys=cygwin\n  ;;\n\n  ## HP 9000 series 700 and 800, running HP/UX\n  hppa*-hp-hpux10.2* )\n    opsys=hpux10-20\n  ;;\n  hppa*-hp-hpux1[1-9]* )\n    opsys=hpux11\n    CFLAGS=\"-D_INCLUDE__STDC_A1_SOURCE $CFLAGS\"\n  ;;\n\n  ## IBM machines\n  rs6000-ibm-aix4.[23]* )\n    opsys=aix4-2\n  ;;\n  powerpc-ibm-aix4.[23]*  )\n    opsys=aix4-2\n  ;;\n  rs6000-ibm-aix[56]* )\n    opsys=aix4-2\n  ;;\n  powerpc-ibm-aix[5-9]* | powerpc-ibm-aix[1-9][0-9]* )\n    opsys=aix4-2\n  ;;\n\n  ## Silicon Graphics machines\n  ## Iris 4D\n  mips-sgi-irix6.5 )\n    opsys=irix6-5\n    # Without defining _LANGUAGE_C, things get masked out in the headers\n    # so that, for instance, grepping for 'free' in stdlib.h fails and\n    # AC_HEADER_STD_C fails.   (MIPSPro 7.2.1.2m compilers, Irix 6.5.3m).\n    NON_GCC_TEST_OPTIONS=\"-D_LANGUAGE_C\"\n  ;;\n\n  ## Suns\n  *-sun-solaris* \\\n    | i[3456]86-*-solaris2* | i[3456]86-*-sunos5* \\\n    | x86_64-*-solaris2*    | x86_64-*-sunos5*)\n    case \"${canonical}\" in\n      i[3456]86-*-* )   ;;\n      amd64-*-*|x86_64-*-*) ;;\n      sparc* )\t\t;;\n      * )\t\tunported=yes ;;\n    esac\n    case \"${canonical}\" in\n      *-sunos5.[1-9][0-9]* | *-solaris2.[1-9][0-9]* )\n\t\topsys=sol2-10\n\t\temacs_check_sunpro_c=yes\n\t\t;;\n      *-sunos5.[1-5]* | *-solaris2.[1-5]* ) unported=yes ;;\n      ## Note that Emacs 23.1's NEWS said the following would be dropped.\n      *-sunos5.6* | *-solaris2.6* )\n\t\topsys=sol2-6\n\t\tRANLIB=\"ar -ts\"\n\t\t;;\n      ## 5.7 EOL Aug 2008, 5.8 EOL Mar 2012.\n      *-sunos5.[7-9]* | *-solaris2.[7-9]* )\n\t\topsys=sol2-6\n\t\temacs_check_sunpro_c=yes\n\t\t;;\n    esac\n    ## Watch out for a compiler that we know will not work.\n    case \"${canonical}\" in\n     *-solaris* | *-sunos5* )\n\t\tif [ \"x$CC\" = x/usr/ucb/cc ]; then\n\t\t  ## /usr/ucb/cc doesn't work;\n\t\t  ## we should find some other compiler that does work.\n\t\t  unset CC\n\t\tfi\n\t\t;;\n      *) ;;\n    esac\n  ;;\n\n  ## Intel 386 machines where we don't care about the manufacturer.\n  i[3456]86-*-* )\n    case \"${canonical}\" in\n      *-darwin* )               opsys=darwin ;;\n      *-mingw* )\n\t\topsys=mingw32\n\t\t# MinGW overrides and adds some system headers in nt/inc.\n\t\tGCC_TEST_OPTIONS=\"-I $srcdir/nt/inc\"\n\t\t;;\n      *-sysv4.2uw* )\t\topsys=unixware ;;\n      *-sysv5uw* )\t\topsys=unixware ;;\n      *-sysv5OpenUNIX* )\topsys=unixware ;;\n      ## Otherwise, we'll fall through to the generic opsys code at the bottom.\n    esac\n  ;;\n\n  # MinGW64\n  x86_64-*-* )\n    case \"${canonical}\" in\n      *-mingw* )\n\t\topsys=mingw32\n\t\t# MinGW overrides and adds some system headers in nt/inc.\n\t\tGCC_TEST_OPTIONS=\"-I $srcdir/nt/inc\"\n\t\t;;\n      ## Otherwise, we'll fall through to the generic opsys code at the bottom.\n    esac\n  ;;\n\n  * )\n    unported=yes\n  ;;\nesac\n\n### If the code above didn't choose an operating system, just choose\n### an operating system based on the configuration name.  You really\n### only want to use this when you have no idea what the right\n### operating system is; if you know what operating systems a machine\n### runs, it's cleaner to make it explicit in the case statement\n### above.\nif test x\"${opsys}\" = x; then\n  case \"${canonical}\" in\n    *-gnu* )\t\t\t\topsys=gnu ;;\n    * )\n      unported=yes\n    ;;\n  esac\nfi\n\n]\ndnl quotation ends\n\nif test $unported = yes; then\n  AC_MSG_ERROR([Emacs does not support '${canonical}' systems.\nIf you think it should, please send a report to ${PACKAGE_BUGREPORT}.\nCheck 'etc/MACHINES' for recognized configuration names.])\nfi\n\n#### Choose a compiler.\n\ndnl Don't bother to test for C89.\nAC_DEFUN([_AC_PROG_CC_C89], [$2])\n\ndnl Sets GCC=yes if using gcc.\nAC_PROG_CC([gcc cc cl clang \"$XCRUN gcc\" \"$XCRUN clang\"])\nif test -n \"$XCRUN\"; then\n  AC_CHECK_PROGS(AR, [ar \"$XCRUN ar\"])\n  test -n \"$AR\" && export AR\nfi\n\ndnl Emacs needs C99 or later.\ngl_PROG_CC_C99\n\nAM_PROG_CC_C_O\n\nif test x$GCC = xyes; then\n  test \"x$GCC_TEST_OPTIONS\" != x && CC=\"$CC $GCC_TEST_OPTIONS\"\nelse\n  test \"x$NON_GCC_TEST_OPTIONS\" != x && CC=\"$CC $NON_GCC_TEST_OPTIONS\"\nfi\n\ndnl This is used in lib/Makefile.am to use nt/gnulib.mk, the\ndnl alternative to lib/gnulib.mk, so as to avoid generating header files\ndnl that clash with MinGW.\nAM_CONDITIONAL([BUILDING_FOR_WINDOWSNT], [test \"x$opsys\" = \"xmingw32\"])\n\n# Avoid gnulib's tests for -lcrypto, so that there's no static dependency on it.\nAC_DEFUN([gl_CRYPTO_CHECK])\n# Avoid gnulib's tests for HAVE_WORKING_O_NOATIME and HAVE_WORKING_O_NOFOLLOW,\n# as we don't use them.\nAC_DEFUN([gl_FCNTL_O_FLAGS])\n# Avoid gnulib's test for pthread_sigmask.\nfuncs=\nfor func in $ac_func_list; do\n  test $func = pthread_sigmask || AS_VAR_APPEND([funcs], [\" $func\"])\ndone\nac_func_list=$funcs\n# Use the system putenv even if it lacks GNU features, as we don't need them,\n# and the gnulib replacement runs afoul of a FreeBSD 10.1 bug; see Bug#19874.\nAC_CHECK_FUNCS_ONCE([putenv])\nAC_DEFUN([gl_FUNC_PUTENV],\n  [test \"$ac_cv_func_putenv\" = yes || REPLACE_PUTENV=1])\n\n# Initialize gnulib right after choosing the compiler.\ndnl Amongst other things, this sets AR and ARFLAGS.\ngl_EARLY\n\nif test \"$ac_test_CFLAGS\" != set; then\n  # It's helpful to have C macros available to GDB, so prefer -g3 to -g\n  # if -g3 works and the user does not specify CFLAGS.\n  # This test must follow gl_EARLY; otherwise AC_LINK_IFELSE complains.\n  case $CFLAGS in\n    '-g')\n      emacs_g3_CFLAGS='-g3';;\n    '-g -O2')\n      emacs_g3_CFLAGS='-g3 -O2';;\n    *)\n      emacs_g3_CFLAGS='';;\n  esac\n  if test -n \"$emacs_g3_CFLAGS\"; then\n    emacs_save_CFLAGS=$CFLAGS\n    CFLAGS=$emacs_g3_CFLAGS\n    AC_CACHE_CHECK([whether $CC accepts $emacs_g3_CFLAGS],\n      [emacs_cv_prog_cc_g3],\n      [AC_LINK_IFELSE([AC_LANG_PROGRAM()],\n\t [emacs_cv_prog_cc_g3=yes],\n\t [emacs_cv_prog_cc_g3=no])])\n    if test $emacs_cv_prog_cc_g3 != yes; then\n      CFLAGS=$emacs_save_CFLAGS\n    fi\n    if test $opsys = mingw32; then\n      CFLAGS=\"$CFLAGS -gdwarf-2\"\n    fi\n  fi\n\n  case $CFLAGS in\n    *-O*) ;;\n    *)\n      # No optimization flag was inferred for this non-GCC compiler.\n      # Try -O.  This is needed for xlc on AIX; see Bug#14258.\n      emacs_save_CFLAGS=$CFLAGS\n      test -z \"$CFLAGS\" || CFLAGS=\"$CFLAGS \"\n      CFLAGS=${CFLAGS}-O\n      AC_CACHE_CHECK([whether $CC accepts -O],\n        [emacs_cv_prog_cc_o],\n\t[AC_LINK_IFELSE([AC_LANG_PROGRAM()],\n\t   [emacs_cv_prog_cc_o=yes],\n\t   [emacs_cv_prog_cc_o=no])])\n      if test $emacs_cv_prog_cc_o != yes; then\n\tCFLAGS=$emacs_save_CFLAGS\n      fi ;;\n  esac\nfi\n\nAC_ARG_ENABLE([gcc-warnings],\n  [AS_HELP_STRING([--enable-gcc-warnings],\n                  [turn on lots of GCC warnings/errors. This is intended for\n\t\t   developers, and may generate false alarms when used\n\t\t   with older or non-GNU development tools.])],\n  [case $enableval in\n     yes|no) ;;\n     *)      AC_MSG_ERROR([bad value $enableval for gcc-warnings option]) ;;\n   esac\n   gl_gcc_warnings=$enableval],\n  [gl_gcc_warnings=no]\n)\n\n# clang is unduly picky about some things.\nAC_CACHE_CHECK([whether the compiler is clang], [emacs_cv_clang],\n  [AC_COMPILE_IFELSE(\n     [AC_LANG_PROGRAM([[\n\t  #ifndef __clang__\n\t    error \"not clang\";\n\t  #endif\n        ]])],\n     [emacs_cv_clang=yes],\n     [emacs_cv_clang=no])])\n\n# When compiling with GCC, prefer -isystem to -I when including system\n# include files, to avoid generating useless diagnostics for the files.\nAS_IF([test \"$gl_gcc_warnings\" != yes],\n [\n  isystem='-I'\n  AS_IF([test \"$emacs_cv_clang\" = yes],\n   [\n     # Turn off some warnings if supported.\n     gl_WARN_ADD([-Wno-switch])\n     gl_WARN_ADD([-Wno-tautological-constant-out-of-range-compare])\n     gl_WARN_ADD([-Wno-pointer-sign])\n     gl_WARN_ADD([-Wno-string-plus-int])\n     gl_WARN_ADD([-Wno-unknown-attributes])\n   ])\n ],[\n  isystem='-isystem '\n\n  # This, $nw, is the list of warnings we disable.\n  nw=\n\n  case $with_x_toolkit in\n    lucid | athena | motif)\n       # Old toolkits mishandle 'const'.\n       nw=\"$nw -Wwrite-strings\"\n       ;;\n  esac\n  AS_IF([test -z \"$nw\"],\n    [gl_WARN_ADD([-Werror], [WERROR_CFLAGS])])\n  AC_SUBST([WERROR_CFLAGS])\n\n  nw=\"$nw -Wsystem-headers\"         # Don't let system headers trigger warnings\n  nw=\"$nw -Woverlength-strings\"     # Not a problem these days\n  nw=\"$nw -Wformat-nonliteral\"      # we do this a lot\n  nw=\"$nw -Wvla\"                    # Emacs uses <vla.h>.\n  nw=\"$nw -Wswitch-default\"         # Too many warnings for now\n  nw=\"$nw -Winline\"                 # OK to ignore 'inline'\n  nw=\"$nw -Wjump-misses-init\"       # We sometimes safely jump over init.\n  nw=\"$nw -Wstrict-overflow\"        # OK to optimize assuming that\n                                    # signed overflow has undefined behavior\n  nw=\"$nw -Wsync-nand\"              # irrelevant here, and provokes ObjC warning\n  nw=\"$nw -Wunsafe-loop-optimizations\" # OK to suppress unsafe optimizations\n  nw=\"$nw -Wbad-function-cast\"      # These casts are no worse than others.\n\n  # Emacs doesn't care about shadowing; see\n  # <http://lists.gnu.org/archive/html/emacs-diffs/2011-11/msg00265.html>.\n  nw=\"$nw -Wshadow\"\n\n  # Emacs's use of alloca inhibits protecting the stack.\n  nw=\"$nw -Wstack-protector\"\n\n  # Emacs's use of partly-const functions such as Fgnutls_available_p\n  # make this option problematic.\n  nw=\"$nw -Wsuggest-attribute=const\"\n\n  # Emacs's use of partly-pure functions such as CHECK_TYPE make this\n  # option problematic.\n  nw=\"$nw -Wsuggest-attribute=pure\"\n\n  # This part is merely for shortening the command line,\n  # since -Wall implies -Wswitch.\n  nw=\"$nw -Wswitch\"\n\n  # This part is merely for shortening the command line,\n  # since -Wno-FOO needs to be added below regardless.\n  nw=\"$nw -Wmissing-field-initializers\"\n  nw=\"$nw -Wtype-limits\"\n  nw=\"$nw -Wunused-parameter\"\n\n  if test $emacs_cv_clang = yes; then\n    nw=\"$nw -Wcast-align\"\n  fi\n\n  gl_MANYWARN_ALL_GCC([ws])\n  gl_MANYWARN_COMPLEMENT([ws], [$ws], [$nw])\n  for w in $ws; do\n    gl_WARN_ADD([$w])\n  done\n  gl_WARN_ADD([-Wredundant-decls])     # Prefer this, as we don't use Bison.\n  gl_WARN_ADD([-Wno-missing-field-initializers]) # We need this one\n  gl_WARN_ADD([-Wno-sign-compare])     # Too many warnings for now\n  gl_WARN_ADD([-Wno-type-limits])      # Too many warnings for now\n  gl_WARN_ADD([-Wno-unused-parameter]) # Too many warnings for now\n  gl_WARN_ADD([-Wno-format-nonliteral])\n\n  # More things that clang is unduly picky about.\n  if test $emacs_cv_clang = yes; then\n    gl_WARN_ADD([-Wno-format-extra-args])\n    gl_WARN_ADD([-Wno-tautological-constant-out-of-range-compare])\n    gl_WARN_ADD([-Wno-unused-command-line-argument])\n    gl_WARN_ADD([-Wno-unused-value])\n  fi\n\n  AC_DEFINE([lint], [1], [Define to 1 if the compiler is checking for lint.])\n  AC_DEFINE([GNULIB_PORTCHECK], [1], [enable some gnulib portability checks])\n  AH_VERBATIM([GNULIB_PORTCHECK_FORTIFY_SOURCE],\n  [/* Enable compile-time and run-time bounds-checking, and some warnings,\n      without upsetting glibc 2.15+. */\n   #if (defined GNULIB_PORTCHECK && !defined _FORTIFY_SOURCE \\\n        && defined __OPTIMIZE__ && __OPTIMIZE__)\n   # define _FORTIFY_SOURCE 2\n   #endif\n  ])\n\n  # We use a slightly smaller set of warning options for lib/.\n  # Remove the following and save the result in GNULIB_WARN_CFLAGS.\n  nw=\n  nw=\"$nw -Wunused-macros\"\n\n  gl_MANYWARN_COMPLEMENT([GNULIB_WARN_CFLAGS], [$WARN_CFLAGS], [$nw])\n  AC_SUBST([GNULIB_WARN_CFLAGS])\n ])\n\nedit_cflags=\"\n  s,///*,/,g\n  s/^/ /\n  s/ -I/ $isystem/g\n  s/^ //\n\"\n\nAC_ARG_ENABLE(link-time-optimization,\n[AS_HELP_STRING([--enable-link-time-optimization],\n                [build emacs with link-time optimization.\n\t\t This requires GCC 4.5.0 or later, or clang.\n\t\t (Note that clang support is experimental - see INSTALL.)\n\t\t It also makes Emacs harder to debug, and when we tried it\n\t\t with GCC 4.9.0 x86-64 it made Emacs slower, so it's not\n\t\t recommended for typical use.])],\nif test \"${enableval}\" != \"no\"; then\n   ac_lto_supported=no\n   if test $emacs_cv_clang = yes; then\n      AC_MSG_CHECKING([whether link-time optimization is supported by clang])\n      GOLD_PLUGIN=`$CC -print-file-name=LLVMgold.so 2>/dev/null`\n      if test -x \"$GOLD_PLUGIN\"; then\n\t LTO=\"-flto\"\n      fi\n   elif test x$GCC = xyes; then\n      AC_MSG_CHECKING([whether link-time optimization is supported by gcc])\n      CPUS=`getconf _NPROCESSORS_ONLN 2>/dev/null`\n      if test x$CPUS != x; then\n\t LTO=\"-flto=$CPUS\"\n      else\n\t LTO=\"-flto\"\n      fi\n   else\n      AC_MSG_ERROR([Link-time optimization is not supported with your compiler.])\n   fi\n   if test -z \"$LTO\"; then\n      ac_lto_supported=no\n   else\n      old_CFLAGS=$CFLAGS\n      CFLAGS=\"$CFLAGS $LTO\"\n      AC_COMPILE_IFELSE([AC_LANG_PROGRAM([[]], [[]])],\n         [ac_lto_supported=yes], [ac_lto_supported=no])\n         CFLAGS=\"$old_CFLAGS\"\n   fi\n   AC_MSG_RESULT([$ac_lto_supported])\n   if test \"$ac_lto_supported\" = \"yes\"; then\n      CFLAGS=\"$CFLAGS $LTO\"\n      if test x$emacs_cv_clang = xyes; then\n\t AC_MSG_WARN([Please read INSTALL before using link-time optimization with clang])\n\t # WARNING: 'ar --plugin ...' doesn't work without\n\t # command, so plugin name is appended to ARFLAGS.\n\t ARFLAGS=\"cru --plugin $GOLD_PLUGIN\"\n\t RANLIB=\"$RANLIB --plugin $GOLD_PLUGIN\"\n      else\n        dnl The following is needed for GCC 4.9.0.  The GCC 4.9.0 release notes\n        dnl suggest that instead of -ffat-lto-objects we should use gcc-ar and\n        dnl gcc-ranlib in place of ar and ranlib, but gcc-ar makes /usr/bin/ar\n        dnl dump core on Fedora 20, so play it safe for now.\n        gl_COMPILER_OPTION_IF([-ffat-lto-objects],\n          [CFLAGS=\"$CFLAGS -ffat-lto-objects\"])\n      fi\n   fi\nfi)\n\ndnl Prefer silent make output.  For verbose output, use\ndnl 'configure --disable-silent-rules' or 'make V=1' .\nAM_SILENT_RULES([yes])\ndnl Port to Automake 1.11.\ndnl This section can be removed once we assume Automake 1.14 or later.\n: ${AM_V=$AM_DEFAULT_VERBOSITY}\n: ${AM_DEFAULT_V=$AM_DEFAULT_VERBOSITY}\nAC_SUBST([AM_V])\nAM_SUBST_NOTMAKE([AM_V])\nAC_SUBST([AM_DEFAULT_V])\nAM_SUBST_NOTMAKE([AM_DEFAULT_V])\nAC_SUBST([AM_DEFAULT_VERBOSITY])\n\ndnl Some other nice autoconf tests.\ndnl These are commented out, since gl_EARLY and/or Autoconf already does them.\ndnl AC_PROG_INSTALL\ndnl AC_PROG_MKDIR_P\ndnl if test \"x$RANLIB\" = x; then\ndnl   AC_PROG_RANLIB\ndnl fi\n\n\ndnl Sadly, AC_PROG_LN_S is too restrictive.  It also tests whether links\ndnl can be made to directories.  This is not relevant for our usage, and\ndnl excludes some cases that work fine for us.  Eg MS Windows or files\ndnl hosted on AFS, both examples where simple links work, but links to\ndnl directories fail.  We use a cut-down version instead.\ndnl AC_PROG_LN_S\n\nAC_MSG_CHECKING([whether ln -s works for files in the same directory])\nrm -f conf$$ conf$$.file\n\nLN_S_FILEONLY='cp -p'\n\ndnl On MinGW, ensure we will call the MSYS /bin/ln.exe, not some\ndnl random program in the current directory.\nif (echo >conf$$.file) 2>/dev/null; then\n  if ln -s conf$$.file conf$$ 2>/dev/null; then\n    if test \"$opsys\" = \"mingw32\"; then\n      LN_S_FILEONLY='/bin/ln -s'\n    else\n      LN_S_FILEONLY='ln -s'\n    fi\n  elif ln conf$$.file conf$$ 2>/dev/null; then\n    if test \"$opsys\" = \"mingw32\"; then\n      LN_S_FILEONLY=/bin/ln\n    else\n      LN_S_FILEONLY=ln\n    fi\n  fi\nfi\n\nrm -f conf$$ conf$$.file\n\nif test \"$LN_S_FILEONLY\" = \"ln -s\"; then\n   AC_MSG_RESULT([yes])\nelse\n   AC_MSG_RESULT([no, using $LN_S_FILEONLY])\nfi\n\nAC_SUBST(LN_S_FILEONLY)\n\n\ndnl AC_PROG_LN_S sets LN_S to 'cp -pR' for MinGW, on the premise that 'ln'\ndnl doesn't support links to directories, as in \"ln file dir\".  But that\ndnl use is non-portable, and OTOH MinGW wants to use hard links for Emacs\ndnl executables at \"make install\" time.\ndnl See http://lists.gnu.org/archive/html/emacs-devel/2013-04/msg00475.html\ndnl for more details.\nif test \"$opsys\" = \"mingw32\"; then\n  LN_S=\"/bin/ln\"\nfi\n\ndnl On some Debian versions, \"install-info\" prints irritating messages\ndnl \"This is not dpkg install-info anymore, but GNU install-info\"\ndnl if called via an absolute file name.\ndnl Use the entirely-identical-but-quieter ginstall-info instead if present.\ndnl Sadly some people may have an old ginstall-info installed on\ndnl non-Debian systems, so we can't use this.\ndnl AC_PATH_PROGS(INSTALL_INFO, [ginstall-info install-info], :,\ndnl   $PATH$PATH_SEPARATOR/usr/sbin$PATH_SEPARATOR/sbin)\n\nAC_PATH_PROG(INSTALL_INFO, install-info, :,\n  $PATH$PATH_SEPARATOR/usr/sbin$PATH_SEPARATOR/sbin)\ndnl Don't use GZIP, which is used by gzip for additional parameters.\nAC_PATH_PROG(GZIP_PROG, gzip)\n\ntest $with_compress_install != yes && test -n \"$GZIP_PROG\" && \\\n   GZIP_PROG=\" # $GZIP_PROG # (disabled by configure --without-compress-install)\"\n\nPAXCTL_dumped=\nPAXCTL_notdumped=\nif test $opsys = gnu-linux; then\n  if test \"${SETFATTR+set}\" != set; then\n    AC_CACHE_CHECK([for setfattr],\n      [emacs_cv_prog_setfattr],\n      [touch conftest.tmp\n       if (setfattr -n user.pax.flags conftest.tmp) >/dev/null 2>&1; then\n\t emacs_cv_prog_setfattr=yes\n       else\n\t emacs_cv_prog_setfattr=no\n       fi])\n    if test \"$emacs_cv_prog_setfattr\" = yes; then\n      PAXCTL_notdumped='$(SETFATTR) -n user.pax.flags -v er'\n      SETFATTR=setfattr\n    else\n      SETFATTR=\n    fi\n    rm -f conftest.tmp\n    AC_SUBST([SETFATTR])\n  fi\nfi\ncase $opsys,$PAXCTL_notdumped in\n  gnu-linux, | netbsd,)\n    AC_PATH_PROG([PAXCTL], [paxctl], [],\n      [$PATH$PATH_SEPARATOR/sbin$PATH_SEPARATOR/usr/sbin])\n    if test -n \"$PAXCTL\"; then\n      if test \"$opsys\" = netbsd; then\n\tPAXCTL_dumped='$(PAXCTL) +a'\n\tPAXCTL_notdumped=$PAXCTL_dumped\n      else\n\tAC_MSG_CHECKING([whether binaries have a PT_PAX_FLAGS header])\n\tAC_LINK_IFELSE([AC_LANG_PROGRAM([], [])],\n\t  [if $PAXCTL -v conftest$EXEEXT >/dev/null 2>&1; then\n\t     AC_MSG_RESULT([yes])\n\t   else\n\t     AC_MSG_RESULT([no])\n\t     PAXCTL=\n\t   fi])\n\tif test -n \"$PAXCTL\"; then\n\t  PAXCTL_dumped='$(PAXCTL) -zex'\n\t  PAXCTL_notdumped='$(PAXCTL) -r'\n\tfi\n      fi\n    fi;;\nesac\nAC_SUBST([PAXCTL_dumped])\nAC_SUBST([PAXCTL_notdumped])\n\n## Require makeinfo >= 4.13 (last of the 4.x series) to build the manuals.\nif test \"$MAKEINFO\" != \"no\"; then\n  if test \"$MAKEINFO\" = \"${am_missing_run}makeinfo\"; then\n    MAKEINFO=makeinfo\n  fi\n  case `($MAKEINFO --version) 2>/dev/null` in\n    *' (GNU texinfo) '4.1[[3-9]]* | \\\n    *' (GNU texinfo) '[[5-9]]* | \\\n    *' (GNU texinfo) '[[1-9][0-9]]* ) ;;\n    *) MAKEINFO=no;;\n  esac\nfi\n\n## Makeinfo is unusual.  For a released Emacs, the manuals are\n## pre-built, and not deleted by the normal clean rules.  makeinfo is\n## therefore in the category of \"special tools\" not normally required, which\n## configure does not have to check for (eg autoconf itself).\n## In a repository checkout on the other hand, the manuals are not included.\n## So makeinfo is a requirement to build from the repository, and configure\n## should test for it as it does for any other build requirement.\n## We use the presence of $srcdir/info/emacs to distinguish a release,\n## with pre-built manuals, from a repository checkout.\nHAVE_MAKEINFO=yes\n\nif test \"$MAKEINFO\" = \"no\"; then\n  MAKEINFO=makeinfo\n  if test \"x${with_makeinfo}\" = \"xno\"; then\n    HAVE_MAKEINFO=no\n  elif test ! -e \"$srcdir/info/emacs\" && test ! -e \"$srcdir/info/emacs.info\"; then\n    AC_MSG_ERROR( [You do not seem to have makeinfo >= 4.13, and your\nsource tree does not seem to have pre-built manuals in the 'info' directory.\nEither install a suitable version of makeinfo, or re-run configure\nwith the '--without-makeinfo' option to build without the manuals.] )\n  fi\nfi\nAC_SUBST(HAVE_MAKEINFO)\n\nif test $opsys = mingw32; then\n   DOCMISC_W32=efaq-w32\nelse\n   DOCMISC_W32=\nfi\nAC_SUBST(DOCMISC_W32)\n\ndnl Add our options to ac_link now, after it is set up.\n\nif test x$GCC = xyes; then\n  test \"x$GCC_LINK_TEST_OPTIONS\" != x && \\\n    ac_link=\"$ac_link $GCC_LINK_TEST_OPTIONS\"\nelse\n  test \"x$NON_GCC_LINK_TEST_OPTIONS\" != x && \\\n    ac_link=\"$ac_link $NON_GCC_LINK_TEST_OPTIONS\"\nfi\n\ndnl We need -znocombreloc if we're using a relatively recent GNU ld.\ndnl If we can link with the flag, it shouldn't do any harm anyhow.\ndnl (Don't use '-z nocombreloc' as -z takes no arg on Irix.)\ndnl Treat GCC specially since it just gives a non-fatal 'unrecognized option'\ndnl if not built to support GNU ld.\n\ndnl For a long time, -znocombreloc was added to LDFLAGS rather than\ndnl LD_SWITCH_SYSTEM_TEMACS.  That is:\ndnl * inappropriate, as LDFLAGS is a user option but this is essential.\ndnl   Eg \"make LDFLAGS=... all\" could run into problems,\ndnl   http://bugs.debian.org/684788\ndnl * unnecessary, since temacs is the only thing that actually needs it.\ndnl   Indeed this is where it was originally, prior to:\ndnl   http://lists.gnu.org/archive/html/emacs-pretest-bug/2004-03/msg00170.html\nlate_LDFLAGS=\"$LDFLAGS\"\nif test x$GCC = xyes; then\n  LDFLAGS_NOCOMBRELOC=\"-Wl,-znocombreloc\"\nelse\n  LDFLAGS_NOCOMBRELOC=\"-znocombreloc\"\nfi\n\nLDFLAGS=\"$LDFLAGS $LDFLAGS_NOCOMBRELOC\"\n\nAC_MSG_CHECKING([for -znocombreloc])\nAC_LINK_IFELSE([AC_LANG_PROGRAM([], [])],\n  [AC_MSG_RESULT(yes)],\n  LDFLAGS_NOCOMBRELOC=\n  [AC_MSG_RESULT(no)])\n\nLDFLAGS=\"$late_LDFLAGS\"\n\nAC_CACHE_CHECK([whether addresses are sanitized],\n  [emacs_cv_sanitize_address],\n  [AC_COMPILE_IFELSE(\n     [AC_LANG_PROGRAM(\n\t[[#ifndef __has_feature\n\t  #define __has_feature(f) 0\n\t  #endif\n\t  #if defined __SANITIZE_ADDRESS__ || __has_feature (address_sanitizer)\n\t  #else\n\t   error \"Addresses are not sanitized.\";\n\t  #endif\n\t]])],\n     [emacs_cv_sanitize_address=yes],\n     [emacs_cv_sanitize_address=no])])\n\ndnl The function dump-emacs will not be defined and temacs will do\ndnl (load \"loadup\") automatically unless told otherwise.\ntest \"x$CANNOT_DUMP\" = \"x\" && CANNOT_DUMP=no\ncase \"$opsys\" in\n  nacl) CANNOT_DUMP=yes ;;\nesac\n\nif test \"$CANNOT_DUMP\" = \"yes\"; then\n  AC_DEFINE(CANNOT_DUMP, 1, [Define if Emacs cannot be dumped on your system.])\nelif test \"$emacs_cv_sanitize_address\" = yes; then\n  AC_MSG_WARN([[Addresses are sanitized; suggest CANNOT_DUMP=yes]])\nfi\n\nAC_SUBST(CANNOT_DUMP)\n\n\nUNEXEC_OBJ=unexelf.o\ncase \"$opsys\" in\n  # MSDOS uses unexcoff.o\n  aix4-2)\n   UNEXEC_OBJ=unexaix.o\n   ;;\n  cygwin)\n   UNEXEC_OBJ=unexcw.o\n   ;;\n  darwin)\n   UNEXEC_OBJ=unexmacosx.o\n   ;;\n  hpux10-20 | hpux11)\n   UNEXEC_OBJ=unexhp9k800.o\n   ;;\n  mingw32)\n   UNEXEC_OBJ=unexw32.o\n   ;;\n  sol2-10)\n   # Use the Solaris dldump() function, called from unexsol.c, to dump\n   # emacs, instead of the generic ELF dump code found in unexelf.c.\n   # The resulting binary has a complete symbol table, and is better\n   # for debugging and other observability tools (debuggers, pstack, etc).\n   #\n   # If you encounter a problem using dldump(), please consider sending\n   # a message to the OpenSolaris tools-linking mailing list:\n   #      http://mail.opensolaris.org/mailman/listinfo/tools-linking\n   #\n   # It is likely that dldump() works with older Solaris too, but this has\n   # not been tested, so for now this change is for Solaris 10 or newer.\n   UNEXEC_OBJ=unexsol.o\n   ;;\nesac\n\nLD_SWITCH_SYSTEM=\ncase \"$opsys\" in\n  freebsd|dragonfly)\n   ## Let 'ld' find image libs and similar things in /usr/local/lib.\n   ## The system compiler, GCC, has apparently been modified to not\n   ## look there, contrary to what a stock GCC would do.\n### It's not our place to do this.  See bug#10313#17.\n###   LD_SWITCH_SYSTEM=-L/usr/local/lib\n      :\n   ;;\n\n  gnu-linux)\n   ## cpp test was \"ifdef __mips__\", but presumably this is equivalent...\n   case $host_cpu in mips*) LD_SWITCH_SYSTEM=\"-G 0\";; esac\n   ;;\n\n  netbsd)\n### It's not our place to do this.  See bug#10313#17.\n###   LD_SWITCH_SYSTEM=\"-Wl,-rpath,/usr/pkg/lib -L/usr/pkg/lib -Wl,-rpath,/usr/local/lib -L/usr/local/lib\"\n      :\n   ;;\n\n  openbsd)\n   ## Han Boetes <han@boetes.org> says this is necessary,\n   ## otherwise Emacs dumps core on elf systems.\n   LD_SWITCH_SYSTEM=\"-Z\"\n   ;;\nesac\nAC_SUBST(LD_SWITCH_SYSTEM)\n\nac_link=\"$ac_link $LD_SWITCH_SYSTEM\"\n\n## This setting of LD_SWITCH_SYSTEM references LD_SWITCH_X_SITE_RPATH,\n## which has not been defined yet.  When this was handled with cpp,\n## it was expanded to null when configure sourced the s/*.h file.\n## Thus LD_SWITCH_SYSTEM had different values in configure and the Makefiles.\n## FIXME it would be cleaner to put this in LD_SWITCH_SYSTEM_TEMACS\n## (or somesuch), but because it is supposed to go at the _front_\n## of LD_SWITCH_SYSTEM, we cannot do that in exactly the same way.\n## Compare with the gnu-linux case below, which added to the end\n## of LD_SWITCH_SYSTEM, and so can instead go at the front of\n## LD_SWITCH_SYSTEM_TEMACS.\ncase \"$opsys\" in\n  netbsd|openbsd)\n   LD_SWITCH_SYSTEM=\"\\$(LD_SWITCH_X_SITE_RPATH) $LD_SWITCH_SYSTEM\" ;;\nesac\n\n\nC_SWITCH_MACHINE=\ncase $canonical in\n alpha*)\n  AC_CHECK_DECL([__ELF__])\n  if test \"$ac_cv_have_decl___ELF__\" = \"yes\"; then\n    ## With ELF, make sure that all common symbols get allocated to in the\n    ## data section.  Otherwise, the dump of temacs may miss variables in\n    ## the shared library that have been initialized.  For example, with\n    ## GNU libc, __malloc_initialized would normally be resolved to the\n    ## shared library's .bss section, which is fatal.\n    if test \"x$GCC\" = \"xyes\"; then\n      C_SWITCH_MACHINE=\"-fno-common\"\n    else\n      AC_MSG_ERROR([Non-GCC compilers are not supported.])\n    fi\n  else\n      dnl This was the unexalpha.c case.  Removed in 24.1, 2010-07-24,\n      dnl albeit under the mistaken assumption that said file\n      dnl was no longer used.\n      AC_MSG_ERROR([Non-ELF systems are not supported since Emacs 24.1.])\n  fi\n  ;;\nesac\nAC_SUBST(C_SWITCH_MACHINE)\n\nAC_SUBST(UNEXEC_OBJ)\n\nC_SWITCH_SYSTEM=\n## Some programs in src produce warnings saying certain subprograms\n## are too complex and need a MAXMEM value greater than 2000 for\n## additional optimization.  --nils@exp-math.uni-essen.de\ntest \"$opsys\" = \"aix4.2\" && test \"x$GCC\" != \"xyes\" && \\\n  C_SWITCH_SYSTEM=\"-ma -qmaxmem=4000\"\nif test \"$opsys\" = \"mingw32\"; then\n  case \"$canonical\" in\n    x86_64-*-mingw*) C_SWITCH_SYSTEM=\"-mtune=generic\" ;;\n    *) C_SWITCH_SYSTEM=\"-mtune=pentium4\" ;;\n  esac\nfi\n## gnu-linux might need -D_BSD_SOURCE on old libc5 systems.\n## It is redundant in glibc2, since we define _GNU_SOURCE.\nAC_SUBST(C_SWITCH_SYSTEM)\n\n\nLIBS_SYSTEM=\ncase \"$opsys\" in\n  ## IBM's X11R5 uses -lIM and -liconv in AIX 3.2.2.\n  aix4-2) LIBS_SYSTEM=\"-lrts -lIM -liconv\" ;;\n\n  freebsd|dragonfly) LIBS_SYSTEM=\"-lutil\" ;;\n\n  hpux*) LIBS_SYSTEM=\"-l:libdld.sl\" ;;\n\n  sol2*) LIBS_SYSTEM=\"-lsocket -lnsl\" ;;\n\n  ## Motif needs -lgen.\n  unixware) LIBS_SYSTEM=\"-lsocket -lnsl -lelf -lgen\" ;;\nesac\n\nAC_SUBST(LIBS_SYSTEM)\n\n### Make sure subsequent tests use flags consistent with the build flags.\n\nif test x\"${OVERRIDE_CPPFLAGS}\" != x; then\n  CPPFLAGS=\"${OVERRIDE_CPPFLAGS}\"\nelse\n  CPPFLAGS=\"$C_SWITCH_SYSTEM $C_SWITCH_MACHINE $CPPFLAGS\"\nfi\n\n# Suppress obsolescent Autoconf test for size_t; Emacs assumes C99 or better.\nAC_DEFUN([AC_TYPE_SIZE_T])\n# Likewise for obsolescent test for uid_t, gid_t; Emacs assumes them.\nAC_DEFUN([AC_TYPE_UID_T])\n\n# sqrt and other floating-point functions such as fmod and frexp\n# are found in -lm on many systems.\nOLD_LIBS=$LIBS\nAC_SEARCH_LIBS([sqrt], [m])\nif test \"X$LIBS\" = \"X$OLD_LIBS\"; then\n  LIB_MATH=\nelse\n  LIB_MATH=$ac_cv_search_sqrt\nfi\nLIBS=$OLD_LIBS\n\ndnl Current possibilities handled by sed (aix4-2 -> aix,\ndnl gnu-linux -> gnu/linux, etc.):\ndnl gnu, gnu/linux, gnu/kfreebsd, aix, cygwin, darwin, hpux, irix.\ndnl And special cases: berkeley-unix, usg-unix-v, ms-dos, windows-nt.\nSYSTEM_TYPE=`echo $opsys | sed -e 's/[[0-9]].*//' -e 's|-|/|'`\n\ncase $opsys in\n  cygwin )\n    LIB_MATH=\n    ;;\n  darwin )\n    ## Adding -lm confuses the dynamic linker, so omit it.\n    LIB_MATH=\n    ;;\n  freebsd | dragonfly )\n    SYSTEM_TYPE=berkeley-unix\n    ;;\n  gnu-linux | gnu-kfreebsd )\n    ;;\n  hpux10-20 | hpux11 )\n    ;;\n  mingw32 )\n    LIB_MATH=\n    SYSTEM_TYPE=windows-nt\n    ;;\n  dnl NB this may be adjusted below.\n  netbsd | openbsd )\n    SYSTEM_TYPE=berkeley-unix\n    ;;\n\n  sol2* | unixware )\n    SYSTEM_TYPE=usg-unix-v\n    ;;\n\nesac\n\nAC_SUBST(LIB_MATH)\nAC_DEFINE_UNQUOTED(SYSTEM_TYPE, \"$SYSTEM_TYPE\",\n  [The type of system you are compiling for; sets 'system-type'.])\n\n\npre_PKG_CONFIG_CFLAGS=$CFLAGS\npre_PKG_CONFIG_LIBS=$LIBS\n\nPKG_PROG_PKG_CONFIG(0.9.0)\n\ndnl EMACS_CHECK_MODULES(GSTUFF, gtk+-2.0 >= 1.3 glib = 1.3.4)\ndnl acts like PKG_CHECK_MODULES(GSTUFF, gtk+-2.0 >= 1.3 glib = 1.3.4,\ndnl HAVE_GSTUFF=yes, HAVE_GSTUFF=no) -- see pkg-config man page --\ndnl except that it postprocesses CFLAGS as needed for --enable-gcc-warnings.\ndnl EMACS_CHECK_MODULES accepts optional 3rd and 4th arguments that\ndnl can take the place of the default HAVE_GSTUFF=yes and HAVE_GSTUFF=no\ndnl actions.\nAC_DEFUN([EMACS_CHECK_MODULES],\n  [PKG_CHECK_MODULES([$1], [$2],\n     [$1_CFLAGS=`AS_ECHO([\"$$1_CFLAGS\"]) | sed -e \"$edit_cflags\"`\n      m4_default([$3], [HAVE_$1=yes])],\n     [m4_default([$4], [HAVE_$1=no])])])\n\nHAVE_SOUND=no\nif test \"${with_sound}\" != \"no\"; then\n  # Sound support for GNU/Linux, the free BSDs, MinGW, and Cygwin.\n  AC_CHECK_HEADERS([machine/soundcard.h sys/soundcard.h soundcard.h mmsystem.h],\n    have_sound_header=yes, [], [\n    #ifdef __MINGW32__\n    #define WIN32_LEAN_AND_MEAN\n    #include <windows.h>\n    #endif\n    ])\n  test \"${with_sound}\" = \"oss\" && test \"${have_sound_header}\" != \"yes\" && \\\n    AC_MSG_ERROR([OSS sound support requested but not found.])\n\n  if test \"${with_sound}\" = \"bsd-ossaudio\" || test \"${with_sound}\" = \"yes\"; then\n    # Emulation library used on NetBSD.\n    AC_CHECK_LIB(ossaudio, _oss_ioctl, LIBSOUND=-lossaudio, LIBSOUND=)\n    test \"${with_sound}\" = \"bsd-ossaudio\" && test -z \"$LIBSOUND\" && \\\n      AC_MSG_ERROR([bsd-ossaudio sound support requested but not found.])\n    dnl FIXME?  If we did find ossaudio, should we set with_sound=bsd-ossaudio?\n    dnl Traditionally, we go on to check for alsa too.  Does that make sense?\n  fi\n  AC_SUBST(LIBSOUND)\n\n  if test \"${with_sound}\" = \"alsa\" || test \"${with_sound}\" = \"yes\"; then\n    ALSA_REQUIRED=1.0.0\n    ALSA_MODULES=\"alsa >= $ALSA_REQUIRED\"\n    EMACS_CHECK_MODULES([ALSA], [$ALSA_MODULES])\n    if test $HAVE_ALSA = yes; then\n      SAVE_CFLAGS=\"$CFLAGS\"\n      SAVE_LIBS=\"$LIBS\"\n      CFLAGS=\"$ALSA_CFLAGS $CFLAGS\"\n      LIBS=\"$ALSA_LIBS $LIBS\"\n      AC_COMPILE_IFELSE([AC_LANG_PROGRAM([[#include <asoundlib.h>]], [[snd_lib_error_set_handler (0);]])],\n                      emacs_alsa_normal=yes,\n\t            emacs_alsa_normal=no)\n      if test \"$emacs_alsa_normal\" != yes; then\n        AC_COMPILE_IFELSE([AC_LANG_PROGRAM([[#include <alsa/asoundlib.h>]],\n                       [[snd_lib_error_set_handler (0);]])],\n                       emacs_alsa_subdir=yes,\n\t             emacs_alsa_subdir=no)\n        if test \"$emacs_alsa_subdir\" != yes; then\n          AC_MSG_ERROR([pkg-config found alsa, but it does not compile.  See config.log for error messages.])\n        fi\n        ALSA_CFLAGS=\"$ALSA_CFLAGS -DALSA_SUBDIR_INCLUDE\"\n      fi\n\n      CFLAGS=\"$SAVE_CFLAGS\"\n      LIBS=\"$SAVE_LIBS\"\n      LIBSOUND=\"$LIBSOUND $ALSA_LIBS\"\n      CFLAGS_SOUND=\"$CFLAGS_SOUND $ALSA_CFLAGS\"\n      AC_DEFINE(HAVE_ALSA, 1, [Define to 1 if ALSA is available.])\n    elif test \"${with_sound}\" = \"alsa\"; then\n      AC_MSG_ERROR([ALSA sound support requested but not found.])\n    fi\n  fi                            dnl with_sound = alsa|yes\n\n  dnl Define HAVE_SOUND if we have sound support.  We know it works and\n  dnl compiles only on the specified platforms.  For others, it\n  dnl probably doesn't make sense to try.\n  dnl FIXME So surely we should bypass this whole section if not using\n  dnl one of these platforms?\n  if test x$have_sound_header = xyes || test $HAVE_ALSA = yes; then\n     case \"$opsys\" in\n       dnl defined __FreeBSD__ || defined __NetBSD__ || defined __linux__\n       dnl Adjust the --with-sound help text if you change this.\n       gnu-linux|freebsd|netbsd|mingw32|cygwin)\n         AC_DEFINE(HAVE_SOUND, 1, [Define to 1 if you have sound support.])\n         HAVE_SOUND=yes\n         ;;\n     esac\n  fi\n\n  AC_SUBST(CFLAGS_SOUND)\nfi\n\ndnl checks for header files\nAC_CHECK_HEADERS_ONCE(\n  sys/systeminfo.h\n  sys/sysinfo.h\n  coff.h pty.h\n  sys/resource.h\n  sys/utsname.h pwd.h utmp.h util.h)\n\nAC_MSG_CHECKING(if personality LINUX32 can be set)\nAC_COMPILE_IFELSE([AC_LANG_PROGRAM([[#include <sys/personality.h>]], [[personality (PER_LINUX32)]])],\n               emacs_cv_personality_linux32=yes,\n\t       emacs_cv_personality_linux32=no)\nAC_MSG_RESULT($emacs_cv_personality_linux32)\n\nif test $emacs_cv_personality_linux32 = yes; then\n  AC_DEFINE(HAVE_PERSONALITY_LINUX32, 1,\n            [Define to 1 if personality LINUX32 can be set.])\nfi\n\n# Note that Solaris has sys/sysinfo.h which defines struct\n# sysinfo as well.  To make sure that we're using GNU/Linux\n# sysinfo, we explicitly set one of its fields.\nif test \"$ac_cv_header_sys_sysinfo_h\" = yes; then\n  AC_MSG_CHECKING([if Linux sysinfo may be used])\n  AC_COMPILE_IFELSE([AC_LANG_PROGRAM([[#include <sys/sysinfo.h>]],\n                                     [[struct sysinfo si;\n                                       si.totalram = 0;\n                                       sysinfo (&si)]])],\n    emacs_cv_linux_sysinfo=yes, emacs_cv_linux_sysinfo=no)\n  AC_MSG_RESULT($emacs_cv_linux_sysinfo)\n  if test $emacs_cv_linux_sysinfo = yes; then\n    AC_DEFINE([HAVE_LINUX_SYSINFO], 1, [Define to 1 if you have Linux sysinfo function.])\n    AC_COMPILE_IFELSE([AC_LANG_PROGRAM([[#include <sys/sysinfo.h>]],\n                                       [[struct sysinfo si; return si.mem_unit]])],\n      AC_DEFINE(LINUX_SYSINFO_UNIT, 1,\n                [Define to 1 if Linux sysinfo sizes are in multiples of mem_unit bytes.]))\n  fi\nfi\n\ndnl On Solaris 8 there's a compilation warning for term.h because\ndnl it doesn't define 'bool'.\nAC_CHECK_HEADERS(term.h, , , -)\nAC_HEADER_TIME\nAC_CHECK_DECLS([sys_siglist], [], [], [[#include <signal.h>\n\t\t\t              ]])\nif test $ac_cv_have_decl_sys_siglist != yes; then\n  # For Tru64, at least:\n  AC_CHECK_DECLS([__sys_siglist], [], [], [[#include <signal.h>\n\t\t\t                  ]])\nfi\nAC_HEADER_SYS_WAIT\n\nAC_CHECK_HEADERS_ONCE(sys/socket.h)\nAC_CHECK_HEADERS(net/if.h, , , [AC_INCLUDES_DEFAULT\n#if HAVE_SYS_SOCKET_H\n#include <sys/socket.h>\n#endif])\nAC_CHECK_HEADERS(ifaddrs.h, , , [AC_INCLUDES_DEFAULT\n#if HAVE_SYS_SOCKET_H\n#include <sys/socket.h>\n#endif])\nAC_CHECK_HEADERS(net/if_dl.h, , , [AC_INCLUDES_DEFAULT\n#if HAVE_SYS_SOCKET_H\n#include <sys/socket.h>\n#endif])\n\ndnl checks for structure members\nAC_CHECK_MEMBERS([struct ifreq.ifr_flags, struct ifreq.ifr_hwaddr,\n\t\t  struct ifreq.ifr_netmask, struct ifreq.ifr_broadaddr,\n\t\t  struct ifreq.ifr_addr,\n\t\t  struct ifreq.ifr_addr.sa_len], , ,\n\t\t [AC_INCLUDES_DEFAULT\n#if HAVE_SYS_SOCKET_H\n#include <sys/socket.h>\n#endif\n#if HAVE_NET_IF_H\n#include <net/if.h>\n#endif])\n\ndnl Check for endianness.\ndnl AC_C_BIGENDIAN is done by gnulib.\n\ndnl check for Make feature\n\nAUTO_DEPEND=no\ndnl check if we have GCC and autodepend is on.\nif test \"$GCC\" = yes && test \"$ac_enable_autodepend\" = yes; then\n   AC_MSG_CHECKING([whether gcc understands -MMD -MF])\n   SAVE_CFLAGS=\"$CFLAGS\"\n   CFLAGS=\"$CFLAGS -MMD -MF deps.d -MP\"\n   AC_COMPILE_IFELSE([AC_LANG_PROGRAM([[]], [[]])], , ac_enable_autodepend=no)\n   CFLAGS=\"$SAVE_CFLAGS\"\n   test -f deps.d || ac_enable_autodepend=no\n   rm -rf deps.d\n   AC_MSG_RESULT([$ac_enable_autodepend])\n   if test $ac_enable_autodepend = yes; then\n      AUTO_DEPEND=yes\n   fi\nfi\nAC_SUBST(AUTO_DEPEND)\n\ndnl checks for operating system services\nAC_SYS_LONG_FILE_NAMES\n\n#### Choose a window system.\n\n## We leave window_system equal to none if\n## we end up building without one.  Any new window system should\n## set window_system to an appropriate value and add objects to\n## window-system-specific substs.\n\nwindow_system=none\nAC_PATH_X\nif test \"$no_x\" != yes; then\n  window_system=x11\nfi\n\nLD_SWITCH_X_SITE_RPATH=\nif test \"${x_libraries}\" != NONE; then\n  if test -n \"${x_libraries}\"; then\n    LD_SWITCH_X_SITE=-L`AS_ECHO([\"$x_libraries\"]) | sed -e 's/:/ -L/g'`\n    LD_SWITCH_X_SITE_RPATH=-Wl,-rpath,`\n      AS_ECHO([\"$x_libraries\"]) | sed -e 's/:/ -Wl,-rpath,/g'\n    `\n  fi\n  x_default_search_path=\"\"\n  x_search_path=${x_libraries}\n  if test -z \"${x_search_path}\"; then\n    x_search_path=/usr/lib\n  fi\n  for x_library in `AS_ECHO([\"$x_search_path:\"]) | \\\n\t\t    sed -e \"s/:/ /g\" -e p -e \"s:/lib[[^ /]]* :/share :g\"`; do\n    x_search_path=\"\\\n${x_library}/X11/%L/%T/%N%C%S:\\\n${x_library}/X11/%l/%T/%N%C%S:\\\n${x_library}/X11/%T/%N%C%S:\\\n${x_library}/X11/%L/%T/%N%S:\\\n${x_library}/X11/%l/%T/%N%S:\\\n${x_library}/X11/%T/%N%S\"\n    if test x\"${x_default_search_path}\" = x; then\n      x_default_search_path=${x_search_path}\n    else\n      x_default_search_path=\"${x_search_path}:${x_default_search_path}\"\n    fi\n  done\nfi\nAC_SUBST(LD_SWITCH_X_SITE_RPATH)\n\nif test \"${x_includes}\" != NONE && test -n \"${x_includes}\"; then\n  C_SWITCH_X_SITE=$isystem`AS_ECHO([\"$x_includes\"]) | sed -e \"s/:/ $isystem/g\"`\nfi\n\nif test x\"${x_includes}\" = x; then\n  bitmapdir=/usr/include/X11/bitmaps\nelse\n  # accumulate include directories that have X11 bitmap subdirectories\n  bmd_acc=\n  for bmd in `AS_ECHO([\"$x_includes\"]) | sed -e 's/:/ /g'`; do\n    if test -d \"${bmd}/X11/bitmaps\"; then\n      bmd_acc=\"${bmd_acc}:${bmd}/X11/bitmaps\"\n    fi\n    if test -d \"${bmd}/bitmaps\"; then\n      bmd_acc=\"${bmd_acc}:${bmd}/bitmaps\"\n    fi\n  done\n  bitmapdir=${bmd_acc#:}\nfi\n\ntest \"${with_ns}\" = maybe && test \"${opsys}\" != darwin && with_ns=no\nHAVE_NS=no\nNS_GNUSTEP_CONFIG=no\nNS_IMPL_COCOA=no\nNS_IMPL_GNUSTEP=no\ntmp_CPPFLAGS=\"$CPPFLAGS\"\ntmp_CFLAGS=\"$CFLAGS\"\nCPPFLAGS=\"$CPPFLAGS -x objective-c\"\nCFLAGS=\"$CFLAGS -x objective-c\"\nGNU_OBJC_CFLAGS=\nLIBS_GNUSTEP=\nif test \"${with_ns}\" != no; then\n  if test \"${opsys}\" = darwin; then\n     NS_IMPL_COCOA=yes\n     ns_appdir=`pwd`/nextstep/Emacs.app\n     ns_appbindir=${ns_appdir}/Contents/MacOS\n     ns_appresdir=${ns_appdir}/Contents/Resources\n     ns_appsrc=Cocoa/Emacs.base\n     ns_fontfile=macfont.o\n  elif flags=$( (gnustep-config --objc-flags) 2>/dev/null); then\n     NS_IMPL_GNUSTEP=yes\n     NS_GNUSTEP_CONFIG=yes\n     GNU_OBJC_CFLAGS=$flags\n     LIBS_GNUSTEP=$(gnustep-config --gui-libs) || exit\n  elif test -f $GNUSTEP_CONFIG_FILE; then\n     NS_IMPL_GNUSTEP=yes\n     dnl FIXME sourcing this several times in subshells seems inefficient.\n     GNUSTEP_SYSTEM_HEADERS=$(\n       . $GNUSTEP_CONFIG_FILE\n       AS_ECHO([\"$GNUSTEP_SYSTEM_HEADERS\"])\n     )\n     GNUSTEP_SYSTEM_LIBRARIES=$(\n       . $GNUSTEP_CONFIG_FILE\n       AS_ECHO([\"$GNUSTEP_SYSTEM_LIBRARIES\"])\n     )\n     dnl I seemed to need these as well with GNUstep-startup 0.25.\n     GNUSTEP_LOCAL_HEADERS=$(\n       . $GNUSTEP_CONFIG_FILE\n       AS_ECHO([\"$GNUSTEP_LOCAL_HEADERS\"])\n     )\n     GNUSTEP_LOCAL_LIBRARIES=$(\n       . $GNUSTEP_CONFIG_FILE\n       AS_ECHO([\"$GNUSTEP_LOCAL_LIBRARIES\"])\n     )\n     test \"x${GNUSTEP_LOCAL_HEADERS}\" != \"x\" && \\\n       GNUSTEP_LOCAL_HEADERS=\"-I${GNUSTEP_LOCAL_HEADERS}\"\n     test \"x${GNUSTEP_LOCAL_LIBRARIES}\" != \"x\" && \\\n       GNUSTEP_LOCAL_LIBRARIES=\"-L${GNUSTEP_LOCAL_LIBRARIES}\"\n     CPPFLAGS=\"$CPPFLAGS -I${GNUSTEP_SYSTEM_HEADERS} ${GNUSTEP_LOCAL_HEADERS}\"\n     CFLAGS=\"$CFLAGS -I${GNUSTEP_SYSTEM_HEADERS} ${GNUSTEP_LOCAL_HEADERS}\"\n     LDFLAGS=\"$LDFLAGS -L${GNUSTEP_SYSTEM_LIBRARIES} ${GNUSTEP_LOCAL_LIBRARIES}\"\n     LIBS_GNUSTEP=\"-lgnustep-gui -lgnustep-base -lobjc -lpthread\"\n     dnl GNUstep defines BASE_NATIVE_OBJC_EXCEPTIONS to 0 or 1.\n     dnl If they had chosen to either define it or not, we could have\n     dnl just used AC_CHECK_DECL here.\n     AC_CACHE_CHECK(if GNUstep defines BASE_NATIVE_OBJC_EXCEPTIONS,\n       emacs_cv_objc_exceptions,\nAC_COMPILE_IFELSE([AC_LANG_PROGRAM([[#include <GNUstepBase/GSConfig.h>]],\n[[#if defined BASE_NATIVE_OBJC_EXCEPTIONS && BASE_NATIVE_OBJC_EXCEPTIONS > 0\n1;\n#else\nfail;\n#endif]])], emacs_cv_objc_exceptions=yes, emacs_cv_objc_exceptions=no ) )\n     if test $emacs_cv_objc_exceptions = yes; then\n       dnl _NATIVE_OBJC_EXCEPTIONS is used by the GNUstep headers.\n       AC_DEFINE(_NATIVE_OBJC_EXCEPTIONS, 1,\n         [Define if GNUstep uses ObjC exceptions.])\n       GNU_OBJC_CFLAGS=\"-fobjc-exceptions\"\n     fi\n  fi\n  if test $NS_IMPL_GNUSTEP = yes; then\n     ns_appdir=`pwd`/nextstep/Emacs.app\n     ns_appbindir=${ns_appdir}\n     ns_appresdir=${ns_appdir}/Resources\n     ns_appsrc=GNUstep/Emacs.base\n     ns_fontfile=nsfont.o\n  fi\n\n  dnl This is only used while we test the NS headers, it gets reset below.\n  CPPFLAGS=\"$CPPFLAGS $GNU_OBJC_CFLAGS\"\n  CFLAGS=\"$CFLAGS $GNU_OBJC_CFLAGS\"\n\n  AC_CHECK_HEADER([AppKit/AppKit.h], [HAVE_NS=yes],\n\t\t  [AC_MSG_ERROR([The include files (AppKit/AppKit.h etc) that\nare required for a Nextstep build are missing or cannot be compiled.\nEither fix this, or re-configure with the option '--without-ns'.])])\n\n  macfont_file=\"\"\n  if test \"${NS_IMPL_COCOA}\" = \"yes\"; then\n    AC_MSG_CHECKING([for Mac OS X 10.6 or newer])\n    AC_COMPILE_IFELSE([AC_LANG_PROGRAM([#include <AppKit/AppKit.h>],\n                                     [\n#ifdef MAC_OS_X_VERSION_MAX_ALLOWED\n#if MAC_OS_X_VERSION_MAX_ALLOWED >= 1060\n ; /* OK */\n#else\n error \"Mac OS X 10.6 or newer required\";\n#endif\n#endif\n\t\t    ])],\n\t\t    ns_osx_have_106=yes,\n\t\t    ns_osx_have_106=no)\n    AC_MSG_RESULT([$ns_osx_have_106])\n\n    if test $ns_osx_have_106 = no; then\n       AC_MSG_ERROR([Mac OS X 10.6 or newer is required]);\n    fi\n  fi\nfi\n\nAC_SUBST(LIBS_GNUSTEP)\n\nINSTALL_ARCH_INDEP_EXTRA=install-etc\nns_self_contained=no\nNS_OBJ=\nNS_OBJC_OBJ=\nif test \"${HAVE_NS}\" = yes; then\n  if test \"$with_toolkit_scroll_bars\" = \"no\"; then\n    AC_MSG_ERROR([Non-toolkit scroll bars are not implemented for Nextstep.])\n  fi\n\n  window_system=nextstep\n  # set up packaging dirs\n  if test \"${EN_NS_SELF_CONTAINED}\" = yes; then\n     ns_self_contained=yes\n     prefix=${ns_appresdir}\n     exec_prefix=${ns_appbindir}\n     dnl This one isn't really used, only archlibdir is.\n     libexecdir=\"\\${ns_appbindir}/libexec\"\n     archlibdir=\"\\${ns_appbindir}/libexec\"\n     etcdocdir=\"\\${ns_appresdir}/etc\"\n     etcdir=\"\\${ns_appresdir}/etc\"\n     dnl FIXME maybe set datarootdir instead.\n     dnl That would also get applications, icons, man.\n     infodir=\"\\${ns_appresdir}/info\"\n     mandir=\"\\${ns_appresdir}/man\"\n     lispdir=\"\\${ns_appresdir}/lisp\"\n     test \"$locallisppathset\" = no && locallisppath=\"\"\n     INSTALL_ARCH_INDEP_EXTRA=\n  fi\n\n  NS_OBJC_OBJ=\"nsterm.o nsfns.o nsmenu.o nsselect.o nsimage.o $ns_fontfile\"\nfi\nCFLAGS=\"$tmp_CFLAGS\"\nCPPFLAGS=\"$tmp_CPPFLAGS\"\nAC_SUBST(INSTALL_ARCH_INDEP_EXTRA)\nAC_SUBST(ns_self_contained)\nAC_SUBST(NS_OBJ)\nAC_SUBST(NS_OBJC_OBJ)\n\nHAVE_W32=no\nW32_OBJ=\nW32_LIBS=\nEMACSRES=\nCLIENTRES=\nCLIENTW=\nW32_RES_LINK=\nEMACS_MANIFEST=\nUPDATE_MANIFEST=\nif test \"${with_w32}\" != no; then\n  case \"${opsys}\" in\n    cygwin)\n      AC_CHECK_HEADER([windows.h], [HAVE_W32=yes],\n             [AC_MSG_ERROR(['--with-w32' was specified, but windows.h\n                   cannot be found.])])\n    ;;\n    mingw32)\n    ## Using --with-w32 with MinGW is a no-op, but we allow it.\n    ;;\n    *)\n      AC_MSG_ERROR([Using w32 with an autotools build is only supported for Cygwin and MinGW32.])\n    ;;\n  esac\nfi\n\nif test \"${opsys}\" = \"mingw32\"; then\n  AC_MSG_CHECKING([whether Windows API headers are recent enough])\n  AC_COMPILE_IFELSE([AC_LANG_PROGRAM([[\n     #include <windows.h>\n     #include <usp10.h>]],\n   [[PIMAGE_NT_HEADERS pHeader;\n     PIMAGE_SECTION_HEADER pSection = IMAGE_FIRST_SECTION(pHeader)]])],\n   [emacs_cv_w32api=yes\n    HAVE_W32=yes],\n   emacs_cv_w32api=no)\n  AC_MSG_RESULT($emacs_cv_w32api)\n  if test \"${emacs_cv_w32api}\" = \"no\"; then\n    AC_MSG_ERROR([the Windows API headers are too old to support this build.])\n  fi\nfi\n\nFIRSTFILE_OBJ=\nNTDIR=\nLIBS_ECLIENT=\nLIB_WSOCK32=\nNTLIB=\nCM_OBJ=\"cm.o\"\nXARGS_LIMIT=\nif test \"${HAVE_W32}\" = \"yes\"; then\n  AC_DEFINE(HAVE_NTGUI, 1, [Define to use native MS Windows GUI.])\n  if test \"$with_toolkit_scroll_bars\" = \"no\"; then\n    AC_MSG_ERROR([Non-toolkit scroll bars are not implemented for w32 build.])\n  fi\n  AC_CHECK_TOOL(WINDRES, [windres],\n                [AC_MSG_ERROR([No resource compiler found.])])\n  W32_OBJ=\"w32fns.o w32menu.o w32reg.o w32font.o w32term.o\"\n  W32_OBJ=\"$W32_OBJ w32xfns.o w32select.o w32uniscribe.o\"\n  EMACSRES=\"emacs.res\"\n  case \"$canonical\" in\n    x86_64-*-*) EMACS_MANIFEST=\"emacs-x64.manifest\" ;;\n    *) EMACS_MANIFEST=\"emacs-x86.manifest\" ;;\n  esac\n  dnl Construct something of the form \"24,4,0,0\" with 4 components.\n  comma_version=`echo \"${PACKAGE_VERSION}.0.0\" | sed -e 's/\\./,/g' -e 's/^\\([[^,]]*,[[^,]]*,[[^,]]*,[[^,]]*\\).*/\\1/'`\n\n  comma_space_version=`echo \"$comma_version\" | sed 's/,/, /g'`\n  AC_SUBST(comma_version)\n  AC_SUBST(comma_space_version)\n  AC_CONFIG_FILES([nt/emacs.rc nt/emacsclient.rc])\n  if test \"${opsys}\" = \"cygwin\"; then\n    W32_LIBS=\"$W32_LIBS -lkernel32 -luser32 -lgdi32 -lole32 -lcomdlg32\"\n    W32_LIBS=\"$W32_LIBS -lusp10 -lcomctl32 -lwinspool\"\n    # Tell the linker that emacs.res is an object (which we compile from\n    # the rc file), not a linker script.\n    W32_RES_LINK=\"-Wl,emacs.res\"\n  else\n    UPDATE_MANIFEST=update-game-score.exe.manifest\n    W32_OBJ=\"$W32_OBJ w32.o w32console.o w32heap.o w32inevt.o w32proc.o\"\n    W32_LIBS=\"$W32_LIBS -lwinmm -lgdi32 -lcomdlg32\"\n    W32_LIBS=\"$W32_LIBS -lmpr -lwinspool -lole32 -lcomctl32 -lusp10\"\n    W32_RES_LINK=\"\\$(EMACSRES)\"\n    CLIENTRES=\"emacsclient.res\"\n    CLIENTW=\"emacsclientw\\$(EXEEXT)\"\n    FIRSTFILE_OBJ=firstfile.o\n    NTDIR=nt\n    CM_OBJ=\n    LIBS_ECLIENT=\"-lcomctl32\"\n    LIB_WSOCK32=\"-lwsock32\"\n    NTLIB=\"ntlib.$ac_objext\"\n    XARGS_LIMIT=\"-s 10000\"\n  fi\nfi\nAC_SUBST(W32_OBJ)\nAC_SUBST(W32_LIBS)\nAC_SUBST(EMACSRES)\nAC_SUBST(EMACS_MANIFEST)\nAC_SUBST(UPDATE_MANIFEST)\nAC_SUBST(CLIENTRES)\nAC_SUBST(CLIENTW)\nAC_SUBST(W32_RES_LINK)\nAC_SUBST(FIRSTFILE_OBJ)\nAC_SUBST(NTDIR)\nAC_SUBST(CM_OBJ)\nAC_SUBST(LIBS_ECLIENT)\nAC_SUBST(LIB_WSOCK32)\nAC_SUBST(NTLIB)\nAC_SUBST(XARGS_LIMIT)\n\nif test \"${HAVE_W32}\" = \"yes\"; then\n  window_system=w32\n  with_xft=no\nfi\n\n## $window_system is now set to the window system we will\n## ultimately use.\n\nif test \"$window_system\" = none && test \"$gl_gcc_warnings\" = yes; then\n   # Too many warnings for now.\n   nw=\n   nw=\"$nw -Wsuggest-attribute=noreturn\"\n   gl_MANYWARN_COMPLEMENT([WARN_CFLAGS], [$WARN_CFLAGS], [$nw])\n\n   gl_WARN_ADD([-Wno-unused-variable])\n   gl_WARN_ADD([-Wno-unused-but-set-variable])\n   gl_WARN_ADD([-Wno-unused-but-set-parameter])\nfi\n\nterm_header=\nHAVE_X_WINDOWS=no\nHAVE_X11=no\nUSE_X_TOOLKIT=none\n\ncase \"${window_system}\" in\n  x11 )\n    HAVE_X_WINDOWS=yes\n    HAVE_X11=yes\n    term_header=xterm.h\n    case \"${with_x_toolkit}\" in\n      athena | lucid ) USE_X_TOOLKIT=LUCID ;;\n      motif ) USE_X_TOOLKIT=MOTIF ;;\n      gtk ) with_gtk=yes\n            term_header=gtkutil.h\ndnl Don't set this for GTK.  A lot of tests below assumes Xt when\ndnl USE_X_TOOLKIT is set.\n            USE_X_TOOLKIT=none ;;\n      gtk2 ) with_gtk2=yes\n             term_header=gtkutil.h\n             USE_X_TOOLKIT=none ;;\n      gtk3 ) with_gtk3=yes\n             term_header=gtkutil.h\n             USE_X_TOOLKIT=none ;;\n      no ) USE_X_TOOLKIT=none ;;\ndnl If user did not say whether to use a toolkit, make this decision later:\ndnl use the toolkit if we have gtk, or X11R5 or newer.\n      * ) USE_X_TOOLKIT=maybe ;;\n    esac\n  ;;\n  nextstep )\n    term_header=nsterm.h\n  ;;\n  w32 )\n    term_header=w32term.h\n  ;;\nesac\n\nif test \"$window_system\" = none && test \"X$with_x\" != \"Xno\"; then\n   AC_CHECK_PROG(HAVE_XSERVER, X, true, false)\n   if test \"$HAVE_XSERVER\" = true ||\n      test -n \"$DISPLAY\" ||\n      {\n        for emacs_libX11 in /usr/lib/libX11.*; do break; done\n        test \"$emacs_libX11\" != '/usr/lib/libX11.*'\n      }\n   then\n        AC_MSG_ERROR([You seem to be running X, but no X development libraries\nwere found.  You should install the relevant development files for X\nand for the toolkit you want, such as Gtk+ or Motif.  Also make\nsure you have development files for image handling, i.e.\ntiff, gif, jpeg, png and xpm.\nIf you are sure you want Emacs compiled without X window support, pass\n  --without-x\nto configure.])\n   fi\nfi\n\n# Does the opsystem file prohibit the use of the GNU malloc?\n# Assume not, until told otherwise.\nGNU_MALLOC=yes\n\nAC_CACHE_CHECK(\n  [whether malloc is Doug Lea style],\n  [emacs_cv_var_doug_lea_malloc],\n  [emacs_cv_var_doug_lea_malloc=no\n   dnl Hooks do not work with address sanitization.\n   if test \"$emacs_cv_sanitize_address\" != yes; then\n     AC_LINK_IFELSE(\n       [AC_LANG_PROGRAM(\n\t  [[#include <malloc.h>\n\t    static void hook (void) {}]],\n\t  [[malloc_set_state (malloc_get_state ());\n\t    __after_morecore_hook = hook;\n\t    __malloc_initialize_hook = hook;]])],\n       [emacs_cv_var_doug_lea_malloc=yes])\n   fi])\ndoug_lea_malloc=$emacs_cv_var_doug_lea_malloc\n\nsystem_malloc=$emacs_cv_sanitize_address\n\nhybrid_malloc=\n\ncase \"$opsys\" in\n  ## darwin ld insists on the use of malloc routines in the System framework.\n  darwin | mingw32 | nacl | sol2-10) system_malloc=yes ;;\n  cygwin) hybrid_malloc=yes;;\nesac\n\nGMALLOC_OBJ=\nif test \"${system_malloc}\" = \"yes\"; then\n  AC_DEFINE([SYSTEM_MALLOC], 1,\n    [Define to 1 to use the system memory allocator, even if it is not\n     Doug Lea style.])\n  GNU_MALLOC=no\n  GNU_MALLOC_reason=\"\n    (The GNU allocators don't work with this system configuration.)\"\n  VMLIMIT_OBJ=\nelif test \"$hybrid_malloc\" = yes; then\n  AC_DEFINE(HYBRID_MALLOC, 1,\n    [Define to use gmalloc before dumping and the system malloc after.])\n  GNU_MALLOC=\n  GNU_MALLOC_reason=\"only before dumping\"\n  GMALLOC_OBJ=gmalloc.o\n  VMLIMIT_OBJ=\nelse\n  if test \"$doug_lea_malloc\" != \"yes\"; then\n    GMALLOC_OBJ=gmalloc.o\n    AC_CHECK_DECLS([valloc])\n  fi\n  VMLIMIT_OBJ=vm-limit.o\n\n  AC_CHECK_HEADERS([sys/vlimit.h])\n  AC_CACHE_CHECK([for data_start], [emacs_cv_data_start],\n    [AC_LINK_IFELSE(\n       [AC_LANG_PROGRAM(\n\t [[extern char data_start[]; char ch;]],\n\t [[return data_start < &ch;]])],\n       [emacs_cv_data_start=yes],\n       [emacs_cv_data_start=no])])\n  if test $emacs_cv_data_start = yes; then\n    AC_DEFINE([HAVE_DATA_START], 1,\n      [Define to 1 if data_start is the address of the start\n       of the main data segment.])\n  fi\nfi\nAC_SUBST(GMALLOC_OBJ)\nAC_SUBST(VMLIMIT_OBJ)\n\nif test \"$doug_lea_malloc\" = \"yes\" ; then\n  if test \"$GNU_MALLOC\" = yes ; then\n    GNU_MALLOC_reason=\"\n      (Using Doug Lea's new malloc from the GNU C Library.)\"\n  fi\n  AC_DEFINE(DOUG_LEA_MALLOC, 1,\n    [Define to 1 if the system memory allocator is Doug Lea style,\n     with malloc hooks and malloc_set_state.])\nfi\n\nif test x\"${REL_ALLOC}\" = x; then\n  REL_ALLOC=no\nfi\n\nuse_mmap_for_buffers=no\ncase \"$opsys\" in\n  cygwin|mingw32|freebsd|irix6-5) use_mmap_for_buffers=yes ;;\nesac\n\nAC_FUNC_MMAP\nif test $use_mmap_for_buffers = yes; then\n  AC_DEFINE(USE_MMAP_FOR_BUFFERS, 1, [Define to use mmap to allocate buffer text.])\n  REL_ALLOC=no\nfi\n\nLIBS=\"$LIBS_SYSTEM $LIBS\"\n\ndnl FIXME replace main with a function we actually want from this library.\nAC_CHECK_LIB(Xbsd, main, LD_SWITCH_X_SITE=\"$LD_SWITCH_X_SITE -lXbsd\")\n\ndnl Check for the POSIX thread library.\nLIB_PTHREAD=\nAC_CHECK_HEADERS_ONCE(pthread.h)\nif test \"$ac_cv_header_pthread_h\" && test \"$opsys\" != \"mingw32\"; then\n  AC_CACHE_CHECK([for pthread library],\n    [emacs_cv_pthread_lib],\n    [emacs_cv_pthread_lib=no\n     OLD_LIBS=$LIBS\n     for emacs_pthread_lib in 'none needed' -lpthread; do\n       case $emacs_pthread_lib in\n\t -*) LIBS=\"$OLD_LIBS $emacs_pthread_lib\";;\n       esac\n       AC_LINK_IFELSE(\n\t [AC_LANG_PROGRAM(\n\t    [[#include <pthread.h>\n\t      #include <signal.h>\n\t      sigset_t old_mask, new_mask;\n\t      void noop (void) {}]],\n\t    [[pthread_t th = pthread_self ();\n\t      int status = 0;\n\t      status += pthread_create (&th, 0, 0, 0);\n\t      status += pthread_sigmask (SIG_BLOCK, &new_mask, &old_mask);\n\t      status += pthread_kill (th, 0);\n\t      #if ! (defined SYSTEM_MALLOC || defined HYBRID_MALLOC \\\n\t\t     || defined DOUG_LEA_MALLOC)\n\t      /* Test for pthread_atfork only if gmalloc uses it,\n\t\t as older-style hosts like MirBSD 10 lack it.  */\n\t      status += pthread_atfork (noop, noop, noop);\n\t      #endif\n\t      return status;]])],\n\t [emacs_cv_pthread_lib=$emacs_pthread_lib])\n       LIBS=$OLD_LIBS\n       if test \"$emacs_cv_pthread_lib\" != no; then\n\t break\n       fi\n     done])\n  if test \"$emacs_cv_pthread_lib\" != no; then\n    AC_DEFINE([HAVE_PTHREAD], 1, [Define to 1 if you have POSIX threads.])\n    case $emacs_cv_pthread_lib in\n      -*) LIB_PTHREAD=$emacs_cv_pthread_lib;;\n    esac\n    ac_cv_func_pthread_sigmask=yes\n    # Some systems optimize for single-threaded programs by default, and\n    # need special flags to disable these optimizations. For example, the\n    # definition of 'errno' in <errno.h>.\n    case $opsys in\n      hpux* | sol*)\n\tAC_DEFINE([_REENTRANT], 1,\n\t  [Define to 1 if your system requires this in multithreaded code.]);;\n      aix4-2)\n\tAC_DEFINE([_THREAD_SAFE], 1,\n\t  [Define to 1 if your system requires this in multithreaded code.]);;\n    esac\n  fi\nfi\nAC_SUBST([LIB_PTHREAD])\n\ndnl Check for need for bigtoc support on IBM AIX\n\ncase ${host_os} in\naix*)\n  AC_CACHE_CHECK([for -bbigtoc option], [gdb_cv_bigtoc], [\n    case $GCC in\n    yes) gdb_cv_bigtoc=-Wl,-bbigtoc ;;\n    *) gdb_cv_bigtoc=-bbigtoc ;;\n    esac\n\n    LDFLAGS=$LDFLAGS\\ $gdb_cv_bigtoc\n    AC_LINK_IFELSE([AC_LANG_PROGRAM([[]], [[int i;]])], [], [gdb_cv_bigtoc=])\n  ])\n  ;;\nesac\n\n# Change CFLAGS, CPPFLAGS, and LIBS temporarily so that C_SWITCH_X_SITE\n# is for the tests that follow.  We set them back later on.\n\nREAL_CFLAGS=\"$CFLAGS\"\nREAL_CPPFLAGS=\"$CPPFLAGS\"\nREAL_LIBS=\"$LIBS\"\n\nif test \"${HAVE_X11}\" = \"yes\"; then\n  DEFS=\"$C_SWITCH_X_SITE $DEFS\"\n  LDFLAGS=\"$LDFLAGS $LD_SWITCH_X_SITE\"\n  LIBS=\"-lX11 $LIBS\"\n  CFLAGS=\"$C_SWITCH_X_SITE $CFLAGS\"\n  CPPFLAGS=\"$C_SWITCH_X_SITE $CPPFLAGS\"\n\n  # On Solaris, arrange for LD_RUN_PATH to point to the X libraries for tests.\n  # This is handled by LD_SWITCH_X_SITE_RPATH during the real build,\n  # but it's more convenient here to set LD_RUN_PATH since this\n  # also works on hosts that don't understand LD_SWITCH_X_SITE_RPATH.\n  if test \"${x_libraries}\" != NONE && test -n \"${x_libraries}\"; then\n    LD_RUN_PATH=$x_libraries${LD_RUN_PATH+:}$LD_RUN_PATH\n    export LD_RUN_PATH\n  fi\n\n  if test \"${opsys}\" = \"gnu-linux\"; then\n    AC_MSG_CHECKING(whether X on GNU/Linux needs -b to link)\n    AC_LINK_IFELSE([AC_LANG_PROGRAM([[]],\n     [[XOpenDisplay (\"foo\");]])],\n     [xgnu_linux_first_failure=no],\n     [xgnu_linux_first_failure=yes])\n    if test \"${xgnu_linux_first_failure}\" = \"yes\"; then\n      OLD_CPPFLAGS=\"$CPPFLAGS\"\n      OLD_LIBS=\"$LIBS\"\n      CPPFLAGS=\"$CPPFLAGS -b i486-linuxaout\"\n      LIBS=\"$LIBS -b i486-linuxaout\"\n      AC_LINK_IFELSE([AC_LANG_PROGRAM([[]],\n       [[XOpenDisplay (\"foo\");]])],\n       [xgnu_linux_second_failure=no],\n       [xgnu_linux_second_failure=yes])\n      if test \"${xgnu_linux_second_failure}\" = \"yes\"; then\n\t# If we get the same failure with -b, there is no use adding -b.\n\t# So leave it out.  This plays safe.\n        AC_MSG_RESULT(no)\n      else\n\tLD_SWITCH_X_SITE=\"$LD_SWITCH_X_SITE -b i486-linuxaout\"\n\tC_SWITCH_X_SITE=\"$C_SWITCH_X_SITE -b i486-linuxaout\"\n        AC_MSG_RESULT(yes)\n      fi\n      CPPFLAGS=$OLD_CPPFLAGS\n      LIBS=$OLD_LIBS\n    else\n      AC_MSG_RESULT(no)\n    fi\n  fi\n\n  # Reportedly, some broken Solaris systems have XKBlib.h but are missing\n  # header files included from there.\n  AC_MSG_CHECKING(for Xkb)\n  AC_LINK_IFELSE([AC_LANG_PROGRAM([[#include <X11/Xlib.h>\n#include <X11/XKBlib.h>]],\n\t[[XkbDescPtr kb = XkbGetKeyboard (0, XkbAllComponentsMask, XkbUseCoreKbd);]])],\n\temacs_xkb=yes, emacs_xkb=no)\n  AC_MSG_RESULT($emacs_xkb)\n  if test $emacs_xkb = yes; then\n    AC_DEFINE(HAVE_XKB, 1, [Define to 1 if you have the Xkb extension.])\n  fi\n\n  AC_CHECK_FUNCS(XrmSetDatabase XScreenResourceString \\\nXScreenNumberOfScreen)\nfi\n\nif test \"${window_system}\" = \"x11\"; then\n  AC_MSG_CHECKING(X11 version 6)\n  AC_CACHE_VAL(emacs_cv_x11_version_6,\n  [AC_LINK_IFELSE([AC_LANG_PROGRAM([[#include <X11/Xlib.h>]],\n[[#if XlibSpecificationRelease < 6\nfail;\n#endif\n]])], emacs_cv_x11_version_6=yes, emacs_cv_x11_version_6=no)])\n  if test $emacs_cv_x11_version_6 = yes; then\n    AC_MSG_RESULT(6 or newer)\n    AC_DEFINE(HAVE_X11R6, 1,\n\t      [Define to 1 if you have the X11R6 or newer version of Xlib.])\n    AC_DEFINE(HAVE_X_I18N, 1, [Define if you have usable i18n support.])\n    ## inoue@ainet.or.jp says Solaris has a bug related to X11R6-style\n    ## XIM support.\n    case \"$opsys\" in\n      sol2-*) : ;;\n      *) AC_DEFINE(HAVE_X11R6_XIM, 1,\n           [Define if you have usable X11R6-style XIM support.])\n         ;;\n    esac\n  else\n    AC_MSG_RESULT(before 6)\n  fi\nfi\n\n\n### Use -lrsvg-2 if available, unless '--with-rsvg=no' is specified.\nHAVE_RSVG=no\nif test \"${HAVE_X11}\" = \"yes\" || test \"${HAVE_NS}\" = \"yes\" || test \"${opsys}\" = \"mingw32\"; then\n  if test \"${with_rsvg}\" != \"no\"; then\n    RSVG_REQUIRED=2.11.0\n    RSVG_MODULE=\"librsvg-2.0 >= $RSVG_REQUIRED\"\n\n    EMACS_CHECK_MODULES([RSVG], [$RSVG_MODULE])\n    AC_SUBST(RSVG_CFLAGS)\n    AC_SUBST(RSVG_LIBS)\n\n    if test $HAVE_RSVG = yes; then\n      AC_DEFINE(HAVE_RSVG, 1, [Define to 1 if using librsvg.])\n      CFLAGS=\"$CFLAGS $RSVG_CFLAGS\"\n      # Windows loads librsvg dynamically\n      if test \"${opsys}\" = \"mingw32\"; then\n\tRSVG_LIBS=\n      fi\n    fi\n  fi\nfi\n\nHAVE_IMAGEMAGICK=no\nif test \"${HAVE_X11}\" = \"yes\" || test \"${HAVE_NS}\" = \"yes\" || test \"${HAVE_W32}\" = \"yes\"; then\n  if test \"${with_imagemagick}\" != \"no\"; then\n    ## 6.3.5 is the earliest version known to work; see Bug#17339.\n    ## 6.8.2 makes Emacs crash; see Bug#13867.\n    IMAGEMAGICK_MODULE=\"Wand >= 6.3.5 Wand != 6.8.2\"\n    EMACS_CHECK_MODULES([IMAGEMAGICK], [$IMAGEMAGICK_MODULE])\n    AC_SUBST(IMAGEMAGICK_CFLAGS)\n    AC_SUBST(IMAGEMAGICK_LIBS)\n\n    if test $HAVE_IMAGEMAGICK = yes; then\n      AC_DEFINE(HAVE_IMAGEMAGICK, 1, [Define to 1 if using imagemagick.])\n      OLD_CFLAGS=$CFLAGS\n      OLD_LIBS=$LIBS\n      CFLAGS=\"$CFLAGS $IMAGEMAGICK_CFLAGS\"\n      LIBS=\"$IMAGEMAGICK_LIBS $LIBS\"\n      AC_CHECK_FUNCS(MagickExportImagePixels MagickMergeImageLayers)\n      CFLAGS=$OLD_CFLAGS\n      LIBS=$OLD_LIBS\n    fi\n  fi\nfi\n\n\nHAVE_GTK=no\nGTK_OBJ=\ngtk_term_header=$term_header\ncheck_gtk2=no\ngtk3_pkg_errors=\nif test \"${opsys}\" != \"mingw32\"; then\n  if test \"${with_gtk3}\" = \"yes\" || test \"${with_gtk}\" = \"yes\" || test \"$USE_X_TOOLKIT\" = \"maybe\"; then\n    GLIB_REQUIRED=2.28\n    GTK_REQUIRED=3.0\n    GTK_MODULES=\"gtk+-3.0 >= $GTK_REQUIRED glib-2.0 >= $GLIB_REQUIRED\"\n\n    dnl Checks for libraries.\n    EMACS_CHECK_MODULES([GTK], [$GTK_MODULES],\n      [pkg_check_gtk=yes], [pkg_check_gtk=no])\n    if test \"$pkg_check_gtk\" = \"no\" && test \"$with_gtk3\" = \"yes\"; then\n       AC_MSG_ERROR($GTK_PKG_ERRORS)\n    fi\n    if test \"$pkg_check_gtk\" = \"yes\"; then\n       AC_DEFINE(HAVE_GTK3, 1, [Define to 1 if using GTK 3 or later.])\n       GTK_OBJ=emacsgtkfixed.o\n       gtk_term_header=gtkutil.h\n       USE_GTK_TOOLKIT=\"GTK3\"\n       if test \"x$ac_enable_gtk_deprecation_warnings\" = x; then\n\t AC_DEFINE([GDK_DISABLE_DEPRECATION_WARNINGS], [1],\n\t   [Define to 1 to disable GTK+/GDK deprecation warnings.])\n\t AC_DEFINE([GLIB_DISABLE_DEPRECATION_WARNINGS], [1],\n\t   [Define to 1 to disable Glib deprecation warnings.])\n       fi\n    else\n       check_gtk2=yes\n       gtk3_pkg_errors=\"$GTK_PKG_ERRORS \"\n    fi\n  fi\n\n  if test \"${with_gtk2}\" = \"yes\" || test \"$check_gtk2\" = \"yes\"; then\n    GLIB_REQUIRED=2.10\n    GTK_REQUIRED=2.10\n    GTK_MODULES=\"gtk+-2.0 >= $GTK_REQUIRED glib-2.0 >= $GLIB_REQUIRED\"\n\n    dnl Checks for libraries.\n    EMACS_CHECK_MODULES([GTK], [$GTK_MODULES],\n      [pkg_check_gtk=yes], [pkg_check_gtk=no])\n    if test \"$pkg_check_gtk\" = \"no\" &&\n       { test \"$with_gtk\" = yes || test \"$with_gtk2\" = \"yes\"; }\n    then\n      AC_MSG_ERROR($gtk3_pkg_errors$GTK_PKG_ERRORS)\n    fi\n    test \"$pkg_check_gtk\" = \"yes\" && USE_GTK_TOOLKIT=\"GTK2\"\n  fi\nfi\n\nOLD_CFLAGS=$CFLAGS\nOLD_LIBS=$LIBS\n\nif test x\"$pkg_check_gtk\" = xyes; then\n\n  AC_SUBST(GTK_LIBS)\n  CFLAGS=\"$CFLAGS $GTK_CFLAGS\"\n  LIBS=\"$GTK_LIBS $LIBS\"\n  dnl Try to compile a simple GTK program.\n  AC_MSG_CHECKING([whether GTK compiles])\n  GTK_COMPILES=no\n  AC_LINK_IFELSE(\n    [AC_LANG_PROGRAM(\n       [[/* Check the Gtk and Glib APIs.  */\n\t #include <gtk/gtk.h>\n\t #include <glib-object.h>\n\t static void\n\t callback (GObject *go, GParamSpec *spec, gpointer user_data)\n\t {}\n       ]],\n       [[\n\t GtkSettings *gs = 0;\n\t /* Use G_CALLBACK to make sure function pointers can be cast to void *;\n\t    strict C prohibits this.  Use gtk_main_iteration to test that the\n\t    libraries are there.  */\n\t if (g_signal_handler_find (G_OBJECT (gs), G_SIGNAL_MATCH_FUNC,\n\t\t\t\t    0, 0, 0, G_CALLBACK (callback), 0))\n\t   gtk_main_iteration ();\n       ]])],\n    [GTK_COMPILES=yes])\n  AC_MSG_RESULT([$GTK_COMPILES])\n  if test \"${GTK_COMPILES}\" != \"yes\"; then\n    GTK_OBJ=\n    if test \"$USE_X_TOOLKIT\" != \"maybe\"; then\n      AC_MSG_ERROR([Gtk+ wanted, but it does not compile, see config.log.  Maybe some x11-devel files missing?]);\n    fi\n  else\n    C_SWITCH_X_SITE=\"$C_SWITCH_X_SITE $GTK_CFLAGS\"\n    HAVE_GTK=yes\n    AC_DEFINE(USE_GTK, 1, [Define to 1 if using GTK.])\n    GTK_OBJ=\"gtkutil.o $GTK_OBJ\"\n    term_header=$gtk_term_header\n    USE_X_TOOLKIT=none\n    AC_MSG_WARN([[Your version of Gtk+ will have problems with\n       closing open displays.  This is no problem if you just use\n       one display, but if you use more than one and close one of them\n       Emacs may crash.\n       See http://bugzilla.gnome.org/show_bug.cgi?id=85715]])\n    sleep 3\n  fi\n\nfi\nAC_SUBST(GTK_OBJ)\n\n\nif test \"${HAVE_GTK}\" = \"yes\"; then\n\n  dnl  GTK scrollbars resemble toolkit scrollbars a lot, so to avoid\n  dnl  a lot if #ifdef:s, say we have toolkit scrollbars.\n  if test \"$with_toolkit_scroll_bars\" != no; then\n    with_toolkit_scroll_bars=yes\n  fi\n\n  dnl  Check if we have the old file selection dialog declared and\n  dnl  in the link library.  In 2.x it may be in the library,\n  dnl  but not declared if deprecated featured has been selected out.\n  dnl  AC_CHECK_DECL checks for a macro, so check for GTK_TYPE_FILE_SELECTION.\n  HAVE_GTK_FILE_SELECTION=no\n  AC_CHECK_DECL(GTK_TYPE_FILE_SELECTION, HAVE_GTK_FILE_SELECTION=yes,\n                   HAVE_GTK_FILE_SELECTION=no, [AC_INCLUDES_DEFAULT\n#include <gtk/gtk.h>])\n  if test \"$HAVE_GTK_FILE_SELECTION\" = yes; then\n    AC_CHECK_FUNCS(gtk_file_selection_new)\n  fi\n\n  dnl Same as above for gtk_handle_box.\n  HAVE_GTK_HANDLE_BOX=no\n  AC_CHECK_DECL(GTK_TYPE_HANDLE_BOX, HAVE_GTK_HANDLE_BOX=yes,\n                   HAVE_GTK_HANDLE_BOX=no, [AC_INCLUDES_DEFAULT\n#include <gtk/gtk.h>])\n  if test \"$HAVE_GTK_HANDLE_BOX\" = yes; then\n    AC_CHECK_FUNCS(gtk_handle_box_new)\n  fi\n\n  dnl Same as above for gtk_tearoff_menu_item.\n  HAVE_GTK_TEAROFF_MENU_ITEM=no\n  AC_CHECK_DECL(GTK_TYPE_TEAROFF_MENU_ITEM, HAVE_GTK_TEAROFF_MENU_ITEM=yes,\n                   HAVE_GTK_TEAROFF_MENU_ITEM=no, [AC_INCLUDES_DEFAULT\n#include <gtk/gtk.h>])\n  if test \"$HAVE_GTK_TEAROFF_MENU_ITEM\" = yes; then\n    AC_CHECK_FUNCS(gtk_tearoff_menu_item_new)\n  fi\n\n  dnl Check for functions introduced in 2.14 and later.\n  AC_CHECK_FUNCS(gtk_widget_get_window gtk_widget_set_has_window \\\n                 gtk_dialog_get_action_area gtk_widget_get_sensitive \\\n                 gtk_widget_get_mapped gtk_adjustment_get_page_size \\\n                 gtk_orientable_set_orientation \\\n\t\t gtk_window_set_has_resize_grip)\n\n term_header=gtkutil.h\nfi\n\n\ndnl Enable xwidgets if GTK3 and WebKitGTK+ are available.\nHAVE_XWIDGETS=no\nXWIDGETS_OBJ=\nif test \"$with_xwidgets\" != \"no\"; then\n  test \"$USE_GTK_TOOLKIT\" = \"GTK3\" && test \"$window_system\" != \"none\" ||\n    AC_MSG_ERROR([xwidgets requested but gtk3 not used.])\n\n  WEBKIT_REQUIRED=1.4.0\n  WEBKIT_MODULES=\"webkitgtk-3.0 >= $WEBKIT_REQUIRED\"\n  EMACS_CHECK_MODULES([WEBKIT], [$WEBKIT_MODULES])\n  HAVE_XWIDGETS=$HAVE_WEBKIT\n  test $HAVE_XWIDGETS = yes ||\n    AC_MSG_ERROR([xwidgets requested but WebKitGTK+ not found.])\n\n  XWIDGETS_OBJ=xwidget.o\n  AC_DEFINE([HAVE_XWIDGETS], 1, [Define to 1 if you have xwidgets support.])\nfi\nAC_SUBST(XWIDGETS_OBJ)\n\nCFLAGS=$OLD_CFLAGS\nLIBS=$OLD_LIBS\n\ndnl D-Bus has been tested under GNU/Linux only.  Must be adapted for\ndnl other platforms.\nHAVE_DBUS=no\nDBUS_OBJ=\nif test \"${with_dbus}\" = \"yes\"; then\n   EMACS_CHECK_MODULES([DBUS], [dbus-1 >= 1.0])\n   if test \"$HAVE_DBUS\" = yes; then\n     AC_DEFINE(HAVE_DBUS, 1, [Define to 1 if using D-Bus.])\n     dnl dbus_watch_get_unix_fd has been introduced in D-Bus 1.1.1.\n     dnl dbus_type_is_valid and dbus_validate_* have been introduced in\n     dnl D-Bus 1.5.12.\n     OLD_LIBS=$LIBS\n     LIBS=\"$LIBS $DBUS_LIBS\"\n     AC_CHECK_FUNCS(dbus_watch_get_unix_fd \\\n\t\t    dbus_type_is_valid \\\n\t\t    dbus_validate_bus_name \\\n                    dbus_validate_path \\\n\t\t    dbus_validate_interface \\\n\t\t    dbus_validate_member)\n     LIBS=$OLD_LIBS\n     DBUS_OBJ=dbusbind.o\n   fi\nfi\nAC_SUBST(DBUS_CFLAGS)\nAC_SUBST(DBUS_LIBS)\nAC_SUBST(DBUS_OBJ)\n\ndnl GSettings has been tested under GNU/Linux only.\nHAVE_GSETTINGS=no\nif test \"${HAVE_X11}\" = \"yes\" && test \"${with_gsettings}\" = \"yes\"; then\n   EMACS_CHECK_MODULES([GSETTINGS], [gio-2.0 >= 2.26])\n   if test \"$HAVE_GSETTINGS\" = \"yes\"; then\n      old_CFLAGS=$CFLAGS\n      CFLAGS=\"$CFLAGS $GSETTINGS_CFLAGS\"\n      old_LIBS=$LIBS\n      LIBS=\"$LIBS $GSETTINGS_LIBS\"\n      AC_MSG_CHECKING([whether GSettings is in gio])\n      AC_LINK_IFELSE(\n         [AC_LANG_PROGRAM(\n\t     [[/* Check that gsettings really is present.  */\n\t     #include <glib-object.h>\n\t     #include <gio/gio.h>\n\t     ]],\n\t     [[\n\t       GSettings *settings;\n\t       GVariant *val = g_settings_get_value (settings, \"\");\n\t     ]])],\n\t [], HAVE_GSETTINGS=no)\n      AC_MSG_RESULT([$HAVE_GSETTINGS])\n\n      if test \"$HAVE_GSETTINGS\" = \"yes\"; then\n        AC_DEFINE(HAVE_GSETTINGS, 1, [Define to 1 if using GSettings.])\n\tSETTINGS_CFLAGS=\"$GSETTINGS_CFLAGS\"\n\tSETTINGS_LIBS=\"$GSETTINGS_LIBS\"\n      fi\n      CFLAGS=$old_CFLAGS\n      LIBS=$old_LIBS\n   fi\nfi\n\ndnl GConf has been tested under GNU/Linux only.\ndnl The version is really arbitrary, it is about the same age as Gtk+ 2.6.\nHAVE_GCONF=no\nif test \"${HAVE_X11}\" = \"yes\" && test \"${with_gconf}\" = \"yes\"; then\n   EMACS_CHECK_MODULES([GCONF], [gconf-2.0 >= 2.13])\n   if test \"$HAVE_GCONF\" = yes; then\n      AC_DEFINE(HAVE_GCONF, 1, [Define to 1 if using GConf.])\n      dnl Newer GConf doesn't link with g_objects, so this is not defined.\n      SETTINGS_CFLAGS=\"$SETTINGS_CFLAGS $GCONF_CFLAGS\"\n      SETTINGS_LIBS=\"$SETTINGS_LIBS $GCONF_LIBS\"\n   fi\nfi\n\nif test \"$HAVE_GSETTINGS\" = \"yes\" || test \"$HAVE_GCONF\" = \"yes\"; then\n    EMACS_CHECK_MODULES([GOBJECT], [gobject-2.0 >= 2.0])\n    if test \"$HAVE_GOBJECT\" = \"yes\"; then\n       SETTINGS_CFLAGS=\"$SETTINGS_CFLAGS $GOBJECT_CFLAGS\"\n       SETTINGS_LIBS=\"$SETTINGS_LIBS $GOBJECT_LIBS\"\n    fi\n    SAVE_CFLAGS=\"$CFLAGS\"\n    SAVE_LIBS=\"$LIBS\"\n    CFLAGS=\"$SETTINGS_CFLAGS $CFLAGS\"\n    LIBS=\"$SETTINGS_LIBS $LIBS\"\n    CFLAGS=\"$SAVE_CFLAGS\"\n    LIBS=\"$SAVE_LIBS\"\nfi\nAC_SUBST(SETTINGS_CFLAGS)\nAC_SUBST(SETTINGS_LIBS)\n\n\ndnl SELinux is available for GNU/Linux only.\nHAVE_LIBSELINUX=no\nLIBSELINUX_LIBS=\nif test \"${with_selinux}\" = \"yes\"; then\n   AC_CHECK_LIB([selinux], [lgetfilecon], HAVE_LIBSELINUX=yes, HAVE_LIBSELINUX=no)\n   if test \"$HAVE_LIBSELINUX\" = yes; then\n      AC_DEFINE(HAVE_LIBSELINUX, 1, [Define to 1 if using SELinux.])\n      LIBSELINUX_LIBS=-lselinux\n   fi\nfi\nAC_SUBST(LIBSELINUX_LIBS)\n\nHAVE_GNUTLS=no\nif test \"${with_gnutls}\" = \"yes\" ; then\n  EMACS_CHECK_MODULES([LIBGNUTLS], [gnutls >= 2.6.6],\n    [HAVE_GNUTLS=yes], [HAVE_GNUTLS=no])\n  if test \"${HAVE_GNUTLS}\" = \"yes\"; then\n    AC_DEFINE(HAVE_GNUTLS, 1, [Define if using GnuTLS.])\n    EMACS_CHECK_MODULES([LIBGNUTLS3], [gnutls >= 3.0.0],\n      [AC_DEFINE(HAVE_GNUTLS3, 1, [Define if using GnuTLS v3.])], [])\n  fi\n\n  # Windows loads GnuTLS dynamically\n  if test \"${opsys}\" = \"mingw32\"; then\n    LIBGNUTLS_LIBS=\n  fi\nfi\n\nAC_SUBST(LIBGNUTLS_LIBS)\nAC_SUBST(LIBGNUTLS_CFLAGS)\n\nNOTIFY_OBJ=\nNOTIFY_SUMMARY=no\n\ndnl MS Windows native file monitor is available for mingw32 only.\ncase $with_file_notification,$opsys in\n  w32,cygwin)\n    AC_MSG_ERROR(['--with-file-notification=w32' was specified, but\n    this is only supported on MS-Windows native and MinGW32 builds.\n    Consider using gfile instead.])\n    ;;\n  w32,* | yes,mingw32)\n    AC_CHECK_HEADER(windows.h)\n    if test \"$ac_cv_header_windows_h\" = yes ; then\n       AC_DEFINE(HAVE_W32NOTIFY, 1, [Define to 1 to use w32notify.])\n       NOTIFY_OBJ=w32notify.o\n       NOTIFY_SUMMARY=\"yes (w32)\"\n    fi ;;\nesac\n\ndnl inotify is available only on GNU/Linux.\ncase $with_file_notification,$NOTIFY_OBJ in\n  inotify, | yes,)\n    AC_CHECK_HEADER(sys/inotify.h)\n    if test \"$ac_cv_header_sys_inotify_h\" = yes ; then\n\tAC_CHECK_FUNC(inotify_init1)\n\tif test \"$ac_cv_func_inotify_init1\" = yes; then\n\t  AC_DEFINE(HAVE_INOTIFY, 1, [Define to 1 to use inotify.])\n\t  NOTIFY_OBJ=inotify.o\n\t  NOTIFY_SUMMARY=\"yes -lglibc (inotify)\"\n       fi\n    fi ;;\nesac\n\ndnl kqueue is available on BSD-like systems.\ncase $with_file_notification,$NOTIFY_OBJ in\n  kqueue,* | yes,)\n    EMACS_CHECK_MODULES([KQUEUE], [libkqueue])\n    if test \"$HAVE_KQUEUE\" = \"yes\"; then\n       AC_DEFINE(HAVE_KQUEUE, 1, [Define to 1 to use kqueue.])\n       CPPFLAGS=\"$CPPFLAGS -I/usr/include/kqueue\"\n       NOTIFY_CFLAGS=$KQUEUE_CFLAGS\n       NOTIFY_LIBS=$KQUEUE_LIBS\n       NOTIFY_OBJ=kqueue.o\n       NOTIFY_SUMMARY=\"yes -lkqueue\"\n    else\n       AC_SEARCH_LIBS(kqueue, [])\n       if test \"$ac_cv_search_kqueue\" != no; then\n         AC_DEFINE(HAVE_KQUEUE, 1, [Define to 1 to use kqueue.])\n\t NOTIFY_OBJ=kqueue.o\n\t NOTIFY_SUMMARY=\"yes (kqueue)\"\n       fi\n    fi ;;\nesac\n\ndnl g_file_monitor exists since glib 2.18.  G_FILE_MONITOR_EVENT_MOVED\ndnl has been added in glib 2.24.  It has been tested under\ndnl GNU/Linux only.\ncase $with_file_notification,$NOTIFY_OBJ in\n  gfile,* | yes,)\n    if test \"${HAVE_NS}\" = yes; then\n       AC_MSG_ERROR(['--with-file-notification=gfile' is not supported in NextStep builds.\nConsider kqueue instead.])\n    else\n       EMACS_CHECK_MODULES([GFILENOTIFY], [gio-2.0 >= 2.24])\n       if test \"$HAVE_GFILENOTIFY\" = \"yes\"; then\n\t  AC_DEFINE(HAVE_GFILENOTIFY, 1, [Define to 1 if using GFile.])\n\t  NOTIFY_CFLAGS=$GFILENOTIFY_CFLAGS\n\t  NOTIFY_LIBS=$GFILENOTIFY_LIBS\n\t  NOTIFY_OBJ=gfilenotify.o\n\t  NOTIFY_SUMMARY=\"yes -lgio (gfile)\"\n       fi\n    fi ;;\nesac\n\ncase $with_file_notification,$NOTIFY_OBJ in\n  yes,* | no,* | *,?*) ;;\n  *) AC_MSG_ERROR([File notification '$with_file_notification' requested but requirements not found.]) ;;\nesac\n\nif test -n \"$NOTIFY_OBJ\"; then\n   AC_DEFINE(USE_FILE_NOTIFY, 1, [Define to 1 if using file notifications.])\nfi\nAC_SUBST(NOTIFY_CFLAGS)\nAC_SUBST(NOTIFY_LIBS)\nAC_SUBST(NOTIFY_OBJ)\n\ndnl Do not put whitespace before the #include statements below.\ndnl Older compilers (eg sunos4 cc) choke on it.\nHAVE_XAW3D=no\nLUCID_LIBW=\nif test x\"${USE_X_TOOLKIT}\" = xmaybe || test x\"${USE_X_TOOLKIT}\" = xLUCID; then\n  if test \"$with_xaw3d\" != no; then\n    AC_CACHE_VAL(emacs_cv_xaw3d,\n    [AC_LINK_IFELSE([AC_LANG_PROGRAM([[\n#include <X11/Intrinsic.h>\n#include <X11/Xaw3d/Simple.h>]],\n      [[]])],\n      [AC_CHECK_LIB(Xaw3d, XawScrollbarSetThumb,\n                    emacs_cv_xaw3d=yes, emacs_cv_xaw3d=no)],\n      emacs_cv_xaw3d=no)])\n  else\n    emacs_cv_xaw3d=no\n  fi\n  if test $emacs_cv_xaw3d = yes; then\n    AC_MSG_CHECKING(for xaw3d)\n    AC_MSG_RESULT([yes; using Lucid toolkit])\n    USE_X_TOOLKIT=LUCID\n    HAVE_XAW3D=yes\n    LUCID_LIBW=-lXaw3d\n    AC_DEFINE(HAVE_XAW3D, 1,\n              [Define to 1 if you have the Xaw3d library (-lXaw3d).])\n  else\n    AC_MSG_CHECKING(for xaw3d)\n    AC_MSG_RESULT(no)\n    AC_MSG_CHECKING(for libXaw)\n    AC_CACHE_VAL(emacs_cv_xaw,\n    [AC_LINK_IFELSE([AC_LANG_PROGRAM([[\n#include <X11/Intrinsic.h>\n#include <X11/Xaw/Simple.h>]],\n      [[]])],\n      emacs_cv_xaw=yes,\n      emacs_cv_xaw=no)])\n    if test $emacs_cv_xaw = yes; then\n      AC_MSG_RESULT([yes; using Lucid toolkit])\n      USE_X_TOOLKIT=LUCID\n      LUCID_LIBW=-lXaw\n    elif test x\"${USE_X_TOOLKIT}\" = xLUCID; then\n      AC_MSG_ERROR([Lucid toolkit requires X11/Xaw include files])\n    else\n      AC_MSG_ERROR([No X toolkit could be found.\nIf you are sure you want Emacs compiled without an X toolkit, pass\n  --with-x-toolkit=no\nto configure.  Otherwise, install the development libraries for the toolkit\nthat you want to use (e.g. Gtk+) and re-run configure.])\n    fi\n  fi\nfi\n\nX_TOOLKIT_TYPE=$USE_X_TOOLKIT\n\nLIBXTR6=\nLIBXMU=\nif test \"${USE_X_TOOLKIT}\" != \"none\"; then\n  AC_MSG_CHECKING(X11 toolkit version)\n  AC_CACHE_VAL(emacs_cv_x11_toolkit_version_6,\n  [AC_LINK_IFELSE([AC_LANG_PROGRAM([[#include <X11/Intrinsic.h>]],\n[[#if XtSpecificationRelease < 6\nfail;\n#endif\n]])], emacs_cv_x11_toolkit_version_6=yes, emacs_cv_x11_toolkit_version_6=no)])\n  HAVE_X11XTR6=$emacs_cv_x11_toolkit_version_6\n  if test $emacs_cv_x11_toolkit_version_6 = yes; then\n    AC_MSG_RESULT(6 or newer)\n    AC_DEFINE(HAVE_X11XTR6, 1,\n\t      [Define to 1 if you have the X11R6 or newer version of Xt.])\n    LIBXTR6=\"-lSM -lICE\"\n    case \"$opsys\" in\n      ## Use libw.a along with X11R6 Xt.\n      unixware) LIBXTR6=\"$LIBXTR6 -lw\" ;;\n    esac\n  else\n    AC_MSG_RESULT(before 6)\n  fi\n\ndnl If using toolkit, check whether libXmu.a exists.\ndnl tranle@intellicorp.com says libXmu.a can need XtMalloc in libXt.a to link.\n  OLDLIBS=\"$LIBS\"\n  if test x$HAVE_X11XTR6 = xyes; then\n    OTHERLIBS='-lXt -lSM -lICE'\n  else\n    OTHERLIBS='-lXt'\n  fi\n  AC_SEARCH_LIBS([XmuConvertStandardSelection], [Xmu], [], [], [$OTHERLIBS])\n  if test \"X$LIBS\" != \"X$OLDLIBS\"; then\n    LIBXMU=$ac_cv_search_XmuConvertStandardSelection\n  fi\n  LIBS=$OLDLIBS\n  dnl ac_cv_search_XmuConvertStandardSelection is also referenced below.\nfi\nAC_SUBST(LIBXTR6)\nAC_SUBST(LIBXMU)\n\nLIBXP=\nif test \"${USE_X_TOOLKIT}\" = \"MOTIF\"; then\n  # OpenMotif may be installed in such a way on some GNU/Linux systems.\n  if test -d /usr/include/openmotif; then\n    CPPFLAGS=\"-I/usr/include/openmotif $CPPFLAGS\"\n    emacs_cv_openmotif=yes\n    case \"$canonical\" in\n      x86_64-*-linux-gnu* | powerpc64-*-linux-gnu* | sparc64-*-linux-gnu*)\n      test -d /usr/lib64/openmotif && LDFLAGS=\"-L/usr/lib64/openmotif $LDFLAGS\"\n      ;;\n      *)\n      test -d /usr/lib/openmotif && LDFLAGS=\"-L/usr/lib/openmotif $LDFLAGS\"\n    esac\n  else\n    emacs_cv_openmotif=no\n  fi\n  AC_CACHE_CHECK(for (Open)Motif version 2.1, emacs_cv_motif_version_2_1,\n  [AC_COMPILE_IFELSE([AC_LANG_PROGRAM([[#include <Xm/Xm.h>]],\n    [[#if XmVERSION > 2 || (XmVERSION == 2 && XmREVISION >= 1)\nint x = 5;\n#else\nMotif version prior to 2.1.\n#endif]])],\n    emacs_cv_motif_version_2_1=yes, emacs_cv_motif_version_2_1=no)])\n  if test $emacs_cv_motif_version_2_1 = yes; then\n    AC_CHECK_LIB(Xp, XpCreateContext, LIBXP=-lXp)\n    if test x$emacs_cv_openmotif = xyes; then\n      REAL_CPPFLAGS=\"-I/usr/include/openmotif $REAL_CPPFLAGS\"\n    fi\n  else\n    AC_CACHE_CHECK(for LessTif where some systems put it, emacs_cv_lesstif,\n    # We put this in CFLAGS temporarily to precede other -I options\n    # that might be in CFLAGS temporarily.\n    # We put this in CPPFLAGS where it precedes the other -I options.\n    OLD_CPPFLAGS=$CPPFLAGS\n    OLD_CFLAGS=$CFLAGS\n    CPPFLAGS=\"-I/usr/X11R6/LessTif/Motif1.2/include $CPPFLAGS\"\n    CFLAGS=\"-I/usr/X11R6/LessTif/Motif1.2/include $CFLAGS\"\n    [AC_COMPILE_IFELSE([AC_LANG_PROGRAM([[#include </usr/X11R6/LessTif/Motif1.2/include/Xm/Xm.h>]],\n      [[int x = 5;]])],\n      emacs_cv_lesstif=yes, emacs_cv_lesstif=no)])\n    if test $emacs_cv_lesstif = yes; then\n      # Make sure this -I option remains in CPPFLAGS after it is set\n      # back to REAL_CPPFLAGS.\n      # There is no need to change REAL_CFLAGS, because REAL_CFLAGS does not\n      # have those other -I options anyway.  Ultimately, having this\n      # directory ultimately in CPPFLAGS will be enough.\n      REAL_CPPFLAGS=\"-I/usr/X11R6/LessTif/Motif1.2/include $REAL_CPPFLAGS\"\n      LDFLAGS=\"-L/usr/X11R6/LessTif/Motif1.2/lib $LDFLAGS\"\n    else\n      CFLAGS=$OLD_CFLAGS\n      CPPFLAGS=$OLD_CPPFLAGS\n    fi\n  fi\n  AC_CHECK_HEADER([Xm/BulletinB.h], [],\n    [AC_MSG_ERROR([Motif toolkit requested but requirements not found.])])\nfi\n\ndnl Use toolkit scroll bars if configured for GTK or X toolkit and either\ndnl using Motif or Xaw3d is available, and unless\ndnl --with-toolkit-scroll-bars=no was specified.\n\nAH_TEMPLATE(USE_TOOLKIT_SCROLL_BARS,\n\t    [Define to 1 if we should use toolkit scroll bars.])dnl\nUSE_TOOLKIT_SCROLL_BARS=no\nif test \"${with_toolkit_scroll_bars}\" != \"no\"; then\n  if test \"${USE_X_TOOLKIT}\" != \"none\"; then\n    if test \"${USE_X_TOOLKIT}\" = \"MOTIF\"; then\n      AC_DEFINE(USE_TOOLKIT_SCROLL_BARS)\n      HAVE_XAW3D=no\n      USE_TOOLKIT_SCROLL_BARS=yes\n    elif test \"${HAVE_XAW3D}\" = \"yes\" || test \"${USE_X_TOOLKIT}\" = \"LUCID\"; then\n      AC_DEFINE(USE_TOOLKIT_SCROLL_BARS)\n      USE_TOOLKIT_SCROLL_BARS=yes\n    fi\n  elif test \"${HAVE_GTK}\" = \"yes\"; then\n    AC_DEFINE(USE_TOOLKIT_SCROLL_BARS)\n    USE_TOOLKIT_SCROLL_BARS=yes\n  elif test \"${HAVE_NS}\" = \"yes\"; then\n    AC_DEFINE(USE_TOOLKIT_SCROLL_BARS)\n    USE_TOOLKIT_SCROLL_BARS=yes\n  elif test \"${HAVE_W32}\" = \"yes\"; then\n    AC_DEFINE(USE_TOOLKIT_SCROLL_BARS)\n    USE_TOOLKIT_SCROLL_BARS=yes\n  fi\nfi\n\ndnl See if XIM is available.\nAC_COMPILE_IFELSE([AC_LANG_PROGRAM([[\n\t  #include <X11/Xlib.h>\n\t  #include <X11/Xresource.h>]],\n\t [[XIMProc  callback;]])],\n\t [HAVE_XIM=yes\n\t AC_DEFINE(HAVE_XIM, 1, [Define to 1 if XIM is available])],\n\t HAVE_XIM=no)\n\ndnl '--with-xim' now controls only the initial value of use_xim at run time.\n\nif test \"${with_xim}\" != \"no\"; then\n  AC_DEFINE(USE_XIM, 1,\n\t    [Define to 1 if we should use XIM, if it is available.])\nfi\n\n\nif test \"${HAVE_XIM}\" != \"no\"; then\n  late_CFLAGS=$CFLAGS\n  if test \"$GCC\" = yes; then\n    CFLAGS=\"$CFLAGS --pedantic-errors\"\n  fi\n  AC_COMPILE_IFELSE([AC_LANG_PROGRAM([[\n#include <X11/Xlib.h>\n#include <X11/Xresource.h>]],\n[[Display *display;\nXrmDatabase db;\nchar *res_name;\nchar *res_class;\nXIMProc  callback;\nXPointer *client_data;\n#ifndef __GNUC__\n/* If we're not using GCC, it's probably not XFree86, and this is\n   probably right, but we can't use something like --pedantic-errors.  */\nextern Bool XRegisterIMInstantiateCallback(Display*, XrmDatabase, char*,\n                                           char*, XIMProc, XPointer*);\n#endif\n(void)XRegisterIMInstantiateCallback(display, db, res_name, res_class, callback,\n   client_data);]])],\n    [emacs_cv_arg6_star=yes])\n  AH_TEMPLATE(XRegisterIMInstantiateCallback_arg6,\n         [Define to the type of the 6th arg of XRegisterIMInstantiateCallback,\neither XPointer or XPointer*.])dnl\n  if test \"$emacs_cv_arg6_star\" = yes; then\n    AC_DEFINE(XRegisterIMInstantiateCallback_arg6, [XPointer*])\n  else\n    AC_DEFINE(XRegisterIMInstantiateCallback_arg6, [XPointer])\n  fi\n  CFLAGS=$late_CFLAGS\nfi\n\n### Start of font-backend (under any platform) section.\n# (nothing here yet -- this is a placeholder)\n### End of font-backend (under any platform) section.\n\n### Start of font-backend (under X11) section.\nif test \"${HAVE_X11}\" = \"yes\"; then\n    ## Use -lXft if available, unless '--with-xft=no'.\n    HAVE_XFT=maybe\n    if test \"x${with_x}\" = \"xno\"; then\n      with_xft=\"no\";\n    fi\n\n    if test \"$with_xft\" != no; then\n      EMACS_CHECK_MODULES([FONTCONFIG], [fontconfig >= 2.2.0])\n      with_xft=$HAVE_FONTCONFIG\n    fi\n\n    if test \"x${with_xft}\" != \"xno\"; then\n\n      EMACS_CHECK_MODULES([XFT], [xft >= 0.13.0], [], [HAVE_XFT=no])\n      ## Because xftfont.c uses XRenderQueryExtension, we also\n      ## need to link to -lXrender.\n      HAVE_XRENDER=no\n      AC_CHECK_LIB(Xrender, XRenderQueryExtension, HAVE_XRENDER=yes)\n      if test \"$HAVE_XFT\" != no && test \"$HAVE_XRENDER\" != no; then\n\tOLD_CPPFLAGS=\"$CPPFLAGS\"\n\tOLD_CFLAGS=\"$CFLAGS\"\n\tOLD_LIBS=\"$LIBS\"\n\tCPPFLAGS=\"$CPPFLAGS $XFT_CFLAGS\"\n\tCFLAGS=\"$CFLAGS $XFT_CFLAGS\"\n\tXFT_LIBS=\"-lXrender $XFT_LIBS\"\n\tLIBS=\"$XFT_LIBS $LIBS\"\n\tAC_CHECK_HEADER(X11/Xft/Xft.h,\n\t  AC_CHECK_LIB(Xft, XftFontOpen, HAVE_XFT=yes, , $XFT_LIBS) , ,\n          [[#include <X11/X.h>]])\n\n\tif test \"${HAVE_XFT}\" = \"yes\"; then\n\t  AC_DEFINE(HAVE_XFT, 1, [Define to 1 if you have the Xft library.])\n\t    AC_SUBST(XFT_LIBS)\n\t  C_SWITCH_X_SITE=\"$C_SWITCH_X_SITE $XFT_CFLAGS\"\n\tfi                        # \"${HAVE_XFT}\" = \"yes\"\n\tCPPFLAGS=$OLD_CPPFLAGS\n\tCFLAGS=$OLD_CFLAGS\n\tLIBS=$OLD_LIBS\n      fi                          # \"$HAVE_XFT\" != no\n    fi                            # \"x${with_xft}\" != \"xno\"\n\n    ## We used to allow building with FreeType and without Xft.\n    ## However, the ftx font backend driver is not in good shape.\n    if test \"$HAVE_XFT\" != \"yes\"; then\n       dnl For the \"Does Emacs use\" message at the end.\n       HAVE_XFT=no\n       HAVE_FREETYPE=no\n    else\n       dnl Strict linkers fail with\n       dnl ftfont.o: undefined reference to symbol 'FT_New_Face'\n       dnl if -lfreetype is not specified.\n       dnl The following is needed to set FREETYPE_LIBS.\n       EMACS_CHECK_MODULES([FREETYPE], [freetype2])\n\n       test \"$HAVE_FREETYPE\" = \"no\" && AC_MSG_ERROR(libxft requires libfreetype)\n    fi\n\n    HAVE_LIBOTF=no\n    if test \"${HAVE_FREETYPE}\" = \"yes\"; then\n      AC_DEFINE(HAVE_FREETYPE, 1,\n\t\t[Define to 1 if using the freetype and fontconfig libraries.])\n      if test \"${with_libotf}\" != \"no\"; then\n\tEMACS_CHECK_MODULES([LIBOTF], [libotf])\n\tif test \"$HAVE_LIBOTF\" = \"yes\"; then\n\t  AC_DEFINE(HAVE_LIBOTF, 1, [Define to 1 if using libotf.])\n\t  AC_CHECK_LIB(otf, OTF_get_variation_glyphs,\n\t\t       HAVE_OTF_GET_VARIATION_GLYPHS=yes,\n\t\t       HAVE_OTF_GET_VARIATION_GLYPHS=no)\n\t  if test \"${HAVE_OTF_GET_VARIATION_GLYPHS}\" = \"yes\"; then\n\t    AC_DEFINE(HAVE_OTF_GET_VARIATION_GLYPHS, 1,\n\t\t      [Define to 1 if libotf has OTF_get_variation_glyphs.])\n\t  fi\n\tfi\n      fi\n    dnl FIXME should there be an error if HAVE_FREETYPE != yes?\n    dnl Does the new font backend require it, or can it work without it?\n    fi\n\n    HAVE_M17N_FLT=no\n    if test \"${HAVE_LIBOTF}\" = yes; then\n      if test \"${with_m17n_flt}\" != \"no\"; then\n\tEMACS_CHECK_MODULES([M17N_FLT], [m17n-flt])\n\tif test \"$HAVE_M17N_FLT\" = \"yes\"; then\n\t  AC_DEFINE(HAVE_M17N_FLT, 1, [Define to 1 if using libm17n-flt.])\n\tfi\n      fi\n    fi\nelse\n    HAVE_XFT=no\n    HAVE_FREETYPE=no\n    HAVE_LIBOTF=no\n    HAVE_M17N_FLT=no\nfi\n\n### End of font-backend (under X11) section.\n\nAC_SUBST(FREETYPE_CFLAGS)\nAC_SUBST(FREETYPE_LIBS)\nAC_SUBST(FONTCONFIG_CFLAGS)\nAC_SUBST(FONTCONFIG_LIBS)\nAC_SUBST(LIBOTF_CFLAGS)\nAC_SUBST(LIBOTF_LIBS)\nAC_SUBST(M17N_FLT_CFLAGS)\nAC_SUBST(M17N_FLT_LIBS)\n\nHAVE_CAIRO=no\nif test \"${HAVE_X11}\" = \"yes\"; then\n  if test \"${with_cairo}\" != \"no\"; then\n    CAIRO_REQUIRED=1.12.0\n    CAIRO_MODULE=\"cairo >= $CAIRO_REQUIRED\"\n    EMACS_CHECK_MODULES(CAIRO, $CAIRO_MODULE)\n    if test $HAVE_CAIRO = yes; then\n      AC_DEFINE(USE_CAIRO, 1, [Define to 1 if using cairo.])\n    else\n      AC_MSG_ERROR([cairo requested but not found.])\n    fi\n\n    CFLAGS=\"$CFLAGS $CAIRO_CFLAGS\"\n    LIBS=\"$LIBS $CAIRO_LIBS\"\n    AC_SUBST(CAIRO_CFLAGS)\n    AC_SUBST(CAIRO_LIBS)\n  fi\nfi\n\nif test \"${HAVE_X11}\" = \"yes\"; then\n  AC_CHECK_HEADER(X11/Xlib-xcb.h,\n    AC_CHECK_LIB(xcb, xcb_translate_coordinates, HAVE_XCB=yes))\n  if test \"${HAVE_XCB}\" = \"yes\"; then\n    AC_CHECK_LIB(X11-xcb, XGetXCBConnection, HAVE_X11_XCB=yes)\n    if test \"${HAVE_X11_XCB}\" = \"yes\"; then\n      AC_DEFINE(USE_XCB, 1,\n[Define to 1 if you have the XCB library and X11-XCB library for mixed\n   X11/XCB programming.])\n      XCB_LIBS=\"-lX11-xcb -lxcb\"\n      AC_SUBST(XCB_LIBS)\n    fi\n  fi\nfi\n\n### Use -lXpm if available, unless '--with-xpm=no'.\n### mingw32 doesn't use -lXpm, since it loads the library dynamically.\n### In the Cygwin-w32 build, we need to use /usr/include/noX/X11/xpm.h\n### rather than /usr/include/X11/xpm.h, so we set CPPFLAGS (and\n### LDFLAGS) accordingly.\nHAVE_XPM=no\nLIBXPM=\nif test \"${HAVE_W32}\" = \"yes\" && test \"${opsys}\" = \"cygwin\"; then\n  if test \"${with_xpm}\" != \"no\"; then\n    SAVE_CPPFLAGS=\"$CPPFLAGS\"\n    SAVE_LDFLAGS=\"$LDFLAGS\"\n    CPPFLAGS=\"$CPPFLAGS -I/usr/include/noX\"\n    LDFLAGS=\"$LDFLAGS -L/usr/lib/noX\"\n    AC_CHECK_HEADER(X11/xpm.h,\n      [AC_CHECK_LIB(Xpm, XpmReadFileToImage, HAVE_XPM=yes)])\n    if test \"${HAVE_XPM}\" = \"yes\"; then\n      AC_MSG_CHECKING(for XpmReturnAllocPixels preprocessor define)\n      AC_EGREP_CPP(no_return_alloc_pixels,\n      [#include \"X11/xpm.h\"\n#ifndef XpmReturnAllocPixels\nno_return_alloc_pixels\n#endif\n      ], HAVE_XPM=no, HAVE_XPM=yes)\n\n      if test \"${HAVE_XPM}\" = \"yes\"; then\n        REAL_CPPFLAGS=\"$REAL_CPPFLAGS -I/usr/include/noX\"\n\tAC_MSG_RESULT(yes)\n      else\n\tAC_MSG_RESULT(no)\n        CPPFLAGS=\"$SAVE_CPPFLAGS\"\n        LDFLAGS=\"$SAVE_LDFLAGS\"\n      fi\n    fi\n  fi\n\n  if test \"${HAVE_XPM}\" = \"yes\"; then\n    AC_DEFINE(HAVE_XPM, 1, [Define to 1 if you have the Xpm library (-lXpm).])\n    LIBXPM=-lXpm\n  fi\nfi\n\nif test \"${HAVE_X11}\" = \"yes\"; then\n  dnl Avoid Xpm on AIX unless requested, as it crashes; see Bug#17598.\n  test \"$opsys$with_xpm_set\" = aix4-2 && with_xpm=no\n\n  if test \"${with_xpm}\" != \"no\"; then\n    AC_CHECK_HEADER(X11/xpm.h,\n      [AC_CHECK_LIB(Xpm, XpmReadFileToPixmap, HAVE_XPM=yes, , -lX11)])\n    if test \"${HAVE_XPM}\" = \"yes\"; then\n      AC_MSG_CHECKING(for XpmReturnAllocPixels preprocessor define)\n      AC_EGREP_CPP(no_return_alloc_pixels,\n      [#include \"X11/xpm.h\"\n#ifndef XpmReturnAllocPixels\nno_return_alloc_pixels\n#endif\n      ], HAVE_XPM=no, HAVE_XPM=yes)\n\n      if test \"${HAVE_XPM}\" = \"yes\"; then\n\tAC_MSG_RESULT(yes)\n      else\n\tAC_MSG_RESULT(no)\n      fi\n    fi\n  fi\n\n  if test \"${HAVE_XPM}\" = \"yes\"; then\n    AC_DEFINE(HAVE_XPM, 1, [Define to 1 if you have the Xpm library (-lXpm).])\n    LIBXPM=-lXpm\n  elif test \"$opsys,$LUCID_LIBW\" = aix4-2,-lXaw; then\n    dnl AIX -lXaw needs -lXpm linked too; see Bug#17598 Message#152.\n    LIBXPM=-lXpm\n  fi\nfi\n\n### FIXME: Perhaps regroup to minimize code duplication due to MinGW's\n### slightly different requirements wrt image libraries (it doesn't\n### use -lXpm because it loads the xpm shared library dynamically at\n### run time).\nif test \"${opsys}\" = \"mingw32\"; then\n  if test \"${with_xpm}\" != \"no\"; then\n    AC_CHECK_HEADER(X11/xpm.h, HAVE_XPM=yes, HAVE_XPM=no, [\n#define FOR_MSW 1])\n  fi\n\n  if test \"${HAVE_XPM}\" = \"yes\"; then\n    AC_DEFINE(HAVE_XPM, 1, [Define to 1 if you have the Xpm library (-lXpm).])\n  fi\nfi\n\nAC_SUBST(LIBXPM)\n\n### Use -ljpeg if available, unless '--with-jpeg=no'.\nHAVE_JPEG=no\nLIBJPEG=\nif test \"${with_jpeg}\" != \"no\"; then\n  AC_CACHE_CHECK([for jpeglib 6b or later],\n    [emacs_cv_jpeglib],\n    [OLD_LIBS=$LIBS\n     for emacs_cv_jpeglib in yes -ljpeg no; do\n       case $emacs_cv_jpeglib in\n\t yes) ;;\n         no) break;;\n\t *) LIBS=\"$LIBS $emacs_cv_jpeglib\";;\n       esac\n       AC_LINK_IFELSE(\n\t [AC_LANG_PROGRAM(\n\t    [[#undef HAVE_STDLIB_H /* Avoid config.h/jpeglib.h collision.  */\n\t      #include <stdio.h> /* jpeglib.h needs FILE and size_t.  */\n\t      #include <jpeglib.h>\n\t      #include <jerror.h>\n\t      char verify[JPEG_LIB_VERSION < 62 ? -1 : 1];\n\t      struct jpeg_decompress_struct cinfo;\n\t    ]],\n\t    [[\n\t      jpeg_create_decompress (&cinfo);\n\t      WARNMS (&cinfo, JWRN_JPEG_EOF);\n\t      jpeg_destroy_decompress (&cinfo);\n\t    ]])],\n\t [emacs_link_ok=yes],\n\t [emacs_link_ok=no])\n       LIBS=$OLD_LIBS\n       test $emacs_link_ok = yes && break\n     done])\n  if test \"$emacs_cv_jpeglib\" != no; then\n    HAVE_JPEG=yes\n    AC_DEFINE([HAVE_JPEG], 1,\n      [Define to 1 if you have the jpeg library (typically -ljpeg).])\n    ### mingw32 doesn't use -ljpeg, since it loads the library\n    ### dynamically when needed, and doesn't want a run-time\n    ### dependency on the jpeglib DLL.\n    test \"$emacs_cv_jpeglib\" != yes && test \"${opsys}\" != \"mingw32\" \\\n    && LIBJPEG=$emacs_cv_jpeglib\n  fi\nfi\nAC_SUBST(LIBJPEG)\n\nHAVE_ZLIB=no\nLIBZ=\nif test \"${with_zlib}\" != \"no\"; then\n  OLIBS=$LIBS\n  AC_SEARCH_LIBS([inflateEnd], [z], [HAVE_ZLIB=yes])\n  LIBS=$OLIBS\n  case $ac_cv_search_inflateEnd in\n    -*) LIBZ=$ac_cv_search_inflateEnd ;;\n  esac\nfi\nif test \"${HAVE_ZLIB}\" = \"yes\"; then\n  AC_DEFINE([HAVE_ZLIB], 1, [Define to 1 if you have the zlib library (-lz).])\n  ### mingw32 doesn't use -lz, since it loads the library dynamically.\n  if test \"${opsys}\" = \"mingw32\"; then\n     LIBZ=\n  fi\nfi\nAC_SUBST(LIBZ)\n\n### Dynamic modules support\nLIBMODULES=\nHAVE_MODULES=no\nMODULES_OBJ=\nMODULES_SUFFIX=\nif test \"${with_modules}\" != \"no\"; then\n  case $opsys in\n    gnu|gnu-linux)\n      LIBMODULES=\"-ldl\"\n      MODULES_SUFFIX=\".so\"\n      HAVE_MODULES=yes\n      ;;\n    cygwin|mingw32)\n      MODULES_SUFFIX=\".dll\"\n      HAVE_MODULES=yes\n      ;;\n    darwin)\n      MODULES_SUFFIX=\".so\"\n      HAVE_MODULES=yes\n      ;;\n    *)\n      # BSD systems have dlopen in libc.\n      AC_CHECK_FUNC([dlopen],\n        [MODULES_SUFFIX=\".so\"\n         HAVE_MODULES=yes])\n      ;;\n  esac\n\n  if test \"${HAVE_MODULES}\" = no; then\n    AC_MSG_ERROR([Dynamic modules are not supported on your system])\n  else\n    SAVE_LIBS=$LIBS\n    LIBS=\"$LIBS $LIBMODULES\"\n    AC_CHECK_FUNCS([dladdr dlfunc])\n    LIBS=$SAVE_LIBS\n  fi\nfi\n\nif test \"${HAVE_MODULES}\" = yes; then\n   MODULES_OBJ=\"dynlib.o emacs-module.o\"\n   AC_DEFINE(HAVE_MODULES, 1, [Define to 1 if dynamic modules are enabled])\n   AC_DEFINE_UNQUOTED(MODULES_SUFFIX, \"$MODULES_SUFFIX\",\n     [System extension for dynamic libraries])\nfi\nAC_SUBST(MODULES_OBJ)\nAC_SUBST(LIBMODULES)\n\n### Use -lpng if available, unless '--with-png=no'.\nHAVE_PNG=no\nLIBPNG=\nPNG_CFLAGS=\nif test \"${NS_IMPL_COCOA}\" = yes; then\n  : # Nothing to do\nelif test \"${with_png}\" != no; then\n  # mingw32 loads the library dynamically.\n  if test \"$opsys\" = mingw32; then\n    AC_CHECK_HEADER([png.h], [HAVE_PNG=yes])\n  elif test \"${HAVE_X11}\" = \"yes\" || test \"${HAVE_W32}\" = \"yes\"; then\n    AC_MSG_CHECKING([for png])\n    png_cflags=`(libpng-config --cflags) 2>&AS_MESSAGE_LOG_FD` &&\n    png_libs=`(libpng-config --libs) 2>&AS_MESSAGE_LOG_FD` || {\n      # libpng-config does not work; configure by hand.\n      # Debian unstable as of July 2003 has multiple libpngs, and puts png.h\n      # in /usr/include/libpng.\n      if test -r /usr/include/libpng/png.h &&\n\t test ! -r /usr/include/png.h; then\n\tpng_cflags=-I/usr/include/libpng\n      else\n\tpng_cflags=\n      fi\n      png_libs='-lpng'\n    }\n    SAVE_CFLAGS=$CFLAGS\n    SAVE_LIBS=$LIBS\n    CFLAGS=\"$CFLAGS $png_cflags\"\n    LIBS=\"$png_libs -lz -lm $LIBS\"\n    AC_LINK_IFELSE(\n      [AC_LANG_PROGRAM([[#include <png.h>]],\n\t [[return !png_get_channels (0, 0);]])],\n      [HAVE_PNG=yes\n       PNG_CFLAGS=`AS_ECHO([\"$png_cflags\"]) | sed -e \"$edit_cflags\"`\n       LIBPNG=$png_libs\n       # $LIBPNG requires explicit -lz in some cases.\n       # We don't know what those cases are, exactly, so play it safe and\n       # append -lz to any nonempty $LIBPNG, unless we're already using LIBZ.\n       if test -n \"$LIBPNG\" && test -z \"$LIBZ\"; then\n\t LIBPNG=\"$LIBPNG -lz\"\n       fi])\n    CFLAGS=$SAVE_CFLAGS\n    LIBS=$SAVE_LIBS\n    AC_MSG_RESULT([$HAVE_PNG])\n  fi\nfi\nif test $HAVE_PNG = yes; then\n  AC_DEFINE([HAVE_PNG], [1], [Define to 1 if you have the png library.])\n\n  SAVE_CFLAGS=$CFLAGS\n  CFLAGS=\"$CFLAGS $PNG_CFLAGS\"\n  AC_CHECK_DECL([png_longjmp],\n    [],\n    [AC_DEFINE([PNG_DEPSTRUCT], [],\n       [Define to empty to suppress deprecation warnings when building\n\twith --enable-gcc-warnings and with libpng versions before 1.5,\n\twhich lack png_longjmp.])],\n    [[#include <png.h>\n    ]])\n  CFLAGS=$SAVE_CFLAGS\nfi\nAC_SUBST(LIBPNG)\nAC_SUBST(PNG_CFLAGS)\n\n### Use -ltiff if available, unless '--with-tiff=no'.\n### mingw32 doesn't use -ltiff, since it loads the library dynamically.\nHAVE_TIFF=no\nLIBTIFF=\nif test \"${opsys}\" = \"mingw32\"; then\n  if test \"${with_tiff}\" != \"no\"; then\n    AC_CHECK_HEADER(tiffio.h, HAVE_TIFF=yes, HAVE_TIFF=no)\n  fi\n  if test \"${HAVE_TIFF}\" = \"yes\"; then\n    AC_DEFINE(HAVE_TIFF, 1, [Define to 1 if you have the tiff library (-ltiff).])\n  fi\nelif test \"${HAVE_X11}\" = \"yes\" || test \"${HAVE_W32}\" = \"yes\"; then\n  if test \"${with_tiff}\" != \"no\"; then\n    AC_CHECK_HEADER(tiffio.h,\n      [tifflibs=\"-lz -lm\"\n      # At least one tiff package requires the jpeg library.\n      if test \"${HAVE_JPEG}\" = yes; then tifflibs=\"-ljpeg $tifflibs\"; fi\n      AC_CHECK_LIB(tiff, TIFFGetVersion, HAVE_TIFF=yes, , $tifflibs)])\n  fi\n\n  if test \"${HAVE_TIFF}\" = \"yes\"; then\n    AC_DEFINE(HAVE_TIFF, 1, [Define to 1 if you have the tiff library (-ltiff).])\n    dnl FIXME -lz -lm, as per libpng?\n    LIBTIFF=-ltiff\n  fi\nfi\nAC_SUBST(LIBTIFF)\n\n### Use -lgif or -lungif if available, unless '--with-gif=no'.\n### mingw32 doesn't use -lgif/-lungif, since it loads the library dynamically.\nHAVE_GIF=no\nLIBGIF=\nif test \"${opsys}\" = \"mingw32\"; then\n  if test \"${with_gif}\" != \"no\"; then\n    AC_CHECK_HEADER(gif_lib.h, HAVE_GIF=yes, HAVE_GIF=no)\n  fi\n  if test \"${HAVE_GIF}\" = \"yes\"; then\n    AC_DEFINE(HAVE_GIF, 1, [Define to 1 if you have a gif (or ungif) library.])\n  fi\nelif test \"${HAVE_X11}\" = \"yes\" && test \"${with_gif}\" != \"no\" \\\n        || test \"${HAVE_W32}\" = \"yes\"; then\n  AC_CHECK_HEADER(gif_lib.h,\n# EGifPutExtensionLast only exists from version libungif-4.1.0b1.\n# Earlier versions can crash Emacs, but version 5.0 removes EGifPutExtensionLast.\n    [AC_CHECK_LIB(gif, GifMakeMapObject, HAVE_GIF=yes,\n        [AC_CHECK_LIB(gif, EGifPutExtensionLast, HAVE_GIF=yes, HAVE_GIF=maybe)])])\n\n  if test \"$HAVE_GIF\" = yes; then\n    LIBGIF=-lgif\n  elif test \"$HAVE_GIF\" = maybe; then\n# If gif_lib.h but no libgif, try libungif.\n    AC_CHECK_LIB(ungif, EGifPutExtensionLast, HAVE_GIF=yes, HAVE_GIF=no)\n    test \"$HAVE_GIF\" = yes && LIBGIF=-lungif\n  fi\n\n  if test \"${HAVE_GIF}\" = \"yes\"; then\n    AC_DEFINE(HAVE_GIF, 1, [Define to 1 if you have a gif (or ungif) library.])\n  fi\nfi\nAC_SUBST(LIBGIF)\n\ndnl Check for required libraries.\nif test \"${HAVE_X11}\" = \"yes\"; then\n  MISSING=\"\"\n  WITH_NO=\"\"\n  test \"${with_xpm}\" != \"no\" && test \"${HAVE_XPM}\" != \"yes\" &&\n    MISSING=\"libXpm\" && WITH_NO=\"--with-xpm=no\"\n  test \"${with_jpeg}\" != \"no\" && test \"${HAVE_JPEG}\" != \"yes\" &&\n    MISSING=\"$MISSING libjpeg\" && WITH_NO=\"$WITH_NO --with-jpeg=no\"\n  test \"${with_png}\" != \"no\" && test \"${HAVE_PNG}\" != \"yes\" &&\n    MISSING=\"$MISSING libpng\" && WITH_NO=\"$WITH_NO --with-png=no\"\n  test \"${with_gif}\" != \"no\" && test \"${HAVE_GIF}\" != \"yes\" &&\n    MISSING=\"$MISSING libgif/libungif\" && WITH_NO=\"$WITH_NO --with-gif=no\"\n  test \"${with_tiff}\" != \"no\" && test \"${HAVE_TIFF}\" != \"yes\" &&\n    MISSING=\"$MISSING libtiff\" && WITH_NO=\"$WITH_NO --with-tiff=no\"\n\n  if test \"X${MISSING}\" != X; then\n    AC_MSG_ERROR([The following required libraries were not found:\n    $MISSING\nMaybe some development libraries/packages are missing?\nIf you don't want to link with them give\n    $WITH_NO\nas options to configure])\n  fi\nfi\n\n### Use -lgpm if available, unless '--with-gpm=no'.\nHAVE_GPM=no\nLIBGPM=\nif test \"${with_gpm}\" != \"no\"; then\n  AC_CHECK_HEADER(gpm.h,\n    [AC_CHECK_LIB(gpm, Gpm_Open, HAVE_GPM=yes)])\n\n  if test \"${HAVE_GPM}\" = \"yes\"; then\n    AC_DEFINE(HAVE_GPM, 1, [Define to 1 if you have the gpm library (-lgpm).])\n    LIBGPM=-lgpm\n  fi\nfi\nAC_SUBST(LIBGPM)\n\ndnl Check for malloc/malloc.h on darwin\nAC_CHECK_HEADERS_ONCE(malloc/malloc.h)\n\nGNUSTEP_CFLAGS=\n### Use NeXTstep API to implement GUI.\nif test \"${HAVE_NS}\" = \"yes\"; then\n  AC_DEFINE(HAVE_NS, 1, [Define to 1 if you are using the NeXTstep API, either GNUstep or Cocoa on macOS.])\n  if test \"${NS_IMPL_COCOA}\" = \"yes\"; then\n    AC_DEFINE(NS_IMPL_COCOA, 1, [Define to 1 if you are using NS windowing under macOS.])\n  fi\n  if test \"${NS_IMPL_GNUSTEP}\" = \"yes\"; then\n    AC_DEFINE(NS_IMPL_GNUSTEP, 1, [Define to 1 if you are using NS windowing under GNUstep.])\n    if test $NS_GNUSTEP_CONFIG != yes; then\n      # See also .m.o rule in src/Makefile.in.  */\n      # FIXME: are all these flags really needed?  Document here why.  */\n      GNUSTEP_CFLAGS=\"-D_REENTRANT -fPIC -fno-strict-aliasing -I${GNUSTEP_SYSTEM_HEADERS} ${GNUSTEP_LOCAL_HEADERS}\"\n      ## Extra CFLAGS applied to src/*.m files.\n      GNU_OBJC_CFLAGS=\"$GNU_OBJC_CFLAGS -fgnu-runtime -Wno-import -fconstant-string-class=NSConstantString -DGNUSTEP_BASE_LIBRARY=1 -DGNU_GUI_LIBRARY=1 -DGNU_RUNTIME=1 -DGSWARN -DGSDIAGNOSE\"\n    fi\n  fi\n  OTHER_FILES=ns-app\nfi\n\n### Use session management (-lSM -lICE) if available\nHAVE_X_SM=no\nLIBXSM=\nif test \"${HAVE_X11}\" = \"yes\"; then\n  AC_CHECK_HEADER(X11/SM/SMlib.h,\n    [AC_CHECK_LIB(SM, SmcOpenConnection, HAVE_X_SM=yes, , -lICE)])\n\n  if test \"${HAVE_X_SM}\" = \"yes\"; then\n    AC_DEFINE(HAVE_X_SM, 1, [Define to 1 if you have the SM library (-lSM).])\n    LIBXSM=\"-lSM -lICE\"\n  fi\nfi\nAC_SUBST(LIBXSM)\n\n### Use XRandr (-lXrandr) if available\nHAVE_XRANDR=no\nif test \"${HAVE_X11}\" = \"yes\"; then\n  XRANDR_REQUIRED=1.2.2\n  XRANDR_MODULES=\"xrandr >= $XRANDR_REQUIRED\"\n  EMACS_CHECK_MODULES([XRANDR], [$XRANDR_MODULES])\n  if test $HAVE_XRANDR = no; then\n    # Test old way in case pkg-config doesn't have it (older machines).\n    # Include Xrender.h by hand to work around bug in older Xrandr.h\n    # (e.g. RHEL5) and silence (harmless) configure warning (bug#18465).\n    AC_CHECK_HEADER(X11/extensions/Xrandr.h,\n      [AC_CHECK_LIB(Xrandr, XRRGetScreenResources, HAVE_XRANDR=yes)],\n      [], [AC_INCLUDES_DEFAULT\n#include <X11/extensions/Xrender.h>])\n    if test $HAVE_XRANDR = yes; then\n      XRANDR_LIBS=-lXrandr\n    fi\n  fi\n  if test $HAVE_XRANDR = yes; then\n    AC_DEFINE(HAVE_XRANDR, 1, [Define to 1 if you have the XRandr extension.])\n  fi\nfi\nAC_SUBST(XRANDR_CFLAGS)\nAC_SUBST(XRANDR_LIBS)\n\n### Use Xinerama (-lXinerama) if available\nHAVE_XINERAMA=no\nif test \"${HAVE_X11}\" = \"yes\"; then\n  XINERAMA_REQUIRED=1.0.2\n  XINERAMA_MODULES=\"xinerama >= $XINERAMA_REQUIRED\"\n  EMACS_CHECK_MODULES([XINERAMA], [$XINERAMA_MODULES])\n  if test $HAVE_XINERAMA = no; then\n    # Test old way in case pkg-config doesn't have it (older machines).\n    AC_CHECK_HEADER(X11/extensions/Xinerama.h,\n      [AC_CHECK_LIB(Xinerama, XineramaQueryExtension, HAVE_XINERAMA=yes)])\n    if test $HAVE_XINERAMA = yes; then\n      XINERAMA_LIBS=-lXinerama\n    fi\n  fi\n  if test $HAVE_XINERAMA = yes; then\n    AC_DEFINE(HAVE_XINERAMA, 1, [Define to 1 if you have the Xinerama extension.])\n  fi\nfi\nAC_SUBST(XINERAMA_CFLAGS)\nAC_SUBST(XINERAMA_LIBS)\n\n### Use Xfixes (-lXfixes) if available\nHAVE_XFIXES=no\nif test \"${HAVE_X11}\" = \"yes\"; then\n  XFIXES_REQUIRED=4.0.0\n  XFIXES_MODULES=\"xfixes >= $XFIXES_REQUIRED\"\n  EMACS_CHECK_MODULES([XFIXES], [$XFIXES_MODULES])\n  if test $HAVE_XFIXES = no; then\n    # Test old way in case pkg-config doesn't have it (older machines).\n    AC_CHECK_HEADER(X11/extensions/Xfixes.h,\n      [AC_CHECK_LIB(Xfixes, XFixesHideCursor, HAVE_XFIXES=yes)])\n    if test $HAVE_XFIXES = yes; then\n      XFIXES_LIBS=-lXfixes\n    fi\n  fi\n  if test $HAVE_XFIXES = yes; then\n    AC_DEFINE(HAVE_XFIXES, 1, [Define to 1 if you have the Xfixes extension.])\n  fi\nfi\nAC_SUBST(XFIXES_CFLAGS)\nAC_SUBST(XFIXES_LIBS)\n\n### Use libxml (-lxml2) if available\n### mingw32 doesn't use -lxml2, since it loads the library dynamically.\nHAVE_LIBXML2=no\nif test \"${with_xml2}\" != \"no\"; then\n  ### I'm not sure what the version number should be, so I just guessed.\n  EMACS_CHECK_MODULES([LIBXML2], [libxml-2.0 > 2.6.17])\n  # Built-in libxml2 on OS X 10.8 lacks libxml-2.0.pc.\n  if test \"${HAVE_LIBXML2}\" != \"yes\" && test \"$opsys\" = \"darwin\"; then\n    SAVE_CPPFLAGS=\"$CPPFLAGS\"\n    if test -z \"$xcsdkdir\" -a -n \"$XCRUN\" -a ! -d /usr/include; then\n      dnl /usr/include is not found.  Try Xcode SDK dir if it is sane.\n      xcsdkdir=`$XCRUN --show-sdk-path 2>/dev/null`\n      case $xcsdkdir in\n\t*[[\\\\\\\"\\#\\$\\&\\'\\`$am_lf\\ \\\t]]*)\n\txcsdkdir=\"\" ;;\n      esac\n    fi\n    CPPFLAGS=\"$CPPFLAGS -I$xcsdkdir/usr/include/libxml2\"\n    AC_CHECK_HEADER(libxml/HTMLparser.h,\n      [AC_CHECK_DECL(HTML_PARSE_RECOVER, HAVE_LIBXML2=yes, ,\n\t\t     [#include <libxml/HTMLparser.h>])])\n    CPPFLAGS=\"$SAVE_CPPFLAGS\"\n    if test \"${HAVE_LIBXML2}\" = \"yes\"; then\n      LIBXML2_CFLAGS=\"-I'$xcsdkdir/usr/include/libxml2'\"\n      LIBXML2_LIBS=\"-lxml2\"\n    fi\n  fi\n  if test \"${HAVE_LIBXML2}\" = \"yes\"; then\n    if test \"${opsys}\" != \"mingw32\"; then\n      AC_CHECK_LIB(xml2, htmlReadMemory, HAVE_LIBXML2=yes, HAVE_LIBXML2=no,\n        [$LIBXML2_LIBS])\n    else\n      LIBXML2_LIBS=\"\"\n    fi\n    if test \"${HAVE_LIBXML2}\" = \"yes\"; then\n      AC_DEFINE(HAVE_LIBXML2, 1, [Define to 1 if you have the libxml library (-lxml2).])\n    else\n      LIBXML2_LIBS=\"\"\n      LIBXML2_CFLAGS=\"\"\n    fi\n  fi\nfi\nAC_SUBST(LIBXML2_LIBS)\nAC_SUBST(LIBXML2_CFLAGS)\n\n# If netdb.h doesn't declare h_errno, we must declare it by hand.\n# On MinGW, that is provided by nt/inc/sys/socket.h and w32.c.\nif test \"${opsys}\" = \"mingw32\"; then\n  emacs_cv_netdb_declares_h_errno=yes\nfi\nAC_CACHE_CHECK(whether netdb declares h_errno,\n\t       emacs_cv_netdb_declares_h_errno,\n[AC_LINK_IFELSE([AC_LANG_PROGRAM([[#include <netdb.h>]],\n  [[return h_errno;]])],\n  emacs_cv_netdb_declares_h_errno=yes, emacs_cv_netdb_declares_h_errno=no)])\nif test $emacs_cv_netdb_declares_h_errno = yes; then\n  AC_DEFINE(HAVE_H_ERRNO, 1, [Define to 1 if netdb.h declares h_errno.])\nfi\n\n# Check for mail-locking functions in a \"mail\" library.  Probably this should\n# have the same check as for liblockfile below.\nAC_CHECK_LIB(mail, maillock, have_mail=yes, have_mail=no)\nif test $have_mail = yes; then\n  LIBS_MAIL=-lmail\n  AC_DEFINE(HAVE_LIBMAIL, 1, [Define to 1 if you have the 'mail' library (-lmail).])\n\n  OLD_LIBS=$LIBS\n  LIBS=\"$LIBS_MAIL $LIBS\"\n  AC_CHECK_FUNCS(touchlock)\n  LIBS=$OLD_LIBS\nelse\n  LIBS_MAIL=\nfi\ndnl Debian, at least:\nAC_CHECK_LIB(lockfile, maillock, have_lockfile=yes, have_lockfile=no)\nif test $have_lockfile = yes; then\n   LIBS_MAIL=-llockfile\n   AC_DEFINE(HAVE_LIBLOCKFILE, 1, [Define to 1 if you have the 'lockfile' library (-llockfile).])\nelse\n# If we have the shared liblockfile, assume we must use it for mail\n# locking (e.g. Debian).  If we couldn't link against liblockfile\n# (no liblockfile.a installed), ensure that we don't need to.\n  dnl This works for files generally, not just executables.\n  dnl Should we look elsewhere for it?  Maybe examine /etc/ld.so.conf?\n  AC_CHECK_PROG(liblockfile, liblockfile.so, yes, no,\n                /usr/lib:/lib:/usr/local/lib:$LD_LIBRARY_PATH)\n  if test $ac_cv_prog_liblockfile = yes; then\n    AC_MSG_ERROR([Shared liblockfile found but can't link against it.\nThis probably means that movemail could lose mail.\nThere may be a 'development' package to install containing liblockfile.])\n  fi\nfi\nAC_CHECK_HEADERS_ONCE(maillock.h)\nAC_SUBST(LIBS_MAIL)\n\n## Define MAIL_USE_FLOCK (or LOCKF) if the mailer uses flock (or lockf) to\n## interlock access to the mail spool.  The alternative is a lock file named\n## /usr/spool/mail/$USER.lock.\nmail_lock=no\ncase \"$opsys\" in\n  aix4-2) mail_lock=\"lockf\" ;;\n\n  gnu|freebsd|dragonfly|netbsd|openbsd|darwin|irix6-5) mail_lock=\"flock\" ;;\n\n  ## On GNU/Linux systems, both methods are used by various mail programs.\n  ## I assume most people are using newer mailers that have heard of flock.\n  ## Change this if you need to.\n  ## Debian contains a patch which says: \"On Debian/GNU/Linux systems,\n  ## configure gets the right answers, and that means *NOT* using flock.\n  ## Using flock is guaranteed to be the wrong thing. See Debian Policy\n  ## for details.\" and then uses '#ifdef DEBIAN'.  Unfortunately the\n  ## Debian maintainer hasn't provided a clean fix for Emacs.\n  ## movemail.c will use 'maillock' when MAILDIR, HAVE_LIBMAIL and\n  ## HAVE_MAILLOCK_H are defined, so the following appears to be the\n  ## correct logic.  -- fx\n  ## We must check for HAVE_LIBLOCKFILE too, as movemail does.\n  ## liblockfile is a Free Software replacement for libmail, used on\n  ## Debian systems and elsewhere. -rfr.\n  gnu-*)\n    mail_lock=\"flock\"\n    if test $have_mail = yes || test $have_lockfile = yes; then\n      test $ac_cv_header_maillock_h = yes && mail_lock=no\n    fi\n    ;;\n\n  mingw32)\n    mail_lock=\"none-needed\" ;;\nesac\n\nBLESSMAIL_TARGET=\ncase \"$mail_lock\" in\n  flock) AC_DEFINE(MAIL_USE_FLOCK, 1, [Define if the mailer uses flock to interlock the mail spool.]) ;;\n\n  lockf) AC_DEFINE(MAIL_USE_LOCKF, 1, [Define if the mailer uses lockf to interlock the mail spool.]) ;;\n\n  none-needed) ;;\n\n  *) BLESSMAIL_TARGET=\"need-blessmail\" ;;\nesac\nAC_SUBST(BLESSMAIL_TARGET)\n\nOLD_LIBS=$LIBS\nLIBS=\"$LIB_PTHREAD $LIB_MATH $LIBS\"\nAC_CHECK_FUNCS(accept4 fchdir gethostname \\\ngetrusage get_current_dir_name \\\nlrand48 random rint \\\nselect getpagesize setlocale newlocale \\\ngetrlimit setrlimit shutdown getaddrinfo \\\npthread_sigmask strsignal setitimer \\\nsendto recvfrom getsockname getpeername getifaddrs freeifaddrs \\\ngai_strerror sync \\\ngetpwent endpwent getgrent endgrent \\\ncfmakeraw cfsetspeed copysign __executable_start log2)\nLIBS=$OLD_LIBS\n\ndnl No need to check for posix_memalign if aligned_alloc works.\nAC_CHECK_FUNCS([aligned_alloc posix_memalign], [break])\n\ndnl Cannot use AC_CHECK_FUNCS\nAC_CACHE_CHECK([for __builtin_unwind_init],\n\t       emacs_cv_func___builtin_unwind_init,\n[AC_LINK_IFELSE([AC_LANG_PROGRAM([], [__builtin_unwind_init ();])],\n\t\temacs_cv_func___builtin_unwind_init=yes,\n\t\temacs_cv_func___builtin_unwind_init=no)])\nif test $emacs_cv_func___builtin_unwind_init = yes; then\n  AC_DEFINE(HAVE___BUILTIN_UNWIND_INIT, 1,\n\t    [Define to 1 if you have the '__builtin_unwind_init' function.])\nfi\n\nAC_CHECK_HEADERS_ONCE(sys/un.h)\n\nAC_FUNC_FSEEKO\n\n# UNIX98 PTYs.\nAC_CHECK_FUNCS(grantpt)\n\n# PTY-related GNU extensions.\nAC_CHECK_FUNCS(getpt posix_openpt)\n\n# Check this now, so that we will NOT find the above functions in ncurses.\n# That is because we have not set up to link ncurses in lib-src.\n# It's better to believe a function is not available\n# than to expect to find it in ncurses.\n# Also we need tputs and friends to be able to build at all.\nAC_MSG_CHECKING([for library containing tputs])\n# Run a test program that contains a call to tputs, a call that is\n# never executed.  This tests whether a pre-'main' dynamic linker\n# works with the library.  It's too much trouble to actually call\n# tputs in the test program, due to portability hassles.  When\n# cross-compiling, assume the test program will run if it links.\nAC_DEFUN([tputs_link_source], [\n  AC_LANG_SOURCE(\n     [[extern void tputs (const char *, int, int (*)(int));\n       int main (int argc, char **argv)\n       {\n\t  if (argc == 10000)\n\t    tputs (argv[0], 0, 0);\n\t  return 0;\n       }]])\n])\nif test \"${opsys}\" = \"mingw32\"; then\n  msg='none required'\nelse\n  # Maybe curses should be tried earlier?\n  # See http://debbugs.gnu.org/cgi/bugreport.cgi?bug=9736#35\n  for tputs_library in '' tinfo ncurses terminfo termcap curses; do\n    OLIBS=$LIBS\n    if test -z \"$tputs_library\"; then\n      LIBS_TERMCAP=\n      msg='none required'\n    else\n      LIBS_TERMCAP=-l$tputs_library\n      msg=$LIBS_TERMCAP\n      LIBS=\"$LIBS_TERMCAP $LIBS\"\n    fi\n    AC_RUN_IFELSE([tputs_link_source], [], [msg=no],\n      [AC_LINK_IFELSE([tputs_link_source], [], [msg=no])])\n    LIBS=$OLIBS\n    if test \"X$msg\" != Xno; then\n      break\n    fi\n  done\nfi\nAC_MSG_RESULT([$msg])\nif test \"X$msg\" = Xno; then\n  AC_MSG_ERROR([The required function 'tputs' was not found in any library.\nThe following libraries were tried (in order):\n  libtinfo, libncurses, libterminfo, libtermcap, libcurses\nPlease try installing whichever of these libraries is most appropriate\nfor your system, together with its header files.\nFor example, a libncurses-dev(el) or similar package.])\nfi\n\n## Use termcap instead of terminfo?\n## Only true for: freebsd < 40000, ms-w32, msdos, netbsd < 599002500.\nTERMINFO=yes\n## FIXME?  In the cases below where we unconditionally set\n## LIBS_TERMCAP=\"-lncurses\", this overrides LIBS_TERMCAP = -ltinfo,\n## if that was found above to have tputs.\n## Should we use the gnu* logic everywhere?\ncase \"$opsys\" in\n  ## darwin: Prevents crashes when running Emacs in Terminal.app under 10.2.\n  ##  The ncurses library has been moved out of the System framework in\n  ##  Mac OS X 10.2.  So if configure detects it, set the command-line\n  ##  option to use it.\n  darwin) LIBS_TERMCAP=\"-lncurses\" ;;\n\n  gnu*) test -z \"$LIBS_TERMCAP\" && LIBS_TERMCAP=\"-lncurses\" ;;\n\n  freebsd)\n    AC_MSG_CHECKING([whether FreeBSD is new enough to use terminfo])\n    AC_CACHE_VAL(emacs_cv_freebsd_terminfo,\n    [AC_LINK_IFELSE([AC_LANG_PROGRAM([[#include <osreldate.h>]],\n[[#if __FreeBSD_version < 400000\nfail;\n#endif\n]])], emacs_cv_freebsd_terminfo=yes, emacs_cv_freebsd_terminfo=no)])\n\n    AC_MSG_RESULT($emacs_cv_freebsd_terminfo)\n\n    if test $emacs_cv_freebsd_terminfo = yes; then\n      LIBS_TERMCAP=\"-lncurses\"\n    else\n      TERMINFO=no\n      LIBS_TERMCAP=\"-ltermcap\"\n    fi\n    ;;\n\n  mingw32)\n    TERMINFO=no\n    LIBS_TERMCAP=\n    ;;\n\n  netbsd)\n    if test \"x$LIBS_TERMCAP\" != \"x-lterminfo\"; then\n      TERMINFO=no\n      LIBS_TERMCAP=\"-ltermcap\"\n    fi\n    ;;\n\n  openbsd | dragonfly) LIBS_TERMCAP=\"-lncurses\" ;;\n\n  ## hpux: Make sure we get select from libc rather than from libcurses\n  ##  because libcurses on HPUX 10.10 has a broken version of select.\n  ##  We used to use -lc -lcurses, but this may be cleaner.\n  ## FIXME?  But TERMINFO = yes on hpux (it used to be explicitly\n  # set that way, now it uses the default).  Isn't this a contradiction?\n  hpux*) LIBS_TERMCAP=\"-ltermcap\" ;;\n\nesac\n\nTERMCAP_OBJ=tparam.o\nif test $TERMINFO = yes; then\n  AC_DEFINE(TERMINFO, 1, [Define to 1 if you use terminfo instead of termcap.])\n  TERMCAP_OBJ=terminfo.o\nfi\nif test \"X$LIBS_TERMCAP\" = \"X-lncurses\"; then\n  AC_DEFINE(USE_NCURSES, 1, [Define to 1 if you use ncurses.])\nfi\nAC_SUBST(LIBS_TERMCAP)\nAC_SUBST(TERMCAP_OBJ)\n\n# GNU/Linux-specific timer functions.\nAC_CACHE_CHECK([for timerfd interface], [emacs_cv_have_timerfd],\n  [AC_COMPILE_IFELSE(\n     [AC_LANG_PROGRAM([[#include <sys/timerfd.h>\n\t\t      ]],\n\t\t      [[timerfd_create (CLOCK_REALTIME,\n\t\t\t\t\tTFD_CLOEXEC | TFD_NONBLOCK);\n\t\t\ttimerfd_settime (0, TFD_TIMER_ABSTIME, 0, 0);]])],\n     [emacs_cv_have_timerfd=yes],\n     [emacs_cv_have_timerfd=no])])\nif test \"$emacs_cv_have_timerfd\" = yes; then\n  AC_DEFINE([HAVE_TIMERFD], 1,\n    [Define to 1 if timerfd functions are supported as in GNU/Linux.])\nfi\n\n# Alternate stack for signal handlers.\nAC_CACHE_CHECK([whether signals can be handled on alternate stack],\n\t       [emacs_cv_alternate_stack],\n  [AC_COMPILE_IFELSE(\n     [AC_LANG_PROGRAM([[#include <signal.h>\n\t\t      ]],\n\t\t      [[stack_t ss;\n\t\t\tstruct sigaction sa;\n\t\t\tss.ss_sp = malloc (SIGSTKSZ);\n\t\t\tss.ss_size = SIGSTKSZ;\n\t\t\tsa.sa_flags = SA_SIGINFO | SA_ONSTACK;\n\t\t\tsigaltstack (&ss, 0);\n\t\t\tsigaction (SIGSEGV, &sa, 0);]])],\n     [emacs_cv_alternate_stack=yes],\n     [emacs_cv_alternate_stack=no])])\n\n# Do we have res_init, for detecting changes in /etc/resolv.conf?\n# On Darwin, res_init appears not to be useful: see bug#562 and\n# http://lists.gnu.org/archive/html/emacs-devel/2007-11/msg01467.html\nresolv=no\n\nif test $opsys != darwin; then\n\n  AC_LINK_IFELSE([AC_LANG_PROGRAM([[#include <netinet/in.h>\n#include <arpa/nameser.h>\n#include <resolv.h>]],\n    [[return res_init();]])],\n    have_res_init=yes, have_res_init=no)\n  if test \"$have_res_init\" = no; then\n    OLIBS=\"$LIBS\"\n    LIBS=\"$LIBS -lresolv\"\n    AC_MSG_CHECKING(for res_init with -lresolv)\n    AC_LINK_IFELSE([AC_LANG_PROGRAM([[#include <netinet/in.h>\n#include <arpa/nameser.h>\n#include <resolv.h>]],\n      [[return res_init();]])],\n      have_res_init=yes, have_res_init=no)\n    AC_MSG_RESULT($have_res_init)\n    if test \"$have_res_init\" = yes ; then\n      resolv=yes\n    fi\n    LIBS=\"$OLIBS\"\n  fi\n\n  if test \"$have_res_init\" = yes; then\n    AC_DEFINE(HAVE_RES_INIT, 1, [Define to 1 if res_init is available.])\n  fi\nfi                              dnl !darwin\n\n# Do we need the Hesiod library to provide the support routines?\ndnl FIXME?  Should we be skipping this on Darwin too?\nLIBHESIOD=\nif test \"$with_hesiod\" != no ; then\n  # Don't set $LIBS here -- see comments above.  FIXME which comments?\n  AC_CHECK_FUNC(res_send, , [AC_CHECK_FUNC(__res_send, ,\n     [AC_CHECK_LIB(resolv, res_send, resolv=yes,\n\t\t  [AC_CHECK_LIB(resolv, __res_send, resolv=yes)])])])\n  if test \"$resolv\" = yes ; then\n    RESOLVLIB=-lresolv\n  else\n    RESOLVLIB=\n  fi\n  AC_CHECK_FUNC(hes_getmailhost, , [AC_CHECK_LIB(hesiod, hes_getmailhost,\n\thesiod=yes, :, $RESOLVLIB)])\n\n  if test x\"$hesiod\" = xyes; then\n    LIBHESIOD=-lhesiod\n  fi\nfi\nAC_SUBST(LIBHESIOD)\n\n# Do we need libresolv (due to res_init or Hesiod)?\nif test \"$resolv\" = yes && test $opsys != darwin; then\n  LIBRESOLV=-lresolv\nelse\n  LIBRESOLV=\nfi\nAC_SUBST(LIBRESOLV)\n\n# These tell us which Kerberos-related libraries to use.\nCOM_ERRLIB=\nCRYPTOLIB=\nKRB5LIB=\nDESLIB=\nKRB4LIB=\n\nif test \"${with_kerberos}\" != no; then\n  OLD_LIBS=$LIBS\n  AC_CHECK_LIB(com_err, com_err, have_com_err=yes, have_com_err=no)\n  if test $have_com_err = yes; then\n    COM_ERRLIB=-lcom_err\n    LIBS=\"$COM_ERRLIB $LIBS\"\n  fi\n  AC_CHECK_LIB(crypto, mit_des_cbc_encrypt, have_crypto=yes, have_crypto=no)\n  if test $have_crypto = yes; then\n    CRYPTOLIB=-lcrypto\n    LIBS=\"$CRYPTOLIB $LIBS\"\n  fi\n  AC_CHECK_LIB(k5crypto, mit_des_cbc_encrypt, have_k5crypto=yes, have_k5crypto=no)\n  if test $have_k5crypto = yes; then\n    CRYPTOLIB=-lk5crypto\n    LIBS=\"$CRYPTOLIB $LIBS\"\n  fi\n  AC_CHECK_LIB(krb5, krb5_init_context, have_krb5=yes, have_krb5=no)\n  if test $have_krb5=yes; then\n    KRB5LIB=-lkrb5\n    LIBS=\"$KRB5LIB $LIBS\"\n  fi\n  dnl FIXME Simplify.  Does not match 22 logic, thanks to default_off?\n  if test \"${with_kerberos5}\" = no; then\n    AC_CHECK_LIB(des425, des_cbc_encrypt, have_des425=yes, have_des425=no )\n    if test $have_des425 = yes; then\n      DESLIB=-ldes425\n      LIBS=\"$DESLIB $LIBS\"\n    else\n      AC_CHECK_LIB(des, des_cbc_encrypt, have_des=yes, have_des=no)\n      if test $have_des = yes; then\n        DESLIB=-ldes\n        LIBS=\"$DESLIB $LIBS\"\n      fi\n    fi\n    AC_CHECK_LIB(krb4, krb_get_cred, have_krb4=yes, have_krb4=no)\n    if test $have_krb4 = yes; then\n      KRB4LIB=-lkrb4\n      LIBS=\"$KRB4LIB $LIBS\"\n    else\n      AC_CHECK_LIB(krb, krb_get_cred, have_krb=yes, have_krb=no)\n      if test $have_krb = yes; then\n        KRB4LIB=-lkrb\n        LIBS=\"$KRB4LIB $LIBS\"\n      fi\n    fi\n  fi\n\n  if test \"${with_kerberos5}\" != no; then\n    AC_CHECK_HEADERS(krb5.h,\n      [AC_CHECK_MEMBERS([krb5_error.text, krb5_error.e_text],,,\n\t\t        [#include <krb5.h>])])\n  else\n    AC_CHECK_HEADERS(krb.h,,\n\t\t     [AC_CHECK_HEADERS(kerberosIV/krb.h,,\n\t\t\t\t       [AC_CHECK_HEADERS(kerberos/krb.h)])])\n  fi\n  AC_CHECK_HEADERS(com_err.h)\n  LIBS=$OLD_LIBS\nfi\n\nAC_SUBST(COM_ERRLIB)\nAC_SUBST(CRYPTOLIB)\nAC_SUBST(KRB5LIB)\nAC_SUBST(DESLIB)\nAC_SUBST(KRB4LIB)\n\nAC_CHECK_HEADERS(valgrind/valgrind.h)\n\nAC_CHECK_MEMBERS([struct unipair.unicode], [], [], [[#include <linux/kd.h>]])\n\nAC_CHECK_FUNCS_ONCE(tzset)\n\nok_so_far=yes\nAC_CHECK_FUNC(socket, , ok_so_far=no)\nif test $ok_so_far = yes; then\n  AC_CHECK_HEADER(netinet/in.h, , ok_so_far=no)\nfi\nif test $ok_so_far = yes; then\n  AC_CHECK_HEADER(arpa/inet.h, , ok_so_far=no)\nfi\nif test $ok_so_far = yes; then\ndnl Fixme: Not used.  Should this be HAVE_SOCKETS?\n  AC_DEFINE(HAVE_INET_SOCKETS, 1,\n\t    [Define to 1 if you have inet sockets.])\nfi\n\nAC_FUNC_FORK\n\nAC_CHECK_FUNCS(snprintf)\n\ndnl Check for glib.  This differs from other library checks in that\ndnl Emacs need not link to glib unless some other library is already\ndnl linking to glib.  Although glib provides no facilities that Emacs\ndnl needs for its own purposes, when glib is present Emacs needs to\ndnl use primitives like g_main_context_query to avoid clashing with\ndnl glib at a low level.\ndnl\ndnl Check this late, since it depends on $GTK_CFLAGS etc.\nXGSELOBJ=\nOLDCFLAGS=\"$CFLAGS\"\nOLDLIBS=\"$LIBS\"\nCFLAGS=\"$CFLAGS $GTK_CFLAGS $RSVG_CFLAGS $DBUS_CFLAGS $SETTINGS_CFLAGS\"\nLIBS=\"$LIBS $GTK_LIBS $RSVG_LIBS $DBUS_LIBS $SETTINGS_LIBS\"\nCFLAGS=\"$CFLAGS $NOTIFY_CFLAGS $CAIRO_CFLAGS\"\nLIBS=\"$LIBS $NOTIFY_LIBS $CAIRO_LIBS\"\nAC_MSG_CHECKING([whether GLib is linked in])\nAC_LINK_IFELSE([AC_LANG_PROGRAM(\n\t[[#include <glib.h>\n\t]],\n\t[[g_print (\"Hello world\");]])],\n     [links_glib=yes],\n     [links_glib=no])\nAC_MSG_RESULT([$links_glib])\nif test \"${links_glib}\" = \"yes\"; then\n  AC_DEFINE(HAVE_GLIB, 1, [Define to 1 if GLib is linked in.])\n  if test \"$HAVE_NS\" = no;then\n    XGSELOBJ=xgselect.o\n  fi\nfi\nCFLAGS=\"$OLDCFLAGS\"\nLIBS=\"$OLDLIBS\"\nAC_SUBST(XGSELOBJ)\n\ndnl Adapted from Haible's version.\nAC_CACHE_CHECK([for nl_langinfo and CODESET], emacs_cv_langinfo_codeset,\n  [AC_LINK_IFELSE([AC_LANG_PROGRAM([[#include <langinfo.h>]],\n    [[char* cs = nl_langinfo(CODESET);]])],\n    emacs_cv_langinfo_codeset=yes,\n    emacs_cv_langinfo_codeset=no)\n  ])\nif test $emacs_cv_langinfo_codeset = yes; then\n  AC_DEFINE(HAVE_LANGINFO_CODESET, 1,\n    [Define if you have <langinfo.h> and nl_langinfo(CODESET).])\nfi\n\nAC_TYPE_MBSTATE_T\n\ndnl Fixme: AC_SYS_POSIX_TERMIOS should probably be used, but it's not clear\ndnl how the tty code is related to POSIX and/or other versions of termios.\ndnl The following looks like a useful start.\ndnl\ndnl AC_SYS_POSIX_TERMIOS\ndnl if test $ac_cv_sys_posix_termios = yes; then\ndnl    AC_DEFINE(HAVE_TERMIOS, 1, [Define to 1 if you have POSIX-style functions\ndnl                                and macros for terminal control.])\ndnl    AC_DEFINE(HAVE_TCATTR, 1, [Define to 1 if you have tcgetattr and tcsetattr.])\ndnl fi\n\ndnl Turned on June 1996 supposing nobody will mind it.\ndnl MinGW emulates passwd database, so this feature doesn't make sense there.\nif test \"${opsys}\" != \"mingw32\"; then\n   AC_DEFINE(AMPERSAND_FULL_NAME, 1, [Define to use the convention that &\n     in the full name stands for the login id.])\nfi\n\ndnl Everybody supports this, except MS.\ndnl Seems like the kind of thing we should be testing for, though.\n## Note: PTYs are broken on darwin <6.  Use at your own risk.\nif test \"${opsys}\" != \"mingw32\"; then\n  AC_DEFINE(HAVE_PTYS, 1, [Define if the system supports pty devices.])\nfi\n\ndnl Everybody supports this, except MS-DOS.\ndnl Seems like the kind of thing we should be testing for, though.\ndnl Compare with HAVE_INET_SOCKETS (which is unused...) above.\nAC_DEFINE(HAVE_SOCKETS, 1, [Define if the system supports\n  4.2-compatible sockets.])\n\nAH_TEMPLATE(INTERNAL_TERMINAL, [This is substituted when $TERM is \"internal\".])\n\nAH_TEMPLATE(NULL_DEVICE, [Name of the file to open to get\n  a null file, or a data sink.])\nif test \"${opsys}\" = \"mingw32\"; then\n  AC_DEFINE(NULL_DEVICE, [\"NUL:\"])\nelse\n  AC_DEFINE(NULL_DEVICE, [\"/dev/null\"])\nfi\n\nif test \"${opsys}\" = \"mingw32\"; then\n  SEPCHAR=';'\nelse\n  SEPCHAR=':'\nfi\nAC_DEFINE_UNQUOTED(SEPCHAR, ['$SEPCHAR'], [Character that separates PATH elements.])\ndnl This is for MinGW, and is used in test/automated/Makefile.in.\ndnl The MSYS Bash has heuristics for replacing ':' with ';' when it\ndnl decides that a command-line argument to be passed to a MinGW program\ndnl is a PATH-style list of directories.  But that heuristics plays it\ndnl safe, and only does the replacement when it is _absolutely_ sure it\ndnl sees a colon-separated list of file names; e.g. \":.\" is left alone,\ndnl which breaks in-tree builds.  So we do this manually instead.\ndnl Note that we cannot rely on PATH_SEPARATOR, as that one will always\ndnl be computed as ':' in MSYS Bash.\nAC_SUBST(SEPCHAR)\n\ndnl Everybody supports this, except MS-DOS.\nAC_DEFINE(subprocesses, 1, [Define to enable asynchronous subprocesses.])\n\nAC_DEFINE(USER_FULL_NAME, [pw->pw_gecos], [How to get a user's full name.])\n\n\nAC_DEFINE(DIRECTORY_SEP, ['/'],\n  [Character that separates directories in a file name.])\n\nif test \"${opsys}\" = \"mingw32\"; then\n  AC_DEFINE(IS_DEVICE_SEP(_c_), [((_c_) == ':')],\n    [Returns true if character is a device separator.])\n\n  AC_DEFINE(IS_DIRECTORY_SEP(_c_), [((_c_) == '/' || (_c_) == '\\\\')],\n    [Returns true if character is a directory separator.])\n\n  AC_DEFINE(IS_ANY_SEP(_c_), [(IS_DIRECTORY_SEP (_c_) || IS_DEVICE_SEP(_c_))],\n    [Returns true if character is any form of separator.])\nelse\n  AC_DEFINE(IS_DEVICE_SEP(_c_), 0,\n    [Returns true if character is a device separator.])\n\n  AC_DEFINE(IS_DIRECTORY_SEP(_c_), [((_c_) == DIRECTORY_SEP)],\n    [Returns true if character is a directory separator.])\n\n  AC_DEFINE(IS_ANY_SEP(_c_), [(IS_DIRECTORY_SEP (_c_))],\n    [Returns true if character is any form of separator.])\nfi\n\nAH_TEMPLATE(NO_EDITRES, [Define if XEditRes should not be used.])\n\ncase $opsys in\n  aix4-2)\n    dnl Unfortunately without libXmu we cannot support EditRes.\n    if test \"x$ac_cv_search_XmuConvertStandardSelection\" = xno; then\n      AC_DEFINE(NO_EDITRES, 1)\n    fi\n    ;;\n\n  hpux*)\n    dnl Assar Westerlund <assar@sics.se> says this is necessary for\n    dnl HP-UX 10.20, and that it works for HP-UX 0 as well.\n    AC_DEFINE(NO_EDITRES, 1)\n    ;;\nesac\n\n\ncase $opsys in\n  irix6-5 | sol2* | unixware )\n    dnl Some SVr4s don't define NSIG in sys/signal.h for ANSI environments;\n    dnl instead, there's a system variable _sys_nsig.  Unfortunately, we\n    dnl need the constant to dimension an array.  So wire in the appropriate\n    dnl value here.\n    AC_DEFINE(NSIG_MINIMUM, 32, [Minimum value of NSIG.])\n    ;;\nesac\n\nemacs_broken_SIGIO=no\n\ncase $opsys in\n  dnl SIGIO exists, but the feature doesn't work in the way Emacs needs.\n  dnl See eg <http://article.gmane.org/gmane.os.openbsd.ports/46831>.\n  hpux* | irix6-5 | nacl | openbsd | sol2* | unixware )\n    emacs_broken_SIGIO=yes\n    ;;\n\n  aix4-2)\n    dnl On AIX Emacs uses the gmalloc.c malloc implementation.  But given\n    dnl the way this system works, libc functions that return malloced\n    dnl memory use the libc malloc implementation. Calling xfree or\n    dnl xrealloc on the results of such functions results in a crash.\n    dnl\n    dnl One solution for this could be to define SYSTEM_MALLOC in configure,\n    dnl but that does not currently work on this system.\n    dnl\n    dnl It is possible to completely override the malloc implementation on\n    dnl AIX, but that involves putting the malloc functions in a shared\n    dnl library and setting the MALLOCTYPE environment variable to point to\n    dnl that shared library.\n    dnl\n    dnl Emacs currently calls xrealloc on the results of get_current_dir name,\n    dnl to avoid a crash just use the Emacs implementation for that function.\n    dnl\n    dnl FIXME We could change the AC_CHECK_FUNCS call near the start\n    dnl of this file, so that we do not check for get_current_dir_name\n    dnl on AIX.  But that might be fragile if something else ends\n    dnl up testing for get_current_dir_name as a dependency.\n    AC_DEFINE(BROKEN_GET_CURRENT_DIR_NAME, 1, [Define if\n      get_current_dir_name should not be used.])\n    ;;\n\n  freebsd)\n    dnl Circumvent a bug in FreeBSD.  In the following sequence of\n    dnl writes/reads on a PTY, read(2) returns bogus data:\n    dnl\n    dnl write(2)  1022 bytes\n    dnl write(2)   954 bytes, get EAGAIN\n    dnl read(2)   1024 bytes in process_read_output\n    dnl read(2)     11 bytes in process_read_output\n    dnl\n    dnl That is, read(2) returns more bytes than have ever been written\n    dnl successfully.  The 1033 bytes read are the 1022 bytes written\n    dnl successfully after processing (for example with CRs added if the\n    dnl terminal is set up that way which it is here).  The same bytes will\n    dnl be seen again in a later read(2), without the CRs.\n    AC_DEFINE(BROKEN_PTY_READ_AFTER_EAGAIN, 1, [Define on FreeBSD to\n      work around an issue when reading from a PTY.])\n    ;;\nesac\n\ncase $opsys in\n  gnu-* | sol2-10 )\n    dnl FIXME Can't we test if this exists (eg /proc/$$)?\n    AC_DEFINE(HAVE_PROCFS, 1, [Define if you have the /proc filesystem.])\n  ;;\nesac\n\ncase $opsys in\n  darwin | dragonfly | freebsd | netbsd | openbsd )\n    AC_DEFINE(DONT_REOPEN_PTY, 1, [Define if process.c does not need to\n      close a pty to make it a controlling terminal (it is already a\n      controlling terminal of the subprocess, because we did ioctl TIOCSCTTY).])\n  ;;\nesac\n\ndnl FIXME Surely we can test for this rather than hard-code it.\ncase $opsys in\n  netbsd | openbsd) sound_device=\"/dev/audio\" ;;\n  *) sound_device=\"/dev/dsp\" ;;\nesac\n\ndnl Used in sound.c\nAC_DEFINE_UNQUOTED(DEFAULT_SOUND_DEVICE, \"$sound_device\",\n  [Name of the default sound device.])\n\n\ndnl Emacs can read input using SIGIO and buffering characters itself,\ndnl or using CBREAK mode and making C-g cause SIGINT.\ndnl The choice is controlled by the variable interrupt_input.\ndnl\ndnl Define INTERRUPT_INPUT to make interrupt_input = 1 the default (use SIGIO)\ndnl\ndnl Emacs uses the presence of the USABLE_SIGIO macro\ndnl to indicate whether or not signal-driven I/O is possible.  It uses\ndnl INTERRUPT_INPUT to decide whether to use it by default.\ndnl\ndnl SIGIO can be used only on systems that implement it (4.2 and 4.3).\ndnl CBREAK mode has two disadvantages\ndnl 1) At least in 4.2, it is impossible to handle the Meta key properly.\ndnl I hear that in system V this problem does not exist.\ndnl 2) Control-G causes output to be discarded.\ndnl I do not know whether this can be fixed in system V.\ndnl\ndnl Another method of doing input is planned but not implemented.\ndnl It would have Emacs fork off a separate process\ndnl to read the input and send it to the true Emacs process\ndnl through a pipe.\ncase $opsys in\n  darwin | gnu-linux | gnu-kfreebsd )\n    AC_DEFINE(INTERRUPT_INPUT, 1, [Define to read input using SIGIO.])\n  ;;\nesac\n\n\ndnl If the system's imake configuration file defines 'NeedWidePrototypes'\ndnl as 'NO', we must define NARROWPROTO manually.  Such a define is\ndnl generated in the Makefile generated by 'xmkmf'.  If we don't define\ndnl NARROWPROTO, we will see the wrong function prototypes for X functions\ndnl taking float or double parameters.\ncase $opsys in\n  cygwin|gnu|gnu-linux|gnu-kfreebsd|irix6-5|freebsd|netbsd|openbsd)\n    AC_DEFINE(NARROWPROTO, 1, [Define if system's imake configuration\n      file defines 'NeedWidePrototypes' as 'NO'.])\n  ;;\nesac\n\n\ndnl Used in process.c, this must be a loop, even if it only runs once.\ndnl (Except on SGI; see below.  Take that, clarity and consistency!)\nAH_TEMPLATE(PTY_ITERATION, [How to iterate over PTYs.])\ndnl Only used if !PTY_ITERATION.  Iterate from FIRST_PTY_LETTER to z,\ndnl trying suffixes 0-16.\nAH_TEMPLATE(FIRST_PTY_LETTER, [Letter to use in finding device name of\n  first PTY, if PTYs are supported.])\nAH_TEMPLATE(PTY_OPEN, [How to open a PTY, if non-standard.])\nAH_TEMPLATE(PTY_NAME_SPRINTF, [How to get the device name of the control\n  end of a PTY, if non-standard.])\nAH_TEMPLATE(PTY_TTY_NAME_SPRINTF, [How to get device name of the tty\n  end of a PTY, if non-standard.])\n\ncase $opsys in\n  aix4-2 )\n    AC_DEFINE(PTY_ITERATION, [int c; for (c = 0; !c ; c++)])\n    dnl You allocate a pty by opening /dev/ptc to get the master side.\n    dnl To get the name of the slave side, you just ttyname() the master side.\n    AC_DEFINE(PTY_NAME_SPRINTF, [strcpy (pty_name, \"/dev/ptc\");])\n    AC_DEFINE(PTY_TTY_NAME_SPRINTF, [strcpy (pty_name, ttyname (fd));])\n    ;;\n\n  cygwin )\n    AC_DEFINE(PTY_ITERATION, [int i; for (i = 0; i < 1; i++)])\n    dnl multi-line AC_DEFINEs are hard. :(\n    AC_DEFINE(PTY_OPEN, [ do { int dummy; sigset_t blocked, procmask; sigemptyset (&blocked); sigaddset (&blocked, SIGCHLD); pthread_sigmask (SIG_BLOCK, &blocked, &procmask); if (-1 == openpty (&fd, &dummy, pty_name, 0, 0)) fd = -1; pthread_sigmask (SIG_SETMASK, &procmask, 0); if (fd >= 0) emacs_close (dummy); } while (false)])\n    AC_DEFINE(PTY_NAME_SPRINTF, [])\n    AC_DEFINE(PTY_TTY_NAME_SPRINTF, [])\n    ;;\n\n  gnu | openbsd )\n    AC_DEFINE(FIRST_PTY_LETTER, ['p'])\n    ;;\n\n  gnu-linux | gnu-kfreebsd | dragonfly | freebsd | netbsd | darwin | nacl )\n    dnl if HAVE_GRANTPT\n    if test \"x$ac_cv_func_grantpt\" = xyes; then\n      AC_DEFINE(UNIX98_PTYS, 1, [Define if the system has Unix98 PTYs.])\n      AC_DEFINE(PTY_ITERATION, [int i; for (i = 0; i < 1; i++)])\n      dnl Note that grantpt and unlockpt may fork.  We must block SIGCHLD\n      dnl to prevent sigchld_handler from intercepting the child's death.\n      AC_DEFINE(PTY_TTY_NAME_SPRINTF, [{ char *ptyname = 0; sigset_t blocked; sigemptyset (&blocked); sigaddset (&blocked, SIGCHLD); pthread_sigmask (SIG_BLOCK, &blocked, 0); if (grantpt (fd) != -1 && unlockpt (fd) != -1) ptyname = ptsname(fd); pthread_sigmask (SIG_UNBLOCK, &blocked, 0); if (!ptyname) { emacs_close (fd); return -1; } snprintf (pty_name, PTY_NAME_SIZE, \"%s\", ptyname); }])\n      dnl if HAVE_POSIX_OPENPT\n      if test \"x$ac_cv_func_posix_openpt\" = xyes; then\n        AC_DEFINE(PTY_OPEN, [do { fd = posix_openpt (O_RDWR | O_CLOEXEC | O_NOCTTY); if (fd < 0 && errno == EINVAL) fd = posix_openpt (O_RDWR | O_NOCTTY); } while (false)])\n        AC_DEFINE(PTY_NAME_SPRINTF, [])\n      dnl if HAVE_GETPT\n      elif test \"x$ac_cv_func_getpt\" = xyes; then\n        AC_DEFINE(PTY_OPEN, [fd = getpt ()])\n        AC_DEFINE(PTY_NAME_SPRINTF, [])\n      else\n        AC_DEFINE(PTY_NAME_SPRINTF, [strcpy (pty_name, \"/dev/ptmx\");])\n      fi\n    else\n      AC_DEFINE(FIRST_PTY_LETTER, ['p'])\n    fi\n    ;;\n\n  hpux*)\n    AC_DEFINE(FIRST_PTY_LETTER, ['p'])\n    AC_DEFINE(PTY_NAME_SPRINTF, [sprintf (pty_name, \"/dev/ptym/pty%c%x\", c, i);])\n    AC_DEFINE(PTY_TTY_NAME_SPRINTF, [sprintf (pty_name, \"/dev/pty/tty%c%x\", c, i);])\n    ;;\n\n  irix6-5 )\n    dnl It looks like this cannot be right, because it is not a loop.\n    dnl However, process.c actually does this:\n    dnl # ifndef __sgi\n    dnl   continue;\n    dnl # else\n    dnl   return -1;\n    dnl # endif\n    dnl which presumably makes it OK, since irix == sgi (?).\n    dnl FIXME it seems like this special treatment is unnecessary?\n    dnl Why can't irix use a single-trip loop like eg cygwin?\n    AC_DEFINE(PTY_ITERATION, [])\n    dnl Not used, because PTY_ITERATION is defined.\n    AC_DEFINE(FIRST_PTY_LETTER, ['q'])\n    AC_DEFINE(PTY_OPEN, [ { struct sigaction ocstat, cstat; struct stat stb; char * name; sigemptyset(&cstat.sa_mask); cstat.sa_handler = SIG_DFL; cstat.sa_flags = 0; sigaction(SIGCHLD, &cstat, &ocstat); name = _getpty (&fd, O_RDWR | O_NDELAY, 0600, 0); sigaction(SIGCHLD, &ocstat, (struct sigaction *)0); if (name == 0) return -1; if (fd < 0) return -1; if (fstat (fd, &stb) < 0) return -1; strcpy (pty_name, name); }])\n    dnl No need to get the pty name at all.\n    AC_DEFINE(PTY_NAME_SPRINTF, [])\n    dnl No need to use sprintf to get the tty name--we get that from _getpty.\n    AC_DEFINE(PTY_TTY_NAME_SPRINTF, [])\n    ;;\n\n  sol2* )\n    dnl On SysVr4, grantpt(3) forks a subprocess, so do not use\n    dnl O_CLOEXEC when opening the pty, and keep the SIGCHLD handler\n    dnl from intercepting that death.  If any child but grantpt's should die\n    dnl within, it should be caught after sigrelse(2).\n    AC_DEFINE(PTY_OPEN, [fd = open (pty_name, O_RDWR | O_NONBLOCK)])\n    AC_DEFINE(PTY_TTY_NAME_SPRINTF, [{ char *ptsname (int), *ptyname; int grantpt_result; sigset_t blocked; sigemptyset (&blocked); sigaddset (&blocked, SIGCHLD); pthread_sigmask (SIG_BLOCK, &blocked, 0); grantpt_result = grantpt (fd); pthread_sigmask (SIG_UNBLOCK, &blocked, 0); if (grantpt_result == -1 || unlockpt (fd) == -1 || !(ptyname = ptsname (fd))) { emacs_close (fd); return -1; } snprintf (pty_name, PTY_NAME_SIZE, \"%s\", ptyname); }])\n    ;;\n\n  unixware )\n    dnl Comments are as per sol2*.\n    AC_DEFINE(PTY_OPEN, [fd = open (pty_name, O_RDWR | O_NONBLOCK)])\n    AC_DEFINE(PTY_TTY_NAME_SPRINTF, [{ char *ptsname (int), *ptyname; int grantpt_result; sigset_t blocked; sigemptyset (&blocked); sigaddset (&blocked, SIGCHLD); pthread_sigmask (SIG_BLOCK, &blocked, 0); grantpt_result = grantpt (fd); pthread_sigmask (SIG_UNBLOCK, &blocked, 0); if (grantpt_result == -1) fatal(\"could not grant slave pty\"); if (unlockpt(fd) == -1) fatal(\"could not unlock slave pty\"); if (!(ptyname = ptsname(fd))) fatal (\"could not enable slave pty\"); snprintf (pty_name, PTY_NAME_SIZE, \"%s\", ptyname); }])\n    ;;\nesac\n\n\ncase $opsys in\n  sol2* | unixware )\n    dnl This change means that we don't loop through allocate_pty too\n    dnl many times in the (rare) event of a failure.\n    AC_DEFINE(FIRST_PTY_LETTER, ['z'])\n    AC_DEFINE(PTY_NAME_SPRINTF, [strcpy (pty_name, \"/dev/ptmx\");])\n    dnl Push various streams modules onto a PTY channel.  Used in process.c.\n    AC_DEFINE(SETUP_SLAVE_PTY, [if (ioctl (forkin, I_PUSH, \"ptem\") == -1) fatal (\"ioctl I_PUSH ptem\"); if (ioctl (forkin, I_PUSH, \"ldterm\") == -1) fatal (\"ioctl I_PUSH ldterm\"); if (ioctl (forkin, I_PUSH, \"ttcompat\") == -1) fatal (\"ioctl I_PUSH ttcompat\");], [How to set up a slave PTY, if needed.])\n    ;;\nesac\n\n\nAH_TEMPLATE(SIGNALS_VIA_CHARACTERS, [Make process_send_signal work by\n\"typing\" a signal character on the pty.])\n\ncase $opsys in\n  dnl Perry Smith <pedz@ddivt1.austin.ibm.com> says this is correct for AIX.\n  dnl thomas@mathematik.uni-bremen.de says this is needed for IRIX.\n  aix4-2 | cygwin | gnu | irix6-5 | dragonfly | freebsd | netbsd | openbsd | darwin )\n    AC_DEFINE(SIGNALS_VIA_CHARACTERS, 1)\n    ;;\n\n  dnl 21 Jun 06: Eric Hanchrow <offby1@blarg.net> says this works.\n  dnl FIXME Does gnu-kfreebsd have linux/version.h?  It seems unlikely...\n  gnu-linux | gnu-kfreebsd )\n\n    AC_MSG_CHECKING([for signals via characters])\n    AC_PREPROC_IFELSE([AC_LANG_PROGRAM([[\n#include <linux/version.h>\n#if LINUX_VERSION_CODE < 0x20400\n# error \"Linux version too old\"\n#endif\n      ]], [[]])], emacs_signals_via_chars=yes, emacs_signals_via_chars=no)\n\n    AC_MSG_RESULT([$emacs_signals_via_chars])\n    test $emacs_signals_via_chars = yes && AC_DEFINE(SIGNALS_VIA_CHARACTERS, 1)\n    ;;\nesac\n\n\nAH_TEMPLATE(TAB3, [Undocumented.])\n\ncase $opsys in\n  darwin) AC_DEFINE(TAB3, OXTABS) ;;\n\n  gnu | dragonfly | freebsd | netbsd | openbsd )\n    AC_DEFINE(TABDLY, OXTABS, [Undocumented.])\n    AC_DEFINE(TAB3, OXTABS)\n    ;;\n\n  gnu-linux | gnu-kfreebsd )\n    AC_PREPROC_IFELSE([AC_LANG_PROGRAM([[\n#ifndef __ia64__\n# error \"not ia64\"\n#endif\n      ]], [[]])], AC_DEFINE(GC_MARK_SECONDARY_STACK(),\n        [do { extern void *__libc_ia64_register_backing_store_base; __builtin_ia64_flushrs (); mark_memory (__libc_ia64_register_backing_store_base, __builtin_ia64_bsp ());} while (false)],\n        [Mark a secondary stack, like the register stack on the ia64.]), [])\n    ;;\n\n  hpux*)\n    AC_DEFINE(RUN_TIME_REMAP, 1, [Define if emacs.c needs to call\n      run_time_remap; for HPUX.])\n    ;;\nesac\n\n\ndnl This won't be used automatically yet.  We also need to know, at least,\ndnl that the stack is continuous.\nAH_TEMPLATE(GC_SETJMP_WORKS, [Define if setjmp is known to save all\n  registers relevant for conservative garbage collection in the jmp_buf.])\n\n\ncase $opsys in\n  dnl Not all the architectures are tested, but there are Debian packages\n  dnl for SCM and/or Guile on them, so the technique must work.  See also\n  dnl comments in alloc.c concerning setjmp and gcc.\n  dnl Fixme: it's probably safe to just use the GCC conditional below.\n  gnu-linux | gnu-kfreebsd )\n    AC_PREPROC_IFELSE([AC_LANG_PROGRAM([[\n#if defined __i386__ || defined __sparc__ || defined __mc68000__ \\\n  || defined __alpha__ || defined __mips__ || defined __s390__ \\\n  || defined __arm__ || defined __powerpc__ || defined __amd64__ \\\n  || defined __ia64__ || defined __sh__\n/* ok */\n#else\n# error \"setjmp not known to work on this arch\"\n#endif\n    ]], [[]])], AC_DEFINE(GC_SETJMP_WORKS, 1))\n    ;;\nesac\n\n\nif test x$GCC = xyes; then\n   dnl GC_SETJMP_WORKS is nearly always appropriate for GCC.\n   AC_DEFINE(GC_SETJMP_WORKS, 1)\nelse\n  case $opsys in\n    dnl irix: Tested on Irix 6.5.  SCM worked on earlier versions.\n    aix* | dragonfly | freebsd | netbsd | openbsd | irix6-5 | sol2* )\n      AC_DEFINE(GC_SETJMP_WORKS, 1)\n      ;;\n  esac\nfi                              dnl GCC?\n\ndnl In a weird quirk, MS runtime uses _setjmp and longjmp.\nAC_CACHE_CHECK([for _setjmp], [emacs_cv_func__setjmp],\n  [AC_LINK_IFELSE(\n     [AC_LANG_PROGRAM(\n       [[#include <setjmp.h>\n         #ifdef __MINGW32__\n         # define _longjmp longjmp\n         #endif\n       ]],\n       [[jmp_buf j;\n\t if (! _setjmp (j))\n\t   _longjmp (j, 1);]])],\n     [emacs_cv_func__setjmp=yes],\n     [emacs_cv_func__setjmp=no])])\nif test $emacs_cv_func__setjmp = yes; then\n  AC_DEFINE([HAVE__SETJMP], 1, [Define to 1 if _setjmp and _longjmp work.])\nfi\n\n# We need to preserve signal mask to handle C stack overflows.\nAC_CACHE_CHECK([for sigsetjmp], [emacs_cv_func_sigsetjmp],\n  [AC_LINK_IFELSE(\n     [AC_LANG_PROGRAM(\n       [[#include <setjmp.h>\n       ]],\n       [[sigjmp_buf j;\n         if (! sigsetjmp (j, 1))\n\t   siglongjmp (j, 1);]])],\n     [emacs_cv_func_sigsetjmp=yes],\n     [emacs_cv_func_sigsetjmp=no])])\nif test $emacs_cv_func_sigsetjmp = yes; then\n  AC_DEFINE([HAVE_SIGSETJMP], 1,\n    [Define to 1 if sigsetjmp and siglongjmp work.])\nfi\n\ncase $emacs_cv_func_sigsetjmp,$emacs_cv_alternate_stack,$opsys in\n  yes,yes,* | *,*,mingw32)\n    AC_DEFINE([HAVE_STACK_OVERFLOW_HANDLING], 1,\n      [Define to 1 if C stack overflow can be handled in some cases.]);;\nesac\n\ncase $opsys in\n  sol2* | unixware )\n    dnl TIOCGPGRP is broken in SysVr4, so we can't send signals to PTY\n    dnl subprocesses the usual way.  But TIOCSIGNAL does work for PTYs,\n    dnl and this is all we need.\n    AC_DEFINE(TIOCSIGSEND, TIOCSIGNAL, [Some platforms redefine this.])\n    ;;\nesac\n\n\ncase $opsys in\n  hpux* | sol2* )\n    dnl Used in xfaces.c.\n    AC_DEFINE(XOS_NEEDS_TIME_H, 1, [Compensate for a bug in Xos.h on\n      some systems, where it requires time.h.])\n    ;;\nesac\n\n\ndnl Define symbols to identify the version of Unix this is.\ndnl Define all the symbols that apply correctly.\nAH_TEMPLATE(DOS_NT, [Define if the system is MS DOS or MS Windows.])\nAH_TEMPLATE(MSDOS, [Define if the system is MS DOS.])\nAH_TEMPLATE(USG, [Define if the system is compatible with System III.])\nAH_TEMPLATE(USG5_4, [Define if the system is compatible with System V Release 4.])\n\ncase $opsys in\n  aix4-2)\n    AC_DEFINE(USG, [])\n    dnl This symbol should be defined on AIX Version 3  ???????\n    AC_PREPROC_IFELSE([AC_LANG_PROGRAM([[\n#ifndef _AIX\n# error \"_AIX not defined\"\n#endif\n    ]], [[]])], [], AC_DEFINE(_AIX, [], [Define if the system is AIX.]))\n    ;;\n\n  cygwin)\n    AC_DEFINE(CYGWIN, 1, [Define if the system is Cygwin.])\n    ;;\n\n  darwin)\n    dnl Not __APPLE__, as this may not be defined on non-macOS Darwin.\n    dnl Not DARWIN, because Panther and lower CoreFoundation.h use DARWIN to\n    dnl distinguish macOS from pure Darwin.\n    AC_DEFINE(DARWIN_OS, [], [Define if the system is Darwin.])\n    ;;\n\n  gnu-linux | gnu-kfreebsd )\n    AC_DEFINE(USG, [])\n    AC_DEFINE(GNU_LINUX, [], [Define if ths system is compatible with GNU/Linux.])\n    ;;\n\n  hpux*)\n    AC_DEFINE(USG, [])\n    AC_DEFINE(HPUX, [], [Define if the system is HPUX.])\n    ;;\n\n  irix6-5)\n    AC_DEFINE(USG, [])\n    AC_DEFINE(USG5_4, [])\n    AC_DEFINE(IRIX6_5, [], [Define if the system is IRIX.])\n    ;;\n\n  mingw32)\n    AC_DEFINE(DOS_NT, [])\n    AC_DEFINE(WINDOWSNT, 1, [Define if compiling for native MS Windows.])\n    if test \"x$ac_enable_checking\" != \"x\" ; then\n      AC_DEFINE(EMACSDEBUG, 1, [Define to 1 to enable w32 debug facilities.])\n    fi\n    ;;\n\n  sol2*)\n    AC_DEFINE(USG, [])\n    AC_DEFINE(USG5_4, [])\n    AC_DEFINE(SOLARIS2, [], [Define if the system is Solaris.])\n    ;;\n\n  unixware)\n    AC_DEFINE(USG, [])\n    AC_DEFINE(USG5_4, [])\n    ;;\nesac\n\nAC_CACHE_CHECK([for usable FIONREAD], [emacs_cv_usable_FIONREAD],\n  [case $opsys in\n     aix4-2 | nacl)\n       dnl BUILD 9008 - FIONREAD problem still exists in X-Windows.\n       emacs_cv_usable_FIONREAD=no\n       ;;\n\n     mingw32)\n       emacs_cv_usable_FIONREAD=yes\n       ;;\n\n     *)\n       AC_COMPILE_IFELSE(\n\t [AC_LANG_PROGRAM([[#include <sys/types.h>\n\t\t\t    #include <sys/ioctl.h>\n\t\t\t    #ifdef USG5_4\n\t\t\t    # include <sys/filio.h>\n\t\t\t    #endif\n\t\t\t  ]],\n\t\t\t  [[int foo = ioctl (0, FIONREAD, &foo);]])],\n\t [emacs_cv_usable_FIONREAD=yes],\n\t [emacs_cv_usable_FIONREAD=no])\n       ;;\n   esac])\nif test $emacs_cv_usable_FIONREAD = yes; then\n  AC_DEFINE([USABLE_FIONREAD], [1], [Define to 1 if FIONREAD is usable.])\n\n  if test $emacs_broken_SIGIO = no; then\n    AC_CACHE_CHECK([for usable SIGIO], [emacs_cv_usable_SIGIO],\n      [AC_COMPILE_IFELSE(\n\t [AC_LANG_PROGRAM([[#include <fcntl.h>\n\t\t\t    #include <signal.h>\n\t\t\t  ]],\n\t\t\t  [[int foo = SIGIO | F_SETFL | FASYNC;]])],\n\t [emacs_cv_usable_SIGIO=yes],\n\t [emacs_cv_usable_SIGIO=no])],\n      [emacs_cv_usable_SIGIO=yes],\n      [emacs_cv_usable_SIGIO=no])\n    if test $emacs_cv_usable_SIGIO = yes; then\n      AC_DEFINE([USABLE_SIGIO], [1], [Define to 1 if SIGIO is usable.])\n    fi\n  fi\nfi\n\ncase $opsys in\n  hpux11)\n    dnl It works to open the pty's tty in the parent (Emacs), then\n    dnl close and reopen it in the child.\n    AC_DEFINE(USG_SUBTTY_WORKS, 1, [Define for USG systems where it\n      works to open a pty's tty in the parent process, then close and\n      reopen it in the child.])\n    ;;\n\n  irix6-5)\n    AC_DEFINE(PREFER_VSUSP, 1, [Define if process_send_signal should\n      use VSUSP instead of VSWTCH.])\n    ;;\n\n  sol2-10)\n    AC_DEFINE(_STRUCTURED_PROC, 1, [Needed for system_process_attributes\n      on Solaris.])\n    ;;\nesac\n\n# Set up the CFLAGS for real compilation, so we can substitute it.\nCFLAGS=\"$REAL_CFLAGS\"\nCPPFLAGS=\"$REAL_CPPFLAGS\"\nLIBS=\"$REAL_LIBS\"\n\n## Hack to detect a buggy GCC version.\nif test \"$GCC\" = yes && \\\n   $CC --version 2> /dev/null | grep 'gcc.* 4.5.0' >/dev/null; then\n  case $CFLAGS in\n    *-fno-optimize-sibling-calls*) ;;\n    *-O@<:@23@:>@*)\n      AC_MSG_ERROR([GCC 4.5.0 has problems compiling Emacs; see etc/PROBLEMS.]);;\n  esac\nfi\n\nversion=$PACKAGE_VERSION\n\ncopyright=\"Copyright (C) 2017 Free Software Foundation, Inc.\"\nAC_DEFINE_UNQUOTED(COPYRIGHT, [\"$copyright\"],\n  [Short copyright string for this version of Emacs.])\nAC_SUBST(copyright)\n\n### Specify what sort of things we'll be editing into Makefile and config.h.\n### Use configuration here uncanonicalized to avoid exceeding size limits.\nAC_SUBST(version)\nAC_SUBST(configuration)\n## Unused?\nAC_SUBST(canonical)\nAC_SUBST(srcdir)\nAC_SUBST(prefix)\nAC_SUBST(exec_prefix)\nAC_SUBST(bindir)\nAC_SUBST(datadir)\nAC_SUBST(sharedstatedir)\nAC_SUBST(libexecdir)\nAC_SUBST(mandir)\nAC_SUBST(infodir)\nAC_SUBST(lispdir)\nAC_SUBST(standardlisppath)\nAC_SUBST(locallisppath)\nAC_SUBST(lisppath)\nAC_SUBST(x_default_search_path)\nAC_SUBST(etcdir)\nAC_SUBST(archlibdir)\nAC_SUBST(etcdocdir)\nAC_SUBST(bitmapdir)\nAC_SUBST(gamedir)\nAC_SUBST(gameuser)\nAC_SUBST(gamegroup)\n## FIXME? Nothing uses @LD_SWITCH_X_SITE@.\n## src/Makefile.in did add LD_SWITCH_X_SITE (as a cpp define) to the\n## end of LIBX_BASE, but nothing ever set it.\nAC_SUBST(LD_SWITCH_X_SITE)\nAC_SUBST(C_SWITCH_X_SITE)\nAC_SUBST(GNUSTEP_CFLAGS)\nAC_SUBST(CFLAGS)\n## Used in lwlib/Makefile.in.\nAC_SUBST(X_TOOLKIT_TYPE)\nAC_SUBST(ns_appdir)\nAC_SUBST(ns_appbindir)\nAC_SUBST(ns_appresdir)\nAC_SUBST(ns_appsrc)\nAC_SUBST(GNU_OBJC_CFLAGS)\nAC_SUBST(OTHER_FILES)\n\nif test -n \"${term_header}\"; then\n    AC_DEFINE_UNQUOTED(TERM_HEADER, \"${term_header}\",\n        [Define to the header for the built-in window system.])\nfi\n\nAC_DEFINE_UNQUOTED(EMACS_CONFIGURATION,  \"${canonical}\",\n\t\t   [Define to the canonical Emacs configuration name.])\nAC_DEFINE_UNQUOTED(EMACS_CONFIG_OPTIONS, \"${emacs_config_options}\",\n\t\t   [Define to the options passed to configure.])\nAH_TEMPLATE(config_opsysfile, [Some platforms that do not use configure\n  define this to include extra configuration information.])\n\ncase $opsys in\n  mingw32)\n    AC_DEFINE(config_opsysfile, <ms-w32.h>, [])\n    ;;\nesac\n\nXMENU_OBJ=\nXOBJ=\nFONT_OBJ=\nif test \"${HAVE_X_WINDOWS}\" = \"yes\" ; then\n  AC_DEFINE(HAVE_X_WINDOWS, 1,\n\t    [Define to 1 if you want to use the X window system.])\n  XMENU_OBJ=xmenu.o\n  XOBJ=\"xterm.o xfns.o xselect.o xrdb.o xsmfns.o xsettings.o\"\n  FONT_OBJ=xfont.o\n  if test \"$HAVE_CAIRO\" = \"yes\"; then\n    FONT_OBJ=\"ftfont.o ftcrfont.o\"\n  elif test \"$HAVE_XFT\" = \"yes\"; then\n    FONT_OBJ=\"$FONT_OBJ ftfont.o xftfont.o ftxfont.o\"\n  elif test \"$HAVE_FREETYPE\" = \"yes\"; then\n    FONT_OBJ=\"$FONT_OBJ ftfont.o ftxfont.o\"\n  fi\n  AC_SUBST(FONT_OBJ)\nfi\nAC_SUBST(XMENU_OBJ)\nAC_SUBST(XOBJ)\nAC_SUBST(FONT_OBJ)\n\nWIDGET_OBJ=\nMOTIF_LIBW=\nif test \"${USE_X_TOOLKIT}\" != \"none\" ; then\n  WIDGET_OBJ=widget.o\n  AC_DEFINE(USE_X_TOOLKIT, 1, [Define to 1 if using an X toolkit.])\n  if test \"${USE_X_TOOLKIT}\" = \"LUCID\"; then\n    AC_DEFINE(USE_LUCID, 1, [Define to 1 if using the Lucid X toolkit.])\n  elif test \"${USE_X_TOOLKIT}\" = \"MOTIF\"; then\n    AC_DEFINE(USE_MOTIF, 1, [Define to 1 if using the Motif X toolkit.])\n    MOTIF_LIBW=-lXm\n    case \"$opsys\" in\n      gnu-linux)\n        ## Paul Abrahams <abrahams at equinox.shaysnet.com> says this is needed.\n        MOTIF_LIBW=\"$MOTIF_LIBW -lXpm\"\n        ;;\n\n      unixware)\n        ## Richard Anthony Ryan <ryanr at ellingtn.ftc.nrcs.usda.gov>\n        ## says -lXimp is needed in UNIX_SV ... 4.2 1.1.2.\n        MOTIF_LIBW=\"MOTIF_LIBW -lXimp\"\n        ;;\n\n      aix4-2)\n        ## olson@mcs.anl.gov says -li18n is needed by -lXm.\n        MOTIF_LIBW=\"$MOTIF_LIBW -li18n\"\n        ;;\n    esac\n    MOTIF_LIBW=\"$MOTIF_LIBW $LIBXP\"\n  fi\nfi\nAC_SUBST(WIDGET_OBJ)\n\nTOOLKIT_LIBW=\ncase \"$USE_X_TOOLKIT\" in\n  MOTIF) TOOLKIT_LIBW=\"$MOTIF_LIBW\" ;;\n  LUCID) TOOLKIT_LIBW=\"$LUCID_LIBW\" ;;\n  none) test \"x$HAVE_GTK\" = \"xyes\" && TOOLKIT_LIBW=\"$GTK_LIBS\" ;;\nesac\nif test \"$HAVE_XWIDGETS\" = \"yes\"; then\n  TOOLKIT_LIBW=\"$TOOLKIT_LIBW -lXcomposite\"\nfi\nAC_SUBST(TOOLKIT_LIBW)\n\nif test \"${opsys}\" != \"mingw32\"; then\n  if test \"$USE_X_TOOLKIT\" = \"none\"; then\n    LIBXT_OTHER=\"\\$(LIBXSM)\"\n  else\n    LIBXT_OTHER=\"\\$(LIBXMU) -lXt \\$(LIBXTR6) -lXext\"\n  fi\nfi\nAC_SUBST(LIBXT_OTHER)\n\nif test \"${HAVE_X11}\" = \"yes\" ; then\n  AC_DEFINE(HAVE_X11, 1,\n\t    [Define to 1 if you want to use version 11 of X windows.])\n  LIBX_OTHER=\"\\$(LIBXT) \\$(LIBX_EXTRA)\"\nelse\n  LIBX_OTHER=\nfi\nAC_SUBST(LIBX_OTHER)\n\nif test \"$HAVE_GTK\" = yes || test \"$HAVE_X11\" != yes; then\n  LIBXMENU=\nelif test \"$USE_X_TOOLKIT\" = none; then\n  LIBXMENU='$(oldXMenudir)/libXMenu11.a'\nelse\n  LIBXMENU='$(lwlibdir)/liblw.a'\nfi\nAC_SUBST(LIBXMENU)\n\nAC_CACHE_CHECK([for struct alignment],\n  [emacs_cv_struct_alignment],\n  [AC_COMPILE_IFELSE(\n     [AC_LANG_PROGRAM([[#include <stddef.h>\n\t\t\tstruct __attribute__ ((aligned (8))) s { char c; };\n\t\t\tstruct t { char c; struct s s; };\n\t\t\tchar verify[offsetof (struct t, s) == 8 ? 1 : -1];\n\t\t      ]])],\n     [emacs_cv_struct_alignment=yes],\n     [emacs_cv_struct_alignment=no])])\nif test \"$emacs_cv_struct_alignment\" = yes; then\n  AC_DEFINE([HAVE_STRUCT_ATTRIBUTE_ALIGNED], 1,\n    [Define to 1 if 'struct __attribute__ ((aligned (N)))' aligns the\n     structure to an N-byte boundary.])\nfi\n\nif test \"${GNU_MALLOC}\" = \"yes\" ; then\n  AC_DEFINE(GNU_MALLOC, 1,\n\t    [Define to 1 if you want to use the GNU memory allocator.])\nfi\n\nRALLOC_OBJ=\nif test \"${REL_ALLOC}\" = \"yes\" ; then\n  AC_DEFINE(REL_ALLOC, 1,\n\t    [Define REL_ALLOC if you want to use the relocating allocator for\n\t     buffer space.])\n\n  test \"$system_malloc\" != \"yes\" && RALLOC_OBJ=ralloc.o\nfi\nAC_SUBST(RALLOC_OBJ)\n\nif test \"$opsys\" = \"cygwin\"; then\n  CYGWIN_OBJ=\"sheap.o cygw32.o\"\n  ## Cygwin differs because of its unexec().\n  PRE_ALLOC_OBJ=\n  POST_ALLOC_OBJ=lastfile.o\nelif test \"$opsys\" = \"mingw32\"; then\n  CYGWIN_OBJ=\n  PRE_ALLOC_OBJ=\n  POST_ALLOC_OBJ=lastfile.o\nelse\n  CYGWIN_OBJ=\n  PRE_ALLOC_OBJ=lastfile.o\n  POST_ALLOC_OBJ=\nfi\nAC_SUBST(CYGWIN_OBJ)\nAC_SUBST(PRE_ALLOC_OBJ)\nAC_SUBST(POST_ALLOC_OBJ)\n\ndnl Call this 'FORTIFY_SOUR' so that it sorts before the 'FORTIFY_SOURCE'\ndnl verbatim defined above.  The tricky name is apropos, as this hack\ndnl makes Fortify go sour!\nAH_VERBATIM([FORTIFY_SOUR],\n[/* Without the following workaround, Emacs runs slowly on OS X 10.8.\n   The workaround disables some useful run-time checking, so it\n   should be conditional to the platforms with the performance bug.\n   Perhaps Apple will fix this some day; also see m4/extern-inline.m4.  */\n#if defined __APPLE__ && defined __GNUC__\n# ifndef _DONT_USE_CTYPE_INLINE_\n#  define _DONT_USE_CTYPE_INLINE_\n# endif\n# ifndef _FORTIFY_SOURCE\n#  define _FORTIFY_SOURCE 0\n# endif\n#endif\n])\n\n# If user asks to omit features, disable optional features that gnulib\n# might otherwise enable.\nif test \"$with_features\" = no && test \"$enable_acl\" != yes; then\n  enable_acl=no\nfi\n\n# Configure gnulib.  Although this does not affect CFLAGS or LIBS permanently.\n# it temporarily reverts them to their pre-pkg-config values,\n# because gnulib needs to work with both src (which uses the\n# pkg-config stuff) and lib-src (which does not).  For example, gnulib\n# may need to determine whether LIB_CLOCK_GETTIME should contain -lrt,\n# and it therefore needs to run in an environment where LIBS does not\n# already contain -lrt merely because 'pkg-config --libs' printed '-lrt'\n# for some package unrelated to lib-src.\nSAVE_CFLAGS=$CFLAGS\nSAVE_LIBS=$LIBS\nCFLAGS=$pre_PKG_CONFIG_CFLAGS\nLIBS=\"$LIB_PTHREAD $pre_PKG_CONFIG_LIBS\"\ngl_ASSERT_NO_GNULIB_POSIXCHECK\ngl_ASSERT_NO_GNULIB_TESTS\ngl_INIT\nCFLAGS=$SAVE_CFLAGS\nLIBS=$SAVE_LIBS\n\nif test \"${opsys}\" = \"mingw32\"; then\n  CPPFLAGS=\"$CPPFLAGS -DUSE_CRT_DLL=1 -I \\${abs_top_srcdir}/nt/inc\"\n  # Remove unneeded switches from the value of CC that goes to Makefiles\n  CC=`AS_ECHO([\"$CC\"]) | sed -e \"s,$GCC_TEST_OPTIONS,,\"`\nfi\n\ncase \"$opsys\" in\n  aix4-2) LD_SWITCH_SYSTEM_TEMACS=\"-Wl,-bnodelcsect\" ;;\n\n  cygwin) LD_SWITCH_SYSTEM_TEMACS=\"-Wl,-stack,0x00800000\" ;;\n\n  darwin)\n   ## The -headerpad option tells ld (see man page) to leave room at the\n   ## end of the header for adding load commands.  Needed for dumping.\n   ## 0x1000 is enough for roughly 52 load commands on the x86_64\n   ## architecture (where they are 78 bytes each). The actual number of\n   ## load commands added is not consistent but normally ranges from\n   ## about 14 to about 34. Setting it high gets us plenty of slop and\n   ## only costs about 1.5K of wasted binary space.\n   headerpad_extra=1000\n   if test \"$HAVE_NS\" = \"yes\"; then\n     libs_nsgui=\"-framework AppKit\"\n     if test \"$NS_IMPL_COCOA\" = \"yes\"; then\n        libs_nsgui=\"$libs_nsgui -framework IOKit\"\n     fi\n   else\n     libs_nsgui=\n   fi\n   LD_SWITCH_SYSTEM_TEMACS=\"-fno-pie -prebind $libs_nsgui -Xlinker -headerpad -Xlinker $headerpad_extra\"\n\n   ## This is here because src/Makefile.in did some extra fiddling around\n   ## with LD_SWITCH_SYSTEM.  It seems cleaner to put this in\n   ## LD_SWITCH_SYSTEM_TEMACS instead,\n   test \"x$LD_SWITCH_SYSTEM\" = \"x\" && test \"x$GCC\" != \"xyes\" && \\\n     LD_SWITCH_SYSTEM_TEMACS=\"-X $LD_SWITCH_SYSTEM_TEMACS\"\n   ;;\n\n  ## LD_SWITCH_X_SITE_RPATH is a -rpath option saying where to\n  ## find X at run-time.\n  ## When handled by cpp, this was in LD_SWITCH_SYSTEM.  However, at the\n  ## point where configure sourced the s/*.h file, LD_SWITCH_X_SITE_RPATH\n  ## had not yet been defined and was expanded to null.  Hence LD_SWITCH_SYSTEM\n  ## had different values in configure (in ac_link) and src/Makefile.in.\n  ## It seems clearer therefore to put this piece in LD_SWITCH_SYSTEM_TEMACS.\n  gnu*) LD_SWITCH_SYSTEM_TEMACS=\"\\$(LD_SWITCH_X_SITE_RPATH)\" ;;\n\n  mingw32)\n   ## Is it any better under MinGW64 to relocate emacs into higher addresses?\n   case \"$canonical\" in\n     x86_64-*-*) LD_SWITCH_SYSTEM_TEMACS=\"-Wl,-stack,0x00800000 -Wl,-heap,0x00100000 -Wl,-image-base,0x400000000 -Wl,-entry,__start -Wl,-Map,./temacs.map\" ;;\n     *) LD_SWITCH_SYSTEM_TEMACS=\"-Wl,-stack,0x00800000 -Wl,-heap,0x00100000 -Wl,-image-base,0x01000000 -Wl,-entry,__start -Wl,-Map,./temacs.map\" ;;\n   esac\n   ;;\n\n  *) LD_SWITCH_SYSTEM_TEMACS= ;;\nesac\n\n# -no-pie or -nopie fixes a temacs segfault on Gentoo, OpenBSD,\n# Ubuntu, and other systems with \"hardened\" GCC configurations for\n# some reason (Bug#18784).  We don't know why this works, but not\n# segfaulting is better than segfaulting.  Use ac_c_werror_flag=yes\n# when trying the option, otherwise clang keeps warning that it does\n# not understand it, and pre-4.6 GCC has a similar problem\n# (Bug#20338).  Prefer -no-pie to -nopie, as -no-pie is the\n# spelling used by GCC 6.1.0 and later (Bug#24682).\nAC_CACHE_CHECK(\n  [for $CC option to disable position independent executables],\n  [emacs_cv_prog_cc_no_pie],\n  [emacs_save_c_werror_flag=$ac_c_werror_flag\n   emacs_save_LDFLAGS=$LDFLAGS\n   ac_c_werror_flag=yes\n   for emacs_cv_prog_cc_no_pie in -no-pie -nopie no; do\n     test $emacs_cv_prog_cc_no_pie = no && break\n     LDFLAGS=\"$emacs_save_LDFLAGS $emacs_cv_prog_cc_no_pie\"\n     AC_LINK_IFELSE([AC_LANG_PROGRAM([], [])], [break])\n   done\n   ac_c_werror_flag=$emacs_save_c_werror_flag\n   LDFLAGS=$emacs_save_LDFLAGS])\nif test \"$emacs_cv_prog_cc_no_pie\" != no; then\n  LD_SWITCH_SYSTEM_TEMACS=\"$LD_SWITCH_SYSTEM_TEMACS $emacs_cv_prog_cc_no_pie\"\nfi\n\nif test x$ac_enable_profiling != x ; then\n  case $opsys in\n    *freebsd | gnu-linux) ;;\n    *) LD_SWITCH_SYSTEM_TEMACS=\"$LD_SWITCH_SYSTEM_TEMACS -pg\" ;;\n  esac\nfi\n\nLD_SWITCH_SYSTEM_TEMACS=\"$LDFLAGS_NOCOMBRELOC $LD_SWITCH_SYSTEM_TEMACS\"\n\nAC_SUBST(LD_SWITCH_SYSTEM_TEMACS)\n\n## Common for all window systems\nif test \"$window_system\" != \"none\"; then\n  AC_DEFINE(HAVE_WINDOW_SYSTEM, 1, [Define if you have a window system.])\n  AC_DEFINE(POLL_FOR_INPUT, 1, [Define if you poll periodically to detect C-g.])\n  WINDOW_SYSTEM_OBJ=\"fontset.o fringe.o image.o\"\nfi\n\nAC_SUBST(WINDOW_SYSTEM_OBJ)\n\nAH_TOP([/* GNU Emacs site configuration template file.\n\nCopyright (C) 1988, 1993-1994, 1999-2002, 2004-2017\n  Free Software Foundation, Inc.\n\nThis file is part of GNU Emacs.\n\nGNU Emacs is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or (at\nyour option) any later version.\n\nGNU Emacs is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with GNU Emacs.  If not, see <http://www.gnu.org/licenses/>.  */\n\n\n/* No code in Emacs #includes config.h twice, but some bits of code\n   intended to work with other packages as well (like gmalloc.c)\n   think they can include it as many times as they like.  */\n#ifndef EMACS_CONFIG_H\n#define EMACS_CONFIG_H\n])dnl\n\nAH_BOTTOM([#include <conf_post.h>\n\n#endif /* EMACS_CONFIG_H */\n\n/*\nLocal Variables:\nmode: c\nEnd:\n*/\n])dnl\n\n#### Report on what we decided to do.\n#### Report GTK as a toolkit, even if it doesn't use Xt.\n#### It makes printing result more understandable as using GTK sets\n#### toolkit_scroll_bars to yes by default.\nif test \"${HAVE_GTK}\" = \"yes\"; then\n  USE_X_TOOLKIT=\"$USE_GTK_TOOLKIT\"\nfi\n\nif test $USE_ACL -ne 0; then\n  ACL_SUMMARY=\"yes $LIB_ACL\"\nelse\n  ACL_SUMMARY=no\nfi\n\nemacs_standard_dirs='Standard dirs'\nAS_ECHO([\"\nConfigured for '${canonical}'.\n\n  Where should the build process find the source code?    ${srcdir}\n  What compiler should emacs be built with?               ${CC} ${CFLAGS}\n  Should Emacs use the GNU version of malloc?             ${GNU_MALLOC}${GNU_MALLOC_reason}\n  Should Emacs use a relocating allocator for buffers?    ${REL_ALLOC}\n  Should Emacs use mmap(2) for buffer allocation?         $use_mmap_for_buffers\n  What window system should Emacs use?                    ${window_system}\n  What toolkit should Emacs use?                          ${USE_X_TOOLKIT}\n  Where do we find X Windows header files?                ${x_includes:-$emacs_standard_dirs}\n  Where do we find X Windows libraries?                   ${x_libraries:-$emacs_standard_dirs}\"])\n\noptsep=\nemacs_config_features=\nfor opt in XAW3D XPM JPEG TIFF GIF PNG RSVG CAIRO IMAGEMAGICK SOUND GPM DBUS \\\n  GCONF GSETTINGS NOTIFY ACL LIBSELINUX GNUTLS LIBXML2 FREETYPE M17N_FLT \\\n  LIBOTF XFT ZLIB TOOLKIT_SCROLL_BARS X_TOOLKIT X11 NS MODULES \\\n  XWIDGETS; do\n\n    case $opt in\n      NOTIFY|ACL) eval val=\\${${opt}_SUMMARY} ;;\n      TOOLKIT_SCROLL_BARS|X_TOOLKIT) eval val=\\${USE_$opt} ;;\n      *) eval val=\\${HAVE_$opt} ;;\n    esac\n    case x$val in\n      xno|xnone|x) continue ;;\n    esac\n    case $opt in\n      X_TOOLKIT)\n        case $val in\n          GTK*|LUCID|MOTIF) opt=$val ;;\n          *) continue ;;\n        esac\n      ;;\n    esac\n    AS_VAR_APPEND([emacs_config_features], [\"$optsep$opt\"])\n    optsep=' '\ndone\nAC_DEFINE_UNQUOTED(EMACS_CONFIG_FEATURES, \"${emacs_config_features}\",\n  [Summary of some of the main features enabled by configure.])\n\nAS_ECHO([\"  Does Emacs use -lXaw3d?                                 ${HAVE_XAW3D}\n  Does Emacs use -lXpm?                                   ${HAVE_XPM}\n  Does Emacs use -ljpeg?                                  ${HAVE_JPEG}\n  Does Emacs use -ltiff?                                  ${HAVE_TIFF}\n  Does Emacs use a gif library?                           ${HAVE_GIF} $LIBGIF\n  Does Emacs use a png library?                           ${HAVE_PNG} $LIBPNG\n  Does Emacs use -lrsvg-2?                                ${HAVE_RSVG}\n  Does Emacs use cairo?                                   ${HAVE_CAIRO}\n  Does Emacs use imagemagick?                             ${HAVE_IMAGEMAGICK}\n  Does Emacs support sound?                               ${HAVE_SOUND}\n  Does Emacs use -lgpm?                                   ${HAVE_GPM}\n  Does Emacs use -ldbus?                                  ${HAVE_DBUS}\n  Does Emacs use -lgconf?                                 ${HAVE_GCONF}\n  Does Emacs use GSettings?                               ${HAVE_GSETTINGS}\n  Does Emacs use a file notification library?             ${NOTIFY_SUMMARY}\n  Does Emacs use access control lists?                    ${ACL_SUMMARY}\n  Does Emacs use -lselinux?                               ${HAVE_LIBSELINUX}\n  Does Emacs use -lgnutls?                                ${HAVE_GNUTLS}\n  Does Emacs use -lxml2?                                  ${HAVE_LIBXML2}\n  Does Emacs use -lfreetype?                              ${HAVE_FREETYPE}\n  Does Emacs use -lm17n-flt?                              ${HAVE_M17N_FLT}\n  Does Emacs use -lotf?                                   ${HAVE_LIBOTF}\n  Does Emacs use -lxft?                                   ${HAVE_XFT}\n  Does Emacs directly use zlib?                           ${HAVE_ZLIB}\n  Does Emacs have dynamic modules support?                ${HAVE_MODULES}\n  Does Emacs use toolkit scroll bars?                     ${USE_TOOLKIT_SCROLL_BARS}\n  Does Emacs support Xwidgets (requires gtk3)?            ${HAVE_XWIDGETS}\n\"])\n\nif test -n \"${EMACSDATA}\"; then\n   AS_ECHO([\"  Environment variable EMACSDATA set to:                  $EMACSDATA\"])\nfi\nif test -n \"${EMACSDOC}\"; then\n   AS_ECHO([\"  Environment variable EMACSDOC set to:                   $EMACSDOC\"])\nfi\n\necho\n\nif test \"$HAVE_NS\" = \"yes\"; then\n   echo\n   AS_ECHO([\"You must run \\\"${MAKE-make} install\\\" in order to test the built application.\nThe installed application will go to nextstep/Emacs.app and can be\nrun or moved from there.\"])\n   if test \"$EN_NS_SELF_CONTAINED\" = \"yes\"; then\n      echo \"The application will be fully self-contained.\"\n    else\n      AS_ECHO([\"The lisp resources for the application will be installed under ${prefix}.\nYou may need to run \\\"${MAKE-make} install\\\" with sudo.  The application will fail\nto run if these resources are not installed.\"])\n   fi\n   echo\nfi\n\nif test \"${opsys}\" = \"cygwin\"; then\n  case `uname -r` in\n    1.5.*) AC_MSG_WARN([[building Emacs on Cygwin 1.5 is not supported.]])\n           echo\n\t   ;;\n  esac\nfi\n\n# Remove any trailing slashes in these variables.\ncase $prefix in\n  */) prefix=`AS_DIRNAME([\"$prefix.\"])`;;\nesac\ncase $exec_prefix in\n  */) exec_prefix=`AS_DIRNAME([\"$exec_prefix.\"])`;;\nesac\n\nif test \"$HAVE_NS\" = \"yes\"; then\n  if test \"$NS_IMPL_GNUSTEP\" = yes; then\n    AC_CONFIG_FILES([nextstep/GNUstep/Emacs.base/Resources/Info-gnustep.plist:nextstep/templates/Info-gnustep.plist.in \\\n      nextstep/GNUstep/Emacs.base/Resources/Emacs.desktop:nextstep/templates/Emacs.desktop.in])\n    ns_check_file=Resources/Info-gnustep.plist\n  else\n    AC_CONFIG_FILES([nextstep/Cocoa/Emacs.base/Contents/Info.plist:nextstep/templates/Info.plist.in \\\n      nextstep/Cocoa/Emacs.base/Contents/Resources/English.lproj/InfoPlist.strings:nextstep/templates/InfoPlist.strings.in])\n    ns_check_file=Contents/Info.plist\n  fi\n  AC_SUBST(ns_check_file)\nfi\n\ndnl config.status treats $srcdir specially, so I think this is ok...\nAC_CONFIG_FILES([$srcdir/doc/man/emacs.1])\n\ndnl Obviously there is duplication here wrt $SUBDIR_MAKEFILES.\ndnl You _can_ use that variable in AC_CONFIG_FILES, so long as any directory\ndnl using automake (ie lib/) is explicitly listed and not \"hidden\" in a variable\ndnl (else you get \"no 'Makefile.am' found for any configure output\").\ndnl This will work, but you get a config.status that is not quite right\ndnl (see http://lists.gnu.org/archive/html/bug-autoconf/2008-08/msg00028.html).\ndnl That doesn't have any obvious consequences for Emacs, but on the whole\ndnl it seems better to just live with the duplication.\nSUBDIR_MAKEFILES=\"lib/Makefile lib-src/Makefile oldXMenu/Makefile doc/emacs/Makefile doc/misc/Makefile doc/lispintro/Makefile doc/lispref/Makefile src/Makefile lwlib/Makefile lisp/Makefile leim/Makefile nextstep/Makefile nt/Makefile\"\n\nAC_CONFIG_FILES([Makefile lib/Makefile lib-src/Makefile oldXMenu/Makefile \\\n       doc/emacs/Makefile doc/misc/Makefile doc/lispintro/Makefile \\\n       doc/lispref/Makefile src/Makefile lwlib/Makefile lisp/Makefile \\\n       leim/Makefile nextstep/Makefile nt/Makefile])\n\ndnl test/ is not present in release tarfiles.\nopt_makefile=test/automated/Makefile\n\nif test -f \"$srcdir/$opt_makefile.in\"; then\n  SUBDIR_MAKEFILES=\"$SUBDIR_MAKEFILES $opt_makefile\"\n  dnl Again, it's best not to use a variable.  Though you can add\n  dnl \", [], [opt_makefile='$opt_makefile']\" and it should work.\n  AC_CONFIG_FILES([test/automated/Makefile])\nfi\n\n\ndnl The admin/ directory used to be excluded from tarfiles.\nif test -d $srcdir/admin; then\n  SUBDIR_MAKEFILES=\"$SUBDIR_MAKEFILES admin/charsets/Makefile admin/unidata/Makefile admin/grammars/Makefile\"\n  AC_CONFIG_FILES([admin/charsets/Makefile])\n  AC_CONFIG_FILES([admin/unidata/Makefile])\n  AC_CONFIG_FILES([admin/grammars/Makefile])\nfi                              dnl -d admin\n\n\nSUBDIR_MAKEFILES_IN=`echo \" ${SUBDIR_MAKEFILES}\" | sed -e 's| | $(srcdir)/|g' -e 's|Makefile|Makefile.in|g'`\n\nAC_SUBST(SUBDIR_MAKEFILES_IN)\n\ndnl You might wonder (I did) why epaths.h is generated by running make,\ndnl rather than just letting configure generate it from epaths.in.\ndnl One reason is that the various paths are not fully expanded (see above);\ndnl eg gamedir=${prefix}/var/games/emacs.\ndnl Secondly, the GNU Coding standards require that one should be able\ndnl to run 'make prefix=/some/where/else' and override the values set\ndnl by configure.  This also explains the 'move-if-change' test and\ndnl the use of force in the 'epaths-force' rule in Makefile.in.\nAC_CONFIG_COMMANDS([src/epaths.h], [\nif test \"${opsys}\" = \"mingw32\"; then\n  ${MAKE-make} MAKEFILE_NAME=do-not-make-Makefile epaths-force-w32\nelse\n  ${MAKE-make} MAKEFILE_NAME=do-not-make-Makefile epaths-force\nfi || AC_MSG_ERROR(['src/epaths.h' could not be made.])\n], [GCC=\"$GCC\" CPPFLAGS=\"$CPPFLAGS\" opsys=\"$opsys\"])\n\ndnl NB we have to cheat and use the ac_... version because abs_top_srcdir\ndnl is not yet set, sigh.  Or we could use ../$srcdir/src/.gdbinit,\ndnl or a symlink?\nAC_CONFIG_COMMANDS([src/.gdbinit], [\nif test ! -f src/.gdbinit && test -f \"$srcdir/src/.gdbinit\"; then\n  AS_ECHO([\"source $ac_abs_top_srcdir/src/.gdbinit\"]) > src/.gdbinit\nfi\n])\n\ndnl Perhaps this would be better named doc-emacs-emacsver.texi?\ndnl See comments for etc-refcards-emacsver.tex.\ndnl Since we get a doc/emacs directory generated anyway, for the Makefile,\ndnl it is not quite the same.  But we are generating in $srcdir.\nAC_CONFIG_COMMANDS([doc/emacs/emacsver.texi], [\n${MAKE-make} -s --no-print-directory -C doc/emacs doc-emacsver || \\\nAC_MSG_ERROR(['doc/emacs/emacsver.texi' could not be made.])\n])\n\ndnl If we give this the more natural name, etc/refcards/emacsver.texi,\ndnl then a directory etc/refcards is created in the build directory,\ndnl which is probably harmless, but confusing (in out-of-tree builds).\ndnl (If we were to generate etc/refcards/Makefile, this might change.)\ndnl It is really $srcdir/etc/refcards/emacsver.tex that we generate.\nAC_CONFIG_COMMANDS([etc-refcards-emacsver.tex], [\n${MAKE-make} -s MAKEFILE_NAME=do-not-make-Makefile etc-emacsver || \\\nAC_MSG_ERROR(['etc/refcards/emacsver.tex' could not be made.])\n])\n\nAC_OUTPUT\n\ntest \"$MAKE\" = make || AC_MSG_NOTICE([Now you can run '$MAKE'.])\n",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/src/ChangeLog.5": "1995-06-21  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* Version 19.29 released.\n\n\t* xfns.c (Fx_display_grayscale_p): Return t or nil.\n\tReturn t for color displays.\n\n\t* s/msdos.h (SYSTEM_PURESIZE_EXTRA): Increase to 68000.\n\n\t* xdisp.c (decode_mode_spec) [!MULTI_FRAME]: Handle %F properly.\n\n1995-06-20  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keyboard.c (read_key_sequence): Don't use Vprefix_help_command\n\tfor the first character in a key seq.\n\n\t* ntinevt.c (map_virt_key): Mark some additional chars as valid ASCII.\n\n\t* ntterm.c (ctrl_c_handler): Ignore CTRL_BREAK_EVENT signals.\n\n1995-06-19  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* sysdep.c (rmdir): Fix up Aug 19 1993 change that wasn't done right.\n\n\t* ntproc.c (win32_wait): Massage retval into what is expected in Unix.\n\n\t* process.c (sigchld_handler): Change XSETFASTINT to XSETINT.\n\n\t* keyboard.c (Freset_this_command_lengths): New function.\n\t(before_command_key_count, before_command_echo_length)\n\t(before_command_restore_flag): New variables.\n\t(add_command_key): If requested, reset the lengths.\n\t(command_loop_1): Record current lengths before reading cmd.\n\t(read_char): Update the recorded length before echoing.\n\n\t* xfns.c (Fx_create_frame): Fix last arg to x_get_arg for Qdisplay.\n\n\t* s/linux.h (LIB_GCC): Fix previous change.\n\tIf we redefine it later, #undef it first.\n\n1995-06-18  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keyboard.c (quit_throw_to_read_char): Turn off the error check\n\ttesting poll_suppress_count.\n\n\t* s/linux.h (LIB_GCC): Define here, overriding Makefile.in.in,\n\tso as to use C_SWITCH_X_MACHINE.\n\n1995-06-17  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* m/alpha.h (SYSTEM_MALLOC): Definition deleted.\n\n\t* keymap.c (Vdefine_key_rebound_commands): New variable.\n\t(syms_of_keymap): Set up Lisp var.\n\t(Fdefine_key): Put new definition onto Vdefine_key_rebound_commands.\n\n\t* xmenu.c (menu_item_equiv_key): Do reconsider a command that had\n\tno equivalent before, if it is in Vdefine_key_rebound_commands.\n\n\t* data.c (Flocal_variable_if_set_p): New function.\n\t(syms_of_data): Call defsubr.\n\n\t* xdisp.c (display_text_line): Fill in charstart for end of buffer.\n\n1995-06-16  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* puresize.h [MULTI_FRAME] (BASE_PURESIZE): Increase to 315000.\n\n\t* frame.c (Fdelete_frame): Use do_switch_frame directly.\n\t(do_switch_frame): No longer static.\n\t* window.c (Fset_window_configuration): Use do_switch_frame directly.\n\t* keyboard.c (quit_throw_to_read_char): Use do_switch_frame directly.\n\t* lisp.h (do_switch_frame): Declare.\n\n1995-06-16  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* frame.c [MULTI_FRAME] (Fignore_event): New function.\n\t[MULTI_FRAME] (keys_of_frame): Bind iconify-frame and\n\tmake-frame-visible to it.\n\n1995-06-16  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* .gdbinit: Use long, not EMACS_INT.\n\tDo `set main' to make gdb_valbits etc. available.\n\n\t* frame.h (struct frame): New field icon_name.\n\t* xterm.h (struct x_display): icon_name deleted.\n\t* xfns.c (x_report_frame_params, x_set_icon_type, x_set_icon_name)\n\t(x_set_name, x_icon, Fx_create_frame): Use moved icon_name field.\n\t* alloc.c (mark_object): Mark icon_name field.\n\n1995-06-15  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* keyboard.h (struct kboard): Add Voverriding_terminal_local_map.\n\t* keyboard.c (init_kboard): Initialize it.\n\t(syms_of_keyboard): Defvar it.\n\t(read_key_sequence, menu_bar_items):\n\tCheck Voverriding_terminal_local_map before Voverriding_local_map.\n\t* doc.c (Fsubstitute_command_keys): Likewise.\n\t* keymap.c (Fkey_binding, describe_buffer_bindings): Likewise.\n\n\t* xdisp.c (Qoverriding_terminal_local_map): New variable.\n\t(syms_of_xdisp): staticpro it.\n\t(update_menu_bar): If we bind overriding-local-map, also bind\n\toverriding-terminal-local-map.\n\n\t* frame.c (Fhandle_switch_frame): Preserve prefix arg.\n\t* keyboard.c (command_loop_1): In special handling for commands\n\tthat create a prefix arg, don't handle commands that merely\n\tpreserve one that was previously created.\n\n\t* .gdbinit ($valmask): Use EMACS_INT, not int.\n\n\t* lisp.h (enum pvec_type): Don't use trailing comma.\n\n1995-06-15  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* m/alpha.h (malloc, realloc): If not _MALLOC_INTERNAL,\n\talways use void *.\n\n1995-06-15  Geoff Voelker  <voelker@cs.washington.edu>\n\n\t* callproc.c (call-process-region) [DOS_NT]: Use IS_DIRECTORY_SEP.\n\t(call-process-region) [WINDOWSNT]: Use proper temp file template.\n\n\t* ntproc.c (win32_spawnve): Accept program names without executable\n\tsuffixes.\n\n\t* makefile.nt (TRES) [MSVCNT11]: Use emacs.res, and don't compile it.\n\n1995-06-15  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* m/alpha.h (LD_SWITCH_MACHINE): Don't define it.\n\t(malloc, realloc): If non-ANSI C, declare value as char *.\n\n1995-06-14  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* sysdep.c (emacs_set_tty): Swap TCSETAF and TCSETAW.\n\tRename arg waitp to flushp.\n\n1995-06-14  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* callint.c (Fprefix_numeric_value): Fix type check.\n\n\t* keyboard.c (command_loop_1): Clear prefix arg (undo Feb 1 change).\n\n1995-06-14  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* data.c (Flocal_variable_p): Fix backwards logical operator.\n\n1995-06-14  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* m/intel386.h: If NOT_C_CODE, don't include alloca.h.\n\t[!__GNUC__] (C_SWITCH_MACHINE): Disable this; it seems to confuse cpp.\n\n1995-06-14  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* frame.c (Fdelete_frame): If the minibuf window was selected,\n\tmake that remain so.\n\n\t* process.c (status_notify): Undo May 18 change.\n\tSet update_tick at the beginning not at end.\n\n\t* buffer.c (Fprevious_overlay_change): Check for overlays that\n\tend at POS.\n\n1995-06-13  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xfns.c (syms_of_xfns): Initialize Vx_no_window_manager.  Doc fix.\n\n1995-06-13  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* m/ibmrs6000.h (LIBS_MACHINE): Use -lpthreads, not -lpthread.\n\t* config.h.in (HAVE_LIBPTHREADS): Add #undef.\n\n1995-06-12  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>\n\n\t* mem-limits.h [_LIBC] (start_of_data): Define to &__data_start\n\tfor GNU libc.\n\n1995-06-11  Richard Stallman  <rms@gnu.ai.mit.edu>\n\n\t* xmenu.c (frame_vector_add_frame): Don't forget to store\n\tthe longer vector.\n\n\t* xterm.h (struct x_display): New field asked_for_visible.\n\t* xterm.c (x_make_frame_visible): Test and set asked_for_visible.\n\n\t* widget.c (EmacsFrameSetCharSize): Manually alter the height\n\tand width of the outer widget (and the width of the column widget)\n\tcarefully using deltas.\n\tSet update_hints_inhibit nonzero while updating.\n\tThen call update_wm_hints explicitly.\n\t(update_wm_hints): Use 0 for min_rows, min_cols.\n\tDo nothing if update_hints_inhibit is nonzero.\n\n\t* xterm.c: Include widget.h.\n\t(x_wm_set_size_hint) [USE_X_TOOLKIT]:\n\tGet the size from the outer widget.\n\tCopy the base and minimum sizes from the old hint.\n\n\t* xfns.c [USE_X_TOOLKIT] (x_window): If using Motif,\n\tadd some extra to sizes, for consistent behavior.\n\n1995-06-10  Richard Stallman  <rms@gnu.ai.mit.edu>\n\n\t* dispnew.c (Fframe_or_buffer_changed_p): Calculate vector size right.\n\tAdd hysteresis when making it larger.  Fill it up reliably\n\tand check at the end for overflowing it.\n\t(syms_of_display): Make frame_and_buffer_state initially with 20 elts.\n\n\t* keyboard.c (read_char_minibuf_menu_prompt):\n\tIf the char to type doesn't match the prompt string,\n\tshow the char explicitly.\n\n1995-06-10  Geoff Voelker  <voelker@cs.washington.edu>\n\n\t* ntterm.c, ntproc.c, nt.c: Include config.h before stdio.h.\n\n1995-06-09  Geoff Voelker  <voelker@cs.washington.edu>\n\n\t* makefile.nt (TEMACS): Depend upon $(BLD).\n\t(temacs): Remove $(BLD) dependency.\n\n1995-06-09  Richard Stallman  <rms@gnu.ai.mit.edu>\n\n\t* xterm.c (x_get_keysym_name): New function.\n\t* keyboard.c (modify_event_symbol): Mask out high bits here,\n\tand only for certain purposes.  table_size now unsigned.\n\t(modify_event_symbol) [HAVE_X_WINDOWS]: Use x_get_keysym_name.\n\t(make_lispy_event): Don't mask high bits here.\n\tSupply -1 as table_size for system-specific keys.\n\n\t* xdisp.c (update_menu_bar): Use set_buffer_internal_1 to switch bufs.\n\tRun the hooks in the proper buffer.\n\tNormally bind overriding-local-map to nil.\n\t(Qoverriding_local_map): New variable.\n\t(syms_of_xdisp): staticpro it.\n\n1995-06-09  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* keyboard.h (struct kboard): New member system_key_syms.\n\t* alloc.c (mark_kboards): Mark it.\n\t* keyboard.c (system_key_syms): Deleted; now part of struct kboard.\n\t(make_lispy_event): Use the struct member.\n\t(init_kboard): Initialize it.\n\t(syms_of_keyboard): Delete initialization and staticpro.\n\n\t* Makefile.in.in (SOURCES): Makefile isn't source; Makefile.in.in is.\n\n1995-06-08  Richard Stallman  <rms@gnu.ai.mit.edu>\n\n\t* keyboard.c (Fevent_convert_list): Renamed from\n\tconvert_event_type_list.\n\t(syms_of_keyboard): defsubr it.\n\t* keymap.c (Flookup_key, Fdefine_key): Use Fevent_convert_list.\n\n\t* xmenu.c (xmenu_show): Do call lw_destroy_all_widgets.\n\t(xdialog_show): Likewise.\n\t(popup_get_selection): Don't call it here.\n\n\t* search.c (Freplace_match): Fix check for valid reg in string replace.\n\tDo the right thing with backslash.\n\n\t* keyboard.c (Vhelp_event_list): New var.\n\t(syms_of_keyboard): Set up Lisp var.\n\t(help_char_p): New function.\n\t(read_char, echo_char, read_key_sequence): Use help_char_p.\n\n\t* keyboard.h (Vlucid_menu_bar_dirty_flag): Declare this variable.\n\t(Qrecompute_lucid_menubar, Qactivate_menubar_hook): Likewise.\n\n\t* keyboard.c (read_key_sequence): Don't run activate-menubar-hook\n\tor call recompute-lucid-menubar.\n\n\t* xdisp.c (update_menu_bar): Run activate-menubar-hook\n\tand call recompute-lucid-menubar.\n\n1995-06-08  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* commands.h (last_command): Declaration deleted.\n\t* keyboard.h (struct kboard): New member Vlast_command.\n\t* keyboard.c (last_command): Var deleted; now part of struct kboard.\n\t(init_kboard): Initialize it.\n\t(syms_of_keyboard): Defvar it.\n\t(command_loop_1): Make last_command be kboard-local.\n\t* cmds.c (internal_self_insert): Likewise.\n\t* minibuf.c (Fminibuffer_complete): Likewise.\n\n\t* m/ibmrs6000.h (LIBS_MACHINE): Use -lpthread if it exists.\n\n\t* m/alpha.h (LIBS_MACHINE): Define to -ldnet or -ldnet_stub.\n\n\t* s/msdos.h (SYSTEM_PURESIZE_EXTRA) [!HAVE_X_WINDOWS]:\n\tIncrease to 62000.\n\n\t* process.c [!subprocesses]: Include sysselect.h.\n\n\t* xmenu.c (xmenu_show): If !HAVE_X_WINDOWS, don't reference X display.\n\n1995-06-07  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* keyboard.h (struct kboard): member Vprefix_arg restored, replacing\n\tprefix_factor, prefix_value, prefix_sign, and prefix_partial.\n\t* callint.c (current_prefix_partial): Deleted.\n\t(Vprefix_arg): Deleted; not part of struct kboard again.\n\t(Funiversal_argument, Fnegative_argument, Fdigit_argument)\n\t(clear_prefix_arg, finalize_prefix_arg, describe_prefix_arg): Deleted.\n\t(syms_of_callint): Use DEFVAR_KBOARD for Vprefix_arg.\n\tRemove defsubrs for deleted functions.\n\t* lisp.h: Remove declarations for deleted vars and functions.\n\t* alloc.c (mark_kboards): Mark Vprefix_arg instead of\n\tprefix_factor and prefix_value.\n\t* macros.c (Fexecute_kbd_macro): Vprefix_arg is now part of kboard.\n\t* keyboard.c (cmd_error, command_loop_1, Fcommand_execute)\n\t(Fexecute_extended_command, init_kboard, syms_of_keyboard):\n\tUndo Feb 28 change; prefix arg handling is now in Lisp code again.\n\n\t* buffer.c (syms_of_buffer): Doc fix.\n\n\t* buffer.c (Fbuffer_disable_undo): Make this function interactive.\n\n1995-06-07  Richard Stallman  <rms@gnu.ai.mit.edu>\n\n\t* data.c (Flocal_variable_p): New optional arg BUFFER.\n\tReally check whether var is local in *that* buffer.\n\n\t* xfns.c (x_real_positions): Uncatch and recatch X errors in the loop.\n\n\t* filelock.c (unlock_file, lock_file): Call Fexpand_file_name.\n\n1995-06-05  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* Makefile.in.in (TOOLKIT_DEFINES): Define.\n\t(ALL_CFLAGS): Insert $(TOOLKIT_DEFINES) here.\n\t* xfns.c (syms_of_xfns): Provide motif in Motif version.\n\n\t* lisp.h (Fwaiting_for_user_input_p): Function declared.\n\t(Fupcase_initials, Fupcase_initials_region): Likewise.\n\t(Fplist_get, get_local_map, Fx_popup_menu, Fx_popup_dialog): Likewise.\n\t(Fframe_first_window): Likewise.\n\t* keyboard.c (cmd_error): Use NULL, not 0, as arg to\n\tcmd_error_internal.\n\t(menu_bar_items): Likewise, for arg of current_minor_maps.\n\t(record_char): Add cast.\n\t* indent.c (Fvertical_motion): Add cast.\n\t* undo.c (record_insert): Change args to be ints, not Lisp_Objects.\n\t* casefiddle.c (casify_region): Use explicit local vars for start\n\tand end, so that the type will be correct.\n\t(operate_on_word): Likewise for iarg in this function.\n\t(upcase_initials, upcase_initials_region): Deleted; these were\n\tredundant copies of Fupcase_initials and Fupcase_initials_region.\n\t* abbrev.c (Fexpand_abbrev): Call to upcase_initials_region\n\tchanged to Fupcase_initials_region for consistency.\n\t* search.c (Freplace_match): Likewise.\n\t* alloc.c: Declare sbrk.\n\n\t* xdisp.c: Include keyboard.h.\n\n\t* s/irix5-0.h (POSIX_SIGNALS): Defined.\n\n1995-06-03  Richard Stallman  <rms@gnu.ai.mit.edu>\n\n\t* xterm.c (x_wm_set_icon_pixmap): Set IconPixmapHint in both cases.\n\n\t* buffer.c (Fkill_buffer): When killing indirect buffer,\n\tunchain that buffer's markers (only) from the common chain.\n\tDon't rekill this buffer's indirect buffers that are dead.\n\tDo nothing if this buffer is already dead.\n\n1995-06-03  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* editfns.c (Fencode_time): Doc fix.\n\n\t* fns.c (NULL): Define if not defined.\n\n1995-06-02  Richard Stallman  <rms@gnu.ai.mit.edu>\n\n\t* xfns.c (Fx_create_frame): Make sure icon_name is a string or nil.\n\n\t* xterm.h (struct x_display): Rename icon_label to icon_name\n\tand make it a Lisp_Object.\n\n\t* xfns.c (Qicon_name): New variable.\n\t(Fx_create_frame): Look for icon-name parm and set icon_label field.\n\t(x_set_icon_type): Compute arg to x_text_icon\n\tbased on frame name and icon_name fields.\n\t(x_set_icon_name): New function.\n\t(x_icon): Call x_text_icon.\n\t(x_set_name): Look at icon_name field when setting the icon name.\n\t(x_frame_parms): Add icon-name.\n\t(syms_of_xfns): Set up Qicon_name.\n\n\t* xterm.c (x_text_icon): Do call XSetIconName or XSetWMIconName.\n\tDon't save ICON_NAME anywhere.\n\n\t* sysdep.c (old_tty_valid): New variable.\n\t(init_sys_modes): Set old_tty_valid if we set old_tty.\n\t(reset_sys_modes): Restore tty settings only if old_tty_valid.\n\n\t* term.c (cursor_to, clear_to_end_of_line_raw):\n\tIf chars_wasted is 0, do nothing.\n\t(clear_end_of_line): Don't die if chars_wasted is 0.\n\n\t* search.c (trivial_regexp_p): = is special after \\.\n\n\t* s/ptx.h (HAVE_SELECT, HAVE_TIMEVAL): Definitions deleted.\n\n1995-06-01  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* xfns.c (x_destroy_bitmap): Block and unblock input.\n\t(Fx_horizontal_line): Add one UNBLOCK_INPUT to fix a misbalance,\n\tand move another one to include the call to XFreeGC, in case we\n\tsomeday remove the \"#if 0\" conditions.\n\t* widget.c (EmacsFrameDestroy): Block and unblock input.\n\n1995-05-31  Richard Stallman  <rms@gnu.ai.mit.edu>\n\n\t* xfns.c (x_display_info_for_name): Fix error message.\n\t(Fx_open_connection): Fix error messages.\n\n1995-05-30  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* s/sol2-4.h (LD_SWITCH_SYSTEM): Copied back from s/sol2-3.h;\n\tadded references to /usr/dt/lib.\n\n\t* xfns.c (syms_of_xfns): Allow PATH_BITMAPS to be a\n\tcolon-separated list.\n\n\t* editfns.c (syms_of_editfns): user-login-name renamed from user-name.\n\tuser-real-login-name renamed from user-real-name.\n\tC names changed to Vuser_real_login_name, Vuser_login_name as well.\n\t* nt.c: Change Vuser_real_name to Vuser_real_login_name.\n\n1995-05-30  Richard Stallman  <rms@gnu.ai.mit.edu>\n\n\t* xfns.c (x_top_window_to_frame): Don't match menu-bar widget.\n\n\t* xdisp.c (update_menu_bar): Reverse test of save_match_data.\n\n\t* xmenu.c (set_frame_menubar): Always call update_frame_menubar.\n\n\t* xfns.c (x_window): Use applicationShellWidgetClass,\n\tnot topLevelShellWidgetClass.  Call lw_set_main_areas after\n\tcreating the menubar widget.\n\n1995-05-29  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* xdisp.c (update_menu_bar): Do update if region display has changed.\n\n\t* frame.c (make_frame_without_minibuffer): New arg DISPLAY.\n\tIf there's no minibuffer frame to use, create one.\n\t* xfns.c (Fx_create_frame): Pass new arg to\n\tmake_frame_without_minibuffer.\n\n\t* fns.c (Frandom): Use EMACS_INT, not int.\n\tUse NULL, not 0, as arg of `time'.\n\n\t* frame.c: Declare x_get_focus_frame.\n\t(Fmouse_position): Use NULL, not 0, as arg of pixel_to_glyph_coords.\n\t* keyboard.c (make_lispy_event, make_lispy_movement): Likewise.\n\n1995-05-29  Richard Stallman  <rms@gnu.ai.mit.edu>\n\n\t* xterm.c (XTread_socket) [USE_X_TOOLKIT]: Do pass MotionNotify events\n\tto the toolkit.\n\n\t* keyboard.c (Fset_input_mode): When read_socket_hook, ignore\n\twhat the user specified, and set interrupt_input in the preferred\n\tway for this system.\n\n\t* xterm.c (x_term_init): Call init_sigio only if interrupt_input.\n\n1995-05-28  Morten Welinder  <terra+@cs.cmu.edu>\n\n\t* s/osf1.h (COFF): Define.\n\t* m/alpha.h (LD_SWITCH_MACHINE) [!__GNUC__]: Don't define.\n\t(r_alloc, r_re_alloc, r_alloc_free) [REL_ALLOC,\n\t!_MALLOC_INTERNAL, !NOT_C_CODE]: Prototype.\n\n1995-05-28  Richard Stallman  <rms@gnu.ai.mit.edu>\n\n\t* xterm.c (x_set_offset): Distinguish CHANGE_GRAVITY < 0 case.\n\t* xfns.c (x_set_frame_parameters): Pass -1 to x_set_offset.\n\n\t* xfns.c (x_report_frame_params): Report top and left\n\tin a way that represents negative offsets correctly.\n\n\t* syntax.c (describe_syntax_1): Pass new arg to describe_vector.\n\n\t* keymap.c (describe_vector): New arg entire_map.\n\tDon't show bindings shadowed earlier on in the same map.\n\t(Fdescribe_vector, describe_map): Pass new arg.\n\n\t* xdisp.c (redisplay_window): Don't use try_window_id if\n\tnewline has a display table entry.\n\n\t* xdisp.c (update_menu_bar):\n\tCall set_frame_menubar with proper buffer current.\n\n1995-05-26  Geoff Voelker  <voelker@cs.washington.edu>\n\n\t* lread.c (init_lread) [CANNOT_DUMP]: Set Vload_path to EMACSLOADPATH.\n\n1995-05-26  Richard Stallman  <rms@gnu.ai.mit.edu>\n\n\t* xfns.c (x_window): Call initialize_frame_menubar\n\tnear the end, after UNBLOCK_INPUT.\n\n\t* xmenu.c (popup_get_selection): Force deactivation if key pressed.\n\tNew arg `id'.\n\t(xdialog_show, xmenu_show): Pass new arg to popup_get_selection.\n\t* xterm.c (XTread_socket): Don't call popup_get_selection here.\n\n1995-05-26  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* sysdep.c (VFORK_RETURN_TYPE): Use int if not already defined.\n\t(vfork): Declare the return type.\n\t* s/sol2-3.h (HAVE_VFORK): Moved here from s/sol2-4.h.\n\t(VFORK_RETURN_TYPE): Defined.\n\t* s/sol2-4.h (HAVE_VFORK): Moved to s/sol2-3.h.\n\t(pid_t): Deleted; s/sol2-3.h now defines a symbol for this.\n\n\t* xdisp.c (x_consider_frame_title): Use FRAME_KBOARD.\n\n1995-05-26  Geoff Voelker  <voelker@cs.washington.edu>\n\n\t* s/windows95.h: New file.\n\n\t* ntheap.h (get_data_region_base): Undefined.\n\t(get_reserved_heap_size): Use reserved_heap_size.\n\t(reserved_heap_size): Declared.\n\t* ntheap.c (reserved_heap_size,allocate_heap): Defined.\n\t(sbrk): Use allocate_heap.\n\n\t* ntterm.c (set_terminal_modes): Set cursor size appropriate for\n\tWindows 95.\n\t(write_glyphs): Don't memset attrs, which is a word array.\n\n\t* nt.c (configuration_buffer): Increase size.\n\t(get_emacs_configuration) [WINDOWS95]: Use appropriate string.\n\t(prepare_standard_handles) [WINDOWS95]: Disable subprocesses.\n\t(reset_standard_handles): Check error number on failure.\n\n\t* makefile.nt (LIBS): Use BASE_LIBS and ADVAPI32.\n\t(config.h,paths.h): Use $(CP) instead of cp.\n\t(config.h): Use $(CONFIG_H).\n\t(EMACS) [WINDOWS95]: Don't dump temacs.exe.\n\t(clean): Cleanup MSVC files and config.h.\n\t(cleandump): Separate commands onto multiple lines.\n\tCleanup comments.\n\n1995-05-26  Michael Ernst  <mernst@research.microsoft.com>\n\n\t* emacs.c (standard_args): -i, -itype, --icon-type take 0, not 1, args\n\n1995-05-25  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* process.c (create_process, send_process): Add volatile qualifiers.\n\t(wait_reading_process_input) [both versions]: Cast args of select.\n\n\t* syntax.c (scan_lists): Make stringterm an unsigned char.\n\n\t* dispnew.c (change_frame_size_1): Declare arg DELAY.\n\n\t* insdel.c (adjust_point): Declare arg AMOUNT.\n\n\t* lisp.h (do_symval_forwarding): Declare this function.\n\t(frame_buffer_predicate, Foverlay_start, Foverlay_end): Ditto.\n\t(Fprevious_single_property_change, Fend_of_line, Felt): Ditto.\n\t(Fforward_line, Fforward_word, Fdelete_region, Fforward_char): Ditto.\n\t(Fnarrow_to_region, Fwiden, Fmatch_beginning, Fmatch_end): Ditto.\n\t(Fskip_chars_forward, Fskip_chars_backward): Ditto.\n\t(Ffile_name_absolute_p, read_doc_string): Ditto.\n\t(get_frame_param, store_frame_param, store_in_alist): Ditto.\n\t(describe_map_tree): Declaration moved here from keymap.c.\n\t* keymap.c (describe_map_tree): Move declaration to lisp.h.\n\n\t* doc.c (Fsubstitute_command_keys): Cast arg of describe_map_tree.\n\t* frame.c [MULTI_FRAME] (Fmouse_position): Cast arg of\n\tpixel_to_glyph_coords.\n\t* callint.c (Fcall_interactively): Cast arg of doprnt.\n\t* editfns.c (format1): Likewise.\n\t* xdisp.c (message): Likewise.\n\t(scroll_bottom_vpos, fmodetrunc): Declarations deleted.\n\n1995-05-25  Richard Stallman  <rms@gnu.ai.mit.edu>\n\n\t* dispnew.c (Fframe_or_buffer_changed_p): Record frame names\n\tas well as the frame objects.\n\n\t* xterm.c (XTread_socket):\n\tFor MapNotify, call record_asynch_buffer_change.\n\n\t* xdisp.c (prepare_menu_bars): Update frame titles before menu bars.\n\n\t* xfns.c (Fx_get_resource): Major rewrite to make it clearer.\n\t(validate_x_resource_name): Use build_string, not make_string.\n\t(Fx_create_frame): Initially use Vinvocation_name as resource name.\n\tSwitch to frame name if frame name is explicit.\n\t(x_display_info_for_name, Fx_open_connection): Add casts.\n\tInitially use Vinvocation_name as resource name.\n\t[USE_X_TOOLKIT] (x_window): Use Vx_resource_name for widget names.\n\n\t* xmenu.c (xmenu_show, xdialog_show): Increment widget_id_tick\n\tin the same way as in xfns.c.  Use LWLIB_ID type where appropriate.\n\t(set_frame_menubar, free_frame_menubar): Add casts to LWLIB_ID.\n\n\t* xterm.c (XTflash): Use pointers as args to select.\n\t(XTread_socket, x_set_offset, x_set_window_size)\n\t(x_make_frame_invisible): Cast 2nd arg to x_wm_set_size_hint.\n\t(XTclear_end_of_line): Don't specify return type.\n\t(note_mouse_highlight): Declare args x and y.\n\t(x_icon_type): New declaration.\n\t(flashback): Declaration deleted.\n\n1995-05-24  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* lisp.h (menu_bar_items): Declare this function.\n\n1995-05-24  Richard Stallman  <rms@gnu.ai.mit.edu>\n\n\t* xmenu.c (Fx_popup_dialog): Treat (menu-bar) like t, for POSITION.\n\n\t* frame.c (Fdelete_frame): When updating Vdefault_minibuffer_frame,\n\tinsist on a frame on the proper keyboard.\n\n\t* xterm.c (x_connection_closed): Unblock input, first thing.\n\tSet Vdefault_minibuffer_frame to t\n\tbefore deleting a frame that might have its own minibuffer.\n\n1995-05-23  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* xfns.c (hack_wm_protocols): Use cast instead of suffix.\n\n1995-05-23  Richard Stallman  <rms@gnu.ai.mit.edu>\n\n\t* xfns.c (x_set_frame_parameters): Pass 1 as change_gravity\n\twhen calling x_set_offset.\n\t(x_real_positions): Don't add border_width into win_x, win_y.\n\t* xterm.c (x_set_offset): Add border_width when calling XMoveWindow.\n\n\t* xterm.h (struct x_display): New field menubar_height.\n\t* xmenu.c (set_frame_menubar): Set menubar_height field.\n\t* xfns.c (x_window) [both versions]: Set menubar_height.\n\n\t* xfns.c [USE_X_TOOLKIT] (x_window): Don't call XMoveWindow\n\tor x_calc_absolute_position.  Do use the border_width.\n\n\t* xterm.c (x_calc_absolute_position): Use menubar_height field.\n\tIn toolkit case, use outermost Emacs widget and its parent.\n\t[USE_X_TOOLKIT] (x_make_frame_visible): Do call x_set_offset.\n\n\n\t* xfns.c [USE_X_TOOLKIT] (x_window): Pass position to toolkit\n\tonly if user-specified.  But always use XMoveWindow to move the\n\twindow to that position.\n\n\t* alloc.c (Fgarbage_collect): Clear consing_since_gc first thing.\n\n\t* xdisp.c (redisplay_window): Use set_buffer_internal_1.\n\n\t* buffer.c (set_buffer_internal_1): New subroutine.\n\t(Fmove_overlay): Don't set windows_or_buffers_changed.\n\n1995-05-22  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* xselect.c (x_get_window_property): Cast args of XGetWindowProperty.\n\t* xfaces.c (unload_color): Cast args of XFreeColors.\n\t* xfns.c (hack_wm_protocols): Cast args of XGetWindowProperty.\n\t(x_set_border_pixel): Cast args of XSetWindowBorder.\n\t* widget.c (create_frame_gcs): Cast args of XCreateGC.\n\t(setup_frame_gcs): Cast args of XCreatePixmapFromBitmapData.\n\n\t* data.c (long_to_cons): Don't assume 32-bit longs.\n\t* fileio.c (Fvisited_file_modtime): Cast arg of long_to_cons.\n\n\t* editfns.c (Fformat): Split double into two pointers, not two ints.\n\n\t* s/hpux9.h: Delete HAVE_FMOD; configure handles that correctly now.\n\n1995-05-22  Richard Stallman  <rms@waves>\n\n\t* xdisp.c (display_text_line): Enter a char in charstarts\n\tat the very end of the character loop.\n\tEnter newline or ^M (if selective display) separately.\n\n\t* lisp.h (gdb_lisp_params): New enum type.\n\t* .gdbinit: Use gdb_lisp_params to get storage layout info.\n\tSet and use $valmask and $nonvalbits.\n\n\t* lread.c (oblookup): Delete argument hashp.\n\n1995-05-19  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* floatfns.c (Flogb): frexp needs a pointer to int, not EMACS_INT.\n\n1995-05-19  Richard Stallman  <rms@waves>\n\n\t* dispnew.c (buffer_posn_from_coords): Don't let startp be before BEGV.\n\n1995-05-18  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* indent.c (compute_motion): Handle overlay strings.\n\tNew arg DID_MOTION.  All callers changed.\n\t* dispnew.c, window.c: Add new argument to calls of compute_motion.\n\t* xdisp.c: Add new argument to calls of compute_motion.\n\t(zv_strings_seen): New variable.\n\t(redisplay, try_window, try_window_id): Clear zv_strings_seen.\n\t(display_text_line): Handle overlay strings.\n\n1995-05-18  Richard Stallman  <rms@waves>\n\n\t* s/sol2-4.h: Undo previous change.\n\n\t* emacs.c (Fkill_emacs): Delete the auto-save-list file\n\tafter shut_down_emacs.\n\n\t* process.c (status_notify): If Vprocess_alist changes within\n\tthe loop, do the whole loop again.\n\n1995-05-17  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* emacs.c (Fdump_emacs): Don't take address of array.\n\n\t* buffer.c (Fmake_indirect_buffer): Fix interactive spec.\n\n\t* Makefile.in.in (SOURCES): Fix reference to ymakefile.\n\n\t* keyboard.c (syms_of_keyboard): Always define track-mouse.\n\t(do_mouse_tracking): Always declare this var.\n\n1995-05-15  Marcus G. Daniels  <marcus@ee.pdx.edu>\n\n\t* s/linux.h: Test _STDIO_USES_IOSTREAM as well as _IO_STDIO_H.\n\t[__ELF__] (START_FILES, LIB_STANDARD, LIB_GCC, UNEXEC): Define these.\n\t[__ELF__] (UNEXEC_USE_MAP_PRIVATE): Define this.\n\n\t* unexelf.c (unexec) [UNEXEC_USE_MAP_PRIVATE]: New logic for\n\tsystems that don't support MAP_SHARED with PROT_WRITE.\n\n1995-05-15  Richard Stallman  <rms@churchy.gnu.ai.mit.edu>\n\n\t* s/sol2-4.h (LD_SWITCH_SYSTEM): Define.\n\n1995-05-15  Simon Leinen  <simon@lia.di.epfl.ch>\n\n\t* indent.c (vmotion): handle the case where `minibuf_prompt' is nil.\n\n1995-05-12  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* indent.c (vmotion): Simplify.  Replace last three args with a single\n\tstruct window *.  All callers changed.\n\t* xdisp.c (minmax): New macro.\n\t(redisplay, redisplay_window, try_window_id): Clip cursor hpos at both\n\tlow and high extremes, in anticipation of a change to compute_motion.\n\n\t* xterm.c (Qvendor_specific_keysyms): New var.\n\t(syms_of_xterm): Initialize and staticpro it.\n\t(x_term_init): Initialize Vsystem_key_alist according to vendor.\n\n\t* emacs.c (main) [NeXT]: Add missing braces.\n\n1995-05-11  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* sysdep.c (init_system_name): Clean up signedness mismatch.\n\t* unexelf.c (unexec): Fix type mismatch.\n\t* print.c (float_to_string): Fix type mismatch and simplify.\n\n\t* dispnew.c [!MULTI_FRAME] (Fredraw_frame): Delete extra docstring.\n\t* frame.c [!MULTI_FRAME] (Fframe_height, Frame_width): Likewise.\n\n1995-05-09  enami tsugutomo  <enami@sys.ptg.sony.co.jp>\n\n\t* window.c [MULTI_FRAME] (init_window_once): Set Vterminal_frame\n\tto selected_frame.\n\t* frame.c [MULTI_FRAME] (make_terminal_frame): Don't set\n\tVterminal_frame.\n\t(do_switch_frame): Set Vterminal_frame to selected_frame.\n\n1995-05-08  Andreas Schwab  <schwab@issan.informatik.uni-dortmund.de>\n\n\t* Makefile.in.in (VMS_SUPPORT): Add missing `.elc'.\n\t(SOME_MACHINE_LISP): New variable.\n\t(${etc}DOC): Use it.\n\n\t* buffer.c (syms_of_buffer): Doc fix.\n\n\t* frame.c (frame-height, frame-width, set-screen-height,\n\tset-screen-width, termal-frame) [!MULTI_FRAME]: Delete doc strings.\n\n1995-05-08  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* keyboard.c (init_kboard): Initialize Vdefault_minibuffer_frame.\n\t* keyboard.h (struct kboard): New member Vdefault_minibuffer_frame.\n\t* frame.c: Vdefault_minibuffer_frame is now part of KBOARD instead\n\tof a variable.  All references changed.\n\t(make_frame_without_minibuffer): New arg KB.\n\tRequire the new frame's minibuffer to be on the same display.\n\t* xfns.c (Fx_create_frame): Pass kb to make_frame_without_minibuffer.\n\n\t* xdisp.c (x_consider_frame_title): When setting multiple_frames,\n\tignore invisible frames and frames on other displays.\n\n\t* keyboard.c [MULTI_KBOARD] (read_char): If the character was for\n\tthe wrong kboard, don't let it get processed twice.\n\n1995-05-08  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* callproc.c (Fcall_process): Keep reading till buffer is nearly full.\n\n\t* emacs.c (Fdump_emacs): Don't use & before my_edata.\n\n1995-05-08  Francesco Potort\u00ec  (pot@cnuce.cnr.it)\n\n\t* m/delta.h (C_SWITCH_MACHINE): Let configure decide if this is\n\ta 68040 or 68030.  Don't condition on __STDC__.\n\n1995-05-08  enami tsugutomo  <enami@sys.ptg.sony.co.jp>\n\n\t* frame.c (Fraise_frame, Flower_frame): Make arg FRAME optional.\n\n\t* keyboard.c (Fread_key_sequence): Doc fix.\n\n1995-05-08  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* window.c (Fdisplay_buffer): Initialize other, upper, lower.\n\n1995-05-07  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* lisp.h (Fmatch_data, Fstore_match_data): Declared.\n\n\t* xdisp.c (prepare_menu_bars): Save and restore the match data.\n\t(update_menu_bar): New arg save_match_data.\n\tMaybe save and restore match data here.\n\n1995-05-07  Geoff Voelker  <voelker@cs.washington.edu>\n\n\t* makefile.nt (region-cache.obj,vm-limit.obj): Dependencies defined.\n\t(OBJ1): Don't compile xfaces.c.\n\t(buffer.obj,indent.obj,search.obj): Add region-cache.h dependency.\n\n1995-05-07  Paul Eggert  <eggert@twinsun.com>\n\n\t* data.c (Fmod): Fix the final adjustment, when f2 < 0 and f1 == 0.\n\n\t* lread.c (isfloat_string): Reject strings like \"0.5+\".\n\n1995-05-07  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* process.c (wait_reading_process_input): Pass arg in new call to\n\tset_waiting_for_input.\n\n\t* xfns.c (Funfocus_frame): Check for live X frame.\n\n\t* lread.c (init_lread): Don't warn about missing installation dirs\n\twhen using dirs derived from the executable.\n\n1995-05-06  Geoff Voelker  <voelker@cs.washington.edu>\n\n\t* makefile.nt (TRES): Defined.\n\t(TLIB1,TLIB2): Created out of TLIB.\n\t(TLIB): Split to reduce time to do library updates.\n\t(DOC): Use DOC-X.\n\t(strftime.obj): Compile with -Dstrftime=emacs_strftime.\n\n1995-05-06  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* window.c (syms_of_window): Doc fix.\n\t(temp_output_buffer_show): If we use Vtemp_buffer_show_function,\n\tdo nothing else.\n\n\t* s/bsd386.h (GETPGRP_NO_ARG): New definition.\n\t(BSD): Include sys/param.h instead of redefining BSD.\n\tBut do this only if emacs is defined.\n\n\t* lisp.h (gc_cons_threshold): Change back to int.\n\t* alloc.c (gc_cons_threshold): Change back to int.\n\t(min): New macro.\n\t(inhibit_garbage_collection): Don't exceed value an int can hold.\n\n\t* xdisp.c (prepare_menu_bars): Clear size-change flag before running\n\tsize-change functions.\n\t(scroll_step, debug_end_pos, line_number_display_limit): Now static.\n\n1995-05-05  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* emacs.c (Fdump_emacs_data): Don't use & before my_edata.\n\n\t* editfns.c (Fencode_time): Rename arg from min to minute.\n\t(days_per_month): Move variable to top level.\n\n\t* process.c (wait_reading_process_input): Don't call prepare_menu_bars.\n\tClear waiting_for_input around calling redisplay_preserve_echo_area.\n\n\t* xfns.c [USE_X_TOOLKIT] (x_window): Always pass position in geometry.\n\tSet XtNmappedWhenManaged to 0 for shell_widget.\n\t(Fx_create_frame): Always call x_wm_set_size_hints.\n\n\t* s/sol2-4.h (HAVE_VFORK): Add #undef.\n\n\t* s/netbsd.h (GETPGRP_NO_ARG): Defined.\n\n1995-05-04  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* s/freebsd.h (GETPGRP_NO_ARG): Define.\n\t(HAVE_GETPAGESIZE): Definition deleted.\n\n\t* data.c (store_symval_forwarding): Error if value out of range\n\tfor an integer variable.\n\t(Fstring_to_number): Avoid using make_number to return value.\n\tMaybe use atol.\n\n1995-05-04  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* buffer.c (Qbefore_string, Qafter_string): New vars.\n\t(syms_of_buffer): Initialize and staticpro them.\n\t(cmp_for_strings, overlay_strings): New functions.\n\n1995-05-04  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* indent.c (string_display_width): Renamed from string_width.\n\t(vmotion): Use new name.\n\n\t* s/sco4.h [!__GNUC__] (LINKER): Defined.\n\n\t* insdel.c (make_gap): Don't allow buffer size that won't fit in int.\n\tMake this new error check also check exceeding VALBITS.\n\t(insert_1): Delete old error test.\n\t(min): New macro.\n\n\t* Makefile.in.in (${etc}DOC): Put SOME_MACHINE_OBJECTS before obj.\n\n\t* xfaces.c (region_face, next_face_id): Make static.\n\n\t* xselect.c (Vselection_converter_alist, x_selection_timeout)\n\t(Vx_sent_selection_hooks, Vx_lost_selection_hooks, Vselection_alist):\n\tMake static.\n\n\t* alloc.c (inhibit_garbage_collection):\n\tUse XSETINT, and do arithmetic in type EMACS_INT.\n\n\t* s/hpux9.h (HAVE_FMOD): Defined.\n\n\t* sysdep.c (bcmp, bcopy): Fix backward BSTRING conditionals.\n\n\t* emacs.c (Fkill_emacs): Delete the Vauto_save_list_file_name file.\n\n1995-05-04  Morten Welinder  <terra+@cs.cmu.edu>\n\n\t* data.c (arith_driver): Make accum and next EMACS_INTs.\n\t(Fmod): i1 and i2 are EMACS_INT.\n\n\t* editfns.c (Fformat): Allow 30 characters in the printed version\n\tof integers and floats.\n\n\t* print.c (print): Handle long EMACS_INT in sprintf.\n\t* keyboard.c (Fexecute_extended_command):\n\tHandle long EMACS_INT in sprintf.\n\t* lread.c (read1): Handle long EMACS_INT in atol.\n\t* doprnt.c (doprnt): Handle long EMACS_INT in sprintf.\n\t* data.c (Fnumber_to_string, Fstring_to_number):\n\tHandle long EMACS_INT in sprintf and atol.\n\n\t* process.c (list_processes_1): Cast XFASTINT for passing to sprintf.\n\n\t* m/alpha.h (bcopy, bzero, bcmp): Don't let string.h prototype these.\n\n1995-05-03  Morten Welinder  <terra+@cs.cmu.edu>\n\n\t* keyboard.c (parse_modifiers, apply_modifiers): Don't assume\n\t32-bit EMACS_INT.\n\t(parse_modifiers): modifiers is an int, not an EMACS_INT.\n\t(read_key_sequence): Pass modifiers as int, not EMACS_INT.\n\n\t* buffer.h (Fdelete_overlay): Was mistakenly called Fdelete_overlays.\n\n\t* lisp.h (gc_cons_threshold): Make this an EMACS_INT.\n\n\t* alloc.c (gc_cons_threshold): Make this an EMACS_INT.\n\t(gc_sweep): Make already_free an EMACS_INT.\n\n\t* search.c (search_buffer): Cast p_limit to EMACS_INT not int.\n\n\t* s/osf1.h (GETPGRP_NO_ARG): Define.\n\n1995-05-03  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keyboard.c (reorder_modifiers): Use XINT.\n\tCast apply_modifiers arg to int.\n\n\t* unexapollo.c: New file.\n\n\t* m/apollo.h (CANNOT_DUMP, VIRT_ADDR_VARIES, LIBS_TERMCAP)\n\t(NO_X_DESTROY_DATABASE): Macros deleted.\n\t(BSTRING): #undef deleted.\n\t(SYSTEM_TYPES): Redefinition deleted.\n\t(UNEXEC): New definition.\n\t(LD_SWITCH_SYSTEM): Define as empty.\n\t(C_SWITCH_MACHINE, LD_SWITCH_MACHINE): New definitions.\n\t(OLDXMENU_OPTIONS): New definition.\n\n\t* fileio.c (directory_file_name): Add APOLLO conditional.\n\t(Fcopy_file, Fset_file_modes): Delete APOLLO conditionals.\n\n\t* emacs.c: Delete all APOLLO conditionals.\n\n1995-05-02  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* intervals.c (get_local_map): Use Fget_char_property, so that\n\toverlay properties will be considered as well as text properties.\n\n1995-05-02  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* insdel.c (prepare_to_modify_buffer): Use file_truename for locking.\n\n\t* fileio.c (Finsert_file_contents): Use file_truename for unlocking.\n\n\t* buffer.c (Fset_buffer_modified_p): Use the truename for locking.\n\n\t* lread.c (read1): New arg FIRST_IN_LIST; all callers changed.\n\tSpecial handling for backquote and comma.\n\t(Qbackquote, Qcomma, Qcomma_at, Qcomma_dot): New variables.\n\t(syms_of_lread): Initialize and staticpro them.\n\t(Fread, Fread_from_string): Initialize new_backquote_flag.\n\n1995-05-01  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* xmenu.c (xmenu_show, menubar_selection_callback): Move declaration\n\tof entry to an outer block, to guarantee its value is preserved.\n\n\t* keyboard.c (kbd_buffer_get_event): New arg USED_MOUSE_MENU.\n\t[USE_X_TOOLKIT]: Set *USED_MOUSE_MENU if returning menu-bar symbols.\n\t(read_char): Pass used_mouse_menu to kbd_buffer_get_event.\n\tThis variable is now meaningful for toolkit menus as well as\n\tnon-toolkit menus.\n\n\t* dispnew.c (update_frame): Don't put cursor in echo area unless\n\tthe echo area is on this frame.\n\t* xdisp.c (redisplay): Don't move the cursor if it's supposed to\n\tbe in the echo area.\n\t(display_text_line): Likewise.\n\t(echo_area_display): Put cursor in echo area if appropriate.\n\n1995-04-30  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* emacs.c (standard_args): Add #ifdef VMS for -map.\n\t(main): Delete duplicate code for -version.\n\t(standard_args): Add -help and -version.\n\n\t* fileio.c (Fdo_auto_save): Record visited file name\n\tas well as auto-save file name in the auto-save-list-file-name file.\n\tCall Fexpand_file_name for auto-save-list-file-name.\n\n1995-04-29  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* sysdep.c [HAVE_UNISTD_H]: Include unistd.h.\n\n\t* emacs.c (standard_args): Add -L/--directory/-directory.\n\n\t* s/sunos4shr.h (ORDINARY_LINK): Defined.\n\t(LINKER): Definition deleted.\n\n1995-04-28  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* xfns.c (x_non_menubar_window_to_frame): New function.\n\t* xterm.h: Declare x_non_menubar_window_to_frame.\n\t* xmenu.c (popup_get_selection): Use x_non_menubar_window_to_frame.\n\tEither queue or dispatch the event, but not both.\n\t(dialog_selection_callback): Clear popup_activated_flag.\n\n\t* xmenu.c (Fx_popup_menu): If POSITION is just (menu-bar), use the\n\tcurrent mouse position.\n\t(menubar_selection_callback): Use (menu-bar) instead of 'menu-bar.\n\t* keyboard.c (read_char, read_char_x_menu_prompt): Exclude\n\tmenu-bar clicks when processing mouse clicks.\n\n\t* xterm.c (x_term_init): Add stub to initialize Vsystem_key_alist.\n\n1995-04-27  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* process.c (create_process): Don't reference pty_name if !HAVE_PTYS.\n\n1995-04-26  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* fileio.c (Ffile_regular_p): Use Qfile_regular_p.\n\t(syms_of_fileio): Set up Qfile_regular_p.\n\n\t* emacs.c (standard_args): Move -iconic and --icon-type\n\tto the end of the initial args.\n\n1995-04-25  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* alloc.c (mark_kboards): Mark the kbd macro and Vsystem_key_alist.\n\n1995-04-24  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* s/linux.h (REGEXP_IN_LIBC): Defined.\n\n\t* callproc.c (Fcall_process): Use bigger buffer, and grow it\n\tas we get more and more data.\n\n1995-04-24  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* xterm.c (x_term_init): If the previous kboard was the dummy one,\n\tswitch to the new one immediately.\n\n\t* keyboard.h (struct kboard): New member Vsystem_key_alist.\n\t* keyboard.c (Vsystem_key_alist): Delete global variable.\n\t(init_kboard): Initialize Vsystem_key_alist member.\n\t(syms_of_keyboard): Change DEFVAR_LISP to DEFVAR_KBOARD.\n\t(make_lispy_event): Use the kboard's alist instead of the global.\n\n\t* fns.c (Fplist_put): Don't signal an error if plist isn't a cons.\n\n\t* xterm.c (x_focus_frame, x_focus_event_frame, x_highlight_frame):\n\tDelete these vars; now part of struct x_display_info.\n\t(x_new_focus_frame): New arg DPYINFO.  Callers changed.\n\tUse the struct members instead of the globals.\n\tCall x_frame_rehighlight instead of XTframe_rehighlight, so we can\n\tpass on the dpyinfo pointer.\n\t(x_mouse_leave): New arg DPYINFO.  Callers changed.\n\t(XTframe_rehighlight): New arg FRAME.  Callers changed.\n\tNow does all the work in x_frame_rehighlight.\n\t(x_frame_rehighlight): New function, code from XTframe_rehighlight.\n\t(XTread_socket): Use the struct members instead of the globals.\n\t(x_unfocus_frame, x_iconify_frame, x_destroy_window): Likewise.\n\t(x_display_box_cursor, x_make_frame_invisible): Likewise.\n\t(x_term_init): Initialize the struct members.\n\t(x_initialize): Delete initialization of deleted globals.\n\t* xfns.c (x_get_focus_frame): New arg FRAME.  Callers changed.\n\t(Funfocus_frame): Unfocus on selected_frame's display.\n\t* xterm.h (struct x_display_info): New members x_focus_frame,\n\tx_focus_event_frame, x_highlight_frame, replacing global vars.\n\t* frame.c (do_switch_frame): Don't try to refocus termcap frames.\n\n\t* Makefile.in.in: Make dispnew.o and keyboard.o depend on xterm.h.\n\tMake intervals.o and term.o depend on keyboard.h.\n\n\t* xfns.c (x_window): Fix type mismatch.\n\n\t* xdisp.c (message_dolog): The message log doesn't need an undo list.\n\n\t* term.c (term_init): MagicWrap implies AutoWrap.\n\n1995-04-24  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keyboard.c (safe_run_hooks_1, safe_run_hooks_error): New subroutines.\n\t(safe_run_hooks): Handle errors to clear the hook,\n\tinstead of always clearing it temporarily.\n\n\t* callproc.c (child_setup): Reword \"can't exec\" message.\n\tAdd newline after message.\n\n\t* process.c (create_process): Don't abort if can't reopen\n\tpty_name in the child.  Exit the child instead.\n\n1995-04-20  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* abbrev.c (Fexpand_abbrev): Add some error checking.\n\n\t* xmenu.c (Fx_popup_dialog): Don't pass menubarp arg to xdialog_show.\n\n1995-04-19  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* frame.h (struct frame): New member namebuf.\n\t* frame.c (make_frame): Initialize it.\n\t(Fdelete_frame): Free it.\n\t* xfns.c (x_window): Use (or reuse) frame's namebuf instead of a\n\ttemp var.  This avoids a storage leak.\n\n1995-04-19  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xmenu.c (xmenu_show, xdialog_show): Delete menubarp arg.\n\t(Fx_popup_menu): Don't compute menubarp.\n\n1995-04-18  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* callproc.c (Fcall_process): Call Fexpand_file_name for error_file.\n\n\t* keyboard.c (map_event_to_object): Declaration deleted.\n\n1995-04-18  Andreas Schwab  <schwab@issan.informatik.uni-dortmund.de>\n\n\t* eval.c (Ffetch_bytecode): Check the type of the object being\n\tread from the file.\n\n1995-04-17  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* editfns.c (Fencode_time): Don't treat years < 100 as special.\n\n1995-04-17  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* lisp.h: Declare some functions.\n\t* buffer.c (adjust_overlays_for_insert): New function.\n\t(adjust_overlays_for_delete): New function.\n\t* insdel.c (insert_1): Adjust overlay center after inserting.\n\t(insert_from_string_1, insert_from_buffer_1): Likewise.\n\t(del_range_1): Adjust overlay center after deleting.\n\n1995-04-17  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* editfns.c (Fencode_time): Rewrite by Naggum.\n\n1995-04-15  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xfns.c (x_report_frame_params): Report value of `display' parm.\n\n\t* Makefile.in.in (really-lwlib, really-oldXMenu): Mark as .PHONY.\n\n1995-04-14  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* editfns.c (Fencode_time): Fix missing \\n\\'s.\n\n1995-04-14  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* editfns.c (init_editfns): Add casts.\n\n\t* doc.c (get_doc_string): Add cast.\n\n\t* keyboard.c (kbd_buffer_get_event): Don't use prototype.\n\n\t* xdisp.c (message_log_check_duplicate): Make p1 and p2\n\tunsigned char *.\n\n1995-04-13  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xterm.c (x_term_init): Call XtSetLanguageProc only if HAVE_X11XTR6.\n\n1995-04-13  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* editfns.c (Fbuffer_string): Doc clarification.\n\n\t* alloc.c: Delete the #if that compares MARKBIT.\n\n\t* window.c (Fdisplay_buffer): Search the proper frame when the\n\tcurrent frame is minibuffer-only.\n\n\t* fileio.c (Fexpand_file_name): Use IS_DIRECTORY_SEP instead of\n\tspecial code for WINDOWSNT.\n\n1995-04-13  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xfaces.c (compute_char_face): Don't use NULL.\n\n\t* buffer.c (Foverlays_at, Fnext_overlay_change): Don't use NULL.\n\t(Fprevious_overlay_change): Don't use NULL.\n\n\t* xfns.c (Fx_color_defined_p): Doc fix.\n\n\t* xfaces.c [! HAVE_X_WINDOWS] (build_face): Deleted.\n\n1995-04-12  Andreas Schwab  <schwab@issan.informatik.uni-dortmund.de>\n\n\t* callint.c (Fcall_interactively): Fix paren nesting.\n\n\t* buffer.c (evaporate_overlays): Fix type error.\n\n1995-04-13  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xterm.c (XTmouse_position): Handle X errors in XTranslateCoordinates.\n\n\t* lisp.h (MARKBIT): Do the shifting as unsigned int.\n\tDelete the #if that compares MARKBIT.\n\n1995-04-12  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xterm.c (XTread_socket): For ConfigureNotify,\n\tcombine the USE_X_TOOLKIT and non-toolkit cases, which provides\n\tsome things that were missing in the former.\n\n\t* alloc.c (gc_sweep): If a misc has type Lisp_Misc_Free,\n\tkeep it on the free list.  Sum pseudovector sizes properly.\n\n\t* dispnew.c (Fframe_or_buffer_changed_p): Ignore buffers whose names\n\tstart with space.\n\n\t* editfns.c (Fencode_time): Use XINT to examine `zone'.\n\n1995-04-11  Geoff Voelker  <voelker@cs.washington.edu>\n\n\t* ntinevt.c (nt_kdb_patch_event): Created.\n\n\t* callproc.c (child_setup) [WINDOWSNT]: Removed syntax errors.\n\n\t* dired.c (Ffile_attributes) [WINDOWSNT]: Removed syntax errors.\n\n\t* fileio.c (Fexpand_file_name) [DOS_NT]: Preserve drive letter case.\n\tFix syntax errors.\n\tCheck drive letter when expanding ~\\.\n\n\t* sysdep.c (sys_subshell) [WINDOWSNT]: Don't invoke restore_console.\n\n\t* ntproc.c (win32_wait): Reap synchronous subprocesses, and place\n\treturn code in synch_process_retcode.\n\n\t* s/windowsnt.h (ctime): Defined to be nt_ctime.\n\t(NULL): Defined when missing from included system files.\n\t(EMACS_CONFIG_OPTIONS): Defined.\n\t(LISP_FLOAT_TYPE): Defined.\n\t(HAVE_TZNAME): Defined.\n\t(HAVE_TIMEVAL): Defined.\n\t(struct timeval): Defined.\n\t(struct timezone): Defined.\n\n\t* nt.c (nt_ctime): Defined.\n\t(gettimeofday): Defined.\n\n\t* ntinevt.c (do_mouse_event): Use XSETFASTINT.\n\t(SET_FRAME): Undefined.\n\t(select): Renamed to sys_select to correspond to routine in sysdep.c.\n\t(sys_select): Support struct timeval.\n\t(key_event): Support German keyboard.\n\tReplace SET_FRAME with XSETFRAME.\n\t(nt_kbd_mods_to_emacs): Renamed to win32_kbd_mods_to_emacs.\n\t(win32_kbd_mods_to_emacs): Support AltGr on German keyboards.\n\t(win32_number_shift_map): Defined.\n\t(WIN32_KEY_SHIFTED): Defined.\n\t(win32_patch_key): Defined.\n\t(map_virt_key): Support VK_OEM_102 for German keyboards.\n\t(win32_mouse_position): Add arg insist.\n\t(do_mouse_event): Replace SET_FRAME with XSETFRAME.\n\tUse win32_kbd_mods_to_emacs.\n\n\t* fileio.c (directory_file_name) [WINDOWSNT]: Handle UNC format.\n\n\t* nt.c (nt_stat): Defined.\n\n\t* s/windowsnt.h (struct nt_stat): Defined.\n\n\t* ntinevt.h: Fixed function prototypes.\n\n\t* makefile.nt (TEMACS): Add dependence on $(BLD).\n\n\t* ntterm.c (Fset_message_beep): Defined.\n\t(ring_bell): Support audio cards.\n\n\t* makefile.nt (DOC): Defined.\n\n\t* s/windowsnt.h (HAVE_RANDOM): Defined.\n\t(random): Macro undefined.\n\t(srandom): Macro undefined.\n\t(HAVE_UTIME): Defined.\n\t(utime): Defined.\n\t(EMACS_CONFIGURATION): Defined.\n\n\t* nt.c (random): Defined.\n\t(srandom): Defined.\n\n\t* nt.c (readdir): Include \".\" and \"..\".\n\t(get_inode_and_device_vals): Handle directories.\n\n\t* fileio.c (Fexpand_file_name) [DOS_NT]: Don't strip slash from\n\tdefault dirs like \"C:\\\\\"\n\n\t* makefile.nt (all): Use COMPAT_LIB in library list.\n\tUse DEL_TREE instead of delnode.\n\n\t* ntheap.c (sbrk): Shrink heap by arbitrary amounts.\n\n\t* m/intel386.h (NO_ARG_ARRAY) [WINDOWSNT]: Defined.\n\n\t* s/windowsnt.h (_VARARGS_): Defined.\n\t(_CALLBACK_): Defined.\n\n1995-04-11  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>\n\n\t* process.c (create_process): Set PROCESS's tty_name to Qnil when\n\t!PTY_FLAG, so Fprocess_tty_name returns nil for pipes as its\n\tdocstring says.\n\n1995-04-11  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keyboard.c (read_char): Rearrange code so that getcjmp is set\n\tonly around sit_for and kbd_buffer_get_event, and\n\tand polling is stopped only around the kbd_buffer_get_event call.\n\t(Ftrack_mouse, tracking_off, read_char): Don't call prepare_menu_bars.\n\n\t* dispnew.c (init_desired_glyphs): New function.\n\t* xdisp.c (redisplay): Call init_desired_glyphs for each frame.\n\tCall prepare_menu_bars.\n\t(prepare_menu_bars): Delete code at beginning that duplicates\n\tthings done at the beginning of redisplay.\n\n\t* alloc.c (inhibit_garbage_collection): New function.\n\n\t* xterm.c (XTread_socket): Pass dpyinfo to popup_get_selection.\n\n\t* xmenu.c (popup_get_selection): Queue up events that aren't\n\tfor the menu, and process them afterward.  New arg dpyinfo.\n\t(set_frame_menubar): Use inhibit_garbage_collection.\n\t[USE_X_TOOLKIT] (xmenu_show): Delete the queue code here.\n\tPass dpyinfo to popup_get_selection.\n\tDon't call lw_destroy_all_widgets.\n\t[USE_X_TOOLKIT] (xdialog_show): Simplify using popup_get_selection.\n\n1995-04-10  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* callint.c (Fcall_interactively): Fix handling of @\n\twhen it tests whether the event has a window in it.\n\n\t* s/sco4.h (NO_SOCKETS_IN_FILE_SYSTEM): Defined.\n\n\t* eval.c (internal_condition_case): Abort if interrupt_input_blocked>0.\n\n\t* xmenu.c (set_frame_menubar): Don't block input until after\n\tthe menubar maps have been decoded.\n\n1995-04-10  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* keyboard.c (push_frame_kboard, pop_frame_kboard): Do nothing if\n\t!MULTI_KBOARD.\n\n\t* keyboard.c (init_keyboard): Don't malloc a new structure;\n\tinitial_kboard should already exist for that.\n\t* frame.c (make_terminal_frame): Put initial_kboard on the list of\n\tall kboard objects.\n\n1995-04-10  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xmenu.c (popup_get_selection): For ButtonRelease event,\n\tclear dpyinfo->grabbed.\n\n\t* window.c (temp_output_buffer_show): Select the chosen window\n\ttemporarily for running temp-buffer-show-hook.\n\t(syms_of_window): Fix typo.\n\n\t* s/osf1.h: Don't include alloca.h, string.h here.\n\t(malloc. realloc, xmalloc, xrealloc): Declarations moved to m/alpha.h.\n\t* m/alpha.h: Include alloca.h, string.h here.\n\t(malloc. realloc, xmalloc, xrealloc): Declarations moved from s/osf1.h.\n\n\t* xdisp.c (display_mode_line): Use push_frame_kboard, pop_frame_kboard.\n\n\t* xfns.c (x_window): Copy the frame name to non-Lisp string.\n\n\t* keyboard.c (any_kboard_state): Renamed from unlock_kboard.\n\tDefine it unconditionally, but it's a no-op unless MULTI_KBOARD.\n\t(single_kboard_state): New function.\n\t(push_frame_kboard, pop_frame_kboard): New functions.\n\t(single_kboard): Renamed from kboard_locked.\n\n\t* keyboard.h (single_kboard): Renamed from kboard_locked.\n\tAll refs renamed.\n\t(struct kboard): Move flag fields to the end, and make them chars.\n\tDelete the `unused' field.\n\n\t* callint.c (Fcall_interactively): Call single_kboard_state\n\tto switch to the single-kboard state.\n\t* minibuf.c (read_minibuf): Call single_kboard_state\n\tto switch to the single-kboard state.\n\n\t* alloc.c, data.c, macros.c, print.c: Include keyboard.h.\n\n\t* Makefile.in.in (alloc.o, data.o, macros.o, print.o):\n\tDepend on keyboard.h.\n\n\t* xterm.h (x_display_info): Use `struct kboard', not KBOARD.\n\t* frame.h (struct frame): Use `struct kboard', not KBOARD.\n\n\t* keyboard.h (KBOARD, etc): Moved from lisp.h.\n\t(struct kboard): Renamed from struct KBOARD.\n\t* lisp.h (KBOARD, etc): Moved to keyboard.h.\n\n1995-04-09  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keyboard.c (unlock_kboard): Do nothing with Vunread_command_events.\n\t(read_char): Clean up logic for reading from KBOARD queues.\n\n\t* xfns.c (defined_color): Fix typo (duplicate +).\n\n\t* keyboard.c (kbd_buffer_get_event): Set copy by assignment, not init.\n\n\t* xterm.c (XTread_socket): Make deiconify event\n\tonly if frame was iconified.\n\n\t* xrdb.c (xmalloc, xrealloc): Declare them here.\n\n1995-04-08  Erik Naggum  <erik@naggum.no>\n\n\t* editfns.c (Fencode_time): New function, to match `decode-time'.\n\n1995-04-08  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* intervals.c (set_point): When skipping intangible text,\n\tstop where property value changes.\n\n\t* indent.c (Fmove_to_column): Fix minor bug in prev change.\n\n\t* lread.c (read_escape): Undo Nov 15 change.\n\n\t* xdisp.c (display_mode_line): Test mode_line_inverse_video\n\tbefore highlighting partial-width mode line.\n\n\t* xmenu.c (popup_activate_callback): Increment popup_activated_flag.\n\t(popup_deactivate_callback): Decrement it.\n\n\t* s/linux.h (HAVE_SELECT, HAVE_TIMEVAL): Definitions deleted.\n\tconfig.h should handle them.\n\n\t* xdisp.c (redisplay): Don't call update_frame for non-selected\n\ttermcap frame.\n\n1995-04-08  Noah Friedman  <friedman@prep.ai.mit.edu>\n\n\t* window.c (Fnext_window, Fprevious_window): If all_frames is a\n\tframe and window is not on that frame, return the first window on\n\tthat frame.\n\n1995-04-07  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* lread.c (init_lread): Add site-lisp under the installation dir\n\tto Vload_path if that exists.\n\n\t* s/osf1.h (xmalloc, xrealloc): Declare them.\n\n\t* frame.c (make_terminal_frame): Use Emacs, Emacs-2, ... as name.\n\n\t* xdisp.c (decode_mode_spec): Add %F code.\n\tOrder alternatives alphabetically.\n\n\t* s/aix4.h: Use \"...\" in #include.\n\n1995-04-07  Morten Welinder  <terra+@cs.cmu.edu>\n\n\t* s/osf1.h: Include alloca.h, string.h.  Test NOT_C_CODE.\n\n\t* m/alpha.h (SPECIAL_EMACS_INT): Defined.\n\n1995-04-07  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* keyboard.c (kbd_buffer_get_event): Check for frame buried in a cons.\n\tDelete menu_bar_event handling code.\n\t(make_lispy_event): Move it here, so it gets a switch-frame if needed.\n\n\t* callint.c (Fcall_interactively): Fix previous change.\n\n1995-04-07  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* doprnt.c (xmalloc, xrealloc): Declare them here.\n\n\t* callint.c (Fcall_interactively): `+' is reserved for user changes.\n\n\t* process.c (read_process_output_error_handler)\n\t(exec_sentinel_error_handler): Fsleep_for wants two args.\n\n\t* xfns.c (validate_x_resource_name): Change invalid chars to `_'.\n\n\t* doprnt.c (doprnt): Cast pointer to int by way of EMACS_INT.\n\n\t* xmenu.c (menubar_selection_callback, dialog_selection_callback)\n\t(single_submenu): Cast pointer to int by way of EMACS_INT.\n\n\t* floatfns.c (Flogb): Use EMACS_INT for `value'.\n\n\t* editfns.c (Fformat): Cast int to pointer by way of EMACS_INT.\n\n\t* search.c (search_buffer): Avoid casting trt to int.\n\tUse EMACS_INT for comparing pointers.\n\n\t* buffer.h (Fdelete_overlays): Add declaration.\n\n\t* keyboard.c (parse_modifiers): Use type EMACS_INT for `modifiers'.\n\n\t* xterm.c (dumpglyphs): Cast FACE_DEFAULT to (XFontStruct *)\n\tfor comparison with face->font.\n\n\t* sysdep.c (bcopy): If NEED_BCOPY, do compile this.\n\n\t* m/ncr386.h: New file.\n\n\t* s/hpux9.h (LD_SWITCH_X_DEFAULT): New definition.\n\t(C_SWITCH_X_DEFAULT): New definition.\n\n\t* doc.c (get_doc_string): In (STRING . INTEGER), if INTEGER\n\tis negative, negate it.\n\n\t* eval.c (Fuser_variable_p): For (STRING . INTEGER), test sign.\n\n\t* s/sol2.h (C_SWITCH_X_SYSTEM): Defined.\n\n\t* s/usg5-4-2.h (LIBS_SYSTEM): New override definition.\n\n\t* lisp.h (XMISCTYPE): New macro.\n\t(union Lisp_Misc): Delete the `type' field.\n\tUse XMISCTYPE instead of that.\n\n\t* alloc.c (Fmake_marker, mark_object): Use XMISCTYPE.\n\t(clear_marks, gc_sweep): Use u_marker union elt to extract misc type.\n\n\t* lread.c (defvar_int, defvar_bool, defvar_lisp_nopro, defvar_kboard)\n\t(defvar_per_buffer): Use XMISCTYPE.\n\t* print.c (print): Use XMISCTYPE.\n\t* fns.c (internal_equal): Use XMISCTYPE.\n\t* buffer.c (Fmake_overlay): Use XMISCTYPE.\n\t* data.c (Ftype_of, do_symval_forwarding, store_symval_forwarding)\n\t(find_symbol_value, Fmake_variable_buffer_local, Fmake_local_variable):\n\tUse XMISCTYPE.\n\n\t* xdisp.c (prepare_menu_bars): Do the frame titles last.\n\n1995-04-06  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xfaces.c (intern_face): Cast FACE_DEFAULT to (XFontStruct *)\n\tfor comparison with face->font.\n\n\t* puresize.h (CHECK_IMPURE): Remove & from before my_edata.\n\n\t* editfns.c (Fformat_time_string): Use emacs_strftime.  Doc fix.\n\n\t* Makefile.in.in (strftime.o): Define strftime as emacs_strftime.\n\n\t* xmenu.c (frame_vector): New static variable.\n\t(syms_of_xmenu): staticpro it.\n\t(frame_vector_add_frame): New function.\n\t(set_frame_menubar): Use frame_vector; use index as the widget id.\n\t(free_frame_menubar): Likewise.  Remove the frame from frame_vector.\n\t(menubar_selection_callback): Use frame_vector to turn id into frame.\n\n\t* emacs.c (main): Cast arg to `brk'.\n\n\t* sysdep.c (init_sys_modes): Use TCOON only if defined.\n\n\t* s/netbsd.h (NO_MATHERR): Defined.\n\t(LIBS_SYSTEM): Definition deleted.\n\n\t* unexsunos4.c: Treat __NetBSD__ like __FreeBSD__.\n\n1995-04-06  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* fns.c (Fplist_put): Fix missing \\n\\.\n\n\t* xfns.c (x_window_to_frame): Skip non-X frames before testing dpyinfo.\n\t[USE_X_TOOLKIT] (x_any_window_to_frame, x_top_window_to_frame): Ditto.\n\n1995-04-06  Simon Marshall  <simon@duality.gnu.ai.mit.edu>\n\n\t* data.c (Fcar, Fcdr, Fsetcar, Fsetcdr): Arg name doc fixes.\n\n1995-04-06  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* puresize.h (BASE_PURESIZE): Increment to 310000.\n\n\t* indent.c (string_width): New function.\n\t(vmotion): Compute the width of minibuf_prompt\n\tif it isn't already known.\n\n\t* buffer.c (Fkill_buffer): Call reset_buffer_local_variables\n\tand swap_out_buffer_local_variables.\n\t(swap_out_buffer_local_variables): New subroutine.\n\t(Fkill_all_local_variables): Use that subroutine.\n\n\t* search.c (Flooking_at, Fposix_looking_at): Change arg name.\n\n1995-04-05  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* frame.c (Fraise_frame, Flower_frame): Now interactive.\n\n1995-04-04  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* lisp.h: Declare Ffetch_bytecode.\n\t* eval.c (Ffetch_bytecode): New function.\n\t(funcall_lambda): Call it.\n\t(syms_of_eval): defsubr it.\n\n1995-04-03  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* xfns.c (x_window_to_frame): New arg DPYINFO.  All callers changed.\n\t(x_any_window_to_frame, x_top_window_to_frame): Likewise.\n\n\t* lisp.h (Vmessage_log_max): Declare this variable.\n\t(message_nolog): Declare this function.\n\t* emacs.c (main): Start with an empty message log.\n\t* xdisp.c (message_nolog): New function.\n\t* fns.c (Fy_or_n_p): Don't log prompt.\n\t(Fyes_or_no_p): Fix typo in doc string.\n\n1995-04-01  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* lread.c (oblookup): Save bucket num in oblookup_last_bucket_number.\n\t(Funintern): New function.\n\t(syms_of_lread): defsubr it.\n\n1995-03-31  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* dired.c (Fdirectory_files): Fix bug in IS_ANY_SEP usage\n\tintroduced in Oct 30 change.\n\n1995-03-31  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* keyboard.c (command_loop_1): If we ignore force_start, then also\n\tignore beg_unchanged and end_unchanged.\n\n1995-03-31  Michael Ernst  <mernst@research.microsoft.com>\n\n\t* lread.c (isfloat_string): Permit trailing space.\n\n1995-03-30  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* keyboard.c (event_to_kboard): Ignore dead frames.\n\t(kbd_buffer_get_event): In batch mode, use current_kboard.\n\n\t* xterm.c (x_delete_display): Extract kboard deletion, for modularity.\n\t* keyboard.c (wipe_kboard): Make this function static.\n\t(delete_kboard): New function, extracted from x_delete_display.\n\n\t* lisp.h: Declare function delete_kboard.\n\n\t* xterm.h (struct x_display_info): New member cut_buffers_initialized.\n\t* xterm.c (x_term_init): Initialize it.\n\t* xselect.c (Fx_store_cut_buffer_internal): Use the flag in the\n\tframe's x_display_info, not a global flag.\n\t(Fx_rotate_cut_buffers_internal): Likewise.\n\n\t* emacs.c (sort_args): Skip strncmp if longname is a null pointer.\n\n1995-03-30  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* data.c (Fmod): Fix the final adjustment, when i2 < 0 and i1 == 0.\n\n1995-03-29  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* frame.c [MULTI_FRAME] (Factive_minibuffer_window): New function.\n\t[MULTI_FRAME] (syms_of_frame): Defsubr it.\n\n1995-03-28  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* process.c (Fsignal_process): SIGCODE is a symbol, not a string.\n\n1995-03-28  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* fns.c (Fconcat): Undo previous change.\n\n1995-03-27  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* fns.c (Fget, Fput): Fetch and store symbol's plist directly.\n\n1995-03-27  Boris Goldowsky  <boris@cs.rochester.edu>\n\n\t* fns.c (Fplist_put, Fplist_get): New fns.\n\t(Fget): Use Fplist_get to do the work.\n\t(Fput): Use Fplist_put to do the work.\n\n\t* textprop.c (Vdefault_text_properties): name changed from\n\tVdefault_properties.\n\t* intervals.h: As above.\n\t* intervals.c (textget): As above.\n\n\t* intervals.c (textget_direct): Fn deleted.\n\t(textget, verify_interval_modification): Use Fplist_get instead.\n\t* intervals.h: Remove declaration.\n\n1995-03-26  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xterm.c (XTmouse_position): New arg `insist'.\n\t* ntinevt.c (win32_mouse_position): New arg `insist'.\n\t* msdos.c (mouse_get_pos): New arg `insist'.\n\n\t* xmenu.c (Fx_popup_menu): Pass 1 for `insist' arg.\n\t(Fx_popup_dialog): Likewise.\n\t* frame.c (Fmouse_position--both definitions): Pass 0 for `insist'.\n\t(Fmouse_pixel_position): Pass 0 for `insist'.\n\tAdd HAVE_MOUSE conditional.\n\t* keyboard.c (kbd_buffer_get_event): Pass 0 for `insist' arg.\n\n\t* m/intel386.h (C_SWITCH_SYSTEM): Don't #undef or define it.\n\t[SOLARIS2, SOLARIS2_4, !__GNUC__] (C_SWITCH_MACHINE): Define instead.\n\n1995-03-26  Germano Caronni  <caronni@tik.ethz.ch>\n\n\t* ralloc.c (r_re_alloc): Correct realloc behavior--allow shrinking\n\tof blocks while reallocating, if shrinking by more than one page.\n\t(relocate_blocs, resize_blocs): Added failsafe to protect future\n\tcalling of these routines when in frozen state.\n\t(r_alloc_thaw): Added call to r_alloc_init.\n\t(relocate_blocks, resize_bloc, r_alloc_sbrk, r_alloc_thaw): Extended\n\tfunctionality to let ralloc package work in frozen state, allowing\n\tfor the existence of unused blocks.\n\n1995-03-25  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* process.c (Fsignal_process): Allow signal names as well as numbers.\n\n1995-03-24  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* editfns.c (init_editfns): Use NAME envvar to init user-full-name.\n\n1995-03-24  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* textprop.c (Fnext_property_change): Fix previous change.\n\n1995-03-23  Kevin Rodgers  <kevinr@ihs.com>  (tiny change)\n\n\t* print.c (temp_output_buffer_setup): (Re)set the default\n\tdirectory of the temp buffer to that of the current buffer.\n\n1995-03-23  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* buffer.c (syms_of_buffer): Doc fix.\n\n\t* xdisp.c (redisplay): Make sure pause is set before used.\n\tDelete unused vars.\n\t(redisplay_window): Make sure update_mode_line is set before used.\n\tIf startp might not have been set, use w->start directly.\n\t(try_window_id): In the easy case, find cursor pos before returning.\n\t(try_window_id): Stop scan at bottom of window, not one line later.\n\tDon't fail on account of continuation line below window.\n\t(redisplay_window): Stop scan at bottom of window.\n\tFix reversed condition.\n\n\t* Makefile.in.in (FRAME_SUPPORT, MSDOS_SUPPORT): Don't list face\n\tand mouse related files here.\n\t(FACE_SUPPORT, MOUSE_SUPPORT): New lists.\n\t(FACE_SUPPORT): Add facemenu.elc.\n\t(WINNT_SUPPORT): New list.\n\t(lisp): Add format.elc, FACE_SUPPORT, MOUSE_SUPPORT, WINNT_SUPPORT.\n\n1995-03-23  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* m/sparc.h: Don't include alloca.h if NOT_C_CODE.\n\n\t* m/mips-siemens.h (UNEXEC): Override the definition.\n\t(LIBS_DEBUG, ORDINARY_LINK): Add #undefs.\n\n1995-03-22  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* dispnew.c (direct_output_forward_char): Don't use direct output\n\tat an overlay boundary.\n\t* buffer.c (overlay_touches_p): New function.\n\t* lisp.h: Declare overlay_touches_p.\n\n\t* fns.c (concat): Treat integers as characters, not strings.\n\tThis makes `concat' more like `insert'.\n\n\t* window.c (syms_of_window): Fix missing \\n\\.\n\t* keymap.c (Fwhere_is_internal): Fix missing \\n\\.\n\t* fileio.c (syms_of_fileio): Fix missing \\n\\.\n\n1995-03-21  Marco Walther  <Marco.Walther@mch.sni.de.>\n\n\t* unexelfsni.c: New file.\n\n\t* m/mips-siemens.h: Total rewrite.\n\n1995-03-20  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xdisp.c (redisplay_window): Skip the only-point-has-changed\n\toptimization if updating the window's mode line.\n\n1995-03-19  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xdisp.c (invisible_p, invisible_ellipsis_p): Handle list\n\tas invisible property value.\n\n1995-03-18  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xdisp.c (display_menu_bar): Just one space between menu items.\n\n1995-03-18  Ted Lemon  <mellon@toccata.fugue.com>\n\n\t* emacs.c (dump-emacs-data, dump-emacs): Declare my_edata as\n\tchar array.\n\t* lastfile.c (my_edata): Declare as char array, not int.\n\t* puresize.h (CHECK_IMPURE): Declare my_edata as char array.\n\n1995-03-17  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* lread.c (Vload_read_function): New variable.\n\t(readevalloop): Use that variable.\n\t(syms_of_lread): Set up Lisp variable.\n\n1995-03-17  Boris Goldowsky  <boris@spiff.gnu.ai.mit.edu>\n\n\t* buffer.h (struct buffer): Add file_format member.\n\n\t* buffer.c (reset_buffer): Reset file_format element too.\n\t(init_buffer_once): Define file_format flag; reset file_format.\n\t(syms_of_buffer): New vbl buffer-file-format.\n\n\t* fileio.c (Finsert_file_contents): Call format-decode.\n\t(build_annotations): Call format-annotate-function for each element of\n\tbuffer-file-format.\n\t(Vauto_save_file_format): New vbl.\n\t(build_annotations): Use it.\n\n1995-03-17  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* alloc.c (init_alloc_once): Increase gc_cons_threshold to 300000.\n\n1995-03-15  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xfns.c (x_decode_color): Don't use cdef if defined_color failed.\n\n1995-03-15  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* config.h.in [HAVE_X_WINDOWS] (MULTI_KBOARD): Define this symbol.\n\n1995-03-14  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* lisp.h (struct KBOARD, MULTI_KBOARD, current_kboard, all_kboards):\n\t(Lisp_Misc_Kboard_Objfwd, Lisp_Kboard_Objfwd, XKBOARD_OBJFWD):\n\t(KBOARD_OBJFWDP, GC_KBOARD_OBJFWDP, kboard_locked, the_only_kboard):\n\t(DEFVAR_KBOARD): Rename from PERDISPLAY, MULTI_PERDISPLAY,\n\tcurrent_perdisplay, all_perdisplays, Lisp_Misc_Display_Objfwd,\n\tLisp_Display_Objfwd, XDISPLAY_OBJFWD, DISPLAY_OBJFWDP,\n\tGC_DISPLAY_OBJFWDP, display_locked, the_only_perdisplay,\n\tDEFVAR_DISPLAY.  All uses changed.\n\t(struct KBOARD): New member reference_count.\n\t(initial_kboard): Declare this var.\n\t* .gdbinit (xkbobjfwd): Rename from xdispobjfwd.\n\t* frame.h (struct frame): New member kboard.\n\t(FRAME_KBOARD): Accessor macro for that member, replacing\n\tget_perdisplay.\n\t* xterm.h (struct x_display_info): Member kboard (formerly\n\tperdisplay) is now a pointer, not an actual struct.\n\t(get_perdisplay, get_perdisplay_macro): Delete.\n\t* xfns.c (Fx_create_frame): Set the frame's kboard member.\n\t* xterm.c (get_perdisplay): Delete.\n\t(same_x_server): New function.\n\t(x_term_init): If this display shares a keyboard with one we've\n\talready opened, then share the structure.\n\t(x_delete_display): Don't delete the kboard until the reference\n\tcount becomes zero.\n\t* lread.c (defvar_kboard): Rename from defvar_display.\n\t* alloc.c (mark_kboards): Rename from mark_perdisplays.\n\t* frame.c (make_frame): Initialize kboard member.\n\t(make_terminal_frame): Create initial_kboard if not already set.\n\t* keyboard.c (unlock_kboard): Rename from unlock_display.\n\t(wrong_kboard_jmpbuf): Rename from wrong_display_jmpbuf.\n\t(event_to_kboard): Rename from event_to_perdisplay.\n\t(kbd_buffer_get_event): If no associated kboard, store\n\tcurrent_kboard rather than the first kboard in the global list.\n\t(init_kboard): Rename from init_perdisplay.  Initialize reference\n\tcount.\n\t(wipe_kboard): Rename from wipe_perdisplay.\n\t* data.c (find_symbol_value): current_perdisplay now is never null.\n\t(store_symval_forwarding, do_symval_forwarding): Likewise.\n\n1995-03-14  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* data.c (Fash): Fix previous change.\n\n\t* buffer.c (Fmake_indirect_buffer): Invert the arguments.\n\n\t* marker.c (unchain_marker): Allow differing buffers\n\tas long as they have the same text.\n\n1995-03-13  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* keyboard.c (event_to_perdisplay): New function.\n\t(kbd_buffer_get_event): Use event_to_perdisplay.\n\t(kbd_buffer_store_event): If C-g arrives while we're in the run\n\tstate on behalf of another display, just clear the queue and\n\tdeposit the C-g to be read later.\n\t(read_key_sequence): After a throw, unwind delayed_switch_frame as\n\twell as keybuf.  Don't insert an extra switch-frame if empty.\n\n\t* print.c (print): current_perdisplay now is never null.\n\t* callint.c (clear_prefix_arg): Likewise.\n\t* macros.c (Fexecute_kbd_macro): Likewise.\n\n1995-03-13  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* minibuf.c (read_minibuf): Save Voverriding_local_map.\n\t(read_minibuf_unwind): Restore Voverriding_local_map.\n\n1995-03-13  Andreas Schwab  <schwab@issan.informatik.uni-dortmund.de>\n\n\t* unexelf.c (unexec): Adjust the file offset of sections located\n\tafter the section header table.\n\n1995-03-12  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* keyboard.c (unlock_display): current_perdisplay now is never null.\n\t(cmd_error, command_loop_1, read_char): Likewise.\n\t(kbd_buffer_get_event, read_key_sequence): Likewise.\n\t(read_char): Handle synchronous quit_char on a different display.\n\t(read_char): Rewrite queue-searching code.\n\t(read_key_sequence): Save selected_frame.\n\t(init_keyboard): Initialize current_perdisplay.\n\n1995-03-12  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keyboard.c (parse_modifiers_uncached): Delete the code for\n\tmulti-character modifiers and for recognizing a modifier alone.\n\t(parse_solitary_modifier): New function.\n\t(convert_event_type_list): Use parse_solitary_modifier.\n\tAlso convert symbol A to character A.\n\tHandle shift modifier with lower-case letters.\n\n\t* window.c (Fdisplay_buffer): Fix prev change--return sel window.\n\n\t* indent.c (compute_motion, Fmove_to_column, current_column)\n\t(character_width): Let display table handle \\n, \\r, \\t.\n\t(compute_motion): Fix logic in previous change wrt skipping invisible.\n\n1995-03-11  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xdisp.c (display_text_line): When setting selective_rlen,\n\tignore whether selective display is on or off.\n\n\t* textprop.c (Fnext_property_change): Handle LIMIT = t.\n\n\t* indent.c (compute_motion): Call recenter_overlay_lists sooner.\n\tUse Fnext_property_change to get a quick lower bound for\n\twhere `invisible' changes.\n\n1995-03-10  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* data.c (Fash, Flsh): Change arg names.\n\n1995-03-09  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* intervals.h (TEXT_PROP_MEANS_INVISIBLE): New macro.\n\t(TEXT_PROP_MEANS_INVISIBLE_WITH_ELLIPSIS): New macro.\n\n\t* xdisp.c (display_text_line, try_window): Check `invisible' prop\n\tusing TEXT_PROP_MEANS_INVISIBLE.\n\t(display_text_line): Check TEXT_PROP_MEANS_INVISIBLE_WITH_ELLIPSIS;\n\tif it says so, use ellipses after invisible text.\n\t(invisible_p, invisible_ellipsis_p): New functions.\n\n\t* indent.c (compute_motion, vmotion): Check `invisible' prop\n\tusing TEXT_PROP_MEANS_INVISIBLE.\n\n\t* buffer.h (struct buffer): New field `invisibility_spec'.\n\t* buffer.c (reset_buffer_local_variables): Init invisibility.\n\t(init_buffer_once): Set up buffer_local_flags for it.\n\t(syms_of_buffer): New variable `buffer-invisibility-spec'.\n\n1995-03-08  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* syntax.c (Fforward_comment): Always clear immediate_quit for return.\n\n1995-03-08  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* sysdep.c (read_input_waiting): Fix Lisp_Object vs. int problem.\n\n1995-03-07  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* lisp.h (struct PERDISPLAY): New member kbd_queue_has_data.\n\t* keyboard.c (unlock_display): If adding to kbd_queue, set\n\tkbd_queue_has_data.\n\t(read_char): Set and clear kbd_queue_has_data appropriately, but\n\tleave it unset when we push back an incomplete sequence.\n\t(read_char): Take the longjmp even if current_perdisplay was null.\n\t(readable_events): Check kbd_queue_has_data instead of kbd_queue.\n\t(init_perdisplay): Initialize kbd_queue_has_data.\n\n\t* keyboard.c (command_loop_1): Removed inline code for prefix args.\n\t* callint.c (current_prefix_partial): New var.\n\t(Funiversal_argument): New function, formerly inlined in keyboard.c.\n\t(Fnegative_argument, Fdigit_argument): Likewise.\n\t(clear_prefix_arg): Moved here from keyboard.c.\n\tDon't clear the internal state if we're still building a prefix arg.\n\t(finalize_prefix_arg, describe_prefix_arg): Moved from keyboard.c.\n\t(syms_of_callint): defsubr the new functions.\n\t* lisp.h: Declare new var and functions.\n\n\t* lisp.h (struct PERDISPLAY): New member Vlast_kbd_macro.\n\t* alloc.c (mark_perdisplays): Mark it here.\n\t* keyboard.c (init_perdisplay): Initialize it here.\n\n\t* macros.c (Fstart_kbd_macro): Access Vlast_kbd_macro via perdisplay.\n\t(Fend_kbd_macro, Fcall_last_kbd_macro): Likewise.\n\t(init_macros): Delete initialization.\n\t(syms_of_macros): Use DEFVAR_DISPLAY for Vlast_kbd_macro.\n\tDoc fix for executing-macro, executing-kbd-macro, last-kbd-macro.\n\n\t* keyboard.c (cmd_error): Bind Vprint_level and Vprint_length.\n\n1995-03-06  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* keyboard.c (command_loop_1): Fix test for prefix arg.\n\n1995-03-06  Boris Goldowsky  <boris@cs.rochester.edu>\n\n\t* textprop.c (Vdefault_properties): New variable.\n\t* intervals.h: Declare it.\n\t* intervals.c (textget): Check it.\n\n1995-03-03  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* callint.c (Fcall_interactively): Fix Feb 22 change.\n\n\t* keyboard.c (read_key_sequence): Update orig_local_map\n\tfor some additional gotos to replay_sequence.\n\n\t* process.c (exec_sentinel, read_process_output): If running filter\n\tor sentinel changes the local map, call record_asynch_buffer_change.\n\n1995-03-02  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* xdisp.c (display_mode_line): Temporarily set current_perdisplay\n\tto reference the frame we're updating.\n\n\t* lisp.h (struct PERDISPLAY): New members defining_kbd_macro,\n\tkbd_macro_buffer, kbd_macro_ptr, kbd_macro_end, kbd_macro_bufsize.\n\t* macros.h (defining_kbd_macro): Delete declaration.\n\t* macros.c (defining_kbd_macro): Delete; now part of perdisplay.\n\tAll uses changed.\n\t(kbd_macro_buffer, kbd_macro_ptr, kbd_macro_end): Likewise.\n\t(kbd_macro_bufsize): Likewise.\n\t(Fstart_kbd_macro): Initialize kbd_macro_buffer if not already done.\n\t(init_macros): Delete initialization of defining_kbd_macro.\n\t(syms_of_macros): Delete initialization of kbd_macro_buffer.\n\t* keyboard.c (read_char_minibuf_menu_prompt): orig_defn_macro is\n\tnow a Lisp_Object, not an int.\n\t(init_perdisplay): Initialize some of the new members.\n\t(wipe_perdisplay): Free kbd_macro_buffer.\n\n\t* keyboard.c (cmd_error): Allow current_perdisplay to be null.\n\n\t* keyboard.c (read_key_sequence): New arg can_return_switch_frame.\n\tAll callers changed.\n\t(Fread_key_sequence): Likewise.\n\t* callint.c (Fcall_interactively): Defer switch-frame events when\n\treading `k' or `K' specification.\n\n1995-03-02  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* emacs.c (syms_of_emacs): Doc fix.\n\n1995-03-02  John Grabowski  <johng@media.mit.edu>\n\n\t* xfns.c (defined_color): If colormap is full, find closest match.\n\t* xfaces.c (load_color): Call defined_color to allocate the color.\n\n1995-03-01  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xterm.c (x_connection_closed): Ignore non-X frames.\n\tFix the logic for deleting frames that use separate minibuffers\n\tthat are on the dead connection.\n\n\t* buffer.c (Fpop_to_buffer): Call Fset_buffer_major_mode\n\tif we create a buffer.\n\n1995-02-28  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* keyboard.c (cmd_error): Use clear_prefix_arg.\n\t(internal_last_event_frame, Vlast_event_frame): Normal vars again.\n\tAll uses changed.\n\t(Quniversal_argument, Qdigit_argument, Qnegative_argument): Declare.\n\t(clear_prefix_arg, finalize_prefix_arg, describe_prefix_arg): New fns.\n\t(command_loop_1): Handle digits and minus specially, when they're\n\tpart of a prefix arg.\n\tHandle universal-argument and digit-argument and negative-argument\n\tbindings here, rather than doing I/O in the Lisp code.\n\t(read_char): When reading switch-frame events from the side queue,\n\tset internal_last_event_frame.\n\t(readable_events): Return non-zero if a side queue has data.\n\t(kbd_buffer_get_event): Don't abort if event has no associated frame.\n\t(read_key_sequence): Improve behavior when there's no current display.\n\t(init_perdisplay): Initialize the new members.\n\t* callint.c (Fcall_interactively, syms_of_callint): Undo Jan 31 change.\n\t(Vprefix_arg, Vcurrent_prefix_arg): Undo Jan 31 change.\n\t* mocklisp.c (Fml_provide_prefix_argument, Fml_prefix_argument_loop):\n\tUndo Jan 31 change.\n\t* minibuf.c (read_minibuf, read_minibuf_unwind): Undo Jan 31 change.\n\t* frame.c (do_switch_frame): Undo Feb 6 change.\n\t* macros.c (Fexecute_kbd_macro): Use clear_prefix_arg.\n\t* lisp.h (struct PERDISPLAY): Add prefix_factor, prefix_value,\n\tprefix_sign, prefix_partial.  Delete Vcurrent_prefix_arg and\n\tVprefix_arg; those are now plain vars again.\n\t* alloc.c (mark_perdisplays): Update to reflect current Lisp_Objects.\n\t(NSTATICS): Increase to 768.\n\n1995-02-28  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* frame.c (Fframep): Doc fix.\n\n1995-02-28  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* callint.c (Fcall_interactively): Lock the display before\n\texecuting the command, no matter how we execute it.\n\n1995-02-26  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keyboard.c (convert_event_type_list): New function.\n\t(lucid_event_type_list_p): New function.\n\t(parse_modifiers_uncached): If MODIFIERS_END is -1,\n\tlook for just a modifier.  Guts rewritten.\n\n\t* keymap.c (Fdefine_key): Handle Lucid-style (crtl backspace) etc.\n\t(Flookup_key): Likewise.\n\n\t* callproc.c (Fcall_process): Extend BUFFER arg so it can specify\n\ta separate output file for stderr output.\n\t(Fcall_process_region): Doc fix.\n\n1995-02-25  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xmenu.c (Fx_popup_menu): Init f from selected_frame\n\tbefore calling mouse_position_hook.\n\n\t* window.c (Vsame_window_buffer_names, Vsame_window_regexps): New vars.\n\t(syms_of_window): Set up Lisp vars.\n\t(Fdisplay_buffer): Use those vars--if requested, use current window.\n\n1995-02-24  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* keyboard.c (unlock_display): New function.\n\t(cmd_error, command_loop_1): Call it when appropriate.\n\t(read_char): If no current display, don't try to echo.\n\n\t* term.c (term_init) [TERMINFO]: Make error message more accurate.\n\n1995-02-23  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keymap.c (Fglobal_set_key, Flocal_set_key, Fglobal_unset_key)\n\t(Flocal_unset_key): Functions deleted (moved to simple.el).\n\t(syms_of_keymap): Don't defsubr them.\n\n1995-02-23  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* keyboard.c (display_locked): New var to indicate when we're in\n\tthe run state.  current_perdisplay is now meaningful in the wait\n\tstate as well.\n\t(cmd_error): Clear display_locked in addition to current_perdisplay.\n\t(command_loop_1): outer_perdisplay renamed from global_perdisplay.\n\tRestore display_locked as well as current_perdisplay.\n\t(read_char): read_char_perdisplay merged with current_perdisplay.\n\t(read_key_sequence): Likewise.\n\t* minibuf.c (read_minibuf): Make sure the display is locked.\n\t* callint.c (Fcall_interactively): If the display hasn't already\n\tbeen locked by reading from the minibuffer, lock it before\n\texecuting the command.\n\t* lisp.h (display_locked): Declare this var.\n\n1995-02-23  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* window.c (syms_of_window): Doc fixes.\n\n\t* keymap.c (Fwhere_is_internal): If FIRSTONLY is not nil or non-ascii,\n\tcompletely ignore menu bindings.\n\t* xmenu.c (menu_item_equiv_key): Delete the code that rejected\n\tmenu bindings returned by Fwhere_is_internal.\n\n\t* window.c (window_loop): Handle special display buffer frames\n\tfor DELETE_BUFFER_WINDOWS as for UNSHOW_BUFFER.\n\n1995-02-22  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* callint.c (Fcall_interactively): Use markers temporarily in\n\targs vector to stand for point and mark values; replace them\n\twith integers just before calling the command.\n\n1995-02-21  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* lisp.h (struct PERDISPLAY): New member kbd_queue.\n\tDelete obsolete members kbd_buffer_frame_or_window, kbd_buffer,\n\tkbd_fetch_ptr, kbd_store_ptr; these are regular vars again.\n\t* alloc.c (mark_perdisplays): Mark kbd_queue.\n\tRemove reference to obsolete kbd_buffer_frame_or_window.\n\t* xmenu.c (menubar_selection_callback): frame_or_window field of a\n\tmenu-bar event now includes both the frame and the magic cookie.\n\t* keyboard.c (kbd_buffer_frame_or_window): Restored old var.\n\t(kbd_buffer, kbd_fetch_ptr, kbd_store_ptr): Likewise.\n\t(read_char_perdisplay): New var.\n\t(read_char): Search all appropriate perdisplay objects, and do the\n\tright thing if the next event comes from a different source.\n\t(read_key_sequence): If there's a change of display in mid-stream,\n\tretreat and try reading the new display.\n\t(find_active_event_queue): Function deleted.  All callers changed\n\tto just test the main kbd_buffer instead.\n\t(kbd_buffer_store_event): Write to the main kbd_buffer again.\n\t(kbd_buffer_get_event): Read from the main kbd_buffer again.\n\tNow returns a perdisplay pointer in addition to a lispy event.\n\t(Fdiscard_input, swallow_events): Use the main kbd_buffer again.\n\t(stuff_buffered_input): Likewise.\n\t(init_perdisplay): Initialize member kbd_queue.\n\tRemove references to obsolete members.\n\t(wipe_perdisplay): Remove obsolete reference.\n\t(init_keyboard, syms_of_keyboard): Restore initialization of vars.\n\n1995-02-21  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xdisp.c (display_string, display_text_line):\n\tDisplay table overrides ordinary display even for \\t, \\n, etc.\n\n1995-02-19  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* frame.c (Fmake_terminal_frame): Doc fix.\n\n1995-02-18  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* s/hpux9.h (LIB_X11_LIB, C_SWITCH_X_SYSTEM, LD_SWITCH_X_DEFAULT):\n\tAdd #undef's to cancel hpux8.h's definitions.\n\n1995-02-17  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* config.h.in (MULTI_FRAME): Define unconditionally.\n\n1995-02-16  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* dispnew.c (change_frame_size_1): New subroutine.\n\t(change_frame_size): If f is termcap frame, change size of all of them.\n\t(remake_frame_glyphs): No longer static.\n\tDon't mark nonselected termcap frame as garbaged.\n\n\t* term.c (calculate_costs): Update max_frame_height, max_frame_width.\n\tThey determine length of chars_wasted, copybuf and char_ins_del_vector.\n\n\t* xdisp.c (redisplay): Don't display nonselected terminal frames.\n\n\t* frame.c (Fmake_terminal_frame): New function.\n\t(syms_of_frame): defsubr it.\n\t(make_terminal_frame): Init Vframe_list only the first time.\n\tSet visible and async_visible directly.\n\tGive each terminal frame a unique name.\n\n\t* ralloc.c (r_alloc_check): Return void.\n\t(r_alloc_freeze): Initialize if it hasn't been done.\n\t(r_re_alloc, r_alloc_free, r_alloc_sbrk): Likewise.\n\t(r_alloc_init): Set __malloc_extra_blocks.\n\n1995-02-15  Paul Reilly  <pmr@geech.gnu.ai.mit.edu>\n\n\t* s/dgux.h (LIB_MOTIF): Add -lgen to provide provide the symbols\n\t`regcmp' and `regex'.\n\n1995-02-15  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* xmenu.c (xmenu_show, both versions): New arg for_click.\n\t(Fx_popup_menu): Compute it and pass it.\n\n1995-02-14  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* callint.c: Doc fix.\n\n1995-02-14  Paul Reilly  <pmr@geech.gnu.ai.mit.edu>\n\n\t* xterm.c (x_bitmap_icon): Fix test for unallocated icon bitmap.\n\n1995-02-14  Richard Stallman  <rms@geech.gnu.ai.mit.edu>\n\n\t* filelock.c (unlock_buffer, unlock_all_files, Flock_buffer)\n\t(Funlock_buffer): Use buffer's file_truename, not filename.\n\n\t* buffer.c (syms_of_buffer): Set up Lisp var buffer-file-truename.\n\t(init_buffer_once): Set up flag and default value for file_truename.\n\t(reset_buffer): Init file_truename slot.\n\n\t* buffer.h (struct buffer): New field file_truename.\n\n\t* ralloc.c (r_alloc_free): Call refill_memory_reserve only if emacs.\n\n\tInclude getpagesize.h unconditionally.\n\t(free_bloc): Don't die if bloc->next or bloc->prev is null.\n\t[!emacs] (bzero): New macro definition.\n\n\t* keyboard.c (input_poll_signal): Add ignored argument.\n\t(interrupt_signal): Likewise.\n\n\t* dispnew.c (window_change_signal): Add ignored argument.\n\n\t* process.c (Fstart_process): Make process marker point into proc buf.\n\n\t* xterm.c (x_display_bar_cursor): Use frame's cursor_width.\n\n\t(x_connection_signal): New function.\n\t(x_initialize): Use it as signal handler.\n\n\t* xfns.c (x_set_cursor_type): Set cursor_width field.\n\tHandle args of form (bar . WIDTH).\n\n\t* xterm.h (struct x_display): New element cursor_width.\n\n1995-02-14  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* filelock.c (unlock_buffer, unlock_all_files, Flock_buffer)\n\t(Funlock_buffer): Use buffer's file_truename, not filename.\n\n\t* buffer.h (struct buffer): New field file_truename.\n\t* buffer.c (syms_of_buffer): Set up Lisp var buffer-file-truename.\n\t(init_buffer_once): Set up flag and default value for file_truename.\n\t(reset_buffer): Init file_truename slot.\n\n\t* xterm.h (struct x_display): New element cursor_width.\n\t* xfns.c (x_set_cursor_type): Set cursor_width field.\n\tHandle args of form (bar . WIDTH).\n\t* xterm.c (x_display_bar_cursor): Use frame's cursor_width.\n\n1995-02-13  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* m/iris4d.h (STACK_DIRECTION): Undef before defining.\n\t[__GNUC__] (C_SWITCH_MACHINE): Remove -cckr.\n\tAdd -32, only if IRIX_FORCE_32_BITS.\n\t* s/irix5-0.h [__GNUC__] (C_SWITCH_SYSTEM): Defined.\n\t* s/irix4-0.h [__GNUC__] (C_SWITCH_SYSTEM): Define this.\n\t(C_SWITCH_MACHINE): Instead of this.\n\n\t* ralloc.c (r_alloc_free): Call refill_memory_reserve only if emacs.\n\n\t* s/irix6-0.h: New file.\n\n\t* fileio.c (Fexpand_file_name): Copy default-directory\n\tbefore looking for a handler on the directory arg.\n\n\t* cmds.c (Vself_insert_face, Vself_insert_face_command): New variables.\n\t(syms_of_cmds): Set up Lisp variables.  Doc syntax fix.\n\t(internal_self_insert): Handle Vself_insert_face.\n\n\t* lisp.h (Qprocessp): Declared.\n\n\t* xdisp.c (redisplay_window): If we update the mode line,\n\tswitch to the buffer for real, and switch back for real.\n\n1995-02-12  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* xterm.c (x_connection_signal): New function.\n\t(x_initialize): Use it as signal handler.\n\n\t* keyboard.c (input_poll_signal): Add ignored argument.\n\t(interrupt_signal): Likewise.\n\n\t* dispnew.c (window_change_signal): Add ignored argument.\n\n1995-02-11  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* fileio.c (Fexpand_file_name): Look for a handler for defalt.\n\t(syms_of_fileio): Minor rearrangement.\n\n\t* ralloc.c: Include getpagesize.h unconditionally.\n\t(free_bloc): Don't die if bloc->next or bloc->prev is null.\n\t[!emacs] (bzero): New macro definition.\n\n\t* xmenu.c (menu_item_equiv_key): If command is an alias,\n\tcheck only the underlying command for a keyboard equivalent.\n\n\t* s/netbsd.h (WAIT_USE_INT): Defined.\n\t* syswait.h: New alternative specified by WAIT_USE_INT.\n\n\t* process.c (Fstart_process): Make process marker point into proc buf.\n\n1995-02-10  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* data.c: Rename arg OBJ to OBJECT in all type predicates.\n\t(Ftype_of): New function.\n\n1995-02-09  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* xfaces.c (load_color): Ignore failure from XAllocColor.\n\t* xfns.c (x_decode_color): Ignore failure from defined_color.\n\n\t* m/intel386.h [SOLARIS2_4, !__GNUC__] (C_SWITCH_SYSTEM): Defined..\n\t[SOLARIS2_4, !__GNUC__]: Include alloca.h.\n\n1995-02-07  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* Makefile.in.in (maintainer-clean): Renamed from realclean.\n\tPrint warning message.\n\n1995-02-07  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* keyboard.c (command_loop_1): Put back cancel_echoing call, if\n\tthere's a perdisplay for it to apply to.\n\t(init_perdisplay): Initialize echo vars.\n\n\t* xdisp.c (message_log_check_duplicate): New function.\n\t(message_dolog): Delete previous line if the new one is a\n\tduplicate.  Include a counter if appropriate.\n\tDon't bother truncating the buffer until after adding newline.\n\n1995-02-06  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* lisp.h (struct PERDISPLAY): Add Vlast_event_frame.\n\tDefine internal_last_event_frame only #if MULTI_FRAME.\n\tAdd some placeholders so we don't need to rebuild every time this\n\tstruct changes.\n\t* keyboard.c (internal_last_event_frame, Vlast_event_frame):\n\tDeleted; now part of perdisplay.  All uses changed.\n\t(MOUSE_ACTIVITY_AVAILABLE) Deleted.\n\t(find_active_event_queue): New arg check_mouse.  All callers changed.\n\t(Vlast_event_frame): Change from DEFVAR_LISP to DEFVAR_DISPLAY.\n\t* frame.c (do_switch_frame): internal_last_event_frame is now in\n\tperdisplay.\n\n1995-02-05  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* ralloc.c (r_alloc_size_in_use): New function.\n\n\t* alloc.c (emacs_blocked_malloc): Set __malloc_extra_blocks here.\n\t(malloc_hysteresis): New variable.\n\t(init_alloc_once): Initialize malloc_hysteresis.\n\t(buffer_memory_full): New function.\n\t* emacs.c (main): Undo previous change.\n\t* buffer.c (Fget_buffer_create): Call buffer_memory_full.\n\n\t* alloc.c (refill_memory_reserve): New function.\n\t* ralloc.c (r_alloc_free): Call refill_memory_reserve.\n\n1995-02-04  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* alloc.c (SPARE_MEMORY): New macro.\n\t(emacs_blocked_free): If no spare_memory now, and enough free\n\tspace is available, get a new spare.\n\t(__malloc_size_t, _bytes_used): Declared.\n\t(bytes_used_when_full): New variable.\n\n\t* frame.h (struct frame): New field window_sizes_changed.\n\t(FRAME_WINDOW_SIZES_CHANGED): New macro (two definitions).\n\t* window.c (Fdelete_window, set_window_height, set_window_width)\n\t(Fsplit_window, Fset_window_configuration): Set\n\tFRAME_WINDOW_SIZES_CHANGED to 1 in the frame being changed.\n\t* xdisp.c (Vwindow_size_change_functions): New variable.\n\t(prepare_menu_bars): Call those functions.  Add gcproing.\n\t(syms_of_xdisp): Set up Lisp variable.\n\n\t* alloc.c (syms_of_alloc): Improve memory exhausted error message.\n\t(init_alloc_once): Allocate spare_memory.\n\t(memory_full): Free spare_memory.\n\n1995-02-03  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* xselect.c (x_get_foreign_selection, x_reply_selection_request):\n\tUse an unwind-protect to call x_stop_queuing_selection_requests.\n\t(some_frame_on_display): New function.\n\t(queue_selection_requests_unwind): New function.\n\n1995-02-03  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* callint.c (syms_of_callint): Move DEFVAR_DISPLAY's ...\n\t* keyboard.c (syms_of_keyboard): ... to here.\n\t[MULTI_PERDISPLAY] (current_perdisplay, all_perdisplays): New vars.\n\t(find_active_event_queue): Search all perdisplays.\n\t(init_perdisplay, wipe_perdisplay): New functions.\n\t(init_keyboard): Move perdisplay initialization to init_perdisplay.\n\t(syms_of_keyboard): Likewise.\n\t(cmd_error): Cancel echoing here.\n\t(command_loop_1): Not here.\n\n\t* lisp.h (all_perdisplays): New var.\n\t(struct PERDISPLAY): New member next_perdisplay.\n\t* alloc.c (mark_perdisplays): New function.\n\t(Fgarbage_collect): Call it.\n\t* lread.c (defvar_display): Don't staticpro; these objects are now\n\tprotected through mark_perdisplays.\n\t* xterm.c [MULTI_PERDISPLAY] (x_term_init): Initialize perdisplay.\n\t[MULTI_PERDISPLAY] (x_delete_display): Destroy perdisplay.\n\t(x_delete_display): Use xfree, not free.\n\n\t* lisp.h (defvar_display): Declare this function.\n\t(DEFVAR_DISPLAY): Use current_perdisplay, not get_perdisplay.\n\t* data.c (do_symval_forwarding): Likewise.\n\t(store_symval_forwarding, find_symbol_value): Likewise.\n\t* print.c (print): Likewise.\n\t* keyboard.c (echo_prompt, echo_char, echo_dash, echo): Likewise.\n\t(cancel_echoing, echo_length, read_char, Fdiscard_input): Likewise.\n\t(stuff_buffered_input): Likewise.\n\n1995-02-03  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* xdisp.c (display_text_line): Deduct minibuf prompt from taboffset.\n\t(try_window): Deduct minibuf prompt from tab_offset, after 1st line.\n\n1995-02-02  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* xselect.c (wait_for_property_change): Avoid unlikely timing error.\n\n\t* keyboard.c (kbd_buffer_get_event, swallow_events):\n\tRemove selection_request event from input queue before processing it.\n\n1995-02-01  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* macros.c (Fexecute_kbd_macro): Clear prefix arg here.\n\t* keyboard.c (cmd_error): And here.\n\t(command_loop_1): Not here.\n\t(command_loop_1): Save original perdisplay in case we're already\n\tlocked to a particular display.\n\tMove display-specific cleanup to end of main loop.\n\tUse perdisplay to access prefix arg.\n\t(Fcommand_execute, Fexecute_extended_command): Use perdisplay.\n\n1995-02-01  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* xterm.c (x_unqueue_events): Arg is now a Display *.\n\t(x_start_queuing_selection_requests): Likewise.\n\t(x_stop_queuing_selection_requests): Likewise.\n\t* xselect.c (x_get_foreign_selection): Pass display to\n\tx_start_queueing_selection_events and x_stop_queueing_selection_events.\n\n\t* xselect.c (x_reply_selection_request): Call\n\tx_start_queueing_selection_events and x_stop_queueing_selection_events.\n\tHandle X protocol errors.\n\n1995-01-31  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* callint.c (Fcall_interactively): Use perdisplay.\n\t(Vprefix_arg, Vcurrent_prefix_arg): Delete vars; now in perdisplay.\n\t(syms_of_callint): Use DEFVAR_DISPLAY for prefix-arg and\n\tcurrent-prefix-arg.\n\t* minibuf.c (read_minibuf, read_minibuf_unwind): Use perdisplay.\n\t* mocklisp.c (Fml_provide_prefix_argument): Use perdisplay.\n\t(Fml_prefix_argument_loop): Likewise.\n\t* lisp.h (current_perdisplay): New var.\n\t(DEFVAR_DISPLAY): Add missing ampersand.\n\t(Vprefix_arg, Vcurrent_prefix_arg): Delete; now in perdisplay.\n\n\t* lread.c [!MULTI_PERDISPLAY] (defvar_display): Use staticpro.\n\n1995-01-31  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* emacs.c (main) [REL_ALLOC]: Set __malloc_extra_blocks.\n\n1995-01-30  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* buffer.c (syms_of_buffer): overwrite-mode doc fix.\n\n1995-01-30  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* lisp.h [MULTI_PERDISPLAY]: Declare get_perdisplay as a function.\n\t* xterm.c [MULTI_PERDISPLAY] (get_perdisplay): Define this as an\n\texported function.\n\t* xterm.h [MULTI_PERDISPLAY] (get_perdisplay): Define this as a\n\tmacro, for sources that include this header.\n\t[MULTI_PERDISPLAY] (get_perdisplay_macro): Internal macro version.\n\n\t* lisp.h (DEFVAR_DISPLAY): New macro.\n\t* lread.c (defvar_display): New function.\n\n\t* lisp.h: Declare store_symval_forwarding here.\n\t* eval.c (specbind): Not here.\n\t(specbind): Handle display-local vars.\n\t* data.c (do_symval_forwarding): Handle display-local vars.\n\t(store_symval_forwarding, find_symbol_value): Likewise.\n\t(Fmake_variable_buffer_local): Disallow display-local vars here.\n\t(Fmake_local_variable): Likewise.\n\n\t* keyboard.c (syms_of_keyboard): Fix missing backslashes.\n\n1995-01-29  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* fns.c (Frassoc): New function.\n\t(syms_of_fns): defsubr it.\n\n1995-01-28  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* ecrt0.c: Renamed from crt0.c.\n\t* Makefile.in.in (ecrt0.o): Target renamed from crt0.o.\n\t(START_FILES): Use ecrt0.o.\n\n1995-01-27  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* lisp.h (PERDISPLAY, the_only_perdisplay, get_perdisplay):\n\tRenamed from PERD, etc.  All uses changed.\n\t(ECHOBUFSIZE): New constant, replaces sizeof (echobuf).\n\t(enum Lisp_Misc_Type): New enumeration Lisp_Misc_Display_Local.\n\t(struct Lisp_Display_Objfwd): New structure.\n\t(XDISPLAY_OBJFWD, DISPLAY_OBJFWDP): Access the new structure.\n\t(union Lisp_Misc): Add new member.\n\t* keyboard.c (kbd_buffer_frame_or_window): Delete; now in perdisplay.\n\t(immediate_echo, echobuf, echoptr, echo_after_prompt): Likewise.\n\t(echo_prompt, echo_char, echo_dash): use perdisplay and ECHOBUFSIZE.\n\t(echo, cancel_echoing, echo_length, echo_truncate): Likewise.\n\t(read_char, kbd_buffer_store_event, kbd_buffer_get_event): Likewise.\n\t(Fdiscard_input, stuff_buffered_input): Likewise.\n\t(init_keyboard, syms_of_keyboard): Likewise.\n\t* alloc.c (mark_object): Ignore Lisp_Misc_Display_Objfwd objects.\n\t* print.c (print): Handle internal display-local object.\n\t* .gdbinit (xdispobjfwd): New macro.\n\n\t* xdisp.c (message_log_need_newline): This var is now static.\n\t(message_dolog): Set message_log_need_newline appropriately.\n\tDon't change it at all if message logging is currently disabled.\n\t(message_log_maybe_newline): New function.\n\t(message2): Use message_log_maybe_newline.\n\t* print.c (printchar, strout): Use message_log_maybe_newline.\n\tLeave all of the newline bookkeeping to message_dolog.\n\t* lisp.h (message_log_maybe_newline): Function declared.\n\n\t* xdisp.c (message_dolog): Rename \" *Messages*\" buffer to \"*Messages*\"\n\n1995-01-27  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* minibuf.c (Fread_string): Add third arg HISTORY.\n\t* callint.c (Fcall_interactively): Pass new arg to Fread_string.\n\n1995-01-27  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* insdel.c (modify_region): Clear point_before_scroll field.\n\n1995-01-25  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* buffer.h (struct buffer): New field point_before_scroll.\n\t* buffer.c (init_buffer_once, syms_of_buffer):\n\tSet up buffer-local var point_before_scroll.\n\t(reset_buffer): Init point_before_scroll.\n\t* intervals.c (set_point): Set point_before_scroll to nil.\n\n1995-01-24  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* lisp.h (PERD): New struct containing per-display data.\n\t(the_only_perd): Declare an instance of it.\n\t(get_perd): Macro to retrieve it.\n\t* keyboard.c (the_only_perd): Define this var here.\n\t(kbd_buffer, kbd_fetch_ptr, kbd_store_ptr): Delete; now part of perd.\n\t(find_active_event_queue): New function.\n\t(readable_events, kbd_buffer_get_event, swallow_events): Use it.\n\t(kbd_buffer_store_event): Store in EVENT's frame's queue.\n\t(Fdiscard_input, stuff_buffered_input): Use perd.\n\t(init_keyboard): Initialize the new vars.\n\tkbd_buffer is now a pointer, not an array.\n\t* xterm.h (struct x_display_info): New member display_perd.\n\n\t* process.c (process_tick, update_tick): Make non-static.\n\n1995-01-24  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keyboard.c (read_key_sequence): New arg dont_downcase_last\n\tinhibits downcasing the last event, when it's uppercase and undefined.\n\t(Fread_key_sequence): Likewise new arg.\n\t* callint.c (Fcall_interactively): Define K mostly like k.\n\tPass new arg to Fread_key_sequence.\n\t* keymap.c (Flocal_set_key, Fglobal_set_key): Use K, not k, to read key seq arg.\n\n1995-01-23  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* indent.c (compute_motion): Don't get hung in selective-display loop.\n\n\t* syssignal.h: Don't use function prototypes.\n\n\t* keyboard.c (read_key_sequence): Don't wait for a possible key\n\ttranslation sequence if we already have a binding.\n\tAdd missing break statement.\n\n\t* sysselect.h: New file, mostly extracted from process.c and xterm.c.\n\t* process.c: #include sysselect.h instead of defining things by hand.\n\t* sysdep.c (sys_select): Renamed from select.  Use SELECT_TYPE\n\tinstead of int.  Defer to native select if that function is usable.\n\t* config.h (HAVE_SYS_SELECT_H): Add #undef for configure.\n\t* s/isc3-0.h (BROKEN_SELECT_NON_X): #define this.\n\n\t* s/isc3-0.h [__GNUC__] (POSIX_SIGNALS): #define this.\n\t[__GNUC__] (sigsetmask, HAVE_SYSV_SIGPAUSE): #undef these.\n\t(LIBX11_SYSTEM): Don't use -lc; loading this before -lcposix gives\n\tus the wrong signal functions.\n\t(C_SWITCH_SYSTEM): Add _XOPEN_SOURCE.\n\t(EXTRA_INITIALIZE): Make conditional on __GNUC__.\n\n1995-01-22  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* minibuf.c (read_minibuf): Don't print the prompt in batch mode.\n\n\t* emacs.c (sort_args): Ordinary args get priority 0.\n\tSo do -f, -l, -insert, etc.  --kill gets negative priority.\n\tEverything else gets positive priority.\n\n1995-01-21  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xterm.c (x_destroy_window): Don't let frame being destroyed\n\tremain in x_focus_event_frame.\n\n1995-01-21  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* config.h.in [NO_REMAP]: #undef static.\n\n1995-01-20  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* lisp.h (union Lisp_Misc): Make the `type' field just 16 bits,\n\tto match the substructures.\n\n1995-01-20  Morten Welinder  <terra@diku.dk>\n\n\t* fileio.c (file_name_as_directory, Ffile_name_directory)\n\t(Ffile_name_nondirectory): Delete special MSDOG code now covered by macros.\n\n\t* s/msdos.h (DEVICE_SEP, IS_DIRECTORY_SEP, IS_ANY_SEP): Defined.\n\n\t* msdos.c (XMenuCreate, XMenuAddPane, XMenuAddSelection, XMenuLocate)\n\t(XMenuActivate, XMenuDestroy): Add dummy `display *' argument.\n\n\t* xmenu.c [MSDOS]: #include msdos.h.\n\t* msdos.h (x_mouse_leave): Add neutralizing define.\n\t(XMenuCreate, XMenuAddPane, XMenuAddSelection, XMenuLocate)\n\t(XMenuActivate, XMenuDestroy): Add prototype.\n\t* Makefile.in.in (xmenu.o): Add msdos.h as dependency.\n\n\t* buffer.c (syms_of_buffer) [DOS_NT]: Add missing ';'.\n\n1995-01-19  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* textprop.c (Ftext_property_any): Handle the trivial case specially.\n\n\t* sysdep.c (seed_random): Renamed from srandom.\n\t(get_random): Renamed from random.  Return VALBITS random bits.\n\t* fns.c (Frandom): Call seed_random and get_random.\n\n\t* print.c (print): Print internal types too, for debugging.\n\tPrint appropriate message for invalid pseudovector or misc type.\n\n\t* .gdbinit (xboolfwd, xbuflocal, xbufobjfwd, xcompiled): New macros.\n\t(xintfwd, xmiscfree, xobjfwd, xoverlay, xwinconfig): New macros.\n\n1995-01-19  Abramo Bagnara  <abramo@sssup2.sssup.it>\n\n\t* term.c (term_get_fkeys_1): Bug fix for function key above f19.\n\n1995-01-18  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* editfns.c (subst_char_in_region_unwind): New function.\n\t(Fsubst_char_in_region): Use it to make undo_list t temporarily.\n\n\t* buffer.c (Fbuffer_local_variables): Unconditionally call\n\tfind_symbol_value, but conditionally use its value.\n\n\t* xrdb.c: Don't include sys/param.h.\n\t(MAXPATHLEN): Definition deleted.\n\n1995-01-18  Boris Goldowsky  <boris@cs.rochester.edu>\n\n\t* cmds.c (internal_self_insert): Don't test current_column\n\twhen deciding to call auto_fill_function.\n\n1995-01-18  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* lisp.h (SWITCH_ENUM_CAST): New macro.\n\t* alloc.c, data.c, keyboard.c, syntax.c, xdisp.c: Change all\n\toccurrences of SWITCH_ENUM_BUG to use SWITCH_ENUM_CAST instead.\n\n1995-01-18  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* window.c (Qtemp_buffer_show_hook): New hook.\n\t(syms_of_window): Init and staticpro it.\n\t(temp_output_buffer_show): Run the hook.\n\n1995-01-16  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* xdisp.c (message_dolog): Ignore narrowing.\n\tUse low-level functions, to bypass modification and motion hooks.\n\n\t* window.h (struct window): New member column_number_displayed.\n\t* xdisp.c (redisplay): Use that field instead of a global flag.\n\t(redisplay_window, display_mode_line, decode_mode_spec): Likewise.\n\n\t* cm.c (cmcheckmagic): New function.\n\t* cm.h: Declare it.\n\t* term.c (write_glyphs, insert_glyphs): Call it.\n\n1995-01-16  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keyboard.c (kbd_buffer_store_event): Cast arg of bcopy.\n\n1995-01-15  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>\n\n\t* ralloc.c (r_alloc_init): Remove unused variable END.\n\n1995-01-13  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* alloc.c (Fpurecopy): Mask size field when copying pseudovector.\n\n1994-01-12  Boris Goldowsky  <boris@cs.rochester.edu>\n\n\t* lisp.h: Declare Qrear_nonsticky.\n\n\t* cmds.c (Vuse_hard_newlines): New variable.\n\t(Fnewline): If use_hard_newlines is on, mark inserted\n\tnewline(s) with `hard' property, marked rear-nonsticky.\n\n1994-01-12  Tom Tromey  <tromey@drip.colorado.edu>\n\n\t* buffer.c (list_buffers_1, Flist_buffers): Functions deleted.\n\n1995-01-12  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* xdisp.c (message_log_need_newline): New var.\n\t(message_dolog): New function, extracted from message2.\n\t* print.c (printchar, strout): Call message_dolog.\n\t* lisp.h: Declare message_dolog.\n\n\t* alloc.c (DONT_COPY_FLAG): Default this to 1.\n\tCheck to make sure it's not the same as MARKBIT.\n\t(mark_object): Use the same XOR expression as elsewhere.\n\t(gc_sweep): Don't touch DONT_COPY_FLAG here; this one is a real\n\tsize field, not a mangled pointer.\n\n\t* fns.c (internal_equal): Delete redundant tests.\n\tMask size field when comparing pseudovectors.\n\n\t* fns.c (Frandom): Use VALBITS instead of hardcoded constants.\n\n1995-01-10  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* alloc.c (DONT_COPY_FLAG): Fix typo.\n\n\t* lisp.h: Use large constants for Lisp_Misc_Type.\n\n\t* lisp.h: Add some function declarations.\n\t* insdel.c: Declare all non-returning functions `void'.\n\t(insert_1): Make non-static.  New arg PREPARE.  All callers changed.\n\t* xdisp.c (Vmessage_log_max): New var.\n\t(syms_of_xdisp): defvar and initialize it.\n\t(message2_nolog): Renamed from message2.\n\t(message2): Log messages, then call message2_nolog.\n\t(message1_nolog): New function.\n\t* keyboard.c (echo): Don't log the key echoes.\n\t* alloc.c (Fgarbage_collect): Don't log the GC message.\n\n1995-01-10  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* emacs.c (main): Handle SIGABRT, SIGHWE, SIGPRE, SIGORE, SIGDLK,\n\tSIGCPULIM, if they are defined.\n\n\t* alloc.c (DONT_COPY_FLAG): New bit flag.\n\t(mark_object, gc_sweep, compact_strings): Use it.\n\n1995-01-10  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* editfns.c (Finsert_char): Check inherit flag for long strings too.\n\n\t* editfns.c (Fnarrow_to_region): Swap using temp Lisp_Object, not int.\n\n1995-01-10  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keyboard.c (syms_of_keyboard): Doc fix.\n\n\t* unexsunos4.c (unexec): Cast value of sbrk.\n\t(run_time_remap): Cast arg to brk.\n\t(brk_value): Renamed from Brk.\n\t(is_it): Cast 1st arg of mmap.\n\n1995-01-09  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keyboard.c (read_key_sequence): If first event is mouse click,\n\tuse the text property keymap from where the click was.\n\tNew local var orig_local_map.\n\n1995-01-09  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* window.c (Fscroll_other_window): On small windows, scroll by 1 line.\n\n1995-01-09  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* fns.c (internal_equal): Once again use a switch.\n\n\t* lisp.h (struct Lisp_Free, struct Lisp_Marker, etc.):\n\tMake the `type' field just 16 bits, and declare as int.\n\tAdd explicit spacer field after it.\n\t(struct Lisp_Marker): New field insertion_type.\n\n1995-01-08  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keymap.c (store_in_keymap): Copy a cons only if car is a string.\n\n\t* xterm.c: Don't include param.h.\n\n\t* buffer.c (syms_of_buffer): Doc fix.\n\n1995-01-06  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* m/alliant-2800.h (VALBITS, GCTYPEBITS): Deleted; default is better.\n\t* m/apollo.h, m/aviion.h, m/delta.h, m/hp800.h, m/ibmrt.h: Likewise.\n\t* m/intel386.h, m/nh4000.h, m/tower32v3.h: Likewise.\n\t* m/att3b.h (VALBITS, XTYPE): Adjust for new bit layout.\n\t* m/alpha.h, m/gec63.h, m/pfa50.h: Likewise.\n\n1995-01-05  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* frame.c [!MULTI_FRAME] (window_frame): New function.\n\t[!MULTI_FRAME] (syms_of_frame): defsubr it.\n\n1995-01-05  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>\n\n\t* doc.c (store_function_docstring, Fdocumentation): Use &\n\tPSEUDOVECTOR_SIZE_MASK on `size' field of compiled byte-code object.\n\t* callint.c (Fcall_interactively): Likewise.\n\t* eval.c (Fcommandp): Likewise.\n\n1995-01-04  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* alloc.c (mark_object, mark_buffer): Don't mark buffer twice.\n\n\t* .gdbinit (xint, xcar, xcdr): Use correct shift and mask values.\n\n\t* lisp.h [EXPLICIT_SIGN_EXTEND] (XINT): Use symbolic constants.\n\n1995-01-04  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* doc.c (store_function_docstring): Arg is now EMACS_INT.\n\n1995-01-02  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* lisp.h (enum Lisp_Type): Don't use trailing comma.\n\t(VALBITS, GCTYPEBITS): Define these regardless of NO_UNION_TYPE.\n\t[!NO_UNION_TYPE] (union Lisp_Object): Use symbolic constants.\n\n\t* alloc.c (mark_object): Make `else' visible outside MULTI_FRAME.\n\n1995-01-02  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keymap.c (store_in_keymap): While dumping, copy DEF if it's a cons.\n\n\t* buffer.c (reset_buffer): Don't alter intervals here.\n\t(Fget_buffer_create): Use BUF_MARKERS.  Init BUF_INTERVALS here.\n\t(Fkill_buffer): Use BUF_MARKERS; but don't touch it in indir buf.\n\tLikewise BUF_INTERVALS.  Don't free the text in indirect buffer.\n\tWhen killing a base buffer, kill its indirect buffers first.\n\t(init_buffer_once): Set up .text and BUF_INTERVALS\n\tin buffer_local_symbols and buffer_defaults.\n\n\t* alloc.c (mark_buffer, gc_sweep): Use BUF_INTERVALS.\n\t* editfns.c (Ftranspose_regions): Use BUF_INTERVALS.\n\t(transpose_markers): Use BUF_MARKERS.\n\n\t* insdel.c (insert_1, prepare_to_modify_buffer, insert_from_buffer_1):\n\tUse BUF_INTERVALS.\n\t(adjust_markers): Use BUF_MARKERS.\n\n\t* buffer.h (struct buffer): Fields markers and intervals moved out.\n\t(struct buffer_text): Fields markers and intervals moved here.\n\t(BUF_MARKERS, BUF_INTERVALS): New macros.\n\t* textprop.c (validate_interval_range): Use BUF_INTERVALS.\n\t* intervals.c: Use BUF_INTERVALS throughout.\n\t* marker.c: Use BUF_MARKERS throughout.\n\n\t* undo.c (Fprimitive_undo): Use base buffer's modtime field.\n\n1995-01-01  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* .gdbinit: Adapt to new Lisp_Object format.\n\t(xvectype, xmisctype): New commands.\n\t(xtype): Print the misc or vectorlike subtype too.\n\n\t* xdisp.c (redisplay_window): Call set_buffer_temp.\n\n\t* buffer.c (set_buffer_temp): New function.\n\n\t* buffer.h (struct buffer): Make buffer_file_type field unconditional.\n\t* buffer.c (reset_buffer_local_variables): Initialize\n\tbuffer_file_type field.\n\n\t* lisp.h (PVEC_BUFFER, PVEC_PROCESS, PVEC_FRAME, PVEC_COMPILED)\n\t(PVEC_WINDOW, PVEC_WINDOW_CONFIGURATION, PVEC_SUBR):\n\tNow enumeration constants, not macros.\n\t(PVEC_FLAG): Enumeration alias for PSEUDOVECTOR_FLAG.\n\n\t* buffer.h (struct buffer): save_modiff field deleted.\n\t(struct buffer_text): save_modiff field moved here.\n\t(SAVE_MODIFF, BUF_SAVE_MODIFF): New macros.\n\tUse them instead of direct access to save_modiff field.\n\t* buffer.c, editfns.c, fileio.c, filelock.c, insdel.c, keyboard.c:\n\t* undo.c, xdisp.c: Use SAVE_MODIFF and BUF_SAVE_MODIFF\n\tinstead of direct access to the save_modiff field.\n\t* window.c (temp_output_buffer_show): Use BUF_SAVE_MODIFF.\n\n\t* buffer.h (struct buffer): New field pt_marker.\n\tNew fields begv_marker, zv_marker.\n\t* buffer.c (Fget_buffer_create): Initialize pt_marker, begv/zv_marker.\n\t(set_buffer_internal): Use and update this markers.\n\tCopy undo_list in and out of the base buffer.\n\t(Fget_buffer_create): Init save_modiff field here.\n\t(reset_buffer): Not here.\n\t(Fbuffer_modified_p): Use BUF_SAVE_MODIFF.\n\t(Fset_buffer_modified_p): Use SAVE_MODIFF.\n\t(Fkill_buffer, list_buffers_1): Use BUF_SAVE_MODIFF.\n\n\t* term.c (term_init): Fatal error if screen is too small.\n\n1994-12-31  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xdisp.c (redisplay_window): For buffer_shared count,\n\ttreat an indirect buffer as equivalent to its base.\n\n\t* print.c (print): Don't drop thru to error for markers and overlays.\n\n1994-12-30  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* insdel.c (adjust_point): Use BUF_PT.\n\n\t* intervals.c (temp_set_point, set_point): Use BUF_PT.\n\t(get_local_map): Get keymap from specified buffer, not current one.\n\n\t* fileio.c (Finsert_file_contents, Fwrite_region):\n\tError if buffer is indirect.\n\t(Fdo_auto_save): Do nothing for an indirect buffer.\n\n\t* alloc.c (mark_buffer): In indirect buffer, mark the base buffer.\n\n\t* buffer.c (Fmake_indirect_buffer): New function.\n\t(Fbuffer_base_buffer): New function.\n\t(syms_of_buffer): defsubr them.\n\t(Fget_buffer_create): Initialize the size field.\n\n\t* print.c (print): Make buffer case a branch of\n\tthe Lisp_Vectorlike case.\n\n\t* alloc.c (mark_object): Make buffer case a branch of\n\tthe Lisp_Vectorlike case.\n\n\t* buffer.h (struct buffer): Make text field be a pointer.\n\tThe struct buffer_text field renamed to own_text.\n\tAdd fields indirect_to_buffer and size.\n\tMove pt, begv and zv fields here.\n\t(struct buffer_text): Moved from here.\n\t(BEGV, PT, ZV, BEGV_ADDR, PT_ADDR, ZV_ADDR): Corresponding changes.\n\t(BUF_BEGV, BUF_PT, BUF_ZV): Corresponding changes.\n\t(SET_BUF_ZV, SET_BUF_PT, point):\n\n\t* lisp.h (XSETBUFFER, BUFFERP, GC_BUFFERP): Rewrite: use pseudovectors.\n\t(enum Lisp_Type): Delete Lisp_Buffer.\n\t(enum Lisp_Misc_Type): Add Lisp_Misc_Float (not yet used).\n\n1994-12-29  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* lisp.h (VALBITS): Default now 28.\n\t(GCTYPEBITS): Default now 3.\n\n\t* lisp.h (enum Lisp_Type): Lisp_Process, Lisp_Window, Lisp_Frame,\n\tLisp_Subr deleted.\n\t(PSEUDOVECTORP, GC_PSEUDOVECTORP): Add paren for proper nesting.\n\t(PROCESSP, GC_PROCESSP, XSETPROCESS): Rewrite to use pseudovectors.\n\t(WINDOWP, GC_WINDOWP, XSETWINDOW): Likewise.\n\t(FRAMEP, GC_FRAMEP): Likewise.\n\t(SUBRP, GC_SUBRP, XSETSUBR): Likewise.\n\t(PVEC_SUBR): New macro.\n\t(struct Lisp_Subr): Add a size field.\n\t(DEFUN (both definitions)): Store that size field.\n\n\t* frame.h (XSETFRAME): Use pseudovector.\n\n\t* alloc.c (mark_object): Don't use Lisp_Process, Lisp_Window.\n\tHandle frames, compileds and subrs as branch of Lisp_Vectorlike case.\n\t(Fmake_byte_code): Use XSETCOMPILED.\n\n\t* data.c (Faref): Handle compiled function as pseudovector.\n\n\t* fns.c (Flength): Handle compiled function as pseudovector.\n\n\t* xterm.c (x_scroll_bar_handle_click): Use GC_WINDOWP.\n\t(XTframe_rehighlight, x_window_to_scroll_bar): Use GC_FRAMEP.\n\n\t* print.c (print): Get size of compiled function as pseudovector.\n\tUse a switch statement again.\n\n\t* process.h: Make size field an EMACS_INT.\n\n1994-12-28  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* unexsunos4.c [! sparc] (REL_INFO_TYPE): Use `struct relocation_info'.\n\n1994-12-27  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keyboard.c (make_lispy_event) [USE_X_TOOLKIT]: Turn off\n\tspecial handling of menu bar mouse events.\n\t(make_lispy_event): Tell pixel_to_glyph_coords not to clip.\n\n\t* xterm.c (XTupdate_begin): Fix backward test in previous change.\n\t(x_display_box_cursor): Don't redraw old cursor spot in mouse face\n\tif cursor was on a newline.\n\n\t* s/isc4-1.h: New file.\n\n1994-12-26  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xterm.c (XTread_socket): Handle button events from outside\n\tthe frame, received due to grabbing the mouse with a button.\n\n1994-12-25  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* callint.c (Vmouse_leave_buffer_hook, Qmouse_leave_buffer_hook):\n\tNew variables.\n\t(syms_of_callint): Set them up.\n\t(Fcall_interactively): Run the hook, for `@'.\n\n\t* buffer.c (syms_of_buffer): Doc fix for buffer-file-type.\n\n\t* search.c (set_search_regs): Really set search_regs.start and .end.\n\t(save_search_regs): Set them to 0 here.\n\n\t* minibuf.c (read_minibuf): GCPRO things.\n\n\t* lisp.h (enum Lisp_Type): Add Lisp_Type_Limit.\n\t* data.c (wrong_type_argument): Abort if VALUE is invalid Lisp object.\n\tUse Lisp_Type_Limit.\n\n1994-12-24  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* puresize.h (BASE_PURESIZE): Incremented by 20k.\n\n1994-12-23  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xfns.c (x_figure_window_size): Treat missing user-position parm\n\tas nil.\n\n1994-12-23  Steven Suhr  <ssuhr@riacs.edu>\n\n\t* scroll.c (scrolling_1): When scroll_region_ok is set, use a\n\tnew scrolling method which scrolls groups of lines directly\n\tto their final vertical positions.\n\t(struct matrix_elt): New field writecount.\n\t(calculate_direct_scrolling): New function.\n\t(do_direct_scrolling): New function.\n\n\t* term.c (scroll_region_cost): New variable.\n\t(calculate_costs): Put scroll region overhead in scroll_region_cost.\n\n\t* termchar.h (scroll_region_cost): Declared.\n\n\t* dispnew.c (scrolling): Fewer restrictions if scroll_region_ok is\n\tset.  New vector old_draw_cost for direct scrolling method.\n\n1994-12-23  Michal Jankowski  (Michal.Jankowski@fuw.edu.pl)\n\n\t* keyboard.c (read_char): Don't echo keys when echo_keystrokes is 0.\n\n1994-12-22  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xfns.c (x_set_frame_parameters): Handle icon-left, icon-top parms.\n\n1994-12-21  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* buffer.c (Fget_buffer_create): Copy the name, and clear text props.\n\n1994-12-20  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* eval.c (Fdefvar): Fix minor error in previous change.\n\t(funcall_lambda): Fetch bytecode and constants vector from file if nec.\n\n\t* lread.c (Qload_file_name, Vload_file_name): New variables.\n\t(syms_of_lread): Initialize and staticpro it.\n\t(Fload): Bind it.\n\t(read_list): Before dumping, ignore (#$ . WHATEVER)--return 0.\n\n\t* lread.c (read1): Implement #@ and #$ constructs.\n\n\t* frame.c (make_frame): Init buffer_predicate field.\n\n\t* doc.c (get_doc_string): Now static.  Arg now Lisp_Object.\n\tAllow (FILE . POS) as position argument.\n\t(Fdocumentation, Fdocumentation_property): Fix calls to get_doc_string.\n\t(Fdocumentation_property): Handle cons as value via get_doc_string.\n\t(read_doc_string): New function.\n\n\t* buffer.c (assoc_ignore_text_properties): New function.\n\t(Fget_buffer): Use assoc_ignore_text_properties.\n\n1994-12-19  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* s/dgux.h (C_DEBUG_SWITCH): Define this only if __GNUC__.\n\n1994-12-18  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* buffer.c (Fother_buffer): Take account of frame's buffer predicate.\n\n\t* frame.h (struct frame): New field buffer_predicate.\n\tMove all the Lisp_Object fields to the top.\n\n\t* frame.c (Fmodify_frame_parameters): For non-X frames,\n\tcall store_frame_param for each parameter set.\n\t(store_frame_param): Handle buffer_predicate field.\n\t(frame_buffer_predicate): New function.\n\t(Qbuffer_predicate): New variable.\n\t(syms_of_frame): Set it up.\n\n\t* alloc.c (mark_object): In a frame, mark the buffer_predicate.\n\tDon't mark the height and width fields.\n\n1994-12-15  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* minibuf.c (Fall_completions): New arg hide_spaces.\n\t(Fminibuffer_completion_help): Pass new arg.\n\n1994-12-14  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* emacs.c (main): Fix conversion of --display to -d.\n\n\t* xmenu.c (push_menu_item): New arg DEF.\n\t(single_keymap_panes, list_of_items): Pass new arg.\n\t(MENU_ITEMS_ITEM_DEFINITION): New macro.\n\t(MENU_ITEMS_ITEM_LENGTH): Now 5.\n\t[USE_X_TOOLKIT] (xmenu_show): Store 0 in call_data if item def is 0.\n\t(single_submenu): Likewise.\n\n\t* emacs.c (main): Implement --version.\n\n\t* xterm.c (XTupdate_begin): Discard records of prior mouse highlight\n\twhen frame must be redrawn.\n\n\t* textprop.c (add_properties): Add gcpro's.\n\t(Fadd_text_properties, copy_text_properties): Likewise.\n\n1994-12-13  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* s/sunos4-1-3.h: Just include sunos4shr--do nothing else.\n\n\t* eval.c (Fdefconst, Fdefvar): Error if too many arguments.\n\n1994-12-13  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* emacs.c (sort_args): Make `options' a vector of ints.\n\n1994-12-11  Richard Stallman  <rms@kepa>\n\n\t* buffer.c (report_overlay_modification): Renamed from\n\tverify_overlay_modification.\n\t* insdel.c: Calls changed.\n\n\t* insdel.c (signal_before_change, signal_after_change):\n\tCall verify_overlay_modification here.\n\t(prepare_to_modify_buffer): Don't call verify_overlay_modification.\n\n\t* buffer.c (call_overlay_mod_hooks): New args AFTER, ARG1, ARG2, ARG3.\n\tArgs START, END deleted.  Pass each function AFTER, ARG1 and ARG2,\n\tand ARG3 if ARG3 is not nil.\n\t(verify_overlay_modification): New args AFTER, ARG1, ARG2, ARG3.\n\tPass them to call_overlay_mod_hooks.\n\n\t* search.c (compile_pattern): Call re_set_registers here.\n\tAnd no need to BLOCK_INPUT for that.\n\t(compile_pattern_1): Instead of here.\n\n1994-12-10  Richard Stallman  <rms@kepa>\n\n\t* s/aix4-1.h: New file.\n\n\t* unexaix.c (unrelocate_symbols): Add AIX4_1 conditionals and code.\n\n\t* sysdep.c (sys_siglist) [AIX]: Add AIXHFT conditional.\n\n\t* systty.h: Change AIX conditional around HFNKEYS to AIXHFT.\n\n1994-12-09  Richard Stallman  <rms@green-hill>\n\n\t* bytecode.c (Fbyte_code): Call Ffollowing_char and Fprevious_char\n\tas functions.  Don't mask char-syntax arg to just 8 bits.\n\n1994-12-08  Richard Stallman  <rms@green-hill>\n\n\t* keyboard.c (read_char): After auto-saving, redisplay.\n\n1994-12-06  Richard Stallman  <rms@gnu.ai.mit.edu>\n\n\t* xfns.c (Fx_color_values): Doc fix.\n\n\t* buffer.c (list_buffers_1): Right-align the size values.\n\n\t* frame.h (struct frame): New field cost_calculation_baud_rate.\n\t(FRAME_COST_BAUD_RATE): New macro.\n\t* term.c (calculate_costs): Set FRAME_COST_BAUD_RATE.\n\tDon't test dont_calculate_costs.\n\t(dont_calculate_costs): Variable deleted.\n\t(term_init): Don't set dont_calculate_costs.\n\t* dispnew.c (update_frame): Call calculate_costs if baud_rate changed.\n\n1994-12-05  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* emacs.c (sort_args): Don't overwrite the terminating null pointer.\n\n1994-12-05  Richard Stallman  <rms@gnu.ai.mit.edu>\n\n\t* keyboard.c (read_key_sequence): Downcase undefined shifted fn keys.\n\n1994-12-04  Richard Stallman  <rms@gnu.ai.mit.edu>\n\n\t* emacs.c (argmatch): Take argc as arg; don't go past end of argv.\n\t(main): Change calls to argmatch.\n\n\t* intervals.h (INTERVAL_LAST_POS): Don't subtract 1 here.\n\n\t* intervals.c (compare_string_intervals): New function.\n\t* fns.c (internal_equal): Call compare_string_intervals.\n\t(Fstring_equal): Doc fix.\n\n\t* scroll.c (scroll_cost): FRAME_DELETE_COST and FRAME_DELETEN_COSTS\n\twere confused.  Fixed.\n\n\t* xterm.c (x_make_frame_visible, x_make_frame_invisible)\n\t(x_iconify_frame): Give error if frame has explicit_parent.\n\t(x_new_font): Don't set window height if frame has explicit_parent.\n\n\t* xfns.c (Fx_create_frame): Check for parent-id parameter.\n\tSet explicit_parent and parent fields.\n\tDon't set visibility if explicit_parent.\n\t[! USE_X_TOOLKIT] (x_window): Specify parent window.\n\n\t* xterm.h (struct x_display): New field explicit_parent.\n\n\t* s/ultrix4-3.h (SET_LINE_DISCIPLINE): Defined.\n\n\t* sysdep.c (child_setup_tty): Use CDISABLE for setting VERASE, VKILL.\n\t(init_sys_modes) [SET_LINE_DISCIPLINE]: Set specified line discipline.\n\t(reset_sys_modes) [SET_LINE_DISCIPLINE]: Restore old line discipline.\n\n1994-12-03  Richard Stallman  <rms@gnu.ai.mit.edu>\n\n\t* lread.c (readevalloop): Ignore ^M here.\n\n\t* emacs.c (argmatch): Handle lstr == 0.\n\n1994-11-28  Richard Stallman  <rms@gnu.ai.mit.edu>\n\n\t* regex.c (re_match_2_internal):\n\tRename label `succeed' to `succed_label'.\n\n\t* xfns.c (Fx_synchronize): Fix doc string syntax.\n\n\t* xmenu.c: Don't include ../oldXMenu/XMenu.h if USE_X_TOOLKIT.\n\n\t* Makefile.in.in: Fix erroneous comment syntax.\n\n\t* s/ultrix4-3.h: New file.\n\n\t* systty.h: Have just one conditional to include unistd.h.\n\tTest NEED_UNISTD_H, not AIX and IRIX4.\n\t(UNISTD_H_INCLUDED): Don't define or test this.\n\t* m/ibm370aix.h (NEED_UNISTD_H): Defined.\n\t* s/aix3-1.h (NEED_UNISTD_H): Defined.\n\t* s/irix4-0.h (NEED_UNISTD_H): Define.\n\n\t* fileio.c (internal_delete_file, internal_delete_file_1):\n\tNew functions.\n\t* buffer.c (Fkill_buffer): Use internal_delete_file.\n\t* callproc.c (delete_temp_file): Use internal_delete_file.\n\n1994-11-25  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>\n\n\t* search.c (search_regs_saved): Don't initialize; it dumps as pure.\n\n1994-11-24  Francesco Potort\u00ec  <pot@cnuce.cnr.it>\n\n\t* m/delta.h (C_SWITCH_MACHINE): -inline-functions removed,\n\tbecause the compiler shipped with R3V7 is not stable.\n\n1994-11-24  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keyboard.c (command_loop_1): Use safe_run_hooks to run\n\tdeferred-action-function.\n\t(Qdeferred_action_function): New variable.\n\t(syms_of_keyboard): Initialize and staticpro Qdeferred_action_function.\n\n1994-11-23  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keyboard.c (syms_of_keyboard): Doc fix.\n\n\t* fns.c (Fy_or_n_p): Handle exit-prefix in query-replace-map.\n\n1994-11-22  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* search.c (save_search_regs): Add declaration.\n\n\t* minibuf.c (Fminibuffer_complete_and_exit):\n\tCatch errors in do_completion.\n\t(complete_and_exit_1, complete_and_exit_2): New subroutines.\n\n\t* s/aix4.h: New file.\n\t* s/aix3-1.h (AIXHFT): Define.\n\t* m/ibmrs6000.h (OBJECTS_MACHINE): Define only if AIXHFT.\n\n\t* sysdep.c (init_sys_modes): Test AIXHFT, not AIX.\n\t(reset_sys_modes): Test AIXHFT.\n\t(hft_init, hft_reset): Test AIXHFT, not AIX.\n\n1994-11-21  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* window.c (Fdisplay_buffer): Use `b' to read existing buffer name.\n\n1994-11-21  David J. MacKenzie  (djm@mole.gnu.ai.mit.edu)\n\n\t* config.h.in: Add #undefs for --with-pop, --with-kerberos, and\n\t--with-hesiod.\n\n1994-11-19  Francesco Potort\u00ec  <pot@cnuce.cnr.it>\n\n\t* lisp.h (running_asynch_code): New global flag.\n\t* emacs.c (running_asynch_code): New global flag.\n\t(main): Initialize it.\n\t* process.c (read_process_output, exec_sentinel): Set and\n\treset the running_asynch_code global flag and restore match data.\n\n\t* search.c (Flooking_at, Fstring_match, search_buffer,\n\tFstore_match_data): Save the match data if a filter or a sentinel\n\tis running.\n\t(search_regs_saved, saved_search_regs): New variables.\n\t(save_search_regs, restore_match_data): New functions.\n\n1994-11-19  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* emacs.c (sort_args): New function.\n\t(main): Call sort_args.\n\tCheck for -d/-display after -nw, -batch, -help.\n\tAccept --display, with arg attached or separate.\n\n1994-11-18  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* filelock.c (init_filelock): Add missing semicolon.\n\n1994-11-18  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* indent.c (recompute_width_table): Do the right thing if no previous\n\ttable existed.\n\tFix Lisp_Object vs. integer problem.\n\t(width_run_cache_on_off): Let recompute_width_table create the vector.\n\n1994-11-17  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* lisp.h (enum Lisp_Misc_Type): Rename Lisp_Vector to\n\tLisp_Vectorlike.  Mark Lisp_Window_Configuration as obsolete.\n\t(PSEUDOVECTOR_FLAG, PSEUDOVECTOR_SIZE_MASK, PVEC_BUFFER,\n\tPVEC_PROCESS, PVEC_FRAME, PVEC_COMPILED, PVEC_WINDOW,\n\tPVEC_WINDOW_CONFIGURATION): New constants.\n\t(XSETPSEUDOVECTOR, PSEUDOVECTORP, VECTORLIKEP): New macros.\n\t(XSETVECTOR, XSETWINDOW_CONFIGURATION, VECTORP,\n\tWINDOW_CONFIGURATIONP): Use the new convention.\n\t(XSETCOMPILED): New macro.\n\t* print.c (print): Use type test macros.\n\t* keymap.c (Fsingle_key_description): Likewise.\n\t* doc.c (Fdocumentation): Likewise.\n\t* alloc.c (Fpurecopy): Likewise.\n\t(mark_object): Use the new pseudovector convention.\n\t* fns.c (Fvconcat, concat): Use Lisp_Vectorlike.\n\t* ntinevt.c (SET_FRAME): Use accessor macros.\n\t(key_event, do_mouse_event): Likewise.\n\n1994-11-17  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* filelock.c (init_filelock): Always copy lock_path.\n\t(lock_dir, superlock_file, MAKE_LOCK_NAME):\n\tRenamed from lock_path, superlock_path, MAKE_LOCK_PATH.\n\n1994-11-16  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* s/domain.h: New file.\n\n1994-11-16  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>\n\n\t* s/gnu.h [NOT_C_CODE]: Include fcntl.h.\n\n1994-11-16  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xdisp.c (try_window, display_text_line): Undo previous change.\n\n\t* dired.c (Fdirectory_files): Pass new arg to `compile_pattern'.\n\n\t* search.c (struct regexp_cache): New field `posix'.\n\t(compile_pattern_1): New arg `posix'.  Controls the syntax spec\n\tfor parsing; also record it in the cache.\n\t(compile_pattern): New arg `posix'.\n\t(looking_at_1, string_match_1, fast_string_match): Pass 0 for new arg.\n\t(search_buffer): New arg `posix'.  Now static.\n\t(search_command): New arg `posix'.  All callers changed.\n\t(Fposix_search_forward, Fposix_search_backward): New functions.\n\t(string_match_1, looking_at_1): New subroutines broken out.\n\t(Fstring_match, Flooking_at): Use them.\n\t(Fposix_string_match, Fposix_looking_at): New functions.\n\t(syms_of_search): defsubr new functions.\n\n1994-11-16  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>\n\n\t* xdisp.c (try_window): Don't pass window to Fget_char_property;\n\tpass its buffer.\n\t(display_text_line): Likewise.\n\n1994-11-16  Francesco Potort\u00ec  (pot@cnuce.cnr.it)\n\n\t* Makefile.in.in (TAGS): The new etags allows tagging DEFVARs.\n\n1994-11-15  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* lread.c (Fload): Call Fsubstitute_in_file_name after trying handler.\n\n\t* fileio.c (Fread_file_name_internal): Protect orig_string.\n\n1994-11-15  enami tsugutomo  <enami@sys.ptg.sony.co.jp>\n\n\t* keyboard.c (Fopen_dribble_file): Call fclose only when\n\tdribble is non zero.\n\n1994-11-15  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* keymap.c (access_keymap): Use type test macros.\n\n\t* alloc.c (Fmake_vector): Call allocate_vectorlike.\n\t(allocate_vectorlike): New function, extracted from Fmake_vector.\n\t* lisp.h: Declare allocate_vectorlike.\n\t(VECSIZE): New macro.\n\t* process.c (make_process): Use allocate_vectorlike and VECSIZE.\n\t* frame.c (make_frame): Likewise.\n\t* window.c (make_dummy_parent, make_window): Likewise.\n\t(Fcurrent_window_configuration): Likewise.\n\t(SAVE_WINDOW_DATA_SIZE): Macro deleted.\n\n\t* lisp.h: Delete declaration of Farray_length.\n\t* data.c (Farray_length): Delete this obsolete function.\n\t(Faref, Faset): If object is a string, use XSTRING, not XVECTOR.\n\t* fns.c (Flength): Don't call Farray_length, just use size field.\n\n\t* xterm.h (XSCROLL_BAR): Extract from Lisp_Vector, not generic pointer.\n\n\t* xselect.c (wait_for_property_change): Encode location as a cons\n\tof two integers instead of lying about the type.\n\t(wait_for_property_change_unwind): Decode it likewise.\n\n\t* eval.c (Finteractive_p): Use XSUBR instead of its expansion.\n\n\t* lisp.h (GC_INTEGERP, etc): New type-test macros for use during GC.\n\t* buffer.h (OVERLAY_POSITION): Use the new type-test macros.\n\t* process.c (NETCONN_P, kill_buffer_processes): Likewise.\n\t* buffer.c (overlays_at): Likewise.\n\t* filelock.c (unlock_all_files): Likewise.\n\t* xfns.c (x_window_to_frame): Likewise.\n\t(x_any_window_to_frame, x_top_window_to_frame): Likewise.\n\t* fileio.c (Fdo_auto_save): Likewise.\n\n\t* xfaces.c (Fpixmap_spec_p): Avoid function calls and assignments\n\tas arguments to a type-test macro.\n\t* textprop.c (PLIST_ELT_P): Likewise.\n\t* keymap.c (current_minor_maps): Likewise.\n\n\t* lisp.h (NATNUMP): New macro.\n\t(CHECK_NATNUM): Use that macro instead of its expansion.\n\t* data.c (Fnatnump): Likewise.\n\t* xfns.c (x_set_frame_parameters): Likewise.\n\t* keymap.c (access_keymap, store_in_keymap): Likewise.\n\t* doc.c (Fdocumentation): Likewise.\n\t* alloc.c (Fmake_list): Use CHECK_NATNUM instead of its expansion.\n\tNow signals using `wholenump' instead of `natnump'.\n\t(Fmake_vector, Fmake_string): Likewise.\n\n\t* data.c (syms_of_data): Set Qwholenump as function, not variable.\n\n\t* alloc.c (free_float): Don't assume XFASTINT accesses the raw bits.\n\t(make_float, free_cons, Fcons, Fmake_symbol, gc_sweep): Likewise.\n\n1994-11-15  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xterm.c (x_mouse_leave): New function broken out of XTread_socket.\n\tWhen x_focus_event_frame is nonzero, assume that frame gets focus.\n\t(XTread_socket): Use x_mouse_leave for LeaveNotify.\n\t* xmenu.c (xmenu_show): Call x_mouse_leave.\n\n\t* fileio.c (Fsubstitute_in_file_name): Run a handler.\n\t(Qsubstitute_in_file_name): New variable.\n\t(syms_of_fileio): Set it up.\n\n\t* lread.c (read_escape): For \\S-a, return A.\n\n\t* buffer.c (Frename_buffer): Rename arg NAME to NEWNAME.\n\n1994-11-14  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* s/freebsd.h (LD_SWITCH_SYSTEM): Add -dc and -dp.\n\t(HAVE_GETPAGESIZE): Defined.\n\n\t* sysdep.c (init_sys_modes): Maybe call tcflow.\n\n1994-11-14  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* lisp.h (enum Lisp_Misc_Type): Add new enumeration Lisp_Misc_Overlay.\n\t(enum Lisp_Type): Delete the corresponding enumeration from here.\n\t(struct Lisp_Overlay): New structure.\n\t(XOVERLAY, OVERLAYP): Access the new structure.\n\t(union Lisp_Misc): Add new member.\n\t* buffer.h (OVERLAY_START, OVERLAY_END): Use the new substructure.\n\t* alloc.c (mark_object, gc_sweep): Likewise.\n\t* print.c (print): Likewise.\n\t* buffer.c (Fmake_overlay): Likewise.\n\t(Foverlay_properties, Foverlay_get, Foverlay_put): Likewise.\n\t* fns.c (internal_equal): Likewise.\n\tSimplify by returning int.\n\t(Fequal): Use new interface to internal_equal.\n\n\t* buffer.c (list_buffers_1): Use PT, not point.\n\n1994-11-14  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* fileio.c (Finsert_file_contents): Init not_regular at the beginning.\n\n1994-11-14  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* buffer.c (Fkill_all_local_variables): Use XBUFFER_LOCAL_VALUE,\n\tnot XCONS.\n\n1994-11-14  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>\n\n\t* s/gnu.h (A_TEXT_OFFSET): Macro removed.\n\t(A_TEXT_SEEK): Define to just sizeof (struct exec).\n\n1994-11-14  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* lread.c (defvar_int): Use accessor macro.\n\t(defvar_bool, defvar_lisp_nopro, defvar_per_buffer): Likewise.\n\n1994-11-13  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xfaces.c (load_pixmap): Handle bitmap_id < 0.  F is a FRAME_PTR.\n\n\t* frame.c (syms_of_frame): Fix typo.\n\n\t* minibuf.c (Fdisplay_completion_list): Update COLUMN unconditionally.\n\tIf a name is long, put it on its own line.\n\n1994-11-13  Brendan Kehoe  (brendan@lisa.cygnus.com)\n\n\t* s/hpux9.h (C_SWITCH_SYSTEM) [__GNUC__]: Set -D_BSD to get the\n\tcorrect definitions from sys/wait.h.\n\n1994-11-12  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* frame.c (syms_of_frame): Doc fix for default-frame-alist.\n\n1994-11-11  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* fileio.c (Finsert_file_contents): If VISIT, set the buffer components\n\tsuch as the filename even before signaling error for non-regular file.\n\n\t* s/iris3-5.h, s/iris3-6.h (MAIL_USE_FLOCK): Defined.\n\t* s/irix3-3.h, s/irix5-0.h (MAIL_USE_FLOCK): Defined.\n\t* s/irix5-2.h: New file.\n\n\t* m/paragon.h: New file.\n\n1994-11-11  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* lisp.h (enum Lisp_Misc_Type): Add new enumerations\n\tLisp_Misc_Buffer_Local_Value and Lisp_Misc_Some_Buffer_Local_Value.\n\t(enum Lisp_Type): Delete the corresponding enumerations from here.\n\t(struct Lisp_Buffer_Local_Value): New structure.\n\t(XBUFFER_LOCAL_VALUE): Access the new structure.\n\t(BUFFER_LOCAL_VALUEP, BUFFER_SOME_LOCAL_VALUEP): Likewise.\n\t(union Lisp_Misc): Add new member.\n\t* alloc.c (mark_object): New code to handle buffer-local substructure.\n\t(gc_sweep): Generalize marker code to handle other substructures.\n\t* bytecode.c (Fbyte_code): Special case for buffer-local objects is\n\tnow handled by the more general test.  Simplify.\n\t* buffer.c (set_buffer_internal): Use XBUFFER_LOCAL_VALUE, not XCONS.\n\t* data.c (store_symval_forwarding): Likewise.\n\t(swap_in_symval_forwarding, Fset, default_value, Fset_default,\n\tFkill_local_variable): Likewise.\n\t(Fmake_variable_buffer_local): Use the new substructure.\n\t(Fmake_local_variable): Likewise.\n\n1994-11-10  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* process.c (create_process) [OSF1]: Use setpgid, not setpgrp.\n\n1994-11-09  Boris Goldowsky  <boris@cs.rochester.edu>\n\n\t* cmds.c (Fnewline): Always use insert_and_inherit.\n\n1994-11-09  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* lisp.h (FRAMEP): Use the second definition whenever HAVE_MOUSE.\n\n\t* keyboard.c (tracking_off): Test old value with NILP.\n\tRestore the old value whatever it may be.\n\t(syms_of_keyboard): Use DEFVAR_LISP for track-mouse.\n\n1994-11-09  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* data.c (Fboundp, find_symbol_value): Use type test macros\n\tinstead of checking XTYPE directly.\n\n\t* keyboard.c (print_help): Set help-mode in *Help* buffer.\n\t* keymap.c (describe_buffer_bindings): Likewise.\n\t* syntax.c (describe_syntax_1): Likewise.\n\n1994-11-08  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>\n\n\t* keyboard.c (EVENT_QUEUES_EMPTY): Only test do_mouse_tracking and\n\tmouse_moved #ifdef HAVE_MOUSE.\n\t(Ftrack_mouse): Protect with #ifdef HAVE_MOUSE.\n\t(syms_of_keyboard): Protect initialization of do_mouse_tracking,\n\tdefsubr of Strack_mouse, and DEFVAR of track-mouse with #ifdef\n\tHAVE_MOUSE.\n\n1994-11-07  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* frame.c (Fset_frame_height): Compare against height, not width.\n\n1994-11-07  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>\n\n\t* keyboard.c: Move decl of input_fd outside of #ifdef\n\tHAVE_X_WINDOWS.\n\n1994-11-03  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* xterm.c (XTread_socket): Generate iconify and deiconify events.\n\n1994-11-03  Geoff Voelker  <voelker@cs.washington.edu>\n\n\t* m/intel386.h (VIRT_ADDR_VARIES) [WINDOWSNT]: Defined.\n\t(DATA_END) [WINDOWSNT]: Defined.\n\t(DATA_START) [WINDOWSNT]: Defined.\n\t(HAVE_ALLOCA) [WINDOWSNT]: Defined.\n\n\t* s/windowsnt.h: Include malloc.h.\n\t(MODE_LINE_BINARY_TEXT): Defined.\n\t(HAVE_MOUSE): Defined.\n\n\t* ntheap.c (sbrk): Allow request sizes to be different than the\n\tpage size.\n\n\t* makefile.nt: Changed references of m\\m-windowsnt.h to\n\tm\\intel386.h and of s\\s-windowsnt.h to s\\windowsnt.h.\n\n1994-11-01  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* xfns.c (Fx_list_fonts): Don't bother to retrieve font info when\n\tthere's no size_ref to compare it against.\n\n\t* editfns.c (Fdecode_time): Fix Lisp_Object vs. integer problems.\n\tDon't use tm_gmtoff; it's not portable.\n\n\t* lisp.h: Leave DEVICE_SEP undefined by default.\n\n1994-11-01  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* buffer.c (init_buffer): Fix error message syntax.\n\n\t* fileio.c (Fsubstitute_in_file_name): Add missing #endif.\n\n\t* lread.c: Don't include ctype.h.\n\t(isfloat_string, read1): Don't use isdigit.\n\n\t* editfns.c (Fdecode_time): Change one XFASTINT to XINT.\n\n\t* s/windowsnt.h (SYSTEM_PURESIZE_EXTRA): Defined.\n\n1994-10-31  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* xfns.c (x_window): Make ibw 0 by default.\n\n1994-10-31  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* xterm.c (XTclear_end_of_line): Finish the line dance here too,\n\tjust as was done in XTwrite_glyphs.\n\n\t* xdisp.c (column_number_displayed): New variable.\n\t(redisplay, redisplay_window): If that var is set, do mode line.\n\t(display_mode_line): Unset the var.\n\t(decode_mode_spec): Set the var if %c was seen.\n\n1994-10-30  Geoff Voelker  <voelker@cs.washington.edu>\n\n\t* makefile.nt: New file.\n\t* nt.c, nt.h: New files.\n\t* ntheap.c, ntheap.h: New files.\n\t* ntinevt.c, ntinevt.h: New files.\n\t* ntproc.c, ntterm.c: New files.\n\n\t* m/windowsnt.h, s/windowsnt.h: New files.\n\n\t* nt.c: New file.\n\n\t* makefile.nt:New file.\n\n\t* lisp.h (DEVICE_SEP, DIRECTORY_SEP, IS_DEVICE_SEP)\n\t(IS_DIRECTORY_SEP, IS_ANY_SEP): New macros, defined if not already def.\n\n\t* s/msdos.h (DOS_NT): Defined.\n\n\t* term.c (term_init) [WINDOWSNT]: Do some Windows-specific\n\tinitialization, then skip the rest of the code.\n\t(FRAME_TERMCAP_P) [WINDOWSNT]: Always return 0.\n\n\t* systty.h: Test DOS_NT, not MSDOS.\n\n\t* syssignal.h [WINDOWSNT] (EMACS_KILLPG): Use win32_kill_process.\n\n\t* sysdep.c [WINDOWSNT]: Add includes for NT.\n\tDefine _P_WAIT.  Declare _spawnlp, _getpid.\n\t[WINDOWSNT] (select, strerror, vfork): Don't use these definitions.\n\n\t* sysdep.c (init_sys_modes): Test DOS_NT, not MSDOS.\n\t(emacs_get_tty, emacs_set_tty,(child_setup_tty, init_baud_rate): Ditto.\n\n\t* sysdep.c (sys_subshell) [WINDOWSNT]: Use _spawnlp. not vfork.\n\t(wait_for_termination) [WINDOWSNT]: Use wait.\n\t(discard_tty_input) [WINDOWSNT]: Do nothing at all.\n\n\t* process.c: Use macros IS_ANY_SEP, IS_DIRECTORY_SEP,\n\tIS_DEVICE_SEP, DIRECTORY_SEP, and DEVICE_SEP.\n\t[WINDOWSNT]: Add includes.  Don't define sys_siglist.\n\n\t* process.c (sigchld_handler): Work around bug in MS C compiler.\n\t(sigchld_handler) [WINDOWSNT]: Do not call signal.\n\t(signal_process) [WINDOWSNT]: Use win32_kill_process instead of kill.\n\t(read_process_output) [WINDOWSNT]: Use read_child_output instead of\n\tread.\n\n\t* process.c (create_process) [WINDOWSNT]: Use\n\tpipe_with_inherited_out  and pipe_with_inherited_in.\n\tUse the pid returned by child_setup.  Deal with not having vfork,\n\tCall register_child.\n\t(close_process_descs): Do nothing if WINDOWSNT.\n\n\t* process.c (proc_buffer_char): No longer static.\n\n\t* ndir.h (MAXNAMLEN) [WINDOWSNT]: Define as 255.\n\n\t* mem-limits.h [WINDOWSNT]: Don't include vlimit.h.\n\t(get_lim_data): Alternate definition for WINDOWSNT.\n\n\t* lread.c: Change explicit uses of the Unix directory separator\n\t'/' to uses of the macros IS_ANY_SEP, IS_DIRECTORY_SEP,\n\tIS_DEVICE_SEP, DIRECTORY_SEP, and DEVICE_SEP.\n\n\t* lread.c (init_lread) [WINDOWSNT]: Disable warnings about\n\tdirectories in the load path not existing.\n\n\t* lread.c (load): Test DOS_NT instead of MSDOS.\n\n\t* keyboard.c (read_key_sequence): Use flags instead of gotos to\n\tenable the Microsoft C compiler to compile the routine.\n\n\t* keyboard.c (read_avail_input) [WINDOWSNT]: Just return 0.\n\n\t* fileio.c: Change explicit uses of the Unix directory separator\n\t'/' to uses of the macros IS_ANY_SEP, IS_DIRECTORY_SEP,\n\tIS_DEVICE_SEP, DIRECTORY_SEP, and DEVICE_SEP.\n\n\t* fileio.c [WINDOWSNT]: Don't define HAVE_FSYNC; add includes for NT.\n\n\t* fileio.c (Ffile_name_absolute_p): Test DOS_NT instead of MSDOS.\n\t(Fwrite_region, Fdo_auto_save, Ffile_modes): Likewise.\n\n\t* fileio.c (Qfind_buffer_file_type): Test DOS_NT instead of MSDOS.\n\t(syms_of_files): Likewise.\n\t(Finsert_file_types): Test DOS_NT instead of MSDOS.\n\tRename local var try to trytry.\n\n\t* fileio.c (Fadd_name_to_file): Always fail.\n\t(Frename_file) [WINDOWSNT]: Use MoveFile, not link and unlink,\n\tand check for both ERROR_FILE_EXISTS and ERROR_ALREADY_EXISTS.\n\t(Fmake_directory_internal) [WINDOWSNT]: Invoke mkdir without the mask.\n\n\t* fileio.c (Fexpand_file_name): Test DOS_NT, not MSDOS.\n\t(Fexpand_file_name) [WINDOWSNT]: Accept // or \\\\ at start.\n\tCall dostonunix_filename for HOME envvar, for ~USER.\n\tQuote directory separators found in environment variables.\n\t(Fsubstitute_in_file_name): Test DOS_NT instead of MSDOS.\n\t(Fsubstitute_in_file_name) [WINDOWSNT]: Accept // or \\\\ at start.\n\tWork around alloca bug in MS compiler.\n\t(Ffile_name_directory): Test DOS_NT instead of MSDOS sometimes.\n\tBut don't insert a drive letter on windows.\n\n\t* emacs.c (Fdump_emacs): Don't reset the data start address by\n\tinvoking memory_warnings just before unexec-ing.\n\n\t* editfns.c (init_editfns): Get the username from the environment\n\tvariable USERNAME instead of USER.\n\n\t* dired.c: Use macros IS_ANY_SEP, IS_DIRECTORY_SEP, and DIRECTORY_SEP.\n\t(file-attributes) [WINDOWSNT]: Set st_gid and st_uid to Qnil; use\n\tget_inode_and_device_vals to fake up inode number and device number.\n\n\t* callproc.c (getenv_internal) [WINDOWSNT]: Use strnicmp, not bcmp.\n\n\t* callproc.c (child_setup): Use IS_DIRECTORY_SEP.\n\t[WINDOWSNT]: Call prepare_standard_handles.  Use spawnve.\n\tUse reset_standard_handles.\n\n\t* callproc.c (Fcall_process_region): Test DOS_NT, not MSDOS.\n\t(Fcall_process) [WINDOWSNT]: Call pipe_with_inherited_out.\n\tUse the return value of child_setup to get the child's pid;\n\tdon't call vfork etc. explicitly.\n\n\t* callproc.c [WINDOWSNT]: Add includes.  Define NOMINMAX, _P_NOWAIT.\n\t(Vbinary_process_input, Vbinary_process_output)\n\t(Qbuffer_file_type): Test DOS_NT, not MSDOS.\n\t(syms_of_callproc): Test DOS_NT, not MSDOS.\n\n\t* callproc.c (init_callproc): Test DOS_NT, not MSDOS.\n\n\t* buffer.h (struct buffer): Test DOS_NT, not MSDOS.\n\n\t* buffer.c (init_buffer): Use DIRECTORY_SEP, IS_DIRECTORY_SEP macros,\n\tnot character constants.\n\t(init_buffer_once, syms_of_buffer): Test DOS_NT, not MSDOS.\n\n1994-10-30  Erik Naggum  <erik@naggum.no>\n\n\t* editfns.c (Fdecode_time): New function.\n\t(syms_of_editfns): defsubr it.\n\n1994-10-30  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* keyboard.c (make_lispy_event): Record double and triple for drags.\n\tPut in click_modifier for multi-clicks.\n\t(read_key_sequence): Convert double-drag first to plan drag,\n\tand only later try a click.\n\n\t* unexsunos4.c (unexec): Don't print number of pure bytes used.\n\n1994-10-29  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xfns.c (Fx_create_frame):\n\tDon't set xlwmenu_default_font if not USE_X_TOOLKIT.\n\n\t* puresize.h (BASE_PURESIZE): Increment MULTI_FRAME value.\n\n1994-10-29  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* keyboard.c (read_avail_input): Fix Lisp_Object vs. int problem.\n\n1994-10-29  Richard Stallman  <rms@pogo.gnu.ai.mit.edu>\n\n\t* xterm.c (fast_find_position): Special case if POS is end of buffer.\n\n\t* xterm.c (x_delete_display): Call XrmDestroyDatabase.\n\n1994-10-28  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* s/osf1.h (LD_SWITCH_SYSTEM): Definitions deleted.\n\n\t* m/alpha.h (LD_SWITCH_MACHINE): New definition.\n\n1994-10-28  Rainer Schoepf  <Schoepf@Uni-Mainz.de>\n\n\t* s/osf1.h (INTERRUPTIBLE_IO, INTERRUPTIBLE_OPEN, INTERRUPTIBLE_CLOSE)\n\t(read, write, open, close): New definitions.\n\n1994-10-27  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* buffer.c (Fset_buffer_major_mode): New function.  Set the\n\tdefault major mode here.\n\t(Fget_buffer_create): Not here.\n\t(Fswitch_to_buffer): Call Fset_buffer_major_mode.\n\t(syms_of_buffer): defsubr the new function.\n\n\t* termhooks.h (iconify_event, deiconify_event): New enum event_kind's.\n\t* keyboard.c (kbd_buffer_get_event): Translate them to lispy events.\n\t(head_table): Initialize those new symbols appropriately.\n\t* frame.c (keys_of_frame): Bind those events to 'ignore, since the\n\twindow manager has already done the work.\n\n\t* xmenu.c (set_frame_menubar): Don't copy string during GC risk.\n\n1994-10-26  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* config.h.in (HAVE_GETPAGESIZE): Add #undef.\n\t* m/sequent-ptx.h (HAVE_GETPAGESIZE): Explicitly #undef.\n\t* s/linux.h, s/msdos.h (HAVE_GETPAGESIZE): Definition deleted.\n\t* m/symmetry.h (HAVE_GETPAGESIZE): Definition deleted.\n\n\t* xterm.c (x_destroy_window): Rewrite to fetch dpyinfo just once.\n\n\t* xfns.c (Fx_create_frame): Set xlwmenu_default_font.\n\n\t* widget.c (set_frame_size): Set app_shell and wmshell the same.\n\n\t* xterm.c [USE_X_TOOLKIT]: Make application context explicitly\n\tand support multiple top-level shells.\n\t(x_initialize): Call XtToolkitInitialize, XtCreateApplicationContext;\n\tdon't open display or make a shell.\n\t(x_term_init): Call XtOpenDisplay.\n\n\t* xfns.c [USE_X_TOOLKIT] (x_window): Use XtAppCreateShell.\n\t(Xt_app_shell, Xt_app_con): Variables deleted.\n\t(Fx_close_connection) [USE_X_TOOLKIT]: Call XtCloseDisplay.\n\n\t* xterm.c (x_scroll_bar_create): Use XMapRaised directly.\n\t(x_make_frame_visible, x_iconify_frame): Likewise.\n\t(XMapWindow): Macro definition deleted.\n\t(METABIT): Macro deleted.\n\t(MAXDESC, FD_SETSIZE, FD_SET, FD_CLEAR, FD_ZERO, FD_ISSET): Likewise.\n\t(x_id_name): Variable deleted.\n\n\t* process.c (status_message): Add a cast.\n\t(sigchld_handler): Add a cast.\n\n\t* xfns.c (x_window): Pass new arg f to hack_wm_protocols.\n\n\t* xdisp.c (display_text_line): Truncate the minibuf_prompt if nec.\n\n1994-10-26  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* window.c (syms_of_window): Fix missing \\n\\'s.\n\n1994-10-26  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xselect.c (x_own_selection, x_get_foreign_selection): Change calls\n\tto x_catch_errors and friends.\n\n\t* xfns.c (x_set_mouse_color, x_real_positions): Change calls\n\tto x_catch_errors and friends.\n\n\t* xterm.c (x_catch_errors, x_check_errors, x_had_errors_p)\n\t(x_uncatch_errors): Make the argument a display, not a frame.\n\n\t* xterm.c (XTread_socket_fake_io_error): New variable.\n\t(XTread_socket): Obey XTread_socket_fake_io_error.\n\n1994-10-25  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* process.c (list_processes_1): Print tty name.\n\n1994-10-25  Karl Fogel  (kfogel@phylo.life.uiuc.edu)\n\n\t* window.c (Vtemp_buffer_show_function): Doc fix.\n\n1994-10-25  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xterm.h: Delete X10 code.\n\n\t* xfns.c (Fx_create_frame): Don't increment reference_count\n\tuntil the frame is put on the frame list.\n\n\t* xterm.c (x_initialize): Init x_noop_count, x_focus_frame\n\tand x_highlight_frame here.\n\t(x_term_init): Not here.\n\n\t* xterm.c (x_term_init): Open the connection first thing;\n\tif that fails, don't allocate dpyinfo.\n\n1994-10-24  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* xdisp.c (decode_mode_spec): New spec %c, for current column.\n\n1994-10-24  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xselect.c (Fx_selection_exists_p): Fix backwards if.\n\n\t* xterm.c (x_delete_display): New function.\n\t(x_connection_closed): New args dpyinfo and error_message.\n\tDelete all frames on the dead display\n\tand all frames using them for minibuffers.\n\tCall x_delete_display.\n\tMaybe signal a Lisp error.\n\t* xfns.c (Fx_close_connection): Call x_delete_display.\n\n\t* xselect.c (Fx_selection_exists_p):\n\tIf selected_frame isn't an x frame, return nil.\n\n\t* keyboard.c (record_char): New subroutine.\n\t(read_char): Use record_char.\n\tSplit up menu-bar mouse click events here.\n\tCall record_char for both halves; likewise echo_char\n\tand add_command_key.\n\n1994-10-23  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xfns.c (x_display_info_for_name, Fx_open_connection):\n\tSignal error if x_term_init fails.\n\t(Fx_open_connection): New arg must_succeed.\n\n\t* xfns.c (x_real_positions): Catch errors and retry if error happens.\n\tNo need to block input here.\n\n\t* xterm.c (x_term_init): Don't report error here--just return 0.\n\n\t* xfns.c (Fx_create_frame): Don't store the frame name\n\ttill after FRAME_X_DISPLAY_INFO is set up.\n\t(Fx_close_connection): Renamed from Fx_close_current_connection\n\n\t* xfns.c: Many doc fixes and Lisp function arg renamings.\n\n\t* xterm.c (x_scroll_bar_report_motion): Store proper value in\n\t*bar_window (the Emacs window, not the X window number).\n\n1994-10-22  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keyboard.c (kbd_buffer_get_event):\n\tCope if mouse_position_hook does not store anything.\n\n\t* xterm.c (x_scroll_bar_report_motion): Don't clear *fp.\n\n\t* xterm.h (struct x_display_info):\n\tNew fields bitmaps, bitmaps_size, bitmaps_last.\n\t(struct x_bitmap_record): Structure moved here.\n\t* xfns.c (x_bitmaps, x_bitmap_size, x_bitmap_last):\n\tVariables deleted.  Use fields in x_display_info instead.\n\t(x_bitmaps_free): Variable deleted.\n\t(x_destroy_bitmap, x_allocate_bitmap_record): Don't use or set it.\n\t(x_allocate_bitmap_record): New arg f.  Callers changed.\n\t(x_lookup_pixmap): Function deleted.\n\t(x_destroy_all_bitmaps): New function.\n\t(Fx_close_current_connection): Call x_destroy_all_bitmaps.\n\tFree the fonts in the font table.  Free various other data\n\tthat dpyinfo points to.  Avoid using Fdelq.\n\n\t* xterm.c (x_wm_set_icon_pixmap): Use x_bitmap_pixmap.\n\n\t* xterm.c:\n\t(show_mouse_face): New arg dpyinfo.  All callers changed.\n\t(clear_mouse_face): New arg dpyinfo.  All callers changed.\n\n\t* xterm.h (struct font_info): New type.\n\t(struct x_display_info): New fields font_table, font_table_size\n\tand n_fonts.\n\n\t* xterm.h (struct x_display_info): New field scratch_cursor_gc.\n\t* xterm.c (scratch_cursor_gc): Variable deleted.\n\t(dumpglyphs): Use scratch_cursor_gc in x_display_info.\n\n\t* xterm.h (mouse_face_*): New fields.\n\t* xterm.c (mouse_face_*): Variables deleted.\n\tUse fields in x_display_info instead.\n\t* xterm.c (syms_of_xterm): Don't staticpro mouse_face_window.\n\n\t* xterm.c (expose_all_windows, expose_all_icons): Variables deleted.\n\t(BLOCK_INPUT_mask): Variable deleted.\n\n\t* xterm.h (struct x_display_info): New field x_id_name.\n\t* xfns.c (x_set_name, Fx_create_frame): Use x_id_name field.\n\t* xterm.c (x_term_init): Set up x_id_name field.\n\t(x_id_name): Variable deleted.\n\n\t* xterm.c (x_font_table, x_font_table_size, x_n_fonts): Vars deleted.\n\t(x_new_font): Use new fields.\n\t(warp_mouse_on_deiconify): Unused variable deleted.\n\n\t* xterm.c (x_term_init): Set up dpyinfo->xrdb.\n\tSet up dpyinfo->vertical_scroll_bar_cursor.\n\t(x_scroll_bar_create): Use vertical_scroll_bar_cursor slot.\n\t(x_vertical_scroll_bar_cursor): Variable deleted.\n\n\t* xterm.c (x_term_init): Really return dpyinfo.\n\n\t* insdel.c (insert_from_buffer_1): Don't use min.\n\n\t* xterm.c (x_term_init): Call add_keyboard_wait_descriptor,\n\tnot change_keyboard_wait_descriptor.\n\n\t* xfns.c (Fx_close_current_connection):\n\tCall delete_keyboard_wait_descriptor.\n\n\t* process.c: Handle multiple keyboard input descriptors.\n\t(non_keyboard_wait_mask): New variable.\n\t(Fset_process_filter): Update non_keyboard_wait_mask.\n\t(create_process, Fopen_network_stream, deactivate_process):\n\t(init_process, sigchld_handler): Likewise.\n\t(wait_reading_process_input): Maybe use non_keyboard_wait_mask.\n\t(add_keyboard_wait_descriptor):\n\tRenamed from change_keyboard_wait_descriptor.\n\tClear the old descriptor's bit only the first call.\n\t(delete_keyboard_wait_descriptor): New function.\n\t(keyboard_bit_set): New function.\n\t(wait_reading_process_input): Use keyboard_bit_set.\n\tStart the loop over process descs from 0, and explicitly\n\tignore non-process input descs.\n\t(init_process): Don't init keyboard_descriptor.\n\t(keyboard_descriptor): Variable deleted.\n\t(add_keyboard_wait_descriptor): Don't set keyboard_descriptor.\n\t(delete_keyboard_wait_descriptor): New function.\n\n\t* xterm.c (x_term_init): Pass new arg to init_sigio.\n\tDon't set old_fcntl_owner.\n\tDon't call change_input_fd.\n\t(XTread_socket): Loop over displays and process input from each.\n\n\t* sysdep.c: Never use input_fd if using X.\n\t(stuff_char): Do nothing if read_socket_hook.\n\t(setpgrp_of_tty): Function deleted.\n\t(init_sigio): Take fd as argument.  Callers changed.\n\tDon't call request_sigio; do the work here.\n\t(request_sigio, unrequest_sigio): Do nothing if read_socket_hook.\n\t(init_sys_modes): Don't call EMACS_GET_TTY unless we are going\n\tto change the settings.\n\n\t* xfns.c (Fx_close_current_connection): Call check_x_display_info.\n\tDelete the display from x_display_list and x_display_name_list.\n\t(Fx_display_list): New function.\n\t(syms_of_xfns): defsubr it.\n\n\t* xterm.c (x_display_name_list): New variable.\n\t(syms_of_xterm): staticpro it.\n\tDon't staticpro slots in the_x_screen.\n\t(x_term_init): Update x_display_name_list along with x_display_list.\n\tActually malloc the x_display_info.\n\t(the_x_screen): Variable deleted.\n\n\t* xfns.c (Fx_list_fonts): Use `name_list_element' field.\n\t(x_display_info_for_name): Scan x_display_name_list\n\talong with x_display_list.\n\n\t* xterm.h (struct x_display_info): Replace elements `name'\n\tand `face_list_cache' with one cons cell `name_list_element'.\n\t(x_display_name_list): Variable declared.\n\n1994-10-22  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* insdel.c (insert_from_buffer, insert_from_buffer_1): New functions.\n\t* editfns.c (Finsert_buffer_substring): Use insert_from_buffer\n\tinstead of insert.\n\n1994-10-21  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xmenu.c (xmenu_show): Get the screen number for DisplayHeight\n\tand DisplayWidth.  Use root_window slot in the x_display_info.\n\n\t* xfns.c (x_sync): Take frame ptr as arg.\n\t* frame.c (other_visible_frames): Pass a frame ptr to x_sync.\n\t* xterm.c (x_make_frame_visible, x_make_frame_invisible):\n\tPass a frame ptr to x_sync.\n\n1994-10-21  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* insdel.c (insert_before_markers): Don't inherit;\n\tinsert_before_markers_and_inherit does that.\n\n1994-10-21  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* dispnew.c (Fframe_or_buffer_changed_p):\n\tDetect deletion of a buffer at the end of the buffer list.\n\n\t* xterm.c (x_term_init): Init all the components of dpyinfo.\n\n\t* sysdep.c (input_fd): No longer static.\n\t* keyboard.c (read_avail_input): Use input_fd.\n\n1994-10-20  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xfns.c (check_x_display_info): New function.\n\t(Fx_create_frame): Use it.\n\t(Fx_display_*, Fx_server_*): Use fields in the x_display_info,\n\tnot static variables.  Call check_x_display_info.\n\n1994-10-20  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* window.c (Fdisplay_buffer): Make old_selected_window a Lisp_Object.\n\n1994-10-20  Tom Tromey  <tromey@drip.colorado.edu>\n\n\t* buffer.c (list_buffers_1): Always mark current_buffer read-only.\n\n1994-10-20  Frederic Pierresteguy  <F.Pierresteguy@frcl.bull.fr>\n\n\t* m/dpx2.h (LD_SWITCH_MACHINE): Defined.\n\n1994-10-20  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* term.c (calculate_costs): Call x_screen_planes.\n\t* xfns.c (x_screen_planes): New function.\n\n\t* xterm.h (EMACS_CLASS): Macro moved here.\n\t* xfns.c (EMACS_CLASS): Macro moved to xterm.h.\n\n\t* xfns.c (Qdisplay): New variable.\n\t(syms_of_xfns): Set it up.\n\t(Fx_create_frame): Handle display parameter\n\twhich says where to get the FRAME_X_DISPLAY_INFO.\n\t(x_display_info_for_name): New function.\n\n\t* xterm.c (x_display_info_for_display): New function.\n\n\t* xselect.c (Xatom_*): Variables deleted.\n\tUse slots in x_display_info structure instead.\n\t(symbol_to_x_atom, x_atom_to_symbol):\n\tNew arg dpyinfo.  All callers changed.\n\t(xatoms_of_xselect): Function deleted.\n\n\t* xfns.c (select_visual): New arg dpy.\n\n\t* xterm.h (struct x_display_info): New fields *_mod_mask.\n\t* xterm.c (x_*_mod_mask): Variables deleted.\n\t(x_x_to_emacs_modifiers, x_emacs_to_x_modifiers):\n\tNew arg dpyinfo; all callers changed.\n\tStore the masks in that structure.\n\n\t* xterm.h (struct x_display_info): New field icon_bitmap_id.\n\t* xterm.c (icon_bitmap): Variable deleted.\n\t(x_bitmap_icon): Use icon_bitmap_id in x_display_info.\n\n\t* xterm.c (icon_font_info): Variable deleted.\n\n\t* xterm.h (struct x_display_info): New field `connection'.\n\t* xterm.c (x_term_init): Set up `connection' field.\n\n\t* xterm.h (x_display_list): New variable.\n\t* xterm.c (x_find_modifier_meanings):\n\tArg is now struct x_display_info *.\n\t(x_term_init): Return an x_display_info *.\n\tStore all the data in it, including X atoms and xrdb.\n\tPut the x_display_info structure on x_display_list.\n\tPass name as Lisp_Object.\n\t(the_x_screen): Variable moved here.\n\t(syms_of_xterm): Staticpro parts of the_x_screen.\n\t* xfns.c (Fx_open_connection): Get dpyinfo from x_term_init.\n\tDon't set up atoms, xrdb here.  Pass name as Lisp_Object.\n\t(the_x_screen): Variable moved to xterm.c.\n\t(syms_of_xfns): Don't staticpro it here.\n\n\t* xterm.h (struct x_display_info): New field xrdb.\n\t* xfns.c (xrdb): Variable deleted.\n\t(Fx_get_resource): Use selected_frame's xrdb.\n\t(x_get_resource_string): Likewise.\n\n\t* xterm.h (XExposeRegionEvent): Unused macro deleted.\n\t(XGetWindowInfo, XGetFont, XLoseFont): Unused macros deleted.\n\t(MINWIDTH, MINHEIGHT, MAXWIDTH, MAXHEIGHT): Unused macros deleted.\n\t(MAX_FACES_AND_GLYPHS, Bitmap): Unused macros deleted.\n\t(struct event_queue): Structure deleted (was unused).\n\t(EVENT_BUFFER_SIZE): Macro deleted.\n\n\t* xterm.h (XClear): Macro deleted.  Callers use XClearWindow.\n\t(XWarpMousePointer): Macro deleted.  Callers use XWarpPointer.\n\t(XStuffPending): Macro deleted.  Callers use XPending.\n\t(XHandleError, XHandleIOError): Macros deleted.\n\tCallers use XSet...ErrorHandler.\n\t(XChangeWindowSize): Macro deleted.  Callers use XResizeWindow.\n\t(Color): Macro deleted; replaced with XColor.\n\t(FONT_TYPE): Macro deleted; replaced with XFontStruct.\n\t(PIX_TYPE): Macro deleted; replaced with unsigned long.\n\n\t* xterm.h (FRAME_X_SCREEN): New macro.\n\t(WHITE_PIX_DEFAULT, BLACK_PIX_DEFAULT): Take arg f.\n\t* xfaces.c (unload_color): Pass arg f to WHITE_PIX_DEFAULT\n\tand BLACK_PIX_DEFAULT.\n\n\t* xterm.c (windowinfo): Variable deleted.\n\n\t* xterm.h (ROOT_WINDOW): Macro deleted.\n\t(struct x_display_info): New field root_window.\n\tAll uses changed.\n\n\t* xterm.h (XDISPLAY): Macro deleted.\n\t(XFlushQueue): Macro deleted.  All callers changed.\n\t(DISPLAY_SCREEN_ARG): Macro deleted.\n\t(DISPLAY_CELLS): Macro deleted.\n\t(WINDOWINFO_TYPE): Macro deleted.\n\n\t* xterm.h (struct x_display_info): New fields Xatom...\n\t* xterm.c (Xatom_*): Variables deleted.\n\t(x_iconify_frame, XTread_socket): Get atoms from the x_display_info,\n\n\t* xfns.c (Fx_open_connection): Store the atoms in x_display_info.\n\t(hack_wm_protocols): New arg f.  Get atoms from x_display_info.\n\t(x_window): Get atoms from x_display_info.\n\n\t* xfns.c (Vmouse_depressed, mouse_buffer_offset): Variables deleted.\n\t(syms_of_xfns): Delete Lisp variables too.\n\t(Fx_synchronize): Take frame as arg.\n\t(Fx_close_current_connection): Take frame as arg.   Error is not fatal.\n\t* xterm.c (XTread_socket): Don't update Vmouse_depressed.\n\n\t* xterm.h (struct x_display_info): New field grabbed.\n\t* xterm.c (x_mouse_grabbed): Variable deleted.\n\t(note_mouse_highlight): Use grabbed field instead.\n\t(XTmouse_position, XTread_socket): Likewise.\n\t* xmenu.c (xdialog_show, xmenu_show):\n\tUse grabbed field instead of x_mouse_grabbed.\n\n\t* xfns.c (mouse_timestamp): Variable deleted.\n\n\t* xterm.h (struct x_display_info): Struct renamed from x_screen.\n\t(x_display): x_screen field renamed to display_info.\n\t(FRAME_X_DISPLAY): Use new name.\n\t(FRAME_X_DISPLAY_INFO): Likewise; also renamed from FRAME_X_SCREEN.\n\n\t* xterm.h (struct x_display_info):\n\tNew fields height, width, screen, visual, n_planes.\n\t* xfns.c (screen_visual, x_screen_planes): Variables deleted.\n\t(x_screen, x_screen_height, x_screen_width): Variables deleted.\n\t(Fx_open_connection): Don't set them here.\n\tPut that info in the x_display_info structure.\n\t(x_window): Get the visual from x_display_info structure.\n\t(x_decode_color): Use n_planes from x_display_info structure.\n\t* xterm.c (x_calc_absolute_position, x_wm_set_size_hint):\n\tGet screen height, width from the x_display_info structure.\n\t* xmenu.c (xmenu_show): Use the screen in FRAME_X_DISPLAY_INFO,\n\tnot the default screen.\n\n\t* xterm.c: Use FRAME_X_DISPLAY instead of x_current_display\n\tand XDISPLAY.\n\n\t* xfns.c: Use FRAME_X_DISPLAY instead of x_current_display\n\tand XDISPLAY.\n\t(x_in_use): New variable.\n\t(check_x, using_x_p): Test x_in_use.\n\t(Fx_open_connection): Set x_in_use.\n\t(check_x_frame): New function.\n\t(defined_color): New arg f specifies frame.  Callers changed.\n\t(x_decode_color): New arg f.  All callers changed.\n\t(Fx_color_values, Fx_color_defined_p): New arg FRAME.\n\tUse check_x_frame.\n\t(Fx_list_fonts): Use check_x_frame.\n\n\t* keyboard.c (do_mouse_tracking): Now a FRAME_PTR.\n\t(EVENT_QUEUES_EMPTY, Ftrack_mouse, tracking_off): Changed accordingly.\n\t(kbd_buffer_get_event): Let do_mouse_tracking specify the display\n\tfor mouse tracking.\n\n\t* minibuf.c (read_minibuf): Undo previous change.\n\n1994-10-19  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* window.c (Fdisplay_buffer): If the other window is smaller\n\tthan its peer, even out their heights.\n\n\t* xterm.c (x_catch_errors, x_check_errors, d_errors_p)\n\t(x_uncatch_errors): Take frame as arg.\n\t(x_stop_queuing_selection_requests, x_unqueue_events, x_queue_event)\n\t(x_start_queuing_selection_requests): Take frame as arg.\n\t(x_find_modifier_meanings): New arg `display'.  All callers changed.\n\t(x_scroll_bar_create, x_scroll_bar_set_handle)\n\t(x_scroll_bar_move): New local var f.\n\t(x_scroll_bar_report_motion): Rename arg f to fp.\n\tNew local var f.\n\t(XTmouse_position): Lossage.\n\t(frame_highlight, frame_unhighlight): Arg frame renamed to f.\n\n\t* callproc.c (child_setup): Always use _exit.\n\n\t* xselect.c (x_own_selection, x_get_foreign_selection): Pass frame\n\tto x_catch_errors, x_check_errors, x_uncatch_errors.\n\n\t* xfns.c (x_set_mouse_color): Pass frame to x_catch_errors,\n\tx_check_errors, x_uncatch_errors.\n\n\t* xselect.c (x_get_foreign_selection): Get display from\n\tselected_frame.  Pass frame to x_stop_queuing_selection_requests and\n\tx_start_queuing_selection_requests.\n\t(x_own_selection, Fx_disown_selection_internal, Fx_selection_exists_p)\n\t(Fx_store_cut_buffer_internal, Fx_get_cut_buffer_internal)\n\t(Fx_rotate_cut_buffers_internal): Get display from selected_frame.\n\n\t* xmenu.c: Use FRAME_X_DISPLAY, not XDISPLAY or x_current_display.\n\t(menu_item_equiv_key): Reject equiv sequences\n\tthat start with mouse clicks.\n\n1994-10-19  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* search.c (searchbufs): New variable, replaces searchbuf and\n\tlast_regexp and search_fastmap.\n\t(syms_of_search): Initialize it.\n\t(searchbuf_head): New variable.\n\t(compile_pattern_1): Renamed from compile_pattern and made static.\n\tCopy the regexp string in case the caller modifies it in place later.\n\t(compile_pattern): New code, uses a cached entry if one is available.\n\tThe pattern buffer is now a return value instead of an arg.\n\t(set_search_regs): Set num_regs directly, since there's no active\n\tpattern buffer to pass to re_set_registers.\n\t(Fstore_match_data): Likewise.\n\t(Flooking_at): Use the new calling convention for compile_pattern.\n\t(Fstring_match, fast_string_match, search_buffer): Likewise.\n\t* dired.c (Fdirectory_files): Likewise.\n\n1994-10-18  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keyboard.c (Voverriding_local_map_menu_flag): New variable.\n\t(syms_of_keyboard): Set up Lisp var.\n\t(menu_bar_items): Obey Voverriding_local_map_menu_flag.\n\n\t* ralloc.c (struct heap): New fields first_bloc, last_bloc.\n\t(struct bp): New field heap.\n\t(get_bloc, free_bloc, obtain, r_alloc_sbrk): Update new fields.\n\t(reorder_bloc): New function.\n\t(update_heap_bloc_correspondence):\n\tRenamed from update_heap_free_pointers.  Update new fields.\n\t(relinquish): Add error check for new fields.\n\n\t* Makefile.in.in (SOME_MACHINE_OBJECTS): Add msdos.o and x*.o files.\n\n1994-10-17  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* minibuf.c (read_minibuf): Store the object, not the string, into\n\tthe history variable.\n\n\t* xfns.c (x_set_unsplittable): New function.\n\t(x_frame_parms): Add that function to the table.\n\n\t* xterm.c (do_line_dance): Decrement index only once per loop.\n\n\t* scroll.c (do_line_insertion_deletion_costs): Fix argument order.\n\n1994-10-17  Morten Welinder  <terra@mole.gnu.ai.mit.edu>\n\n\t* fileio.c (Fexpand_file_name) [MSDOS]: Correct the for absolute\n\tdefault directory.\n\n\t* config.h.in [HAVE_X_WINDOWS]: #define HAVE_FACES and HAVE_MOUSE.\n\n\t* dispextern.h: Guard entire file from being include more than once.\n\t[MSDOS]: Include msdos.h.\n\n\t* dispnew.c (direct_output_for_insert): Check HAVE_FACES, not\n\tHAVE_X_WINDOWS.\n\t(selected_frame, last_minibuffer_frame): Doc fix.\n\n\t* dosfns.c (Fset_mouse_position, Fmsdos_mouse_p) [!HAVE_X_WINDOWS]:\n\tNew functions.\n\t(syms_of_dosfns) [!HAVE_X_WINDOWS]: Defsubr them.  Also define\n\tQmsdos_color_translate.\n\t(init_dosfns) [SYSTEM_MALLOC]: Don't call non-existing get_lim_data.\n\n\t* dosfns.h (Qmsdos_color_translate) [!HAVE_X_WINDOWS]: New variable.\n\n\t* editfns.c (init_editfns) [MSDOS]: Let the user name default to\n\t\"root\".\n\n\t* emacs.c (main) [MSDOS && !HAVE_X_WINDOWS]: Call syms_of_xfaces\n\tand syms_of_xmenu.\n\n\t* frame.c [MSDOS]: Include msdos.h.\n\t(Fframep #1) [MSDOS]: Doc change for the following.\n\t(Fframep #2) [MSDOS]: Return 'pc for when termcap is not used.\n\t(Fmouse_position #2) [HAVE_MOUSE]: Return useful information.\n\t(Fframe_parameters #2): Show \"font\" as \"default\".\n\t(Fframe_parameters #2) [MSDOS]: Show fore- and background colors.\n\t(Fmodify_frame_parameters #2) [MSDOS]: Call IT_set_frame_parameters.\n\t(Fframe_list #2): New stub function.\n\t(syms_of_frame #2): defsubr frame_list.\n\t(syms_of_frame #2) [MSDOS]: Initialize the_only_frame.\n\t(Fselected_frame #2): Doc fix.\n\n\t* frame.h [!MULTI_FRAME]: We give up having selected_frame be\n\tan always-zero integer variable.  From now on it will be a\n\tpointer to a `struct frame' just like in the MULTI_FRAME case.\n\t(selected_frame, last_nonminibuf_frame): use FRAME_PTR, not EMACS_INT.\n\t(XFRAME): Redefine to use the_only_frame.\n\t(XSETFRAME): Define to set Lisp value.\n\t(WINDOW_FRAME): Redefine to return Lisp value.\n\t(FOR_EACH_FRAME): Set the frame variable to Lisp value.\n\t(output_method): New method: output_msdos_raw.\n\t(FRAME_TERMCAP_P, FRAME_X_P) [MSDOS]: Define non-stub versions.\n\n\t* keyboard.c (read_char_x_menu_prompt): Include menu code also in\n\tcase MSDOS.\n\t(gobble_input): Complete Sep 15 change.\n\n\t* lisp.h: #define glyph-stuff when HAVE_FACES, not only when\n\tHAVE_X_WINDOWS.\n\t(FRAMEP): Define different versions for MULTI_FRAME and MSDOS.\n\tOtherwise, don't define at all.\n\n\t* Makefile.in.in (MSDOS_SUPPORT): Add faces.elc.\n\t(msdos.o, dosfns.o): Add dependencies.\n\t(MSDOS_OBJ): New set of object files.\n\t(obj): Include MSDOS_OBJ.\n\n\t* msdos.c: #include dispextern.h, termopt.h, and window.h needed\n\tfor the following.\n\t(highlight): New variable.\n\t(rien_du_tout, IT_ring_bell, IT_set_face, IT_write_glyphs,\n\tIT_clear_end_of_line, IT_cursor_to, IT_reassert_line_highlight,\n\tIT_change_line_highlight, IT_update_begin, IT_set_menu_bar_lines,\n\tIT_set_frame_parameters): New functions like their XT_* counterparts.\n\t(internal_terminal_init): Initialize Vwindow_system,\n\tVwindow_system_version, the_only_x_display, and terminal hooks.\n\t(mouse_get_xy): New function.\n\t(mouse_get_pos, mouse_check_moved): Use mouse_get_xy.\n\t(IT_menu_create, IT_menu_make_room, IT_menu_search_pane,\n\tIT_menu_calc_size, IT_menu_display, XMenuCreate, XMenuAddPane,\n\tXMenuAddSelection, XMenuLocate, XMenuActivate, XMenuDestroy,\n\tx_pixel_width, x_pixel_height): New functions.\n\t(init_environment) [HAVE_X_WINDOWS]: Let DISPLAY default to \"unix:0.0\".\n\t(init_environment): Handle the case of a relative argv[0].\n\t(dos_rawgetc): Use XSETFRAME.\n\t(the_only_x_display, x_current_display) [!HAVE_X_WINDOWS]: New\n\tvariables.\n\n\t* msdos.h (XFontStruct, GC, Pixmap, Display, Window) [MSDOS_NO_X]:\n\tDummy types.\n\t(struct face, FACE_HAS_GC, FACE_GC, FACE_FOREGROUND, FACE_BACKGROUND,\n\tFACE_FONT, FACE_STIPPLE, FACE_UNDERLINE_P) [MSDOS_NO_X]: Define like\n\tcorresponding X-versions.\n\t(struct x_display) [MSDOS_NO_X]: Define cut-down version.\n\t(FRAME_PARAM_FACES, FRAME_N_PARAM_FACES, FRAME_DEFAULT_PARAM_FACE,\n\tFRAME_MODE_LINE_PARAM_FACE, FRAME_COMPUTED_FACES,\n\tFRAME_N_COMPUTED_FACES, FRAME_SIZE_COMPUTED_FACES, FRAME_DEFAULT_FACE,\n\tFRAME_MODE_LINE_FACE, x_current_display, XFreeGC, same_size_fonts,\n\tunload_font, unload_color, XGetGeometry, DisplayWidth,\n\tDisplayHeight, XMenuSetAEQ, XMenuSetFreeze, XMenuRecompute,\n\tFONT_WIDTH, check_x, ButtonReleased) [MSDOS_NO_X]: Define suitable\n\tstubs.\n\t(XM_FAILURE, XM_SUCCESS, XM_NO_SELECT, XM_IA_SELECT) [MSDOS_NO_X]:\n\tDefine like old-x-menu versions.\n\tGuard the entire file from being included more than once.\n\t(internal_flush): Correct guarding conditional.\n\tDon't include <time.h>.\n\n\t* puresize.h (SYSTEM_PURESIZE_EXTRA): Default to 0.\n\t(BASE_PRESIZE): Increase by SYSTEM_PURESIZE_EXTRA.\n\n\t* s/msdos.h: #define HAVE_FACES.\n\t(LIBX11_SYSTEM, HAVE_X11R5) [HAVE_X_WINDOWS]: Define.\n\t(PURESIZE): Don't define.\n\t(SYSTEM_PURESIZE_EXTRA): Define.\n\n\t* sysdep.c (init_sys_modes): Make sure that internal_terminal_init\n\tis only called once.\n\t(init_sys_modes, reset_sys_modes) [HAVE_X_WINDOWS]: Add conditional.\n\t(reset_sys_modes) [MSDOS]: Change to MSDOG's default colors.\n\t(kbd_input_ast): Use just XSETFRAME.\n\n\t* window.c (init_window_once) [!MULTI_FRAME]: Set selected_frame and\n\tlast_nonminibuf_frame once and for all.\n\n\t* xdisp.c (redisplay, copy_part_of_rope, fix_glyph,\n\tdisplay_text_line, display_mode_line): Check HAVE_FACES, not\n\tHAVE_X_WINDOWS.\n\n\t* xfaces.c: Guard the file by HAVE_FACES, not HAVE_X_WINDOWS.\n\t[MSDOS]: Include dosfns.h needed for the following.\n\t[!HAVE_X_WINDOWS]: Don't #include xterm.h or Xos.h.\n\t[!HAVE_X_WINDOWS] (intern_face, clear_face_cache, load_font,\n\tload_color, unload_color, Fpixmap_spec_p, load_pixmap,\n\tsame_size_fonts, frame_update_line_height): Don't define.\n\t[!HAVE_X_WINDOWS] (intern_face, clear_face_cache, build_face): Define\n\tstubs.\n\t(load_color) [MSDOS && !HAVE_X_WINDOWS]: Special version.\n\t(Fset_face_attribute_internal) [MSDOS && !HAVE_X_WINDOWS]: Stubify\n\tfont setting, mask away 0x08 (the blink bit) from background color.\n\t(syms_of_xfaces) [!HAVE_X_WINDOWS]: Don't defsubr Spixmap_spec_p.\n\t(Fmake_face_internal): Use FOR_EACH_FRAME.\n\t(init_frame_faces): Guard multi-frame stuff with MULTI_FRAME.\n\n\t* xmenu.c [!HAVE_X_WINDOWS]: Don't #include xterm.h.\n\t[!HAVE_X_MENU]: Don't #include XMenu.h.\n\t(xmenu_show, xdialog_show) [!HAVE_X_WINDOWS]: We don't need the\n\tbutton hack for msdos.\n\t(xmenu_show) [!HAVE_X_WINDOWS]: Don't adjust coordinates with\n\trespect to the (non-existing) outer window manager.\n\n\t* xterm.c (x_term_init) [!subprocesses]: Don't set input descriptor.\n\n\n1994-10-17  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xfaces.c (intern_face): Update mask properly to set stipple\n\tand fill_style.  Set everything all at once in XCreateGC.\n\n\t* window.c (Fdisplay_buffer): In desperation case of looking for\n\tsomething to split, verify that a window's frame is splittable.\n\n1994-10-16  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* Makefile.in.in (xfns.o): Depend on paths.h.\n\n\t* xfns.c: Include paths.h.\n\n1994-10-16  Morten Welinder  <terra@mole.gnu.ai.mit.edu>\n\n\t* editfns.c (Fuser_login_name): Optional argument uid decides\n\twhich user's login name to return.\n\n1994-10-16  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xterm.c (dumpglyphs): Explicitly draw background stipple.\n\n\t* xfaces.c (intern_face): Set the fill_style.\n\n\t* paths.h.in (PATH_BITMAPS): New macro.\n\n\t* xterm.c (x_bitmap_icon): Arg FILE is now a Lisp_Object.\n\t(x_iconify_frame, x_make_frame_visible): Supply FILE arg to it.\n\t* xfns.c (x_set_icon_type): Pass x_bitmap_icon 2nd arg as Lisp_Object.\n\t(x_icon_type): Return a Lisp_Object.\n\n\t* xfns.c (x_destroy_bitmap, x_reference_bitmap): Take frame as arg.\n\tCallers changed.\n\t(struct x_bitmap_record): New fields height, width, depth.\n\t(x_create_bitmap_from_data): Fill in those fields.\n\t(x_bitmap_height, x_bitmap_width, x_bitmap_pixmap): New functions.\n\t(x_create_bitmap_from_file): Arg FILE is now a Lisp_Object.\n\tSearch Vbitmap_file_path for it.  Fill in new fields.\n\t(syms_of_xfns): Set up Vbitmap_file_path.\n\n\t* xterm.c (x_bitmap_icon): Properly discard the previous bitmap.\n\t(x_text_icon): Discard bitmap only if we have one.\n\n\t* xfaces.c (copy_face, merge_faces): Copy the pixmap_h and pixmap_w.\n\t(intern_face): Store the stipple in the GC.\n\t(unload_color): Really do free the color.\n\t(free_frame_faces): Call unload_pixmap.\n\t(Fset_face_attribute_internal): Handle background pixmap.\n\tDestroy old pixmap when necessary.\n\t(free_frame_faces): Destroy pixmaps.\n\t(load_pixmap): New function.\n\t(Fpixmap_spec_p): New function.\n\t(syms_of_xfaces): Set up Lisp function pixmap-spec-p.\n\tSet up Qpixmap_spec_p.\n\n\t* dispextern.h (struct face): Delete cached_index field.\n\t* xfaces.c (compute_base_face): Don't set cached_index field.\n\n\t* ralloc.c (heap_base): Move static var to top level.\n\t(struct heap): New slot `free'.\n\t(obtain): Set `free' for new heap.\n\t(get_bloc): Update `free'.\n\t(find_heap): New function.\n\t(update_heap_free_pointers): New function.\n\t(resize_bloc, r_alloc_sbrk): Call update_heap_free_pointers.\n\n1994-10-15  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* lread.c (load_unwind): Cast argument of fclose.\n\n\t* xmenu.c: Delete HAVE_X11 conditionals.\n\n\t* xfaces.c (compute_base_face): Use FRAME_FOREGROUND_PIXEL,\n\tFRAME_BACKGROUND_PIXEL, FRAME_FONT.\n\n\t* xterm.h (FRAME_FOREGROUND_PIXEL, FRAME_BACKGROUND_PIXEL)\n\t(FRAME_FONT): New macros.\n\n1994-10-15  Tom Tromey  <tromey@drip.colorado.edu>\n\n\t* xterm.c (x_bitmap_icon): Allow bitmap to come from file.\n\t(x_wm_set_icon_pixmap): Second arg is now pixmap_id;\n\tcall x_lookup_pixmap.\n\t(x_text_icon): Call x_destroy_bitmap.\n\n\t* xfns.c (x_set_icon_type): If icon-type is a string, then use\n\tbitmap from that file.\n\t(Fx_create_frame): Set icon_bitmap field to -1.\n\t(struct x_bitmap_record): New structure type.\n\t(x_bitmaps, x_bitmaps_size, x_bitmaps_last, x_bitmaps_free):\n\tNew variables.\n\t(x_allocate_bitmap_record): New function.\n\t(x_reference_bitmap, x_create_bitmap, x_create_bitmap_from_file)\n\t(x_destroy_bitmap, x_lookup_pixmap): New functions.\n\n\t* xterm.h (x_display): Changed icon_bitmap_flag to icon_bitmap.\n\tChanged all users.\n\n1994-10-15  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* textprop.c (Fset_text_properties): Special case for getting\n\trid of all properties of a string.\n\n1994-10-15  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* xterm.c (stuffline, scraplines): Functions deleted.\n\t(line_dance, line_dance_len, line_dance_in_progress): New vars.\n\t(XTins_del_lines): Don't do any X calls; just update the array.\n\t(do_line_dance): New function.  Do the X calls here.\n\t(XTupdate_end, XTwrite_glyphs): Call do_line_dance.\n\n1994-10-14  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* s/isc4-0.h (LIBS_SYSTEM): Add -lcposix.\n\t(sigblock, SIG_BLOCK): Define if not defined.\n\n\t* sysdep.c (read_input_waiting): Set e.frame_or_window w/ XSETFRAME.\n\n\t* xterm.c (x_new_font): Don't keep looping after the FONT property.\n\n1994-10-13  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* term.c (term_get_fkeys_1): Workaround for IBM's dialect of terminfo.\n\n1994-10-13  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xfns.c (Fx_create_frame): Init the FRAME_X_SCREEN\n\tas soon as can be done.\n\n\t* xdisp.c (redisplay): Call clear_face_cache instead\n\tof clear_face_vector.  Do it at most once per 1000 redisplays.\n\n\t* xfaces.c: Eliminate the \"display faces\"; store GCs in the\n\t\"computed faces\".\n\t(face_vector, nfaces, nfaces_allocated): Vars deleted.\n\t(free_frame_faces): Free GCs in the computed faces.\n\tFree the computed faces themselves.\n\t(clear_face_cache): Renamed from clear_face_vector\n\tand completely rewritten to free GCs in the computed faces.\n\t(get_cached_face): Function deleted.\n\t(build_face): Function deleted; code moved into intern_face.\n\t(intern_face): Don't treat default and modeline faces specially.\n\t(recompute_basic_faces): Call intern_face, not build_face.\n\n\t* xfaces.c (intern_face, clear_face_vector, load_font, unload_font)\n\t(load_color, free_frame_faces, recompute_basic_faces):\n\tUse FRAME_X_DISPLAY.\n\n\t* m/mips-siemens.h (C_ALLOCA): Defined.\n\t(HAVE_ALLOCA): Definition deleted.\n\n\t* editfns.c (Fuser_login_name, Fuser_real_login_name):\n\tCall init_editfns now if it was not done before.\n\n\t* puresize.h (BASE_PURESIZE): Incremented.\n\n\t* lisp.h (Funhandled_file_name_directory): Declared.\n\n1994-10-10  Rainer Schoepf  (Schoepf@Uni-Mainz.de)\n\n\t* unexalpha.c (Brk): Declare as unsigned long.\n\t(unexec): Do CHECH_SCNHDR on _RCONST if that's defined.\n\tIgnore rdata_section if there is none.\n\t(update_dynamic_symbols): New arg new_name.  Call changed.\n\tFix some calls to WRITE.\n\t(fatal_unexec): Declare all arguments.\n\n1994-10-12  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* unexelf.c: Include config.h.\n\n\t* s/freebsd.h (LD_SWITCH_SYSTEM): New definition.\n\n1994-10-11  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* lisp.h (enum Lisp_Misc_Type): Add new enumerations\n\tLisp_Misc_Intfwd, Lisp_Misc_Boolfwd, Lisp_Misc_Objfwd,\n\tLisp_Misc_Buffer_Objfwd.\n\t(enum Lisp_Type): Delete the corresponding enumerations from here.\n\t(struct Lisp_Buffer_Objfwd): New structure.\n\t(struct Lisp_Intfwd, struct Lisp_Boolfwd, struct Lisp_Objfwd): Ditto.\n\t(XINTFWD, XBOOLFWD, XOBJFWD, XBUFFER_OBJFWD): Access the new structure.\n\t(INTFWDP, BOOLFWDP, OBJFWDP, BUFFER_OBJFWDP): Ditto.\n\t(XSETINTFWD, XSETBOOLFWD, XSETOBJFWD, XSETBUFFER_OBJFWD): Deleted.\n\t(union Lisp_Misc): Add new members.\n\t(allocate_misc): Declare this function.\n\t(XINTPTR): Deleted.\n\t* alloc.c (mark_object): Use the new substructure.\n\t* buffer.c (buffer_slot_type_mismatch): Take just the offset as\n\targument.  Only check against types that are actually used.\n\t* bytecode.c (Fbyte_code): Skip optimization for all Lisp_Misc types.\n\t* data.c (do_symval_forwarding, store_symval_forwarding,\n\tfind_symbol_value, Fset, default_value, Fset_default,\n\tFkill_local_variable): Use the new substructure.\n\t(store_symval_forwarding): Change args to buffer_slot_type_mismatch.\n\t* lread.c (defvar_int, defvar_bool, defvar_lisp,\n\tdefvar_lisp_nopro, defvar_per_buffer): Use the new substructure.\n\n\t* minibuf.c (test_completion): Fix reversed condition.\n\n\t* ralloc.c: Install Hiroshi Nakano's rewrite to allow multiple\n\theaps, for implementations where the C library makes calls to\n\tsbrk directly.\n\n1994-10-11  Jim Blandy  <jimb@geech.gnu.ai.mit.edu>\n\n\t* search.c (scan_buffer): After temporarily turning immediate_quit\n\toff, turn it back on by setting it to allow_quit, never 1.\n\n\t* search.c (find_before_next_newline): Declare the arguments'\n\ttypes explicitly; don't let them default to int.\n\n\t* xdisp.c (display_scan_buffer): Pass the correct number of\n\targuments to scan_buffer.\n\n1994-10-11  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keyboard.c (read_key_sequence): The output of function-key-map\n\tgoes to key-translation-map, but not vice versa.\n\tDon't exit if either of them is a possibility.\n\n1994-10-11  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* lisp.h (Lisp_Misc): new type code, replacing Lisp_Marker (and\n\tsoon to replace other type codes as well).\n\t(XMARKER, SETMARKER, MARKERP): Check/set the new type field.\n\t(XMISC, SETMISC, MISCP): New accessor macros for the superset type.\n\t(struct Lisp_Free): New structure.\n\t(Lisp_Misc_Free): Type code for that structure.\n\t* buffer.h (OVERLAY_POSITION): Marker assert now tests substructure.\n\t* alloc.c (MARKER_BLOCK_SIZE, marker_block, marker_free_list):\n\tNow refers to the superset type, not just markers.\n\t(allocate_misc): New function, extracted from Fmake_marker.\n\t(Fpurecopy): Check the substructure.\n\t(clear_marks, mark_object, gc_sweep): Likewise.\n\t* buffer.c (buffer_slot_type_mismatch): Test against Lisp_Misc.\n\t* fns.c (internal_equal): Check the substructure.\n\t* print.c (print): Check the substructure.\n\n1994-10-10  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* sysdep.c (sys_subshell): Use NILP macro directly, not its\n\texpansion.  Previous code was leftover from when NULL was a bad\n\tword.\n\n1994-10-10  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* fileio.c (Finsert_file_contents): Use original unexpanded\n\tFILENAME arg to set buffer-file-name.\n\n\t* buffer.c (list_buffers_1): Fix indentation in header lines.\n\n\t* xdisp.c (redisplay_window): Fix Oct 1 change:\n\tdon't call cancel_my_columns unless we will call try_window.\n\n1994-10-10  Jim Blandy  <jimb@geech.gnu.ai.mit.edu>\n\n\t* buffer.c (syms_of_buffer): Doc fix for cache-long-line-scans.\n\n1994-10-10  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* syntax.c (scan_sexps_forward): At startincomment,\n\tdo notice a 2-char comment ender that straddles FROM.\n\n1994-10-09  Jim Blandy  <jimb@geech.gnu.ai.mit.edu>\n\n\tCache the results of some scans, to improve performance in buffers\n\tcontaining very long lines.\n\t* region-cache.c, region-cache.h: New files.\n\t* Makefile.in.in (obj) Add region-cache.o to the list of files.\n\t(region-cache.o): New target.\n\t(buffer.o, indent.o, search.o): Depend on region-cache.h.\n\t* buffer.h (struct buffer): New members: newline_cache,\n\twidth_run_cache, width_table, and cache_long_line_scans.\n\t* buffer.c: #include region-cache.h.\n\t(Fget_buffer_create): Initialize new members of struct buffer.\n\t(Fkill_buffer): Free memory occupied by caches.\n\t(init_buffer_once): Set default value for cache_long_line_scans in\n\tbuffer_defaults, and give it a bit in buffer_local_flags.\n\t(syms_of_buffer): Add DEFVAR_PER_BUFFER for cache_long_line_scans.\n\t* insdel.c (prepare_to_modify_buffer): Invalidate width run and\n\tnewline caches, if they exist.\n\t* search.c: #include \"region-cache.h\".\n\t(max, min): Make these functions, not macros; we'd like to pass\n\tthem arguments that would be bad to evaluate more than once.\n\t(newline_cache_on_off): New function.\n\t(scan_buffer): New argument END.  Call newline_cache_on_off.  If\n\tthis buffer's newline cache is enabled, consult it to see if we\n\tneed to scan a region for newlines, and store information in the\n\tcache after doing so.\n\t(find_next_newline): Pass new arg to scan_buffer.\n\t(find_before_next_newline): New function.\n\t* cmds.c (Fforward_line): Call scan_buffer with new args.\n\t(Fend_of_line): Replace call to Fforward_line and search loop with\n\tcall to find_before_next_newline.\n\t* syntax.c (find_defun_start): Call scan_buffer with new args.\n\t* indent.c: #include \"region-cache.h\".\n\t(character_width, disptab_matches_widthtab, recompute_width_table,\n\twidth_run_cache_on_off): New functions.\n\t(compute_motion): Call width_run_cache_on_off.  If this buffer's\n\twidth run cache is enabled, consult it to see if we need to\n\ttraverse a region character-by-character; store information in the\n\tcache after doing so.  Call find_before_next_newline instead of\n\twriting out an equivalent loop explicitly, to take advantage of\n\tthe newline cache.\n\tDoc fixes.\n\t* xdisp.c (redisplay_window): Invalidate width_run_cache, if the\n\tbuffer's display table doesn't match the width table the cache was\n\tbuilt for.\n\t(display_text_line): Use compute_motion to skip forward to the\n\tleft edge of the window when the window is hscrolled; this is\n\tfaster than rendering all the characters into the bit bucket when\n\tthe hscroll is large.\n\tDoc fixes.\n\t(display_count_lines): Call scan_buffer with new args.\n\t* disptab.h (window_display_table): Doc fix.\n\t(buffer_display_table): New declaration.\n\t* indent.h (disptab_matches_widthtab, recompute_width_table): New\n\tdeclarations.\n\n1994-10-08  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keyboard.c (inhibit_local_menu_bar_menus): New variable.\n\t(read_char_x_menu_prompt): Optionally don't use local maps.\n\t(syms_of_keyboard): Set up Lisp variable.\n\n1994-10-07  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* lisp.h (enum Lisp_Misc_Type): New type.\n\t(struct Lisp_Marker): Add a member of that type.  Delete unused\n\tmember `modified'.\n\n1994-10-07  Morten Welinder  <terra@frigg.diku.dk>\n\n\t* minibuf.c (test_completion): New function, extracted from\n\tdo_completion.\n\t(do_completion): Use test_completion.\n\t(Fminibuffer_complete_and_exit): If completion is already\n\texact, don't try to complete it.\n\n\t* dired.c (file_name_completion): Ignore files \".\" and \"..\"\n\tin first pass.\n\t(Ffile_name_completion): Perform the completion even if the\n\tname part is empty.\n\n1994-10-07  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* insdel.c (make_gap): Keep input blocked till after we set BEG_ADDR.\n\n\t* fileio.c (check_writable, check_executable): Test HAVE_EACCESS.\n\n\t* config.h.in (HAVE_EACCESS): Add #undef.\n\n1994-10-06  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* alloc.c (mark_object): Don't check for Lisp_Void; nothing ever\n\tcreates that type.\n\t* bytecode.c (Fbyte_code): Likewise.\n\t* data.c (Fboundp, Ffboundp, find_symbol_value, Fset,\n\tFdefault_boundp, Fdefault_value): Likewise.\n\t* lisp.h (Lisp_Void, VOIDP): Deleted.\n\n\t* floatfns.c (Fabs): Don't use XFASTINT when negative.\n\t* data.c (Flsh, Fadd1, Fsub1, Flognot): Likewise.\n\n\t* buffer.c (init_buffer_once): Don't use XSETFASTINT when negative.\n\t(reset_buffer_local_variables, Fbuffer_local_variables): Access\n\tbuffer_local_flags as Lisp_Object, not int.\n\t* data.c (Fset, default_value, Fset_default,\n\tFkill_local_variable): Likewise.\n\t* lread.c (defvar_per_buffer): Likewise.\n\tGive XSETBUFFER_OBJFWD an integer offset, not a pointer.\n\n\t* lread.c (read1): New argument for returning out-of-band data,\n\tobviating the need for Lisp_Internal datatype.\n\t(read0, read1, read_list): Use that new calling sequence.\n\t* lisp.h (Lisp_Internal, XSETINTERNAL, INTERNALP): Deleted.\n\n\t* lread.c (Fload, load_unwind): Store stream pointer as a cons of\n\ttwo integers, obviating the need for Lisp_Internal_Stream datatype.\n\t* lisp.h (Lisp_Internal_Stream, XSETINTERNAL_STREAM,\n\tINTERNAL_STREAMP): Deleted.\n\t* alloc.c (mark_object): Delete case Lisp_Internal_Stream.\n\n1994-10-05  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* unexec.c (make_hdr): Undo June 16 change.\n\n\t* fileio.c (Ffile_regular_p): New function.\n\t(syms_of_fileio): defsubr it.\n\n\t* xterm.c (x_term_init): Call XtSetLanguageProc or XSetLocaleModifiers.\n\n1994-10-04  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xfns.c (x_set_icon_type): Remove period from error message.\n\n\t* xterm.c (x_make_frame_visible, x_iconify_frame):\n\tCall x_bitmap_icon if frame wants a bitmap icon.\n\n\t* xfns.c (x_icon_type): New function.\n\n\t* callint.c (Finteractive): Doc fix.\n\n1994-10-04  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* buffer.c (validate_region): Swap using temp Lisp_Object, not int.\n\n\t* lisp.h (XSETINT): Set object type as well as value.\n\t(XSETCONS, XSETBUFFER, XSETVECTOR, XSETSUBR, XSETSTRING,\n\tXSETSYMBOL, XSETMARKER, XSETOBJFWD, XSETWINDOW, XSETPROCESS,\n\tXSETFLOAT): Likewise.\n\t(XSETBOOLFWD, XSETBUFFER_OBJFWD, XSETWINDOW_CONFIGURATION,\n\tXSETINTERNAL_STREAM, XSETINTFWD, XSETINTERNAL): New macros.\n\t(XSETUINT, XSETPNTR, XFUNCTION, XSETFUNCTION, XSETINTPTR): Deleted.\n\n\t* frame.h (XSETFRAME): Set object type as well as value.\n\t* m/alpha.h, m/gec63.h, m/hp800.h, m/iris4d.h, m/iris5d.h, m/mips.h:\n\tDon't override the (new) definition of XSETINT from lisp.h.\n\tDelete XSETUINT and XSETPNTR, which are no longer used.\n\t* *.c: Use new accessor macros instead of calling XSET directly.\n\t* xterm.h (SCROLL_BAR_UNPACK): Likewise.\n\t* fns.c (Fstring_equal): No longer necessary to set type separately.\n\t(Fstring_lessp): Likewise.\n\t* callint.c (Fprefix_numeric_value): Likewise.\n\t* fileio.c (Finsert_file_contents): Likewise.\n\n\t* lisp.h (XSETFASTINT): New macro.\n\t(XFASTINT): Changed to non-lvalue syntax, to ensure that callers\n\twill use XSETFASTINT instead.\n\t(CHECK_NUMBER_COERCE_MARKER): Don't use XFASTINT as an lvalue.\n\t(CHECK_NUMBER_OR_FLOAT_COERCE_MARKER): Likewise.\n\t* *.c: Likewise.\n\t* frame.h (FOR_EACH_FRAME): Likewise.\n\n1994-10-04  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* Makefile.in.in (MKTIME_OBJ): New variable.\n\t(obj): Use MKTIME_OBJ.\n\n\t* config.h.in (HAVE_MKTIME): Add #undef.\n\n\t* xmenu.c (widget_id_tick): Move definition into conditional.\n\t(syms_of_xmenu): Conditionalize initialization of widget_id_tick.\n\n\t* xmenu.c (last_menu_bar_item_end): Var deleted.\n\t(this_menu_bar_item_beg, this_menu_bar_item_end): Vars deleted.\n\t(other_menu_bar_item_p, unread_menu_bar_button)\n\t(check_mouse_other_menu_bar): Functions deleted.\n\t(last_event_timestamp, Vdouble_click_time, Vmouse_depressed):\n\tDecls deleted.\n\t(xmenu_show): XMENU_FOO conditional and its contents deleted.\n\n\t* xterm.c (input_signal_count): New variable.\n\t(XTread_socket): Increment it.\n\t(x_make_frame_visible): Exit final loop when XTread_sockets has run.\n\n1994-10-02  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* window.c (Frecenter): Don't trigger point-motion hooks.\n\n\t* fileio.c (Finsert_file_contents): set type of `end', not just\n\tthe value.\n\n\t* xfns.c (x_figure_window_size): Use new formula for scroll bar width.\n\n\t* config.h.in (HAVE_UTIME_H): Add #undef.\n\t* systime.h: Don't include <utime.h> here.\n\t* sysdep.c: Include it here instead.\n\t(set_file_times): Move struct declaration to top of file.\n\n1994-10-02  Paul Reilly  <pmr@churchy.gnu.ai.mit.edu>\n\n\t* xmenu.c (popup_get_selection): Remove BLOCK_INPUT, UNBLOCK_INPUT\n\tsince the calls to popup_get_selection provide the protection.\n\n1994-10-02  Paul Reilly  <pmr@geech.gnu.ai.mit.edu>\n\n\t* xfns.c (HACK_EDITRES): Declare if using X11R5.\n\t(widget_id_tick): New variable.\n\t(x_any_window_to_frame): Use lw_window_is_in_menubar for\n\twidget set independence.\n\t(x_window): Renamed screen_widget to frame_widget.  Use\n\tlw_create_widget and lw_set_main_areas for widget set\n\tindependence.  Enable using editres for X11R5.\n\n\t* widget.c (EmacsFrameSetCharSize): Use lw_refigure_widget for\n\twidget set independence.\n\n\t* widget.h: Declare resources showGrip, allowResize, and\n\tresizeToPreferred.\n\n\t* keyboard.c (make_lispy_event): Do not set item.  Now handled in\n\txmenu.c by popup_get_selection.\n\n1994-10-01  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* frame.c (keys_of_frame): Make binding for delete-frame.\n\n\t* xdisp.c (redisplay_window): If we set PT, and that alters a region\n\tbeing highlighted, call try_window again.\n\n\t* Makefile.in.in (LIBXTR6): If NEED_LIBW, add -lw.\n\t* s/usg5-4-2.h (NEED_LIBW): Defined.\n\n\t* Makefile.in.in (LDFLAGS): New variable.\n\t(LIBX): Use LDFLAGS.\n\n1994-09-30  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* data.c (Fmake_local_variable): Doc fix.\n\n1994-09-29  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* fileio.c (check_writable, check_executable) [__HURD__]:\n\tUse eaccess.\n\n\t* xfaces.c (compute_char_face): Handle list as overlay face property.\n\n1994-09-29  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* minibuf.c (scmp): Use unsigned chars, to avoid confusing DOWNCASE.\n\n\t* unexaix.c (CHECK_SCNHDR, write_segment): Fix format/arg mismatch.\n\t* xfns.c (x_report_frame_params): Likewise.\n\n1994-09-29  Boris Goldowsky  <boris@cs.rochester.edu>\n\n\t* xfaces.c (compute_char_face): If face text-property is a list,\n\tmerge the attributes of the faces in the list.\n\n1994-09-29  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* buffer.c (Foverlay_get): Handle `category' property on overlay.\n\n\t* xfaces.c (Fset_face_attribute_internal): Mark frame garbaged whenever\n\tany face's font or color is changed.\n\n\t* keyboard.c (head_table): Set up Qdelete_frame.\n\t(kbd_buffer_get_event): Handle delete_window_event by making\n\ta delete-frame event.\n\n1994-09-28  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* data.c (Flocal_variable_p): New function.\n\t(syms_of_data): defsubr it.\n\n1994-09-28  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* fileio.c (Fdelete_file): Undo Sep 16 change.\n\t* dired.c (syms_of_dired): Likewise.\n\n1994-09-27  Karl Heuer  <kwzh@nutrimat.gnu.ai.mit.edu>\n\n\t* frame.h (scroll_bar_pixel_width, scroll_bar_cols): Update comment.\n\t* xfns.c (x_set_scroll_bar_width): Nil now means 2 columns' worth.\n\t(Fx_create_frame): Default scroll bar width is now nil.\n\t* xterm.c (x_new_font): New rule for computing column width.\n\tFactored out common code.\n\t(XTset_vertical_scroll_bar): Use new width formula.\n\t[!USE_X_TOOLKIT] (x_set_window_size): Likewise.\n\t* widget.c (set_frame_size, EmacsFrameSetCharSize): Likewise.\n\n\t* lisp.h (BOOLFWDP, INTERNALP, INTFWDP, OBJFWDP, INTERNAL_STREAMP,\n\tBUFFER_LOCAL_VALUEP, SOME_BUFFER_LOCAL_VALUEP, BUFFER_OBJFWDP,\n\tVOIDP): New type test macros.\n\t* *.h, *.c: Use type test macros instead of checking XTYPE directly.\n\n1994-09-26  Richard Stallman  <rms@churchy.gnu.ai.mit.edu>\n\n\t* window.c (syms_of_window): Doc fix.\n\n1994-09-26  Frederic Pierresteguy  <F.Pierresteguy@frcl.bull.fr>\n\n\t* m/dpx2.h (POSIX_SIGNALS): Define it.\n\t(sigsetmask): Add #undef.\n\n1994-09-26  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* m/*.h, s/*.h (WORDS_BIG_ENDIAN): Renamed from BIG_ENDIAN,\n\tand restored where mistakenly deleted by earlier change.\n\n\t* emacs.c (argmatch): New function.\n\t(main): Recognize --longopt synonyms for all options handled here.\n\tAdd --help and --version.\n\n1994-09-25  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* unexsunos4.c: Delete __FreeBSD__ conditional macro definitions.\n\t(unexec): Major changes in UNDO_RELOCATION code.\n\n\t* unexsunos4.c (is_it): Rename argument and local variable.\n\n1994-09-25  Richard Stallman  <rms@churchy.gnu.ai.mit.edu>\n\n\t* Makefile.in.in (${etc}DOC): Run make-docfile twice--two batches.\n\n1994-09-24  Richard Stallman  <rms@churchy.gnu.ai.mit.edu>\n\n\t* sysdep.c (set_file_times): Don't test HAVE_UTIME.\n\tAssume utime exists if utimes does not.\n\n\t* config.h.in (HAVE_UTIMES): Add #undef.\n\n\t* editfns.c (Fformat_time_string): Mostly rewritten, to handle\n\tunlimited size, and report errors properly.\n\n\t* Makefile.in.in (strftime.o, mktime.o): New target.\n\t(obj): Add strftime.o and mktime.o.\n\n\t* strftime.c, mktime.c: New files (shared from libc).\n\n1994-09-24  Erik Naggum  (erik@naggum.no)\n\n\t* editfns.c (Fformat_time_string): New function.\n\t(syms_of_editfns): Defsubr it.\n\n1994-09-24  Richard Stallman  <rms@churchy.gnu.ai.mit.edu>\n\n\t* sysdep.c [USE_DL_STUBS] (dlopen, dlsym, dlclose): New functions.\n\t* s/sunos4-1.h (USE_DL_STUBS): Defined.\n\t* s/sunos4shr.h (USE_DL_STUBS): Add #undef.\n\n\t* fileio.c (Ffile_writable_p): Use stat to test for existence.\n\t(check_executable, check_writable): New functions.\n\t(Ffile_executable_p, Ffile_writable_p): Use the new functions.\n\n\t* intervals.c (set_point):\n\tIf Vinhibit_point_motion_hooks, ignore intangible properties.\n\tIf move backwards into intangible text, move back over it.\n\n\t* textprop.c (syms_of_textprop): Doc fix.\n\n\t* config.h.in (STACK_DIRECTION): Don't redefine if defined already.\n\tMove definition down past #include's.\n\n1994-09-23  Richard Stallman  <rms@churchy.gnu.ai.mit.edu>\n\n\t* s/linux.h: Don't include signal.h, values.h.\n\t(signal): Definition deleted.\n\n\t* abbrev.c (Fexpand_abbrev): Instead of Fcapitalize_region,\n\tjust upcase the first initial.\n\n\t* casefiddle.c (Fupcase_initials_region): New function.\n\t(Fupcase_initials): New function.\n\t(syms_of_casefiddle): defsubr them.\n\n\t* minibuf.c (read_minibuf_unwind): Preserve Vdeactivate_mark.\n\n\t* s/isc2-2.h (DONT_DEFINE_SIGNAL): Macro deleted.\n\n\t* m/next.h (DK_HEADER_FILE): Macro deleted.\n\n\t* m/tahoe.h (DKSTAT_HEADER_FILE): Macro deleted.\n\n\t* m/hp800.h (CPTIME_SYMBOL, DKXFER_SYMBOL): Macros deleted.\n\n\t* sysdep.c (start_of_text): Don't test CANNOT_UNEXEC.\n\t* unexec.c: Don't test CANNOT_UNEXEC.\n\t* unexaix.c: Don't test CANNOT_DUMP or CANNOT_UNEXEC.\n\n\t* sysdep.c: Delete BROKEN_FASYNC conditional.\n\n\t* data.c (Fset_default, Fset): Delete RTPC_REGISTER_BUG conditionals.\n\n\t* process.c (Fprocess_send_eof): Delete DID_REMOTE conditional.\n\n\t* buffer.c (get-file-buffer): Doc fix.\n\n1994-09-23  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* frame.c (prev_frame): Fix typo.\n\n\t* unexec.c (copy_text_and_data): Delete some printf's.\n\n\t* m/acorn.h (PURESIZE): Definition deleted.\n\n\t* xfns.c (x_figure_window_size): Decode (- N), (+ N) for position.\n\t(x_set_frame_parameters): Handle (+ N) and (- N).\n\tPreserve negative positions properly too.\n\t[USE_X_TOOLKIT] (x_window): Let xneg, yneg specify whether to\n\tnegate left and top.\n\t(Fx_parse_geometry): Handle [XY]Negative with positive number\n\tor negative number without [XY]Negative.\n\n\t* callint.c (Qplus): New variable.\n\t(syms_of_callint): Set it up.\n\t* lisp.h (Qplus): Declared.\n\n\t* xfns.c (Fx_create_frame): Rename menuBarLines resource to menuBar.\n\n\t* s/sunos4-1-3.h, s/sunos4shr.h (X_IO_BUG): Definition deleted.\n\n\t* textprop.c (Fset_text_properties): Don't let validate_interval_range\n\tincrement START and END twice.\n\n\t* xterm.h (FRAME_X_DISPLAY): New macro.\n\n\t* s/freebsd.h (BSD): Have two definitions according to version number.\n\n1994-09-22  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xterm.c (x_destroy_window): Decrement ref count of x_screen struct.\n\n\t* xfns.c (the_x_screen): New variable.\n\t(syms_of_xfns): Staticpro parts of it.\n\t(Fx_open_connection): Initialize it.\n\t(Fx_create_frame): Make frame point to it.\n\t(Fx_list_fonts): Use a cache stored in FRAME_X_SCREEN.\n\n\t* xterm.h (struct x_screen): New structure.\n\t(struct x_display): New field x_screen.\n\t(FRAME_X_SCREEN): New macro.\n\n\t* process.c (exec_sentinel_error_handler): Call update_echo_area.\n\t(read_process_output_error_handler): Likewise.\n\n\t* xdisp.c (update_echo_area): New function.\n\n1994-09-22  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* buffer.c (evaporate_overlays): Overlay is in car, not cdr.\n\n1994-09-21  Tom Tromey  <tromey@creche.colorado.edu>\n\n\t* doc.c (get_doc_string): Look in ../etc while dumping.\n\t(munge_doc_file_name): New subroutine.\n\n1994-09-22  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* minibuf.c (Fcompleting_read): Doc fix.\n\n\t* puresize.h (BASE_PURESIZE): Increment both values.\n\n\t* window.c (Fdelete_other_windows): Nice error if WINDOW is minibuf.\n\n\t* lisp.h (Vdebug_on_error): Declared.\n\n\t* process.c (exec_sentinel_error_handler): New function.\n\t(exec_sentinel): Catch all errors in the sentinel.\n\n\t* keyboard.c (read_char): Don't return right away when\n\tread_char_minibuf_menu_prompt returns non-nil.\n\tInstead, set key_already_recorded, which inhibits most but not all\n\tof the work at non_reread.\n\n1994-09-21  Simon Leinen  <simon@lia.di.epfl.ch>\n\n\t* cm.h (cmputc): Return int rather than void.\n\t* cm.c (evalcost, cmputc): They now return their arguments.\n\n1994-09-21  Per Abrahamsen  <abraham@iesd.auc.dk>\n\n\t* window.c (display-buffer, special-display-buffer-names)\n\t(special-display-regexps, special-display-function): Accept cons\n\tcells in `special-display-buffer-names' and\n\t`special-display-regexps'.  If the buffer name matches the car,\n\tcall `special-display-function' with the cdr as a second argument.\n\n1994-09-21  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* s/bsd386.h (HAVE_TERMIOS, NO_TERMIO): Defined.\n\n\t* editfns.c (Fmessage_or_box): Use Fmessage_box with new name.\n\n\t* process.c (read_process_output_error_handler): New function.\n\t(read_process_output_call): New function.\n\t(read_process_output): Catch and report errors in filters.\n\n\t* keyboard.c (cmd_error_internal):\n\tNew function, broken out of cmd_error.\n\n\t* fileio.c (Fread_file_name): If DEFAULT is nil and INITIAL is not,\n\tuse INITIAL to set DEFAULT.\n\n\t* editfns.c (Fmessage_box): Renamed from Fbox_message.\n\n1994-09-17  Michael Ben-Gershon  (mybg@cs.huji.ac.il)\n\n\t* unexec.c (copy_text_and_data): Add RISCiX changes.\n\n\t* m/acorn.h, s/riscix1-1.h, s/riscix1-2.h: New files added.\n\n1994-09-21  Bill Burton  (billb@progress.com)\n\n\t* s/ptx.h: New file for Sequent DYNIX/ptx 1.x/2.x\n\n\t* m/sequent-ptx.h: New file for Sequent DYNIX/ptx 1.x/2.x\n\n1994-09-21  Frederic Pierresteguy  <F.Pierresteguy@frcl.bull.fr>\n\n\t* editfns.c (Fbox_message): New function to print a message in\n\ta dialog box.\n\t(Fmessage_or_box): New function that choose whether to print a\n\tmessage in a dialog or in the echo area.\n\n1994-09-21  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* search.c (Freplace_match): New 4th arg OBJECT can specify string\n\tto replace in.\n\n\t* casefiddle.c (upcase_initials): New function.\n\t(casify_object): Handle CASE_CAPITALIZE_UP.\n\n\t* fns.c (concat3): New function.\n\n\t* xfns.c (Fx_get_resource): Doc fix.\n\n\t* buffer.c (overlays_at): New arg PREV_PTR.\n\tReturn previous overlay end.\n\t(Foverlays_at): Pass NULL for last 2 args of overlays_at.\n\t(Fnext_overlay_change): Pass new arg to overlays_at.\n\t(Fprevious_overlay_change): New function.\n\t* xterm.c (note_mouse_highlight): Pass new arg to overlays_at.\n\t* xfaces.c (compute_char_face): Pass new arg to overlays_at.\n\t* textprop.c (Fget_char_property): Pass new arg to overlays_at.\n\t(NULL): Define if not defined.\n\n\t* minibuf.c (get_minibuffer): Make BUF current to kill its local vars.\n\n1994-09-20  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* ralloc.c (r_alloc_freeze_level): New variable.\n\t(r_alloc_freeze, r_alloc_thaw): New functions.\n\t(r_alloc_sbrk): Refuse to move blocs, if frozen.\n\n\t* unexaix.c (report_error): Include reason in error message.\n\n1994-09-20  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* eval.c (init_eval_once): Init Vrun_hooks here.\n\t(syms_of_eval): Not here.\n\n1994-09-20  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* search.c (trivial_regexp_p): New function.\n\t(search_buffer): Don't depend on internal format of re_pattern_buffer.\n\n\t* frame.h (FRAME_SCROLL_BAR_PIXEL_WIDTH): New macro, supersedes\n\tVERTICAL_SCROLL_BAR_PIXEL_WIDTH; no longer device-dependent.\n\tAll callers changed.\n\t(FRAME_SCROLL_BAR_COLS): New macro, supersedes\n\tVERTICAL_SCROLL_BAR_WIDTH; no longer constant.  All callers changed.\n\t(scroll_bar_pixel_width, scroll_bar_cols): New members of struct frame.\n\t* xterm.h (VERTICAL_SCROLL_BAR_PIXEL_WIDTH): Deleted.\n\t* xfns.c (x_set_scroll_bar_width): New function.\n\t(x_frame_parms): Add that function to this table.\n\t(Qscroll_bar_width): New symbol.\n\t(syms_of_xfns): Initialize and staticpro it.\n\t(Fx_create_frame): Set default scroll bar width.\n\t* xterm.c (x_new_font): Compute number of scrollbar columns.\n\n\t* keyboard.c (kbd_store_ptr): Declare storage class before qualifier.\n\t(make_lispy_event): Fix Lisp_Object vs. int problems.\n\t(read_avail_input, menu_bar_items_index, read_key_sequence): Likewise.\n\t* window.c (Fset_window_buffer): Likewise.\n\t* alloc.c (make_float, make_pure_float): Likewise.\n\n\t* sysdep.c (set_file_times): Move this out of the USG conditional.\n\n1994-09-19  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* s/sco4.h (POSIX_SIGNALS): Defined.\n\n1994-09-19  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* buffer.c (syms_of_buffer): Doc fix.\n\n\t* keymap.c (Fkey_description): Reverse condition.\n\n1994-09-19  Jim Blandy  <jimb@geech.gnu.ai.mit.edu>\n\n\tAdd a new element to display tables controlling side-by-side\n\twindow borders.\n\t* buffer.c (syms_of_buffer): Update doc string for\n\t`buffer-display-table'.\n\t* disptab.h (DISP_TABLE_SIZE): Bump to 262.\n\t(DISP_BORDER_GLYPH): New accessor macro.\n\t* xdisp.c (display_text_line): Consult the display table when\n\tbuilding side-by-side window borders.\n\n1994-09-19  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* s/netbsd.h (SYSTEM_TYPE): Delete definition.\n\n\t* lisp.h (RETURN_UNGCPRO): Use if (1) .. else, not do ... while (0).\n\n1994-09-18  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* lisp.h (Fmember): Declare this function.\n\t* intervals.c: #include \"keyboard.h\"\n\t* term.c: Declare Fmake_sparse_keymap.\n\t* minibuf.c (read_minibuf): Fix Lisp_Object vs. int problems.\n\t* frame.h [!MULTI_FRAME] (FOR_EACH_FRAME): Likewise.\n\t* fns.c (Frandom): Likewise.\n\t* eval.c (Fsignal): Likewise.\n\t* frame.c (Fframe_parameters): Likewise.\n\t* indent.c (vmotion, Fvertical_motion): Likewise.\n\t* lread.c (openp): Likewise.\n\t* dispnew.c (direct_output_for_insert, direct_output_forward_char):\n\tLikewise.\n\t* textprop.c (validate_interval_range, property_value,\n\tFget_char_property, Fnext_property_change,\n\tFnext_single_property_change, Fprevious_property_change,\n\tFprevious_single_property_change): Likewise.\n\n1994-09-18  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* process.c (pty_name): Move it up; make it static.\n\t(create_process): Set the tty_name field.\n\t(Fprocess_tty_name): New function.\n\t(syms_of_process): defsubr it.\n\n\t* process.h (struct process): New field tty_name.\n\n\t* s/sol2.h (HAVE_VFORK): Defined.\n\t(C_SWITCH_SYSTEM): Deleted.\n\t(const): Definition deleted.\n\n\t* fileio.c (Ffile_writable_p): Don't use ro_fsys.\n\t(ro_fsys): Deleted.\n\n1994-09-18  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* config.h.in (_ALL_SOURCE): Don't redefine if already defined.\n\n\t* xdisp.c [!HAVE_X_WINDOWS] (store_frame_title): Dummy macro.\n\n\t* sysdep.c (set_file_times): New function, replaces EMACS_SET_UTIMES.\n\t* fileio.c (Fcopy_file): Use it, and check for the error return.\n\t* systime.h: Declare it.\n\t[HAVE_UTIME_H]: #include <utime.h>.\n\n\t* config.h.in (_ALL_SOURCE, HAVE_STRUCT_UTIMBUF, HAVE_SELECT,\n\tHAVE_TIMEVAL): Add #undefs.\n\n\t* s/*.h, m/*.h: Delete obsolete symbols USE_UTIME, MISSING_UTIMES,\n\tIRIS_UTIME, USG_SYS_TIME, HAVE_SELECT, HAVE_TIMEVAL, BIG_ENDIAN.\n\n1994-09-18  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* dispnew.c (preserve_other_columns): Fix arg to sizeof in bcopy call.\n\n\t* minibuf.c (get_minibuffer): Call Fkill_all_local_variables.\n\n\t* buffer.c (reset_buffer): Don't call reset_buffer_local_variables.\n\t(Fget_buffer_create): Call it here.\n\t(init_buffer_once): And here.\n\n\t* window.c (struct saved_window_data): New slots min_width, min_height.\n\t(Fcurrent_window_configuration): Set slots from window_min_...\n\t(Fset_window_configuration): Restore them.\n\tSet window_min_height and window_min_width to 1\n\twhile restoring windows.\n\n\t* unexsunos4.c (SUNOS4 or __FreeBSD__): Define UNDO_RELOCATION.\n\t(unexec): Test UNDO_RELOCATION.  Distinguish the relocation formats\n\tof __FreeBSD__ and SUNOS4.\n\n\t* s/sol2.h (REL_ALLOC): #undef deleted.\n\n\t* keymap.c (Fkey_description): Give error if KEYS not an array.\n\t(get_keyelt, access_keymap, get_keymap_1): Use type test macros.\n\n1994-09-17  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* unexsunos4.c (unexec): Fix logic for rounding section boundaries.\n\n\t* config.h.in (EMACS_CONFIG_OPTIONS): Add #undef.\n\n\t* textprop.c (property_value): Declare args plist, prop.\n\n\t* s/osf1.h (malloc, realloc): Declared.\n\n\t* print.c (print): sprintf arg for frame depends on VALBITS.\n\n\t* callproc.c (Fcall_process) [__osf__ && __alpha]:\n\tDon't stop reading if read returns negative.\n\n\t* puresize.h (PURESIZE_RATIO, BASE_PURESIZE): Defined.\n\t(PURESIZE): Define it based on those.\n\t* m/alpha.h (PURESIZE): Definitions deleted.\n\n1994-09-16  Karl Heuer  <kwzh@churchy.gnu.ai.mit.edu>\n\n\t* buffer.h: Declare some functions.\n\t* intervals.h: Declare some functions.\n\t* lisp.h: Declare some functions.\n\t* xterm.c, xfaces.c: Add #include \"intervals.h\"\n\t* fileio.c (barf_or_query_if_file_exists): Fix declaration.\n\t* xmenu.c (menu_item_enabled_p): Fix declaration.\n\n1994-09-16  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xfns.c (hack_wm_protocols): Arrange to handle WM_SAVE_YOURSELF.\n\n\t* s/hpux9.h (HAVE_TERMIO, HAVE_TERMIOS, NO_TERMIO): Undo Jul 28 change.\n\n1994-09-16  Karl Heuer  <kwzh@churchy.gnu.ai.mit.edu>\n\n\t* emacs.c (Vsystem_configuration_options): New variable.\n\t(syms_of_emacs): Initialize it.\n\n\t* buffer.h: Declare evaporate_overlays.\n\t* buffer.c: Declare new symbol Qevaporate.\n\t(syms_of_buffer): Initialize it.\n\t(Fmove_overlay): Check if overlay is empty.\n\t(Foverlay_put): Check if setting evaporate property on empty overlay.\n\t(evaporate_overlays): New function.\n\t* insdel.c (del_range_1): Call evaporate_overlays after deleting text.\n\n1994-09-16  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* m/intel386.h (HAVE_VFORK): Defined.\n\t[__GNUC__] (C_SWITCH_SYSTEM): Add #undef.\n\n\t* emacs.c (shut_down_emacs): Don't call Fx_close_current_connection.\n\n\t* lisp.h (EMACS_INT, EMACS_UINT): Define, if not already defined.\n\n\t* m/alpha.h (EMACS_INT, EMACS_UINT): Defined.\n\n1994-09-16  Rainer Schoepf  <schoepf@sc.ZIB-Berlin.DE>\n\n\t* s/osf1.h [__alpha] (LD_SWITCH_SYSTEM): Alternate definition.\n\n\t* unexalpha.c, m/alpha.h: New files.\n\n\t* alloc.c (pure, pure_size): Use EMACS_INT.\n\t(free_float, free_cons, PAD, STRING_FULLSIZE, struct string_block)\n\t(make_pure_string, make_pure_vector, Fgarbage_collect, mark_object)\n\t(gc_sweep, compact_strings, Fmemory_limit): Use EMACS_INT.\n\n\t* buffer.c (reset_buffer_local_variables, Fbuffer_local_variables)\n\t(init_buffer_once): Use EMACS_INT.\n\n\t* callint.c (Fcall_interactively): Use EMACS_INT.\n\n\t* data.c (sign_extend_lisp_int): Use EMACS_INT.\n\n\t* dispextern.h (struct face): Use EMACS_UINT.\n\n\t* doc.c (Fdocumentation): Use EMACS_INT.\n\n\t* editfns.c (Fnarrow_to_region, format1): Use EMACS_INT.\n\n\t* floatfns.c (FLOAT_TO_INT, FLOAT_TO_INT2): Use EMACS_INT.\n\n\t* frame.h (struct frame, selected_frame, last_nonminibuf_frame):\n\tUse EMACS_INT.\n\n\t* lisp.h (Lisp_Object): Use EMACS_INT.\n\t(MARKBIT): Don't define if already defined.\n\t(VALMASK, GCTYPEMASK, XSETTYPE, XSET)\n\t(XSETCONS, XSETBUFFER, XSETVECTOR, XSETSUBR, XSETSTRING)\n\t(XSETSYMBOL, XSETFUNCTION, XSETMARKER, XSETOBJFWD)\n\t(XSETINTPTR, XSETWINDOW, XSETPROCESS, XSETFLOAT)\n\t(struct Lisp_String, struct Lisp_Vector): Use EMACS_INT.\n\n\t* lread.c (Fload): Use EMACS_INT.\n\n\t* marker.c (unchain_marker): Use EMACS_INT.\n\n\t* mem-limits.h: Check for __alpha, in __osf__ conditional.\n\t(EXCEEDS_LISP_PTR): Use EMACS_UINT.\n\n\t* print.c (print): Use EMACS_UINT.\n\n\t* puresize.h (CHECK_IMPURE, all versions): Use EMACS_INT.\n\n\t* window.h (struct window): Use EMACS_INT.\n\n\t* xdisp.c (message): Use EMACS_INT.\n\n\t* xterm.h (struct scroll_bar, SCROLL_BAR_VEC_SIZE): Use EMACS_INT.\n\n1994-09-16  Morten Welinder  <terra@diku.dk>\n\n\t* fileio.c (Finsert_file_contents) [MSDOS]: Don't re-gc-protect\n\tfilename; delete unused variables.\n\n1994-09-16  Karl Heuer  <kwzh@churchy.gnu.ai.mit.edu>\n\n\t* term.c (clear_to_end): Fix reversed condition.\n\n1994-09-16  K. Berry  <kb@cs.umb.edu>\n\n\t* dired.c (Qcompletion_ignored_extensions): New symbol.\n\t(syms_of_dired): Initialize it.\n\t* fileio.c (Fdelete_file): Bind completion-ignored-extensions to nil.\n\n1994-09-16  Morten Welinder  (terra@diku.dk)\n\n\t* s/msdos.h (MODE_LINE_BINARY_TEXT): Define this symbol.\n\t* xdisp.c (decode_mode_spec): Use it when defined.\n\n1994-09-16  Andreas Schwab  <schwab@issan.informatik.uni-dortmund.de>\n\t* minibuf.c (read_minibuf): Don't add to the history list if the\n\tminibuffer string is empty, since it is not very useful.\n\n1994-09-16  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* m/hp9000s300.h [not BSD4_3] [__GNUC__] (HAVE_ALLOCA): Defined.\n\n1994-09-16  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* xdisp.c [!HAVE_X_WINDOWS] (frame_title_ptr): define as always null.\n\n1994-09-16  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xterm.c: Delete X11 conditionals.\n\t(XTupdate_end, XTupdate_begin, XTclear_end_of_line)\n\t(XTclear_frame, XRINGBELL, stufflines, scraplines, dumprectangle)\n\t(XTread_socket, x_draw_box, clear_cursor, refreshicon, x_iconify_frame)\n\t(x_bitmap_icon, x_text_icon, x_new_font, x_term_init)\n\t(x_calc_absolute_position, x_set_window_size)\n\t(x_make_frame_visible, x_make_frame_invisible): Delete X10 code.\n\t(dumpqueue, x_do_pending_expose, dumpborder, XEvent, x_read_exposes)\n\t(enqueue_event, dequeue_event, queue_event_count)\n\t(mouse_event_pending_p, x_set_resize_hint): Delete X10 versions.\n\n\t* xfns.c: Delete X11 conditionals.\n\t(defined_color, x_decode_color, x_set_foreground_color)\n\t(x_set_background_color, x_set_mouse_color, x_set_cursor_color)\n\t(x_set_border_color, x_set_border_pixel, Fx_create_frame)\n\t(Fx_open_connection, Fx_close_current_connection, syms_of_xfns):\n\tDelete X10 code.\n\t(Fx_get_default, Fx_get_resource, Fx_rubber_band)\n\t(Fx_store_cut_buffer, Fx_get_cut_buffer): Delete X10 definitions.\n\n\t* xfns.c (Fx_display_grayscale_p): New function.\n\t(syms_of_xfns): defsubr it.\n\n\t* s/bsd386.h (__bsdi__): Define, unless already defined.\n\t(DECLARE_GETPWUID_WITH_UID_T): Define.\n\n\t* filelock.c (getpwuid): Test just DECLARE_GETPWUID_WITH_UID_T,\n\tnot __bsdi__.\n\t* xrdb.c (getpwuid, getpwnam): Test just DECLARE_GETPWUID_WITH_UID_T,\n\tnot __bsdi__.\n\n1994-09-15  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* editfns.c (syms_of_editfns): Make Vsystem_name and Vuser...name\n\tlisp variables again.\n\t* xdisp.c (multiple_frames, Vframe_title_format,\n\tVicon_title_format): New variables.\n\t(store_frame_title): New function.\n\t(x_consider_frame_title): Format title according to template.\n\t(display_mode_element): Handle frame title as well as mode line.\n\t(decode_mode_spec): Use w->buffer, not current_buffer.\n\n1994-09-15  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* s/freebsd.h (DECLARE_GETPWUID_WITH_UID_T): Defined.\n\t[NO_SHARED_LIBS and __FreeBSD__]:\n\t(LD_SWITCH_SYSTEM, A_TEXT_OFFSET, A_TEXT_SEEK): Alternate definitions.\n\n\t* textprop.c (syms_of_textprop):\n\tDelete Lisp var interval-balance-threshold.\n\n\t* intervals.c, intervals.h (interval_balance_threshold): Var deleted.\n\n\t* xfns.c (Fx_create_frame): Make 1 the default for menu-bar-lines.\n\n\t* keyboard.c (gobble_input): Use sigblockx only if it is defined.\n\n\t* unexsunos4.c [SUNOS4]: Include link.h.\n\t(unexec) [SUNOS4]: Cancel relocations that ld.so did.\n\n\t* s/sunos4-0.h (SUNOS4): Defined.\n\n1994-09-14  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* Makefile.in.in (xmenu.o): Depend on puresize.h.\n\t(cmds.o): Depend on window.h.\n\n\t* cmds.c: Include window.h.\n\t(Fnewline): Inhibit the insert-at-end-of-line hack\n\twhen at the top of the window.\n\n\t* minibuf.c (Fcompleting_read): Doc fix.\n\n\t* xmenu.c: Include puresize.h.\n\t(menu_item_equiv_key): Use CHECK_IMPURE.\n\n\t* syntax.c (Fforward_comment): Do increment from, when reaching\n\tsingle-char comment end going forward.\n\n\t* callproc.c (delete_temp_file): Use Fdelete_file.\n\n\t* fileio.c (Fset_default_file_modes): Doc fix.\n\n\t* Makefile.in.in (OLDXMENU variable): Refer to the library in the\n\tdir where it is compiled.\n\t(OLDXMENU rule): Delete the commands; keep just a dep.\n\n1994-09-11  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* Version 19.27 released.\n\n1994-09-10  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keymap.c (syms_of_keymap): Doc fix.\n\n\t* keyboard.c (gobble_input): Block SIGALRM if we are using it.\n\n\t* gmalloc.c: Bug fix affecting __ptrdiff_t in non-ANSI case.\n\n1994-09-07  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* Version 19.26 released.\n\n1994-09-08  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keyboard.c (record_asynch_buffer_change): Don't test\n\tFwaiting_for_user_input_p if no subprocesses.\n\n1994-09-05  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* s/sol2.h [USE_X_TOOLKIT && HAVE_X11XTR6] (REL_ALLOC): Undefine it.\n\n1994-09-04  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* emacs.c (init_cmdargs): After chasing link, use only the\n\texpanded name.\n\n1994-09-04  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* fileio.c (Ffile_accessible_directory_p): Put back the gcpro.\n\n\t* sysdep.c (srandom): Pass arg to srand48; no return value.\n\n1994-09-04  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* emacs.c (init_cmdargs): When setting dir, expand the dir name.\n\n\t* sysdep.c (random, srandom): Check HAVE_LRAND48, not HAVE_RAND48.\n\tCall lrand48, nor rand48.\n\n\t* config.h.in (HAVE_LRAND48): Replaces HAVE_RAND48.\n\n1994-09-03  Kaveh R. Ghazi  (ghazi@noc.rutgers.edu)\n\n\t* m/delta88k.h [__GNUC__] (HAVE_ALLOCA): Defined.\n\t[__GNUC__] (C_ALLOCA): Add #undef.\n\t(LIB_X11_LIB): Add #undef.\n\t(HAVE_TERMIOS): Defined.\n\t(HAVE_TERMIO): Add #undef.\n\t(NO_TERMIO): Defined.\n\t(sigsetmask): Add #undef.\n\t(USE_GETOBAUD): Defined.\n\n1994-09-03  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* sysdep.c (init_baud_rate): Test that getobaud is actually defined.\n\n\t* sysdep.c (init_baud_rate) [USE_GETOBAUD]: Use getobaud.\n\n1994-09-02  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* insdel.c (prepare_to_modify_buffer): Don't call\n\tverify_overlay_modification if no overlays or\n\tverify_interval_modification no intervals.\n\n\t* textprop.c (Fset_text_properties):\n\tReturn early if buffer has no intervals and PROPS is nil.\n\n1994-09-02  Lennart Staflin  (lenst@rudolf)\n\n\t* xdisp.c (display_text_line): Don't overrun the charstart area.\n\n1994-09-02  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* insdel.c (insert_1): Don't call interval fns if buffer has none.\n\n\t* textprop.c (Fset_text_properties): Don't create or split an interval\n\tif we trivially do not need to change anything.\n\n1994-08-31  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xfns.c (defined_color): New arg ALLOC--optionally don't allocate\n\tthe color.\n\t(x_decode_color, Fx_color_defined_p): Pass new arg.\n\t(Fx_color_values): New function.\n\n1994-08-30  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* frame.c (Fdelete_frame): Fix previous change.\n\n1994-08-30  enami tsugutomo  <enami@sys.ptg.sony.co.jp>\n\n\t* fileio.c (Fwrite_region): unbind_to should take two args.\n\n1994-08-30  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* fileio.c (Ffile_accessible_directory_p): No need for gcpro.\n\n\t* keyboard.c (input_polling_used): New function.\n\t* xterm.c (x_make_frame_visible): Call input_polling_used.\n\n1994-08-28  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* frame.c (Fdelete_frame): Free the frame's glyphs arrays.\n\tFree the line insert/delete cost vectors.\n\n\t* dispnew.c (free_frame_glyphs): No longer static.\n\n\t* m/next.h (HAVE_MACH_MACH_H): Defined.\n\n\t* editfns.c (Finsert_and_inherit_before_markers):\n\tUse insert_before_markers_and_inherit for character args.\n\t(Finsert_and_inherit): Use insert_and_inherit for character args.\n\n\t* insdel.c (insert_before_markers_and_inherit): New function.\n\n\t* cmds.c (internal_self_insert): Use insert_and_inherit.\n\n1994-08-27  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* indent.c (Findent_to): Pass new arg to Finsert_char.\n\n\t* editfns.c (Finsert_char): New arg INHERIT.\n\tUse insert_and_inherit if requested.\n\n\t* insdel.c (insert_1): New arg INHERIT.\n\t(insert_and_inherit): New function.\n\n1994-08-26  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keyboard.c (polling_for_input): Define var unconditionally.\n\t* keyboard.h (polling_for_input): Declared.\n\t* xterm.c: Include keyboard.h.\n\t(x_make_frame_visible): Fix previous change: test polling_for_input\n\tinstead of whether SIGIO is defined.\n\t* Makefile.in.in (xterm.o): Depend on keyboard.h.\n\n1994-08-26  Kevin Rodgers  <kevinr@ihs.com>\n\n\t* xfns.c (Fx_color_defined_p): Return list of RGB values, not just t.\n\n1994-08-26  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* xterm.c (x_make_frame_visible): Call signal handler directly.\n\n1994-08-25  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* s/linux.h: Add LINUX_QMAGIC conditional.\n\n\t* m/alliant-2800.h (USE_NONANSI_DEFUN): Defined.\n\n\t* lisp.h (DEFUN): Check USE_NONANSI_DEFUN.\n\n\t* Makefile.in.in (obj): Put cm.o before term.o.\n\t(Avoids mysterious lossage on Irix.)\n\n\t* xmenu.c (xmenu_show): Don't queue events that are in the menu bar.\n\n1994-08-24  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xmenu.c (xmenu_show): Do nothing special for ButtonPress in the menu.\n\tCall XtDispatchEvent for all ButtonRelease events.\n\txlwmenu.c now deals with posting the menu.\n\tCheck for events in subwidgets of the menu\n\twhen deciding whether to queue them for later handling.\n\n\t* unexelfsgi.c (unexec): Copy previous change in unexelf.c.\n\n\t* s/irix5-0.h [__GNUC__] (LD_SWITCH_SYSTEM): Defined.\n\n1994-08-24  Simon Leinen  <simon@lia.di.epfl.ch>\n\n\t* term.c (term_init): Added missing argument to tgetstr.\n\t(tgetstr): Move declarations to top level.\n\n1994-08-24  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* xterm.c (x_make_frame_visible): Raise a signal to cause the\n\tpending X I/O to be read.\n\n1994-08-24  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xdisp.c (display_scan_buffer): New function.\n\t(display_count_lines): Use that.\n\n\t* intervals.c (textget): Ignore category prop if not a symbol.\n\n1994-08-23  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>\n\n\t* s/gnu.h: New file.\n\n1994-08-23  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* indent.c (pos_tab_offset): Don't trigger point-motion hooks.\n\n\t* buffer.c (Frename_buffer): Fix gcpro problems.\n\t* fileio.c (Fmake_symbolic_link, Ffile_accessible_directory_p,\n\tFinsert_file_contents, auto_save_error, Fwrite_region): Likewise.\n\t(Fcopy_file, build_annotations, Fdo_auto_save): Delete unused\n\tvariables.\n\n1994-08-23  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* fileio.c (O_RDONLY): Defined.\n\t(Finsert_file_contents, Fcopy_file): use it.\n\t(barf_or_query_if_file_exists, Ffile_exists_p): Use stat, not access.\n\t(Ffile_readable_p): Use open, not access.\n\n\t* lread.c (O_RDONLY): Defined.\n\t(openp): Use it.\n\n\t* unexelf.c (unexec): Don't alter the info field\n\tof SHT_SYMTAB and SHT_DYNSYM sections.\n\n\t* xdisp.c (redisplay_window): Don't access text before BEGV.\n\n\t* keyboard.c (read_char): After read_char_minibuf_menu_prompt,\n\tdon't just return; jump to non_reread.\n\n\t* fileio.c (Fmake_directory_internal): Pass just 2 args to handler.\n\n1994-08-23  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* frame.c (Fmake_frame_invisible, Ficonify_frame): Don't switch frames.\n\n1994-08-22  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* search.c (Fstring_match): Fix sign error.\n\n\t* m/ibmrs6000.h (LD_SWITCH_MACHINE): Use full path to ibmrs6000.inp.\n\n1994-08-21  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* m/ibmrs6000.h (LD_SWITCH_MACHINE): Supply m/ibmrs6000.inp as input.\n\n\t* m/ibmrs6000.inp: New file.\n\n1994-08-19  Hiroshi NAKANO  <nakano@whale.math.ryukoku.ac.jp>\n\n\t* unexelf.c: Eliminate local var bss_end.\n\tUpdate the symbol values of _edata and _end.\n\n1994-08-19  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* process.c (wait_reading_process_input):\n\tClear waiting_for_user_input_p before returning.\n\n\t* xterm.c (x_make_frame_visible): Quit if requested, in loop at end.\n\n1994-08-17  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keyboard.c (read_char): Don't show buffer-events to the user.\n\tHandle chars over 255 in dribble files.\n\n1994-08-17  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* callproc.c (Fcall_process_region): gcpro filename_string.\n\n1994-08-17  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* doc.c (store_function_docstring): Do nothing for bytecode object\n\twhich has no slot for doc string.\n\n1994-08-16  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* buffer.c (list_buffers_1): Update header line layout.\n\n1994-08-13  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* s/sol2-4.h (pid_t): New definition.\n\t(vfork): Definition deleted.\n\n\t* xmenu.c (xmenu_show): Unconditionally update x_mouse_grabbed\n\tand Vmouse_depressed.\n\n\t* window.c (window_loop, case UNSHOW_BUFFER):\n\tWhen we delete a frame, skip all the windows on that frame.\n\n1994-08-12  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>\n\n\t* s/isc4-0.h (NEED_SIOCTL): moved to isc-3.0.h.\n\t* s/isc3-0.h (NEED_SIOCTL): moved from isc-4.0.h, and disabled\n\tBROKEN_TIOCGWINSZ since it works fine when you use <sioctl.h>.\n\t(C_SWITCH_SYSTEM): Add -D_SYSV3 to ensure availability of\n\ttraditional non-standard functions.\n\t(memmove): Delete this macro; it screws up <string.h> if you\n\tuse the native cc.  (Emacs already does the right thing anyway.)\n\n1994-08-12  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* indent.c (compute_motion): Use WIN's frame, not selected one.\n\n\t* xterm.c (x_new_font): Don't set filename = full_name if that's null.\n\n1994-08-11  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* Makefile.in.in (FRAME_SUPPORT): Add faces.elc.\n\n\t* search.c (Freplace_match): Treat caseless initial like a\n\tlowercase initial.\n\n\t* keymap.c (Fdefine_key): Fix error message.\n\t(Fsingle_key_description): Likewise.\n\n1994-08-10  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* s/sol2-3.h (POSIX_SIGNALS): Define it.\n\t(PTY_TTY_NAME_SPRINTF): New overriding definition.\n\t(sigsetmask): Add #undefs.\n\n\t* s/sol2-4.h (POSIX_SIGNALS, PTY_TTY_NAME_SPRINTF, sigsetmask):\n\tDelete those things (moved to sol2-3.h).\n\n\t* s/sol2-4.h (HAVE_VFORK): Deleted.\n\t(vfork): Define as emacs_vfork.\n\n\t* window.c (Fwindow_end): Undo previous change.\n\n1994-08-09  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keyboard.c (record_asynch_buffer_change): Do nothing\n\texcept when waiting_for_user_input_p.\n\n\t* m/i860.h [USG5_4] (SVR4): Defined.\n\n\t* xdisp.c (display_text_line):\n\tMake previous change #ifdef HAVE_X_WINDOWS.\n\n1994-08-08  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* puresize.h [MULTI_FRAME] (PURESIZE): Increased.\n\n\t* window.c (Fwindow_end): If window_end_valid is nil, return nil.\n\n\t* window.c (Fpos_visible_in_window_p): Do something reasonable\n\tif w->start is outside the buffer bounds.\n\n1994-08-07  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* s/sol2-4.h (PTY_TTY_NAME_SPRINTF): New definition.\n\t(sigsetmask): Add #undef.\n\n\t* keymap.c (Faccessible_keymaps): Fix previous change.\n\n1994-08-06  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xdisp.c (display_text_line): Use the face properties\n\tof the overlay arrow, if any.\n\n\t* xfaces.c (compute_glyph_face_1): New function.\n\n\t* m/intel386.h (LIBS_MACHINE): If SOLARIS2_4, don't define this.\n\t* s/sol2-4.h (SOLARIS2_4): Defined.\n\n1994-08-05  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keymap.c (Fuse_global_map, Fuse_local_map):\n\tCall record_asynch_buffer_change.\n\n\t* xterm.c (XTread_socket):\n\tDon't test X_IO_BUG; make that code unconditional.\n\t(x_noop_count, x_term_init): Likewise.\n\n1994-08-04  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* data.c (Fdefine_function, Fdefalias): Handle advice as in Ffset.\n\t(Qad_advice_info): Lisp and C names renamed from Qadvice_info.\n\t(Qad_activate): C name renamed from Qactivate_advice.\n\n\t* fileio.c (Fread_file_name_internal): Call double_dollars\n\twhen `changed' is set.\n\n1994-08-03  Caveh Jalali  (caveh@eng.sun.com)\n\n\t* m/intel386.h [SOLARIS2] (VALBITS, GCTYPEBITS): New definitions.\n\n\t* s/sol2-4.h: New file.\n\n1994-08-03  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* buffer.c (list_buffers_1): Add one column to size column.\n\n\t* xterm.c (x_make_frame_visible): Start one_in_four at 1.\n\n\t* window.c (Fwindow_end): Doc fix.\n\n\t* xterm.c (construct_mouse_click, construct_menu_click):\n\tDon't update x_mouse_grabbed, Vmouse_depressed, last_mouse_frame here.\n\t(XTread_socket): Update them here, so we do it without fail.\n\t(XTmouse_position, XTread_socket case MotionNotify):\n\tCheck last_mouse_frame is nonzero before using it.\n\n\t* Makefile.in.in (alloca.o): Use -f in all rm's.\n\n1994-08-02  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keymap.c (Faccessible_keymaps): Use PREFIX to set loop starting\n\tpoint; don't even consider maps except those reached via prefix.\n\n\t* keyboard.c (make_lispy_event): If the position is not in a window,\n\tat least pass along the frame it is in.\n\n1994-08-01  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>\n\n\t* data.c (Ffset): Don't call Fget unless SYM's plist is consp.\n\n1994-08-01  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* eval.c (Fprog2): Doc fix.\n\n\t* window.c (Fmove_to_window_line): Doc fix.\n\n1994-08-01  Frederic Pierresteguy  (F.Pierresteguy@frcl.bull.fr)\n\n\t* xmenu.c (xmenu_show): Ignore any geometry resource from the user.\n\n1994-07-31  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xfns.c (Fx_get_resource): Doc fix.\n\n\t* data.c (syms_of_data): Set up Qadvice_info, Qactivate_advice.\n\t(Ffset): Activate advice if symbol has advice-info property.\n\n\t* xdisp.c (redisplay_window): Avoid using SET_PT to change point\n\ttemporarily.\n\n\t* dispnew.c (sit_for): Undo previous change.\n\n1994-07-30  enami tsugutomo  <enami@sys.ptg.sony.co.jp>\n\n\t* dispnew.c (direct_output_for_insert): Pass missing 8th\n\targument to compute_char_face.\n\n1994-07-30  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* keyboard.c (follow_key): Don't downcase letters here.\n\tDelete arg `case_converted'.\n\t(read_key_sequence): Do it here; but not if in middle of fcn key.\n\n\t* fns.c (Frandom): Handle LIMIT >= 40000000.\n\n\t* xdisp.c (decode_mode_spec): Handle %&.\n\n1994-07-29  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* process.c (create_process): Set default handling for SIGINT, etc.\n\n1994-07-28  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* process.c (wait_reading_process_input): Fix previous change.\n\n\t* s/hpux9.h (HAVE_TERMIOS, NO_TERMIO): Defined.\n\t(HAVE_TERMIO): Add #undef.\n\n\t* sysdep.c (random): Use rand differently, and distinguish BSD/USG.\n\n\t* fns.c (Frandom): Fix previous change.\n\n1994-07-27  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* syssignal.h [POSIX_SIGNALS] (signal): New definition.\n\n\t* config.h.in (HAVE_RAND48): Add #undef.\n\n1994-07-26  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xterm.c (x_queue_event, x_unqueue_events): New functions.\n\t(x_start_queuing_selection_requests): New function.\n\t(x_stop_queuing_selection_requests): New function.\n\t(XTread_socket): Queue up SelectionRequest events sometimes.\n\t* xselect.c (x_get_foreign_selection): Use the new feature\n\tto queue up SelectionRequest events.\n\n\t* process.c (wait_reading_process_input): If wait_for_cell,\n\tdo check for keyboard input and handle it.\n\n\t* fns.c (Frandom): Use just the low 30 bits of random's value.\n\n\t* sysdep.c (random, srandom): Obey HAVE_RAND48 flag.\n\tTest that random is not a macro.  Don't test USG or BSD4_1.\n\n\t* m/tek4300.h (tek4300): Don't define if already defined.\n\n1994-07-25  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* m/tek4300.h (BSD_PGRPS): Defined.\n\n\t* puresize.h (PURESIZE): Increase non-MULTI_FRAME value.\n\n\t* editfns.c (get_system_name): Add a cast.\n\n\t* config.h.in: Add #undef HAVE_H_ERRNO.\n\t* process.c, sysdep.c [!HAVE_H_ERRNO]: Declare h_errno.\n\t* sysdep.c (init_system_name): Set h_errno to 0 initially.\n\t* process.c (Fopen_network_stream): Set h_errno to 0 initially.\n\n\t* window.c (Fdisplay_buffer): Add MULTI_FRAME cond in last change.\n\n\t* Makefile.in.in: Add #undef alloca.\n\n1994-07-23  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* minibuf.c (Fdisplay_completion_list): gcpro `completions'.\n\n\t* print.c (internal_with_output_to_temp_buffer): gcpro things.\n\n\t* puresize.h (PURESIZE): Incremented to 252000.\n\n1994-07-23  Jim Blandy  (jimb@totoro.bio.indiana.edu)\n\n\t* .gdbinit: Set the breakpoint in x_error_quitter instead of\n\t_XPrintDefaultError.\n\n1994-07-20  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* window.c (Fnext_window, Fprevious_window): Don't get stuck in a loop\n\tin the minibuffer frame.\n\n\t* dispnew.c (direct_output_for_insert): Dpn't call compute_char_face\n\tfor a non-X frame.\n\n\t* s/usg5-4.h: Move #undef static before the includes.\n\n\t* xrdb.c [USG5] (SYSV): Don't define if already defined.\n\n\t* fileio.c (Fwrite_region): Do unwind the new unwind protect.\n\n1994-07-19  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* xterm.c (struct font_info): New field full_name.\n\t(x_new_font): Record, and return, the full name of the font.\n\n\t* widget.c (EmacsFrameSetCharSize): Delete the code to make rows at\n\tleast 3.\n\n\t* fileio.c (Vwrite_region_annotations_so_far): New variable.\n\t(syms_of_fileio): Set up Lisp var.\n\t(build_annotations): Handle annotate functions that switch buffers.\n\tSet Vwrite_region_annotations_so_far.\n\t(Fwrite_region): Handle change of buffer in build_annotations.\n\tAdd an unwind protect to restore original buffer and kill the temp.\n\n\t* sysdep.c (init_system_name): Retry gethostbyname after TRY_AGAIN\n\tfailure.\n\n\t* process.c (Fopen_network_stream):\n\tRetry gethostbyname after TRY_AGAIN failure.\n\n\t* s/isc4-0.h [__GNUC__] (LIBX11_SYSTEM): Add -lcposix.\n\n\t* s/usg5-4.h (PTY_TTY_NAME_SPRINTF): Fail smoothly if cannot get pty.\n\n\t* sysdep.c (sys_subshell): Expand ~ in dir.\n\tDo the processing of dir before calling fork.\n\tUse vfork.\n\n1994-07-18  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* xterm.c (note_mouse_movement): Use proper data type for window\n\targs to XQueryPointer.\n\t(x_scroll_bar_note_movement): Likewise.\n\n\t* keyboard.c (Vdeferred_action_list, Vdeferred_action_function):\n\tNew variables.\n\t(command_loop_1): Handle them.\n\t(syms_of_keyboard): Set up Lisp variables.\n\n\t* s/linux.h [emacs]: Include stdio.h.\n\n\t* commands.h (unread_command_char): Declare.\n\t* dispnew.c (sit_for): Return immediately if unread events exist.\n\n1994-07-17  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* textprop.c (Fget_text_property): Simplify using Ftext_properties_at.\n\n1994-07-17  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n\n\t* xfns.c (Fx_create_frame): Use 140 as default font size.\n\n\t* xmenu.c [USE_X_TOOLKIT] (xmenu_show): Handle UnmapNotify events.\n\n1994-07-16  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* window.c (Fdisplay_buffer): Cope with unsplittable frames\n\tand dedicated windows.\n\n\t* frame.c [!MULTI_FRAME] (Fframe_first_window): Defined.\n\t(syms_of_frame): Defvar it.\n\n1994-07-14  Morten Welinder  (terra@diku.dk)\n\n\t* s/msdos.h (HAVE_VOLATILE): Define.\n\n1994-07-14  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* keyboard.c (safe_run_hooks): Use local var to restore hook's value.\n\n1994-07-13  Morten Welinder  (terra@diku.dk)\n\n\t* keyboard.c (kbd_buffer_get_event) [HAVE_MOUSE]: Include code\n\tto check for mouse dragging.\n\t(make_lispy_movement) [HAVE_MOUSE]: Define also in this case,\n\tbut only include the non-multiframe stuff.\n\n\t* msdos.c (mouse_init1): Use alternate mouse detection for old\n\tmouse drivers.\n\t(mouse_get_pos): Downscale coordinates by 8.\n\n1994-07-13  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* window.c (Fselect_window): Fix bug checking new_point is in range.\n\n\t* fileio.c (syms_of_fileio): Finish previous change.\n\n\t* keyboard.c (command_loop_1): Do direct output for cursor motion\n\tover text chars when disp tab exists but says nothing for them.\n\n\t* frame.h (FRAME_EXTERNAL_MENU_BAR) [!USE_X_TOOLKIT]: Give zero.\n\n\t* xdisp.c [!HAVE_X_WINDOWS] (compute_char_face, compute_glyph_face):\n\tAdd simple alternate definitions for non-X case.\n\n1994-07-12  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* process.c (Qlast_nonmenu_event): New variable.\n\t(syms_of_process): Set it up.\n\t(read_process_output, exec_sentinel): Bind it to t around filter.\n\n\t* fileio.c (Fmake_directory_internal): Use Qmake_directory_internal.\n\t(syms_of_fileio): Set up Qmake_directory_internal, not Qmake_directory.\n\n\t* frame.c [MULTI_FRAME] (Fframe_parameters): For non-X frames,\n\tfill in menu-bar-lines value.\n\n1994-07-11  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* xmenu.c (xmenu_show): Don't call XtUngrabPointer here.\n\n\t* Makefile.in.in (ctagsfiles): Rewrite to avoid compiler bug.\n\n1994-07-10  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* window.c (Fdisplay_buffer): Add MULTI_FRAME conditional\n\tin previous change.\n\n1994-07-10  Morten Welinder  (terra@diku.dk)\n\n\t* m/intel386.h [MSDOS] (NO_REMAP): Defined.\n\t* s/msdos.h (HAVE_MOUSE, PURESIZE): Definitions moved here.\n\t* m/dos386.h: File obsolete and deleted.\n\n\t* msdos.c (dos_rawgetc): Use bios, not kbhit.\n\n1994-07-09  Morten Welinder  (terra@diku.dk)\n\n\t* fileio.c (Ffile_name_directory, Ffile_name_nondirectory,\n\tfile_name_as_directory, directory_file_name, Fexpand_file_name,\n\tFfile_name_absolute_p, Fsubstitute_in_file_name) [MSDOS]:\n\tAllow backslashed file names.\n\n1994-07-09  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* puresize.h (PURESIZE) [MULTI_FRAME]: Increased to 250000.\n\n\t* lread.c (readevalloop): Correctly unbind the unwind protect.\n\n1994-07-08  Morten Welinder  (terra@diku.dk)\n\n\t* msdos.c (do_visible_bell): Clean-up using GNU assembly extension.\n\n1994-07-07  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* m/sparc.h (BIG_ENDIAN): Don't redefine if defined.\n\n\t* Makefile.in.in (alloca.o): Delete allocatem.c first thing.\n\n\t* xmenu.c (xmenu_show) {USE_X_TOOLKIT}: ButtonPress no longer pops\n\tdown; instead it forces the next ButtonRelease to exit.  Don't\n\tdispatch on ButtonPress events.\n\n\t* xfns.c (syms_of_xfns): Provide x-toolkit in toolkit version.\n\tUndo previous change.\n\t(x_toolkit): Variable deleted.\n\n\t* xfns.c (x_toolkit): New variable.\n\t(syms_of_xfns): Set up Lisp var x-toolkit.\n\n\t* window.c (Fnext_window, Fprevious_window): ALL_FRAMES = 0 means\n\ttry both visible frames and iconified frames.\n\t(window_loop): Likewise, for FRAMES = 0.\n\t(Fget_buffer_window): Likewise, for FRAME = 0.\n\t(Fdisplay_buffer): Pass 0 to Fget_buffer_window;\n\tif the frame is iconified, make it visible.\n\n\t* frame.c (next_frame, prev_frame):\n\tMINIBUF = 0 means try visible frames and iconified frames.\n\n1994-07-06  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* xmenu.c (xmenu_show) [USE_X_TOOLKIT]: Keyboard input exits the menu.\n\tButtonRelease does so if within Vdouble_click_time.\n\tIgnore mouse motion if button was already released.\n\t(menu_item_selection): Declare volatile, if __STDC__.\n\n\t* keyboard.c (make_lispy_event): Ignore menu bar up events.\n\n1994-07-05  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* doprnt.c (doprnt): Handle padding on %c.\n\n\t* frame.c (next_frame, prev_frame): Change which frames to use\n\twhen MINIBUF is a window.\n\t(Fnext_frame, Fprevious_frame): Doc fixes.\n\n\t* window.c: Doc fixes.\n\n1994-07-04  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* xterm.c (XTread_socket, construct_menu_click) [USE_X_TOOLKIT]:\n\tUpdate x_mouse_grabbed and Vmouse_depressed.\n\n1994-07-02  Richard Stallman  (rms@gnu.ai.mit.edu)\n\n\t* xdisp.c (decode_mode_spec): %+ makes % for unmodified RO buffer.\n\n\t* buffer.c (syms_of_buffer): Doc fix.\n\n\t* xfaces.c (get_cached_face): Set the cached_index field.\n\n1994-07-01  Richard Stallman  (rms@gnu.ai.mit.edu)\n\n\t* sysdep.c (init_sys_modes): Turn off VSTART and VSTOP chars.\n\tOn DGUX, turn off INPCK.\n\n1994-07-01  Paul Reilly  (pmr@churchy.gnu.ai.mit.edu)\n\n\t* xfns.c (Fx_create_frame): Add GC protection for frame being made.\n\n1994-06-30  Richard Stallman  (rms@gnu.ai.mit.edu)\n\n\t* xterm.c (x_make_frame_visible): In x_sync loop at the end,\n\tevery fourth time, sleep for 1/4 second.\n\n\t* xselect.c (x_own_selection, x_get_foreign_selection):\n\tGet rid of spurious X_TOOLKIT conditional.\n\n\t* frame.c (Fdelete_frame): Call x_clear_frame_selections.\n\n\t* xselect.c (x_own_selection): Put the frame in Vselection_alist.\n\t(x_clear_frame_selections): New function.\n\n\t* xterm.c (x_draw_box): Use curs_x and curs_y, not f->cursor_[xy].\n\n\t* xfns.c (XLIB_ILLEGAL_ACCESS): Defined.\n\n1994-06-29  Richard Stallman  (rms@gnu.ai.mit.edu)\n\n\t* s/hpux.h (random, srandom): Defined.\n\n\t* cmds.c (internal_self_insert): Now can return 2.\n\t* keyboard.c (command_loop_1): Don't clear nonundocount\n\twhen internal_self_insert returns 1.\n\n1994-06-28  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* xfns.c (x_set_frame_parameters): Call x_set_offset directly.\n\tHandle `-' for position parameters.\n\n1994-06-28  Karl Heuer  (kwzh@hal.gnu.ai.mit.edu)\n\n\t* lread.c (readchar): Restart interrupted I/O.\n\n1994-06-28  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)\n\n\t* fileio.c (a_write): Loop while *ANNOT is listp, not consp.\n\tPrevious code omitted all data from output files when *ANNOT was\n\tnil.\n\n1994-06-28  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* xfns.c (x_set_name): If no change needed, avoid consing.\n\n\t* xdisp.c (prepare_menu_bars): Call x_consider_frame_title\n\tonly if windows_or_buffers_changed.\n\n\t* keyboard.c (safe_run_hooks): Take symbol as arg.\n\tUse Fsymbol_value and Fset.\n\t(command_loop_1): Pass symbol to safe_run_hooks.\n\tLook in the value cell to check for trivial case (no hooks).\n\n\t* xdisp.c (redisplay_region): For special treatment, BUF most be\n\tboth current and displayed in selected window.\n\n\t* buffer.c (Foverlay_put): Pass redisplay_region a struct buffer *.\n\n1994-06-27  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* fileio.c (a_write): Verify that *annot is a cons.\n\n1994-06-26  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* keyboard.c (echo_dash): Fix backwards conditional.\n\t(read_key_sequence): Don't echo if echo_keystrokes is 0.\n\n\t* m/news-risc.h (C_DEBUG_SWITCH) [not NEWSOS5]:\n\tDon't define if __GNUC__.\n\t(KERNEL_FILE) [not NEWSOS5]: New override definition.\n\n1994-06-25  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* process.c (send_process): Major rewrite.\n\tDon't put in a C-d unless a single line is too long.\n\tRead process input whenever output gets stuck.\n\tRelocate BUF if we read input.  New arg OBJECT.\n\t(Fprocess_send_region, Fprocess_send_string, process_send_signal)\n\t(Fprocess_send_eof): Pass new arg OBJECT.\n\n\t* buffer.h (BUF_PTR_CHAR_POS): New macro.\n\n\t* window.c (Fsave_window_excursion): Doc fix.\n\n\t* s/hpux9.h (C_SWITCH_SYSTEM): Add -D_BSD.\n\n\t* frame.c (Fframe_parameters): Don't handle menu-bar-lines explicitly.\n\n\t* window.c (Fother_window_for_scrolling): New function.\n\t(Fscroll_other_window): Use that.\n\t(syms_of_window): defsubr it.\n\n1994-06-24  Karl Heuer  (kwzh@nutrimat.gnu.ai.mit.edu)\n\n\t* fileio.c (Finsert_file_contents): Fix check for non-regular files.\n\n1994-06-24  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* syntax.c (scan_lists, Fforward_comment): When moving backward over\n\ta comment, ignore a comment-starter that overlaps the comment-ender.\n\n\t* minibuf.c (Fcompleting_read): Doc fix.\n\n1994-06-23  Karl Heuer  (kwzh@hal.gnu.ai.mit.edu)\n\n\t* keyboard.c (syms_of_keyboard): Don't staticpro the same var twice.\n\n1994-06-23  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* s/convexos.h: File deleted.\n\n\t* xterm.c: Don't include string.h or strings.h.\n\n\t* term.c (term_get_fkeys): Don't redeclare term_get_fkeys_1 here.\n\n\t* m/convex.h (LIBS_MACHINE, GETPGRP_NO_ARG): Defined.\n\t(NLIST_NAME_UNION, DECLARE_GETPWUID_WITH_UID_T): Defined.\n\t(CRT0_DUMMIES): Conditionalize according to __GNUC__.\n\t(convex): Define if necessary.\n\t(C_SWITCH_MACHINE): Definition deleted.\n\n1994-06-22  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* buffer.c (Fmove_overlay): Fix typo in previous change.\n\n\t* s/sunos4shr.h (X_IO_BUG): Defined.\n\n1994-06-21  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* minibuf.c (read_minibuf_unwind): Run Qminibuffer_exit_hook here.\n\t(read_minibuf): Not here.\n\n\t* buffer.c (Fkill_buffer): Don't delete auto save file\n\tif it didn't come from this Emacs session.\n\t(Fmove_overlay): Add missing XINT calls in previous change.\n\n1994-06-20  Karl Heuer  (kwzh@hal.gnu.ai.mit.edu)\n\n\t* xfns.c (x_window): Delete duplicate computation.\n\tChange type of reference argument from int to Dimension.\n\n1994-06-20  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* config.h.in: Move #undef HAVE_STRERROR before the #includes.\n\n\t* m/mips4.h (HAVE_STRERROR, HAVE_XRMSETDATABASE)\n\t(HAVE_XSCREENRESOURCESTRING, HAVE_SETSID): Add #undefs.\n\n\t* buffer.c (Fmove_overlay): Call redisplay_region even when\n\tchanging to a different buffer.\n\n\t* syntax.c (Fmatching_paren): Fix typo.\n\n\t* xterm.c (show_mouse_face): Set endcolumn ok in side-by-side windows.\n\n1994-06-19  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* s/linux.h (SEGMENT_MASK): Defined.\n\n\t* xfns.c (x_window): Take account of pane widget internal border width.\n\n\t* s/linux.h (C_OPTIMIZE_SWITCH): Definition deleted.\n\n\t* lisp.h (RETURN_UNGCPRO): Swallow semicolon.\n\t(GCPRO5): New macro.\n\n\t* xmenu.c (single_keymap_panes): Put menu_item_equiv_key in the gcpro.\n\t(menu_item_equiv_key): GCPRO things.\n\n\t* keymap.c (Flookup_key): Add gcpro.\n\t(Fkey_binding, Fminor_mode_key_binding): Likewise.\n\t(Fwhere_is_internal): Likewise.\n\n\t* keyboard.c (apply_modifiers): Use assq_no_quit.\n\n1994-06-19  Erik Naggum  (erik@naggum.no)\n\n\t* syntax.h (SYNTAX_MATCH): Fix typo (syntax -> matcher).\n\n\t* syntax.c (Fmatching_paren): New function.\n\t(Fchar_syntax): Pass arg directly to SYNTAX, no masking.\n\n1994-06-18  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* .gdbinit: Doc fixes.\n\t(xsymbol): Cast $ to int.\n\t(xvector, xstring): Don't use a string constant.\n\tReduce size limit for printing contents.\n\n\t* s/sol2.h (GETTIMEOFDAY_ONE_ARGUMENT): Undo previous change.\n\n1994-06-18  Francesco Potort\u00ec  (pot@fly.cnuce.cnr.it)\n\n\t* m/delta.h (memmove): switch the first two args.\n\n1994-06-18  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* xterm.c (x_make_frame_visible): At end, wait till Emacs sees\n\tframe is visible.\n\n\t* keyboard.c (echo_after_prompt): New variable.\n\t(echo_prompt, cancel_echoing): Set it.\n\t(echo_dash): Test it.\n\n\t* s/linux.h (C_DEBUG_SWITCH): Define, if THIS_IS_CONFIGURE.\n\t(HAVE_GETTIMEOFDAY, HAVE_MKDIR, HAVE_RMDIR):\n\t(HAVE_XSCREENNUMBEROFSCREEN, HAVE_XRMSETDATABASE):\n\tComment out these definitions.\n\n\t* Makefile.in.in (doprnt.o): Depend on config_h.\n\n1994-06-17  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* systime.h (EMACS_GET_TIME): Test GETTIMEOFDAY_ONE_ARGUMENT,\n\tnot USG5_4.\n\t* s/usg5-4.h (GETTIMEOFDAY_ONE_ARGUMENT): Define it.\n\t* s/sol2.h (GETTIMEOFDAY_ONE_ARGUMENT): Undef it.\n\n\t* xfns.c (x_real_positions): Make sure we know the parent window.\n\n1994-06-17  Karl Heuer  (kwzh@hal.gnu.ai.mit.edu)\n\n\t* window.h (minibuf_prompt): Now a Lisp_Object.  All uses changed.\n\n\t* minibuf.c (minibuf_save_list): New variable, replaces\n\tminibuf_save_vector.\n\t(read_minibuf): Cons it up.\n\t(read_minibuf_unwind): Pop back the saved values.\n\t(syms_of_minibuf): staticpro it.\n\n\t* indent.c (compute_motion): Recenter overlays, for speed.\n\n1994-06-17  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* xterm.c (scratch_cursor_gc): New variable.\n\t(dumpglyphs): Rework handling of GCs for cursor display\n\tto use scratch_cursor_gc, and reuse the GC more.\n\n1994-06-16  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* unexec.c (make_hdr): Handle case of no \"additional header\".\n\n\t* xdisp.c (redisplay_region): Treat selected window's buffer\n\tspecially, not current buffer.\n\n\t* syssignal.h [USG5_4] (sigblock): Use |, not &.\n\n1994-06-16  Karl Heuer  (kwzh@hal.gnu.ai.mit.edu)\n\n\t* xdisp.c (redisplay_window): Don't use shortcut if window_end_vpos\n\tis out of date.\n\n1994-06-16  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* process.c (Fprocess_status): Return nil for process name\n\tthat has no process.\n\n\t* dispnew.c (syms_of_display): Make baud-rate a user var.\n\n\t* syntax.c (scan_lists): Get error if eob within comment with depth!=0.\n\n1994-06-16  Roland McGrath  (roland@geech.gnu.ai.mit.edu)\n\n\t* unexec.c: Include <sys/file.h> and [USG5] <fcntl.h> to define\n\tO_* macros.\n\t(O_RDONLY, O_RDWR): Define if undefined.\n\t[emacs] (report_error): Use report_file_error so the user can tell\n\twhat the errno code was.\n\t(unexec): Use O_RDONLY instead of explicit 0.\n\t(make_hdr): Don't undo A_TEXT_OFFSET adjustment #ifndef NO_REMAP,\n\tsince it was never adjusted earlier #ifndef NO_REMAP.\n\t(adjust_lnnoptrs): Use O_RDWR instead of explicit 2.\n\n1994-06-15  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* xterm.c (x_noop_count): New variable.\n\t(x_term_init) [X_IO_BUG]: Init it.\n\t(XTread_socket) [X_IO_BUG]: Don't do XNoOp every time, just 1 in 100.\n\n1994-06-15  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* syssignal.h (sigblock) [USG5_4]: Define if not defined.\n\n1994-06-14  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* lread.c: Put config.h first.\n\n\t* hftctl.c: Put sys/signal.h and errno.h first, then config.h.\n\n\t* dired.c: Put stdio.h, sys/types.h and sys/stat.h after config.h.\n\n\t* callproc.c, dispnew.c, frame.c, term.h: Put stdio.h after config.h.\n\t* widget.c, xmenu.c, xterm.c: Put stdio.h after config.h.\n\n1994-06-14  Karl Heuer  (kwzh@hal.gnu.ai.mit.edu)\n\n\t* sysdep.c (init_system_name): New function, replaces get_system_name.\n\t* lisp.h: declare it.\n\t* editfns.c (init_editfns): Call it.\n\t(get_system_name): New function, now just uses Vsystem_name.\n\t* xterm.c (x_term_init): Use Vsystem_name instead of calling\n\tget_system_name.\n\n\t* keymap.c (Fsingle_key_description): Allow strings as keys.\n\n\t* process.c (create_process): Set input_wait_mask before forking.\n\n1994-06-14  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* indent.c (vmotion): Use find_next_newline_no_quit.\n\t(indented_beyond_p): Likewise.\n\n\t* search.c (find_next_newline_no_quit): New function.\n\n\t* sysdep.c (init_sys_modes): Don't set up sigio here if window system.\n\n\t* keyboard.c (read_key_sequence): Verify event has a POSN_BUFFER_POSN\n\tbefore trying to extract it.\n\n\t* eval.c (init_eval_once): Call xmalloc, not malloc.\n\n\t* process.c (Fprocess_send_eof): Doc fix.\n\n1994-06-13  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* keyboard.c (interrupt_signal, init_keyboard):\n\tDon't handle SIGINT and SIGQUIT if using window system directly.\n\n\t* sysdep.c (init_sys_modes): Don't call set_terminal_modes\n\tif using a window system.\n\n\t* xterm.c (XTread_socket): Use x_top_window_to_frame in prev change.\n\n\t* s/sol2.h (SOLARIS2): Defined.\n\n\t* m/intel386.h: Add conditional for SOLARIS2.\n\n1994-06-13  Karl Heuer  (kwzh@hal.gnu.ai.mit.edu)\n\n\t* xmenu.c (single_keymap_panes): gcpro some things.\n\n1994-06-13  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* xterm.c (XTread_socket): Handle Xatom_wm_save_yourself\n\tby calling XSetCommand.\n\n\t* emacs.c (init_cmdargs): Set up initial_argv, initial_argc.\n\n\t* keyboard.c (syms_of_keyboard): Properly init Vsystem_key_alist.\n\n\t* unexaix.c (adjust_lnnoptrs): Handle multiple aux symbols.\n\n1994-06-12  Karl Heuer  (kwzh@hal.gnu.ai.mit.edu)\n\n\t* editfns.c (transpose_markers): Allow for gap at start of region.\n\t(Ftranspose_regions): Don't precompute pointers into buffer text.\n\n1994-06-12  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* xfns.c (x_window): Request \"save yourself\" commands.\n\n\t* callint.c (Fcall_interactively): Ignore `-' in string.\n\t(Fcall_interactively): Don't call minibuffer-window-active-p;\n\tdetermine directly whether a minibuf window is active.\n\n\t* keyboard.c (read_char): When we loop and call redisplay,\n\tdo prepare_menu_bars first.\n\n1994-06-11  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* search.c (Freplace_match): Be sure not to treat non-digit like digit.\n\n\t* xmenu.c (xmenu_show): Don't call XMenuDestroy twice\n\tin XM_FAILURE case.\n\n\t* Makefile.in.in (xterm.o): Depend on dispextern.h.\n\n\t* s/sunos4-1-3.h (X_IO_BUG): Defined.\n\n1994-06-10  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* s/linux.h (CLASH_DETECTION): Defined.\n\n\t* minibuf.c (Fdisplay_completion_list):\n\tRequire at least two spaces between items.\n\n1994-06-07  Richard Stallman  (rms@geech.gnu.ai.mit.edu)\n\n\t* keyboard.c (command_loop_1):\n\tTreat nil in display tab like no display tab.\n\n1994-06-07  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* m/mips-siemens.h: Include pyramid.h, not mips.h.\n\t(LOAD_AVE_TYPE, LOAD_AVE_CVT): Definitions deleted.\n\t(NO_ARG_ARRAY, HAVE_ALLOCA): Defined.\n\t(BROKEN_FIONREAD): Add #undef.\n\n1994-06-07  Morten Welinder  (terra@diku.dk)\n\n\t* msdos.c (init_environment): Clean up code and make the default\n\tEMACSPATH equal to the directory from which Emacs was started.\n\t(emacsroot): New variable.\n\t(rootrelativepath): New function.\n\t* msdos.h: Add template for rootrelativepath.\n\t* lread.c [MSDOS]: #include \"msdos.h\".\n\t* callproc.c (init_callproc) [MSDOS]: Exclude less code, so ../etc\n\tis still tested for doc file.\n\n1994-06-06  Karl Heuer  (kwzh@hal.gnu.ai.mit.edu)\n\n\t* fns.c (Fy_or_n_p, Fyes_or_no_p) [HAVE_X_MENU]: Redisplay before\n\tpopping up a menu.\n\n\t* dispnew.c (Fframe_or_buffer_changed_p): Reuse the state vector.\n\n1994-06-06  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* frame.c (Ficonify_frame, Fmake_frame_invisible, Fmake_frame_visible):\n\tIncrement windows_or_buffers_changed.\n\n\t* xdisp.c (redisplay): Don't call x_consider_frame_title.\n\t(display_mode_line): Likewise.\n\t(prepare_menu_bars): Call it here.\n\n1994-06-06  Karl Heuer  (kwzh@hal.gnu.ai.mit.edu)\n\n\t* dispnew.c (Fframe_or_buffer_changed_p): New function.\n\n1994-06-05  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* xterm.c (x_wm_set_icon_position, x_wm_set_icon_pixmap):\n\t[USE_X_TOOLKIT]: Use top-level widget's window.\n\n\t* s/bsd386.h (BSD): Redefine.\n\t(WAITTYPE, WRETCODE, WCOREDUMP): New definitions.\n\tInclude wait.h.\n\n\t* m/sun386.h (LIBS_MACHINE) [USG]: New #define.\n\n\t* xterm.c (x_term_init): New args xrm_option and resource_string.\n\tPass an -xrm option to XtAppInitialize if appropriate.\n\n\t* xfns.c (Fx_open_connection): Set up Vx_resource_name and xrm_option\n\tbefore calling x_term_init.  Pass new args.\n\n\t* keyboard.c (modify_event_symbol): Return nil if out of range.\n\n\t* keymap.c (Fkey_description): Avoid using Fmapconcat--do it directly.\n\n\t* keyboard.c, dispnew.c: Include systime.h after xterm.h.\n\n\t* xfns.c (x_window): Take account of internal border of paned widget.\n\n\t* m/dos386.h (PURESIZE): Increased to 240000.\n\n\t* xfns.c (using_x_p): New function.\n\t* fns.c (Fy_or_n_p): Don't use dialog box if not an X frame.\n\t(Fyes_or_no_p): Likewise.\n\n1994-06-04  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* s/hpux9shr.h (C_DEBUG_SWITCH): Define as empty.\n\n1994-06-03  Morten Welinder  (terra@diku.dk)\n\n\t* callproc.c [MSDOS]: #include \"msdos.h\" for rootrelativepath\n\ttemplate.\n\n\t* msdos.c (run_msdos_command): Make local copy of argv[2] on stack,\n\tnot on heap.\n\t(run_msdos_command): When changing argv[2] from using slashes to\n\tusing backslashes, only do so on the first white-space delimited\n\tpart.\n\n1994-06-02  Karl Heuer  (kwzh@hal.gnu.ai.mit.edu)\n\n\t* textprop.c (Fprevious_single_property_change): Check for null\n\tinterval after correcting for edge effects.\n\n\t* xdisp.c (display_text_line): Make sure pointer is in range.\n\n\t* xmenu.c (xdialog_show): Fix problem with message in dialog box.\n\n1994-06-02  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* emacs.c (main): Do the setpgrp after checking for -batch.\n\n\t* keyboard.c (command_loop_1): Properly handle nil in display table.\n\n\t* s/hpux9.h (C_SWITCH_SYSTEM): Put inside __GNUC__ conditional.\n\n1994-06-01  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n\n\t* process.c (kill_buffer_processes): For net conn, use Fdelete_process.\n\nSee ChangeLog.4 for earlier changes.\n\n;; Local Variables:\n;; coding: utf-8\n;; End:\n\n  Copyright (C) 1994-1995, 2001-2017 Free Software Foundation, Inc.\n\n  This file is part of GNU Emacs.\n\n  GNU Emacs is free software: you can redistribute it and/or modify\n  it under the terms of the GNU General Public License as published by\n  the Free Software Foundation, either version 3 of the License, or\n  (at your option) any later version.\n\n  GNU Emacs is distributed in the hope that it will be useful,\n  but WITHOUT ANY WARRANTY; without even the implied warranty of\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  GNU General Public License for more details.\n\n  You should have received a copy of the GNU General Public License\n  along with GNU Emacs.  If not, see <http://www.gnu.org/licenses/>.\n",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/src/dynlib.c": "/* Portable API for dynamic loading.\n\nCopyright 2015-2017 Free Software Foundation, Inc.\n\nThis file is part of GNU Emacs.\n\nGNU Emacs is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or (at\nyour option) any later version.\n\nGNU Emacs is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with GNU Emacs.  If not, see <http://www.gnu.org/licenses/>.  */\n\n\n/* Assume modules are enabled on modern systems...  *Yes*, the\n   preprocessor macro checks could be more precise.  I don't care.\n\n   If you think the abstraction is too leaky use libltdl (libtool),\n   don't reinvent the wheel by fixing this one.  */\n\n#include <config.h>\n\n#include \"dynlib.h\"\n\n#ifdef WINDOWSNT\n\n/* MS-Windows systems.  */\n\n#include <errno.h>\n#include \"lisp.h\"\n#include \"w32common.h\"\t/* for os_subtype */\n#include \"w32.h\"\n\nstatic BOOL g_b_init_get_module_handle_ex;\nstatic DWORD dynlib_last_err;\n\n/* Some versions of w32api headers only expose the following when\n   _WIN32_WINNT is set to higher values that we use.  */\ntypedef BOOL (WINAPI *GetModuleHandleExA_Proc) (DWORD,LPCSTR,HMODULE*);\n#ifndef GET_MODULE_HANDLE_EX_FLAG_FROM_ADDRESS\n# define GET_MODULE_HANDLE_EX_FLAG_FROM_ADDRESS 4\n#endif\n#ifndef GET_MODULE_HANDLE_EX_FLAG_UNCHANGED_REFCOUNT\n# define GET_MODULE_HANDLE_EX_FLAG_UNCHANGED_REFCOUNT 2\n#endif\n\n/* This needs to be called at startup to countermand any non-zero\n   values recorded by temacs.  */\nvoid\ndynlib_reset_last_error (void)\n{\n  g_b_init_get_module_handle_ex = 0;\n  dynlib_last_err = 0;\n}\n\ndynlib_handle_ptr\ndynlib_open (const char *dll_fname)\n{\n  HMODULE hdll;\n  char dll_fname_local[MAX_UTF8_PATH];\n\n  if (!dll_fname)\n    {\n      errno = ENOTSUP;\n      return NULL;\n    }\n\n  if (!dll_fname)\n    hdll = GetModuleHandle (NULL);\n  else\n    {\n      /* LoadLibrary wants backslashes.  */\n      strcpy (dll_fname_local, dll_fname);\n      unixtodos_filename (dll_fname_local);\n\n      if (w32_unicode_filenames)\n\t{\n\t  wchar_t dll_fname_w[MAX_PATH];\n\n\t  filename_to_utf16 (dll_fname_local, dll_fname_w);\n\t  hdll = LoadLibraryW (dll_fname_w);\n\t}\n      else\n\t{\n\t  char dll_fname_a[MAX_PATH];\n\n\t  filename_to_ansi (dll_fname_local, dll_fname_a);\n\t  hdll = LoadLibraryA (dll_fname_a);\n\t}\n    }\n\n  if (!hdll)\n    dynlib_last_err = GetLastError ();\n\n  return (dynlib_handle_ptr) hdll;\n}\n\nvoid *\ndynlib_sym (dynlib_handle_ptr h, const char *sym)\n{\n  FARPROC sym_addr = NULL;\n\n  if (!h || h == INVALID_HANDLE_VALUE || !sym)\n    {\n      dynlib_last_err = ERROR_INVALID_PARAMETER;\n      return NULL;\n    }\n\n  sym_addr = GetProcAddress ((HMODULE) h, sym);\n  if (!sym_addr)\n    dynlib_last_err = GetLastError ();\n\n  return (void *)sym_addr;\n}\n\nbool\ndynlib_addr (void *addr, const char **fname, const char **symname)\n{\n  static char dll_filename[MAX_UTF8_PATH];\n  static char addr_str[22];\n  static GetModuleHandleExA_Proc s_pfn_Get_Module_HandleExA = NULL;\n  char *dll_fn = NULL;\n  HMODULE hm_kernel32 = NULL;\n  bool result = false;\n  HMODULE hm_dll = NULL;\n  wchar_t mfn_w[MAX_PATH];\n  char mfn_a[MAX_PATH];\n\n  /* Step 1: Find the handle of the module where ADDR lives.  */\n  if (os_subtype == OS_9X\n      /* Windows NT family version before XP (v5.1).  */\n      || ((w32_major_version + (w32_minor_version > 0)) < 6))\n    {\n      MEMORY_BASIC_INFORMATION mbi;\n\n      /* According to Matt Pietrek, the module handle is just the base\n\t address where it's loaded in memory.  */\n      if (VirtualQuery (addr, &mbi, sizeof(mbi)))\n\thm_dll = (HMODULE)mbi.AllocationBase;\n    }\n  else\n    {\n      /* Use the documented API when available (XP and later).  */\n      if (g_b_init_get_module_handle_ex == 0)\n\t{\n\t  g_b_init_get_module_handle_ex = 1;\n\t  hm_kernel32 = LoadLibrary (\"kernel32.dll\");\n\t  /* We load the ANSI version of the function because the\n\t     address we pass to it is not an address of a string, but\n\t     an address of a function.  So we don't care about the\n\t     Unicode version.  */\n\t  s_pfn_Get_Module_HandleExA =\n\t    (GetModuleHandleExA_Proc) GetProcAddress (hm_kernel32,\n\t\t\t\t\t\t      \"GetModuleHandleExA\");\n\t}\n      if (s_pfn_Get_Module_HandleExA)\n\t{\n\t  DWORD flags = (GET_MODULE_HANDLE_EX_FLAG_FROM_ADDRESS\n\t\t\t /* We don't want to call FreeLibrary at the\n\t\t\t    end, because then we'd need to remember\n\t\t\t    whether we obtained the handle by this\n\t\t\t    method or the above one.  */\n\t\t\t | GET_MODULE_HANDLE_EX_FLAG_UNCHANGED_REFCOUNT);\n\n\t  if (!s_pfn_Get_Module_HandleExA (flags, addr, &hm_dll))\n\t    {\n\t      dynlib_last_err = GetLastError ();\n\t      hm_dll = NULL;\n\t    }\n\t}\n    }\n\n  /* Step 2: Find the absolute file name of the module corresponding\n     to the hm_dll handle.  */\n  if (hm_dll)\n    {\n      DWORD retval;\n\n      if (w32_unicode_filenames)\n\t{\n\t  retval = GetModuleFileNameW (hm_dll, mfn_w, MAX_PATH);\n\t  if (retval > 0 && retval < MAX_PATH\n\t      && filename_from_utf16 (mfn_w, dll_filename) == 0)\n\t    dll_fn = dll_filename;\n\t  else if (retval == MAX_PATH)\n\t    dynlib_last_err = ERROR_INSUFFICIENT_BUFFER;\n\t  else\n\t    dynlib_last_err = GetLastError ();\n\t}\n      else\n\t{\n\t  retval = GetModuleFileNameA (hm_dll, mfn_a, MAX_PATH);\n\t  if (retval > 0 && retval < MAX_PATH\n\t      && filename_from_ansi (mfn_a, dll_filename) == 0)\n\t    dll_fn = dll_filename;\n\t  else if (retval == MAX_PATH)\n\t    dynlib_last_err = ERROR_INSUFFICIENT_BUFFER;\n\t  else\n\t    dynlib_last_err = GetLastError ();\n\t}\n      if (dll_fn)\n\t{\n\t  dostounix_filename (dll_fn);\n\t  /* We cannot easily produce the function name, since\n\t     typically all of the module functions will be unexported,\n\t     and probably even static, which means the symbols can be\n\t     obtained only if we link against libbfd (and the DLL can\n\t     be stripped anyway).  So we just show the address and the\n\t     file name; they can use that with addr2line or GDB to\n\t     recover the symbolic name.  */\n\t  sprintf (addr_str, \"at 0x%x\", (DWORD_PTR)addr);\n\t  *symname = addr_str;\n\t  result = true;\n\t}\n    }\n\n  *fname = dll_fn;\n  return result;\n}\n\nconst char *\ndynlib_error (void)\n{\n  char *error_string = NULL;\n\n  if (dynlib_last_err)\n    {\n      error_string = w32_strerror (dynlib_last_err);\n      dynlib_last_err = 0;\n    }\n\n  return error_string;\n}\n\nint\ndynlib_close (dynlib_handle_ptr h)\n{\n  if (!h || h == INVALID_HANDLE_VALUE)\n    {\n      dynlib_last_err = ERROR_INVALID_PARAMETER;\n      return -1;\n    }\n  /* If the handle is for the main module (the .exe file), it\n     shouldn't be passed to FreeLibrary, because GetModuleHandle\n     doesn't increment the refcount, but FreeLibrary does decrement\n     it.  I don't think this should matter for the main module, but\n     just in case, we avoid the call here, relying on another call to\n     GetModuleHandle to return the same value.  */\n  if (h == GetModuleHandle (NULL))\n    return 0;\n\n  if (!FreeLibrary ((HMODULE) h))\n    {\n      dynlib_last_err = GetLastError ();\n      return -1;\n    }\n\n  return 0;\n}\n\n#elif defined HAVE_UNISTD_H\n\n/* POSIX systems.  */\n\n#include <dlfcn.h>\n\ndynlib_handle_ptr\ndynlib_open (const char *path)\n{\n  return dlopen (path, RTLD_LAZY);\n}\n\nvoid *\ndynlib_sym (dynlib_handle_ptr h, const char *sym)\n{\n  return dlsym (h, sym);\n}\n\nbool\ndynlib_addr (void *ptr, const char **path, const char **sym)\n{\n#ifdef HAVE_DLADDR\n  Dl_info info;\n  if (dladdr (ptr, &info) && info.dli_fname && info.dli_sname)\n    {\n      *path = info.dli_fname;\n      *sym = info.dli_sname;\n      return true;\n    }\n#endif\n  return false;\n}\n\nconst char *\ndynlib_error (void)\n{\n  return dlerror ();\n}\n\n/* FIXME: Currently there is no way to unload a module, so this\n   function is never used.  */\n#if false\nint\ndynlib_close (dynlib_handle_ptr h)\n{\n  return dlclose (h) == 0;\n}\n#endif\n\n#else\n\n#error \"No dynamic loading for this system\"\n\n#endif\n\n#if !HAVE_DLFUNC\n# define dlfunc dynlib_sym\n#endif\n\ndynlib_function_ptr\ndynlib_func (dynlib_handle_ptr h, const char *sym)\n{\n  return (dynlib_function_ptr) dlfunc (h, sym);\n}\n"
    },
    "skipped": [
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/CP1254.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/CP949.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/CP1250.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/CP1253.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/CP1257.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/IBM861.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/IBM290.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/ISO-8859-4.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/CP1252.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/GB18030.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/IBM1026.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/ISO-8859-7.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/IBM275.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/IBM904.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/ISO-8859-3.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/GB2312.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/BIG5.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/KOI8-T.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/IBM850.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/IBM297.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/IBM1004.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/GBK.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/IBM855.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/IBM285.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/ISO-8859-16.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/EUC-KR.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/IBM880.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/IBM851.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/CP1125.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/IBM277.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/ISO-8859-2.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/CP1258.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/JOHAB.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/IBM273.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/IBM866.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/KOI8-U.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/KOI-8.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/GEORGIAN-ACADEMY.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/KSC5636.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/EBCDIC-UK.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/MIK.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/IBM256.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/HP-ROMAN8.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/GEORGIAN-PS.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/EUC-JP.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/ISO-8859-15.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/ISO-8859-9.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/ISO-8859-11.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/IBM037.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/IBM891.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/IBM863.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/IBM905.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/TIS-620.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/IBM857.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/IBM424.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/CP10007.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/ISO-8859-8.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/ISO-8859-13.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/IBM868.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/EUC-TW.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/BIG5-HKSCS.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/TCVN5712-1.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/IBM865.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/IBM038.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/IBM281.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/VISCII.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/CP1251.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/IBM280.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/ISO-8859-10.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/EBCDIC-US.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/IBM864.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/IBM1047.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/IBM860.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/CP737.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/IBM875.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/KOI8-R.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/JIS_X0201.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/IBM852.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/EUC-JP-MS.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/ISO-8859-14.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/IBM869.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/IBM437.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/IBM862.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/IBM274.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/IBM874.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/ISO-8859-5.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/NEXTSTEP.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/MACINTOSH.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/IBM500.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/CP775.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/IBM284.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/IBM423.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/EUC-JISX0213.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/IBM903.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/CP1256.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/IBM856.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/CP1255.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/IBM278.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/IBM871.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/ISO-8859-6.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/IBM870.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/IBM918.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/glibc/IBM420.gz",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/admin/charsets/mapfiles/cns2ucsdkw.txt",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/nt/icons/gnu4g48t.ico",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/nt/icons/gnu2a32.ico",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/nt/icons/gnu2a32t.ico",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/nt/icons/gnu3b32.ico",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/nt/icons/gnu5w32.ico",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/nt/icons/gnu4g48.ico",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/nt/icons/gnu3b32t.ico",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/nt/icons/gnu2b48.ico",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/nt/icons/gnu6w48t.ico",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/nt/icons/gnu2b48t.ico",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/nt/icons/gnu8.ico",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/nt/icons/emacs.ico",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/nt/icons/gnu5w32t.ico",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/nt/icons/gnu9.ico",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/nt/icons/gnu6w48.ico",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/nt/icons/gnu7.ico",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/nt/icons/emacs22.ico",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/nt/icons/hand.cur",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/msdos/emacs.pif",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/msdos/emacs.ico",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/src/msdos.c",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/nextstep/Cocoa/Emacs.base/Contents/Resources/document.icns",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/nextstep/Cocoa/Emacs.base/Contents/Resources/Emacs.icns",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/nextstep/GNUstep/Emacs.base/Resources/emacs.tiff",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/lisp/pcomplete.elc",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/lisp/leim/quail/CTLau-b5.el",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/lisp/leim/quail/quick-b5.el",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/lisp/leim/quail/QJ.el",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/lisp/leim/quail/CTLau.el",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/lisp/leim/quail/tibetan.elc",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/lisp/leim/quail/PY-b5.el",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/lisp/leim/quail/ethiopic.elc",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/lisp/leim/quail/CCDOSPY.el",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/lisp/leim/quail/PY.el",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/lisp/leim/quail/QJ-b5.el",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/lisp/leim/quail/ARRAY30.el",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/lisp/leim/quail/Punct-b5.elc",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/lisp/leim/quail/ZIRANMA.el",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/lisp/leim/quail/ZOZY.el",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/lisp/leim/quail/ARRAY30.elc",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/lisp/leim/quail/SW.el",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/lisp/leim/quail/tsang-b5.el",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/lisp/leim/quail/4Corner.el",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/lisp/leim/quail/Punct.el",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/lisp/leim/quail/quick-cns.elc",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/lisp/leim/quail/ETZY.el",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/lisp/leim/quail/tsang-cns.elc",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/lisp/leim/quail/Punct-b5.el",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/lisp/leim/quail/ECDICT.el",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/lisp/leim/quail/tibetan.el",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/lisp/leim/quail/ethiopic.el",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/lisp/leim/quail/ECDICT.elc",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/lisp/leim/quail/TONEPY.el",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/lisp/international/titdic-cnv.elc",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/lisp/language/tibet-util.el",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/lisp/language/ethio-util.elc",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/lisp/language/tibet-util.elc",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/lisp/language/ind-util.el",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/lisp/language/tibetan.elc",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/lisp/language/ind-util.elc",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/lisp/language/tibetan.el",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/lisp/language/ethio-util.el",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/lisp/language/ethiopic.el",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/leim/MISC-DIC/CTLau-b5.html",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/leim/MISC-DIC/pinyin.map",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/leim/MISC-DIC/CTLau.html",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/leim/MISC-DIC/ziranma.cin",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/leim/MISC-DIC/cangjie-table.b5",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/leim/CXTERM-DIC/ECDICT.tit",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/leim/CXTERM-DIC/CCDOSPY.tit",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/leim/CXTERM-DIC/ETZY.tit",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/leim/CXTERM-DIC/TONEPY.tit",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/leim/CXTERM-DIC/Punct.tit",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/leim/CXTERM-DIC/QJ-b5.tit",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/leim/CXTERM-DIC/ARRAY30.tit",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/leim/CXTERM-DIC/SW.tit",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/leim/CXTERM-DIC/4Corner.tit",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/leim/CXTERM-DIC/PY-b5.tit",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/leim/CXTERM-DIC/Punct-b5.tit",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/leim/CXTERM-DIC/QJ.tit",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/leim/CXTERM-DIC/ZOZY.tit",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/leim/SKK-DIC/SKK-JISYO.L",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/package-keyring.gpg",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/sort-column-ascending.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/right-arrow.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/info.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/delete.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/lock-ok.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/zoom-in.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/attach.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/gnus.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/connect.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/open.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/close.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/save.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/preferences.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/sort-descending.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/bookmark_add.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/back-arrow.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/prev-node.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/splash.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/lock-broken.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/up-arrow.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/paste.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/disconnect.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/index.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/fwd-arrow.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/home.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/jump-to.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/mh-logo.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/cancel.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/search-replace.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/diropen.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/sort-criteria.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/refresh.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/sort-row-ascending.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/saveas.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/undo.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/up-node.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/show.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/zoom-out.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/unchecked.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/splash.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/copy.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/contact.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/help.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/exit.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/cut.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/print.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/next-page.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/next-node.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/describe.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/sort-ascending.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/search.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/data-save.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/spell.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/separator.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/redo.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/new.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/left-arrow.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/lock.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/letter.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/tree-widget/default/leaf.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/tree-widget/default/empty.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/tree-widget/default/no-guide.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/tree-widget/default/close.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/tree-widget/default/no-handle.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/tree-widget/default/end-guide.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/tree-widget/default/open.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/tree-widget/default/guide.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/tree-widget/default/handle.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/tree-widget/folder/leaf.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/tree-widget/folder/empty.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/tree-widget/folder/no-guide.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/tree-widget/folder/close.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/tree-widget/folder/no-handle.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/tree-widget/folder/end-guide.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/tree-widget/folder/open.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/tree-widget/folder/guide.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/tree-widget/folder/handle.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/smilies/frown.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/smilies/wry.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/smilies/braindamaged.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/smilies/grin.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/smilies/forced.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/smilies/sad.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/smilies/indifferent.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/smilies/cry.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/smilies/blink.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/smilies/dead.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/smilies/evil.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/smilies/smile.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/icons/hicolor/24x24/apps/emacs23.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/icons/hicolor/24x24/apps/emacs22.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/icons/hicolor/24x24/apps/emacs.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/icons/hicolor/48x48/apps/emacs23.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/icons/hicolor/48x48/apps/emacs22.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/icons/hicolor/48x48/apps/emacs.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/icons/hicolor/16x16/apps/emacs23.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/icons/hicolor/16x16/apps/emacs22.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/icons/hicolor/16x16/apps/emacs.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/icons/hicolor/32x32/apps/emacs23.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/icons/hicolor/32x32/apps/emacs22.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/icons/hicolor/32x32/apps/emacs.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/icons/hicolor/128x128/apps/emacs23.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/icons/hicolor/128x128/apps/emacs.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/icons/allout-widgets/dark-bg/leaf.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/icons/allout-widgets/dark-bg/empty.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/icons/allout-widgets/dark-bg/extender-connector.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/icons/allout-widgets/dark-bg/mid-connector.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/icons/allout-widgets/dark-bg/skip-descender.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/icons/allout-widgets/dark-bg/end-connector.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/icons/allout-widgets/dark-bg/unlocked-encrypted.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/icons/allout-widgets/dark-bg/locked-encrypted.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/icons/allout-widgets/dark-bg/through-descender.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/icons/allout-widgets/dark-bg/opened.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/icons/allout-widgets/dark-bg/closed.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/icons/allout-widgets/light-bg/leaf.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/icons/allout-widgets/light-bg/empty.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/icons/allout-widgets/light-bg/extender-connector.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/icons/allout-widgets/light-bg/mid-connector.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/icons/allout-widgets/light-bg/skip-descender.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/icons/allout-widgets/light-bg/end-connector.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/icons/allout-widgets/light-bg/unlocked-encrypted.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/icons/allout-widgets/light-bg/locked-encrypted.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/icons/allout-widgets/light-bg/through-descender.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/icons/allout-widgets/light-bg/opened.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/icons/allout-widgets/light-bg/closed.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/custom/right-pushed.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/custom/down-pushed.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/custom/down.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/custom/right.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/gnus/toggle-subscription.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/gnus/followup.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/gnus/mail-send.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/gnus/uu-decode.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/gnus/save-art.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/gnus/rot13.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/gnus/describe-group.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/gnus/important.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/gnus/get-news.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/gnus/receipt.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/gnus/reply-wo.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/gnus/subscribe.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/gnus/reply.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/gnus/catchup.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/gnus/uu-post.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/gnus/cu-exit.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/gnus/unimportant.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/gnus/post.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/gnus/next-ur.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/gnus/fuwo.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/gnus/mail-reply.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/gnus/gnntg.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/gnus/kill-group.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/gnus/gnus.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/gnus/prev-ur.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/gnus/unsubscribe.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/gnus/save-aif.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/gnus/exit-gnus.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/gnus/exit-summ.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/mpc/ffwd.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/mpc/rewind.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/mpc/pause.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/mpc/next.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/mpc/play.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/mpc/add.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/mpc/stop.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/mpc/prev.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/ezimage/info.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/ezimage/tag-plus.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/ezimage/dir-plus.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/ezimage/unlock.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/ezimage/box.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/ezimage/key.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/ezimage/doc-minus.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/ezimage/box-minus.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/ezimage/doc-plus.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/ezimage/box-plus.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/ezimage/dir.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/ezimage/doc.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/ezimage/bitsbang.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/ezimage/bits.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/ezimage/page-plus.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/ezimage/tag-type.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/ezimage/tag-v.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/ezimage/mail.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/ezimage/tag.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/ezimage/tag-minus.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/ezimage/tag-gt.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/ezimage/page-minus.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/ezimage/page.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/ezimage/label.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/ezimage/dir-minus.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/ezimage/checkmark.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/ezimage/lock.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/gud/stepi.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/gud/rfinish.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/gud/cont.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/gud/thread.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/gud/rstep.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/gud/until.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/gud/go.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/gud/rnexti.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/gud/step.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/gud/recstart.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/gud/remove.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/gud/next.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/gud/all.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/gud/down.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/gud/rnext.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/gud/watch.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/gud/stop.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/gud/run.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/gud/up.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/gud/print.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/gud/finish.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/gud/pp.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/gud/pstar.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/gud/nexti.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/gud/recstop.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/gud/rstepi.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/gud/rcont.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/gud/break.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/newsticker/rss-feed.png",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/mail/reply-all.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/mail/move.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/mail/forward.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/mail/reply-from.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/mail/outbox.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/mail/flag-for-followup.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/mail/inbox.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/mail/reply.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/mail/save-draft.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/mail/reply-to.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/mail/send.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/mail/copy.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/mail/compose.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/mail/preview.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/mail/repack.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/images/mail/not-spam.pbm",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/refcards/refcard.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/refcards/orgcard.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/refcards/fr-refcard.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/refcards/sk-survival.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/refcards/viperCard.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/refcards/sk-dired-ref.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/refcards/dired-ref.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/refcards/fr-survival.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/refcards/calccard.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/refcards/fr-dired-ref.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/refcards/cs-survival.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/refcards/cs-dired-ref.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/refcards/ru-refcard.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/refcards/gnus-refcard.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/refcards/gnus-booklet.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/refcards/pl-refcard.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/refcards/pt-br-refcard.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/refcards/cs-refcard.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/refcards/survival.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/refcards/vipcard.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/refcards/sk-refcard.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/refcards/gnus-logo.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/etc/refcards/de-refcard.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/doc/lispintro/cons-2a.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/doc/lispintro/cons-2.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/doc/lispintro/lambda-2.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/doc/lispintro/cons-5.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/doc/lispintro/cons-3.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/doc/lispintro/cons-4.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/doc/lispintro/cons-1.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/doc/lispintro/lambda-3.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/doc/lispintro/drawers.pdf",
        "/tmp/vanessa/spack-stage/spack-stage-emacs-25.2-2zlub7eaanslhteda4uom5y3dfroiqnf/spack-src/doc/lispintro/lambda-1.pdf"
    ],
    "total_files": 5054
}