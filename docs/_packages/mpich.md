---
name: "mpich"
layout: package
next_package: py-petsc4py
previous_package: libgpuarray
languages: ['cpp', 'bash']
---
## 3.4.1
142 / 13322 files match

 - [src/mpi/romio/confdb/libtool.m4](#srcmpiromioconfdblibtoolm4)
 - [src/mpi/romio/confdb/ltoptions.m4](#srcmpiromioconfdbltoptionsm4)
 - [src/mpi/romio/confdb/ltmain.sh](#srcmpiromioconfdbltmainsh)
 - [src/mpi/romio/mpl/src/gpu/mpl_gpu_cuda.c](#srcmpiromiomplsrcgpumpl_gpu_cudac)
 - [src/mpi/romio/mpl/confdb/libtool.m4](#srcmpiromiomplconfdblibtoolm4)
 - [src/mpi/romio/mpl/confdb/ltoptions.m4](#srcmpiromiomplconfdbltoptionsm4)
 - [src/mpi/romio/mpl/confdb/ltmain.sh](#srcmpiromiomplconfdbltmainsh)
 - [src/pm/hydra2/libhydra/topo/hwloc/hwloc/configure.ac](#srcpmhydra2libhydratopohwlochwlocconfigureac)
 - [src/pm/hydra2/libhydra/topo/hwloc/hwloc/config/libtool.m4](#srcpmhydra2libhydratopohwlochwlocconfiglibtoolm4)
 - [src/pm/hydra2/libhydra/topo/hwloc/hwloc/config/ltoptions.m4](#srcpmhydra2libhydratopohwlochwlocconfigltoptionsm4)
 - [src/pm/hydra2/libhydra/topo/hwloc/hwloc/config/hwloc.m4](#srcpmhydra2libhydratopohwlochwlocconfighwlocm4)
 - [src/pm/hydra2/libhydra/topo/hwloc/hwloc/config/ltmain.sh](#srcpmhydra2libhydratopohwlochwlocconfigltmainsh)
 - [src/pm/hydra2/libhydra/topo/hwloc/hwloc/include/hwloc/plugins.h](#srcpmhydra2libhydratopohwlochwlocincludehwlocpluginsh)
 - [src/pm/hydra2/libhydra/topo/hwloc/hwloc/hwloc/components.c](#srcpmhydra2libhydratopohwlochwlochwloccomponentsc)
 - [src/pm/hydra2/libhydra/topo/hwloc/hwloc/contrib/hwloc-valgrind.supp](#srcpmhydra2libhydratopohwlochwloccontribhwloc-valgrindsupp)
 - [src/pm/hydra2/confdb/libtool.m4](#srcpmhydra2confdblibtoolm4)
 - [src/pm/hydra2/confdb/ltoptions.m4](#srcpmhydra2confdbltoptionsm4)
 - [src/pm/hydra2/confdb/ltmain.sh](#srcpmhydra2confdbltmainsh)
 - [src/pm/hydra2/mpl/src/gpu/mpl_gpu_cuda.c](#srcpmhydra2mplsrcgpumpl_gpu_cudac)
 - [src/pm/hydra2/mpl/confdb/libtool.m4](#srcpmhydra2mplconfdblibtoolm4)
 - [src/pm/hydra2/mpl/confdb/ltoptions.m4](#srcpmhydra2mplconfdbltoptionsm4)
 - [src/pm/hydra2/mpl/confdb/ltmain.sh](#srcpmhydra2mplconfdbltmainsh)
 - [src/pm/hydra/tools/topo/hwloc/hwloc/configure.ac](#srcpmhydratoolstopohwlochwlocconfigureac)
 - [src/pm/hydra/tools/topo/hwloc/hwloc/config/libtool.m4](#srcpmhydratoolstopohwlochwlocconfiglibtoolm4)
 - [src/pm/hydra/tools/topo/hwloc/hwloc/config/ltoptions.m4](#srcpmhydratoolstopohwlochwlocconfigltoptionsm4)
 - [src/pm/hydra/tools/topo/hwloc/hwloc/config/hwloc.m4](#srcpmhydratoolstopohwlochwlocconfighwlocm4)
 - [src/pm/hydra/tools/topo/hwloc/hwloc/config/ltmain.sh](#srcpmhydratoolstopohwlochwlocconfigltmainsh)
 - [src/pm/hydra/tools/topo/hwloc/hwloc/include/hwloc/plugins.h](#srcpmhydratoolstopohwlochwlocincludehwlocpluginsh)
 - [src/pm/hydra/tools/topo/hwloc/hwloc/hwloc/components.c](#srcpmhydratoolstopohwlochwlochwloccomponentsc)
 - [src/pm/hydra/tools/topo/hwloc/hwloc/contrib/hwloc-valgrind.supp](#srcpmhydratoolstopohwlochwloccontribhwloc-valgrindsupp)
 - [src/pm/hydra/confdb/libtool.m4](#srcpmhydraconfdblibtoolm4)
 - [src/pm/hydra/confdb/ltoptions.m4](#srcpmhydraconfdbltoptionsm4)
 - [src/pm/hydra/confdb/ltmain.sh](#srcpmhydraconfdbltmainsh)
 - [src/pm/hydra/mpl/src/gpu/mpl_gpu_cuda.c](#srcpmhydramplsrcgpumpl_gpu_cudac)
 - [src/pm/hydra/mpl/confdb/libtool.m4](#srcpmhydramplconfdblibtoolm4)
 - [src/pm/hydra/mpl/confdb/ltoptions.m4](#srcpmhydramplconfdbltoptionsm4)
 - [src/pm/hydra/mpl/confdb/ltmain.sh](#srcpmhydramplconfdbltmainsh)
 - [src/mpl/src/gpu/mpl_gpu_cuda.c](#srcmplsrcgpumpl_gpu_cudac)
 - [src/mpl/confdb/libtool.m4](#srcmplconfdblibtoolm4)
 - [src/mpl/confdb/ltoptions.m4](#srcmplconfdbltoptionsm4)
 - [src/mpl/confdb/ltmain.sh](#srcmplconfdbltmainsh)
 - [test/mpi/confdb/libtool.m4](#testmpiconfdblibtoolm4)
 - [test/mpi/confdb/ltoptions.m4](#testmpiconfdbltoptionsm4)
 - [test/mpi/confdb/ltmain.sh](#testmpiconfdbltmainsh)
 - [test/mpi/dtpools/confdb/libtool.m4](#testmpidtpoolsconfdblibtoolm4)
 - [test/mpi/dtpools/confdb/ltoptions.m4](#testmpidtpoolsconfdbltoptionsm4)
 - [test/mpi/dtpools/confdb/ltmain.sh](#testmpidtpoolsconfdbltmainsh)
 - [confdb/libtool.m4](#confdblibtoolm4)
 - [confdb/ltoptions.m4](#confdbltoptionsm4)
 - [confdb/ltmain.sh](#confdbltmainsh)
 - [modules/libfabric/configure.ac](#moduleslibfabricconfigureac)
 - [modules/libfabric/config/libtool.m4](#moduleslibfabricconfiglibtoolm4)
 - [modules/libfabric/config/ltoptions.m4](#moduleslibfabricconfigltoptionsm4)
 - [modules/libfabric/config/ltmain.sh](#moduleslibfabricconfigltmainsh)
 - [modules/libfabric/src/fabric.c](#moduleslibfabricsrcfabricc)
 - [modules/libfabric/prov/util/src/util_mem_hooks.c](#moduleslibfabricprovutilsrcutil_mem_hooksc)
 - [modules/izem/m4/libtool.m4](#modulesizemm4libtoolm4)
 - [modules/izem/m4/ltoptions.m4](#modulesizemm4ltoptionsm4)
 - [modules/izem/m4/ltmain.sh](#modulesizemm4ltmainsh)
 - [modules/json-c/ltmain.sh](#modulesjson-cltmainsh)
 - [modules/json-c/autoconf-archive/m4/libtool.m4](#modulesjson-cautoconf-archivem4libtoolm4)
 - [modules/json-c/autoconf-archive/m4/ltoptions.m4](#modulesjson-cautoconf-archivem4ltoptionsm4)
 - [modules/hwloc/configure.ac](#moduleshwlocconfigureac)
 - [modules/hwloc/config/libtool.m4](#moduleshwlocconfiglibtoolm4)
 - [modules/hwloc/config/ltoptions.m4](#moduleshwlocconfigltoptionsm4)
 - [modules/hwloc/config/hwloc.m4](#moduleshwlocconfighwlocm4)
 - [modules/hwloc/config/ltmain.sh](#moduleshwlocconfigltmainsh)
 - [modules/hwloc/include/hwloc/plugins.h](#moduleshwlocincludehwlocpluginsh)
 - [modules/hwloc/hwloc/components.c](#moduleshwlochwloccomponentsc)
 - [modules/hwloc/contrib/hwloc-valgrind.supp](#moduleshwloccontribhwloc-valgrindsupp)
 - [modules/ucx/.gitignore](#modulesucxgitignore)
 - [modules/ucx/ltmain.sh](#modulesucxltmainsh)
 - [modules/ucx/Makefile.in](#modulesucxmakefilein)
 - [modules/ucx/config/m4/libtool.m4](#modulesucxconfigm4libtoolm4)
 - [modules/ucx/config/m4/ucs.m4](#modulesucxconfigm4ucsm4)
 - [modules/ucx/config/m4/ltoptions.m4](#modulesucxconfigm4ltoptionsm4)
 - [modules/ucx/src/ucm/Makefile.in](#modulesucxsrcucmmakefilein)
 - [modules/ucx/src/ucm/util/sys.c](#modulesucxsrcucmutilsysc)
 - [modules/ucx/src/ucm/util/reloc.c](#modulesucxsrcucmutilrelocc)
 - [modules/ucx/src/ucm/cuda/Makefile.in](#modulesucxsrcucmcudamakefilein)
 - [modules/ucx/src/ucm/api/ucm.h](#modulesucxsrcucmapiucmh)
 - [modules/ucx/src/ucm/rocm/Makefile.in](#modulesucxsrcucmrocmmakefilein)
 - [modules/ucx/src/ucs/Makefile.in](#modulesucxsrcucsmakefilein)
 - [modules/ucx/src/ucs/config/ucm_opts.c](#modulesucxsrcucsconfigucm_optsc)
 - [modules/ucx/src/ucs/sys/module.c](#modulesucxsrcucssysmodulec)
 - [modules/ucx/src/ucs/sys/module.h](#modulesucxsrcucssysmoduleh)
 - [modules/ucx/src/ucp/Makefile.in](#modulesucxsrcucpmakefilein)
 - [modules/ucx/src/ucg/Makefile.in](#modulesucxsrcucgmakefilein)
 - [modules/ucx/src/ucg/base/Makefile.in](#modulesucxsrcucgbasemakefilein)
 - [modules/ucx/src/ucg/builtin/Makefile.in](#modulesucxsrcucgbuiltinmakefilein)
 - [modules/ucx/src/tools/perf/Makefile.in](#modulesucxsrctoolsperfmakefilein)
 - [modules/ucx/src/tools/perf/lib/Makefile.in](#modulesucxsrctoolsperflibmakefilein)
 - [modules/ucx/src/tools/perf/cuda/Makefile.in](#modulesucxsrctoolsperfcudamakefilein)
 - [modules/ucx/src/tools/perf/rocm/Makefile.in](#modulesucxsrctoolsperfrocmmakefilein)
 - [modules/ucx/src/tools/info/Makefile.in](#modulesucxsrctoolsinfomakefilein)
 - [modules/ucx/src/tools/profile/Makefile.in](#modulesucxsrctoolsprofilemakefilein)
 - [modules/ucx/src/uct/Makefile.in](#modulesucxsrcuctmakefilein)
 - [modules/ucx/src/uct/ugni/Makefile.in](#modulesucxsrcuctugnimakefilein)
 - [modules/ucx/src/uct/sm/Makefile.in](#modulesucxsrcuctsmmakefilein)
 - [modules/ucx/src/uct/sm/scopy/Makefile.in](#modulesucxsrcuctsmscopymakefilein)
 - [modules/ucx/src/uct/sm/scopy/cma/Makefile.in](#modulesucxsrcuctsmscopycmamakefilein)
 - [modules/ucx/src/uct/sm/scopy/knem/Makefile.in](#modulesucxsrcuctsmscopyknemmakefilein)
 - [modules/ucx/src/uct/sm/mm/Makefile.in](#modulesucxsrcuctsmmmmakefilein)
 - [modules/ucx/src/uct/sm/mm/xpmem/Makefile.in](#modulesucxsrcuctsmmmxpmemmakefilein)
 - [modules/ucx/src/uct/cuda/Makefile.in](#modulesucxsrcuctcudamakefilein)
 - [modules/ucx/src/uct/cuda/gdr_copy/Makefile.in](#modulesucxsrcuctcudagdr_copymakefilein)
 - [modules/ucx/src/uct/ib/Makefile.in](#modulesucxsrcuctibmakefilein)
 - [modules/ucx/src/uct/ib/rdmacm/Makefile.in](#modulesucxsrcuctibrdmacmmakefilein)
 - [modules/ucx/src/uct/ib/cm/Makefile.in](#modulesucxsrcuctibcmmakefilein)
 - [modules/ucx/src/uct/rocm/Makefile.in](#modulesucxsrcuctrocmmakefilein)
 - [modules/ucx/src/uct/rocm/gdr/Makefile.in](#modulesucxsrcuctrocmgdrmakefilein)
 - [modules/ucx/bindings/java/Makefile.in](#modulesucxbindingsjavamakefilein)
 - [modules/ucx/bindings/java/src/main/native/Makefile.in](#modulesucxbindingsjavasrcmainnativemakefilein)
 - [modules/ucx/test/mpi/test_memhooks.c](#modulesucxtestmpitest_memhooksc)
 - [modules/ucx/test/mpi/Makefile.in](#modulesucxtestmpimakefilein)
 - [modules/ucx/test/gtest/configure.m4](#modulesucxtestgtestconfigurem4)
 - [modules/ucx/test/gtest/Makefile.am](#modulesucxtestgtestmakefileam)
 - [modules/ucx/test/gtest/Makefile.in](#modulesucxtestgtestmakefilein)
 - [modules/ucx/test/gtest/ucm/malloc_hook.cc](#modulesucxtestgtestucmmalloc_hookcc)
 - [modules/ucx/test/gtest/ucm/test_dlopen/configure.m4](#modulesucxtestgtestucmtest_dlopenconfigurem4)
 - [modules/ucx/test/gtest/ucm/test_dlopen/dlopen_test_do_load.c](#modulesucxtestgtestucmtest_dlopendlopen_test_do_loadc)
 - [modules/ucx/test/gtest/ucm/test_dlopen/Makefile.am](#modulesucxtestgtestucmtest_dlopenmakefileam)
 - [modules/ucx/test/gtest/ucm/test_dlopen/Makefile.in](#modulesucxtestgtestucmtest_dlopenmakefilein)
 - [modules/ucx/test/gtest/ucm/test_dlopen/rpath-subdir/configure.m4](#modulesucxtestgtestucmtest_dlopenrpath-subdirconfigurem4)
 - [modules/ucx/test/gtest/ucm/test_dlopen/rpath-subdir/Makefile.am](#modulesucxtestgtestucmtest_dlopenrpath-subdirmakefileam)
 - [modules/ucx/test/gtest/ucm/test_dlopen/rpath-subdir/Makefile.in](#modulesucxtestgtestucmtest_dlopenrpath-subdirmakefilein)
 - [modules/ucx/test/gtest/ucs/test_module/Makefile.in](#modulesucxtestgtestucstest_modulemakefilein)
 - [modules/ucx/test/apps/test_link_map.c](#modulesucxtestappstest_link_mapc)
 - [modules/ucx/test/apps/test_tcmalloc.c](#modulesucxtestappstest_tcmallocc)
 - [modules/ucx/test/apps/test_dlopen_cfg_print.c](#modulesucxtestappstest_dlopen_cfg_printc)
 - [modules/ucx/test/apps/test_ucs_dlopen.c](#modulesucxtestappstest_ucs_dlopenc)
 - [modules/ucx/test/apps/Makefile.am](#modulesucxtestappsmakefileam)
 - [modules/ucx/test/apps/test_ucp_dlopen.c](#modulesucxtestappstest_ucp_dlopenc)
 - [modules/ucx/test/apps/Makefile.in](#modulesucxtestappsmakefilein)
 - [modules/ucx/test/apps/profiling/Makefile.in](#modulesucxtestappsprofilingmakefilein)
 - [modules/ucx/test/apps/sockaddr/Makefile.in](#modulesucxtestappssockaddrmakefilein)
 - [modules/ucx/test/apps/iodemo/Makefile.in](#modulesucxtestappsiodemomakefilein)
 - [modules/ucx/examples/Makefile.in](#modulesucxexamplesmakefilein)
 - [modules/ucx/contrib/test_jenkins.sh](#modulesucxcontribtest_jenkinssh)
 - [modules/yaksa/m4/libtool.m4](#modulesyaksam4libtoolm4)
 - [modules/yaksa/m4/ltoptions.m4](#modulesyaksam4ltoptionsm4)
 - [modules/yaksa/m4/ltmain.sh](#modulesyaksam4ltmainsh)

### src/mpi/romio/confdb/libtool.m4

```

{% raw %}
1821 | # _LT_TRY_DLOPEN_SELF (ACTION-IF-TRUE, ACTION-IF-TRUE-W-USCORE,
1824 | m4_defun([_LT_TRY_DLOPEN_SELF],
1882 |   void *self = dlopen (0, LT_DLGLOBAL|LT_DLLAZY_OR_NOW);
1915 | ])# _LT_TRY_DLOPEN_SELF
1918 | # LT_SYS_DLOPEN_SELF
1920 | AC_DEFUN([LT_SYS_DLOPEN_SELF],
1922 | if test yes != "$enable_dlopen"; then
1923 |   enable_dlopen=unknown
1924 |   enable_dlopen_self=unknown
1925 |   enable_dlopen_self_static=unknown
1927 |   lt_cv_dlopen=no
1928 |   lt_cv_dlopen_libs=
1932 |     lt_cv_dlopen=load_add_on
1933 |     lt_cv_dlopen_libs=
1934 |     lt_cv_dlopen_self=yes
1938 |     lt_cv_dlopen=LoadLibrary
1939 |     lt_cv_dlopen_libs=
1943 |     lt_cv_dlopen=dlopen
1944 |     lt_cv_dlopen_libs=
1949 |     AC_CHECK_LIB([dl], [dlopen],
1950 | 		[lt_cv_dlopen=dlopen lt_cv_dlopen_libs=-ldl],[
1951 |     lt_cv_dlopen=dyld
1952 |     lt_cv_dlopen_libs=
1953 |     lt_cv_dlopen_self=yes
1960 |     lt_cv_dlopen=dlopen
1961 |     lt_cv_dlopen_libs=
1962 |     lt_cv_dlopen_self=no
1967 | 	  [lt_cv_dlopen=shl_load],
1969 | 	    [lt_cv_dlopen=shl_load lt_cv_dlopen_libs=-ldld],
1970 | 	[AC_CHECK_FUNC([dlopen],
1971 | 	      [lt_cv_dlopen=dlopen],
1972 | 	  [AC_CHECK_LIB([dl], [dlopen],
1973 | 		[lt_cv_dlopen=dlopen lt_cv_dlopen_libs=-ldl],
1974 | 	    [AC_CHECK_LIB([svld], [dlopen],
1975 | 		  [lt_cv_dlopen=dlopen lt_cv_dlopen_libs=-lsvld],
1977 | 		    [lt_cv_dlopen=dld_link lt_cv_dlopen_libs=-ldld])
1986 |   if test no = "$lt_cv_dlopen"; then
1987 |     enable_dlopen=no
1989 |     enable_dlopen=yes
1992 |   case $lt_cv_dlopen in
1993 |   dlopen)
2001 |     LIBS="$lt_cv_dlopen_libs $LIBS"
2003 |     AC_CACHE_CHECK([whether a program can dlopen itself],
2004 | 	  lt_cv_dlopen_self, [dnl
2005 | 	  _LT_TRY_DLOPEN_SELF(
2006 | 	    lt_cv_dlopen_self=yes, lt_cv_dlopen_self=yes,
2007 | 	    lt_cv_dlopen_self=no, lt_cv_dlopen_self=cross)
2010 |     if test yes = "$lt_cv_dlopen_self"; then
2012 |       AC_CACHE_CHECK([whether a statically linked program can dlopen itself],
2013 | 	  lt_cv_dlopen_self_static, [dnl
2014 | 	  _LT_TRY_DLOPEN_SELF(
2015 | 	    lt_cv_dlopen_self_static=yes, lt_cv_dlopen_self_static=yes,
2016 | 	    lt_cv_dlopen_self_static=no,  lt_cv_dlopen_self_static=cross)
2026 |   case $lt_cv_dlopen_self in
2027 |   yes|no) enable_dlopen_self=$lt_cv_dlopen_self ;;
2028 |   *) enable_dlopen_self=unknown ;;
2031 |   case $lt_cv_dlopen_self_static in
2032 |   yes|no) enable_dlopen_self_static=$lt_cv_dlopen_self_static ;;
2033 |   *) enable_dlopen_self_static=unknown ;;
2036 | _LT_DECL([dlopen_support], [enable_dlopen], [0],
2037 | 	 [Whether dlopen is supported])
2038 | _LT_DECL([dlopen_self], [enable_dlopen_self], [0],
2039 | 	 [Whether dlopen of programs is supported])
2040 | _LT_DECL([dlopen_self_static], [enable_dlopen_self_static], [0],
2041 | 	 [Whether dlopen of statically linked programs is supported])
2042 | ])# LT_SYS_DLOPEN_SELF
2045 | AU_ALIAS([AC_LIBTOOL_DLOPEN_SELF], [LT_SYS_DLOPEN_SELF])
2047 | dnl AC_DEFUN([AC_LIBTOOL_DLOPEN_SELF], [])
6122 |     [Compiler flag to allow reflexive dlopens])
6235 |   LT_SYS_DLOPEN_SELF
{% endraw %}

```
### src/mpi/romio/confdb/ltoptions.m4

```

{% raw %}
70 |   _LT_UNLESS_OPTIONS([LT_INIT], [dlopen], [enable_dlopen=no
107 | # dlopen
109 | LT_OPTION_DEFINE([LT_INIT], [dlopen], [enable_dlopen=yes
112 | AU_DEFUN([AC_LIBTOOL_DLOPEN],
113 | [_LT_SET_OPTION([LT_INIT], [dlopen])
116 | put the 'dlopen' option into LT_INIT's first parameter.])
120 | dnl AC_DEFUN([AC_LIBTOOL_DLOPEN], [])
{% endraw %}

```
### src/mpi/romio/confdb/ltmain.sh

```bash

{% raw %}
2262 |     opt_dlopen=
2323 |         --dlopen|-dlopen)
2324 |                         opt_dlopen="${opt_dlopen+$opt_dlopen
2440 |       # Only execute mode is allowed to have -dlopen flags.
2441 |       if test -n "$opt_dlopen" && test execute != "$opt_mode"; then
2442 |         func_error "unrecognized option '-dlopen'"
3668 |   -dlopen FILE      add the directory containing FILE to the library path
3670 | This mode sets the library path environment variable according to '-dlopen'
3725 |   -dlopen FILE      '-dlpreopen' FILE if it cannot be dlopened at runtime
3734 |   -module           build a library that can dlopened
3842 |     # Handle -dlopen flags immediately.
3843 |     for file in $opt_dlopen; do
3862 | 	# Skip this library if it cannot be dlopened.
3889 | 	func_warning "'-dlopen' is ignored for non-libtool libraries and objects"
6582 | 	    dlopen_self=$dlopen_self_static
6588 | 	    dlopen_self=$dlopen_self_static
6594 | 	    dlopen_self=$dlopen_self_static
6652 | 	    elif test dlfiles = "$prev" && test yes != "$dlopen_self"; then
6742 | 		    if test yes = "$build_libtool_libs" && test yes = "$dlopen_support"; then
6909 |       -dlopen)
7343 | 	      if test yes = "$build_libtool_libs" && test yes = "$dlopen_support"; then
7411 | 	  # This library was specified with -dlopen.
7531 | 	    func_fatal_help "libraries can '-dlopen' only libtool libraries: $file"
7542 | 	passes="conv scan dlopen dlpreopen link"
7568 | 	dlopen) libs=$dlfiles ;;
7596 |       if test dlopen = "$pass"; then
7816 | 	    if test dlpreopen = "$pass" || test yes != "$dlopen_support" || test no = "$build_libtool_libs"; then
7817 | 	      # If there is no dlopen support or we're linking statically,
7845 | 	dlopen=
7875 | 	  test -n "$dlopen" && func_append dlfiles " $dlopen"
7921 | 	# This library was specified with -dlopen.
7922 | 	if test dlopen = "$pass"; then
7924 | 	    && func_fatal_error "cannot -dlopen a convenience library: '$lib'"
7926 | 	     test yes != "$dlopen_support" ||
7929 | 	    # If there is no dlname, no dlopen support or we're linking
7938 | 	fi # $pass = dlopen
7994 | 	      # (otherwise, the dlopen module name will be incorrect).  We do
7996 | 	      # We recover the dlopen module name by 'saving' the la file
8020 | 	      # Otherwise, use the dlname, so that lt_dlopen finds it.
8149 | 	  # systems (darwin).  Don't bleat about dlopened modules though!
8150 | 	  dlopenmodule=
8153 | 	      dlopenmodule=$dlpremoduletest
8157 | 	  if test -z "$dlopenmodule" && test yes = "$shouldnotlink" && test link = "$pass"; then
8254 | 		    # if the lib is a (non-dlopened) module then we cannot
8258 | 		      if test "X$dlopenmodule" != "X$lib"; then
8410 | 	      echo "*** a static module, that should work as long as the dlopening application"
8411 | 	      echo "*** is linked with the -dlopen flag to resolve symbols at runtime."
8555 |       if test dlopen != "$pass"; then
8685 | 	func_warning "'-dlopen' is ignored for archives"
8752 | 	|| func_warning "'-dlopen self' is ignored for libtool libraries"
9446 | 	    echo "*** a static module, that should work as long as the dlopening"
9447 | 	    echo "*** application is linked with the -dlopen flag."
9465 | 	    echo "*** or is declared to -dlopen it."
10077 | 	func_warning "'-dlopen' is ignored for objects"
10197 | 	&& test unknown,unknown,unknown = "$dlopen_support,$dlopen_self,$dlopen_self_static" \
10198 | 	&& func_warning "'LT_INIT([dlopen])' not used. Assuming no dlopen support."
10879 | # The name that we can dlopen(3).
10908 | # Files to dlopen/dlpreopen
10909 | dlopen='$dlfiles'
{% endraw %}

```
### src/mpi/romio/mpl/src/gpu/mpl_gpu_cuda.c

```cpp

{% raw %}
301 |     libcuda_handle = dlopen("libcuda.so", RTLD_LAZY | RTLD_GLOBAL);
303 |     libcudart_handle = dlopen("libcudart.so", RTLD_LAZY | RTLD_GLOBAL);
{% endraw %}

```
### src/mpi/romio/mpl/confdb/libtool.m4

```

{% raw %}
1821 | # _LT_TRY_DLOPEN_SELF (ACTION-IF-TRUE, ACTION-IF-TRUE-W-USCORE,
1824 | m4_defun([_LT_TRY_DLOPEN_SELF],
1882 |   void *self = dlopen (0, LT_DLGLOBAL|LT_DLLAZY_OR_NOW);
1915 | ])# _LT_TRY_DLOPEN_SELF
1918 | # LT_SYS_DLOPEN_SELF
1920 | AC_DEFUN([LT_SYS_DLOPEN_SELF],
1922 | if test yes != "$enable_dlopen"; then
1923 |   enable_dlopen=unknown
1924 |   enable_dlopen_self=unknown
1925 |   enable_dlopen_self_static=unknown
1927 |   lt_cv_dlopen=no
1928 |   lt_cv_dlopen_libs=
1932 |     lt_cv_dlopen=load_add_on
1933 |     lt_cv_dlopen_libs=
1934 |     lt_cv_dlopen_self=yes
1938 |     lt_cv_dlopen=LoadLibrary
1939 |     lt_cv_dlopen_libs=
1943 |     lt_cv_dlopen=dlopen
1944 |     lt_cv_dlopen_libs=
1949 |     AC_CHECK_LIB([dl], [dlopen],
1950 | 		[lt_cv_dlopen=dlopen lt_cv_dlopen_libs=-ldl],[
1951 |     lt_cv_dlopen=dyld
1952 |     lt_cv_dlopen_libs=
1953 |     lt_cv_dlopen_self=yes
1960 |     lt_cv_dlopen=dlopen
1961 |     lt_cv_dlopen_libs=
1962 |     lt_cv_dlopen_self=no
1967 | 	  [lt_cv_dlopen=shl_load],
1969 | 	    [lt_cv_dlopen=shl_load lt_cv_dlopen_libs=-ldld],
1970 | 	[AC_CHECK_FUNC([dlopen],
1971 | 	      [lt_cv_dlopen=dlopen],
1972 | 	  [AC_CHECK_LIB([dl], [dlopen],
1973 | 		[lt_cv_dlopen=dlopen lt_cv_dlopen_libs=-ldl],
1974 | 	    [AC_CHECK_LIB([svld], [dlopen],
1975 | 		  [lt_cv_dlopen=dlopen lt_cv_dlopen_libs=-lsvld],
1977 | 		    [lt_cv_dlopen=dld_link lt_cv_dlopen_libs=-ldld])
1986 |   if test no = "$lt_cv_dlopen"; then
1987 |     enable_dlopen=no
1989 |     enable_dlopen=yes
1992 |   case $lt_cv_dlopen in
1993 |   dlopen)
2001 |     LIBS="$lt_cv_dlopen_libs $LIBS"
2003 |     AC_CACHE_CHECK([whether a program can dlopen itself],
2004 | 	  lt_cv_dlopen_self, [dnl
2005 | 	  _LT_TRY_DLOPEN_SELF(
2006 | 	    lt_cv_dlopen_self=yes, lt_cv_dlopen_self=yes,
2007 | 	    lt_cv_dlopen_self=no, lt_cv_dlopen_self=cross)
2010 |     if test yes = "$lt_cv_dlopen_self"; then
2012 |       AC_CACHE_CHECK([whether a statically linked program can dlopen itself],
2013 | 	  lt_cv_dlopen_self_static, [dnl
2014 | 	  _LT_TRY_DLOPEN_SELF(
2015 | 	    lt_cv_dlopen_self_static=yes, lt_cv_dlopen_self_static=yes,
2016 | 	    lt_cv_dlopen_self_static=no,  lt_cv_dlopen_self_static=cross)
2026 |   case $lt_cv_dlopen_self in
2027 |   yes|no) enable_dlopen_self=$lt_cv_dlopen_self ;;
2028 |   *) enable_dlopen_self=unknown ;;
2031 |   case $lt_cv_dlopen_self_static in
2032 |   yes|no) enable_dlopen_self_static=$lt_cv_dlopen_self_static ;;
2033 |   *) enable_dlopen_self_static=unknown ;;
2036 | _LT_DECL([dlopen_support], [enable_dlopen], [0],
2037 | 	 [Whether dlopen is supported])
2038 | _LT_DECL([dlopen_self], [enable_dlopen_self], [0],
2039 | 	 [Whether dlopen of programs is supported])
2040 | _LT_DECL([dlopen_self_static], [enable_dlopen_self_static], [0],
2041 | 	 [Whether dlopen of statically linked programs is supported])
2042 | ])# LT_SYS_DLOPEN_SELF
2045 | AU_ALIAS([AC_LIBTOOL_DLOPEN_SELF], [LT_SYS_DLOPEN_SELF])
2047 | dnl AC_DEFUN([AC_LIBTOOL_DLOPEN_SELF], [])
6122 |     [Compiler flag to allow reflexive dlopens])
6235 |   LT_SYS_DLOPEN_SELF
{% endraw %}

```
### src/mpi/romio/mpl/confdb/ltoptions.m4

```

{% raw %}
70 |   _LT_UNLESS_OPTIONS([LT_INIT], [dlopen], [enable_dlopen=no
107 | # dlopen
109 | LT_OPTION_DEFINE([LT_INIT], [dlopen], [enable_dlopen=yes
112 | AU_DEFUN([AC_LIBTOOL_DLOPEN],
113 | [_LT_SET_OPTION([LT_INIT], [dlopen])
116 | put the 'dlopen' option into LT_INIT's first parameter.])
120 | dnl AC_DEFUN([AC_LIBTOOL_DLOPEN], [])
{% endraw %}

```
### src/mpi/romio/mpl/confdb/ltmain.sh

```bash

{% raw %}
2262 |     opt_dlopen=
2323 |         --dlopen|-dlopen)
2324 |                         opt_dlopen="${opt_dlopen+$opt_dlopen
2440 |       # Only execute mode is allowed to have -dlopen flags.
2441 |       if test -n "$opt_dlopen" && test execute != "$opt_mode"; then
2442 |         func_error "unrecognized option '-dlopen'"
3668 |   -dlopen FILE      add the directory containing FILE to the library path
3670 | This mode sets the library path environment variable according to '-dlopen'
3725 |   -dlopen FILE      '-dlpreopen' FILE if it cannot be dlopened at runtime
3734 |   -module           build a library that can dlopened
3842 |     # Handle -dlopen flags immediately.
3843 |     for file in $opt_dlopen; do
3862 | 	# Skip this library if it cannot be dlopened.
3889 | 	func_warning "'-dlopen' is ignored for non-libtool libraries and objects"
6582 | 	    dlopen_self=$dlopen_self_static
6588 | 	    dlopen_self=$dlopen_self_static
6594 | 	    dlopen_self=$dlopen_self_static
6652 | 	    elif test dlfiles = "$prev" && test yes != "$dlopen_self"; then
6742 | 		    if test yes = "$build_libtool_libs" && test yes = "$dlopen_support"; then
6909 |       -dlopen)
7343 | 	      if test yes = "$build_libtool_libs" && test yes = "$dlopen_support"; then
7411 | 	  # This library was specified with -dlopen.
7531 | 	    func_fatal_help "libraries can '-dlopen' only libtool libraries: $file"
7542 | 	passes="conv scan dlopen dlpreopen link"
7568 | 	dlopen) libs=$dlfiles ;;
7596 |       if test dlopen = "$pass"; then
7816 | 	    if test dlpreopen = "$pass" || test yes != "$dlopen_support" || test no = "$build_libtool_libs"; then
7817 | 	      # If there is no dlopen support or we're linking statically,
7845 | 	dlopen=
7875 | 	  test -n "$dlopen" && func_append dlfiles " $dlopen"
7921 | 	# This library was specified with -dlopen.
7922 | 	if test dlopen = "$pass"; then
7924 | 	    && func_fatal_error "cannot -dlopen a convenience library: '$lib'"
7926 | 	     test yes != "$dlopen_support" ||
7929 | 	    # If there is no dlname, no dlopen support or we're linking
7938 | 	fi # $pass = dlopen
7994 | 	      # (otherwise, the dlopen module name will be incorrect).  We do
7996 | 	      # We recover the dlopen module name by 'saving' the la file
8020 | 	      # Otherwise, use the dlname, so that lt_dlopen finds it.
8149 | 	  # systems (darwin).  Don't bleat about dlopened modules though!
8150 | 	  dlopenmodule=
8153 | 	      dlopenmodule=$dlpremoduletest
8157 | 	  if test -z "$dlopenmodule" && test yes = "$shouldnotlink" && test link = "$pass"; then
8254 | 		    # if the lib is a (non-dlopened) module then we cannot
8258 | 		      if test "X$dlopenmodule" != "X$lib"; then
8410 | 	      echo "*** a static module, that should work as long as the dlopening application"
8411 | 	      echo "*** is linked with the -dlopen flag to resolve symbols at runtime."
8555 |       if test dlopen != "$pass"; then
8685 | 	func_warning "'-dlopen' is ignored for archives"
8752 | 	|| func_warning "'-dlopen self' is ignored for libtool libraries"
9446 | 	    echo "*** a static module, that should work as long as the dlopening"
9447 | 	    echo "*** application is linked with the -dlopen flag."
9465 | 	    echo "*** or is declared to -dlopen it."
10077 | 	func_warning "'-dlopen' is ignored for objects"
10197 | 	&& test unknown,unknown,unknown = "$dlopen_support,$dlopen_self,$dlopen_self_static" \
10198 | 	&& func_warning "'LT_INIT([dlopen])' not used. Assuming no dlopen support."
10879 | # The name that we can dlopen(3).
10908 | # Files to dlopen/dlpreopen
10909 | dlopen='$dlfiles'
{% endraw %}

```
### src/pm/hydra2/libhydra/topo/hwloc/hwloc/configure.ac

```

{% raw %}
88 | LT_INIT([dlopen win32-dll])
{% endraw %}

```
### src/pm/hydra2/libhydra/topo/hwloc/hwloc/config/libtool.m4

```

{% raw %}
1821 | # _LT_TRY_DLOPEN_SELF (ACTION-IF-TRUE, ACTION-IF-TRUE-W-USCORE,
1824 | m4_defun([_LT_TRY_DLOPEN_SELF],
1882 |   void *self = dlopen (0, LT_DLGLOBAL|LT_DLLAZY_OR_NOW);
1915 | ])# _LT_TRY_DLOPEN_SELF
1918 | # LT_SYS_DLOPEN_SELF
1920 | AC_DEFUN([LT_SYS_DLOPEN_SELF],
1922 | if test yes != "$enable_dlopen"; then
1923 |   enable_dlopen=unknown
1924 |   enable_dlopen_self=unknown
1925 |   enable_dlopen_self_static=unknown
1927 |   lt_cv_dlopen=no
1928 |   lt_cv_dlopen_libs=
1932 |     lt_cv_dlopen=load_add_on
1933 |     lt_cv_dlopen_libs=
1934 |     lt_cv_dlopen_self=yes
1938 |     lt_cv_dlopen=LoadLibrary
1939 |     lt_cv_dlopen_libs=
1943 |     lt_cv_dlopen=dlopen
1944 |     lt_cv_dlopen_libs=
1949 |     AC_CHECK_LIB([dl], [dlopen],
1950 | 		[lt_cv_dlopen=dlopen lt_cv_dlopen_libs=-ldl],[
1951 |     lt_cv_dlopen=dyld
1952 |     lt_cv_dlopen_libs=
1953 |     lt_cv_dlopen_self=yes
1960 |     lt_cv_dlopen=dlopen
1961 |     lt_cv_dlopen_libs=
1962 |     lt_cv_dlopen_self=no
1967 | 	  [lt_cv_dlopen=shl_load],
1969 | 	    [lt_cv_dlopen=shl_load lt_cv_dlopen_libs=-ldld],
1970 | 	[AC_CHECK_FUNC([dlopen],
1971 | 	      [lt_cv_dlopen=dlopen],
1972 | 	  [AC_CHECK_LIB([dl], [dlopen],
1973 | 		[lt_cv_dlopen=dlopen lt_cv_dlopen_libs=-ldl],
1974 | 	    [AC_CHECK_LIB([svld], [dlopen],
1975 | 		  [lt_cv_dlopen=dlopen lt_cv_dlopen_libs=-lsvld],
1977 | 		    [lt_cv_dlopen=dld_link lt_cv_dlopen_libs=-ldld])
1986 |   if test no = "$lt_cv_dlopen"; then
1987 |     enable_dlopen=no
1989 |     enable_dlopen=yes
1992 |   case $lt_cv_dlopen in
1993 |   dlopen)
2001 |     LIBS="$lt_cv_dlopen_libs $LIBS"
2003 |     AC_CACHE_CHECK([whether a program can dlopen itself],
2004 | 	  lt_cv_dlopen_self, [dnl
2005 | 	  _LT_TRY_DLOPEN_SELF(
2006 | 	    lt_cv_dlopen_self=yes, lt_cv_dlopen_self=yes,
2007 | 	    lt_cv_dlopen_self=no, lt_cv_dlopen_self=cross)
2010 |     if test yes = "$lt_cv_dlopen_self"; then
2012 |       AC_CACHE_CHECK([whether a statically linked program can dlopen itself],
2013 | 	  lt_cv_dlopen_self_static, [dnl
2014 | 	  _LT_TRY_DLOPEN_SELF(
2015 | 	    lt_cv_dlopen_self_static=yes, lt_cv_dlopen_self_static=yes,
2016 | 	    lt_cv_dlopen_self_static=no,  lt_cv_dlopen_self_static=cross)
2026 |   case $lt_cv_dlopen_self in
2027 |   yes|no) enable_dlopen_self=$lt_cv_dlopen_self ;;
2028 |   *) enable_dlopen_self=unknown ;;
2031 |   case $lt_cv_dlopen_self_static in
2032 |   yes|no) enable_dlopen_self_static=$lt_cv_dlopen_self_static ;;
2033 |   *) enable_dlopen_self_static=unknown ;;
2036 | _LT_DECL([dlopen_support], [enable_dlopen], [0],
2037 | 	 [Whether dlopen is supported])
2038 | _LT_DECL([dlopen_self], [enable_dlopen_self], [0],
2039 | 	 [Whether dlopen of programs is supported])
2040 | _LT_DECL([dlopen_self_static], [enable_dlopen_self_static], [0],
2041 | 	 [Whether dlopen of statically linked programs is supported])
2042 | ])# LT_SYS_DLOPEN_SELF
2045 | AU_ALIAS([AC_LIBTOOL_DLOPEN_SELF], [LT_SYS_DLOPEN_SELF])
2047 | dnl AC_DEFUN([AC_LIBTOOL_DLOPEN_SELF], [])
6122 |     [Compiler flag to allow reflexive dlopens])
6235 |   LT_SYS_DLOPEN_SELF
{% endraw %}

```
### src/pm/hydra2/libhydra/topo/hwloc/hwloc/config/ltoptions.m4

```

{% raw %}
70 |   _LT_UNLESS_OPTIONS([LT_INIT], [dlopen], [enable_dlopen=no
107 | # dlopen
109 | LT_OPTION_DEFINE([LT_INIT], [dlopen], [enable_dlopen=yes
112 | AU_DEFUN([AC_LIBTOOL_DLOPEN],
113 | [_LT_SET_OPTION([LT_INIT], [dlopen])
116 | put the 'dlopen' option into LT_INIT's first parameter.])
120 | dnl AC_DEFUN([AC_LIBTOOL_DLOPEN], [])
{% endraw %}

```
### src/pm/hydra2/libhydra/topo/hwloc/hwloc/config/hwloc.m4

```

{% raw %}
1109 |       AC_CHECK_LIB([ltdl], [lt_dlopenext],
1342 |   save_lt_cv_dlopen="$lt_cv_dlopen"
1343 |   save_lt_cv_dlopen_libs="$lt_cv_dlopen_libs"
1344 |   save_lt_cv_dlopen_self="$lt_cv_dlopen_self"
1346 |   # code stolen from LT_SYS_DLOPEN_SELF in libtool.m4
1349 |     lt_cv_dlopen="load_add_on"
1350 |     lt_cv_dlopen_libs=
1351 |     lt_cv_dlopen_self=yes
1355 |     lt_cv_dlopen="LoadLibrary"
1356 |     lt_cv_dlopen_libs=
1360 |     lt_cv_dlopen="dlopen"
1361 |     lt_cv_dlopen_libs=
1366 |     AC_CHECK_LIB([dl], [dlopen],
1367 |                 [lt_cv_dlopen="dlopen" lt_cv_dlopen_libs="-ldl"],[
1368 |     lt_cv_dlopen="dyld"
1369 |     lt_cv_dlopen_libs=
1370 |     lt_cv_dlopen_self=yes
1376 |           [lt_cv_dlopen="shl_load"],
1378 |             [lt_cv_dlopen="shl_load" lt_cv_dlopen_libs="-ldld"],
1379 |         [AC_CHECK_FUNC([dlopen],
1380 |               [lt_cv_dlopen="dlopen"],
1381 |           [AC_CHECK_LIB([dl], [dlopen],
1382 |                 [lt_cv_dlopen="dlopen" lt_cv_dlopen_libs="-ldl"],
1383 |             [AC_CHECK_LIB([svld], [dlopen],
1384 |                   [lt_cv_dlopen="dlopen" lt_cv_dlopen_libs="-lsvld"],
1386 |                     [lt_cv_dlopen="dld_link" lt_cv_dlopen_libs="-ldld"])
1394 |   # end of code stolen from LT_SYS_DLOPEN_SELF in libtool.m4
1397 |   HWLOC_LIBS_PRIVATE="$HWLOC_LIBS_PRIVATE $lt_cv_dlopen_libs"
1400 |   lt_cv_dlopen="$save_lt_cv_dlopen"
1401 |   lt_cv_dlopen_libs="$save_lt_cv_dlopen_libs"
1402 |   lt_cv_dlopen_self="$save_lt_cv_dlopen_self"
{% endraw %}

```
### src/pm/hydra2/libhydra/topo/hwloc/hwloc/config/ltmain.sh

```bash

{% raw %}
2262 |     opt_dlopen=
2323 |         --dlopen|-dlopen)
2324 |                         opt_dlopen="${opt_dlopen+$opt_dlopen
2440 |       # Only execute mode is allowed to have -dlopen flags.
2441 |       if test -n "$opt_dlopen" && test execute != "$opt_mode"; then
2442 |         func_error "unrecognized option '-dlopen'"
3668 |   -dlopen FILE      add the directory containing FILE to the library path
3670 | This mode sets the library path environment variable according to '-dlopen'
3725 |   -dlopen FILE      '-dlpreopen' FILE if it cannot be dlopened at runtime
3734 |   -module           build a library that can dlopened
3842 |     # Handle -dlopen flags immediately.
3843 |     for file in $opt_dlopen; do
3862 | 	# Skip this library if it cannot be dlopened.
3889 | 	func_warning "'-dlopen' is ignored for non-libtool libraries and objects"
6582 | 	    dlopen_self=$dlopen_self_static
6588 | 	    dlopen_self=$dlopen_self_static
6594 | 	    dlopen_self=$dlopen_self_static
6652 | 	    elif test dlfiles = "$prev" && test yes != "$dlopen_self"; then
6742 | 		    if test yes = "$build_libtool_libs" && test yes = "$dlopen_support"; then
6909 |       -dlopen)
7343 | 	      if test yes = "$build_libtool_libs" && test yes = "$dlopen_support"; then
7411 | 	  # This library was specified with -dlopen.
7531 | 	    func_fatal_help "libraries can '-dlopen' only libtool libraries: $file"
7542 | 	passes="conv scan dlopen dlpreopen link"
7568 | 	dlopen) libs=$dlfiles ;;
7596 |       if test dlopen = "$pass"; then
7816 | 	    if test dlpreopen = "$pass" || test yes != "$dlopen_support" || test no = "$build_libtool_libs"; then
7817 | 	      # If there is no dlopen support or we're linking statically,
7845 | 	dlopen=
7875 | 	  test -n "$dlopen" && func_append dlfiles " $dlopen"
7921 | 	# This library was specified with -dlopen.
7922 | 	if test dlopen = "$pass"; then
7924 | 	    && func_fatal_error "cannot -dlopen a convenience library: '$lib'"
7926 | 	     test yes != "$dlopen_support" ||
7929 | 	    # If there is no dlname, no dlopen support or we're linking
7938 | 	fi # $pass = dlopen
7994 | 	      # (otherwise, the dlopen module name will be incorrect).  We do
7996 | 	      # We recover the dlopen module name by 'saving' the la file
8020 | 	      # Otherwise, use the dlname, so that lt_dlopen finds it.
8149 | 	  # systems (darwin).  Don't bleat about dlopened modules though!
8150 | 	  dlopenmodule=
8153 | 	      dlopenmodule=$dlpremoduletest
8157 | 	  if test -z "$dlopenmodule" && test yes = "$shouldnotlink" && test link = "$pass"; then
8254 | 		    # if the lib is a (non-dlopened) module then we cannot
8258 | 		      if test "X$dlopenmodule" != "X$lib"; then
8410 | 	      echo "*** a static module, that should work as long as the dlopening application"
8411 | 	      echo "*** is linked with the -dlopen flag to resolve symbols at runtime."
8555 |       if test dlopen != "$pass"; then
8685 | 	func_warning "'-dlopen' is ignored for archives"
8752 | 	|| func_warning "'-dlopen self' is ignored for libtool libraries"
9446 | 	    echo "*** a static module, that should work as long as the dlopening"
9447 | 	    echo "*** application is linked with the -dlopen flag."
9465 | 	    echo "*** or is declared to -dlopen it."
10077 | 	func_warning "'-dlopen' is ignored for objects"
10197 | 	&& test unknown,unknown,unknown = "$dlopen_support,$dlopen_self,$dlopen_self_static" \
10198 | 	&& func_warning "'LT_INIT([dlopen])' not used. Assuming no dlopen support."
10879 | # The name that we can dlopen(3).
10908 | # Files to dlopen/dlpreopen
10909 | dlopen='$dlfiles'
{% endraw %}

```
### src/pm/hydra2/libhydra/topo/hwloc/hwloc/include/hwloc/plugins.h

```cpp

{% raw %}
339 |  * loaded hwloc (e.g. OpenCL implementations using dlopen with RTLD_LAZY).
353 |   handle = lt_dlopen(NULL);
{% endraw %}

```
### src/pm/hydra2/libhydra/topo/hwloc/hwloc/hwloc/components.c

```cpp

{% raw %}
98 |   /* dlopen and get the component structure */
99 |   handle = lt_dlopenext(filename);
{% endraw %}

```
### src/pm/hydra2/libhydra/topo/hwloc/hwloc/contrib/hwloc-valgrind.supp

```

{% raw %}
32 | # ltdl dlopen global state?
34 |    ltdl_dlopen_doit_leak
40 |    fun:dlopen_doit
{% endraw %}

```
### src/pm/hydra2/confdb/libtool.m4

```

{% raw %}
1821 | # _LT_TRY_DLOPEN_SELF (ACTION-IF-TRUE, ACTION-IF-TRUE-W-USCORE,
1824 | m4_defun([_LT_TRY_DLOPEN_SELF],
1882 |   void *self = dlopen (0, LT_DLGLOBAL|LT_DLLAZY_OR_NOW);
1915 | ])# _LT_TRY_DLOPEN_SELF
1918 | # LT_SYS_DLOPEN_SELF
1920 | AC_DEFUN([LT_SYS_DLOPEN_SELF],
1922 | if test yes != "$enable_dlopen"; then
1923 |   enable_dlopen=unknown
1924 |   enable_dlopen_self=unknown
1925 |   enable_dlopen_self_static=unknown
1927 |   lt_cv_dlopen=no
1928 |   lt_cv_dlopen_libs=
1932 |     lt_cv_dlopen=load_add_on
1933 |     lt_cv_dlopen_libs=
1934 |     lt_cv_dlopen_self=yes
1938 |     lt_cv_dlopen=LoadLibrary
1939 |     lt_cv_dlopen_libs=
1943 |     lt_cv_dlopen=dlopen
1944 |     lt_cv_dlopen_libs=
1949 |     AC_CHECK_LIB([dl], [dlopen],
1950 | 		[lt_cv_dlopen=dlopen lt_cv_dlopen_libs=-ldl],[
1951 |     lt_cv_dlopen=dyld
1952 |     lt_cv_dlopen_libs=
1953 |     lt_cv_dlopen_self=yes
1960 |     lt_cv_dlopen=dlopen
1961 |     lt_cv_dlopen_libs=
1962 |     lt_cv_dlopen_self=no
1967 | 	  [lt_cv_dlopen=shl_load],
1969 | 	    [lt_cv_dlopen=shl_load lt_cv_dlopen_libs=-ldld],
1970 | 	[AC_CHECK_FUNC([dlopen],
1971 | 	      [lt_cv_dlopen=dlopen],
1972 | 	  [AC_CHECK_LIB([dl], [dlopen],
1973 | 		[lt_cv_dlopen=dlopen lt_cv_dlopen_libs=-ldl],
1974 | 	    [AC_CHECK_LIB([svld], [dlopen],
1975 | 		  [lt_cv_dlopen=dlopen lt_cv_dlopen_libs=-lsvld],
1977 | 		    [lt_cv_dlopen=dld_link lt_cv_dlopen_libs=-ldld])
1986 |   if test no = "$lt_cv_dlopen"; then
1987 |     enable_dlopen=no
1989 |     enable_dlopen=yes
1992 |   case $lt_cv_dlopen in
1993 |   dlopen)
2001 |     LIBS="$lt_cv_dlopen_libs $LIBS"
2003 |     AC_CACHE_CHECK([whether a program can dlopen itself],
2004 | 	  lt_cv_dlopen_self, [dnl
2005 | 	  _LT_TRY_DLOPEN_SELF(
2006 | 	    lt_cv_dlopen_self=yes, lt_cv_dlopen_self=yes,
2007 | 	    lt_cv_dlopen_self=no, lt_cv_dlopen_self=cross)
2010 |     if test yes = "$lt_cv_dlopen_self"; then
2012 |       AC_CACHE_CHECK([whether a statically linked program can dlopen itself],
2013 | 	  lt_cv_dlopen_self_static, [dnl
2014 | 	  _LT_TRY_DLOPEN_SELF(
2015 | 	    lt_cv_dlopen_self_static=yes, lt_cv_dlopen_self_static=yes,
2016 | 	    lt_cv_dlopen_self_static=no,  lt_cv_dlopen_self_static=cross)
2026 |   case $lt_cv_dlopen_self in
2027 |   yes|no) enable_dlopen_self=$lt_cv_dlopen_self ;;
2028 |   *) enable_dlopen_self=unknown ;;
2031 |   case $lt_cv_dlopen_self_static in
2032 |   yes|no) enable_dlopen_self_static=$lt_cv_dlopen_self_static ;;
2033 |   *) enable_dlopen_self_static=unknown ;;
2036 | _LT_DECL([dlopen_support], [enable_dlopen], [0],
2037 | 	 [Whether dlopen is supported])
2038 | _LT_DECL([dlopen_self], [enable_dlopen_self], [0],
2039 | 	 [Whether dlopen of programs is supported])
2040 | _LT_DECL([dlopen_self_static], [enable_dlopen_self_static], [0],
2041 | 	 [Whether dlopen of statically linked programs is supported])
2042 | ])# LT_SYS_DLOPEN_SELF
2045 | AU_ALIAS([AC_LIBTOOL_DLOPEN_SELF], [LT_SYS_DLOPEN_SELF])
2047 | dnl AC_DEFUN([AC_LIBTOOL_DLOPEN_SELF], [])
6122 |     [Compiler flag to allow reflexive dlopens])
6235 |   LT_SYS_DLOPEN_SELF
{% endraw %}

```
### src/pm/hydra2/confdb/ltoptions.m4

```

{% raw %}
70 |   _LT_UNLESS_OPTIONS([LT_INIT], [dlopen], [enable_dlopen=no
107 | # dlopen
109 | LT_OPTION_DEFINE([LT_INIT], [dlopen], [enable_dlopen=yes
112 | AU_DEFUN([AC_LIBTOOL_DLOPEN],
113 | [_LT_SET_OPTION([LT_INIT], [dlopen])
116 | put the 'dlopen' option into LT_INIT's first parameter.])
120 | dnl AC_DEFUN([AC_LIBTOOL_DLOPEN], [])
{% endraw %}

```
### src/pm/hydra2/confdb/ltmain.sh

```bash

{% raw %}
2262 |     opt_dlopen=
2323 |         --dlopen|-dlopen)
2324 |                         opt_dlopen="${opt_dlopen+$opt_dlopen
2440 |       # Only execute mode is allowed to have -dlopen flags.
2441 |       if test -n "$opt_dlopen" && test execute != "$opt_mode"; then
2442 |         func_error "unrecognized option '-dlopen'"
3668 |   -dlopen FILE      add the directory containing FILE to the library path
3670 | This mode sets the library path environment variable according to '-dlopen'
3725 |   -dlopen FILE      '-dlpreopen' FILE if it cannot be dlopened at runtime
3734 |   -module           build a library that can dlopened
3842 |     # Handle -dlopen flags immediately.
3843 |     for file in $opt_dlopen; do
3862 | 	# Skip this library if it cannot be dlopened.
3889 | 	func_warning "'-dlopen' is ignored for non-libtool libraries and objects"
6582 | 	    dlopen_self=$dlopen_self_static
6588 | 	    dlopen_self=$dlopen_self_static
6594 | 	    dlopen_self=$dlopen_self_static
6652 | 	    elif test dlfiles = "$prev" && test yes != "$dlopen_self"; then
6742 | 		    if test yes = "$build_libtool_libs" && test yes = "$dlopen_support"; then
6909 |       -dlopen)
7343 | 	      if test yes = "$build_libtool_libs" && test yes = "$dlopen_support"; then
7411 | 	  # This library was specified with -dlopen.
7531 | 	    func_fatal_help "libraries can '-dlopen' only libtool libraries: $file"
7542 | 	passes="conv scan dlopen dlpreopen link"
7568 | 	dlopen) libs=$dlfiles ;;
7596 |       if test dlopen = "$pass"; then
7816 | 	    if test dlpreopen = "$pass" || test yes != "$dlopen_support" || test no = "$build_libtool_libs"; then
7817 | 	      # If there is no dlopen support or we're linking statically,
7845 | 	dlopen=
7875 | 	  test -n "$dlopen" && func_append dlfiles " $dlopen"
7921 | 	# This library was specified with -dlopen.
7922 | 	if test dlopen = "$pass"; then
7924 | 	    && func_fatal_error "cannot -dlopen a convenience library: '$lib'"
7926 | 	     test yes != "$dlopen_support" ||
7929 | 	    # If there is no dlname, no dlopen support or we're linking
7938 | 	fi # $pass = dlopen
7994 | 	      # (otherwise, the dlopen module name will be incorrect).  We do
7996 | 	      # We recover the dlopen module name by 'saving' the la file
8020 | 	      # Otherwise, use the dlname, so that lt_dlopen finds it.
8149 | 	  # systems (darwin).  Don't bleat about dlopened modules though!
8150 | 	  dlopenmodule=
8153 | 	      dlopenmodule=$dlpremoduletest
8157 | 	  if test -z "$dlopenmodule" && test yes = "$shouldnotlink" && test link = "$pass"; then
8254 | 		    # if the lib is a (non-dlopened) module then we cannot
8258 | 		      if test "X$dlopenmodule" != "X$lib"; then
8410 | 	      echo "*** a static module, that should work as long as the dlopening application"
8411 | 	      echo "*** is linked with the -dlopen flag to resolve symbols at runtime."
8555 |       if test dlopen != "$pass"; then
8685 | 	func_warning "'-dlopen' is ignored for archives"
8752 | 	|| func_warning "'-dlopen self' is ignored for libtool libraries"
9446 | 	    echo "*** a static module, that should work as long as the dlopening"
9447 | 	    echo "*** application is linked with the -dlopen flag."
9465 | 	    echo "*** or is declared to -dlopen it."
10077 | 	func_warning "'-dlopen' is ignored for objects"
10197 | 	&& test unknown,unknown,unknown = "$dlopen_support,$dlopen_self,$dlopen_self_static" \
10198 | 	&& func_warning "'LT_INIT([dlopen])' not used. Assuming no dlopen support."
10879 | # The name that we can dlopen(3).
10908 | # Files to dlopen/dlpreopen
10909 | dlopen='$dlfiles'
{% endraw %}

```
### src/pm/hydra2/mpl/src/gpu/mpl_gpu_cuda.c

```cpp

{% raw %}
301 |     libcuda_handle = dlopen("libcuda.so", RTLD_LAZY | RTLD_GLOBAL);
303 |     libcudart_handle = dlopen("libcudart.so", RTLD_LAZY | RTLD_GLOBAL);
{% endraw %}

```
### src/pm/hydra2/mpl/confdb/libtool.m4

```

{% raw %}
1821 | # _LT_TRY_DLOPEN_SELF (ACTION-IF-TRUE, ACTION-IF-TRUE-W-USCORE,
1824 | m4_defun([_LT_TRY_DLOPEN_SELF],
1882 |   void *self = dlopen (0, LT_DLGLOBAL|LT_DLLAZY_OR_NOW);
1915 | ])# _LT_TRY_DLOPEN_SELF
1918 | # LT_SYS_DLOPEN_SELF
1920 | AC_DEFUN([LT_SYS_DLOPEN_SELF],
1922 | if test yes != "$enable_dlopen"; then
1923 |   enable_dlopen=unknown
1924 |   enable_dlopen_self=unknown
1925 |   enable_dlopen_self_static=unknown
1927 |   lt_cv_dlopen=no
1928 |   lt_cv_dlopen_libs=
1932 |     lt_cv_dlopen=load_add_on
1933 |     lt_cv_dlopen_libs=
1934 |     lt_cv_dlopen_self=yes
1938 |     lt_cv_dlopen=LoadLibrary
1939 |     lt_cv_dlopen_libs=
1943 |     lt_cv_dlopen=dlopen
1944 |     lt_cv_dlopen_libs=
1949 |     AC_CHECK_LIB([dl], [dlopen],
1950 | 		[lt_cv_dlopen=dlopen lt_cv_dlopen_libs=-ldl],[
1951 |     lt_cv_dlopen=dyld
1952 |     lt_cv_dlopen_libs=
1953 |     lt_cv_dlopen_self=yes
1960 |     lt_cv_dlopen=dlopen
1961 |     lt_cv_dlopen_libs=
1962 |     lt_cv_dlopen_self=no
1967 | 	  [lt_cv_dlopen=shl_load],
1969 | 	    [lt_cv_dlopen=shl_load lt_cv_dlopen_libs=-ldld],
1970 | 	[AC_CHECK_FUNC([dlopen],
1971 | 	      [lt_cv_dlopen=dlopen],
1972 | 	  [AC_CHECK_LIB([dl], [dlopen],
1973 | 		[lt_cv_dlopen=dlopen lt_cv_dlopen_libs=-ldl],
1974 | 	    [AC_CHECK_LIB([svld], [dlopen],
1975 | 		  [lt_cv_dlopen=dlopen lt_cv_dlopen_libs=-lsvld],
1977 | 		    [lt_cv_dlopen=dld_link lt_cv_dlopen_libs=-ldld])
1986 |   if test no = "$lt_cv_dlopen"; then
1987 |     enable_dlopen=no
1989 |     enable_dlopen=yes
1992 |   case $lt_cv_dlopen in
1993 |   dlopen)
2001 |     LIBS="$lt_cv_dlopen_libs $LIBS"
2003 |     AC_CACHE_CHECK([whether a program can dlopen itself],
2004 | 	  lt_cv_dlopen_self, [dnl
2005 | 	  _LT_TRY_DLOPEN_SELF(
2006 | 	    lt_cv_dlopen_self=yes, lt_cv_dlopen_self=yes,
2007 | 	    lt_cv_dlopen_self=no, lt_cv_dlopen_self=cross)
2010 |     if test yes = "$lt_cv_dlopen_self"; then
2012 |       AC_CACHE_CHECK([whether a statically linked program can dlopen itself],
2013 | 	  lt_cv_dlopen_self_static, [dnl
2014 | 	  _LT_TRY_DLOPEN_SELF(
2015 | 	    lt_cv_dlopen_self_static=yes, lt_cv_dlopen_self_static=yes,
2016 | 	    lt_cv_dlopen_self_static=no,  lt_cv_dlopen_self_static=cross)
2026 |   case $lt_cv_dlopen_self in
2027 |   yes|no) enable_dlopen_self=$lt_cv_dlopen_self ;;
2028 |   *) enable_dlopen_self=unknown ;;
2031 |   case $lt_cv_dlopen_self_static in
2032 |   yes|no) enable_dlopen_self_static=$lt_cv_dlopen_self_static ;;
2033 |   *) enable_dlopen_self_static=unknown ;;
2036 | _LT_DECL([dlopen_support], [enable_dlopen], [0],
2037 | 	 [Whether dlopen is supported])
2038 | _LT_DECL([dlopen_self], [enable_dlopen_self], [0],
2039 | 	 [Whether dlopen of programs is supported])
2040 | _LT_DECL([dlopen_self_static], [enable_dlopen_self_static], [0],
2041 | 	 [Whether dlopen of statically linked programs is supported])
2042 | ])# LT_SYS_DLOPEN_SELF
2045 | AU_ALIAS([AC_LIBTOOL_DLOPEN_SELF], [LT_SYS_DLOPEN_SELF])
2047 | dnl AC_DEFUN([AC_LIBTOOL_DLOPEN_SELF], [])
6122 |     [Compiler flag to allow reflexive dlopens])
6235 |   LT_SYS_DLOPEN_SELF
{% endraw %}

```
### src/pm/hydra2/mpl/confdb/ltoptions.m4

```

{% raw %}
70 |   _LT_UNLESS_OPTIONS([LT_INIT], [dlopen], [enable_dlopen=no
107 | # dlopen
109 | LT_OPTION_DEFINE([LT_INIT], [dlopen], [enable_dlopen=yes
112 | AU_DEFUN([AC_LIBTOOL_DLOPEN],
113 | [_LT_SET_OPTION([LT_INIT], [dlopen])
116 | put the 'dlopen' option into LT_INIT's first parameter.])
120 | dnl AC_DEFUN([AC_LIBTOOL_DLOPEN], [])
{% endraw %}

```
### src/pm/hydra2/mpl/confdb/ltmain.sh

```bash

{% raw %}
2262 |     opt_dlopen=
2323 |         --dlopen|-dlopen)
2324 |                         opt_dlopen="${opt_dlopen+$opt_dlopen
2440 |       # Only execute mode is allowed to have -dlopen flags.
2441 |       if test -n "$opt_dlopen" && test execute != "$opt_mode"; then
2442 |         func_error "unrecognized option '-dlopen'"
3668 |   -dlopen FILE      add the directory containing FILE to the library path
3670 | This mode sets the library path environment variable according to '-dlopen'
3725 |   -dlopen FILE      '-dlpreopen' FILE if it cannot be dlopened at runtime
3734 |   -module           build a library that can dlopened
3842 |     # Handle -dlopen flags immediately.
3843 |     for file in $opt_dlopen; do
3862 | 	# Skip this library if it cannot be dlopened.
3889 | 	func_warning "'-dlopen' is ignored for non-libtool libraries and objects"
6582 | 	    dlopen_self=$dlopen_self_static
6588 | 	    dlopen_self=$dlopen_self_static
6594 | 	    dlopen_self=$dlopen_self_static
6652 | 	    elif test dlfiles = "$prev" && test yes != "$dlopen_self"; then
6742 | 		    if test yes = "$build_libtool_libs" && test yes = "$dlopen_support"; then
6909 |       -dlopen)
7343 | 	      if test yes = "$build_libtool_libs" && test yes = "$dlopen_support"; then
7411 | 	  # This library was specified with -dlopen.
7531 | 	    func_fatal_help "libraries can '-dlopen' only libtool libraries: $file"
7542 | 	passes="conv scan dlopen dlpreopen link"
7568 | 	dlopen) libs=$dlfiles ;;
7596 |       if test dlopen = "$pass"; then
7816 | 	    if test dlpreopen = "$pass" || test yes != "$dlopen_support" || test no = "$build_libtool_libs"; then
7817 | 	      # If there is no dlopen support or we're linking statically,
7845 | 	dlopen=
7875 | 	  test -n "$dlopen" && func_append dlfiles " $dlopen"
7921 | 	# This library was specified with -dlopen.
7922 | 	if test dlopen = "$pass"; then
7924 | 	    && func_fatal_error "cannot -dlopen a convenience library: '$lib'"
7926 | 	     test yes != "$dlopen_support" ||
7929 | 	    # If there is no dlname, no dlopen support or we're linking
7938 | 	fi # $pass = dlopen
7994 | 	      # (otherwise, the dlopen module name will be incorrect).  We do
7996 | 	      # We recover the dlopen module name by 'saving' the la file
8020 | 	      # Otherwise, use the dlname, so that lt_dlopen finds it.
8149 | 	  # systems (darwin).  Don't bleat about dlopened modules though!
8150 | 	  dlopenmodule=
8153 | 	      dlopenmodule=$dlpremoduletest
8157 | 	  if test -z "$dlopenmodule" && test yes = "$shouldnotlink" && test link = "$pass"; then
8254 | 		    # if the lib is a (non-dlopened) module then we cannot
8258 | 		      if test "X$dlopenmodule" != "X$lib"; then
8410 | 	      echo "*** a static module, that should work as long as the dlopening application"
8411 | 	      echo "*** is linked with the -dlopen flag to resolve symbols at runtime."
8555 |       if test dlopen != "$pass"; then
8685 | 	func_warning "'-dlopen' is ignored for archives"
8752 | 	|| func_warning "'-dlopen self' is ignored for libtool libraries"
9446 | 	    echo "*** a static module, that should work as long as the dlopening"
9447 | 	    echo "*** application is linked with the -dlopen flag."
9465 | 	    echo "*** or is declared to -dlopen it."
10077 | 	func_warning "'-dlopen' is ignored for objects"
10197 | 	&& test unknown,unknown,unknown = "$dlopen_support,$dlopen_self,$dlopen_self_static" \
10198 | 	&& func_warning "'LT_INIT([dlopen])' not used. Assuming no dlopen support."
10879 | # The name that we can dlopen(3).
10908 | # Files to dlopen/dlpreopen
10909 | dlopen='$dlfiles'
{% endraw %}

```
### src/pm/hydra/tools/topo/hwloc/hwloc/configure.ac

```

{% raw %}
88 | LT_INIT([dlopen win32-dll])
{% endraw %}

```
### src/pm/hydra/tools/topo/hwloc/hwloc/config/libtool.m4

```

{% raw %}
1821 | # _LT_TRY_DLOPEN_SELF (ACTION-IF-TRUE, ACTION-IF-TRUE-W-USCORE,
1824 | m4_defun([_LT_TRY_DLOPEN_SELF],
1882 |   void *self = dlopen (0, LT_DLGLOBAL|LT_DLLAZY_OR_NOW);
1915 | ])# _LT_TRY_DLOPEN_SELF
1918 | # LT_SYS_DLOPEN_SELF
1920 | AC_DEFUN([LT_SYS_DLOPEN_SELF],
1922 | if test yes != "$enable_dlopen"; then
1923 |   enable_dlopen=unknown
1924 |   enable_dlopen_self=unknown
1925 |   enable_dlopen_self_static=unknown
1927 |   lt_cv_dlopen=no
1928 |   lt_cv_dlopen_libs=
1932 |     lt_cv_dlopen=load_add_on
1933 |     lt_cv_dlopen_libs=
1934 |     lt_cv_dlopen_self=yes
1938 |     lt_cv_dlopen=LoadLibrary
1939 |     lt_cv_dlopen_libs=
1943 |     lt_cv_dlopen=dlopen
1944 |     lt_cv_dlopen_libs=
1949 |     AC_CHECK_LIB([dl], [dlopen],
1950 | 		[lt_cv_dlopen=dlopen lt_cv_dlopen_libs=-ldl],[
1951 |     lt_cv_dlopen=dyld
1952 |     lt_cv_dlopen_libs=
1953 |     lt_cv_dlopen_self=yes
1960 |     lt_cv_dlopen=dlopen
1961 |     lt_cv_dlopen_libs=
1962 |     lt_cv_dlopen_self=no
1967 | 	  [lt_cv_dlopen=shl_load],
1969 | 	    [lt_cv_dlopen=shl_load lt_cv_dlopen_libs=-ldld],
1970 | 	[AC_CHECK_FUNC([dlopen],
1971 | 	      [lt_cv_dlopen=dlopen],
1972 | 	  [AC_CHECK_LIB([dl], [dlopen],
1973 | 		[lt_cv_dlopen=dlopen lt_cv_dlopen_libs=-ldl],
1974 | 	    [AC_CHECK_LIB([svld], [dlopen],
1975 | 		  [lt_cv_dlopen=dlopen lt_cv_dlopen_libs=-lsvld],
1977 | 		    [lt_cv_dlopen=dld_link lt_cv_dlopen_libs=-ldld])
1986 |   if test no = "$lt_cv_dlopen"; then
1987 |     enable_dlopen=no
1989 |     enable_dlopen=yes
1992 |   case $lt_cv_dlopen in
1993 |   dlopen)
2001 |     LIBS="$lt_cv_dlopen_libs $LIBS"
2003 |     AC_CACHE_CHECK([whether a program can dlopen itself],
2004 | 	  lt_cv_dlopen_self, [dnl
2005 | 	  _LT_TRY_DLOPEN_SELF(
2006 | 	    lt_cv_dlopen_self=yes, lt_cv_dlopen_self=yes,
2007 | 	    lt_cv_dlopen_self=no, lt_cv_dlopen_self=cross)
2010 |     if test yes = "$lt_cv_dlopen_self"; then
2012 |       AC_CACHE_CHECK([whether a statically linked program can dlopen itself],
2013 | 	  lt_cv_dlopen_self_static, [dnl
2014 | 	  _LT_TRY_DLOPEN_SELF(
2015 | 	    lt_cv_dlopen_self_static=yes, lt_cv_dlopen_self_static=yes,
2016 | 	    lt_cv_dlopen_self_static=no,  lt_cv_dlopen_self_static=cross)
2026 |   case $lt_cv_dlopen_self in
2027 |   yes|no) enable_dlopen_self=$lt_cv_dlopen_self ;;
2028 |   *) enable_dlopen_self=unknown ;;
2031 |   case $lt_cv_dlopen_self_static in
2032 |   yes|no) enable_dlopen_self_static=$lt_cv_dlopen_self_static ;;
2033 |   *) enable_dlopen_self_static=unknown ;;
2036 | _LT_DECL([dlopen_support], [enable_dlopen], [0],
2037 | 	 [Whether dlopen is supported])
2038 | _LT_DECL([dlopen_self], [enable_dlopen_self], [0],
2039 | 	 [Whether dlopen of programs is supported])
2040 | _LT_DECL([dlopen_self_static], [enable_dlopen_self_static], [0],
2041 | 	 [Whether dlopen of statically linked programs is supported])
2042 | ])# LT_SYS_DLOPEN_SELF
2045 | AU_ALIAS([AC_LIBTOOL_DLOPEN_SELF], [LT_SYS_DLOPEN_SELF])
2047 | dnl AC_DEFUN([AC_LIBTOOL_DLOPEN_SELF], [])
6122 |     [Compiler flag to allow reflexive dlopens])
6235 |   LT_SYS_DLOPEN_SELF
{% endraw %}

```
### src/pm/hydra/tools/topo/hwloc/hwloc/config/ltoptions.m4

```

{% raw %}
70 |   _LT_UNLESS_OPTIONS([LT_INIT], [dlopen], [enable_dlopen=no
107 | # dlopen
109 | LT_OPTION_DEFINE([LT_INIT], [dlopen], [enable_dlopen=yes
112 | AU_DEFUN([AC_LIBTOOL_DLOPEN],
113 | [_LT_SET_OPTION([LT_INIT], [dlopen])
116 | put the 'dlopen' option into LT_INIT's first parameter.])
120 | dnl AC_DEFUN([AC_LIBTOOL_DLOPEN], [])
{% endraw %}

```
### src/pm/hydra/tools/topo/hwloc/hwloc/config/hwloc.m4

```

{% raw %}
1109 |       AC_CHECK_LIB([ltdl], [lt_dlopenext],
1342 |   save_lt_cv_dlopen="$lt_cv_dlopen"
1343 |   save_lt_cv_dlopen_libs="$lt_cv_dlopen_libs"
1344 |   save_lt_cv_dlopen_self="$lt_cv_dlopen_self"
1346 |   # code stolen from LT_SYS_DLOPEN_SELF in libtool.m4
1349 |     lt_cv_dlopen="load_add_on"
1350 |     lt_cv_dlopen_libs=
1351 |     lt_cv_dlopen_self=yes
1355 |     lt_cv_dlopen="LoadLibrary"
1356 |     lt_cv_dlopen_libs=
1360 |     lt_cv_dlopen="dlopen"
1361 |     lt_cv_dlopen_libs=
1366 |     AC_CHECK_LIB([dl], [dlopen],
1367 |                 [lt_cv_dlopen="dlopen" lt_cv_dlopen_libs="-ldl"],[
1368 |     lt_cv_dlopen="dyld"
1369 |     lt_cv_dlopen_libs=
1370 |     lt_cv_dlopen_self=yes
1376 |           [lt_cv_dlopen="shl_load"],
1378 |             [lt_cv_dlopen="shl_load" lt_cv_dlopen_libs="-ldld"],
1379 |         [AC_CHECK_FUNC([dlopen],
1380 |               [lt_cv_dlopen="dlopen"],
1381 |           [AC_CHECK_LIB([dl], [dlopen],
1382 |                 [lt_cv_dlopen="dlopen" lt_cv_dlopen_libs="-ldl"],
1383 |             [AC_CHECK_LIB([svld], [dlopen],
1384 |                   [lt_cv_dlopen="dlopen" lt_cv_dlopen_libs="-lsvld"],
1386 |                     [lt_cv_dlopen="dld_link" lt_cv_dlopen_libs="-ldld"])
1394 |   # end of code stolen from LT_SYS_DLOPEN_SELF in libtool.m4
1397 |   HWLOC_LIBS_PRIVATE="$HWLOC_LIBS_PRIVATE $lt_cv_dlopen_libs"
1400 |   lt_cv_dlopen="$save_lt_cv_dlopen"
1401 |   lt_cv_dlopen_libs="$save_lt_cv_dlopen_libs"
1402 |   lt_cv_dlopen_self="$save_lt_cv_dlopen_self"
{% endraw %}

```
### src/pm/hydra/tools/topo/hwloc/hwloc/config/ltmain.sh

```bash

{% raw %}
2262 |     opt_dlopen=
2323 |         --dlopen|-dlopen)
2324 |                         opt_dlopen="${opt_dlopen+$opt_dlopen
2440 |       # Only execute mode is allowed to have -dlopen flags.
2441 |       if test -n "$opt_dlopen" && test execute != "$opt_mode"; then
2442 |         func_error "unrecognized option '-dlopen'"
3668 |   -dlopen FILE      add the directory containing FILE to the library path
3670 | This mode sets the library path environment variable according to '-dlopen'
3725 |   -dlopen FILE      '-dlpreopen' FILE if it cannot be dlopened at runtime
3734 |   -module           build a library that can dlopened
3842 |     # Handle -dlopen flags immediately.
3843 |     for file in $opt_dlopen; do
3862 | 	# Skip this library if it cannot be dlopened.
3889 | 	func_warning "'-dlopen' is ignored for non-libtool libraries and objects"
6582 | 	    dlopen_self=$dlopen_self_static
6588 | 	    dlopen_self=$dlopen_self_static
6594 | 	    dlopen_self=$dlopen_self_static
6652 | 	    elif test dlfiles = "$prev" && test yes != "$dlopen_self"; then
6742 | 		    if test yes = "$build_libtool_libs" && test yes = "$dlopen_support"; then
6909 |       -dlopen)
7343 | 	      if test yes = "$build_libtool_libs" && test yes = "$dlopen_support"; then
7411 | 	  # This library was specified with -dlopen.
7531 | 	    func_fatal_help "libraries can '-dlopen' only libtool libraries: $file"
7542 | 	passes="conv scan dlopen dlpreopen link"
7568 | 	dlopen) libs=$dlfiles ;;
7596 |       if test dlopen = "$pass"; then
7816 | 	    if test dlpreopen = "$pass" || test yes != "$dlopen_support" || test no = "$build_libtool_libs"; then
7817 | 	      # If there is no dlopen support or we're linking statically,
7845 | 	dlopen=
7875 | 	  test -n "$dlopen" && func_append dlfiles " $dlopen"
7921 | 	# This library was specified with -dlopen.
7922 | 	if test dlopen = "$pass"; then
7924 | 	    && func_fatal_error "cannot -dlopen a convenience library: '$lib'"
7926 | 	     test yes != "$dlopen_support" ||
7929 | 	    # If there is no dlname, no dlopen support or we're linking
7938 | 	fi # $pass = dlopen
7994 | 	      # (otherwise, the dlopen module name will be incorrect).  We do
7996 | 	      # We recover the dlopen module name by 'saving' the la file
8020 | 	      # Otherwise, use the dlname, so that lt_dlopen finds it.
8149 | 	  # systems (darwin).  Don't bleat about dlopened modules though!
8150 | 	  dlopenmodule=
8153 | 	      dlopenmodule=$dlpremoduletest
8157 | 	  if test -z "$dlopenmodule" && test yes = "$shouldnotlink" && test link = "$pass"; then
8254 | 		    # if the lib is a (non-dlopened) module then we cannot
8258 | 		      if test "X$dlopenmodule" != "X$lib"; then
8410 | 	      echo "*** a static module, that should work as long as the dlopening application"
8411 | 	      echo "*** is linked with the -dlopen flag to resolve symbols at runtime."
8555 |       if test dlopen != "$pass"; then
8685 | 	func_warning "'-dlopen' is ignored for archives"
8752 | 	|| func_warning "'-dlopen self' is ignored for libtool libraries"
9446 | 	    echo "*** a static module, that should work as long as the dlopening"
9447 | 	    echo "*** application is linked with the -dlopen flag."
9465 | 	    echo "*** or is declared to -dlopen it."
10077 | 	func_warning "'-dlopen' is ignored for objects"
10197 | 	&& test unknown,unknown,unknown = "$dlopen_support,$dlopen_self,$dlopen_self_static" \
10198 | 	&& func_warning "'LT_INIT([dlopen])' not used. Assuming no dlopen support."
10879 | # The name that we can dlopen(3).
10908 | # Files to dlopen/dlpreopen
10909 | dlopen='$dlfiles'
{% endraw %}

```
### src/pm/hydra/tools/topo/hwloc/hwloc/include/hwloc/plugins.h

```cpp

{% raw %}
339 |  * loaded hwloc (e.g. OpenCL implementations using dlopen with RTLD_LAZY).
353 |   handle = lt_dlopen(NULL);
{% endraw %}

```
### src/pm/hydra/tools/topo/hwloc/hwloc/hwloc/components.c

```cpp

{% raw %}
98 |   /* dlopen and get the component structure */
99 |   handle = lt_dlopenext(filename);
{% endraw %}

```
### src/pm/hydra/tools/topo/hwloc/hwloc/contrib/hwloc-valgrind.supp

```

{% raw %}
32 | # ltdl dlopen global state?
34 |    ltdl_dlopen_doit_leak
40 |    fun:dlopen_doit
{% endraw %}

```
### src/pm/hydra/confdb/libtool.m4

```

{% raw %}
1821 | # _LT_TRY_DLOPEN_SELF (ACTION-IF-TRUE, ACTION-IF-TRUE-W-USCORE,
1824 | m4_defun([_LT_TRY_DLOPEN_SELF],
1882 |   void *self = dlopen (0, LT_DLGLOBAL|LT_DLLAZY_OR_NOW);
1915 | ])# _LT_TRY_DLOPEN_SELF
1918 | # LT_SYS_DLOPEN_SELF
1920 | AC_DEFUN([LT_SYS_DLOPEN_SELF],
1922 | if test yes != "$enable_dlopen"; then
1923 |   enable_dlopen=unknown
1924 |   enable_dlopen_self=unknown
1925 |   enable_dlopen_self_static=unknown
1927 |   lt_cv_dlopen=no
1928 |   lt_cv_dlopen_libs=
1932 |     lt_cv_dlopen=load_add_on
1933 |     lt_cv_dlopen_libs=
1934 |     lt_cv_dlopen_self=yes
1938 |     lt_cv_dlopen=LoadLibrary
1939 |     lt_cv_dlopen_libs=
1943 |     lt_cv_dlopen=dlopen
1944 |     lt_cv_dlopen_libs=
1949 |     AC_CHECK_LIB([dl], [dlopen],
1950 | 		[lt_cv_dlopen=dlopen lt_cv_dlopen_libs=-ldl],[
1951 |     lt_cv_dlopen=dyld
1952 |     lt_cv_dlopen_libs=
1953 |     lt_cv_dlopen_self=yes
1960 |     lt_cv_dlopen=dlopen
1961 |     lt_cv_dlopen_libs=
1962 |     lt_cv_dlopen_self=no
1967 | 	  [lt_cv_dlopen=shl_load],
1969 | 	    [lt_cv_dlopen=shl_load lt_cv_dlopen_libs=-ldld],
1970 | 	[AC_CHECK_FUNC([dlopen],
1971 | 	      [lt_cv_dlopen=dlopen],
1972 | 	  [AC_CHECK_LIB([dl], [dlopen],
1973 | 		[lt_cv_dlopen=dlopen lt_cv_dlopen_libs=-ldl],
1974 | 	    [AC_CHECK_LIB([svld], [dlopen],
1975 | 		  [lt_cv_dlopen=dlopen lt_cv_dlopen_libs=-lsvld],
1977 | 		    [lt_cv_dlopen=dld_link lt_cv_dlopen_libs=-ldld])
1986 |   if test no = "$lt_cv_dlopen"; then
1987 |     enable_dlopen=no
1989 |     enable_dlopen=yes
1992 |   case $lt_cv_dlopen in
1993 |   dlopen)
2001 |     LIBS="$lt_cv_dlopen_libs $LIBS"
2003 |     AC_CACHE_CHECK([whether a program can dlopen itself],
2004 | 	  lt_cv_dlopen_self, [dnl
2005 | 	  _LT_TRY_DLOPEN_SELF(
2006 | 	    lt_cv_dlopen_self=yes, lt_cv_dlopen_self=yes,
2007 | 	    lt_cv_dlopen_self=no, lt_cv_dlopen_self=cross)
2010 |     if test yes = "$lt_cv_dlopen_self"; then
2012 |       AC_CACHE_CHECK([whether a statically linked program can dlopen itself],
2013 | 	  lt_cv_dlopen_self_static, [dnl
2014 | 	  _LT_TRY_DLOPEN_SELF(
2015 | 	    lt_cv_dlopen_self_static=yes, lt_cv_dlopen_self_static=yes,
2016 | 	    lt_cv_dlopen_self_static=no,  lt_cv_dlopen_self_static=cross)
2026 |   case $lt_cv_dlopen_self in
2027 |   yes|no) enable_dlopen_self=$lt_cv_dlopen_self ;;
2028 |   *) enable_dlopen_self=unknown ;;
2031 |   case $lt_cv_dlopen_self_static in
2032 |   yes|no) enable_dlopen_self_static=$lt_cv_dlopen_self_static ;;
2033 |   *) enable_dlopen_self_static=unknown ;;
2036 | _LT_DECL([dlopen_support], [enable_dlopen], [0],
2037 | 	 [Whether dlopen is supported])
2038 | _LT_DECL([dlopen_self], [enable_dlopen_self], [0],
2039 | 	 [Whether dlopen of programs is supported])
2040 | _LT_DECL([dlopen_self_static], [enable_dlopen_self_static], [0],
2041 | 	 [Whether dlopen of statically linked programs is supported])
2042 | ])# LT_SYS_DLOPEN_SELF
2045 | AU_ALIAS([AC_LIBTOOL_DLOPEN_SELF], [LT_SYS_DLOPEN_SELF])
2047 | dnl AC_DEFUN([AC_LIBTOOL_DLOPEN_SELF], [])
6122 |     [Compiler flag to allow reflexive dlopens])
6235 |   LT_SYS_DLOPEN_SELF
{% endraw %}

```
### src/pm/hydra/confdb/ltoptions.m4

```

{% raw %}
70 |   _LT_UNLESS_OPTIONS([LT_INIT], [dlopen], [enable_dlopen=no
107 | # dlopen
109 | LT_OPTION_DEFINE([LT_INIT], [dlopen], [enable_dlopen=yes
112 | AU_DEFUN([AC_LIBTOOL_DLOPEN],
113 | [_LT_SET_OPTION([LT_INIT], [dlopen])
116 | put the 'dlopen' option into LT_INIT's first parameter.])
120 | dnl AC_DEFUN([AC_LIBTOOL_DLOPEN], [])
{% endraw %}

```
### src/pm/hydra/confdb/ltmain.sh

```bash

{% raw %}
2262 |     opt_dlopen=
2323 |         --dlopen|-dlopen)
2324 |                         opt_dlopen="${opt_dlopen+$opt_dlopen
2440 |       # Only execute mode is allowed to have -dlopen flags.
2441 |       if test -n "$opt_dlopen" && test execute != "$opt_mode"; then
2442 |         func_error "unrecognized option '-dlopen'"
3668 |   -dlopen FILE      add the directory containing FILE to the library path
3670 | This mode sets the library path environment variable according to '-dlopen'
3725 |   -dlopen FILE      '-dlpreopen' FILE if it cannot be dlopened at runtime
3734 |   -module           build a library that can dlopened
3842 |     # Handle -dlopen flags immediately.
3843 |     for file in $opt_dlopen; do
3862 | 	# Skip this library if it cannot be dlopened.
3889 | 	func_warning "'-dlopen' is ignored for non-libtool libraries and objects"
6582 | 	    dlopen_self=$dlopen_self_static
6588 | 	    dlopen_self=$dlopen_self_static
6594 | 	    dlopen_self=$dlopen_self_static
6652 | 	    elif test dlfiles = "$prev" && test yes != "$dlopen_self"; then
6742 | 		    if test yes = "$build_libtool_libs" && test yes = "$dlopen_support"; then
6909 |       -dlopen)
7343 | 	      if test yes = "$build_libtool_libs" && test yes = "$dlopen_support"; then
7411 | 	  # This library was specified with -dlopen.
7531 | 	    func_fatal_help "libraries can '-dlopen' only libtool libraries: $file"
7542 | 	passes="conv scan dlopen dlpreopen link"
7568 | 	dlopen) libs=$dlfiles ;;
7596 |       if test dlopen = "$pass"; then
7816 | 	    if test dlpreopen = "$pass" || test yes != "$dlopen_support" || test no = "$build_libtool_libs"; then
7817 | 	      # If there is no dlopen support or we're linking statically,
7845 | 	dlopen=
7875 | 	  test -n "$dlopen" && func_append dlfiles " $dlopen"
7921 | 	# This library was specified with -dlopen.
7922 | 	if test dlopen = "$pass"; then
7924 | 	    && func_fatal_error "cannot -dlopen a convenience library: '$lib'"
7926 | 	     test yes != "$dlopen_support" ||
7929 | 	    # If there is no dlname, no dlopen support or we're linking
7938 | 	fi # $pass = dlopen
7994 | 	      # (otherwise, the dlopen module name will be incorrect).  We do
7996 | 	      # We recover the dlopen module name by 'saving' the la file
8020 | 	      # Otherwise, use the dlname, so that lt_dlopen finds it.
8149 | 	  # systems (darwin).  Don't bleat about dlopened modules though!
8150 | 	  dlopenmodule=
8153 | 	      dlopenmodule=$dlpremoduletest
8157 | 	  if test -z "$dlopenmodule" && test yes = "$shouldnotlink" && test link = "$pass"; then
8254 | 		    # if the lib is a (non-dlopened) module then we cannot
8258 | 		      if test "X$dlopenmodule" != "X$lib"; then
8410 | 	      echo "*** a static module, that should work as long as the dlopening application"
8411 | 	      echo "*** is linked with the -dlopen flag to resolve symbols at runtime."
8555 |       if test dlopen != "$pass"; then
8685 | 	func_warning "'-dlopen' is ignored for archives"
8752 | 	|| func_warning "'-dlopen self' is ignored for libtool libraries"
9446 | 	    echo "*** a static module, that should work as long as the dlopening"
9447 | 	    echo "*** application is linked with the -dlopen flag."
9465 | 	    echo "*** or is declared to -dlopen it."
10077 | 	func_warning "'-dlopen' is ignored for objects"
10197 | 	&& test unknown,unknown,unknown = "$dlopen_support,$dlopen_self,$dlopen_self_static" \
10198 | 	&& func_warning "'LT_INIT([dlopen])' not used. Assuming no dlopen support."
10879 | # The name that we can dlopen(3).
10908 | # Files to dlopen/dlpreopen
10909 | dlopen='$dlfiles'
{% endraw %}

```
### src/pm/hydra/mpl/src/gpu/mpl_gpu_cuda.c

```cpp

{% raw %}
301 |     libcuda_handle = dlopen("libcuda.so", RTLD_LAZY | RTLD_GLOBAL);
303 |     libcudart_handle = dlopen("libcudart.so", RTLD_LAZY | RTLD_GLOBAL);
{% endraw %}

```
### src/pm/hydra/mpl/confdb/libtool.m4

```

{% raw %}
1821 | # _LT_TRY_DLOPEN_SELF (ACTION-IF-TRUE, ACTION-IF-TRUE-W-USCORE,
1824 | m4_defun([_LT_TRY_DLOPEN_SELF],
1882 |   void *self = dlopen (0, LT_DLGLOBAL|LT_DLLAZY_OR_NOW);
1915 | ])# _LT_TRY_DLOPEN_SELF
1918 | # LT_SYS_DLOPEN_SELF
1920 | AC_DEFUN([LT_SYS_DLOPEN_SELF],
1922 | if test yes != "$enable_dlopen"; then
1923 |   enable_dlopen=unknown
1924 |   enable_dlopen_self=unknown
1925 |   enable_dlopen_self_static=unknown
1927 |   lt_cv_dlopen=no
1928 |   lt_cv_dlopen_libs=
1932 |     lt_cv_dlopen=load_add_on
1933 |     lt_cv_dlopen_libs=
1934 |     lt_cv_dlopen_self=yes
1938 |     lt_cv_dlopen=LoadLibrary
1939 |     lt_cv_dlopen_libs=
1943 |     lt_cv_dlopen=dlopen
1944 |     lt_cv_dlopen_libs=
1949 |     AC_CHECK_LIB([dl], [dlopen],
1950 | 		[lt_cv_dlopen=dlopen lt_cv_dlopen_libs=-ldl],[
1951 |     lt_cv_dlopen=dyld
1952 |     lt_cv_dlopen_libs=
1953 |     lt_cv_dlopen_self=yes
1960 |     lt_cv_dlopen=dlopen
1961 |     lt_cv_dlopen_libs=
1962 |     lt_cv_dlopen_self=no
1967 | 	  [lt_cv_dlopen=shl_load],
1969 | 	    [lt_cv_dlopen=shl_load lt_cv_dlopen_libs=-ldld],
1970 | 	[AC_CHECK_FUNC([dlopen],
1971 | 	      [lt_cv_dlopen=dlopen],
1972 | 	  [AC_CHECK_LIB([dl], [dlopen],
1973 | 		[lt_cv_dlopen=dlopen lt_cv_dlopen_libs=-ldl],
1974 | 	    [AC_CHECK_LIB([svld], [dlopen],
1975 | 		  [lt_cv_dlopen=dlopen lt_cv_dlopen_libs=-lsvld],
1977 | 		    [lt_cv_dlopen=dld_link lt_cv_dlopen_libs=-ldld])
1986 |   if test no = "$lt_cv_dlopen"; then
1987 |     enable_dlopen=no
1989 |     enable_dlopen=yes
1992 |   case $lt_cv_dlopen in
1993 |   dlopen)
2001 |     LIBS="$lt_cv_dlopen_libs $LIBS"
2003 |     AC_CACHE_CHECK([whether a program can dlopen itself],
2004 | 	  lt_cv_dlopen_self, [dnl
2005 | 	  _LT_TRY_DLOPEN_SELF(
2006 | 	    lt_cv_dlopen_self=yes, lt_cv_dlopen_self=yes,
2007 | 	    lt_cv_dlopen_self=no, lt_cv_dlopen_self=cross)
2010 |     if test yes = "$lt_cv_dlopen_self"; then
2012 |       AC_CACHE_CHECK([whether a statically linked program can dlopen itself],
2013 | 	  lt_cv_dlopen_self_static, [dnl
2014 | 	  _LT_TRY_DLOPEN_SELF(
2015 | 	    lt_cv_dlopen_self_static=yes, lt_cv_dlopen_self_static=yes,
2016 | 	    lt_cv_dlopen_self_static=no,  lt_cv_dlopen_self_static=cross)
2026 |   case $lt_cv_dlopen_self in
2027 |   yes|no) enable_dlopen_self=$lt_cv_dlopen_self ;;
2028 |   *) enable_dlopen_self=unknown ;;
2031 |   case $lt_cv_dlopen_self_static in
2032 |   yes|no) enable_dlopen_self_static=$lt_cv_dlopen_self_static ;;
2033 |   *) enable_dlopen_self_static=unknown ;;
2036 | _LT_DECL([dlopen_support], [enable_dlopen], [0],
2037 | 	 [Whether dlopen is supported])
2038 | _LT_DECL([dlopen_self], [enable_dlopen_self], [0],
2039 | 	 [Whether dlopen of programs is supported])
2040 | _LT_DECL([dlopen_self_static], [enable_dlopen_self_static], [0],
2041 | 	 [Whether dlopen of statically linked programs is supported])
2042 | ])# LT_SYS_DLOPEN_SELF
2045 | AU_ALIAS([AC_LIBTOOL_DLOPEN_SELF], [LT_SYS_DLOPEN_SELF])
2047 | dnl AC_DEFUN([AC_LIBTOOL_DLOPEN_SELF], [])
6122 |     [Compiler flag to allow reflexive dlopens])
6235 |   LT_SYS_DLOPEN_SELF
{% endraw %}

```
### src/pm/hydra/mpl/confdb/ltoptions.m4

```

{% raw %}
70 |   _LT_UNLESS_OPTIONS([LT_INIT], [dlopen], [enable_dlopen=no
107 | # dlopen
109 | LT_OPTION_DEFINE([LT_INIT], [dlopen], [enable_dlopen=yes
112 | AU_DEFUN([AC_LIBTOOL_DLOPEN],
113 | [_LT_SET_OPTION([LT_INIT], [dlopen])
116 | put the 'dlopen' option into LT_INIT's first parameter.])
120 | dnl AC_DEFUN([AC_LIBTOOL_DLOPEN], [])
{% endraw %}

```
### src/pm/hydra/mpl/confdb/ltmain.sh

```bash

{% raw %}
2262 |     opt_dlopen=
2323 |         --dlopen|-dlopen)
2324 |                         opt_dlopen="${opt_dlopen+$opt_dlopen
2440 |       # Only execute mode is allowed to have -dlopen flags.
2441 |       if test -n "$opt_dlopen" && test execute != "$opt_mode"; then
2442 |         func_error "unrecognized option '-dlopen'"
3668 |   -dlopen FILE      add the directory containing FILE to the library path
3670 | This mode sets the library path environment variable according to '-dlopen'
3725 |   -dlopen FILE      '-dlpreopen' FILE if it cannot be dlopened at runtime
3734 |   -module           build a library that can dlopened
3842 |     # Handle -dlopen flags immediately.
3843 |     for file in $opt_dlopen; do
3862 | 	# Skip this library if it cannot be dlopened.
3889 | 	func_warning "'-dlopen' is ignored for non-libtool libraries and objects"
6582 | 	    dlopen_self=$dlopen_self_static
6588 | 	    dlopen_self=$dlopen_self_static
6594 | 	    dlopen_self=$dlopen_self_static
6652 | 	    elif test dlfiles = "$prev" && test yes != "$dlopen_self"; then
6742 | 		    if test yes = "$build_libtool_libs" && test yes = "$dlopen_support"; then
6909 |       -dlopen)
7343 | 	      if test yes = "$build_libtool_libs" && test yes = "$dlopen_support"; then
7411 | 	  # This library was specified with -dlopen.
7531 | 	    func_fatal_help "libraries can '-dlopen' only libtool libraries: $file"
7542 | 	passes="conv scan dlopen dlpreopen link"
7568 | 	dlopen) libs=$dlfiles ;;
7596 |       if test dlopen = "$pass"; then
7816 | 	    if test dlpreopen = "$pass" || test yes != "$dlopen_support" || test no = "$build_libtool_libs"; then
7817 | 	      # If there is no dlopen support or we're linking statically,
7845 | 	dlopen=
7875 | 	  test -n "$dlopen" && func_append dlfiles " $dlopen"
7921 | 	# This library was specified with -dlopen.
7922 | 	if test dlopen = "$pass"; then
7924 | 	    && func_fatal_error "cannot -dlopen a convenience library: '$lib'"
7926 | 	     test yes != "$dlopen_support" ||
7929 | 	    # If there is no dlname, no dlopen support or we're linking
7938 | 	fi # $pass = dlopen
7994 | 	      # (otherwise, the dlopen module name will be incorrect).  We do
7996 | 	      # We recover the dlopen module name by 'saving' the la file
8020 | 	      # Otherwise, use the dlname, so that lt_dlopen finds it.
8149 | 	  # systems (darwin).  Don't bleat about dlopened modules though!
8150 | 	  dlopenmodule=
8153 | 	      dlopenmodule=$dlpremoduletest
8157 | 	  if test -z "$dlopenmodule" && test yes = "$shouldnotlink" && test link = "$pass"; then
8254 | 		    # if the lib is a (non-dlopened) module then we cannot
8258 | 		      if test "X$dlopenmodule" != "X$lib"; then
8410 | 	      echo "*** a static module, that should work as long as the dlopening application"
8411 | 	      echo "*** is linked with the -dlopen flag to resolve symbols at runtime."
8555 |       if test dlopen != "$pass"; then
8685 | 	func_warning "'-dlopen' is ignored for archives"
8752 | 	|| func_warning "'-dlopen self' is ignored for libtool libraries"
9446 | 	    echo "*** a static module, that should work as long as the dlopening"
9447 | 	    echo "*** application is linked with the -dlopen flag."
9465 | 	    echo "*** or is declared to -dlopen it."
10077 | 	func_warning "'-dlopen' is ignored for objects"
10197 | 	&& test unknown,unknown,unknown = "$dlopen_support,$dlopen_self,$dlopen_self_static" \
10198 | 	&& func_warning "'LT_INIT([dlopen])' not used. Assuming no dlopen support."
10879 | # The name that we can dlopen(3).
10908 | # Files to dlopen/dlpreopen
10909 | dlopen='$dlfiles'
{% endraw %}

```
### src/mpl/src/gpu/mpl_gpu_cuda.c

```cpp

{% raw %}
301 |     libcuda_handle = dlopen("libcuda.so", RTLD_LAZY | RTLD_GLOBAL);
303 |     libcudart_handle = dlopen("libcudart.so", RTLD_LAZY | RTLD_GLOBAL);
{% endraw %}

```
### src/mpl/confdb/libtool.m4

```

{% raw %}
1819 | # _LT_TRY_DLOPEN_SELF (ACTION-IF-TRUE, ACTION-IF-TRUE-W-USCORE,
1822 | m4_defun([_LT_TRY_DLOPEN_SELF],
1880 |   void *self = dlopen (0, LT_DLGLOBAL|LT_DLLAZY_OR_NOW);
1913 | ])# _LT_TRY_DLOPEN_SELF
1916 | # LT_SYS_DLOPEN_SELF
1918 | AC_DEFUN([LT_SYS_DLOPEN_SELF],
1920 | if test yes != "$enable_dlopen"; then
1921 |   enable_dlopen=unknown
1922 |   enable_dlopen_self=unknown
1923 |   enable_dlopen_self_static=unknown
1925 |   lt_cv_dlopen=no
1926 |   lt_cv_dlopen_libs=
1930 |     lt_cv_dlopen=load_add_on
1931 |     lt_cv_dlopen_libs=
1932 |     lt_cv_dlopen_self=yes
1936 |     lt_cv_dlopen=LoadLibrary
1937 |     lt_cv_dlopen_libs=
1941 |     lt_cv_dlopen=dlopen
1942 |     lt_cv_dlopen_libs=
1947 |     AC_CHECK_LIB([dl], [dlopen],
1948 | 		[lt_cv_dlopen=dlopen lt_cv_dlopen_libs=-ldl],[
1949 |     lt_cv_dlopen=dyld
1950 |     lt_cv_dlopen_libs=
1951 |     lt_cv_dlopen_self=yes
1958 |     lt_cv_dlopen=dlopen
1959 |     lt_cv_dlopen_libs=
1960 |     lt_cv_dlopen_self=no
1965 | 	  [lt_cv_dlopen=shl_load],
1967 | 	    [lt_cv_dlopen=shl_load lt_cv_dlopen_libs=-ldld],
1968 | 	[AC_CHECK_FUNC([dlopen],
1969 | 	      [lt_cv_dlopen=dlopen],
1970 | 	  [AC_CHECK_LIB([dl], [dlopen],
1971 | 		[lt_cv_dlopen=dlopen lt_cv_dlopen_libs=-ldl],
1972 | 	    [AC_CHECK_LIB([svld], [dlopen],
1973 | 		  [lt_cv_dlopen=dlopen lt_cv_dlopen_libs=-lsvld],
1975 | 		    [lt_cv_dlopen=dld_link lt_cv_dlopen_libs=-ldld])
1984 |   if test no = "$lt_cv_dlopen"; then
1985 |     enable_dlopen=no
1987 |     enable_dlopen=yes
1990 |   case $lt_cv_dlopen in
1991 |   dlopen)
1999 |     LIBS="$lt_cv_dlopen_libs $LIBS"
2001 |     AC_CACHE_CHECK([whether a program can dlopen itself],
2002 | 	  lt_cv_dlopen_self, [dnl
2003 | 	  _LT_TRY_DLOPEN_SELF(
2004 | 	    lt_cv_dlopen_self=yes, lt_cv_dlopen_self=yes,
2005 | 	    lt_cv_dlopen_self=no, lt_cv_dlopen_self=cross)
2008 |     if test yes = "$lt_cv_dlopen_self"; then
2010 |       AC_CACHE_CHECK([whether a statically linked program can dlopen itself],
2011 | 	  lt_cv_dlopen_self_static, [dnl
2012 | 	  _LT_TRY_DLOPEN_SELF(
2013 | 	    lt_cv_dlopen_self_static=yes, lt_cv_dlopen_self_static=yes,
2014 | 	    lt_cv_dlopen_self_static=no,  lt_cv_dlopen_self_static=cross)
2024 |   case $lt_cv_dlopen_self in
2025 |   yes|no) enable_dlopen_self=$lt_cv_dlopen_self ;;
2026 |   *) enable_dlopen_self=unknown ;;
2029 |   case $lt_cv_dlopen_self_static in
2030 |   yes|no) enable_dlopen_self_static=$lt_cv_dlopen_self_static ;;
2031 |   *) enable_dlopen_self_static=unknown ;;
2034 | _LT_DECL([dlopen_support], [enable_dlopen], [0],
2035 | 	 [Whether dlopen is supported])
2036 | _LT_DECL([dlopen_self], [enable_dlopen_self], [0],
2037 | 	 [Whether dlopen of programs is supported])
2038 | _LT_DECL([dlopen_self_static], [enable_dlopen_self_static], [0],
2039 | 	 [Whether dlopen of statically linked programs is supported])
2040 | ])# LT_SYS_DLOPEN_SELF
2043 | AU_ALIAS([AC_LIBTOOL_DLOPEN_SELF], [LT_SYS_DLOPEN_SELF])
2045 | dnl AC_DEFUN([AC_LIBTOOL_DLOPEN_SELF], [])
6182 |     [Compiler flag to allow reflexive dlopens])
6295 |   LT_SYS_DLOPEN_SELF
{% endraw %}

```
### src/mpl/confdb/ltoptions.m4

```

{% raw %}
70 |   _LT_UNLESS_OPTIONS([LT_INIT], [dlopen], [enable_dlopen=no
107 | # dlopen
109 | LT_OPTION_DEFINE([LT_INIT], [dlopen], [enable_dlopen=yes
112 | AU_DEFUN([AC_LIBTOOL_DLOPEN],
113 | [_LT_SET_OPTION([LT_INIT], [dlopen])
116 | put the 'dlopen' option into LT_INIT's first parameter.])
120 | dnl AC_DEFUN([AC_LIBTOOL_DLOPEN], [])
{% endraw %}

```
### src/mpl/confdb/ltmain.sh

```bash

{% raw %}
2262 |     opt_dlopen=
2323 |         --dlopen|-dlopen)
2324 |                         opt_dlopen="${opt_dlopen+$opt_dlopen
2440 |       # Only execute mode is allowed to have -dlopen flags.
2441 |       if test -n "$opt_dlopen" && test execute != "$opt_mode"; then
2442 |         func_error "unrecognized option '-dlopen'"
3668 |   -dlopen FILE      add the directory containing FILE to the library path
3670 | This mode sets the library path environment variable according to '-dlopen'
3725 |   -dlopen FILE      '-dlpreopen' FILE if it cannot be dlopened at runtime
3734 |   -module           build a library that can dlopened
3842 |     # Handle -dlopen flags immediately.
3843 |     for file in $opt_dlopen; do
3862 | 	# Skip this library if it cannot be dlopened.
3889 | 	func_warning "'-dlopen' is ignored for non-libtool libraries and objects"
6582 | 	    dlopen_self=$dlopen_self_static
6588 | 	    dlopen_self=$dlopen_self_static
6594 | 	    dlopen_self=$dlopen_self_static
6652 | 	    elif test dlfiles = "$prev" && test yes != "$dlopen_self"; then
6742 | 		    if test yes = "$build_libtool_libs" && test yes = "$dlopen_support"; then
6909 |       -dlopen)
7348 | 	      if test yes = "$build_libtool_libs" && test yes = "$dlopen_support"; then
7416 | 	  # This library was specified with -dlopen.
7536 | 	    func_fatal_help "libraries can '-dlopen' only libtool libraries: $file"
7547 | 	passes="conv scan dlopen dlpreopen link"
7573 | 	dlopen) libs=$dlfiles ;;
7601 |       if test dlopen = "$pass"; then
7821 | 	    if test dlpreopen = "$pass" || test yes != "$dlopen_support" || test no = "$build_libtool_libs"; then
7822 | 	      # If there is no dlopen support or we're linking statically,
7850 | 	dlopen=
7880 | 	  test -n "$dlopen" && func_append dlfiles " $dlopen"
7926 | 	# This library was specified with -dlopen.
7927 | 	if test dlopen = "$pass"; then
7929 | 	    && func_fatal_error "cannot -dlopen a convenience library: '$lib'"
7931 | 	     test yes != "$dlopen_support" ||
7934 | 	    # If there is no dlname, no dlopen support or we're linking
7943 | 	fi # $pass = dlopen
7999 | 	      # (otherwise, the dlopen module name will be incorrect).  We do
8001 | 	      # We recover the dlopen module name by 'saving' the la file
8025 | 	      # Otherwise, use the dlname, so that lt_dlopen finds it.
8154 | 	  # systems (darwin).  Don't bleat about dlopened modules though!
8155 | 	  dlopenmodule=
8158 | 	      dlopenmodule=$dlpremoduletest
8162 | 	  if test -z "$dlopenmodule" && test yes = "$shouldnotlink" && test link = "$pass"; then
8259 | 		    # if the lib is a (non-dlopened) module then we cannot
8263 | 		      if test "X$dlopenmodule" != "X$lib"; then
8415 | 	      echo "*** a static module, that should work as long as the dlopening application"
8416 | 	      echo "*** is linked with the -dlopen flag to resolve symbols at runtime."
8560 |       if test dlopen != "$pass"; then
8690 | 	func_warning "'-dlopen' is ignored for archives"
8757 | 	|| func_warning "'-dlopen self' is ignored for libtool libraries"
9451 | 	    echo "*** a static module, that should work as long as the dlopening"
9452 | 	    echo "*** application is linked with the -dlopen flag."
9470 | 	    echo "*** or is declared to -dlopen it."
10082 | 	func_warning "'-dlopen' is ignored for objects"
10202 | 	&& test unknown,unknown,unknown = "$dlopen_support,$dlopen_self,$dlopen_self_static" \
10203 | 	&& func_warning "'LT_INIT([dlopen])' not used. Assuming no dlopen support."
10884 | # The name that we can dlopen(3).
10913 | # Files to dlopen/dlpreopen
10914 | dlopen='$dlfiles'
{% endraw %}

```
### test/mpi/confdb/libtool.m4

```

{% raw %}
1821 | # _LT_TRY_DLOPEN_SELF (ACTION-IF-TRUE, ACTION-IF-TRUE-W-USCORE,
1824 | m4_defun([_LT_TRY_DLOPEN_SELF],
1882 |   void *self = dlopen (0, LT_DLGLOBAL|LT_DLLAZY_OR_NOW);
1915 | ])# _LT_TRY_DLOPEN_SELF
1918 | # LT_SYS_DLOPEN_SELF
1920 | AC_DEFUN([LT_SYS_DLOPEN_SELF],
1922 | if test yes != "$enable_dlopen"; then
1923 |   enable_dlopen=unknown
1924 |   enable_dlopen_self=unknown
1925 |   enable_dlopen_self_static=unknown
1927 |   lt_cv_dlopen=no
1928 |   lt_cv_dlopen_libs=
1932 |     lt_cv_dlopen=load_add_on
1933 |     lt_cv_dlopen_libs=
1934 |     lt_cv_dlopen_self=yes
1938 |     lt_cv_dlopen=LoadLibrary
1939 |     lt_cv_dlopen_libs=
1943 |     lt_cv_dlopen=dlopen
1944 |     lt_cv_dlopen_libs=
1949 |     AC_CHECK_LIB([dl], [dlopen],
1950 | 		[lt_cv_dlopen=dlopen lt_cv_dlopen_libs=-ldl],[
1951 |     lt_cv_dlopen=dyld
1952 |     lt_cv_dlopen_libs=
1953 |     lt_cv_dlopen_self=yes
1960 |     lt_cv_dlopen=dlopen
1961 |     lt_cv_dlopen_libs=
1962 |     lt_cv_dlopen_self=no
1967 | 	  [lt_cv_dlopen=shl_load],
1969 | 	    [lt_cv_dlopen=shl_load lt_cv_dlopen_libs=-ldld],
1970 | 	[AC_CHECK_FUNC([dlopen],
1971 | 	      [lt_cv_dlopen=dlopen],
1972 | 	  [AC_CHECK_LIB([dl], [dlopen],
1973 | 		[lt_cv_dlopen=dlopen lt_cv_dlopen_libs=-ldl],
1974 | 	    [AC_CHECK_LIB([svld], [dlopen],
1975 | 		  [lt_cv_dlopen=dlopen lt_cv_dlopen_libs=-lsvld],
1977 | 		    [lt_cv_dlopen=dld_link lt_cv_dlopen_libs=-ldld])
1986 |   if test no = "$lt_cv_dlopen"; then
1987 |     enable_dlopen=no
1989 |     enable_dlopen=yes
1992 |   case $lt_cv_dlopen in
1993 |   dlopen)
2001 |     LIBS="$lt_cv_dlopen_libs $LIBS"
2003 |     AC_CACHE_CHECK([whether a program can dlopen itself],
2004 | 	  lt_cv_dlopen_self, [dnl
2005 | 	  _LT_TRY_DLOPEN_SELF(
2006 | 	    lt_cv_dlopen_self=yes, lt_cv_dlopen_self=yes,
2007 | 	    lt_cv_dlopen_self=no, lt_cv_dlopen_self=cross)
2010 |     if test yes = "$lt_cv_dlopen_self"; then
2012 |       AC_CACHE_CHECK([whether a statically linked program can dlopen itself],
2013 | 	  lt_cv_dlopen_self_static, [dnl
2014 | 	  _LT_TRY_DLOPEN_SELF(
2015 | 	    lt_cv_dlopen_self_static=yes, lt_cv_dlopen_self_static=yes,
2016 | 	    lt_cv_dlopen_self_static=no,  lt_cv_dlopen_self_static=cross)
2026 |   case $lt_cv_dlopen_self in
2027 |   yes|no) enable_dlopen_self=$lt_cv_dlopen_self ;;
2028 |   *) enable_dlopen_self=unknown ;;
2031 |   case $lt_cv_dlopen_self_static in
2032 |   yes|no) enable_dlopen_self_static=$lt_cv_dlopen_self_static ;;
2033 |   *) enable_dlopen_self_static=unknown ;;
2036 | _LT_DECL([dlopen_support], [enable_dlopen], [0],
2037 | 	 [Whether dlopen is supported])
2038 | _LT_DECL([dlopen_self], [enable_dlopen_self], [0],
2039 | 	 [Whether dlopen of programs is supported])
2040 | _LT_DECL([dlopen_self_static], [enable_dlopen_self_static], [0],
2041 | 	 [Whether dlopen of statically linked programs is supported])
2042 | ])# LT_SYS_DLOPEN_SELF
2045 | AU_ALIAS([AC_LIBTOOL_DLOPEN_SELF], [LT_SYS_DLOPEN_SELF])
2047 | dnl AC_DEFUN([AC_LIBTOOL_DLOPEN_SELF], [])
6122 |     [Compiler flag to allow reflexive dlopens])
6235 |   LT_SYS_DLOPEN_SELF
{% endraw %}

```
### test/mpi/confdb/ltoptions.m4

```

{% raw %}
70 |   _LT_UNLESS_OPTIONS([LT_INIT], [dlopen], [enable_dlopen=no
107 | # dlopen
109 | LT_OPTION_DEFINE([LT_INIT], [dlopen], [enable_dlopen=yes
112 | AU_DEFUN([AC_LIBTOOL_DLOPEN],
113 | [_LT_SET_OPTION([LT_INIT], [dlopen])
116 | put the 'dlopen' option into LT_INIT's first parameter.])
120 | dnl AC_DEFUN([AC_LIBTOOL_DLOPEN], [])
{% endraw %}

```
### test/mpi/confdb/ltmain.sh

```bash

{% raw %}
2262 |     opt_dlopen=
2323 |         --dlopen|-dlopen)
2324 |                         opt_dlopen="${opt_dlopen+$opt_dlopen
2440 |       # Only execute mode is allowed to have -dlopen flags.
2441 |       if test -n "$opt_dlopen" && test execute != "$opt_mode"; then
2442 |         func_error "unrecognized option '-dlopen'"
3668 |   -dlopen FILE      add the directory containing FILE to the library path
3670 | This mode sets the library path environment variable according to '-dlopen'
3725 |   -dlopen FILE      '-dlpreopen' FILE if it cannot be dlopened at runtime
3734 |   -module           build a library that can dlopened
3842 |     # Handle -dlopen flags immediately.
3843 |     for file in $opt_dlopen; do
3862 | 	# Skip this library if it cannot be dlopened.
3889 | 	func_warning "'-dlopen' is ignored for non-libtool libraries and objects"
6582 | 	    dlopen_self=$dlopen_self_static
6588 | 	    dlopen_self=$dlopen_self_static
6594 | 	    dlopen_self=$dlopen_self_static
6652 | 	    elif test dlfiles = "$prev" && test yes != "$dlopen_self"; then
6742 | 		    if test yes = "$build_libtool_libs" && test yes = "$dlopen_support"; then
6909 |       -dlopen)
7343 | 	      if test yes = "$build_libtool_libs" && test yes = "$dlopen_support"; then
7411 | 	  # This library was specified with -dlopen.
7531 | 	    func_fatal_help "libraries can '-dlopen' only libtool libraries: $file"
7542 | 	passes="conv scan dlopen dlpreopen link"
7568 | 	dlopen) libs=$dlfiles ;;
7596 |       if test dlopen = "$pass"; then
7816 | 	    if test dlpreopen = "$pass" || test yes != "$dlopen_support" || test no = "$build_libtool_libs"; then
7817 | 	      # If there is no dlopen support or we're linking statically,
7845 | 	dlopen=
7875 | 	  test -n "$dlopen" && func_append dlfiles " $dlopen"
7921 | 	# This library was specified with -dlopen.
7922 | 	if test dlopen = "$pass"; then
7924 | 	    && func_fatal_error "cannot -dlopen a convenience library: '$lib'"
7926 | 	     test yes != "$dlopen_support" ||
7929 | 	    # If there is no dlname, no dlopen support or we're linking
7938 | 	fi # $pass = dlopen
7994 | 	      # (otherwise, the dlopen module name will be incorrect).  We do
7996 | 	      # We recover the dlopen module name by 'saving' the la file
8020 | 	      # Otherwise, use the dlname, so that lt_dlopen finds it.
8149 | 	  # systems (darwin).  Don't bleat about dlopened modules though!
8150 | 	  dlopenmodule=
8153 | 	      dlopenmodule=$dlpremoduletest
8157 | 	  if test -z "$dlopenmodule" && test yes = "$shouldnotlink" && test link = "$pass"; then
8254 | 		    # if the lib is a (non-dlopened) module then we cannot
8258 | 		      if test "X$dlopenmodule" != "X$lib"; then
8410 | 	      echo "*** a static module, that should work as long as the dlopening application"
8411 | 	      echo "*** is linked with the -dlopen flag to resolve symbols at runtime."
8555 |       if test dlopen != "$pass"; then
8685 | 	func_warning "'-dlopen' is ignored for archives"
8752 | 	|| func_warning "'-dlopen self' is ignored for libtool libraries"
9446 | 	    echo "*** a static module, that should work as long as the dlopening"
9447 | 	    echo "*** application is linked with the -dlopen flag."
9465 | 	    echo "*** or is declared to -dlopen it."
10077 | 	func_warning "'-dlopen' is ignored for objects"
10197 | 	&& test unknown,unknown,unknown = "$dlopen_support,$dlopen_self,$dlopen_self_static" \
10198 | 	&& func_warning "'LT_INIT([dlopen])' not used. Assuming no dlopen support."
10879 | # The name that we can dlopen(3).
10908 | # Files to dlopen/dlpreopen
10909 | dlopen='$dlfiles'
{% endraw %}

```
### test/mpi/dtpools/confdb/libtool.m4

```

{% raw %}
1821 | # _LT_TRY_DLOPEN_SELF (ACTION-IF-TRUE, ACTION-IF-TRUE-W-USCORE,
1824 | m4_defun([_LT_TRY_DLOPEN_SELF],
1882 |   void *self = dlopen (0, LT_DLGLOBAL|LT_DLLAZY_OR_NOW);
1915 | ])# _LT_TRY_DLOPEN_SELF
1918 | # LT_SYS_DLOPEN_SELF
1920 | AC_DEFUN([LT_SYS_DLOPEN_SELF],
1922 | if test yes != "$enable_dlopen"; then
1923 |   enable_dlopen=unknown
1924 |   enable_dlopen_self=unknown
1925 |   enable_dlopen_self_static=unknown
1927 |   lt_cv_dlopen=no
1928 |   lt_cv_dlopen_libs=
1932 |     lt_cv_dlopen=load_add_on
1933 |     lt_cv_dlopen_libs=
1934 |     lt_cv_dlopen_self=yes
1938 |     lt_cv_dlopen=LoadLibrary
1939 |     lt_cv_dlopen_libs=
1943 |     lt_cv_dlopen=dlopen
1944 |     lt_cv_dlopen_libs=
1949 |     AC_CHECK_LIB([dl], [dlopen],
1950 | 		[lt_cv_dlopen=dlopen lt_cv_dlopen_libs=-ldl],[
1951 |     lt_cv_dlopen=dyld
1952 |     lt_cv_dlopen_libs=
1953 |     lt_cv_dlopen_self=yes
1960 |     lt_cv_dlopen=dlopen
1961 |     lt_cv_dlopen_libs=
1962 |     lt_cv_dlopen_self=no
1967 | 	  [lt_cv_dlopen=shl_load],
1969 | 	    [lt_cv_dlopen=shl_load lt_cv_dlopen_libs=-ldld],
1970 | 	[AC_CHECK_FUNC([dlopen],
1971 | 	      [lt_cv_dlopen=dlopen],
1972 | 	  [AC_CHECK_LIB([dl], [dlopen],
1973 | 		[lt_cv_dlopen=dlopen lt_cv_dlopen_libs=-ldl],
1974 | 	    [AC_CHECK_LIB([svld], [dlopen],
1975 | 		  [lt_cv_dlopen=dlopen lt_cv_dlopen_libs=-lsvld],
1977 | 		    [lt_cv_dlopen=dld_link lt_cv_dlopen_libs=-ldld])
1986 |   if test no = "$lt_cv_dlopen"; then
1987 |     enable_dlopen=no
1989 |     enable_dlopen=yes
1992 |   case $lt_cv_dlopen in
1993 |   dlopen)
2001 |     LIBS="$lt_cv_dlopen_libs $LIBS"
2003 |     AC_CACHE_CHECK([whether a program can dlopen itself],
2004 | 	  lt_cv_dlopen_self, [dnl
2005 | 	  _LT_TRY_DLOPEN_SELF(
2006 | 	    lt_cv_dlopen_self=yes, lt_cv_dlopen_self=yes,
2007 | 	    lt_cv_dlopen_self=no, lt_cv_dlopen_self=cross)
2010 |     if test yes = "$lt_cv_dlopen_self"; then
2012 |       AC_CACHE_CHECK([whether a statically linked program can dlopen itself],
2013 | 	  lt_cv_dlopen_self_static, [dnl
2014 | 	  _LT_TRY_DLOPEN_SELF(
2015 | 	    lt_cv_dlopen_self_static=yes, lt_cv_dlopen_self_static=yes,
2016 | 	    lt_cv_dlopen_self_static=no,  lt_cv_dlopen_self_static=cross)
2026 |   case $lt_cv_dlopen_self in
2027 |   yes|no) enable_dlopen_self=$lt_cv_dlopen_self ;;
2028 |   *) enable_dlopen_self=unknown ;;
2031 |   case $lt_cv_dlopen_self_static in
2032 |   yes|no) enable_dlopen_self_static=$lt_cv_dlopen_self_static ;;
2033 |   *) enable_dlopen_self_static=unknown ;;
2036 | _LT_DECL([dlopen_support], [enable_dlopen], [0],
2037 | 	 [Whether dlopen is supported])
2038 | _LT_DECL([dlopen_self], [enable_dlopen_self], [0],
2039 | 	 [Whether dlopen of programs is supported])
2040 | _LT_DECL([dlopen_self_static], [enable_dlopen_self_static], [0],
2041 | 	 [Whether dlopen of statically linked programs is supported])
2042 | ])# LT_SYS_DLOPEN_SELF
2045 | AU_ALIAS([AC_LIBTOOL_DLOPEN_SELF], [LT_SYS_DLOPEN_SELF])
2047 | dnl AC_DEFUN([AC_LIBTOOL_DLOPEN_SELF], [])
6122 |     [Compiler flag to allow reflexive dlopens])
6235 |   LT_SYS_DLOPEN_SELF
{% endraw %}

```
### test/mpi/dtpools/confdb/ltoptions.m4

```

{% raw %}
70 |   _LT_UNLESS_OPTIONS([LT_INIT], [dlopen], [enable_dlopen=no
107 | # dlopen
109 | LT_OPTION_DEFINE([LT_INIT], [dlopen], [enable_dlopen=yes
112 | AU_DEFUN([AC_LIBTOOL_DLOPEN],
113 | [_LT_SET_OPTION([LT_INIT], [dlopen])
116 | put the 'dlopen' option into LT_INIT's first parameter.])
120 | dnl AC_DEFUN([AC_LIBTOOL_DLOPEN], [])
{% endraw %}

```
### test/mpi/dtpools/confdb/ltmain.sh

```bash

{% raw %}
2262 |     opt_dlopen=
2323 |         --dlopen|-dlopen)
2324 |                         opt_dlopen="${opt_dlopen+$opt_dlopen
2440 |       # Only execute mode is allowed to have -dlopen flags.
2441 |       if test -n "$opt_dlopen" && test execute != "$opt_mode"; then
2442 |         func_error "unrecognized option '-dlopen'"
3668 |   -dlopen FILE      add the directory containing FILE to the library path
3670 | This mode sets the library path environment variable according to '-dlopen'
3725 |   -dlopen FILE      '-dlpreopen' FILE if it cannot be dlopened at runtime
3734 |   -module           build a library that can dlopened
3842 |     # Handle -dlopen flags immediately.
3843 |     for file in $opt_dlopen; do
3862 | 	# Skip this library if it cannot be dlopened.
3889 | 	func_warning "'-dlopen' is ignored for non-libtool libraries and objects"
6582 | 	    dlopen_self=$dlopen_self_static
6588 | 	    dlopen_self=$dlopen_self_static
6594 | 	    dlopen_self=$dlopen_self_static
6652 | 	    elif test dlfiles = "$prev" && test yes != "$dlopen_self"; then
6742 | 		    if test yes = "$build_libtool_libs" && test yes = "$dlopen_support"; then
6909 |       -dlopen)
7343 | 	      if test yes = "$build_libtool_libs" && test yes = "$dlopen_support"; then
7411 | 	  # This library was specified with -dlopen.
7531 | 	    func_fatal_help "libraries can '-dlopen' only libtool libraries: $file"
7542 | 	passes="conv scan dlopen dlpreopen link"
7568 | 	dlopen) libs=$dlfiles ;;
7596 |       if test dlopen = "$pass"; then
7816 | 	    if test dlpreopen = "$pass" || test yes != "$dlopen_support" || test no = "$build_libtool_libs"; then
7817 | 	      # If there is no dlopen support or we're linking statically,
7845 | 	dlopen=
7875 | 	  test -n "$dlopen" && func_append dlfiles " $dlopen"
7921 | 	# This library was specified with -dlopen.
7922 | 	if test dlopen = "$pass"; then
7924 | 	    && func_fatal_error "cannot -dlopen a convenience library: '$lib'"
7926 | 	     test yes != "$dlopen_support" ||
7929 | 	    # If there is no dlname, no dlopen support or we're linking
7938 | 	fi # $pass = dlopen
7994 | 	      # (otherwise, the dlopen module name will be incorrect).  We do
7996 | 	      # We recover the dlopen module name by 'saving' the la file
8020 | 	      # Otherwise, use the dlname, so that lt_dlopen finds it.
8149 | 	  # systems (darwin).  Don't bleat about dlopened modules though!
8150 | 	  dlopenmodule=
8153 | 	      dlopenmodule=$dlpremoduletest
8157 | 	  if test -z "$dlopenmodule" && test yes = "$shouldnotlink" && test link = "$pass"; then
8254 | 		    # if the lib is a (non-dlopened) module then we cannot
8258 | 		      if test "X$dlopenmodule" != "X$lib"; then
8410 | 	      echo "*** a static module, that should work as long as the dlopening application"
8411 | 	      echo "*** is linked with the -dlopen flag to resolve symbols at runtime."
8555 |       if test dlopen != "$pass"; then
8685 | 	func_warning "'-dlopen' is ignored for archives"
8752 | 	|| func_warning "'-dlopen self' is ignored for libtool libraries"
9446 | 	    echo "*** a static module, that should work as long as the dlopening"
9447 | 	    echo "*** application is linked with the -dlopen flag."
9465 | 	    echo "*** or is declared to -dlopen it."
10077 | 	func_warning "'-dlopen' is ignored for objects"
10197 | 	&& test unknown,unknown,unknown = "$dlopen_support,$dlopen_self,$dlopen_self_static" \
10198 | 	&& func_warning "'LT_INIT([dlopen])' not used. Assuming no dlopen support."
10879 | # The name that we can dlopen(3).
10908 | # Files to dlopen/dlpreopen
10909 | dlopen='$dlfiles'
{% endraw %}

```
### confdb/libtool.m4

```

{% raw %}
1819 | # _LT_TRY_DLOPEN_SELF (ACTION-IF-TRUE, ACTION-IF-TRUE-W-USCORE,
1822 | m4_defun([_LT_TRY_DLOPEN_SELF],
1880 |   void *self = dlopen (0, LT_DLGLOBAL|LT_DLLAZY_OR_NOW);
1913 | ])# _LT_TRY_DLOPEN_SELF
1916 | # LT_SYS_DLOPEN_SELF
1918 | AC_DEFUN([LT_SYS_DLOPEN_SELF],
1920 | if test yes != "$enable_dlopen"; then
1921 |   enable_dlopen=unknown
1922 |   enable_dlopen_self=unknown
1923 |   enable_dlopen_self_static=unknown
1925 |   lt_cv_dlopen=no
1926 |   lt_cv_dlopen_libs=
1930 |     lt_cv_dlopen=load_add_on
1931 |     lt_cv_dlopen_libs=
1932 |     lt_cv_dlopen_self=yes
1936 |     lt_cv_dlopen=LoadLibrary
1937 |     lt_cv_dlopen_libs=
1941 |     lt_cv_dlopen=dlopen
1942 |     lt_cv_dlopen_libs=
1947 |     AC_CHECK_LIB([dl], [dlopen],
1948 | 		[lt_cv_dlopen=dlopen lt_cv_dlopen_libs=-ldl],[
1949 |     lt_cv_dlopen=dyld
1950 |     lt_cv_dlopen_libs=
1951 |     lt_cv_dlopen_self=yes
1958 |     lt_cv_dlopen=dlopen
1959 |     lt_cv_dlopen_libs=
1960 |     lt_cv_dlopen_self=no
1965 | 	  [lt_cv_dlopen=shl_load],
1967 | 	    [lt_cv_dlopen=shl_load lt_cv_dlopen_libs=-ldld],
1968 | 	[AC_CHECK_FUNC([dlopen],
1969 | 	      [lt_cv_dlopen=dlopen],
1970 | 	  [AC_CHECK_LIB([dl], [dlopen],
1971 | 		[lt_cv_dlopen=dlopen lt_cv_dlopen_libs=-ldl],
1972 | 	    [AC_CHECK_LIB([svld], [dlopen],
1973 | 		  [lt_cv_dlopen=dlopen lt_cv_dlopen_libs=-lsvld],
1975 | 		    [lt_cv_dlopen=dld_link lt_cv_dlopen_libs=-ldld])
1984 |   if test no = "$lt_cv_dlopen"; then
1985 |     enable_dlopen=no
1987 |     enable_dlopen=yes
1990 |   case $lt_cv_dlopen in
1991 |   dlopen)
1999 |     LIBS="$lt_cv_dlopen_libs $LIBS"
2001 |     AC_CACHE_CHECK([whether a program can dlopen itself],
2002 | 	  lt_cv_dlopen_self, [dnl
2003 | 	  _LT_TRY_DLOPEN_SELF(
2004 | 	    lt_cv_dlopen_self=yes, lt_cv_dlopen_self=yes,
2005 | 	    lt_cv_dlopen_self=no, lt_cv_dlopen_self=cross)
2008 |     if test yes = "$lt_cv_dlopen_self"; then
2010 |       AC_CACHE_CHECK([whether a statically linked program can dlopen itself],
2011 | 	  lt_cv_dlopen_self_static, [dnl
2012 | 	  _LT_TRY_DLOPEN_SELF(
2013 | 	    lt_cv_dlopen_self_static=yes, lt_cv_dlopen_self_static=yes,
2014 | 	    lt_cv_dlopen_self_static=no,  lt_cv_dlopen_self_static=cross)
2024 |   case $lt_cv_dlopen_self in
2025 |   yes|no) enable_dlopen_self=$lt_cv_dlopen_self ;;
2026 |   *) enable_dlopen_self=unknown ;;
2029 |   case $lt_cv_dlopen_self_static in
2030 |   yes|no) enable_dlopen_self_static=$lt_cv_dlopen_self_static ;;
2031 |   *) enable_dlopen_self_static=unknown ;;
2034 | _LT_DECL([dlopen_support], [enable_dlopen], [0],
2035 | 	 [Whether dlopen is supported])
2036 | _LT_DECL([dlopen_self], [enable_dlopen_self], [0],
2037 | 	 [Whether dlopen of programs is supported])
2038 | _LT_DECL([dlopen_self_static], [enable_dlopen_self_static], [0],
2039 | 	 [Whether dlopen of statically linked programs is supported])
2040 | ])# LT_SYS_DLOPEN_SELF
2043 | AU_ALIAS([AC_LIBTOOL_DLOPEN_SELF], [LT_SYS_DLOPEN_SELF])
2045 | dnl AC_DEFUN([AC_LIBTOOL_DLOPEN_SELF], [])
6182 |     [Compiler flag to allow reflexive dlopens])
6295 |   LT_SYS_DLOPEN_SELF
{% endraw %}

```
### confdb/ltoptions.m4

```

{% raw %}
70 |   _LT_UNLESS_OPTIONS([LT_INIT], [dlopen], [enable_dlopen=no
107 | # dlopen
109 | LT_OPTION_DEFINE([LT_INIT], [dlopen], [enable_dlopen=yes
112 | AU_DEFUN([AC_LIBTOOL_DLOPEN],
113 | [_LT_SET_OPTION([LT_INIT], [dlopen])
116 | put the 'dlopen' option into LT_INIT's first parameter.])
120 | dnl AC_DEFUN([AC_LIBTOOL_DLOPEN], [])
{% endraw %}

```
### confdb/ltmain.sh

```bash

{% raw %}
2262 |     opt_dlopen=
2323 |         --dlopen|-dlopen)
2324 |                         opt_dlopen="${opt_dlopen+$opt_dlopen
2440 |       # Only execute mode is allowed to have -dlopen flags.
2441 |       if test -n "$opt_dlopen" && test execute != "$opt_mode"; then
2442 |         func_error "unrecognized option '-dlopen'"
3668 |   -dlopen FILE      add the directory containing FILE to the library path
3670 | This mode sets the library path environment variable according to '-dlopen'
3725 |   -dlopen FILE      '-dlpreopen' FILE if it cannot be dlopened at runtime
3734 |   -module           build a library that can dlopened
3842 |     # Handle -dlopen flags immediately.
3843 |     for file in $opt_dlopen; do
3862 | 	# Skip this library if it cannot be dlopened.
3889 | 	func_warning "'-dlopen' is ignored for non-libtool libraries and objects"
6582 | 	    dlopen_self=$dlopen_self_static
6588 | 	    dlopen_self=$dlopen_self_static
6594 | 	    dlopen_self=$dlopen_self_static
6652 | 	    elif test dlfiles = "$prev" && test yes != "$dlopen_self"; then
6742 | 		    if test yes = "$build_libtool_libs" && test yes = "$dlopen_support"; then
6909 |       -dlopen)
7348 | 	      if test yes = "$build_libtool_libs" && test yes = "$dlopen_support"; then
7416 | 	  # This library was specified with -dlopen.
7536 | 	    func_fatal_help "libraries can '-dlopen' only libtool libraries: $file"
7547 | 	passes="conv scan dlopen dlpreopen link"
7573 | 	dlopen) libs=$dlfiles ;;
7601 |       if test dlopen = "$pass"; then
7821 | 	    if test dlpreopen = "$pass" || test yes != "$dlopen_support" || test no = "$build_libtool_libs"; then
7822 | 	      # If there is no dlopen support or we're linking statically,
7850 | 	dlopen=
7880 | 	  test -n "$dlopen" && func_append dlfiles " $dlopen"
7926 | 	# This library was specified with -dlopen.
7927 | 	if test dlopen = "$pass"; then
7929 | 	    && func_fatal_error "cannot -dlopen a convenience library: '$lib'"
7931 | 	     test yes != "$dlopen_support" ||
7934 | 	    # If there is no dlname, no dlopen support or we're linking
7943 | 	fi # $pass = dlopen
7999 | 	      # (otherwise, the dlopen module name will be incorrect).  We do
8001 | 	      # We recover the dlopen module name by 'saving' the la file
8025 | 	      # Otherwise, use the dlname, so that lt_dlopen finds it.
8154 | 	  # systems (darwin).  Don't bleat about dlopened modules though!
8155 | 	  dlopenmodule=
8158 | 	      dlopenmodule=$dlpremoduletest
8162 | 	  if test -z "$dlopenmodule" && test yes = "$shouldnotlink" && test link = "$pass"; then
8259 | 		    # if the lib is a (non-dlopened) module then we cannot
8263 | 		      if test "X$dlopenmodule" != "X$lib"; then
8415 | 	      echo "*** a static module, that should work as long as the dlopening application"
8416 | 	      echo "*** is linked with the -dlopen flag to resolve symbols at runtime."
8560 |       if test dlopen != "$pass"; then
8690 | 	func_warning "'-dlopen' is ignored for archives"
8757 | 	|| func_warning "'-dlopen self' is ignored for libtool libraries"
9451 | 	    echo "*** a static module, that should work as long as the dlopening"
9452 | 	    echo "*** application is linked with the -dlopen flag."
9470 | 	    echo "*** or is declared to -dlopen it."
10082 | 	func_warning "'-dlopen' is ignored for objects"
10202 | 	&& test unknown,unknown,unknown = "$dlopen_support,$dlopen_self,$dlopen_self_static" \
10203 | 	&& func_warning "'LT_INIT([dlopen])' not used. Assuming no dlopen support."
10884 | # The name that we can dlopen(3).
10913 | # Files to dlopen/dlpreopen
10914 | dlopen='$dlfiles'
{% endraw %}

```
### modules/libfabric/configure.ac

```

{% raw %}
142 | dnl dlopen support is optional
143 | AC_ARG_WITH([dlopen],
144 | 	AC_HELP_STRING([--with-dlopen],
149 | AS_IF([test x"$with_dlopen" != x"no"], [
150 | AC_CHECK_LIB(dl, dlopen, [],
151 |     AC_MSG_ERROR([dlopen not found.  libfabric requires libdl.]))
{% endraw %}

```
### modules/libfabric/config/libtool.m4

```

{% raw %}
1821 | # _LT_TRY_DLOPEN_SELF (ACTION-IF-TRUE, ACTION-IF-TRUE-W-USCORE,
1824 | m4_defun([_LT_TRY_DLOPEN_SELF],
1882 |   void *self = dlopen (0, LT_DLGLOBAL|LT_DLLAZY_OR_NOW);
1915 | ])# _LT_TRY_DLOPEN_SELF
1918 | # LT_SYS_DLOPEN_SELF
1920 | AC_DEFUN([LT_SYS_DLOPEN_SELF],
1922 | if test yes != "$enable_dlopen"; then
1923 |   enable_dlopen=unknown
1924 |   enable_dlopen_self=unknown
1925 |   enable_dlopen_self_static=unknown
1927 |   lt_cv_dlopen=no
1928 |   lt_cv_dlopen_libs=
1932 |     lt_cv_dlopen=load_add_on
1933 |     lt_cv_dlopen_libs=
1934 |     lt_cv_dlopen_self=yes
1938 |     lt_cv_dlopen=LoadLibrary
1939 |     lt_cv_dlopen_libs=
1943 |     lt_cv_dlopen=dlopen
1944 |     lt_cv_dlopen_libs=
1949 |     AC_CHECK_LIB([dl], [dlopen],
1950 | 		[lt_cv_dlopen=dlopen lt_cv_dlopen_libs=-ldl],[
1951 |     lt_cv_dlopen=dyld
1952 |     lt_cv_dlopen_libs=
1953 |     lt_cv_dlopen_self=yes
1960 |     lt_cv_dlopen=dlopen
1961 |     lt_cv_dlopen_libs=
1962 |     lt_cv_dlopen_self=no
1967 | 	  [lt_cv_dlopen=shl_load],
1969 | 	    [lt_cv_dlopen=shl_load lt_cv_dlopen_libs=-ldld],
1970 | 	[AC_CHECK_FUNC([dlopen],
1971 | 	      [lt_cv_dlopen=dlopen],
1972 | 	  [AC_CHECK_LIB([dl], [dlopen],
1973 | 		[lt_cv_dlopen=dlopen lt_cv_dlopen_libs=-ldl],
1974 | 	    [AC_CHECK_LIB([svld], [dlopen],
1975 | 		  [lt_cv_dlopen=dlopen lt_cv_dlopen_libs=-lsvld],
1977 | 		    [lt_cv_dlopen=dld_link lt_cv_dlopen_libs=-ldld])
1986 |   if test no = "$lt_cv_dlopen"; then
1987 |     enable_dlopen=no
1989 |     enable_dlopen=yes
1992 |   case $lt_cv_dlopen in
1993 |   dlopen)
2001 |     LIBS="$lt_cv_dlopen_libs $LIBS"
2003 |     AC_CACHE_CHECK([whether a program can dlopen itself],
2004 | 	  lt_cv_dlopen_self, [dnl
2005 | 	  _LT_TRY_DLOPEN_SELF(
2006 | 	    lt_cv_dlopen_self=yes, lt_cv_dlopen_self=yes,
2007 | 	    lt_cv_dlopen_self=no, lt_cv_dlopen_self=cross)
2010 |     if test yes = "$lt_cv_dlopen_self"; then
2012 |       AC_CACHE_CHECK([whether a statically linked program can dlopen itself],
2013 | 	  lt_cv_dlopen_self_static, [dnl
2014 | 	  _LT_TRY_DLOPEN_SELF(
2015 | 	    lt_cv_dlopen_self_static=yes, lt_cv_dlopen_self_static=yes,
2016 | 	    lt_cv_dlopen_self_static=no,  lt_cv_dlopen_self_static=cross)
2026 |   case $lt_cv_dlopen_self in
2027 |   yes|no) enable_dlopen_self=$lt_cv_dlopen_self ;;
2028 |   *) enable_dlopen_self=unknown ;;
2031 |   case $lt_cv_dlopen_self_static in
2032 |   yes|no) enable_dlopen_self_static=$lt_cv_dlopen_self_static ;;
2033 |   *) enable_dlopen_self_static=unknown ;;
2036 | _LT_DECL([dlopen_support], [enable_dlopen], [0],
2037 | 	 [Whether dlopen is supported])
2038 | _LT_DECL([dlopen_self], [enable_dlopen_self], [0],
2039 | 	 [Whether dlopen of programs is supported])
2040 | _LT_DECL([dlopen_self_static], [enable_dlopen_self_static], [0],
2041 | 	 [Whether dlopen of statically linked programs is supported])
2042 | ])# LT_SYS_DLOPEN_SELF
2045 | AU_ALIAS([AC_LIBTOOL_DLOPEN_SELF], [LT_SYS_DLOPEN_SELF])
2047 | dnl AC_DEFUN([AC_LIBTOOL_DLOPEN_SELF], [])
6122 |     [Compiler flag to allow reflexive dlopens])
6235 |   LT_SYS_DLOPEN_SELF
{% endraw %}

```
### modules/libfabric/config/ltoptions.m4

```

{% raw %}
70 |   _LT_UNLESS_OPTIONS([LT_INIT], [dlopen], [enable_dlopen=no
107 | # dlopen
109 | LT_OPTION_DEFINE([LT_INIT], [dlopen], [enable_dlopen=yes
112 | AU_DEFUN([AC_LIBTOOL_DLOPEN],
113 | [_LT_SET_OPTION([LT_INIT], [dlopen])
116 | put the 'dlopen' option into LT_INIT's first parameter.])
120 | dnl AC_DEFUN([AC_LIBTOOL_DLOPEN], [])
{% endraw %}

```
### modules/libfabric/config/ltmain.sh

```bash

{% raw %}
2262 |     opt_dlopen=
2323 |         --dlopen|-dlopen)
2324 |                         opt_dlopen="${opt_dlopen+$opt_dlopen
2440 |       # Only execute mode is allowed to have -dlopen flags.
2441 |       if test -n "$opt_dlopen" && test execute != "$opt_mode"; then
2442 |         func_error "unrecognized option '-dlopen'"
3668 |   -dlopen FILE      add the directory containing FILE to the library path
3670 | This mode sets the library path environment variable according to '-dlopen'
3725 |   -dlopen FILE      '-dlpreopen' FILE if it cannot be dlopened at runtime
3734 |   -module           build a library that can dlopened
3842 |     # Handle -dlopen flags immediately.
3843 |     for file in $opt_dlopen; do
3862 | 	# Skip this library if it cannot be dlopened.
3889 | 	func_warning "'-dlopen' is ignored for non-libtool libraries and objects"
6582 | 	    dlopen_self=$dlopen_self_static
6588 | 	    dlopen_self=$dlopen_self_static
6594 | 	    dlopen_self=$dlopen_self_static
6652 | 	    elif test dlfiles = "$prev" && test yes != "$dlopen_self"; then
6742 | 		    if test yes = "$build_libtool_libs" && test yes = "$dlopen_support"; then
6909 |       -dlopen)
7343 | 	      if test yes = "$build_libtool_libs" && test yes = "$dlopen_support"; then
7411 | 	  # This library was specified with -dlopen.
7531 | 	    func_fatal_help "libraries can '-dlopen' only libtool libraries: $file"
7542 | 	passes="conv scan dlopen dlpreopen link"
7568 | 	dlopen) libs=$dlfiles ;;
7596 |       if test dlopen = "$pass"; then
7816 | 	    if test dlpreopen = "$pass" || test yes != "$dlopen_support" || test no = "$build_libtool_libs"; then
7817 | 	      # If there is no dlopen support or we're linking statically,
7845 | 	dlopen=
7875 | 	  test -n "$dlopen" && func_append dlfiles " $dlopen"
7921 | 	# This library was specified with -dlopen.
7922 | 	if test dlopen = "$pass"; then
7924 | 	    && func_fatal_error "cannot -dlopen a convenience library: '$lib'"
7926 | 	     test yes != "$dlopen_support" ||
7929 | 	    # If there is no dlname, no dlopen support or we're linking
7938 | 	fi # $pass = dlopen
7994 | 	      # (otherwise, the dlopen module name will be incorrect).  We do
7996 | 	      # We recover the dlopen module name by 'saving' the la file
8020 | 	      # Otherwise, use the dlname, so that lt_dlopen finds it.
8149 | 	  # systems (darwin).  Don't bleat about dlopened modules though!
8150 | 	  dlopenmodule=
8153 | 	      dlopenmodule=$dlpremoduletest
8157 | 	  if test -z "$dlopenmodule" && test yes = "$shouldnotlink" && test link = "$pass"; then
8254 | 		    # if the lib is a (non-dlopened) module then we cannot
8258 | 		      if test "X$dlopenmodule" != "X$lib"; then
8410 | 	      echo "*** a static module, that should work as long as the dlopening application"
8411 | 	      echo "*** is linked with the -dlopen flag to resolve symbols at runtime."
8555 |       if test dlopen != "$pass"; then
8685 | 	func_warning "'-dlopen' is ignored for archives"
8752 | 	|| func_warning "'-dlopen self' is ignored for libtool libraries"
9446 | 	    echo "*** a static module, that should work as long as the dlopening"
9447 | 	    echo "*** application is linked with the -dlopen flag."
9465 | 	    echo "*** or is declared to -dlopen it."
10077 | 	func_warning "'-dlopen' is ignored for objects"
10197 | 	&& test unknown,unknown,unknown = "$dlopen_support,$dlopen_self,$dlopen_self_static" \
10198 | 	&& func_warning "'LT_INIT([dlopen])' not used. Assuming no dlopen support."
10879 | # The name that we can dlopen(3).
10908 | # Files to dlopen/dlpreopen
10909 | dlopen='$dlfiles'
{% endraw %}

```
### modules/libfabric/src/fabric.c

```cpp

{% raw %}
567 | 		dlhandle = dlopen(lib, RTLD_NOW);
571 | 			       "dlopen(%s): %s\n", lib, dlerror());
633 | 	/* If dlopen fails, assume static linking and just return
635 | 	dlhandle = dlopen(NULL, RTLD_NOW);
{% endraw %}

```
### modules/libfabric/prov/util/src/util_mem_hooks.c

```cpp

{% raw %}
76 | 	OFI_INTERCEPT_DLOPEN,
87 | static void *ofi_intercept_dlopen(const char *filename, int flag);
99 | 	[OFI_INTERCEPT_DLOPEN] = { .symbol = "dlopen",
100 | 				.our_func = ofi_intercept_dlopen},
118 | 	void *(*dlopen) (const char *, int);
245 | static void *ofi_intercept_dlopen(const char *filename, int flag)
250 | 	handle = real_calls.dlopen(filename, flag);
484 | 	ret = ofi_intercept_symbol(&intercepts[OFI_INTERCEPT_DLOPEN],
485 | 				   (void **) &real_calls.dlopen);
488 | 		       "intercept dlopen failed %d %s\n", ret, fi_strerror(ret));
{% endraw %}

```
### modules/izem/m4/libtool.m4

```

{% raw %}
1821 | # _LT_TRY_DLOPEN_SELF (ACTION-IF-TRUE, ACTION-IF-TRUE-W-USCORE,
1824 | m4_defun([_LT_TRY_DLOPEN_SELF],
1882 |   void *self = dlopen (0, LT_DLGLOBAL|LT_DLLAZY_OR_NOW);
1915 | ])# _LT_TRY_DLOPEN_SELF
1918 | # LT_SYS_DLOPEN_SELF
1920 | AC_DEFUN([LT_SYS_DLOPEN_SELF],
1922 | if test yes != "$enable_dlopen"; then
1923 |   enable_dlopen=unknown
1924 |   enable_dlopen_self=unknown
1925 |   enable_dlopen_self_static=unknown
1927 |   lt_cv_dlopen=no
1928 |   lt_cv_dlopen_libs=
1932 |     lt_cv_dlopen=load_add_on
1933 |     lt_cv_dlopen_libs=
1934 |     lt_cv_dlopen_self=yes
1938 |     lt_cv_dlopen=LoadLibrary
1939 |     lt_cv_dlopen_libs=
1943 |     lt_cv_dlopen=dlopen
1944 |     lt_cv_dlopen_libs=
1949 |     AC_CHECK_LIB([dl], [dlopen],
1950 | 		[lt_cv_dlopen=dlopen lt_cv_dlopen_libs=-ldl],[
1951 |     lt_cv_dlopen=dyld
1952 |     lt_cv_dlopen_libs=
1953 |     lt_cv_dlopen_self=yes
1960 |     lt_cv_dlopen=dlopen
1961 |     lt_cv_dlopen_libs=
1962 |     lt_cv_dlopen_self=no
1967 | 	  [lt_cv_dlopen=shl_load],
1969 | 	    [lt_cv_dlopen=shl_load lt_cv_dlopen_libs=-ldld],
1970 | 	[AC_CHECK_FUNC([dlopen],
1971 | 	      [lt_cv_dlopen=dlopen],
1972 | 	  [AC_CHECK_LIB([dl], [dlopen],
1973 | 		[lt_cv_dlopen=dlopen lt_cv_dlopen_libs=-ldl],
1974 | 	    [AC_CHECK_LIB([svld], [dlopen],
1975 | 		  [lt_cv_dlopen=dlopen lt_cv_dlopen_libs=-lsvld],
1977 | 		    [lt_cv_dlopen=dld_link lt_cv_dlopen_libs=-ldld])
1986 |   if test no = "$lt_cv_dlopen"; then
1987 |     enable_dlopen=no
1989 |     enable_dlopen=yes
1992 |   case $lt_cv_dlopen in
1993 |   dlopen)
2001 |     LIBS="$lt_cv_dlopen_libs $LIBS"
2003 |     AC_CACHE_CHECK([whether a program can dlopen itself],
2004 | 	  lt_cv_dlopen_self, [dnl
2005 | 	  _LT_TRY_DLOPEN_SELF(
2006 | 	    lt_cv_dlopen_self=yes, lt_cv_dlopen_self=yes,
2007 | 	    lt_cv_dlopen_self=no, lt_cv_dlopen_self=cross)
2010 |     if test yes = "$lt_cv_dlopen_self"; then
2012 |       AC_CACHE_CHECK([whether a statically linked program can dlopen itself],
2013 | 	  lt_cv_dlopen_self_static, [dnl
2014 | 	  _LT_TRY_DLOPEN_SELF(
2015 | 	    lt_cv_dlopen_self_static=yes, lt_cv_dlopen_self_static=yes,
2016 | 	    lt_cv_dlopen_self_static=no,  lt_cv_dlopen_self_static=cross)
2026 |   case $lt_cv_dlopen_self in
2027 |   yes|no) enable_dlopen_self=$lt_cv_dlopen_self ;;
2028 |   *) enable_dlopen_self=unknown ;;
2031 |   case $lt_cv_dlopen_self_static in
2032 |   yes|no) enable_dlopen_self_static=$lt_cv_dlopen_self_static ;;
2033 |   *) enable_dlopen_self_static=unknown ;;
2036 | _LT_DECL([dlopen_support], [enable_dlopen], [0],
2037 | 	 [Whether dlopen is supported])
2038 | _LT_DECL([dlopen_self], [enable_dlopen_self], [0],
2039 | 	 [Whether dlopen of programs is supported])
2040 | _LT_DECL([dlopen_self_static], [enable_dlopen_self_static], [0],
2041 | 	 [Whether dlopen of statically linked programs is supported])
2042 | ])# LT_SYS_DLOPEN_SELF
2045 | AU_ALIAS([AC_LIBTOOL_DLOPEN_SELF], [LT_SYS_DLOPEN_SELF])
2047 | dnl AC_DEFUN([AC_LIBTOOL_DLOPEN_SELF], [])
6122 |     [Compiler flag to allow reflexive dlopens])
6235 |   LT_SYS_DLOPEN_SELF
{% endraw %}

```
### modules/izem/m4/ltoptions.m4

```

{% raw %}
70 |   _LT_UNLESS_OPTIONS([LT_INIT], [dlopen], [enable_dlopen=no
107 | # dlopen
109 | LT_OPTION_DEFINE([LT_INIT], [dlopen], [enable_dlopen=yes
112 | AU_DEFUN([AC_LIBTOOL_DLOPEN],
113 | [_LT_SET_OPTION([LT_INIT], [dlopen])
116 | put the 'dlopen' option into LT_INIT's first parameter.])
120 | dnl AC_DEFUN([AC_LIBTOOL_DLOPEN], [])
{% endraw %}

```
### modules/izem/m4/ltmain.sh

```bash

{% raw %}
2262 |     opt_dlopen=
2323 |         --dlopen|-dlopen)
2324 |                         opt_dlopen="${opt_dlopen+$opt_dlopen
2440 |       # Only execute mode is allowed to have -dlopen flags.
2441 |       if test -n "$opt_dlopen" && test execute != "$opt_mode"; then
2442 |         func_error "unrecognized option '-dlopen'"
3668 |   -dlopen FILE      add the directory containing FILE to the library path
3670 | This mode sets the library path environment variable according to '-dlopen'
3725 |   -dlopen FILE      '-dlpreopen' FILE if it cannot be dlopened at runtime
3734 |   -module           build a library that can dlopened
3842 |     # Handle -dlopen flags immediately.
3843 |     for file in $opt_dlopen; do
3862 | 	# Skip this library if it cannot be dlopened.
3889 | 	func_warning "'-dlopen' is ignored for non-libtool libraries and objects"
6582 | 	    dlopen_self=$dlopen_self_static
6588 | 	    dlopen_self=$dlopen_self_static
6594 | 	    dlopen_self=$dlopen_self_static
6652 | 	    elif test dlfiles = "$prev" && test yes != "$dlopen_self"; then
6742 | 		    if test yes = "$build_libtool_libs" && test yes = "$dlopen_support"; then
6909 |       -dlopen)
7343 | 	      if test yes = "$build_libtool_libs" && test yes = "$dlopen_support"; then
7411 | 	  # This library was specified with -dlopen.
7531 | 	    func_fatal_help "libraries can '-dlopen' only libtool libraries: $file"
7542 | 	passes="conv scan dlopen dlpreopen link"
7568 | 	dlopen) libs=$dlfiles ;;
7596 |       if test dlopen = "$pass"; then
7816 | 	    if test dlpreopen = "$pass" || test yes != "$dlopen_support" || test no = "$build_libtool_libs"; then
7817 | 	      # If there is no dlopen support or we're linking statically,
7845 | 	dlopen=
7875 | 	  test -n "$dlopen" && func_append dlfiles " $dlopen"
7921 | 	# This library was specified with -dlopen.
7922 | 	if test dlopen = "$pass"; then
7924 | 	    && func_fatal_error "cannot -dlopen a convenience library: '$lib'"
7926 | 	     test yes != "$dlopen_support" ||
7929 | 	    # If there is no dlname, no dlopen support or we're linking
7938 | 	fi # $pass = dlopen
7994 | 	      # (otherwise, the dlopen module name will be incorrect).  We do
7996 | 	      # We recover the dlopen module name by 'saving' the la file
8020 | 	      # Otherwise, use the dlname, so that lt_dlopen finds it.
8149 | 	  # systems (darwin).  Don't bleat about dlopened modules though!
8150 | 	  dlopenmodule=
8153 | 	      dlopenmodule=$dlpremoduletest
8157 | 	  if test -z "$dlopenmodule" && test yes = "$shouldnotlink" && test link = "$pass"; then
8254 | 		    # if the lib is a (non-dlopened) module then we cannot
8258 | 		      if test "X$dlopenmodule" != "X$lib"; then
8410 | 	      echo "*** a static module, that should work as long as the dlopening application"
8411 | 	      echo "*** is linked with the -dlopen flag to resolve symbols at runtime."
8555 |       if test dlopen != "$pass"; then
8685 | 	func_warning "'-dlopen' is ignored for archives"
8752 | 	|| func_warning "'-dlopen self' is ignored for libtool libraries"
9446 | 	    echo "*** a static module, that should work as long as the dlopening"
9447 | 	    echo "*** application is linked with the -dlopen flag."
9465 | 	    echo "*** or is declared to -dlopen it."
10077 | 	func_warning "'-dlopen' is ignored for objects"
10197 | 	&& test unknown,unknown,unknown = "$dlopen_support,$dlopen_self,$dlopen_self_static" \
10198 | 	&& func_warning "'LT_INIT([dlopen])' not used. Assuming no dlopen support."
10879 | # The name that we can dlopen(3).
10908 | # Files to dlopen/dlpreopen
10909 | dlopen='$dlfiles'
{% endraw %}

```
### modules/json-c/ltmain.sh

```bash

{% raw %}
2262 |     opt_dlopen=
2323 |         --dlopen|-dlopen)
2324 |                         opt_dlopen="${opt_dlopen+$opt_dlopen
2440 |       # Only execute mode is allowed to have -dlopen flags.
2441 |       if test -n "$opt_dlopen" && test execute != "$opt_mode"; then
2442 |         func_error "unrecognized option '-dlopen'"
3668 |   -dlopen FILE      add the directory containing FILE to the library path
3670 | This mode sets the library path environment variable according to '-dlopen'
3725 |   -dlopen FILE      '-dlpreopen' FILE if it cannot be dlopened at runtime
3734 |   -module           build a library that can dlopened
3842 |     # Handle -dlopen flags immediately.
3843 |     for file in $opt_dlopen; do
3862 | 	# Skip this library if it cannot be dlopened.
3889 | 	func_warning "'-dlopen' is ignored for non-libtool libraries and objects"
6582 | 	    dlopen_self=$dlopen_self_static
6588 | 	    dlopen_self=$dlopen_self_static
6594 | 	    dlopen_self=$dlopen_self_static
6652 | 	    elif test dlfiles = "$prev" && test yes != "$dlopen_self"; then
6742 | 		    if test yes = "$build_libtool_libs" && test yes = "$dlopen_support"; then
6909 |       -dlopen)
7343 | 	      if test yes = "$build_libtool_libs" && test yes = "$dlopen_support"; then
7411 | 	  # This library was specified with -dlopen.
7531 | 	    func_fatal_help "libraries can '-dlopen' only libtool libraries: $file"
7542 | 	passes="conv scan dlopen dlpreopen link"
7568 | 	dlopen) libs=$dlfiles ;;
7596 |       if test dlopen = "$pass"; then
7816 | 	    if test dlpreopen = "$pass" || test yes != "$dlopen_support" || test no = "$build_libtool_libs"; then
7817 | 	      # If there is no dlopen support or we're linking statically,
7845 | 	dlopen=
7875 | 	  test -n "$dlopen" && func_append dlfiles " $dlopen"
7921 | 	# This library was specified with -dlopen.
7922 | 	if test dlopen = "$pass"; then
7924 | 	    && func_fatal_error "cannot -dlopen a convenience library: '$lib'"
7926 | 	     test yes != "$dlopen_support" ||
7929 | 	    # If there is no dlname, no dlopen support or we're linking
7938 | 	fi # $pass = dlopen
7994 | 	      # (otherwise, the dlopen module name will be incorrect).  We do
7996 | 	      # We recover the dlopen module name by 'saving' the la file
8020 | 	      # Otherwise, use the dlname, so that lt_dlopen finds it.
8149 | 	  # systems (darwin).  Don't bleat about dlopened modules though!
8150 | 	  dlopenmodule=
8153 | 	      dlopenmodule=$dlpremoduletest
8157 | 	  if test -z "$dlopenmodule" && test yes = "$shouldnotlink" && test link = "$pass"; then
8254 | 		    # if the lib is a (non-dlopened) module then we cannot
8258 | 		      if test "X$dlopenmodule" != "X$lib"; then
8410 | 	      echo "*** a static module, that should work as long as the dlopening application"
8411 | 	      echo "*** is linked with the -dlopen flag to resolve symbols at runtime."
8555 |       if test dlopen != "$pass"; then
8685 | 	func_warning "'-dlopen' is ignored for archives"
8752 | 	|| func_warning "'-dlopen self' is ignored for libtool libraries"
9446 | 	    echo "*** a static module, that should work as long as the dlopening"
9447 | 	    echo "*** application is linked with the -dlopen flag."
9465 | 	    echo "*** or is declared to -dlopen it."
10077 | 	func_warning "'-dlopen' is ignored for objects"
10197 | 	&& test unknown,unknown,unknown = "$dlopen_support,$dlopen_self,$dlopen_self_static" \
10198 | 	&& func_warning "'LT_INIT([dlopen])' not used. Assuming no dlopen support."
10879 | # The name that we can dlopen(3).
10908 | # Files to dlopen/dlpreopen
10909 | dlopen='$dlfiles'
{% endraw %}

```
### modules/json-c/autoconf-archive/m4/libtool.m4

```

{% raw %}
1821 | # _LT_TRY_DLOPEN_SELF (ACTION-IF-TRUE, ACTION-IF-TRUE-W-USCORE,
1824 | m4_defun([_LT_TRY_DLOPEN_SELF],
1882 |   void *self = dlopen (0, LT_DLGLOBAL|LT_DLLAZY_OR_NOW);
1915 | ])# _LT_TRY_DLOPEN_SELF
1918 | # LT_SYS_DLOPEN_SELF
1920 | AC_DEFUN([LT_SYS_DLOPEN_SELF],
1922 | if test yes != "$enable_dlopen"; then
1923 |   enable_dlopen=unknown
1924 |   enable_dlopen_self=unknown
1925 |   enable_dlopen_self_static=unknown
1927 |   lt_cv_dlopen=no
1928 |   lt_cv_dlopen_libs=
1932 |     lt_cv_dlopen=load_add_on
1933 |     lt_cv_dlopen_libs=
1934 |     lt_cv_dlopen_self=yes
1938 |     lt_cv_dlopen=LoadLibrary
1939 |     lt_cv_dlopen_libs=
1943 |     lt_cv_dlopen=dlopen
1944 |     lt_cv_dlopen_libs=
1949 |     AC_CHECK_LIB([dl], [dlopen],
1950 | 		[lt_cv_dlopen=dlopen lt_cv_dlopen_libs=-ldl],[
1951 |     lt_cv_dlopen=dyld
1952 |     lt_cv_dlopen_libs=
1953 |     lt_cv_dlopen_self=yes
1960 |     lt_cv_dlopen=dlopen
1961 |     lt_cv_dlopen_libs=
1962 |     lt_cv_dlopen_self=no
1967 | 	  [lt_cv_dlopen=shl_load],
1969 | 	    [lt_cv_dlopen=shl_load lt_cv_dlopen_libs=-ldld],
1970 | 	[AC_CHECK_FUNC([dlopen],
1971 | 	      [lt_cv_dlopen=dlopen],
1972 | 	  [AC_CHECK_LIB([dl], [dlopen],
1973 | 		[lt_cv_dlopen=dlopen lt_cv_dlopen_libs=-ldl],
1974 | 	    [AC_CHECK_LIB([svld], [dlopen],
1975 | 		  [lt_cv_dlopen=dlopen lt_cv_dlopen_libs=-lsvld],
1977 | 		    [lt_cv_dlopen=dld_link lt_cv_dlopen_libs=-ldld])
1986 |   if test no = "$lt_cv_dlopen"; then
1987 |     enable_dlopen=no
1989 |     enable_dlopen=yes
1992 |   case $lt_cv_dlopen in
1993 |   dlopen)
2001 |     LIBS="$lt_cv_dlopen_libs $LIBS"
2003 |     AC_CACHE_CHECK([whether a program can dlopen itself],
2004 | 	  lt_cv_dlopen_self, [dnl
2005 | 	  _LT_TRY_DLOPEN_SELF(
2006 | 	    lt_cv_dlopen_self=yes, lt_cv_dlopen_self=yes,
2007 | 	    lt_cv_dlopen_self=no, lt_cv_dlopen_self=cross)
2010 |     if test yes = "$lt_cv_dlopen_self"; then
2012 |       AC_CACHE_CHECK([whether a statically linked program can dlopen itself],
2013 | 	  lt_cv_dlopen_self_static, [dnl
2014 | 	  _LT_TRY_DLOPEN_SELF(
2015 | 	    lt_cv_dlopen_self_static=yes, lt_cv_dlopen_self_static=yes,
2016 | 	    lt_cv_dlopen_self_static=no,  lt_cv_dlopen_self_static=cross)
2026 |   case $lt_cv_dlopen_self in
2027 |   yes|no) enable_dlopen_self=$lt_cv_dlopen_self ;;
2028 |   *) enable_dlopen_self=unknown ;;
2031 |   case $lt_cv_dlopen_self_static in
2032 |   yes|no) enable_dlopen_self_static=$lt_cv_dlopen_self_static ;;
2033 |   *) enable_dlopen_self_static=unknown ;;
2036 | _LT_DECL([dlopen_support], [enable_dlopen], [0],
2037 | 	 [Whether dlopen is supported])
2038 | _LT_DECL([dlopen_self], [enable_dlopen_self], [0],
2039 | 	 [Whether dlopen of programs is supported])
2040 | _LT_DECL([dlopen_self_static], [enable_dlopen_self_static], [0],
2041 | 	 [Whether dlopen of statically linked programs is supported])
2042 | ])# LT_SYS_DLOPEN_SELF
2045 | AU_ALIAS([AC_LIBTOOL_DLOPEN_SELF], [LT_SYS_DLOPEN_SELF])
2047 | dnl AC_DEFUN([AC_LIBTOOL_DLOPEN_SELF], [])
6122 |     [Compiler flag to allow reflexive dlopens])
6235 |   LT_SYS_DLOPEN_SELF
{% endraw %}

```
### modules/json-c/autoconf-archive/m4/ltoptions.m4

```

{% raw %}
70 |   _LT_UNLESS_OPTIONS([LT_INIT], [dlopen], [enable_dlopen=no
107 | # dlopen
109 | LT_OPTION_DEFINE([LT_INIT], [dlopen], [enable_dlopen=yes
112 | AU_DEFUN([AC_LIBTOOL_DLOPEN],
113 | [_LT_SET_OPTION([LT_INIT], [dlopen])
116 | put the 'dlopen' option into LT_INIT's first parameter.])
120 | dnl AC_DEFUN([AC_LIBTOOL_DLOPEN], [])
{% endraw %}

```
### modules/hwloc/configure.ac

```

{% raw %}
88 | LT_INIT([dlopen win32-dll])
{% endraw %}

```
### modules/hwloc/config/libtool.m4

```

{% raw %}
1821 | # _LT_TRY_DLOPEN_SELF (ACTION-IF-TRUE, ACTION-IF-TRUE-W-USCORE,
1824 | m4_defun([_LT_TRY_DLOPEN_SELF],
1882 |   void *self = dlopen (0, LT_DLGLOBAL|LT_DLLAZY_OR_NOW);
1915 | ])# _LT_TRY_DLOPEN_SELF
1918 | # LT_SYS_DLOPEN_SELF
1920 | AC_DEFUN([LT_SYS_DLOPEN_SELF],
1922 | if test yes != "$enable_dlopen"; then
1923 |   enable_dlopen=unknown
1924 |   enable_dlopen_self=unknown
1925 |   enable_dlopen_self_static=unknown
1927 |   lt_cv_dlopen=no
1928 |   lt_cv_dlopen_libs=
1932 |     lt_cv_dlopen=load_add_on
1933 |     lt_cv_dlopen_libs=
1934 |     lt_cv_dlopen_self=yes
1938 |     lt_cv_dlopen=LoadLibrary
1939 |     lt_cv_dlopen_libs=
1943 |     lt_cv_dlopen=dlopen
1944 |     lt_cv_dlopen_libs=
1949 |     AC_CHECK_LIB([dl], [dlopen],
1950 | 		[lt_cv_dlopen=dlopen lt_cv_dlopen_libs=-ldl],[
1951 |     lt_cv_dlopen=dyld
1952 |     lt_cv_dlopen_libs=
1953 |     lt_cv_dlopen_self=yes
1960 |     lt_cv_dlopen=dlopen
1961 |     lt_cv_dlopen_libs=
1962 |     lt_cv_dlopen_self=no
1967 | 	  [lt_cv_dlopen=shl_load],
1969 | 	    [lt_cv_dlopen=shl_load lt_cv_dlopen_libs=-ldld],
1970 | 	[AC_CHECK_FUNC([dlopen],
1971 | 	      [lt_cv_dlopen=dlopen],
1972 | 	  [AC_CHECK_LIB([dl], [dlopen],
1973 | 		[lt_cv_dlopen=dlopen lt_cv_dlopen_libs=-ldl],
1974 | 	    [AC_CHECK_LIB([svld], [dlopen],
1975 | 		  [lt_cv_dlopen=dlopen lt_cv_dlopen_libs=-lsvld],
1977 | 		    [lt_cv_dlopen=dld_link lt_cv_dlopen_libs=-ldld])
1986 |   if test no = "$lt_cv_dlopen"; then
1987 |     enable_dlopen=no
1989 |     enable_dlopen=yes
1992 |   case $lt_cv_dlopen in
1993 |   dlopen)
2001 |     LIBS="$lt_cv_dlopen_libs $LIBS"
2003 |     AC_CACHE_CHECK([whether a program can dlopen itself],
2004 | 	  lt_cv_dlopen_self, [dnl
2005 | 	  _LT_TRY_DLOPEN_SELF(
2006 | 	    lt_cv_dlopen_self=yes, lt_cv_dlopen_self=yes,
2007 | 	    lt_cv_dlopen_self=no, lt_cv_dlopen_self=cross)
2010 |     if test yes = "$lt_cv_dlopen_self"; then
2012 |       AC_CACHE_CHECK([whether a statically linked program can dlopen itself],
2013 | 	  lt_cv_dlopen_self_static, [dnl
2014 | 	  _LT_TRY_DLOPEN_SELF(
2015 | 	    lt_cv_dlopen_self_static=yes, lt_cv_dlopen_self_static=yes,
2016 | 	    lt_cv_dlopen_self_static=no,  lt_cv_dlopen_self_static=cross)
2026 |   case $lt_cv_dlopen_self in
2027 |   yes|no) enable_dlopen_self=$lt_cv_dlopen_self ;;
2028 |   *) enable_dlopen_self=unknown ;;
2031 |   case $lt_cv_dlopen_self_static in
2032 |   yes|no) enable_dlopen_self_static=$lt_cv_dlopen_self_static ;;
2033 |   *) enable_dlopen_self_static=unknown ;;
2036 | _LT_DECL([dlopen_support], [enable_dlopen], [0],
2037 | 	 [Whether dlopen is supported])
2038 | _LT_DECL([dlopen_self], [enable_dlopen_self], [0],
2039 | 	 [Whether dlopen of programs is supported])
2040 | _LT_DECL([dlopen_self_static], [enable_dlopen_self_static], [0],
2041 | 	 [Whether dlopen of statically linked programs is supported])
2042 | ])# LT_SYS_DLOPEN_SELF
2045 | AU_ALIAS([AC_LIBTOOL_DLOPEN_SELF], [LT_SYS_DLOPEN_SELF])
2047 | dnl AC_DEFUN([AC_LIBTOOL_DLOPEN_SELF], [])
6122 |     [Compiler flag to allow reflexive dlopens])
6235 |   LT_SYS_DLOPEN_SELF
{% endraw %}

```
### modules/hwloc/config/ltoptions.m4

```

{% raw %}
70 |   _LT_UNLESS_OPTIONS([LT_INIT], [dlopen], [enable_dlopen=no
107 | # dlopen
109 | LT_OPTION_DEFINE([LT_INIT], [dlopen], [enable_dlopen=yes
112 | AU_DEFUN([AC_LIBTOOL_DLOPEN],
113 | [_LT_SET_OPTION([LT_INIT], [dlopen])
116 | put the 'dlopen' option into LT_INIT's first parameter.])
120 | dnl AC_DEFUN([AC_LIBTOOL_DLOPEN], [])
{% endraw %}

```
### modules/hwloc/config/hwloc.m4

```

{% raw %}
1109 |       AC_CHECK_LIB([ltdl], [lt_dlopenext],
1342 |   save_lt_cv_dlopen="$lt_cv_dlopen"
1343 |   save_lt_cv_dlopen_libs="$lt_cv_dlopen_libs"
1344 |   save_lt_cv_dlopen_self="$lt_cv_dlopen_self"
1346 |   # code stolen from LT_SYS_DLOPEN_SELF in libtool.m4
1349 |     lt_cv_dlopen="load_add_on"
1350 |     lt_cv_dlopen_libs=
1351 |     lt_cv_dlopen_self=yes
1355 |     lt_cv_dlopen="LoadLibrary"
1356 |     lt_cv_dlopen_libs=
1360 |     lt_cv_dlopen="dlopen"
1361 |     lt_cv_dlopen_libs=
1366 |     AC_CHECK_LIB([dl], [dlopen],
1367 |                 [lt_cv_dlopen="dlopen" lt_cv_dlopen_libs="-ldl"],[
1368 |     lt_cv_dlopen="dyld"
1369 |     lt_cv_dlopen_libs=
1370 |     lt_cv_dlopen_self=yes
1376 |           [lt_cv_dlopen="shl_load"],
1378 |             [lt_cv_dlopen="shl_load" lt_cv_dlopen_libs="-ldld"],
1379 |         [AC_CHECK_FUNC([dlopen],
1380 |               [lt_cv_dlopen="dlopen"],
1381 |           [AC_CHECK_LIB([dl], [dlopen],
1382 |                 [lt_cv_dlopen="dlopen" lt_cv_dlopen_libs="-ldl"],
1383 |             [AC_CHECK_LIB([svld], [dlopen],
1384 |                   [lt_cv_dlopen="dlopen" lt_cv_dlopen_libs="-lsvld"],
1386 |                     [lt_cv_dlopen="dld_link" lt_cv_dlopen_libs="-ldld"])
1394 |   # end of code stolen from LT_SYS_DLOPEN_SELF in libtool.m4
1397 |   HWLOC_LIBS_PRIVATE="$HWLOC_LIBS_PRIVATE $lt_cv_dlopen_libs"
1400 |   lt_cv_dlopen="$save_lt_cv_dlopen"
1401 |   lt_cv_dlopen_libs="$save_lt_cv_dlopen_libs"
1402 |   lt_cv_dlopen_self="$save_lt_cv_dlopen_self"
{% endraw %}

```
### modules/hwloc/config/ltmain.sh

```bash

{% raw %}
2262 |     opt_dlopen=
2323 |         --dlopen|-dlopen)
2324 |                         opt_dlopen="${opt_dlopen+$opt_dlopen
2440 |       # Only execute mode is allowed to have -dlopen flags.
2441 |       if test -n "$opt_dlopen" && test execute != "$opt_mode"; then
2442 |         func_error "unrecognized option '-dlopen'"
3668 |   -dlopen FILE      add the directory containing FILE to the library path
3670 | This mode sets the library path environment variable according to '-dlopen'
3725 |   -dlopen FILE      '-dlpreopen' FILE if it cannot be dlopened at runtime
3734 |   -module           build a library that can dlopened
3842 |     # Handle -dlopen flags immediately.
3843 |     for file in $opt_dlopen; do
3862 | 	# Skip this library if it cannot be dlopened.
3889 | 	func_warning "'-dlopen' is ignored for non-libtool libraries and objects"
6582 | 	    dlopen_self=$dlopen_self_static
6588 | 	    dlopen_self=$dlopen_self_static
6594 | 	    dlopen_self=$dlopen_self_static
6652 | 	    elif test dlfiles = "$prev" && test yes != "$dlopen_self"; then
6742 | 		    if test yes = "$build_libtool_libs" && test yes = "$dlopen_support"; then
6909 |       -dlopen)
7343 | 	      if test yes = "$build_libtool_libs" && test yes = "$dlopen_support"; then
7411 | 	  # This library was specified with -dlopen.
7531 | 	    func_fatal_help "libraries can '-dlopen' only libtool libraries: $file"
7542 | 	passes="conv scan dlopen dlpreopen link"
7568 | 	dlopen) libs=$dlfiles ;;
7596 |       if test dlopen = "$pass"; then
7816 | 	    if test dlpreopen = "$pass" || test yes != "$dlopen_support" || test no = "$build_libtool_libs"; then
7817 | 	      # If there is no dlopen support or we're linking statically,
7845 | 	dlopen=
7875 | 	  test -n "$dlopen" && func_append dlfiles " $dlopen"
7921 | 	# This library was specified with -dlopen.
7922 | 	if test dlopen = "$pass"; then
7924 | 	    && func_fatal_error "cannot -dlopen a convenience library: '$lib'"
7926 | 	     test yes != "$dlopen_support" ||
7929 | 	    # If there is no dlname, no dlopen support or we're linking
7938 | 	fi # $pass = dlopen
7994 | 	      # (otherwise, the dlopen module name will be incorrect).  We do
7996 | 	      # We recover the dlopen module name by 'saving' the la file
8020 | 	      # Otherwise, use the dlname, so that lt_dlopen finds it.
8149 | 	  # systems (darwin).  Don't bleat about dlopened modules though!
8150 | 	  dlopenmodule=
8153 | 	      dlopenmodule=$dlpremoduletest
8157 | 	  if test -z "$dlopenmodule" && test yes = "$shouldnotlink" && test link = "$pass"; then
8254 | 		    # if the lib is a (non-dlopened) module then we cannot
8258 | 		      if test "X$dlopenmodule" != "X$lib"; then
8410 | 	      echo "*** a static module, that should work as long as the dlopening application"
8411 | 	      echo "*** is linked with the -dlopen flag to resolve symbols at runtime."
8555 |       if test dlopen != "$pass"; then
8685 | 	func_warning "'-dlopen' is ignored for archives"
8752 | 	|| func_warning "'-dlopen self' is ignored for libtool libraries"
9446 | 	    echo "*** a static module, that should work as long as the dlopening"
9447 | 	    echo "*** application is linked with the -dlopen flag."
9465 | 	    echo "*** or is declared to -dlopen it."
10077 | 	func_warning "'-dlopen' is ignored for objects"
10197 | 	&& test unknown,unknown,unknown = "$dlopen_support,$dlopen_self,$dlopen_self_static" \
10198 | 	&& func_warning "'LT_INIT([dlopen])' not used. Assuming no dlopen support."
10879 | # The name that we can dlopen(3).
10908 | # Files to dlopen/dlpreopen
10909 | dlopen='$dlfiles'
{% endraw %}

```
### modules/hwloc/include/hwloc/plugins.h

```cpp

{% raw %}
339 |  * loaded hwloc (e.g. OpenCL implementations using dlopen with RTLD_LAZY).
353 |   handle = lt_dlopen(NULL);
{% endraw %}

```
### modules/hwloc/hwloc/components.c

```cpp

{% raw %}
98 |   /* dlopen and get the component structure */
99 |   handle = lt_dlopenext(filename);
{% endraw %}

```
### modules/hwloc/contrib/hwloc-valgrind.supp

```

{% raw %}
32 | # ltdl dlopen global state?
34 |    ltdl_dlopen_doit_leak
40 |    fun:dlopen_doit
{% endraw %}

```
### modules/ucx/.gitignore

```

{% raw %}
49 | test/apps/test_dlopen_cfg_print
51 | test/apps/test_ucp_dlopen
52 | test/apps/test_ucs_dlopen
{% endraw %}

```
### modules/ucx/ltmain.sh

```bash

{% raw %}
2262 |     opt_dlopen=
2323 |         --dlopen|-dlopen)
2324 |                         opt_dlopen="${opt_dlopen+$opt_dlopen
2440 |       # Only execute mode is allowed to have -dlopen flags.
2441 |       if test -n "$opt_dlopen" && test execute != "$opt_mode"; then
2442 |         func_error "unrecognized option '-dlopen'"
3668 |   -dlopen FILE      add the directory containing FILE to the library path
3670 | This mode sets the library path environment variable according to '-dlopen'
3725 |   -dlopen FILE      '-dlpreopen' FILE if it cannot be dlopened at runtime
3734 |   -module           build a library that can dlopened
3842 |     # Handle -dlopen flags immediately.
3843 |     for file in $opt_dlopen; do
3862 | 	# Skip this library if it cannot be dlopened.
3889 | 	func_warning "'-dlopen' is ignored for non-libtool libraries and objects"
6582 | 	    dlopen_self=$dlopen_self_static
6588 | 	    dlopen_self=$dlopen_self_static
6594 | 	    dlopen_self=$dlopen_self_static
6652 | 	    elif test dlfiles = "$prev" && test yes != "$dlopen_self"; then
6742 | 		    if test yes = "$build_libtool_libs" && test yes = "$dlopen_support"; then
6909 |       -dlopen)
7343 | 	      if test yes = "$build_libtool_libs" && test yes = "$dlopen_support"; then
7411 | 	  # This library was specified with -dlopen.
7531 | 	    func_fatal_help "libraries can '-dlopen' only libtool libraries: $file"
7542 | 	passes="conv scan dlopen dlpreopen link"
7568 | 	dlopen) libs=$dlfiles ;;
7596 |       if test dlopen = "$pass"; then
7816 | 	    if test dlpreopen = "$pass" || test yes != "$dlopen_support" || test no = "$build_libtool_libs"; then
7817 | 	      # If there is no dlopen support or we're linking statically,
7845 | 	dlopen=
7875 | 	  test -n "$dlopen" && func_append dlfiles " $dlopen"
7921 | 	# This library was specified with -dlopen.
7922 | 	if test dlopen = "$pass"; then
7924 | 	    && func_fatal_error "cannot -dlopen a convenience library: '$lib'"
7926 | 	     test yes != "$dlopen_support" ||
7929 | 	    # If there is no dlname, no dlopen support or we're linking
7938 | 	fi # $pass = dlopen
7994 | 	      # (otherwise, the dlopen module name will be incorrect).  We do
7996 | 	      # We recover the dlopen module name by 'saving' the la file
8020 | 	      # Otherwise, use the dlname, so that lt_dlopen finds it.
8149 | 	  # systems (darwin).  Don't bleat about dlopened modules though!
8150 | 	  dlopenmodule=
8153 | 	      dlopenmodule=$dlpremoduletest
8157 | 	  if test -z "$dlopenmodule" && test yes = "$shouldnotlink" && test link = "$pass"; then
8254 | 		    # if the lib is a (non-dlopened) module then we cannot
8258 | 		      if test "X$dlopenmodule" != "X$lib"; then
8410 | 	      echo "*** a static module, that should work as long as the dlopening application"
8411 | 	      echo "*** is linked with the -dlopen flag to resolve symbols at runtime."
8555 |       if test dlopen != "$pass"; then
8685 | 	func_warning "'-dlopen' is ignored for archives"
8752 | 	|| func_warning "'-dlopen self' is ignored for libtool libraries"
9446 | 	    echo "*** a static module, that should work as long as the dlopening"
9447 | 	    echo "*** application is linked with the -dlopen flag."
9465 | 	    echo "*** or is declared to -dlopen it."
10077 | 	func_warning "'-dlopen' is ignored for objects"
10197 | 	&& test unknown,unknown,unknown = "$dlopen_support,$dlopen_self,$dlopen_self_static" \
10198 | 	&& func_warning "'LT_INIT([dlopen])' not used. Assuming no dlopen support."
10879 | # The name that we can dlopen(3).
10908 | # Files to dlopen/dlpreopen
10909 | dlopen='$dlfiles'
{% endraw %}

```
### modules/ucx/Makefile.in

```

{% raw %}
167 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/configure.m4 \
168 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/rpath-subdir/configure.m4 \
{% endraw %}

```
### modules/ucx/config/m4/libtool.m4

```

{% raw %}
1821 | # _LT_TRY_DLOPEN_SELF (ACTION-IF-TRUE, ACTION-IF-TRUE-W-USCORE,
1824 | m4_defun([_LT_TRY_DLOPEN_SELF],
1882 |   void *self = dlopen (0, LT_DLGLOBAL|LT_DLLAZY_OR_NOW);
1915 | ])# _LT_TRY_DLOPEN_SELF
1918 | # LT_SYS_DLOPEN_SELF
1920 | AC_DEFUN([LT_SYS_DLOPEN_SELF],
1922 | if test yes != "$enable_dlopen"; then
1923 |   enable_dlopen=unknown
1924 |   enable_dlopen_self=unknown
1925 |   enable_dlopen_self_static=unknown
1927 |   lt_cv_dlopen=no
1928 |   lt_cv_dlopen_libs=
1932 |     lt_cv_dlopen=load_add_on
1933 |     lt_cv_dlopen_libs=
1934 |     lt_cv_dlopen_self=yes
1938 |     lt_cv_dlopen=LoadLibrary
1939 |     lt_cv_dlopen_libs=
1943 |     lt_cv_dlopen=dlopen
1944 |     lt_cv_dlopen_libs=
1949 |     AC_CHECK_LIB([dl], [dlopen],
1950 | 		[lt_cv_dlopen=dlopen lt_cv_dlopen_libs=-ldl],[
1951 |     lt_cv_dlopen=dyld
1952 |     lt_cv_dlopen_libs=
1953 |     lt_cv_dlopen_self=yes
1960 |     lt_cv_dlopen=dlopen
1961 |     lt_cv_dlopen_libs=
1962 |     lt_cv_dlopen_self=no
1967 | 	  [lt_cv_dlopen=shl_load],
1969 | 	    [lt_cv_dlopen=shl_load lt_cv_dlopen_libs=-ldld],
1970 | 	[AC_CHECK_FUNC([dlopen],
1971 | 	      [lt_cv_dlopen=dlopen],
1972 | 	  [AC_CHECK_LIB([dl], [dlopen],
1973 | 		[lt_cv_dlopen=dlopen lt_cv_dlopen_libs=-ldl],
1974 | 	    [AC_CHECK_LIB([svld], [dlopen],
1975 | 		  [lt_cv_dlopen=dlopen lt_cv_dlopen_libs=-lsvld],
1977 | 		    [lt_cv_dlopen=dld_link lt_cv_dlopen_libs=-ldld])
1986 |   if test no = "$lt_cv_dlopen"; then
1987 |     enable_dlopen=no
1989 |     enable_dlopen=yes
1992 |   case $lt_cv_dlopen in
1993 |   dlopen)
2001 |     LIBS="$lt_cv_dlopen_libs $LIBS"
2003 |     AC_CACHE_CHECK([whether a program can dlopen itself],
2004 | 	  lt_cv_dlopen_self, [dnl
2005 | 	  _LT_TRY_DLOPEN_SELF(
2006 | 	    lt_cv_dlopen_self=yes, lt_cv_dlopen_self=yes,
2007 | 	    lt_cv_dlopen_self=no, lt_cv_dlopen_self=cross)
2010 |     if test yes = "$lt_cv_dlopen_self"; then
2012 |       AC_CACHE_CHECK([whether a statically linked program can dlopen itself],
2013 | 	  lt_cv_dlopen_self_static, [dnl
2014 | 	  _LT_TRY_DLOPEN_SELF(
2015 | 	    lt_cv_dlopen_self_static=yes, lt_cv_dlopen_self_static=yes,
2016 | 	    lt_cv_dlopen_self_static=no,  lt_cv_dlopen_self_static=cross)
2026 |   case $lt_cv_dlopen_self in
2027 |   yes|no) enable_dlopen_self=$lt_cv_dlopen_self ;;
2028 |   *) enable_dlopen_self=unknown ;;
2031 |   case $lt_cv_dlopen_self_static in
2032 |   yes|no) enable_dlopen_self_static=$lt_cv_dlopen_self_static ;;
2033 |   *) enable_dlopen_self_static=unknown ;;
2036 | _LT_DECL([dlopen_support], [enable_dlopen], [0],
2037 | 	 [Whether dlopen is supported])
2038 | _LT_DECL([dlopen_self], [enable_dlopen_self], [0],
2039 | 	 [Whether dlopen of programs is supported])
2040 | _LT_DECL([dlopen_self_static], [enable_dlopen_self_static], [0],
2041 | 	 [Whether dlopen of statically linked programs is supported])
2042 | ])# LT_SYS_DLOPEN_SELF
2045 | AU_ALIAS([AC_LIBTOOL_DLOPEN_SELF], [LT_SYS_DLOPEN_SELF])
2047 | dnl AC_DEFUN([AC_LIBTOOL_DLOPEN_SELF], [])
6122 |     [Compiler flag to allow reflexive dlopens])
6235 |   LT_SYS_DLOPEN_SELF
{% endraw %}

```
### modules/ucx/config/m4/ucs.m4

```

{% raw %}
40 | 	AC_CHECK_LIB(dl, dlopen, LIBS="$LIBS -ldl", [AC_MSG_WARN([dl library not found])];BT=0)
{% endraw %}

```
### modules/ucx/config/m4/ltoptions.m4

```

{% raw %}
70 |   _LT_UNLESS_OPTIONS([LT_INIT], [dlopen], [enable_dlopen=no
107 | # dlopen
109 | LT_OPTION_DEFINE([LT_INIT], [dlopen], [enable_dlopen=yes
112 | AU_DEFUN([AC_LIBTOOL_DLOPEN],
113 | [_LT_SET_OPTION([LT_INIT], [dlopen])
116 | put the 'dlopen' option into LT_INIT's first parameter.])
120 | dnl AC_DEFUN([AC_LIBTOOL_DLOPEN], [])
{% endraw %}

```
### modules/ucx/src/ucm/Makefile.in

```

{% raw %}
154 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/configure.m4 \
155 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/rpath-subdir/configure.m4 \
{% endraw %}

```
### modules/ucx/src/ucm/util/sys.c

```cpp

{% raw %}
43 |     .dlopen_process_rpath       = 1
303 |     dl = dlopen(info.dli_fname, RTLD_LOCAL|RTLD_LAZY|RTLD_NODELETE);
{% endraw %}

```
### modules/ucx/src/ucm/util/reloc.c

```cpp

{% raw %}
36 | typedef void * (*ucm_reloc_dlopen_func_t)(const char *, int);
67 | static ucm_reloc_dlopen_func_t  ucm_reloc_orig_dlopen  = NULL;
465 | static Dl_serinfo *ucm_dlopen_load_serinfo(const char *module_path)
472 |     module = ucm_reloc_orig_dlopen(module_path, RTLD_LAZY);
505 | void *ucm_dlopen(const char *filename, int flag)
520 |     if (!ucm_global_opts.dlopen_process_rpath) {
542 |     serinfo = ucm_dlopen_load_serinfo(dl_info.dli_fname);
544 |         /* failed to load serinfo, try just dlopen */
560 |         handle = ucm_reloc_orig_dlopen(file_path, flag);
572 |     handle = ucm_reloc_orig_dlopen(filename, flag);
580 |      * with our list of patches (including dlopen itself). We have to go over
585 |     ucm_trace("dlopen(%s) = %p", filename, handle);
589 |         ucm_debug("in dlopen(%s), re-applying '%s' to %p", filename,
631 | static ucm_reloc_patch_t ucm_dlopen_reloc_patches[] = {
632 |     { .symbol = "dlopen",  .value  = ucm_dlopen  },
640 |     /* pointer to original dlopen() */
641 |     if (ucm_reloc_orig_dlopen == NULL) {
642 |         patch                 = &ucm_dlopen_reloc_patches[0];
643 |         ucm_reloc_orig_dlopen = (ucm_reloc_dlopen_func_t)
645 |         if (ucm_reloc_orig_dlopen == NULL) {
646 |             ucm_fatal("ucm_reloc_orig_dlopen is NULL");
652 |         patch                  = &ucm_dlopen_reloc_patches[1];
672 |     for (i = 0; i < ucs_array_size(ucm_dlopen_reloc_patches); ++i) {
673 |         status = ucm_reloc_apply_patch(&ucm_dlopen_reloc_patches[i], 0);
678 |         ucs_list_add_tail(&ucm_reloc_patch_list, &ucm_dlopen_reloc_patches[i].list);
700 |     /* Take lock first to handle a possible race where dlopen() is called
{% endraw %}

```
### modules/ucx/src/ucm/cuda/Makefile.in

```

{% raw %}
148 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/configure.m4 \
149 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/rpath-subdir/configure.m4 \
{% endraw %}

```
### modules/ucx/src/ucm/api/ucm.h

```cpp

{% raw %}
196 |     int                  dlopen_process_rpath;        /* Process RPATH section in dlopen hook */
459 |  * @brief Call the original implementation of @ref dlopen and all handlers
462 | void *ucm_dlopen(const char *filename, int flag);
{% endraw %}

```
### modules/ucx/src/ucm/rocm/Makefile.in

```

{% raw %}
149 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/configure.m4 \
150 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/rpath-subdir/configure.m4 \
{% endraw %}

```
### modules/ucx/src/ucs/Makefile.in

```

{% raw %}
154 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/configure.m4 \
155 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/rpath-subdir/configure.m4 \
{% endraw %}

```
### modules/ucx/src/ucs/config/ucm_opts.c

```cpp

{% raw %}
77 |   {"DLOPEN_PROCESS_RPATH", "yes",
79 |    ucs_offsetof(ucm_global_config_t, dlopen_process_rpath),
{% endraw %}

```
### modules/ucx/src/ucs/sys/module.c

```cpp

{% raw %}
224 |         dl = dlopen(module_path, mode);
231 |             ucs_module_debug("dlopen('%s', mode=0x%x) failed: %s", module_path,
{% endraw %}

```
### modules/ucx/src/ucs/sys/module.h

```cpp

{% raw %}
42 |  * The modules in the framework are loaded by dlopen(). The shared library name
70 |  * only after dlopen() completes. For example, loading another shared library
{% endraw %}

```
### modules/ucx/src/ucp/Makefile.in

```

{% raw %}
147 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/configure.m4 \
148 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/rpath-subdir/configure.m4 \
{% endraw %}

```
### modules/ucx/src/ucg/Makefile.in

```

{% raw %}
141 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/configure.m4 \
142 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/rpath-subdir/configure.m4 \
{% endraw %}

```
### modules/ucx/src/ucg/base/Makefile.in

```

{% raw %}
141 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/configure.m4 \
142 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/rpath-subdir/configure.m4 \
{% endraw %}

```
### modules/ucx/src/ucg/builtin/Makefile.in

```

{% raw %}
141 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/configure.m4 \
142 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/rpath-subdir/configure.m4 \
{% endraw %}

```
### modules/ucx/src/tools/perf/Makefile.in

```

{% raw %}
148 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/configure.m4 \
149 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/rpath-subdir/configure.m4 \
{% endraw %}

```
### modules/ucx/src/tools/perf/lib/Makefile.in

```

{% raw %}
146 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/configure.m4 \
147 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/rpath-subdir/configure.m4 \
{% endraw %}

```
### modules/ucx/src/tools/perf/cuda/Makefile.in

```

{% raw %}
147 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/configure.m4 \
148 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/rpath-subdir/configure.m4 \
{% endraw %}

```
### modules/ucx/src/tools/perf/rocm/Makefile.in

```

{% raw %}
147 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/configure.m4 \
148 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/rpath-subdir/configure.m4 \
{% endraw %}

```
### modules/ucx/src/tools/info/Makefile.in

```

{% raw %}
146 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/configure.m4 \
147 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/rpath-subdir/configure.m4 \
{% endraw %}

```
### modules/ucx/src/tools/profile/Makefile.in

```

{% raw %}
142 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/configure.m4 \
143 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/rpath-subdir/configure.m4 \
{% endraw %}

```
### modules/ucx/src/uct/Makefile.in

```

{% raw %}
145 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/configure.m4 \
146 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/rpath-subdir/configure.m4 \
{% endraw %}

```
### modules/ucx/src/uct/ugni/Makefile.in

```

{% raw %}
147 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/configure.m4 \
148 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/rpath-subdir/configure.m4 \
{% endraw %}

```
### modules/ucx/src/uct/sm/Makefile.in

```

{% raw %}
139 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/configure.m4 \
140 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/rpath-subdir/configure.m4 \
{% endraw %}

```
### modules/ucx/src/uct/sm/scopy/Makefile.in

```

{% raw %}
139 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/configure.m4 \
140 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/rpath-subdir/configure.m4 \
{% endraw %}

```
### modules/ucx/src/uct/sm/scopy/cma/Makefile.in

```

{% raw %}
147 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/configure.m4 \
148 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/rpath-subdir/configure.m4 \
{% endraw %}

```
### modules/ucx/src/uct/sm/scopy/knem/Makefile.in

```

{% raw %}
147 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/configure.m4 \
148 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/rpath-subdir/configure.m4 \
{% endraw %}

```
### modules/ucx/src/uct/sm/mm/Makefile.in

```

{% raw %}
139 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/configure.m4 \
140 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/rpath-subdir/configure.m4 \
{% endraw %}

```
### modules/ucx/src/uct/sm/mm/xpmem/Makefile.in

```

{% raw %}
147 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/configure.m4 \
148 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/rpath-subdir/configure.m4 \
{% endraw %}

```
### modules/ucx/src/uct/cuda/Makefile.in

```

{% raw %}
147 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/configure.m4 \
148 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/rpath-subdir/configure.m4 \
{% endraw %}

```
### modules/ucx/src/uct/cuda/gdr_copy/Makefile.in

```

{% raw %}
147 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/configure.m4 \
148 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/rpath-subdir/configure.m4 \
{% endraw %}

```
### modules/ucx/src/uct/ib/Makefile.in

```

{% raw %}
235 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/configure.m4 \
236 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/rpath-subdir/configure.m4 \
{% endraw %}

```
### modules/ucx/src/uct/ib/rdmacm/Makefile.in

```

{% raw %}
157 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/configure.m4 \
158 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/rpath-subdir/configure.m4 \
{% endraw %}

```
### modules/ucx/src/uct/ib/cm/Makefile.in

```

{% raw %}
147 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/configure.m4 \
148 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/rpath-subdir/configure.m4 \
{% endraw %}

```
### modules/ucx/src/uct/rocm/Makefile.in

```

{% raw %}
147 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/configure.m4 \
148 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/rpath-subdir/configure.m4 \
{% endraw %}

```
### modules/ucx/src/uct/rocm/gdr/Makefile.in

```

{% raw %}
147 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/configure.m4 \
148 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/rpath-subdir/configure.m4 \
{% endraw %}

```
### modules/ucx/bindings/java/Makefile.in

```

{% raw %}
140 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/configure.m4 \
141 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/rpath-subdir/configure.m4 \
{% endraw %}

```
### modules/ucx/bindings/java/src/main/native/Makefile.in

```

{% raw %}
142 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/configure.m4 \
143 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/rpath-subdir/configure.m4 \
{% endraw %}

```
### modules/ucx/test/mpi/test_memhooks.c

```cpp

{% raw %}
107 |     void *dl = dlopen(lib_path, RTLD_LAZY);
{% endraw %}

```
### modules/ucx/test/mpi/Makefile.in

```

{% raw %}
145 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/configure.m4 \
146 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/rpath-subdir/configure.m4 \
{% endraw %}

```
### modules/ucx/test/gtest/configure.m4

```

{% raw %}
24 | m4_include([test/gtest/ucm/test_dlopen/configure.m4])
25 | m4_include([test/gtest/ucm/test_dlopen/rpath-subdir/configure.m4])
{% endraw %}

```
### modules/ucx/test/gtest/Makefile.am

```

{% raw %}
21 | SUBDIRS = ucs/test_module ucm/test_dlopen
68 | 	-DGTEST_UCM_HOOK_LIB_DIR="\"${abs_builddir}/ucm/test_dlopen/.libs\""
{% endraw %}

```
### modules/ucx/test/gtest/Makefile.in

```

{% raw %}
205 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/configure.m4 \
206 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/rpath-subdir/configure.m4 \
495 | DIST_SUBDIRS = ucs/test_module ucm/test_dlopen
741 | @HAVE_GTEST_TRUE@SUBDIRS = ucs/test_module ucm/test_dlopen
774 | @HAVE_GTEST_TRUE@	-DGTEST_UCM_HOOK_LIB_DIR="\"${abs_builddir}/ucm/test_dlopen/.libs\"" \
{% endraw %}

```
### modules/ucx/test/gtest/ucm/malloc_hook.cc

```cpp

{% raw %}
1201 | class malloc_hook_dlopen : public malloc_hook {
1270 |         return get_lib_dir() + "/libdlopen_test_do_load.so";
1274 |         return get_lib_dir() + "/libdlopen_test_do_mmap.so";
1278 |         return get_lib_dir() + "/libdlopen_test_do_load_rpath.so";
1282 |         return "libdlopen_test_rpath.so"; // library should be located using rpath
1288 |     void test_indirect_dlopen(loader_t loader)
1324 |     void test_rpath_dlopen(loader_t loader)
1336 |         /* in case if reloc mode is used - it force hook dlopen */
1368 |     void test_dlopen_null(loader_t loader)
1377 | UCS_TEST_F(malloc_hook_dlopen, indirect_dlopen) {
1378 |     test_indirect_dlopen(dlopen);
1381 | UCS_TEST_F(malloc_hook_dlopen, indirect_ucm_dlopen) {
1382 |     test_indirect_dlopen(ucm_dlopen);
1385 | UCS_TEST_F(malloc_hook_dlopen, rpath_dlopen) {
1386 |     test_rpath_dlopen(dlopen);
1389 | UCS_TEST_F(malloc_hook_dlopen, rpath_ucm_dlopen) {
1390 |     test_rpath_dlopen(ucm_dlopen);
1393 | UCS_TEST_F(malloc_hook_dlopen, ucm_dlopen_null_dlopen) {
1394 |     test_dlopen_null(dlopen);
1397 | UCS_TEST_F(malloc_hook_dlopen, ucm_dlopen_null_ucm_dlopen) {
1398 |     test_dlopen_null(ucm_dlopen);
1401 | UCS_MT_TEST_F(malloc_hook_dlopen, dlopen_mt_with_memtype, 2) {
1416 |         /* Tests that calling dlopen() from 2 threads does not deadlock, if for
1421 |             void *lib1 = dlopen(get_lib_path_do_mmap().c_str(), RTLD_LAZY);
1425 |             void *lib2 = dlopen(get_lib_path_do_load().c_str(), RTLD_LAZY);
{% endraw %}

```
### modules/ucx/test/gtest/ucm/test_dlopen/configure.m4

```

{% raw %}
6 | AC_CONFIG_FILES([test/gtest/ucm/test_dlopen/Makefile])
{% endraw %}

```
### modules/ucx/test/gtest/ucm/test_dlopen/dlopen_test_do_load.c

```cpp

{% raw %}
13 |     return (load_func ? load_func : dlopen)(path, RTLD_NOW);
{% endraw %}

```
### modules/ucx/test/gtest/ucm/test_dlopen/Makefile.am

```

{% raw %}
8 | 	libdlopen_test_do_mmap.la \
9 | 	libdlopen_test_do_load.la \
10 | 	libdlopen_test_do_load_rpath.la
12 | libdlopen_test_do_mmap_la_SOURCES       = dlopen_test_do_mmap.c
13 | libdlopen_test_do_load_la_SOURCES       = dlopen_test_do_load.c
14 | libdlopen_test_do_load_rpath_la_SOURCES = dlopen_test_do_load.c
17 | libdlopen_test_do_load_rpath_la_CPPFLAGS = -I$(top_srcdir)/src
18 | libdlopen_test_do_load_la_CPPFLAGS       = -I$(top_srcdir)/src
19 | libdlopen_test_do_load_rpath_la_LDFLAGS  = -R=${PWD}/rpath-subdir/.libs
{% endraw %}

```
### modules/ucx/test/gtest/ucm/test_dlopen/Makefile.in

```

{% raw %}
96 | subdir = test/gtest/ucm/test_dlopen
141 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/configure.m4 \
142 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/rpath-subdir/configure.m4 \
181 | libdlopen_test_do_load_la_LIBADD =
182 | am_libdlopen_test_do_load_la_OBJECTS =  \
183 | 	libdlopen_test_do_load_la-dlopen_test_do_load.lo
184 | libdlopen_test_do_load_la_OBJECTS =  \
185 | 	$(am_libdlopen_test_do_load_la_OBJECTS)
190 | libdlopen_test_do_load_rpath_la_LIBADD =
191 | am_libdlopen_test_do_load_rpath_la_OBJECTS =  \
192 | 	libdlopen_test_do_load_rpath_la-dlopen_test_do_load.lo
193 | libdlopen_test_do_load_rpath_la_OBJECTS =  \
194 | 	$(am_libdlopen_test_do_load_rpath_la_OBJECTS)
195 | libdlopen_test_do_load_rpath_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC \
198 | 	$(libdlopen_test_do_load_rpath_la_LDFLAGS) $(LDFLAGS) -o $@
199 | libdlopen_test_do_mmap_la_LIBADD =
200 | am_libdlopen_test_do_mmap_la_OBJECTS = dlopen_test_do_mmap.lo
201 | libdlopen_test_do_mmap_la_OBJECTS =  \
202 | 	$(am_libdlopen_test_do_mmap_la_OBJECTS)
237 | SOURCES = $(libdlopen_test_do_load_la_SOURCES) \
238 | 	$(libdlopen_test_do_load_rpath_la_SOURCES) \
239 | 	$(libdlopen_test_do_mmap_la_SOURCES)
240 | DIST_SOURCES = $(libdlopen_test_do_load_la_SOURCES) \
241 | 	$(libdlopen_test_do_load_rpath_la_SOURCES) \
242 | 	$(libdlopen_test_do_mmap_la_SOURCES)
530 | 	libdlopen_test_do_mmap.la \
531 | 	libdlopen_test_do_load.la \
532 | 	libdlopen_test_do_load_rpath.la
534 | libdlopen_test_do_mmap_la_SOURCES = dlopen_test_do_mmap.c
535 | libdlopen_test_do_load_la_SOURCES = dlopen_test_do_load.c
536 | libdlopen_test_do_load_rpath_la_SOURCES = dlopen_test_do_load.c
538 | libdlopen_test_do_load_rpath_la_CPPFLAGS = -I$(top_srcdir)/src
539 | libdlopen_test_do_load_la_CPPFLAGS = -I$(top_srcdir)/src
540 | libdlopen_test_do_load_rpath_la_LDFLAGS = -R=${PWD}/rpath-subdir/.libs
555 | 	echo ' cd $(top_srcdir) && $(AUTOMAKE) --foreign test/gtest/ucm/test_dlopen/Makefile'; \
557 | 	  $(AUTOMAKE) --foreign test/gtest/ucm/test_dlopen/Makefile
611 | libdlopen_test_do_load.la: $(libdlopen_test_do_load_la_OBJECTS) $(libdlopen_test_do_load_la_DEPENDENCIES) $(EXTRA_libdlopen_test_do_load_la_DEPENDENCIES) 
612 | 	$(AM_V_CCLD)$(LINK) -rpath $(noinst_libdir) $(libdlopen_test_do_load_la_OBJECTS) $(libdlopen_test_do_load_la_LIBADD) $(LIBS)
614 | libdlopen_test_do_load_rpath.la: $(libdlopen_test_do_load_rpath_la_OBJECTS) $(libdlopen_test_do_load_rpath_la_DEPENDENCIES) $(EXTRA_libdlopen_test_do_load_rpath_la_DEPENDENCIES) 
615 | 	$(AM_V_CCLD)$(libdlopen_test_do_load_rpath_la_LINK) -rpath $(noinst_libdir) $(libdlopen_test_do_load_rpath_la_OBJECTS) $(libdlopen_test_do_load_rpath_la_LIBADD) $(LIBS)
617 | libdlopen_test_do_mmap.la: $(libdlopen_test_do_mmap_la_OBJECTS) $(libdlopen_test_do_mmap_la_DEPENDENCIES) $(EXTRA_libdlopen_test_do_mmap_la_DEPENDENCIES) 
618 | 	$(AM_V_CCLD)$(LINK) -rpath $(noinst_libdir) $(libdlopen_test_do_mmap_la_OBJECTS) $(libdlopen_test_do_mmap_la_LIBADD) $(LIBS)
626 | @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/dlopen_test_do_mmap.Plo@am__quote@
627 | @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/libdlopen_test_do_load_la-dlopen_test_do_load.Plo@am__quote@
628 | @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/libdlopen_test_do_load_rpath_la-dlopen_test_do_load.Plo@am__quote@
654 | libdlopen_test_do_load_la-dlopen_test_do_load.lo: dlopen_test_do_load.c
655 | @am__fastdepCC_TRUE@	$(AM_V_CC)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(libdlopen_test_do_load_la_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT libdlopen_test_do_load_la-dlopen_test_do_load.lo -MD -MP -MF $(DEPDIR)/libdlopen_test_do_load_la-dlopen_test_do_load.Tpo -c -o libdlopen_test_do_load_la-dlopen_test_do_load.lo `test -f 'dlopen_test_do_load.c' || echo '$(srcdir)/'`dlopen_test_do_load.c
656 | @am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/libdlopen_test_do_load_la-dlopen_test_do_load.Tpo $(DEPDIR)/libdlopen_test_do_load_la-dlopen_test_do_load.Plo
657 | @AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='dlopen_test_do_load.c' object='libdlopen_test_do_load_la-dlopen_test_do_load.lo' libtool=yes @AMDEPBACKSLASH@
659 | @am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(libdlopen_test_do_load_la_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o libdlopen_test_do_load_la-dlopen_test_do_load.lo `test -f 'dlopen_test_do_load.c' || echo '$(srcdir)/'`dlopen_test_do_load.c
661 | libdlopen_test_do_load_rpath_la-dlopen_test_do_load.lo: dlopen_test_do_load.c
662 | @am__fastdepCC_TRUE@	$(AM_V_CC)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(libdlopen_test_do_load_rpath_la_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT libdlopen_test_do_load_rpath_la-dlopen_test_do_load.lo -MD -MP -MF $(DEPDIR)/libdlopen_test_do_load_rpath_la-dlopen_test_do_load.Tpo -c -o libdlopen_test_do_load_rpath_la-dlopen_test_do_load.lo `test -f 'dlopen_test_do_load.c' || echo '$(srcdir)/'`dlopen_test_do_load.c
663 | @am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/libdlopen_test_do_load_rpath_la-dlopen_test_do_load.Tpo $(DEPDIR)/libdlopen_test_do_load_rpath_la-dlopen_test_do_load.Plo
664 | @AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='dlopen_test_do_load.c' object='libdlopen_test_do_load_rpath_la-dlopen_test_do_load.lo' libtool=yes @AMDEPBACKSLASH@
666 | @am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(libdlopen_test_do_load_rpath_la_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o libdlopen_test_do_load_rpath_la-dlopen_test_do_load.lo `test -f 'dlopen_test_do_load.c' || echo '$(srcdir)/'`dlopen_test_do_load.c
{% endraw %}

```
### modules/ucx/test/gtest/ucm/test_dlopen/rpath-subdir/configure.m4

```

{% raw %}
6 | AC_CONFIG_FILES([test/gtest/ucm/test_dlopen/rpath-subdir/Makefile])
{% endraw %}

```
### modules/ucx/test/gtest/ucm/test_dlopen/rpath-subdir/Makefile.am

```

{% raw %}
8 | 	libdlopen_test_rpath.la
10 | libdlopen_test_rpath_la_SOURCES = dlopen_test_rpath.c
{% endraw %}

```
### modules/ucx/test/gtest/ucm/test_dlopen/rpath-subdir/Makefile.in

```

{% raw %}
96 | subdir = test/gtest/ucm/test_dlopen/rpath-subdir
141 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/configure.m4 \
142 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/rpath-subdir/configure.m4 \
181 | libdlopen_test_rpath_la_LIBADD =
182 | am_libdlopen_test_rpath_la_OBJECTS = dlopen_test_rpath.lo
183 | libdlopen_test_rpath_la_OBJECTS =  \
184 | 	$(am_libdlopen_test_rpath_la_OBJECTS)
223 | SOURCES = $(libdlopen_test_rpath_la_SOURCES)
224 | DIST_SOURCES = $(libdlopen_test_rpath_la_SOURCES)
470 | 	libdlopen_test_rpath.la
472 | libdlopen_test_rpath_la_SOURCES = dlopen_test_rpath.c
487 | 	echo ' cd $(top_srcdir) && $(AUTOMAKE) --foreign test/gtest/ucm/test_dlopen/rpath-subdir/Makefile'; \
489 | 	  $(AUTOMAKE) --foreign test/gtest/ucm/test_dlopen/rpath-subdir/Makefile
543 | libdlopen_test_rpath.la: $(libdlopen_test_rpath_la_OBJECTS) $(libdlopen_test_rpath_la_DEPENDENCIES) $(EXTRA_libdlopen_test_rpath_la_DEPENDENCIES) 
544 | 	$(AM_V_CCLD)$(LINK) -rpath $(noinst_libdir) $(libdlopen_test_rpath_la_OBJECTS) $(libdlopen_test_rpath_la_LIBADD) $(LIBS)
552 | @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/dlopen_test_rpath.Plo@am__quote@
{% endraw %}

```
### modules/ucx/test/gtest/ucs/test_module/Makefile.in

```

{% raw %}
147 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/configure.m4 \
148 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/rpath-subdir/configure.m4 \
{% endraw %}

```
### modules/ucx/test/apps/test_link_map.c

```cpp

{% raw %}
33 |     dlopen("libgcc_s.so.1", RTLD_LAZY);
{% endraw %}

```
### modules/ucx/test/apps/test_tcmalloc.c

```cpp

{% raw %}
25 |     dlopen("libselinux.so", RTLD_LAZY);
{% endraw %}

```
### modules/ucx/test/apps/test_dlopen_cfg_print.c

```cpp

{% raw %}
14 | static void* do_dlopen_or_exit(const char *filename)
20 |     handle = dlopen(filename, RTLD_LAZY);
41 |     ucs_handle = do_dlopen_or_exit(ucs_filename);
43 |         uct_handle = do_dlopen_or_exit(uct_filename);
{% endraw %}

```
### modules/ucx/test/apps/test_ucs_dlopen.c

```cpp

{% raw %}
90 |     handle = dlopen(filename, RTLD_NOW);
94 |         goto failed_dlopen;
103 | failed_dlopen:
{% endraw %}

```
### modules/ucx/test/apps/Makefile.am

```

{% raw %}
19 | 	test_ucp_dlopen \
20 | 	test_ucs_dlopen \
22 | 	test_dlopen_cfg_print
26 | test_ucs_dlopen_SOURCES  = test_ucs_dlopen.c
27 | test_ucs_dlopen_CPPFLAGS = $(BASE_CPPFLAGS) \
29 | test_ucs_dlopen_CFLAGS   = $(BASE_CFLAGS)
30 | test_ucs_dlopen_LDADD    = -ldl
32 | test_ucp_dlopen_SOURCES  = test_ucp_dlopen.c
33 | test_ucp_dlopen_CPPFLAGS = $(BASE_CPPFLAGS) \
35 | test_ucp_dlopen_CFLAGS   = $(BASE_CFLAGS)
36 | test_ucp_dlopen_LDADD    = -ldl
43 | test_dlopen_cfg_print_SOURCES  = test_dlopen_cfg_print.c
44 | test_dlopen_cfg_print_CPPFLAGS = $(BASE_CPPFLAGS) -g \
47 | test_dlopen_cfg_print_CFLAGS   = $(BASE_CFLAGS)
48 | test_dlopen_cfg_print_LDADD    = -ldl
{% endraw %}

```
### modules/ucx/test/apps/test_ucp_dlopen.c

```cpp

{% raw %}
97 |     handle = dlopen(filename, RTLD_NOW | RTLD_LOCAL);
101 |         goto failed_dlopen;
110 | failed_dlopen:
{% endraw %}

```
### modules/ucx/test/apps/Makefile.in

```

{% raw %}
100 | noinst_PROGRAMS = test_ucp_dlopen$(EXEEXT) test_ucs_dlopen$(EXEEXT) \
101 | 	test_link_map$(EXEEXT) test_dlopen_cfg_print$(EXEEXT) \
149 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/configure.m4 \
150 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/rpath-subdir/configure.m4 \
162 | am_test_dlopen_cfg_print_OBJECTS =  \
163 | 	test_dlopen_cfg_print-test_dlopen_cfg_print.$(OBJEXT)
164 | test_dlopen_cfg_print_OBJECTS = $(am_test_dlopen_cfg_print_OBJECTS)
165 | test_dlopen_cfg_print_DEPENDENCIES =
170 | test_dlopen_cfg_print_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC \
172 | 	$(test_dlopen_cfg_print_CFLAGS) $(CFLAGS) $(AM_LDFLAGS) \
189 | am_test_ucp_dlopen_OBJECTS =  \
190 | 	test_ucp_dlopen-test_ucp_dlopen.$(OBJEXT)
191 | test_ucp_dlopen_OBJECTS = $(am_test_ucp_dlopen_OBJECTS)
192 | test_ucp_dlopen_DEPENDENCIES =
193 | test_ucp_dlopen_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC \
195 | 	$(test_ucp_dlopen_CFLAGS) $(CFLAGS) $(AM_LDFLAGS) $(LDFLAGS) \
197 | am_test_ucs_dlopen_OBJECTS =  \
198 | 	test_ucs_dlopen-test_ucs_dlopen.$(OBJEXT)
199 | test_ucs_dlopen_OBJECTS = $(am_test_ucs_dlopen_OBJECTS)
200 | test_ucs_dlopen_DEPENDENCIES =
201 | test_ucs_dlopen_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC \
203 | 	$(test_ucs_dlopen_CFLAGS) $(CFLAGS) $(AM_LDFLAGS) $(LDFLAGS) \
239 | SOURCES = $(test_dlopen_cfg_print_SOURCES) $(test_link_map_SOURCES) \
240 | 	$(test_tcmalloc_SOURCES) $(test_ucp_dlopen_SOURCES) \
241 | 	$(test_ucs_dlopen_SOURCES)
242 | DIST_SOURCES = $(test_dlopen_cfg_print_SOURCES) \
244 | 	$(test_ucp_dlopen_SOURCES) $(test_ucs_dlopen_SOURCES)
532 | test_ucs_dlopen_SOURCES = test_ucs_dlopen.c
533 | test_ucs_dlopen_CPPFLAGS = $(BASE_CPPFLAGS) \
536 | test_ucs_dlopen_CFLAGS = $(BASE_CFLAGS)
537 | test_ucs_dlopen_LDADD = -ldl
538 | test_ucp_dlopen_SOURCES = test_ucp_dlopen.c
539 | test_ucp_dlopen_CPPFLAGS = $(BASE_CPPFLAGS) \
542 | test_ucp_dlopen_CFLAGS = $(BASE_CFLAGS)
543 | test_ucp_dlopen_LDADD = -ldl
548 | test_dlopen_cfg_print_SOURCES = test_dlopen_cfg_print.c
549 | test_dlopen_cfg_print_CPPFLAGS = $(BASE_CPPFLAGS) -g \
553 | test_dlopen_cfg_print_CFLAGS = $(BASE_CFLAGS)
554 | test_dlopen_cfg_print_LDADD = -ldl
604 | test_dlopen_cfg_print$(EXEEXT): $(test_dlopen_cfg_print_OBJECTS) $(test_dlopen_cfg_print_DEPENDENCIES) $(EXTRA_test_dlopen_cfg_print_DEPENDENCIES) 
605 | 	@rm -f test_dlopen_cfg_print$(EXEEXT)
606 | 	$(AM_V_CCLD)$(test_dlopen_cfg_print_LINK) $(test_dlopen_cfg_print_OBJECTS) $(test_dlopen_cfg_print_LDADD) $(LIBS)
616 | test_ucp_dlopen$(EXEEXT): $(test_ucp_dlopen_OBJECTS) $(test_ucp_dlopen_DEPENDENCIES) $(EXTRA_test_ucp_dlopen_DEPENDENCIES) 
617 | 	@rm -f test_ucp_dlopen$(EXEEXT)
618 | 	$(AM_V_CCLD)$(test_ucp_dlopen_LINK) $(test_ucp_dlopen_OBJECTS) $(test_ucp_dlopen_LDADD) $(LIBS)
620 | test_ucs_dlopen$(EXEEXT): $(test_ucs_dlopen_OBJECTS) $(test_ucs_dlopen_DEPENDENCIES) $(EXTRA_test_ucs_dlopen_DEPENDENCIES) 
621 | 	@rm -f test_ucs_dlopen$(EXEEXT)
622 | 	$(AM_V_CCLD)$(test_ucs_dlopen_LINK) $(test_ucs_dlopen_OBJECTS) $(test_ucs_dlopen_LDADD) $(LIBS)
630 | @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/test_dlopen_cfg_print-test_dlopen_cfg_print.Po@am__quote@
633 | @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/test_ucp_dlopen-test_ucp_dlopen.Po@am__quote@
634 | @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/test_ucs_dlopen-test_ucs_dlopen.Po@am__quote@
660 | test_dlopen_cfg_print-test_dlopen_cfg_print.o: test_dlopen_cfg_print.c
661 | @am__fastdepCC_TRUE@	$(AM_V_CC)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(test_dlopen_cfg_print_CPPFLAGS) $(CPPFLAGS) $(test_dlopen_cfg_print_CFLAGS) $(CFLAGS) -MT test_dlopen_cfg_print-test_dlopen_cfg_print.o -MD -MP -MF $(DEPDIR)/test_dlopen_cfg_print-test_dlopen_cfg_print.Tpo -c -o test_dlopen_cfg_print-test_dlopen_cfg_print.o `test -f 'test_dlopen_cfg_print.c' || echo '$(srcdir)/'`test_dlopen_cfg_print.c
662 | @am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/test_dlopen_cfg_print-test_dlopen_cfg_print.Tpo $(DEPDIR)/test_dlopen_cfg_print-test_dlopen_cfg_print.Po
663 | @AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='test_dlopen_cfg_print.c' object='test_dlopen_cfg_print-test_dlopen_cfg_print.o' libtool=no @AMDEPBACKSLASH@
665 | @am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(test_dlopen_cfg_print_CPPFLAGS) $(CPPFLAGS) $(test_dlopen_cfg_print_CFLAGS) $(CFLAGS) -c -o test_dlopen_cfg_print-test_dlopen_cfg_print.o `test -f 'test_dlopen_cfg_print.c' || echo '$(srcdir)/'`test_dlopen_cfg_print.c
667 | test_dlopen_cfg_print-test_dlopen_cfg_print.obj: test_dlopen_cfg_print.c
668 | @am__fastdepCC_TRUE@	$(AM_V_CC)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(test_dlopen_cfg_print_CPPFLAGS) $(CPPFLAGS) $(test_dlopen_cfg_print_CFLAGS) $(CFLAGS) -MT test_dlopen_cfg_print-test_dlopen_cfg_print.obj -MD -MP -MF $(DEPDIR)/test_dlopen_cfg_print-test_dlopen_cfg_print.Tpo -c -o test_dlopen_cfg_print-test_dlopen_cfg_print.obj `if test -f 'test_dlopen_cfg_print.c'; then $(CYGPATH_W) 'test_dlopen_cfg_print.c'; else $(CYGPATH_W) '$(srcdir)/test_dlopen_cfg_print.c'; fi`
669 | @am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/test_dlopen_cfg_print-test_dlopen_cfg_print.Tpo $(DEPDIR)/test_dlopen_cfg_print-test_dlopen_cfg_print.Po
670 | @AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='test_dlopen_cfg_print.c' object='test_dlopen_cfg_print-test_dlopen_cfg_print.obj' libtool=no @AMDEPBACKSLASH@
672 | @am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(test_dlopen_cfg_print_CPPFLAGS) $(CPPFLAGS) $(test_dlopen_cfg_print_CFLAGS) $(CFLAGS) -c -o test_dlopen_cfg_print-test_dlopen_cfg_print.obj `if test -f 'test_dlopen_cfg_print.c'; then $(CYGPATH_W) 'test_dlopen_cfg_print.c'; else $(CYGPATH_W) '$(srcdir)/test_dlopen_cfg_print.c'; fi`
702 | test_ucp_dlopen-test_ucp_dlopen.o: test_ucp_dlopen.c
703 | @am__fastdepCC_TRUE@	$(AM_V_CC)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(test_ucp_dlopen_CPPFLAGS) $(CPPFLAGS) $(test_ucp_dlopen_CFLAGS) $(CFLAGS) -MT test_ucp_dlopen-test_ucp_dlopen.o -MD -MP -MF $(DEPDIR)/test_ucp_dlopen-test_ucp_dlopen.Tpo -c -o test_ucp_dlopen-test_ucp_dlopen.o `test -f 'test_ucp_dlopen.c' || echo '$(srcdir)/'`test_ucp_dlopen.c
704 | @am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/test_ucp_dlopen-test_ucp_dlopen.Tpo $(DEPDIR)/test_ucp_dlopen-test_ucp_dlopen.Po
705 | @AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='test_ucp_dlopen.c' object='test_ucp_dlopen-test_ucp_dlopen.o' libtool=no @AMDEPBACKSLASH@
707 | @am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(test_ucp_dlopen_CPPFLAGS) $(CPPFLAGS) $(test_ucp_dlopen_CFLAGS) $(CFLAGS) -c -o test_ucp_dlopen-test_ucp_dlopen.o `test -f 'test_ucp_dlopen.c' || echo '$(srcdir)/'`test_ucp_dlopen.c
709 | test_ucp_dlopen-test_ucp_dlopen.obj: test_ucp_dlopen.c
710 | @am__fastdepCC_TRUE@	$(AM_V_CC)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(test_ucp_dlopen_CPPFLAGS) $(CPPFLAGS) $(test_ucp_dlopen_CFLAGS) $(CFLAGS) -MT test_ucp_dlopen-test_ucp_dlopen.obj -MD -MP -MF $(DEPDIR)/test_ucp_dlopen-test_ucp_dlopen.Tpo -c -o test_ucp_dlopen-test_ucp_dlopen.obj `if test -f 'test_ucp_dlopen.c'; then $(CYGPATH_W) 'test_ucp_dlopen.c'; else $(CYGPATH_W) '$(srcdir)/test_ucp_dlopen.c'; fi`
711 | @am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/test_ucp_dlopen-test_ucp_dlopen.Tpo $(DEPDIR)/test_ucp_dlopen-test_ucp_dlopen.Po
712 | @AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='test_ucp_dlopen.c' object='test_ucp_dlopen-test_ucp_dlopen.obj' libtool=no @AMDEPBACKSLASH@
714 | @am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(test_ucp_dlopen_CPPFLAGS) $(CPPFLAGS) $(test_ucp_dlopen_CFLAGS) $(CFLAGS) -c -o test_ucp_dlopen-test_ucp_dlopen.obj `if test -f 'test_ucp_dlopen.c'; then $(CYGPATH_W) 'test_ucp_dlopen.c'; else $(CYGPATH_W) '$(srcdir)/test_ucp_dlopen.c'; fi`
716 | test_ucs_dlopen-test_ucs_dlopen.o: test_ucs_dlopen.c
717 | @am__fastdepCC_TRUE@	$(AM_V_CC)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(test_ucs_dlopen_CPPFLAGS) $(CPPFLAGS) $(test_ucs_dlopen_CFLAGS) $(CFLAGS) -MT test_ucs_dlopen-test_ucs_dlopen.o -MD -MP -MF $(DEPDIR)/test_ucs_dlopen-test_ucs_dlopen.Tpo -c -o test_ucs_dlopen-test_ucs_dlopen.o `test -f 'test_ucs_dlopen.c' || echo '$(srcdir)/'`test_ucs_dlopen.c
718 | @am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/test_ucs_dlopen-test_ucs_dlopen.Tpo $(DEPDIR)/test_ucs_dlopen-test_ucs_dlopen.Po
719 | @AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='test_ucs_dlopen.c' object='test_ucs_dlopen-test_ucs_dlopen.o' libtool=no @AMDEPBACKSLASH@
721 | @am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(test_ucs_dlopen_CPPFLAGS) $(CPPFLAGS) $(test_ucs_dlopen_CFLAGS) $(CFLAGS) -c -o test_ucs_dlopen-test_ucs_dlopen.o `test -f 'test_ucs_dlopen.c' || echo '$(srcdir)/'`test_ucs_dlopen.c
723 | test_ucs_dlopen-test_ucs_dlopen.obj: test_ucs_dlopen.c
724 | @am__fastdepCC_TRUE@	$(AM_V_CC)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(test_ucs_dlopen_CPPFLAGS) $(CPPFLAGS) $(test_ucs_dlopen_CFLAGS) $(CFLAGS) -MT test_ucs_dlopen-test_ucs_dlopen.obj -MD -MP -MF $(DEPDIR)/test_ucs_dlopen-test_ucs_dlopen.Tpo -c -o test_ucs_dlopen-test_ucs_dlopen.obj `if test -f 'test_ucs_dlopen.c'; then $(CYGPATH_W) 'test_ucs_dlopen.c'; else $(CYGPATH_W) '$(srcdir)/test_ucs_dlopen.c'; fi`
725 | @am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/test_ucs_dlopen-test_ucs_dlopen.Tpo $(DEPDIR)/test_ucs_dlopen-test_ucs_dlopen.Po
726 | @AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='test_ucs_dlopen.c' object='test_ucs_dlopen-test_ucs_dlopen.obj' libtool=no @AMDEPBACKSLASH@
728 | @am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(test_ucs_dlopen_CPPFLAGS) $(CPPFLAGS) $(test_ucs_dlopen_CFLAGS) $(CFLAGS) -c -o test_ucs_dlopen-test_ucs_dlopen.obj `if test -f 'test_ucs_dlopen.c'; then $(CYGPATH_W) 'test_ucs_dlopen.c'; else $(CYGPATH_W) '$(srcdir)/test_ucs_dlopen.c'; fi`
{% endraw %}

```
### modules/ucx/test/apps/profiling/Makefile.in

```

{% raw %}
140 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/configure.m4 \
141 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/rpath-subdir/configure.m4 \
{% endraw %}

```
### modules/ucx/test/apps/sockaddr/Makefile.in

```

{% raw %}
143 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/configure.m4 \
144 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/rpath-subdir/configure.m4 \
{% endraw %}

```
### modules/ucx/test/apps/iodemo/Makefile.in

```

{% raw %}
143 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/configure.m4 \
144 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/rpath-subdir/configure.m4 \
{% endraw %}

```
### modules/ucx/examples/Makefile.in

```

{% raw %}
146 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/configure.m4 \
147 | 	$(top_srcdir)/test/gtest/ucm/test_dlopen/rpath-subdir/configure.m4 \
{% endraw %}

```
### modules/ucx/contrib/test_jenkins.sh

```bash

{% raw %}
1225 | test_ucs_dlopen() {
1229 | 	echo "==== Running UCS dlopen test with memhooks ===="
1230 | 	./test/apps/test_ucs_dlopen
1233 | 	echo "==== Running test_dlopen_cfg_print ===="
1234 | 	./test/apps/test_dlopen_cfg_print
1237 | test_ucp_dlopen() {
1243 | 	# Make sure UCP library, when opened with dlopen(), loads CMA module
1248 | 		./test/apps/test_ucp_dlopen # just to save output to log
1249 | 		./test/apps/test_ucp_dlopen | grep 'cma/memory'
1672 | 	do_distributed_task 1 4 test_ucs_dlopen
1678 | 	do_distributed_task 0 4 test_ucp_dlopen
{% endraw %}

```
### modules/yaksa/m4/libtool.m4

```

{% raw %}
1821 | # _LT_TRY_DLOPEN_SELF (ACTION-IF-TRUE, ACTION-IF-TRUE-W-USCORE,
1824 | m4_defun([_LT_TRY_DLOPEN_SELF],
1882 |   void *self = dlopen (0, LT_DLGLOBAL|LT_DLLAZY_OR_NOW);
1915 | ])# _LT_TRY_DLOPEN_SELF
1918 | # LT_SYS_DLOPEN_SELF
1920 | AC_DEFUN([LT_SYS_DLOPEN_SELF],
1922 | if test yes != "$enable_dlopen"; then
1923 |   enable_dlopen=unknown
1924 |   enable_dlopen_self=unknown
1925 |   enable_dlopen_self_static=unknown
1927 |   lt_cv_dlopen=no
1928 |   lt_cv_dlopen_libs=
1932 |     lt_cv_dlopen=load_add_on
1933 |     lt_cv_dlopen_libs=
1934 |     lt_cv_dlopen_self=yes
1938 |     lt_cv_dlopen=LoadLibrary
1939 |     lt_cv_dlopen_libs=
1943 |     lt_cv_dlopen=dlopen
1944 |     lt_cv_dlopen_libs=
1949 |     AC_CHECK_LIB([dl], [dlopen],
1950 | 		[lt_cv_dlopen=dlopen lt_cv_dlopen_libs=-ldl],[
1951 |     lt_cv_dlopen=dyld
1952 |     lt_cv_dlopen_libs=
1953 |     lt_cv_dlopen_self=yes
1960 |     lt_cv_dlopen=dlopen
1961 |     lt_cv_dlopen_libs=
1962 |     lt_cv_dlopen_self=no
1967 | 	  [lt_cv_dlopen=shl_load],
1969 | 	    [lt_cv_dlopen=shl_load lt_cv_dlopen_libs=-ldld],
1970 | 	[AC_CHECK_FUNC([dlopen],
1971 | 	      [lt_cv_dlopen=dlopen],
1972 | 	  [AC_CHECK_LIB([dl], [dlopen],
1973 | 		[lt_cv_dlopen=dlopen lt_cv_dlopen_libs=-ldl],
1974 | 	    [AC_CHECK_LIB([svld], [dlopen],
1975 | 		  [lt_cv_dlopen=dlopen lt_cv_dlopen_libs=-lsvld],
1977 | 		    [lt_cv_dlopen=dld_link lt_cv_dlopen_libs=-ldld])
1986 |   if test no = "$lt_cv_dlopen"; then
1987 |     enable_dlopen=no
1989 |     enable_dlopen=yes
1992 |   case $lt_cv_dlopen in
1993 |   dlopen)
2001 |     LIBS="$lt_cv_dlopen_libs $LIBS"
2003 |     AC_CACHE_CHECK([whether a program can dlopen itself],
2004 | 	  lt_cv_dlopen_self, [dnl
2005 | 	  _LT_TRY_DLOPEN_SELF(
2006 | 	    lt_cv_dlopen_self=yes, lt_cv_dlopen_self=yes,
2007 | 	    lt_cv_dlopen_self=no, lt_cv_dlopen_self=cross)
2010 |     if test yes = "$lt_cv_dlopen_self"; then
2012 |       AC_CACHE_CHECK([whether a statically linked program can dlopen itself],
2013 | 	  lt_cv_dlopen_self_static, [dnl
2014 | 	  _LT_TRY_DLOPEN_SELF(
2015 | 	    lt_cv_dlopen_self_static=yes, lt_cv_dlopen_self_static=yes,
2016 | 	    lt_cv_dlopen_self_static=no,  lt_cv_dlopen_self_static=cross)
2026 |   case $lt_cv_dlopen_self in
2027 |   yes|no) enable_dlopen_self=$lt_cv_dlopen_self ;;
2028 |   *) enable_dlopen_self=unknown ;;
2031 |   case $lt_cv_dlopen_self_static in
2032 |   yes|no) enable_dlopen_self_static=$lt_cv_dlopen_self_static ;;
2033 |   *) enable_dlopen_self_static=unknown ;;
2036 | _LT_DECL([dlopen_support], [enable_dlopen], [0],
2037 | 	 [Whether dlopen is supported])
2038 | _LT_DECL([dlopen_self], [enable_dlopen_self], [0],
2039 | 	 [Whether dlopen of programs is supported])
2040 | _LT_DECL([dlopen_self_static], [enable_dlopen_self_static], [0],
2041 | 	 [Whether dlopen of statically linked programs is supported])
2042 | ])# LT_SYS_DLOPEN_SELF
2045 | AU_ALIAS([AC_LIBTOOL_DLOPEN_SELF], [LT_SYS_DLOPEN_SELF])
2047 | dnl AC_DEFUN([AC_LIBTOOL_DLOPEN_SELF], [])
6122 |     [Compiler flag to allow reflexive dlopens])
6235 |   LT_SYS_DLOPEN_SELF
{% endraw %}

```
### modules/yaksa/m4/ltoptions.m4

```

{% raw %}
70 |   _LT_UNLESS_OPTIONS([LT_INIT], [dlopen], [enable_dlopen=no
107 | # dlopen
109 | LT_OPTION_DEFINE([LT_INIT], [dlopen], [enable_dlopen=yes
112 | AU_DEFUN([AC_LIBTOOL_DLOPEN],
113 | [_LT_SET_OPTION([LT_INIT], [dlopen])
116 | put the 'dlopen' option into LT_INIT's first parameter.])
120 | dnl AC_DEFUN([AC_LIBTOOL_DLOPEN], [])
{% endraw %}

```
### modules/yaksa/m4/ltmain.sh

```bash

{% raw %}
2262 |     opt_dlopen=
2323 |         --dlopen|-dlopen)
2324 |                         opt_dlopen="${opt_dlopen+$opt_dlopen
2440 |       # Only execute mode is allowed to have -dlopen flags.
2441 |       if test -n "$opt_dlopen" && test execute != "$opt_mode"; then
2442 |         func_error "unrecognized option '-dlopen'"
3668 |   -dlopen FILE      add the directory containing FILE to the library path
3670 | This mode sets the library path environment variable according to '-dlopen'
3725 |   -dlopen FILE      '-dlpreopen' FILE if it cannot be dlopened at runtime
3734 |   -module           build a library that can dlopened
3842 |     # Handle -dlopen flags immediately.
3843 |     for file in $opt_dlopen; do
3862 | 	# Skip this library if it cannot be dlopened.
3889 | 	func_warning "'-dlopen' is ignored for non-libtool libraries and objects"
6582 | 	    dlopen_self=$dlopen_self_static
6588 | 	    dlopen_self=$dlopen_self_static
6594 | 	    dlopen_self=$dlopen_self_static
6652 | 	    elif test dlfiles = "$prev" && test yes != "$dlopen_self"; then
6742 | 		    if test yes = "$build_libtool_libs" && test yes = "$dlopen_support"; then
6909 |       -dlopen)
7343 | 	      if test yes = "$build_libtool_libs" && test yes = "$dlopen_support"; then
7411 | 	  # This library was specified with -dlopen.
7531 | 	    func_fatal_help "libraries can '-dlopen' only libtool libraries: $file"
7542 | 	passes="conv scan dlopen dlpreopen link"
7568 | 	dlopen) libs=$dlfiles ;;
7596 |       if test dlopen = "$pass"; then
7816 | 	    if test dlpreopen = "$pass" || test yes != "$dlopen_support" || test no = "$build_libtool_libs"; then
7817 | 	      # If there is no dlopen support or we're linking statically,
7845 | 	dlopen=
7875 | 	  test -n "$dlopen" && func_append dlfiles " $dlopen"
7921 | 	# This library was specified with -dlopen.
7922 | 	if test dlopen = "$pass"; then
7924 | 	    && func_fatal_error "cannot -dlopen a convenience library: '$lib'"
7926 | 	     test yes != "$dlopen_support" ||
7929 | 	    # If there is no dlname, no dlopen support or we're linking
7938 | 	fi # $pass = dlopen
7994 | 	      # (otherwise, the dlopen module name will be incorrect).  We do
7996 | 	      # We recover the dlopen module name by 'saving' the la file
8020 | 	      # Otherwise, use the dlname, so that lt_dlopen finds it.
8149 | 	  # systems (darwin).  Don't bleat about dlopened modules though!
8150 | 	  dlopenmodule=
8153 | 	      dlopenmodule=$dlpremoduletest
8157 | 	  if test -z "$dlopenmodule" && test yes = "$shouldnotlink" && test link = "$pass"; then
8254 | 		    # if the lib is a (non-dlopened) module then we cannot
8258 | 		      if test "X$dlopenmodule" != "X$lib"; then
8410 | 	      echo "*** a static module, that should work as long as the dlopening application"
8411 | 	      echo "*** is linked with the -dlopen flag to resolve symbols at runtime."
8555 |       if test dlopen != "$pass"; then
8685 | 	func_warning "'-dlopen' is ignored for archives"
8752 | 	|| func_warning "'-dlopen self' is ignored for libtool libraries"
9446 | 	    echo "*** a static module, that should work as long as the dlopening"
9447 | 	    echo "*** application is linked with the -dlopen flag."
9465 | 	    echo "*** or is declared to -dlopen it."
10077 | 	func_warning "'-dlopen' is ignored for objects"
10197 | 	&& test unknown,unknown,unknown = "$dlopen_support,$dlopen_self,$dlopen_self_static" \
10198 | 	&& func_warning "'LT_INIT([dlopen])' not used. Assuming no dlopen support."
10879 | # The name that we can dlopen(3).
10908 | # Files to dlopen/dlpreopen
10909 | dlopen='$dlfiles'
{% endraw %}

```